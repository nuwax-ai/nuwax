"use strict";(()=>{(self.webpackChunknuwax_frontend=self.webpackChunknuwax_frontend||[]).push([[9911],{75509:function(X,S,e){var x=e(66283),n=e(28037),y=e(781),u=e(79843),s=e(75271),f=e(82187),v=e.n(f),h=e(42684),E=e(53552),I=e(73050),r=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],_=s.forwardRef(function(l,T){var m=l.className,p=l.component,d=l.viewBox,C=l.spin,c=l.rotate,O=l.tabIndex,j=l.onClick,F=l.children,w=(0,u.Z)(l,r),Z=s.useRef(),N=(0,h.x1)(Z,T);(0,I.Kp)(!!(p||F),"Should have `component` prop or `children`."),(0,I.C3)(Z);var H=s.useContext(E.Z),D=H.prefixCls,k=D===void 0?"anticon":D,K=H.rootClassName,ne=v()(K,k,(0,y.Z)({},"".concat(k,"-spin"),!!C&&!!p),m),G=v()((0,y.Z)({},"".concat(k,"-spin"),!!C)),ae=c?{msTransform:"rotate(".concat(c,"deg)"),transform:"rotate(".concat(c,"deg)")}:void 0,J=(0,n.Z)((0,n.Z)({},I.vD),{},{className:G,style:ae,viewBox:d});d||delete J.viewBox;var $=function(){return p?s.createElement(p,J,F):F?((0,I.Kp)(!!d||s.Children.count(F)===1&&s.isValidElement(F)&&s.Children.only(F).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),s.createElement("svg",(0,x.Z)({},J,{viewBox:d}),F)):null},Y=O;return Y===void 0&&j&&(Y=-1),s.createElement("span",(0,x.Z)({role:"img"},w,{ref:N,tabIndex:Y,onClick:j,className:ne}),$())});_.displayName="AntdIcon",S.Z=_},64771:function(X,S,e){e.d(S,{Z:function(){return h}});var x=e(66283),n=e(75271),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},u=y,s=e(47221),f=function(I,r){return n.createElement(s.Z,(0,x.Z)({},I,{ref:r,icon:u}))},v=n.forwardRef(f),h=v},30426:function(X,S,e){e.d(S,{Z:function(){return h}});var x=e(66283),n=e(75271),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},u=y,s=e(47221),f=function(I,r){return n.createElement(s.Z,(0,x.Z)({},I,{ref:r,icon:u}))},v=n.forwardRef(f),h=v},23299:function(X,S,e){e.d(S,{Z:function(){return h}});var x=e(66283),n=e(75271),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},u=y,s=e(47221),f=function(I,r){return n.createElement(s.Z,(0,x.Z)({},I,{ref:r,icon:u}))},v=n.forwardRef(f),h=v},44689:function(X,S,e){e.d(S,{Z:function(){return h}});var x=e(66283),n=e(75271),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},u=y,s=e(47221),f=function(I,r){return n.createElement(s.Z,(0,x.Z)({},I,{ref:r,icon:u}))},v=n.forwardRef(f),h=v},65773:function(X,S,e){var x=e(75271),n=e(52676),y=function(s){var f=s.children,v=s.condition;return v?(0,n.jsx)(n.Fragment,{children:f}):null};S.Z=y},80723:function(X,S,e){e.d(S,{Z:function(){return d}});var x=e(48305),n=e.n(x),y=e(28190),u=e(9504),s=e(94581),f=e.n(s),v=e(75271),h={btn:"btn___T9zvq","confirm-btn":"confirm-btn___kcWcm"},E=e(52676),I=f().bind(h),r=function(c){var O=c.form,j=c.loading,F=c.okPrefixIcon,w=c.okText,Z=c.onConfirm,N=(0,v.useState)(!1),H=n()(N,2),D=H[0],k=H[1],K=y.Z.useWatch([],{form:O,preserve:!0});return(0,v.useEffect)(function(){O.validateFields({validateOnly:!0}).then(function(){return k(!0)}).catch(function(){return k(!1)})},[O,K]),(0,E.jsx)(u.ZP,{type:"primary",icon:F,loading:j,onClick:Z,className:I(!D&&h["confirm-btn"],h.btn),disabled:!D,children:w||"\u786E\u5B9A"})},_=r,l=e(14719),T={btn:"btn___T2mwV"},m=f().bind(T),p=function(c){var O=c.form,j=c.classNames,F=c.title,w=c.open,Z=c.loading,N=c.okPrefixIcon,H=c.okText,D=c.centered,k=D===void 0?!1:D,K=c.onCancel,ne=c.onConfirm,G=c.children;return(0,E.jsx)(l.Z,{title:F,open:w,centered:k,classNames:j,destroyOnHidden:!0,footer:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.ZP,{className:m(T.btn),type:"default",onClick:K,children:"\u53D6\u6D88"}),(0,E.jsx)(_,{okPrefixIcon:N,loading:Z,onConfirm:ne,form:O,okText:H})]}),onCancel:K,children:G})},d=p},89082:function(X,S,e){e.d(S,{Z:function(){return m}});var x=e(82092),n=e.n(x),y=e(48305),u=e.n(y),s=e(44689),f=e(63876),v=e(68108),h=e(94581),E=e.n(h),I=e(75271),r={"popover-box":"popover-box___mgBRK","popover-list":"popover-list___pwk3J","p-box":"p-box___g7R0Z",del:"del___cyCsK"},_=e(52676),l=E().bind(r),T=function(d){var C=d.children,c=d.list,O=d.onClick,j=(0,I.useState)(!1),F=u()(j,2),w=F[0],Z=F[1],N=function(k){Z(k)},H=function(k,K){k.stopPropagation(),O(K),Z(!1)};return(0,_.jsx)(f.Z,{classNames:{root:r["popover-box"]},content:(0,_.jsx)("ul",{className:l(r["popover-list"]),children:c.map(function(D,k){return(0,_.jsxs)("li",{className:l(r["p-box"],"hover-box","cursor-pointer","flex","items-center",n()({},r.del,D.isDel)),onClick:function(ne){return H(ne,D)},children:[D.icon,D.label,D.tooltip&&(0,_.jsx)(v.Z,{title:D.tooltip,children:(0,_.jsx)(s.Z,{})})]},k)})}),trigger:"hover",open:w,onOpenChange:N,placement:"bottomRight",arrow:!1,children:(0,_.jsx)("div",{onClick:function(k){return k.stopPropagation()},className:"flex",children:C})})},m=T},13017:function(X,S,e){e.d(S,{Z:function(){return l}});var x=e(48305),n=e.n(x),y=e(63619),u=e(28190),s=e(94581),f=e.n(s),v=e(75271),h={"text-area":"text-area___UOMCQ",input:"input___XXN9U",text:"text___m7VFK"},E=e(52676),I=f().bind(h),r=y.Z.TextArea,_=function(m){var p,d=m.placeholder,C=d===void 0?"\u8BF7\u8F93\u5165":d,c=m.name,O=m.label,j=m.initialValue,F=m.maxLength,w=F===void 0?200:F,Z=m.minRows,N=Z===void 0?3:Z,H=m.maxRows,D=H===void 0?6:H,k=m.rules,K=(0,v.useState)(""),ne=n()(K,2),G=ne[0],ae=ne[1];return(0,v.useEffect)(function(){j&&ae(j)},[j]),(0,E.jsxs)(u.Z.Item,{className:I("relative"),children:[(0,E.jsx)(u.Z.Item,{className:I(h["text-area"]),name:c,label:O,rules:k,children:(0,E.jsx)(r,{rootClassName:h.input,placeholder:C,value:G,onChange:function($){return ae($.target.value)},maxLength:w,autoSize:{minRows:N,maxRows:D}})}),(0,E.jsxs)("span",{className:I("absolute",h.text),children:[(p=G?.length)!==null&&p!==void 0?p:0,"/",w]})]})},l=_},95495:function(X,S,e){e.d(S,{Z:function(){return m}});var x=e(90228),n=e.n(x),y=e(87999),u=e.n(y),s=e(99330),f=e(41249),v=e(94581),h=e.n(v),E=e(75271),I=e(68279),r={"xagi-nav-style2":"xagi-nav-style2___AEqbT",text:"text___wIGUC","page-container":"page-container___g236H","copy-btn":"copy-btn___b5ReO",disabled:"disabled___Z1j2i","copy-image":"copy-image___mePrY"},_=e(52676),l=h().bind(r),T=function(d){var C=d.text,c=d.data,O=d.onCopy,j=d.className,F=d.style,w=d.disabled,Z=w===void 0?!1:w,N=d.icon,H=d.children,D=H===void 0?"\u590D\u5236":H,k=d.tooltipText,K=d.showSuccessMsg,ne=K===void 0?!0:K,G=d.jsonSpace,ae=G===void 0?2:G,J=d.successMessage,$=d.errorMessage,Y=function(){var R=u()(n()().mark(function z(){var t;return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t="",!c){a.next=6;break}t=JSON.stringify(c,null,ae),a.next=12;break;case 6:if(!C){a.next=10;break}t=C,a.next=12;break;case 10:return O&&O("",!1),a.abrupt("return");case 12:return a.next=14,(0,s.TE)(t,function(b,i){O&&O(b,i||!1),i&&ne&&J?f.ZP.success(J):!i&&$&&f.ZP.error($)},!1);case 14:a.next=20;break;case 16:a.prev=16,a.t0=a.catch(0),console.error("\u590D\u5236\u5931\u8D25:",a.t0),O&&O("",!1);case 20:case"end":return a.stop()}},z,null,[[0,16]])}));return function(){return R.apply(this,arguments)}}(),g=(0,_.jsx)(I.Z,{name:"icons-chat-copy",className:l(r["copy-image"]),style:{fontSize:12}});return Z?(0,_.jsxs)("span",{className:l(r["copy-btn"],r.disabled,"flex","items-center","cursor-not-allowed",j),style:F,title:k,children:[N||g,(0,_.jsx)("span",{children:D})]}):(0,_.jsxs)("span",{className:l(r["copy-btn"],"flex","items-center","cursor-pointer",j),style:F,title:k,onClick:Y,children:[N||g,(0,_.jsx)("span",{children:D})]})},m=T},83677:function(X,S,e){var x=e(90228),n=e.n(x),y=e(87999),u=e.n(y),s=e(99330),f=e(64771),v=e(68108),h=e(9504),E=e(75271),I=e(52676),r=function(l){var T=l.text,m=l.data,p=l.onCopy,d=l.buttonType,C=d===void 0?"text":d,c=l.buttonSize,O=c===void 0?"small":c,j=l.showMessage,F=j===void 0?!0:j,w=l.jsonSpace,Z=w===void 0?2:w,N=l.tooltipTitle,H=N===void 0?"\u590D\u5236":N,D=l.style,k=l.className,K=function(){var ne=u()(n()().mark(function G(){var ae;return n()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if($.prev=0,ae="",!m){$.next=6;break}ae=JSON.stringify(m,null,Z),$.next=12;break;case 6:if(!T){$.next=10;break}ae=T,$.next=12;break;case 10:return p&&p("",!1),$.abrupt("return");case 12:return $.next=14,(0,s.TE)(ae,function(Y,g){p&&p(Y,g||!1)},F);case 14:$.next=20;break;case 16:$.prev=16,$.t0=$.catch(0),console.error("\u590D\u5236\u5931\u8D25:",$.t0),p&&p("",!1);case 20:case"end":return $.stop()}},G,null,[[0,16]])}));return function(){return ne.apply(this,arguments)}}();return(0,I.jsx)(v.Z,{title:H,children:(0,I.jsx)(h.ZP,{type:C,size:O,icon:(0,I.jsx)(f.Z,{}),onClick:K,style:D,className:k})})};S.Z=r},59602:function(X,S,e){e.d(S,{Z:function(){return E}});var x=e(24573),n=e(94581),y=e.n(n),u=e(75271),s={"xagi-nav-style2":"xagi-nav-style2___xuAte",text:"text___sfO7S","page-container":"page-container___rvj3b",container:"container___MWZZN"},f=e(52676),v=y().bind(s),h=function(r){var _=r.className;return(0,f.jsxs)("div",{className:v("flex","flex-1","items-center","content-center",s.container,_),children:[(0,f.jsx)(x.Z,{}),(0,f.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]})},E=h},33356:function(X,S,e){e.d(S,{Z:function(){return r}});var x=e(3642),n=e(17701),y=e(88958),u=e(94581),s=e.n(u),f=e(75271),v={container:"container___zAmsL","option-icon-box":"option-icon-box___Xu928",icon:"icon___k7L6U",image:"image___gVYjP"},h=e(52676),E=s().bind(v),I=function(l){var T=l.className,m=l.value,p=l.prefix,d=l.dropdownRenderComponent,C=l.placeholder,c=l.disabled,O=l.allowClear,j=O===void 0?!1:O,F=l.options,w=l.onChange,Z=l.size,N=Z===void 0?"middle":Z;return(0,h.jsx)(n.default,{rootClassName:E(v.container,T),value:m,prefix:p,placeholder:C||"\u8BF7\u9009\u62E9",disabled:c,onChange:w,allowClear:j,onClick:function(D){D.stopPropagation()},options:F,size:N,popupRender:function(D){return(0,h.jsxs)(h.Fragment,{children:[D,d]})},optionRender:function(D){var k;return(0,h.jsxs)(y.Z,{gap:8,align:"center",children:[(0,h.jsx)("div",{className:E(v["option-icon-box"]),children:m===D.data.value&&(0,h.jsx)(x.Z,{className:E(v.icon)})}),!!(D!=null&&(k=D.data)!==null&&k!==void 0&&k.img)&&(0,h.jsx)("img",{className:E(v.image,"radius-6"),src:String(D.data.img),alt:""}),(0,h.jsx)("span",{className:E("flex-1","text-ellipsis"),children:D.data.label})]})}})},r=I},32139:function(X,S,e){e.d(S,{Z:function(){return _}});var x=e(68279),n=e(30799),y=e(38683),u=e(68108),s=e(94581),f=e.n(s),v=e(75271),h={box:"box___qPDL3"},E=e(52676),I=f().bind(h),r=function(T){var m=T.className,p=T.type,d=p===void 0?n.Ai.Blank:p,C=T.icon,c=T.title,O=T.onClick,j=d===n.Ai.Blank?"tooltip-blank":"tooltip-white",F=y.Z.useToken(),w=F.token;return(0,E.jsx)(u.Z,{title:c,classNames:{root:j},children:(0,E.jsx)("span",{className:I("hover-box","flex","content-center","items-center","cursor-pointer",h.box,m),onClick:O,children:C||(0,E.jsx)(x.Z,{name:"icons-common-plus",style:{color:w.colorTextTertiary,fontSize:"15px"}})})})},_=r},57255:function(X,S,e){e.r(S),e.d(S,{default:function(){return we}});var x=e(90228),n=e.n(x),y=e(26068),u=e.n(y),s=e(87999),f=e.n(s),v=e(48305),h=e.n(v),E=e(99870),I=e(18765),r=e(46448),_=e(40462),l=e(61993),T=e(28327),m=e(30799),p=e(22824),d=e(44381),C=e(36151),c=e(41249),O=e(94581),j=e.n(O),F=e(16483),w=e.n(F),Z=e(75271),N=e(53586),H=e(30215),D={"version-history-header":"version-history-header___dlxML"},k=e(22675),K=e(32139),ne=e(61606),G=e(89858),ae=e(4692),J=e(7036),$=e(9504),Y=e(12758),g={"xagi-nav-style2":"xagi-nav-style2___O0qz4",text:"text___IxKWH","page-container":"page-container____Cs0a",header:"header___DPmXX",avatar:"avatar___zHrPK",circle:"circle___u7gBd","header-info":"header-info___HXa_s","h-title":"h-title___cU5R4","edit-ico":"edit-ico___ASbaW","right-box":"right-box___CdsEf","publish-btn":"publish-btn___YWfL7"},R=e(68279),z=e(58176),t=e(52676),P=function(ie){var fe=ie.onImportProject,M=ie.onFullscreenPreview,ye=ie.onExportProject,he=ie.isChatLoading,U=(0,Z.useMemo)(function(){return[{key:"import",icon:(0,t.jsx)(R.Z,{name:"icons-common-import",style:{fontSize:16}}),label:"\u5BFC\u5165\u9879\u76EE",onClick:fe,disabled:he},{type:"divider"},{key:"fullscreen",icon:(0,t.jsx)(R.Z,{name:"icons-common-fullscreen",style:{fontSize:16}}),label:"\u5168\u5C4F\u9884\u89C8",onClick:M,disabled:he},{type:"divider"},{key:"export",icon:(0,t.jsx)(R.Z,{name:"icons-common-download",style:{fontSize:16}}),label:"\u5BFC\u51FA\u9879\u76EE",onClick:ye,disabled:he}]},[fe,M,ye,he]);return(0,t.jsx)(z.Z,{trigger:["click"],menu:{items:U},placement:"bottomRight",children:(0,t.jsx)($.ZP,{type:"text",icon:(0,t.jsx)(R.Z,{name:"icons-common-more",style:{fontSize:"16px"}})})})},a=P,b=j().bind(g),i=function(ie){var fe=ie.spaceId,M=ie.skillInfo,ye=ie.onEditAgent,he=ie.onPublish,U=ie.onToggleHistory,Pe=ie.onImportProject,ge=ie.onExportProject,oe=ie.onFullscreen;return(0,t.jsxs)("header",{className:b("flex","items-center","relative",g.header),children:[(0,t.jsx)($.ZP,{type:"text",icon:(0,t.jsx)(ne.Z,{}),onClick:function(){N.history.push("/space/".concat(fe,"/skill-manage"))}}),(0,t.jsx)("img",{className:b(g.avatar),src:M?.icon||k,alt:""}),(0,t.jsxs)("div",{className:b("flex","items-center",g["header-info"]),children:[(0,t.jsx)("h3",{className:b(g["h-title"],"text-ellipsis"),children:M?.name}),(0,t.jsx)($.ZP,{type:"text",icon:(0,t.jsx)(G.Z,{}),className:b(g["edit-ico"]),onClick:ye}),M?.publishStatus===m.xH.Published&&(0,t.jsx)(K.Z,{title:"\u5DF2\u53D1\u5E03",icon:(0,t.jsx)(ae.Z,{className:b(g.circle)})})]}),(0,t.jsxs)("div",{className:b(g["right-box"],"flex","items-center"),children:[M?.publishDate!==null&&w()(M?.publishDate).isBefore(M?.modified)&&(0,t.jsx)(Y.Z,{bordered:!1,color:"volcano",className:b(g.volcano),children:"\u6709\u66F4\u65B0\u672A\u53D1\u5E03"}),(0,t.jsx)(a,{onImportProject:Pe,onFullscreenPreview:oe,onExportProject:ge}),(0,t.jsx)($.ZP,{type:"text",icon:(0,t.jsx)(J.Z,{}),onClick:U}),(0,t.jsx)($.ZP,{type:"primary",className:b(g["publish-btn"]),onClick:he,children:"\u53D1\u5E03"})]})]})},o=i,ve=j().bind(D),Oe=function(){var ie=(0,N.useParams)(),fe=Number(ie.spaceId),M=Number(ie.skillId),ye=(0,Z.useState)(null),he=h()(ye,2),U=he[0],Pe=he[1],ge=(0,Z.useState)(!1),oe=h()(ge,2),se=oe[0],de=oe[1],Se=(0,Z.useState)(!1),te=h()(Se,2),Fe=te[0],De=te[1],Ze=(0,Z.useState)(!1),Ie=h()(Ze,2),$e=Ie[0],xe=Ie[1],Ne=(0,Z.useState)(!1),je=h()(Ne,2),Re=je[0],Me=je[1],Ae=(0,Z.useRef)(null),We=(0,Z.useState)(!1),Ue=h()(We,2),Ke=Ue[0],ke=Ue[1],Ge=(0,N.useRequest)(l.bG,{manual:!0,debounceInterval:300,onSuccess:function(){var Q=f()(n()().mark(function A(re){var L,ee;return n()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:de(!1),L=re||{},ee=L.files,Array.isArray(ee)&&ee.length>0?Pe(function(){return u()(u()({},re),{},{files:ee.map(function(q){return u()(u()({},q),{},{fileId:q.name})})})}):Pe(re);case 3:case"end":return le.stop()}},A)}));function V(A){return Q.apply(this,arguments)}return V}(),onError:function(){de(!1)}}),Ee=Ge.run;(0,Z.useEffect)(function(){M&&(de(!0),Ee(M))},[M]);var ze=function(){De(!1);var V=w()().toString(),A=u()(u()({},U),{},{publishDate:V,modified:V,publishStatus:m.xH.Published});Pe(A)},Le=function(){var Q=f()(n()().mark(function V(){var A;return n()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(M){L.next=3;break}return c.ZP.error("\u6280\u80FDID\u4E0D\u80FD\u4E3A\u7A7A"),L.abrupt("return");case 3:if(fe){L.next=6;break}return c.ZP.error("\u7A7A\u95F4ID\u4E0D\u80FD\u4E3A\u7A7A"),L.abrupt("return");case 6:A=document.createElement("input"),A.type="file",A.style.display="none",A.accept=".zip",document.body.appendChild(A),A.click(),A.onchange=function(){var ee=f()(n()().mark(function B(le){var q,ue,me,_e,be;return n()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(me=(q=le.target.files)===null||q===void 0?void 0:q[0],me){W.next=4;break}return document.body.removeChild(A),W.abrupt("return");case 4:if(_e=(ue=me.name)===null||ue===void 0?void 0:ue.toLowerCase().endsWith(".zip"),_e){W.next=9;break}return c.ZP.error("\u4EC5\u652F\u6301 .zip \u538B\u7F29\u6587\u4EF6\u683C\u5F0F"),document.body.removeChild(A),W.abrupt("return");case 9:return W.prev=9,W.next=12,(0,l.Rs)({file:me,targetSkillId:M,targetSpaceId:fe});case 12:be=W.sent,be.code===_.Gh&&(c.ZP.success("\u5BFC\u5165\u6210\u529F"),Ee(M)),W.next=19;break;case 16:W.prev=16,W.t0=W.catch(9),console.error("\u5BFC\u5165\u5931\u8D25",W.t0);case 19:return W.prev=19,document.body.removeChild(A),W.finish(19);case 22:case"end":return W.stop()}},B,null,[[9,16,19,22]])}));return function(B){return ee.apply(this,arguments)}}(),A.oncancel=function(){document.body.removeChild(A)};case 14:case"end":return L.stop()}},V)}));return function(){return Q.apply(this,arguments)}}(),He=function(){var Q=f()(n()().mark(function V(A){var re,L;return n()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(M){B.next=3;break}return c.ZP.error("\u6280\u80FDID\u4E0D\u80FD\u4E3A\u7A7A"),B.abrupt("return");case 3:re="",A&&(A.type==="file"?re=A.path.replace(new RegExp(A.name+"$"),""):A.type==="folder"&&(re=A.path+"/")),L=document.createElement("input"),L.type="file",L.style.display="none",L.multiple=!0,document.body.appendChild(L),L.click(),L.onchange=function(){var le=f()(n()().mark(function q(ue){var me,_e,be,ce,W,Te;return n()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(_e=(me=ue.target.files)===null||me===void 0?void 0:me[0],_e){pe.next=4;break}return document.body.removeChild(L),pe.abrupt("return");case 4:return pe.prev=4,be=Array.from(ue.target.files||[]),ce=be.map(function(en){return re+en.name}),pe.next=9,(0,l.wc)({files:be,skillId:M,filePaths:ce});case 9:W=pe.sent,Te=W.code,Te===_.Gh&&(c.ZP.success("\u4E0A\u4F20\u6210\u529F"),Ee(M)),pe.next=17;break;case 14:pe.prev=14,pe.t0=pe.catch(4),console.error("\u4E0A\u4F20\u5931\u8D25",pe.t0);case 17:return pe.prev=17,document.body.removeChild(L),pe.finish(17);case 20:case"end":return pe.stop()}},q,null,[[4,14,17,20]])}));return function(q){return le.apply(this,arguments)}}(),L.oncancel=function(){document.body.removeChild(L)};case 13:case"end":return B.stop()}},V)}));return function(A){return Q.apply(this,arguments)}}(),Be=function(){var Q=f()(n()().mark(function V(){var A,re,L;return n()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(M){B.next=3;break}return c.ZP.error("\u6280\u80FDID\u4E0D\u5B58\u5728\u6216\u65E0\u6548\uFF0C\u65E0\u6CD5\u5BFC\u51FA"),B.abrupt("return");case 3:return B.prev=3,B.next=6,(0,l.OS)(M);case 6:A=B.sent,re="skill-".concat(M,".zip"),(0,d.Zl)(A,re),c.ZP.success("\u5BFC\u51FA\u6210\u529F\uFF01"),B.next=16;break;case 12:B.prev=12,B.t0=B.catch(3),L=(B.t0===null||B.t0===void 0?void 0:B.t0.message)||(B.t0===null||B.t0===void 0?void 0:B.t0.toString())||"\u5BFC\u51FA\u8FC7\u7A0B\u4E2D\u53D1\u751F\u672A\u77E5\u9519\u8BEF",c.ZP.error("\u5BFC\u51FA\u5931\u8D25: ".concat(L));case 16:case"end":return B.stop()}},V,null,[[3,12]])}));return function(){return Q.apply(this,arguments)}}(),Ve=function(){var Q=f()(n()().mark(function V(A){return n()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",new Promise(function(ee){(0,p.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u6587\u4EF6\u5417?",A.name,f()(n()().mark(function B(){var le,q,ue,me,_e,be;return n()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(W.prev=0,q=U==null||(le=U.files)===null||le===void 0?void 0:le.find(function(Te){return Te.fileId===A.id}),q){W.next=6;break}return c.ZP.error("\u6587\u4EF6\u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u5220\u9664"),ee(!1),W.abrupt("return");case 6:return q.operation="delete",ue=[q],me={id:U?.id||0,files:ue},W.next=11,(0,l.v2)(me);case 11:_e=W.sent,be=_e.code,be===_.Gh?(Ee(M),c.ZP.success("\u5220\u9664\u6210\u529F"),ee(!0)):ee(!1),W.next=21;break;case 16:W.prev=16,W.t0=W.catch(0),console.error("\u5220\u9664\u6587\u4EF6\u5931\u8D25:",W.t0),c.ZP.error("\u5220\u9664\u6587\u4EF6\u65F6\u53D1\u751F\u9519\u8BEF"),ee(!1);case 21:case"end":return W.stop()}},B,null,[[0,16]])})),function(){ee(!1)})}));case 1:case"end":return L.stop()}},V)}));return function(A){return Q.apply(this,arguments)}}(),Ye=function(){var Q=f()(n()().mark(function V(A,re){var L,ee,B,le,q,ue,me,_e;return n()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(U){ce.next=3;break}return c.ZP.error("\u6280\u80FD\u4FE1\u606F\u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u65B0\u5EFA\u6587\u4EF6"),ce.abrupt("return",!1);case 3:if(L=re.trim(),L){ce.next=6;break}return ce.abrupt("return",!1);case 6:return ee=A.parentPath||"",B=ee?"".concat(ee,"/").concat(L):L,le={fileId:B,name:B,contents:"",operation:"create",isDir:A.type==="folder"},q=[le],ue={id:U.id,files:q},ce.next=13,(0,l.v2)(ue);case 13:if(me=ce.sent,_e=me.code,!(_e===_.Gh&&M)){ce.next=18;break}return Ee(M),ce.abrupt("return",!0);case 18:return ce.abrupt("return",!1);case 19:case"end":return ce.stop()}},V)}));return function(A,re){return Q.apply(this,arguments)}}(),Xe=function(){var Q=f()(n()().mark(function V(A,re){var L,ee,B,le;return n()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return L=(0,C.kS)(U?.files||[],A,re),ee={id:U?.id||0,files:L},ue.next=4,(0,l.v2)(ee);case 4:return B=ue.sent,le=B.code,le===_.Gh&&Ee(M),ue.abrupt("return",le===_.Gh);case 8:case"end":return ue.stop()}},V)}));return function(A,re){return Q.apply(this,arguments)}}(),Je=function(){var Q=f()(n()().mark(function V(A){var re,L,ee,B;return n()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return re=(0,C.Tn)(U?.files||[],A,"modify"),L={id:U?.id||0,files:re},q.next=4,(0,l.v2)(L);case 4:return ee=q.sent,B=ee.code,B===_.Gh&&M&&U&&U.publishStatus===m.xH.Published&&Pe(u()(u()({},U),{},{modified:w()().toString()})),q.abrupt("return",B===_.Gh);case 8:case"end":return q.stop()}},V)}));return function(A){return Q.apply(this,arguments)}}(),Qe=function(){xe(!1),Ee(M)},qe=function(){var V,A=(V=Ae.current)===null||V===void 0?void 0:V.changeFiles;if(A&&A.length>0){c.ZP.warning("\u8BF7\u5148\u4FDD\u5B58\u6587\u4EF6\u540E\u518D\u53D1\u5E03");return}De(!0)};return(0,t.jsxs)("div",{className:ve("flex","h-full","flex-col","overflow-hide"),children:[(0,t.jsx)(o,{spaceId:fe,skillInfo:U,onEditAgent:function(){return xe(!0)},onPublish:qe,onToggleHistory:function(){return Me(!Re)},onImportProject:Le,onExportProject:Be,onFullscreen:function(){ke(!0)}}),(0,t.jsxs)("div",{className:ve("flex","flex-1","overflow-y"),children:[(0,t.jsx)(E.Z,{ref:Ae,fileTreeDataLoading:se,originalFiles:U?.files||[],onUploadFiles:He,onExportProject:Be,onRenameFile:Xe,onCreateFileNode:Ye,onSaveFiles:Je,onDeleteFile:Ve,onImportProject:Le,showMoreActions:!1,isFullscreenPreview:Ke,onFullscreenPreview:ke}),(0,t.jsx)(r.Z,{headerClassName:ve(D["version-history-header"]),targetId:M,targetName:U?.name,targetType:T.qR.Skill,permissions:U?.permissions||[],visible:Re,onClose:function(){return Me(!1)}})]}),(0,t.jsx)(I.Z,{mode:T.qR.Skill,targetId:M,open:Fe,spaceId:fe,category:U?.category,onCancel:function(){return De(!1)},onConfirm:ze}),(0,t.jsx)(H.Z,{spaceId:fe,open:$e,type:m.jA.Update,skillInfo:U,onCancel:function(){return xe(!1)},onConfirm:Qe})]})},we=Oe},30215:function(X,S,e){e.d(S,{Z:function(){return H}});var x=e(26068),n=e.n(x),y=e(90228),u=e.n(y),s=e(87999),f=e.n(s),v=e(48305),h=e.n(v),E=e(80723),I=e(13017),r=e(40462),_=e(92629),l=e(30799),T=e(60393),m=e(28190),p=e(41249),d=e(63619),C=e(94581),c=e.n(C),O=e(75271),j=e(53586),F={container:"container___QzQHU",header:"header___NCv3j"},w=e(52676),Z=c().bind(F),N=function(k){var K=k.type,ne=K===void 0?l.jA.Create:K,G=k.spaceId,ae=k.skillInfo,J=k.open,$=k.onCancel,Y=k.onConfirm,g=ae||{},R=g.id,z=g.name,t=g.description,P=g.icon,a=m.Z.useForm(),b=h()(a,1),i=b[0],o=(0,O.useState)(""),ve=h()(o,2),Oe=ve[0],we=ve[1],Ce=(0,O.useState)(!1),ie=h()(Ce,2),fe=ie[0],M=ie[1],ye=function(){var ge=f()(u()().mark(function oe(se){var de;return u()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.prev=0,M(!0),te.next=4,(0,_.Ol)(se);case 4:de=te.sent,de?.code===r.Gh&&(p.ZP.success("\u6280\u80FD\u5DF2\u521B\u5EFA\u6210\u529F"),Y?.(),j.history.push("/space/".concat(G,"/skill-details/").concat(de?.data)));case 6:return te.prev=6,M(!1),te.finish(6);case 9:case"end":return te.stop()}},oe,null,[[0,,6,9]])}));return function(se){return ge.apply(this,arguments)}}(),he=function(){var ge=f()(u()().mark(function oe(se){var de;return u()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.prev=0,M(!0),te.next=4,(0,_.Jt)(se);case 4:de=te.sent,de?.code===r.Gh&&(p.ZP.success("\u6280\u80FD\u66F4\u65B0\u6210\u529F"),Y?.());case 6:return te.prev=6,M(!1),te.finish(6);case 9:case"end":return te.stop()}},oe,null,[[0,,6,9]])}));return function(se){return ge.apply(this,arguments)}}();(0,O.useEffect)(function(){J&&(we(P||""),i.setFieldsValue({name:z,description:t}))},[J,P,z,t]);var U=function(oe){var se={name:oe?.name,description:oe?.description,icon:Oe};ne===l.jA.Create?ye(n()({spaceId:G},se)):he(n()({id:R},se))},Pe=function(){i.submit()};return(0,w.jsx)(E.Z,{loading:fe,form:i,title:ne===l.jA.Create?"\u521B\u5EFA\u6280\u80FD":"\u66F4\u65B0\u6280\u80FD",classNames:{content:Z(F.container),header:Z(F.header)},open:J,onCancel:$,onConfirm:Pe,children:(0,w.jsxs)(m.Z,{form:i,requiredMark:T.N,layout:"vertical",onFinish:U,autoComplete:"off",children:[(0,w.jsx)(m.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6280\u80FD\u540D\u79F0"},{validator:function(oe,se){return!se||se?.length<=30?Promise.resolve():se?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8F93\u5165\u6280\u80FD\u540D\u79F0!"))}}],children:(0,w.jsx)(d.Z,{placeholder:"\u8F93\u5165\u6280\u80FD\u540D\u79F0",showCount:!0,maxLength:30})}),(0,w.jsx)(I.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:t,placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\uFF0C\u8BA9\u5927\u6A21\u578B\u7406\u89E3\u4EC0\u4E48\u60C5\u51B5\u4E0B\u5E94\u8BE5\u8C03\u7528\u6B64\u6280\u80FD",maxLength:1e4})]})})},H=N},3834:function(X,S,e){e.d(S,{AY:function(){return p},EV:function(){return $},Fh:function(){return O},Hl:function(){return ne},KJ:function(){return _},Nf:function(){return k},RT:function(){return F},S5:function(){return ae},VW:function(){return H},ey:function(){return f},nh:function(){return h}});var x=e(90228),n=e.n(x),y=e(87999),u=e.n(y),s=e(53586);function f(g){return v.apply(this,arguments)}function v(){return v=u()(n()().mark(function g(R){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/compose/db/table/updateTableName",{method:"POST",data:R}));case 1:case"end":return t.stop()}},g)})),v.apply(this,arguments)}function h(g){return E.apply(this,arguments)}function E(){return E=u()(n()().mark(function g(R){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/compose/db/table/updateTableDefinition",{method:"POST",data:R}));case 1:case"end":return t.stop()}},g)})),E.apply(this,arguments)}function I(g){return r.apply(this,arguments)}function r(){return r=_asyncToGenerator(_regeneratorRuntime().mark(function g(R){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/compose/db/table/list",{method:"POST",data:R}));case 1:case"end":return t.stop()}},g)})),r.apply(this,arguments)}function _(g){return l.apply(this,arguments)}function l(){return l=u()(n()().mark(function g(R){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/compose/db/table/delete/".concat(R),{method:"POST"}));case 1:case"end":return t.stop()}},g)})),l.apply(this,arguments)}function T(){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function g(){return _regeneratorRuntime().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.abrupt("return",request("/api/compose/db/table/copyTableDefinition",{method:"POST"}));case 1:case"end":return z.stop()}},g)})),m.apply(this,arguments)}function p(g){return d.apply(this,arguments)}function d(){return d=u()(n()().mark(function g(R){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/compose/db/table/add",{method:"POST",data:R}));case 1:case"end":return t.stop()}},g)})),d.apply(this,arguments)}function C(g){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function g(R){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/compose/db/table/existTableData",{method:"GET",params:{tableId:R}}));case 1:case"end":return t.stop()}},g)})),c.apply(this,arguments)}function O(g){return j.apply(this,arguments)}function j(){return j=u()(n()().mark(function g(R){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/compose/db/table/detailById",{method:"GET",params:{id:R}}));case 1:case"end":return t.stop()}},g)})),j.apply(this,arguments)}function F(g){return w.apply(this,arguments)}function w(){return w=u()(n()().mark(function g(R){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/compose/db/table/updateBusinessData",{method:"POST",data:R}));case 1:case"end":return t.stop()}},g)})),w.apply(this,arguments)}function Z(g,R){return N.apply(this,arguments)}function N(){return N=_asyncToGenerator(_regeneratorRuntime().mark(function g(R,z){var t;return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=new FormData,t.append("file",z),a.abrupt("return",request("/api/compose/db/table/importExcel/".concat(R),{method:"POST",data:t}));case 3:case"end":return a.stop()}},g)})),N.apply(this,arguments)}function H(g,R){return D.apply(this,arguments)}function D(){return D=u()(n()().mark(function g(R,z){return n()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,s.request)("/api/compose/db/table/deleteBusinessData",{method:"POST",data:{tableId:R,rowId:z}}));case 1:case"end":return P.stop()}},g)})),D.apply(this,arguments)}function k(g){return K.apply(this,arguments)}function K(){return K=u()(n()().mark(function g(R){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/compose/db/table/addBusinessData",{method:"POST",data:R}));case 1:case"end":return t.stop()}},g)})),K.apply(this,arguments)}function ne(g){return G.apply(this,arguments)}function G(){return G=u()(n()().mark(function g(R){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/compose/db/table/getTableDataById",{method:"GET",params:R}));case 1:case"end":return t.stop()}},g)})),G.apply(this,arguments)}function ae(g){return J.apply(this,arguments)}function J(){return J=u()(n()().mark(function g(R){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/compose/db/table/exportExcel/".concat(R),{method:"GET",responseType:"blob",getResponse:!0}));case 1:case"end":return t.stop()}},g)})),J.apply(this,arguments)}function $(g){return Y.apply(this,arguments)}function Y(){return Y=u()(n()().mark(function g(R){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/compose/db/table/clearBusinessData/".concat(R),{method:"GET"}));case 1:case"end":return t.stop()}},g)})),Y.apply(this,arguments)}},92629:function(X,S,e){e.d(S,{$w:function(){return ae},Cw:function(){return Z},IK:function(){return $},Jt:function(){return _},Kt:function(){return f},LO:function(){return g},OA:function(){return ne},Ol:function(){return I},Rh:function(){return T},Wt:function(){return h},Y$:function(){return P},c:function(){return k},eh:function(){return z},el:function(){return C},jU:function(){return O},qt:function(){return H},sN:function(){return p},xC:function(){return F}});var x=e(90228),n=e.n(x),y=e(87999),u=e.n(y),s=e(53586);function f(a){return v.apply(this,arguments)}function v(){return v=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/workflow/add",{method:"POST",data:b}));case 1:case"end":return o.stop()}},a)})),v.apply(this,arguments)}function h(a){return E.apply(this,arguments)}function E(){return E=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/task/create",{method:"POST",data:b}));case 1:case"end":return o.stop()}},a)})),E.apply(this,arguments)}function I(a){return r.apply(this,arguments)}function r(){return r=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/skill/add",{method:"POST",data:b}));case 1:case"end":return o.stop()}},a)})),r.apply(this,arguments)}function _(a){return l.apply(this,arguments)}function l(){return l=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/skill/update",{method:"POST",data:b}));case 1:case"end":return o.stop()}},a)})),l.apply(this,arguments)}function T(a){return m.apply(this,arguments)}function m(){return m=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/skill/delete/".concat(b),{method:"POST"}));case 1:case"end":return o.stop()}},a)})),m.apply(this,arguments)}function p(a){return d.apply(this,arguments)}function d(){return d=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/workflow/update",{method:"POST",data:b}));case 1:case"end":return o.stop()}},a)})),d.apply(this,arguments)}function C(a){return c.apply(this,arguments)}function c(){return c=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/task/update",{method:"POST",data:b}));case 1:case"end":return o.stop()}},a)})),c.apply(this,arguments)}function O(a,b){return j.apply(this,arguments)}function j(){return j=u()(n()().mark(function a(b,i){return n()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.abrupt("return",(0,s.request)("/api/workflow/copy/".concat(b,"/").concat(i),{method:"POST"}));case 1:case"end":return ve.stop()}},a)})),j.apply(this,arguments)}function F(a){return w.apply(this,arguments)}function w(){return w=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/workflow/delete/".concat(b),{method:"POST"}));case 1:case"end":return o.stop()}},a)})),w.apply(this,arguments)}function Z(a){return N.apply(this,arguments)}function N(){return N=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/component/list/".concat(b),{method:"GET"}));case 1:case"end":return o.stop()}},a)})),N.apply(this,arguments)}function H(a){return D.apply(this,arguments)}function D(){return D=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/task/list/".concat(b),{method:"POST"}));case 1:case"end":return o.stop()}},a)})),D.apply(this,arguments)}function k(a){return K.apply(this,arguments)}function K(){return K=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/task/execute/".concat(b),{method:"POST"}));case 1:case"end":return o.stop()}},a)})),K.apply(this,arguments)}function ne(a){return G.apply(this,arguments)}function G(){return G=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/task/enable/".concat(b),{method:"POST"}));case 1:case"end":return o.stop()}},a)})),G.apply(this,arguments)}function ae(a){return J.apply(this,arguments)}function J(){return J=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/task/cancel/".concat(b),{method:"POST"}));case 1:case"end":return o.stop()}},a)})),J.apply(this,arguments)}function $(a){return Y.apply(this,arguments)}function Y(){return Y=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/task/delete/".concat(b),{method:"POST"}));case 1:case"end":return o.stop()}},a)})),Y.apply(this,arguments)}function g(a){return R.apply(this,arguments)}function R(){return R=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/skill/list",{method:"GET",params:b}));case 1:case"end":return o.stop()}},a)})),R.apply(this,arguments)}function z(a){return t.apply(this,arguments)}function t(){return t=u()(n()().mark(function a(b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/skill/copy",{method:"POST",data:b}));case 1:case"end":return o.stop()}},a)})),t.apply(this,arguments)}function P(a){return(0,s.request)("/api/compose/db/table/copyTableDefinition",{method:"POST",params:a})}},98785:function(X,S,e){e.d(S,{A_:function(){return f},EM:function(){return H},LO:function(){return $},NV:function(){return C},O9:function(){return _},Oz:function(){return Z},Ph:function(){return ae},Pj:function(){return ne},TU:function(){return p},VR:function(){return O},c1:function(){return k},dB:function(){return F},i:function(){return I},lK:function(){return T}});var x=e(90228),n=e.n(x),y=e(87999),u=e.n(y),s=e(53586);function f(P){return v.apply(this,arguments)}function v(){return v=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/plugin/test",{method:"POST",data:a}));case 1:case"end":return i.stop()}},P)})),v.apply(this,arguments)}function h(P){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function P(a){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/plugin/publish",{method:"POST",data:a}));case 1:case"end":return i.stop()}},P)})),E.apply(this,arguments)}function I(P){return r.apply(this,arguments)}function r(){return r=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/plugin/http/update",{method:"POST",data:a}));case 1:case"end":return i.stop()}},P)})),r.apply(this,arguments)}function _(P){return l.apply(this,arguments)}function l(){return l=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/plugin/delete/".concat(a),{method:"POST"}));case 1:case"end":return i.stop()}},P)})),l.apply(this,arguments)}function T(P,a){return m.apply(this,arguments)}function m(){return m=u()(n()().mark(function P(a,b){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/plugin/copy/".concat(a,"/").concat(b),{method:"POST"}));case 1:case"end":return o.stop()}},P)})),m.apply(this,arguments)}function p(P){return d.apply(this,arguments)}function d(){return d=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/plugin/code/update",{method:"POST",data:a}));case 1:case"end":return i.stop()}},P)})),d.apply(this,arguments)}function C(P){return c.apply(this,arguments)}function c(){return c=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/plugin/analysis/output",{method:"POST",data:a}));case 1:case"end":return i.stop()}},P)})),c.apply(this,arguments)}function O(P){return j.apply(this,arguments)}function j(){return j=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/plugin/add",{method:"POST",data:a}));case 1:case"end":return i.stop()}},P)})),j.apply(this,arguments)}function F(P){return w.apply(this,arguments)}function w(){return w=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/plugin/".concat(a),{method:"GET"}));case 1:case"end":return i.stop()}},P)})),w.apply(this,arguments)}function Z(P){return N.apply(this,arguments)}function N(){return N=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/published/plugin/".concat(a),{method:"GET"}));case 1:case"end":return i.stop()}},P)})),N.apply(this,arguments)}function H(P){return D.apply(this,arguments)}function D(){return D=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/published/workflow/".concat(a),{method:"GET"}));case 1:case"end":return i.stop()}},P)})),D.apply(this,arguments)}function k(P){return K.apply(this,arguments)}function K(){return K=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/published/skill/".concat(a),{method:"GET"}));case 1:case"end":return i.stop()}},P)})),K.apply(this,arguments)}function ne(P){return G.apply(this,arguments)}function G(){return G=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/plugin/config/history/list/".concat(a),{method:"GET"}));case 1:case"end":return i.stop()}},P)})),G.apply(this,arguments)}function ae(P){return J.apply(this,arguments)}function J(){return J=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/published/plugin/collect/".concat(a),{method:"POST"}));case 1:case"end":return i.stop()}},P)})),J.apply(this,arguments)}function $(P){return Y.apply(this,arguments)}function Y(){return Y=u()(n()().mark(function P(a){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,s.request)("/api/published/plugin/unCollect/".concat(a),{method:"POST"}));case 1:case"end":return i.stop()}},P)})),Y.apply(this,arguments)}function g(P){return R.apply(this,arguments)}function R(){return R=_asyncToGenerator(_regeneratorRuntime().mark(function P(a){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/published/workflow/collect/".concat(a),{method:"POST"}));case 1:case"end":return i.stop()}},P)})),R.apply(this,arguments)}function z(P){return t.apply(this,arguments)}function t(){return t=_asyncToGenerator(_regeneratorRuntime().mark(function P(a){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/published/workflow/unCollect/".concat(a),{method:"POST"}));case 1:case"end":return i.stop()}},P)})),t.apply(this,arguments)}},70490:function(X,S,e){e.d(S,{Pm:function(){return u},Tv:function(){return f},Uv:function(){return I},Yg:function(){return y},ai:function(){return s},g8:function(){return v},lj:function(){return h},sK:function(){return x},sO:function(){return E},wI:function(){return n}});var x=function(r){return r.SYSTEM="SYSTEM",r.USER="USER",r}({}),n=function(r){return r.Import_Project="Import_Project",r.Online_Develop="Online_Develop",r.Reverse_Proxy="Reverse_Proxy",r}({}),y=function(r){return r.All_Type="All_Type",r.AGENT="AGENT",r.PAGE="PAGE",r}({}),u=function(r){return r.ONLINE_DEPLOY="ONLINE_DEPLOY",r.REVERSE_PROXY="REVERSE_PROXY",r}({}),s=function(r){return r.Dev="dev",r.Production="prod",r}({}),f=function(r){return r.Reverse_Proxy_Config="Reverse_Proxy_Config",r.Path_Params_Config="Path_Params_Config",r.Auth_Config="Auth_Config",r.Page_Preview="Page_Preview",r.Copy_To_Space="Copy_To_Space",r.Export_Project="Export_Project",r.Delete="Delete",r}({}),v=function(r){return r.Copy="Copy",r.Record="Record",r.Delete="Delete",r.Enable="Enable",r.Disable="Disable",r.Execute="Execute",r.Edit="Edit",r}({}),h=function(r){return r[r.Published=1]="Published",r[r.Unpublished=0]="Unpublished",r}({}),E=function(r){return r.PAGE="PAGE",r.AGENT="AGENT",r}({}),I=function(r){return r.DEVELOP="DEVELOP",r.SQUARE="SQUARE",r}({})},22824:function(X,S,e){e.d(S,{Tg:function(){return h},oB:function(){return v},sO:function(){return E}});var x=e(48305),n=e.n(x),y=e(64267),u=e(14719),s=e(52676),f=u.Z.confirm,v=function(r,_,l,T){f({title:r,icon:(0,s.jsx)(y.Z,{}),content:_,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:l,onCancel:T})},h=function(r){if(!r)return"";if(typeof r=="string"){var _=r.split("."),l=n()(_,2),T=l[0],m=l[1];return m&&m.length>6?"".concat(T,".").concat(m.slice(0,6)):r}var p=r;if(isNaN(p))return"";var d=p.toString().split("."),C=n()(d,2),c=C[0],O=C[1];return O&&O.length>6?"".concat(c,".").concat(O.slice(0,6)):p.toString()},E=function(r){if(!r)return"";var _=r.toString(),l=_.indexOf(".");return l===-1?_:_.substring(0,l+7)}},99330:function(X,S,e){e.d(S,{TE:function(){return E}});var x=e(90228),n=e.n(x),y=e(87999),u=e.n(y),s=e(41249),f={TEXTAREA:{position:"fixed",top:"0",left:"0",width:"2em",height:"2em",padding:"0",border:"none",outline:"none",boxShadow:"none",background:"transparent",fontSize:"16px"}},v={COPY_FAILED:"\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u624B\u52A8\u590D\u5236",COPY_SUCCESS:"\u590D\u5236\u6210\u529F",NO_CONTENT:"\u6CA1\u6709\u53EF\u590D\u5236\u7684\u5185\u5BB9"},h=function(_,l){var T=document.createElement("textarea");T.value=_,Object.assign(T.style,f.TEXTAREA),document.body.appendChild(T),T.focus(),T.select();try{var m=document.execCommand("copy");m&&l?l(_,!0):m||(s.ZP.error(v.COPY_FAILED),l&&l(_,!1))}catch(p){console.error(v.COPY_FAILED,p),s.ZP.error(v.COPY_FAILED),l&&l(_,!1)}document.body.removeChild(T)},E=function(){var r=u()(n()().mark(function _(l,T){var m,p=arguments;return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(m=p.length>2&&p[2]!==void 0?p[2]:!1,l){C.next=5;break}return s.ZP.error(v.NO_CONTENT),T&&T(l,!1),C.abrupt("return");case 5:if(!(navigator.clipboard&&navigator.clipboard.writeText)){C.next=20;break}return C.prev=6,C.next=9,navigator.clipboard.writeText(l);case 9:m&&s.ZP.success(v.COPY_SUCCESS),T&&T(l,!0),C.next=18;break;case 13:C.prev=13,C.t0=C.catch(6),console.error(v.COPY_FAILED,C.t0),s.ZP.error(v.COPY_FAILED),h(l,T);case 18:C.next=21;break;case 20:h(l,T);case 21:case"end":return C.stop()}},_,null,[[6,13]])}));return function(l,T){return r.apply(this,arguments)}}(),I=function(){return!!(navigator.clipboard&&navigator.clipboard.writeText)}},44381:function(X,S,e){e.d(S,{Zl:function(){return I},_d:function(){return h},b_:function(){return E}});var x=e(90228),n=e.n(x),y=e(87999),u=e.n(y),s=e(30476),f=e(3834),v=e(28327),h=function(){var r=u()(n()().mark(function _(l){var T,m,p,d,C,c,O,j=arguments;return n()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return T=j.length>1&&j[1]!==void 0?j[1]:v.qR.Agent,w.prev=1,w.next=4,(0,s.Ee)(l,T);case 4:m=w.sent,p=m.headers["content-disposition"],d=decodeURIComponent(p.split("filename=")[1].replace(/"/g,"")),C=new Blob([m.data]),c=URL.createObjectURL(C),O=document.createElement("a"),O.href=c,O.download=d,O.click(),URL.revokeObjectURL(c);case 14:return w.prev=14,w.finish(14);case 16:case"end":return w.stop()}},_,null,[[1,,14,16]])}));return function(l){return r.apply(this,arguments)}}(),E=function(){var r=u()(n()().mark(function _(l,T){var m,p,d,C;return n()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,O.next=3,(0,f.S5)(l);case 3:m=O.sent,p=new Blob([m.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),d=URL.createObjectURL(p),C=document.createElement("a"),C.href=d,C.download="".concat(T,".xlsx"),C.click(),URL.revokeObjectURL(d);case 11:return O.prev=11,O.finish(11);case 13:case"end":return O.stop()}},_,null,[[0,,11,13]])}));return function(l,T){return r.apply(this,arguments)}}(),I=function(){var r=u()(n()().mark(function _(l,T){var m,p,d,C,c,O,j;return n()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:p=(m=l.headers)===null||m===void 0?void 0:m["content-disposition"],d=T,p&&(C=p.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/),C&&C[1]&&(d=C[1].replace(/['"]/g,""))),c=new Blob([l.data],{type:"application/zip"}),O=window.URL.createObjectURL(c),j=document.createElement("a"),j.href=O,j.download=d,document.body.appendChild(j),j.click(),document.body.removeChild(j),window.URL.revokeObjectURL(O);case 12:case"end":return w.stop()}},_)}));return function(l,T){return r.apply(this,arguments)}}()},60393:function(X,S,e){e.d(S,{N:function(){return y},g:function(){return u}});var x=e(75271),n=e(52676),y=function(f,v){var h=v.required;return(0,n.jsxs)(n.Fragment,{children:[f,h?(0,n.jsx)("span",{style:{color:"red",fontWeight:600,marginLeft:"4px"},children:"*"}):null]})},u=function(f){return(0,n.jsx)(n.Fragment,{children:f})}},27867:function(X,S,e){e.d(S,{$g:function(){return I},Df:function(){return r},N4:function(){return T},Qr:function(){return _},TE:function(){return u.TE},Tx:function(){return l},hK:function(){return h},n3:function(){return E}});var x=e(15558),n=e.n(x),y=e(30799),u=e(99330),s=e(95495),f=e(83677);function v(m){var p=m<10?"0"+m:m;return p}var h=function(p){var d=new Date(p);return d.getFullYear()+"-"+v(d.getMonth()+1)+"-"+v(d.getDate())+" "+v(d.getHours())+":"+v(d.getMinutes())+":"+v(d.getSeconds())},E=function(p){return!p||p===void 0?[]:p.startsWith("Array_File_")?["Array_File",p]:p.startsWith("File_")?["File",p]:[p]},I=function(p){var d=p[p.length-1];return Object.values(y.Gi).includes(d)?d:y.Gi.String},r=function(p){switch(p){case y.Gi.File_Image:return"image/*";case y.Gi.File_PPT:return".ppt,.pptx";case y.Gi.File_Doc:return".doc,.docx";case y.Gi.File_PDF:return".pdf";case y.Gi.File_Txt:return".txt";case y.Gi.File_Zip:return".zip,.rar,.7z";case y.Gi.File_Excel:return".xls,.xlsx,.csv";case y.Gi.File_Video:return"video/*";case y.Gi.File_Audio:case y.Gi.File_Voice:return"audio/*";case y.Gi.File_Code:return".js,.txt,.ts,.jsx,.tsx,.py,.java,.c,.cpp,.cs,.go,.php,.rb,.sh";case y.Gi.File_Svg:return".svg";default:return""}},_=function(p){return p&&Object.keys(p).length===0&&p.constructor===Object},l=function(p,d){return p.replace(/{(\w+)}/g,function(C,c){if(d[c]===void 0)throw new Error("\u7F3A\u5C11\u8DEF\u5F84\u53C2\u6570: ".concat(c));return String(d[c])})},T=function(p,d){var C=n()(p.matchAll(/{(\w+)}/g)).map(function(c){return c[1]});return C.length===0||C.every(function(c){return d[c]!==void 0&&d[c]!==null&&d[c]!==""})}},40595:function(X,S,e){e.d(S,{G:function(){return u}});var x=e(18415),n=function(f){if((0,x.Z)()&&window.document.documentElement){var v=Array.isArray(f)?f:[f],h=window.document.documentElement;return v.some(function(E){return E in h.style})}return!1},y=function(f,v){if(!n(f))return!1;var h=document.createElement("div"),E=h.style[f];return h.style[f]=v,h.style[f]!==E};function u(s,f){return!Array.isArray(s)&&f!==void 0?y(s,f):n(s)}},22675:function(X,S,e){X.exports=e.p+"static/agent_image.70fb0631.png"}}]);})();
