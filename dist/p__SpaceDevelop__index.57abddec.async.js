"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[7451],{82456:function(oe,J,e){var I=e(26068),i=e.n(I),b=e(48305),X=e.n(b),M=e(22675),h=e(48279),B=e(94201),K=e(10560),v=e(80241),F=e(92122),E=e(26324),T=e(28190),O=e(41249),s=e(63619),R=e(75271),V=e(87453),N=e(52676),fe=function(S){var Pe=S.spaceId,ge=S.mode,Ce=ge===void 0?F.jA.Create:ge,p=S.agentConfigInfo,de=S.open,Ae=S.onCancel,he=S.onConfirmCreate,re=S.onConfirmUpdate,se=T.Z.useForm(),A=X()(se,1),m=A[0],pe=(0,R.useState)(""),y=X()(pe,2),Ie=y[0],Le=y[1],c=(0,R.useState)(!1),Z=X()(c,2),Qe=Z[0],$=Z[1],xe=(0,V.useRequest)(v.YS,{manual:!0,debounceInterval:300,onSuccess:function(Y){Le(""),he?.(Y),O.ZP.success("\u667A\u80FD\u4F53\u5DF2\u521B\u5EFA"),$(!1)},onError:function(){$(!1)}}),Se=xe.run,le=(0,V.useRequest)(v.mp,{manual:!0,debounceInterval:300,onSuccess:function(Y,G){O.ZP.success("\u667A\u80FD\u4F53\u7F16\u8F91\u6210\u529F"),$(!1);var Ue=G[0];re?.(Ue)},onError:function(){$(!1)}}),Fe=le.run,n=function(){Le(p?.icon),m.setFieldsValue({name:p?.name,description:p?.description})};(0,R.useEffect)(function(){de&&n()},[de,p]);var Ee=function(Y){$(!0),Ce===F.jA.Create?Se(i()(i()({},Y),{},{icon:Ie,spaceId:Pe})):Fe(i()(i()({},Y),{},{icon:Ie,id:p?.id}))},ze=function(){m.submit()},Re=function(){Ae(),n()};return(0,N.jsx)(h.Z,{form:m,title:Ce===F.jA.Create?"\u521B\u5EFA\u667A\u80FD\u4F53":"\u66F4\u65B0\u667A\u80FD\u4F53",open:de,loading:Qe,onCancel:Re,onConfirm:ze,children:(0,N.jsxs)(T.Z,{form:m,requiredMark:E.N,layout:"vertical",onFinish:Ee,autoComplete:"off",children:[(0,N.jsx)(T.Z.Item,{name:"name",label:"\u667A\u80FD\u4F53\u540D\u79F0",validateTrigger:"onBlur",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u667A\u80FD\u4F53\u540D\u79F0"},{validator:function(Y,G){return!G||G?.length<=50?Promise.resolve():G?.length>50?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC750\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u667A\u80FD\u4F53\u540D\u79F0!"))}}],children:(0,N.jsx)(s.Z,{placeholder:"\u7ED9\u667A\u80FD\u4F53\u8D77\u4E00\u4E2A\u72EC\u4E00\u65E0\u4E8C\u7684\u540D\u5B57",showCount:!0,maxLength:50})}),(0,N.jsx)(B.Z,{name:"description",label:"\u667A\u80FD\u4F53\u529F\u80FD\u4ECB\u7ECD",initialValue:p?.description,placeholder:"\u4ECB\u7ECD\u667A\u80FD\u4F53\u7684\u529F\u80FD\uFF0C\u5C06\u4F1A\u5C55\u793A\u7ED9\u667A\u80FD\u4F53\u7684\u7528\u6237",maxLength:1e4}),(0,N.jsx)(T.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,N.jsx)(K.Z,{onUploadSuccess:Le,imageUrl:Ie,defaultImage:M,svgIconName:"icons-workspace-agent"})})]})})};J.Z=fe},50644:function(oe,J,e){e.d(J,{H:function(){return K}});var I=e(48305),i=e.n(I),b=e(68108),X=e(94581),M=e.n(X),h=e(75271),B=e(52676),K=function(F){var E=F.className,T=F.text,O=F.onClick,s=F.placement,R=s===void 0?"top":s,V=(0,h.useRef)(null),N=(0,h.useState)(!1),fe=i()(N,2),me=fe[0],S=fe[1];return(0,h.useEffect)(function(){var Pe=function(){if(V.current){var p=V.current,de=p.scrollWidth>p.clientWidth;S(de)}},ge=requestAnimationFrame(Pe);return function(){cancelAnimationFrame(ge)}},[T]),(0,B.jsx)("div",{className:M()("text-ellipsis",E),ref:V,onClick:O,children:(0,B.jsx)(b.Z,{title:me?T:"",placement:R,children:T})})}},3055:function(oe,J,e){e.d(J,{Z:function(){return v}});var I=e(24573),i=e(94581),b=e.n(i),X=e(75271),M={"xagi-nav-style2":"xagi-nav-style2___xuAte",text:"text___sfO7S","page-container":"page-container___rvj3b",container:"container___MWZZN"},h=e(52676),B=b().bind(M),K=function(E){var T=E.className;return(0,h.jsxs)("div",{className:B("flex","flex-1","items-center","content-center",M.container,T),children:[(0,h.jsx)(I.Z,{}),(0,h.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]})},v=K},65390:function(oe,J,e){e.d(J,{Z:function(){return v}});var I=e(14719),i=e(94581),b=e.n(i),X=e(75271),M={"analyze-wrapper":"analyze-wrapper___DMVbd","analyze-box":"analyze-box___mZugc","row-line":"row-line___cymU3","vertical-line":"vertical-line___LT3CR"},h=e(52676),B=b().bind(M),K=function(E){var T=E.open,O=E.onCancel,s=E.title,R=E.list;return(0,h.jsx)(I.Z,{open:T,onCancel:O,title:s,footer:!1,width:556,children:(0,h.jsxs)("div",{className:B("flex","flex-wrap",M["analyze-wrapper"]),children:[R?.map(function(V,N){return(0,h.jsxs)("div",{className:B(M["analyze-box"],"flex","flex-col"),children:[(0,h.jsx)("span",{children:V.label}),(0,h.jsx)("div",{className:B("flex","items-center","content-center"),children:V.value})]},N)}),(0,h.jsx)("div",{className:B(M["row-line"])}),(0,h.jsx)("div",{className:B(M["vertical-line"])})]})})},v=K},85461:function(oe,J,e){e.d(J,{Z:function(){return $}});var I=e(82092),i=e.n(I),b=e(26068),X=e.n(b),M=e(15558),h=e.n(M),B=e(48305),K=e.n(B),v=e(72611),F=e(50644),E=e(94652),T=e(86743),O=e(16621),s=e(41249),R=e(68108),V=e(43898),N=e(67130),fe=e(86524),me=e(9504),S=e(14719),Pe=e(10580),ge=e(70183),Ce=e(39319),p=e(39357),de=e(94581),Ae=e.n(de),he=e(16483),re=e.n(he),se=e(75271),A=e(58226),m=e.n(A),pe=e(87453),y={container:"container___ucaEF","table-wrap":"table-wrap___KFIpR","url-box":"url-box___A_aT7","chat-url":"chat-url___qrgrJ","img-box":"img-box___onytl","copy-img-box":"copy-img-box___wP83A",img:"img___DXQBL","qr-code-modal":"qr-code-modal___vOzXg"},Ie=e(24057),Le=e(70199),c=e(52676);re().locale("zh-cn");var Z=Ae().bind(y),Qe=function(Se){var le=Se.agentId,Fe=Se.name,n=Se.open,Ee=Se.onCancel,ze=(0,se.useState)([]),Re=K()(ze,2),j=Re[0],Y=Re[1],G=(0,se.useState)(""),Ue=K()(G,2),an=Ue[0],on=Ue[1],Ve=(0,se.useState)(!1),Ge=K()(Ve,2),rn=Ge[0],we=Ge[1],ke=(0,pe.useRequest)(E.Ai,{manual:!0,debounceInterval:300,onSuccess:function(o){Y([].concat(h()(j),[o]))}}),sn=ke.run,ue=ke.loading,P=(0,pe.useRequest)(E.is,{manual:!0,debounceInterval:300,onSuccess:function(o){Y(o||[])}}),ln=P.run,un=P.loading,cn=(0,pe.useRequest)(E.kt,{manual:!0,debounceInterval:300,onSuccess:function(){s.ZP.success("\u4FEE\u6539\u6210\u529F")}}),Me=cn.run,De=(0,pe.useRequest)(E.zZ,{manual:!0,debounceInterval:300,onSuccess:function(){s.ZP.success("\u5220\u9664\u6210\u529F")}}),dn=De.run,vn=function(){s.ZP.success("\u590D\u5236\u6210\u529F")};(0,se.useEffect)(function(){!n||!le||ln(le)},[le,n]);var Je=function(o,r,g){var Q=j?.map(function(Te){var _=Te;return _.id===o&&(_=X()(X()({},_),{},i()({},r,g))),_});Y(Q||[]);var q=g;r==="expire"&&(q=g?re()(g.toString()):""),r==="requireLogin"&&(q=g?1:0),Me(i()({id:o,agentId:le},r,q))},w=function(o,r){var g=j?.filter(function(Q){return Q.id!==o});Y(g||[]),dn(o,r)},W=function(o,r,g){(0,Ie.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u94FE\u63A5\u5417?",g,function(){return w(o,r),new Promise(function(Q){setTimeout(Q,1e3)})})},U=function(o){we(!0),on(o)},ne=[{title:"\u94FE\u63A5\u5730\u5740",dataIndex:"chatUrl",key:"chatUrl",className:"flex",render:function(o,r){return(0,c.jsxs)("div",{className:Z("flex","items-center","overflow-hide",y["url-box"]),children:[(0,c.jsx)(F.H,{text:o,className:Z(y["chat-url"],"flex-1")}),(0,c.jsx)(m(),{text:o||"",onCopy:vn,children:(0,c.jsx)(R.Z,{title:"\u590D\u5236",children:(0,c.jsx)("span",{className:Z(y["img-box"],y["copy-img-box"],"flex","content-center","items-center","cursor-pointer"),children:(0,c.jsx)("img",{className:Z("cursor-pointer",y.img),src:v,alt:""})})})}),(0,c.jsx)(R.Z,{title:"\u4E8C\u7EF4\u7801",children:(0,c.jsx)("span",{className:Z(y["img-box"],"flex","content-center","items-center","cursor-pointer"),onClick:function(){return U(r.chatUrl)},children:(0,c.jsx)("img",{className:Z("cursor-pointer",y.img),src:r.qrCodeUrl,alt:""})})})]})}},{title:"\u767B\u5F55\u53EF\u7528",dataIndex:"requireLogin",key:"requireLogin",width:85,align:"center",render:function(o,r){return(0,c.jsx)("div",{className:Z("h-full","flex","items-center","content-center"),children:(0,c.jsx)(V.Z,{checked:!!r.requireLogin,onChange:function(Q){return Je(r.id,"requireLogin",Q.target.checked)}})})}},{title:"\u6709\u6548\u671F",key:"expire",width:210,render:function(o,r){return(0,c.jsx)(N.ZP,{locale:p.Z,children:(0,c.jsx)(fe.default,{minDate:re()(),value:r.expire?re()(r.expire):null,allowClear:!1,showTime:!0,format:"YYYY-MM-DD HH:mm:ss",onChange:function(Q,q){return Je(r.id,"expire",q.toString())}})})}},{title:"\u64CD\u4F5C",width:80,key:"action",align:"center",render:function(o,r){return(0,c.jsx)("div",{className:Z("h-full","flex","items-center","content-center"),children:(0,c.jsx)(me.ZP,{type:"text",icon:(0,c.jsx)(T.Z,{}),onClick:function(){return W(r.id,r.agentId,r.chatUrl)}})})}}],f=function(){Y([]),Ee()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(S.Z,{classNames:{content:Z(y.container),header:Z(y.container),body:Z(y.container)},title:(0,c.jsxs)("div",{className:Z("text-ellipsis"),style:{width:"400px"},children:[Fe,"-\u4E34\u65F6\u4F1A\u8BDD\u94FE\u63A5\u7BA1\u7406"]}),open:n,width:710,destroyOnHidden:!0,footer:null,onCancel:f,children:(0,c.jsx)(Pe.Z,{className:Z(y["table-wrap"]),rowKey:"id",columns:ne,dataSource:j,pagination:!1,loading:un,virtual:!0,scroll:{y:450},locale:{emptyText:(0,c.jsx)(ge.Z,{description:"\u6682\u65E0\u6570\u636E"})},footer:function(){return(0,c.jsx)(me.ZP,{onClick:function(){return sn(le)},loading:ue,icon:(0,c.jsx)(O.Z,{}),children:"\u65B0\u589E\u94FE\u63A5"})}})}),(0,c.jsx)(S.Z,{open:rn,destroyOnHidden:!0,footer:null,className:y["qr-code-modal"],onCancel:function(){return we(!1)},modalRender:function(){return(0,c.jsx)(Ce.Z,{size:500,value:an||"-"})}})]})},$=Qe},83295:function(oe,J,e){e.r(J),e.d(J,{default:function(){return vn}});var I=e(48305),i=e.n(I),b=e(80833),X=e(82456),M=e(3055),h=e(7098),B=e(90327),K=e(86112),v=e(39671),F=e(65390),E=e(80241),T=e(64799),O=e(92122),s=e(53895),R=e(24057),V=e(83005),N=e(86230),fe=e(17023),me=e(16621),S=e(41249),Pe=e(7980),ge=e(24113),Ce=e(46038),p=e(7010),de=e(63619),Ae=e(9504),he=e(70183),re=e(94581),se=e.n(re),A=e(75271),m=e(87453),pe=e(90228),y=e.n(pe),Ie=e(87999),Le=e.n(Ie),c=e(22675),Z=e(35702),Qe=e(28397),$=e(73415),xe=e(41705),Se=e(16483),le=e.n(Se),Fe={"xagi-nav-style2":"xagi-nav-style2___ICly4",text:"text___qkuRb","page-container":"page-container___C8gnX",footer:"footer___TzHuk"},n=e(52676),Ee=se().bind(Fe),ze=function(w){var W,U,ne,f=w.agentConfigInfo,x=w.onClick,o=w.onCollect,r=w.onClickMore,g=(0,m.useModel)("devCollectAgent"),Q=g.runCancelCollect,q=g.runDevCollect,Te=(0,m.useRequest)(xe.ED,{manual:!0,debounceInterval:300,onSuccess:function(){S.ZP.success("\u6536\u85CF\u6210\u529F"),q({page:1,size:8})}}),_=Te.run,ie=function(k){var ee;return f==null||(ee=f.permissions)===null||ee===void 0?void 0:ee.includes(k)},ye=(0,A.useMemo)(function(){return v.E9.filter(function(te){var k=te.type;switch(k){case s.KZ.Copy_To_Space:return ie(O.jE.Copy);case s.KZ.Temporary_Session:return ie(O.jE.TempChat);case s.KZ.Move:return ie(O.jE.Transfer);case s.KZ.Del:return ie(O.jE.Delete);case s.KZ.API_Key:return ie(O.jE.AgentApi);case s.KZ.Export_Config:return ie(O.jE.Export);default:return!0}})},[f]),Xe=function(){var te=Le()(y()().mark(function k(ee){var je,Ze;return y()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(ee.stopPropagation(),je=f.id,Ze=f.devCollected,!Ze){ae.next=7;break}return ae.next=5,Q(je);case 5:ae.next=9;break;case 7:return ae.next=9,_(je);case 9:o(!Ze);case 10:case"end":return ae.stop()}},k)}));return function(ee){return te.apply(this,arguments)}}(),Ke=function(k){var ee=k.type;r(ee)};return(0,n.jsx)(Z.Z,{title:f.name,avatar:((W=f.creator)===null||W===void 0?void 0:W.avatar)||"",name:((U=f.creator)===null||U===void 0?void 0:U.nickName)||((ne=f.creator)===null||ne===void 0?void 0:ne.userName),content:f.description,icon:f.icon,defaultIcon:c,onClick:function(){return x(f.id)},extra:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:Ee("text-ellipsis","flex-1"),children:["\u6700\u8FD1\u7F16\u8F91 ",le()(f.modified).format("MM-DD HH:mm")]}),f?.publishStatus===O.xH.Published&&(0,n.jsxs)("span",{className:Ee("flex","items-center","gap-4"),children:[(0,n.jsx)($.TS,{}),"\u5DF2\u53D1\u5E03"]})]}),footer:(0,n.jsxs)("footer",{className:Ee(Fe.footer,"flex","items-center","content-between"),children:[(0,n.jsx)("span",{onClick:Xe,className:Ee("flex","items-center","cursor-pointer"),children:f.devCollected?(0,n.jsx)($.jz,{}):(0,n.jsx)($.ig,{})}),(0,n.jsx)(Qe.Z,{onClick:Ke,list:ye,children:(0,n.jsx)($.Ey,{})})]})})},Re=ze,j=e(15558),Y=e.n(j),G=e(72611),Ue=e(50644),an=e(20860),on=e(86743),Ve=e(68108),Ge=e(43898),rn=e(14719),we=e(10580),ke=e(58226),sn=e.n(ke),ue={container:"container___hfB8_","table-wrap":"table-wrap___klBPd","table-row":"table-row___epK3r",img:"img___RtotR","icon-del":"icon-del___BYCry"},P=se().bind(ue),ln=function(w){var W=w.agentId,U=w.name,ne=w.open,f=w.onCancel,x=(0,A.useState)([]),o=i()(x,2),r=o[0],g=o[1],Q=(0,m.useRequest)(xe.k_,{manual:!0,debounceInterval:300,onSuccess:function(D){g([].concat(Y()(r),[D]))}}),q=Q.run,Te=Q.loading,_=(0,m.useRequest)(xe.Jq,{manual:!0,debounceInterval:300,onSuccess:function(D){g(D||[])}}),ie=_.run,ye=_.loading,Xe=(0,m.useRequest)(xe.xY,{manual:!0,debounceInterval:300,onSuccess:function(){S.ZP.success("\u4FEE\u6539\u6210\u529F")}}),Ke=Xe.run,te=(0,m.useRequest)(xe.$M,{manual:!0,debounceInterval:300,onSuccess:function(){S.ZP.success("\u5220\u9664\u6210\u529F")}}),k=te.run,ee=function(){S.ZP.success("\u590D\u5236\u6210\u529F")};(0,A.useEffect)(function(){!ne||!W||ie(W)},[W,ne]);var je=function(D,C,L){var Be=L?T.DV.Yes:T.DV.No,ve=r?.map(function(Ne){return Ne.id===D&&(Ne.config.isDevMode=Be),Ne});g(ve||[]);var fn={agentId:W,accessKey:C,devMode:Be};Ke(fn)},Ze=function(D,C){var L=r?.filter(function(ve){return ve.id!==D});g(L||[]);var Be={agentId:W,accessKey:C};k(Be)},Ye=function(D,C){(0,R.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64API Key\u5417?",C,function(){return Ze(D,C),new Promise(function(L){setTimeout(L,1e3)})})},ae=[{title:"API Key",dataIndex:"accessKey",key:"accessKey",width:200,render:function(D,C){return(0,n.jsx)("div",{className:P("h-full","flex","items-center"),children:(0,n.jsx)(Ue.H,{text:C.accessKey})})}},{title:"\u521B\u5EFA\u4EBA",dataIndex:"userName",key:"userName",width:100,render:function(D,C){var L;return(0,n.jsx)("div",{className:P("h-full","flex","items-center"),children:(0,n.jsx)("span",{className:P("text-ellipsis"),children:C==null||(L=C.creator)===null||L===void 0?void 0:L.userName})})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created",key:"created",width:160,render:function(D,C){return(0,n.jsx)("div",{className:P("h-full","flex","items-center"),children:C.created?le()(C.created).format("YYYY-MM-DD HH:mm:ss"):"--"})}},{title:(0,n.jsxs)("div",{className:P("h-full","flex","items-center","gap-6"),children:[(0,n.jsx)("span",{children:"\u5F00\u53D1\u6A21\u5F0F"}),(0,n.jsx)(Ve.Z,{title:"\u5F00\u542F\u5F00\u53D1\u6A21\u5F0F\u540E\uFF0C\u672A\u53D1\u5E03\u7684\u53D8\u66F4\u4E5F\u5C06\u5B9E\u65F6\u4F53\u73B0\u3002",children:(0,n.jsx)(an.Z,{})})]}),dataIndex:"mode",key:"mode",width:100,align:"center",render:function(D,C){var L;return(0,n.jsx)("div",{className:P("h-full","flex","items-center","content-center"),children:(0,n.jsx)(Ge.Z,{checked:!!((L=C.config)!==null&&L!==void 0&&L.isDevMode),onChange:function(ve){return je(C.id,C.accessKey,ve.target.checked)}})})}},{title:"",key:"action",width:100,align:"center",render:function(D,C){return(0,n.jsxs)("div",{className:P("h-full","flex","items-center"),children:[(0,n.jsx)(sn(),{text:C.accessKey||"",onCopy:ee,children:(0,n.jsx)(Ve.Z,{title:"\u590D\u5236",children:(0,n.jsx)(Ae.ZP,{type:"text",rootClassName:P("h-full","flex","items-center"),icon:(0,n.jsx)("img",{className:P("cursor-pointer",ue.img),src:G,alt:""})})})}),(0,n.jsx)(Ae.ZP,{type:"text",icon:(0,n.jsx)(on.Z,{className:P(ue["icon-del"])}),onClick:function(){return Ye(C.id,C.accessKey)}})]})}}],$e=function(){g([]),f()};return(0,n.jsx)(rn.Z,{classNames:{content:P(ue.container),header:P(ue.container),body:P(ue.container)},title:(0,n.jsxs)("div",{className:P("text-ellipsis"),style:{width:"400px"},children:[U,"-API Key"]}),open:ne,width:710,destroyOnHidden:!0,footer:null,onCancel:$e,children:(0,n.jsx)(we.Z,{className:P(ue["table-wrap"]),rowClassName:P(ue["table-row"]),rowKey:"id",columns:ae,dataSource:r,pagination:!1,loading:ye,virtual:!0,scroll:{y:450},locale:{emptyText:(0,n.jsx)(he.Z,{description:"\u6682\u65E0\u6570\u636E"})},footer:function(){return(0,n.jsx)(Ae.ZP,{onClick:function(){return q(W)},loading:Te,icon:(0,n.jsx)(me.Z,{}),children:"\u65B0\u589EAPI Key"})}})})},un=ln,cn=e(85461),Me={"xagi-nav-style2":"xagi-nav-style2___KRwjW",text:"text___BML4G","page-container":"page-container___S3fmV",container:"container___I_7Z0",title:"title___i9Fgc","main-container":"main-container___M5SoZ"},De=se().bind(Me),dn=function(){var w=(0,m.useSearchParams)(),W=i()(w,2),U=W[0],ne=W[1],f=function(t,a){var u=new URLSearchParams(U);a?u.set(t,a):u.delete(t),ne(u)},x=(0,m.useParams)(),o=Number(x.spaceId),r=(0,A.useState)(!1),g=i()(r,2),Q=g[0],q=g[1],Te=(0,A.useState)(!1),_=i()(Te,2),ie=_[0],ye=_[1],Xe=(0,A.useState)(!1),Ke=i()(Xe,2),te=Ke[0],k=Ke[1],ee=(0,A.useState)(!1),je=i()(ee,2),Ze=je[0],Ye=je[1],ae=(0,A.useState)(null),$e=i()(ae,2),d=$e[0],D=$e[1],C=(0,A.useState)(!1),L=i()(C,2),Be=L[0],ve=L[1],fn=(0,A.useState)(Number(U.get("status"))||s.No.All),Ne=i()(fn,2),He=Ne[0],xn=Ne[1],Bn=(0,A.useState)([]),Sn=i()(Bn,2),On=Sn[0],Ln=Sn[1],Fn=(0,A.useState)(Number(U.get("create"))||s.os.All_Person),En=i()(Fn,2),be=En[0],Dn=En[1],Rn=(0,A.useState)(U.get("keyword")||""),yn=i()(Rn,2),qe=yn[0],mn=yn[1],Un=(0,A.useState)(!1),jn=i()(Un,2),Kn=jn[0],gn=jn[1],Nn=(0,A.useState)(!1),Pn=i()(Nn,2),Wn=Pn[0],Cn=Pn[1],Qn=(0,A.useState)(!1),In=i()(Qn,2),zn=In[0],An=In[1],_e=(0,A.useRef)(0),en=(0,A.useRef)(),nn=(0,m.useModel)("applicationDev"),ce=nn.agentList,Mn=nn.setAgentList,tn=nn.agentAllRef,Jn=nn.handlerCollect,hn=(0,m.useModel)("devCollectAgent"),Xn=hn.runEdit,pn=hn.devCollectAgentList,Yn=hn.runDevCollect,Hn=(0,m.useModel)("userInfo"),bn=Hn.userInfo,We=function(t,a,u){var H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:tn.current,z=H;t===s.No.Published&&(z=z.filter(function(Oe){return Oe.publishStatus===O.xH.Published})),a===s.os.Me&&(z=z.filter(function(Oe){return Oe.creatorId===bn.id})),u&&(z=z.filter(function(Oe){return Oe.name.includes(u)})),Mn(z)};(0,A.useEffect)(function(){var l=Number(U.get("status"))||s.No.All,t=Number(U.get("create"))||s.os.All_Person,a=U.get("keyword")||"";xn(l),Dn(t),mn(a),We(l,t,a)},[U]);var Vn=(0,m.useRequest)(E.xv,{manual:!0,debounceInterval:300,onSuccess:function(t){We(He,be,qe,t),tn.current=t,gn(!1)},onError:function(){gn(!1)}}),Tn=Vn.run,Gn=(0,m.useRequest)(E.Y9,{manual:!0,debounceInterval:300,onSuccess:function(t,a){An(!1),S.ZP.success("\u5DF2\u6210\u529F\u521B\u5EFA\u526F\u672C"),ye(!1);var u=a[1];(0,N.tc)(u,t)},onError:function(){An(!1)}}),wn=Gn.run,Zn=function(){var t,a=_e.current,u=ce?.filter(function(H){return H.id!==a})||[];Mn(u),tn.current=(t=tn.current)===null||t===void 0?void 0:t.filter(function(H){return H.id!==a})},kn=(0,m.useRequest)(E.ae,{manual:!0,debounceInterval:300,onSuccess:function(t,a){S.ZP.success("\u5DF2\u6210\u529F\u5220\u9664");var u=a[0];Zn(),Xn({size:8});var H=pn?.findIndex(function(z){return z.agentId===u});H>-1&&Yn({page:1,size:8})}}),$n=kn.run,qn=(0,m.useRequest)(E.GG,{manual:!0,debounceInterval:300,onSuccess:function(){Cn(!1),S.ZP.success("\u8FC1\u79FB\u6210\u529F"),Zn(),ye(!1),D(null)},onError:function(){Cn(!1)}}),_n=qn.run;(0,A.useEffect)(function(){gn(!0),Tn(o)},[o]);var et=function(t){var a=t;xn(a),We(a,be,qe),f("status",a.toString())},nt=function(t){var a=t;Dn(a),We(He,a,qe),f("create",a.toString())},tt=function(t){var a=t.target.value;mn(a),We(He,be,a),f("keyword",a)},at=function(){mn(""),We(He,be,"")},ot=function(t){en.current===s.KZ.Move?(Cn(!0),_n(_e.current,t)):en.current===s.KZ.Copy_To_Space&&(An(!0),wn(_e.current,t))},rt=function(t){m.history.push("/space/".concat(o,"/agent/").concat(t))},st=function(t){var a=t?.agentStatistics,u=a.userCount,H=a.convCount,z=a.collectCount,Oe=a.likeCount,dt=[{label:"\u5BF9\u8BDD\u4EBA\u6570",value:u},{label:"\u5BF9\u8BDD\u6B21\u6570",value:H},{label:"\u6536\u85CF\u7528\u6237\u6570",value:z},{label:"\u70B9\u8D5E\u6B21\u6570",value:Oe}];Ln(dt)},lt=function(t,a){var u=ce[a],H=u.id;switch(_e.current=H,t){case s.KZ.Analyze:st(u),q(!0);break;case s.KZ.Copy_To_Space:case s.KZ.Move:en.current=t,ye(!0),D(u);break;case s.KZ.Temporary_Session:k(!0),D(u);break;case s.KZ.API_Key:Ye(!0),D(u);break;case s.KZ.Export_Config:(0,R.oB)("\u5BFC\u51FA\u914D\u7F6E - ".concat(u?.name),"\u5982\u679C\u5185\u90E8\u5305\u542B\u6570\u636E\u8868\u6216\u77E5\u8BC6\u5E93\uFF0C\u6570\u636E\u672C\u8EAB\u4E0D\u4F1A\u5BFC\u51FA",function(){return(0,V._)(H,T.qR.Agent),new Promise(function(z){setTimeout(z,1e3)})});break;case s.KZ.Log:m.history.push("/space/".concat(o,"/").concat(H,"/log"));break;case s.KZ.Del:(0,R.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u667A\u80FD\u4F53\u5417?",u?.name,function(){return $n(H),new Promise(function(z){setTimeout(z,1e3)})});break}},ut=function(t){ve(!1),m.history.push("/space/".concat(o,"/agent/").concat(t))},it=function(){Tn(o)},ct=function(t){var a=t.name.toLocaleLowerCase(),u=a.endsWith(".agent");return u||S.ZP.error("\u8BF7\u4E0A\u4F20.agent\u7C7B\u578B\u7684\u6587\u4EF6!"),u||Pe.Z.LIST_IGNORE};return(0,n.jsxs)("div",{className:De(Me.container,"h-full","flex","flex-col"),children:[(0,n.jsxs)(ge.Z,{children:[(0,n.jsx)(Ce.Z,{xs:24,sm:24,md:12,lg:12,xl:12,style:{marginBottom:5},children:(0,n.jsx)("div",{children:(0,n.jsxs)(p.Z,{children:[(0,n.jsx)("h3",{className:De(Me.title),children:"\u667A\u80FD\u4F53\u5F00\u53D1"}),(0,n.jsx)(h.Z,{value:He,options:v.v3,onChange:et,size:"middle"}),(0,n.jsx)(b.Z,{options:v.Bv,value:be,onChange:function(t){return nt(t)}})]})})}),(0,n.jsx)(Ce.Z,{xs:24,sm:24,md:12,lg:12,xl:12,style:{marginBottom:5},children:(0,n.jsxs)("div",{className:De("flex","gap-10","justify-content-end"),style:{textAlign:"right"},children:[(0,n.jsx)(de.Z,{rootClassName:De(Me.input),placeholder:"\u641C\u7D22\u667A\u80FD\u4F53",value:qe,onChange:tt,prefix:(0,n.jsx)(fe.Z,{}),allowClear:!0,onClear:at,style:{width:214}}),(0,n.jsx)(K.Z,{spaceId:o,onUploadSuccess:it,beforeUpload:ct}),(0,n.jsx)(Ae.ZP,{type:"primary",icon:(0,n.jsx)(me.Z,{}),onClick:function(){return ve(!0)},children:"\u521B\u5EFA\u667A\u80FD\u4F53"})]})})]}),Kn?(0,n.jsx)(M.Z,{}):ce?.length>0?(0,n.jsx)("div",{className:De(Me["main-container"],"flex-1","scroll-container-hide"),children:ce?.map(function(l,t){return(0,n.jsx)(Re,{agentConfigInfo:l,onClickMore:function(u){return lt(u,t)},onCollect:function(u){return Jn(t,u)},onClick:rt},l.id)})}):(0,n.jsx)("div",{className:De("flex","items-center","content-center","h-full"),children:(0,n.jsx)(he.Z,{description:"\u672A\u80FD\u627E\u5230\u76F8\u5173\u7ED3\u679C"})}),(0,n.jsx)(F.Z,{open:Q,onCancel:function(){return q(!1)},title:"\u667A\u80FD\u4F53\u6982\u89C8",list:On}),(0,n.jsx)(B.Z,{spaceId:o,loading:zn||Wn,type:en.current,open:ie,title:d?.name,onCancel:function(){return ye(!1)},onConfirm:ot}),(0,n.jsx)(X.Z,{spaceId:o,open:Be,onCancel:function(){return ve(!1)},onConfirmCreate:ut}),(0,n.jsx)(cn.Z,{agentId:d?.id,open:te,name:d?.name,onCancel:function(){return k(!1)}}),(0,n.jsx)(un,{agentId:d?.id,open:Ze,name:d?.name,onCancel:function(){return Ye(!1)}})]})},vn=dn},94652:function(oe,J,e){e.d(J,{Ai:function(){return b},is:function(){return K},kt:function(){return X},mY:function(){return M},vU:function(){return h},zZ:function(){return i}});var I=e(87453);function i(v,F){return(0,I.request)("/api/temp/chat/".concat(F,"/link/").concat(v,"/delete"),{method:"POST"})}function b(v){return(0,I.request)("/api/temp/chat/".concat(v,"/link/create"),{method:"POST"})}function X(v){return(0,I.request)("/api/temp/chat/link/update",{method:"POST",data:v})}function M(v){return(0,I.request)("/api/temp/chat/conversation/query",{method:"POST",data:v})}function h(v){return(0,I.request)("/api/temp/chat/conversation/create",{method:"POST",data:v})}function B(v){return request("/api/temp/chat/completions",{method:"POST",data:v})}function K(v){return(0,I.request)("/api/temp/chat/".concat(v,"/link/list"),{method:"GET"})}},22675:function(oe){oe.exports="data:image/png;base64,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"},72611:function(oe){oe.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAFwSURBVEiJ7ZbRTcNADIY/J5f3jhA2gAmACQgjMAHlualqlHsHNqATABNQNugGZATee5V5oKDSVtRBgITU/ym6s+/zXXz2wU7/XbJpUFXLEMI50HOu8yIi48FgMO0MbJqmEpE7J+gTNKV0oKrtV0ZhLQKR0eLzFph4SCJSmVlVFMUJcNMJCOwDpJQuVPXFA1TVhzzPx3Vd328NbnUgxmgAdV1/zKlqL8uyKsuyQ08AIjKdzWbjTQFv2uEnLRLoESg9MAAzI4TQV9Xj1X+6FVgUxZWZlUArItdm5jlmBcoQwgg46wQ0syMAETn1pD2Aqj6FEJ6BahWYOfx7AF7YAtgu+3YF/qh2wL8Dqmr5V8AJQAjhOwW8OzCldAa0+FtTJ61d/MUd2vsNGPiSpoW3PuldtGmao2XfZXlK21hERiJyF2OcAp5a+g5c640bnxirijFeAX2P7bvM7HI4HOq3gPDWE/M83/fYzufzdttTY6cf0yt+NXkX7pGGegAAAABJRU5ErkJggg=="}}]);})();
