"use strict";(()=>{(self.webpackChunknuwax_frontend=self.webpackChunknuwax_frontend||[]).push([[5201],{93940:function(B,C,e){e.d(C,{Z:function(){return N}});var i=e(82092),a=e.n(i),u=e(15558),m=e.n(u),n=e(48305),v=e.n(n),s=e(9504),g=e(94581),y=e.n(g),E=e(75271),p={"xagi-nav-style2":"xagi-nav-style2___gG8hm",text:"text___WCrzg","page-container":"page-container___AuGiQ",buttonToggle:"buttonToggle___AFToh",toggleButton:"toggleButton___Q4jn4",selected:"selected___vkDSP",disabled:"disabled___uN1MK","size-small":"size-small___ORPk3","size-large":"size-large___vn9OW",compact:"compact___cGOHC",vertical:"vertical___OSbYZ"},c=e(52676),r=y().bind(p),T=function(A){var O=A.options,G=O===void 0?[]:O,L=A.value,R=A.defaultValue,I=A.multiple,P=I===void 0?!1:I,F=A.size,le=F===void 0?"middle":F,h=A.disabled,S=h===void 0?!1:h,D=A.className,Me=A.style,ie=A.onChange,Te=(0,E.useState)(function(){return L!==void 0?L:R!==void 0?R:P?[]:""}),ge=v()(Te,2),Le=ge[0],Ie=ge[1],k=L!==void 0?L:Le,xe=(0,E.useCallback)(function(t){return P?Array.isArray(k)&&k.includes(t):k===t},[k,P]),Se=(0,E.useCallback)(function(t){if(!S){var _;if(P){var ne=Array.isArray(k)?k:[];ne.includes(t)?_=ne.filter(function(he){return he!==t}):_=[].concat(m()(ne),[t])}else _=t;L===void 0&&Ie(_),ie?.(_)}},[k,P,S,L,ie]);return(0,c.jsx)("div",{className:r(p.buttonToggle,D),style:Me,children:G.map(function(t){var _=xe(t.value),ne=S||t.disabled;return(0,c.jsx)(s.ZP,{size:le,type:_?"primary":"default",disabled:ne,className:r(p.toggleButton,a()(a()({},p.selected,_),p.disabled,ne)),onClick:function(){return Se(t.value)},children:t.label},t.value)})})},N=T},65773:function(B,C,e){var i=e(75271),a=e(52676),u=function(n){var v=n.children,s=n.condition;return s?(0,a.jsx)(a.Fragment,{children:v}):null};C.Z=u},86163:function(B,C,e){e.d(C,{Z:function(){return y}});var i=e(52739),a=e(94581),u=e.n(a),m=e(75271),n={"xagi-nav-style2":"xagi-nav-style2___ufS0a",text:"text___JZ4xM","page-container":"page-container___BHtJB",container:"container___QThef",header:"header___qVLy6",image:"image___Oq2zH",title:"title___aWinZ","author-rel-info":"author-rel-info___GhDxu","extra-box":"extra-box___XpS32",content:"content___kv69L"},v=e(52676),s=u().bind(n),g=function(p){var c=p.className,r=p.onClick,T=p.footer,N=p.extra,W=p.content,A=p.title,O=p.avatar,G=p.name,L=p.icon,R=p.defaultIcon,I=p.style;return(0,v.jsxs)("div",{className:s("flex","flex-col","gap-4",n.container,c),onClick:r,style:I,children:[(0,v.jsxs)("header",{className:s("flex",n.header),children:[(0,v.jsx)("img",{className:s(n.image),src:L||R,alt:"",onError:function(F){F.currentTarget.onerror=null,F.currentTarget.src=R}}),(0,v.jsxs)("div",{className:s("flex-1","flex","flex-col","content-between","overflow-hide"),children:[(0,v.jsx)("h3",{className:s("text-ellipsis",n.title),children:A}),(0,v.jsxs)("div",{className:s("flex","items-center",n["author-rel-info"]),children:[(0,v.jsx)(i.Z,{avatar:O,name:G}),N&&(0,v.jsx)("div",{className:s("flex","content-between","items-center",n["extra-box"]),children:N})]})]})]}),(0,v.jsx)("p",{className:s("text-ellipsis-2",n.content),children:W}),T]})},y=g},59602:function(B,C,e){e.d(C,{Z:function(){return y}});var i=e(24573),a=e(94581),u=e.n(a),m=e(75271),n={"xagi-nav-style2":"xagi-nav-style2___xuAte",text:"text___sfO7S","page-container":"page-container___rvj3b",container:"container___MWZZN"},v=e(52676),s=u().bind(n),g=function(p){var c=p.className;return(0,v.jsxs)("div",{className:s("flex","flex-1","items-center","content-center",n.container,c),children:[(0,v.jsx)(i.Z,{}),(0,v.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]})},y=g},33356:function(B,C,e){e.d(C,{Z:function(){return p}});var i=e(3642),a=e(17701),u=e(88958),m=e(94581),n=e.n(m),v=e(75271),s={container:"container___zAmsL","option-icon-box":"option-icon-box___Xu928",icon:"icon___k7L6U",image:"image___gVYjP"},g=e(52676),y=n().bind(s),E=function(r){var T=r.className,N=r.value,W=r.prefix,A=r.dropdownRenderComponent,O=r.placeholder,G=r.disabled,L=r.allowClear,R=L===void 0?!1:L,I=r.options,P=r.onChange,F=r.size,le=F===void 0?"middle":F;return(0,g.jsx)(a.default,{rootClassName:y(s.container,T),value:N,prefix:W,placeholder:O||"\u8BF7\u9009\u62E9",disabled:G,onChange:P,allowClear:R,onClick:function(S){S.stopPropagation()},options:I,size:le,popupRender:function(S){return(0,g.jsxs)(g.Fragment,{children:[S,A]})},optionRender:function(S){var D;return(0,g.jsxs)(u.Z,{gap:8,align:"center",children:[(0,g.jsx)("div",{className:y(s["option-icon-box"]),children:N===S.data.value&&(0,g.jsx)(i.Z,{className:y(s.icon)})}),!!(S!=null&&(D=S.data)!==null&&D!==void 0&&D.img)&&(0,g.jsx)("img",{className:y(s.image,"radius-6"),src:String(S.data.img),alt:""}),(0,g.jsx)("span",{className:y("flex-1","text-ellipsis"),children:S.data.label})]})}})},p=E},32139:function(B,C,e){e.d(C,{Z:function(){return c}});var i=e(68279),a=e(30799),u=e(38683),m=e(68108),n=e(94581),v=e.n(n),s=e(75271),g={box:"box___qPDL3"},y=e(52676),E=v().bind(g),p=function(T){var N=T.className,W=T.type,A=W===void 0?a.Ai.Blank:W,O=T.icon,G=T.title,L=T.onClick,R=A===a.Ai.Blank?"tooltip-blank":"tooltip-white",I=u.Z.useToken(),P=I.token;return(0,y.jsx)(m.Z,{title:G,classNames:{root:R},children:(0,y.jsx)("span",{className:E("hover-box","flex","content-center","items-center","cursor-pointer",g.box,N),onClick:L,children:O||(0,y.jsx)(i.Z,{name:"icons-common-plus",style:{color:P.colorTextTertiary,fontSize:"15px"}})})})},c=p},68609:function(B,C,e){e.d(C,{Hs:function(){return m},Ry:function(){return g},VR:function(){return n},WH:function(){return v},gg:function(){return s},jC:function(){return u}});var i=e(28327),a=e(58900),u=[{value:a.DM.All,label:"\u5168\u90E8"},{value:a.DM.Deployed,label:"\u5DF2\u90E8\u7F72"}],m=[{type:a.pS.Stop_Service,label:"\u505C\u6B62\u670D\u52A1"},{type:a.pS.Service_Export,label:"\u670D\u52A1\u5BFC\u51FA"},{type:a.pS.Log,label:"\u65E5\u5FD7"},{type:a.pS.Del,label:"\u5220\u9664",isDel:!0}],n=[{value:a.l_.NPX,label:"npx"},{value:a.l_.UVX,label:"uvx"},{value:a.l_.SSE,label:"sse"},{value:a.l_.STREAMABLE_HTTP,label:"streamableHttp"},{value:a.l_.COMPONENT,label:"\u7EC4\u4EF6\u5E93"}],v=[{type:i.qR.Agent,label:"\u667A\u80FD\u4F53"},{type:i.qR.Plugin,label:"\u63D2\u4EF6"},{type:i.qR.Workflow,label:"\u5DE5\u4F5C\u6D41"},{type:i.qR.Knowledge,label:"\u77E5\u8BC6\u5E93"},{type:i.qR.Table,label:"\u6570\u636E\u8868"}],s=[{value:a.f5.Overview,label:"\u6982\u89C8"},{value:a.f5.Tool,label:"\u5DE5\u5177"},{value:a.f5.Resource,label:"\u8D44\u6E90"},{value:a.f5.Prompt,label:"\u63D0\u793A\u8BCD"}],g=[{value:a.ac.Custom,label:"\u81EA\u5B9A\u4E49\u670D\u52A1"},{value:a.ac.Official,label:"\u5B98\u65B9\u670D\u52A1"}]},83285:function(B,C,e){e.d(C,{$$:function(){return A},$m:function(){return W},Bv:function(){return T},E9:function(){return N},TI:function(){return I},a$:function(){return L},dN:function(){return E},fu:function(){return R},gN:function(){return P},k0:function(){return g},oR:function(){return F},uj:function(){return y},v3:function(){return r},yA:function(){return p}});var i=e(52748),a=e(68279),u=e(28327),m=e(30799),n=e(2077),v=e(65104),s=e(52676),g=[{value:n.Lm.Workflow,label:"\u5DE5\u4F5C\u6D41",icon:(0,s.jsx)(i.xp,{})},{value:n.Lm.Plugin,label:"\u63D2\u4EF6",icon:(0,s.jsx)(i.P1,{})},{value:n.Lm.Knowledge,label:"\u77E5\u8BC6\u5E93",icon:(0,s.jsx)(i.r7,{})},{value:n.Lm.Table,label:"\u6570\u636E\u8868",icon:(0,s.jsx)(i.iJ,{})},{value:n.Lm.Model,label:"\u6A21\u578B",icon:(0,s.jsx)(i.ky,{})}],y=[{value:n.EA.ChatBot,label:"\u95EE\u7B54\u578B",tooltip:"\u9002\u5408\u77E5\u8BC6\u95EE\u7B54\u3001\u667A\u80FD\u5BA2\u670D\u7B49\u5FEB\u95EE\u5FEB\u7B54\u7684\u573A\u666F\u3002"},{value:n.EA.TaskAgent,label:"\u4EFB\u52A1\u578B",tooltip:"\u4E3A\u667A\u80FD\u4F53\u5206\u914D\u72EC\u7ACB\u7684\u6267\u884C\u7535\u8111\uFF0C\u9002\u5408\u5E94\u7528\u5F00\u53D1\u3001\u6DF1\u5EA6\u8C03\u7814\u3001\u6570\u636E\u5206\u6790\u3001\u6F14\u793A\u6587\u7A3F\u5236\u4F5C\u7B49\u590D\u6742\u4EFB\u52A1\u573A\u666F\uFF0C\u6BD4\u8F83\u6D88\u8017\u5185\u5B58\u8D44\u6E90\u4E14\u8F93\u51FA\u7ED3\u679C\u8F83\u6162\u3002"}],E=[{value:n.G9.Create,label:"\u521B\u5EFA\u6280\u80FD"},{value:n.G9.Import,label:"\u5BFC\u5165\u6280\u80FD"}],p=[{value:n.Lm.All_Type,label:"\u6240\u6709\u7C7B\u578B",icon:null}].concat(g),c=[{value:n.Lm.All_Type,label:"\u6240\u6709\u7C7B\u578B",icon:null},{value:u.qR.Agent,label:"\u667A\u80FD\u4F53",icon:null},{value:u.qR.Workflow,label:"\u5DE5\u4F5C\u6D41",icon:null}],r=[{value:n.No.All,label:"\u5168\u90E8"},{value:n.No.Published,label:"\u5DF2\u53D1\u5E03"}],T=[{value:n.os.All_Person,label:"\u6240\u6709\u4EBA"},{value:n.os.Me,label:"\u7531\u6211\u521B\u5EFA"}],N=[{type:n.KZ.Analyze,label:"\u5206\u6790"},{type:n.KZ.Copy_To_Space,label:"\u590D\u5236\u5230\u7A7A\u95F4"},{type:n.KZ.Move,label:"\u8FC1\u79FB"},{type:n.KZ.Temporary_Session,label:"\u4E34\u65F6\u4F1A\u8BDD"},{type:n.KZ.API_Key,label:"API Key"},{type:n.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E"},{type:n.KZ.Log,label:"\u65E5\u5FD7"},{type:n.KZ.Del,label:"\u5220\u9664",isDel:!0}],W=[{type:n.KZ.Analyze,label:"\u5206\u6790"},{type:n.KZ.Temporary_Session,label:"\u4E34\u65F6\u4F1A\u8BDD"},{type:n.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E"},{type:n.KZ.Log,label:"\u65E5\u5FD7"}],A=[{type:n.z$.Application_Develop,icon:(0,s.jsx)(a.Z,{name:"icons-nav-stars"}),text:"\u667A\u80FD\u4F53\u5F00\u53D1"},{type:n.z$.Page_Develop,icon:(0,s.jsx)(a.Z,{name:"icons-common-console"}),text:"\u5E94\u7528\u9875\u9762\u5F00\u53D1"},{type:n.z$.Component_Library,icon:(0,s.jsx)(a.Z,{name:"icons-nav-components"}),text:"\u7EC4\u4EF6\u5E93"},{type:n.z$.Skill_Manage,icon:(0,s.jsx)(a.Z,{name:"icons-nav-skill"}),text:"\u6280\u80FD\u7BA1\u7406"},{type:n.z$.MCP_Manage,icon:(0,s.jsx)(a.Z,{name:"icons-nav-mcp"}),text:"MCP\u7BA1\u7406"},{type:n.z$.Task_Center,icon:(0,s.jsx)(a.Z,{name:"icons-nav-task"}),text:"\u4EFB\u52A1\u4E2D\u5FC3"},{type:n.z$.Library_Log,icon:(0,s.jsx)(a.Z,{name:"icons-chat-history"}),text:"\u65E5\u5FD7\u67E5\u8BE2"},{type:n.z$.Space_Square,icon:(0,s.jsx)(a.Z,{name:"icons-nav-space_square"}),text:"\u7A7A\u95F4\u5E7F\u573A"},{type:n.z$.Team_Setting,icon:(0,s.jsx)(a.Z,{name:"icons-nav-settings"}),text:"\u6210\u5458\u4E0E\u8BBE\u7F6E"}],O=[{label:"\u6807\u51C6\u521B\u5EFA",value:m.wG.Standard},{label:"AI \u521B\u5EFA",value:m.wG.AI}],G=[{label:"\u5F00\u542F",value:n.nb.Open},{label:"\u5173\u95ED",value:n.nb.Close}],L=[{type:n.wQ.Params,label:"\u53C2\u6570"},{type:n.wQ.Method_Call,label:"\u8C03\u7528\u65B9\u5F0F"},{type:n.wQ.Output_Way,label:"\u8F93\u51FA\u65B9\u5F0F"},{type:n.wQ.Async_Run,label:"\u5F02\u6B65\u8FD0\u884C"},{type:n.wQ.Exception_Handling,label:"\u5F02\u5E38\u5904\u7406"},{type:n.wQ.Card_Bind,label:"\u5361\u7247\u7ED1\u5B9A"}],R=[{type:n.rm.Visible_To_LLM,label:"\u6A21\u578B\u53EF\u89C1"},{type:n.rm.Home_Index,label:"\u9ED8\u8BA4\u9996\u9875"}],I={name:"",description:"",dataType:m.Gi.String,inputType:u.oI.Query,require:!0,bindValue:"",enable:!0},P={name:"",description:"",dataType:m.Gi.String,enable:!0},F=[{key:v.Q.Agent,label:"\u667A\u80FD\u4F53"},{key:v.Q.Plugin,label:"\u63D2\u4EF6"},{key:v.Q.Workflow,label:"\u5DE5\u4F5C\u6D41"},{key:v.Q.Skill,label:"\u6280\u80FD"},{key:v.Q.Template,label:"\u6A21\u677F"}]},11791:function(B,C,e){e.r(C),e.d(C,{default:function(){return Xe}});var i=e(26068),a=e.n(i),u=e(48305),m=e.n(u),n=e(93940),v=e(59602),s=e(33356),g=e(68609),y=e(83285),E=e(56126),p=e(28327),c=e(58900),r=e(2077),T=e(64267),N=e(17023),W=e(16621),A=e(14719),O=e(41249),G=e(7010),L=e(73981),R=e(63619),I=e(9504),P=e(70183),F=e(94581),le=e.n(F),h=e(75271),S=e(53586),D={"xagi-nav-style2":"xagi-nav-style2___XVW_9",text:"text___HAY82","page-container":"page-container___IUtgx",container:"container___O2OUt",title:"title___mUffP",input:"input___LI0_S","main-container":"main-container___sa1k4","office-mcp-item":"office-mcp-item___Zt32h"},Me=e(16097),ie=e(24564),Te=e(86163),ge=e(65773),Le=e(89082),Ie=e(35843),k=e(16483),xe=e.n(k),Se={time:"time___kpWET"},t=e(52676),_=le().bind(Se),ne=function(z){var K,ae,$,x=z.mcpInfo,ve=z.onClick,X=z.onClickMore,me=(0,h.useState)([]),b=m()(me,2),ue=b[0],se=b[1],U=(0,h.useCallback)(function(M){var Y=[];return g.Hs.forEach(function(Z){var Q,w,re;Z.type===c.pS.Del&&(Q=M.permissions)!==null&&Q!==void 0&&Q.includes(c.Lf.Delete)&&Y.push(Z),Z.type===c.pS.Stop_Service&&M.deployStatus!==c.QX.Stopped&&(w=M.permissions)!==null&&w!==void 0&&w.includes(c.Lf.Stop)&&Y.push(Z),Z.type===c.pS.Service_Export&&M.deployStatus!==c.QX.Stopped&&(re=M.permissions)!==null&&re!==void 0&&re.includes(c.Lf.Export)&&Y.push(Z),Z.type===c.pS.Log&&Y.push(Z)}),Y},[]);(0,h.useEffect)(function(){var M=U(x);se(M)},[x]);var J=function(){return x.deployStatus===c.QX.Deployed?"\u53D1\u5E03\u4E8E ".concat(xe()(x.deployed).format("MM-DD HH:mm")):"\u521B\u5EFA\u4E8E ".concat(xe()(x.created).format("MM-DD HH:mm"))};return(0,t.jsx)(Te.Z,{title:x.name,avatar:((K=x.creator)===null||K===void 0?void 0:K.avatar)||"",name:((ae=x.creator)===null||ae===void 0?void 0:ae.nickName)||(($=x.creator)===null||$===void 0?void 0:$.userName),content:x.description,icon:x.icon,defaultIcon:x.icon,onClick:ve,extra:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:_("text-ellipsis","flex-1",Se.time),children:J()}),(0,t.jsx)(ie.Z,{status:x.deployStatus})]}),footer:(0,t.jsxs)("footer",{className:_("flex","items-center","content-between"),children:[(0,t.jsx)(Me.Z,{installType:x.installType}),(0,t.jsx)(ge.Z,{condition:ue.length>0,children:(0,t.jsx)(Le.Z,{list:ue,onClick:X,children:(0,t.jsx)(I.ZP,{size:"small",type:"text",icon:(0,t.jsx)(Ie.Ey,{})})})})]})})},he=ne,_e=e(72611),Ve=e(32139),Qe=e(58226),V={"xagi-nav-style2":"xagi-nav-style2___fGHBN",text:"text___T236e","page-container":"page-container___luBCh",container:"container___zSmLu",title:"title___meke0",desc:"desc___G1lv2","rebuild-config":"rebuild-config___ZKONV","config-box":"config-box___LHx6R","loading-box":"loading-box___RRzid","copy-box":"copy-box___ILoW_","copy-img":"copy-img___lDhw_"},oe=le().bind(V),Ge=A.Z.confirm,$e=function(z){var K=z.mcpId,ae=z.name,$=z.open,x=z.onCancel,ve=(0,h.useState)(!1),X=m()(ve,2),me=X[0],b=X[1],ue=(0,h.useState)(""),se=m()(ue,2),U=se[0],J=se[1],M=function(H){try{if(H){var ye=JSON.parse(H),ce=JSON.stringify(ye,null,2);J(ce)}}catch{J(H)}b(!1)},Y=(0,S.useRequest)(E.ci,{manual:!0,debounceInterval:300,onSuccess:function(H){M(H)},onError:function(){b(!1)}}),Z=Y.run,Q=(0,S.useRequest)(E.Be,{manual:!0,debounceInterval:300,onSuccess:function(H){M(H)},onError:function(){b(!1)}}),w=Q.run,re=function(){b(!0),w(K)},Ce=function(){Ge({title:"\u60A8\u786E\u5B9A\u8981\u91CD\u65B0\u751F\u6210\u914D\u7F6E\u5417?",icon:(0,t.jsx)(T.Z,{}),content:ae,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:function(){re()}})};(0,h.useEffect)(function(){$&&K&&(b(!0),Z(K))},[$,K]);var Pe=function(){O.ZP.success("\u590D\u5236\u6210\u529F")};return(0,t.jsxs)(A.Z,{width:560,title:"".concat(ae,"-\u670D\u52A1\u5BFC\u51FA\u7BA1\u7406"),classNames:{content:oe(V.container),header:oe(V.container),body:oe(V.container)},open:$,destroyOnHidden:!0,footer:null,onCancel:x,children:[(0,t.jsx)("h5",{className:oe(V.title),children:"\u914D\u7F6E\u670D\u52A1"}),(0,t.jsxs)("div",{className:oe(V.desc,"flex","items-center"),children:[(0,t.jsx)("span",{children:"\u590D\u5236\u4EE5\u4E0B\u914D\u7F6E\uFF0C\u53EF\u4EE5\u5728\u4EFB\u610F\u652F\u6301mcp\u7684\u5BA2\u6237\u7AEF\u4E2D\u4F7F\u7528\uFF0C\u82E5\u6709\u9700\u8981\u4F60\u53EF\u4EE5\u70B9\u51FB"}),(0,t.jsx)(I.ZP,{type:"link",className:oe(V["rebuild-config"]),onClick:Ce,children:"\u91CD\u65B0\u751F\u6210\u914D\u7F6E"})]}),(0,t.jsx)("div",{className:oe(V["config-box"],"relative"),children:me?(0,t.jsx)(v.Z,{className:V["loading-box"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Qe.CopyToClipboard,{text:U,onCopy:Pe,children:(0,t.jsx)(Ve.Z,{title:"\u590D\u5236",icon:(0,t.jsx)("img",{className:V["copy-img"],src:_e,alt:""}),className:V["copy-box"]})}),(0,t.jsx)("pre",{children:U})]})})]})},He=$e,te=le().bind(D),Oe=A.Z.confirm,ke=function(){var z,K,ae=(0,S.useSearchParams)(),$=m()(ae,2),x=$[0],ve=$[1],X=function(l,o){var f=new URLSearchParams(x);o?f.set(l,o):f.delete(l),ve(f)},me=(0,S.useParams)(),b=Number(me.spaceId),ue=(0,h.useState)([]),se=m()(ue,2),U=se[0],J=se[1],M=(0,h.useRef)([]),Y=(0,h.useState)(x.get("keyword")||""),Z=m()(Y,2),Q=Z[0],w=Z[1],re=(0,h.useState)(!1),Ce=m()(re,2),Pe=Ce[0],j=Ce[1],H=(0,h.useState)(Number(x.get("create"))||r.os.All_Person),ye=m()(H,2),ce=ye[0],be=ye[1],Je=(0,h.useState)(x.get("deployStatus")||c.DM.All),De=m()(Je,2),fe=De[0],Ze=De[1],Ye=(0,h.useState)(!1),Be=m()(Ye,2),we=Be[0],Fe=Be[1],qe=(0,h.useState)(x.get("segmentedValue")||c.ac.Custom),ze=m()(qe,2),Ae=ze[0],je=ze[1],Ne=(0,h.useRef)(null),en=(0,S.useModel)("userInfo"),nn=en.userInfo,de=function(l,o,f){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.current,ee=q;l===r.os.Me&&(ee=ee.filter(function(pe){return pe.creatorId===nn.id})),o===c.DM.Deployed&&(ee=ee.filter(function(pe){return pe.deployStatus===c.QX.Deployed})),f&&(ee=ee.filter(function(pe){return pe.name.includes(f)})),J(ee)},Ee=function(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.current,f=l?o.filter(function(q){return q.name.includes(l)}):o;J(f)};(0,h.useEffect)(function(){var d=Number(x.get("create"))||r.os.All_Person,l=x.get("deployStatus")||c.DM.All,o=x.get("segmentedValue")||c.ac.Custom,f=x.get("keyword")||"";be(d),Ze(l),je(o),w(f),o===c.ac.Custom?de(d,l,f):Ee(f)},[x]);var tn=function(l){j(!1),M.current=l,de(ce,fe,Q,l)},an=(0,S.useRequest)(E.nO,{manual:!0,debounceInterval:300,onSuccess:function(l){tn(l)},onError:function(){j(!1)}}),Ke=an.run,ln=(0,S.useRequest)(E.uz,{manual:!0,debounceInterval:300,onSuccess:function(l){j(!1),M.current=l,Ee(Q,l)},onError:function(){j(!1)}}),Ue=ln.run,We=function(l,o){return o.map(function(f){return f.id===l?a()(a()({},f),{},{deployStatus:c.QX.Stopped}):f})},on=function(l){var o=We(l,U);J(o),M.current=We(l,M.current)},sn=(0,S.useRequest)(E.zt,{manual:!0,debounceInterval:300,onSuccess:function(l,o){O.ZP.success("\u505C\u7528\u6210\u529F");var f=m()(o,1),q=f[0];on(q)}}),rn=sn.run,cn=function(l){var o=U.filter(function(f){return f.id!==l});J(o),M.current=M.current.filter(function(f){return f.id!==l})},un=(0,S.useRequest)(E.b9,{manual:!0,debounceInterval:300,onSuccess:function(l,o){O.ZP.success("\u5220\u9664\u6210\u529F");var f=m()(o,1),q=f[0];cn(q)}}),dn=un.run;(0,h.useEffect)(function(){var d=x.get("segmentedValue")||c.ac.Custom;je(d),j(!0),d===c.ac.Custom?Ke(b):Ue()},[b]);var vn=function(l){var o=l;be(o),de(o,fe,Q),X("create",o.toString())},mn=function(l){var o=l;Ze(o),de(ce,o,Q),X("deployStatus",o)},fn=function(l){var o=l.target.value;w(o),X("keyword",o),Ae===c.ac.Custom?de(ce,fe,o):Ee(o)},pn=function(){w(""),Ae===c.ac.Custom?de(ce,fe):Ee()},gn=function(l,o){var f;Ne.current=o;var q=l.type;switch(q){case c.pS.Stop_Service:Oe({title:"\u60A8\u786E\u5B9A\u8981\u505C\u6B62\u6B64\u670D\u52A1\u5417?",icon:(0,t.jsx)(T.Z,{}),content:o.name,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:function(){rn(o.id)}});break;case c.pS.Del:Oe({title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u670D\u52A1\u5417?",icon:(0,t.jsx)(T.Z,{}),content:o.name,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:function(){dn(o.id)}});break;case c.pS.Service_Export:Fe(!0);break;case c.pS.Log:S.history.push("/space/".concat(b,"/library-log?targetType=").concat(p.qR.MCP,"&targetId=").concat((f=o?.id)!==null&&f!==void 0?f:""));break;default:break}},xn=function(l){var o=l.id,f=l.spaceId;f!==-1&&S.history.push("/space/".concat(f,"/mcp/edit/").concat(o))},Sn=function(){S.history.push("/space/".concat(b,"/mcp/create"))},hn=function(l){X("segmentedValue",l),je(l),j(!0),l===c.ac.Custom?Ke(b):Ue()},Cn=(0,h.useMemo)(function(){return U.length},[U]);return(0,t.jsxs)("div",{className:te(D.container,"flex","flex-col","h-full"),children:[(0,t.jsxs)("div",{className:te("flex","content-between"),style:{marginBottom:5},children:[(0,t.jsx)("div",{style:{flex:1},children:(0,t.jsxs)(G.Z,{children:[(0,t.jsx)("h3",{className:te(D.title),children:"MCP\u7BA1\u7406"}),Ae===c.ac.Custom&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{value:ce,options:y.Bv,onChange:vn}),(0,t.jsx)(n.Z,{options:g.jC,value:fe,onChange:function(l){return mn(l)}})]})]})}),(0,t.jsx)("div",{children:(0,t.jsx)(L.Z,{options:g.Ry,value:Ae,onChange:hn})}),(0,t.jsxs)("div",{style:{flex:1,display:"flex"},children:[(0,t.jsx)(R.Z,{rootClassName:te(D.input),placeholder:"\u641C\u7D22MCP\u670D\u52A1",value:Q,onChange:fn,prefix:(0,t.jsx)(N.Z,{}),allowClear:!0,onClear:pn}),(0,t.jsx)(I.ZP,{type:"primary",icon:(0,t.jsx)(W.Z,{}),onClick:Sn,children:"\u521B\u5EFAMCP\u670D\u52A1"})]})]}),(0,t.jsx)("div",{className:te("flex",D["select-search-area"])}),Pe?(0,t.jsx)(v.Z,{}):Cn>0?(0,t.jsx)("div",{className:te(D["main-container"],"flex-1","scroll-container-hide"),children:U?.map(function(d){return(0,t.jsx)(he,{className:te(d?.spaceId===-1&&D["office-mcp-item"]),mcpInfo:d,onClick:function(){return xn(d)},onClickMore:function(o){return gn(o,d)}},d.id)})}):(0,t.jsx)("div",{className:te("flex","h-full","items-center","content-center"),children:(0,t.jsx)(P.Z,{description:"\u672A\u80FD\u627E\u5230\u76F8\u5173\u7ED3\u679C"})}),(0,t.jsx)(He,{open:we,mcpId:(z=Ne.current)===null||z===void 0?void 0:z.id,name:(K=Ne.current)===null||K===void 0?void 0:K.name,onCancel:function(){return Fe(!1)}})]})},Xe=ke},56126:function(B,C,e){e.d(C,{$h:function(){return y},Ao:function(){return u},Be:function(){return n},Lk:function(){return g},NI:function(){return a},b9:function(){return s},ci:function(){return v},nO:function(){return p},uz:function(){return E},zt:function(){return m}});var i=e(53586);function a(r){return(0,i.request)("/api/mcp/update",{method:"POST",data:r})}function u(r){return(0,i.request)("/api/mcp/test",{method:"POST",data:r})}function m(r){return(0,i.request)("/api/mcp/stop/".concat(r),{method:"POST"})}function n(r){return(0,i.request)("/api/mcp/server/config/refresh/".concat(r),{method:"POST"})}function v(r){return(0,i.request)("/api/mcp/server/config/export/".concat(r),{method:"POST"})}function s(r){return(0,i.request)("/api/mcp/delete/".concat(r),{method:"POST"})}function g(r){return(0,i.request)("/api/mcp/create",{method:"POST",data:r})}function y(r){return(0,i.request)("/api/mcp/".concat(r),{method:"GET"})}function E(){return(0,i.request)("/api/mcp/official/list",{method:"GET"})}function p(r){return(0,i.request)("/api/mcp/list/".concat(r),{method:"GET"})}function c(r){return request("/api/mcp/deployed/list/".concat(r),{method:"GET"})}},65104:function(B,C,e){e.d(C,{Q:function(){return i},b:function(){return a}});var i=function(u){return u.Agent="Agent",u.Plugin="Plugin",u.Workflow="Workflow",u.Knowledge="Knowledge",u.Template="Template",u.Skill="Skill",u}({}),a=function(u){return u.All="All",u.Agent="Agent",u.Workflow="Workflow",u.Page="Page",u.Skill="Skill",u}({})},72611:function(B){B.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAFwSURBVEiJ7ZbRTcNADIY/J5f3jhA2gAmACQgjMAHlualqlHsHNqATABNQNugGZATee5V5oKDSVtRBgITU/ym6s+/zXXz2wU7/XbJpUFXLEMI50HOu8yIi48FgMO0MbJqmEpE7J+gTNKV0oKrtV0ZhLQKR0eLzFph4SCJSmVlVFMUJcNMJCOwDpJQuVPXFA1TVhzzPx3Vd328NbnUgxmgAdV1/zKlqL8uyKsuyQ08AIjKdzWbjTQFv2uEnLRLoESg9MAAzI4TQV9Xj1X+6FVgUxZWZlUArItdm5jlmBcoQwgg46wQ0syMAETn1pD2Aqj6FEJ6BahWYOfx7AF7YAtgu+3YF/qh2wL8Dqmr5V8AJQAjhOwW8OzCldAa0+FtTJ61d/MUd2vsNGPiSpoW3PuldtGmao2XfZXlK21hERiJyF2OcAp5a+g5c640bnxirijFeAX2P7bvM7HI4HOq3gPDWE/M83/fYzufzdttTY6cf0yt+NXkX7pGGegAAAABJRU5ErkJggg=="}}]);})();
