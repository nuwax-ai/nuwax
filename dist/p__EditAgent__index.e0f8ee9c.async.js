"use strict";(()=>{(self.webpackChunknuwax_frontend=self.webpackChunknuwax_frontend||[]).push([[657],{80860:function(ln,fe,n){n.d(fe,{Z:function(){return s}});var ee=n(65773),M=n(28327),Oe=n(99833),ve=n(94581),ke=n.n(ve),m=n(75271),me=n(53586),C={"xagi-nav-style2":"xagi-nav-style2___mMXYN",text:"text___QMrw8","page-container":"page-container___OILW5",container:"container___CqnIK","extra-box":"extra-box___y8u7O","gap-6":"gap-6___L0Qqc","img-box":"img-box___DFhgw","content-box":"content-box___YPipV",name:"name___MaQ7a",desc:"desc___POp__"},D=n(52676),L=ke().bind(C),te=function(Ie){var xe=Ie.className,oe=Ie.showImage,re=oe===void 0?!0:oe,se=Ie.agentComponentInfo,Ke=Ie.defaultImage,K=Ie.extra,Ve=(0,m.useMemo)(function(){var B=se.targetId,Ne=se.type,T=se.targetConfig,W=se.spaceId;if(T&&W===T.spaceId)switch(Ne){case M.qR.Plugin:return T?.type===Oe.AQ.HTTP?"/space/".concat(W,"/plugin/").concat(B):"/space/".concat(W,"/plugin/").concat(B,"/cloud-tool");case M.qR.Workflow:return"/space/".concat(W,"/workflow/").concat(B);case M.qR.Table:return"/space/".concat(W,"/table/").concat(B);case M.qR.Knowledge:return"/space/".concat(W,"/knowledge/").concat(B)}},[se]),R=(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("span",{className:L("radius-6",C["img-box"]),children:re&&(0,D.jsx)("img",{src:se.icon||Ke,alt:""})}),(0,D.jsxs)("div",{className:L("flex-1","flex","flex-col","content-center","overflow-hide",C["content-box"]),children:[(0,D.jsx)("h3",{className:L("text-ellipsis",C.name),children:se.name}),(0,D.jsx)(ee.Z,{condition:se.description,children:(0,D.jsx)("p",{className:L("text-ellipsis",C.desc),children:se.description})})]})]});return(0,D.jsxs)("div",{className:L("flex","items-center",C.container,xe),children:[Ve?(0,D.jsx)(me.Link,{to:Ve,target:"_blank",className:L("flex-1","flex","items-center","overflow-hide",C["gap-6"]),children:R}):(0,D.jsx)("div",{className:L("flex-1","flex","items-center","overflow-hide",C["gap-6"]),children:R}),(0,D.jsx)("div",{className:L(C["extra-box"],"flex","items-center"),children:K})]})},s=te},99461:function(ln,fe,n){var ee=n(48305),M=n.n(ee),Oe=n(38683),ve=n(6844),ke=n(75271),m=n(68279),me=n(52676),C=function(L){var te=L.items,s=L.defaultActiveKey,Pe=L.onChangeCollapse,Ie=Oe.Z.useToken(),xe=Ie.token,oe=(0,ke.useState)([]),re=M()(oe,2),se=re[0],Ke=re[1];(0,ke.useEffect)(function(){s?.length>0&&Ke(s)},[s]);var K=function(R){Ke(R),Pe?.(R)};return(0,me.jsx)(ve.Z,{bordered:!1,ghost:!0,expandIcon:function(R){var B=R.isActive;return(0,me.jsx)(m.Z,{name:"icons-common-caret_right",rotate:B?90:0,style:{color:xe.colorTextTertiary}})},activeKey:se,onChange:K,items:te})};fe.Z=C},19828:function(ln,fe,n){n.d(fe,{Z:function(){return C}});var ee=n(94581),M=n.n(ee),Oe=n(75271),ve={container:"container___dApW8",star:"star___pESlW"},ke=n(52676),m=M().bind(ve),me=function(L){var te=L.className,s=L.label;return(0,ke.jsxs)("span",{className:m(ve.container,"flex",te),children:[(0,ke.jsx)("span",{children:s}),(0,ke.jsx)("span",{className:m(ve.star),children:"*"})]})},C=me},94731:function(ln,fe,n){n.d(fe,{Z:function(){return yn}});var ee=n(26068),M=n.n(ee),Oe=n(30799),ve=n(75271),ke=n(65773),m=n(94581),me=n.n(m),C={"xagi-nav-style2":"xagi-nav-style2___bmZZd",text:"text___TlJTJ","page-container":"page-container___MtdBj",container:"container___bLyIn"},D=n(52676),L=me().bind(C),te=function(Le){var vn=Le.className,ge=Le.title,Me=Le.content,he=Le.image,fn=Le.onClick;return(0,D.jsxs)("div",{className:L(C.container,"flex","flex-col","cursor-pointer",vn),onClick:fn,children:[(0,D.jsx)("h3",{className:"text-ellipsis-2",children:ge}),(0,D.jsx)(ke.Z,{condition:he,children:(0,D.jsx)("img",{className:"radius-6",src:he,alt:""})}),(0,D.jsx)("p",{className:"text-ellipsis-2",children:Me})]})},s=te,Pe={"xagi-nav-style2":"xagi-nav-style2___LLKTW",text:"text___Vlepy","page-container":"page-container___T748_",container:"container___uoSDc",box:"box___on4p2"},Ie=me().bind(Pe),xe=function(Le){var vn=Le.className,ge=Le.title,Me=Le.content,he=Le.image,fn=Le.onClick;return(0,D.jsxs)("div",{className:Ie(Pe.container,"flex","cursor-pointer","items-center",vn),onClick:fn,children:[(0,D.jsx)(ke.Z,{condition:he,children:(0,D.jsx)("img",{className:"radius-6",src:he,alt:""})}),(0,D.jsxs)("div",{className:Ie(Pe.box,"flex-1","overflow-hide"),children:[(0,D.jsx)("h3",{className:"text-ellipsis",children:ge}),(0,D.jsx)("p",{className:"text-ellipsis-2",children:Me})]})]})},oe=xe,re={"xagi-nav-style2":"xagi-nav-style2___UTXUD",text:"text___ImNss","page-container":"page-container___cWd2B",container:"container___ujWA4"},se=me().bind(re),Ke=function(Le){var vn=Le.className,ge=Le.title,Me=Le.content,he=Le.onClick;return(0,D.jsxs)("div",{className:se(re.container,"cursor-pointer",vn),onClick:he,children:[(0,D.jsx)("h3",{className:"text-ellipsis-2",children:ge}),(0,D.jsx)("p",{className:"text-ellipsis-2",children:Me})]})},K=Ke,Ve={"xagi-nav-style2":"xagi-nav-style2___tYLnj",text:"text___GGppT","page-container":"page-container___fZGCQ",container:"container___mGrAV"},R=me().bind(Ve),B=function(Le){var vn=Le.className,ge=Le.title,Me=Le.content,he=Le.image,fn=Le.onClick;return(0,D.jsxs)("div",{className:R(Ve.container,"flex","flex-col","cursor-pointer",vn),onClick:fn,children:[(0,D.jsx)("h3",{className:"text-ellipsis-2",children:ge}),(0,D.jsxs)("div",{className:"flex",children:[(0,D.jsx)("p",{className:"flex-1 text-ellipsis-2",children:Me}),(0,D.jsx)(ke.Z,{condition:he,children:(0,D.jsx)("img",{className:"radius-6",src:he,alt:""})})]})]})},Ne=B,T=function(Le){var vn=Le.cardKey,ge=Le.bindLinkUrl,Me=function(){ge&&window.open(ge)};switch(vn){case Oe.H1.ONE:return(0,D.jsx)(oe,M()(M()({},Le),{},{onClick:Me}));case Oe.H1.TWO:return(0,D.jsx)(Ne,M()(M()({},Le),{},{onClick:Me}));case Oe.H1.THREE:return(0,D.jsx)(K,M()(M()({},Le),{},{onClick:Me}));case Oe.H1.FOUR:return(0,D.jsx)(s,M()(M()({},Le),{},{onClick:Me}))}},W=T,pe=n(1101),u=n(70183),Be={"inner-container":"inner-container____n5mL","card-item-container":"card-item-container___rBOVp","card-style-two":"card-style-two___mNZ7T"},$e=me().bind(Be),E=function(Le){var vn=Le.className,ge=Le.visible,Me=Le.onClose,he=Le.cardList,fn=function(jn){return he?.length===1&&jn.cardKey===Oe.H1.TWO};return(0,D.jsx)(pe.Z,{title:"\u5C55\u793A\u53F0",className:vn,visible:ge,onClose:Me,children:he?.length>0?(0,D.jsx)("div",{className:$e(Be["inner-container"],"scrollbar"),children:(0,D.jsx)("div",{className:$e(Be["card-item-container"]),children:he?.map(function(ye,jn){return(0,D.jsx)(W,M()(M()({},ye),{},{className:fn(ye)?Be["card-style-two"]:""}),"".concat(ye.cardKey).concat(jn))})})}):(0,D.jsx)("div",{className:$e("flex","h-full","items-center","content-center"),children:(0,D.jsx)(u.Z,{description:"\u6682\u65E0\u6570\u636E"})})})},yn=E},88628:function(ln,fe,n){n.d(fe,{H:function(){return C}});var ee=n(48305),M=n.n(ee),Oe=n(68108),ve=n(94581),ke=n.n(ve),m=n(75271),me=n(52676),C=function(L){var te=L.className,s=L.text,Pe=L.onClick,Ie=L.placement,xe=Ie===void 0?"top":Ie,oe=(0,m.useRef)(null),re=(0,m.useState)(!1),se=M()(re,2),Ke=se[0],K=se[1];return(0,m.useEffect)(function(){var Ve=function(){if(oe.current){var Ne=oe.current,T=Ne.scrollWidth>Ne.clientWidth;K(T)}},R=requestAnimationFrame(Ve);return function(){cancelAnimationFrame(R)}},[s]),(0,me.jsx)("div",{className:ke()("text-ellipsis",te),ref:oe,onClick:Pe,children:(0,me.jsx)(Oe.Z,{title:Ke?s:"",placement:xe,children:s})})}},22479:function(ln,fe,n){var ee=n(90228),M=n.n(ee),Oe=n(87999),ve=n.n(Oe),ke=n(37269),m=n(29333),me=n(53586),C=function(){var L=(0,m.Z)(ke.co,{manual:!0,debounceMaxWait:300}),te=L.runAsync,s=function(){var Pe=ve()(M()().mark(function Ie(xe,oe){var re,se,Ke,K,Ve;return M()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return re=oe?.variableParams,B.next=3,te({agentId:xe,devMode:!1,variables:re});case 3:se=B.sent,Ke=se.success,K=se.data,Ke&&(Ve=K?.id,me.history.push("/home/chat/".concat(Ve,"/").concat(xe),oe));case 7:case"end":return B.stop()}},Ie)}));return function(xe,oe){return Pe.apply(this,arguments)}}();return{handleCreateConversation:s,runAsyncConversationCreate:te}};fe.Z=C},67242:function(ln,fe,n){n.d(fe,{m:function(){return ve}});var ee=n(32699),M=n.n(ee),Oe=n(75271),ve=function(m,me,C,D){var L=(0,Oe.useRef)(0);(0,Oe.useEffect)(function(){var te=m&&"current"in m?m.current:m;if(te){L.current=te.scrollTop;var s=(0,ee.throttle)(function(){var Ie=te.scrollTop,xe=te.scrollHeight,oe=te.clientHeight,re=xe-Ie-oe;re<=50?(me.current=!0,D(!1)):re>100&&D(!0)},100),Pe=function(){var xe=te.scrollTop,oe=te.__isProgrammaticScroll;if(oe){var re=xe<L.current-1;if(re){me.current=!1,C.current&&(clearTimeout(C.current),C.current=null),D(!0),te.__isProgrammaticScroll=!1,L.current=xe;return}L.current=te.scrollTop;return}var se=xe<L.current-1;if(se){me.current=!1,C.current&&(clearTimeout(C.current),C.current=null),D(!0),L.current=xe;return}L.current=xe,s()};return te.addEventListener("scroll",Pe,{passive:!0}),function(){te.removeEventListener("scroll",Pe)}}},[m,m?.current,me,C,D])}},1557:function(ln,fe,n){var ee=n(28327),M=n(27867),Oe=n(41249),ve=n(75271),ke=n(53586),m=function(C){var D=C.containerRef,L=C.eventBindConfig,te=(0,ke.useModel)("chat"),s=te.showPagePreview,Pe=(0,ve.useRef)(new Set),Ie=(0,ve.useCallback)(function(xe,oe){var re,se="".concat(xe,"-").concat(oe);if(!Pe.current.has(se)){Pe.current.add(se),setTimeout(function(){Pe.current.delete(se)},3e3),console.log("[Event Delegate] \u89E6\u53D1\u4E8B\u4EF6:",{eventType:xe,data:oe});var Ke={};try{Ke=JSON.parse(oe)}catch(T){console.error("[Event Delegate] \u6570\u636E\u89E3\u6790\u5931\u8D25:",T);return}var K=L==null||(re=L.eventConfigs)===null||re===void 0?void 0:re.find(function(T){return T.identification===xe});if(!K){console.warn("[Event Delegate] \u672A\u627E\u5230\u4E8B\u4EF6\u914D\u7F6E: ".concat(xe));return}switch(console.log("[Event Delegate] \u627E\u5230\u4E8B\u4EF6\u914D\u7F6E:",K),K.type){case ee.ZE.Page:{if(!K.pageUrl){Oe.ZP.error("\u9875\u9762\u8DEF\u5F84\u914D\u7F6E\u9519\u8BEF");return}var Ve={},R={};if(K.args&&Array.isArray(K.args)&&K.args.forEach(function(T){if(T.inputType==="Path"&&T.name){var W;Ve[T.name]=(W=Ke[T.name])!==null&&W!==void 0?W:T.bindValue}if(T.inputType==="Query"&&T.name){var pe;R[T.name]=(pe=Ke[T.name])!==null&&pe!==void 0?pe:T.bindValue}}),(0,M.N4)(K.pageUrl,Ve)){var B=(0,M.Tx)(K.pageUrl,Ve),Ne=K.basePath?"".concat(K.basePath).concat(B):"".concat("").concat(B);console.log("[Event Delegate] \u6253\u5F00\u9875\u9762:",{uri:Ne,params:R,name:K.name}),s({name:K.pageName||"\u9875\u9762",uri:Ne,params:R,executeId:"event-".concat(Date.now())})}else Oe.ZP.error("\u9875\u9762\u8DEF\u5F84\u53C2\u6570\u914D\u7F6E\u9519\u8BEF");break}case ee.ZE.Link:{if(!K.url){Oe.ZP.error("\u94FE\u63A5\u5730\u5740\u914D\u7F6E\u9519\u8BEF");return}console.log("[Event Delegate] \u6253\u5F00\u5916\u94FE:",K.url),window.open(K.url,"_blank");break}default:console.warn("[Event Delegate] \u672A\u77E5\u7684\u4E8B\u4EF6\u7C7B\u578B: ".concat(K.type))}}},[L,s]);return(0,ve.useEffect)(function(){var xe=D.current;if(xe){var oe=function(se){var Ke=se.target,K=Ke.closest(".event");if(K){se.preventDefault(),se.stopPropagation();var Ve=K.getAttribute("event-type"),R=K.getAttribute("data");Ve&&R?Ie(Ve,R):console.warn("[Event Delegate] \u7F3A\u5C11\u5FC5\u8981\u7684\u5C5E\u6027:",{eventType:Ve,dataStr:R})}};return xe.addEventListener("click",oe),console.log("[Event Delegate] \u4E8B\u4EF6\u4EE3\u7406\u5DF2\u521D\u59CB\u5316"),function(){xe.removeEventListener("click",oe),console.log("[Event Delegate] \u4E8B\u4EF6\u4EE3\u7406\u5DF2\u6E05\u7406")}}},[D,Ie]),{handleEventClick:Ie}};fe.Z=m},32161:function(ln,fe,n){var ee=n(15558),M=n.n(ee),Oe=n(48305),ve=n.n(Oe),ke=n(28327),m=n(75271),me=function(){var D=(0,m.useState)([]),L=ve()(D,2),te=L[0],s=L[1],Pe=function(oe){var re=M()(te);if(re.some(function(Ke){return Ke.id===oe.id})){var se=re.findIndex(function(Ke){return Ke.id===oe.id});re.splice(se,1)}else re.push({id:oe.id,type:oe.type});s(re)},Ie=function(oe){if(oe!=null&&oe.length){var re=oe.filter(function(se){return se.defaultSelected===ke.Km.Yes}).map(function(se){return{id:se.id,type:se.type}});s(re||[])}};return{selectedComponentList:te,setSelectedComponentList:s,handleSelectComponent:Pe,initSelectedComponentList:Ie}};fe.Z=me},1895:function(ln,fe,n){n.d(fe,{Z:function(){return Ie}});var ee=n(15558),M=n.n(ee),Oe=n(48305),ve=n.n(Oe),ke=n(51418),m=n(30799),me=n(94581),C=n.n(me),D=n(75271),L={"xagi-nav-style2":"xagi-nav-style2___MsM8j",text:"text___l5yDL","page-container":"page-container___LNOAL",conversationStatus:"conversationStatus___WWtcf",statusInfo:"statusInfo___A5qtP",agentIcon:"agentIcon___sH1Xs",agentName:"agentName___L2vZe",statusBadge:"statusBadge___jSTU1","status-idle":"status-idle___tPtz6","status-running":"status-running___TtTqH",pulse:"pulse___sgU01","status-completed":"status-completed___qrjqL","status-error":"status-error___r3ZMG",timer:"timer___aJ955"},te=n(52676),s=C().bind(L),Pe=function(oe){var re=oe.messageList,se=oe.className,Ke=(0,D.useState)(0),K=ve()(Ke,2),Ve=K[0],R=K[1],B=(0,D.useState)(null),Ne=ve()(B,2),T=Ne[0],W=Ne[1],pe=(0,D.useRef)(null),u=(0,D.useRef)(null),Be=(0,D.useRef)(!1),$e=(0,D.useMemo)(function(){if(!(!re||re.length===0))return M()(re).reverse().find(function(fn){return fn.role==="ASSISTANT"&&fn.status})},[re]),E=(0,D.useMemo)(function(){if(!re||re.length===0)return{isRunning:!1,userMessageTime:null,hasFinalResult:!1,finalStartTime:null,finalEndTime:null};var fn=M()(re).reverse().find(function(Xn){return Xn.role==="ASSISTANT"&&Xn.status});if(fn!=null&&fn.finalResult)return{isRunning:!1,userMessageTime:null,hasFinalResult:!0,finalStartTime:fn.finalResult.startTime,finalEndTime:fn.finalResult.endTime};var ye=re[re.length-1],jn=ye?.status===m.ge.Loading||ye?.status===m.ge.Incomplete;if(jn){var an=M()(re).reverse().find(function(Xn){return Xn.role==="USER"});return{isRunning:!0,userMessageTime:an?.time||null,hasFinalResult:!1,finalStartTime:null,finalEndTime:null}}return{isRunning:!1,userMessageTime:null,hasFinalResult:!1,finalStartTime:null,finalEndTime:null}},[re]),yn=E.isRunning,Xe=E.userMessageTime,Le=E.hasFinalResult,vn=E.finalStartTime,ge=E.finalEndTime,Me=(0,D.useCallback)(function(){pe.current&&(clearInterval(pe.current),pe.current=null),Be.current=!1,u.current=null},[]);(0,D.useEffect)(function(){if(Le&&vn!==null&&ge!==null){Me();var fn=Math.floor((ge-vn)/1e3),ye=Math.max(fn,Ve);W(ye);return}if(W(null),yn&&Xe){var jn=new Date(Xe).getTime();if(!Be.current||u.current!==jn){Me(),u.current=jn,Be.current=!0;var an=function(){var Rn=Date.now(),l=Math.floor((Rn-jn)/1e3);R(l)};an(),pe.current=setInterval(an,1e3)}}else Be.current&&Me();return function(){pe.current&&(clearInterval(pe.current),pe.current=null)}},[yn,Xe,Le,vn,ge,Me]);var he=(0,D.useMemo)(function(){var fn=T!==null?T:Ve,ye=Math.floor(fn/60),jn=fn%60;return"".concat(ye.toString().padStart(2,"0"),":").concat(jn.toString().padStart(2,"0"))},[Ve,T]);return $e?(0,te.jsxs)("div",{className:s(L.conversationStatus,se),style:{marginBottom:0},children:[(0,te.jsx)("div",{className:s(L.statusBadge),children:(0,te.jsx)(ke.Z,{messageInfo:$e})}),(0,te.jsx)("div",{className:s(L.timer),children:he})]}):null},Ie=Pe},89821:function(ln,fe,n){n.r(fe),n.d(fe,{default:function(){return il}});var ee=n(82092),M=n.n(ee),Oe=n(15558),ve=n.n(Oe),ke=n(26068),m=n.n(ke),me=n(90228),C=n.n(me),D=n(87999),L=n.n(D),te=n(48305),s=n.n(te),Pe=n(45281),Ie=n(99870),xe=n(18765),oe=n(57584),re=n(94731),se=n(54139),Ke=n(46448),K=n(40462),Ve=n(70514),R=n(22906),B=n(41724),Ne=n(34013),T=n(37269),W=n(5622),pe=n(40844),u=n(28327),Be=n(30799),$e=n(68952),E=n(2077),yn=n(22824),Xe=n(2201),Le=n(90013),vn=n(44381),ge=n(36151),Me=n(29333),he=n(41249),fn=n(94581),ye=n.n(fn),jn=n(16483),an=n.n(jn),Xn=n(32222),Rn=n.n(Xn),l=n(75271),pn=n(53586),Ht=n(7597),Ln=n(46388),tt=n(10802),Gn=n(26145),Et=n(83352),Gt=n(80860),gn=n(32139),zt=n(35843),dt=n(24573),ct=n(86743),e=n(52676),Jt=function(r){var o,a=r.textClassName,t=r.itemClassName,i=r.type,c=r.list,f=r.deleteList,A=r.onSet,P=r.onDel,b=function(y){switch(y){case u.qR.Plugin:return{text:"\u63D2\u4EF6\u80FD\u591F\u8BA9\u667A\u80FD\u4F53\u8C03\u7528\u5916\u90E8API\uFF0C\u4F8B\u5982\u641C\u7D22\u4FE1\u606F\u3001\u6D4F\u89C8\u7F51\u9875\u3001\u751F\u6210\u56FE\u7247\u7B49\uFF0C\u6269\u5C55\u667A\u80FD\u4F53\u7684\u80FD\u529B\u548C\u4F7F\u7528\u573A\u666F\u3002",image:Gn};case u.qR.Workflow:return{text:"\u5DE5\u4F5C\u6D41\u652F\u6301\u901A\u8FC7\u53EF\u89C6\u5316\u7684\u65B9\u5F0F\uFF0C\u5BF9\u63D2\u4EF6\u3001\u5927\u8BED\u8A00\u6A21\u578B\u3001\u4EE3\u7801\u5757\u7B49\u529F\u80FD\u8FDB\u884C\u7EC4\u5408\uFF0C\u4ECE\u800C\u5B9E\u73B0\u590D\u6742\u3001\u7A33\u5B9A\u7684\u4E1A\u52A1\u6D41\u7A0B\u7F16\u6392\uFF0C\u4F8B\u5982\u65C5\u884C\u89C4\u5212\u3001\u62A5\u544A\u5206\u6790\u7B49\u3002",image:Et};case u.qR.MCP:return{text:"\u667A\u80FD\u4F53\u53EF\u4EE5\u901A\u8FC7\u6807\u51C6\u5316\u534F\u8BAE\uFF08MCP\uFF09\u8FDE\u63A5\u5404\u7C7B\u670D\u52A1API\u5E76\u53D1\u8D77\u8C03\u7528\u3002",image:tt};case u.qR.Table:return{text:"\u4EE5\u8868\u683C\u7ED3\u6784\u7EC4\u7EC7\u6570\u636E\uFF0C\u53EF\u5B9E\u73B0\u7C7B\u4F3C\u4E66\u7B7E\u548C\u56FE\u4E66\u7BA1\u7406\u7B49\u529F\u80FD\u3002",image:Ln};case u.qR.Page:return{text:"\u9875\u9762\u662F\u667A\u80FD\u4F53\u7684\u53EF\u89C6\u5316\u754C\u9762\uFF0C\u7528\u6237\u53EF\u4EE5\u901A\u8FC7\u9875\u9762\u4E0E\u667A\u80FD\u4F53\u8FDB\u884C\u4EA4\u4E92\u3002",image:Ln};case u.qR.Skill:return{text:"\u6280\u80FD\u662F\u667A\u80FD\u4F53\u7684\u6280\u80FD\uFF0C\u7528\u6237\u53EF\u4EE5\u901A\u8FC7\u6280\u80FD\u4E0E\u667A\u80FD\u4F53\u8FDB\u884C\u4EA4\u4E92\u3002",image:Ln}}},N=function(y,v,ue){return f?.some(function(p){return p.id===y&&p.targetId===v&&p.type===ue})},S=function(y){var v,ue=y.id,p=y.targetId,F=y.type;N(ue,p,F)||P(y.id,y.targetId,y.type,((v=y.bindConfig)===null||v===void 0?void 0:v.toolName)||"")};return c!=null&&c.length?c.map(function(O){var y;return(0,e.jsx)(Gt.Z,{className:t,showImage:i!==u.qR.MCP,agentComponentInfo:O,defaultImage:(y=b(i))===null||y===void 0?void 0:y.image,extra:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(gn.Z,{title:"\u8BBE\u7F6E",icon:(0,e.jsx)(zt.Mf,{className:"cursor-pointer"}),onClick:function(){return A(O.id)}}),(0,e.jsx)(gn.Z,{title:"\u5220\u9664",icon:N(O.id,O.targetId,O.type)?(0,e.jsx)(dt.Z,{}):(0,e.jsx)(ct.Z,{className:"cursor-pointer"}),onClick:function(){return S(O)}})]})},O.id)}):(0,e.jsx)("p",{className:a,children:(o=b(i))===null||o===void 0?void 0:o.text})},at=Jt,rt=n(99461),sa=n(43637),Za=n(79484),At=n(83285),Lt=n(57931),vt=n(7914),yt=n(68108),La=n(2541),zn=n(38413),Kn=n(99833),$n=n(44689),da=[{value:u.Qr.AUTO,label:"\u81EA\u52A8\u8C03\u7528"},{value:u.Qr.ON_DEMAND,label:"\u6309\u9700\u8C03\u7528"},{value:u.Qr.MANUAL,label:"\u624B\u52A8\u9009\u62E9"},{value:u.Qr.MANUAL_ON_DEMAND,label:"\u624B\u52A8\u9009\u62E9+\u6309\u9700\u8C03\u7528"}],wa=[{value:u.Qr.ON_DEMAND,label:"\u6309\u9700\u8C03\u7528"},{value:u.Qr.MANUAL_ON_DEMAND,label:"\u624B\u52A8\u9009\u62E9"}],Oa=[{value:u.Km.No,label:"\u5426"},{value:u.Km.Yes,label:"\u662F"}],ka=[{value:u.E8.No,label:"\u5426"},{value:u.E8.Yes,label:"\u662F"}],In=[{value:u.kD.MIXED,label:(0,e.jsxs)("span",{className:"flex items-center",children:[(0,e.jsx)("span",{children:"\u6DF7\u5408"}),(0,e.jsx)(gn.Z,{title:"\u7ED3\u5408\u5168\u6587\u68C0\u7D22\u4E0E\u8BED\u4E49\u68C0\u7D22\u7684\u4F18\u52BF,\u5E76\u5BF9\u7ED3\u679C\u8FDB\u884C\u7EFC\u5408\u6392\u5E8F",icon:(0,e.jsx)($n.Z,{})})]})},{value:u.kD.SEMANTIC,label:(0,e.jsxs)("span",{className:"flex items-center",children:[(0,e.jsx)("span",{children:"\u8BED\u4E49"}),(0,e.jsx)(gn.Z,{title:"\u57FA\u4E8E\u5411\u91CF\u7684\u6587\u672C\u76F8\u5173\u6027\u67E5\u8BE2,\u63A8\u8350\u5728\u9700\u8981\u7406\u89E3\u8BED\u4E49\u5173\u8054\u5EA6\u548C\u8DE8\u8BED\u8A00\u67E5\u8BE2\u7684\u573A\u666F\u4F7F\u7528\u3002",icon:(0,e.jsx)($n.Z,{})})]})},{value:u.kD.FULL_TEXT,label:(0,e.jsxs)("span",{className:"flex items-center",children:[(0,e.jsx)("span",{children:"\u5168\u6587"}),(0,e.jsx)(gn.Z,{title:"\u4F9D\u8D56\u4E8E\u5173\u952E\u8BCD\u7684\u5168\u6587\u641C\u7D22,\u63A8\u8350\u5728\u641C\u7D22\u5177\u6709\u7279\u5B9A\u540D\u79F0\u3001\u7F29\u5199\u8BCD\u3001\u77ED\u8BED\u6216ID\u7684\u573A\u666F\u4F7F\u7528\u3002",icon:(0,e.jsx)($n.Z,{})})]})}],bn=[{value:u.E3.DEFAULT,label:"\u9ED8\u8BA4"},{value:u.E3.CUSTOM,label:"\u81EA\u5B9A\u4E49"}],An=[{value:Kn.tJ.SINGLE,label:"\u5355\u5F20\u5361\u7247"},{value:Kn.tJ.LIST,label:"\u7AD6\u5411\u5217\u8868"}],kn=[{label:"\u7CBE\u786E\u6A21\u5F0F",value:zn.jD.Precision},{label:"\u5E73\u8861\u6A21\u5F0F",value:zn.jD.Balanced},{label:"\u521B\u610F\u6A21\u5F0F",value:zn.jD.Creative},{label:"\u81EA\u5B9A\u4E49",value:zn.jD.Customization}],ut=M()(M()(M()({},zn.jD.Precision,{temperature:.1,topP:.7}),zn.jD.Balanced,{temperature:1,topP:.7}),zn.jD.Creative,{temperature:1,topP:.8}),Yt=[{value:Kn.HD.Tenant,label:"\u5168\u5C40"},{value:Kn.HD.Space,label:"\u5DE5\u4F5C\u7A7A\u95F4"}],Ca=[{value:u.oI.Text,label:"\u5355\u884C\u6587\u672C"},{value:u.oI.Paragraph,label:"\u6BB5\u843D"},{value:u.oI.Number,label:"\u6570\u5B57"},{value:u.oI.Select,label:"\u5355\u9009"},{value:u.oI.MultipleSelect,label:"\u591A\u9009"},{value:u.oI.AutoRecognition,label:"\u667A\u80FD\u8BC6\u522B"}],Xt={options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[]}]}]},sl=null,lu=[{value:u._A.Question,label:"\u95EE\u9898\u5F15\u5BFC"},{value:u._A.Page,label:"\u6269\u5C55\u9875\u9762\u8DEF\u5F84"},{value:u._A.Link,label:"\u5916\u94FE\u5730\u5740"}],Ir=[{value:u.ZE.Page,label:"\u6269\u5C55\u9875\u9762\u6253\u5F00"},{value:u.ZE.Link,label:"\u5916\u90E8\u94FE\u63A5\u8DF3\u8F6C"}],iu=[{value:u.BV.Edit,label:"\u7F16\u8F91"},{value:u.BV.InsertSystemPrompt,label:"\u63D2\u5165\u5230\u63D0\u793A\u8BCD"},{value:u.BV.Delete,label:"\u5220\u9664"}],su=[{value:u.Gw.No,label:"\u5426"},{value:u.Gw.Yes,label:"\u662F"}],du=[{value:u.PT.No,label:"\u5426"},{value:u.PT.Yes,label:"\u662F"}],Nr=n(14258),$t=n(14719),ft=n(65773),xa=n(19828),Nn=n(63619),Zn=n(9504),pt={"xagi-nav-style2":"xagi-nav-style2___E5g3B",text:"text___OR8er","page-container":"page-container___edfQB",container:"container___bIAoA",header:"header___xEh8u",desc:"desc___iAhI9","reply-content":"reply-content___DGIN1",textarea:"textarea___RVpuC",tips:"tips___lKH6p",footer:"footer___zzeZr","btn-disabled":"btn-disabled___gaWUM"},qn=ye().bind(pt),cu=function(r){var o=r.async,a=r.asyncReplyContent,t=r.onSaveSet,i=(0,l.useState)(),c=s()(i,2),f=c[0],A=c[1],P=(0,l.useState)(""),b=s()(P,2),N=b[0],S=b[1],O=(0,l.useState)(!1),y=s()(O,2),v=y[0],ue=y[1];(0,l.useEffect)(function(){S(a||"\u5DF2\u7ECF\u5F00\u59CB\u4E3A\u60A8\u5904\u7406\uFF0C\u8BF7\u8010\u5FC3\u7B49\u5F85\u8FD0\u884C\u7ED3\u679C"),A(o||u.Km.No)},[o,a]);var p=(0,l.useMemo)(function(){return f===u.Km.Yes&&!N},[f,N]),F=function(){var I=L()(C()().mark(function $(){var le;return C()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return le={async:f,asyncReplyContent:N},ue(!0),J.next=4,t(le);case 4:ue(!1);case 5:case"end":return J.stop()}},$)}));return function(){return I.apply(this,arguments)}}(),_=function($){var le=$?u.Km.Yes:u.Km.No;A(le)};return(0,e.jsxs)("div",{className:qn("flex","flex-col","h-full",pt.container),children:[(0,e.jsxs)("div",{className:qn("flex-1"),children:[(0,e.jsxs)("header",{className:qn("flex","items-center",pt.header),children:[(0,e.jsx)("div",{className:qn("flex-1"),children:"\u5F02\u6B65\u8FD0\u884C"}),(0,e.jsx)(vt.Z,{checked:f===u.Km.Yes,onChange:_})]}),(0,e.jsx)("p",{className:qn(pt.desc),children:"\u4EFB\u52A1\u8FDB\u5165\u5F02\u6B65\u8FD0\u884C\u65F6\u9ED8\u8BA4\u8FD4\u56DE\u4E00\u6761\u56DE\u590D\u5185\u5BB9\uFF0C\u7528\u6237\u53EF\u4EE5\u7EE7\u7EED\u5BF9\u8BDD\uFF0C\u4EFB\u52A1\u5728\u540E\u53F0\u8FD0\u884C\u5B8C\u6210\u540E\u4F1A\u901A\u77E5\u7528\u6237"}),(0,e.jsxs)(ft.Z,{condition:f,children:[(0,e.jsx)(xa.Z,{className:qn(pt["reply-content"]),label:"\u56DE\u590D\u5185\u5BB9"}),(0,e.jsx)(Nn.Z.TextArea,{className:qn("dispose-textarea-count"),classNames:{textarea:qn(pt.textarea)},placeholder:"\u60A8\u53EF\u4EE5\u5728\u8FD9\u91CC\u8BBE\u7F6E\u6D88\u606F\u56DE\u590D,\u4EFB\u52A1\u8FD0\u884C\u65F6\u5C06\u81EA\u52A8\u56DE\u590D,\u6BD4\u5982: \u4EFB\u52A1\u5DF2\u5728\u8FDB\u884C\u4E2D,\u4E00\u65E6\u5B8C\u6210\u6211\u5C06\u7B2C\u4E00\u65F6\u95F4\u5411\u60A8\u62A5\u544A\u7ED3\u679C,\u60A8\u8FD8\u6709\u5176\u4ED6\u9700\u8981\u6211\u534F\u52A9\u7684\u4E8B\u9879\u5417?",autoSize:{minRows:5,maxRows:6},maxLength:1e3,showCount:!0,value:N,onChange:function($){return S($.target.value)}}),(0,e.jsx)(ft.Z,{condition:!N,children:(0,e.jsx)("p",{className:qn(pt.tips),children:"\u56DE\u590D\u5185\u5BB9\u5FC5\u987B\u8BBE\u7F6E"})})]})]}),(0,e.jsx)("footer",{className:qn(pt.footer),children:(0,e.jsx)(Zn.ZP,{type:"primary",onClick:F,loading:v,className:qn(M()({},pt["btn-disabled"],p)),disabled:p,children:"\u4FDD\u5B58"})})]})},vu=cu,fu=n(59602),pu=n(84896),Ua=n(13143),ca={"space-box":"space-box___WAHPn","input-number-arrow":"input-number-arrow___FvcHe","input-disabled":"input-disabled___X0xv_"},va=ye().bind(ca),mu=function(r){var o=r.value,a=r.onChange,t=r.placeholder,i=t===void 0?"\u8BF7\u8F93\u5165":t,c=r.min,f=c===void 0?0:c,A=r.max,P=r.step,b=P===void 0?1:P,N=Number(o)===A?ca["input-disabled"]:"",S=Number(o)===f?ca["input-disabled"]:"",O=function(_){var I=_.target.value,$=/^-?\d*(\.\d*)?$/;($.test(I)||I===""||I==="-")&&a(I)},y=function(_){var I=Math.max(_,f);A&&_>A&&(I=A),b.toString().includes(".")&&(I=parseFloat(I.toFixed(2))),a(I.toString())},v=function(){var _,I=o?.toString()||"0";(I&&I.charAt(I.length-1)==="."||I==="-")&&(I=I.slice(0,-1));var $=(_=I)===null||_===void 0?void 0:_.replace(/0*(\d+)/,"$1");y(Number($))},ue=function(){var _=o?Number(o):0,I=_+b;y(I)},p=function(){var _=o?Number(o):0,I=_-b;y(I)};return(0,e.jsxs)("div",{className:va("flex",ca["space-box"]),children:[(0,e.jsx)(Nn.Z,{rootClassName:va("flex-1"),placeholder:i,value:o,onChange:O,onBlur:v}),(0,e.jsxs)("div",{className:va("flex","flex-col","content-between",ca["input-number-arrow"]),children:[(0,e.jsx)(pu.Z,{className:va("cursor-pointer",N),onClick:ue}),(0,e.jsx)(Ua.Z,{className:va("cursor-pointer",S),onClick:p})]})]})},Br=mu,Ea=n(60393),sn=n(28190),et=n(51430),Va=n(17701),Qa=n(29328),Ka=n(70183),fa={"space-box":"space-box___KVU7O","radius-number":"radius-number___pKpEO","link-switch":"link-switch___BekgU",footer:"footer___xsshb"},mt=ye().bind(fa),gu=function(r){var o,a,t=r.componentInfo,i=r.cardInfo,c=r.onSaveSet,f=(0,l.useState)(Kn.tJ.SINGLE),A=s()(f,2),P=A[0],b=A[1],N=(0,l.useState)("5"),S=s()(N,2),O=S[0],y=S[1],v=(0,l.useState)(""),ue=s()(v,2),p=ue[0],F=ue[1],_=(0,l.useState)([]),I=s()(_,2),$=I[0],le=I[1],d=(0,l.useState)(!1),J=s()(d,2),be=J[0],We=J[1],He=(0,l.useState)([]),de=s()(He,2),ce=de[0],Se=de[1],H=(0,l.useState)(!1),Q=s()(H,2),G=Q[0],we=Q[1],ze=(0,l.useState)(!1),Ye=s()(ze,2),Ge=Ye[0],Ee=Ye[1],Te=(0,l.useState)(""),ie=s()(Te,2),rn=ie[0],dn=ie[1],En=(0,l.useState)(!1),mn=s()(En,2),_n=mn[0],hn=mn[1],je=t==null||(o=t.bindConfig)===null||o===void 0?void 0:o.outputArgBindConfigs,U=t==null||(a=t.bindConfig)===null||a===void 0?void 0:a.cardBindConfig;(0,l.useEffect)(function(){if(P===Kn.tJ.LIST){var ae=Rn()(je),V=(0,Lt.Lg)(ae),ne=(0,Lt.y7)(V);le(ne)}},[je,P]),(0,l.useEffect)(function(){if(U&&i?.id===U.cardId){var ae;if(b(U.bindCardStyle),y(U?.maxCardCount||"5"),F(U?.bindArray),U!=null&&U.bindLinkUrl&&(Ee(!0),dn(U?.bindLinkUrl)),U!=null&&(ae=U.cardArgsBindConfigs)!==null&&ae!==void 0&&ae.length){var V,ne=U==null||(V=U.cardArgsBindConfigs)===null||V===void 0?void 0:V.map(function(z){var De,Qe=(i==null||(De=i.argList)===null||De===void 0||(De=De.find(function(Ze){return Ze.key===z.key}))===null||De===void 0?void 0:De.placeholder)||"";return{key:z.key,cardKey:z.bindValue,placeholder:Qe}});Se(ne)}}else b(Kn.tJ.SINGLE),F(""),y("5"),Ee(!1),dn(""),Se(i?.argList||[])},[i,U]);var q=(0,l.useMemo)(function(){var ae=Rn()(je);if(P===Kn.tJ.SINGLE)return(0,Lt.k$)(ae);var V;return p?((V=(0,Lt.DY)(ae,p))===null||V===void 0?void 0:V.subArgs)||[]:[]},[je,P,p]),qe=function(V){var ne=V.target.value;b(ne),Ee(!1),dn(""),Se(i?.argList||[])},_e=function(V,ne){var z=ne.node;F(String(z.key)),We(!1)},Z=function(V,ne){var z=Rn()(ce);z[V].open=ne,Se(z)},Re=function(V,ne){var z=Rn()(ce);z[V].open=!1,z[V].cardKey=ne?.key||"",Se(z)},Fe=function(V){Ee(V),V||dn("")},Je=function(){var ae=L()(C()().mark(function V(){var ne,z,De,Qe;return C()().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return ne=ce?.map(function(en){return{key:en.key,bindValue:en?.cardKey||""}}),z={cardId:i?.id,cardKey:i?.cardKey,bindCardStyle:P,cardArgsBindConfigs:ne,bindLinkUrl:rn},De=P===Kn.tJ.SINGLE?z:m()(m()({},z),{},{maxCardCount:O,bindArray:p}),Qe={cardBindConfig:De},hn(!0),Ae.next=7,c(Qe);case 7:hn(!1);case 8:case"end":return Ae.stop()}},V)}));return function(){return ae.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:mt("flex-1","flex","flex-col"),children:[(0,e.jsxs)(sn.Z,{layout:"vertical",preserve:!1,rootClassName:mt("flex-1"),requiredMark:Ea.N,children:[(0,e.jsx)(sn.Z.Item,{label:"\u9009\u62E9\u5361\u7247\u6837\u5F0F",children:(0,e.jsx)(et.ZP.Group,{onChange:qe,value:P,options:An})}),P===Kn.tJ.LIST&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(sn.Z.Item,{label:(0,e.jsx)(xa.Z,{label:"\u5361\u7247\u5217\u8868\u6700\u5927\u957F\u5EA6"}),rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5361\u7247\u5217\u8868\u6700\u5927\u957F\u5EA6"}],children:(0,e.jsx)(Br,{value:O,onChange:function(V){return y(V)},placeholder:"\u8BF7\u8F93\u5165\u5361\u7247\u5217\u8868\u6700\u5927\u957F\u5EA6",max:20,min:1})}),(0,e.jsx)(sn.Z.Item,{label:"\u4E3A\u5361\u7247\u6574\u4F53\u7ED1\u5B9A\u4E00\u4E2A\u6570\u7EC4",children:(0,e.jsx)(Va.default,{allowClear:!0,onClear:function(){F(""),We(!1)},popupMatchSelectWidth:!1,open:be,value:p||null,onDropdownVisibleChange:function(V){We(V)},onClick:function(){return We(!0)},placeholder:"\u8BF7\u4E3A\u5361\u7247\u6574\u4F53\u7ED1\u5B9A\u4E00\u4E2A\u6570\u7EC4",popupRender:function(){return $?.length>0?(0,e.jsx)(Qa.Z,{treeData:$,height:300,blockNode:!0,defaultExpandAll:!0,onClick:function(ne){ne.stopPropagation()},onSelect:_e,fieldNames:{title:"name",key:"key",children:"subArgs"}}):(0,e.jsx)(Ka.Z,{description:"\u6682\u65E0\u6570\u636E"})}})})]}),(0,e.jsx)(sn.Z.Item,{label:"\u4E3A\u5361\u7247\u5185\u7684\u5217\u8868\u9879\u7ED1\u5B9A\u6570\u636E",children:ce?.map(function(ae,V){return(0,e.jsx)(sn.Z.Item,{className:mt("mb-16"),children:(0,e.jsxs)("div",{className:mt("flex","items-center",fa["space-box"]),children:[(0,e.jsx)("span",{className:mt(fa["radius-number"]),children:V+1}),(0,e.jsx)(Va.default,{allowClear:!0,onClear:function(){return Re(V)},rootClassName:mt("flex-1"),popupMatchSelectWidth:!1,disabled:P===Kn.tJ.LIST&&!p,open:!!ae?.open,value:ae?.cardKey||null,onDropdownVisibleChange:function(z){return Z(V,z)},onClick:function(){return Z(V,!0)},popupRender:function(){return q?.length>0?(0,e.jsx)(Qa.Z,{treeData:q,height:300,blockNode:!0,defaultExpandAll:!0,onClick:function(De){De.stopPropagation()},onSelect:function(De,Qe){var Ze=Qe.node;return Re(V,Ze)},fieldNames:{title:"name",key:"key",children:"subArgs"}}):(0,e.jsx)(Ka.Z,{description:"\u6682\u65E0\u6570\u636E"})},placeholder:ae.placeholder||"\u8BF7\u9009\u62E9"})]})},ae.key)})}),(0,e.jsxs)(sn.Z.Item,{label:"\u70B9\u51FB\u5361\u7247\u8DF3\u8F6C",tooltip:{title:"\u7ED1\u5B9A\u540E\uFF0C\u7528\u6237\u5728\u667A\u80FD\u4F53\u5BF9\u8BDD\u6D41\u4E2D\u70B9\u51FB \u5361\u7247\u53EF\u8DF3\u8F6C\u81F3\u5176\u4ED6\u9875\u9762",icon:(0,e.jsx)($n.Z,{})},children:[(0,e.jsx)(vt.Z,{className:mt(fa["link-switch"]),disabled:!(q!=null&&q.length),size:"small",checked:Ge,onChange:Fe}),(0,e.jsx)(ft.Z,{condition:Ge,children:(0,e.jsx)(Va.default,{allowClear:!0,onClear:function(){dn(""),we(!1)},rootClassName:mt("flex-1"),popupMatchSelectWidth:!1,open:G,value:rn||null,onDropdownVisibleChange:function(V){return we(V)},onClick:function(){return we(!0)},popupRender:function(){return(0,e.jsx)(Qa.Z,{treeData:q,height:300,blockNode:!0,defaultExpandAll:!0,onClick:function(ne){ne.stopPropagation()},onSelect:function(ne,z){var De=z.node;dn(De.key),we(!1)},fieldNames:{title:"name",key:"key",children:"subArgs"}})},placeholder:"\u4E3Aurl\u9009\u62E9\u6570\u636E\u6765\u6E90"})})]})]}),(0,e.jsx)("footer",{className:mt(fa.footer),children:(0,e.jsx)(Zn.ZP,{type:"primary",onClick:Je,loading:_n,children:"\u4FDD\u5B58"})})]})},hu=gu,Wa={"card-box":"card-box___L2_At",radio:"radio___oRbG0"},Ha=ye().bind(Wa),Cu=function(r){var o=r.cardKey,a=r.list,t=r.onChoose;return(0,e.jsx)("div",{className:Ha("h-full","overflow-y"),children:a?.map(function(i){return(0,e.jsxs)("div",{className:Ha(Wa["card-box"],"flex","hover-box","cursor-pointer"),onClick:function(){return t(i)},children:[(0,e.jsx)("img",{className:"radius-6",src:i.imageUrl,alt:""}),(0,e.jsx)(et.ZP,{checked:i.cardKey===o,className:Ha(Wa.radio)})]},i.id)})})},xu=Cu,Aa={"xagi-nav-style2":"xagi-nav-style2___T7zkB",text:"text___QIxvP","page-container":"page-container___AK9tx",container:"container___KJPJn",title:"title___J7PRF"},qt=ye().bind(Aa),Eu=function(r){var o=r.loading,a=r.agentCardList,t=r.componentInfo,i=r.onSaveSet,c=(0,l.useState)(),f=s()(c,2),A=f[0],P=f[1];return(0,l.useEffect)(function(){var b,N=t==null||(b=t.bindConfig)===null||b===void 0||(b=b.cardBindConfig)===null||b===void 0?void 0:b.cardId;P(N?a.find(function(S){return S.id===N}):a[0])},[a,t]),(0,e.jsx)("div",{className:qt("flex","h-full",Aa.container),children:o?(0,e.jsx)(fu.Z,{className:qt("h-full")}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:qt("flex-1","px-16","py-16"),children:[(0,e.jsx)("h3",{className:qt(Aa.title),children:"\u9009\u62E9\u5361\u7247\u6837\u5F0F"}),(0,e.jsx)(xu,{cardKey:A?.cardKey,list:a,onChoose:P})]}),(0,e.jsxs)("div",{className:qt("flex-1","flex","flex-col","px-16","py-16"),children:[(0,e.jsx)("h3",{className:qt(Aa.title),children:"\u4E3A\u5361\u7247\u7ED1\u5B9A\u6570\u636E\u6E90"}),(0,e.jsx)(hu,{cardInfo:A,componentInfo:t,onSaveSet:i})]})]})})},Au=Eu,bt={"xagi-nav-style2":"xagi-nav-style2___xErq3",text:"text___Jldky","page-container":"page-container___XNHR8",container:"container___f5OC_",header:"header____Mhqp",desc:"desc___zrBqq","reply-content":"reply-content___e4lnw",textarea:"textarea___I5Ny2",tips:"tips___gxuIs",footer:"footer___v3HYH","btn-disabled":"btn-disabled___pDNWH"},ot=ye().bind(bt),yu=function(r){var o=r.exceptionOut,a=r.fallbackMsg,t=r.onSaveSet,i=(0,l.useState)(),c=s()(i,2),f=c[0],A=c[1],P=(0,l.useState)(""),b=s()(P,2),N=b[0],S=b[1],O=(0,l.useState)(!1),y=s()(O,2),v=y[0],ue=y[1];(0,l.useEffect)(function(){S(a||""),A(o||u.Km.No)},[o,a]);var p=(0,l.useMemo)(function(){return f===u.Km.Yes&&!N},[f,N]),F=function(){var I=L()(C()().mark(function $(){var le;return C()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return le={exceptionOut:f,fallbackMsg:N},ue(!0),J.next=4,t(le);case 4:ue(!1);case 5:case"end":return J.stop()}},$)}));return function(){return I.apply(this,arguments)}}(),_=function($){var le=$?u.Km.Yes:u.Km.No;A(le)};return(0,e.jsxs)("div",{className:ot("flex","flex-col","h-full",bt.container),children:[(0,e.jsxs)("div",{className:ot("flex-1"),children:[(0,e.jsxs)("header",{className:ot("flex","items-center",bt.header),children:[(0,e.jsx)("div",{className:ot("flex-1"),children:"\u5F02\u5E38\u65F6\u4E2D\u65AD\u6D41\u7A0B"}),(0,e.jsx)(vt.Z,{checked:f===u.Km.Yes,onChange:_})]}),(0,e.jsx)("p",{className:ot(bt.desc),children:"\u5F02\u5E38\u65F6\u8F93\u51FA\u7ED9\u5927\u6A21\u578B\u7684\u9ED8\u8BA4\u4FE1\u606F"}),(0,e.jsxs)(ft.Z,{condition:f,children:[(0,e.jsx)(xa.Z,{className:ot(bt["reply-content"]),label:"\u9ED8\u8BA4\u4FE1\u606F"}),(0,e.jsx)(Nn.Z.TextArea,{className:ot("dispose-textarea-count"),classNames:{textarea:ot(bt.textarea)},placeholder:"\u8BF7\u8F93\u5165\u5F02\u5E38\u65F6\u8F93\u51FA\u7ED9\u5927\u6A21\u578B\u7684\u9ED8\u8BA4\u4FE1\u606F",autoSize:{minRows:5,maxRows:6},maxLength:1e3,showCount:!0,value:N,onChange:function($){return S($.target.value)}})]})]}),(0,e.jsx)("footer",{className:ot(bt.footer),children:(0,e.jsx)(Zn.ZP,{type:"primary",onClick:F,loading:v,className:ot(M()({},bt["btn-disabled"],p)),disabled:p,children:"\u4FDD\u5B58"})})]})},bu=yu,St={"xagi-nav-style2":"xagi-nav-style2___jGSEw",text:"text___kxX4U","page-container":"page-container___x6Z85","modal-container":"modal-container___DIR0N",container:"container___jZY5S",left:"left___zfIP5",item:"item___kItJN",checked:"checked___Q1XQY",right:"right___AZIcw",close:"close___bZkPm"},Tr=n(20860),ya={"xagi-nav-style2":"xagi-nav-style2___un28i",text:"text___jZkxu","page-container":"page-container___FCTEI",container:"container___n6D12",icon:"icon___CDvAh",footer:"footer___bl30K"},ea=ye().bind(ya),Su=function(r){var o=r.options,a=o===void 0?da:o,t=r.invokeType,i=r.onSaveSet,c=r.defaultSelected,f=r.tooltip,A=f===void 0?(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{children:"\u81EA\u52A8\u8C03\u7528\uFF1A\u7528\u6237\u6BCF\u6B21\u53D1\u9001\u6D88\u606F\u540E\u90FD\u4F1A\u89E6\u53D1\u8C03\u7528\u4E00\u6B21"}),(0,e.jsx)("p",{children:"\u6309\u9700\u8C03\u7528\uFF1A\u7531\u6A21\u578B\u6839\u636E\u4EFB\u52A1\u60C5\u51B5\u51B3\u5B9A\u662F\u5426\u9700\u8981\u8C03\u7528"}),(0,e.jsx)("p",{children:"\u624B\u52A8\u9009\u62E9\uFF1A\u7531\u7528\u6237\u51B3\u5B9A\u662F\u5426\u4F7F\u7528\u8BE5\u5DE5\u5177\uFF0C\u5728\u7528\u6237\u9009\u62E9\u7684\u60C5\u51B5\u4E0B\u548C\u81EA\u52A8\u8C03\u7528\u6548\u679C\u4E00\u6837"}),(0,e.jsx)("p",{children:"\u624B\u52A8\u9009\u62E9+\u6309\u9700\u8C03\u7528\uFF1A\u7528\u6237\u9009\u62E9\u540E\uFF0C\u7531\u6A21\u578B\u6839\u636E\u4EFB\u52A1\u60C5\u51B5\u9009\u62E9\u662F\u5426\u9700\u8981\u8C03\u7528\uFF1B\u7528\u6237\u4E0D\u9009\u62E9\u5219\u4E0D\u4F1A\u8C03\u7528"})]}):f,P=(0,l.useState)(),b=s()(P,2),N=b[0],S=b[1],O=(0,l.useState)(u.Km.No),y=s()(O,2),v=y[0],ue=y[1],p=(0,l.useState)(!1),F=s()(p,2),_=F[0],I=F[1];(0,l.useEffect)(function(){S(t||u.Qr.AUTO),ue(c||u.Km.No)},[t,c]);var $=function(J){var be=J.target.value;S(be)},le=function(){var d=L()(C()().mark(function J(){var be;return C()().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return be={invokeType:N,defaultSelected:v},I(!0),He.next=4,i(be);case 4:I(!1);case 5:case"end":return He.stop()}},J)}));return function(){return d.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:ea(ya.container,"flex","flex-col"),children:[(0,e.jsxs)("div",{className:ea("flex-1"),children:[(0,e.jsxs)("h3",{className:ea("gap-6","flex","items-center"),children:[(0,e.jsx)("span",{children:"\u8C03\u7528\u65B9\u5F0F"}),(0,e.jsx)(yt.Z,{title:A,children:(0,e.jsx)(Tr.Z,{className:ea(ya.icon)})})]}),(0,e.jsx)(et.ZP.Group,{options:a,onChange:$,value:N}),(0,e.jsxs)(ft.Z,{condition:N===u.Qr.MANUAL||N===u.Qr.MANUAL_ON_DEMAND,children:[(0,e.jsx)("h3",{className:ea("mt-16"),children:"\u662F\u5426\u9ED8\u8BA4\u9009\u4E2D"}),(0,e.jsx)(et.ZP.Group,{options:Oa,onChange:function(J){return ue(J.target.value)},value:v})]})]}),(0,e.jsx)("footer",{className:ea(ya.footer),children:(0,e.jsx)(Zn.ZP,{type:"primary",onClick:le,loading:_,children:"\u4FDD\u5B58"})})]})},ju=(0,l.memo)(Su),ba={"xagi-nav-style2":"xagi-nav-style2___E4WCM",text:"text___BTc0l","page-container":"page-container___aRrpX",container:"container___IwVbE",icon:"icon___yZKCd",footer:"footer___gT5kO"},pa=ye().bind(ba),Fu=function(r){var o=r.directOutput,a=r.onSaveSet,t=(0,l.useState)(),i=s()(t,2),c=i[0],f=i[1],A=(0,l.useState)(!1),P=s()(A,2),b=P[0],N=P[1];(0,l.useEffect)(function(){f(o||u.E8.No)},[o]);var S=function(v){var ue=v.target.value;f(ue)},O=function(){var y=L()(C()().mark(function v(){var ue;return C()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return ue={directOutput:c},N(!0),F.next=4,a(ue);case 4:N(!1);case 5:case"end":return F.stop()}},v)}));return function(){return y.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:pa(ba.container,"flex","flex-col"),children:[(0,e.jsxs)("div",{className:pa("flex-1"),children:[(0,e.jsxs)("h3",{className:pa("gap-6","flex","items-center"),children:[(0,e.jsx)("span",{children:"\u662F\u5426\u76F4\u63A5\u8F93\u51FA"}),(0,e.jsx)(yt.Z,{title:"\u5982\u679C\u9009\u62E9\u201C\u662F\u201D\uFF0C\u5C06\u4F1A\u628A\u5DE5\u4F5C\u6D41\u8FD0\u884C\u7ED3\u679C\u76F4\u63A5\u8F93\u51FA\u5230\u4F1A\u8BDD\u6846\u4E2D\uFF0C\u4E0D\u4F1A\u518D\u7ECF\u8FC7\u5927\u6A21\u578B\u603B\u7ED3\u8F93\u51FA\u3002",children:(0,e.jsx)(Tr.Z,{className:pa(ba.icon)})})]}),(0,e.jsx)(et.ZP.Group,{options:ka,onChange:S,value:c})]}),(0,e.jsx)("footer",{className:pa(ba.footer),children:(0,e.jsx)(Zn.ZP,{type:"primary",onClick:O,loading:b,children:"\u4FDD\u5B58"})})]})},Du=(0,l.memo)(Fu),na=ye().bind(St),_u=function(r){var o=r.open,a=r.currentComponentInfo,t=r.devConversationId,i=r.variables,c=r.onCancel,f=r.settingActionList,A=f===void 0?At.a$:f,P=(0,l.useState)(E.wQ.Params),b=s()(P,2),N=b[0],S=b[1],O=(0,l.useState)(),y=s()(O,2),v=y[0],ue=y[1],p=(0,l.useState)(!1),F=s()(p,2),_=F[0],I=F[1],$=(0,l.useState)([]),le=s()($,2),d=le[0],J=le[1],be=(0,pn.useModel)("spaceAgent"),We=be.setAgentComponentList,He=(0,pn.useModel)("conversationInfo"),de=He.runQueryConversation;(0,l.useEffect)(function(){a?.type===u.qR.Skill?S(E.wQ.Method_Call):S(E.wQ.Params),ue(a)},[a]);var ce={manual:!0,debounceWait:300},Se=(0,Me.Z)(T.Cd,ce),H=Se.runAsync,Q=(0,Me.Z)(T.ao,ce),G=Q.runAsync,we=(0,Me.Z)(T.M8,ce),ze=we.runAsync,Ye=(0,Me.Z)(T.Nc,ce),Ge=Ye.runAsync,Ee=(0,Me.Z)(T.j1,ce),Te=Ee.runAsync,ie=(0,Me.Z)(T.P4,m()(m()({},ce),{},{onSuccess:function(je){var U=je.data;U!=null&&U.length&&J(U),I(!1)},onError:function(){I(!1)}})),rn=ie.run;(0,l.useEffect)(function(){I(!0),rn()},[]);var dn=function(){var hn=L()(C()().mark(function je(U){var q;return C()().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(q=null,v?.type!==u.qR.Plugin){_e.next=5;break}return _e.next=4,H(U);case 4:q=_e.sent;case 5:if(v?.type!==u.qR.Workflow){_e.next=9;break}return _e.next=8,G(U);case 8:q=_e.sent;case 9:if(v?.type!==u.qR.Table){_e.next=13;break}return _e.next=12,ze(U);case 12:q=_e.sent;case 13:if(v?.type!==u.qR.MCP){_e.next=17;break}return _e.next=16,Ge(U);case 16:q=_e.sent;case 17:if(v?.type!==u.qR.Skill){_e.next=21;break}return _e.next=20,Te(U);case 20:q=_e.sent;case 21:return _e.abrupt("return",q);case 22:case"end":return _e.stop()}},je)}));return function(U){return hn.apply(this,arguments)}}(),En=function(){var hn=L()(C()().mark(function je(U,q,qe){var _e,Z,Re,Fe;return C()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return _e=v?.id||0,Z=U??{},Re=m()({id:_e,bindConfig:m()(m()({},v?.bindConfig),Z)},q||{}),ae.next=5,dn(Re);case 5:if(Fe=ae.sent,Fe?.code===K.Gh){ae.next=8;break}return ae.abrupt("return");case 8:qe===E.wQ.Method_Call&&t&&de(t),ue(function(V){return V&&("bindConfig"in V&&(V.bindConfig=m()(m()({},V.bindConfig),Z)),q&&(V.exceptionOut=q.exceptionOut,V.fallbackMsg=q.fallbackMsg)),V}),We(function(V){return V.map(function(ne){return ne.id===_e&&(ne.bindConfig=m()(m()({},ne.bindConfig),Z),q&&(ne.exceptionOut=q.exceptionOut,ne.fallbackMsg=q.fallbackMsg)),ne})}),he.ZP.success("\u4FDD\u5B58\u6210\u529F");case 12:case"end":return ae.stop()}},je)}));return function(U,q,qe){return hn.apply(this,arguments)}}(),mn=function(){return a?.type===u.qR.Skill?(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{children:"\u6309\u9700\u8C03\u7528\uFF1A\u7531\u6A21\u578B\u6839\u636E\u4EFB\u52A1\u60C5\u51B5\u51B3\u5B9A\u662F\u5426\u9700\u8981\u8C03\u7528"}),(0,e.jsx)("p",{children:"\u624B\u52A8\u9009\u62E9\uFF1A\u7531\u7528\u6237\u51B3\u5B9A\u662F\u5426\u4F7F\u7528\u8BE5\u6280\u80FD\uFF0C\u5728\u7528\u6237\u9009\u62E9\u7684\u60C5\u51B5\u4E0B\u548C\u6309\u9700\u8C03\u7528\u6548\u679C\u4E00\u6837"})]}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{children:"\u81EA\u52A8\u8C03\u7528\uFF1A\u7528\u6237\u6BCF\u6B21\u53D1\u9001\u6D88\u606F\u540E\u90FD\u4F1A\u89E6\u53D1\u8C03\u7528\u4E00\u6B21"}),(0,e.jsx)("p",{children:"\u6309\u9700\u8C03\u7528\uFF1A\u7531\u6A21\u578B\u6839\u636E\u4EFB\u52A1\u60C5\u51B5\u51B3\u5B9A\u662F\u5426\u9700\u8981\u8C03\u7528"}),(0,e.jsx)("p",{children:"\u624B\u52A8\u9009\u62E9\uFF1A\u7531\u7528\u6237\u51B3\u5B9A\u662F\u5426\u4F7F\u7528\u8BE5\u5DE5\u5177\uFF0C\u5728\u7528\u6237\u9009\u62E9\u7684\u60C5\u51B5\u4E0B\u548C\u81EA\u52A8\u8C03\u7528\u6548\u679C\u4E00\u6837"}),(0,e.jsx)("p",{children:"\u624B\u52A8\u9009\u62E9+\u6309\u9700\u8C03\u7528\uFF1A\u7528\u6237\u9009\u62E9\u540E\uFF0C\u7531\u6A21\u578B\u6839\u636E\u4EFB\u52A1\u60C5\u51B5\u9009\u62E9\u662F\u5426\u9700\u8981\u8C03\u7528\uFF1B\u7528\u6237\u4E0D\u9009\u62E9\u5219\u4E0D\u4F1A\u8C03\u7528"})]})},_n=function(){var je,U,q,qe,_e,Z;switch(N){case E.wQ.Params:return(0,e.jsx)(La.Z,{variables:i||[],inputArgBindConfigs:v==null||(je=v.bindConfig)===null||je===void 0?void 0:je.inputArgBindConfigs,onSaveSet:En});case E.wQ.Method_Call:return(0,e.jsx)(ju,{options:a?.type===u.qR.Skill?wa:da,invokeType:v==null||(U=v.bindConfig)===null||U===void 0?void 0:U.invokeType,defaultSelected:v==null||(q=v.bindConfig)===null||q===void 0?void 0:q.defaultSelected,tooltip:mn(),onSaveSet:function(Fe){return En(Fe,null,N)}});case E.wQ.Output_Way:return(0,e.jsx)(Du,{directOutput:v==null||(qe=v.bindConfig)===null||qe===void 0?void 0:qe.directOutput,onSaveSet:En});case E.wQ.Async_Run:return(0,e.jsx)(vu,{async:v==null||(_e=v.bindConfig)===null||_e===void 0?void 0:_e.async,asyncReplyContent:v==null||(Z=v.bindConfig)===null||Z===void 0?void 0:Z.asyncReplyContent,onSaveSet:En});case E.wQ.Exception_Handling:return(0,e.jsx)(bu,{exceptionOut:v?.exceptionOut||u.Km.No,fallbackMsg:v?.fallbackMsg||"",onSaveSet:function(Fe){return En(null,Fe)}});case E.wQ.Card_Bind:return(0,e.jsx)(Au,{loading:_,agentCardList:d,componentInfo:v,onSaveSet:En})}};return(0,e.jsx)($t.Z,{centered:!0,open:o,onCancel:c,destroyOnHidden:!0,className:na(St["modal-container"]),modalRender:function(){return(0,e.jsxs)("div",{className:na(St.container,"flex","overflow-hide"),children:[(0,e.jsxs)("div",{className:na(St.left),children:[(0,e.jsx)("h3",{children:"\u8BBE\u7F6E"}),(0,e.jsx)("ul",{children:A.map(function(je){return a?.type===u.qR.Table&&[E.wQ.Method_Call,E.wQ.Async_Run,E.wQ.Exception_Handling].includes(je.type)||a?.type!==u.qR.Workflow&&je.type===E.wQ.Output_Way?null:(0,e.jsx)("li",{className:na(St.item,"cursor-pointer",M()({},St.checked,N===je.type)),onClick:function(){return S(je.type)},children:je.label},je.type)})})]}),(0,e.jsx)("div",{className:na("flex-1",St.right),children:_n()}),(0,e.jsx)(Nr.Z,{className:na(St.close,"cursor-pointer"),onClick:c})]})}})},Iu=_u,Ga={"xagi-nav-style2":"xagi-nav-style2___D_5gS",text:"text___lu863","page-container":"page-container___6T91q",container:"container___n4vwB",title:"title___jfALi"},Pr=ye().bind(Ga),Nu=function(r){var o=r.children,a=r.title;return(0,e.jsxs)("div",{className:Pr(Ga.container,"flex","content-between","items-center"),children:[(0,e.jsx)("p",{className:Pr(Ga.title),children:a}),o]})},ta=Nu,Mr=n(84411),Rr=n(89858),Zr=n(16621),Wn=n(43183),Lr=n(78434);function dl(X){return r=>{let{transform:o}=r;return{...o,x:Math.ceil(o.x/X)*X,y:Math.ceil(o.y/X)*X}}}const cl=X=>{let{transform:r}=X;return{...r,y:0}};function za(X,r,o){const a={...X};return r.top+X.y<=o.top?a.y=o.top-r.top:r.bottom+X.y>=o.top+o.height&&(a.y=o.top+o.height-r.bottom),r.left+X.x<=o.left?a.x=o.left-r.left:r.right+X.x>=o.left+o.width&&(a.x=o.left+o.width-r.right),a}const vl=X=>{let{containerNodeRect:r,draggingNodeRect:o,transform:a}=X;return!o||!r?a:za(a,o,r)},fl=X=>{let{draggingNodeRect:r,transform:o,scrollableAncestorRects:a}=X;const t=a[0];return!r||!t?o:za(o,r,t)},wr=X=>{let{transform:r}=X;return{...r,x:0}},pl=X=>{let{transform:r,draggingNodeRect:o,windowRect:a}=X;return!o||!a?r:za(r,o,a)},ml=X=>{let{activatorEvent:r,draggingNodeRect:o,transform:a}=X;if(o&&r){const t=getEventCoordinates(r);if(!t)return a;const i=t.x-o.left,c=t.y-o.top;return{...a,x:a.x+i-o.width/2,y:a.y+c-o.height/2}}return a};var lt=n(71691),Bu=n(7010),Ja=n(78321),Jn=n(92448),Ya=n(80723),Tu=n(47548),Pu=n(43898),Or=l.createContext({}),Mu=function(){var r=(0,l.useContext)(Or),o=r.setActivatorNodeRef,a=r.listeners;return(0,e.jsx)(Zn.ZP,m()({type:"text",size:"small",icon:(0,e.jsx)(Mr.Z,{}),style:{cursor:"move"},ref:o},a))},Ru=function(r){var o=r.id,a=r.value,t=r.onChange,i=r.onDelete,c=(0,lt.nB)({id:o}),f=c.attributes,A=c.listeners,P=c.setNodeRef,b=c.setActivatorNodeRef,N=c.transform,S=c.transition,O=c.isDragging,y={transform:Lr.ux.Translate.toString(N),transition:S,zIndex:O?10:1,opacity:O?.8:1,paddingRight:"10px"},v=(0,l.useMemo)(function(){return{setActivatorNodeRef:b,listeners:A,attributes:f}},[b,A,f]);return(0,e.jsx)(Or.Provider,{value:v,children:(0,e.jsx)("div",{ref:P,style:y,className:"flex items-center gap-10",children:(0,e.jsx)(Nn.Z,{onChange:t,defaultValue:a,prefix:(0,e.jsx)(Mu,{}),suffix:(0,e.jsx)(ct.Z,{onClick:i})})})})},Zu=Ru,ma={"xagi-nav-style2":"xagi-nav-style2___Vw_lu",text:"text___DpIqc","page-container":"page-container___BZYHH","modal-body-container":"modal-body-container___iqS7z","radio-group":"radio-group___uJ5NF",tab:"tab___iCYZL","add-item-btn":"add-item-btn___ok9vO"},jt={"xagi-nav-style2":"xagi-nav-style2___Fb04i",text:"text___gZ17y","page-container":"page-container___bO5a2","bind-box":"bind-box___RRQok","component-image":"component-image___tjc0T","example-box":"example-box___m9xlQ","e-header":"e-header___lPvLG",icon:"icon___RW1tv","icon-rotate":"icon-rotate___zDrWT","rotate-box":"rotate-box___BOAGL"},Ft=ye().bind(jt),Lu=function(r){var o=r.selectConfig,a=r.targetComponentInfo,t=r.onClick,i=l.useState(!0),c=s()(i,2),f=c[0],A=c[1],P=o||{},b=P.targetType,N=P.targetName,S=P.targetIcon,O=[a?.targetType,b].includes(u.qR.Plugin)?Gn:Et;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:Ft(jt["bind-box"],"mb-16"),children:!a&&!N?(0,e.jsx)("div",{className:Ft("flex","items-center","content-center","h-full","cursor-pointer"),onClick:t,children:"\u8BF7\u9009\u62E9\u7B26\u5408\u6570\u636E\u89C4\u8303\u7684\u63D2\u4EF6\u6216\u5DE5\u4F5C\u6D41"}):(0,e.jsxs)("div",{className:Ft("flex","items-center","h-full","cursor-pointer","px-16","gap-10"),onClick:t,children:[(0,e.jsx)("img",{className:Ft(jt["component-image"],"radius-6"),src:a?.icon||S||O,alt:""}),(0,e.jsx)("span",{children:a?.name||N})]})}),(0,e.jsxs)("div",{className:Ft(jt["example-box"]),children:[(0,e.jsxs)("div",{className:Ft("flex","items-center","content-between","cursor-pointer",jt["e-header"]),onClick:function(){return A(!f)},children:[(0,e.jsx)("span",{children:"\u63D2\u4EF6\u6216\u5DE5\u4F5C\u6D41\u8FD4\u56DE\u6570\u636E\u7ED3\u6784\u4EE5\u53CA\u793A\u4F8B"}),(0,e.jsx)(Ua.Z,{className:Ft(jt.icon,M()({},jt["icon-rotate"],!f))})]}),(0,e.jsxs)("div",{className:Ft(M()({},jt["rotate-box"],f)),children:[(0,e.jsx)("p",{children:"//options \u9009\u9879\u5217\u8868\uFF1B"}),(0,e.jsx)("p",{children:"//value\uFF1A\u9009\u9879\u503C\uFF1Blabel\u9009\u9879\u540D\u79F0\uFF1Bchildren\u4E0B\u7EA7\u9009\u9879"}),(0,e.jsx)("pre",{children:(0,e.jsx)("code",{children:JSON.stringify(Xt,null,2)})})]})]})]})},wu=Lu,aa=ye().bind(ma),Ou=function(r){var o=r.mode,a=o===void 0?Be.jA.Create:o,t=r.currentVariable,i=r.id,c=r.targetId,f=r.inputData,A=r.open,P=r.onCancel,b=r.onConfirm,N=sn.Z.useForm(),S=s()(N,1),O=S[0],y=(0,l.useState)(u.oI.Text),v=s()(y,2),ue=v[0],p=v[1],F=(0,l.useState)(u.z1.MANUAL),_=s()(F,2),I=_[0],$=_[1],le=(0,l.useState)([{id:(0,Jn.Z)(),value:"",label:""},{id:(0,Jn.Z)(),value:"",label:""}]),d=s()(le,2),J=d[0],be=d[1],We=(0,l.useState)(""),He=s()(We,2),de=He[0],ce=He[1],Se=(0,l.useState)(!1),H=s()(Se,2),Q=H[0],G=H[1],we=(0,l.useState)([]),ze=s()(we,2),Ye=ze[0],Ge=ze[1],Ee=(0,l.useState)(null),Te=s()(Ee,2),ie=Te[0],rn=Te[1],dn=(0,l.useRef)([]),En=(0,l.useState)(!1),mn=s()(En,2),_n=mn[0],hn=mn[1];(0,l.useEffect)(function(){if(A){if(rn(null),a===Be.jA.Create)p(u.oI.Text),O.setFieldValue("inputType",u.oI.Text),Ge([]),$(u.z1.MANUAL),be([{id:(0,Jn.Z)(),value:"",label:""},{id:(0,Jn.Z)(),value:"",label:""}]),ce("");else if(a===Be.jA.Update&&t){var ne=t.name,z=t.displayName,De=t.require,Qe=t.inputType,Ze=t.description,Ae=t.selectConfig,en=t.bindValue;if(p(Qe),$(Ae?.dataSourceType),Ae?.dataSourceType===u.z1.BINDING)Ge([{type:Ae?.targetType,targetId:Ae?.targetId,status:u.BQ.Added}]),be([{id:(0,Jn.Z)(),value:"",label:""},{id:(0,Jn.Z)(),value:"",label:""}]);else{var Fn;if(Ge([]),Ae&&(Ae==null||(Fn=Ae.options)===null||Fn===void 0?void 0:Fn.length)>0){var Cn;be((Ae==null||(Cn=Ae.options)===null||Cn===void 0?void 0:Cn.map(function(st){return m()(m()({},st),{},{id:(0,Jn.Z)()})}))||[])}}ce(en||""),O.setFieldsValue({name:ne,displayName:z,require:De,inputType:Qe,description:Ze})}}},[A,a,t]);var je=(0,Wn.Dy)((0,Wn.VT)(Wn.we),(0,Wn.VT)(Wn.Lg,{coordinateGetter:lt.is})),U=function(z){var De=z.active,Qe=z.over;Qe&&De.id!==Qe.id&&be(function(Ze){var Ae=Ze.findIndex(function(Fn){return Fn.id===De.id}),en=Ze.findIndex(function(Fn){return Fn.id===Qe.id});return(0,lt.Rp)(Ze,Ae,en)})},q=function(z){be(function(De){return De.filter(function(Qe){return Qe.id!==z})})},qe=function(){be(function(z){return[].concat(ve()(z),[{id:(0,Jn.Z)(),value:"",label:""}])})},_e=function(z,De){var Qe=z.target.value;be(function(Ze){var Ae=ve()(Ze),en=Ae.findIndex(function(Fn){return Fn.id===De});return en!==-1&&(Ae[en].value=Qe,Ae[en].label=Qe),Ae})},Z=function(z){var De=z.targetId,Qe=z.targetType;rn(z),Ge([{type:Qe,targetId:De,status:u.BQ.Added}])},Re=[{key:u.z1.MANUAL,label:"\u624B\u52A8\u521B\u5EFA",children:(0,e.jsxs)("div",{className:aa("flex","flex-col","gap-10"),children:[(0,e.jsx)(Wn.LB,{modifiers:[wr],sensors:je,collisionDetection:Wn.pE,onDragEnd:U,children:(0,e.jsx)(lt.Fo,{items:J.map(function(ne){return ne.id}),strategy:lt.qw,children:J?.map(function(ne){var z=ne.id,De=ne.value;return(0,e.jsx)(Zu,{id:z,value:De,onChange:function(Ze){return _e(Ze,z)},onDelete:function(){return q(z)}},z)})})}),(0,e.jsxs)("div",{className:aa(ma["add-item-btn"]),onClick:qe,children:[(0,e.jsx)(Zr.Z,{}),"\u6DFB\u52A0\u9009\u9879"]})]})},{key:u.z1.BINDING,label:"\u6570\u636E\u7ED1\u5B9A",children:(0,e.jsx)(wu,{selectConfig:t?.selectConfig,targetComponentInfo:ie,onClick:function(){return G(!0)}})}],Fe=(0,pn.useRequest)(T.D$,{manual:!0,debounceInterval:300,onSuccess:function(){hn(!1),he.ZP.success("\u53D8\u91CF\u66F4\u65B0\u6210\u529F"),b(dn.current)},onError:function(){hn(!1)}}),Je=Fe.run,ae=function(z){var De=null,Qe=de;if([u.oI.Select,u.oI.MultipleSelect].includes(ue)){if(I===u.z1.MANUAL){if(J!=null&&J.length){if(J!=null&&J.some(function(Cn){return!Cn.value})){he.ZP.error("\u8BF7\u586B\u5199\u9009\u9879\u503C");return}}else{he.ZP.error("\u8BF7\u6DFB\u52A0\u9009\u9879");return}De={dataSourceType:I,targetType:null,targetId:null,targetName:null,targetIcon:null,targetDescription:null,options:J}}else{var Ze;if(!ie&&!(t!=null&&(Ze=t.selectConfig)!==null&&Ze!==void 0&&Ze.targetId)){he.ZP.error("\u8BF7\u9009\u62E9\u7ED1\u5B9A\u7EC4\u4EF6");return}De=ie?{dataSourceType:I,targetType:ie?.targetType,targetId:ie?.targetId,targetName:ie?.name,targetIcon:ie?.icon,targetDescription:ie?.description,options:[]}:t?.selectConfig}Qe=""}var Ae=m()(m()({},z),{},{bindValue:Qe,systemVariable:!1,selectConfig:De}),en;a===Be.jA.Update&&t?en=f.map(function(Cn){return Cn.key===t.key?m()(m()({},Cn),Ae):Cn}):en=[].concat(ve()(f),[m()(m()({},Ae),{},{key:(0,Jn.Z)()})]),dn.current=en;var Fn={id:i,targetId:c,bindConfig:{variables:en}};hn(!0),Je(Fn)},V=function(){O.submit()};return(0,e.jsxs)(Ya.Z,{form:O,open:A,loading:_n,classNames:{body:aa(ma["modal-body-container"])},title:"\u7F16\u8F91\u6216\u6DFB\u52A0\u53D8\u91CF",onCancel:P,onConfirm:V,children:[(0,e.jsxs)(sn.Z,{form:O,preserve:!1,layout:"vertical",requiredMark:Ea.N,onFinish:ae,autoComplete:"off",children:[(0,e.jsx)(sn.Z.Item,{name:"name",label:"\u5B57\u6BB5\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u540D\u79F0"}],children:(0,e.jsx)(Nn.Z,{placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u540D\u79F0\uFF0C\u7B26\u5408\u5B57\u6BB5\u547D\u540D\u89C4\u5212",showCount:!0,maxLength:30})}),(0,e.jsx)(sn.Z.Item,{name:"displayName",label:"\u5C55\u793A\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5C55\u793A\u540D\u79F0"}],children:(0,e.jsx)(Nn.Z,{placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5C55\u793A\u540D\u79F0\uFF0C\u4F9B\u524D\u7AEF\u5C55\u793A\u4F7F\u7528",showCount:!0,maxLength:30})}),(0,e.jsx)(sn.Z.Item,{name:"description",label:"\u63CF\u8FF0",children:(0,e.jsx)(Nn.Z.TextArea,{className:"dispose-textarea-count",placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u63CF\u8FF0",showCount:!0,maxLength:200,autoSize:{minRows:3,maxRows:5}})}),(0,e.jsx)(sn.Z.Item,{name:"inputType",label:"\u8F93\u5165\u65B9\u5F0F",children:(0,e.jsx)(et.ZP.Group,{className:aa(ma["radio-group"]),options:Ca,value:ue,onChange:function(z){return p(z.target.value)}})}),[u.oI.Select,u.oI.MultipleSelect].includes(ue)?(0,e.jsx)(Tu.Z,{rootClassName:aa(ma.tab),activeKey:I,onChange:function(z){return $(z)},items:Re}):(0,e.jsx)(sn.Z.Item,{className:aa("mb-16"),label:"\u9ED8\u8BA4\u503C",children:(0,e.jsx)(Nn.Z.TextArea,{value:de,onChange:function(z){return ce(z.target.value)},placeholder:"\u8BF7\u8F93\u5165\u9ED8\u8BA4\u503C",autoSize:{minRows:3,maxRows:5}})}),(0,e.jsx)(sn.Z.Item,{name:"require",valuePropName:"checked",children:(0,e.jsx)(Pu.Z,{children:"\u5FC5\u586B"})})]}),(0,e.jsx)(sa.Z,{open:Q,onCancel:function(){return G(!1)},checkTag:u.qR.Plugin,addComponents:Ye,onAdded:Z,hideTop:[u.qR.Knowledge,u.qR.Table,u.qR.MCP,u.qR.Agent]})]})},ku=Ou,kr={"table-container":"table-container___TK9dV"},nt=ye().bind(kr),Ur=l.createContext({}),Uu=function(){var r=(0,l.useContext)(Ur),o=r.setActivatorNodeRef,a=r.listeners;return(0,e.jsx)(Zn.ZP,m()({type:"text",size:"small",icon:(0,e.jsx)(Mr.Z,{}),style:{cursor:"move"},ref:o},a))},Vu=function(r){var o=(0,lt.nB)({id:r["data-row-key"]}),a=o.attributes,t=o.listeners,i=o.setNodeRef,c=o.setActivatorNodeRef,f=o.transform,A=o.transition,P=o.isDragging,b=m()(m()(m()({},r.style),P?{position:"relative"}:{}),{},{transform:Lr.ux.Translate.toString(f),transition:A,zIndex:P?10:1,opacity:P?.8:1,paddingRight:"10px"}),N=(0,l.useMemo)(function(){return{setActivatorNodeRef:c,listeners:t}},[c,t]);return(0,e.jsx)(Ur.Provider,{value:N,children:(0,e.jsx)("tr",m()(m()({},r),{},{ref:i,style:b},a))})},Qu=function(r){var o=r.open,a=r.variablesInfo,t=r.onCancel,i=r.onConfirm,c=(0,l.useState)([]),f=s()(c,2),A=f[0],P=f[1],b=(0,l.useState)(Be.jA.Create),N=s()(b,2),S=N[0],O=N[1],y=(0,l.useState)(),v=s()(y,2),ue=v[0],p=v[1],F=(0,l.useState)(!1),_=s()(F,2),I=_[0],$=_[1],le=(0,l.useRef)(!1),d=(0,l.useRef)(null),J=(0,l.useRef)([]),be=(0,l.useRef)(u.tE.Delete);(0,l.useEffect)(function(){var Ee,Te=(a==null||(Ee=a.bindConfig)===null||Ee===void 0?void 0:Ee.variables)||[];if(Te?.length>0){var ie=Te.map(function(rn){return m()(m()({},rn),{},{key:(0,Jn.Z)()})});P(ie)}},[a]);var We=function(Te){$(!0),O(Be.jA.Update),p(Te)},He=function(){$(!0),O(Be.jA.Create),p(null)},de=(0,pn.useRequest)(T.D$,{manual:!0,debounceInterval:300,onSuccess:function(){be.current===u.tE.Delete?he.ZP.success("\u5220\u9664\u6210\u529F"):he.ZP.success("\u66F4\u65B0\u6210\u529F"),le.current=!0,P(J.current)}}),ce=de.run,Se=function(Te){var ie={id:a?.id,targetId:a?.targetId,bindConfig:{variables:Te}};ce(ie)},H=function(Te){var ie=A.filter(function(rn){return rn.key!==Te});J.current=ie,be.current=u.tE.Delete,Se(ie)},Q=[{dataIndex:"sort",key:"sort",align:"center",width:40,fixed:"left",render:function(Te,ie){return!ie.systemVariable&&(0,e.jsx)("span",{className:nt("flex","items-center","h-full"),children:(0,e.jsx)(Uu,{})})}},{title:(0,e.jsx)(xa.Z,{label:"\u540D\u79F0"}),dataIndex:"name",key:"name",width:180,fixed:"left",render:function(Te){return(0,e.jsx)("div",{className:nt("flex","items-center","h-full"),children:(0,e.jsx)("span",{className:nt("text-ellipsis"),children:Te||"--"})})}},{title:"\u63CF\u8FF0",dataIndex:"description",key:"description",ellipsis:!0,width:180,render:function(Te){return(0,e.jsx)("span",{className:nt("flex","items-center","h-full"),children:Te||"--"})}},{title:"\u7C7B\u578B",dataIndex:"systemVariable",key:"systemVariable",width:100,ellipsis:!0,render:function(Te){return(0,e.jsx)("span",{className:nt("flex","items-center","h-full"),children:Te?"\u7CFB\u7EDF\u53D8\u91CF":"\u81EA\u5B9A\u4E49\u53D8\u91CF"})}},{title:"\u8F93\u5165\u65B9\u5F0F",dataIndex:"inputType",key:"inputType",width:100,render:function(Te){var ie;return(0,e.jsx)("span",{className:nt("flex","items-center","h-full"),children:((ie=Ca.find(function(rn){return rn.value===Te}))===null||ie===void 0?void 0:ie.label)||"--"})}},{title:"\u662F\u5426\u5FC5\u987B",dataIndex:"require",key:"require",width:100,align:"center",render:function(Te){return(0,e.jsx)("span",{className:nt("flex","items-center","content-center","h-full"),children:Te?"\u662F":"\u5426"})}},{title:"",dataIndex:"action",width:100,fixed:"right",render:function(Te,ie){return(0,e.jsx)(e.Fragment,{children:ie!=null&&ie.systemVariable?(0,e.jsx)("span",{children:"--"}):(0,e.jsxs)(Bu.Z,{className:nt("flex","content-between","items-center"),children:[(0,e.jsx)(Zn.ZP,{type:"text",icon:(0,e.jsx)(Rr.Z,{className:nt("cursor-pointer"),onClick:function(){return We(ie)}})}),(0,e.jsx)(Zn.ZP,{type:"text",icon:(0,e.jsx)(ct.Z,{className:nt("cursor-pointer"),onClick:function(){return H(ie.key)}})})]})})}}],G=function(){var Te,ie;(Te=d.current)===null||Te===void 0||Te.scrollTo({top:(ie=d.current)===null||ie===void 0?void 0:ie.scrollHeight,behavior:"smooth"})};(0,l.useEffect)(function(){o&&G()},[o]);var we=function(Te){$(!1),P(Te),le.current=!0},ze=function(){$(!1),le.current?i():t()},Ye=function(Te){var ie=Te.active,rn=Te.over;if(rn&&ie.id!==rn.id){be.current=u.tE.Drag;var dn=A.findIndex(function(_n){return _n.key===ie?.id}),En=A.findIndex(function(_n){return _n.key===rn?.id}),mn=(0,lt.Rp)(A,dn,En);J.current=mn,P(mn),Se(mn)}},Ge=(0,Wn.Dy)((0,Wn.VT)(Wn.we),(0,Wn.VT)(Wn.Lg,{coordinateGetter:lt.is}));return(0,e.jsxs)($t.Z,{width:870,title:"\u53D8\u91CF",open:o,footer:null,onCancel:ze,children:[(0,e.jsx)(Wn.LB,{modifiers:[wr],sensors:Ge,collisionDetection:Wn.pE,onDragEnd:Ye,children:(0,e.jsx)(lt.Fo,{items:A.map(function(Ee){return Ee.key}),strategy:lt.qw,children:(0,e.jsx)(Ja.Z,{ref:d,rowKey:"key",components:{body:{row:Vu}},className:nt(kr["table-container"]),columns:Q,dataSource:A,pagination:!1,scroll:{y:A?.length>=10?560:void 0},footer:function(){return(0,e.jsx)(Zn.ZP,{icon:(0,e.jsx)(Zr.Z,{}),onClick:He,children:"\u65B0\u589E"})}})})}),(0,e.jsx)(ku,{id:a?.id,targetId:a?.targetId,mode:S,currentVariable:ue,inputData:A,open:I,onCancel:function(){return $(!1)},onConfirm:we})]})},Ku=Qu,Wu=n(67825),Vr=n.n(Wu),Dt=n(43540),wt=n(33356),Xa=n(38683),ga={"input-box":"input-box___ZIywZ","table-collapse-wrapper":"table-collapse-wrapper___tFKNw","table-collapse-active":"table-collapse-active___lGHGY","modal-body":"modal-body____lyds"},Hu=["pageUriId"],Ot=ye().bind(ga),Gu=function(r){var o=r.open,a=r.eventsInfo,t=r.currentEventConfig,i=r.pageArgConfigs,c=r.onCancel,f=r.onConfirm,A=sn.Z.useForm(),P=s()(A,1),b=P[0],N=Xa.Z.useToken(),S=N.token,O=(0,l.useState)(!0),y=s()(O,2),v=y[0],ue=y[1],p=(0,l.useState)(!1),F=s()(p,2),_=F[0],I=F[1],$=(0,l.useState)(u.ZE.Page),le=s()($,2),d=le[0],J=le[1],be=(0,l.useState)([]),We=s()(be,2),He=We[0],de=We[1],ce=(0,l.useState)(null),Se=s()(ce,2),H=Se[0],Q=Se[1],G=(0,l.useState)([]),we=s()(G,2),ze=we[0],Ye=we[1],Ge=function(){var U;if(!t)return[];if(!(i!=null&&i.length))return t?.args||[];var q=(i==null||(U=i.find(function(_e){return _e.pageUri===t?.pageUri}))===null||U===void 0?void 0:U.args)||[],qe=[];return q.forEach(function(_e){var Z,Re=t==null||(Z=t.args)===null||Z===void 0?void 0:Z.find(function(Fe){return Fe.key===_e.key});Re?qe.push(Re):qe.push(_e)}),qe};(0,l.useEffect)(function(){if(o){if(t){b.setFieldsValue({name:t.name,identification:t.identification,url:t.url}),J(t.type);var je=Ge();de(je),Q(t.pageId||null)}if(i?.length>0){t?b.setFieldValue("type",t.type):b.setFieldValue("type",u.ZE.Page);var U=[];i?.forEach(function(q){var qe=(0,Jn.Z)();U.push({label:q.name,value:qe,pageUri:q.pageUri,pageId:q.pageId}),t?.pageUri===q.pageUri&&b.setFieldValue("pageUriId",qe)}),Ye(U)}else b.setFieldValue("type",u.ZE.Link),J(u.ZE.Link)}return function(){Ye([]),de([]),J(u.ZE.Page),Q(null),ue(!0)}},[o,t]);var Ee=function(U,q,qe){var _e=ve()(He);_e.forEach(function(Z){Z.key===U&&(Z[q]=qe)}),de(_e)},Te=(0,pn.useRequest)(T.$c,{manual:!0,debounceInterval:300,onSuccess:function(){he.ZP.success("\u66F4\u65B0\u6210\u529F"),f(),I(!1)},onError:function(){I(!1)}}),ie=Te.run,rn=function(U){var q,qe=U.pageUriId,_e=Vr()(U,Hu);I(!0);var Z=(q=ze.find(function(V){return V.value===qe}))===null||q===void 0?void 0:q.pageUri,Re=m()(m()(m()({},t||{}),_e),{},{pageUri:Z,args:He,pageId:H}),Fe=ve()(a.bindConfig.eventConfigs||[]),Je=Fe.findIndex(function(V){return V.pageUri===t?.pageUri&&V.pageId===t?.pageId&&V.name===t?.name});Je!==-1?Fe[Je]=Re:Fe.push(Re);var ae={id:a?.id,bindConfig:{eventConfigs:Fe}};ie(ae)},dn=function(){b.submit()},En=function(U){J(U),b.setFieldsValue({type:U,pageUriId:"",url:""}),de([])},mn=function(U,q){var qe=q.label,_e=q.pageId,Z=q.pageUri,Re=i.find(function(Je){return Je.pageUri===Z&&Je.pageId===_e&&Je.name===qe})||null;if(Q(_e),t?.pageUri===Z){var Fe=Ge();de(Fe)}else Re!=null&&Re.args&&de(Re.args)},_n=[{title:"\u53C2\u6570\u540D",dataIndex:"name",key:"name",width:200,render:function(U,q){return(0,e.jsx)("div",{className:Ot("h-full","flex","items-center"),children:q.name})}},{title:function(){return(0,e.jsxs)("div",{className:Ot("h-full","flex","items-center"),children:[(0,e.jsx)("span",{children:"\u53C2\u6570\u503C(\u975E\u5FC5\u586B)"}),(0,e.jsx)(gn.Z,{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:"\u4EE5\u4E0B\u53C2\u6570\u975E\u5FC5\u586B\uFF0C\u4E0D\u586B\u5199\u65F6\u7531\u6A21\u578B\u8865\u5145, \u53EF\u4EE5\u5728\u8F93\u5165\u6846\u4E2D\u52A8\u6001\u5F15\u7528\u53C2\u6570\uFF0C\u7559\u7A7A\u7684\u53C2\u6570\u5C06\u7531\u5927\u6A21\u578B\u81EA\u52A8\u8865\u5145"}),(0,e.jsxs)("div",{children:["\u667A\u80FD\u4F53ID ","{{","AGENT_ID","}}"]}),(0,e.jsxs)("div",{children:["\u7CFB\u7EDF\u7528\u6237ID ","{{","SYS_USER_ID","}}"]}),(0,e.jsxs)("div",{children:["\u7528\u6237UID ","{{","USER_UID","}}"]}),(0,e.jsxs)("div",{children:["\u7528\u6237\u540D ","{{","USER_NAME","}}"]})]}),icon:(0,e.jsx)($n.Z,{})})]})},key:"bindValue",render:function(U,q){return(0,e.jsx)("div",{className:Ot("h-full","flex","items-center"),children:(0,e.jsx)(Nn.Z,{allowClear:!0,placeholder:"\u8BF7\u8F93\u5165".concat(q.description),value:q.bindValue,onChange:function(_e){return Ee(q.key,"bindValue",_e.target.value)}})})}}],hn=(0,l.useMemo)(function(){return i.length>0?Ir:Ir.filter(function(je){return je.value!==u.ZE.Page})},[i]);return(0,e.jsxs)(Ya.Z,{form:b,title:"\u4E8B\u4EF6\u7ED1\u5B9A",open:o,loading:_,onCancel:c,onConfirm:dn,classNames:{body:ga["modal-body"]},children:[(0,e.jsxs)(sn.Z,{form:b,layout:"vertical",onFinish:rn,requiredMark:Ea.N,autoComplete:"off",preserve:!1,children:[(0,e.jsx)(sn.Z.Item,{name:"name",label:"\u4E8B\u4EF6\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4E8B\u4EF6\u540D\u79F0"}],children:(0,e.jsx)(Nn.Z,{placeholder:"\u8BF7\u8F93\u5165\u4E8B\u4EF6\u540D\u79F0",allowClear:!0})}),(0,e.jsx)(sn.Z.Item,{name:"identification",label:"\u4E8B\u4EF6\u6807\u8BC6\uFF08\u7528\u4E8E\u533A\u5206\u5177\u4F53\u4E8B\u4EF6\uFF09",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4E8B\u4EF6\u6807\u8BC6"},{validator:function(U,q){return!q||(0,Xe.j0)(q)?Promise.resolve():Promise.reject(new Error("\u4E8B\u4EF6\u6807\u8BC6\u53EA\u80FD\u5305\u542B\u5B57\u6BCD\u3001\u6570\u5B57\u548C\u4E0B\u5212\u7EBF,\u4E14\u5FC5\u987B\u4EE5\u5B57\u6BCD\u6216\u4E0B\u5212\u7EBF\u5F00\u5934!"))}}],children:(0,e.jsx)(Nn.Z,{placeholder:"\u8BF7\u8F93\u5165\u4E8B\u4EF6\u6807\u8BC6,\u53EA\u80FD\u5305\u542B\u5B57\u6BCD\u3001\u6570\u5B57\u548C\u4E0B\u5212\u7EBF",allowClear:!0})}),(0,e.jsx)(sn.Z.Item,{name:"type",label:"\u54CD\u5E94\u52A8\u4F5C",children:(0,e.jsx)(wt.Z,{placeholder:"\u8BF7\u9009\u62E9\u54CD\u5E94\u52A8\u4F5C",options:hn,value:d,onChange:En})}),d===u.ZE.Page?(0,e.jsx)(sn.Z.Item,{name:"pageUriId",label:"\u9875\u9762\u8DEF\u5F84",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9875\u9762\u8DEF\u5F84"}],children:(0,e.jsx)(wt.Z,{placeholder:"\u8BF7\u9009\u62E9\u9875\u9762\u8DEF\u5F84",options:ze,onChange:mn})}):d===u.ZE.Link&&(0,e.jsx)(sn.Z.Item,{name:"url",label:"\u94FE\u63A5\u5730\u5740",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u94FE\u63A5\u5730\u5740"},{validator:function(U,q){return!q||(0,Xe.ek)(q)?Promise.resolve():Promise.reject(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u683C\u5F0F\u7684\u94FE\u63A5\u5730\u5740\uFF0C\u5FC5\u987B\u4EE5http://\u6216https://\u5F00\u5934!"))}}],children:(0,e.jsx)(Nn.Z,{placeholder:"https://www.xxx.com",allowClear:!0})})]}),d===u.ZE.Page&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:Ot(ga["input-box"],"flex","items-center"),children:[(0,e.jsx)(Dt.le,{name:"icons-common-caret_right",rotate:v?90:0,style:{color:S.colorTextTertiary},onClick:function(){return ue(!v)}}),(0,e.jsx)("span",{className:Ot("user-select-none"),children:"\u8F93\u5165"}),(0,e.jsx)(gn.Z,{title:"\u914D\u7F6E\u8F93\u5165\u53C2\u6570",icon:(0,e.jsx)($n.Z,{})})]}),(0,e.jsx)("div",{className:Ot(ga["table-collapse-wrapper"],v&&ga["table-collapse-active"]),children:(0,e.jsx)(Ja.Z,{className:Ot("mb-16","flex-1"),columns:_n,dataSource:He,pagination:!1,virtual:!0,scroll:{y:480}})})]})]})},zu=Gu,Ju=n(89082),$a={container:"container___KNheK",box:"box___O07Vc"},qa=ye().bind($a),Yu=function(r){var o=r.textClassName,a=r.list,t=r.onClick;return a?.length>0?(0,e.jsx)("div",{className:qa("flex","items-center",$a.container),children:a?.map(function(i,c){return(0,e.jsx)(Ju.Z,{list:iu,onClick:function(A){return t(i,A.value,c)},children:(0,e.jsx)("span",{className:qa($a.box,"hover-box","cursor-pointer"),children:i.name})},c)})}):(0,e.jsx)("p",{className:qa(o),children:"\u901A\u8FC7\u4E8B\u4EF6\u7ED1\u5B9A\u53EF\u7ED9\u5927\u6A21\u578B\u8FD4\u56DE\u7684\u5185\u5BB9\u6307\u5B9A\u70B9\u51FB\u64CD\u4F5C\u54CD\u5E94\u3002"})},Xu=Yu,Un={"xagi-nav-style2":"xagi-nav-style2___wTLiv",text:"text___Prt2n","page-container":"page-container____Frz9",container:"container___Nt4W2","page-setting-item":"page-setting-item___jtwzN"},Qr=n(92973),$u=n(48657),Kr={"knowledge-extra":"knowledge-extra___TBNaC"},gt=n(17300),qu=n(63960),Wr={"slider-box":"slider-box___gGjDf"},Hr=ye().bind(Wr),eo=function(r){var o=r.value,a=r.onChange,t=r.min,i=t===void 0?0:t,c=r.max,f=r.step,A=f===void 0?1:f;return(0,e.jsxs)("div",{className:Hr("flex-1","flex"),children:[(0,e.jsx)(qu.Z,{className:Hr(Wr["slider-box"]),min:i,max:c,step:A,onChange:a,value:Number(o)||0}),(0,e.jsx)(Br,{value:o,min:i,max:c,step:A,onChange:a})]})},ra=eo,no=n(44384),Sa={"xagi-nav-style2":"xagi-nav-style2___tiJHy",text:"text___woITT","page-container":"page-container___PUZVi",container:"container___ZTPVh",title:"title___C_jJg"},_t=ye().bind(Sa),to=function(r){var o=r.open,a=r.agentComponentInfo,t=r.onCancel,i=(0,pn.useModel)("spaceAgent"),c=i.agentComponentList,f=i.setAgentComponentList,A=(0,l.useState)({invokeType:u.Qr.AUTO,searchStrategy:u.kD.MIXED,maxRecallCount:5,matchingDegree:.5,noneRecallReplyType:u.E3.DEFAULT,noneRecallReply:""}),P=s()(A,2),b=P[0],N=P[1],S=(0,pn.useRequest)(T.Uc,{manual:!0,debounceInterval:300}),O=S.run;(0,l.useEffect)(function(){a!=null&&a.bindConfig&&N(a.bindConfig)},[a]);var y=function(F,_){var I=m()(m()({},b),{},M()({},F,_));if(N(I),F==="invokeType"){var $=c.map(function(le){return le.id===a?.id&&(le.bindConfig.invokeType=_),le});f($)}O({id:a?.id,targetId:a?.targetId,bindConfig:I})},v=function(F){Number.isNaN(F)||y("maxRecallCount",F)},ue=function(F){Number.isNaN(F)||y("matchingDegree",F)};return(0,e.jsx)($t.Z,{title:"\u77E5\u8BC6\u5E93\u8BBE\u7F6E",open:o,footer:null,onCancel:t,children:(0,e.jsxs)("div",{className:_t(Sa.container),children:[(0,e.jsx)("h3",{className:_t(Sa.title),children:"\u53EC\u56DE"}),(0,e.jsxs)("div",{className:_t("flex","mb-16"),children:[(0,e.jsx)(gt.Z,{label:"\u8C03\u7528\u65B9\u5F0F",title:"\u9009\u62E9\u662F\u5426\u6BCF\u8F6E\u5BF9\u8BDD\u81EA\u52A8\u53EC\u56DE\u6216\u6309\u9700\u4ECE\u7279\u5B9A\u77E5\u8BC6\u5E93\u53EC\u56DE"}),(0,e.jsx)(et.ZP.Group,{onChange:function(F){return y("invokeType",F.target.value)},value:b.invokeType,options:da.filter(function(p){return p.value!==u.Qr.MANUAL&&p.value!==u.Qr.MANUAL_ON_DEMAND})})]}),(0,e.jsxs)("div",{className:_t("flex","mb-16"),children:[(0,e.jsx)(gt.Z,{label:"\u641C\u7D22\u7B56\u7565",title:"\u4ECE\u77E5\u8BC6\u5E93\u4E2D\u83B7\u53D6\u77E5\u8BC6\u7684\u68C0\u7D22\u65B9\u5F0F,\u4E0D\u540C\u7684\u68C0\u7D22\u7B56\u7565\u53EF\u4EE5\u66F4\u6709\u6548\u5730\u627E\u5230\u6B63\u786E\u7684\u4FE1\u606F,\u63D0\u9AD8\u5176\u751F\u6210\u7684\u7B54\u6848\u7684\u51C6\u786E\u6027\u548C\u53EF\u7528\u6027\u3002"}),(0,e.jsx)(et.ZP.Group,{onChange:function(F){return y("searchStrategy",F.target.value)},value:b.searchStrategy,options:In})]}),(0,e.jsxs)("div",{className:_t("flex","mb-16"),children:[(0,e.jsx)(gt.Z,{label:"\u6700\u5927\u53EC\u56DE\u6570\u91CF",title:"\u4ECE\u77E5\u8BC6\u5E93\u4E2D\u8FD4\u56DE\u7ED9\u5927\u6A21\u578B\u7684\u6700\u5927\u6BB5\u843D\u6570,\u6570\u503C\u8D8A\u5927\u8FD4\u56DE\u7684\u5185\u5BB9\u8D8A\u591A"}),(0,e.jsx)(ra,{min:1,max:10,value:b.maxRecallCount.toString(),onChange:v})]}),(0,e.jsxs)("div",{className:_t("flex","mb-16"),children:[(0,e.jsx)(gt.Z,{label:"\u6700\u5C0F\u5339\u914D\u5EA6",title:"\u6839\u636E\u8BBE\u7F6E\u7684\u5339\u914D\u5EA6\u9009\u53D6\u6BB5\u843D\u8FD4\u56DE\u7ED9\u5927\u6A21\u578B,\u4F4E\u4E8E\u8BBE\u5B9A\u5339\u914D\u5EA6\u7684\u5185\u5BB9\u4E0D\u4F1A\u88AB\u53EC\u56DE"}),(0,e.jsx)(ra,{min:.01,max:.99,step:.01,value:b.matchingDegree.toString(),onChange:ue})]}),(0,e.jsx)(no.Z,{}),(0,e.jsx)("h3",{className:_t(Sa.title),children:"\u56DE\u590D"}),(0,e.jsxs)("div",{className:_t("flex","mb-16"),children:[(0,e.jsx)(gt.Z,{label:"\u65E0\u53EC\u56DE\u56DE\u590D",title:"\u5F53\u77E5\u8BC6\u5E93\u6CA1\u6709\u53EC\u56DE\u6709\u6548\u5207\u7247\u65F6\u7684\u56DE\u590D\u8BDD\u672F"}),(0,e.jsx)(et.ZP.Group,{onChange:function(F){return y("noneRecallReplyType",F.target.value)},value:b.noneRecallReplyType,options:bn})]}),(0,e.jsx)(ft.Z,{condition:b.noneRecallReplyType===u.E3.CUSTOM,children:(0,e.jsx)(Nn.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165",value:b.noneRecallReply,onChange:function(F){return y("noneRecallReply",F.target.value)},autoSize:{minRows:3,maxRows:5}})})]})})},ao=to,er=ye().bind(Kr),ro=function(r){var o=r.textClassName,a=r.list,t=r.deleteList,i=r.onDel,c=(0,l.useState)(!1),f=s()(c,2),A=f[0],P=f[1],b=(0,l.useState)(),N=s()(b,2),S=N[0],O=N[1],y=function(F){P(!0),O(F)},v=function(F,_){return t?.some(function(I){return I.targetId===F&&I.type===_})},ue=function(F){var _=F.targetId,I=F.type;v(_,I)||i(F.id,F.targetId,F.type)};return a!=null&&a.length?(0,e.jsxs)(e.Fragment,{children:[a.map(function(p){var F;return(0,e.jsx)(Gt.Z,{agentComponentInfo:p,defaultImage:Qr,extra:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{className:er("cursor-pointer","hover-box",Kr["knowledge-extra"]),onClick:function(){return y(p)},children:[(p==null||(F=p.bindConfig)===null||F===void 0?void 0:F.invokeType)===u.Qr.AUTO?"\u81EA\u52A8\u8C03\u7528":"\u6309\u9700\u8C03\u7528",(0,e.jsx)($u.Z,{})]}),(0,e.jsx)(gn.Z,{title:"\u53D6\u6D88\u77E5\u8BC6\u5E93",icon:v(p.targetId,p.type)?(0,e.jsx)(dt.Z,{}):(0,e.jsx)(ct.Z,{className:er("cursor-pointer")}),onClick:function(){return ue(p)}})]})},p.id)}),(0,e.jsx)(ao,{agentComponentInfo:S,open:A,onCancel:function(){return P(!1)}})]}):(0,e.jsx)("p",{className:er(o),children:"\u5C06\u6587\u6863\u3001URL\u3001\u4E09\u65B9\u6570\u636E\u6E90\u4E0A\u4F20\u4E3A\u6587\u672C\u77E5\u8BC6\u5E93\u540E\uFF0C\u7528\u6237\u53D1\u9001\u6D88\u606F\u65F6\uFF0C\u667A\u80FD\u4F53\u80FD\u591F\u5F15\u7528\u6587\u672C\u77E5\u8BC6\u4E2D\u7684\u5185\u5BB9\u56DE\u7B54\u7528\u6237\u95EE\u9898\u3002"})},uo=ro,Gr={},zr=ye().bind(Gr),oo=function(r){var o=r.textClassName,a=r.openLongMemory,t=a===void 0?E.nb.Close:a;return console.log(t),(0,e.jsx)("div",{className:zr(Gr.container),children:(0,e.jsx)("p",{className:zr(o),children:"\u603B\u7ED3\u804A\u5929\u5BF9\u8BDD\u7684\u5185\u5BB9\uFF0C\u5E76\u7528\u4E8E\u66F4\u597D\u7684\u54CD\u5E94\u7528\u6237\u7684\u6D88\u606F\u3002"})})},lo=oo,Yn={"xagi-nav-style2":"xagi-nav-style2___v4Ft8",text:"text___GudlW","page-container":"page-container___tpdhX",container:"container___pz0mN","group-mcp-item":"group-mcp-item___akoCX","img-box":"img-box___DKgNV",name:"name___zlseW",desc:"desc___In9oO","extra-box":"extra-box___KlFIX","down-icon":"down-icon___EAqjU","down-icon-rotate":"down-icon-rotate___HuIxH","group-mcp-item-children":"group-mcp-item-children___Ren3g"},it=ye().bind(Yn),io=function(r){var o=r.item,a=r.deleteList,t=r.onSet,i=r.onDel,c=(0,l.useState)(!1),f=s()(c,2),A=f[0],P=f[1];return(0,e.jsxs)("div",{className:it(Yn.container),children:[(0,e.jsxs)("div",{className:it("flex","items-center",Yn["group-mcp-item"],M()({},Yn.border,A)),onClick:function(){return P(!A)},children:[(0,e.jsx)("span",{className:it("radius-6",Yn["img-box"]),children:(0,e.jsx)("img",{src:o.icon,alt:""})}),(0,e.jsxs)("div",{className:it("flex","flex-col","flex-1","overflow-hide"),children:[(0,e.jsx)("h3",{className:it("text-ellipsis",Yn.name),children:o.groupName}),(0,e.jsx)("p",{className:it("text-ellipsis",Yn.desc),children:o.groupDescription})]}),(0,e.jsxs)("div",{className:it(Yn["extra-box"],"flex","items-center","cursor-pointer"),children:[(0,e.jsx)("span",{children:"\u5DE5\u5177\uFF08".concat(o.children.length,"\uFF09")}),(0,e.jsx)(Ua.Z,{className:it(Yn["down-icon"],M()({},Yn["down-icon-rotate"],A))})]})]}),A&&(0,e.jsx)(at,{textClassName:it(Yn.text),itemClassName:it(Yn["group-mcp-item-children"]),type:u.qR.MCP,list:o.children,deleteList:a,onSet:t,onDel:i})]})},so=io,Jr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA2QSURBVHgB7Z09jFTJEcer36y1a1nycYHBsmS0WALJEidAwpIlkOB8F1jnALjIdsJe5gyIzjgwQ2JMxBLZGUtiZ4YL7iQHZxbpLuIQrI6MgAUiiMCJWcFMu/81H7fMzr7u97rf635v6ietZhfeztf+p6q6qrpaUQB0l3b05umkUnRAK1pUmg6a2x2kzZeQBIpoXZsvc3tfa1rrEK2q87ROnigqCUTT/z6dMU/muPnxOAmNYyimqz5iKiygsXCIzoqFaRUrHU0XiwqpkIB6l+mCCKfdmDCk2/mULjpf73KRvkSLfUU3jHgOktB6EC9lmt53sUaZ7QJ9mU73Mron4pkdzN96EX/zN3+hk7ZrcwUEl9XTtCIuawbB3zyjG9BA3mXbujCOdzR1SZh58uKiqQJi02XUR4IwpKNoSX1K1yf/fYuAEDDD/4nbEt5C0YtOnw5NBtZbYiCz2rol4hG2YDSBlfjkP78loGGeZ5EEYQpYib++9HZcPHZh7LoUPSJByAOu7H+0R3XpBX4cWyAjngskCDaMK3szb6oRQ9gCifURCrHJCrEF6kk1XSjCJivEAlIZnSFBKIBJLh7jW3FfQlk6r+jdTNyXUBZ0oWZaSZVdKAfyQplZhh0gQSiDokUIaJEEoQQwPpmULoTSKNph7UgUhG3RIiDBExGQ4IUISPBCBCR4MUczjNppcqjmS+0yqbD5HUS7DvKtwvcLE02Zr16Q3nhB9HKdaHirn9we3D6/T7OKevNXJBRnA/XT40S7j5HafXwgnoVwnbv6yepAULh9ukqzQusFBNGofSdI7V8KKphc2DoZIX1ztfXWqZUCYhf03hKpvSfY2kTFiKn/1UXSD1aojbRKQCycw2coO3y2PmvjSkuF1BoBKQjnSDc94UzSMiE1XkCIcbIPr/BqqlFASP98nzRWdQ2msXkguCv1wRXKfn+reeIB7yxS9odHlJnX0GQaaYGwBM8+vsF/BC+Q28Eq6fna4Nb8TOZW43bjxdvXQrB4PLhI5I7w/c4DYYL0BlujxgnIN9bhP9LDz0g/vEn62f2tQinznJBX2nuSV32lRW2eB8dG3yxTk2iUgNSRC5Qd7VJhYGkeXB+IxuRnqoTFZHJO6r3TVIb+V13SXztPmItOYwSkPrpGmcntFALCuXuV+neWg1iaQiDGQS5q/+nCVkl/u0L9Lz6hJtAIARUWT0zhTDIS0pFiO8ebIqLkBVRUPHBR/ManFpBCSCZ2K+LamiCipJfxhcQDq/PlOV7NJCcegJXWF0vUN8+RV3sOKPPaM/MepEyyAuKA2VU85o/TWzlE/QasYLDKwnN1Fbkq4f7qJEkB8VLdcbWFlVXv2qE0rc52QPDmOeO5u4D3ouyqrmqSi4GQoMuW7jnledAu0f/yLIVC/XCRCMtwNJhh5TS/6TkgwfhsjejpatCEH4vDxcIgTwTRJfZBSU5AHZPed1n2IleCnIkvZVo/kLXWd64GK4g6i2houaKvLDfR+fOH6cyCRm1L/ezX1uuCicdkj1ESUT//7aA04fp7P/gxqX0nBzHaq5dsnXzAylEtvEvqJ7/Mv9BYZTW3QPrRvykVkrFAalhctIG4of+vU+QDW52jFwZ9QwFAYIwyhK9lYDHvtZ4uMKibVZxRdyWZIDr73S37RVgKf+6XF2Ghmgp+KPHwfZr7wn2qghnnSfi1OcQ4KqEKfhIC4n5l25tvcic95Hg8PuWwPCzUCto/0CGg0CEw79HQtjF8jZY8ET9WwA+AD0kIKDtqDyC5wOi5AuFPrm8LSN79o83kN56JP1hZh2Iqv2c+Yg1EdAG5WB9O6XsmCQcV8iWqGm7r8LQOiKmsMQ76kxKwQtGDaJdle+/ve7ysD8c9cF0u1gclEbR9PL393WOa3+PtQa7JPLiiv+3xC6rNY3Zs+bAQj+NJVAvkZH0CuC5ybKlAYhJiRQETVm+wWXB1WNRc4v/T31633k8Q6wBXZp6P9XFqsKp5xBXQLyzThfEmmj+eLy41Nc4tIaud92keFkRdGr4y22tzgLsTbQE1uiAjEk1AvJKwrIbQRegdOGM7s4OVK5KY5K5BF+vg2y+N8oXlcbgDMuLmyXgCOmz/hIawPrTPkpjjfVpdKgr/jq0twyEpaMPFCoV4nLLEE5DlU4O4I0SFXe3MH0JrjTO2w8U67AwwABeP8yA/7soiVuqjCIhdl82tPHAIVl0fK+9xfCZpWNoxVKick63tI4S7LEkcC2R7scPpFkGwtYU8K18ItbZWBBIQrwRtj4VYLwJxLJBl5dB/+Bk1ghrzL9rynqjdxygG8VxYHo6dei7kWjLf2T22UkJIgdnc5a7w9T0XaheQy2SwkK0KeTkbbsHwQDm44lDwLtq81dhoRF/N1G+BbMFz4D6Xqdt8UK5AttnT0vGmwbzHfvmYgmGsmf7veu4l6kf1C6j+IZu2VdHzNQoNUgI988UWYzRQwZPB6Lz8/IsO6Ir5/p7cznf/sEAPqFZqF5A1N1Jh03go68bFWYe2jeBdg5b3Rs2/U3tlvH4XZltWJz6Uknt+HCr7LJ7QHwabgHbNgguzvfEJ7TjYDLsOk35w3q9WwYQNq+uN0GBWvwuzvchX8QU0GtbJn2j0AmG/WIF5RKNWkNpZmAEBWV9k5I1zhZrPpuHYklr2vnOJYIHkrIwJeIOfRwmChyc0aZu1JyKgCZRHa0SI3FLTEAFNUiaOGCYmg/QvNYz6BWQLkivcdlMFCJZ5tEwd4rG9NxFWsLUH0Vimq9SnybswDJZ1jVYnxRVs/auwDfuuy5TnJfMJPDVMe52KRUAx3rf6LdCztfx6TuIuLOQ8osLYMs0bL6lu6o+BNtoVA9WKLYvv0V1ZlvoFZHmRWaTOuiZgLUQ/nwUB2V4k3FsCQwNSxLqTxdIvVAW1C2h8qEkOsdozU0bZmuYRGsyECyOHqnLEjXKV9lB7YBvsECP+AXEEZNlhEHOjXJU91D5Y3VeknSxxShkOfS2xNspV2UNdFqf9/ZGOGq8/kUhDN4E4KC8jDTcWaZBkFT3UPljnEkHss+TCgG1fObuxyKsx3hEaWzxoaLOMp4k5sTVeNd5mchMZ4Rad/fZ4sH+35ICIAEQT0Gj6Vx48pGmGc0JqeNZYLrCQz+JZyaj9QNYJHJGsELsNnBb08Q1ub8XJyipGicVhNF/p8TSBiDtk0wiEh2xaBknWecgIdptmHyxvfU54HqaQ6jQjMcTzcJncj7MzMIA0InE7Eh2GNLEVqunQtcGGwZXpgsaQ8o9WasuSu7zmypr3CxC9pdVpkCTmANbgytSvrgS5xvt5YEuRywylBFpo4/dEwwr955z1MkxmrzoOcUleVm2B2ArChVpIwfqAJJrqnTbijc65qHJV5tJqW+Hjj8/ysJGI9QHJ7Mpw2gqMTycONKnqObgE6hUmFvmwFgcryweyJEI6AkJeyGFJCjdT1UnGLiusqpbNfNiegwsNMrk/IEntC+MB3g6f8KpOMtZfWx4fR11W4Do45+SySCg507pK0tpYiIAapxE6bE/hc0YrqNhzzmnSyqCgaj75vX+Edx1YrjtN/Bidl5YYyR26C2BhXNzU4BAUvxMMc5/HqBoPlxF40x4CZsQ8rh+C0QEwqRGlncOKa22n4mV9VVXuohNAdM0bGIuQ3N748QQwB6qYp1g1SBJmOAfMVTzGnaYW92wmKQs0Fo9LPga5EM9TDOuEC7TGLReJ21BsjrqR0YFkBFRIPAgoEWw3YA7PaNqZ62i8ESyez5codZIQUGHxYDWS+jDOkXCwPC84TILdVuKWZ0R0AbVNPKOzVXlQVYkpJEUPv4tNVAG1QTxsaXD64r4TgzNgy46uQbrAFJWbNqQqmoCaJp7xpFasnhAQY5/6LvuxnU6Y19WUmG6SKInEQuJpOeNleqLzsW3UPyd6lESbcfFw8RgJwohbckJQv4BQophl8bwaNNClmlkuSv0CinhEdVQQJN817urOcmPd1TTqD6JtW5pbBrsqkxRsi8WZpP4ZiWbF0XYrxNV7iMZh82TTqX8VZoLoDoqJbbJCwwEMPGIlgf30dRKnHwgrsSPdwenNDRHSuF8atyjk4jhLjJRzOZK7xSTZUCY0BzkrQ/BCBCR4IQISvBABCV5kpKg9aVGhdjKlRUBCadYzs4afnayXEBoW0GMShBJoTWtwYWKBhFIo472yzgLdJEEoQYdoNVPnOIheJUEogFJ0X503MRB+ML7sNglCAXSfeIQJC2hugZYlHyQUoTP0WiwguLGRogTBgRW4L3wzLmWIFRJc6WgaD7QcC0iskOCCiZcvjqwPUJMX9C7TPXNRgO2WQtswYlnv/JHeOlthSzU+69MpcWXCFowmTNliy5DGLQJi89Qn++h4Ybbo0SebXdeIqf1Ac+dpRW8KlITZBlqY+9P0ioXK+8XXl6hrMo7hBzILjQHi+d556m73/7kCAm8u00lzc400ySiNWQJxsAll4I3yL3NAX6LFvqJbmmiRhNbDVXZNp6bFPFOudUdcWstRg1xgnsva+isFgTV6TdTNFNmPExaawVA4cxu0rLrFUjiFBTQCQuoRHVcZnZHEY2NZRSdGGeGMKC2gzYzEZGKkg8bFHTB3uijxUkIYC4PNE1rRfWNpHiPG6WzQzbKi2cz/AQz67f3fbj08AAAAAElFTkSuQmCC",co=n(32699),vo=n(15970),ua={star:"star___zBiI6","input-box":"input-box___iTyTD","table-collapse-wrapper":"table-collapse-wrapper___kesXr","table-collapse-active":"table-collapse-active___cf2GG","modal-body":"modal-body___QHoLI"},fo=["pageUriId"],It=ye().bind(ua),po=function(r){var o=r.open,a=r.agentConfigInfo,t=r.currentGuidQuestionDto,i=r.pageArgConfigs,c=r.onCancel,f=r.onConfirm,A=r.currentGuidQuestionDtoIndex,P=Xa.Z.useToken(),b=P.token,N=(0,l.useState)(!0),S=s()(N,2),O=S[0],y=S[1],v=sn.Z.useForm(),ue=s()(v,1),p=ue[0],F=(0,l.useState)(!1),_=s()(F,2),I=_[0],$=_[1],le=(0,l.useState)(""),d=s()(le,2),J=d[0],be=d[1],We=(0,l.useState)(u._A.Question),He=s()(We,2),de=He[0],ce=He[1],Se=(0,l.useState)([]),H=s()(Se,2),Q=H[0],G=H[1],we=(0,l.useState)(null),ze=s()(we,2),Ye=ze[0],Ge=ze[1],Ee=(0,l.useState)([]),Te=s()(Ee,2),ie=Te[0],rn=Te[1],dn=(0,pn.useRequest)(T.mp,{manual:!0,debounceInterval:1e3,onSuccess:function(Re,Fe){he.ZP.success("\u66F4\u65B0\u6210\u529F");var Je=Fe[0].guidQuestionDtos;f?.(Je),$(!1)},onError:function(){$(!1)}}),En=dn.run,mn=function(){var Re;if(!t)return[];if(!(i!=null&&i.length))return t?.args||[];var Fe=(i==null||(Re=i.find(function(ae){return ae.pageUri===t?.pageUri}))===null||Re===void 0?void 0:Re.args)||[],Je=[];return Fe.forEach(function(ae){var V,ne=t==null||(V=t.args)===null||V===void 0?void 0:V.find(function(z){return z.key===ae.key});ne?Je.push(ne):Je.push(ae)}),Je};(0,l.useEffect)(function(){if(o){if(t){p.setFieldsValue({icon:t.icon,type:t.type,info:t.info,url:t.url}),ce(t.type),be(t.icon||Jr);var Z=mn();G(Z),Ge(t.pageId||null)}if(i?.length>0){var Re=[];i?.forEach(function(Fe){var Je=(0,Jn.Z)();Re.push({label:Fe.name,value:Je,pageUri:Fe.pageUri,pageId:Fe.pageId}),t?.pageUri===Fe.pageUri&&p.setFieldValue("pageUriId",Je)}),rn(Re)}}return function(){be(""),G([]),Ge(null),rn([]),y(!0)}},[o,t,i]);var _n=function(Re,Fe,Je){var ae=ve()(Q);ae.forEach(function(V){V.key===Re&&(V[Fe]=Je)}),G(ae)},hn=function(Re){var Fe,Je=Re.pageUriId,ae=Vr()(Re,fo);if(ae.type===u._A.Page){var V=Q?.find(function(Qe){return Qe.require&&!Qe.bindValue});if(V){he.ZP.error("\u53C2\u6570\u540D\uFF1A".concat(V.name,"\u662F\u5FC5\u586B\u53C2\u6570\uFF0C\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A"));return}}$(!0);var ne=(Fe=ie.find(function(Qe){return Qe.value===Je}))===null||Fe===void 0?void 0:Fe.pageUri,z=m()(m()(m()({},t),ae),{},{pageUri:ne,args:Q,pageId:Ye}),De=Rn()(a?.guidQuestionDtos||[]);De[A]=z,En(m()(m()({},a),{},{guidQuestionDtos:De}))},je=function(){p.submit()},U=function(Re){be(Re),p.setFieldValue("icon",Re)},q=function(Re){p.setFieldsValue({type:Re,pageUriId:"",url:""}),ce(Re),G([])},qe=function(Re,Fe){var Je=Fe.label,ae=Fe.pageId,V=Fe.pageUri,ne=i.find(function(Ze){return Ze.pageUri===V&&Ze.pageId===ae&&Ze.name===Je})||null;if(Ge(ae),t?.pageUri===V){var z=mn();G(z)}else{var De;if(ne!=null&&(De=ne.args)!==null&&De!==void 0&&De.length){var Qe=ne.args.map(function(Ze){return m()(m()({},Ze),{},{bindValueType:Ze.bindValueType||u.Oy.Input})});G(Qe)}}},_e=[{title:"\u53C2\u6570\u540D",dataIndex:"name",key:"name",width:200,render:function(Re,Fe){return(0,e.jsxs)("div",{className:It("h-full","flex","items-center","gap-4"),children:[(0,e.jsx)("span",{children:Fe.name}),(0,e.jsx)(ft.Z,{condition:Fe.require,children:(0,e.jsx)("span",{className:It(ua.star),children:"*"})})]})}},{title:function(){return(0,e.jsxs)("div",{className:It("h-full","flex","items-center"),children:[(0,e.jsx)("span",{children:"\u53C2\u6570\u503C"}),(0,e.jsx)(gn.Z,{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:"\u53EF\u4EE5\u5728\u8F93\u5165\u6846\u4E2D\u52A8\u6001\u5F15\u7528\u53C2\u6570\uFF0C\u7559\u7A7A\u7684\u53C2\u6570\u5C06\u7531\u5927\u6A21\u578B\u81EA\u52A8\u8865\u5145"}),(0,e.jsxs)("div",{children:["\u667A\u80FD\u4F53ID ","{{","AGENT_ID","}}"]}),(0,e.jsxs)("div",{children:["\u7CFB\u7EDF\u7528\u6237ID ","{{","SYS_USER_ID","}}"]}),(0,e.jsxs)("div",{children:["\u7528\u6237UID ","{{","USER_UID","}}"]}),(0,e.jsxs)("div",{children:["\u7528\u6237\u540D ","{{","USER_NAME","}}"]})]}),icon:(0,e.jsx)($n.Z,{})})]})},key:"bindValue",render:function(Re,Fe){return(0,e.jsx)("div",{className:It("h-full","flex","items-center"),children:(0,e.jsx)(Nn.Z,{allowClear:!0,placeholder:"\u8BF7\u8F93\u5165".concat(Fe.description),value:Fe.bindValue,onChange:function(ae){return _n(Fe.key,"bindValue",ae.target.value)}})})}}];return(0,e.jsxs)(Ya.Z,{form:p,title:"\u9884\u7F6E\u95EE\u9898\u8BBE\u7F6E",open:o,loading:I,onCancel:c,onConfirm:je,classNames:{body:ua["modal-body"]},children:[(0,e.jsxs)(sn.Z,{form:p,layout:"vertical",onFinish:hn,requiredMark:Ea.N,autoComplete:"off",preserve:!1,children:[(0,e.jsx)(sn.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,e.jsx)(vo.Z,{onUploadSuccess:U,defaultImage:"",imageUrl:J})}),(0,e.jsx)(sn.Z.Item,{name:"info",label:"\u5C55\u793A\u4FE1\u606F",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C55\u793A\u4FE1\u606F"}],children:(0,e.jsx)(Nn.Z,{placeholder:"\u8FD9\u91CC\u662F\u95EE\u9898\u5185\u5BB9",showCount:!0,maxLength:30})}),(0,e.jsx)(sn.Z.Item,{name:"type",label:"\u7C7B\u578B",children:(0,e.jsx)(wt.Z,{placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",options:lu,onChange:q})}),de===u._A.Page?(0,e.jsx)(sn.Z.Item,{name:"pageUriId",label:"\u9875\u9762\u8DEF\u5F84",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9875\u9762\u8DEF\u5F84"}],children:(0,e.jsx)(wt.Z,{placeholder:"\u8BF7\u9009\u62E9\u9875\u9762\u8DEF\u5F84",options:ie,onChange:qe})}):de===u._A.Link&&(0,e.jsx)(sn.Z.Item,{name:"url",label:"\u94FE\u63A5\u5730\u5740",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u94FE\u63A5\u5730\u5740"},{validator:function(Re,Fe){return!Fe||(0,Xe.ek)(Fe)?Promise.resolve():Promise.reject(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u683C\u5F0F\u7684\u94FE\u63A5\u5730\u5740\uFF0C\u5FC5\u987B\u4EE5http://\u6216https://\u5F00\u5934!"))}}],children:(0,e.jsx)(Nn.Z,{placeholder:"https://www.xxx.com",allowClear:!0})})]}),de===u._A.Page&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:It(ua["input-box"],"flex","items-center"),children:[(0,e.jsx)(Dt.le,{name:"icons-common-caret_right",rotate:O?90:0,style:{color:b.colorTextTertiary},onClick:function(){return y(!O)}}),(0,e.jsx)("span",{className:It("user-select-none"),children:"\u8F93\u5165"}),(0,e.jsx)(gn.Z,{title:"\u914D\u7F6E\u8F93\u5165\u53C2\u6570",icon:(0,e.jsx)($n.Z,{})})]}),(0,e.jsx)("div",{className:It(ua["table-collapse-wrapper"],O&&ua["table-collapse-active"]),children:(0,e.jsx)(Ja.Z,{className:It("mb-16","flex-1"),columns:_e,dataSource:Q,pagination:!1,virtual:!0,scroll:{y:480}})})]})]})},mo=po,Nt={"header-title":"header-title___EsoqP","title-box":"title-box___HQ_Xl",title:"title___ku1cn","content-box":"content-box___fiZV5","custom-style-editor":"custom-style-editor___BXC9u",input:"input___fm7tL","icon-input-prefix":"icon-input-prefix___pl6iT","icon-input-suffix":"icon-input-suffix___UNkw7"},Bt=ye().bind(Nt),go=function(r){var o=r.agentConfigInfo,a=r.pageArgConfigs,t=r.onChangeAgent,i=Xa.Z.useToken(),c=i.token,f=(0,l.useState)(""),A=s()(f,2),P=A[0],b=A[1],N=(0,l.useState)([]),S=s()(N,2),O=S[0],y=S[1],v=(0,l.useState)(),ue=s()(v,2),p=ue[0],F=ue[1],_=(0,l.useState)(!1),I=s()(_,2),$=I[0],le=I[1],d=(0,l.useRef)(-1);(0,l.useEffect)(function(){if(o){var Se;b(o.openingChatMsg),((Se=o.guidQuestionDtos)===null||Se===void 0?void 0:Se.length)>0&&y(o.guidQuestionDtos)}},[o]);var J=function(){var H=ve()(O);H.push({type:u._A.Question,info:""}),y(H)},be=function(H){var Q=ve()(O);Q.splice(H,1),y(Q),t(Q,"guidQuestionDtos")},We=function(H){b(H),t(H,"openingChatMsg")},He=function(H,Q){var G=(0,co.cloneDeep)(O);G[H].info=Q,y(G),t(G,"guidQuestionDtos")},de=function(H,Q){le(!0),F(H),d.current=Q},ce=function(H){le(!1),y(H),t(H,"guidQuestionDtos")};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:Bt(Nt["header-title"]),children:"\u5F00\u573A\u767D\u6587\u6848"}),(0,e.jsx)("div",{className:Bt(Nt["content-box"]),children:(0,e.jsx)(Nn.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u5F00\u573A\u767D",value:P,onChange:function(H){return We(H.target.value)},autoSize:{minRows:3,maxRows:5}})}),(0,e.jsxs)("div",{className:Bt("flex","content-between","items-center",Nt["title-box"]),children:[(0,e.jsx)("p",{className:Bt(Nt.title,"flex","items-center"),children:"\u5F00\u573A\u767D\u9884\u7F6E\u95EE\u9898"}),(0,e.jsx)(gn.Z,{title:"\u6DFB\u52A0\u9884\u7F6E\u95EE\u9898",icon:(0,e.jsx)(Dt.le,{name:"icons-common-plus",style:{color:c.colorTextTertiary,fontSize:"15px"}}),onClick:J})]}),O?.map(function(Se,H){return(0,e.jsx)(Nn.Z,{rootClassName:Bt(Nt.input),placeholder:"\u8F93\u5165\u5F00\u573A\u767D\u5F15\u5BFC\u95EE\u9898",value:Se.info,onChange:function(G){return He(H,G.target.value)},showCount:!1,maxLength:30,prefix:(0,e.jsx)("img",{className:Bt(Nt["icon-input-prefix"]),src:Se.icon||Jr}),suffix:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(gn.Z,{title:"\u5220\u9664\u9884\u7F6E\u95EE\u9898",className:Bt(Nt["icon-input-suffix"]),icon:(0,e.jsx)(ct.Z,{className:Bt("cursor-pointer")}),onClick:function(){return be(H)}}),(0,e.jsx)(gn.Z,{title:"\u8BBE\u7F6E",icon:(0,e.jsx)(zt.Mf,{className:"cursor-pointer"}),onClick:function(){return de(Se,H)}})]})},H)}),(0,e.jsx)(mo,{open:$,agentConfigInfo:o,currentGuidQuestionDto:p,pageArgConfigs:a,onCancel:function(){return le(!1)},onConfirm:ce,currentGuidQuestionDtoIndex:d.current})]})},ho=go,nr={"xagi-nav-style2":"xagi-nav-style2___hJnMr",text:"text___sZeNy","page-container":"page-container___CUlgN",container:"container___BmjaU",footer:"footer___tVMuM"},ja=ye().bind(nr),Co=function(r){var o=r.homeIndexType,a=r.onChangePageInfo,t=r.onSaveSet,i=(0,l.useState)(!1),c=s()(i,2),f=c[0],A=c[1],P=function(S){var O=S.target.value;a("homeIndex",O)},b=function(){var N=L()(C()().mark(function S(){return C()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return A(!0),y.next=3,t();case 3:A(!1);case 4:case"end":return y.stop()}},S)}));return function(){return N.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:ja(nr.container,"flex","flex-col"),children:[(0,e.jsxs)("div",{className:ja("flex-1"),children:[(0,e.jsx)("h3",{className:ja("mb-12"),children:"\u662F\u5426\u4E3A\u9ED8\u8BA4\u9996\u9875"}),(0,e.jsx)(et.ZP.Group,{options:du,onChange:P,value:o})]}),(0,e.jsx)("footer",{className:ja(nr.footer),children:(0,e.jsx)(Zn.ZP,{type:"primary",onClick:b,loading:f,children:"\u4FDD\u5B58"})})]})},xo=Co,Tt={"xagi-nav-style2":"xagi-nav-style2___T9lGQ",text:"text___wR27q","page-container":"page-container___kuBTf","modal-container":"modal-container___Gngcg",container:"container___SjPFD",left:"left___qGLCU",item:"item___WrhGG",checked:"checked___dW3s3",right:"right___VG9Bk",close:"close___ChWUL"},tr={"xagi-nav-style2":"xagi-nav-style2___GETZ_",text:"text___tuJI7","page-container":"page-container___UH1ur",container:"container___KB13y",footer:"footer___RcLSi"},Fa=ye().bind(tr),Eo=function(r){var o=r.visibleToLLMType,a=r.onChangePageInfo,t=r.onSaveSet,i=(0,l.useState)(!1),c=s()(i,2),f=c[0],A=c[1],P=function(S){var O=S.target.value;a("visibleToLLM",O)},b=function(){var N=L()(C()().mark(function S(){return C()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return A(!0),y.next=3,t();case 3:A(!1);case 4:case"end":return y.stop()}},S)}));return function(){return N.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:Fa(tr.container,"flex","flex-col"),children:[(0,e.jsxs)("div",{className:Fa("flex-1"),children:[(0,e.jsx)("h3",{className:Fa("mb-12"),children:"\u662F\u5426\u6A21\u578B\u53EF\u89C1"}),(0,e.jsx)(et.ZP.Group,{options:su,onChange:P,value:o})]}),(0,e.jsx)("footer",{className:Fa(tr.footer),children:(0,e.jsx)(Zn.ZP,{type:"primary",onClick:b,loading:f,children:"\u4FDD\u5B58"})})]})},Ao=Eo,oa=ye().bind(Tt),yo=function(r){var o=r.open,a=r.currentComponentInfo,t=r.allPageComponentList,i=r.onCancel,c=(0,l.useState)(E.rm.Visible_To_LLM),f=s()(c,2),A=f[0],P=f[1],b=(0,l.useState)(),N=s()(b,2),S=N[0],O=N[1];(0,l.useEffect)(function(){o&&(P(E.rm.Visible_To_LLM),O(a))},[o,a]);var y=(0,Me.Z)(T.eT,{manual:!0}),v=y.runAsync,ue=function(){var _=L()(C()().mark(function I(){var $,le,d;return C()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.prev=0,(S==null||($=S.bindConfig)===null||$===void 0?void 0:$.homeIndex)===u.PT.Yes&&(le=[],t?.forEach(function(We){var He;if(We.id!==S?.id&&((He=We.bindConfig)===null||He===void 0?void 0:He.homeIndex)===u.PT.Yes){var de=m()({},We);de.bindConfig.homeIndex=u.PT.No;var ce={id:de?.id,bindConfig:de?.bindConfig};le.push(v(ce).catch(function(Se){return console.error("\u66F4\u65B0\u5176\u4ED6\u9875\u9762\u5931\u8D25:",Se),null}))}}),le.length>0&&Promise.all(le)),d={id:S?.id,bindConfig:S?.bindConfig},be.next=5,v(d);case 5:he.ZP.success("\u4FDD\u5B58\u6210\u529F"),be.next=12;break;case 8:be.prev=8,be.t0=be.catch(0),console.error("\u4FDD\u5B58\u914D\u7F6E\u5931\u8D25:",be.t0),he.ZP.error("\u4FDD\u5B58\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 12:case"end":return be.stop()}},I,null,[[0,8]])}));return function(){return _.apply(this,arguments)}}(),p=function(I,$){var le=Rn()(S);le&&(le.bindConfig[I]=$),O(le)},F=function(){var I,$;switch(A){case E.rm.Visible_To_LLM:return(0,e.jsx)(Ao,{visibleToLLMType:S==null||(I=S.bindConfig)===null||I===void 0?void 0:I.visibleToLLM,onChangePageInfo:p,onSaveSet:ue});case E.rm.Home_Index:return(0,e.jsx)(xo,{homeIndexType:S==null||($=S.bindConfig)===null||$===void 0?void 0:$.homeIndex,onChangePageInfo:p,onSaveSet:ue})}};return(0,e.jsx)($t.Z,{centered:!0,open:o,onCancel:i,destroyOnHidden:!0,className:oa(Tt["modal-container"]),modalRender:function(){return(0,e.jsxs)("div",{className:oa(Tt.container,"flex","overflow-hide"),children:[(0,e.jsxs)("div",{className:oa(Tt.left),children:[(0,e.jsx)("h3",{children:"\u8BBE\u7F6E"}),(0,e.jsx)("ul",{children:At.fu.map(function(I){return(0,e.jsx)("li",{className:oa(Tt.item,"cursor-pointer",M()({},Tt.checked,A===I.type)),onClick:function(){return P(I.type)},children:I.label},I.type)})})]}),(0,e.jsx)("div",{className:oa("flex-1",Tt.right),children:F()}),(0,e.jsx)(Nr.Z,{className:oa(Tt.close,"cursor-pointer"),onClick:i})]})}})},bo=yo,ar={container:"container___BIda5",box:"box___HxIHi"},rr=ye().bind(ar),So=function(r){var o=r.textClassName,a=r.list,t=r.onClick,i=(0,l.useState)([]),c=s()(i,2),f=c[0],A=c[1];return(0,l.useEffect)(function(){var P=a?.filter(function(b){return!b.systemVariable})||[];A(P)},[a]),(0,e.jsx)(e.Fragment,{children:f?.length>0?(0,e.jsx)("div",{className:rr("flex","items-center",ar.container),children:f?.map(function(P){return(0,e.jsx)("span",{className:rr(ar.box,"radius-6","hover-box","cursor-pointer"),onClick:t,children:P.name},P.key)})}):(0,e.jsx)("p",{className:rr(o),children:"\u7528\u4E8E\u4FDD\u5B58\u7528\u6237\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u8BA9\u667A\u80FD\u4F53\u8BB0\u4F4F\u7528\u6237\u7684\u7279\u5F81\uFF0C\u4F7F\u56DE\u590D\u66F4\u52A0\u4E2A\u6027\u5316\u3002"})})},jo=So,Hn=ye().bind(Un),Fo=function(r){var o,a,t,i=r.agentId,c=r.agentConfigInfo,f=r.onChangeAgent,A=r.onInsertSystemPrompt,P=r.onVariablesChange,b=r.onToolsChange,N=(0,l.useState)(!1),S=s()(N,2),O=S[0],y=S[1],v=(0,l.useState)(!1),ue=s()(v,2),p=ue[0],F=ue[1],_=(0,l.useState)(u.qR.Plugin),I=s()(_,2),$=I[0],le=I[1],d=(0,l.useState)([]),J=s()(d,2),be=J[0],We=J[1],He=(0,l.useState)([]),de=s()(He,2),ce=de[0],Se=de[1],H=(0,l.useState)(),Q=s()(H,2),G=Q[0],we=Q[1],ze=(0,l.useState)([]),Ye=s()(ze,2),Ge=Ye[0],Ee=Ye[1],Te=(0,l.useState)(!1),ie=s()(Te,2),rn=ie[0],dn=ie[1],En=(0,l.useState)(!1),mn=s()(En,2),_n=mn[0],hn=mn[1],je=(0,l.useState)(!1),U=s()(je,2),q=U[0],qe=U[1],_e=(0,pn.useModel)("spaceAgent"),Z=_e.agentComponentList,Re=_e.setAgentComponentList,Fe=(0,pn.useModel)("conversationInfo"),Je=Fe.handleVariables,ae=(0,l.useState)(),V=s()(ae,2),ne=V[0],z=V[1],De=function(j){return Z?.filter(function(g){return g.type===j})||[]},Qe=(0,l.useMemo)(function(){var w=De(u.qR.MCP),j=new Map;return w.forEach(function(g){var x=g.targetId,h=g.icon,k=g.groupName,Ce=g.groupDescription,Y=x.toString();j.has(Y)||j.set(Y,{targetId:x,icon:h,groupName:k,groupDescription:Ce,children:[]});var Ue=j.get(Y);Ue.children.push(g)}),Array.from(j.values())},[Z]),Ze=(0,l.useMemo)(function(){return Z?.find(function(w){return w.type===u.qR.Variable})},[Z]),Ae=(0,l.useMemo)(function(){return Z?.find(function(w){return w.type===u.qR.Event})},[Z]),en=(0,l.useMemo)(function(){return Z?.filter(function(w){return w.type===u.qR.Page})||[]},[Z]),Fn=(0,l.useMemo)(function(){var w=Z?.filter(function(g){return g.type===u.qR.Page})||[],j=[];return w.forEach(function(g){var x;j.push.apply(j,ve()(((x=g.bindConfig)===null||x===void 0?void 0:x.pageArgConfigs)||[]))}),j},[Z]),Cn=function(j){return Z?.some(function(g){return g.type===j})},st=(0,l.useMemo)(function(){var w=[];return Cn(u.qR.Plugin)&&w.push(E.bX.Plugin),Cn(u.qR.Workflow)&&w.push(E.bX.Workflow),Cn(u.qR.MCP)&&w.push(E.bX.MCP),w},[Z]),la=(0,l.useMemo)(function(){return Cn(u.qR.Knowledge)?[E.bX.Text]:[]},[Z]),Qn=(0,l.useMemo)(function(){return Cn(u.qR.Skill)?[E.bX.Skill]:[]},[Z]),Ia=(0,l.useMemo)(function(){var w,j=[],g=(Ze==null||(w=Ze.bindConfig)===null||w===void 0||(w=w.variables)===null||w===void 0?void 0:w.filter(function(x){return!x.systemVariable}))||[];return Cn(u.qR.Variable)&&g.length&&j.push(E.bX.Variable),Cn(u.qR.Table)&&j.push(E.bX.Table),j},[Z]),Na=(0,l.useMemo)(function(){var w,j=[];return Cn(u.qR.Page)&&j.push(E.bX.Page),Cn(u.qR.Event)&&Ae!==null&&Ae!==void 0&&(w=Ae.bindConfig)!==null&&w!==void 0&&(w=w.eventConfigs)!==null&&w!==void 0&&w.length&&j.push(E.bX.Page_Event_Binding),j},[Z]),lr=(0,Me.Z)(T.dO,{manual:!0,debounceWait:300}),Ba=lr.runAsync,Ta=(0,Me.Z)(T.Nu,{manual:!0,debounceWait:300}),ir=Ta.runAsync,sr=(0,Me.Z)(T.Wu,{manual:!0,debounceWait:300,onSuccess:function(j){var g=j.data;P&&g&&P(g)},onError:function(j){he.ZP.error(j.message)}}),dr=sr.runAsync,Ct=function(){var w=L()(C()().mark(function j(g,x,h,k){var Ce,Y,Ue,tn;return C()().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:return Ce=[].concat(ve()(Ge),[{id:g,targetId:x,type:h}]),Ee(Ce),un.next=4,ir(g);case 4:he.ZP.success("\u5DF2\u6210\u529F\u5220\u9664"),Y=Z?.filter(function(xn){var Tn;return!(xn.id===g&&xn.type===h&&(((Tn=xn.bindConfig)===null||Tn===void 0?void 0:Tn.toolName)||"")===(k||""))})||[],Re(Y),Ue=ce?.filter(function(xn){return!(xn.targetId===x&&xn.type===h&&(xn.toolName||"")===(k||""))})||[],Se(Ue),tn=Ge.filter(function(xn){return xn.id!==g&&xn.targetId!==x&&xn.type!==h}),Ee(tn),h===u.qR.Page&&en?.length===1&&c?.expandPageArea===u.p$.Yes&&f(u.p$.No,"expandPageArea");case 12:case"end":return un.stop()}},j)}));return function(g,x,h,k){return w.apply(this,arguments)}}(),Rt=function(){var w=L()(C()().mark(function j(){var g,x,h,k,Ce=arguments;return C()().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return g=Ce.length>0&&Ce[0]!==void 0?Ce[0]:!1,Ue.next=3,Ba(i);case 3:x=Ue.sent,h=x.data,Re(h),g||(k=h?.map(function(tn){var cn,un=tn.type===u.qR.MCP?(cn=tn.bindConfig)===null||cn===void 0?void 0:cn.toolName:"";return{type:tn.type,targetId:tn.targetId,status:u.BQ.Added,toolName:un}})||[],Se(k));case 7:case"end":return Ue.stop()}},j)}));return function(){return w.apply(this,arguments)}}();(0,l.useEffect)(function(){b&&Z&&b(Z)},[Z]);var cr=(0,Me.Z)(T.AM,{manual:!0,debounceWait:300,onSuccess:function(){var w=L()(C()().mark(function g(){return C()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return he.ZP.success("\u5DF2\u6210\u529F\u6DFB\u52A0"),h.next=3,Rt();case 3:case"end":return h.stop()}},g)}));function j(){return w.apply(this,arguments)}return j}(),onError:function(j,g){var x=g[0],h=x.targetId,k=x.type;Se(function(Ce){return Ce.filter(function(Y){return Y.type===k&&Y.targetId!==h})})}}),vr=cr.run;(0,l.useEffect)(function(){Rt()},[i]);var xt=function(j,g){j.stopPropagation(),le(g),dn(!0)},Pa=function(j){j.stopPropagation(),F(!0)},fr=function(){var w=L()(C()().mark(function j(){var g,x;return C()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return F(!1),Rt(!0),k.next=4,dr(i);case 4:g=k.sent,x=g.data,Je(x);case 7:case"end":return k.stop()}},j)}));return function(){return w.apply(this,arguments)}}(),Kt=function(j){var g,x=Z?.find(function(Ce){return Ce.id===j}),h=x==null||(g=x.bindConfig)===null||g===void 0?void 0:g.inputArgBindConfigs,k=(0,Lt.T6)(h||[]);x&&x.bindConfig&&(x.bindConfig.inputArgBindConfigs=k),x?.type===u.qR.Workflow&&(x.bindConfig.argBindConfigs=null),we(x),y(!0)},pr=[{key:E.bX.Plugin,label:"\u63D2\u4EF6",children:(0,e.jsx)(at,{textClassName:Hn(Un.text),type:u.qR.Plugin,list:De(u.qR.Plugin),deleteList:Ge,onSet:Kt,onDel:Ct}),extra:(0,e.jsx)(gn.Z,{title:"\u6DFB\u52A0\u63D2\u4EF6",onClick:function(j){return xt(j,u.qR.Plugin)}}),classNames:{header:"collapse-header",body:"collapse-body"}},{key:E.bX.Workflow,label:"\u5DE5\u4F5C\u6D41",children:(0,e.jsx)(at,{textClassName:Hn(Un.text),type:u.qR.Workflow,list:De(u.qR.Workflow),deleteList:Ge,onSet:Kt,onDel:Ct}),extra:(0,e.jsx)(gn.Z,{title:"\u6DFB\u52A0\u5DE5\u4F5C\u6D41",onClick:function(j){return xt(j,u.qR.Workflow)}}),classNames:{header:"collapse-header",body:"collapse-body"}},{key:E.bX.MCP,label:"MCP",children:Qe!=null&&Qe.length?Qe.map(function(w){return(0,e.jsx)(so,{item:w,deleteList:Ge,onSet:Kt,onDel:Ct},w.targetId)}):(0,e.jsx)("p",{className:Hn(Un.text),children:"\u667A\u80FD\u4F53\u53EF\u4EE5\u901A\u8FC7\u6807\u51C6\u5316\u534F\u8BAE\uFF08MCP\uFF09\u8FDE\u63A5\u5404\u7C7B\u670D\u52A1API\u5E76\u53D1\u8D77\u8C03\u7528\u3002"}),extra:(0,e.jsx)(gn.Z,{title:"\u6DFB\u52A0MCP",onClick:function(j){return xt(j,u.qR.MCP)}}),classNames:{header:"collapse-header",body:"collapse-body"}}],mr=[{key:E.bX.Text,label:"\u6587\u672C",children:(0,e.jsx)(uo,{textClassName:Hn(Un.text),list:De(u.qR.Knowledge),deleteList:Ge,onDel:Ct}),extra:(0,e.jsx)(gn.Z,{title:"\u6DFB\u52A0\u77E5\u8BC6\u5E93",onClick:function(j){return xt(j,u.qR.Knowledge)}}),classNames:{header:"collapse-header",body:"collapse-body"}}],ia=[{key:E.bX.Skill,label:"\u6280\u80FD",children:(0,e.jsx)(at,{textClassName:Hn(Un.text),type:u.qR.Skill,list:De(u.qR.Skill),deleteList:Ge,onSet:Kt,onDel:Ct}),extra:(0,e.jsx)(gn.Z,{title:"\u6DFB\u52A0\u6280\u80FD",onClick:function(j){return xt(j,u.qR.Skill)}}),classNames:{header:"collapse-header",body:"collapse-body"}}],gr=[{key:E.bX.Variable,label:"\u53D8\u91CF",children:(0,e.jsx)(jo,{textClassName:Hn(Un.text),list:(Ze==null||(o=Ze.bindConfig)===null||o===void 0?void 0:o.variables)||[],onClick:Pa}),extra:(0,e.jsx)(gn.Z,{title:"\u6DFB\u52A0\u53D8\u91CF",onClick:Pa}),classNames:{header:"collapse-header",body:"collapse-body"}},{key:E.bX.Table,label:"\u6570\u636E\u8868",children:(0,e.jsx)(at,{textClassName:Hn(Un.text),type:u.qR.Table,list:De(u.qR.Table),deleteList:Ge,onSet:Kt,onDel:Ct}),extra:(0,e.jsx)(gn.Z,{title:"\u6DFB\u52A0\u6570\u636E\u8868",onClick:function(j){return xt(j,u.qR.Table)}}),classNames:{header:"collapse-header",body:"collapse-body"}},{key:E.bX.Long_Memory,label:"\u957F\u671F\u8BB0\u5FC6",children:(0,e.jsx)(lo,{textClassName:Hn(Un.text),openLongMemory:c?.openLongMemory}),extra:(0,e.jsx)(vt.Z,{value:c?.openLongMemory===E.nb.Open,onClick:function(j,g){g.stopPropagation()},onChange:function(j){return f(j?E.nb.Open:E.nb.Close,"openLongMemory")}}),classNames:{header:"collapse-header",body:"collapse-body"}}],hr=[{key:E.bX.User_Problem_Suggestion,label:"\u7528\u6237\u95EE\u9898\u5EFA\u8BAE",children:(0,e.jsx)("p",{className:Hn(Un.text),children:c?.openSuggest===E.nb.Open?"\u5728\u667A\u80FD\u4F53\u56DE\u590D\u540E\uFF0C\u6839\u636E Prompt \u63D0\u4F9B\u591A\u6761\u7528\u6237\u63D0\u95EE\u5EFA\u8BAE":"\u5728\u6BCF\u6B21\u667A\u80FD\u4F53\u56DE\u590D\u540E\uFF0C\u4E0D\u4F1A\u63D0\u4F9B\u4EFB\u4F55\u7528\u6237\u95EE\u9898\u5EFA\u8BAE"}),extra:(0,e.jsx)(vt.Z,{value:c?.openSuggest===E.nb.Open,onClick:function(j,g){g.stopPropagation()},onChange:function(j){return f(j?E.nb.Open:E.nb.Close,"openSuggest")}}),classNames:{header:"collapse-header",body:"collapse-body"}},{key:E.bX.Open_Scheduled_Task,label:"\u5B9A\u65F6\u4EFB\u52A1",children:(0,e.jsx)("p",{className:Hn(Un.text),children:"\u5F00\u542F\u540E\uFF0C\u7528\u6237\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E\u5B9A\u65F6\u4EFB\u52A1\u7684\u65B9\u5F0F\u8BA9\u667A\u80FD\u4F53\u6267\u884C\u4EFB\u52A1"}),extra:(0,e.jsx)(vt.Z,{value:c?.openScheduledTask===E.nb.Open,onClick:function(j,g){g.stopPropagation()},onChange:function(j){return f(j?E.nb.Open:E.nb.Close,"openScheduledTask")}}),classNames:{header:"collapse-header",body:"collapse-body"}}],nn=function(j){var g=Z?.find(function(x){return x.id===j});we(g),qe(!0)},Ma=function(j){hn(!0),z(j)},Cr=(0,Me.Z)(T.$c,{manual:!0,debounceWait:300}),xr=Cr.runAsync,Er=function(){var w=L()(C()().mark(function j(g){var x,h,k;return C()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return h=Rn()(Ae==null||(x=Ae.bindConfig)===null||x===void 0?void 0:x.eventConfigs),h?.splice(g,1),k={id:Ae?.id,bindConfig:{eventConfigs:h}},Y.next=5,xr(k);case 5:he.ZP.success("\u5220\u9664\u6210\u529F"),Rt(!0);case 7:case"end":return Y.stop()}},j)}));return function(g){return w.apply(this,arguments)}}(),Ar=function(j,g,x){switch(g){case u.BV.Edit:Ma(j);break;case u.BV.InsertSystemPrompt:if(A){var h=j.argJsonSchema?JSON.parse(j.argJsonSchema):{type:"object",properties:{},required:[]},k=JSON.stringify(h,null,2),Ce=k.split(`
`).map(function(un){return"<p>".concat(un.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),"</p>")}).join(""),Y='<div class="event" event-type="'.concat(j.identification,`" data='\u52A8\u6001JSON\u53C2\u6570'>[#\u5F15\u7528\u7F16\u53F7]</div>`),Ue=Y.replace(/</g,"&lt;").replace(/>/g,"&gt;"),tn=j.identification.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),cn="<p>\u8FD4\u56DE\u5185\u5BB9\u540E\u9762\u8FFD\u52A0\u5F15\u7528\u4FE1\u606F\u5982\u4E0B</p><p>".concat(Ue,'</p><p><br class="ProseMirror-trailingBreak"></p><p>').concat(tn,"\u7684\u52A8\u6001JSON\u53C2\u6570JsonSchema\u5982\u4E0B</p><p>```</p>").concat(Ce,"<p>```</p>");A(cn),he.ZP.success("\u5DF2\u63D2\u5165\u5230\u7CFB\u7EDF\u63D0\u793A\u8BCD")}else he.ZP.warning("\u63D2\u5165\u7CFB\u7EDF\u63D0\u793A\u8BCD\u529F\u80FD\u4E0D\u53EF\u7528");break;case u.BV.Delete:Er(x);break}},yr=[{key:E.bX.Opening_Remarks,label:"\u5F00\u573A\u767D",children:(0,e.jsx)(ho,{agentConfigInfo:c,pageArgConfigs:Fn,onChangeAgent:f}),classNames:{header:"collapse-header",body:"collapse-body"}}].concat(ve()(c?.type===E.EA.TaskAgent?[]:[{key:E.bX.Page,label:"\u9875\u9762",children:(0,e.jsx)(at,{textClassName:Hn(Un.text),type:u.qR.Page,list:en,deleteList:Ge,onSet:nn,onDel:Ct}),extra:(0,e.jsx)(gn.Z,{title:"\u6DFB\u52A0\u9875\u9762",onClick:function(j){return xt(j,u.qR.Page)}}),classNames:{header:"collapse-header",body:"collapse-body"}},{key:E.bX.Default_Expand_Page_Area,label:"\u5C55\u5F00\u9875\u9762\u533A",children:(0,e.jsx)("p",{className:Hn(Un.text),children:"\u5F53\u7ED9\u667A\u80FD\u4F53\u7ED1\u5B9A\u4E86\u9875\u9762\u540E\uFF0C\u6253\u5F00\u8BE5\u914D\u7F6E\u9879\u65F6\uFF0C\u4F1A\u5728\u667A\u80FD\u4F53\u5BF9\u8BDD\u6846\u65C1\u8FB9\u9ED8\u8BA4\u5C55\u5F00\u9875\u9762"}),extra:(0,e.jsx)(yt.Z,{title:en!=null&&en.length?"":"\u8BF7\u5148\u6DFB\u52A0\u9875\u9762",children:(0,e.jsx)(vt.Z,{disabled:!(en!=null&&en.length),value:c?.expandPageArea===u.p$.Yes,onClick:function(j,g){g.stopPropagation()},onChange:function(j){return f(j?u.p$.Yes:u.p$.No,"expandPageArea")}})}),classNames:{header:"collapse-header",body:"collapse-body"}},{key:E.bX.Page_Event_Binding,label:"\u4E8B\u4EF6\u7ED1\u5B9A",children:(0,e.jsx)(Xu,{textClassName:Hn(Un.text),list:(Ae==null||(a=Ae.bindConfig)===null||a===void 0?void 0:a.eventConfigs)||[],onClick:Ar}),extra:(0,e.jsx)(gn.Z,{title:"\u6DFB\u52A0\u4E8B\u4EF6\u7ED1\u5B9A",onClick:function(j){j.stopPropagation(),Ma()}}),classNames:{header:"collapse-header",body:"collapse-body"}}])),br=function(j){Se(function(g){return[].concat(ve()(g),[{type:j.targetType,targetId:j.targetId,status:u.BQ.Loading,toolName:j.toolName||""}])}),vr({agentId:i,type:j.targetType,targetId:j.targetId,toolName:j.toolName||""})},Sr=(0,l.useCallback)(function(w){return w===u.qR.MCP?At.a$.filter(function(j){return![E.wQ.Method_Call,E.wQ.Async_Run,E.wQ.Card_Bind].includes(j.type)}):w===u.qR.Skill?At.a$.filter(function(j){return[E.wQ.Method_Call].includes(j.type)}):At.a$},[]),jr=function(){hn(!1),Rt(!0)},Fr=function(){qe(!1),Rt(!0)};return(0,e.jsxs)("div",{className:ye()("overflow-y","flex-1",Un.container),children:[(0,e.jsx)(ta,{title:"\u5DE5\u5177"}),(0,e.jsx)(rt.Z,{items:pr,defaultActiveKey:st}),c?.type===E.EA.TaskAgent&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ta,{title:"\u6280\u80FD"}),(0,e.jsx)(rt.Z,{items:ia,defaultActiveKey:Qn})]}),(0,e.jsx)(ta,{title:"\u77E5\u8BC6"}),(0,e.jsx)(rt.Z,{items:mr,defaultActiveKey:la}),(0,e.jsx)(ta,{title:"\u8BB0\u5FC6"}),(0,e.jsx)(rt.Z,{items:gr,defaultActiveKey:Ia}),(0,e.jsx)(ta,{title:"\u5BF9\u8BDD\u4F53\u9A8C"}),(0,e.jsx)(rt.Z,{items:hr,onChangeCollapse:function(j){return We(j)},defaultActiveKey:be}),(0,e.jsx)(ta,{title:"\u754C\u9762\u914D\u7F6E"}),(0,e.jsx)(rt.Z,{items:yr,defaultActiveKey:Na}),(0,e.jsx)(sa.Z,{open:rn,onCancel:function(){return dn(!1)},checkTag:$,addComponents:ce,onAdded:br,tabs:Za.Ne.filter(function(w){return w.key!==u.qR.Agent})}),(0,e.jsx)(Ku,{open:p,variablesInfo:Ze,onCancel:function(){return F(!1)},onConfirm:fr}),(0,e.jsx)(Iu,{open:O,variables:(Ze==null||(t=Ze.bindConfig)===null||t===void 0?void 0:t.variables)||[],currentComponentInfo:G,devConversationId:c?.devConversationId,settingActionList:Sr(G?.type),onCancel:function(){return y(!1)}}),(0,e.jsx)(zu,{open:_n,eventsInfo:Ae,currentEventConfig:ne,pageArgConfigs:Fn,onCancel:function(){return hn(!1)},onConfirm:jr}),(0,e.jsx)(bo,{open:q,currentComponentInfo:G,allPageComponentList:en,onCancel:Fr})]})},Do=Fo,_o=n(22675),Yr=n(68279),Io=n(12758),No=n(58176),wn={"xagi-nav-style2":"xagi-nav-style2___qKUvh",text:"text___PhyIY","page-container":"page-container___HL1GJ",header:"header___NlYJu","icon-backward":"icon-backward___b3IzE",avatar:"avatar___Erdew","header-info":"header-info___ij1jH","h-title":"h-title___fTG4i","edit-ico":"edit-ico___GDJ3n","agent-rel-info":"agent-rel-info____068A","space-name":"space-name___YpRDg","save-time-box":"save-time-box___aotv9","save-time":"save-time___dyOcH",volcano:"volcano___iFHwy","fold-box":"fold-box___Xvnhk","fold-btn":"fold-btn___iTXFj","header-title":"header-title___u7b9G","right-box":"right-box___eAszv","publish-btn":"publish-btn___GXQ6m",fold:"fold___V7K4E",ico:"ico___zKzSv"},On=ye().bind(wn),Bo=function(r){var o,a,t,i=r.agentConfigInfo,c=r.onToggleShowStand,f=r.onToggleVersionHistory,A=r.onEditAgent,P=r.onPublish,b=r.onOtherAction,N=(0,pn.useParams)(),S=N.spaceId,O=(0,l.useMemo)(function(){if(i){var p;return!(i!=null&&(p=i.permissions)!==null&&p!==void 0&&p.includes(Be.jE.Publish))}else return!1},[i]),y=function(F){var _;return i==null||(_=i.permissions)===null||_===void 0?void 0:_.includes(F)},v=(0,l.useMemo)(function(){return At.$m.filter(function(p){var F=p.type;switch(F){case E.KZ.Temporary_Session:return y(Be.jE.TempChat)&&i?.type!==E.EA.TaskAgent;case E.KZ.Export_Config:return y(Be.jE.Export);default:return!0}}).map(function(p){return{key:p.type,label:(0,e.jsx)("div",{onClick:function(){b(p.type)},children:p.label})}})},[i]),ue=[{key:"showStand",label:(0,e.jsx)("div",{onClick:c,children:"\u5C55\u793A\u53F0"})},{key:"versionHistory",label:(0,e.jsx)("div",{onClick:f,children:"\u7248\u672C\u5386\u53F2"})}].concat(ve()(v));return(0,e.jsxs)("header",{className:On("flex","items-center","relative",wn.header),children:[(0,e.jsx)(Yr.Z,{name:"icons-nav-backward",className:On(wn["icon-backward"]),onClick:function(){pn.history.push("/space/".concat(S,"/develop"))}}),(0,e.jsx)("img",{className:On(wn.avatar),src:i?.icon||_o,alt:""}),(0,e.jsx)("div",{className:On("flex","flex-col",wn["header-info"]),children:(0,e.jsxs)("div",{className:On("flex","items-center"),children:[(0,e.jsx)("h3",{className:On(wn["h-title"],"text-ellipsis"),children:i?.name}),(0,e.jsxs)("div",{className:On("flex","items-center",wn["agent-rel-info"]),children:[(0,e.jsx)(ft.Z,{condition:i==null||(o=i.space)===null||o===void 0?void 0:o.icon,children:(0,e.jsx)("img",{src:i==null||(a=i.space)===null||a===void 0?void 0:a.icon,alt:""})}),(0,e.jsx)("span",{className:On(wn["space-name"],"text-ellipsis"),children:i==null||(t=i.space)===null||t===void 0?void 0:t.name})]}),(0,e.jsx)(Rr.Z,{className:On(wn["edit-ico"]),onClick:A})]})}),(0,e.jsxs)("div",{className:On(wn["right-box"],"flex","items-center"),children:[(0,e.jsxs)("div",{className:On("flex","items-center",wn["save-time-box"]),children:[(0,e.jsxs)("span",{className:On(wn["save-time"]),children:["\u8349\u7A3F\u81EA\u52A8\u4FDD\u5B58\u4E8E\xA0",an()(i?.modified).format("HH:mm")]}),i?.publishDate!==null&&an()(i?.publishDate).isBefore(i?.modified)&&(0,e.jsx)(Io.Z,{bordered:!1,color:"volcano",className:On(wn.volcano),children:"\u6709\u66F4\u65B0\u672A\u53D1\u5E03"})]}),(0,e.jsx)("div",{className:On(wn["fold-box"]),children:(0,e.jsx)(No.Z,{menu:{items:ue},placement:"bottomLeft",children:(0,e.jsx)("span",{className:On("flex","items-center","cursor-pointer",wn["fold-btn"]),children:(0,e.jsx)(Yr.Z,{name:"icons-common-more"})})})}),(0,e.jsx)(Zn.ZP,{type:"primary",className:On(wn["publish-btn"]),onClick:P,disabled:O,children:"\u53D1\u5E03"})]})]})},To=Bo,Xr=n(88958),$r=n(73981),Vn={"xagi-nav-style2":"xagi-nav-style2___drQy_",text:"text___e2QrX","page-container":"page-container___lY4DG","modal-wrapper":"modal-wrapper___zxeVv",select:"select___s38yZ",title:"title___bLrDJ","generate-name":"generate-name___dwPDv"},Dn=ye().bind(Vn),Po=function(r){var o=r.originalModelConfigList,a=o===void 0?[]:o,t=r.agentConfigInfo,i=r.modelComponentConfig,c=r.devConversationId,f=r.open,A=r.onCancel,P=(0,l.useState)(null),b=s()(P,2),N=b[0],S=b[1],O=(0,l.useState)([]),y=s()(O,2),v=y[0],ue=y[1],p=(0,l.useState)({contextRounds:0,maxTokens:0,mode:zn.jD.Precision,temperature:0,topP:0,reasoningModelId:null}),F=s()(p,2),_=F[0],I=F[1],$=(0,l.useRef)(0),le=(0,pn.useModel)("conversationInfo"),d=le.runQueryConversation;(0,l.useEffect)(function(){if(a!=null&&a.length&&t)if(t?.type===E.EA.TaskAgent){var H,Q=(a==null||(H=a.filter(function(we){return we.apiProtocol===$e.HN.Anthropic}))===null||H===void 0?void 0:H.map(function(we){return{label:we.name,value:we.id}}))||[];ue(Q)}else{var G=a?.map(function(we){return{label:we.name,value:we.id}})||[];ue(G)}},[a,t]),(0,l.useEffect)(function(){if(f&&i)if($.current=i.id,I(i.bindConfig),t?.type===E.EA.TaskAgent){var H=i.targetId,Q=v?.find(function(G){return G.value===H});S(Q?i.targetId:null)}else S(i.targetId)},[f,i]);var J=(0,l.useMemo)(function(){var H;return(a==null||(H=a.filter(function(Q){return Q.isReasonModel===1&&Q.id!==N}))===null||H===void 0?void 0:H.map(function(Q){return{label:Q.name,value:Q.id}}))||[]},[a,N]),be=(0,l.useMemo)(function(){return a?.find(function(H){return H.id===N})},[a,N]),We=function(){var H=L()(C()().mark(function Q(G){var we,ze=arguments;return C()().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return we=ze.length>1&&ze[1]!==void 0?ze[1]:N,Ge.next=3,(0,T.VV)({id:$.current,targetId:we,bindConfig:G});case 3:case"end":return Ge.stop()}},Q)}));return function(G){return H.apply(this,arguments)}}(),He=function(Q){var G=Number(Q);S(G);var we=a?.find(function(Ye){return Ye.id===G}),ze=m()({},_);we&&we.maxTokens<ze.maxTokens&&(ze=m()(m()({},ze),{},{maxTokens:we.maxTokens})),G===_.reasoningModelId&&(ze=m()(m()({},ze),{},{reasoningModelId:null})),I(ze),We(ze,G)},de=function(Q){var G=m()(m()(m()({},_),Q!==zn.jD.Customization?ut[Q]:{}),{},{mode:Q});I(G),We(G)},ce=function(){var H=L()(C()().mark(function Q(G,we){var ze,Ye;return C()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return we==="reasoningModelId"?ze=Number(G)||null:ze=Number(G)||0,Ye=m()(m()({},_),{},M()(M()({},we,ze),"mode",zn.jD.Customization)),I(Ye),Ee.next=5,We(Ye);case 5:we==="reasoningModelId"&&c&&d(c);case 6:case"end":return Ee.stop()}},Q)}));return function(G,we){return H.apply(this,arguments)}}(),Se=function(){var Q=v?.find(function(we){return we.value===N}),G=String(Q?.label)||"";A(N,G,_)};return t?.type===E.EA.TaskAgent?(0,e.jsxs)($t.Z,{title:"\u6A21\u578B\u8BBE\u7F6E",classNames:{content:Dn(Vn["modal-wrapper"])},open:f,footer:null,onCancel:Se,children:[(0,e.jsx)(Xr.Z,{gap:20,children:(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("h3",{className:Dn(Vn.title),children:"\u4F1A\u8BDD\u6A21\u578B"}),(0,e.jsx)(wt.Z,{placeholder:"\u8BF7\u9009\u62E9\u4F1A\u8BDD\u6A21\u578B",className:Dn(Vn.select),onChange:He,options:v,value:N})]})}),(0,e.jsx)("br",{})]}):(0,e.jsxs)($t.Z,{title:"\u6A21\u578B\u8BBE\u7F6E",classNames:{content:Dn(Vn["modal-wrapper"])},open:f,footer:null,onCancel:Se,children:[(0,e.jsxs)(Xr.Z,{gap:20,children:[(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("h3",{className:Dn(Vn.title),children:"\u4F1A\u8BDD\u6A21\u578B"}),(0,e.jsx)(wt.Z,{placeholder:"\u8BF7\u9009\u62E9\u4F1A\u8BDD\u6A21\u578B",className:Dn(Vn.select),onChange:He,options:v,value:N})]}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("h3",{className:Dn(Vn.title),children:"\u63A8\u7406\u6A21\u578B(\u53EF\u9009)"}),(0,e.jsx)(wt.Z,{placeholder:"\u8BF7\u9009\u62E9\u63A8\u7406\u6A21\u578B",className:Dn(Vn.select),onChange:function(Q){return ce(Q,"reasoningModelId")},options:J,value:_.reasoningModelId,allowClear:!0})]})]}),(0,e.jsxs)("h3",{className:Dn(Vn.title,"flex","items-center"),children:["\u751F\u6210\u591A\u6837\u6027",(0,e.jsx)(gn.Z,{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h4",{className:Dn(Vn["generate-name"]),children:"\u7CBE\u786E\u6A21\u5F0F:"}),(0,e.jsx)("p",{children:"\u4E25\u683C\u9075\u5FAA\u6307\u4EE4\u751F\u6210\u5185\u5BB9"}),(0,e.jsx)("p",{children:"\u9002\u7528\u4E8E\u9700\u51C6\u786E\u65E0\u8BEF\u7684\u573A\u5408\uFF0C\u5982\u6B63\u5F0F\u6587\u6863\u3001\u4EE3\u7801\u7B49"}),(0,e.jsx)("h4",{className:Dn(Vn["generate-name"]),children:"\u5E73\u8861\u6A21\u5F0F:"}),(0,e.jsx)("p",{children:"\u5728\u521B\u65B0\u548C\u7CBE\u786E\u4E4B\u95F4\u5BFB\u6C42\u5E73\u8861"}),(0,e.jsx)("p",{children:"\u9002\u7528\u4E8E\u5927\u591A\u6570\u65E5\u5E38\u5E94\u7528\u573A\u666F\uFF0C\u751F\u6210\u6709\u8DA3\u4F46\u4E0D\u5931\u4E25\u8C28\u7684\u5185\u5BB9"}),(0,e.jsx)("h4",{className:Dn(Vn["generate-name"]),children:"\u521B\u610F\u6A21\u5F0F:"}),(0,e.jsx)("p",{children:"\u6FC0\u53D1\u521B\u610F\uFF0C\u63D0\u4F9B\u65B0\u9896\u72EC\u7279\u7684\u60F3\u6CD5"}),(0,e.jsx)("p",{children:"\u9002\u5408\u9700\u8981\u7075\u611F\u548C\u72EC\u7279\u89C2\u70B9\u7684\u573A\u666F\uFF0C\u5982\u5934\u8111\u98CE\u66B4\u3001\u521B\u610F\u5199\u4F5C\u7B49"}),(0,e.jsx)("h4",{className:Dn(Vn["generate-name"]),children:"\u81EA\u5B9A\u4E49\u6A21\u5F0F:"}),(0,e.jsx)("p",{children:"\u901A\u8FC7\u9AD8\u7EA7\u8BBE\u7F6E\uFF0C\u81EA\u5B9A\u4E49\u751F\u6210\u65B9\u5F0F"}),(0,e.jsx)("p",{children:"\u6839\u636E\u9700\u6C42\uFF0C\u8FDB\u884C\u7CBE\u7EC6\u8C03\u6574\uFF0C\u5B9E\u73B0\u4E2A\u6027\u5316\u4F18\u5316"})]}),icon:(0,e.jsx)($n.Z,{}),type:Be.Ai.White})]}),(0,e.jsx)($r.Z,{options:kn,rootClassName:Dn("mb-16"),value:_?.mode,onChange:de,block:!0}),(0,e.jsxs)("div",{className:Dn("flex","mb-16"),children:[(0,e.jsx)(gt.Z,{label:"\u751F\u6210\u968F\u673A\u6027",title:"temperature: \u8C03\u9AD8\u6E29\u5EA6\u4F1A\u4F7F\u5F97\u6A21\u578B\u7684\u8F93\u51FA\u66F4\u591A\u6837\u6027\u548C\u521B\u65B0\u6027\uFF0C\u53CD\u4E4B\uFF0C\u964D\u4F4E\u6E29\u5EA6\u4F1A\u4F7F\u8F93\u51FA\u5185\u5BB9\u66F4\u52A0\u9075\u5FAA\u6307\u4EE4\u8981\u6C42\u4F46\u51CF\u5C11\u591A\u6837\u6027\u3002\u5EFA\u8BAE\u4E0D\u8981\u4E0E \u201CTop p\u201D \u540C\u65F6\u8C03\u6574"}),(0,e.jsx)(ra,{min:0,max:1,step:.1,value:String(_?.temperature)||"0",onChange:function(Q){return ce(Q,"temperature")}})]}),(0,e.jsxs)("div",{className:Dn("flex","mb-16"),children:[(0,e.jsx)(gt.Z,{label:"Top p",title:"Top p \u4E3A\u7D2F\u8BA1\u6982\u7387: \u6A21\u578B\u5728\u751F\u6210\u8F93\u51FA\u65F6\u4F1A\u4ECE\u6982\u7387\u6700\u9AD8\u7684\u8BCD\u6C47\u5F00\u59CB\u9009\u62E9\uFF0C\u76F4\u5230\u8FD9\u4E9B\u8BCD\u6C47\u7684\u603B\u6982\u7387\u7D2F\u79EF\u8FBE\u5230 Top p \u503C\u3002\u8FD9\u6837\u53EF\u4EE5\u9650\u5236\u6A21\u578B\u53EA\u9009\u62E9\u8FD9\u4E9B\u9AD8\u6982\u7387\u7684\u8BCD\u6C47\uFF0C\u4ECE\u800C\u63A7\u5236\u8F93\u51FA\u5185\u5BB9\u7684\u591A\u6837\u6027\u3002\u5EFA\u8BAE\u4E0D\u8981\u4E0E \u201C\u751F\u6210\u968F\u673A\u6027\u201D \u540C\u65F6\u8C03\u6574\u3002"}),(0,e.jsx)(ra,{min:0,max:1,step:.1,value:String(_?.topP)||"0",onChange:function(Q){return ce(Q,"topP")}})]}),(0,e.jsx)("h3",{className:Dn(Vn.title),children:"\u8F93\u5165\u53CA\u8F93\u51FA\u8BBE\u7F6E"}),(0,e.jsxs)("div",{className:Dn("flex","mb-16"),children:[(0,e.jsx)(gt.Z,{label:"\u643A\u5E26\u4E0A\u4E0B\u6587\u8F6E\u6570",title:"\u8BBE\u7F6E\u5E26\u5165\u6A21\u578B\u4E0A\u4E0B\u6587\u7684\u5BF9\u8BDD\u5386\u53F2\u8F6E\u6570\u3002\u8F6E\u6570\u8D8A\u591A\uFF0C\u591A\u8F6E\u5BF9\u8BDD\u7684\u76F8\u5173\u6027\u8D8A\u9AD8\uFF0C\u4F46\u6D88\u8017\u7684 Token \u4E5F\u8D8A\u591A"}),(0,e.jsx)(ra,{min:0,max:100,step:1,value:String(_?.contextRounds)||"0",onChange:function(Q){return ce(Q,"contextRounds")}})]}),(0,e.jsxs)("div",{className:Dn("flex","mb-16"),children:[(0,e.jsx)(gt.Z,{label:"\u6700\u5927\u56DE\u590D\u957F\u5EA6",title:"\u63A7\u5236\u6A21\u578B\u8F93\u51FA\u7684 Tokens \u957F\u5EA6\u4E0A\u9650\u3002\u901A\u5E38 100 Tokens \u7EA6\u7B49\u4E8E 150 \u4E2A\u4E2D\u6587\u6C49\u5B57\u3002"}),(0,e.jsx)(ra,{min:1,max:be?.maxTokens||4096,step:1,value:String(_?.maxTokens)||"0",onChange:function(Q){return ce(Q,"maxTokens")}})]})]})},Mo=Po,ur={"xagi-nav-style2":"xagi-nav-style2___igdHc",text:"text___FYHpi","page-container":"page-container___xKmft","edit-header":"edit-header___LXHm6","drop-box":"drop-box___RbaYp"},qr=ye().bind(ur),Ro=function(r){var o=r.originalModelConfigList,a=r.agentConfigInfo,t=r.icon,i=r.modelName,c=r.onClick,f=(0,l.useState)(!1),A=s()(f,2),P=A[0],b=A[1];return(0,l.useEffect)(function(){if(a&&o){var N=a?.type===E.EA.TaskAgent;if(N){var S,O=a==null||(S=a.modelComponentConfig)===null||S===void 0?void 0:S.targetId,y=o.find(function(v){return v.id===O&&v.apiProtocol===$e.HN.Anthropic});b(!!y)}else b(!0)}},[a,o]),(0,e.jsxs)("div",{className:qr("flex","content-between","items-center",ur["edit-header"]),children:[(0,e.jsx)("h3",{children:"\u7F16\u6392"}),(0,e.jsxs)("div",{className:qr("flex","items-center","cursor-pointer",ur["drop-box"]),onClick:c,children:[(0,e.jsx)(ft.Z,{condition:!!t,children:(0,e.jsx)("img",{src:t,alt:""})}),(0,e.jsx)("span",{children:P?i:"\u8BF7\u9009\u62E9\u4F1A\u8BDD\u6A21\u578B"}),(0,e.jsx)(Dt.le,{name:"icons-common-caret_down",style:{fontSize:16}})]})]})},Zo=Ro,Lo=n(77992),wo=n(26292),Oo=n(1101),ko=n(64771),Uo=n(58226),Sn={"xagi-nav-style2":"xagi-nav-style2___doNDO",text:"text___ZGIMU","page-container":"page-container___CxNyw",header:"header___Zhp3M","time-box":"time-box___MlxEC",num:"num___pCG3M","vertical-line":"vertical-line___zScjb",box:"box___DfwY3",value:"value___G3F6B",wrap:"wrap___SC3yY",title:"title___Lh0ck","execute-box":"execute-box___GwF5n","component-img":"component-img___a4HVL",name:"name___mFM56",active:"active___vF1vf","render-container":"render-container___EHMbK"},Vo=n(88628),kt={container:"container___TOg3u",box:"box___NOAzh","mt-10":"mt-10___DaRdj",label:"label___kH9Er",value:"value___PNdD7"},Da=ye().bind(kt),Qo=function(r){var o=r.node,a=function(f,A,P){return(0,e.jsxs)("div",{className:Da("flex",kt.box,P),children:[(0,e.jsxs)("span",{className:Da(kt.label),children:[f,"\uFF1A"]}),(0,e.jsx)(Vo.H,{text:A||"--",className:Da(kt.value,"flex-1")})]})},t=o?"".concat(o?.endTime-o?.startTime,"ms"):"--",i=(0,l.useMemo)(function(){switch(o?.type){case u.qR.Plugin:return"\u63D2\u4EF6";case u.qR.Workflow:return"\u5DE5\u4F5C\u6D41";case u.qR.Knowledge:return"\u77E5\u8BC6\u5E93";case u.qR.Variable:return"\u53D8\u91CF";case u.qR.Table:return"\u6570\u636E\u8868";case u.qR.Model:return"\u6A21\u578B";case u.qR.MCP:return"MCP";default:return"--"}},[o?.type]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:Da(kt.container),children:[a("\u7C7B\u578B",i),a("\u72B6\u6001","\u6210\u529F"),a("\u540D\u79F0",o?.name),a("\u8017\u65F6",t)]}),a("\u53D1\u8D77\u65F6\u95F4",o!=null&&o.startTime?an()(o?.startTime).format("YYYY-MM-DD HH:mm"):"",kt["mt-10"]),a("\u7ED3\u675F\u65F6\u95F4",o!=null&&o.endTime?an()(o?.endTime).format("YYYY-MM-DD HH:mm"):"",kt["mt-10"])]})},Bn=ye().bind(Sn),Ko=function(r){var o,a=r.visible,t=r.onClose,i=(0,pn.useModel)("conversationInfo"),c=i.requestId,f=i.finalResult,A=i.setFinalResult,P=(0,l.useState)(),b=s()(P,2),N=b[0],S=b[1],O=(0,l.useState)(0),y=s()(O,2),v=y[0],ue=y[1],p=(0,l.useState)(""),F=s()(p,2),_=F[0],I=F[1],$=(0,l.useState)(""),le=s()($,2),d=le[0],J=le[1],be=function(ce){return typeof ce=="string"?ce:JSON.stringify(ce,null,2)};(0,l.useEffect)(function(){var de=f?.componentExecuteResults||[];if(de?.length>0){var ce=de[v];if(S(ce),ce){var Se=be(ce.input);I(Se);var H=be(ce.data);J(H)}}else S(null),I(""),J("")},[f,v]),(0,l.useEffect)(function(){ue(0)},[f]),(0,l.useEffect)(function(){return function(){A(null)}},[]);var We=function(){he.ZP.success("\u590D\u5236\u6210\u529F")},He=function(ce){switch(ce.type){case u.qR.Plugin:return Gn;case u.qR.Workflow:return Et;case u.qR.Knowledge:return Qr;case u.qR.Variable:return wo;case u.qR.Table:return Ln;case u.qR.Model:return Lo;case u.qR.MCP:return tt;default:return Gn}};return(0,e.jsx)(Oo.Z,{title:"\u8C03\u8BD5\u8BE6\u60C5",onClose:t,visible:a,children:f?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("header",{className:Bn(Sn.header),children:[(0,e.jsx)("div",{className:Bn("flex",Sn["time-box"]),children:(0,e.jsxs)("div",{className:Bn(Sn.num,"flex","items-center"),children:[(0,e.jsxs)("span",{children:["\u8017\u65F6",f.endTime-f.startTime," ms"]}),(0,e.jsx)("span",{className:Bn(Sn["vertical-line"])}),(0,e.jsxs)("span",{children:[f.totalTokens," Tokens"]})]})}),(0,e.jsxs)("div",{className:Bn("flex",Sn.box),children:[(0,e.jsx)("span",{children:"requestId:"}),(0,e.jsx)("span",{className:Bn(Sn.value,"text-ellipsis"),children:c}),(0,e.jsx)(Uo.CopyToClipboard,{text:c||"",onCopy:We,children:(0,e.jsx)(ko.Z,{})})]})]}),(0,e.jsxs)("div",{className:Bn(Sn.wrap),children:[(0,e.jsx)("h5",{className:Bn(Sn.title),children:"\u8C03\u7528\u7EC4\u4EF6"}),f==null||(o=f.componentExecuteResults)===null||o===void 0?void 0:o.map(function(de,ce){return(0,e.jsxs)("div",{className:Bn(Sn["execute-box"],"flex","items-center"),children:[(0,e.jsx)("img",{className:Bn(Sn["component-img"]),src:de?.icon||He(de),onError:function(H){H.currentTarget.onerror=null,H.currentTarget.src=He(de)},alt:""}),(0,e.jsx)("span",{className:Bn(Sn.name,"cursor-pointer",M()({},Sn.active,v===ce)),onClick:function(){return ue(ce)},children:de.name})]},de?.id||ce)})]}),(0,e.jsxs)("div",{className:Bn(Sn.wrap),children:[(0,e.jsx)("h5",{className:Bn(Sn.title),children:"\u8282\u70B9\u8BE6\u60C5"}),(0,e.jsx)(Qo,{node:N})]}),(0,e.jsxs)("div",{className:Bn(Sn.wrap,Sn["render-container"]),children:[(0,e.jsx)("h5",{className:Bn(Sn.title),children:"\u8F93\u5165"}),(0,e.jsx)("pre",{children:_})]}),(0,e.jsxs)("div",{className:Bn(Sn.wrap,Sn["render-container"]),children:[(0,e.jsx)("h5",{className:Bn(Sn.title),children:"\u8F93\u51FA"}),(0,e.jsx)("pre",{children:d})]})]}):(0,e.jsx)("div",{className:Bn("flex","h-full","items-center","content-center"),children:(0,e.jsx)(Ka.Z,{description:"\u6682\u65E0\u6570\u636E"})})})},Wo=(0,l.memo)(Ko),ht={"xagi-nav-style2":"xagi-nav-style2___ENYpU",text:"text___ARP6g","page-container":"page-container___G6HH4",container:"container___NqsMD","title-style":"title-style___JBmj5","edit-content":"edit-content___FOZJf",section:"section___tvgXt","edit-info":"edit-info___B_f4_","h-line":"h-line___sXIzi","file-tree-sidebar":"file-tree-sidebar___AmSFO","file-tree-header":"file-tree-header____Uwte"},Ho=n(5989),Go=n(71896),zo=n(33653),Jo=n(75811),eu=n(52255),Yo=n(22479),Xo=n(67242),$o=n(1557),qo=n(32161),el=n(1895),Ut={"xagi-nav-style2":"xagi-nav-style2___viIps",text:"text___USG72","page-container":"page-container___sAe9w",container:"container___Kt1nG",loading:"loading___tGVwz","main-content":"main-content___YdPCn","opening-chat-msg":"opening-chat-msg___JOOEh","chat-wrapper":"chat-wrapper___IAYX5","conversation-status-bar":"conversation-status-bar___J8qOy","slide-in-up":"slide-in-up___tUT78"},Pt={"xagi-nav-style2":"xagi-nav-style2___OXozL",text:"text___AjEUO","page-container":"page-container___Rd4a6",container:"container___bIrt_","extra-box":"extra-box___CdP4P",debug:"debug___pjPlo",preview:"preview___uUQwP",svg:"svg___DqIas"},Vt=ye().bind(Pt),nl=function(r){var o=r.onPressDebug,a=r.onShowPreview,t=r.isShowPreview,i=r.onToggleFileTree,c=r.isTaskAgent,f=(0,pn.useModel)("conversationInfo"),A=f.showType;return(0,e.jsxs)("header",{className:Vt("flex","content-between","items-center",Pt.container),children:[(0,e.jsx)("h3",{children:"\u9884\u89C8\u4E0E\u8C03\u8BD5"}),(0,e.jsxs)("div",{className:Vt(Pt["extra-box"],"flex","items-center"),children:[(A===E.wv.Version_History||A===E.wv.Show_Stand||A===E.wv.Hide)&&(0,e.jsx)(Zn.ZP,{type:"text",className:Vt(Pt.debug),icon:(0,e.jsx)(Dt.le,{name:"icons-common-debug",style:{fontSize:16}}),onClick:o,children:"\u8C03\u8BD5"}),t&&(0,e.jsx)(yt.Z,{title:"\u6253\u5F00\u9884\u89C8\u9875\u9762",children:(0,e.jsx)(Zn.ZP,{type:"text",className:Vt(Pt.debug),icon:(0,e.jsx)(Dt.le,{name:"icons-nav-ecosystem",className:Vt(Pt.svg)}),onClick:function(){return a?.()}})}),c&&(0,e.jsx)(yt.Z,{title:"\u6587\u4EF6\u9884\u89C8\u6216\u6253\u5F00\u667A\u80FD\u4F53\u7535\u8111",children:(0,e.jsx)(Zn.ZP,{type:"text",className:Vt(Pt.preview),icon:(0,e.jsx)(Dt.le,{name:"icons-nav-components",className:Vt(Pt.svg)}),onClick:i})})]})]})},tl=nl,Mt=ye().bind(Ut),al=function(r){var o,a=r.agentId,t=r.agentConfigInfo,i=r.onAgentConfigInfo,c=r.onPressDebug,f=r.onOpenPreview,A=r.onToggleFileTree,P=sn.Z.useForm(),b=s()(P,1),N=b[0],S=(0,l.useRef)(0),O=(0,l.useState)(null),y=s()(O,2),v=y[0],ue=y[1],p=(0,pn.useModel)("conversationInfo"),F=p.conversationInfo,_=p.messageList,I=p.setMessageList,$=p.chatSuggestList,le=p.loadingConversation,d=p.runQueryConversation,J=p.isLoadingConversation,be=p.setIsLoadingConversation,We=p.loadingSuggest,He=p.onMessageSend,de=p.messageViewRef,ce=p.messageViewScrollToBottom,Se=p.allowAutoScrollRef,H=p.scrollTimeoutRef,Q=p.handleClearSideEffect,G=p.showScrollBtn,we=p.setShowScrollBtn,ze=p.manualComponents,Ye=p.variables,Ge=p.userFillVariables,Ee=p.requiredNameList,Te=p.showType,ie=p.setShowType,rn=p.resetInit,dn=(0,pn.useModel)("chat"),En=dn.pagePreviewData,mn=dn.hidePagePreview,_n=dn.showPagePreview,hn=(0,Yo.Z)(),je=hn.runAsyncConversationCreate,U=(0,qo.Z)(),q=U.selectedComponentList,qe=U.handleSelectComponent,_e=U.initSelectedComponentList,Z=sn.Z.useWatch([],{form:N,preserve:!0});(0,l.useEffect)(function(){Z&&Object.keys(Z).length===0||N.validateFields({validateOnly:!0}).then(function(){return ue(Z)}).catch(function(){return ue(null)})},[N,Z]),(0,l.useEffect)(function(){Ge&&ue(Ge)},[Ge]);var Re=(0,l.useMemo)(function(){if(Ee?.length>0){if(!v)return!0;var z=(0,Xe.VL)(Ee,Object.keys(v));return!z}return!1},[Ee,v]),Fe=(0,l.useMemo)(function(){return{assistant:{name:t?.name,avatar:t?.icon},system:{name:t?.name,avatar:t?.icon}}},[t]);(0,Xo.m)(de,Se,H,we),(0,l.useEffect)(function(){_e(ze)},[ze]),(0,l.useEffect)(function(){if(t){var z=t.devConversationId;S.current=z,be(!1),d(z)}},[t?.devConversationId]);var Je=function(De){var Qe=De.conversationId,Ze=De.message;S.current===Number(Qe)&&(I(function(Ae){return[].concat(ve()(Ae),[Ze])}),Se.current&&ce())};(0,l.useEffect)(function(){return Le.Z.on(Ve.Z.RefreshChatMessage,Je),function(){Le.Z.off(Ve.Z.RefreshChatMessage,Je),rn()}},[]);var ae=(0,l.useCallback)(L()(C()().mark(function z(){var De,Qe,Ze,Ae,en,Fn,Cn,st;return C()().wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:return Q(),I([]),be(!1),Qn.next=5,je({agentId:a,devMode:!0});case 5:De=Qn.sent,Qe=De.success,Ze=De.data,Qe&&(Ae=Ze?.agent||{},en=Ae.expandPageArea,Fn=Ae.pageHomeIndex,en===0?mn():_n({uri:Fn,params:{}}),Cn=Ze?.id,S.current=Cn,t&&(st=Rn()(t),st.devConversationId=Cn,i(st)),d(Cn));case 9:case"end":return Qn.stop()}},z)})),[a,t]),V=function(De,Qe){var Ze=S.current;if(Ze){if(Re){N.validateFields(),he.ZP.warning("\u8BF7\u586B\u5199\u5FC5\u586B\u53C2\u6570");return}He(Ze,De,Qe,q,v,!0,!1)}},ne=function(){Se.current=!0,ce(),we(!1)};return(0,$o.Z)({containerRef:de,eventBindConfig:F==null||(o=F.agent)===null||o===void 0?void 0:o.eventBindConfig}),(0,l.useEffect)(function(){En&&Te===E.wv.Debug_Details&&ie(E.wv.Hide)},[En,Te,ie]),(0,e.jsx)("div",{className:Mt(Ut.container,"flex","h-full"),children:t!=null&&t.hideChatArea?null:(0,e.jsxs)("div",{className:Mt("flex","flex-col"),style:{flex:1,minWidth:340},children:[(0,e.jsx)(tl,{onPressDebug:c,isShowPreview:!En&&!!(t!=null&&t.expandPageArea),onShowPreview:function(){f?.()},onToggleFileTree:A,isTaskAgent:t?.type===E.EA.TaskAgent}),(0,e.jsxs)("div",{className:Mt(Ut["main-content"],"flex-1","flex","flex-col","overflow-hide"),children:[(0,e.jsx)(Jo.Z,{form:N,variables:Ye,isFilled:!0,userFillVariables:Ge}),(0,e.jsx)("div",{className:Mt(Ut["chat-wrapper"],"scroll-container","flex-1"),ref:de,children:le?(0,e.jsx)("div",{className:Mt("flex","items-center","content-center","h-full"),children:(0,e.jsx)(dt.Z,{className:Mt(Ut.loading)})}):_?.length>0?(0,e.jsxs)(e.Fragment,{children:[_?.map(function(z){return(0,e.jsx)(zo.Z,{messageInfo:z,roleInfo:Fe,mode:"chat"},z?.id)}),(0,e.jsx)(eu.Z,{loading:We,chatSuggestList:$,onClick:V})]}):J&&(0,e.jsx)(Ho.Z,{className:"h-full",icon:t?.icon,name:t?.name,extra:(0,e.jsxs)("div",{className:"flex flex-col items-center content-center",children:[(0,e.jsx)("div",{className:Mt(Ut["opening-chat-msg"]),children:t?.openingChatMsg}),(0,e.jsx)(eu.Z,{className:"mt-16",chatSuggestList:t?.guidQuestionDtos||[],onClick:V})]})})}),_?.length>0&&F&&t?.type===E.EA.TaskAgent&&(0,e.jsx)(el.Z,{messageList:_,className:Mt(Ut["conversation-status-bar"])}),(0,e.jsx)(Go.Z,{clearDisabled:!(_!=null&&_.length),onEnter:V,onClear:ae,wholeDisabled:Re,visible:G,manualComponents:ze,selectedComponentList:q,onSelectComponent:qe,onScrollBottom:ne},"edit-agent-".concat(a))]})]})})},rl=al,ul=n(72716),nu=n(54816),tu=n(55654),_a={"xagi-nav-style2":"xagi-nav-style2___B3J39",text:"text___uQ7fZ","page-container":"page-container___nYwgb",container:"container___jDARb","system-tips-wrapper":"system-tips-wrapper____JACe","system-tips":"system-tips___GQnw1","optimize-btn":"optimize-btn___SX6yI","text-area":"text-area___eJKj6"},or=ye().bind(_a),au=(0,l.forwardRef)(function(X,r){var o=X.valueUser,a=X.valueSystem,t=X.onChangeUser,i=X.onChangeSystem,c=X.agentConfigInfo,f=X.onReplace,A=X.variables,P=X.skills,b=(0,l.useState)(!1),N=s()(b,2),S=N[0],O=N[1],y=(0,l.useRef)(null),v=(0,l.useRef)(null),ue=(0,l.useState)("systemPrompt"),p=s()(ue,2),F=p[0],_=p[1],I=function(d,J,be,We){var He,de;if(!J.current){var ce=be||"",Se=ce?"".concat(ce,`
`).concat(d):d;We?.(Se);return}if((He=J.current)!==null&&He!==void 0&&(He=He.commands)!==null&&He!==void 0&&He.insertContent){J.current.commands.insertContent(d);return}var H=0;typeof((de=J.current)===null||de===void 0?void 0:de.getCursorPosition)=="function"&&(H=J.current.getCursorPosition());try{var Q,G,we;if(typeof((Q=J.current)===null||Q===void 0?void 0:Q.replaceText)!="function")throw new Error("replaceText \u65B9\u6CD5\u4E0D\u5B58\u5728");var ze={from:H,to:H,text:d,cursorOffset:d.length,scrollIntoView:!0,userEvent:"insertText"};(G=J.current)===null||G===void 0||(we=G.replaceText)===null||we===void 0||we.call(G,ze);return}catch{}var Ye=be||"";if(Ye){var Ge=Ye.substring(0,H),Ee=Ye.substring(H),Te="".concat(Ge,`
`).concat(d).concat(Ee);We?.(Te)}else We?.(d)},$=function(d){O(!1),f(d)};return(0,l.useImperativeHandle)(r,function(){return{insertText:function(d){F==="userPrompt"&&I(d,y,o,t),F==="systemPrompt"&&I(d,v,a,i)}}}),(0,e.jsxs)("div",{className:or("flex","flex-col","flex-1",_a.container),children:[(0,e.jsxs)("div",{className:or("flex","items-center","content-between",_a["system-tips-wrapper"]),children:[(0,e.jsx)($r.Z,{value:F,onChange:_,options:[{label:"\u7CFB\u7EDF\u63D0\u793A\u8BCD",value:"systemPrompt"},{label:"\u7528\u6237\u63D0\u793A\u8BCD",value:"userPrompt"}]}),F==="systemPrompt"&&(0,e.jsx)(yt.Z,{title:"\u81EA\u52A8\u4F18\u5316\u63D0\u793A\u8BCD",placement:"top",children:(0,e.jsx)(Zn.ZP,{color:"primary",variant:"filled",size:"small",className:or(_a["optimize-btn"]),icon:(0,e.jsx)(Dt.le,{name:"icons-common-stars",style:{fontSize:16}}),onClick:function(){return O(!0)},children:"\u4F18\u5316"})})]}),(0,e.jsx)("div",{className:"flex-1 scroll-container",children:F==="systemPrompt"?(0,e.jsx)(nu.Z,{value:a,onChange:function(d){return i((0,tu.extractTextFromHTML)(d))},placeholder:"\u8F93\u5165\u7CFB\u7EDF\u63D0\u793A\u8BCD\uFF0C\u5BF9\u5927\u6A21\u578B\u8FDB\u884C\u89D2\u8272\u5851\u9020",getEditor:function(d){v.current=d},style:{height:"100%",border:"none"},variables:A,skills:P},"systemPrompt"):(0,e.jsx)(nu.Z,{value:o,onChange:function(d){return t((0,tu.extractTextFromHTML)(d))},placeholder:"\u8F93\u5165\u7528\u6237\u63D0\u793A\u8BCD\uFF0C\u9884\u7F6E\u6307\u4EE4\u3001\u95EE\u9898\u6216\u8BF7\u6C42",getEditor:function(d){y.current=d},style:{height:"100%",border:"none"},variables:A,skills:P},"userPrompt")}),(0,e.jsx)(ul.Z,{open:S,onCancel:function(){return O(!1)},onReplace:$,targetId:c?.id,defaultValue:a||"".concat(c?.name||"")+"".concat(c?.description||"")})]})});au.displayName="SystemTipsWord";var ol=au,Qt=ye().bind(ht),ll=function(){var r,o,a=(0,pn.useParams)(),t=(0,l.useRef)(null),i=Number(a.spaceId),c=Number(a.agentId),f=(0,l.useState)(!1),A=s()(f,2),P=A[0],b=A[1],N=(0,l.useState)(!1),S=s()(N,2),O=S[0],y=S[1],v=(0,l.useState)(!1),ue=s()(v,2),p=ue[0],F=ue[1],_=(0,R.Z)(),I=_.navigationStyle,$=(0,l.useState)(),le=s()($,2),d=le[0],J=le[1],be=(0,l.useState)([]),We=s()(be,2),He=We[0],de=We[1],ce=(0,l.useState)([]),Se=s()(ce,2),H=Se[0],Q=Se[1],G=(0,pn.useModel)("conversationInfo"),we=G.cardList,ze=G.showType,Ye=G.setShowType,Ge=G.setIsSuggest,Ee=G.messageList,Te=G.setChatSuggestList,ie=G.setIsLoadingConversation,rn=G.runQueryConversation,dn=G.isFileTreeVisible,En=G.closePreviewView,mn=G.fileTreeData,_n=G.fileTreeDataLoading,hn=G.viewMode,je=G.handleRefreshFileList,U=G.openPreviewView,q=G.openDesktopView,qe=G.restartVncPod,_e=G.taskAgentSelectedFileId,Z=(0,pn.useModel)("tenantConfigInfo"),Re=Z.setTitle,Fe=(0,pn.useModel)("spaceAgent"),Je=Fe.agentComponentList,ae=(0,l.useState)([]),V=s()(ae,2),ne=V[0],z=V[1],De=(0,l.useState)(!1),Qe=s()(De,2),Ze=Qe[0],Ae=Qe[1],en=(0,l.useState)(!1),Fn=s()(en,2),Cn=Fn[0],st=Fn[1],la=(0,pn.useModel)("chat"),Qn=la.pagePreviewData,Ia=la.hidePagePreview,Na=la.showPagePreview,lr=(0,l.useState)([]),Ba=s()(lr,2),Ta=Ba[0],ir=Ba[1],sr=function(){var g=L()(C()().mark(function x(h){var k;return C()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,(0,W.Bj)(h);case 2:k=Y.sent,ir(k?.data||[]);case 4:case"end":return Y.stop()}},x)}));return function(h){return g.apply(this,arguments)}}();(0,l.useEffect)(function(){sr({spaceId:i,modelType:$e.Mj.Chat})},[i]);var dr=(0,Me.Z)(T.T_,{manual:!0,debounceWait:300,onSuccess:function(x){J(x?.data)}}),Ct=dr.run,Rt=(0,Me.Z)(T.T_,{manual:!0,debounceWait:300,onSuccess:function(x){var h=x.data,k=m()(m()({},d),{},{pageHomeIndex:h?.pageHomeIndex});J(k)}}),cr=Rt.run;(0,l.useEffect)(function(){var g,x,h=Je?.find(function(k){return k.type===u.qR.Variable});de((0,se.z)((h==null||(g=h.bindConfig)===null||g===void 0?void 0:g.variables)||[])),Q((Je==null||(x=Je.filter(function(k){return k.type===u.qR.Plugin||k.type===u.qR.Workflow||k.type===u.qR.MCP}))===null||x===void 0?void 0:x.map(function(k){return m()(m()({},k),{},{id:k.targetId||0})}))||[])},[Je]);var vr=(0,l.useCallback)(function(g){de(function(x){var h=x.filter(function(k){return k.systemVariable});return[].concat(ve()(h),ve()((0,se.z)(g||[])))})},[]),xt=(0,l.useCallback)(function(g){var x;Q((g==null||(x=g.filter(function(h){return h.type===u.qR.Plugin||h.type===u.qR.Workflow||h.type===u.qR.MCP}))===null||x===void 0?void 0:x.map(function(h){return m()(m()({},h),{},{id:h.targetId||0})}))||[])},[]),Pa=(0,Me.Z)(T.mp,{manual:!0,debounceWait:600}),fr=Pa.runAsync;(0,l.useEffect)(function(){Ct(c),Re()},[c]),(0,l.useEffect)(function(){(0,Xe.t7)()},[]);var Kt=function(x){var h=m()(m()({},d),x);J(h),y(!1)},pr=function(x,h,k){F(!1);var Ce=Rn()(d);Ce.modelComponentConfig.bindConfig=k,Ce.modelComponentConfig.targetId=x,Ce.modelComponentConfig.name=h,J(Ce)},mr=function(x,h){var k=m()(m()({},d),{},M()({},h,x));if(k.publishStatus===Be.xH.Published&&(k.modified=an()().toString()),J(k),h==="guidQuestionDtos"&&!(Ee!=null&&Ee.length)){var Ce,Y=x,Ue=(Y==null||(Ce=Y.filter(function(tn){return!!tn.info}))===null||Ce===void 0?void 0:Ce.map(function(tn){return tn.info}))||[];Te(Ue)}return k},ia=(0,l.useCallback)(function(){var g=L()(C()().mark(function x(h,k){var Ce,Y,Ue,tn,cn,un,xn,Tn,Zt,on,Wt,ha,Dr,Pn,Ra,ru,uu,_r,ou;return C()().wrap(function(Mn){for(;;)switch(Mn.prev=Mn.next){case 0:if(Ce=d,Ce){Mn.next=4;break}return console.log("[EditAgent] \u914D\u7F6E\u4FE1\u606F\u5C1A\u672A\u52A0\u8F7D\uFF0C\u8DF3\u8FC7\u66F4\u65B0:",k),Mn.abrupt("return");case 4:if(Y=Ce[k],!(typeof h=="string"&&typeof Y=="string")){Mn.next=8;break}if(h!==Y){Mn.next=8;break}return Mn.abrupt("return");case 8:if(!(Array.isArray(h)&&Array.isArray(Y))){Mn.next=12;break}if(JSON.stringify(h)!==JSON.stringify(Y)){Mn.next=12;break}return console.log("[EditAgent] \u6570\u7EC4\u503C\u65E0\u53D8\u5316\uFF0C\u8DF3\u8FC7API\u8C03\u7528:",k),Mn.abrupt("return");case 12:if(!(typeof h=="boolean"&&typeof Y=="boolean")){Mn.next=16;break}if(h!==Y){Mn.next=16;break}return console.log("[EditAgent] \u5E03\u5C14\u503C\u65E0\u53D8\u5316\uFF0C\u8DF3\u8FC7API\u8C03\u7528:",k),Mn.abrupt("return");case 16:if(!(typeof h=="number"&&typeof Y=="number")){Mn.next=20;break}if(h!==Y){Mn.next=20;break}return console.log("[EditAgent] \u6570\u5B57\u503C\u65E0\u53D8\u5316\uFF0C\u8DF3\u8FC7API\u8C03\u7528:",k),Mn.abrupt("return");case 20:return Ue=mr(h,k),k==="openSuggest"&&Ge(h===E.nb.Open),k==="expandPageArea"&&cr(c),tn=Ue.id,cn=Ue.name,un=Ue.description,xn=Ue.icon,Tn=Ue.userPrompt,Zt=Ue.openSuggest,on=Ue.systemPrompt,Wt=Ue.suggestPrompt,ha=Ue.openingChatMsg,Dr=Ue.openScheduledTask,Pn=Ue.openLongMemory,Ra=Ue.expandPageArea,ru=Ue.guidQuestionDtos,uu={id:tn,name:cn,description:un,icon:xn,systemPrompt:on,userPrompt:Tn,openSuggest:Zt,suggestPrompt:Wt,openingChatMsg:ha,openScheduledTask:Dr,openLongMemory:Pn,expandPageArea:Ra,guidQuestionDtos:ru},Mn.next=27,fr(uu);case 27:_r=Ee?.length||0,(k==="openingChatMsg"&&_r<=1||k==="guidQuestionDtos"&&_r===1)&&d&&(ou=d.devConversationId,ie(!1),rn(ou));case 29:case"end":return Mn.stop()}},x)}));return function(x,h){return g.apply(this,arguments)}}(),[d]),gr=function(x){var h;(h=t.current)===null||h===void 0||h.insertText(x)};(0,l.useEffect)(function(){Qn&&Ye(E.wv.Hide)},[Qn]),(0,l.useEffect)(function(){dn&&Ye(E.wv.Hide)},[dn]);var hr=function(){b(!1);var x=an()().toString(),h=m()(m()({},d),{},{publishDate:x,modified:x,publishStatus:Be.xH.Published});J(h)},nn=d?.devConversationId;(0,l.useEffect)(function(){if(nn)return Le.Z.on(Ve.Z.RefreshFileList,function(){return je(nn)}),function(){Le.Z.off(Ve.Z.RefreshFileList,function(){return je(nn)})}},[nn]);var Ma=function(){if(!nn){he.ZP.warning("\u4F1A\u8BDDID\u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u6253\u5F00\u6587\u4EF6\u6811");return}dn?En():U(nn)},Cr=(0,l.useCallback)(function(g){if(!nn){he.ZP.warning("\u4F1A\u8BDDID\u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u5207\u6362\u89C6\u56FE\u6A21\u5F0F");return}g==="desktop"?q(nn):U(nn)},[nn,U,q]),xr=function(){var g=L()(C()().mark(function x(h,k){var Ce,Y,Ue,tn,cn,un,xn,Tn;return C()().wrap(function(on){for(;;)switch(on.prev=on.next){case 0:if(nn){on.next=3;break}return he.ZP.error("\u4F1A\u8BDDID\u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u65B0\u5EFA\u6587\u4EF6"),on.abrupt("return",!1);case 3:if(Ce=k.trim(),Ce){on.next=6;break}return on.abrupt("return",!1);case 6:return Y=h.parentPath||"",Ue=Y?"".concat(Y,"/").concat(Ce):Ce,tn={name:Ue,binary:!1,sizeExceeded:!1,contents:"",renameFrom:"",operation:"create",isDir:h.type==="folder"},cn=[tn],un={cId:nn,files:cn},on.next=13,(0,pe.r2)(un);case 13:return xn=on.sent,Tn=xn.code,Tn===K.Gh&&nn&&je(nn),on.abrupt("return",Tn===K.Gh);case 17:case"end":return on.stop()}},x)}));return function(h,k){return g.apply(this,arguments)}}(),Er=function(){var g=L()(C()().mark(function x(h){return C()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.abrupt("return",new Promise(function(Y){(0,yn.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u6587\u4EF6\u5417?",h.name,L()(C()().mark(function Ue(){var tn,cn,un,xn,Tn;return C()().wrap(function(on){for(;;)switch(on.prev=on.next){case 0:if(on.prev=0,nn){on.next=5;break}return he.ZP.error("\u4F1A\u8BDDID\u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u5220\u9664\u6587\u4EF6"),Y(!1),on.abrupt("return");case 5:if(tn=mn?.find(function(Wt){return Wt.fileId===h.id}),tn){on.next=10;break}return he.ZP.error("\u6587\u4EF6\u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u5220\u9664"),Y(!1),on.abrupt("return");case 10:return tn.operation="delete",cn=[tn],un={cId:nn,files:cn},on.next=15,(0,pe.r2)(un);case 15:xn=on.sent,Tn=xn.code,Tn===K.Gh?(je(nn),he.ZP.success("\u5220\u9664\u6210\u529F"),Y(!0)):Y(!1),on.next=25;break;case 20:on.prev=20,on.t0=on.catch(0),console.error("\u5220\u9664\u6587\u4EF6\u5931\u8D25:",on.t0),he.ZP.error("\u5220\u9664\u6587\u4EF6\u65F6\u53D1\u751F\u9519\u8BEF"),Y(!1);case 25:case"end":return on.stop()}},Ue,null,[[0,20]])})),function(){Y(!1)})}));case 1:case"end":return Ce.stop()}},x)}));return function(h){return g.apply(this,arguments)}}(),Ar=function(){var g=L()(C()().mark(function x(h,k){var Ce,Y,Ue,tn;return C()().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:if(nn){un.next=3;break}return he.ZP.error("\u4F1A\u8BDDID\u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u91CD\u547D\u540D\u6587\u4EF6"),un.abrupt("return",!1);case 3:return Ce=(0,ge.kS)(mn||[],h,k),Y={cId:nn,files:Ce},un.next=7,(0,pe.r2)(Y);case 7:return Ue=un.sent,tn=Ue.code,tn===K.Gh&&je(nn),un.abrupt("return",tn===K.Gh);case 11:case"end":return un.stop()}},x)}));return function(h,k){return g.apply(this,arguments)}}(),yr=function(){var g=L()(C()().mark(function x(h){var k,Ce,Y,Ue;return C()().wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:if(nn){cn.next=3;break}return he.ZP.error("\u4F1A\u8BDDID\u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u4FDD\u5B58\u6587\u4EF6"),cn.abrupt("return",!1);case 3:return k=(0,ge.Tn)(mn||[],h,"modify"),Ce={cId:nn,files:k},cn.next=7,(0,pe.r2)(Ce);case 7:return Y=cn.sent,Ue=Y.code,cn.abrupt("return",Ue===K.Gh);case 10:case"end":return cn.stop()}},x)}));return function(h){return g.apply(this,arguments)}}(),br=function(){var g=L()(C()().mark(function x(h){var k,Ce;return C()().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:if(nn){Ue.next=3;break}return he.ZP.error("\u4F1A\u8BDDID\u4E0D\u5B58\u5728\uFF0C\u65E0\u6CD5\u4E0A\u4F20\u6587\u4EF6"),Ue.abrupt("return");case 3:k="",h&&(h.type==="file"?k=h.path.replace(new RegExp(h.name+"$"),""):k=h.path+"/"),Ce=document.createElement("input"),Ce.type="file",Ce.multiple=!0,Ce.style.display="none",document.body.appendChild(Ce),Ce.onchange=function(){var tn=L()(C()().mark(function cn(un){var xn,Tn,Zt,on,Wt,ha;return C()().wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:if(Tn=(xn=un.target.files)===null||xn===void 0?void 0:xn[0],Tn){Pn.next=4;break}return document.body.removeChild(Ce),Pn.abrupt("return");case 4:return Pn.prev=4,Zt=Array.from(un.target.files||[]),on=Zt.map(function(Ra){return k+Ra.name}),Pn.next=9,(0,pe.T7)({files:Zt,cId:nn,filePaths:on});case 9:Wt=Pn.sent,ha=Wt.code,ha===K.Gh&&nn&&je(nn),Pn.next=17;break;case 14:Pn.prev=14,Pn.t0=Pn.catch(4),console.error("\u4E0A\u4F20\u5931\u8D25",Pn.t0);case 17:return Pn.prev=17,document.body.removeChild(Ce),Pn.finish(17);case 20:case"end":return Pn.stop()}},cn,null,[[4,14,17,20]])}));return function(cn){return tn.apply(this,arguments)}}(),Ce.oncancel=function(){document.body.removeChild(Ce)},Ce.click();case 13:case"end":return Ue.stop()}},x)}));return function(h){return g.apply(this,arguments)}}(),Sr=function(){var g=L()(C()().mark(function x(){var h,k;return C()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(nn){Y.next=3;break}return he.ZP.error("\u5F00\u53D1\u4F1A\u8BDDID\u4E0D\u5B58\u5728\u6216\u65E0\u6548\uFF0C\u65E0\u6CD5\u5BFC\u51FA"),Y.abrupt("return");case 3:return Y.prev=3,Y.next=6,(0,pe.IX)(nn);case 6:h=Y.sent,k="agent-".concat(c,"-").concat(nn,".zip"),(0,vn.Zl)(h,k),Y.next=15;break;case 11:Y.prev=11,Y.t0=Y.catch(3),console.error("\u5BFC\u51FA\u9879\u76EE\u5931\u8D25:",Y.t0),he.ZP.error("\u5BFC\u51FA\u9879\u76EE\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 15:case"end":return Y.stop()}},x,null,[[3,11]])}));return function(){return g.apply(this,arguments)}}(),jr=function(x){var h=x?.agentStatistics||{},k=h.userCount,Ce=k===void 0?0:k,Y=h.convCount,Ue=Y===void 0?0:Y,tn=h.collectCount,cn=tn===void 0?0:tn,un=h.likeCount,xn=un===void 0?0:un,Tn=[{label:"\u5BF9\u8BDD\u4EBA\u6570",value:Ce},{label:"\u5BF9\u8BDD\u6B21\u6570",value:Ue},{label:"\u6536\u85CF\u7528\u6237\u6570",value:cn},{label:"\u70B9\u8D5E\u6B21\u6570",value:xn}];z(Tn)},Fr=function(x){var h;switch(x){case E.KZ.Analyze:jr(d),Ae(!0);break;case E.KZ.Temporary_Session:st(!0);break;case E.KZ.Export_Config:(0,yn.oB)("\u5BFC\u51FA\u914D\u7F6E - ".concat(d?.name),"\u5982\u679C\u5185\u90E8\u5305\u542B\u6570\u636E\u8868\u6216\u77E5\u8BC6\u5E93\uFF0C\u6570\u636E\u672C\u8EAB\u4E0D\u4F1A\u5BFC\u51FA",function(){return(0,vn._d)(d?.id,u.qR.Agent),new Promise(function(k){setTimeout(k,1e3)})});break;case E.KZ.Log:pn.history.push("/space/".concat(i,"/library-log?targetType=").concat(u.qR.Agent,"&targetId=").concat((h=d?.id)!==null&&h!==void 0?h:""));break}},w=function(){d&&d!==null&&d!==void 0&&d.expandPageArea&&d!==null&&d!==void 0&&d.pageHomeIndex?Na({uri:d?.pageHomeIndex,params:{}}):Na(null)};(0,l.useEffect)(function(){w()},[d?.expandPageArea,d?.pageHomeIndex]);var j=function(x){Ia(),Ye(x),En()};return(0,e.jsxs)("div",{className:Qt(ht.container,"h-full","flex","flex-col"),children:[(0,e.jsx)(To,{agentConfigInfo:d,onToggleShowStand:function(){return j(E.wv.Show_Stand)},onToggleVersionHistory:function(){return j(E.wv.Version_History)},onEditAgent:function(){return y(!0)},onPublish:function(){return b(!0)},onOtherAction:Fr}),(0,e.jsxs)("section",{className:Qt("flex","flex-1",ht.section,"xagi-nav-".concat(I)),children:[(0,e.jsxs)("div",{className:Qt("radius-6","flex","flex-col",ht["edit-info"]),children:[(0,e.jsx)(Zo,{originalModelConfigList:Ta,agentConfigInfo:d,icon:d==null||(r=d.modelComponentConfig)===null||r===void 0?void 0:r.icon,modelName:d==null||(o=d.modelComponentConfig)===null||o===void 0?void 0:o.name,onClick:function(){return F(!0)}}),(0,e.jsxs)("div",{className:Qt("flex-1","flex","overflow-y",ht["edit-content"]),children:[(0,e.jsx)(ol,{ref:t,agentConfigInfo:d,valueUser:d?.userPrompt,valueSystem:d?.systemPrompt,onChangeUser:function(x){return ia(x,"userPrompt")},onChangeSystem:function(x){return ia(x,"systemPrompt")},onReplace:function(x){return ia(x,"systemPrompt")},variables:He,skills:H}),(0,e.jsx)(Do,{agentId:c,agentConfigInfo:d,onChangeAgent:ia,onInsertSystemPrompt:gr,onVariablesChange:vr,onToolsChange:xt})]})]}),(!(d!=null&&d.hideChatArea)||Qn)&&(0,e.jsx)("div",{className:Qt(dn&&"flex-1"),style:{flex:Qn?"9 1":"4 1",minWidth:Qn?"1050px":"350px"},children:(0,e.jsx)(oe.Z,{minRightWidth:350,left:d!=null&&d.hideChatArea?null:(0,e.jsx)(rl,{agentConfigInfo:d,agentId:c,onPressDebug:function(){return j(E.wv.Debug_Details)},onAgentConfigInfo:J,onOpenPreview:w,onToggleFileTree:Ma}),right:Qn&&(0,e.jsx)(Ht.Z,{pagePreviewData:Qn,showHeader:!0,onClose:Ia,showCloseButton:!(d!=null&&d.hideChatArea),titleClassName:Qt(ht["title-style"])})})}),dn&&nn&&(0,e.jsx)("div",{className:Qt(ht["file-tree-sidebar"],ht["flex-2"],"flex"),children:(0,e.jsx)(Ie.Z,{headerClassName:ht["file-tree-header"],taskAgentSelectedFileId:_e,originalFiles:mn,fileTreeDataLoading:_n,targetId:nn.toString(),viewMode:hn,readOnly:!1,onViewModeChange:Cr,onExportProject:Sr,onUploadFiles:br,onRenameFile:Ar,onCreateFileNode:xr,onDeleteFile:Er,onSaveFiles:yr,onRestartServer:function(){return qe(nn)}})}),(0,e.jsx)(Wo,{visible:ze===E.wv.Debug_Details,onClose:function(){return Ye(E.wv.Hide)}}),(0,e.jsx)(re.Z,{cardList:we,visible:ze===E.wv.Show_Stand,onClose:function(){return Ye(E.wv.Hide)}}),(0,e.jsx)(Ke.Z,{targetId:c,targetName:d?.name,targetType:u.qR.Agent,permissions:d?.permissions||[],visible:ze===E.wv.Version_History,onClose:function(){return Ye(E.wv.Hide)}})]}),(0,e.jsx)(xe.Z,{targetId:c,open:P,spaceId:i,category:d?.category,onCancel:function(){return b(!1)},onConfirm:hr}),(0,e.jsx)(Pe.Z,{type:d?.type,spaceId:i,mode:Be.jA.Update,agentConfigInfo:d,open:O,onCancel:function(){return y(!1)},onConfirmUpdate:Kt}),(0,e.jsx)(Mo,{originalModelConfigList:Ta,spaceId:i,agentConfigInfo:d,modelComponentConfig:d?.modelComponentConfig,open:p,devConversationId:d?.devConversationId,onCancel:pr}),(0,e.jsx)(B.Z,{open:Ze,onCancel:function(){return Ae(!1)},title:"\u667A\u80FD\u4F53\u6982\u89C8",list:ne}),(0,e.jsx)(Ne.Z,{agentId:d?.id,open:Cn,name:d?.name,onCancel:function(){return st(!1)}})]})},il=ll},41724:function(ln,fe,n){n.d(fe,{Z:function(){return D}});var ee=n(14719),M=n(94581),Oe=n.n(M),ve=n(75271),ke={"analyze-wrapper":"analyze-wrapper___DMVbd","analyze-box":"analyze-box___mZugc","row-line":"row-line___cymU3","vertical-line":"vertical-line___LT3CR"},m=n(52676),me=Oe().bind(ke),C=function(te){var s=te.open,Pe=te.onCancel,Ie=te.title,xe=te.list;return(0,m.jsx)(ee.Z,{open:s,onCancel:Pe,title:Ie,footer:!1,width:556,children:(0,m.jsxs)("div",{className:me("flex","flex-wrap",ke["analyze-wrapper"]),children:[xe?.map(function(oe,re){return(0,m.jsxs)("div",{className:me(ke["analyze-box"],"flex","flex-col"),children:[(0,m.jsx)("span",{children:oe.label}),(0,m.jsx)("div",{className:me("flex","items-center","content-center"),children:oe.value})]},re)}),(0,m.jsx)("div",{className:me(ke["row-line"])}),(0,m.jsx)("div",{className:me(ke["vertical-line"])})]})})},D=C},34013:function(ln,fe,n){n.d(fe,{Z:function(){return fn}});var ee=n(82092),M=n.n(ee),Oe=n(26068),ve=n.n(Oe),ke=n(15558),m=n.n(ke),me=n(48305),C=n.n(me),D=n(72611),L=n(88628),te=n(72601),s=n(86743),Pe=n(16621),Ie=n(41249),xe=n(68108),oe=n(43898),re=n(67130),se=n(86524),Ke=n(9504),K=n(14719),Ve=n(78321),R=n(70183),B=n(39319),Ne=n(39357),T=n(94581),W=n.n(T),pe=n(16483),u=n.n(pe),Be=n(75271),$e=n(58226),E=n.n($e),yn=n(53586),Xe={container:"container___ucaEF","table-wrap":"table-wrap___KFIpR","url-box":"url-box___A_aT7","chat-url":"chat-url___qrgrJ","img-box":"img-box___onytl","copy-img-box":"copy-img-box___wP83A",img:"img___DXQBL","qr-code-modal":"qr-code-modal___vOzXg"},Le=n(22824),vn=n(70199),ge=n(52676);u().locale("zh-cn");var Me=W().bind(Xe),he=function(jn){var an=jn.agentId,Xn=jn.name,Rn=jn.open,l=jn.onCancel,pn=(0,Be.useState)([]),Ht=C()(pn,2),Ln=Ht[0],tt=Ht[1],Gn=(0,Be.useState)(""),Et=C()(Gn,2),Gt=Et[0],gn=Et[1],zt=(0,Be.useState)(!1),dt=C()(zt,2),ct=dt[0],e=dt[1],Jt=(0,yn.useRequest)(te.Ai,{manual:!0,debounceInterval:300,onSuccess:function(bn){tt([].concat(m()(Ln),[bn]))}}),at=Jt.run,rt=Jt.loading,sa=(0,yn.useRequest)(te.is,{manual:!0,debounceInterval:300,onSuccess:function(bn){tt(bn||[])}}),Za=sa.run,At=sa.loading,Lt=(0,yn.useRequest)(te.kt,{manual:!0,debounceInterval:300,onSuccess:function(){Ie.ZP.success("\u4FEE\u6539\u6210\u529F")}}),vt=Lt.run,yt=(0,yn.useRequest)(te.zZ,{manual:!0,debounceInterval:300,onSuccess:function(){Ie.ZP.success("\u5220\u9664\u6210\u529F")}}),La=yt.run,zn=function(){Ie.ZP.success("\u590D\u5236\u6210\u529F")};(0,Be.useEffect)(function(){!Rn||!an||Za(an)},[an,Rn]);var Kn=function(bn,An,kn){var ut=Ln?.map(function(Ca){var Xt=Ca;return Xt.id===bn&&(Xt=ve()(ve()({},Xt),{},M()({},An,kn))),Xt});tt(ut||[]);var Yt=kn;An==="expire"&&(Yt=kn?u()(kn.toString()):""),An==="requireLogin"&&(Yt=kn?1:0),vt(M()({id:bn,agentId:an},An,Yt))},$n=function(bn,An){var kn=Ln?.filter(function(ut){return ut.id!==bn});tt(kn||[]),La(bn,An)},da=function(bn,An,kn){(0,Le.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u94FE\u63A5\u5417?",kn,function(){return $n(bn,An),new Promise(function(ut){setTimeout(ut,1e3)})})},wa=function(bn){e(!0),gn(bn)},Oa=[{title:"\u94FE\u63A5\u5730\u5740",dataIndex:"chatUrl",key:"chatUrl",className:"flex",render:function(bn,An){return(0,ge.jsxs)("div",{className:Me("flex","items-center","overflow-hide",Xe["url-box"]),children:[(0,ge.jsx)(L.H,{text:bn,className:Me(Xe["chat-url"],"flex-1")}),(0,ge.jsx)(E(),{text:bn||"",onCopy:zn,children:(0,ge.jsx)(xe.Z,{title:"\u590D\u5236",children:(0,ge.jsx)("span",{className:Me(Xe["img-box"],Xe["copy-img-box"],"flex","content-center","items-center","cursor-pointer"),children:(0,ge.jsx)("img",{className:Me("cursor-pointer",Xe.img),src:D,alt:""})})})}),(0,ge.jsx)(xe.Z,{title:"\u4E8C\u7EF4\u7801",children:(0,ge.jsx)("span",{className:Me(Xe["img-box"],"flex","content-center","items-center","cursor-pointer"),onClick:function(){return wa(An.chatUrl)},children:(0,ge.jsx)("img",{className:Me("cursor-pointer",Xe.img),src:An.qrCodeUrl,alt:""})})})]})}},{title:"\u767B\u5F55\u53EF\u7528",dataIndex:"requireLogin",key:"requireLogin",width:85,align:"center",render:function(bn,An){return(0,ge.jsx)("div",{className:Me("h-full","flex","items-center","content-center"),children:(0,ge.jsx)(oe.Z,{checked:!!An.requireLogin,onChange:function(ut){return Kn(An.id,"requireLogin",ut.target.checked)}})})}},{title:"\u6709\u6548\u671F",key:"expire",width:210,render:function(bn,An){return(0,ge.jsx)(re.ZP,{locale:Ne.Z,children:(0,ge.jsx)(se.default,{minDate:u()(),value:An.expire?u()(An.expire):null,allowClear:!1,showTime:!0,format:"YYYY-MM-DD HH:mm:ss",onChange:function(ut,Yt){return Kn(An.id,"expire",Yt.toString())}})})}},{title:"\u64CD\u4F5C",width:80,key:"action",align:"center",render:function(bn,An){return(0,ge.jsx)("div",{className:Me("h-full","flex","items-center","content-center"),children:(0,ge.jsx)(Ke.ZP,{type:"text",icon:(0,ge.jsx)(s.Z,{}),onClick:function(){return da(An.id,An.agentId,An.chatUrl)}})})}}],ka=function(){tt([]),l()};return(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(K.Z,{classNames:{content:Me(Xe.container),header:Me(Xe.container),body:Me(Xe.container)},title:(0,ge.jsxs)("div",{className:Me("text-ellipsis"),style:{width:"400px"},children:[Xn,"-\u4E34\u65F6\u4F1A\u8BDD\u94FE\u63A5\u7BA1\u7406"]}),open:Rn,width:710,destroyOnHidden:!0,footer:null,onCancel:ka,children:(0,ge.jsx)(Ve.Z,{className:Me(Xe["table-wrap"]),rowKey:"id",columns:Oa,dataSource:Ln,pagination:!1,loading:At,virtual:!0,scroll:{y:450},locale:{emptyText:(0,ge.jsx)(R.Z,{description:"\u6682\u65E0\u6570\u636E"})},footer:function(){return(0,ge.jsx)(Ke.ZP,{onClick:function(){return at(an)},loading:rt,icon:(0,ge.jsx)(Pe.Z,{}),children:"\u65B0\u589E\u94FE\u63A5"})}})}),(0,ge.jsx)(K.Z,{open:ct,destroyOnHidden:!0,footer:null,className:Xe["qr-code-modal"],onCancel:function(){return e(!1)},modalRender:function(){return(0,ge.jsx)(B.Z,{size:500,value:Gt||"-"})}})]})},fn=he},72601:function(ln,fe,n){n.d(fe,{Ai:function(){return Oe},is:function(){return C},kt:function(){return ve},mY:function(){return ke},vU:function(){return m},zZ:function(){return M}});var ee=n(53586);function M(D,L){return(0,ee.request)("/api/temp/chat/".concat(L,"/link/").concat(D,"/delete"),{method:"POST"})}function Oe(D){return(0,ee.request)("/api/temp/chat/".concat(D,"/link/create"),{method:"POST"})}function ve(D){return(0,ee.request)("/api/temp/chat/link/update",{method:"POST",data:D})}function ke(D){return(0,ee.request)("/api/temp/chat/conversation/query",{method:"POST",data:D})}function m(D){return(0,ee.request)("/api/temp/chat/conversation/create",{method:"POST",data:D})}function me(D){return request("/api/temp/chat/completions",{method:"POST",data:D})}function C(D){return(0,ee.request)("/api/temp/chat/".concat(D,"/link/list"),{method:"GET"})}},22824:function(ln,fe,n){n.d(fe,{Tg:function(){return C},oB:function(){return me},sO:function(){return D}});var ee=n(48305),M=n.n(ee),Oe=n(64267),ve=n(14719),ke=n(52676),m=ve.Z.confirm,me=function(te,s,Pe,Ie){m({title:te,icon:(0,ke.jsx)(Oe.Z,{}),content:s,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:Pe,onCancel:Ie})},C=function(te){if(!te)return"";if(typeof te=="string"){var s=te.split("."),Pe=M()(s,2),Ie=Pe[0],xe=Pe[1];return xe&&xe.length>6?"".concat(Ie,".").concat(xe.slice(0,6)):te}var oe=te;if(isNaN(oe))return"";var re=oe.toString().split("."),se=M()(re,2),Ke=se[0],K=se[1];return K&&K.length>6?"".concat(Ke,".").concat(K.slice(0,6)):oe.toString()},D=function(te){if(!te)return"";var s=te.toString(),Pe=s.indexOf(".");return Pe===-1?s:s.substring(0,Pe+7)}},44381:function(ln,fe,n){n.d(fe,{Zl:function(){return L},_d:function(){return C},b_:function(){return D}});var ee=n(90228),M=n.n(ee),Oe=n(87999),ve=n.n(Oe),ke=n(30476),m=n(3834),me=n(28327),C=function(){var te=ve()(M()().mark(function s(Pe){var Ie,xe,oe,re,se,Ke,K,Ve=arguments;return M()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return Ie=Ve.length>1&&Ve[1]!==void 0?Ve[1]:me.qR.Agent,B.prev=1,B.next=4,(0,ke.Ee)(Pe,Ie);case 4:xe=B.sent,oe=xe.headers["content-disposition"],re=decodeURIComponent(oe.split("filename=")[1].replace(/"/g,"")),se=new Blob([xe.data]),Ke=URL.createObjectURL(se),K=document.createElement("a"),K.href=Ke,K.download=re,K.click(),URL.revokeObjectURL(Ke);case 14:return B.prev=14,B.finish(14);case 16:case"end":return B.stop()}},s,null,[[1,,14,16]])}));return function(Pe){return te.apply(this,arguments)}}(),D=function(){var te=ve()(M()().mark(function s(Pe,Ie){var xe,oe,re,se;return M()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.prev=0,K.next=3,(0,m.S5)(Pe);case 3:xe=K.sent,oe=new Blob([xe.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),re=URL.createObjectURL(oe),se=document.createElement("a"),se.href=re,se.download="".concat(Ie,".xlsx"),se.click(),URL.revokeObjectURL(re);case 11:return K.prev=11,K.finish(11);case 13:case"end":return K.stop()}},s,null,[[0,,11,13]])}));return function(Pe,Ie){return te.apply(this,arguments)}}(),L=function(){var te=ve()(M()().mark(function s(Pe,Ie){var xe,oe,re,se,Ke,K,Ve;return M()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:oe=(xe=Pe.headers)===null||xe===void 0?void 0:xe["content-disposition"],re=Ie,oe&&(se=oe.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/),se&&se[1]&&(re=se[1].replace(/['"]/g,""))),Ke=new Blob([Pe.data],{type:"application/zip"}),K=window.URL.createObjectURL(Ke),Ve=document.createElement("a"),Ve.href=K,Ve.download=re,document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),window.URL.revokeObjectURL(K);case 12:case"end":return B.stop()}},s)}));return function(Pe,Ie){return te.apply(this,arguments)}}()},39319:function(ln,fe,n){n.d(fe,{Z:function(){return T}});var ee=n(75271),M=n(32167),Oe=n(82187),ve=n.n(Oe),ke=n(18051),m=n(71305),me=n(62249),C=n(60177),D=n(38237),L=n(47383),te=n(9504),s=n(56555);const Pe=ee.createElement(s.Z,null);function Ie({prefixCls:W,locale:pe,onRefresh:u,statusRender:Be,status:$e}){const E=ee.createElement(ee.Fragment,null,ee.createElement("p",{className:`${W}-expired`},pe?.expired),u&&ee.createElement(te.ZP,{type:"link",icon:ee.createElement(L.Z,null),onClick:u},pe?.refresh)),yn=ee.createElement("p",{className:`${W}-scanned`},pe?.scanned),Xe={expired:E,loading:Pe,scanned:yn};return(Be??(ge=>Xe[ge.status]))({status:$e,locale:pe,onRefresh:u})}var xe=n(70632),oe=n(84432),re=n(49693),se=n(97947),Ke=n(83509);const K=W=>{const{componentCls:pe,lineWidth:u,lineType:Be,colorSplit:$e}=W;return{[pe]:Object.assign(Object.assign({},(0,re.Wf)(W)),{display:"flex",justifyContent:"center",alignItems:"center",padding:W.paddingSM,backgroundColor:W.colorWhite,borderRadius:W.borderRadiusLG,border:`${(0,xe.unit)(u)} ${Be} ${$e}`,position:"relative",overflow:"hidden",[`& > ${pe}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:W.colorText,lineHeight:W.lineHeight,background:W.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${pe}-expired, & > ${pe}-scanned`]:{color:W.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:W.marginXS,fontSize:W.controlHeight}}),[`${pe}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},Ve=W=>({QRCodeMaskBackgroundColor:new oe.FastColor(W.colorBgContainer).setA(.96).toRgbString()});var R=(0,se.I$)("QRCode",W=>{const pe=(0,Ke.mergeToken)(W,{QRCodeTextColor:W.colorText});return K(pe)},Ve),B=function(W,pe){var u={};for(var Be in W)Object.prototype.hasOwnProperty.call(W,Be)&&pe.indexOf(Be)<0&&(u[Be]=W[Be]);if(W!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $e=0,Be=Object.getOwnPropertySymbols(W);$e<Be.length;$e++)pe.indexOf(Be[$e])<0&&Object.prototype.propertyIsEnumerable.call(W,Be[$e])&&(u[Be[$e]]=W[Be[$e]]);return u},T=W=>{var pe,u,Be,$e;const[,E]=(0,D.ZP)(),{value:yn,type:Xe="canvas",icon:Le="",size:vn=160,iconSize:ge,color:Me=E.colorText,errorLevel:he="M",status:fn="active",bordered:ye=!0,onRefresh:jn,style:an,className:Xn,rootClassName:Rn,prefixCls:l,bgColor:pn="transparent",statusRender:Ht}=W,Ln=B(W,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:tt}=(0,ee.useContext)(me.E_),Gn=tt("qrcode",l),[Et,Gt,gn]=R(Gn),zt={src:Le,x:void 0,y:void 0,height:typeof ge=="number"?ge:(pe=ge?.height)!==null&&pe!==void 0?pe:40,width:typeof ge=="number"?ge:(u=ge?.width)!==null&&u!==void 0?u:40,excavate:!0,crossOrigin:"anonymous"},dt=(0,m.Z)(Ln,!0),ct=(0,ke.Z)(Ln,Object.keys(dt)),e=Object.assign({value:yn,size:vn,level:he,bgColor:pn,fgColor:Me,style:{width:an?.width,height:an?.height},imageSettings:Le?zt:void 0},dt),[Jt]=(0,C.Z)("QRCode");if(!yn)return null;const at=ve()(Gn,Xn,Rn,Gt,gn,{[`${Gn}-borderless`]:!ye}),rt=Object.assign(Object.assign({backgroundColor:pn},an),{width:(Be=an?.width)!==null&&Be!==void 0?Be:vn,height:($e=an?.height)!==null&&$e!==void 0?$e:vn});return Et(ee.createElement("div",Object.assign({},ct,{className:at,style:rt}),fn!=="active"&&ee.createElement("div",{className:`${Gn}-mask`},ee.createElement(Ie,{prefixCls:Gn,locale:Jt,status:fn,onRefresh:jn,statusRender:Ht})),Xe==="canvas"?ee.createElement(M.QRCodeCanvas,Object.assign({},e)):ee.createElement(M.QRCodeSVG,Object.assign({},e))))}},81558:function(ln,fe,n){var ee=n(20708).default;Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var M=ee(n(70722)),Oe=fe.default=M.default},70722:function(ln,fe,n){var ee=n(20708).default;Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var M=ee(n(51927)),Oe=ee(n(522));const ve={lang:Object.assign({placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"]},M.default),timePickerLocale:Object.assign({},Oe.default)};ve.lang.ok="\u786E\u5B9A";var ke=fe.default=ve},39357:function(ln,fe,n){var ee,M=n(20708).default;ee={value:!0},fe.Z=void 0;var Oe=M(n(22659)),ve=M(n(81558)),ke=M(n(70722)),m=M(n(522));const me="${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684${type}",C={locale:"zh-cn",Pagination:Oe.default,DatePicker:ke.default,TimePicker:m.default,Calendar:ve.default,global:{placeholder:"\u8BF7\u9009\u62E9",close:"\u5173\u95ED"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",filterCheckAll:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",emptyText:"\u6682\u65E0\u6570\u636E",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectNone:"\u6E05\u7A7A\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Tour:{Next:"\u4E0B\u4E00\u6B65",Previous:"\u4E0A\u4E00\u6B65",Finish:"\u7ED3\u675F\u5BFC\u89C8"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{titles:["",""],searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",deselectAll:"\u53D6\u6D88\u5168\u9009",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00",collapse:"\u6536\u8D77"},Form:{optional:"\uFF08\u53EF\u9009\uFF09",defaultValidateMessages:{default:"\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF${label}",required:"\u8BF7\u8F93\u5165${label}",enum:"${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[${enum}]",whitespace:"${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26",date:{format:"${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548",parse:"${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F",invalid:"${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F"},types:{string:me,method:me,array:me,object:me,number:me,date:me,boolean:me,integer:me,float:me,regexp:me,email:me,url:me,hex:me},string:{len:"${label}\u987B\u4E3A${len}\u4E2A\u5B57\u7B26",min:"${label}\u6700\u5C11${min}\u4E2A\u5B57\u7B26",max:"${label}\u6700\u591A${max}\u4E2A\u5B57\u7B26",range:"${label}\u987B\u5728${min}-${max}\u5B57\u7B26\u4E4B\u95F4"},number:{len:"${label}\u5FC5\u987B\u7B49\u4E8E${len}",min:"${label}\u6700\u5C0F\u503C\u4E3A${min}",max:"${label}\u6700\u5927\u503C\u4E3A${max}",range:"${label}\u987B\u5728${min}-${max}\u4E4B\u95F4"},array:{len:"\u987B\u4E3A${len}\u4E2A${label}",min:"\u6700\u5C11${min}\u4E2A${label}",max:"\u6700\u591A${max}\u4E2A${label}",range:"${label}\u6570\u91CF\u987B\u5728${min}-${max}\u4E4B\u95F4"},pattern:{mismatch:"${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D${pattern}"}}},Image:{preview:"\u9884\u89C8"},QRCode:{expired:"\u4E8C\u7EF4\u7801\u8FC7\u671F",refresh:"\u70B9\u51FB\u5237\u65B0",scanned:"\u5DF2\u626B\u63CF"},ColorPicker:{presetEmpty:"\u6682\u65E0",transparent:"\u65E0\u8272",singleColor:"\u5355\u8272",gradientColor:"\u6E10\u53D8\u8272"}};var D=fe.Z=C},522:function(ln,fe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;const n={placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]};var ee=fe.default=n},22659:function(ln,fe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var n={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},ee=fe.default=n},51927:function(ln,fe,n){var ee=n(34896).default;Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var M=ee(n(86749)),Oe=n(51472),ve=(0,M.default)((0,M.default)({},Oe.commonLocale),{},{locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",week:"\u5468",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA",yearFormat:"YYYY\u5E74",cellDateFormat:"D",monthBeforeYear:!1}),ke=fe.default=ve},17243:function(ln,fe,n){function ee(R){"@babel/helpers - typeof";return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},ee(R)}Object.defineProperty(fe,"__esModule",{value:!0}),fe.CopyToClipboard=void 0;var M=ke(n(75271)),Oe=ke(n(874)),ve=["text","onCopy","options","children"];function ke(R){return R&&R.__esModule?R:{default:R}}function m(R,B){var Ne=Object.keys(R);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(R);B&&(T=T.filter(function(W){return Object.getOwnPropertyDescriptor(R,W).enumerable})),Ne.push.apply(Ne,T)}return Ne}function me(R){for(var B=1;B<arguments.length;B++){var Ne=arguments[B]!=null?arguments[B]:{};B%2?m(Object(Ne),!0).forEach(function(T){K(R,T,Ne[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(Ne)):m(Object(Ne)).forEach(function(T){Object.defineProperty(R,T,Object.getOwnPropertyDescriptor(Ne,T))})}return R}function C(R,B){if(R==null)return{};var Ne=D(R,B),T,W;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(R);for(W=0;W<pe.length;W++)T=pe[W],!(B.indexOf(T)>=0)&&Object.prototype.propertyIsEnumerable.call(R,T)&&(Ne[T]=R[T])}return Ne}function D(R,B){if(R==null)return{};var Ne={},T=Object.keys(R),W,pe;for(pe=0;pe<T.length;pe++)W=T[pe],!(B.indexOf(W)>=0)&&(Ne[W]=R[W]);return Ne}function L(R,B){if(!(R instanceof B))throw new TypeError("Cannot call a class as a function")}function te(R,B){for(var Ne=0;Ne<B.length;Ne++){var T=B[Ne];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}function s(R,B,Ne){return B&&te(R.prototype,B),Ne&&te(R,Ne),Object.defineProperty(R,"prototype",{writable:!1}),R}function Pe(R,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(B&&B.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),B&&Ie(R,B)}function Ie(R,B){return Ie=Object.setPrototypeOf||function(T,W){return T.__proto__=W,T},Ie(R,B)}function xe(R){var B=se();return function(){var T=Ke(R),W;if(B){var pe=Ke(this).constructor;W=Reflect.construct(T,arguments,pe)}else W=T.apply(this,arguments);return oe(this,W)}}function oe(R,B){if(B&&(ee(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return re(R)}function re(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ke(R){return Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(Ne){return Ne.__proto__||Object.getPrototypeOf(Ne)},Ke(R)}function K(R,B,Ne){return B in R?Object.defineProperty(R,B,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):R[B]=Ne,R}var Ve=function(R){Pe(Ne,R);var B=xe(Ne);function Ne(){var T;L(this,Ne);for(var W=arguments.length,pe=new Array(W),u=0;u<W;u++)pe[u]=arguments[u];return T=B.call.apply(B,[this].concat(pe)),K(re(T),"onClick",function(Be){var $e=T.props,E=$e.text,yn=$e.onCopy,Xe=$e.children,Le=$e.options,vn=M.default.Children.only(Xe),ge=(0,Oe.default)(E,Le);yn&&yn(E,ge),vn&&vn.props&&typeof vn.props.onClick=="function"&&vn.props.onClick(Be)}),T}return s(Ne,[{key:"render",value:function(){var W=this.props,pe=W.text,u=W.onCopy,Be=W.options,$e=W.children,E=C(W,ve),yn=M.default.Children.only($e);return M.default.cloneElement(yn,me(me({},E),{},{onClick:this.onClick}))}}]),Ne}(M.default.PureComponent);fe.CopyToClipboard=Ve,K(Ve,"defaultProps",{onCopy:void 0,options:void 0})},58226:function(ln,fe,n){var ee=n(17243),M=ee.CopyToClipboard;M.CopyToClipboard=M,ln.exports=M},72611:function(ln){ln.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAFwSURBVEiJ7ZbRTcNADIY/J5f3jhA2gAmACQgjMAHlualqlHsHNqATABNQNugGZATee5V5oKDSVtRBgITU/ym6s+/zXXz2wU7/XbJpUFXLEMI50HOu8yIi48FgMO0MbJqmEpE7J+gTNKV0oKrtV0ZhLQKR0eLzFph4SCJSmVlVFMUJcNMJCOwDpJQuVPXFA1TVhzzPx3Vd328NbnUgxmgAdV1/zKlqL8uyKsuyQ08AIjKdzWbjTQFv2uEnLRLoESg9MAAzI4TQV9Xj1X+6FVgUxZWZlUArItdm5jlmBcoQwgg46wQ0syMAETn1pD2Aqj6FEJ6BahWYOfx7AF7YAtgu+3YF/qh2wL8Dqmr5V8AJQAjhOwW8OzCldAa0+FtTJ61d/MUd2vsNGPiSpoW3PuldtGmao2XfZXlK21hERiJyF2OcAp5a+g5c640bnxirijFeAX2P7bvM7HI4HOq3gPDWE/M83/fYzufzdttTY6cf0yt+NXkX7pGGegAAAABJRU5ErkJggg=="},10802:function(ln){ln.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAYAAAAdHLWhAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAbsSURBVHic7Zw/TBtXHMe/7xmDy9D4xJApKllCN7NFYihEkcpERZayVaAEVHUJkTqXo3MkyBKhkChWtnQJKVOrRjVLKja8NVniqEuHIh+Vyj/D/TqYcy/Hs3ln+917577Pxv3zz/e997l3751haJM7bnWCMV4A0QQYGwYwDCDf7vF6DA+AB6IdMFYi8suPXafUzoFYnI2/dqvDp+BLYJhAPRCLPB6R/+AEWC26jie7k1RAoWBm2y7PEuAxQvEY/rJMUBcGNO9WZ8H4EmyL6TaeT/7cE9fZaLVRy4AW3L0VYljsbl2WMIyw+si9dK/petHCWbeaz/LMUxBNqyvN0oCxjZp/OidSXp9oextOwhBNZ3kGAG5FV/HoggV3b8WGowGi6QV3byW6+APF3Xar05zxF8lVZTkH+XPrrlMM/mwENOtW81nG38E+bOqmkiH/xprrVICQ4vrBl2DDMYH6M+cZDLCtx0Qy5F9dc50KB4A+YBE2HKMIWhEHAMb4Xb3lWM5RH+8EOxuV/lVzORYBRP4Nzhgv6C7EIoYxXuAgmtBdiKUJRBMcjI3qrsPSBMaGOWzvzWRsQIaTPzdYajEL4XRDWhkdqX+dt+9PsX9ImqvpDj0R0Fghi6nxAQydCWHX8/H8p0PsvDnRXFnnpDqgoTzHzOcDGP00e275NzODeFs5wdMfD7Hr+Zoq7Bw2v7yXOhcM5hhuXu/H1PiA1PabW0d4tX2cSu2lrgVFdSbD1PgAxgrZVGovNQE101mc/dOoPeMVF1dnsqRFe0a3oHZ0JktatGdkQJ3qLM7nmK49oxSnSmeymKg9Y1qQSp3JYqL2tAeUlM5kMU172hSnW2ey6NaelhZkgs5k0a29RAMyTWey6NReIopLi85kSVJ7ylvQUJ7j268GU6EzWQLt3X+2r7w1KT9rY4VsT4UTMJTnGCuoV7XyM/e6XNPeVVXBrufjdbmm/HPsPagNeuoeBAD7h4TNrSO8Ltcw90UO14a1Px+3xc7vNTz/+aj3enFRRkf6MDOZS829adfzGxdY0mi5lHfenODt+39Sob3/5UgCYL72dOhMhDHTDaZoT6fORBhz2ZqgPd06E2FMQIA+7ZmiMxGJ+2R0pA+Dudb/w2nX83H/2T4ePlc7lLLr+Si+PMDDHw6kPufK5eT1m1gLGsrzxhhWcGLevD9tuY9K7cXRWXh6JOkR7UQ6CVPjA8ITHOfLDuV5V7QXR2fhiyrM/iHh1fYxNreOOqpFBuUB3bzej5nJXNP1wZeVvZrb7e3F7Z01u6jCFF8eKO/tKVfcwQUnfTDHGlepKu21qzMTSERxY4UsvpzMXdg5ALqrvW7oTESSz0qJPagGLeXm9f4Lt+1Ueyp0FvBq+xi/bB/3VichzJXLHDOTcjd72d4e8N+UBgAlOvvjz1Pp7ng30TbUo0p7MpiqMxFax+JUaq8ZJutMhBGDpaq0FyYNOhNhREABKrSXJp2JMCogoLvaS5vORBgXUEAn2kurzkQkGtBQnmPqs378Vq5J30Piau+vPVKis7FCFqMjfb350ojotas4Xec42pMhjs5E97AkJ/aUB9Tq1d+4Xec42hMRV2et7mHBnJXq1qQ8IJkbddyucxztBcePqzOZe9jm1pHyKQetLSiKCu11qrNm9EwLAuK9+tst7XVTZ1F66h4UJs6saLvaOwi9eCK7n2yX3L76KyCu9j7KsVTP/0RJxY+IuzVQGmCqzkRoH0lQqb0oputMhPaAAlRpD0iPzkQYExCgRntp0pkIowIK6Ib20qgzEUYGFNCO9gCkVmcijA4IiK892eEfE3UmwviAAnS8+msCqQkoIKlXf03BqN8HyaD61V/TSF1AgPwPvdKmMxGpU5yITl/9NZlUtqAogfaufZJp/N0r9ERAQF17vRRMgBk/grE0hQPwdBdhaYrHAVR0V2FpisdBVNFdhaUJRDscjJV012FpAmMlTuSXdddhEUPklxkAzC/vvQMwrLccSwRvfemSU+9mE0p6a7FEIfIfAGfPQRn4y3rLsUTwToBV4CygNdepgFDUWpKlASMUi67jAaGRhLNWVNFVlKWBdxwyWiOgeiuyqtONT/5c0HqAyFjcuusUGdXdZ0keRlh94jobHywTbTj//d8vQDSdTFkWAABjG+vffXwrulg4ml3zT+fA2IZonUUBjG3U/NM54apW+y24eyvEsKimKgtQ19oj99K9pusvOsBttzrNGX8KIN/VyiwVkL+87jrFVhtdOGH3xHU2auRfPes82LmjbkAoZsi/cVE4gEQLCjPrVvN9wCJj/C5si4pLBYRSBv7ymutUZHeKFVCYO251gjFeANEEGBtFPTAbWh0PQAVEFTBWIvLLj12n1M6B/gWdLkpDqhynIgAAAABJRU5ErkJggg=="},26292:function(ln){ln.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMRSURBVFiFzZm/TxNhGMe/74Uci69p0om61MHiAA0BGZwQEyZNMQ5Eo4OkSZFNBkcD/QtgU0iInR3ANhgGE6A7GkMXr4vHUqaLTc6FDn0dnr68x/WuvLWV6ye53Hu997187v3x3MsDQwhia/wVYMwAYgJAEkAsrO4/UqeDHUE0i2yp8jmoEgsWY6stqevEhhArflHDeyE202sA+4jrlwOAJBjbJQfFRQ+KzfQaGFavXSsIgTxbOlkDWoJic/wJGNuNVKoNschylQINMWPrEdsEwFYBgA1m70nEogFmzEetEY4xYwDiQdQa4YgJA/0PwP0kOQRdQZ4AJpeBVAZwa8CXLJ11MDnw9BMwzAHHAsrvdNvGjKvrtOQebZOcvDa5nhwAxEdVm5F79Cye0GqqJ3gnox5oH1IPOJa+4NkxtTk7pms5GhoMadVKTNPZrQFf3+iLeamW6Hi2T4J97UHJH80518dndCfox+TA/bfA2Iv2e6kM3dPsqTD0hjiMVAYYe0nl4ZvAt/dUnloGJl9T+dwFvn+ISPD0kGRMroQAVW64VKcHrh7i+CgdQbg1YC9LIlLMK7eXDV/tnZ7bleDjbRXz7IP2+45FIl46yclQY3JgbqMPgueuKvNbwXWSDy9fm7z9N4kQqqyxoq8W9H7SgobEuyAa7uXhngoIxjKmNlwK3j0LurXwN03Ots85/5yUn0c/jqX1Pe49DnrlHEvNyYbbua0mvYWZakn1sLc3HAvYWaApYfcWZnoTBNSq9OPW9LdjHehuiG90uc3yY3K10M71poCeYLVIZ54Anu9TbOxWbG6D2soXdH72U7Ckgq7cdGp8BS7gCVrxF3KW9vdZfw7uLNCuZWSaFkU3G1bHoo1E/C5wekAvrAkTW+nfGNw/nOoGADtqiw7UDYD9iNoiHHZkAM1y1BqhiGaRsltb6V+IJifYCZvlTm63wozIR+sSgBArQCsOslylAIHBkRTIy1TwpRz1QGRZPdlVICiJTvnCdUSRRIfIs1yl4P2xTVBCosZ8Kz0Xw//5N4RNYa5Z9otJ/gI08QqsvSbWIgAAAABJRU5ErkJggg=="}}]);})();
