"use strict";(()=>{(self.webpackChunknuwax_frontend=self.webpackChunknuwax_frontend||[]).push([[6994],{17300:function(ae,U,n){n.d(U,{Z:function(){return T}});var $=n(32139),t=n(30799),b=n(44689),i=n(94581),d=n.n(i),M=n(75271),I={"label-wrapper":"label-wrapper___o8I1N"},S=n(52676),x=d().bind(I),Q=function(P){var H=P.className,A=P.label,_=P.title,C=P.type,R=C===void 0?t.Ai.Blank:C;return(0,S.jsxs)("div",{className:x(I["label-wrapper"],"flex","items-center",H),children:[(0,S.jsx)("span",{children:A}),(0,S.jsx)($.Z,{title:_,icon:(0,S.jsx)(b.Z,{}),type:R})]})},T=Q},18765:function(ae,U,n){n.d(U,{Z:function(){return pe}});var $=n(82092),t=n.n($),b=n(15558),i=n.n(b),d=n(90228),M=n.n(d),I=n(26068),S=n.n(I),x=n(87999),Q=n.n(x),T=n(48305),L=n.n(T),P=n(80723),H=n(17300),A=n(33356),_=n(40462),C=n(92694),R=n(25496),f=n(96778),m=n(28327),j=n(30799),g=n(99833),B=n(2077),X=n(13143),F=n(28190),y=n(41249),h=n(43898),l=n(63619),a=n(78321),w=n(94581),r=n.n(w),G=n(75271),D=n(53586),z=n(92448),O={"modal-content":"modal-content____os3U","modal-header":"modal-header___Oz0DB","modal-body":"modal-body___X8pJV","input-textarea":"input-textarea___XDb1O",select:"select___W_1UF","table-wrap":"table-wrap___wLfVM","label-normal":"label-normal___pz7II","font-12":"font-12___gy3WH","down-outlined":"down-outlined___x8ZCt","ml-8":"ml-8___sqmBJ","table-copy":"table-copy___wfPST","text-center":"text-center___RjgmM"},k=n(52676),J=r().bind(O),re=function(Y){var u=Y.mode,p=u===void 0?m.qR.Agent:u,v=Y.spaceId,e=Y.category,te=Y.targetId,ne=Y.open,ve=Y.onlyShowTemplate,ue=ve===void 0?!0:ve,se=Y.onCancel,Ce=Y.onConfirm,Se=Y.onBeforePublishFn,Ee=F.Z.useForm(),Ie=L()(Ee,1),me=Ie[0],Oe=(0,G.useState)(""),ge=L()(Oe,2),Re=ge[0],ce=ge[1],je=(0,G.useState)([]),_e=L()(je,2),q=_e[0],Te=_e[1],Fe=(0,G.useState)([]),ye=L()(Fe,2),ie=ye[0],Ne=ye[1],De=(0,G.useState)([]),ke=L()(De,2),W=ke[0],oe=ke[1],Me=(0,G.useState)([g.HD.Space]),xe=L()(Me,2),Le=xe[0],We=xe[1],Ue=(0,G.useState)([]),Ae=L()(Ue,2),le=Ae[0],ee=Ae[1],K=(0,D.useModel)("squareModel"),de=K.agentInfoList,he=K.pluginInfoList,Be=K.workflowInfoList,He=K.skillInfoList,Qe=(0,C.Z)(),Ye=Qe.runQueryCategory,Ze=(0,D.useRequest)(f.ui,{manual:!0,debounceWait:300}),Xe=Ze.run,fe=Ze.data;(0,G.useEffect)(function(){var E,c=(fe==null||(E=fe.filter(function(o){return o.spaceRole!==j.g8.User}))===null||E===void 0||(E=E.filter(function(o){return o.id===v||o.id!==v&&o.receivePublish===B.IP.Receive}))===null||E===void 0?void 0:E.map(function(o){return{key:(0,z.Z)(),name:o.name,scope:g.HD.Space,spaceId:o.id}}))||[],s=[{key:g.HD.Tenant,name:"\u7CFB\u7EDF\u5E7F\u573A",scope:g.HD.Tenant},{key:g.HD.Space,name:"\u7A7A\u95F4",scope:g.HD.Space,children:c}];Ne(s)},[fe]),(0,G.useEffect)(function(){if(le!=null&&le.length){var E=le.map(function(c){return{allowCopy:c.allowCopy,onlyTemplate:c.onlyTemplate,scope:c.scope,spaceId:c.spaceId}});le.some(function(c){return c.spaceId===v})||E.push({allowCopy:m.fC.No,onlyTemplate:m.Qc.No,scope:g.HD.Space,spaceId:v}),oe(E)}else oe([{allowCopy:m.fC.No,onlyTemplate:m.Qc.No,scope:g.HD.Space,spaceId:v}])},[le,v]);var ze=(0,D.useRequest)(R.hm,{manual:!0,debounceInterval:300,onSuccess:function(c){ee(c)}}),Je=ze.run;(0,G.useEffect)(function(){ne&&(Ye(),Xe(),Je({targetId:te,targetType:p}))},[ne,te,p]),(0,G.useEffect)(function(){var E,c=[];switch(p){case m.qR.Agent:c=de,ce("\u667A\u80FD\u4F53");break;case m.qR.Plugin:c=he,ce("\u63D2\u4EF6");break;case m.qR.Workflow:c=Be,ce("\u5DE5\u4F5C\u6D41");break;case m.qR.Skill:c=He,ce("\u6280\u80FD");break}var s=(E=c)===null||E===void 0?void 0:E.map(function(V){return{label:V.description,value:V.name}});if(Te(s),s?.length>0){var o=e||s[0].value;me.setFieldValue("category",o)}},[p,e,de,he,Be,He]);var Ge=(0,D.useRequest)(R.$G,{manual:!0,debounceInterval:300,formatResult:function(c){if(c.code!==_.Gh)throw new Error(c.message);return c.data},onSuccess:function(c){y.ZP.success(c||"\u53D1\u5E03\u7533\u8BF7\u5DF2\u63D0\u4EA4\uFF0C\u7B49\u5F85\u5BA1\u6838\u4E2D"),Ce()}}),qe=Ge.run,en=Ge.loading,nn=function(){var E=Q()(M()().mark(function c(s){var o;return M()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(o=W.filter(function(Z){return Z.scope===g.HD.Tenant?!0:fe?.some(function(be){return be.id===Z.spaceId})}),!Se){N.next=4;break}return N.next=4,Se();case 4:qe(S()(S()({},s),{},{targetType:p,targetId:te,items:o}));case 5:case"end":return N.stop()}},c)}));return function(s){return E.apply(this,arguments)}}(),tn=function(){me.submit()},we=function(c,s){return W?.find(function(o){return c===g.HD.Tenant?o.scope===c:o.scope===c&&o.spaceId===s})},an=function(c,s){return!!we(c,s)},rn=function(c,s){var o=we(c,s);if(c===g.HD.Tenant)return!o;var V=W?.find(function(N){return N.scope===g.HD.Tenant});return V?.allowCopy===m.fC.Yes?o?o?.allowCopy===m.fC.Yes:!0:!o},Ke=function(c,s){var o=we(c,s);return o?.allowCopy===m.fC.Yes},un=function(c,s){var o=we(c,s);return o?.onlyTemplate===m.Qc.Yes},ln=function(c,s){var o=c.scope,V=c.spaceId;if(s){var N=we(g.HD.Tenant),Z=N?.allowCopy===m.fC.Yes?m.fC.Yes:m.fC.No;oe([].concat(i()(W),[{scope:o,spaceId:V,allowCopy:Z,onlyTemplate:m.Qc.No}]))}else{var be;o===g.HD.Tenant?be=W.filter(function($e){return $e.scope!==o}):be=W.filter(function($e){return $e.spaceId!==V}),oe(be)}},sn=function(c,s){var o=c.scope,V=c.spaceId,N;o===g.HD.Tenant?N=W?.map(function(Z){return Z.scope===o?S()(S()({},Z),{},{allowCopy:s?m.fC.Yes:m.fC.No,onlyTemplate:m.Qc.No}):s?S()(S()({},Z),{},{allowCopy:m.fC.Yes}):Z}):N=W?.map(function(Z){return Z.spaceId===V?S()(S()({},Z),{},{allowCopy:s?m.fC.Yes:m.fC.No,onlyTemplate:m.Qc.No}):Z}),oe(N)},on=function(c,s){var o=c.scope,V=c.spaceId,N=W?.map(function(Z){return Z.scope===o&&(o===g.HD.Tenant||Z.spaceId===V)?S()(S()({},Z),{},{onlyTemplate:s?m.Qc.Yes:m.Qc.No}):Z});oe(N)},pn=function(){We(function(c){return c.includes(g.HD.Space)?[]:[g.HD.Space]})},Ve=[{title:(0,k.jsx)(H.Z,{className:J(O["label-normal"]),label:"\u53D1\u5E03\u7A7A\u95F4",title:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("p",{children:"1. \u7CFB\u7EDF\u5E7F\u573A\uFF1A\u667A\u80FD\u4F53\u5C06\u51FA\u73B0\u5728\u7CFB\u7EDF\u5E7F\u573A\u4E2D\u3002"}),(0,k.jsx)("p",{children:"2. \u7A7A\u95F4\u5E7F\u573A\uFF1A\u667A\u80FD\u4F53\u5C06\u51FA\u73B0\u5728\u9009\u62E9\u7684\u7A7A\u95F4\u5E7F\u573A\u4E2D\u3002"})]}),type:j.Ai.White}),dataIndex:"name",render:function(c,s){var o;return s!=null&&(o=s.children)!==null&&o!==void 0&&o.length?(0,k.jsxs)("div",{onClick:pn,className:"cursor-pointer",children:[(0,k.jsx)(X.Z,{className:J(O["font-12"],t()({},O["down-outlined"],!Le.includes(g.HD.Space)))}),(0,k.jsx)("span",{className:J(O["ml-8"]),children:s.name})]}):(0,k.jsx)(h.Z,{checked:an(s.scope,s.spaceId),disabled:s?.spaceId===v,onChange:function(N){return ln(s,N.target.checked)},children:(0,k.jsx)("div",{className:"text-ellipsis",style:{width:"148px"},children:s.name})})}},{title:(0,k.jsx)(H.Z,{className:J(O["label-normal"]),label:"\u5141\u8BB8\u590D\u5236\uFF08\u6A21\u677F\uFF09",title:(0,k.jsx)("p",{children:"\u9009\u4E2D\u540E\u5C06\u51FA\u73B0\u5728\u5E7F\u573A\u6A21\u7248\u4E2D\uFF0C\u7528\u6237\u53EF\u76F4\u63A5\u590D\u5236\u5230\u81EA\u5DF1\u7684\u5DE5\u4F5C\u7A7A\u95F4\u4E2D\u53BB\u3002\u590D\u5236\u53EF\u9009\u7684\u524D\u63D0\u662F\u53D1\u5E03\u5DF2\u9009\u3002"}),type:j.Ai.White}),dataIndex:"allowCopy",width:180,render:function(c,s){var o;return s!=null&&(o=s.children)!==null&&o!==void 0&&o.length?null:(0,k.jsx)(h.Z,{className:J(O["table-copy"]),checked:Ke(s.scope,s.spaceId),disabled:rn(s.scope,s.spaceId),onChange:function(N){return sn(s,N.target.checked)}})}},{title:(0,k.jsx)(H.Z,{className:J(O["label-normal"]),label:"\u4EC5\u6A21\u677F",title:"\u9009\u62E9\u540E\u4EC5\u5728\u6A21\u677F\u5E7F\u573A\u5C55\u793A\uFF0C\u4EC5\u6A21\u677F\u53EA\u6709\u5728\u5141\u8BB8\u590D\u5236\u9009\u62E9\u540E\u624D\u53EF\u9009",type:j.Ai.White}),dataIndex:"onlyTemplate",width:100,render:function(c,s){var o;return s!=null&&(o=s.children)!==null&&o!==void 0&&o.length?null:(0,k.jsx)("div",{className:J(O["text-center"]),children:(0,k.jsx)(h.Z,{checked:un(s.scope,s.spaceId),disabled:!Ke(s.scope,s.spaceId),onChange:function(N){return on(s,N.target.checked)}})})}}],cn=ue?Ve:Ve.slice(0,1);return(0,k.jsx)(P.Z,{form:me,classNames:{content:O["modal-content"],header:O["modal-header"],body:O["modal-body"]},loading:en,title:"\u53D1\u5E03".concat(Re),centered:!0,open:ne,onConfirm:tn,onCancel:se,children:(0,k.jsxs)(F.Z,{form:me,layout:"vertical",onFinish:nn,children:[(0,k.jsx)(F.Z.Item,{name:"remark",label:"\u53D1\u5E03\u8BB0\u5F55",children:(0,k.jsx)(l.Z.TextArea,{rootClassName:J(O["input-textarea"],"dispose-textarea-count"),placeholder:"\u8FD9\u91CC\u586B\u5199\u8BE6\u7EC6\u7684\u53D1\u5E03\u8BB0\u5F55",autoSize:{minRows:5,maxRows:8},maxLength:200,showCount:!0})}),(0,k.jsx)(F.Z.Item,{name:"category",label:"\u5206\u7C7B\u9009\u62E9",children:(0,k.jsx)(A.Z,{className:O.select,options:q})}),(0,k.jsx)(F.Z.Item,{label:"\u9009\u62E9\u53D1\u5E03\u8303\u56F4",children:(0,k.jsx)(a.Z,{className:J(O["table-wrap"]),columns:cn,dataSource:ie,pagination:!1,expandable:{childrenColumnName:"children",defaultExpandAllRows:!0,expandedRowKeys:Le,expandIcon:function(){return null}}})})]})})},pe=re},1101:function(ae,U,n){n.d(U,{Z:function(){return T}});var $=n(82092),t=n.n($),b=n(14258),i=n(94581),d=n.n(i),M=n(75271),I={"xagi-nav-style2":"xagi-nav-style2___uLxRe",text:"text___IjURi","page-container":"page-container___bB2qy",container:"container___ZmQyk",hidden:"hidden___sQc7Y",header:"header___NPVhj",close:"close___T88xb"},S=n(52676),x=d().bind(I),Q=function(P){var H=P.className,A=P.headerClassName,_=P.title,C=P.visible,R=P.onClose,f=P.children;return(0,S.jsxs)("div",{className:x("flex","flex-col","overflow-y",I.container,H,t()({},I.hidden,!C)),children:[(0,S.jsxs)("div",{className:x(I.header,"flex","items-center","content-between",A),children:[(0,S.jsx)("h3",{children:_}),(0,S.jsx)(b.Z,{className:x(I.close,"cursor-pointer"),onClick:R})]}),(0,S.jsx)("div",{className:"flex-1 overflow-y",children:f})]})},T=Q},46448:function(ae,U,n){n.d(U,{Z:function(){return Pe}});var $=n(26068),t=n.n($),b=n(48305),i=n.n(b),d=n(1101),M=n(37269),I=n(98785),S=n(25496),x=n(61993),Q=n(13765),T=n(28327),L=n(30799),P=n(64267),H=n(41249),A=n(14719),_=n(70183),C=n(94550),R=n(94581),f=n.n(R),m=n(75271),j=n(53586),g=n(65773),B=n(59602),X=n(82092),F=n.n(X),y=n(16483),h=n.n(y),l={"xagi-nav-style2":"xagi-nav-style2___rSYb3",text:"text___ySnIW","page-container":"page-container___aOWn3",container:"container___YEnC0","p-info":"p-info___ngWA2","p-name":"p-name___B1WDf","p-time":"p-time___s518D",btn:"btn___U_H2c","off-btn":"off-btn____lpPp","disabled-btn":"disabled-btn___bofq0"},a=n(52676),w=f().bind(l),r=function(u){var p,v,e=u.info,te=u.onOffShelf;return(0,a.jsxs)("div",{className:w("flex","items-center",l.container),children:[(0,a.jsxs)("div",{className:w("flex","flex-col","flex-1","overflow-hide",l["p-info"]),children:[(0,a.jsx)("span",{className:w(l["p-name"],"text-ellipsis"),children:e?.description}),(0,a.jsx)("span",{className:w(l["p-time"],"text-ellipsis"),children:"".concat((e==null||(p=e.publishUser)===null||p===void 0?void 0:p.nickName)||(e==null||(v=e.publishUser)===null||v===void 0?void 0:v.userName),"\u53D1\u5E03\u4E8E").concat(h()(e?.publishDate).format("YYYY-MM-DD HH:mm"))})]}),(0,a.jsx)("div",{className:w("flex","items-center","content-center","radius-6","cursor-pointer",l.btn,F()({},l["disabled-btn"],e?.publishStatus!==L.xH.Published),F()({},l["off-btn"],e?.publishStatus===L.xH.Published)),onClick:te,children:"".concat(e?.publishStatus===L.xH.Published?"\u4E0B\u67B6":e?.publishStatus===L.xH.Applying?"\u5BA1\u6838\u4E2D":"\u5DF2\u4E0B\u67B6")})]})},G=r,D={"xagi-nav-style2":"xagi-nav-style2___vL0rS",text:"text___geJXi","page-container":"page-container____iVT1","main-wrap":"main-wrap___T75Vs",title:"title___t_LaB","drawer-body":"drawer-body___HO7rG"},z={container:"container___mV4sm",header:"header___Xyxou",name:"name___a7L2w","author-update-time":"author-update-time___lFZ7X",desc:"desc___F6dcW"},O=f().bind(z),k=function(u){var p,v,e=u.info,te=u.renderActions;return(0,a.jsxs)("div",{className:O(z.container,"flex","flex-col","py-6"),children:[(0,a.jsxs)("div",{className:O("flex","items-center",z.header),children:[(0,a.jsx)("span",{className:O(z.name,"text-ellipsis"),children:((p=e.opUser)===null||p===void 0?void 0:p.nickName)||((v=e.opUser)===null||v===void 0?void 0:v.userName)}),(0,a.jsx)("span",{className:O(z["author-update-time"]),children:h()(e.created).format("YYYY-MM-DD HH:mm")})]}),(0,a.jsx)(g.Z,{condition:e.description,children:(0,a.jsx)("p",{className:O("text-ellipsis-2",z.desc),children:e.description})}),te(e)]},e.id)},J=k,re=f().bind(D),pe=function(u){var p=u.headerClassName,v=u.targetId,e=u.targetName,te=u.targetType,ne=te===void 0?T.qR.Agent:te,ve=u.permissions,ue=ve===void 0?[]:ve,se=u.visible,Ce=u.isDrawer,Se=Ce===void 0?!1:Ce,Ee=u.onClose,Ie=u.renderActions,me=Ie===void 0?function(){return null}:Ie,Oe=(0,m.useState)(!1),ge=i()(Oe,2),Re=ge[0],ce=ge[1],je=(0,m.useState)([]),_e=i()(je,2),q=_e[0],Te=_e[1],Fe=(0,m.useState)([]),ye=i()(Fe,2),ie=ye[0],Ne=ye[1],De=ne===T.qR.Agent?"\u667A\u80FD\u4F53":ne===T.qR.Plugin?"\u63D2\u4EF6":"\u5DE5\u4F5C\u6D41",ke=ne===T.qR.Agent?M.qR:ne===T.qR.Plugin?I.Pj:ne===T.qR.Skill?x.sE:Q.Lf,W=(0,j.useRequest)(ke,{manual:!0,debounceInterval:300,onSuccess:function(K){Ne(K),ce(!1)}}),oe=W.run,Me=(0,j.useRequest)(S.hm,{manual:!0,debounceInterval:300,onSuccess:function(K){Te(K)}}),xe=Me.run,Le=function(K){var de=q?.map(function(he){return he.publishId===K?t()(t()({},he),{},{publishStatus:null}):he})||[];Te(de)},We=(0,j.useRequest)(S.JX,{manual:!0,debounceInterval:300,onSuccess:function(K,de){H.ZP.success("\u5DF2\u6210\u529F\u4E0B\u67B6"),Le(de[0].publishId)}}),Ue=We.run;(0,m.useEffect)(function(){se&&(ce(!0),oe(v))},[v,se]),(0,m.useEffect)(function(){se&&ue!==null&&ue!==void 0&&ue.includes(L.jE.Publish)&&xe({targetId:v,targetType:ne})},[se,v,ne,ue]);var Ae=function(K){K?.publishStatus===L.xH.Published&&A.Z.confirm({title:"\u60A8\u786E\u5B9A\u8981\u4E0B\u67B6\u6B64".concat(De,"\u5417?"),icon:(0,a.jsx)(P.Z,{}),content:e,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:function(){Ue({targetType:ne,targetId:v,publishId:K.publishId})}})},le=Re?(0,a.jsx)(B.Z,{className:"h-full"}):q!=null&&q.length||ie!=null&&ie.length?(0,a.jsxs)("div",{className:re(D["main-wrap"]),children:[(0,a.jsxs)(g.Z,{condition:ue?.includes(L.jE.Publish)&&q?.length,children:[(0,a.jsx)("h5",{className:re(D.title),children:"\u5F53\u524D\u53D1\u5E03"}),q?.map(function(ee){return(0,a.jsx)(G,{info:ee,onOffShelf:function(){return Ae(ee)}},ee.publishId)})]}),(0,a.jsx)("h5",{className:re(D.title),children:"\u7F16\u6392\u4E0E\u53D1\u5E03\u8BB0\u5F55"}),ie?.map(function(ee){return(0,a.jsx)(J,{info:ee,renderActions:me},ee.id)})]}):(0,a.jsx)("div",{className:re("flex","h-full","items-center","content-center"),children:(0,a.jsx)(_.Z,{description:"\u6682\u65E0\u7248\u672C\u5386\u53F2\u8BB0\u5F55",image:_.Z.PRESENTED_IMAGE_SIMPLE,children:(0,a.jsx)("div",{style:{color:"#8c8c8c",fontSize:"12px",marginTop:"8px"},children:"\u5F53\u60A8\u5BF9\u9879\u76EE\u8FDB\u884C\u4FEE\u6539\u65F6\uFF0C\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u4FDD\u5B58\u7248\u672C\u5386\u53F2"})})});return Se?(0,a.jsx)(C.Z,{classNames:{body:re(D["drawer-body"])},closable:!0,title:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontSize:"16px",fontWeight:600},children:"\u7248\u672C\u5386\u53F2"}),(0,a.jsxs)("div",{style:{fontSize:"12px",color:"#8c8c8c",marginTop:"4px"},children:[e," - ",De]})]}),placement:"right",open:se,onClose:Ee,width:480,children:le}):(0,a.jsx)(d.Z,{title:"\u7248\u672C\u5386\u53F2",visible:se,onClose:Ee,headerClassName:p,children:le})},Pe=pe},92694:function(ae,U,n){var $=n(69295),t=n(65104),b=n(53586),i=function(){var M=(0,b.useModel)("squareModel"),I=M.setAgentInfoList,S=M.setPluginInfoList,x=M.setWorkflowInfoList,Q=M.setTemplateList,T=M.setSkillInfoList,L=function(_){var C=[],R=[],f=[],m=[],j=[];_?.forEach(function(g){var B,X=g==null||(B=g.children)===null||B===void 0?void 0:B.map(function(F){return{name:F.key,description:F.label}});g.type===t.Q.Agent&&(C=X),g.type===t.Q.Plugin&&(R=X),g.type===t.Q.Workflow&&(f=X),g.type===t.Q.Template&&(m=X),g.type===t.Q.Skill&&(j=X)}),I(C),S(R),x(f),Q(m),T(j)},P=(0,b.useRequest)($.Nb,{manual:!0,debounceInterval:300,onSuccess:function(_){L(_)}}),H=P.run;return{runQueryCategory:H}};U.Z=i},25496:function(ae,U,n){n.d(U,{$G:function(){return H},JX:function(){return Q},hm:function(){return L},wR:function(){return M}});var $=n(90228),t=n.n($),b=n(87999),i=n.n(b),d=n(53586);function M(_){return I.apply(this,arguments)}function I(){return I=i()(t()().mark(function _(C){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,d.request)("/api/publish/template/copy",{method:"POST",data:C}));case 1:case"end":return f.stop()}},_)})),I.apply(this,arguments)}function S(_){return x.apply(this,arguments)}function x(){return x=_asyncToGenerator(_regeneratorRuntime().mark(function _(C){return _regeneratorRuntime().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",request("/api/skill/copy",{method:"POST",data:C}));case 1:case"end":return f.stop()}},_)})),x.apply(this,arguments)}function Q(_){return T.apply(this,arguments)}function T(){return T=i()(t()().mark(function _(C){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,d.request)("/api/publish/offShelf",{method:"POST",data:C}));case 1:case"end":return f.stop()}},_)})),T.apply(this,arguments)}function L(_){return P.apply(this,arguments)}function P(){return P=i()(t()().mark(function _(C){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,d.request)("/api/publish/item/list",{method:"POST",data:C}));case 1:case"end":return f.stop()}},_)})),P.apply(this,arguments)}function H(_){return A.apply(this,arguments)}function A(){return A=i()(t()().mark(function _(C){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,d.request)("/api/publish/apply",{method:"POST",data:C}));case 1:case"end":return f.stop()}},_)})),A.apply(this,arguments)}},61993:function(ae,U,n){n.d(U,{O3:function(){return X},OS:function(){return R},Rs:function(){return L},bG:function(){return M},sE:function(){return g},v2:function(){return Q},wc:function(){return _}});var $=n(90228),t=n.n($),b=n(87999),i=n.n(b),d=n(53586);function M(y){return I.apply(this,arguments)}function I(){return I=i()(t()().mark(function y(h){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.request)("/api/skill/".concat(h),{method:"GET"}));case 1:case"end":return a.stop()}},y)})),I.apply(this,arguments)}function S(){return x.apply(this,arguments)}function x(){return x=_asyncToGenerator(_regeneratorRuntime().mark(function y(){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/api/skill/template",{method:"GET"}));case 1:case"end":return l.stop()}},y)})),x.apply(this,arguments)}function Q(y){return T.apply(this,arguments)}function T(){return T=i()(t()().mark(function y(h){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.request)("/api/skill/update",{method:"POST",data:h}));case 1:case"end":return a.stop()}},y)})),T.apply(this,arguments)}function L(y){return P.apply(this,arguments)}function P(){return P=i()(t()().mark(function y(h){var l,a,w,r;return t()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return l=h.file,a=h.targetSkillId,w=h.targetSpaceId,r=new FormData,r.append("file",l),a&&r.append("targetSkillId",a.toString()),w&&r.append("targetSpaceId",w.toString()),D.abrupt("return",(0,d.request)("/api/skill/import",{method:"POST",data:r}));case 6:case"end":return D.stop()}},y)})),P.apply(this,arguments)}function H(y){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function y(h){var l,a,w,r;return _regeneratorRuntime().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return l=h.file,a=h.skillId,w=h.filePath,r=new FormData,r.append("file",l),r.append("skillId",a.toString()),r.append("filePath",w),D.abrupt("return",request("/api/skill/upload-file",{method:"POST",data:r}));case 6:case"end":return D.stop()}},y)})),A.apply(this,arguments)}function _(y){return C.apply(this,arguments)}function C(){return C=i()(t()().mark(function y(h){var l,a,w,r;return t()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return l=h.files,a=h.skillId,w=h.filePaths,r=new FormData,l.forEach(function(z){r.append("files",z)}),r.append("skillId",a.toString()),w.forEach(function(z){r.append("filePaths",z)}),D.abrupt("return",(0,d.request)("/api/skill/upload-files",{method:"POST",data:r}));case 6:case"end":return D.stop()}},y)})),C.apply(this,arguments)}function R(y){return f.apply(this,arguments)}function f(){return f=i()(t()().mark(function y(h){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.request)("/api/skill/export/".concat(h),{method:"GET",responseType:"blob",getResponse:!0}));case 1:case"end":return a.stop()}},y)})),f.apply(this,arguments)}function m(y){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime().mark(function y(h){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/published/skill/list",{method:"POST",data:h}));case 1:case"end":return a.stop()}},y)})),j.apply(this,arguments)}function g(y){return B.apply(this,arguments)}function B(){return B=i()(t()().mark(function y(h){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.request)("/api/skill/config/history/list/".concat(h),{method:"GET"}));case 1:case"end":return a.stop()}},y)})),B.apply(this,arguments)}function X(y){return F.apply(this,arguments)}function F(){return F=i()(t()().mark(function y(h){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.request)(h,{method:"GET"}));case 1:case"end":return a.stop()}},y)})),F.apply(this,arguments)}},69295:function(ae,U,n){n.d(U,{CA:function(){return R},M3:function(){return X},Nb:function(){return H},QG:function(){return m},VH:function(){return M},Wo:function(){return _},_U:function(){return L},cI:function(){return y},pH:function(){return S},py:function(){return g}});var $=n(90228),t=n.n($),b=n(87999),i=n.n(b),d=n(53586);function M(l){return I.apply(this,arguments)}function I(){return I=i()(t()().mark(function l(a){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.request)("/api/published/plugin/list",{method:"POST",data:a}));case 1:case"end":return r.stop()}},l)})),I.apply(this,arguments)}function S(l){return x.apply(this,arguments)}function x(){return x=i()(t()().mark(function l(a){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.request)("/api/published/workflow/list",{method:"POST",data:a}));case 1:case"end":return r.stop()}},l)})),x.apply(this,arguments)}function Q(l){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime().mark(function l(a){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/published/knowledge/list",{method:"POST",data:a}));case 1:case"end":return r.stop()}},l)})),T.apply(this,arguments)}function L(l){return P.apply(this,arguments)}function P(){return P=i()(t()().mark(function l(a){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.request)("/api/published/agent/list",{method:"POST",data:a}));case 1:case"end":return r.stop()}},l)})),P.apply(this,arguments)}function H(){return A.apply(this,arguments)}function A(){return A=i()(t()().mark(function l(){return t()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,d.request)("/api/published/category/list",{method:"GET"}));case 1:case"end":return w.stop()}},l)})),A.apply(this,arguments)}function _(l){return C.apply(this,arguments)}function C(){return C=i()(t()().mark(function l(a){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.request)("/api/published/workflow/collect/".concat(a),{method:"POST"}));case 1:case"end":return r.stop()}},l)})),C.apply(this,arguments)}function R(l){return f.apply(this,arguments)}function f(){return f=i()(t()().mark(function l(a){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.request)("/api/published/workflow/unCollect/".concat(a),{method:"POST"}));case 1:case"end":return r.stop()}},l)})),f.apply(this,arguments)}function m(l){return j.apply(this,arguments)}function j(){return j=i()(t()().mark(function l(a){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.request)("/api/published/skill/collect/".concat(a),{method:"POST"}));case 1:case"end":return r.stop()}},l)})),j.apply(this,arguments)}function g(l){return B.apply(this,arguments)}function B(){return B=i()(t()().mark(function l(a){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.request)("/api/published/skill/unCollect/".concat(a),{method:"POST"}));case 1:case"end":return r.stop()}},l)})),B.apply(this,arguments)}function X(l){return F.apply(this,arguments)}function F(){return F=i()(t()().mark(function l(a){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.request)("/api/published/template/list",{method:"POST",data:a}));case 1:case"end":return r.stop()}},l)})),F.apply(this,arguments)}function y(l){return h.apply(this,arguments)}function h(){return h=i()(t()().mark(function l(a){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.request)("/api/published/skill/list",{method:"POST",data:a}));case 1:case"end":return r.stop()}},l)})),h.apply(this,arguments)}},13765:function(ae,U,n){n.d(U,{$l:function(){return z},Lf:function(){return k},_H:function(){return _},rF:function(){return R},s_:function(){return M}});var $=n(90228),t=n.n($),b=n(87999),i=n.n(b),d=n(53586);function M(u){return I.apply(this,arguments)}function I(){return I=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/".concat(p),{method:"GET"}));case 1:case"end":return e.stop()}},u)})),I.apply(this,arguments)}function S(u){return x.apply(this,arguments)}function x(){return x=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/update",{method:"POST",data:p}));case 1:case"end":return e.stop()}},u)})),x.apply(this,arguments)}function Q(u){return T.apply(this,arguments)}function T(){return T=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/publish",{method:"POST",data:p}));case 1:case"end":return e.stop()}},u)})),T.apply(this,arguments)}function L(u){return P.apply(this,arguments)}function P(){return P=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/node/list/".concat(p),{method:"GET"}));case 1:case"end":return e.stop()}},u)})),P.apply(this,arguments)}function H(u){return A.apply(this,arguments)}function A(){return A=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/node/add",{method:"POST",data:p}));case 1:case"end":return e.stop()}},u)})),A.apply(this,arguments)}function _(u){return C.apply(this,arguments)}function C(){return C=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/node/add",{method:"POST",skipErrorHandler:!0,data:p}));case 1:case"end":return e.stop()}},u)})),C.apply(this,arguments)}function R(u){return f.apply(this,arguments)}function f(){return f=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/node/copy/".concat(p),{method:"POST"}));case 1:case"end":return e.stop()}},u)})),f.apply(this,arguments)}function m(u){return j.apply(this,arguments)}function j(){return j=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/node/delete/".concat(p),{method:"POST"}));case 1:case"end":return e.stop()}},u)})),j.apply(this,arguments)}function g(u){return B.apply(this,arguments)}function B(){return B=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/node/".concat(p.sourceId,"/nextIds/update"),{method:"POST",data:p.nodeId}));case 1:case"end":return e.stop()}},u)})),B.apply(this,arguments)}function X(u){return F.apply(this,arguments)}function F(){return F=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/model/list",{method:"POST",data:p}));case 1:case"end":return e.stop()}},u)})),F.apply(this,arguments)}function y(u){return h.apply(this,arguments)}function h(){return h=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/model/list",{method:"POST",data:p}));case 1:case"end":return e.stop()}},u)})),h.apply(this,arguments)}function l(u){return a.apply(this,arguments)}function a(){return a=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/node/previous/".concat(p),{method:"GET"}));case 1:case"end":return e.stop()}},u)})),a.apply(this,arguments)}function w(u){return r.apply(this,arguments)}function r(){return r=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/node/".concat(p),{method:"GET"}));case 1:case"end":return e.stop()}},u)})),r.apply(this,arguments)}function G(u){return D.apply(this,arguments)}function D(){return D=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/test/node/execute",{method:"POST",data:p}));case 1:case"end":return e.stop()}},u)})),D.apply(this,arguments)}function z(u){return O.apply(this,arguments)}function O(){return O=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/valid/".concat(p),{method:"GET"}));case 1:case"end":return e.stop()}},u)})),O.apply(this,arguments)}function k(u){return J.apply(this,arguments)}function J(){return J=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/config/history/list/".concat(p),{method:"GET"}));case 1:case"end":return e.stop()}},u)})),J.apply(this,arguments)}function re(u){return pe.apply(this,arguments)}function pe(){return pe=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/restore/".concat(p),{method:"POST"}));case 1:case"end":return e.stop()}},u)})),pe.apply(this,arguments)}function Pe(u){return Y.apply(this,arguments)}function Y(){return Y=i()(t()().mark(function u(p){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/workflow/save",{method:"POST",skipErrorHandler:!0,data:{workflowConfig:p}}));case 1:case"end":return e.stop()}},u)})),Y.apply(this,arguments)}U.ZP={apiDeleteNode:m,apiCopyNode:R,apiAddEdge:g,getDetails:M,apiAddNode:H,apiAddNodeV3:_,updateDetails:S,getNodeList:L,getModelList:y,getModelListByWorkflowId:X,getOutputArgs:l,getNodeConfig:w,executeNode:G,publishWorkflow:Q,validWorkflow:z,apiRestoreWorkflowVersion:re,saveWorkflow:Pe}},65104:function(ae,U,n){n.d(U,{Q:function(){return $},b:function(){return t}});var $=function(b){return b.Agent="Agent",b.Plugin="Plugin",b.Workflow="Workflow",b.Knowledge="Knowledge",b.Template="Template",b.Skill="Skill",b}({}),t=function(b){return b.All="All",b.Agent="Agent",b.Workflow="Workflow",b.Page="Page",b.Skill="Skill",b}({})}}]);})();
