"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[4310],{13943:function(Ae,X,e){e.d(X,{Z:function(){return o}});var R=e(48305),n=e.n(R),q=e(38683),i=e(6844),f=e(94581),v=e.n(f),F=e(75271),D=e(77661),w={"xagi-nav-style2":"xagi-nav-style2___gADG8",text:"text___emLLn","page-container":"page-container___wxeCP",header:"header___t5fwB"},g=e(52676),h=v().bind(w),M=function(c){var N=c.className,_=c.items,C=c.defaultActiveKey,S=c.onChangeCollapse,p=(0,F.useState)([]),l=n()(p,2),Y=l[0],B=l[1];(0,F.useEffect)(function(){C?.length>0&&B(C)},[C]);var $=function(y){B(y),S?.(y)},V=q.Z.useToken(),Z=V.token;return(0,g.jsx)(i.Z,{bordered:!1,expandIcon:function(y){var J=y.isActive;return(0,g.jsx)(D.Z,{name:"icons-common-caret_right",rotate:J?90:0,style:{color:Z.colorTextTertiary}})},className:h(w.header,N),activeKey:Y,onChange:$,items:_})},o=M},48614:function(Ae,X,e){e.d(X,{Z:function(){return ne}});var R=e(26068),n=e.n(R),q=e(48305),i=e.n(q),f=e(92973),v=e(68670),F=e(86743),D=e(63876),w=e(94581),g=e.n(w),h=e(75271),M={"xagi-nav-style2":"xagi-nav-style2___ZnOEk",text:"text___I_DzH","page-container":"page-container____iz0C","skill-item-style":"skill-item-style___N0WID","skill-item-icon":"skill-item-icon___jliak","skill-item-content-style":"skill-item-content-style___RWsv5","skill-item-title-style":"skill-item-title-style___RPCqS","skill-item-desc-style":"skill-item-desc-style___nXwpy","mask-layer-style":"mask-layer-style___uLo49",white:"white___PmcIw"},o=e(52676),L=g().bind(M),c=function(s){var W=s.item,he=s.onDelete;return(0,o.jsxs)("div",{className:L(M["skill-item-style"],"dis-left"),children:[(0,o.jsx)("img",{src:W.icon,alt:"",className:L(M["skill-item-icon"])}),(0,o.jsxs)("div",{className:L(M["skill-item-content-style"]),children:[(0,o.jsx)("div",{className:L(M["skill-item-title-style"]),children:W.name}),(0,o.jsx)("div",{className:L(M["skill-item-desc-style"]),children:W.description})]}),(0,o.jsx)("div",{className:L(M["mask-layer-style"]),children:(0,o.jsx)("div",{style:{color:"#fff",backgroundColor:"transparent"},children:(0,o.jsx)(D.Z,{content:"\u79FB\u9664",trigger:"hover",children:(0,o.jsx)(F.Z,{className:"ml-12  white",style:{cursor:"pointer"},onClick:he})})})})]})},N=c,_=e(48279),C=e(94201),S=e(10560),p=e(61265),l=e(48528),Y=e(99730),B=e(64799),$=e(92122),V=e(49528),Z=e(80110),b=e(26324),y=e(28190),J=e(41249),x=e(63619),de=e(17701),ge=e(30967),T=e(56179),u=e(7098),z={"xagi-nav-style2":"xagi-nav-style2___fHzli",text:"text___srgXE","page-container":"page-container____zQ5I",header:"header___ZEU6y",box:"box___su6_r",active:"active___qQari"},_e={"xagi-nav-style2":"xagi-nav-style2___GME40",text:"text___B9pND","page-container":"page-container___Gqdvl","workflow-desc":"workflow-desc___yLObd"},ce=g().bind(_e),Ee=function(s){var W=s.title,he=W===void 0?"\u8BF7\u9009\u62E9\u5DE5\u4F5C\u6D41":W,ae=s.onClick;return(0,o.jsx)("div",{className:ce(_e["workflow-desc"]),onClick:ae,children:he})},ve=Ee,Se=g().bind(z),P=function(s){var W=s.mode,he=W===void 0?$.jA.Create:W,ae=s.spaceId,Ce=s.knowledgeInfo,A=s.open,ee=s.onCancel,te=s.onConfirm,Fe=y.Z.useForm(),U=i()(Fe,1),Re=U[0],Le=(0,h.useState)(!1),Oe=i()(Le,2),we=Oe[0],xe=Oe[1],Q=(0,h.useState)(""),pe=i()(Q,2),re=pe[0],ie=pe[1],O=(0,h.useState)(V.u6.Text),K=i()(O,2),fe=K[0],Ie=K[1],Me=(0,h.useState)([]),se=i()(Me,2),ye=se[0],oe=se[1],H=(0,h.useState)("default"),a=i()(H,2),r=a[0],d=a[1],t=(0,h.useState)(null),De=i()(t,2),Ne=De[0],Ze=De[1],Ge=(0,h.useState)(!1),$e=i()(Ge,2),Ue=$e[0],le=$e[1],ft=(0,h.useState)(B.qR.Plugin),at=i()(ft,2),rt=at[0],qe=at[1],Ve=(0,h.useState)([]),st=i()(Ve,2),ot=st[0],ze=st[1],Ye=(0,T.useRequest)(l.qx,{manual:!0,debounceInterval:300,onSuccess:function(j){J.ZP.success("\u77E5\u8BC6\u5E93\u5DF2\u521B\u5EFA\u6210\u529F"),xe(!1),ee(),T.history.push("/space/".concat(ae,"/knowledge/").concat(j))},onError:function(){xe(!1)}}),gt=Ye.run,lt=(0,T.useRequest)(l.ei,{manual:!0,debounceInterval:300,onSuccess:function(j,Ke){J.ZP.success("\u77E5\u8BC6\u5E93\u66F4\u65B0\u6210\u529F"),xe(!1);var Xe=Ke[0];te?.(Xe)},onError:function(){xe(!1)}}),et=lt.run,ut=(0,T.useRequest)(l.Wi,{manual:!0,debounceInterval:300,onSuccess:function(j){ie(j.icon),Ie(j.dataType),Re.setFieldsValue({name:j.name,description:j.description,embeddingModelId:j.embeddingModelId,dataParsingMethod:j.workflowId?"workflow":"default"}),j.workflowId&&(d(j.workflowId?"workflow":"default"),Ze({id:j.workflowId,name:j.workflowName,icon:j.workflowIcon,description:j.workflowDescription}))},onError:function(){}}),vt=ut.run,it=(0,T.useRequest)(Y.Bj,{manual:!0,debounceInterval:300,onSuccess:function(j){var Ke=j?.map(function(Xe){return{label:Xe.name,value:Xe.id}})||[];oe(Ke)}}),ke=it.run;(0,h.useEffect)(function(){A&&(ke({spaceId:ae,modelType:Z.Mj.Embeddings}),d("default"),Ze(null),Ce&&vt(Ce.id))},[ae,A,Ce]);var ht=function(j){var Ke={spaceId:ae,name:j.name,description:j.description,embeddingModelId:j.embeddingModelId,icon:re,dataType:fe};r==="workflow"&&(Ke.workflowId=Ne?.id),xe(!0),he===$.jA.Create?gt(Ke):et(n()({id:Ce?.id},Ke))},Ct=function(j){j.dataParsingMethod&&d(j.dataParsingMethod)},dt=function(j){ze(function(){return[{type:j.targetType,targetId:j.targetId,status:B.BQ.Added,toolName:j.toolName||""}]}),(0,ge.flushSync)(function(){Ze({id:j.targetId,name:j.name,icon:j.icon,description:j.description})}),le(!1)},We=function(j,Ke){j.stopPropagation(),qe(Ke),le(!0)},He=function(j){We(j,B.qR.Workflow)},yt=function(){Ze(null),ze([])},ct=function(){Re.submit()};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(_.Z,{form:Re,title:he===$.jA.Create?"\u521B\u5EFA\u77E5\u8BC6\u5E93":"\u66F4\u65B0\u77E5\u8BC6\u5E93",open:A,loading:we,onCancel:ee,onConfirm:ct,children:[(0,o.jsxs)(y.Z,{form:Re,className:Se("mt-16"),requiredMark:b.N,layout:"vertical",onFinish:ht,onValuesChange:Ct,preserve:!1,autoComplete:"off",initialValues:{dataParsingMethod:"default"},children:[(0,o.jsx)(y.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0"}],children:(0,o.jsx)(x.Z,{placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0",showCount:!0,maxLength:100})}),(0,o.jsx)(C.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:Ce?.description,placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u5185\u5BB9\u7684\u63CF\u8FF0",maxLength:100}),(0,o.jsx)(y.Z.Item,{name:"embeddingModelId",label:"\u5411\u91CF\u6A21\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B"}],children:(0,o.jsx)(u.Z,{placeholder:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B",disabled:he===$.jA.Update,options:ye,allowClear:!0})}),(0,o.jsx)(y.Z.Item,{name:"dataParsingMethod",label:"\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",tooltip:"\u9009\u62E9\u5DE5\u4F5C\u6D41\u540E\u6240\u6709\u6587\u6863\u3001\u56FE\u7247\u7B49\u90FD\u5C06\u901A\u8FC7\u5DE5\u4F5C\u6D41\u89E3\u6790\uFF0C\u8BBE\u8BA1\u5DE5\u4F5C\u6D41\u65F6\u8BF7\u6CE8\u610F\u56FA\u5B9A\u5165\u53C2\u4E3A\uFF1Afile_url\uFF0C\u51FA\u53C2\u8BF7\u5728\u201C\u7ED3\u675F\u201D\u8282\u70B9\u9009\u62E9\u201C\u8FD4\u56DE\u6587\u672C\u201D\uFF0C\u5E76\u5728\u201C\u8F93\u51FA\u5185\u5BB9\u201D\u533A\u57DF\u8BBE\u7F6E\u8FD4\u56DE\u7684\u53D8\u91CF\u3002",children:(0,o.jsx)(de.default,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",options:[{value:"default",label:"\u7CFB\u7EDF\u9ED8\u8BA4"},{value:"workflow",label:"\u81EA\u5B9A\u4E49\u5DE5\u4F5C\u6D41"}]})}),r==="workflow"&&(0,o.jsx)(y.Z.Item,{style:{marginTop:"-15px"},children:Ne?(0,o.jsx)(N,{item:Ne,onDelete:yt}):(0,o.jsx)(ve,{onClick:He})}),(0,o.jsx)(y.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,o.jsx)(S.Z,{className:Se(z["upload-box"]),onUploadSuccess:ie,imageUrl:re,defaultImage:f,svgIconName:"icons-workspace-knowledge"})})]}),(0,o.jsx)(v.Z,{open:Ue,onCancel:function(){return le(!1)},checkTag:rt,addComponents:ot,onAdded:dt,tabs:p.Ne.filter(function(Te){return Te.key===B.qR.Workflow})})]})})},ne=P},30704:function(Ae,X,e){var R=e(26068),n=e.n(R),q=e(48305),i=e.n(q),f=e(26145),v=e(59261),F=e(7098),D=e(94201),w=e(10560),g=e(87620),h=e(24643),M=e(92122),o=e(45019),L=e(26324),c=e(28190),N=e(41249),_=e(63619),C=e(51430),S=e(94581),p=e.n(S),l=e(75271),Y=e(56179),B=e(48279),$=e(52676),V=p(),Z=function(y){var J=y.spaceId,x=y.id,de=y.icon,ge=y.name,T=y.description,u=y.mode,z=u===void 0?M.jA.Create:u,_e=y.open,ce=y.onCancel,Ee=y.onConfirm,ve=c.Z.useForm(),Se=i()(ve,1),P=Se[0],ne=(0,l.useState)(""),k=i()(ne,2),s=k[0],W=k[1],he=(0,l.useState)(),ae=i()(he,2),Ce=ae[0],A=ae[1],ee=(0,l.useState)(!1),te=i()(ee,2),Fe=te[0],U=te[1];(0,l.useEffect)(function(){_e&&(W(de||""),P.setFieldsValue({name:ge,description:T}))},[_e,de,ge,T]);var Re=function(O,K){K===o.AQ.CODE?Y.history.push("/space/".concat(J,"/plugin/").concat(O,"/cloud-tool")):K===o.AQ.HTTP&&Y.history.push("/space/".concat(J,"/plugin/").concat(O))},Le=(0,Y.useRequest)(h.VR,{manual:!0,debounceInterval:300,onSuccess:function(O,K){W(""),ce();var fe=K[0].type;Re(O,fe),N.ZP.success("\u63D2\u4EF6\u5DF2\u521B\u5EFA"),U(!1)},onError:function(){U(!1)}}),Oe=Le.run,we=(0,Y.useRequest)(h.i,{manual:!0,debounceInterval:300,onSuccess:function(O,K){W("");var fe=K[0];Ee?.(fe),N.ZP.success("\u63D2\u4EF6\u66F4\u65B0\u6210\u529F"),U(!1)},onError:function(){U(!1)}}),xe=we.run,Q=function(O){U(!0),z===M.jA.Create?Oe(n()(n()({},O),{},{icon:s,spaceId:J})):xe(n()(n()({},O),{},{icon:s,id:x}))},pe=function(){P.submit()},re=function(O){var K=O.target.value;K===o.AQ.HTTP&&P.setFieldValue("codeLang",null),A(K)};return(0,$.jsx)(B.Z,{form:P,title:z===M.jA.Create?"\u65B0\u5EFA\u63D2\u4EF6":"\u66F4\u65B0\u63D2\u4EF6",open:_e,classNames:p(),loading:Fe,onCancel:ce,onConfirm:pe,children:(0,$.jsxs)("div",{className:V("flex","flex-col","items-center","py-16"),children:[(0,$.jsx)(w.Z,{className:V("mt-16","mb-16"),onUploadSuccess:W,imageUrl:s,defaultImage:f,svgIconName:"icons-workspace-plugin"}),(0,$.jsxs)(c.Z,{form:P,requiredMark:L.N,layout:"vertical",onFinish:Q,rootClassName:V("w-full"),autoComplete:"off",children:[(0,$.jsx)(c.Z.Item,{name:"name",label:"\u63D2\u4EF6\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0"},{validator:function(O,K){return!K||K?.length<=30?Promise.resolve():K?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0!"))}}],children:(0,$.jsx)(_.Z,{placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0\uFF0C\u786E\u4FDD\u540D\u79F0\u542B\u4E49\u6E05\u6670\u4E14\u7B26\u5408\u5E73\u53F0\u89C4\u8303",showCount:!0,maxLength:30})}),(0,$.jsx)(D.Z,{name:"description",label:"\u63D2\u4EF6\u63CF\u8FF0",initialValue:T,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F"}],placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F\uFF0C\u786E\u4FDD\u5185\u5BB9\u7B26\u5408\u5E73\u53F0\u89C4\u8303\u3002\u5E2E\u52A9\u7528\u6237/\u5927\u6A21\u578B\u66F4\u597D\u5730\u7406\u89E3",maxLength:100}),(0,$.jsxs)(v.Z,{condition:z===M.jA.Create,children:[(0,$.jsx)(c.Z.Item,{name:"type",label:"\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F"}],children:(0,$.jsx)(C.ZP.Group,{options:g.B1,value:Ce,onChange:re})}),(0,$.jsx)(v.Z,{condition:Ce===o.AQ.CODE,children:(0,$.jsx)(c.Z.Item,{name:"codeLang",label:"IDE \u8FD0\u884C\u65F6",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u6A21\u5F0F"}],children:(0,$.jsx)(F.Z,{options:g._n})})})]})]})]})})};X.Z=Z},75484:function(Ae,X,e){e.d(X,{Z:function(){return B}});var R=e(26068),n=e.n(R),q=e(48305),i=e.n(q),f=e(83352),v=e(48279),F=e(94201),D=e(10560),w=e(53361),g=e(92122),h=e(26324),M=e(28190),o=e(41249),L=e(63619),c=e(94581),N=e.n(c),_=e(75271),C=e(56179),S={container:"container___etrGg",header:"header___qw2yv"},p=e(52676),l=N().bind(S),Y=function(V){var Z=V.type,b=Z===void 0?g.jA.Create:Z,y=V.name,J=V.spaceId,x=V.id,de=V.icon,ge=V.description,T=V.open,u=V.onCancel,z=V.onConfirm,_e=M.Z.useForm(),ce=i()(_e,1),Ee=ce[0],ve=(0,_.useState)(""),Se=i()(ve,2),P=Se[0],ne=Se[1],k=(0,C.useRequest)(w.Kt,{manual:!0,debounceInterval:300,onSuccess:function(ee){o.ZP.success("\u5DE5\u4F5C\u6D41\u5DF2\u521B\u5EFA\u6210\u529F"),u(),C.history.push("/space/".concat(J,"/workflow/").concat(ee))}}),s=k.run,W=(0,C.useRequest)(w.sN,{manual:!0,debounceInterval:300,onSuccess:function(ee,te){o.ZP.success("\u5DE5\u4F5C\u6D41\u66F4\u65B0\u6210\u529F");var Fe=te[0];z?.(Fe)}}),he=W.run;(0,_.useEffect)(function(){T&&(ne(de||""),Ee.setFieldsValue({name:y,description:ge}))},[T,de,y,ge]);var ae=function(ee){var te={name:ee?.name,description:ee?.description,icon:P};b===g.jA.Create?s(n()({spaceId:J},te)):he(n()({id:x},te))},Ce=function(){Ee.submit()};return(0,p.jsx)(v.Z,{form:Ee,title:b===g.jA.Create?"\u521B\u5EFA\u5DE5\u4F5C\u6D41":"\u66F4\u65B0\u5DE5\u4F5C\u6D41",classNames:{content:l(S.container),header:l(S.header)},open:T,onCancel:u,onConfirm:Ce,children:(0,p.jsxs)(M.Z,{form:Ee,requiredMark:h.N,layout:"vertical",onFinish:ae,autoComplete:"off",children:[(0,p.jsx)(M.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0"},{validator:function(ee,te){return!te||te?.length<=30?Promise.resolve():te?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0!"))}}],children:(0,p.jsx)(L.Z,{placeholder:"\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0",showCount:!0,maxLength:30})}),(0,p.jsx)(F.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:ge,placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\uFF0C\u8BA9\u5927\u6A21\u578B\u7406\u89E3\u4EC0\u4E48\u60C5\u51B5\u4E0B\u5E94\u8BE5\u8C03\u7528\u6B64\u5DE5\u4F5C\u6D41",maxLength:100}),(0,p.jsx)(M.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,p.jsx)(D.Z,{onUploadSuccess:ne,imageUrl:P,defaultImage:f,svgIconName:"icons-workspace-workflow"})})]})})},B=Y},68670:function(Ae,X,e){e.d(X,{Z:function(){return we}});var R=e(90228),n=e.n(R),q=e(15558),i=e.n(q),f=e(26068),v=e.n(f),F=e(87999),D=e.n(F),w=e(48305),g=e.n(w),h=e(59934),M=e(61265),o=e(28359),L=e(3440),c=e(64799),N=e(92122),_=e(44953),C=e(86230),S=e(61884),p=e(28057),l=e(98493),Y=e(17023),B=e(16621),$=e(41249),V=e(73981),Z=e(44384),b=e(9504),y=e(14719),J=e(63619),x=e(58130),de=e(70183),ge=e(94581),T=e.n(ge),u=e(75271),z=e(56179),_e=e(80774),ce=e(48614),Ee=e(30704),ve=e(75484),Se=e(3055),P={"xagi-nav-style2":"xagi-nav-style2___Hhx24",text:"text___fY1wP","page-container":"page-container___mEK5C","created-modal-style":"created-modal-style___NYAVL","segmented-style":"segmented-style___nKwTz","created-title-text":"created-title-text___AjELa","created-list-spin-style":"created-list-spin-style___zM15H","created-list-empty-style":"created-list-empty-style___oCfaM","create-button":"create-button___coqIa","aside-header":"aside-header___jACDw","aside-menu":"aside-menu___m045Q","add-button":"add-button___TndZY","add-button-added":"add-button-added___MdC2h","created-container":"created-container___AGXz5","aside-style":"aside-style___CaDQZ","main-style":"main-style___GSDxU","list-item-style":"list-item-style___WKFIL","left-image-style":"left-image-style___GMm3v","content-font":"content-font___ycx8_","count-div-style":"count-div-style___Zd48s","label-font-style":"label-font-style___HZB9A","collect-star":"collect-star___bLtFf","icon-margin":"icon-margin___HgnVb","created-description-style":"created-description-style___Cm4V4"},ne=e(13143),k={"xagi-nav-style2":"xagi-nav-style2___XdLTv",text:"text___tQ5I5","page-container":"page-container___s_CSV","mcp-tools-style":"mcp-tools-style___u92JF","mcp-tools-item-style":"mcp-tools-item-style___sidZr","add-button":"add-button___mejhX","add-button-added":"add-button-added___iY7_z","mcp-tools-item-content-style":"mcp-tools-item-content-style___ku31r","mcp-tools-item-name-style":"mcp-tools-item-name-style___oOtSe","mcp-tools-item-description-style":"mcp-tools-item-description-style___FlirP","mcp-tools-item-button-style":"mcp-tools-item-button-style___MPtXV"},s=e(52676),W=T().bind(k),he=c.BQ.Added,ae=function(Q){var pe=Q.tools,re=Q.item,ie=Q.onAddTool,O=Q.fold,K=Q.getToolLoading,fe=Q.addedComponents,Ie=(0,u.useCallback)(function(se,ye){ie(v()(v()({},re),{},{name:"".concat(re.name,"/").concat(se),description:ye,toolName:se}))},[ie,re]),Me=(0,u.useCallback)(function(se,ye){return fe?.some(function(oe){return oe.type===se.targetType&&oe.targetId===se.targetId&&(oe.toolName||"")===(se.toolName||"")&&oe.status===ye})},[fe,re]);return O?null:(0,s.jsx)("div",{className:W(k["mcp-tools-style"]),children:pe.map(function(se,ye){var oe=Me(v()(v()({},re),{},{toolName:se.name}),he),H=K(v()(v()({},re),{},{toolName:se.name}));return(0,s.jsxs)("div",{className:W(k["mcp-tools-item-style"]),children:[(0,s.jsxs)("div",{className:W("dis-sb",k["mcp-tools-item-content-style"]),children:[(0,s.jsx)("div",{className:W(k["mcp-tools-item-name-style"]),children:se.name}),(0,s.jsx)("div",{className:W(k["mcp-tools-item-description-style"]),children:se.description||"\u6682\u65E0\u63CF\u8FF0"})]}),(0,s.jsx)("div",{className:W(k["mcp-tools-item-button-style"],"dis-sb"),children:(0,s.jsx)(b.ZP,{color:"default",variant:"filled",className:W(k["add-button"],oe&&k["add-button-added"]),onClick:function(){return Ie(se.name,se.description)},disabled:H?!1:oe,loading:H,children:oe?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})})]},"".concat(re.targetId,"-").concat(ye,"-tools-").concat(se.name))})},"".concat(re.targetId,"-tools"))},Ce=ae,A={"xagi-nav-style2":"xagi-nav-style2___AR6lO",text:"text___C_yvr","page-container":"page-container___Tl8wQ",container:"container___Xs6nx","left-image-style":"left-image-style___QkQAk","content-font":"content-font___gLvK8","count-div-style":"count-div-style___bhUoi","fold-icon-style":"fold-icon-style___iClGH","label-font-style":"label-font-style___R72Ym","created-description-style":"created-description-style___fbx01"},ee=T().bind(A),te=function(Q){var pe,re,ie,O=Q.item,K=Q.index,fe=Q.selected,Ie=Q.onAddNode,Me=Q.getToolLoading,se=Q.addedComponents,ye=(0,u.useState)(!0),oe=g()(ye,2),H=oe[0],a=oe[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:ee("dis-sb",A.container,"cursor-pointer"),style:{height:"unset"},onClick:function(){return a(!H)},children:[(0,s.jsx)("img",{src:O.icon||(0,S.Pk)(fe.key),alt:"",className:ee(A["left-image-style"])}),(0,s.jsxs)("div",{className:ee("flex-1",A["content-font"]),children:[(0,s.jsx)("p",{className:ee(A["label-font-style"]),children:O.name}),(0,s.jsx)("p",{className:ee(A["created-description-style"],"text-ellipsis-2"),title:O.description,children:O.description}),(0,s.jsx)("div",{className:ee("dis-sb",A["count-div-style"]),children:(0,s.jsxs)("div",{className:"dis-left",children:[(0,s.jsx)("img",{src:((pe=O.publishUser)===null||pe===void 0?void 0:pe.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,s.jsx)("span",{children:(re=O.publishUser)===null||re===void 0?void 0:re.nickName}),(0,s.jsx)(Z.Z,{type:"vertical"}),(0,s.jsxs)("span",{children:["\u90E8\u7F72\u4E8E",(0,_.hK)(O.deployed)]})]})})]}),(0,s.jsx)(ne.Z,{onClick:function(){return a(!H)},className:ee(A["fold-icon-style"]),style:{transform:H?"rotate(-90deg)":"rotate(0)"}})]},"".concat(O.targetId,"-").concat(K)),(0,s.jsx)(Ce,{fold:H,tools:(O==null||(ie=O.config)===null||ie===void 0?void 0:ie.tools)||[],item:O,getToolLoading:Me,onAddTool:Ie,addedComponents:se})]})},Fe=te,U=T().bind(P),Re=[c.qR.Plugin,c.qR.Workflow,c.qR.Knowledge,c.qR.Table],Le=M.Ne.filter(function(xe){return Re.includes(xe.key)}),Oe=function(Q){var pe=Q.open,re=Q.onCancel,ie=Q.checkTag,O=Q.onAdded,K=Q.addComponents,fe=Q.addSkillLoading,Ie=fe===void 0?void 0:fe,Me=Q.tabs,se=Me===void 0?Le:Me,ye=Q.hideTop,oe=(0,z.useParams)(),H=Number(oe.spaceId),a=(0,u.useState)(!1),r=g()(a,2),d=r[0],t=r[1],De=(0,u.useState)(""),Ne=g()(De,2),Ze=Ne[0],Ge=Ne[1],$e=(0,u.useState)({label:"\u63D2\u4EF6",key:c.qR.Plugin}),Ue=g()($e,2),le=Ue[0],ft=Ue[1],at=(0,u.useState)({page:1,pageSize:20}),rt=g()(at,2),qe=rt[0],Ve=rt[1],st=(0,u.useState)(100),ot=g()(st,2),ze=ot[0],Ye=ot[1],gt=(0,u.useState)("all"),lt=g()(gt,2),et=lt[0],ut=lt[1],vt=(0,u.useState)(),it=g()(vt,2),ke=it[0],ht=it[1],Ct=(0,u.useState)([]),dt=g()(Ct,2),We=dt[0],He=dt[1],yt=(0,u.useState)(!1),ct=g()(yt,2),Te=ct[0],j=ct[1],Ke=(0,u.useState)({list:[],searching:!1}),Xe=g()(Ke,2),_t=Xe[0],Et=Xe[1],tt=(0,u.useRef)(!1),nt=(0,u.useRef)(null),Rt=[{key:"all",label:"\u5168\u90E8"},{key:"library",label:"\u7EC4\u4EF6\u5E93".concat(le.label)},{key:"collect",label:"\u6536\u85CF"}],It=[{key:"all",label:"\u5168\u90E8"},{key:1,label:"\u6587\u6863"}],bt=[{key:"all",label:"\u7EC4\u4EF6\u5E93\u6570\u636E\u8868"}],wt=[{key:"all",label:"\u5168\u90E8"},{key:"custom",label:"\u81EA\u5B9A\u4E49\u670D\u52A1"}],Lt=function(){switch(le.key){case c.qR.Knowledge:return It;case c.qR.Table:return bt;case c.qR.MCP:return wt;default:return Rt}},St=(0,u.useRef)(null),Qe=(0,u.useRef)(!1),Je=function(){var E=D()(n()().mark(function m(I,G){var Pe,be,me,je;return n()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(Et({list:[],searching:!1}),ue.prev=1,H!==0){ue.next=4;break}return ue.abrupt("return");case 4:if(console.log("params",G,Qe.current,G.page>ze&&G.page!==1||Qe.current),!(G.page>ze&&G.page!==1||Qe.current)){ue.next=7;break}return ue.abrupt("return");case 7:return Qe.current=!0,G.page===1&&j(!0),tt.current&&(G.justReturnSpaceData=!0),nt.current&&(G.dataType=nt.current),ue.next=13,o.ZP.getList(I,v()(v()({},G),{},{spaceId:H}));case 13:if(Pe=ue.sent,be=Pe.code,me=Pe.data,je=Pe.message,Qe.current=!1,j(!1),be===h.Gh){ue.next=22;break}return $.ZP.error(je),ue.abrupt("return");case 22:Ye(me.pages),Ve(function(Dt){return v()(v()({},Dt),{},{page:me.current,total:me.total})}),He(function(Dt){var Mt=G.page===1?i()(me.records):[].concat(i()(Dt),i()(me.records));return Et(v()(v()({},_t),{},{list:Mt})),Mt}),ue.next=32;break;case 27:ue.prev=27,ue.t0=ue.catch(1),Qe.current=!1,j(!1),Ye(100);case 32:case"end":return ue.stop()}},m,null,[[1,27]])}));return function(I,G){return E.apply(this,arguments)}}(),Ot=function(){var E=D()(n()().mark(function m(I){var G,Pe,be;return n()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.prev=0,j(!0),Pe=(G=le.key)===null||G===void 0?void 0:G.toLowerCase(),je.next=5,o.ZP.collectList(Pe,I);case 5:be=je.sent,He(i()(be.data)),j(!1),je.next=13;break;case 10:je.prev=10,je.t0=je.catch(0),j(!1);case 13:case"end":return je.stop()}},m,null,[[0,10]])}));return function(I){return E.apply(this,arguments)}}(),Tt=function(){var E=D()(n()().mark(function m(I){var G,Pe,be,me;return n()().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(Pe=(G=le.key)===null||G===void 0?void 0:G.toLowerCase(),!I.collect){Be.next=7;break}return Be.next=4,o.ZP.unCollect(Pe,I.targetId);case 4:be=Be.sent,Be.next=10;break;case 7:return Be.next=9,o.ZP.collect(Pe,I.targetId);case 9:be=Be.sent;case 10:be.code===h.ZP.success&&(me=We.map(function(ue){return I.targetId===ue.targetId&&(ue.collect?(ue.collect=!1,ue.statistics&&(ue.statistics.collectCount=(ue.statistics.collectCount||1)-1)):(ue.collect=!0,ue.statistics&&(ue.statistics.collectCount=(ue.statistics.collectCount||0)+1))),ue}),He(me));case 11:case"end":return Be.stop()}},m)}));return function(I){return E.apply(this,arguments)}}(),mt=function(){var E=D()(n()().mark(function m(I){var G,Pe;return n()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(le.key!==c.qR.Table){me.next=11;break}return me.prev=1,G={tableName:I.name,tableDescription:I.description,spaceId:H,icon:I.icon},me.next=5,(0,L.AY)(G);case 5:Pe=me.sent,z.history.push("/space/".concat(H,"/table/").concat(Pe.data)),me.next=11;break;case 9:me.prev=9,me.t0=me.catch(1);case 11:case"end":return me.stop()}},m,null,[[1,9]])}));return function(I){return E.apply(this,arguments)}}(),At=function(m){O(m),ht(m)},Ft=function(m){var I={kw:m,page:1,pageSize:20};Ge(m),Ve({page:1,pageSize:20}),He([]),Je(le.key,I)},Nt=function(m,I){switch(Ye(100),m){case"collect":Ot(I);break;case"library":tt.current=!0,Je(le.key,v()(v()({},I),{},{justReturnSpaceData:!0}));break;default:Je(le.key,I);break}},Kt=function(m){Ge(""),ut(m),Ve({page:1,pageSize:20}),He([]),tt.current=!1,nt.current=null;var I={page:1,pageSize:20};le.key===c.qR.Knowledge&&m!=="all"&&(I.dataType=Number(m),nt.current=Number(m)),le.key===c.qR.MCP&&m==="custom"&&(tt.current=!0),Nt(m,I)},xt=function(m){if(m){nt.current=null,tt.current=!1;var I=m,G=se.find(function(Pe){return Pe.key===I});G&&(ut("all"),Ge(""),ft(G),Ve({page:1,pageSize:20}),Ye(100),Je(G.key,{page:1,pageSize:20}))}},Pt=(0,u.useCallback)(function(){if(!(et==="collect"||Qe.current)){var E=St.current;if(E){var m=E.scrollHeight-E.scrollTop-E.clientHeight,I=We.length>0&&m<50&&qe.page<ze;if(I){var G=qe.page+1,Pe={pageSize:20,page:G};Ve(function(be){return v()(v()({},be),{},{page:G})}),Je(le.key,Pe)}}}},[qe,et,ze,Qe,le.key,We.length]);(0,u.useEffect)(function(){var E=St.current;if(pe&&E)return E.addEventListener("scroll",Pt),function(){E.removeEventListener("scroll",Pt)}},[pe,Pt]),(0,u.useEffect)(function(){pe&&setTimeout(function(){xt(ie)},100)},[ie,pe]);var Ut=(0,s.jsxs)("div",{className:U("dis-left",P["created-title"]),children:[(0,s.jsx)("h3",{className:P["created-title-text"],children:"\u6DFB\u52A0"}),(0,s.jsx)(V.Z,{value:le.key,size:"large",onChange:xt,options:se.filter(function(E){return!(ye!=null&&ye.includes(E.key))}).map(function(E){return{label:E.label,value:E.key}}),className:P["segmented-style"]})]}),pt=(0,u.useCallback)(function(E,m){return K?.some(function(I){return I.type===E.targetType&&I.targetId===E.targetId&&I.status===m&&(I?.toolName||"")===(E.toolName||"")})},[K]),Bt=(0,u.useCallback)(function(E){return pt(E,c.BQ.Added)},[pt]),jt=(0,u.useCallback)(function(E,m){return Ie===void 0?pt(E,c.BQ.Loading):!!(Ie&&ke?.targetId===E.targetId&&(ke?.toolName||"")===(m||""))},[pt,ke,Ie]),Zt=function(m,I,G){return(0,s.jsx)(Fe,{item:m,index:I,getToolLoading:jt,selected:G,onAddNode:At,addedComponents:K||[]},"".concat(m.targetId,"-").concat(I))},kt=function(m,I){var G,Pe,be=jt(m),me=Bt(m);return(0,s.jsxs)("div",{className:U("dis-sb",P["list-item-style"]),children:[(0,s.jsx)("img",{src:m.icon||(0,S.Pk)(le.key),alt:"",className:U(P["left-image-style"])}),(0,s.jsxs)("div",{className:U("flex-1",P["content-font"]),children:[(0,s.jsx)("p",{className:U(P["label-font-style"],"text-ellipsis-2"),children:m.name}),(0,s.jsx)("p",{className:U(P["created-description-style"],"text-ellipsis"),children:m.description}),(0,s.jsx)("div",{className:U("dis-sb",P["count-div-style"]),children:(0,s.jsxs)("div",{className:"dis-left",children:[(0,s.jsx)("img",{src:((G=m.publishUser)===null||G===void 0?void 0:G.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,s.jsx)("span",{children:(Pe=m.publishUser)===null||Pe===void 0?void 0:Pe.nickName}),(0,s.jsx)(Z.Z,{type:"vertical"}),(0,s.jsx)("span",{children:"\u53D1\u5E03\u4E8E".concat((0,_.hK)(m.created))}),![c.qR.Knowledge,c.qR.MCP].includes(le.key)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{type:"vertical"}),m.collect&&(0,s.jsx)(p.Z,{className:U(P["collect-star"],P["icon-margin"]),onClick:function(){return Tt(m)}}),!m.collect&&(0,s.jsx)(l.Z,{className:U(P["icon-margin"]),onClick:function(){return Tt(m)}}),(0,s.jsx)("span",{children:m.statistics?m.statistics.collectCount:0})]})]})})]}),(0,s.jsx)(b.ZP,{color:"default",variant:"filled",onClick:function(){return At(m)},loading:be,className:U(P["add-button"],me&&P["add-button-added"]),disabled:be?!1:me,children:me?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(m.targetId,"-").concat(I))},Wt=function(m,I){m===c.qR.MCP?(0,C._x)(I):t(!0)};return(0,s.jsxs)(y.Z,{keyboard:!1,maskClosable:!1,open:pe,footer:null,centered:!0,title:Ut,onCancel:re,className:U(P["created-modal-style"]),width:1096,children:[(0,s.jsxs)("div",{className:U(P["created-container"],"dis-sb-start"),children:[(0,s.jsxs)("div",{className:U(P["aside-style"]),children:[(0,s.jsxs)("div",{className:U(P["aside-header"]),children:[(0,s.jsx)(J.Z,{allowClear:!0,value:Ze,variant:"filled",placeholder:"\u641C\u7D22",prefix:(0,s.jsx)(Y.Z,{}),onChange:function(m){Ge(m.target.value)},onClear:function(){Ge(""),Je(le.key,{page:1,pageSize:20})},onPressEnter:function(m){m.key==="Enter"&&(Et(v()(v()({},_t),{},{searching:!0})),Ft(m.currentTarget.value))}}),(0,s.jsx)(b.ZP,{type:"primary",className:U(P["create-button"]),icon:(0,s.jsx)(B.Z,{}),block:!0,onClick:function(){return Wt(le.key,H)},children:"\u521B\u5EFA".concat(le.label)})]}),(0,s.jsx)(x.Z,{className:U(P["aside-menu"]),onClick:function(m){return Kt(m.key)},selectedKeys:[et],mode:"vertical",items:Lt()})]}),(0,s.jsx)("div",{className:U(P["main-style"],"flex-1","overflow-y"),ref:St,children:Te?(0,s.jsx)(Se.Z,{className:U("h-full")}):We!=null&&We.length?We.map(function(E,m){return le.key===c.qR.MCP?Zt(E,m,le):kt(E,m)}):(0,s.jsx)("div",{className:U(P["created-list-empty-style"]),children:(0,s.jsx)(de.Z,{description:_t.searching?"\u6682\u65E0\u6570\u636E\uFF0C\u8BF7\u91CD\u65B0\u641C\u7D22":"\u6682\u65E0\u6570\u636E"})})})]}),(0,s.jsx)(ve.Z,{onConfirm:mt,onCancel:function(){return t(!1)},open:d&&le.key===c.qR.Workflow,type:N.jA.Create,spaceId:H}),(0,s.jsx)(Ee.Z,{onConfirm:mt,spaceId:H,onCancel:function(){return t(!1)},open:d&&le.key===c.qR.Plugin,mode:N.jA.Create}),(0,s.jsx)(ce.Z,{spaceId:H,onConfirm:mt,onCancel:function(){return t(!1)},open:d&&le.key===c.qR.Knowledge,mode:N.jA.Create}),(0,s.jsx)(_e.Z,{spaceId:H,type:c.qR.Table,mode:N.jA.Create,Confirm:mt,onCancel:function(){return t(!1)},open:d&&le.key===c.qR.Table})]})},we=Oe},6377:function(Ae,X,e){e.d(X,{Z:function(){return D}});var R=e(94581),n=e.n(R),q=e(75271),i={container:"container___dApW8",star:"star___pESlW"},f=e(52676),v=n().bind(i),F=function(g){var h=g.className,M=g.label;return(0,f.jsxs)("span",{className:v(i.container,"flex",h),children:[(0,f.jsx)("span",{children:M}),(0,f.jsx)("span",{className:v(i.star),children:"*"})]})},D=F},94201:function(Ae,X,e){e.d(X,{Z:function(){return o}});var R=e(48305),n=e.n(R),q=e(63619),i=e(28190),f=e(94581),v=e.n(f),F=e(75271),D={"text-area":"text-area___UOMCQ",input:"input___XXN9U",text:"text___m7VFK"},w=e(52676),g=v().bind(D),h=q.Z.TextArea,M=function(c){var N,_=c.placeholder,C=_===void 0?"\u8BF7\u8F93\u5165":_,S=c.name,p=c.label,l=c.initialValue,Y=c.maxLength,B=Y===void 0?200:Y,$=c.minRows,V=$===void 0?3:$,Z=c.maxRows,b=Z===void 0?6:Z,y=c.rules,J=(0,F.useState)(""),x=n()(J,2),de=x[0],ge=x[1];return(0,F.useEffect)(function(){l&&ge(l)},[l]),(0,w.jsxs)(i.Z.Item,{className:g("relative"),children:[(0,w.jsx)(i.Z.Item,{className:g(D["text-area"]),name:S,label:p,rules:y,children:(0,w.jsx)(h,{rootClassName:D.input,placeholder:C,value:de,onChange:function(u){return ge(u.target.value)},maxLength:B,autoSize:{minRows:V,maxRows:b}})}),(0,w.jsxs)("span",{className:g("absolute",D.text),children:[(N=de?.length)!==null&&N!==void 0?N:0,"/",B]})]})},o=M},6619:function(Ae,X,e){e.d(X,{Z:function(){return M}});var R=e(77661),n=e(92122),q=e(38683),i=e(68108),f=e(94581),v=e.n(f),F=e(75271),D={box:"box___qPDL3"},w=e(52676),g=v().bind(D),h=function(L){var c=L.className,N=L.type,_=N===void 0?n.Ai.Blank:N,C=L.icon,S=L.title,p=L.onClick,l=_===n.Ai.Blank?"tooltip-blank":"tooltip-white",Y=q.Z.useToken(),B=Y.token;return(0,w.jsx)(i.Z,{title:S,classNames:{root:l},children:(0,w.jsx)("span",{className:g("hover-box","flex","content-center","items-center","cursor-pointer",D.box,c),onClick:p,children:C||(0,w.jsx)(R.Z,{name:"icons-common-plus",style:{color:B.colorTextTertiary,fontSize:15}})})})},M=h},2617:function(Ae,X,e){e.d(X,{Hs:function(){return i},Ry:function(){return D},VR:function(){return f},WH:function(){return v},gg:function(){return F},jC:function(){return q}});var R=e(64799),n=e(69626),q=[{value:n.DM.All,label:"\u5168\u90E8"},{value:n.DM.Deployed,label:"\u5DF2\u90E8\u7F72"}],i=[{type:n.pS.Stop_Service,label:"\u505C\u6B62\u670D\u52A1"},{type:n.pS.Service_Export,label:"\u670D\u52A1\u5BFC\u51FA"},{type:n.pS.Del,label:"\u5220\u9664",isDel:!0}],f=[{value:n.l_.NPX,label:"npx"},{value:n.l_.UVX,label:"uvx"},{value:n.l_.SSE,label:"sse"},{value:n.l_.COMPONENT,label:"\u7EC4\u4EF6\u5E93"}],v=[{type:R.qR.Plugin,label:"\u63D2\u4EF6"},{type:R.qR.Workflow,label:"\u5DE5\u4F5C\u6D41"},{type:R.qR.Knowledge,label:"\u77E5\u8BC6\u5E93"},{type:R.qR.Table,label:"\u6570\u636E\u8868"}],F=[{value:n.f5.Overview,label:"\u6982\u89C8"},{value:n.f5.Tool,label:"\u5DE5\u5177"},{value:n.f5.Resource,label:"\u8D44\u6E90"},{value:n.f5.Prompt,label:"\u63D0\u793A\u8BCD"}],D=[{value:n.ac.Custom,label:"\u81EA\u5B9A\u4E49\u670D\u52A1"},{value:n.ac.Official,label:"\u5B98\u65B9\u670D\u52A1"}]},11760:function(Ae,X,e){e.d(X,{Z:function(){return de}});var R=e(15558),n=e.n(R),q=e(90228),i=e.n(q),f=e(87999),v=e.n(f),F=e(48305),D=e.n(F),w=e(46388),g=e(92973),h=e(26145),M=e(83352),o=e(6619),L=e(64799),c=e(86743),N=e(75271),_=e(59261),C=e(94581),S=e.n(C),p={container:"container___VtFp3","extra-box":"extra-box___SW5hY","gap-6":"gap-6___K8O8r","img-box":"img-box___GB3B2",name:"name___Ydju6",desc:"desc___LWNol"},l=e(52676),Y=S().bind(p),B=function(T){var u=T.componentInfo,z=T.defaultImage,_e=T.extra,ce=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:Y("radius-6",p["img-box"]),children:(0,l.jsx)("img",{src:u.icon||z,alt:""})}),(0,l.jsxs)("div",{className:Y("flex-1","flex","flex-col","content-center","overflow-hide"),children:[(0,l.jsx)("h3",{className:Y("text-ellipsis",p.name),children:u.name}),(0,l.jsx)(_.Z,{condition:u.description,children:(0,l.jsx)("p",{className:Y("text-ellipsis",p.desc),children:u.description})})]})]});return(0,l.jsxs)("div",{className:Y("flex","items-center",p.container),children:[(0,l.jsx)("div",{className:Y("flex-1","flex","overflow-hide",p["gap-6"]),children:ce}),(0,l.jsx)("div",{className:Y(p["extra-box"],"flex","items-center"),children:_e})]})},$=B,V=function(T){var u,z=T.textClassName,_e=T.type,ce=T.list,Ee=T.onDel,ve=function(P){switch(P){case L.qR.Plugin:return{text:"\u63D2\u4EF6\u80FD\u591F\u8BA9\u667A\u80FD\u4F53\u8C03\u7528\u5916\u90E8API\uFF0C\u4F8B\u5982\u641C\u7D22\u4FE1\u606F\u3001\u6D4F\u89C8\u7F51\u9875\u3001\u751F\u6210\u56FE\u7247\u7B49\uFF0C\u6269\u5C55\u667A\u80FD\u4F53\u7684\u80FD\u529B\u548C\u4F7F\u7528\u573A\u666F\u3002",image:h};case L.qR.Workflow:return{text:"\u5DE5\u4F5C\u6D41\u652F\u6301\u901A\u8FC7\u53EF\u89C6\u5316\u7684\u65B9\u5F0F\uFF0C\u5BF9\u63D2\u4EF6\u3001\u5927\u8BED\u8A00\u6A21\u578B\u3001\u4EE3\u7801\u5757\u7B49\u529F\u80FD\u8FDB\u884C\u7EC4\u5408\uFF0C\u4ECE\u800C\u5B9E\u73B0\u590D\u6742\u3001\u7A33\u5B9A\u7684\u4E1A\u52A1\u6D41\u7A0B\u7F16\u6392\uFF0C\u4F8B\u5982\u65C5\u884C\u89C4\u5212\u3001\u62A5\u544A\u5206\u6790\u7B49\u3002",image:M};case L.qR.Knowledge:return{text:"\u5C06\u6587\u6863\u3001URL\u3001\u4E09\u65B9\u6570\u636E\u6E90\u4E0A\u4F20\u4E3A\u6587\u672C\u77E5\u8BC6\u5E93\u540E\uFF0C\u7528\u6237\u53D1\u9001\u6D88\u606F\u65F6\uFF0C\u667A\u80FD\u4F53\u80FD\u591F\u5F15\u7528\u6587\u672C\u77E5\u8BC6\u4E2D\u7684\u5185\u5BB9\u56DE\u7B54\u7528\u6237\u95EE\u9898\u3002",image:g};case L.qR.Table:return{text:"\u4EE5\u8868\u683C\u7ED3\u6784\u7EC4\u7EC7\u6570\u636E\uFF0C\u53EF\u5B9E\u73B0\u7C7B\u4F3C\u4E66\u7B7E\u548C\u56FE\u4E66\u7BA1\u7406\u7B49\u529F\u80FD\u3002",image:w}}};return ce!=null&&ce.length?ce.map(function(Se,P){var ne;return(0,l.jsx)($,{componentInfo:Se,defaultImage:(ne=ve(_e))===null||ne===void 0?void 0:ne.image,extra:(0,l.jsx)(o.Z,{title:"\u5220\u9664",icon:(0,l.jsx)(c.Z,{className:"cursor-pointer"}),onClick:function(){return Ee(Se.targetId,Se.type)}})},Se?.targetId||P)}):(0,l.jsx)("p",{className:z,children:(u=ve(_e))===null||u===void 0?void 0:u.text})},Z=V,b=e(2617),y=e(53895),J=e(28190),x=function(){var T=J.Z.useForm(),u=D()(T,1),z=u[0],_e=(0,N.useState)(""),ce=D()(_e,2),Ee=ce[0],ve=ce[1],Se=(0,N.useState)([]),P=D()(Se,2),ne=P[0],k=P[1],s=(0,N.useState)([]),W=D()(s,2),he=W[0],ae=W[1],Ce=(0,N.useState)(!1),A=D()(Ce,2),ee=A[0],te=A[1],Fe=(0,N.useState)(!1),U=D()(Fe,2),Re=U[0],Le=U[1],Oe=(0,N.useState)(L.qR.Plugin),we=D()(Oe,2),xe=we[0],Q=we[1],pe=(0,N.useState)(!1),re=D()(pe,2),ie=re[0],O=re[1],K=(0,N.useRef)(!1),fe=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;K.current=d,z.submit()},Ie=function(d){return ne?.filter(function(t){return t.type===d})||[]},Me=function(){var r=v()(i()().mark(function d(t,De){var Ne,Ze;return i()().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:Ne=ne?.filter(function(Ue){return!(Ue.targetId===t&&Ue.type===De)}),k(Ne),Ze=he?.filter(function(Ue){return!(Ue.targetId===t&&Ue.type===De)})||[],ae(Ze);case 4:case"end":return $e.stop()}},d)}));return function(t,De){return r.apply(this,arguments)}}(),se=function(d,t){d.stopPropagation(),Q(t),O(!0)},ye=function(d){return ne?.some(function(t){return t.type===d})},oe=(0,N.useMemo)(function(){var r=[];return ye(L.qR.Plugin)&&r.push(y.bX.Plugin),ye(L.qR.Workflow)&&r.push(y.bX.Workflow),ye(L.qR.Knowledge)&&r.push(y.bX.Knowledge),ye(L.qR.Table)&&r.push(y.bX.Table),r},[ne]),H=function(d){ae(function(t){return[].concat(n()(t),[{type:d.targetType,targetId:d.targetId,status:L.BQ.Added}])}),k(function(t){var De={name:d.name,icon:d.icon,description:d.description,type:d.targetType,targetId:d.targetId,targetConfig:""};return[].concat(n()(t),[De])})},a=b.WH===null||b.WH===void 0?void 0:b.WH.map(function(r){return{key:r.type,label:r.label,children:(0,l.jsx)(Z,{textClassName:"px-16",type:r.type,list:Ie(r.type),onDel:Me}),extra:(0,l.jsx)(o.Z,{title:"\u6DFB\u52A0".concat(r.label),onClick:function(t){return se(t,r.type)}})}});return{form:z,imageUrl:Ee,setImageUrl:ve,saveLoading:ee,setSaveLoading:te,saveDeployLoading:Re,setSaveDeployLoading:Le,checkTag:xe,openAddComponent:ie,setOpenAddComponent:O,mcpConfigComponentList:ne,setMcpConfigComponentList:k,addComponents:he,setAddComponents:ae,collapseActiveKey:oe,handleAddComponent:H,handleSave:fe,withDeployRef:K,collapseList:a}},de=x},58027:function(Ae,X,e){e.r(X),e.d(X,{default:function(){return P}});var R=e(26068),n=e.n(R),q=e(67825),i=e.n(q),f=e(48305),v=e.n(f),F=e(10802),D=e(34204),w=e(13943),g=e(68670),h=e(6377),M=e(10560),o=e(2617),L=e(11760),c=e(93686),N=e(64799),_=e(69626),C=e(45019),S=e(39373),p=e(26324),l=e(86230),Y=e(41249),B=e(28190),$=e(63619),V=e(51430),Z=e(94581),b=e.n(Z),y=e(75271),J=e(56179),x={"xagi-nav-style2":"xagi-nav-style2___QMzM_",text:"text___eHQ97","page-container":"page-container___aAAlW",container:"container___ni9eY","main-container":"main-container___W3V45","upload-box":"upload-box___YnmNN","sub-title":"sub-title___ouGpe","collapse-container":"collapse-container___PE3Yx"},de=e(61606),ge=e(9504),T={"xagi-nav-style2":"xagi-nav-style2___hJzT3",text:"text___zIKp3","page-container":"page-container___CrbtD",header:"header___JhhT6",icon:"icon___Kq1QD",name:"name___sCjTq","extra-box":"extra-box___KLfg7","save-btn":"save-btn___lrAkN"},u=e(52676),z=b().bind(T),_e=function(k){var s=k.spaceId,W=k.saveLoading,he=k.saveDeployLoading,ae=k.onCancel,Ce=k.onSave,A=k.onSaveAndDeploy;return(0,u.jsxs)("header",{className:z("flex","items-center",T.header),children:[(0,u.jsxs)("div",{className:z("flex","items-center","cursor-pointer"),onClick:function(){return(0,l.bC)("/space/".concat(s,"/mcp"))},children:[(0,u.jsx)(de.Z,{className:z("hover-box",T.icon)}),(0,u.jsx)("span",{className:T.name,children:"\u521B\u5EFAMCP\u670D\u52A1"})]}),(0,u.jsx)("div",{className:z("flex-1")}),(0,u.jsxs)("div",{className:z("flex","items-center",T["extra-box"]),children:[(0,u.jsx)(ge.ZP,{onClick:ae,children:"\u53D6\u6D88"}),(0,u.jsx)(ge.ZP,{className:z(T["save-btn"]),onClick:Ce,loading:W,children:"\u4FDD\u5B58"}),(0,u.jsx)(ge.ZP,{type:"primary",onClick:A,loading:he,children:"\u4FDD\u5B58\u5E76\u90E8\u7F72"})]})]})},ce=_e,Ee=["serverConfig"],ve=b().bind(x),Se=function(){var k=(0,J.useParams)(),s=Number(k.spaceId),W=(0,y.useState)(),he=v()(W,2),ae=he[0],Ce=he[1],A=(0,L.Z)(),ee=A.form,te=A.imageUrl,Fe=A.setImageUrl,U=A.saveLoading,Re=A.setSaveLoading,Le=A.saveDeployLoading,Oe=A.setSaveDeployLoading,we=A.checkTag,xe=A.openAddComponent,Q=A.setOpenAddComponent,pe=A.mcpConfigComponentList,re=A.addComponents,ie=A.collapseActiveKey,O=A.handleAddComponent,K=A.handleSave,fe=A.withDeployRef,Ie=A.collapseList;(0,y.useEffect)(function(){Ce(_.l_.NPX),ee.setFieldsValue({installType:_.l_.NPX})},[]);var Me=(0,J.useRequest)(c.Lk,{manual:!0,debounceInterval:300,onSuccess:function(H){Oe(!1),Re(!1);var a=fe.current?"\u5DF2\u5B8C\u6210\u4FDD\u5B58\u5E76\u63D0\u4EA4\u90E8\u7F72":"\u4FDD\u5B58MCP\u670D\u52A1\u6210\u529F";Y.ZP.success(a),J.history.replace("/space/".concat(s,"/mcp/edit/").concat(H.id))},onError:function(){Oe(!1),Re(!1)}}),se=Me.run,ye=function(H){var a=H.serverConfig,r=i()(H,Ee);if(ae===_.l_.COMPONENT){if(!(pe!=null&&pe.length)){Y.ZP.warning("\u8BF7\u9009\u62E9\u7EC4\u4EF6");return}}else if(!a){Y.ZP.warning("\u8BF7\u8F93\u5165MCP\u670D\u52A1\u914D\u7F6E");return}fe.current?Oe(!0):Re(!0);var d=ae===_.l_.COMPONENT?{serverConfig:"",components:pe}:{serverConfig:a,components:[]},t=n()(n()({},r),{},{spaceId:s,icon:te,mcpConfig:d,withDeploy:fe.current});se(t)};return(0,u.jsxs)("div",{className:ve(x.container,"flex","flex-col","h-full"),children:[(0,u.jsx)(ce,{spaceId:s,saveLoading:U,saveDeployLoading:Le,onCancel:function(){return(0,l.bC)("/space/".concat(s,"/mcp"))},onSave:function(){return K(!1)},onSaveAndDeploy:function(){return K(!0)}}),(0,u.jsx)("div",{className:ve("flex-1","overflow-y"),children:(0,u.jsxs)("div",{className:ve(x["main-container"]),children:[(0,u.jsx)(M.Z,{className:x["upload-box"],onUploadSuccess:Fe,imageUrl:te,defaultImage:F,svgIconName:"icons-workspace-mcp"}),(0,u.jsxs)(B.Z,{form:ee,preserve:!1,layout:"vertical",requiredMark:p.N,onFinish:ye,autoComplete:"off",children:[(0,u.jsx)(B.Z.Item,{name:"name",label:"\u670D\u52A1\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165MCP\u670D\u52A1\u540D\u79F0"}],children:(0,u.jsx)($.Z,{placeholder:"MCP\u670D\u52A1\u540D\u79F0",showCount:!0,maxLength:30})}),(0,u.jsx)(B.Z.Item,{name:"description",label:"\u63CF\u8FF0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0\u4F60\u7684MCP\u670D\u52A1"}],children:(0,u.jsx)($.Z.TextArea,{className:"dispose-textarea-count",placeholder:"\u63CF\u8FF0\u4F60\u7684MCP\u670D\u52A1",showCount:!0,maxLength:500,autoSize:{minRows:3,maxRows:5}})}),(0,u.jsx)(B.Z.Item,{name:"installType",label:"\u5B89\u88C5\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5B89\u88C5\u65B9\u5F0F"}],children:(0,u.jsx)(V.ZP.Group,{onChange:function(H){return Ce(H.target.value)},value:ae,options:o.VR})}),ae!==_.l_.COMPONENT?(0,u.jsx)(B.Z.Item,{name:"serverConfig",label:(0,u.jsxs)("div",{className:ve("flex","items-center"),children:[(0,u.jsx)("span",{children:"MCP\u670D\u52A1\u914D\u7F6E"}),(0,u.jsx)("span",{className:ve(x["sub-title"]),children:"MCP\u670D\u52A1\u4F7F\u7528json\u914D\u7F6E\uFF0C\u63D0\u4EA4\u524D\u786E\u4FDD\u683C\u5F0F\u6B63\u786E"})]}),rules:[{required:!0,message:"\u8BF7\u8F93\u5165MCP\u670D\u52A1\u914D\u7F6E"},{validator:function(H,a){return a?(0,S.tp)(a)?Promise.resolve():Promise.reject(new Error("\u8BF7\u8F93\u5165\u6709\u6548\u7684JSON\u683C\u5F0F")):Promise.resolve()}}],children:(0,u.jsx)(D.Z,{className:ve("w-full","radius-10","overflow-hide"),codeLanguage:C.vQ.JSON,height:"300px",codeOptimizeVisible:!1})}):(0,u.jsx)(B.Z.Item,{name:"components",label:(0,u.jsx)(h.Z,{label:"\u7EC4\u4EF6\u9009\u62E9"}),children:(0,u.jsx)(w.Z,{className:ve(x["collapse-container"]),items:Ie,defaultActiveKey:ie})})]})]})}),(0,u.jsx)(g.Z,{open:xe,onCancel:function(){return Q(!1)},checkTag:we,addComponents:re,onAdded:O,hideTop:[N.qR.MCP]})]})},P=Se},28359:function(Ae,X,e){var R=e(90228),n=e.n(R),q=e(87999),i=e.n(q),f=e(26068),v=e.n(f),F=e(67825),D=e.n(F),w=e(82092),g=e.n(w),h=e(64799),M=e(56179),o=["data"],L=["records"],c=["deployedConfig","deployStatus","id","creator"],N=g()(g()(g()(g()(g()(g()(g()(g()({},h.qR.Plugin,"/api/published/plugin/list"),h.qR.Workflow,"/api/published/workflow/list"),h.qR.Knowledge,"/api/published/knowledge/list"),h.qR.Table,"/api/published/composeTable/list"),h.qR.Variable,"/api/published/dataBase/list"),h.qR.Model,"/api/published/dataBase/list"),h.qR.Trigger,"/api/published/dataBase/list"),h.qR.Agent,"/api/published/agent/list");function _(Z){return(0,M.request)("/api/mcp/deployed/list",{method:"POST",data:Z}).then(function(b){var y=b.data,J=D()(b,o),x=y||{},de=x.records,ge=D()(x,L);return v()(v()({},J),{},{data:v()(v()({},ge),{},{records:de?.map(function(T){var u=T.deployedConfig,z=T.deployStatus,_e=T.id,ce=T.creator,Ee=D()(T,c);return v()(v()({},Ee),{},{status:z,targetId:_e,targetType:h.qR.MCP,publishUser:ce,config:u})})})})})}function C(Z,b){return S.apply(this,arguments)}function S(){return S=i()(n()().mark(function Z(b,y){return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(b!==h.qR.MCP){x.next=2;break}return x.abrupt("return",_(y));case 2:return x.abrupt("return",(0,M.request)("".concat(N[b]),{method:"POST",data:y}));case 3:case"end":return x.stop()}},Z)})),S.apply(this,arguments)}function p(Z,b){return l.apply(this,arguments)}function l(){return l=i()(n()().mark(function Z(b,y){return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,M.request)("/api/published/".concat(b,"/collect/list"),{method:"POST",data:y}));case 1:case"end":return x.stop()}},Z)})),l.apply(this,arguments)}function Y(Z,b){return B.apply(this,arguments)}function B(){return B=i()(n()().mark(function Z(b,y){return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,M.request)("/api/published/".concat(b,"/collect/").concat(y),{method:"POST",data:g()({},"".concat(b,"Id"),y)}));case 1:case"end":return x.stop()}},Z)})),B.apply(this,arguments)}function $(Z,b){return V.apply(this,arguments)}function V(){return V=i()(n()().mark(function Z(b,y){return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,M.request)("/api/published/".concat(b,"/unCollect/").concat(y),{method:"POST",data:g()({},"".concat(b,"Id"),y)}));case 1:case"end":return x.stop()}},Z)})),V.apply(this,arguments)}X.ZP={getList:C,collectList:p,collect:Y,unCollect:$}},48528:function(Ae,X,e){e.d(X,{Gh:function(){return Ee},Il:function(){return y},SR:function(){return u},T5:function(){return ge},TL:function(){return K},V5:function(){return pe},Wi:function(){return M},ah:function(){return p},bB:function(){return Ie},ds:function(){return se},ei:function(){return v},g3:function(){return L},gd:function(){return Z},h0:function(){return ie},pJ:function(){return C},qx:function(){return g},s2:function(){return oe},vn:function(){return ne}});var R=e(90228),n=e.n(R),q=e(87999),i=e.n(q),f=e(56179);function v(a){return F.apply(this,arguments)}function F(){return F=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/config/update",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),F.apply(this,arguments)}function D(a){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/config/list",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),w.apply(this,arguments)}function g(a){return h.apply(this,arguments)}function h(){return h=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/config/add",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),h.apply(this,arguments)}function M(a){return o.apply(this,arguments)}function o(){return o=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/config/detailById",{method:"GET",params:{id:r}}));case 1:case"end":return t.stop()}},a)})),o.apply(this,arguments)}function L(a){return c.apply(this,arguments)}function c(){return c=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/config/deleteById",{method:"GET",params:{id:r}}));case 1:case"end":return t.stop()}},a)})),c.apply(this,arguments)}function N(a){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/update",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),_.apply(this,arguments)}function C(a){return S.apply(this,arguments)}function S(){return S=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/document/updateDocName",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),S.apply(this,arguments)}function p(a){return l.apply(this,arguments)}function l(){return l=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/document/list",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),l.apply(this,arguments)}function Y(a){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/generateQA/".concat(r),{method:"POST"}));case 1:case"end":return t.stop()}},a)})),B.apply(this,arguments)}function $(a){return V.apply(this,arguments)}function V(){return V=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/doc/generateEmbeddings/".concat(r),{method:"POST"}));case 1:case"end":return t.stop()}},a)})),V.apply(this,arguments)}function Z(a){return b.apply(this,arguments)}function b(){return b=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/document/customAdd",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),b.apply(this,arguments)}function y(a){return J.apply(this,arguments)}function J(){return J=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/document/add",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),J.apply(this,arguments)}function x(a){return de.apply(this,arguments)}function de(){return de=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/doc/retryAllTaskByDays/".concat(r),{method:"GET"}));case 1:case"end":return t.stop()}},a)})),de.apply(this,arguments)}function ge(a){return T.apply(this,arguments)}function T(){return T=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/document/doc/autoRetryTaskByDocId/".concat(r),{method:"GET"}));case 1:case"end":return t.stop()}},a)})),T.apply(this,arguments)}function u(a){return z.apply(this,arguments)}function z(){return z=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/document/detailById",{method:"GET",params:{dataId:r}}));case 1:case"end":return t.stop()}},a)})),z.apply(this,arguments)}function _e(a){return ce.apply(this,arguments)}function ce(){return ce=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/queryDocStatus",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),ce.apply(this,arguments)}function Ee(a){return ve.apply(this,arguments)}function ve(){return ve=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/document/deleteById",{method:"GET",params:{id:r}}));case 1:case"end":return t.stop()}},a)})),ve.apply(this,arguments)}function Se(a){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/update",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function ne(a){return k.apply(this,arguments)}function k(){return k=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/rawSegment/list",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),k.apply(this,arguments)}function s(a){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/add",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),W.apply(this,arguments)}function he(a){return ae.apply(this,arguments)}function ae(){return ae=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/detailById",{method:"GET",params:{dataId:r}}));case 1:case"end":return t.stop()}},a)})),ae.apply(this,arguments)}function Ce(a){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/deleteById",{method:"GET",params:{id:r}}));case 1:case"end":return t.stop()}},a)})),A.apply(this,arguments)}function ee(a){return te.apply(this,arguments)}function te(){return te=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/update",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),te.apply(this,arguments)}function Fe(a){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/search",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),U.apply(this,arguments)}function Re(a){return Le.apply(this,arguments)}function Le(){return Le=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/list",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),Le.apply(this,arguments)}function Oe(a){return we.apply(this,arguments)}function we(){return we=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/add",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),we.apply(this,arguments)}function xe(a){return Q.apply(this,arguments)}function Q(){return Q=_asyncToGenerator(_regeneratorRuntime().mark(function a(r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/doc/embeddingStatus/".concat(r),{method:"GET"}));case 1:case"end":return t.stop()}},a)})),Q.apply(this,arguments)}function pe(a){return re.apply(this,arguments)}function re(){return re=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/qa/add",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),re.apply(this,arguments)}function ie(a){return O.apply(this,arguments)}function O(){return O=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/qa/list",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),O.apply(this,arguments)}function K(a){return fe.apply(this,arguments)}function fe(){return fe=i()(n()().mark(function a(r){var d;return n()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return d=new FormData,d.append("id",r.id.toString()),De.abrupt("return",(0,f.request)("/api/knowledge/qa/deleteById",{method:"POST",data:d}));case 3:case"end":return De.stop()}},a)})),fe.apply(this,arguments)}function Ie(a){return Me.apply(this,arguments)}function Me(){return Me=i()(n()().mark(function a(r){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/knowledge/qa/update",{method:"POST",data:r}));case 1:case"end":return t.stop()}},a)})),Me.apply(this,arguments)}function se(){return ye.apply(this,arguments)}function ye(){return ye=i()(n()().mark(function a(){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.request)("/api/knowledge/qa/downloadExcelTemplate",{method:"GET",responseType:"blob"}));case 1:case"end":return d.stop()}},a)})),ye.apply(this,arguments)}function oe(a){return H.apply(this,arguments)}function H(){return H=i()(n()().mark(function a(r){var d;return n()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return d=new FormData,d.append("file",r.file),d.append("kbId",r.kbId.toString()),De.abrupt("return",(0,f.request)("/api/knowledge/qa/importExcel",{method:"POST",data:d}));case 4:case"end":return De.stop()}},a)})),H.apply(this,arguments)}},53361:function(Ae,X,e){e.d(X,{Cw:function(){return L},Kt:function(){return v},Y$:function(){return N},jU:function(){return g},sN:function(){return D},xC:function(){return M}});var R=e(90228),n=e.n(R),q=e(87999),i=e.n(q),f=e(56179);function v(_){return F.apply(this,arguments)}function F(){return F=i()(n()().mark(function _(C){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,f.request)("/api/workflow/add",{method:"POST",data:C}));case 1:case"end":return p.stop()}},_)})),F.apply(this,arguments)}function D(_){return w.apply(this,arguments)}function w(){return w=i()(n()().mark(function _(C){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,f.request)("/api/workflow/update",{method:"POST",data:C}));case 1:case"end":return p.stop()}},_)})),w.apply(this,arguments)}function g(_,C){return h.apply(this,arguments)}function h(){return h=i()(n()().mark(function _(C,S){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/workflow/copy/".concat(C,"/").concat(S),{method:"POST"}));case 1:case"end":return l.stop()}},_)})),h.apply(this,arguments)}function M(_){return o.apply(this,arguments)}function o(){return o=i()(n()().mark(function _(C){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,f.request)("/api/workflow/delete/".concat(C),{method:"POST"}));case 1:case"end":return p.stop()}},_)})),o.apply(this,arguments)}function L(_){return c.apply(this,arguments)}function c(){return c=i()(n()().mark(function _(C){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,f.request)("/api/component/list/".concat(C),{method:"GET"}));case 1:case"end":return p.stop()}},_)})),c.apply(this,arguments)}function N(_){return(0,f.request)("/api/compose/db/table/copyTableDefinition",{method:"POST",params:_})}},93686:function(Ae,X,e){e.d(X,{$h:function(){return w},Ao:function(){return q},Be:function(){return f},Lk:function(){return D},NI:function(){return n},b9:function(){return F},ci:function(){return v},nO:function(){return h},uz:function(){return g},zt:function(){return i}});var R=e(56179);function n(o){return(0,R.request)("/api/mcp/update",{method:"POST",data:o})}function q(o){return(0,R.request)("/api/mcp/test",{method:"POST",data:o})}function i(o){return(0,R.request)("/api/mcp/stop/".concat(o),{method:"POST"})}function f(o){return(0,R.request)("/api/mcp/server/config/refresh/".concat(o),{method:"POST"})}function v(o){return(0,R.request)("/api/mcp/server/config/export/".concat(o),{method:"POST"})}function F(o){return(0,R.request)("/api/mcp/delete/".concat(o),{method:"POST"})}function D(o){return(0,R.request)("/api/mcp/create",{method:"POST",data:o})}function w(o){return(0,R.request)("/api/mcp/".concat(o),{method:"GET"})}function g(){return(0,R.request)("/api/mcp/official/list",{method:"GET"})}function h(o){return(0,R.request)("/api/mcp/list/".concat(o),{method:"GET"})}function M(o){return request("/api/mcp/deployed/list/".concat(o),{method:"GET"})}},99730:function(Ae,X,e){e.d(X,{Bj:function(){return D},G6:function(){return M},Gl:function(){return v},og:function(){return L}});var R=e(90228),n=e.n(R),q=e(87999),i=e.n(q),f=e(56179);function v(C){return F.apply(this,arguments)}function F(){return F=i()(n()().mark(function C(S){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/model/save",{method:"POST",data:S}));case 1:case"end":return l.stop()}},C)})),F.apply(this,arguments)}function D(C){return w.apply(this,arguments)}function w(){return w=i()(n()().mark(function C(S){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/model/list",{method:"POST",data:S}));case 1:case"end":return l.stop()}},C)})),w.apply(this,arguments)}function g(C){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function C(S){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/api/model/list/space/".concat(S),{method:"POST"}));case 1:case"end":return l.stop()}},C)})),h.apply(this,arguments)}function M(C){return o.apply(this,arguments)}function o(){return o=i()(n()().mark(function C(S){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/model/".concat(S),{method:"GET"}));case 1:case"end":return l.stop()}},C)})),o.apply(this,arguments)}function L(C){return c.apply(this,arguments)}function c(){return c=i()(n()().mark(function C(S){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/model/".concat(S,"/delete"),{method:"GET"}));case 1:case"end":return l.stop()}},C)})),c.apply(this,arguments)}function N(){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function C(){return _regeneratorRuntime().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",request("/api/model/test",{method:"GET"}));case 1:case"end":return p.stop()}},C)})),_.apply(this,arguments)}},10802:function(Ae){Ae.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAYAAAAdHLWhAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAbsSURBVHic7Zw/TBtXHMe/7xmDy9D4xJApKllCN7NFYihEkcpERZayVaAEVHUJkTqXo3MkyBKhkChWtnQJKVOrRjVLKja8NVniqEuHIh+Vyj/D/TqYcy/Hs3ln+917577Pxv3zz/e997l3751haJM7bnWCMV4A0QQYGwYwDCDf7vF6DA+AB6IdMFYi8suPXafUzoFYnI2/dqvDp+BLYJhAPRCLPB6R/+AEWC26jie7k1RAoWBm2y7PEuAxQvEY/rJMUBcGNO9WZ8H4EmyL6TaeT/7cE9fZaLVRy4AW3L0VYljsbl2WMIyw+si9dK/petHCWbeaz/LMUxBNqyvN0oCxjZp/OidSXp9oextOwhBNZ3kGAG5FV/HoggV3b8WGowGi6QV3byW6+APF3Xar05zxF8lVZTkH+XPrrlMM/mwENOtW81nG38E+bOqmkiH/xprrVICQ4vrBl2DDMYH6M+cZDLCtx0Qy5F9dc50KB4A+YBE2HKMIWhEHAMb4Xb3lWM5RH+8EOxuV/lVzORYBRP4Nzhgv6C7EIoYxXuAgmtBdiKUJRBMcjI3qrsPSBMaGOWzvzWRsQIaTPzdYajEL4XRDWhkdqX+dt+9PsX9ImqvpDj0R0Fghi6nxAQydCWHX8/H8p0PsvDnRXFnnpDqgoTzHzOcDGP00e275NzODeFs5wdMfD7Hr+Zoq7Bw2v7yXOhcM5hhuXu/H1PiA1PabW0d4tX2cSu2lrgVFdSbD1PgAxgrZVGovNQE101mc/dOoPeMVF1dnsqRFe0a3oHZ0JktatGdkQJ3qLM7nmK49oxSnSmeymKg9Y1qQSp3JYqL2tAeUlM5kMU172hSnW2ey6NaelhZkgs5k0a29RAMyTWey6NReIopLi85kSVJ7ylvQUJ7j268GU6EzWQLt3X+2r7w1KT9rY4VsT4UTMJTnGCuoV7XyM/e6XNPeVVXBrufjdbmm/HPsPagNeuoeBAD7h4TNrSO8Ltcw90UO14a1Px+3xc7vNTz/+aj3enFRRkf6MDOZS829adfzGxdY0mi5lHfenODt+39Sob3/5UgCYL72dOhMhDHTDaZoT6fORBhz2ZqgPd06E2FMQIA+7ZmiMxGJ+2R0pA+Dudb/w2nX83H/2T4ePlc7lLLr+Si+PMDDHw6kPufK5eT1m1gLGsrzxhhWcGLevD9tuY9K7cXRWXh6JOkR7UQ6CVPjA8ITHOfLDuV5V7QXR2fhiyrM/iHh1fYxNreOOqpFBuUB3bzej5nJXNP1wZeVvZrb7e3F7Z01u6jCFF8eKO/tKVfcwQUnfTDHGlepKu21qzMTSERxY4UsvpzMXdg5ALqrvW7oTESSz0qJPagGLeXm9f4Lt+1Ueyp0FvBq+xi/bB/3VichzJXLHDOTcjd72d4e8N+UBgAlOvvjz1Pp7ng30TbUo0p7MpiqMxFax+JUaq8ZJutMhBGDpaq0FyYNOhNhREABKrSXJp2JMCogoLvaS5vORBgXUEAn2kurzkQkGtBQnmPqs378Vq5J30Piau+vPVKis7FCFqMjfb350ojotas4Xec42pMhjs5E97AkJ/aUB9Tq1d+4Xec42hMRV2et7mHBnJXq1qQ8IJkbddyucxztBcePqzOZe9jm1pHyKQetLSiKCu11qrNm9EwLAuK9+tst7XVTZ1F66h4UJs6saLvaOwi9eCK7n2yX3L76KyCu9j7KsVTP/0RJxY+IuzVQGmCqzkRoH0lQqb0oputMhPaAAlRpD0iPzkQYExCgRntp0pkIowIK6Ib20qgzEUYGFNCO9gCkVmcijA4IiK892eEfE3UmwviAAnS8+msCqQkoIKlXf03BqN8HyaD61V/TSF1AgPwPvdKmMxGpU5yITl/9NZlUtqAogfaufZJp/N0r9ERAQF17vRRMgBk/grE0hQPwdBdhaYrHAVR0V2FpisdBVNFdhaUJRDscjJV012FpAmMlTuSXdddhEUPklxkAzC/vvQMwrLccSwRvfemSU+9mE0p6a7FEIfIfAGfPQRn4y3rLsUTwToBV4CygNdepgFDUWpKlASMUi67jAaGRhLNWVNFVlKWBdxwyWiOgeiuyqtONT/5c0HqAyFjcuusUGdXdZ0keRlh94jobHywTbTj//d8vQDSdTFkWAABjG+vffXwrulg4ml3zT+fA2IZonUUBjG3U/NM54apW+y24eyvEsKimKgtQ19oj99K9pusvOsBttzrNGX8KIN/VyiwVkL+87jrFVhtdOGH3xHU2auRfPes82LmjbkAoZsi/cVE4gEQLCjPrVvN9wCJj/C5si4pLBYRSBv7ymutUZHeKFVCYO251gjFeANEEGBtFPTAbWh0PQAVEFTBWIvLLj12n1M6B/gWdLkpDqhynIgAAAABJRU5ErkJggg=="}}]);})();
