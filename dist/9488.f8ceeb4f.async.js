"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[9488],{88042:function(V,ie,r){r.d(ie,{Z:function(){return F}});var se=r(22675),P=r(94184),R=r.n(P),j=r(67294),Q={avatar:"avatar___Q6WBB",nickname:"nickname___pjZCy"},w=r(85893),D=R().bind(Q),le=function(Z){var ce=Z.className,de=Z.icon,X=Z.name,g=Z.extra;return(0,w.jsxs)("div",{className:D("flex","flex-col","items-center","content-center",ce),children:[(0,w.jsx)("img",{className:D(Q.avatar),src:de||se,alt:""}),(0,w.jsx)("h3",{className:D("w-full","text-ellipsis",Q.nickname),children:X}),g]})},F=le},69478:function(V,ie,r){r.d(ie,{Z:function(){return En}});var se=r(9783),P=r.n(se),R=r(5574),j=r.n(R),Q=r(22675),w=r(78987),D=r(72611),le=r(32544),F=r(75216),je=r(19632),Z=r.n(je),ce=r(13769),de=r.n(ce),X=r(97857),g=r.n(X),A=r(94184),b=r.n(A),ne=r(96486),Ue=r(9980),ke=r.n(Ue),f=r(67294),z=r(12444),Je=r.n(z),Ke=r(72004),He=r.n(Ke),ue=r(19515),x=r(45360),be=function(){function i(){Je()(this,i),P()(this,"registeredFunctions",new Set),P()(this,"copyCallbacks",new Set),P()(this,"showDefaultCopyMessage",!0)}return He()(i,[{key:"registerClipboardHandler",value:function(){if(!this.registeredFunctions.has("handleClipboard")){var o=this;window.handleClipboard=function(n,t){var e=n.getAttribute("data-code")||"";if(!e){var l,d=n==null||(l=n.closest(".code-block-wrapper"))===null||l===void 0?void 0:l.querySelector(".code-content");e=d?.textContent||""}if(e=e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),!e){x.ZP.error("\u590D\u5236\u5931\u8D25\uFF1A\u672A\u627E\u5230\u4EE3\u7801\u5185\u5BB9");return}navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(function(){t?t(e):o.triggerCopyCallbacks()},function(u){console.error("\u590D\u5236\u5931\u8D25:",u),x.ZP.error("\u590D\u5236\u5931\u8D25"),(0,ue.dY)(e,t)}):(0,ue.dY)(e,t)},this.registeredFunctions.add("handleClipboard")}}},{key:"registerImageModal",value:function(){if(!this.registeredFunctions.has("showImageInModal")){var o="image-overlay";window.showImageInModal=function(n){var t=document.createElement("div");t.className=o,t.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        opacity: 0;
        transition: opacity 0.3s ease;
        cursor: pointer;
      `;var e=document.createElement("img");e.src=n,e.style.cssText=`
        max-width: 90%;
        max-height: 90%;
        object-fit: contain;
        transform: scale(0.9);
        transition: transform 0.3s ease;
        cursor: zoom-in;
      `,t.appendChild(e),document.body.appendChild(t),t.addEventListener("wheel",function(l){l.preventDefault();var d=window.getComputedStyle(e).transform,u=new DOMMatrix(d),v=u.a,c=l.deltaY<0?v+.3:v-.4,m=Math.max(.1,Math.min(5,c));e.style.transform="scale(".concat(m,")")}),setTimeout(function(){t.style.opacity="1",e.style.transform="scale(1)"},10),t.addEventListener("click",function(){t.style.opacity="0",e.style.transform="scale(0.9)",setTimeout(function(){t?.remove()},300)})},this.registeredFunctions.add("showImageInModal")}}},{key:"registerCodeCollapse",value:function(){this.registeredFunctions.has("toggleCodeCollapse")||(window.toggleCodeCollapse=function(o){var n=o.closest(".code-block-wrapper"),t=n?.querySelector(".code-body"),e=o.querySelector(".collapse-text");if(n&&t&&e){var l=n.classList.contains("collapsed");l?(n.classList.remove("collapsed"),e.textContent="\u6298\u53E0"):(n.classList.add("collapsed"),e.textContent="\u5C55\u5F00")}},this.registeredFunctions.add("toggleCodeCollapse"))}},{key:"registerAllFunctions",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o.handleClipboard,t=n===void 0?!0:n,e=o.showImageInModal,l=e===void 0?!0:e,d=o.toggleCodeCollapse,u=d===void 0?!0:d;t&&this.registerClipboardHandler(),l&&this.registerImageModal(),u&&this.registerCodeCollapse()}},{key:"cleanup",value:function(o){var n=this,t=o||Array.from(this.registeredFunctions);t.forEach(function(e){e in window&&(delete window[e],n.registeredFunctions.delete(e))})}},{key:"cleanupAll",value:function(){this.cleanup()}},{key:"getRegisteredFunctions",value:function(){return Array.from(this.registeredFunctions)}},{key:"addCopyCallback",value:function(o){this.copyCallbacks.add(o)}},{key:"removeCopyCallback",value:function(o){this.copyCallbacks.delete(o)}},{key:"triggerCopyCallbacks",value:function(){this.copyCallbacks.size>0?this.copyCallbacks.forEach(function(o){try{o()}catch(n){console.error("\u590D\u5236\u56DE\u8C03\u6267\u884C\u5931\u8D25:",n)}}):this.showDefaultCopyMessage&&x.ZP.success("\u590D\u5236\u6210\u529F")}},{key:"setShowDefaultCopyMessage",value:function(o){this.showDefaultCopyMessage=o}},{key:"getCopyCallbackCount",value:function(){return this.copyCallbacks.size}}],[{key:"getInstance",value:function(){return i.instance||(i.instance=new i),i.instance}}]),i}();P()(be,"instance",void 0);var Me=be.getInstance(),Ye=r(48340),J=function(a){return'<div class="mermaid-wrapper code-block-wrapper" id="'.concat(a,`">
      <div class="markdown-code-toolbar-container" 
        data-language="mermaid" 
        data-content=""
        data-container-id="`).concat(a,`">
      </div>
    <div class="mermaid-container"><div class="alert alert-danger">\u6E32\u67D3\u4E2D...</div></div></div>`)};function Oe(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ye.o.initialize(Object.assign({securityLevel:"loose"},a));function o(l){return l.split(/\s+/g)[0]}var n=i.renderer.rules.fence,t="";function e(l,d,u,v,c){var m=l[d],h=m.info.trim(),B=h?o(h):"";if(["mermaid","{mermaid}"].indexOf(B)===-1)return n!==void 0?n(l,d,u,v,c):"";var p=m.meta||{},C="".concat(p.requestId,"-").concat(p.id);if(!p.nextId)return J(C);var y="",S=[],T=document.createElement("div");document.body.appendChild(T);try{var I="mermaid-container";Ye.o.mermaidAPI.render(I,m.content,function(ye){var Qe=document.getElementById(I);if(Qe!==null){var Le=Qe.style,Ne=Le.maxWidth,Pe=Le.maxHeight,Xe="";Object.entries({"max-width":Ne,"max-height":Pe}).forEach(function(E){var N=j()(E,2),M=N[0],O=N[1];O&&(Xe+="".concat(M,":").concat(O,";"))}),S.push(["style",Xe])}y=ye,t=ye},T)}catch(ye){return y=t,console.warn("Mermaid\u6E32\u67D3\u9519\u8BEF:",ye),J(C)}finally{T.remove(),t=""}S.push(["src","data:image/svg+xml,".concat(encodeURIComponent(y))]);var k=encodeURIComponent(m.content);return'<div class="mermaid-wrapper code-block-wrapper" id="'.concat(C,`">
      <div class="markdown-code-toolbar-container" 
        data-language="mermaid" 
        data-content="`).concat(k,`"
        data-container-id="`).concat(C,`">
      </div>
      <div class="mermaid-container">
        <img class="mermaid-container-img markdownItImageClickable" `).concat(c.renderAttrs({attrs:S}),` />
      </div>
    </div>`)}i.renderer.rules.fence=e}var $e=r(45529),We=r(16051),Re=r.n(We),ve={name:"katex",plugin:$e.Z,options:{delimiters:[{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$$",right:"$$",display:!1}]}},Ce={name:"multimd-table",plugin:Re(),options:{multiline:!0,rowspan:!0,headerless:!1,multibody:!0,aotolabel:!0}},De={name:"mermaid",plugin:Oe,options:{delay:100,throttleDelay:200,theme:"default",securityLevel:"loose",suppressErrors:!0}},me={basic:function(){return{markdownItOptions:{html:!0,xhtmlOut:!0,breaks:!0,linkify:!0,typographer:!0,quotes:`""''`},plugins:[],globalFunctions:{handleClipboard:!0,showImageInModal:!0,toggleCodeCollapse:!0}}},standard:function(){return{markdownItOptions:{html:!0,xhtmlOut:!0,breaks:!0,linkify:!0,typographer:!0,quotes:`""''`},plugins:[ve,Ce],globalFunctions:{handleClipboard:!0,showImageInModal:!0,toggleCodeCollapse:!0}}},full:function(){return{markdownItOptions:{html:!0,xhtmlOut:!0,breaks:!0,linkify:!0,typographer:!0,quotes:`""''`},plugins:[ve,Ce,De],globalFunctions:{handleClipboard:!0,showImageInModal:!0,toggleCodeCollapse:!0},cssClasses:{codeHeader:"code-header",copyImg:"copy-img",extBox:"ext-box"}}},chat:function(){return{markdownItOptions:{html:!0,xhtmlOut:!0,breaks:!0,linkify:!0,typographer:!0,quotes:`""''`},plugins:[ve,Ce,De],globalFunctions:{handleClipboard:!0,showImageInModal:!0,toggleCodeCollapse:!0},cssClasses:{codeHeader:"code-header",copyImg:"copy-img",extBox:"ext-box"}}}},K={katex:ve,multimdTable:Ce,mermaid:De},L=r(89575),ae=r(15660),$=r.n(ae),oe=r(87013),Ze=r(45477),q=r(17706),ct=r(30235),Nn=r(92771),Bn=r(8674),Sn=r(81233),jn=r(44002),bn=r(61762),Mn=r(90047),On=r(9509),Rn=r(93972),Dn=r(77424),Zn=r(29208),Fn=r(64297),wn=r(23683),Gn=r(82720),Tn=r(44833),Qn=r(76456),Ln=r(56252),At=function(a){if(typeof a!="string")return"";var o=document.createElement("div");return o.textContent=a,o.innerHTML},qe=function(){try{var i=ke()();return i.utils}catch{return null}}(),_e=function(a){return qe&&qe.escapeHtml?qe.escapeHtml(a):At(a)},xt=function(a){var o,n=((o=a.info)===null||o===void 0?void 0:o.trim().split(/\s+/g)[0])||"text",t=a.content,e="";if(n&&$().languages[n])try{var l=$().highlight(t,$().languages[n],n);e='<pre class="language-'.concat(n,'"><code class="language-').concat(n,'">').concat(l,"</code></pre>")}catch{e="<pre><code>".concat(_e(t),"</code></pre>")}else e="<pre><code>".concat(_e(t),"</code></pre>");return e},dt=xt;function yt(i){return i.children?i.children.map(function(a){return a.type==="text"?a.content:a.type==="code_inline"?"`".concat(a.content,"`"):a.type==="strong_open"||a.type==="strong_close"?"**":a.type==="em_open"||a.type==="em_close"?"*":""}).join(""):""}function ut(i,a){for(var o=[],n=a+1;n<i.length&&i[n].type!=="tr_close";){var t=i[n];if(t.type==="th_open"||t.type==="td_open"){var e="";for(n++;n<i.length&&i[n].type!=="th_close"&&i[n].type!=="td_close";)i[n].type==="inline"&&(e+=yt(i[n])),n++;o.push(e.trim())}n++}return o}function Nt(i,a){for(var o=a+1,n=[],t=!1;o<i.length&&i[o].type!=="table_close";){var e=i[o];if(e.type==="thead_open")for(o++;o<i.length&&i[o].type!=="thead_close";){if(i[o].type==="tr_open"){var l=ut(i,o);if(n.push("| ".concat(l.join(" | ")," |")),!t){var d=l.map(function(){return"---"});n.push("| ".concat(d.join(" | ")," |")),t=!0}for(;o<i.length&&i[o].type!=="tr_close";)o++}o++}else if(e.type==="tbody_open")for(o++;o<i.length&&i[o].type!=="tbody_close";){if(i[o].type==="tr_open"){var u=ut(i,o);for(n.push("| ".concat(u.join(" | ")," |"));o<i.length&&i[o].type!=="tr_close";)o++}o++}o++}return n.join(`
`)}var Bt=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=a.codeBlockWrapper,n=o===void 0?"code-block-wrapper":o,t=a.customTable,e=t===void 0?"markdown-it-custom-table":t,l={html_block:function(u,v){return(0,L.F1)(u[v].content)},image:function(u,v){var c,m=u[v],h=m.attrGet?m.attrGet("src"):"",B=m.attrGet&&m.attrGet("alt")||"";return(c=m.meta)!==null&&c!==void 0&&c.nextId?`<span class="markdownItImageContainer">
        <img 
          src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E%3C/svg%3E" 
          data-src="`.concat(h,`" 
          alt="`).concat(_e(B),`" 
          class="markdownItImageClickable markdownItLazyImage"
          loading="lazy"
          onload="this.classList.add('loaded'); if(this.dataset.src && this.src !== this.dataset.src) {this.src = this.dataset.src;}"
          onerror="this.classList.add('error'); this.style.display = 'none';"
        />
      </span>`):`<span class="markdownItImageContainer">
        <img 
          src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E%3C/svg%3E" 
          class="markdownItLazyImage"
        />
      </span>`},fence:function(u,v){var c,m=u[v],h=((c=m.info)===null||c===void 0?void 0:c.trim().split(/\s+/g)[0])||"text",B=m.content,p=B.split(`
`).length-1,C=m.meta||{},y="".concat(C.requestId,"-").concat(C.id),S=dt(m);return'<div class="'.concat(n,'" id="').concat(y,`">
      <div class="markdown-code-toolbar-container" 
        data-language="`).concat(h,`" 
        data-content="`).concat(encodeURIComponent(B),`"
        data-line-count="`).concat(p,`"
        data-container-id="`).concat(C.requestId,`"
        data-id="`).concat(y,`">
      </div>
      `).concat(S,`
    </div>`)},table_open:function(u,v){var c=u[v+1],m=c.meta||{},h="".concat(m?.requestId||"","-").concat(m?.id||"");return'<div class="'.concat(e,'" id="').concat(h,`">
      <div class="markdown-code-toolbar-container" 
        data-title="\u8868\u683C" 
        data-language="text"
        data-container-id="`).concat(m?.requestId||"",`"
        data-id="`).concat(h,`"
        data-content="`).concat(encodeURIComponent(Nt(u,v)),`"
        ></div>
      <table>`)},table_close:function(){return"</table></div>"}};return l},vt=r(49215),H=r(95141),St=r(63606),jt=r(45742),et=r(57132),pe=r(83062),Ie=r(85804),tt=r(39902),Y={"markdown-custom-process":"markdown-custom-process___XbvIR","process-header":"process-header___PbJv3","process-title":"process-title___D5O_C","process-controls":"process-controls___dihqk","status-completed":"status-completed___MeIxv",anticon:"anticon___IplOJ","status-running":"status-running___DB0Uo","loading-spinner":"loading-spinner___UooYw",spin:"spin___XLinb","status-error":"status-error___YZemo","control-btn":"control-btn___ufUOD","process-controls-actions":"process-controls-actions___qY3sV","process-content":"process-content___ntUHU","default-content":"default-content___IvKuJ"},bt=r(58594),Mt=r(30881),Ot=r(66015),Rt=r(85576),Ee={"see-detail-modal":"see-detail-modal___O4Htz","see-detail-header":"see-detail-header___ckdmQ","see-detail-header-title":"see-detail-header-title___aaWbf","see-detail-header-actions":"see-detail-header-actions___Kj3tI","see-detail-content":"see-detail-content___K7JsV"},s=r(85893),Fe=b().bind(Ee),Dt=function(a){var o=a.visible,n=a.onClose,t=a.data,e=a.title,l=(0,f.useCallback)(function(){t&&(0,Ot.Nq)(t,2,function(){x.ZP.success("\u590D\u5236\u6210\u529F")})},[t]);return!t||!o?null:(0,s.jsx)(Rt.Z,{open:o,onCancel:n,footer:null,width:800,className:Fe(Ee["see-detail-modal"]),destroyOnClose:!0,title:(0,s.jsxs)("div",{className:Fe(Ee["see-detail-header"]),children:[(0,s.jsx)("div",{className:Fe(Ee["see-detail-header-title"]),children:e}),(0,s.jsx)("div",{className:Fe(Ee["see-detail-header-actions"]),children:(0,s.jsx)(pe.Z,{title:"\u590D\u5236",children:(0,s.jsx)(Ie.ZP,{type:"text",icon:(0,s.jsx)(et.Z,{}),onClick:l})})})]}),children:(0,s.jsx)("div",{className:Fe(Ee["see-detail-content"]),children:(0,s.jsx)(bt.Z,{height:"400px",codeLanguage:Mt.vQ.JSON,value:JSON.stringify(t,null,2),codeOptimizeVisible:!1,minimap:!1,readOnly:!0})})})},Zt=Dt,_=b().bind(Y);function Ft(i){var a=(0,tt.useModel)("chat"),o=a.getProcessingById,n=a.processingList,t=(0,f.useState)(null),e=j()(t,2),l=e[0],d=e[1],u=(0,f.useState)(g()({},i)),v=j()(u,2),c=v[0],m=v[1],h=(0,f.useState)(!1),B=j()(h,2),p=B[0],C=B[1];(0,f.useEffect)(function(){if(c.status===H.Xk.EXECUTING){var I=o(c.executeId);I&&I.status!==c.status&&m(I)}},[n,c.executeId]);var y=(0,f.useCallback)(function(){switch(c.status){case H.Xk.FINISHED:return(0,s.jsxs)("div",{className:_(Y["status-completed"]),children:[(0,s.jsx)(St.Z,{}),"\u5DF2\u5B8C\u6210"]});case H.Xk.EXECUTING:return(0,s.jsxs)("div",{className:_(Y["status-running"]),children:[(0,s.jsx)("div",{className:_(Y["loading-spinner"])}),"\u8FD0\u884C\u4E2D"]});case H.Xk.FAILED:return(0,s.jsx)("div",{className:_(Y["status-error"]),children:"\u274C \u9519\u8BEF"});default:return null}},[c.status]),S=(0,f.useCallback)(function(){if(!l){x.ZP.error("\u6682\u65E0\u6570\u636E");return}(0,ue.Nq)(l,2,function(){x.ZP.success("\u590D\u5236\u6210\u529F")})},[l]),T=(0,f.useCallback)(function(I){if(!I)return null;var k=(0,L.Xh)(I);return{params:k.input||{},response:k.data||null}},[]);return(0,f.useEffect)(function(){if(c.executeId&&c.status===H.Xk.FINISHED){var I=T(c.result);if((0,ne.isEqual)(I,l))return;d(I)}},[c.executeId,c.status]),c.executeId?(0,s.jsxs)("div",{className:_(Y["markdown-custom-process"]),children:[(0,s.jsxs)("div",{className:_(Y["process-header"]),children:[(0,s.jsx)("div",{className:_(Y["process-title"]),children:c.name||"\u6682\u65E0\u540D\u79F0"}),(0,s.jsxs)("div",{className:_(Y["process-controls"]),children:[y(),(0,s.jsxs)("div",{className:_(Y["process-controls-actions"]),children:[(0,s.jsx)(pe.Z,{title:"\u67E5\u770B\u8BE6\u60C5",children:(0,s.jsx)(Ie.ZP,{type:"text",icon:(0,s.jsx)(jt.Z,{}),onClick:function(){return C(!0)}})}),(0,s.jsx)(pe.Z,{title:"\u590D\u5236",children:(0,s.jsx)(Ie.ZP,{type:"text",icon:(0,s.jsx)(et.Z,{}),onClick:S})})]})]})]}),(0,s.jsx)(Zt,{title:c.name||"\u6682\u65E0\u540D\u79F0",visible:p,onClose:function(){return C(!1)},data:l},c.executeId)]}):null}var wt=(0,f.memo)(Ft,function(i,a){return i.executeId===a.executeId&&i.status===a.status}),Gt=r(89035),Tt=r(23430),Qt=r(50136),Ae={toolbar:"toolbar___Iga8_",toolbarContainer:"toolbarContainer___RhSiZ",info:"info___LE9SI",title:"title___iZdu2",lineCount:"lineCount___MBq6Q",zoomLevel:"zoomLevel___ZXkXD",actions:"actions___CrX20","ant-dropdown-menu":"ant-dropdown-menu___TogNW","ant-dropdown-menu-item":"ant-dropdown-menu-item___kVN2S",anticon:"anticon___VvVoP","ant-btn-sm":"ant-btn-sm___pHg0o","ant-btn-icon-only":"ant-btn-icon-only___CiLdQ"},Lt={MERMAID:"mermaid"},xe={MARKDOWN_CODE_TOOLBAR_CONTAINER:".markdown-code-toolbar-container",MERMAID_CONTAINER:".mermaid-container",MERMAID_SOURCE_CODE:".mermaid-source-code",MERMAID_CONTAINER_IMG:".mermaid-container-img"},mt={TEXTAREA:{FONT_SIZE:"16px",POSITION:"fixed",LEFT:"-999999px",TOP:"-999999px"},DISPLAY:{BLOCK:"block",NONE:"none"}},Pn={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&"},ee={COPY_FAILED:"\u590D\u5236\u5931\u8D25",COPY_FAILED_NO_CONTENT:"\u590D\u5236\u5931\u8D25\uFF1A\u672A\u627E\u5230\u4EE3\u7801\u5185\u5BB9",COPY_SUCCESS:"\u590D\u5236\u6210\u529F",COPYING:"\u590D\u5236\u4E2D",DOWNLOAD_FAILED:"\u4E0B\u8F7D\u5931\u8D25",DOWNLOAD_PNG_SUCCESS:function(a,o){return"PNG\u56FE\u7247\u4E0B\u8F7D\u6210\u529F (".concat(a,"\xD7").concat(o,")")},DOWNLOAD_SVG_SUCCESS:"SVG\u56FE\u7247\u4E0B\u8F7D\u6210\u529F",IMAGE_NOT_FOUND:"\u672A\u627E\u5230\u56FE\u7247\u5143\u7D20",IMAGE_LOAD_FAILED:"\u56FE\u7247\u52A0\u8F7D\u5931\u8D25",CANVAS_FAILED:"\u4E0B\u8F7D\u5931\u8D25",SIZE_GET_FAILED:"\u65E0\u6CD5\u83B7\u53D6\u56FE\u7247\u539F\u59CB\u5C3A\u5BF8",PNG_GENERATE_FAILED:"\u751F\u6210PNG\u5931\u8D25",SVG_DATA_FAILED:"\u65E0\u6CD5\u83B7\u53D6SVG\u6570\u636E"},ge={PNG:{MIME_TYPE:"image/png",QUALITY:1,SCALE_FACTOR:10},SVG:{MIME_TYPE:"image/svg+xml",DATA_PREFIX:"data:image/svg+xml,"}},Pt={POSITION_CALCULATION:300},gt={SMOOTHING_ENABLED:!0,SMOOTHING_QUALITY:"high"},ft=function(a,o){var n,t=(n=document.getElementById(a))===null||n===void 0?void 0:n.querySelector(xe.MARKDOWN_CODE_TOOLBAR_CONTAINER),e=t?.dataset||{},l=e.content,d=e.title,u=e.language;return{content:l?decodeURIComponent(l):o.content,title:d||o.title,language:u||o.language}},Ut=function(a,o,n){if(!a)return o;var t=document.getElementById(a);if(!t)return o;var e=t.querySelector(xe.MERMAID_CONTAINER);if(!e)return o;var l=t.querySelector(xe.MERMAID_SOURCE_CODE);if(o)e.style.display=mt.DISPLAY.BLOCK,l&&l.remove();else{e.style.display=mt.DISPLAY.NONE;var d=dt({info:"mermaid",content:n}),u=document.createElement("div");u.className=xe.MERMAID_SOURCE_CODE.slice(1),u.innerHTML=d,t.appendChild(u)}return!o},kt=function(a){var o;if(a){var n=(o=document.getElementById(a))===null||o===void 0?void 0:o.querySelector(xe.MERMAID_CONTAINER_IMG);if(!n){x.ZP.error(ee.IMAGE_NOT_FOUND);return}var t=document.createElement("canvas"),e=t.getContext("2d");if(!e){x.ZP.error(ee.CANVAS_FAILED);return}var l=function(){var u=n.naturalWidth*ge.PNG.SCALE_FACTOR,v=n.naturalHeight*ge.PNG.SCALE_FACTOR;if(u===0||v===0){x.ZP.error(ee.SIZE_GET_FAILED);return}t.width=u,t.height=v,e.imageSmoothingEnabled=gt.SMOOTHING_ENABLED,e.imageSmoothingQuality=gt.SMOOTHING_QUALITY,e.drawImage(n,0,0,u,v),t.toBlob(function(c){if(c){var m=URL.createObjectURL(c),h=document.createElement("a");h.href=m,h.download="mermaid-chart-".concat(Date.now(),".png"),h.click(),URL.revokeObjectURL(m),x.ZP.success(ee.DOWNLOAD_PNG_SUCCESS(u,v))}else x.ZP.error(ee.PNG_GENERATE_FAILED)},ge.PNG.MIME_TYPE,ge.PNG.QUALITY)};n.complete&&n.naturalWidth!==0?l():(n.onload=l,n.onerror=function(){x.ZP.error(ee.IMAGE_LOAD_FAILED)})}},Ht=function(a){var o;if(a){var n=(o=document.getElementById(a))===null||o===void 0?void 0:o.querySelector(xe.MERMAID_CONTAINER_IMG);if(!n){x.ZP.error(ee.IMAGE_NOT_FOUND);return}var t=n.src;if(t.startsWith(ge.SVG.DATA_PREFIX)){var e=decodeURIComponent(t.replace(ge.SVG.DATA_PREFIX,"")),l=new Blob([e],{type:ge.SVG.MIME_TYPE}),d=URL.createObjectURL(l),u=document.createElement("a");u.href=d,u.download="mermaid-chart-".concat(Date.now(),".svg"),u.click(),URL.revokeObjectURL(d),x.ZP.success(ee.DOWNLOAD_SVG_SUCCESS)}else x.ZP.error(ee.SVG_DATA_FAILED)}},Yt=r(15009),ht=r.n(Yt),Wt=r(99289),Vt=r.n(Wt),Xt=function(a,o,n,t){var e=(0,f.useState)({top:0,left:0,width:0}),l=j()(e,2),d=l[0],u=l[1],v=(0,f.useCallback)(function(m,h){var B=document.getElementById(h);if(!B){console.warn("\u672A\u627E\u5230 id: ".concat(h," \u5BF9\u5E94\u7684\u5143\u7D20"));return}var p=document.getElementById(m);if(!p){console.warn("\u672A\u627E\u5230 markdown-container \u7236\u5143\u7D20");return}var C=ft(h,{content:n.content,title:n.title,language:n.language});t(function(k){return g()(g()({},k),{},{content:C.content,title:C.title})});var y=B.getBoundingClientRect(),S=p.getBoundingClientRect(),T=y.top-S.top,I=y.left-S.left;u({width:y.width,top:T,left:I})},[n.content,n.title,n.language,t]),c=(0,ne.debounce)(function(){v(a,o)},200);return(0,f.useEffect)(function(){if(!(!o||!a)){var m=setTimeout(function(){var h;v(a,o),(h=document.getElementById(o))===null||h===void 0||h.addEventListener("resize",c)},Pt.POSITION_CALCULATION);return function(){var h;clearTimeout(m),(h=document.getElementById(o))===null||h===void 0||h.removeEventListener("resize",c)}}},[o,a,v]),d},zt=function(a){var o=(0,f.useState)(!1),n=j()(o,2),t=n[0],e=n[1],l=(0,f.useCallback)(Vt()(ht()().mark(function d(){var u;return ht()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!t){c.next=2;break}return c.abrupt("return");case 2:return e(!0),c.prev=3,u=ft(a.id,{content:a.content,title:a.title,language:a.language}),c.next=7,(0,ue.TE)(u.content,a.onCopy);case 7:c.next=12;break;case 9:c.prev=9,c.t0=c.catch(3),console.error("\u590D\u5236\u5931\u8D25:",c.t0);case 12:return c.prev=12,e(!1),c.finish(12);case 15:case"end":return c.stop()}},d,null,[[3,9,12,15]])})),[t,a.id,a.content,a.title,a.language,a.onCopy]);return{isCopying:t,handleCopy:l}},Jt=function(a){var o=(0,f.useState)(!1),n=j()(o,2),t=n[0],e=n[1],l=a.language.toLowerCase()===Lt.MERMAID,d=(0,f.useCallback)(function(u){var v=Ut(u,t,a.content);e(v)},[t,a.content]);return{isMermaid:l,isCodeView:t,toggleCodeView:d}},Kt=function(a){var o=(0,f.useState)(a),n=j()(o,2),t=n[0],e=n[1],l=Xt(t.containerId,t.id,t,e),d=zt(t),u=d.isCopying,v=d.handleCopy,c=Jt(t),m=c.isMermaid,h=c.isCodeView,B=c.toggleCodeView,p=function(){B(t.id||"")},C=function(){kt(t.id||"")},y=function(){Ht(t.id||"")};return(0,s.jsx)("div",{className:"".concat(Ae.toolbar),style:{top:l.top,left:l.left,width:l.width},children:(0,s.jsxs)("div",{className:Ae.toolbarContainer,children:[(0,s.jsx)("div",{className:Ae.info,children:(0,s.jsx)("span",{className:Ae.title,children:t.title})}),(0,s.jsxs)("div",{className:Ae.actions,children:[m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(pe.Z,{title:"\u67E5\u770B\u6E90\u4EE3\u7801",children:(0,s.jsx)(Ie.ZP,{type:h?"primary":"text",icon:(0,s.jsx)(Gt.Z,{}),onClick:p})}),(0,s.jsx)(Qt.Z,{menu:{items:[{key:"svg",label:"\u4E0B\u8F7DSVG\u56FE\u7247",onClick:y},{key:"png",label:"\u4E0B\u8F7DPNG\u56FE\u7247",onClick:C}]},trigger:["click"],children:(0,s.jsx)(pe.Z,{title:"\u4E0B\u8F7D",children:(0,s.jsx)(Ie.ZP,{type:"text",icon:(0,s.jsx)(Tt.Z,{})})})})]}),(0,s.jsx)(pe.Z,{title:"\u590D\u5236",children:(0,s.jsx)(Ie.ZP,{type:"text",icon:(0,s.jsx)(et.Z,{}),loading:u,className:Ae.copyBtn,onClick:v})})]})]})})},$t=(0,f.memo)(Kt,function(i,a){return i.id===a.id}),Ct={"markdown-container":"markdown-container___B4lMY","collapse-text":"collapse-text___r9y8q",katex:"katex___rSatW","katex-display":"katex-display___JzeuM"};function pt(i,a){for(var o=0,n=a-1;n>=0;n--){var t=i[n];if(t.type==="list_item_close")o--;else if(t.type==="list_item_open"&&(o++,o>0))return!0;if(t.type==="bullet_list_close"||t.type==="ordered_list_close")break}return!1}function qt(i){var a=i.renderer.rules.paragraph_open||function(n,t,e,l,d){return d.renderToken(n,t,e)},o=i.renderer.rules.paragraph_close||function(n,t,e,l,d){return d.renderToken(n,t,e)};i.renderer.rules.paragraph_open=function(n,t,e,l,d){return pt(n,t)?'<div class="paragraph">':a(n,t,e,l,d)},i.renderer.rules.paragraph_close=function(n,t,e,l,d){return pt(n,t)?"</div>":o(n,t,e,l,d)}}var W=function(i){return i.Custom="custom",i.Image="image",i.Standard="standard",i}({}),_t=["fence","thead_open"],en=function(a){var o,n,t=a.findIndex(function(u){var v;return(v=u.children)===null||v===void 0?void 0:v.some(function(c){return c?.type===W.Image})});if(t!==-1&&(o=a[t+1])!==null&&o!==void 0&&(o=o.meta)!==null&&o!==void 0&&o.id&&(n=a[t-1])!==null&&n!==void 0&&(n=n.meta)!==null&&n!==void 0&&n.id){var e,l,d;a[t].children.forEach(function(u){var v,c;u.meta=g()(g()({},u.meta),{},{nextId:(v=a[t+1])===null||v===void 0?void 0:v.meta.id,prevId:(c=a[t-1])===null||c===void 0?void 0:c.meta.id})}),a[t+1].meta=g()(g()({},a[t+1].meta),{},{component:W.Image,prevId:(e=a[t])===null||e===void 0?void 0:e.meta.id}),a[t].meta=g()(g()({},a[t].meta),{},{component:W.Image,nextId:(l=a[t+1])===null||l===void 0?void 0:l.meta.id}),a[t-1].meta=g()(g()({},a[t-1].meta),{},{component:W.Image,prevId:(d=a[t])===null||d===void 0?void 0:d.meta.id})}return a};function tn(i,a){var o=i.map(function(n,t){return g()(g()({},n),{},{meta:g()(g()({},n.meta),{},{requestId:a,id:"".concat(n?.type).concat(n!=null&&n.info?"-"+n?.info:"","-").concat(t),isFirst:t===0,isLast:t===i.length-1,toolbar:_t.includes(n.type)})})});return o.forEach(function(n,t){var e,l;n.meta.prevId=((e=o[t-1])===null||e===void 0||(e=e.meta)===null||e===void 0?void 0:e.id)||"",n.meta.nextId=((l=o[t+1])===null||l===void 0||(l=l.meta)===null||l===void 0?void 0:l.id)||""}),en(o)}var nn=["config"],an=b().bind(Ct),on=function(a,o){var n;if((n=a.meta)!==null&&n!==void 0&&n.component){var t=a.meta,e=t.props,l=t.component;if(l){var d=wt;return(0,f.createElement)(d,g()(g()({},e),{},{key:"process-".concat(l,"-").concat(e.executeId||o)}))}else return(0,s.jsxs)("div",{className:"custom-error",children:['Component "',l,'" not found']},"process-".concat(l,"-").concat(o,"-error"))}return null},rn=function(a,o){var n=[];o.renderer.render(a,o.options,{});var t=[],e=null;return a.forEach(function(l,d){var u,v=(u=l.meta)===null||u===void 0?void 0:u.component,c=v===W.Image?W.Image:v?W.Custom:W.Standard;!e||e.type!==c?(e={type:c,tokens:[l],startIndex:d},t.push(e)):e.tokens.push(l)}),t.forEach(function(l,d){if(l.type===W.Custom)l.tokens.forEach(function(c,m){var h=on(c,l.startIndex+m);h&&n.push(h)});else if(l.type===W.Image){var u=o.renderer.render(l.tokens,o.options,{});u&&n.push((0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:u}},"image-group-".concat(l.startIndex,"-").concat(d)))}else if(l.tokens.length>0){var v=o.renderer.render(l.tokens,o.options,{});v&&n.push((0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:v}},"standard-group-".concat(l.startIndex,"-").concat(d)))}}),n},sn=(0,f.memo)(function(i){var a=i.id,o=i.content,n=i.config,t=n===void 0?me.chat():n,e=i.className,l=i.onCopy,d=(0,f.useRef)(null),u=(0,f.useRef)(!1),v=(0,f.useRef)(null),c=(0,f.useState)([]),m=j()(c,2),h=m[0],B=m[1],p=(0,f.useState)([]),C=j()(p,2),y=C[0],S=C[1],T=(0,f.useState)([]),I=j()(T,2),k=I[0],ye=I[1],Qe=(0,f.useRef)(new Map),Le=(0,f.useRef)(),Ne=(0,f.useMemo)(function(){var E=t.markdownItOptions,N=E===void 0?{html:!0,xhtmlOut:!0,breaks:!0,linkify:!0,typographer:!0,quotes:`""''`}:E,M=t.plugins,O=M===void 0?[]:M,fe=t.customRules,ze=fe===void 0?{}:fe,lt=t.cssClasses,An=lt===void 0?{}:lt,te=ke()(N),xn=Bt(An);return Object.entries(xn).forEach(function(he){var re=j()(he,2),Be=re[0],Se=re[1];te.renderer.rules[Be]=Se}),Object.entries(ze).forEach(function(he){var re=j()(he,2),Be=re[0],Se=re[1];te.renderer.rules[Be]=Se}),new vt.ZP(te,(0,vt.bd)()),qt(te),O.forEach(function(he){var re=he.plugin,Be=he.options,Se=Be===void 0?{}:Be,Et=he.async,yn=Et===void 0?!1:Et;yn?te.use(re(te,Se)):te.use(re,Se)}),d.current=te,te},[t]);(0,f.useEffect)(function(){if(!u.current){var E=t.globalFunctions,N=E===void 0?{}:E;return Me.registerAllFunctions(N),u.current=!0,function(){Me.registerAllFunctions({}),Qe.current.forEach(function(M){try{M.unmount()}catch(O){console.error("\u6E05\u7406React\u6839\u8282\u70B9\u5931\u8D25:",O)}}),Qe.current.clear(),Le.current&&clearTimeout(Le.current)}}},[t]);var Pe=(0,f.useCallback)(function(E){var N,M=E.target,O=(0,L.P4)(M,"markdownItImageClickable"),fe=(O==null||(N=O.dataset)===null||N===void 0?void 0:N.src)||O?.src||"";if(fe){window.showImageInModal(fe);return}},[l]);(0,f.useEffect)(function(){var E=v.current;return E&&E.addEventListener("click",Pe),function(){E&&E.removeEventListener("click",Pe)}},[Pe]),(0,f.useEffect)(function(){var E=o?Ne.parse(o,{}):[],N=tn(E,a);B(N)},[o,Ne,a]),(0,f.useEffect)(function(){var E=rn(h,Ne);ye(E)},[Ne,h]),(0,f.useEffect)(function(){S(h.filter(function(E){var N;return(N=E.meta)===null||N===void 0?void 0:N.toolbar}))},[h]);var Xe=(0,f.useMemo)(function(){return y.length?y.map(function(E){var N,M=E.meta||{};if(!(M!=null&&M.requestId)||!(M!=null&&M.id))return null;var O="".concat(M.requestId,"-").concat(M.id),fe=E.content,ze=((N=E.info)===null||N===void 0?void 0:N.trim().split(/\s+/g)[0])||"text";return(0,s.jsx)("div",{children:(0,s.jsx)($t,{title:ze,language:ze,containerId:M.requestId,content:fe,id:O,collapsible:!0,defaultCollapsed:!1,onCollapseChange:function(){},onCopy:l})},O)}):null},[y,a,l]);return(0,s.jsxs)("div",{ref:v,id:"".concat(a),className:an(Ct["markdown-container"],e),children:[k,Xe]})},function(i,a){return i.content===a.content&&(0,ne.isEqual)(i.config,a.config)&&i.className===a.className}),Ve=function(a){return(0,f.memo)(function(o){var n=o.config,t=n===void 0?{}:n,e=de()(o,nn),l=(0,f.useMemo)(function(){return g()(g()(g()({},a),t),{},{plugins:[].concat(Z()(a.plugins||[]),Z()(t.plugins||[])),customRules:g()(g()({},a.customRules),t.customRules),globalFunctions:g()(g()({},a.globalFunctions),t.globalFunctions),cssClasses:g()(g()({},a.cssClasses),t.cssClasses)})},[t]);return(0,s.jsx)(sn,g()(g()({},e),{},{config:l}))})},nt=Ve(me.chat()),Un=Ve(me.standard()),kn=Ve(me.basic()),Hn=Ve(me.full()),Yn=null,ln=r(1675),we=r(91120),at=r(74855),cn=r.n(at),dn=r(88773),un=r(88834),It=r(71437),Ge={container:"container___bqr6a","elapsed-time":"elapsed-time___NLFZM","vertical-line":"vertical-line___viPQ6","more-action":"more-action___oDxDL",icon:"icon___hoIgl","copy-image":"copy-image___YsG7v"},ot=b().bind(Ge),vn=function(a){var o=a.messageInfo,n=o||{},t=n.finalResult,e=(0,tt.useModel)("conversationInfo"),l=e.handleDebug,d=(0,f.useMemo)(function(){return t?((t?.endTime-t?.startTime)/1e3).toFixed(1):0},[t]);return(0,s.jsx)("div",{className:ot(Ge.container,"flex","content-between","items-center"),children:(0,s.jsxs)("div",{className:ot("flex","items-center",Ge["elapsed-time"]),children:[(0,s.jsxs)(F.Z,{condition:!!t,children:[(0,s.jsx)("span",{children:"".concat(d,"s")}),(0,s.jsxs)(F.Z,{condition:!!(t!=null&&t.totalTokens),children:[(0,s.jsx)("span",{className:ot(Ge["vertical-line"])}),(0,s.jsx)("span",{children:"".concat(t?.totalTokens," Tokens")})]})]}),(0,s.jsx)(F.Z,{condition:!!t,children:(0,s.jsx)(It.Z,{className:Ge.icon,icon:(0,s.jsx)("img",{src:un,alt:""}),onClick:function(){return l(o)},title:"\u8C03\u8BD5",type:H.Ai.White})})]})})},mn=vn,Te={container:"container___I82RP","elapsed-time":"elapsed-time___VSdJP","vertical-line":"vertical-line___RYAxp","more-action":"more-action___J8lvL",icon:"icon___V_fce","copy-image":"copy-image___Lbh8o"},rt=b().bind(Te),gn=function(a){var o=a.messageInfo,n=o||{},t=n.text,e=function(){x.ZP.success("\u590D\u5236\u6210\u529F")};return(0,s.jsx)("div",{className:rt(Te.container,"flex","content-between","items-center"),children:(0,s.jsx)("div",{className:rt("flex",Te["more-action"]),children:(0,s.jsx)(at.CopyToClipboard,{text:t||"",onCopy:e,children:(0,s.jsx)(It.Z,{className:Te.icon,icon:(0,s.jsx)("img",{className:rt(Te["copy-image"]),src:D,alt:""}),title:"\u590D\u5236",type:H.Ai.White})})})})},fn=gn,it={container:"container___bMNUQ","more-action":"more-action___PPoj0"},st=b().bind(it),hn=function(a){var o=a.messageInfo,n=function(){x.ZP.success("\u590D\u5236\u6210\u529F")};return(0,s.jsxs)("div",{className:st(it.container,"flex","content-between","items-center"),children:[(0,s.jsx)("div",{className:st("flex",it["more-action"]),children:(0,s.jsx)(at.CopyToClipboard,{text:o?.text||"",onCopy:n,children:(0,s.jsxs)("span",{className:st("flex","content-center","items-center","cursor-pointer"),children:[(0,s.jsx)("img",{src:D,alt:""}),(0,s.jsx)("span",{children:"\u590D\u5236"})]})})}),(0,s.jsx)("span",{children:(0,L.BK)(o?.time)})]})},Cn=hn,pn=r(66371),G={container:"container___zSEQO",avatar:"avatar___IfDvJ",author:"author___AmRDb","inner-container":"inner-container___rireg","think-content":"think-content___Qas0a","chat-content":"chat-content___FWF0e",user:"user___mQCPt","user-action-box":"user-action-box___T2sE4","copy-btn":"copy-btn___vb1lQ","copy-image":"copy-image___Hbxu3"},U=b().bind(G),In=(0,f.memo)(function(i){var a,o=i.className,n=i.contentClassName,t=i.roleInfo,e=i.messageInfo,l=i.mode,d=l===void 0?"chat":l,u=(0,tt.useModel)("userInfo"),v=u.userInfo,c=(0,f.useState)(""),m=j()(c,2),h=m[0],B=m[1],p=v||JSON.parse(localStorage.getItem(ln.CD)),C=function(){var I=t.assistant,k=t.system;switch(e?.role){case we.hZ.USER:return{name:p?.nickName||p?.userName||"\u6E38\u5BA2",avatar:p?.avatar||w};case we.hZ.ASSISTANT:return{name:I.name,avatar:I.avatar||Q};case we.hZ.SYSTEM:return{name:k.name,avatar:k.avatar||Q}}}(),y=function(){x.ZP.success("\u590D\u5236\u6210\u529F")},S=function(){x.ZP.success("\u4EE3\u7801\u590D\u5236\u6210\u529F")},T={cssClasses:{codeBlockWrapper:"code-block-wrapper",codeHeader:"code-header",extBox:"ext-box",copyImg:"copy-img",customTable:"markdown-it-custom-table",imageOverlay:"image-overlay"},globalFunctions:{handleClipboard:!0,showImageInModal:!0,toggleCodeCollapse:!0}};return(0,f.useEffect)(function(){return!(e!=null&&e.id)&&!h&&B((0,dn.Z)()),function(){B("")}},[e?.id]),(0,s.jsxs)("div",{className:U(G.container,"flex",o),children:[(0,s.jsx)("img",{className:U(G.avatar),src:C?.avatar,alt:""}),(0,s.jsxs)("div",{className:U("flex-1","overflow-hide"),children:[(0,s.jsx)("div",{className:U(G.author),children:C?.name}),!!(e!=null&&(a=e.attachments)!==null&&a!==void 0&&a.length)&&(0,s.jsx)(le.Z,{files:e?.attachments}),e?.role===we.hZ.USER&&!!(e!=null&&e.text)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:U(G["chat-content"],G.user,"radius-6",n),children:(0,s.jsx)(nt,{id:"text-".concat(e?.id||h),content:e.text,config:T,onCopy:S})}),(0,s.jsx)("div",{className:U(G["user-action-box"],"flex","items-center"),children:(0,s.jsx)(cn(),{text:e.text||"",onCopy:y,children:(0,s.jsxs)("span",{className:U("flex","items-center","cursor-pointer",G["copy-btn"]),children:[(0,s.jsx)("img",{className:U(G["copy-image"]),src:D,alt:""}),(0,s.jsx)("span",{children:"\u590D\u5236"})]})})})]}),(0,s.jsxs)(F.Z,{condition:e?.role!==we.hZ.USER,children:[(0,s.jsx)(F.Z,{condition:!!(e!=null&&e.status),children:(0,s.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:12},children:(0,s.jsx)("div",{style:{flex:1},children:(0,s.jsx)(pn.Z,{messageInfo:e})})})}),(!!(e!=null&&e.think)||!!(e!=null&&e.text))&&(0,s.jsxs)("div",{className:U(G["inner-container"],n),children:[!!(e!=null&&e.think)&&(0,s.jsx)("div",{className:U(G["think-content"],"radius-6","w-full"),children:(0,s.jsx)(nt,{id:"think-".concat(e?.id||h),content:e.think,config:T,onCopy:S})}),!!(e!=null&&e.text)&&(0,s.jsx)("div",{className:U(G["chat-content"],"radius-6","w-full",P()({},G.typing,e.status===H.ge.Incomplete||e.status===H.ge.Loading)),children:(0,s.jsx)(nt,{id:"text-".concat(e?.id||h),content:e.text,config:T,onCopy:S})})]}),(0,s.jsx)(F.Z,{condition:e&&(e?.status===H.ge.Complete||!(e!=null&&e.status)),children:d==="chat"?(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12},children:[(0,s.jsx)("div",{style:{flex:1},children:(0,s.jsx)(fn,{messageInfo:e})}),(0,s.jsx)(mn,{messageInfo:e})]}):d==="home"?(0,s.jsx)(Cn,{messageInfo:e}):null})]})]})]})},function(i,a){return(0,ne.isEqual)(i.messageInfo,a.messageInfo)}),En=In},56265:function(V,ie,r){r.d(ie,{Z:function(){return ke}});var se=r(5574),P=r.n(se),R=r(91120),j=r(30961),Q=r(80882),w=r(38089),D=r(25278),le=r(37720),F=r(99859),je=r(85804),Z=r(94184),ce=r.n(Z),de=r(67294),X=r(75216),g={"variables-box":"variables-box___zOde3",header:"header____mIzl",text:"text___XcdJn","down-icon":"down-icon___nE2JF","rotate-90":"rotate-90___n3jXV","conversation-container":"conversation-container___wfpdk","close-form":"close-form___uaNXu","form-box":"form-box___AloSZ",desc:"desc___XIVD5"},A=r(85893),b=ce().bind(g),ne=w.Z.SHOW_CHILD,Ue=function(z){var Je=z.className,Ke=z.form,He=z.isFilled,ue=He===void 0?!1:He,x=z.disabled,be=x===void 0?!1:x,Me=z.showSubmitButton,Ye=Me===void 0?!1:Me,J=z.variables,Oe=z.onConfirm,$e=(0,de.useState)(!0),We=P()($e,2),Re=We[0],ve=We[1];if(!(J!=null&&J.length))return null;var Ce=function(L){ve(!1),Oe?.(L)},De=Re?g["conversation-container"]:ue?g["close-form"]:null,me=function(L){var ae,$=L.inputType,oe=L.description,Ze=[R.oI.Select,R.oI.MultipleSelect].includes($),q;switch($){case R.oI.Text:q=(0,A.jsx)(D.Z,{variant:"filled",placeholder:oe||"\u8BF7\u8F93\u5165",allowClear:!0});break;case R.oI.Paragraph:case R.oI.AutoRecognition:q=(0,A.jsx)(D.Z.TextArea,{variant:"filled",placeholder:oe||"\u8BF7\u8F93\u5165",allowClear:!0});break;case R.oI.Number:q=(0,A.jsx)(le.Z,{variant:"filled",className:"w-full",placeholder:oe||"\u8BF7\u8F93\u5165"});break;case R.oI.Select:case R.oI.MultipleSelect:q=(0,A.jsx)(w.Z,{variant:"filled",expandTrigger:"hover",multiple:$===R.oI.MultipleSelect,maxTagCount:"responsive",showCheckedStrategy:ne,placeholder:oe||"\u8BF7\u9009\u62E9",options:((ae=L.selectConfig)===null||ae===void 0?void 0:ae.options)||[],allowClear:!0});break;default:q=(0,A.jsx)(D.Z,{placeholder:oe||"\u8BF7\u8F93\u5165",allowClear:!0})}return{isSelect:Ze,content:q}};return(0,A.jsxs)("div",{className:b(g["variables-box"],"flex","flex-col",Je),children:[(0,A.jsxs)("header",{className:b(g.header,"flex","items-center","content-between"),children:[(0,A.jsx)("span",{children:"\u5BF9\u8BDD\u8BBE\u7F6E"}),(0,A.jsx)(X.Z,{condition:ue,children:(0,A.jsx)("span",{className:b(g.text,"cursor-pointer"),onClick:function(){return ve(!Re)},children:(0,A.jsx)(Q.Z,{className:b(Re?"":g["rotate-90"],g["down-icon"])})})})]}),(0,A.jsxs)("div",{className:b(De),children:[(0,A.jsxs)(F.Z,{form:Ke,rootClassName:g["form-box"],disabled:be,preserve:!1,layout:"vertical",onFinish:Ce,requiredMark:j.N,autoComplete:"off",children:[J?.map(function(K){var L=K.name,ae=K.displayName,$=K.require,oe=K.key,Ze=me(K),q=Ze.isSelect,ct=Ze.content;return(0,A.jsx)(F.Z.Item,{name:L,label:ae,rules:[{required:$,message:"\u8BF7".concat(q?"\u9009\u62E9":"\u8F93\u5165").concat(ae)}],children:ct},oe)}),(0,A.jsx)(X.Z,{condition:Ye,children:(0,A.jsx)(F.Z.Item,{children:(0,A.jsx)(je.ZP,{type:"primary",htmlType:"submit",block:!0,children:"\u5F00\u59CB\u5BF9\u8BDD"})})})]}),(0,A.jsx)(X.Z,{condition:be,children:(0,A.jsx)("p",{className:b(g.desc),children:"\u5BF9\u8BDD\u5F00\u59CB\u540E\uFF0C\u5BF9\u8BDD\u8BBE\u7F6E\u5C06\u65E0\u6CD5\u4FEE\u6539\u3002"})})]})]})},ke=Ue},88639:function(V,ie,r){r.d(ie,{Z:function(){return F}});var se=r(50888),P=r(94184),R=r.n(P),j=r(67294),Q={container:"container___eQEDc",box:"box___qQPTu"},w=r(85893),D=R().bind(Q),le=function(Z){var ce=Z.className,de=Z.itemClassName,X=Z.loading,g=Z.chatSuggestList,A=Z.onClick;return(0,w.jsx)("div",{className:D(Q.container,"flex","flex-col",ce),children:X?(0,w.jsx)("div",{className:D("flex"),children:(0,w.jsx)(se.Z,{})}):g?.map(function(b,ne){return b?(0,w.jsx)("div",{onClick:function(){return A(b)},className:D(Q.box,"px-16","cursor-pointer","hover-box",de),children:b},ne):null})})},F=le},78987:function(V){V.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAIAAAD2HxkiAAAToklEQVR4nO3d6XsTR7bH8XOqqlvyvrFDAgMTMskMc+fe+/+/nufeSW428gwEHLYYvFu2LFnq7qpzX5TUmCUxliWdtvX7JPCAMXbL9NfVazW/aAgBwNiJCDOLiNFeEoBJhwgBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEEAZIgRQhggBlCFCAGWIEECZ014AOAUR+cM/ZyJh5jEtDQwJIqy6XnhMJEREQhQjY+7lFv9cRESEmfo/995HZZnhVBBhdYlQHNlEJBZoLRtDJFR48j6EEIiIDTtrE8fEFAJ5LyEQM/X+IlKsPERYUXFAI+IgwkSJ4xDooHm0s9vcOzhstzpZXngfhMgak6Zuul5bWJhZWZpbmJ9OEi4KCkGOpYgSq4tfNP54NwMUiPQGQBFKEvaFvN7YfbW2tbffyvKCidiwYe5vmYqIhCBC5KxZmJ+5dX3l5vWVes3lRTkSighCrJbyXxkRVku5ASkiTGQdr280Hq+u7TUOidlZYwxTb+P0HUxETCJUeB98mJudun/35mc3LwmR98EYQ/1/9XG/JPgdiLCKykhCCNYa7/3Pj189f7XJRM7Z8n3oYxuX5Q4kETFTUQQfwo2ry3//+k69nhRFYObePzk6rAZEWFkSgjhn2kfdb79f3d47qKUJUS++T+nneKV5XsxM1//7P+4tL83meTDMhA4ro4wQJ+urIu4BxgJb7e4///V4t9Gs1xIq9+c+rZxyxCOiNHXto+4/v328vdNMEhN6pzH4hNONMF6IsBLKb4rWcqeT/c+3jw/bnTR1IchgAxczk8RB1frC/+93vzQabedM/3QiKqwQRKjv7b4Bkwj930/PDg6PUmdDEP7kAfAj+kOitTYv/Lc/Pu12c2PiQVc+6eIbGB9EqO/42Ygnv77Z3NpLExeGtOcWP3hi7UGz/fDRS2uYGFe3VQsi1Bc3EZ2j3b3202evk8QN99gJMweRNE1+e7O9tr6XuNg8RsKqQITK+jEwEf+yupYXfhRjVP/UBf+yulbkIe4xosOKQITK4uaic7Sze7ixtZc6O6JTCCLirN0/aK2t7zrHuJKtOhChpv5mITPzy7VNH05xKuK0ysHw5dqm9+VlcRgM9SFCTXGz0FpqH+Wb2/vOmpFWISLWmsZ+q3HQthZn7asCEWoSESE2hnf3mp1uZowZaRXxhEfh/db2vjFCJ98lDOOACNUJE+3sNuPFn+P4dMy7ewfBv73hEHQhQk1xg7DwctBsm7FcTSbC1pjDVqeb+TNdCQDDgwg1xQzywh91u8aMI4l4m2+WF51uhmtIKwIRKmOWLCvyfCSnB3/vU3ofOp18tDug8MkQoTJmznMfwvjGpHhqIi8K5nHsg8KJEKEyJgohjPNsQZztIgQRRFgNiFCZEMUTE+M7UCn9+xPH9PngBIhQm4i1Ns4BM6ZPyMzMzhkRQodVgAiVCXGaODvia2Xe+Ywi1ppamsS5pEAdIlQlEoKkqavXkjCuCzlFJHGuXq9JQIOVgAg1Se8WCp6dmZIwjlkn4gyl01O1euoCLuCuBkSoiYmImEmWF+ekfMNIPyNzCLK4OOMcLuCuCkSoiZmZJAReWZ6LdxKO9i4KIiJhQ5eWF/oPjEGE+hChpniuwAeZm60vLc76wo82ChHvZXZm6tLynPdxWxibo/oQoaY4EImIMXzrxqU4Oo0ojLjx6b2/eW25VrPxgU4YCasAESpjZiYuCrlxdXlhfqbwo7qINF6aU6+nn9+64gvBhGvVgQiViQgxiUiSmD//6YaEkdxrG7d7i8Lf+fzq7HTqQ/+xh1ABiFAZ92WF3Lq+fO3KUpYXwy2kd9di4RcXZv9851rhpfykw/oUcBaIUF/vVIGIkDz46vZ0PQ0hDKvD3vTeQYzhv399xzkbRjPYwsAQob7yiWXey8xM7T8f3BMhGcYWY/9MoOTe/+0vty8tz5bPSMMwWB2IsBLKMPI8XL0y/4+/3S1CCG87HCTFcoDtZsVXX9y6e/tKlr99SuHQXwIMDM+sr4ry+pUsC7dvrTDT9w+fFYVPEityuofsxnc2hr0P3ocHX93+4u714wViGKwUPCS0QsrHM4lImpqtneYPD58dNNtp6phYPuF51/EdmEiIsryYqiUPvrpz6+ZylqHAysGTeiuqjCSEkDjTzYvHT9Ze/LbpfXDOGnPC3Ezx4Wp5UTDx9avLf/3ys5mZWo4xsJIQYXWVz7sOQYxha2l37/DXF+sbW/tZXhhmY/jDm4BDkBBCEHHWXFpZuHf76uVLCyLkvRjTuy4HBVYKIqy6Y5um5Bwz00HzaHNrf3v34OCwnWVF6N+AyEzMJk3d7HR9ZXnu6uXFxYUZZiqKXsxl1covCd6FCM+BMp74C2vYWAqBut2i08263bzwgYisNWmaTNWSWi2xlkIg78vqetPJ6L4Q+KgyQhwdra7y8u74Wx+k8MRMaepqNcfxkbtE8RRGEApBvO+9MZ78x+nAcwERVl2ZUXyoPRH9wSSl/QK5/DVUHyI8NzCoXVS4YgZAGSIEUIYIAZQhQgBlODBznnzK3Q84fnPuIMKK+rA3ESIuZyZ9v7Xy/UOQj2aIOCsLEVbIe+GJ9B6sawwZpvg4QRESoRBIRIIISXyoE1vL8fQ9E0nv3D1J7wFM73xw1Fg1iFDfh9d2MrO1xEwhUJ6Hw1a31e62j7pHR91ON8/ywnsfr9im3pPV2DmbJK6eJvV6OjNdm56qT0/V0tQaQyIUPIWy8H6OqLEiEKGa8vLrqLxngom6md9rtHcbh3uNw8PWUaebF4WP12vHC9HiJTEUf5LeRyunjjHM1ppaLZ2dri0tzC4tzc7PTU/VEybygXwoH8bUyxE16sIF3DrKi3fjb61lY6jTKXZ2mxvbe7t7h+12twiBma15Z1KYE+8nLN8nhBCCBBFjeKqeLi/OXb28eGl5fnoqEaHCx31M3GahBndR6IijFTOLkJAwkXMsQnuN1tqbnY2tvVa7KyLGGmtMvEP3jOIHCUG890Q0NVW7srJw88bKytKcs5wXUu55IsUxQ4QK+ldg91Z35zgE2thqvHi1ubVzUHjvrDHH2hvKbbjlB4nbrSFI4b01vLQ4e/vWletXl9PExBRx7++YIcKxOn5nYLxJV4Q2thq/vljf3jkQosTZ4bb30WVgYuLe2Bh3MufnZu7eufrZjUvWcp5LHBKpv/M59GWA4xDh+BybNkaMYedoe/fw8dO1ze19JnLOvvduY1seIvI+hBCWFmfv37t5/cpiEPIeE9KMCSIck+MTqCWJ6XaLX1bXnr/a9D4kiTv+PuNfsP64SHnhhejmteWv7382O1PD5IjjgQhH7r3JKZKE1zcaDx+93G+2a4kjrsQO2PGDMVlWTNXTr+7fun3rsg8SAhmDozUjhAhH6/jMhdYaEXn05Lenz94ws3PmtJP5jlo5EYb3ofD+sxuXH3x1O01dUYQ4rVullvbCQIQjVM4/H0QSZ9qd7nc/PtvYbtRSFw+NVnOFPjYFeLEwP/1fD+4tLU5j03R0EOGovLcTuNdo/ev7p+12J03cp0yhrascEvPcJ87+48Hdm9eXMHv3iCDCkXhnHvvErG82vvlhtfA+sTacm52r3iyJIQQRefD1nbu3r6DDUcCUh8P3ToGpeb3e+Ob7J0TkrA3nad3tnSk0xojI9w+f+SJ8cfdalvceco8Ohw531g/N8THwTb/AuCqfu7W2jC1x9qdHL1afb6apia/u+CWvMBSIcDhE4h6fOGd29g6//WGVzm2B0Tsd/vv5q7XdNHnbofbSXSiIcAjiehkCWcvto+yb75/64M91gVHZoTH83U+rW7uHSb9DDIZDhAjP6u0xLiYJ8t1Pq+2jrrP2vBcYxZcWv6F89+PqUSc3lrFROlyI8KzenpBw/O8na1vb+0niztWRmBP0juBZ22p3fvz5uWEcnhkyRHgm5bZZ4sz61sHqizdp4i7eCsrMQSRJ3Ov1nWcvt5KEsVE6RIjwTOLtucZwlvufH73ovelCBdgTX5Vz9tGT35rNjsVG6fAgwsH1hwJxllefr+8ftOKuINFFrJB6Jw+7Wfbo6ZoxXOVL8M4XRDi4OA5Yy81W9/mrDecsXeiVMr7e1LnX6ztb203nCFukQ4EIB9Rf/9gaXn2+3ulmxpgLvz4yMzEHoSe/vi6fAYwOzwgRDqg3DBpqtrLX6zvOXZBzEicSEWfN9u7Bzl4rDoaT8KpHChEOKH77t47X3mx3OplhMyHrYrySO4Tw8tVmnDMRI+EZIcJBiAiJGMNZFl6v71prhCZoRRQRa83mduOwlVmLPcOzQoSDYGZhtob3GocHzbY1hmQihsGImY0xnW6+ubVnbe8t2gt1jiHCQcSRkJk2thohyEU9N/iHhA1tbDdCYMLZwrNBhIOIRyPyQnb2DuK1lNpLNG4iZI3ZP2i3j7I4ZeoEfhGGBRGeWnljQavdabU71kzKIZnj4hZpt5sdNNvGymRuDAwLIjy1/qVqctBs57mf4JVPQpDGfiu+foyEA0OEpyb9R5o1D49EhCfpuOh7mLnZOhLh8tFsMADMMXNqIkJMEkyr3WHm+IiHCRRnZjs66hYe5+vPBCPhqTEzE/sgnW7OzJN0buIdzGQMd7O8KCZ5m3wIEOEgmNl7yfOCJ3QU7GMuCl8UnhnbooNDhIORIKHwYcJHABaJDzyc8O9FZ4R9wkEwswQJIcjEbowSEZHE2f4n/ctwVhgJB9GfLp4nfTOs/DpoL8i5hggHw8xsDU/4YfnYX/kENRgMIhxEvI0gSZIJv1pLRJxzaeKwPXoWiPDU4p07zvH0VCoiE7tFKiIhSL2WxgnmJvq70dkgwlNjZiJmkqXFuXjxjPYS6YjzIC7MTzuHGZ/OBBGeGjMTiQ90ZWUhTSd0EIgv2TBdvbwYXz0iHBgiPLX4Xd97mpurX760EK8XmagO41egKPzC/Ozllfl42dpEfQWGCxGeWv+YvBDJ/bs3yymeJmQtLLc8ReT+vZvOmf4V7RgJB4QIB9EfCmhpYerrLz/P84JoIjosC+x2s3t3rt+4tpj3H2qvvWjnGCIcRP9MPWV5uHv7ytdffp5lRQjBmAs7D2d/J5BFpNvN//T5tb/+5bOikPIx2toLeI7hmfUDKjdBhSRx5uVv2w8fvex2syRxpn8S/wIcMyxfAjOJUJ4X1pov79384t4N73tboRfgZap4+1A9RDiwtx2KpIlptrpPfn39en03y3JrrbUm7jme669vbM+H4H1w1ly5vHj/7o3lxZm8QIFnhQiHo1wFQxBr2RpqHBy9Xt/Z2Gw0W0feByIyxsQ5aYiot7pWr0zu/aByDA9BgoQ4odPMdO3KpYUb11dWFmeFqCiE8ZTCM0OEQ1MeG4znC51lYynP5aDZ3ts/bOy3DltHnU6W5UUI/edXEFH/cCL3V/93V+YT1+wP/9VO8Vek/6OXXO8/IiLDbAwniaulyexMfWF+Znlxdn5uupbaIHR8E5RwRPRsEOGQvZeiMWwMGUMkVHjpZkWnk3W6Waebd7t5lhd5XuSFDz74EHpjTiCREKsIf3icgz+29p94xUDvCCaTYY5zpRnDxhhr2DmbJC5NXC1NarVkqp7Wa2mtljjHvc1RT+XtSvEtyO/sEOFIvBeC9INhJsPETMzlKERCFAKJlI/7ffvXTwiK6cObaOWkbdwym7g85QHe3v+9D0tCJIGClAv23hCN/IamjBA39Q5TuYKKEPVnxo+rcnj79ndX67KG8g108qblh5GenMbHIg3h2Dbqh8t27Ldob3QQ4Ujw75QU56p+500fjHrlUHkqZz9RF4fHs34UOD1EOG5Y0eE9uGIGQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZYgQQBkiBFCGCAGUIUIAZU5EtJcBYBLF9ETEMbP2wgBMqFgfRkIAHeVI+P+CJFyLNQpNAwAAAABJRU5ErkJggg=="},72611:function(V){V.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAFwSURBVEiJ7ZbRTcNADIY/J5f3jhA2gAmACQgjMAHlualqlHsHNqATABNQNugGZATee5V5oKDSVtRBgITU/ym6s+/zXXz2wU7/XbJpUFXLEMI50HOu8yIi48FgMO0MbJqmEpE7J+gTNKV0oKrtV0ZhLQKR0eLzFph4SCJSmVlVFMUJcNMJCOwDpJQuVPXFA1TVhzzPx3Vd328NbnUgxmgAdV1/zKlqL8uyKsuyQ08AIjKdzWbjTQFv2uEnLRLoESg9MAAzI4TQV9Xj1X+6FVgUxZWZlUArItdm5jlmBcoQwgg46wQ0syMAETn1pD2Aqj6FEJ6BahWYOfx7AF7YAtgu+3YF/qh2wL8Dqmr5V8AJQAjhOwW8OzCldAa0+FtTJ61d/MUd2vsNGPiSpoW3PuldtGmao2XfZXlK21hERiJyF2OcAp5a+g5c640bnxirijFeAX2P7bvM7HI4HOq3gPDWE/M83/fYzufzdttTY6cf0yt+NXkX7pGGegAAAABJRU5ErkJggg=="},88834:function(V){V.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAERSURBVCiRjZFBccNADEWfdgrAYeAwcBmYQSwGMYKkCOwwKIOYgZZBITQQzCBBsOoh25lN7ab9pz3ozftaCTlmtkfkADTADbjg3qvqzEpC8a4zdEFkBGpEPs2sWQNfzOwIVKo6mhmIDKS0AV4ROSNiwHZpFNkhMpjZqKojEBEZgBb3N6A2s26tapvrDRajAR0wqWrM+83pvsJjVeCGyERKm2yatOv6YqYKIVzXjBH3o6qOuGsJmVkNVLi3S9D9BFQW4wdwKaBGVWfce6CzGM8lKN9D+fdqYAaqbOpVdco3PpdrSGGoPISdp7QNIVxxb4D9b7DwJLneEhZ5fwquwveTtX+CDzBEoMP99C/wh/mkquMXpnqTpDNkdZAAAAAASUVORK5CYII="}}]);})();
