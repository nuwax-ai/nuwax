"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[1265,7253],{48614:function(Ke,V,e){e.d(V,{Z:function(){return rn}});var q=e(26068),t=e.n(q),se=e(48305),m=e.n(se),C=e(92973),l=e(68670),b=e(86743),o=e(63876),x=e(94581),u=e.n(x),a=e(75271),d={"xagi-nav-style2":"xagi-nav-style2___ZnOEk",text:"text___I_DzH","page-container":"page-container____iz0C","skill-item-style":"skill-item-style___N0WID","skill-item-icon":"skill-item-icon___jliak","skill-item-content-style":"skill-item-content-style___RWsv5","skill-item-title-style":"skill-item-title-style___RPCqS","skill-item-desc-style":"skill-item-desc-style___nXwpy","mask-layer-style":"mask-layer-style___uLo49",white:"white___PmcIw"},c=e(52676),F=u().bind(d),s=function(g){var re=g.item,sn=g.onDelete;return(0,c.jsxs)("div",{className:F(d["skill-item-style"],"dis-left"),children:[(0,c.jsx)("img",{src:re.icon,alt:"",className:F(d["skill-item-icon"])}),(0,c.jsxs)("div",{className:F(d["skill-item-content-style"]),children:[(0,c.jsx)("div",{className:F(d["skill-item-title-style"]),children:re.name}),(0,c.jsx)("div",{className:F(d["skill-item-desc-style"]),children:re.description})]}),(0,c.jsx)("div",{className:F(d["mask-layer-style"]),children:(0,c.jsx)("div",{style:{color:"#fff",backgroundColor:"transparent"},children:(0,c.jsx)(o.Z,{content:"\u79FB\u9664",trigger:"hover",children:(0,c.jsx)(b.Z,{className:"ml-12  white",style:{cursor:"pointer"},onClick:sn})})})})]})},ie=s,h=e(48279),S=e(94201),w=e(10560),f=e(61265),P=e(48528),Pe=e(99730),v=e(64799),G=e(92122),te=e(49528),W=e(80110),M=e(26324),K=e(28190),Y=e(41249),Z=e(63619),de=e(17701),le=e(30967),Q=e(56179),n=e(7098),ye={"xagi-nav-style2":"xagi-nav-style2___fHzli",text:"text___srgXE","page-container":"page-container____zQ5I",header:"header___ZEU6y",box:"box___su6_r",active:"active___qQari"},L={"xagi-nav-style2":"xagi-nav-style2___GME40",text:"text___B9pND","page-container":"page-container___Gqdvl","workflow-desc":"workflow-desc___yLObd"},k=u().bind(L),ee=function(g){var re=g.title,sn=re===void 0?"\u8BF7\u9009\u62E9\u5DE5\u4F5C\u6D41":re,Xe=g.onClick;return(0,c.jsx)("div",{className:k(L["workflow-desc"]),onClick:Xe,children:sn})},_=ee,Ge=u().bind(ye),H=function(g){var re=g.mode,sn=re===void 0?G.jA.Create:re,Xe=g.spaceId,Je=g.knowledgeInfo,Ne=g.open,Fe=g.onCancel,Te=g.onConfirm,ke=K.Z.useForm(),ne=m()(ke,1),hn=ne[0],_n=(0,a.useState)(!1),xn=m()(_n,2),vn=xn[0],an=xn[1],Ce=(0,a.useState)(""),$e=m()(Ce,2),oe=$e[0],Me=$e[1],ve=(0,a.useState)(te.u6.Text),he=m()(ve,2),Qe=he[0],cn=he[1],ln=(0,a.useState)([]),we=m()(ln,2),qe=we[0],ze=we[1],Le=(0,a.useState)("default"),i=m()(Le,2),y=i[0],B=i[1],r=(0,a.useState)(null),en=m()(r,2),on=en[0],Rn=en[1],An=(0,a.useState)(!1),wn=m()(An,2),$n=wn[0],be=wn[1],ra=(0,a.useState)(v.qR.Plugin),zn=m()(ra,2),Bn=zn[0],Zn=zn[1],In=(0,a.useState)([]),Fn=m()(In,2),Un=Fn[0],Sn=Fn[1],Mn=(0,Q.useRequest)(P.qx,{manual:!0,debounceInterval:300,onSuccess:function(X){Y.ZP.success("\u77E5\u8BC6\u5E93\u5DF2\u521B\u5EFA\u6210\u529F"),an(!1),Fe(),Q.history.push("/space/".concat(Xe,"/knowledge/").concat(X))},onError:function(){an(!1)}}),sa=Mn.run,Yn=(0,Q.useRequest)(P.ei,{manual:!0,debounceInterval:300,onSuccess:function(X,dn){Y.ZP.success("\u77E5\u8BC6\u5E93\u66F4\u65B0\u6210\u529F"),an(!1);var Ln=dn[0];Te?.(Ln)},onError:function(){an(!1)}}),Ye=Yn.run,nn=(0,Q.useRequest)(P.Wi,{manual:!0,debounceInterval:300,onSuccess:function(X){Me(X.icon),cn(X.dataType),hn.setFieldsValue({name:X.name,description:X.description,embeddingModelId:X.embeddingModelId,dataParsingMethod:X.workflowId?"workflow":"default"}),X.workflowId&&(B(X.workflowId?"workflow":"default"),Rn({id:X.workflowId,name:X.workflowName,icon:X.workflowIcon,description:X.workflowDescription}))},onError:function(){}}),la=nn.run,Vn=(0,Q.useRequest)(Pe.Bj,{manual:!0,debounceInterval:300,onSuccess:function(X){var dn=X?.map(function(Ln){return{label:Ln.name,value:Ln.id}})||[];ze(dn)}}),Cn=Vn.run;(0,a.useEffect)(function(){Ne&&(Cn({spaceId:Xe,modelType:W.Mj.Embeddings}),B("default"),Rn(null),Je&&la(Je.id))},[Xe,Ne,Je]);var oa=function(X){var dn={spaceId:Xe,name:X.name,description:X.description,embeddingModelId:X.embeddingModelId,icon:oe,dataType:Qe};y==="workflow"&&(dn.workflowId=on?.id),an(!0),sn===G.jA.Create?sa(dn):Ye(t()({id:Je?.id},dn))},ua=function(X){X.dataParsingMethod&&B(X.dataParsingMethod)},Hn=function(X){Sn(function(){return[{type:X.targetType,targetId:X.targetId,status:v.BQ.Added,toolName:X.toolName||""}]}),(0,le.flushSync)(function(){Rn({id:X.targetId,name:X.name,icon:X.icon,description:X.description})}),be(!1)},yn=function(X,dn){X.stopPropagation(),Zn(dn),be(!0)},Pn=function(X){yn(X,v.qR.Workflow)},Xn=function(){Rn(null),Sn([])},Jn=function(){hn.submit()};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(h.Z,{form:hn,title:sn===G.jA.Create?"\u521B\u5EFA\u77E5\u8BC6\u5E93":"\u66F4\u65B0\u77E5\u8BC6\u5E93",open:Ne,loading:vn,onCancel:Fe,onConfirm:Jn,children:[(0,c.jsxs)(K.Z,{form:hn,className:Ge("mt-16"),requiredMark:M.N,layout:"vertical",onFinish:oa,onValuesChange:ua,preserve:!1,autoComplete:"off",initialValues:{dataParsingMethod:"default"},children:[(0,c.jsx)(K.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0"}],children:(0,c.jsx)(Z.Z,{placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0",showCount:!0,maxLength:100})}),(0,c.jsx)(S.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:Je?.description,placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u5185\u5BB9\u7684\u63CF\u8FF0",maxLength:100}),(0,c.jsx)(K.Z.Item,{name:"embeddingModelId",label:"\u5411\u91CF\u6A21\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B"}],children:(0,c.jsx)(n.Z,{placeholder:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B",disabled:sn===G.jA.Update,options:qe,allowClear:!0})}),(0,c.jsx)(K.Z.Item,{name:"dataParsingMethod",label:"\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",tooltip:"\u9009\u62E9\u5DE5\u4F5C\u6D41\u540E\u6240\u6709\u6587\u6863\u3001\u56FE\u7247\u7B49\u90FD\u5C06\u901A\u8FC7\u5DE5\u4F5C\u6D41\u89E3\u6790\uFF0C\u8BBE\u8BA1\u5DE5\u4F5C\u6D41\u65F6\u8BF7\u6CE8\u610F\u56FA\u5B9A\u5165\u53C2\u4E3A\uFF1Afile_url\uFF0C\u51FA\u53C2\u8BF7\u5728\u201C\u7ED3\u675F\u201D\u8282\u70B9\u9009\u62E9\u201C\u8FD4\u56DE\u6587\u672C\u201D\uFF0C\u5E76\u5728\u201C\u8F93\u51FA\u5185\u5BB9\u201D\u533A\u57DF\u8BBE\u7F6E\u8FD4\u56DE\u7684\u53D8\u91CF\u3002",children:(0,c.jsx)(de.default,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",options:[{value:"default",label:"\u7CFB\u7EDF\u9ED8\u8BA4"},{value:"workflow",label:"\u81EA\u5B9A\u4E49\u5DE5\u4F5C\u6D41"}]})}),y==="workflow"&&(0,c.jsx)(K.Z.Item,{style:{marginTop:"-15px"},children:on?(0,c.jsx)(ie,{item:on,onDelete:Xn}):(0,c.jsx)(_,{onClick:Pn})}),(0,c.jsx)(K.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,c.jsx)(w.Z,{className:Ge(ye["upload-box"]),onUploadSuccess:Me,imageUrl:oe,defaultImage:C,svgIconName:"icons-workspace-knowledge"})})]}),(0,c.jsx)(l.Z,{open:$n,onCancel:function(){return be(!1)},checkTag:Bn,addComponents:Un,onAdded:Hn,tabs:f.Ne.filter(function(Ve){return Ve.key===v.qR.Workflow})})]})})},rn=H},30704:function(Ke,V,e){var q=e(26068),t=e.n(q),se=e(48305),m=e.n(se),C=e(26145),l=e(59261),b=e(7098),o=e(94201),x=e(10560),u=e(87620),a=e(24643),d=e(92122),c=e(45019),F=e(26324),s=e(28190),ie=e(41249),h=e(63619),S=e(51430),w=e(94581),f=e.n(w),P=e(75271),Pe=e(56179),v=e(48279),G=e(52676),te=f(),W=function(K){var Y=K.spaceId,Z=K.id,de=K.icon,le=K.name,Q=K.description,n=K.mode,ye=n===void 0?d.jA.Create:n,L=K.open,k=K.onCancel,ee=K.onConfirm,_=s.Z.useForm(),Ge=m()(_,1),H=Ge[0],rn=(0,P.useState)(""),De=m()(rn,2),g=De[0],re=De[1],sn=(0,P.useState)(),Xe=m()(sn,2),Je=Xe[0],Ne=Xe[1],Fe=(0,P.useState)(!1),Te=m()(Fe,2),ke=Te[0],ne=Te[1];(0,P.useEffect)(function(){L&&(re(de||""),H.setFieldsValue({name:le,description:Q}))},[L,de,le,Q]);var hn=function(ve,he){he===c.AQ.CODE?Pe.history.push("/space/".concat(Y,"/plugin/").concat(ve,"/cloud-tool")):he===c.AQ.HTTP&&Pe.history.push("/space/".concat(Y,"/plugin/").concat(ve))},_n=(0,Pe.useRequest)(a.VR,{manual:!0,debounceInterval:300,onSuccess:function(ve,he){re(""),k();var Qe=he[0].type;hn(ve,Qe),ie.ZP.success("\u63D2\u4EF6\u5DF2\u521B\u5EFA"),ne(!1)},onError:function(){ne(!1)}}),xn=_n.run,vn=(0,Pe.useRequest)(a.i,{manual:!0,debounceInterval:300,onSuccess:function(ve,he){re("");var Qe=he[0];ee?.(Qe),ie.ZP.success("\u63D2\u4EF6\u66F4\u65B0\u6210\u529F"),ne(!1)},onError:function(){ne(!1)}}),an=vn.run,Ce=function(ve){ne(!0),ye===d.jA.Create?xn(t()(t()({},ve),{},{icon:g,spaceId:Y})):an(t()(t()({},ve),{},{icon:g,id:Z}))},$e=function(){H.submit()},oe=function(ve){var he=ve.target.value;he===c.AQ.HTTP&&H.setFieldValue("codeLang",null),Ne(he)};return(0,G.jsx)(v.Z,{form:H,title:ye===d.jA.Create?"\u65B0\u5EFA\u63D2\u4EF6":"\u66F4\u65B0\u63D2\u4EF6",open:L,classNames:f(),loading:ke,onCancel:k,onConfirm:$e,children:(0,G.jsxs)("div",{className:te("flex","flex-col","items-center","py-16"),children:[(0,G.jsx)(x.Z,{className:te("mt-16","mb-16"),onUploadSuccess:re,imageUrl:g,defaultImage:C,svgIconName:"icons-workspace-plugin"}),(0,G.jsxs)(s.Z,{form:H,requiredMark:F.N,layout:"vertical",onFinish:Ce,rootClassName:te("w-full"),autoComplete:"off",children:[(0,G.jsx)(s.Z.Item,{name:"name",label:"\u63D2\u4EF6\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0"},{validator:function(ve,he){return!he||he?.length<=30?Promise.resolve():he?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0!"))}}],children:(0,G.jsx)(h.Z,{placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0\uFF0C\u786E\u4FDD\u540D\u79F0\u542B\u4E49\u6E05\u6670\u4E14\u7B26\u5408\u5E73\u53F0\u89C4\u8303",showCount:!0,maxLength:30})}),(0,G.jsx)(o.Z,{name:"description",label:"\u63D2\u4EF6\u63CF\u8FF0",initialValue:Q,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F"}],placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F\uFF0C\u786E\u4FDD\u5185\u5BB9\u7B26\u5408\u5E73\u53F0\u89C4\u8303\u3002\u5E2E\u52A9\u7528\u6237/\u5927\u6A21\u578B\u66F4\u597D\u5730\u7406\u89E3",maxLength:100}),(0,G.jsxs)(l.Z,{condition:ye===d.jA.Create,children:[(0,G.jsx)(s.Z.Item,{name:"type",label:"\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F"}],children:(0,G.jsx)(S.ZP.Group,{options:u.B1,value:Je,onChange:oe})}),(0,G.jsx)(l.Z,{condition:Je===c.AQ.CODE,children:(0,G.jsx)(s.Z.Item,{name:"codeLang",label:"IDE \u8FD0\u884C\u65F6",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u6A21\u5F0F"}],children:(0,G.jsx)(b.Z,{options:u._n})})})]})]})]})})};V.Z=W},75484:function(Ke,V,e){e.d(V,{Z:function(){return v}});var q=e(26068),t=e.n(q),se=e(48305),m=e.n(se),C=e(83352),l=e(48279),b=e(94201),o=e(10560),x=e(53361),u=e(92122),a=e(26324),d=e(28190),c=e(41249),F=e(63619),s=e(94581),ie=e.n(s),h=e(75271),S=e(56179),w={container:"container___etrGg",header:"header___qw2yv"},f=e(52676),P=ie().bind(w),Pe=function(te){var W=te.type,M=W===void 0?u.jA.Create:W,K=te.name,Y=te.spaceId,Z=te.id,de=te.icon,le=te.description,Q=te.open,n=te.onCancel,ye=te.onConfirm,L=d.Z.useForm(),k=m()(L,1),ee=k[0],_=(0,h.useState)(""),Ge=m()(_,2),H=Ge[0],rn=Ge[1],De=(0,S.useRequest)(x.Kt,{manual:!0,debounceInterval:300,onSuccess:function(Fe){c.ZP.success("\u5DE5\u4F5C\u6D41\u5DF2\u521B\u5EFA\u6210\u529F"),n(),S.history.push("/space/".concat(Y,"/workflow/").concat(Fe))}}),g=De.run,re=(0,S.useRequest)(x.sN,{manual:!0,debounceInterval:300,onSuccess:function(Fe,Te){c.ZP.success("\u5DE5\u4F5C\u6D41\u66F4\u65B0\u6210\u529F");var ke=Te[0];ye?.(ke)}}),sn=re.run;(0,h.useEffect)(function(){Q&&(rn(de||""),ee.setFieldsValue({name:K,description:le}))},[Q,de,K,le]);var Xe=function(Fe){var Te={name:Fe?.name,description:Fe?.description,icon:H};M===u.jA.Create?g(t()({spaceId:Y},Te)):sn(t()({id:Z},Te))},Je=function(){ee.submit()};return(0,f.jsx)(l.Z,{form:ee,title:M===u.jA.Create?"\u521B\u5EFA\u5DE5\u4F5C\u6D41":"\u66F4\u65B0\u5DE5\u4F5C\u6D41",classNames:{content:P(w.container),header:P(w.header)},open:Q,onCancel:n,onConfirm:Je,children:(0,f.jsxs)(d.Z,{form:ee,requiredMark:a.N,layout:"vertical",onFinish:Xe,autoComplete:"off",children:[(0,f.jsx)(d.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0"},{validator:function(Fe,Te){return!Te||Te?.length<=30?Promise.resolve():Te?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0!"))}}],children:(0,f.jsx)(F.Z,{placeholder:"\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0",showCount:!0,maxLength:30})}),(0,f.jsx)(b.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:le,placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\uFF0C\u8BA9\u5927\u6A21\u578B\u7406\u89E3\u4EC0\u4E48\u60C5\u51B5\u4E0B\u5E94\u8BE5\u8C03\u7528\u6B64\u5DE5\u4F5C\u6D41",maxLength:100}),(0,f.jsx)(d.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,f.jsx)(o.Z,{onUploadSuccess:rn,imageUrl:H,defaultImage:C,svgIconName:"icons-workspace-workflow"})})]})})},v=Pe},68670:function(Ke,V,e){e.d(V,{Z:function(){return vn}});var q=e(90228),t=e.n(q),se=e(15558),m=e.n(se),C=e(26068),l=e.n(C),b=e(87999),o=e.n(b),x=e(48305),u=e.n(x),a=e(59934),d=e(61265),c=e(28359),F=e(3440),s=e(64799),ie=e(92122),h=e(44953),S=e(86230),w=e(61884),f=e(28057),P=e(98493),Pe=e(17023),v=e(16621),G=e(41249),te=e(73981),W=e(44384),M=e(9504),K=e(14719),Y=e(63619),Z=e(58130),de=e(70183),le=e(94581),Q=e.n(le),n=e(75271),ye=e(56179),L=e(80774),k=e(48614),ee=e(30704),_=e(75484),Ge=e(3055),H={"xagi-nav-style2":"xagi-nav-style2___Hhx24",text:"text___fY1wP","page-container":"page-container___mEK5C","created-modal-style":"created-modal-style___NYAVL","segmented-style":"segmented-style___nKwTz","created-title-text":"created-title-text___AjELa","created-list-spin-style":"created-list-spin-style___zM15H","created-list-empty-style":"created-list-empty-style___oCfaM","create-button":"create-button___coqIa","aside-header":"aside-header___jACDw","aside-menu":"aside-menu___m045Q","add-button":"add-button___TndZY","add-button-added":"add-button-added___MdC2h","created-container":"created-container___AGXz5","aside-style":"aside-style___CaDQZ","main-style":"main-style___GSDxU","list-item-style":"list-item-style___WKFIL","left-image-style":"left-image-style___GMm3v","content-font":"content-font___ycx8_","count-div-style":"count-div-style___Zd48s","label-font-style":"label-font-style___HZB9A","collect-star":"collect-star___bLtFf","icon-margin":"icon-margin___HgnVb","created-description-style":"created-description-style___Cm4V4"},rn=e(13143),De={"xagi-nav-style2":"xagi-nav-style2___XdLTv",text:"text___tQ5I5","page-container":"page-container___s_CSV","mcp-tools-style":"mcp-tools-style___u92JF","mcp-tools-item-style":"mcp-tools-item-style___sidZr","add-button":"add-button___mejhX","add-button-added":"add-button-added___iY7_z","mcp-tools-item-content-style":"mcp-tools-item-content-style___ku31r","mcp-tools-item-name-style":"mcp-tools-item-name-style___oOtSe","mcp-tools-item-description-style":"mcp-tools-item-description-style___FlirP","mcp-tools-item-button-style":"mcp-tools-item-button-style___MPtXV"},g=e(52676),re=Q().bind(De),sn=s.BQ.Added,Xe=function(Ce){var $e=Ce.tools,oe=Ce.item,Me=Ce.onAddTool,ve=Ce.fold,he=Ce.getToolLoading,Qe=Ce.addedComponents,cn=(0,n.useCallback)(function(we,qe){Me(l()(l()({},oe),{},{name:"".concat(oe.name,"/").concat(we),description:qe,toolName:we}))},[Me,oe]),ln=(0,n.useCallback)(function(we,qe){return Qe?.some(function(ze){return ze.type===we.targetType&&ze.targetId===we.targetId&&(ze.toolName||"")===(we.toolName||"")&&ze.status===qe})},[Qe,oe]);return ve?null:(0,g.jsx)("div",{className:re(De["mcp-tools-style"]),children:$e.map(function(we,qe){var ze=ln(l()(l()({},oe),{},{toolName:we.name}),sn),Le=he(l()(l()({},oe),{},{toolName:we.name}));return(0,g.jsxs)("div",{className:re(De["mcp-tools-item-style"]),children:[(0,g.jsxs)("div",{className:re("dis-sb",De["mcp-tools-item-content-style"]),children:[(0,g.jsx)("div",{className:re(De["mcp-tools-item-name-style"]),children:we.name}),(0,g.jsx)("div",{className:re(De["mcp-tools-item-description-style"]),children:we.description||"\u6682\u65E0\u63CF\u8FF0"})]}),(0,g.jsx)("div",{className:re(De["mcp-tools-item-button-style"],"dis-sb"),children:(0,g.jsx)(M.ZP,{color:"default",variant:"filled",className:re(De["add-button"],ze&&De["add-button-added"]),onClick:function(){return cn(we.name,we.description)},disabled:Le?!1:ze,loading:Le,children:ze?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})})]},"".concat(oe.targetId,"-").concat(qe,"-tools-").concat(we.name))})},"".concat(oe.targetId,"-tools"))},Je=Xe,Ne={"xagi-nav-style2":"xagi-nav-style2___AR6lO",text:"text___C_yvr","page-container":"page-container___Tl8wQ",container:"container___Xs6nx","left-image-style":"left-image-style___QkQAk","content-font":"content-font___gLvK8","count-div-style":"count-div-style___bhUoi","fold-icon-style":"fold-icon-style___iClGH","label-font-style":"label-font-style___R72Ym","created-description-style":"created-description-style___fbx01"},Fe=Q().bind(Ne),Te=function(Ce){var $e,oe,Me,ve=Ce.item,he=Ce.index,Qe=Ce.selected,cn=Ce.onAddNode,ln=Ce.getToolLoading,we=Ce.addedComponents,qe=(0,n.useState)(!0),ze=u()(qe,2),Le=ze[0],i=ze[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:Fe("dis-sb",Ne.container,"cursor-pointer"),style:{height:"unset"},onClick:function(){return i(!Le)},children:[(0,g.jsx)("img",{src:ve.icon||(0,w.Pk)(Qe.key),alt:"",className:Fe(Ne["left-image-style"])}),(0,g.jsxs)("div",{className:Fe("flex-1",Ne["content-font"]),children:[(0,g.jsx)("p",{className:Fe(Ne["label-font-style"]),children:ve.name}),(0,g.jsx)("p",{className:Fe(Ne["created-description-style"],"text-ellipsis-2"),title:ve.description,children:ve.description}),(0,g.jsx)("div",{className:Fe("dis-sb",Ne["count-div-style"]),children:(0,g.jsxs)("div",{className:"dis-left",children:[(0,g.jsx)("img",{src:(($e=ve.publishUser)===null||$e===void 0?void 0:$e.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,g.jsx)("span",{children:(oe=ve.publishUser)===null||oe===void 0?void 0:oe.nickName}),(0,g.jsx)(W.Z,{type:"vertical"}),(0,g.jsxs)("span",{children:["\u90E8\u7F72\u4E8E",(0,h.hK)(ve.deployed)]})]})})]}),(0,g.jsx)(rn.Z,{onClick:function(){return i(!Le)},className:Fe(Ne["fold-icon-style"]),style:{transform:Le?"rotate(-90deg)":"rotate(0)"}})]},"".concat(ve.targetId,"-").concat(he)),(0,g.jsx)(Je,{fold:Le,tools:(ve==null||(Me=ve.config)===null||Me===void 0?void 0:Me.tools)||[],item:ve,getToolLoading:ln,onAddTool:cn,addedComponents:we})]})},ke=Te,ne=Q().bind(H),hn=[s.qR.Plugin,s.qR.Workflow,s.qR.Knowledge,s.qR.Table],_n=d.Ne.filter(function(an){return hn.includes(an.key)}),xn=function(Ce){var $e=Ce.open,oe=Ce.onCancel,Me=Ce.checkTag,ve=Ce.onAdded,he=Ce.addComponents,Qe=Ce.addSkillLoading,cn=Qe===void 0?void 0:Qe,ln=Ce.tabs,we=ln===void 0?_n:ln,qe=Ce.hideTop,ze=(0,ye.useParams)(),Le=Number(ze.spaceId),i=(0,n.useState)(!1),y=u()(i,2),B=y[0],r=y[1],en=(0,n.useState)(""),on=u()(en,2),Rn=on[0],An=on[1],wn=(0,n.useState)({label:"\u63D2\u4EF6",key:s.qR.Plugin}),$n=u()(wn,2),be=$n[0],ra=$n[1],zn=(0,n.useState)({page:1,pageSize:20}),Bn=u()(zn,2),Zn=Bn[0],In=Bn[1],Fn=(0,n.useState)(100),Un=u()(Fn,2),Sn=Un[0],Mn=Un[1],sa=(0,n.useState)("all"),Yn=u()(sa,2),Ye=Yn[0],nn=Yn[1],la=(0,n.useState)(),Vn=u()(la,2),Cn=Vn[0],oa=Vn[1],ua=(0,n.useState)([]),Hn=u()(ua,2),yn=Hn[0],Pn=Hn[1],Xn=(0,n.useState)(!1),Jn=u()(Xn,2),Ve=Jn[0],X=Jn[1],dn=(0,n.useState)({list:[],searching:!1}),Ln=u()(dn,2),ia=Ln[0],qn=Ln[1],Kn=(0,n.useRef)(!1),Wn=(0,n.useRef)(null),ba=[{key:"all",label:"\u5168\u90E8"},{key:"library",label:"\u7EC4\u4EF6\u5E93".concat(be.label)},{key:"collect",label:"\u6536\u85CF"}],ga=[{key:"all",label:"\u5168\u90E8"},{key:1,label:"\u6587\u6863"}],ja=[{key:"all",label:"\u7EC4\u4EF6\u5E93\u6570\u636E\u8868"}],Ta=[{key:"all",label:"\u5168\u90E8"},{key:"custom",label:"\u81EA\u5B9A\u4E49\u670D\u52A1"}],Aa=function(){switch(be.key){case s.qR.Knowledge:return ga;case s.qR.Table:return ja;case s.qR.MCP:return Ta;default:return ba}},ca=(0,n.useRef)(null),bn=(0,n.useRef)(!1),On=function(){var D=o()(t()().mark(function p(E,j){var N,$,I,z;return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(qn({list:[],searching:!1}),O.prev=1,Le!==0){O.next=4;break}return O.abrupt("return");case 4:if(console.log("params",j,bn.current,j.page>Sn&&j.page!==1||bn.current),!(j.page>Sn&&j.page!==1||bn.current)){O.next=7;break}return O.abrupt("return");case 7:return bn.current=!0,j.page===1&&X(!0),Kn.current&&(j.justReturnSpaceData=!0),Wn.current&&(j.dataType=Wn.current),O.next=13,c.ZP.getList(E,l()(l()({},j),{},{spaceId:Le}));case 13:if(N=O.sent,$=N.code,I=N.data,z=N.message,bn.current=!1,X(!1),$===a.Gh){O.next=22;break}return G.ZP.error(z),O.abrupt("return");case 22:Mn(I.pages),In(function(_e){return l()(l()({},_e),{},{page:I.current,total:I.total})}),Pn(function(_e){var pe=j.page===1?m()(I.records):[].concat(m()(_e),m()(I.records));return qn(l()(l()({},ia),{},{list:pe})),pe}),O.next=32;break;case 27:O.prev=27,O.t0=O.catch(1),bn.current=!1,X(!1),Mn(100);case 32:case"end":return O.stop()}},p,null,[[1,27]])}));return function(E,j){return D.apply(this,arguments)}}(),da=function(){var D=o()(t()().mark(function p(E){var j,N,$;return t()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,X(!0),N=(j=be.key)===null||j===void 0?void 0:j.toLowerCase(),z.next=5,c.ZP.collectList(N,E);case 5:$=z.sent,Pn(m()($.data)),X(!1),z.next=13;break;case 10:z.prev=10,z.t0=z.catch(0),X(!1);case 13:case"end":return z.stop()}},p,null,[[0,10]])}));return function(E){return D.apply(this,arguments)}}(),ha=function(){var D=o()(t()().mark(function p(E){var j,N,$,I;return t()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(N=(j=be.key)===null||j===void 0?void 0:j.toLowerCase(),!E.collect){ce.next=7;break}return ce.next=4,c.ZP.unCollect(N,E.targetId);case 4:$=ce.sent,ce.next=10;break;case 7:return ce.next=9,c.ZP.collect(N,E.targetId);case 9:$=ce.sent;case 10:$.code===a.ZP.success&&(I=yn.map(function(O){return E.targetId===O.targetId&&(O.collect?(O.collect=!1,O.statistics&&(O.statistics.collectCount=(O.statistics.collectCount||1)-1)):(O.collect=!0,O.statistics&&(O.statistics.collectCount=(O.statistics.collectCount||0)+1))),O}),Pn(I));case 11:case"end":return ce.stop()}},p)}));return function(E){return D.apply(this,arguments)}}(),ea=function(){var D=o()(t()().mark(function p(E){var j,N;return t()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(be.key!==s.qR.Table){I.next=11;break}return I.prev=1,j={tableName:E.name,tableDescription:E.description,spaceId:Le,icon:E.icon},I.next=5,(0,F.AY)(j);case 5:N=I.sent,ye.history.push("/space/".concat(Le,"/table/").concat(N.data)),I.next=11;break;case 9:I.prev=9,I.t0=I.catch(1);case 11:case"end":return I.stop()}},p,null,[[1,9]])}));return function(E){return D.apply(this,arguments)}}(),jn=function(p){ve(p),oa(p)},Dn=function(p){var E={kw:p,page:1,pageSize:20};An(p),In({page:1,pageSize:20}),Pn([]),On(be.key,E)},Ia=function(p,E){switch(Mn(100),p){case"collect":da(E);break;case"library":Kn.current=!0,On(be.key,l()(l()({},E),{},{justReturnSpaceData:!0}));break;default:On(be.key,E);break}},La=function(p){An(""),nn(p),In({page:1,pageSize:20}),Pn([]),Kn.current=!1,Wn.current=null;var E={page:1,pageSize:20};be.key===s.qR.Knowledge&&p!=="all"&&(E.dataType=Number(p),Wn.current=Number(p)),be.key===s.qR.MCP&&p==="custom"&&(Kn.current=!0),Ia(p,E)},kn=function(p){if(p){Wn.current=null,Kn.current=!1;var E=p,j=we.find(function(N){return N.key===E});j&&(nn("all"),An(""),ra(j),In({page:1,pageSize:20}),Mn(100),On(j.key,{page:1,pageSize:20}))}},ma=(0,n.useCallback)(function(){if(!(Ye==="collect"||bn.current)){var D=ca.current;if(D){var p=D.scrollHeight-D.scrollTop-D.clientHeight,E=yn.length>0&&p<50&&Zn.page<Sn;if(E){var j=Zn.page+1,N={pageSize:20,page:j};In(function($){return l()(l()({},$),{},{page:j})}),On(be.key,N)}}}},[Zn,Ye,Sn,bn,be.key,yn.length]);(0,n.useEffect)(function(){var D=ca.current;if($e&&D)return D.addEventListener("scroll",ma),function(){D.removeEventListener("scroll",ma)}},[$e,ma]),(0,n.useEffect)(function(){$e&&setTimeout(function(){kn(Me)},100)},[Me,$e]);var Oa=(0,g.jsxs)("div",{className:ne("dis-left",H["created-title"]),children:[(0,g.jsx)("h3",{className:H["created-title-text"],children:"\u6DFB\u52A0"}),(0,g.jsx)(te.Z,{value:be.key,size:"large",onChange:kn,options:we.filter(function(D){return!(qe!=null&&qe.includes(D.key))}).map(function(D){return{label:D.label,value:D.key}}),className:H["segmented-style"]})]}),Ae=(0,n.useCallback)(function(D,p){return he?.some(function(E){return E.type===D.targetType&&E.targetId===D.targetId&&E.status===p&&(E?.toolName||"")===(D.toolName||"")})},[he]),A=(0,n.useCallback)(function(D){return Ae(D,s.BQ.Added)},[Ae]),U=(0,n.useCallback)(function(D,p){return cn===void 0?Ae(D,s.BQ.Loading):!!(cn&&Cn?.targetId===D.targetId&&(Cn?.toolName||"")===(p||""))},[Ae,Cn,cn]),ue=function(p,E,j){return(0,g.jsx)(ke,{item:p,index:E,getToolLoading:U,selected:j,onAddNode:jn,addedComponents:he||[]},"".concat(p.targetId,"-").concat(E))},T=function(p,E){var j,N,$=U(p),I=A(p);return(0,g.jsxs)("div",{className:ne("dis-sb",H["list-item-style"]),children:[(0,g.jsx)("img",{src:p.icon||(0,w.Pk)(be.key),alt:"",className:ne(H["left-image-style"])}),(0,g.jsxs)("div",{className:ne("flex-1",H["content-font"]),children:[(0,g.jsx)("p",{className:ne(H["label-font-style"],"text-ellipsis-2"),children:p.name}),(0,g.jsx)("p",{className:ne(H["created-description-style"],"text-ellipsis"),children:p.description}),(0,g.jsx)("div",{className:ne("dis-sb",H["count-div-style"]),children:(0,g.jsxs)("div",{className:"dis-left",children:[(0,g.jsx)("img",{src:((j=p.publishUser)===null||j===void 0?void 0:j.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,g.jsx)("span",{children:(N=p.publishUser)===null||N===void 0?void 0:N.nickName}),(0,g.jsx)(W.Z,{type:"vertical"}),(0,g.jsx)("span",{children:"\u53D1\u5E03\u4E8E".concat((0,h.hK)(p.created))}),![s.qR.Knowledge,s.qR.MCP].includes(be.key)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(W.Z,{type:"vertical"}),p.collect&&(0,g.jsx)(f.Z,{className:ne(H["collect-star"],H["icon-margin"]),onClick:function(){return ha(p)}}),!p.collect&&(0,g.jsx)(P.Z,{className:ne(H["icon-margin"]),onClick:function(){return ha(p)}}),(0,g.jsx)("span",{children:p.statistics?p.statistics.collectCount:0})]})]})})]}),(0,g.jsx)(M.ZP,{color:"default",variant:"filled",onClick:function(){return jn(p)},loading:$,className:ne(H["add-button"],I&&H["add-button-added"]),disabled:$?!1:I,children:I?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(p.targetId,"-").concat(E))},me=function(p,E){p===s.qR.MCP?(0,S._x)(E):r(!0)};return(0,g.jsxs)(K.Z,{keyboard:!1,maskClosable:!1,open:$e,footer:null,centered:!0,title:Oa,onCancel:oe,className:ne(H["created-modal-style"]),width:1096,children:[(0,g.jsxs)("div",{className:ne(H["created-container"],"dis-sb-start"),children:[(0,g.jsxs)("div",{className:ne(H["aside-style"]),children:[(0,g.jsxs)("div",{className:ne(H["aside-header"]),children:[(0,g.jsx)(Y.Z,{allowClear:!0,value:Rn,variant:"filled",placeholder:"\u641C\u7D22",prefix:(0,g.jsx)(Pe.Z,{}),onChange:function(p){An(p.target.value)},onClear:function(){An(""),On(be.key,{page:1,pageSize:20})},onPressEnter:function(p){p.key==="Enter"&&(qn(l()(l()({},ia),{},{searching:!0})),Dn(p.currentTarget.value))}}),(0,g.jsx)(M.ZP,{type:"primary",className:ne(H["create-button"]),icon:(0,g.jsx)(v.Z,{}),block:!0,onClick:function(){return me(be.key,Le)},children:"\u521B\u5EFA".concat(be.label)})]}),(0,g.jsx)(Z.Z,{className:ne(H["aside-menu"]),onClick:function(p){return La(p.key)},selectedKeys:[Ye],mode:"vertical",items:Aa()})]}),(0,g.jsx)("div",{className:ne(H["main-style"],"flex-1","overflow-y"),ref:ca,children:Ve?(0,g.jsx)(Ge.Z,{className:ne("h-full")}):yn!=null&&yn.length?yn.map(function(D,p){return be.key===s.qR.MCP?ue(D,p,be):T(D,p)}):(0,g.jsx)("div",{className:ne(H["created-list-empty-style"]),children:(0,g.jsx)(de.Z,{description:ia.searching?"\u6682\u65E0\u6570\u636E\uFF0C\u8BF7\u91CD\u65B0\u641C\u7D22":"\u6682\u65E0\u6570\u636E"})})})]}),(0,g.jsx)(_.Z,{onConfirm:ea,onCancel:function(){return r(!1)},open:B&&be.key===s.qR.Workflow,type:ie.jA.Create,spaceId:Le}),(0,g.jsx)(ee.Z,{onConfirm:ea,spaceId:Le,onCancel:function(){return r(!1)},open:B&&be.key===s.qR.Plugin,mode:ie.jA.Create}),(0,g.jsx)(k.Z,{spaceId:Le,onConfirm:ea,onCancel:function(){return r(!1)},open:B&&be.key===s.qR.Knowledge,mode:ie.jA.Create}),(0,g.jsx)(L.Z,{spaceId:Le,type:s.qR.Table,mode:ie.jA.Create,Confirm:ea,onCancel:function(){return r(!1)},open:B&&be.key===s.qR.Table})]})},vn=xn},80774:function(Ke,V,e){var q=e(82092),t=e.n(q),se=e(48305),m=e.n(se),C=e(46388),l=e(92973),b=e(26145),o=e(83352),x=e(7098),u=e(10560),a=e(87620),d=e(64799),c=e(92122),F=e(26324),s=e(28190),ie=e(63619),h=e(51430),S=e(75271),w=e(48279),f=e(52676),P=function(v){var G=v.loading,te=v.mode,W=te===void 0?c.jA.Create:te,M=v.type,K=v.info,Y=v.open,Z=v.onCancel,de=v.Confirm,le=s.Z.useForm(),Q=m()(le,1),n=Q[0],ye=(0,S.useState)(""),L=m()(ye,2),k=L[0],ee=L[1];(0,S.useEffect)(function(){Y&&K&&(n.setFieldsValue(K),ee(K.icon||""))},[Y,K]);var _=function(){var g=t()(t()({},c.jA.Create,"\u521B\u5EFA"),c.jA.Update,"\u7F16\u8F91"),re=t()(t()(t()(t()({},d.qR.Table,"\u6570\u636E\u8868"),d.qR.Knowledge,"\u77E5\u8BC6\u5E93"),d.qR.Plugin,"\u63D2\u4EF6"),d.qR.Workflow,"\u5DE5\u4F5C\u6D41");return"".concat(g[W]).concat(re[M])},Ge=function(){var g=t()(t()(t()(t()({},d.qR.Table,C),d.qR.Knowledge,l),d.qR.Plugin,b),d.qR.Workflow,o);return g[M]},H=function(g){de(g,M,W)},rn=function(){n.submit()};return(0,f.jsx)(w.Z,{form:n,title:_(),open:Y,loading:G,onCancel:Z,onConfirm:rn,children:(0,f.jsxs)(s.Z,{form:n,layout:"vertical",onFinish:H,requiredMark:F.N,children:[(M===d.qR.Plugin||M===d.qR.Table)&&(0,f.jsx)(s.Z.Item,{name:"icon",children:(0,f.jsx)("div",{className:"dis-center",children:(0,f.jsx)(u.Z,{className:"upload-box",onUploadSuccess:function(g){n.setFieldValue("icon",g),ee(g)},imageUrl:n.getFieldValue("icon")||k,defaultImage:Ge(),svgIconName:"icons-workspace-table"})})}),(0,f.jsx)(s.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"},{validator:function(g,re){return!re||re?.length<=30?Promise.resolve():re?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u540D\u79F0!"))}}],children:(0,f.jsx)(ie.Z,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",showCount:!0,maxLength:30})}),(0,f.jsx)(s.Z.Item,{name:"description",label:"\u63CF\u8FF0",className:"position-relative",children:(0,f.jsx)(ie.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0",autoSize:{minRows:3,maxRows:6},maxLength:100,showCount:!0,className:"dispose-textarea-count"})}),(M===d.qR.Workflow||M===d.qR.Knowledge)&&(0,f.jsx)(s.Z.Item,{name:"icon",children:(0,f.jsx)("div",{children:(0,f.jsx)(u.Z,{className:"upload-box",onUploadSuccess:function(g){n.setFieldValue("icon",g)},imageUrl:k,defaultImage:Ge(),svgIconName:"icons-workspace-knowledge"})})}),M===d.qR.Plugin&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z.Item,{shouldUpdate:!0,label:"\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",name:"type",children:(0,f.jsx)(h.ZP.Group,{options:a.B1})}),(0,f.jsx)(s.Z.Item,{shouldUpdate:!0,children:function(){return n.getFieldValue("type")==="CODE"&&(0,f.jsx)(s.Z.Item,{label:"IDE \u8FD0\u884C\u65F6",name:"codeLang",children:(0,f.jsx)(x.Z,{options:a._n})})}})]})]})})};V.Z=P},6377:function(Ke,V,e){e.d(V,{Z:function(){return o}});var q=e(94581),t=e.n(q),se=e(75271),m={container:"container___dApW8",star:"star___pESlW"},C=e(52676),l=t().bind(m),b=function(u){var a=u.className,d=u.label;return(0,C.jsxs)("span",{className:l(m.container,"flex",a),children:[(0,C.jsx)("span",{children:d}),(0,C.jsx)("span",{className:l(m.star),children:"*"})]})},o=b},94201:function(Ke,V,e){e.d(V,{Z:function(){return c}});var q=e(48305),t=e.n(q),se=e(63619),m=e(28190),C=e(94581),l=e.n(C),b=e(75271),o={"text-area":"text-area___UOMCQ",input:"input___XXN9U",text:"text___m7VFK"},x=e(52676),u=l().bind(o),a=se.Z.TextArea,d=function(s){var ie,h=s.placeholder,S=h===void 0?"\u8BF7\u8F93\u5165":h,w=s.name,f=s.label,P=s.initialValue,Pe=s.maxLength,v=Pe===void 0?200:Pe,G=s.minRows,te=G===void 0?3:G,W=s.maxRows,M=W===void 0?6:W,K=s.rules,Y=(0,b.useState)(""),Z=t()(Y,2),de=Z[0],le=Z[1];return(0,b.useEffect)(function(){P&&le(P)},[P]),(0,x.jsxs)(m.Z.Item,{className:u("relative"),children:[(0,x.jsx)(m.Z.Item,{className:u(o["text-area"]),name:w,label:f,rules:K,children:(0,x.jsx)(a,{rootClassName:o.input,placeholder:S,value:de,onChange:function(n){return le(n.target.value)},maxLength:v,autoSize:{minRows:te,maxRows:M}})}),(0,x.jsxs)("span",{className:u("absolute",o.text),children:[(ie=de?.length)!==null&&ie!==void 0?ie:0,"/",v]})]})},c=d},10560:function(Ke,V,e){e.d(V,{Z:function(){return s}});var q=e(63741),t=e(59934),se=e(61265),m=e(72875),C=e(89858),l=e(41249),b=e(7980),o=e(94581),x=e.n(o),u=e(75271),a={container:"container___Ixour","file-box":"file-box___UiBnI",mask:"mask___TBVHo",image:"image___Ky7U0"},d=e(52676),c=x().bind(a),F=function(h){var S,w=h.className,f=h.onUploadSuccess,P=h.defaultImage,Pe=h.imageUrl,v=h.beforeUpload,G=h.svgIconName,te=function(Y){if(Y.file.status!=="uploading"&&Y.file.status==="done"){var Z,de,le=(Z=Y.file.response)===null||Z===void 0?void 0:Z.code,Q=(de=Y.file.response)===null||de===void 0?void 0:de.data;if(le===t.Gh)f?.(Q?.url);else{var n;l.ZP.warning((n=Y.file.response)===null||n===void 0?void 0:n.message)}}},W=function(Y){var Z=Y.type,de=Y.size,le=Z==="image/jpeg"||Z==="image/jpg"||Z==="image/png";le||l.ZP.error("\u8BF7\u4E0A\u4F20 JPG\u3001JPEG\u3001PNG \u7C7B\u578B\u56FE\u7247\u6587\u4EF6!");var Q=de/1024/1024<2;return Q||l.ZP.error("\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC72MB!"),le&&Q||b.Z.LIST_IGNORE},M=(S=localStorage.getItem(m.LA))!==null&&S!==void 0?S:"";return(0,d.jsx)(b.Z,{action:se.GI,className:c(a.container,w),onChange:te,headers:{Authorization:M?"Bearer ".concat(M):""},showUploadList:!1,beforeUpload:v??W,children:(0,d.jsxs)("div",{className:c(a["file-box"],"relative","overflow-hide","cursor-pointer"),children:[(0,d.jsx)("div",{className:c(a.mask,"flex","content-center","items-center"),children:(0,d.jsx)(C.Z,{})}),G&&!Pe?(0,d.jsx)(q.Jw,{name:G}):(0,d.jsx)("img",{className:c(a.image),src:Pe||P,alt:""})]})})},s=F},85540:function(Ke,V,e){e.d(V,{Z:function(){return u}});var q=e(94581),t=e.n(q),se=e(75271),m=e(92677),C=e(3055),l={"end-loading":"end-loading___xIw5R"},b=e(52676),o=t().bind(l),x=function(d){var c=d.scrollableTarget,F=d.list,s=d.hasMore,ie=d.onScroll,h=d.children;return(0,b.jsx)(m.Z,{dataLength:F.length,next:ie,hasMore:s,loader:(0,b.jsx)(C.Z,{className:o(l["end-loading"])}),scrollableTarget:c,children:h})},u=x},7098:function(Ke,V,e){e.d(V,{Z:function(){return a}});var q=e(3642),t=e(17701),se=e(88958),m=e(94581),C=e.n(m),l=e(75271),b={container:"container___zAmsL","option-icon-box":"option-icon-box___Xu928",icon:"icon___k7L6U",image:"image___gVYjP"},o=e(52676),x=C().bind(b),u=function(c){var F=c.className,s=c.value,ie=c.dropdownRenderComponent,h=c.placeholder,S=c.disabled,w=c.allowClear,f=w===void 0?!1:w,P=c.options,Pe=c.onChange,v=c.size,G=v===void 0?"middle":v;return(0,o.jsx)(t.default,{rootClassName:x(b.container,F),value:s,placeholder:h||"\u8BF7\u9009\u62E9",disabled:S,onChange:Pe,allowClear:f,onClick:function(W){W.stopPropagation()},options:P,size:G,dropdownRender:function(W){return(0,o.jsxs)(o.Fragment,{children:[W,ie]})},optionRender:function(W){var M;return(0,o.jsxs)(se.Z,{gap:8,align:"center",children:[(0,o.jsx)("div",{className:x(b["option-icon-box"]),children:s===W.data.value&&(0,o.jsx)(q.Z,{className:x(b.icon)})}),!!(W!=null&&(M=W.data)!==null&&M!==void 0&&M.img)&&(0,o.jsx)("img",{className:x(b.image,"radius-6"),src:String(W.data.img),alt:""}),(0,o.jsx)("span",{className:x("flex-1","text-ellipsis"),children:W.data.label})]})}})},a=u},6619:function(Ke,V,e){e.d(V,{Z:function(){return d}});var q=e(77661),t=e(92122),se=e(38683),m=e(68108),C=e(94581),l=e.n(C),b=e(75271),o={box:"box___qPDL3"},x=e(52676),u=l().bind(o),a=function(F){var s=F.className,ie=F.type,h=ie===void 0?t.Ai.Blank:ie,S=F.icon,w=F.title,f=F.onClick,P=h===t.Ai.Blank?"tooltip-blank":"tooltip-white",Pe=se.Z.useToken(),v=Pe.token;return(0,x.jsx)(m.Z,{title:w,classNames:{root:P},children:(0,x.jsx)("span",{className:u("hover-box","flex","content-center","items-center","cursor-pointer",o.box,s),onClick:f,children:S||(0,x.jsx)(q.Z,{name:"icons-common-plus",style:{color:v.colorTextTertiary,fontSize:15}})})})},d=a},87620:function(Ke,V,e){e.d(V,{B1:function(){return ie},Ev:function(){return w},Ov:function(){return te},PE:function(){return le},R0:function(){return f},Rh:function(){return K},_n:function(){return h},dh:function(){return S},fi:function(){return de},jp:function(){return Pe},lm:function(){return Z},nF:function(){return v},nK:function(){return Y},s$:function(){return M},uo:function(){return s},w9:function(){return P},xH:function(){return G}});var q=e(46388),t=e(92973),se=e(77992),m=e(26145),C=e(83352),l=e(73415),b=e(64799),o=e(92122),x=e(49528),u=e(80110),a=e(45019),d=e(53895),c=e(38628),F=e(52676),s=[{action:d.KZ.Copy_To_Space,label:"\u590D\u5236\u5230\u7A7A\u95F4",type:d.Lm.Plugin},{action:d.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E",type:d.Lm.Plugin},{action:d.KZ.Del,label:"\u5220\u9664",isDel:!0,type:d.Lm.Plugin},{action:d.KZ.Del,label:"\u5220\u9664",isDel:!0,type:d.Lm.Model},{action:d.KZ.Copy_To_Space,label:"\u590D\u5236\u5230\u7A7A\u95F4",type:d.Lm.Workflow},{action:d.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E",type:d.Lm.Workflow},{action:d.KZ.Del,label:"\u5220\u9664",isDel:!0,type:d.Lm.Workflow},{action:d.KZ.Del,label:"\u5220\u9664",isDel:!0,type:d.Lm.Knowledge},{action:d.KZ.Copy,label:"\u590D\u5236",type:d.Lm.Table},{action:d.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E",type:d.Lm.Table},{action:d.KZ.Del,label:"\u5220\u9664",isDel:!0,type:d.Lm.Table}],ie=[{value:a.AQ.HTTP,label:"\u57FA\u4E8E\u5DF2\u6709\u670D\u52A1\uFF08http\u63A5\u53E3\uFF09\u521B\u5EFA"},{value:a.AQ.CODE,label:"\u57FA\u4E8E\u4E91\u7AEF\u4EE3\u7801\uFF08nodejs\u3001python\uFF09\u521B\u5EFA"}],h=[{value:a.vQ.JavaScript,label:"JavaScript"},{value:a.vQ.Python,label:"Python3"}],S=[{value:o.LM.POST,label:"POST"},{value:o.LM.GET,label:"GET"},{value:o.LM.PUT,label:"PUT"},{value:o.LM.DELETE,label:"DELETE"}],w=[{value:o.lT.OTHER,label:"\u65E0"},{value:o.lT.FORM_DATA,label:"form-data"},{value:o.lT.X_WWW_FORM_URLENCODED,label:"x-www-form-urlencoded"},{value:o.lT.JSON,label:"json"}],f=[{value:b.oI.Body,label:"Body"},{value:b.oI.Path,label:"Path"},{value:b.oI.Query,label:"Query"},{value:b.oI.Header,label:"Header"}],P=[{value:x.Zf.Local_Doc,label:"\u672C\u5730\u6587\u6863",icon:(0,F.jsx)(l.OD,{}),desc:"\u4E0A\u4F20 PDF, TXT, MD, DOC, DOCX \u683C\u5F0F\u7684\u672C\u5730\u6587\u4EF6"},{value:x.Zf.Custom,label:"\u81EA\u5B9A\u4E49",icon:(0,F.jsx)(l.vB,{}),desc:"\u81EA\u5B9A\u4E49"}],Pe=[{value:x.Zf.Custom,label:"\u624B\u52A8\u6DFB\u52A0",icon:(0,F.jsx)(l.vB,{}),desc:"\u624B\u52A8\u6DFB\u52A0"},{value:x.Zf.Local_Doc,label:"\u6279\u91CF\u5BFC\u5165",icon:(0,F.jsx)(l.OD,{}),desc:"\u4E0A\u4F20 Excel \u683C\u5F0F\u7684\u672C\u5730\u6587\u4EF6"}],v=[{title:"\u4E0A\u4F20"},{title:"\u521B\u5EFA\u8BBE\u7F6E"},{title:"\u6570\u636E\u5904\u7406"}],G=[{title:"\u6587\u672C\u586B\u5199"},{title:"\u5206\u6BB5\u8BBE\u7F6E"},{title:"\u6570\u636E\u5904\u7406"}],te=[{type:d.Lm.Plugin,defaultImage:m,icon:(0,F.jsx)(l.P1,{}),text:"\u63D2\u4EF6"},{type:d.Lm.Knowledge,defaultImage:t,icon:(0,F.jsx)(l.r7,{}),text:"\u77E5\u8BC6\u5E93"},{type:d.Lm.Workflow,defaultImage:C,icon:(0,F.jsx)(l.xp,{}),text:"\u5DE5\u4F5C\u6D41"},{type:d.Lm.Table,defaultImage:q,icon:(0,F.jsx)(l.ct,{}),text:"\u6570\u636E\u8868"},{type:d.Lm.Model,defaultImage:se,icon:(0,F.jsx)(l.ky,{}),text:"\u6A21\u578B"}],W=[{value:u.Y1.Internet,label:"\u516C\u7F51\u6A21\u578B"}],M=[{value:u.cx.RoundRobin,label:"\u8F6E\u8BE2"},{value:u.cx.WeightedRoundRobin,label:"\u52A0\u6743\u8F6E\u8BE2"},{value:u.cx.LeastConnections,label:"\u52A0\u6743\u6700\u5C11\u8FDE\u63A5"},{value:u.cx.Random,label:"\u968F\u673A"},{value:u.cx.ResponseTime,label:"\u54CD\u5E94\u65F6\u95F4"}],K=[{value:u.Mj.Completions,label:"\u6587\u672C\u8865\u5168"},{value:u.Mj.Chat,label:"\u804A\u5929\u5BF9\u8BDD-\u7EAF\u6587\u672C"},{value:u.Mj.Edits,label:"\u6587\u672C\u7F16\u8F91"},{value:u.Mj.Images,label:"\u56FE\u50CF\u5904\u7406"},{value:u.Mj.Multi,label:"\u804A\u5929\u5BF9\u8BDD-\u591A\u6A21\u6001"},{value:u.Mj.Embeddings,label:"\u5411\u91CF\u5D4C\u5165"},{value:u.Mj.Audio,label:"\u8BED\u97F3\u5904\u7406"},{value:u.Mj.Other,label:"\u5176\u4ED6"}],Y=[{value:u.re.CallSupported,label:"\u652F\u6301\u666E\u901A\u51FD\u6570\u8C03\u7528"},{value:u.re.StreamCallSupported,label:"\u652F\u6301\u6D41\u5F0F\u51FD\u6570\u8C03\u7528"},{value:u.re.Unsupported,label:"\u4E0D\u652F\u6301\u51FD\u6570\u8C03\u7528"}],Z=[{value:u.HN.OpenAI,label:"OpenAI"},{value:u.HN.Ollama,label:"Ollama"},{value:u.HN.Anthropic,label:"Anthropic"}],de=[{label:"\u5143\u6570\u636E",value:a.N9.Metadata,icon:(0,F.jsx)(c.Z,{})},{label:"\u4EE3\u7801",value:a.N9.Code,icon:(0,F.jsx)(l.PR,{})}],le=[{label:"\u6362\u884C\uFF08\\n\uFF09",value:x.Gp.Line_Feed},{label:"2\u4E2A\u6362\u884C\uFF08\\n\\n\uFF09",value:x.Gp.Two_Line_Feed},{label:"\u4E2D\u6587\u53E5\u53F7\uFF08\u3002\uFF09",value:x.Gp.Chinese_Sentence},{label:"\u4E2D\u6587\u53F9\u53F7(\uFF01)",value:x.Gp.Chinese_Exclamation},{label:"\u82F1\u6587\u53E5\u53F7\uFF08.\uFF09",value:x.Gp.English_Sentence},{label:"\u82F1\u6587\u53F9\u53F7\uFF08!\uFF09",value:x.Gp.English_Exclamation},{label:"\u4E2D\u6587\u95EE\u53F7\uFF08\uFF1F\uFF09",value:x.Gp.Chinese_Question_Mark},{label:"\u82F1\u6587\u95EE\u53F7\uFF08?\uFF09",value:x.Gp.English_Question_Mark},{label:"\u81EA\u5B9A\u4E49",value:x.Gp.Custom}]},15258:function(Ke,V,e){e.r(V),e.d(V,{default:function(){return Oa}});var q=e(90228),t=e.n(q),se=e(87999),m=e.n(se),C=e(26068),l=e.n(C),b=e(15558),o=e.n(b),x=e(48305),u=e.n(x),a=e(48614),d=e(59934),c=e(48528),F=e(92122),s=e(49528),ie=e(24057),h=e(41249),S=e(63619),w=e(94581),f=e.n(w),P=e(32222),Pe=e.n(P),v=e(75271),G=e(56179),te=e(85540),W=e(3055),M=e(17023),K=e(82092),Y=e.n(K),Z=e(13297),de=e(68108),le=e(9504),Q={"file-info":"file-info___HyY1N",active:"active___MVg4i",analyzing:"analyzing___gjje2","analyzing-success":"analyzing-success___McMOJ","retry-btn":"retry-btn___xpRJl"},n=e(52676),ye=f().bind(Q),L=function(A){var U,ue=A.currentDocId,T=A.info,me=A.onClick,D=A.onSetAnalyzed,p=(0,G.useRequest)(c.T5,{manual:!0,debounceInterval:300,onSuccess:function(ce,O){var _e=O[0],pe={docStatus:s.Z$.ANALYZING_RAW,docStatusCode:s.Se.ANALYZING_RAW,docStatusDesc:"\u5206\u6790\u4E2D",docStatusReason:"\u5206\u6BB5\u751F\u6210\u4E2D"};D(_e,pe)}}),E=p.run,j=(0,G.useRequest)(c.SR,{manual:!0,debounceInterval:300,loadingDelay:300,pollingInterval:5e3,pollingWhenHidden:!1,pollingErrorRetryCount:3,onSuccess:function(ce){var O=ce.docStatusCode,_e=ce.id,pe=ce.docStatus,Oe=ce.docStatusDesc,ae=ce.docStatusReason;if(O===s.Se.ANALYZED||O===s.Se.ANALYZE_FAILED){var Ie={docStatus:pe,docStatusCode:O,docStatusDesc:Oe,docStatusReason:ae};D(_e,Ie)}O===s.Se.ANALYZED&&$()},onError:function(){$()}}),N=j.run,$=j.cancel;(0,v.useEffect)(function(){$();var z=T.docStatusCode;return z!==s.Se.ANALYZED&&z!==s.Se.ANALYZE_FAILED&&N(T.id),function(){$()}},[T?.docStatusCode]);var I=function(ce){ce.stopPropagation(),E(T.id)};return(0,n.jsxs)("li",{onClick:function(){return me(T)},className:ye(Q["file-info"],"flex","items-center","radius-6","overflow-hide",Y()({},Q.active,ue===T.id)),children:[(0,n.jsx)(Z.Z,{}),(0,n.jsx)(de.Z,{title:((U=T.name)===null||U===void 0?void 0:U.length)>25?T.name:"",children:(0,n.jsx)("span",{className:ye("flex-1","text-ellipsis"),children:T.name})}),T.docStatusCode===s.Se.ANALYZED?(0,n.jsx)("span",{className:ye(Q.analyzing,Q["analyzing-success"]),children:"\u6784\u5EFA\u6210\u529F"}):T.docStatusCode===s.Se.ANALYZE_FAILED?(0,n.jsx)(le.ZP,{type:"primary",className:ye(Q["retry-btn"]),size:"small",danger:!0,onClick:I,children:"\u6784\u5EFA\u5931\u8D25,\u91CD\u65B0\u6784\u5EFA"}):(0,n.jsx)("span",{className:ye(Q.analyzing),children:"\u6784\u5EFA\u4E2D"})]})},k=L,ee={container:"container___tss1C","search-icon":"search-icon___ALiyn","document-title":"document-title___D2nw4"},_=f().bind(ee),Ge=function(A){var U=A.currentDocId,ue=A.onChange,T=A.loading,me=A.documentList,D=A.onClick,p=A.onSetAnalyzed,E=A.hasMore,j=A.onScroll;return(0,n.jsxs)("div",{className:_(ee.container,"h-full","flex","flex-col"),children:[(0,n.jsx)(S.Z.Search,{placeholder:"\u641C\u7D22",size:"large",onChange:function($){return ue($.target.value)},allowClear:!0,prefix:(0,n.jsx)(M.Z,{className:_(ee["search-icon"])})}),(0,n.jsx)("p",{className:_(ee["document-title"]),children:"\u6587\u6863\u5217\u8868"}),T?(0,n.jsx)(W.Z,{}):(0,n.jsx)("ul",{className:_("flex-1","overflow-y"),id:"docListDiv",children:(0,n.jsx)(te.Z,{scrollableTarget:"docListDiv",list:me,hasMore:E,onScroll:j,children:me?.map(function(N){return(0,n.jsx)(k,{currentDocId:U,info:N,onClick:D,onSetAnalyzed:p},N.id)})})})]})},H=Ge,rn={container:"container___TcbAQ","inner-container":"inner-container___iBi0j",inputSearch:"inputSearch___lG2EX"},De=e(92973),g=e(28397),re=e(87620),sn=e(18631),Xe=e(86230),Je=e(61606),Ne=e(23299),Fe=e(13143),Te=e(51430),ke={"xagi-nav-style2":"xagi-nav-style2___thez1",text:"text___wmFD_","page-container":"page-container___sbebK",header:"header___OeFg1","icon-back":"icon-back___KsVkd",logo:"logo___wkezw",section:"section___NHd4m","top-box":"top-box___ZxXf5",name:"name___BgnUx","bottom-box":"bottom-box___JpcN2",box:"box___W35m8","dropdown-icon":"dropdown-icon___DUW6P","radio-group-box":"radio-group-box___Q0t0u"},ne=f().bind(ke),hn=function(A){var U=A.docCount,ue=U===void 0?0:U,T=A.knowledgeInfo,me=A.onEdit,D=A.onPopover,p=A.onQaPopover,E=A.docType,j=E===void 0?s.Sg.DOC:E,N=A.onChangeDocType,$=(0,G.useParams)(),I=$.spaceId,z=T!=null&&T.fileSize?(0,sn.td)(T.fileSize):"0KB",ce=function(_e){N(_e.target.value)};return(0,n.jsxs)("header",{className:ne("flex","items-center","w-full",ke.header),children:[(0,n.jsx)(Je.Z,{className:ne(ke["icon-back"],"cursor-pointer"),onClick:function(){return(0,Xe.bC)("/space/".concat(I,"/library"))}}),(0,n.jsx)("img",{className:ne(ke.logo),src:T?.icon||De,alt:""}),(0,n.jsxs)("section",{className:ne("flex","flex-col","content-between",ke.section),children:[(0,n.jsxs)("div",{className:ne("flex",ke["top-box"]),children:[(0,n.jsx)("h3",{className:ne(ke.name,"text-ellipsis"),children:T?.name}),(0,n.jsx)(Ne.Z,{className:ne("cursor-pointer","hover-box"),onClick:me})]}),(0,n.jsxs)("div",{className:ne(ke["bottom-box"],"flex","items-center"),children:[(0,n.jsx)("span",{className:ne(ke.box),children:"".concat(z)}),(0,n.jsx)("span",{className:ne(ke.box),children:"".concat(ue,"\u4E2A\u6587\u6863")})]})]}),(0,n.jsxs)(Te.ZP.Group,{className:ne("flex","items-center","flex-1","content-center",ke["radio-group-box"]),optionType:"button",defaultValue:j,onChange:ce,children:[(0,n.jsx)(Te.ZP,{value:s.Sg.DOC,children:"\u6587\u6863"}),(0,n.jsx)(Te.ZP,{value:s.Sg.QA,children:"QA\u95EE\u7B54"})]}),(0,n.jsx)("div",{style:{width:150,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:j===s.Sg.DOC?(0,n.jsx)(g.Z,{list:re.w9,onClick:D,children:(0,n.jsx)(le.ZP,{type:"primary",icon:(0,n.jsx)(Fe.Z,{className:ne(ke["dropdown-icon"])}),iconPosition:"end",children:"\u6DFB\u52A0\u5185\u5BB9"})}):(0,n.jsx)(g.Z,{list:re.jp,onClick:p,children:(0,n.jsx)(le.ZP,{type:"primary",icon:(0,n.jsx)(Fe.Z,{className:ne(ke["dropdown-icon"])}),iconPosition:"end",children:"\u6DFB\u52A0QA\u95EE\u7B54"})})})]})},_n=hn,xn=e(65774),vn=e(73888),an=e(86743),Ce=e(66118),$e=e(75434),oe=e(28190),Me=e(14719),ve=e(18344),he=e(20961),Qe=e(59245),cn=e.n(Qe),ln=e(59261),we=e(6377),qe=e(7098),ze=e(39373),Le=e(26324),i={"xagi-nav-style2":"xagi-nav-style2___u6luY",text:"text___lfWXh","page-container":"page-container___hBhhl","set-box":"set-box___jlKbK","mt-50":"mt-50___Ycewq",active:"active___Vs7Tm","custom-set-hide":"custom-set-hide___Ho8Xr","divider-horizontal":"divider-horizontal___UiZMH","mb-10":"mb-10___F_4Nm"},y=f().bind(i),B=function(A){var U=A.form,ue=A.autoSegmentConfigFlag,T=A.onChoose,me=(0,v.useState)(s.Gp.Line_Feed),D=u()(me,2),p=D[0],E=D[1],j=function($){var I=$;E(I)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:y(i["set-box"],"px-16","py-16","cursor-pointer",Y()({},i.active,ue),i["mt-50"]),onClick:function(){return T(!0)},children:[(0,n.jsx)("h3",{children:"\u81EA\u52A8\u5206\u6BB5\u4E0E\u6E05\u6D17"}),(0,n.jsx)("p",{children:"\u81EA\u52A8\u5206\u6BB5\u4E0E\u9884\u5904\u7406\u89C4\u5219"})]}),(0,n.jsxs)("div",{className:y(i["set-box"],"px-16","py-16","cursor-pointer",Y()({},i.active,!ue)),onClick:function(){return T(!1)},children:[(0,n.jsx)("h3",{children:"\u81EA\u5B9A\u4E49"}),(0,n.jsx)("p",{children:"\u81EA\u5B9A\u4E49\u5206\u6BB5\u89C4\u5219\uFF0C\u5206\u6BB5\u957F\u5EA6\u53CA\u9884\u5904\u7406\u89C4\u5219"}),(0,n.jsxs)("div",{className:y(Y()({},i["custom-set-hide"],ue)),children:[(0,n.jsx)("div",{className:y(i["divider-horizontal"])}),(0,n.jsxs)(oe.Z,{form:U,layout:"vertical",initialValues:{selectDelimiter:s.Gp.Line_Feed,words:800,overlaps:10},requiredMark:Le.N,children:[(0,n.jsxs)(oe.Z.Item,{label:(0,n.jsx)(we.Z,{label:"\u5206\u6BB5\u6807\u8BC6\u7B26"}),children:[(0,n.jsx)(oe.Z.Item,{name:"selectDelimiter",noStyle:!0,children:(0,n.jsx)(qe.Z,{className:y(Y()({},i["mb-10"],p===s.Gp.Custom)),value:p,onChange:j,options:re.PE})}),(0,n.jsx)(ln.Z,{condition:p===s.Gp.Custom,children:(0,n.jsx)(oe.Z.Item,{name:"delimiter",noStyle:!0,rules:[{required:!0,message:"\u8F93\u5165\u5206\u6BB5\u6807\u8BC6\u7B26"}],children:(0,n.jsx)(S.Z,{placeholder:"\u8F93\u5165\u5206\u6BB5\u6807\u8BC6\u7B26\uFF0C\u4F8B\u5982 \\n \u6362\u884C"})})})]}),(0,n.jsx)(oe.Z.Item,{name:"words",label:"\u5206\u6BB5\u6700\u5927\u957F\u5EA6",rules:[{required:!0,message:"\u8BF7\u8F93\u5165100-5000\u7684\u6570\u503C"},{validator:function($,I){return!I||Number(I)>=100&&Number(I)<=5e3?Promise.resolve():I&&!(0,ze.hj)(I)?Promise.reject(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u6570\u5B57!")):Promise.reject(new Error("\u5206\u6BB5\u6700\u5927\u957F\u5EA6\u4E0D\u5F97\u5C0F\u4E8E100\uFF0C\u5927\u4E8E5000!"))}}],children:(0,n.jsx)(S.Z,{placeholder:"\u8BF7\u8F93\u5165100-5000\u7684\u6570\u503C"})}),(0,n.jsx)(oe.Z.Item,{name:"overlaps",label:"\u5206\u6BB5\u91CD\u53E0\u5EA6%",rules:[{required:!0,message:"\u8BF7\u8F93\u51650-100\u7684\u6570\u503C"},{validator:function($,I){return!I||Number(I)>=0&&Number(I)<=100?Promise.resolve():I&&!(0,ze.hj)(I)?Promise.reject(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u6570\u5B57!")):Promise.reject(new Error("\u5206\u6BB5\u91CD\u53E0\u5EA6\u4E0D\u5F97\u5C0F\u4E8E0\uFF0C\u5927\u4E8E100!"))}}],children:(0,n.jsx)(S.Z,{placeholder:"\u8BF7\u8F93\u51650-100\u7684\u6570\u503C"})})]})]})]})]})},r=B,en={container:"container___ZLORR",box:"box___HKphT",desc:"desc___cHq1A"},on=f().bind(en),Rn=function(A){var U=A.uploadFileList;return(0,n.jsx)(n.Fragment,{children:U?.map(function(ue){return(0,n.jsx)("div",{className:on(en.container),children:(0,n.jsxs)("div",{className:on("flex","items-center","radius-6",en.box),children:[(0,n.jsx)("img",{className:on("radius-6"),src:xn,alt:""}),(0,n.jsxs)("div",{className:on("flex-1","overflow-hide"),children:[(0,n.jsx)("h3",{className:on("text-ellipsis"),children:ue.name}),(0,n.jsx)("span",{className:on(en.desc),children:"".concat(ue.size/1e3," kb")})]})]})},ue.key)})})},An=Rn,wn={container:"container___NSoS7"},$n=f().bind(wn),be=S.Z.TextArea,ra=function(A){var U=A.form;return(0,n.jsxs)(oe.Z,{form:U,layout:"vertical",rootClassName:$n(wn.container),requiredMark:Le.N,children:[(0,n.jsx)(oe.Z.Item,{name:"name",label:"\u6587\u6863\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6863\u540D\u79F0"}],children:(0,n.jsx)(S.Z,{placeholder:"\u8F93\u5165\u6587\u6863\u540D\u79F0",showCount:!0,maxLength:100})}),(0,n.jsx)(oe.Z.Item,{name:"fileContent",label:"\u6587\u6863\u5185\u5BB9",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6863\u5185\u5BB9"}],children:(0,n.jsx)(be,{placeholder:"\u8F93\u5165\u6587\u6863\u5185\u5BB9",autoSize:{minRows:6,maxRows:8}})})]})},zn=ra,Bn=e(61265),Zn=e(72875),In=e(15739),Fn=e(7980),Un={container:"container___Wflwg"},Sn=f().bind(Un),Mn=Fn.Z.Dragger,sa=function(A){var U,ue=A.onUploadSuccess,T=A.beforeUpload,me=A.onChange,D=A.fileList,p=A.multiple,E=p===void 0?!1:p,j=A.height,N=j===void 0?386:j,$=function(O){var _e=O.file.status;if(me?.(O),_e!=="uploading"&&_e==="done"){var pe,Oe;if(((pe=O.file.response)===null||pe===void 0?void 0:pe.code)!==d.Gh){var ae;h.ZP.warning((ae=O.file.response)===null||ae===void 0?void 0:ae.message);return}var Ie=(Oe=O.file.response)===null||Oe===void 0?void 0:Oe.data;ue?.(Ie)}},I=function(O){var _e,pe=O.name,Oe=O.size;if(!pe.includes("."))return h.ZP.error("\u8BF7\u4E0A\u4F20\u6B63\u786E\u7684\u6587\u4EF6\u7C7B\u578B"),!1;var ae=pe.split("."),Ie=(_e=ae[ae.length-1])===null||_e===void 0?void 0:_e.toLowerCase(),Ee=Bn.Y9.includes(Ie);Ee||h.ZP.error("\u8BF7\u4E0A\u4F20 PDF\u3001TXT\u3001DOC\u3001DOCX\u3001MD\u3001JSON\u3001JPG\u3001PNG\u3001GIF\u3001WEBP\u3001SVG\u3001HEIC\u3001MP4\u3001MKV\u3001MOV\u3001WEBM\u3001MP3\u3001AAC\u3001WAV\u3001FLAC\u3001OGG\u3001OPUS \u7C7B\u578B\u6587\u4EF6!");var fe=Oe/1024/1024<100;return fe||h.ZP.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7100MB!"),Ee&&fe||Fn.Z.LIST_IGNORE},z=(U=localStorage.getItem(Zn.LA))!==null&&U!==void 0?U:"";return(0,n.jsx)("div",{className:Sn("flex flex-col content-center",Un.container),style:{height:N},children:(0,n.jsxs)(Mn,{className:Sn("h-full"),action:Bn.GI,onChange:$,multiple:E,fileList:D,headers:{Authorization:z?"Bearer ".concat(z):""},showUploadList:!1,beforeUpload:T??I,children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(In.Z,{})}),(0,n.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u4E0A\u4F20\u6216\u62D6\u62FD\u6587\u6863\u5230\u8FD9\u91CC"}),(0,n.jsx)("p",{className:"ant-upload-hint",children:"\u652F\u6301 PDF\u3001TXT\u3001DOC\u3001DOCX\u3001MD\u3001JSON\u3001JPG\u3001PNG\u3001GIF\u3001WEBP\u3001SVG\u3001HEIC\u3001MP4\u3001MKV\u3001MOV\u3001WEBM\u3001MP3\u3001AAC\u3001WAV\u3001FLAC\u3001OGG\u3001OPUS\uFF0C\u6700\u591A\u53EF\u4E0A\u4F20 300 \u4E2A\u6587\u4EF6\uFF0C\u6BCF\u4E2A\u6587\u4EF6\u4E0D\u8D85\u8FC7 100MB\uFF0C PDF \u6700\u591A 500 \u9875"})]})})},Yn=sa,Ye={container:"container___tFtX8",header:"header___wuG3n",body:"body___mYOi1",gap:"gap___SPBCR","step-wrap":"step-wrap___FeUXk",fileList:"fileList___oV1Gy","file-box":"file-box___u0M_L",box:"box___XvOd5",span:"span___A8vDZ","progress-upload-file":"progress-upload-file___j10i7","progress-upload-file-error":"progress-upload-file-error___W4cLz","progress-upload-file-success":"progress-upload-file-success___Ey3Y6"},nn=f().bind(Ye),la=function(A){var U,ue=A.id,T=A.type,me=T===void 0?s.Zf.Local_Doc:T,D=A.open,p=A.onConfirm,E=A.onCancel,j=oe.Z.useForm(),N=u()(j,1),$=N[0],I=oe.Z.useForm(),z=u()(I,1),ce=z[0],O=(0,v.useState)(s.ah.Upload_Or_Text_Fill),_e=u()(O,2),pe=_e[0],Oe=_e[1],ae=(0,v.useState)([]),Ie=u()(ae,2),Ee=Ie[0],fe=Ie[1],Re=(0,v.useState)([]),tn=u()(Re,2),ge=tn[0],We=tn[1],mn=(0,v.useState)(!0),Tn=u()(mn,2),un=Tn[0],Nn=Tn[1],Gn=(0,v.useRef)();(0,v.useEffect)(function(){We(Ee.filter(function(R){return R.status===F.KM.done&&R.key&&R.url}))},[Ee]);var na=(0,v.useRef)(null),pa=function(){Oe(s.ah.Upload_Or_Text_Fill),fe([]),Nn(!0),$.resetFields(),ce.resetFields(),na.current=null},_a=(0,G.useRequest)(c.Il,{manual:!0,debounceInterval:300,onSuccess:function(){h.ZP.success("\u6587\u6863\u6DFB\u52A0\u6210\u529F"),pa(),p()}}),Be=_a.run,aa=(0,G.useRequest)(c.gd,{manual:!0,debounceInterval:300,onSuccess:function(){h.ZP.success("\u6587\u6863\u6DFB\u52A0\u6210\u529F"),pa(),p()}}),Ca=aa.run,ya=function(){var R=m()(t()().mark(function Ue(){var Ze,He;return t()().wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:Ze=ge?.map(function(va){return{name:va.name,docUrl:va.url,fileSize:va.size}})||[],He={kbId:ue,fileList:Ze,autoSegmentConfigFlag:un},Be(un?He:l()(l()({},He),{},{segmentConfig:l()(l()({segment:s.D7.DELIMITER},na.current),{},{isTrim:!0})}));case 3:case"end":return pn.stop()}},Ue)}));return function(){return R.apply(this,arguments)}}(),Da=(0,v.useCallback)(function(R){return(0,vn.U)(R)},[]),fa=function(){var R=m()(t()().mark(function Ue(){var Ze;return t()().wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:Ze=l()(l()({kbId:ue},Gn.current),{},{autoSegmentConfigFlag:un}),Ca(un?Ze:l()(l()({},Ze),{},{segmentConfig:l()(l()({segment:s.D7.DELIMITER},na.current),{},{isTrim:!0})}));case 2:case"end":return Qn.stop()}},Ue)}));return function(){return R.apply(this,arguments)}}(),Ra=(0,v.useMemo)(function(){return me===s.Zf.Local_Doc?re.nF:re.xH},[me]),Ea=function(Ue){var Ze=o()(Ee);Ze.splice(Ze.findIndex(function(He){return He.uid===Ue}),1),fe(Ze)},Fa=function(){var R=m()(t()().mark(function Ue(){return t()().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:if(me!==s.Zf.Custom){He.next=4;break}return He.next=3,ce.validateFields();case 3:Gn.current=He.sent;case 4:Oe(s.ah.Create_Segmented_Set);case 5:case"end":return He.stop()}},Ue)}));return function(){return R.apply(this,arguments)}}(),Ma=function(){var R=m()(t()().mark(function Ue(){var Ze,He;return t()().wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:if(un){pn.next=6;break}return pn.next=3,$.validateFields();case 3:Ze=pn.sent,Ze?.selectDelimiter===s.Gp.Custom?He=cn()(Ze,["selectDelimiter"]):He={delimiter:Ze?.selectDelimiter,overlaps:Number(Ze.overlaps),words:Number(Ze.words)},na.current=He;case 6:Oe(s.ah.Data_Processing);case 7:case"end":return pn.stop()}},Ue)}));return function(){return R.apply(this,arguments)}}(),Na=function(){switch(pe){case s.ah.Upload_Or_Text_Fill:return(0,n.jsxs)("div",{className:nn("flex","content-end",Ye.gap),children:[(0,n.jsx)(le.ZP,{onClick:E,children:"\u53D6\u6D88"}),(0,n.jsx)(le.ZP,{onClick:Fa,type:"primary",disabled:me===s.Zf.Local_Doc?ge?.length===0:!1,children:"\u4E0B\u4E00\u6B65"})]});case s.ah.Create_Segmented_Set:return(0,n.jsxs)("div",{className:nn("flex","content-end",Ye.gap),children:[(0,n.jsx)(le.ZP,{onClick:function(){return Oe(s.ah.Upload_Or_Text_Fill)},children:"\u4E0A\u4E00\u6B65"}),(0,n.jsx)(le.ZP,{onClick:Ma,type:"primary",children:"\u4E0B\u4E00\u6B65"})]});case s.ah.Data_Processing:return(0,n.jsxs)("div",{className:nn("flex","content-end",Ye.gap),children:[(0,n.jsx)(le.ZP,{onClick:function(){return Oe(s.ah.Create_Segmented_Set)},children:"\u4E0A\u4E00\u6B65"}),(0,n.jsx)(le.ZP,{onClick:me===s.Zf.Local_Doc?ya:fa,type:"primary",children:"\u786E\u8BA4"})]})}},xa=function(){pa(),E()},wa=function(Ue){var Ze=Ue.fileList;fe((0,vn.G)(Ze,90))},Ba=(0,v.useCallback)(function(R){return R?R.length>24?R.slice(0,16)+"..."+R.slice(R.length-8,R.length):R:""},[]),Za=(0,v.useCallback)(function(R){return R?R<1024?"".concat(R," B"):R<1024*1024?"".concat((R/1024).toFixed(2)," KB"):R<1024*1024*1024?"".concat((R/1024/1024).toFixed(2)," MB"):"".concat((R/1024/1024/1024).toFixed(2)," GB"):""},[]);return(0,n.jsxs)(Me.Z,{title:"\u6DFB\u52A0\u5185\u5BB9",destroyOnHidden:!0,classNames:{content:nn(Ye.container),header:nn(Ye.header),body:nn(Ye.body)},open:D,onCancel:xa,footer:Na,children:[(0,n.jsx)("div",{className:nn(Ye["step-wrap"],"radius-6"),children:(0,n.jsx)(ve.Z,{type:"default",current:pe,items:Ra})}),pe===s.ah.Upload_Or_Text_Fill?me===s.Zf.Local_Doc?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Yn,{onChange:wa,multiple:!0,fileList:Ee,height:200}),(0,n.jsx)("div",{className:nn(Ye.fileList),children:Ee?.map(function(R){return(0,n.jsxs)("div",{className:nn(Ye["file-box"]),children:[(0,n.jsxs)("div",{className:nn("flex","items-center","content-between"),style:{height:"100%"},children:[(0,n.jsxs)("span",{style:{color:R?.status===F.KM.error?"#e53241":"rgba(0, 0, 0, 0.88)"},children:[Ba(R?.name)," (",Za(R?.size),")"]}),(0,n.jsx)(an.Z,{onClick:function(){return Ea(R.uid)}})]}),R?.percent!==void 0&&(Da(R)==="success"?(0,n.jsx)("div",{className:Ye["progress-upload-file-success"],children:(0,n.jsx)(Ce.Z,{})}):(0,n.jsx)(he.Z,{percent:Math.floor(R.percent||0),type:"circle",status:Da(R),size:20,className:Ye["progress-upload-file"]})),R?.status===F.KM.error&&(0,n.jsx)("div",{className:Ye["progress-upload-file-error"],children:(0,n.jsx)($e.Z,{})})]},R.uid)})})]}):(0,n.jsx)(zn,{form:ce}):pe===s.ah.Create_Segmented_Set?(0,n.jsx)(r,{form:$,autoSegmentConfigFlag:un,onChoose:function(Ue){return Nn(Ue)}}):me===s.Zf.Local_Doc?(0,n.jsx)(An,{uploadFileList:ge}):(0,n.jsxs)("div",{className:nn("flex","items-center","radius-6",Ye.box),children:[(0,n.jsx)("img",{className:nn("radius-6"),src:xn,alt:""}),(0,n.jsx)("h3",{className:nn("text-ellipsis","flex-1"),children:(U=Gn.current)===null||U===void 0?void 0:U.name})]})]})},Vn=la,Cn=e(30426),oa=e(54134),ua=e(7010),Hn=e(69219),yn=e(32699),Pn={dragger:"dragger___RX3qp"},Xn=f().bind(Pn),Jn=Fn.Z.Dragger,Ve=function(A){var U=A.open,ue=A.kbId,T=A.onConfirm,me=A.onCancel,D=(0,v.useState)([]),p=u()(D,2),E=p[0],j=p[1],N=(0,v.useState)(!1),$=u()(N,2),I=$[0],z=$[1];(0,v.useEffect)(function(){U||(j([]),z(!1))},[U]);var ce=function(){var ae=m()(t()().mark(function Ie(Ee,fe,Re){var tn;return t()().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return We.prev=0,We.next=3,(0,c.s2)({file:Ee,kbId:ue});case 3:tn=We.sent,tn.code==="0000"?fe():Re(tn.message||"\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6\u683C\u5F0F\u662F\u5426\u6B63\u786E"),We.next=11;break;case 7:We.prev=7,We.t0=We.catch(0),console.error("\u4E0A\u4F20\u6587\u4EF6\u51FA\u9519:",We.t0),z(!1);case 11:case"end":return We.stop()}},Ie,null,[[0,7]])}));return function(Ee,fe,Re){return ae.apply(this,arguments)}}(),O={name:"file",multiple:!1,accept:".xlsx,.xls",maxCount:1,beforeUpload:function(Ie){var Ee=Ie.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||Ie.type==="application/vnd.ms-excel"||Ie.name.endsWith(".xlsx")||Ie.name.endsWith(".xls");if(!Ee)return h.ZP.error("\u4EC5\u652F\u6301Excel\u6587\u4EF6(.xlsx/.xls)"),!1;var fe=Ie.size/1024/1024<10;return fe?(j([Ie]),!1):(h.ZP.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710MB"),!1)},onRemove:function(){j([])},fileList:E},_e=(0,yn.debounce)(function(){if(E.length===0){h.ZP.error("\u8BF7\u4E0A\u4F20\u6587\u4EF6");return}z(!0),ce(E[0],function(){z(!1),h.ZP.success("\u6279\u91CF\u5BFC\u5165\u6210\u529F"),j([]),T()},function(ae){z(!1),h.ZP.error(ae)})},500),pe=function(){j([]),me()},Oe=function(){var ae=m()(t()().mark(function Ie(){var Ee,fe,Re;return t()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return console.log("\u4E0B\u8F7DQA\u6279\u91CFexcel\u6A21\u677F"),ge.prev=1,ge.next=4,(0,c.ds)();case 4:Ee=ge.sent,fe=URL.createObjectURL(Ee),Re=document.createElement("a"),Re.href=fe,Re.download="QA\u6279\u91CFexcel\u6A21\u677F.xlsx",Re.click(),URL.revokeObjectURL(fe),ge.next=17;break;case 13:ge.prev=13,ge.t0=ge.catch(1),console.error(ge.t0),h.ZP.error("\u4E0B\u8F7DQA\u6279\u91CFexcel\u6A21\u677F\u5931\u8D25");case 17:case"end":return ge.stop()}},Ie,null,[[1,13]])}));return function(){return ae.apply(this,arguments)}}();return(0,n.jsxs)(Me.Z,{title:"QA\u6279\u91CF\u5BFC\u5165",open:U,confirmLoading:I,onCancel:pe,footer:(0,n.jsxs)(ua.Z,{children:[(0,n.jsx)(de.Z,{title:"\u4E0B\u8F7DExcel\u5BFC\u5165\u6A21\u677F",children:(0,n.jsx)(le.ZP,{icon:(0,n.jsx)(Cn.Z,{}),type:"link",onClick:Oe,children:"\u4E0B\u8F7D\u6A21\u677F"})}),(0,n.jsx)(le.ZP,{type:"primary",disabled:E.length===0,onClick:_e,loading:I,children:"\u786E\u8BA4\u4E0A\u4F20"})]}),destroyOnHidden:!0,width:500,children:[(0,n.jsx)("div",{className:Xn(Pn.dragger),children:(0,n.jsxs)(Jn,l()(l()({},O),{},{className:Xn("h-full"),children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(oa.Z,{})}),(0,n.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u62D6\u62FD\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u4E0A\u4F20"}),(0,n.jsx)("p",{className:"ant-upload-hint",children:"\u4EC5\u652F\u6301Excel\u6587\u4EF6(.xlsx/.xls)\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC710MB"})]}))}),E.length===0&&(0,n.jsx)("div",{style:{marginTop:16,textAlign:"center"},children:(0,n.jsx)(Hn.Z.Text,{type:"secondary",children:"\u8BF7\u5148\u4E0B\u8F7D\u5BFC\u5165\u6A21\u677F\uFF0C\u6309\u7167\u683C\u5F0F\u586B\u5199\u540E\u4E0A\u4F20"})})]})},X=Ve,dn=function(A){var U=A.data,ue=A.open,T=A.onCancel,me=A.onConfirm,D=oe.Z.useForm(),p=u()(D,1),E=p[0],j=(0,v.useState)(!1),N=u()(j,2),$=N[0],I=N[1],z=function(){var O=m()(t()().mark(function _e(){var pe;return t()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.prev=0,I(!0),ae.next=4,E.validateFields();case 4:return pe=ae.sent,ae.next=7,me(l()(l()({},pe),{},{id:U?.id}));case 7:ae.next=12;break;case 9:ae.prev=9,ae.t0=ae.catch(0),console.error("\u8868\u5355\u9A8C\u8BC1\u5931\u8D25:",ae.t0);case 12:return ae.prev=12,I(!1),ae.finish(12);case 15:case"end":return ae.stop()}},_e,null,[[0,9,12,15]])}));return function(){return O.apply(this,arguments)}}();(0,v.useEffect)(function(){ue&&U!==null&&U!==void 0&&U.id&&E.setFieldsValue(U)},[U,ue]);var ce=function(){T()};return(0,n.jsx)(Me.Z,{open:ue,title:U!=null&&U.id?"\u7F16\u8F91QA\u95EE\u7B54":"\u6DFB\u52A0QA\u95EE\u7B54",confirmLoading:$,onCancel:ce,onOk:z,maskClosable:!0,destroyOnHidden:!0,children:(0,n.jsxs)(oe.Z,{form:E,layout:"vertical",preserve:!1,requiredMark:Le.N,children:[(0,n.jsx)(oe.Z.Item,{name:"question",label:"\u95EE\u9898",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u95EE\u9898"}],children:(0,n.jsx)(S.Z.TextArea,{className:"dispose-textarea-count",autoSize:{minRows:5,maxRows:8},placeholder:"\u8BF7\u8F93\u5165\u95EE\u9898\u5185\u5BB9",showCount:!0,maxLength:500})}),(0,n.jsx)(oe.Z.Item,{name:"answer",label:"\u7B54\u6848",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7B54\u6848"}],children:(0,n.jsx)(S.Z.TextArea,{className:"dispose-textarea-count",autoSize:{minRows:5,maxRows:8},placeholder:"\u8BF7\u8F93\u5165\u7B54\u6848\u5185\u5BB9",showCount:!0,maxLength:5e3})})]})})},Ln=dn,ia=e(64267),qn=e(12758),Kn=e(69706),Wn=e(56555),ba=e(10580),ga=e(70183),ja=(0,v.forwardRef)(function(Ae,A){var U=[{title:"ID",dataIndex:"id",width:150,fixed:"left"},{title:"\u95EE\u9898",dataIndex:"question",render:function(fe){return(0,n.jsx)("div",{className:f()("text-ellipsis"),title:fe,children:fe})}},{title:"\u7B54\u6848",dataIndex:"answer",render:function(fe){return(0,n.jsx)("div",{className:f()("text-ellipsis"),title:fe,children:fe})}},{title:"\u5411\u91CF\u5316",dataIndex:"hasEmbedding",width:100,fixed:"right",render:function(fe){return fe?(0,n.jsx)(qn.Z,{color:"success",children:"\u5DF2\u5B8C\u6210"}):(0,n.jsx)(qn.Z,{color:"processing",children:"\u6784\u5EFA\u4E2D"})}},{title:"\u64CD\u4F5C",dataIndex:"action",width:100,align:"center",fixed:"right",render:function(fe,Re){return(0,n.jsxs)("div",{className:f()("flex","flex-row","content-around"),children:[(0,n.jsx)(le.ZP,{type:"text",icon:(0,n.jsx)(Ne.Z,{}),onClick:function(){return Ae.onEdit(Re)}}),(0,n.jsx)(Kn.Z,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64QA\u95EE\u7B54\u5417?",description:Re.question,icon:(0,n.jsx)(ia.Z,{}),onConfirm:function(){return Ae.onDelete(Re)},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,n.jsx)(le.ZP,{type:"text",icon:(0,n.jsx)(an.Z,{})})})]})}}],ue=(0,v.useState)([]),T=u()(ue,2),me=T[0],D=T[1],p=(0,v.useState)(!0),E=u()(p,2),j=E[0],N=E[1],$=(0,v.useState)(0),I=u()($,2),z=I[0],ce=I[1],O=(0,v.useState)({current:1,pageSize:20,queryFilter:{spaceId:Ae.spaceId,question:Ae.question,kbId:Ae.kbId},orders:[],filters:[],columns:[]}),_e=u()(O,2),pe=_e[0],Oe=_e[1],ae=function(){N(!0),(0,c.h0)(pe).then(function(fe){var Re=fe.data,tn=Re.current,ge=Re.size,We=Re.total,mn=We===void 0?0:We,Tn=Re.records;ce(mn),D(Array.isArray(Tn)?Tn:[]),Oe(function(un){return l()(l()({},un),{},{pageSize:ge,current:tn})})}).finally(function(){N(!1)})};(0,v.useEffect)(function(){ae()},[pe.current,pe.pageSize,pe.queryFilter.question]),(0,v.useEffect)(function(){Oe(function(Ee){return l()(l()({},Ee),{},{queryFilter:{spaceId:Ae.spaceId,question:Ae.question,kbId:Ae.kbId},current:1})})},[Ae.spaceId,Ae.kbId,Ae.question]),(0,v.useImperativeHandle)(A,function(){return{refresh:ae}});var Ie=function(fe){Oe(function(Re){var tn=l()(l()({},Re),{},{current:fe.current||1,pageSize:fe.pageSize||10});return fe.pageSize!==Re.pageSize&&D([]),tn})};return(0,n.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:me.length>0?"flex-start":"center"},children:j?(0,n.jsx)(Wn.Z,{spinning:j,delay:200}):me.length>0?(0,n.jsx)(ba.Z,{rowKey:"id",columns:U,rowHoverable:!1,dataSource:me,loading:j,height:"auto",pagination:{total:z,current:pe.current,pageSize:pe.pageSize},onChange:Ie,scroll:{scrollToFirstRowOnChange:!0,x:"max-content",y:"calc(100vh - 257px)"}}):(0,n.jsx)(ga.Z,{description:"\u6682\u65E0\u6570\u636E"})})}),Ta=ja,Aa=e(6619),ca=e(89858),bn=e(63876),On={input:"input___LYrHA"},da=f().bind(On),ha=function(A){var U=A.docId,ue=A.docName,T=A.onSuccessUpdateName,me=oe.Z.useForm(),D=u()(me,1),p=D[0],E=(0,v.useState)(!1),j=u()(E,2),N=j[0],$=j[1],I=(0,G.useRequest)(c.pJ,{manual:!0,debounceInterval:300,onSuccess:function(_e,pe){h.ZP.success("\u66F4\u65B0\u6210\u529F"),$(!1);var Oe=pe[0],ae=Oe.docId,Ie=Oe.name;T(ae,Ie)}}),z=I.run;(0,v.useEffect)(function(){N&&p.setFieldValue("name",ue)},[ue,N]);var ce=function(_e){var pe=_e.name;z({docId:U,name:pe})};return(0,n.jsx)(Aa.Z,{title:"\u91CD\u547D\u540D",type:F.Ai.Blank,icon:(0,n.jsx)(bn.Z,{arrow:!1,trigger:"click",open:N,onOpenChange:$,placement:"bottom",content:(0,n.jsxs)(oe.Z,{form:p,layout:"vertical",requiredMark:Le.g,onFinish:ce,children:[(0,n.jsx)(oe.Z.Item,{className:da(On.input,"mb-16"),name:"name",label:"\u91CD\u547D\u540D",rules:[{required:!0,message:"\u6587\u6863\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(S.Z.TextArea,{className:"dispose-textarea-count",placeholder:"\u8BF7\u8F93\u5165\u6587\u6863\u540D\u79F0",maxLength:100,showCount:!0,autoSize:{minRows:6,maxRows:8}})}),(0,n.jsx)(oe.Z.Item,{className:da("flex","content-end","mb-6"),children:(0,n.jsx)(le.ZP,{htmlType:"submit",type:"primary",children:"\u786E\u8BA4"})})]}),children:(0,n.jsx)(ca.Z,{className:da("cursor-pointer")})})})},ea=ha,jn={header:"header___YxOE4","file-name":"file-name___vKz2w","extra-box":"extra-box___PhzdH","switch-name":"switch-name___TWOys",del:"del___trseG","segment-box":"segment-box___PyZJq",line:"line____3pA8"},Dn=f().bind(jn),Ia=function(A){var U=A.onDel,ue=A.onSuccessUpdateName,T=A.documentInfo,me=(0,v.useState)([]),D=u()(me,2),p=D[0],E=D[1],j=(0,v.useState)(!1),N=u()(j,2),$=N[0],I=N[1],z=(0,v.useState)(1),ce=u()(z,2),O=ce[0],_e=ce[1],pe=(0,v.useState)(!0),Oe=u()(pe,2),ae=Oe[0],Ie=Oe[1],Ee=(0,G.useRequest)(c.vn,{manual:!0,debounceInterval:300,loadingDelay:300,onSuccess:function(We){var mn=We.records,Tn=We.pages,un=We.current,Nn=mn||[];E(function(Gn){return un===1?Nn:[].concat(o()(Gn),o()(Nn))}),Ie(un<Tn),_e(un+1),I(!1)},onError:function(){I(!1)}}),fe=Ee.run,Re=function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;fe({queryFilter:{docId:T?.id},current:We,pageSize:20})};(0,v.useEffect)(function(){if(T){var ge=T.docStatusCode;[s.Se.ANALYZED,s.Se.ANALYZED_QA,s.Se.ANALYZED_EMBEDDING].includes(ge)&&(I(!0),Re()),ge===s.Se.ANALYZING&&E([])}else E([])},[T]);var tn=function(){Re(O)};return(0,n.jsxs)("div",{className:Dn("flex-1","h-full","flex","flex-col","overflow-hide"),children:[(0,n.jsx)("header",{className:Dn(jn.header,"flex","items-center"),children:(0,n.jsxs)(ln.Z,{condition:!!T,children:[(0,n.jsx)(Z.Z,{}),(0,n.jsx)("span",{className:Dn("text-ellipsis",jn["file-name"]),children:T?.name}),(0,n.jsx)(ea,{docId:T?.id,docName:T?.name,onSuccessUpdateName:ue}),(0,n.jsx)("div",{className:Dn(jn["extra-box"],"flex","items-center"),children:(0,n.jsx)(an.Z,{className:Dn(jn.del,"cursor-pointer"),onClick:U})})]})}),T?.docStatusCode===s.Se.ANALYZING_RAW?(0,n.jsx)("div",{className:Dn("flex","flex-1","items-center","content-center",jn["segment-box"]),children:(0,n.jsx)("span",{children:"\u5206\u6BB5\u6B63\u5728\u5904\u7406\u4E2D"})}):$?(0,n.jsx)(W.Z,{}):p?.length>0?(0,n.jsx)("div",{className:Dn("px-16","py-16","flex-1","overflow-y"),id:"rawSegmentDiv",children:(0,n.jsx)(te.Z,{scrollableTarget:"rawSegmentDiv",list:p||[],hasMore:ae,onScroll:tn,children:p?.map(function(ge){return(0,n.jsx)("p",{className:Dn(jn.line,"radius-6"),children:ge.rawTxt},ge.id)})})}):(0,n.jsx)("div",{className:Dn("flex","flex-1","items-center","content-center"),children:(0,n.jsx)(ga.Z,{description:"\u6682\u65E0\u5206\u6BB5"})})]})},La=Ia,kn=f().bind(rn),ma=function(){var A=(0,G.useParams)(),U=Number(A.spaceId),ue=Number(A.knowledgeId),T=(0,v.useState)(!1),me=u()(T,2),D=me[0],p=me[1],E=(0,v.useState)(),j=u()(E,2),N=j[0],$=j[1],I=(0,v.useState)(),z=u()(I,2),ce=z[0],O=z[1],_e=(0,v.useState)(!1),pe=u()(_e,2),Oe=pe[0],ae=pe[1],Ie=(0,v.useState)([]),Ee=u()(Ie,2),fe=Ee[0],Re=Ee[1],tn=(0,v.useState)(!1),ge=u()(tn,2),We=ge[0],mn=ge[1],Tn=(0,v.useRef)(""),un=(0,v.useState)(0),Nn=u()(un,2),Gn=Nn[0],na=Nn[1],pa=(0,v.useState)(null),_a=u()(pa,2),Be=_a[0],aa=_a[1],Ca=(0,v.useState)(!1),ya=u()(Ca,2),Da=ya[0],fa=ya[1],Ra=(0,v.useState)(1),Ea=u()(Ra,2),Fa=Ea[0],Ma=Ea[1],Na=(0,v.useState)(!0),xa=u()(Na,2),wa=xa[0],Ba=xa[1],Za=(0,v.useState)(1),R=u()(Za,2),Ue=R[0],Ze=R[1],He=(0,v.useRef)(null),Qn=(0,v.useState)(null),pn=u()(Qn,2),va=pn[0],Ua=pn[1],$a=(0,v.useState)(!1),Wa=u()($a,2),za=Wa[0],Sa=Wa[1],Ya=(0,v.useState)(""),ka=u()(Ya,2),Va=ka[0],Ga=ka[1],Ha=(0,G.useRequest)(c.Wi,{manual:!0,debounceInterval:300,onSuccess:function(J){O(J)}}),Xa=Ha.run,Ja=function(J){var Se=J.records,gn=J.pages,fn=J.current,En=J.total,je=Se||[];if(Re(function(Ka){return fn===1?je:[].concat(o()(Ka),o()(je))}),Ba(fn<gn),Ma(fn+1),na(En),mn(!1),!Be||!(je!=null&&je.some(function(Ka){return Ka.id===Be?.id}))){var ht=je[0]||null;aa(ht)}},qa=(0,G.useRequest)(c.ah,{manual:!0,debounceInterval:500,onSuccess:function(J){Ja(J)},onError:function(){mn(!1)}}),et=qa.run,ta=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tn.current;et({queryFilter:{kbId:ue,name:Se},current:J,pageSize:20})},nt=(0,G.useRequest)(c.Gh,{manual:!0,debounceInterval:300,onSuccess:function(){h.ZP.success("\u5220\u9664\u6587\u6863\u6210\u529F"),mn(!0),ta()}}),at=nt.run;(0,v.useEffect)(function(){Xa(ue),mn(!0),ta()},[ue]);var tt=function(J){$(J.value),p(!0)},rt=function(){p(!1),mn(!0),ta()},st=function(J){ae(!1);var Se=l()(l()({},ce),J);O(Se)},lt=function(J){var Se=J.trim();Tn.current=Se,mn(!0),ta(1,Se)},ot=(0,v.useCallback)(function(xe,J){if(Be?.id===xe&&J.docStatusCode!==Be?.docStatusCode){var Se=l()(l()({},Be),J);aa(Se)}var gn=Pe()(fe),fn=gn.map(function(En){return En.id===xe?l()(l()({},En),J):En});Re(fn)},[Be,fe]),ut=function(){var J=Be?.id;(0,ie.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u6587\u6863\u5417?",Be?.name||"",function(){return at(J),new Promise(function(Se){setTimeout(Se,1e3)})})},it=function(J,Se){var gn=l()(l()({},Be),{},{name:Se});aa(gn);var fn=fe.map(function(En){return En.id===J&&(En.name=Se),En});Re(fn)},Pa=function(){var J;(J=He.current)===null||J===void 0||J.refresh()},ct=function(J){Ga(""),Ze(J),J===s.Sg.DOC?(mn(!0),ta()):Pa()},dt=function(J){J.value===s.Zf.Custom?($(J.value),Ua(null),Sa(!0)):fa(!0)},mt=function(){return(0,n.jsxs)("div",{className:kn("flex","flex-1"),children:[(0,n.jsx)(H,{currentDocId:Be?.id,loading:We,documentList:fe,onClick:aa,onChange:lt,onSetAnalyzed:ot,hasMore:wa,onScroll:function(){return ta(Fa)}}),(0,n.jsx)(La,{documentInfo:Be,onDel:ut,onSuccessUpdateName:it})]})},pt=function(J){Ua(J),Sa(!0)},ft=function(){var xe=m()(t()().mark(function J(Se){var gn,fn;return t()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.prev=0,je.next=3,(0,c.TL)({id:Se.id});case 3:gn=je.sent,fn=gn.code,fn===d.Gh?(h.ZP.success("\u5220\u9664QA\u95EE\u7B54\u6210\u529F"),Pa()):h.ZP.error("\u5220\u9664QA\u95EE\u7B54\u5931\u8D25"),je.next=11;break;case 8:je.prev=8,je.t0=je.catch(0),h.ZP.error("\u5220\u9664QA\u95EE\u7B54\u5931\u8D25");case 11:case"end":return je.stop()}},J,null,[[0,8]])}));return function(Se){return xe.apply(this,arguments)}}(),Qa=function(J){Ue===s.Sg.QA&&Ga(J)},vt=function(){return(0,n.jsxs)("div",{className:kn("flex","flex-col","w-full"),children:[(0,n.jsx)("div",{className:kn(rn.inputSearch),children:(0,n.jsx)(S.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u95EE\u9898\u641C\u7D22",allowClear:!0,style:{width:240},onSearch:Qa,onPressEnter:function(Se){return Qa(Se.currentTarget.value)}})}),(0,n.jsx)(Ta,{ref:He,spaceId:Number(U),kbId:Number(ue),onEdit:pt,onDelete:ft,question:Va})]})},gt=function(){var xe=m()(t()().mark(function J(Se){var gn,fn;return t()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return Se.id?gn=(0,c.bB)({id:Se.id,question:Se.question,answer:Se.answer}):gn=(0,c.V5)({kbId:ue,question:Se.question,answer:Se.answer,spaceId:U}),je.prev=1,je.next=4,gn;case 4:fn=je.sent,fn.code==="0000"?(h.ZP.success(Se.id?"QA\u95EE\u7B54\u66F4\u65B0\u6210\u529F":"\u6DFB\u52A0QA\u95EE\u7B54\u6210\u529F"),Pa(),Sa(!1)):h.ZP.error(Se.id?"QA\u95EE\u7B54\u66F4\u65B0\u5931\u8D25":"\u6DFB\u52A0QA\u95EE\u7B54\u5931\u8D25"),je.next=12;break;case 8:je.prev=8,je.t0=je.catch(1),console.error(je.t0),h.ZP.error(Se.id?"QA\u95EE\u7B54\u66F4\u65B0\u5931\u8D25":"\u6DFB\u52A0QA\u95EE\u7B54\u5931\u8D25");case 12:return je.abrupt("return",null);case 13:case"end":return je.stop()}},J,null,[[1,8]])}));return function(Se){return xe.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:kn(rn.container,"h-full","flex","flex-col"),children:[(0,n.jsx)(_n,{docCount:Gn,knowledgeInfo:ce,docType:Ue,onChangeDocType:ct,onEdit:function(){return ae(!0)},onPopover:tt,onQaPopover:dt}),(0,n.jsx)("div",{style:{flex:1,height:Ue===s.Sg.DOC?"calc(100% - 88px)":"100%",padding:"0 20px",margin:"0",display:"flex",overflowX:"auto"},children:Ue===s.Sg.DOC?mt():vt()}),(0,n.jsx)(Vn,{id:ue,type:N,open:D,onCancel:function(){return p(!1)},onConfirm:rt}),(0,n.jsx)(a.Z,{mode:F.jA.Update,spaceId:U,knowledgeInfo:ce,open:Oe,onCancel:function(){return ae(!1)},onConfirm:st}),(0,n.jsx)(Ln,{data:va,type:N,open:za,onCancel:function(){Sa(!1),Ua(null)},onConfirm:gt}),(0,n.jsx)(X,{open:Da,kbId:Number(ue),onCancel:function(){return fa(!1)},onConfirm:function(){fa(!1),Pa()}})]})},Oa=ma},28359:function(Ke,V,e){var q=e(90228),t=e.n(q),se=e(87999),m=e.n(se),C=e(26068),l=e.n(C),b=e(67825),o=e.n(b),x=e(82092),u=e.n(x),a=e(64799),d=e(56179),c=["data"],F=["records"],s=["deployedConfig","deployStatus","id","creator"],ie=u()(u()(u()(u()(u()(u()(u()(u()({},a.qR.Plugin,"/api/published/plugin/list"),a.qR.Workflow,"/api/published/workflow/list"),a.qR.Knowledge,"/api/published/knowledge/list"),a.qR.Table,"/api/published/composeTable/list"),a.qR.Variable,"/api/published/dataBase/list"),a.qR.Model,"/api/published/dataBase/list"),a.qR.Trigger,"/api/published/dataBase/list"),a.qR.Agent,"/api/published/agent/list");function h(W){return(0,d.request)("/api/mcp/deployed/list",{method:"POST",data:W}).then(function(M){var K=M.data,Y=o()(M,c),Z=K||{},de=Z.records,le=o()(Z,F);return l()(l()({},Y),{},{data:l()(l()({},le),{},{records:de?.map(function(Q){var n=Q.deployedConfig,ye=Q.deployStatus,L=Q.id,k=Q.creator,ee=o()(Q,s);return l()(l()({},ee),{},{status:ye,targetId:L,targetType:a.qR.MCP,publishUser:k,config:n})})})})})}function S(W,M){return w.apply(this,arguments)}function w(){return w=m()(t()().mark(function W(M,K){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(M!==a.qR.MCP){Z.next=2;break}return Z.abrupt("return",h(K));case 2:return Z.abrupt("return",(0,d.request)("".concat(ie[M]),{method:"POST",data:K}));case 3:case"end":return Z.stop()}},W)})),w.apply(this,arguments)}function f(W,M){return P.apply(this,arguments)}function P(){return P=m()(t()().mark(function W(M,K){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,d.request)("/api/published/".concat(M,"/collect/list"),{method:"POST",data:K}));case 1:case"end":return Z.stop()}},W)})),P.apply(this,arguments)}function Pe(W,M){return v.apply(this,arguments)}function v(){return v=m()(t()().mark(function W(M,K){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,d.request)("/api/published/".concat(M,"/collect/").concat(K),{method:"POST",data:u()({},"".concat(M,"Id"),K)}));case 1:case"end":return Z.stop()}},W)})),v.apply(this,arguments)}function G(W,M){return te.apply(this,arguments)}function te(){return te=m()(t()().mark(function W(M,K){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,d.request)("/api/published/".concat(M,"/unCollect/").concat(K),{method:"POST",data:u()({},"".concat(M,"Id"),K)}));case 1:case"end":return Z.stop()}},W)})),te.apply(this,arguments)}V.ZP={getList:S,collectList:f,collect:Pe,unCollect:G}},3440:function(Ke,V,e){e.d(V,{AY:function(){return ie},EV:function(){return n},Fh:function(){return f},Hl:function(){return Z},KJ:function(){return d},Nf:function(){return K},RT:function(){return Pe},S5:function(){return le},VW:function(){return W},ey:function(){return l},nh:function(){return o}});var q=e(90228),t=e.n(q),se=e(87999),m=e.n(se),C=e(56179);function l(L){return b.apply(this,arguments)}function b(){return b=m()(t()().mark(function L(k){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,C.request)("/api/compose/db/table/updateTableName",{method:"POST",data:k}));case 1:case"end":return _.stop()}},L)})),b.apply(this,arguments)}function o(L){return x.apply(this,arguments)}function x(){return x=m()(t()().mark(function L(k){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,C.request)("/api/compose/db/table/updateTableDefinition",{method:"POST",data:k}));case 1:case"end":return _.stop()}},L)})),x.apply(this,arguments)}function u(L){return a.apply(this,arguments)}function a(){return a=_asyncToGenerator(_regeneratorRuntime().mark(function L(k){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",request("/api/compose/db/table/list",{method:"POST",data:k}));case 1:case"end":return _.stop()}},L)})),a.apply(this,arguments)}function d(L){return c.apply(this,arguments)}function c(){return c=m()(t()().mark(function L(k){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,C.request)("/api/compose/db/table/delete/".concat(k),{method:"POST"}));case 1:case"end":return _.stop()}},L)})),c.apply(this,arguments)}function F(){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function L(){return _regeneratorRuntime().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.abrupt("return",request("/api/compose/db/table/copyTableDefinition",{method:"POST"}));case 1:case"end":return ee.stop()}},L)})),s.apply(this,arguments)}function ie(L){return h.apply(this,arguments)}function h(){return h=m()(t()().mark(function L(k){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,C.request)("/api/compose/db/table/add",{method:"POST",data:k}));case 1:case"end":return _.stop()}},L)})),h.apply(this,arguments)}function S(L){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime().mark(function L(k){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",request("/api/compose/db/table/existTableData",{method:"GET",params:{tableId:k}}));case 1:case"end":return _.stop()}},L)})),w.apply(this,arguments)}function f(L){return P.apply(this,arguments)}function P(){return P=m()(t()().mark(function L(k){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,C.request)("/api/compose/db/table/detailById",{method:"GET",params:{id:k}}));case 1:case"end":return _.stop()}},L)})),P.apply(this,arguments)}function Pe(L){return v.apply(this,arguments)}function v(){return v=m()(t()().mark(function L(k){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,C.request)("/api/compose/db/table/updateBusinessData",{method:"POST",data:k}));case 1:case"end":return _.stop()}},L)})),v.apply(this,arguments)}function G(L,k){return te.apply(this,arguments)}function te(){return te=_asyncToGenerator(_regeneratorRuntime().mark(function L(k,ee){var _;return _regeneratorRuntime().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return _=new FormData,_.append("file",ee),H.abrupt("return",request("/api/compose/db/table/importExcel/".concat(k),{method:"POST",data:_}));case 3:case"end":return H.stop()}},L)})),te.apply(this,arguments)}function W(L,k){return M.apply(this,arguments)}function M(){return M=m()(t()().mark(function L(k,ee){return t()().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return Ge.abrupt("return",(0,C.request)("/api/compose/db/table/deleteBusinessData",{method:"POST",data:{tableId:k,rowId:ee}}));case 1:case"end":return Ge.stop()}},L)})),M.apply(this,arguments)}function K(L){return Y.apply(this,arguments)}function Y(){return Y=m()(t()().mark(function L(k){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,C.request)("/api/compose/db/table/addBusinessData",{method:"POST",data:k}));case 1:case"end":return _.stop()}},L)})),Y.apply(this,arguments)}function Z(L){return de.apply(this,arguments)}function de(){return de=m()(t()().mark(function L(k){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,C.request)("/api/compose/db/table/getTableDataById",{method:"GET",params:k}));case 1:case"end":return _.stop()}},L)})),de.apply(this,arguments)}function le(L){return Q.apply(this,arguments)}function Q(){return Q=m()(t()().mark(function L(k){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,C.request)("/api/compose/db/table/exportExcel/".concat(k),{method:"GET",responseType:"blob",getResponse:!0}));case 1:case"end":return _.stop()}},L)})),Q.apply(this,arguments)}function n(L){return ye.apply(this,arguments)}function ye(){return ye=m()(t()().mark(function L(k){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,C.request)("/api/compose/db/table/clearBusinessData/".concat(k),{method:"GET"}));case 1:case"end":return _.stop()}},L)})),ye.apply(this,arguments)}},48528:function(Ke,V,e){e.d(V,{Gh:function(){return ee},Il:function(){return K},SR:function(){return n},T5:function(){return le},TL:function(){return he},V5:function(){return $e},Wi:function(){return d},ah:function(){return f},bB:function(){return cn},ds:function(){return we},ei:function(){return l},g3:function(){return F},gd:function(){return W},h0:function(){return Me},pJ:function(){return S},qx:function(){return u},s2:function(){return ze},vn:function(){return rn}});var q=e(90228),t=e.n(q),se=e(87999),m=e.n(se),C=e(56179);function l(i){return b.apply(this,arguments)}function b(){return b=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/config/update",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),b.apply(this,arguments)}function o(i){return x.apply(this,arguments)}function x(){return x=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/config/list",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),x.apply(this,arguments)}function u(i){return a.apply(this,arguments)}function a(){return a=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/config/add",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),a.apply(this,arguments)}function d(i){return c.apply(this,arguments)}function c(){return c=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/config/detailById",{method:"GET",params:{id:y}}));case 1:case"end":return r.stop()}},i)})),c.apply(this,arguments)}function F(i){return s.apply(this,arguments)}function s(){return s=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/config/deleteById",{method:"GET",params:{id:y}}));case 1:case"end":return r.stop()}},i)})),s.apply(this,arguments)}function ie(i){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/document/update",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),h.apply(this,arguments)}function S(i){return w.apply(this,arguments)}function w(){return w=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/document/updateDocName",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),w.apply(this,arguments)}function f(i){return P.apply(this,arguments)}function P(){return P=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/document/list",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),P.apply(this,arguments)}function Pe(i){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/document/generateQA/".concat(y),{method:"POST"}));case 1:case"end":return r.stop()}},i)})),v.apply(this,arguments)}function G(i){return te.apply(this,arguments)}function te(){return te=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/document/doc/generateEmbeddings/".concat(y),{method:"POST"}));case 1:case"end":return r.stop()}},i)})),te.apply(this,arguments)}function W(i){return M.apply(this,arguments)}function M(){return M=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/document/customAdd",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),M.apply(this,arguments)}function K(i){return Y.apply(this,arguments)}function Y(){return Y=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/document/add",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),Y.apply(this,arguments)}function Z(i){return de.apply(this,arguments)}function de(){return de=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/document/doc/retryAllTaskByDays/".concat(y),{method:"GET"}));case 1:case"end":return r.stop()}},i)})),de.apply(this,arguments)}function le(i){return Q.apply(this,arguments)}function Q(){return Q=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/document/doc/autoRetryTaskByDocId/".concat(y),{method:"GET"}));case 1:case"end":return r.stop()}},i)})),Q.apply(this,arguments)}function n(i){return ye.apply(this,arguments)}function ye(){return ye=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/document/detailById",{method:"GET",params:{dataId:y}}));case 1:case"end":return r.stop()}},i)})),ye.apply(this,arguments)}function L(i){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/document/queryDocStatus",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),k.apply(this,arguments)}function ee(i){return _.apply(this,arguments)}function _(){return _=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/document/deleteById",{method:"GET",params:{id:y}}));case 1:case"end":return r.stop()}},i)})),_.apply(this,arguments)}function Ge(i){return H.apply(this,arguments)}function H(){return H=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/rawSegment/update",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),H.apply(this,arguments)}function rn(i){return De.apply(this,arguments)}function De(){return De=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/rawSegment/list",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),De.apply(this,arguments)}function g(i){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/rawSegment/add",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),re.apply(this,arguments)}function sn(i){return Xe.apply(this,arguments)}function Xe(){return Xe=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/rawSegment/detailById",{method:"GET",params:{dataId:y}}));case 1:case"end":return r.stop()}},i)})),Xe.apply(this,arguments)}function Je(i){return Ne.apply(this,arguments)}function Ne(){return Ne=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/rawSegment/deleteById",{method:"GET",params:{id:y}}));case 1:case"end":return r.stop()}},i)})),Ne.apply(this,arguments)}function Fe(i){return Te.apply(this,arguments)}function Te(){return Te=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/qa/update",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),Te.apply(this,arguments)}function ke(i){return ne.apply(this,arguments)}function ne(){return ne=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/qa/search",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),ne.apply(this,arguments)}function hn(i){return _n.apply(this,arguments)}function _n(){return _n=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/qa/list",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),_n.apply(this,arguments)}function xn(i){return vn.apply(this,arguments)}function vn(){return vn=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/qa/add",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),vn.apply(this,arguments)}function an(i){return Ce.apply(this,arguments)}function Ce(){return Ce=_asyncToGenerator(_regeneratorRuntime().mark(function i(y){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/qa/doc/embeddingStatus/".concat(y),{method:"GET"}));case 1:case"end":return r.stop()}},i)})),Ce.apply(this,arguments)}function $e(i){return oe.apply(this,arguments)}function oe(){return oe=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/qa/add",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),oe.apply(this,arguments)}function Me(i){return ve.apply(this,arguments)}function ve(){return ve=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/qa/list",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),ve.apply(this,arguments)}function he(i){return Qe.apply(this,arguments)}function Qe(){return Qe=m()(t()().mark(function i(y){var B;return t()().wrap(function(en){for(;;)switch(en.prev=en.next){case 0:return B=new FormData,B.append("id",y.id.toString()),en.abrupt("return",(0,C.request)("/api/knowledge/qa/deleteById",{method:"POST",data:B}));case 3:case"end":return en.stop()}},i)})),Qe.apply(this,arguments)}function cn(i){return ln.apply(this,arguments)}function ln(){return ln=m()(t()().mark(function i(y){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,C.request)("/api/knowledge/qa/update",{method:"POST",data:y}));case 1:case"end":return r.stop()}},i)})),ln.apply(this,arguments)}function we(){return qe.apply(this,arguments)}function qe(){return qe=m()(t()().mark(function i(){return t()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",(0,C.request)("/api/knowledge/qa/downloadExcelTemplate",{method:"GET",responseType:"blob"}));case 1:case"end":return B.stop()}},i)})),qe.apply(this,arguments)}function ze(i){return Le.apply(this,arguments)}function Le(){return Le=m()(t()().mark(function i(y){var B;return t()().wrap(function(en){for(;;)switch(en.prev=en.next){case 0:return B=new FormData,B.append("file",y.file),B.append("kbId",y.kbId.toString()),en.abrupt("return",(0,C.request)("/api/knowledge/qa/importExcel",{method:"POST",data:B}));case 4:case"end":return en.stop()}},i)})),Le.apply(this,arguments)}},53361:function(Ke,V,e){e.d(V,{Cw:function(){return F},Kt:function(){return l},Y$:function(){return ie},jU:function(){return u},sN:function(){return o},xC:function(){return d}});var q=e(90228),t=e.n(q),se=e(87999),m=e.n(se),C=e(56179);function l(h){return b.apply(this,arguments)}function b(){return b=m()(t()().mark(function h(S){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,C.request)("/api/workflow/add",{method:"POST",data:S}));case 1:case"end":return f.stop()}},h)})),b.apply(this,arguments)}function o(h){return x.apply(this,arguments)}function x(){return x=m()(t()().mark(function h(S){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,C.request)("/api/workflow/update",{method:"POST",data:S}));case 1:case"end":return f.stop()}},h)})),x.apply(this,arguments)}function u(h,S){return a.apply(this,arguments)}function a(){return a=m()(t()().mark(function h(S,w){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,C.request)("/api/workflow/copy/".concat(S,"/").concat(w),{method:"POST"}));case 1:case"end":return P.stop()}},h)})),a.apply(this,arguments)}function d(h){return c.apply(this,arguments)}function c(){return c=m()(t()().mark(function h(S){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,C.request)("/api/workflow/delete/".concat(S),{method:"POST"}));case 1:case"end":return f.stop()}},h)})),c.apply(this,arguments)}function F(h){return s.apply(this,arguments)}function s(){return s=m()(t()().mark(function h(S){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,C.request)("/api/component/list/".concat(S),{method:"GET"}));case 1:case"end":return f.stop()}},h)})),s.apply(this,arguments)}function ie(h){return(0,C.request)("/api/compose/db/table/copyTableDefinition",{method:"POST",params:h})}},99730:function(Ke,V,e){e.d(V,{Bj:function(){return o},G6:function(){return d},Gl:function(){return l},og:function(){return F}});var q=e(90228),t=e.n(q),se=e(87999),m=e.n(se),C=e(56179);function l(S){return b.apply(this,arguments)}function b(){return b=m()(t()().mark(function S(w){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,C.request)("/api/model/save",{method:"POST",data:w}));case 1:case"end":return P.stop()}},S)})),b.apply(this,arguments)}function o(S){return x.apply(this,arguments)}function x(){return x=m()(t()().mark(function S(w){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,C.request)("/api/model/list",{method:"POST",data:w}));case 1:case"end":return P.stop()}},S)})),x.apply(this,arguments)}function u(S){return a.apply(this,arguments)}function a(){return a=_asyncToGenerator(_regeneratorRuntime().mark(function S(w){return _regeneratorRuntime().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",request("/api/model/list/space/".concat(w),{method:"POST"}));case 1:case"end":return P.stop()}},S)})),a.apply(this,arguments)}function d(S){return c.apply(this,arguments)}function c(){return c=m()(t()().mark(function S(w){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,C.request)("/api/model/".concat(w),{method:"GET"}));case 1:case"end":return P.stop()}},S)})),c.apply(this,arguments)}function F(S){return s.apply(this,arguments)}function s(){return s=m()(t()().mark(function S(w){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,C.request)("/api/model/".concat(w,"/delete"),{method:"GET"}));case 1:case"end":return P.stop()}},S)})),s.apply(this,arguments)}function ie(){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function S(){return _regeneratorRuntime().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",request("/api/model/test",{method:"GET"}));case 1:case"end":return f.stop()}},S)})),h.apply(this,arguments)}},49528:function(Ke,V,e){e.d(V,{D7:function(){return l},Gp:function(){return b},Se:function(){return x},Sg:function(){return u},Z$:function(){return o},Zf:function(){return t},ah:function(){return se},jD:function(){return m},u6:function(){return q}});var q=function(a){return a[a.Text=1]="Text",a[a.Table=2]="Table",a}({}),t=function(a){return a[a.Local_Doc=0]="Local_Doc",a[a.Online_Doc=1]="Online_Doc",a[a.Custom=2]="Custom",a}({}),se=function(a){return a[a.Upload_Or_Text_Fill=0]="Upload_Or_Text_Fill",a[a.Create_Segmented_Set=1]="Create_Segmented_Set",a[a.Data_Processing=2]="Data_Processing",a}({}),m=function(a){return a.Precision="Precision",a.Balanced="Balanced",a.Creative="Creative",a.Customization="Customization",a}({}),C=function(a){return a.Waiting="Waiting",a.Published="Published",a}({}),l=function(a){return a.WORDS="WORDS",a.DELIMITER="DELIMITER",a}({}),b=function(a){return a.Line_Feed=`
`,a.Two_Line_Feed=`

`,a.Chinese_Sentence="\u3002",a.Chinese_Exclamation="\uFF01",a.English_Sentence=".",a.English_Exclamation="!",a.Chinese_Question_Mark="\uFF1F",a.English_Question_Mark="?",a.Custom="Custom",a}({}),o=function(a){return a.ANALYZING="ANALYZING",a.ANALYZED="ANALYZED",a.ANALYZING_RAW="ANALYZING_RAW",a.ANALYZED_QA="ANALYZED_QA",a.ANALYZED_EMBEDDING="ANALYZED_QA",a.ANALYZE_FAILED="ANALYZE_FAILED",a}({}),x=function(a){return a[a.ANALYZING=1]="ANALYZING",a[a.ANALYZED=2]="ANALYZED",a[a.ANALYZING_RAW=3]="ANALYZING_RAW",a[a.ANALYZED_QA=4]="ANALYZED_QA",a[a.ANALYZED_EMBEDDING=5]="ANALYZED_EMBEDDING",a[a.ANALYZE_FAILED=10]="ANALYZE_FAILED",a}({}),u=function(a){return a[a.DOC=1]="DOC",a[a.QA=2]="QA",a}({})},80110:function(Ke,V,e){e.d(V,{HN:function(){return t},Mj:function(){return q},Y1:function(){return C},cx:function(){return se},re:function(){return l}});var q=function(o){return o.Completions="Completions",o.Chat="Chat",o.Edits="Edits",o.Images="Images",o.Embeddings="Embeddings",o.Multi="Multi",o.Audio="Audio",o.Other="Other",o}({}),t=function(o){return o.OpenAI="OpenAI",o.Ollama="Ollama",o.Zhipu="Zhipu",o.Anthropic="Anthropic",o}({}),se=function(o){return o.RoundRobin="RoundRobin",o.WeightedRoundRobin="WeightedRoundRobin",o.LeastConnections="LeastConnections",o.WeightedLeastConnections="WeightedLeastConnections",o.Random="Random",o.ResponseTime="ResponseTime",o}({}),m=function(o){return o.Space="Space",o.Tenant="Tenant",o.Global="Global",o}({}),C=function(o){return o.Internet="Internet",o.Intranet="Intranet",o}({}),l=function(o){return o.Unsupported="Unsupported",o.CallSupported="CallSupported",o.StreamCallSupported="StreamCallSupported",o}({}),b=function(o){return o.Url="url",o.Apikey="apikey",o.Weight="weight",o}({})},24057:function(Ke,V,e){e.d(V,{Tg:function(){return o},oB:function(){return b},sO:function(){return x}});var q=e(48305),t=e.n(q),se=e(64267),m=e(14719),C=e(52676),l=m.Z.confirm,b=function(a,d,c,F){l({title:a,icon:(0,C.jsx)(se.Z,{}),content:d,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:c,onCancel:F})},o=function(a){if(!a)return"";if(typeof a=="string"){var d=a.split("."),c=t()(d,2),F=c[0],s=c[1];return s&&s.length>6?"".concat(F,".").concat(s.slice(0,6)):a}var ie=a;if(isNaN(ie))return"";var h=ie.toString().split("."),S=t()(h,2),w=S[0],f=S[1];return f&&f.length>6?"".concat(w,".").concat(f.slice(0,6)):ie.toString()},x=function(a){if(!a)return"";var d=a.toString(),c=d.indexOf(".");return c===-1?d:d.substring(0,c+7)}},18631:function(Ke,V,e){e.d(V,{td:function(){return q}});function q(l){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(l===0)return"0 Bytes";var o=1024,x=b<0?0:b,u=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(l)/Math.log(o));return Number.parseFloat((l/Math.pow(o,a)).toFixed(x))+" "+u[a]}function t(l){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.parseFloat((l/1024).toFixed(b))}function se(l){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.parseFloat((l/(1024*1024)).toFixed(b))}function m(l){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return"".concat(t(l,b)," KB")}function C(l){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return"".concat(se(l,b)," MB")}},73888:function(Ke,V,e){e.d(V,{G:function(){return se},U:function(){return m}});var q=e(59934),t=e(92122),se=function(l){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:99;return l.filter(function(o){return o.status!==t.KM.removed}).map(function(o){var x=o.response||{},u=x.data,a=u===void 0?{}:u,d=x.code,c=o.status,F=o.percent;return d&&d!==q.Gh&&(c=t.KM.error),o?.percent===100&&c===t.KM.uploading&&(F=b),{key:a?.key||"",name:a?.fileName||o.name||"",size:a?.size||o.size||0,url:a?.url||o.url||"",type:a?.mimeType||o.type||"",uid:o.uid,status:c,percent:F,response:o.response}})},m=function(l){return l?.status===t.KM.error?"exception":l?.status===t.KM.uploading?"active":l?.status===t.KM.done||Math.floor(l?.percent||0)===100?"success":"active"}},65774:function(Ke,V,e){Ke.exports=e.p+"static/doc_image.5415f2c1.jpg"}}]);})();
