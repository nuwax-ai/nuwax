"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[4570],{65857:function(Pe,H,e){e.d(H,{Z:function(){return r}});var Q=e(22675),d=e(94581),l=e.n(d),m=e(75271),I={avatar:"avatar___Q6WBB",nickname:"nickname___pjZCy"},S=e(52676),c=l().bind(I),h=function(t){var U=t.className,w=t.icon,T=t.name,a=t.extra;return(0,S.jsxs)("div",{className:c("flex","flex-col","items-center","content-center",U),children:[(0,S.jsx)("img",{className:c(I.avatar),src:w||Q,alt:""}),(0,S.jsx)("h3",{className:c("w-full","text-ellipsis",I.nickname),children:T}),a]})},r=h},23276:function(Pe,H,e){e.d(H,{Z:function(){return rt}});var Q=e(82092),d=e.n(Q),l=e(48305),m=e.n(l),I=e(3055),S=e(76571),c=e(53895),h=e(94581),r=e.n(h),f=e(75271),t=e(52676),U=y=>{let g=y;for(;g=g.parentElement;){const R=getComputedStyle(g,null).getPropertyValue("overflow-y");if(g===document.body)return window;if(R==="auto"||R==="scroll"||R==="overlay")return g}return window},w=y=>y.firstChild?y.firstChild.offsetParent===y:!0,T=(y,g)=>{let R=y,C=0;w(g)||(C+=y.offsetTop-g.offsetTop,g=y.offsetParent,C+=-y.offsetTop);do C+=R.offsetTop,R=R.offsetParent;while(R&&R!==g);return C},a=y=>{let g=y.parentElement;for(;g&&getComputedStyle(g,null).getPropertyValue("display")==="contents";)g=g.parentElement;return g||window},n=null;typeof CSS<"u"&&CSS.supports&&(CSS.supports("position","sticky")?n="sticky":CSS.supports("position","-webkit-sticky")&&(n="-webkit-sticky"));var s=!1;try{const y=Object.defineProperty({},"passive",{get(){s={passive:!0}}}),g=()=>{};window.addEventListener("testPassive",g,y),window.removeEventListener("testPassive",g,y)}catch{}var k=y=>{const{el:g,onChange:R,unsubs:C,measure:z}=y;if(g===window){const x=()=>({top:0,left:0,height:window.innerHeight,width:window.innerWidth}),N=z(x()),O=()=>{Object.assign(N,z(x())),R()};return window.addEventListener("resize",O,s),C.push(()=>window.removeEventListener("resize",O)),N}else{const x=z(g.getBoundingClientRect()),N=()=>{Object.assign(x,z(g.getBoundingClientRect())),R()},O=new ResizeObserver(N);return O.observe(g),C.push(()=>O.disconnect()),x}},K=y=>{const g=getComputedStyle(y,null),R=parseInt(g.getPropertyValue("padding-top"),10),C=parseInt(g.getPropertyValue("padding-bottom"),10);return{top:R,bottom:C}},p=(y,g,R)=>{const{bottom:C,offsetBottom:z,offsetTop:x}=R,N=U(y);let O=!1;const Be=()=>{O||requestAnimationFrame(()=>{const ue=Ue();if(ue!==Ee)We(ue);else if(ue===1&&!C){const{height:Qe}=ce,{height:Ne}=be;y.style.top=`${Qe-Ne-z}px`}else if(ue===2){const{height:Qe,offsetTop:Ne}=ce,{height:we,naturalTop:pe}=ke,{height:Re}=be,De=Math.max(0,Ne+de+Qe-(pe+Re+z));if(C){const st=Math.max(0,we-Re-De);y.style.bottom=`${st}px`}else y.style.top=`${De}px`}O=!1}),O=!0};let de=N===window?window.scrollY:N.scrollTop;const Oe=ue=>{const{offsetTop:Qe,height:Ne}=ce,{naturalTop:we}=ke,{height:pe}=be;return ue+Qe+Ne>=we+pe+he+z},Ue=()=>{const{height:ue}=ce,{height:Qe}=be;return Qe+x+z<=ue?3:Oe(de)?1:2},xe=N!==window&&w(N),ce=k({el:N,onChange:Be,unsubs:g,measure:({height:ue,top:Qe})=>({height:ue,offsetTop:xe?Qe:0})}),ve=a(y),fe=ve===window?{top:0,bottom:0}:K(ve),ke=k({el:ve,onChange:Be,unsubs:g,measure:({height:ue})=>({height:ue-fe.top-fe.bottom,naturalTop:ve===window?0:T(ve,N)+fe.top+ce.offsetTop})}),be=k({el:y,onChange:Be,unsubs:g,measure:({height:ue})=>({height:ue})});let he=0,Ee=Ue();const We=ue=>{const Qe=Ee;if(Ee=ue,Qe===2&&(he=-1),ue===3){y.style.position=n,C?y.style.bottom=`${z}px`:y.style.top=`${x}px`;return}const{height:Ne,offsetTop:we}=ce,{height:pe,naturalTop:Re}=ke,{height:De}=be;if(ue===2)if(y.style.position="relative",he=Qe===0?Math.max(0,we+de-Re+x):Math.max(0,we+de+Ne-(Re+De+z)),C){const st=Math.max(0,pe-De-he);y.style.bottom=`${st}px`}else y.style.top=`${he}px`;else y.style.position=n,ue===1?C?y.style.bottom=`${z}px`:y.style.top=`${Ne-De-z}px`:C?y.style.bottom=`${Ne-De-z}px`:y.style.top=`${x}px`};We(Ee);const dt=ue=>{if(ue===de)return;const Qe=ue-de;if(de=ue,Ee===3)return;const{offsetTop:Ne,height:we}=ce,{naturalTop:pe,height:Re}=ke,{height:De}=be;if(Qe>0)if(Ee===0){if(ue+Ne+x>pe){const st=Math.max(0,Ne+de-pe+x);ue+Ne+we<=pe+De+st+z?We(2):We(1)}}else Ee===2&&Oe(ue)&&We(1);else if(Ee===1){if(Ne+ue+we<pe+Re+z){const st=Math.max(0,Ne+de+we-(pe+De+z));Ne+ue+x>=pe+st?We(2):We(0)}}else Ee===2&&Ne+ue+x<pe+he&&We(0)},vt=N===window?()=>dt(window.scrollY):()=>dt(N.scrollTop);N.addEventListener("scroll",vt,s),N.addEventListener("mousewheel",vt,s),g.push(()=>N.removeEventListener("scroll",vt),()=>N.removeEventListener("mousewheel",vt))},j=({offsetTop:y=0,offsetBottom:g=0,bottom:R=!1}={})=>{const[C,z]=(0,f.useState)(null);return(0,f.useEffect)(()=>{if(!C||!n)return;const x=[];return p(C,x,{offsetBottom:g,offsetTop:y,bottom:R}),()=>{x.forEach(N=>N())}},[C,g,y,R]),z},$=y=>{const{offsetTop:g,offsetBottom:R,bottom:C,children:z,className:x,style:N}=y,O=j({offsetTop:g,offsetBottom:R,bottom:C});return(0,t.jsx)("div",{className:x,style:N,ref:O,children:z})},te=$,b=e(87453),o=e(22675),D=e(63741),u=e(15558),A=e.n(u),M=e(90228),E=e.n(M),i=e(87999),re=e.n(i),ye=e(1704),L=e(90327),ne=e(41705),V=e(46105),J=e(64799),_=e(77750),ge=e(86230),Y=e(41249),Z={"xagi-nav-style2":"xagi-nav-style2___KM4Kd",text:"text___mMYrM","page-container":"page-container___epN5w","title-actions":"title-actions___PQm9a",collected:"collected___bPOE1"},F=r().bind(Z),W=function(g){var R,C=g.agentInfo,z=g.className,x=g.showCopyTemplate,N=x===void 0?!0:x,O=(0,f.useState)(C?.collect||!1),Be=m()(O,2),de=Be[0],Oe=Be[1],Ue=(0,f.useState)(!1),xe=m()(Ue,2),ce=xe[0],ve=xe[1],fe=(0,f.useState)(!1),ke=m()(fe,2),be=ke[0],he=ke[1],Ee=(0,f.useCallback)(function(){var we,pe=C==null||(we=C.statistics)===null||we===void 0?void 0:we.targetId;if(!pe){Y.ZP.error("\u667A\u80FD\u4F53\u4FE1\u606F\u4E0D\u5B8C\u6574");return}de?(0,ne.Z9)(pe).then(function(){Y.ZP.success("\u5DF2\u53D6\u6D88\u6536\u85CF"),C&&Oe(!1)}).catch(function(){Y.ZP.error("\u53D6\u6D88\u6536\u85CF\u5931\u8D25")}):(0,ne.fD)(pe).then(function(){Y.ZP.success("\u5DF2\u6DFB\u52A0\u5230\u6536\u85CF"),C&&Oe(!0)}).catch(function(){Y.ZP.error("\u6DFB\u52A0\u6536\u85CF\u5931\u8D25")})},[C==null||(R=C.statistics)===null||R===void 0?void 0:R.targetId,de]),We=function(){var we=re()(E()().mark(function pe(){return E()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(!(C!=null&&C.shareLink)){De.next=5;break}return De.next=3,(0,_.TE)(C.shareLink,function(){Y.ZP.success("\u5206\u4EAB\u94FE\u63A5\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F")},!1);case 3:De.next=6;break;case 5:Y.ZP.info("\u6682\u65E0\u5206\u4EAB\u94FE\u63A5");case 6:case"end":return De.stop()}},pe)}));return function(){return we.apply(this,arguments)}}(),dt=(0,b.useRequest)(V.wR,{manual:!0,debounceInterval:300,onSuccess:function(pe,Re){Y.ZP.success("\u6A21\u677F\u590D\u5236\u6210\u529F"),he(!1),ve(!1);var De=Re[0].targetSpaceId;(0,ge.tc)(De,pe)},onError:function(){he(!1)}}),vt=dt.run,ue=function(pe){he(!0),vt({targetType:J.qR.Agent,targetId:C?.agentId,targetSpaceId:pe})},Qe=function(){ve(!0)},Ne=(0,f.useMemo)(function(){return[{key:"share",icon:"icons-chat-share",title:"\u5206\u4EAB",onClick:We},{key:de?"collected":"collect",icon:de?"icons-chat-collected":"icons-chat-collect",title:"\u6536\u85CF",onClick:Ee,className:de?Z.collected:""}].concat(A()(N&&C?.allowCopy===J.fC.Yes?[{key:"copy-template",icon:"icons-chat-copy",title:"\u590D\u5236\u6A21\u677F",onClick:Qe,className:Z["copy-template"]}]:[])).filter(Boolean)},[de,C,N]);return(0,t.jsxs)("div",{className:F(Z["title-actions"],z),children:[(0,t.jsx)(ye.Z,{actions:Ne,visibleCount:Ne.length,showArrow:!1,className:Z["action-menu"]}),(0,t.jsx)(L.Z,{spaceId:C?.spaceId||0,loading:be,type:c.KZ.Copy_To_Space,open:ce,isTemplate:!0,title:C?.name,onCancel:function(){return ve(!1)},onConfirm:ue})]})},le=W,X=e(59261),q=e(69219),B={"xagi-nav-style2":"xagi-nav-style2___xmpJx",text:"text___u7uZg","page-container":"page-container___NQ1ki",container:"container___Axb21",avatar:"avatar___eGHQs",title:"title___hrv8N",infoContainer:"infoContainer___n5z_R",content:"content___shkKP",from:"from___OkzhV",statistics:"statistics___XuyiD",statItem:"statItem___NiOOi",statIcon:"statIcon___QUVR8",statText:"statText___SHczS",copyBtn:"copyBtn____QkXC","action-box":"action-box___uuwAm",collected:"collected___LCx9c","un-collect":"un-collect___uA8ZW",share:"share___ZjG9r"},Le=r().bind(B),ee=function(g){var R,C,z,x,N,O=g.agentDetail;return O?(0,t.jsxs)("div",{className:Le(B.container,"flex","flex-col","items-center"),children:[(0,t.jsx)("img",{className:B.avatar,src:O?.icon||o}),(0,t.jsx)(q.Z.Title,{level:5,className:B.title,ellipsis:{rows:1,expandable:!1,symbol:"..."},children:O?.name}),(0,t.jsxs)("div",{className:Le(B.infoContainer),children:[(0,t.jsxs)(q.Z.Text,{className:Le(B.from),ellipsis:!0,children:["\u6765\u81EA\u4E8E"," ",(O==null||(R=O.publishUser)===null||R===void 0?void 0:R.nickName)||(O==null||(C=O.publishUser)===null||C===void 0?void 0:C.userName)]}),(0,t.jsxs)("div",{className:Le(B.statistics,"flex","items-center","justify-center"),children:[(0,t.jsxs)("span",{className:Le(B.statItem,"flex","items-center"),children:[(0,t.jsx)(D.le,{name:"icons-chat-user",className:B.statIcon}),(0,t.jsx)("span",{className:B.statText,children:(O==null||(z=O.statistics)===null||z===void 0?void 0:z.userCount)||0})]}),(0,t.jsxs)("span",{className:Le(B.statItem,"flex","items-center"),children:[(0,t.jsx)(D.le,{name:"icons-chat-chat",className:B.statIcon}),(0,t.jsx)("span",{className:B.statText,children:(O==null||(x=O.statistics)===null||x===void 0?void 0:x.convCount)||0})]}),(0,t.jsxs)("span",{className:Le(B.statItem,"flex","items-center"),children:[(0,t.jsx)(D.le,{name:"icons-chat-collect",className:B.statIcon}),(0,t.jsx)("span",{className:B.statText,children:(O==null||(N=O.statistics)===null||N===void 0?void 0:N.collectCount)||0})]})]}),(0,t.jsx)(X.Z,{condition:O?.description,children:(0,t.jsx)(q.Z.Paragraph,{className:Le(B.content),ellipsis:{rows:2,expandable:!1,symbol:"..."},children:O?.description})}),(0,t.jsx)(le,{agentInfo:O})]})]}):null},v=ee,P=e(62597),Ze=e(39373),it=e(9504),lt=e(70183),Ae=e(36724),gt=e(80241),Je=e(14719),qe=function(g){var R=g.agentId,C=g.isOpen,z=g.onCancel,x=(0,b.useModel)("conversationHistory"),N=x.conversationListItem,O=x.setConversationListItem,Be=x.runDel,de=(0,b.useParams)(),Oe=Number(de.id),Ue=function(){var ve=re()(E()().mark(function fe(ke){return E()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.prev=0,he.next=3,Be(ke);case 3:Oe===ke&&(z?.(),b.history.push("/agent/"+R)),he.next=8;break;case 6:he.prev=6,he.t0=he.catch(0);case 8:case"end":return he.stop()}},fe,null,[[0,6]])}));return function(ke){return ve.apply(this,arguments)}}(),xe=function(fe,ke){z?.(),b.history.push("/home/chat/".concat(fe,"/").concat(ke))},ce=function(){var ve=re()(E()().mark(function fe(ke,be){return E()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.abrupt("return",(0,gt.kl)({agentId:R,lastId:ke,limit:be}).then(function(We){var dt;return{list:(dt=We.data)!==null&&dt!==void 0?dt:[],hasMore:We.data.length>=be}}));case 1:case"end":return Ee.stop()}},fe)}));return function(ke,be){return ve.apply(this,arguments)}}();return(0,t.jsx)(Je.Z,{title:(0,t.jsx)("p",{children:"\u5386\u53F2\u4F1A\u8BDD"}),width:600,footer:null,maskClosable:!0,open:C,onCancel:z,children:(0,t.jsx)(Ae.Z,{height:500,pageSize:20,conversationList:N,setConversationList:O,loadData:ce,handleLink:xe,runDel:Ue})})},Lt=qe,et={"xagi-nav-style2":"xagi-nav-style2___Bqunf",text:"text___QJjDU","page-container":"page-container___jrt25",container:"container___YCtwE",title:"title___jkcci",titleBox:"titleBox___z2sVW",more:"more___CetNg","chat-wrapper":"chat-wrapper___s3RMQ","loading-box":"loading-box___cycDq","chat-item":"chat-item___xNmLl",time:"time___oq5hE"},ie=r().bind(et),Fe=function(g){var R,C=g.agentId,z=(0,b.useModel)("conversationInfo"),x=z.isHistoryConversationOpen,N=z.closeHistoryConversation,O=z.openHistoryConversation,Be=(0,b.useModel)("conversationHistory"),de=Be.conversationListItem,Oe=Be.loadingHistoryItem,Ue=function(ve,fe){b.history.push("/home/chat/".concat(ve,"/").concat(fe))},xe=(0,f.useCallback)(function(){O()},[]);return(0,t.jsxs)("div",{className:ie(et.container),children:[!Oe&&(0,t.jsxs)("div",{className:ie("flex","items-center","content-between",et.titleBox),children:[(0,t.jsx)(q.Z.Title,{className:ie(et.title),level:5,children:"\u76F8\u5173\u4F1A\u8BDD"}),(0,t.jsx)(it.ZP,{size:"small",className:ie(et.more,"cursor-pointer"),onClick:xe,icon:(0,t.jsx)(P.Z,{name:"icons-common-caret_right",style:{fontSize:16}}),iconPosition:"end",type:"text",children:"\u67E5\u770B\u66F4\u591A"})]}),(0,t.jsx)("div",{className:ie(et["chat-wrapper"]),children:Oe?(0,t.jsx)(I.Z,{className:ie(et["loading-box"])}):de!=null&&de.length?de==null||(R=de.slice(0,5))===null||R===void 0?void 0:R.map(function(ce){return(0,t.jsxs)("div",{className:ie(et["chat-item"],"cursor-pointer","hover-box"),onClick:function(){return Ue(ce.id,ce.agentId)},children:[(0,t.jsx)("p",{className:ie("text-ellipsis","flex-1"),children:ce.topic}),(0,t.jsx)("span",{className:ie(et.time),children:(0,Ze.BK)(ce.created)})]},ce.id)}):(0,t.jsx)(lt.Z,{description:"\u6682\u65E0\u76F8\u5173\u4F1A\u8BDD"})}),(0,t.jsx)(Lt,{agentId:C,isOpen:x,onCancel:N})]})},G=Fe,se={"xagi-nav-style2":"xagi-nav-style2___SWtlp",text:"text___SDIEN","page-container":"page-container___HjnRW",rightSidebar:"rightSidebar___fNaR7",hide:"hide___TAetw","statistics-content":"statistics-content____E5ic",container:"container___awPaA","container-content":"container-content___CmhSm","container-body":"container-body___YJB88",fold:"fold___pu12f",show:"show___PFVQr"},oe={"xagi-nav-style2":"xagi-nav-style2___UAxiF",text:"text___gwLoA","page-container":"page-container___jWT1s",header:"header___ltsPK"},ae=r().bind(oe),Me=function(g){var R=g.onClose,C=g.visible;return(0,t.jsx)("header",{className:ae(oe.header,"flex","items-center"),children:(0,t.jsx)(P.Z,{name:"icons-chat-close_regular",className:oe.close,onClick:R,style:{display:C?"block":"none"}})})},me=Me;function Se(y){return(0,b.request)("/api/agent/task/create",{method:"POST",data:y})}function Ve(y){return(0,b.request)("/api/agent/task/update",{method:"POST",data:y})}function tt(y){return(0,b.request)("/api/agent/task/list",{method:"POST",data:y})}function ct(y){return(0,b.request)("/api/agent/task/cancel/".concat(y),{method:"POST"})}function St(){return(0,b.request)("/api/agent/task/cron/list",{method:"GET"})}var He=e(92122),Pt=e(47548),Tt=e(26068),nt=e.n(Tt),Ye=e(48279),at=e(6377),ht=e(94201),pt=e(7098),Ke=e(26324),ot=e(28190),Rt=e(7010),Ht=e(63619),jt={select:"select___n5zOu"},Ft=r().bind(jt),Ut=function(g){var R=g.agentId,C=g.mode,z=C===void 0?He.jA.Create:C,x=g.open,N=g.currentTask,O=g.onCancel,Be=g.onConfirm,de=ot.Z.useForm(),Oe=m()(de,1),Ue=Oe[0],xe=(0,f.useState)(""),ce=m()(xe,2),ve=ce[0],fe=ce[1],ke=(0,f.useState)(""),be=m()(ke,2),he=be[0],Ee=be[1],We=(0,f.useState)([]),dt=m()(We,2),vt=dt[0],ue=dt[1],Qe=(0,f.useState)([]),Ne=m()(Qe,2),we=Ne[0],pe=Ne[1],Re=(0,f.useRef)([]),De=function(Ie,$e){var ze,Dt=Ie?.map(function(Mt){return{label:Mt.desc,value:Mt.cron}})||[];pe(Dt),Ee($e||((ze=Dt[0])===null||ze===void 0?void 0:ze.value)||"")},st=function(Ie){if(Ie.length!==0){var $e=Ie?.map(function(Dt){return{label:Dt.typeName,value:Dt.typeName}});ue($e);var ze=Ie[0];fe(ze.typeName),De(ze?.items||[])}},Bt=(0,b.useRequest)(St,{manual:!0,debounceInterval:300,onSuccess:function(Ie){Ie.length>0&&(Re.current=Ie,st(Ie))}}),bt=Bt.run,Gt=(0,b.useRequest)(Se,{manual:!0,debounceInterval:300,onSuccess:function(){Y.ZP.success("\u5B9A\u65F6\u4EFB\u52A1\u521B\u5EFA\u6210\u529F"),Be(),st(Re.current)}}),Zt=Gt.run,Yt=(0,b.useRequest)(Ve,{manual:!0,debounceInterval:300,onSuccess:function(){Y.ZP.success("\u5B9A\u65F6\u4EFB\u52A1\u66F4\u65B0\u6210\u529F"),Be(),st(Re.current)}}),zt=Yt.run;(0,f.useEffect)(function(){bt()},[]),(0,f.useEffect)(function(){if(x&&z===He.jA.Update&&N){var Xe;if(Ue.setFieldsValue({topic:N?.topic,summary:N?.summary}),((Xe=Re.current)===null||Xe===void 0?void 0:Xe.length)>0){var Ie,$e=(Ie=Re.current)===null||Ie===void 0?void 0:Ie.find(function(ze){return ze.items.some(function(Dt){return Dt.cron===N?.taskCron})});$e&&(fe($e.typeName),De($e.items,N.taskCron))}}},[z,N,Re.current,x]);var Jt=function(Ie){var $e=nt()(nt()({},Ie),{},{taskCron:he,agentId:R});z===He.jA.Create?Zt($e):zt(nt()(nt()({},$e),{},{id:N?.id}))},Xt=function(){Ue.submit()},At=function(Ie){var $e;fe(Ie);var ze=($e=Re.current)===null||$e===void 0?void 0:$e.find(function(Dt){return Dt.typeName===Ie});De(ze?.items||[])},ft=function(Ie){Ee(Ie)},Ct=function(){st(Re.current),O()};return(0,t.jsx)(Ye.Z,{form:Ue,open:x,title:z===He.jA.Create?"\u521B\u5EFA\u5B9A\u65F6\u4EFB\u52A1":"\u66F4\u65B0\u5B9A\u65F6\u4EFB\u52A1",onCancel:Ct,onConfirm:Xt,children:(0,t.jsxs)(ot.Z,{form:Ue,preserve:!1,layout:"vertical",requiredMark:Ke.N,onFinish:Jt,autoComplete:"off",children:[(0,t.jsx)(ot.Z.Item,{label:(0,t.jsx)(at.Z,{label:"\u5B9A\u65F6\u5468\u671F"}),children:(0,t.jsxs)(Rt.Z,{children:[(0,t.jsx)(ot.Z.Item,{noStyle:!0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],children:(0,t.jsx)(pt.Z,{className:Ft(jt.select),options:vt,value:ve,onChange:At})}),(0,t.jsx)(ot.Z.Item,{noStyle:!0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],children:(0,t.jsx)(pt.Z,{className:Ft(jt.select),options:we,value:he,onChange:ft})})]})}),(0,t.jsx)(ot.Z.Item,{name:"topic",label:"\u4EFB\u52A1\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"}],children:(0,t.jsx)(Ht.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",showCount:!0,maxLength:100})}),(0,t.jsx)(ht.Z,{name:"summary",label:"\u4EFB\u52A1\u5185\u5BB9",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u5185\u5BB9"}],placeholder:"\u8BF7\u8F93\u5165\u4F60\u8981\u6267\u884C\u7684\u4EFB\u52A1\u4FE1\u606F\uFF0C\u4FE1\u606F\u63D0\u4F9B\u7684\u8D8A\u8BE6\u7EC6\u6267\u884C\u6210\u529F\u7387\u8D8A\u9AD8",maxLength:2e3})]})})},It=Ut,Et={"xagi-nav-style2":"xagi-nav-style2___L_60d",text:"text___oOjGB","page-container":"page-container___Zbxt5",container:"container___nK18_",title:"title___i9Ov8",titleBox:"titleBox___Abekd",create:"create___Mepda",tab:"tab___uhpGK"},Kt=e(24573),kt=e(64267),mt={"xagi-nav-style2":"xagi-nav-style2___blqK5",text:"text___J2Ybp","page-container":"page-container___rkXS5","task-wrapper":"task-wrapper___h1X2h","task-item":"task-item___ypnxZ",topicBox:"topicBox___DAvmX",iconBox:"iconBox___eNnFl",topic:"topic___O2Gr4",icon:"icon___wyW3W",time:"time___NqNVx"},ut=r().bind(mt),_t=Je.Z.confirm,Wt=function(g){var R=g.className,C=g.loading,z=g.taskStatus,x=g.taskList,N=g.onCancelTask,O=g.onEditTask,Be=z===J.hY.EXECUTING?"\u6682\u65E0\u8FDB\u884C\u4E2D\u7684\u4EFB\u52A1":"\u6682\u65E0\u5DF2\u53D6\u6D88\u7684\u4EFB\u52A1";if(C)return(0,t.jsx)("div",{className:ut("flex","items-center","content-center","h-full"),children:(0,t.jsx)(Kt.Z,{className:ut(mt.loading)})});var de=function(ce){var ve=ce.id,fe=ce.agentId;b.history.push("/home/chat/".concat(ve,"/").concat(fe))},Oe=function(ce,ve){ce.stopPropagation(),_t({title:"\u60A8\u786E\u5B9A\u8981\u53D6\u6D88\u6B64\u5B9A\u65F6\u4EFB\u52A1\u5417?",icon:(0,t.jsx)(kt.Z,{}),content:ve.topic,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:function(){N?.(ve)}})},Ue=function(ce,ve){ce.stopPropagation(),O?.(ve)};return x?.length>0?(0,t.jsx)("div",{className:ut(mt["task-wrapper"],R),children:x?.map(function(xe){return(0,t.jsxs)("div",{className:ut(mt["task-item"],"flex","items-center","cursor-pointer"),children:[(0,t.jsxs)("div",{className:ut("flex-1",mt.topicBox),children:[(0,t.jsx)(q.Z.Title,{level:5,className:ut(mt.topic),onClick:function(){return de(xe)},ellipsis:{rows:1,tooltip:xe?.topic},children:xe?.topic}),(0,t.jsx)("span",{className:ut(mt.time),children:xe.taskCronDesc})]}),xe.taskStatus===J.hY.EXECUTING&&(0,t.jsxs)("div",{className:ut(mt.iconBox),children:[(0,t.jsx)(P.Z,{name:"icons-common-edit",className:ut(mt.icon),onClick:function(ve){return Ue(ve,xe)}}),(0,t.jsx)(P.Z,{name:"icons-common-delete",className:ut(mt.icon),onClick:function(ve){return Oe(ve,xe)}})]})]},xe.id)})}):(0,t.jsx)(lt.Z,{description:Be})},Qt=(0,f.memo)(Wt),Nt=r().bind(Et),Vt=function(g){var R=g.agentId,C=(0,b.useModel)("conversationInfo"),z=C.isTimedTaskOpen,x=C.closeTimedTask,N=C.timedTaskMode,O=C.openTimedTask,Be=(0,f.useState)(),de=m()(Be,2),Oe=de[0],Ue=de[1],xe=(0,f.useState)(J.hY.EXECUTING),ce=m()(xe,2),ve=ce[0],fe=ce[1],ke=(0,f.useState)(!1),be=m()(ke,2),he=be[0],Ee=be[1],We=(0,f.useState)([]),dt=m()(We,2),vt=dt[0],ue=dt[1],Qe=(0,f.useState)([]),Ne=m()(Qe,2),we=Ne[0],pe=Ne[1],Re=(0,b.useRequest)(tt,{manual:!0,debounceInterval:500,onSuccess:function(ft,Ct){var Xe=Ct[0].taskStatus;Xe===J.hY.EXECUTING?ue(ft||[]):pe(ft||[]),Ee(!1)},onError:function(){Ee(!1)}}),De=Re.run,st=(0,b.useRequest)(ct,{manual:!0,debounceInterval:500,onSuccess:function(ft,Ct){var Xe=m()(Ct,1),Ie=Xe[0];Y.ZP.success("\u5B9A\u65F6\u4EFB\u52A1\u5DF2\u53D6\u6D88"),ue(function($e){return $e.filter(function(ze){return ze.id!==Ie})})}}),Bt=st.run,bt=function(ft){Ee(!0),De({agentId:R,taskStatus:ft})};(0,f.useEffect)(function(){return bt(J.hY.EXECUTING),function(){ue([]),pe([])}},[R]);var Gt=function(ft){var Ct=ft;fe(Ct),bt(Ct)},Zt=function(ft){var Ct=ft.id;Bt(Ct)},Yt=function(ft){Ue(ft),O(He.jA.Update)},zt=[{key:J.hY.EXECUTING,label:"\u8FDB\u884C\u4E2D",children:(0,t.jsx)(Qt,{loading:he,taskStatus:J.hY.EXECUTING,taskList:vt,onCancelTask:Zt,onEditTask:Yt})},{key:J.hY.CANCEL,label:"\u5DF2\u53D6\u6D88",children:(0,t.jsx)(Qt,{loading:he,taskStatus:J.hY.CANCEL,taskList:we})}],Jt=function(){O(He.jA.Create)},Xt=function(){ve===J.hY.EXECUTING&&bt(J.hY.EXECUTING),x()};return(0,t.jsxs)("div",{className:Nt(Et.container,"flex-1","flex","flex-col"),children:[(0,t.jsxs)("div",{className:Nt("flex","items-center","content-between",Et.titleBox),children:[(0,t.jsx)(q.Z.Title,{className:Nt(Et.title),level:5,children:"\u5B9A\u65F6\u4EFB\u52A1"}),(0,t.jsx)(it.ZP,{size:"small",className:Nt(Et.create,"cursor-pointer"),onClick:Jt,icon:(0,t.jsx)(P.Z,{name:"icons-common-plus",style:{fontSize:16}}),type:"text",children:"\u6DFB\u52A0"})]}),(0,t.jsx)(Pt.Z,{rootClassName:Nt(Et.tab),tabBarGutter:20,defaultActiveKey:J.hY.EXECUTING,items:zt,onTabClick:Gt}),(0,t.jsx)(It,{agentId:R,open:z,mode:N,currentTask:Oe,onCancel:x,onConfirm:Xt})]})},wt=Vt,Te=r().bind(se),_e=(0,f.forwardRef)(function(y,g){var R=y.className,C=y.agentId,z=y.loading,x=y.agentDetail,N=y.onToggleCollectSuccess,O=y.onVisibleChange,Be=(0,f.useState)(!1),de=m()(Be,2),Oe=de[0],Ue=de[1],xe=(0,f.useState)(!1),ce=m()(xe,2),ve=ce[0],fe=ce[1],ke=(0,b.useModel)("conversationInfo"),be=ke.showType,he=function(){Ue(!Oe),setTimeout(function(){fe(!ve)},300)};return(0,f.useImperativeHandle)(g,function(){return{open:function(){Ue(!0),fe(!1)},close:function(){Ue(!1),fe(!0)},toggle:function(){Ue(function(We){return!We}),fe(function(We){return!We})}}},[]),(0,f.useEffect)(function(){be===c.wv.Show_Stand&&(Ue(!1),fe(!0))},[be]),(0,f.useEffect)(function(){O?.(Oe)},[Oe]),(0,S.Z)(Oe),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:Te(se.rightSidebar,"flex","flex-col",R,d()({},se.hide,!Oe)),children:z?(0,t.jsx)(I.Z,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(te,{offsetTop:0,style:{zIndex:10},className:Te(se["statistics-content"]),children:(0,t.jsx)(me,{statistics:x?.statistics,visible:Oe,onClose:he})}),(0,t.jsx)("div",{className:Te(se["container-scroll"],se.container),children:(0,t.jsx)("div",{className:Te(se["container-content"],"scrollbar"),children:(0,t.jsxs)("div",{className:Te(se["container-body"]),children:[(0,t.jsx)(v,{agentDetail:x,onToggleCollectSuccess:N}),(0,t.jsx)(G,{agentId:C}),x?.openScheduledTask===c.nb.Open&&(0,t.jsx)(wt,{agentId:C})]})})})]})})})}),rt=_e},34077:function(Pe,H,e){e.d(H,{Z:function(){return le}});var Q=e(82092),d=e.n(Q),l=e(22675),m=e(78987),I=e(57625),S=e(59261),c=e(13383),h=e(13278),r=e(72875),f=e(91268),t=e(27689),U=e(64799),w=e(92122),T=e(41249),a=e(38683),n=e(94581),s=e.n(n),k=e(32699),K=e(75271),p=e(87453),j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAERSURBVCiRjZFBccNADEWfdgrAYeAwcBmYQSwGMYKkCOwwKIOYgZZBITQQzCBBsOoh25lN7ab9pz3ozftaCTlmtkfkADTADbjg3qvqzEpC8a4zdEFkBGpEPs2sWQNfzOwIVKo6mhmIDKS0AV4ROSNiwHZpFNkhMpjZqKojEBEZgBb3N6A2s26tapvrDRajAR0wqWrM+83pvsJjVeCGyERKm2yatOv6YqYKIVzXjBH3o6qOuGsJmVkNVLi3S9D9BFQW4wdwKaBGVWfce6CzGM8lKN9D+fdqYAaqbOpVdco3PpdrSGGoPISdp7QNIVxxb4D9b7DwJLneEhZ5fwquwveTtX+CDzBEoMP99C/wh/mkquMXpnqTpDNkdZAAAAAASUVORK5CYII=",$=e(6619),te=e(53895),b={container:"container___bqr6a","elapsed-time":"elapsed-time___NLFZM","vertical-line":"vertical-line___viPQ6","more-action":"more-action___oDxDL",icon:"icon___hoIgl","copy-image":"copy-image___YsG7v"},o=e(52676),D=s().bind(b),u=function(q){var B=q.messageInfo,Le=B||{},ee=Le.finalResult,v=(0,p.useModel)("conversationInfo"),P=v.handleDebug,Ze=v.showType,it=(0,p.useModel)("chat"),lt=it.pagePreviewData,Ae=it.hidePagePreview,gt=function(){lt&&Ae(),P(B)},Je=(0,K.useMemo)(function(){return ee?((ee?.endTime-ee?.startTime)/1e3).toFixed(1):0},[ee]);return(0,o.jsx)("div",{className:D(b.container,"flex","content-between","items-center"),children:(0,o.jsxs)("div",{className:D("flex","items-center",b["elapsed-time"]),children:[(0,o.jsxs)(S.Z,{condition:!!ee,children:[(0,o.jsx)("span",{children:"".concat(Je,"s")}),(0,o.jsxs)(S.Z,{condition:!!(ee!=null&&ee.totalTokens),children:[(0,o.jsx)("span",{className:D(b["vertical-line"])}),(0,o.jsx)("span",{children:"".concat(ee?.totalTokens," Tokens")})]})]}),(Ze===te.wv.Version_History||Ze===te.wv.Show_Stand||Ze===te.wv.Hide)&&(0,o.jsx)(S.Z,{condition:!!ee,children:(0,o.jsx)($.Z,{className:b.icon,icon:(0,o.jsx)("img",{src:j,alt:""}),onClick:gt,title:"\u8C03\u8BD5",type:w.Ai.White})})]})})},A=u,M={"xagi-nav-style2":"xagi-nav-style2___mrh9D",text:"text___O7qUb","page-container":"page-container___XXv4P",container:"container___I82RP","elapsed-time":"elapsed-time___VSdJP","vertical-line":"vertical-line___RYAxp","more-action":"more-action___J8lvL",icon:"icon___V_fce","copy-image":"copy-image___Lbh8o"},E=s().bind(M),i=function(q){var B=q.messageInfo,Le=B||{},ee=Le.text,v=function(){T.ZP.success("\u590D\u5236\u6210\u529F")};return(0,o.jsx)("div",{className:E(M.container,"flex","content-between","items-center"),children:(0,o.jsx)("div",{className:E("flex",M["more-action"]),children:(0,o.jsx)(h.Z,{text:ee||"",onCopy:v,children:"\u590D\u5236"})})})},re=i,ye=e(48305),L=e.n(ye),ne=e(39373),V={"xagi-nav-style2":"xagi-nav-style2___A0cfb",text:"text___mQKpe","page-container":"page-container___clFMO",container:"container___bMNUQ","more-action":"more-action___PPoj0"},J=s().bind(V),_=function(q){var B=q.messageInfo,Le=(0,K.useState)(""),ee=L()(Le,2),v=ee[0],P=ee[1],Ze=(0,K.useRef)(null),it=function(){T.ZP.success("\u590D\u5236\u6210\u529F")},lt=function(){P((0,ne.BK)(B?.time))},Ae=function(){lt(),Ze.current=setInterval(function(){lt()},6e4)};return(0,K.useEffect)(function(){return B!=null&&B.time&&Ae(),function(){Ze.current!==null&&(clearInterval(Ze.current),Ze.current=null)}},[B?.time]),(0,o.jsxs)("div",{className:J(V.container,"flex","content-between","items-center"),children:[(0,o.jsx)("div",{className:J("flex",V["more-action"]),children:(0,o.jsx)(h.Z,{text:B?.text||"",onCopy:it,children:"\u590D\u5236"})}),(0,o.jsx)("span",{children:v})]})},ge=_,Y=e(30746),Z={"xagi-nav-style2":"xagi-nav-style2___C6M16",text:"text___s3NJ6","page-container":"page-container___wYf4F",container:"container___zSEQO",avatar:"avatar___IfDvJ",author:"author___AmRDb","agent-title-bar":"agent-title-bar___Y8m62","attach-file-container":"attach-file-container___xvbrf",userContainer:"userContainer___sPaST","user-content":"user-content___M5R1a","chat-content":"chat-content___FWF0e","inner-container":"inner-container___rireg","think-content":"think-content___Qas0a","user-action-box":"user-action-box___T2sE4","copy-btn":"copy-btn___vb1lQ","copy-image":"copy-image___Hbxu3"},F=s().bind(Z),W=(0,K.memo)(function(X){var q,B=X.className,Le=X.contentClassName,ee=X.roleInfo,v=X.messageInfo,P=X.mode,Ze=P===void 0?"chat":P,it=(0,p.useModel)("userInfo"),lt=it.userInfo,Ae=(0,t.K)(),gt=Ae.data,Je=gt.antdTheme==="dark",qe=(0,f.Z)({answer:v?.text||"",thinking:v?.think||"",id:v?.id||""}),Lt=qe.markdownRef,et=qe.messageIdRef,ie=lt||JSON.parse(localStorage.getItem(r.CD)),Fe=function(){var me=ee.assistant,Se=ee.system;switch(v?.role){case U.hZ.USER:return{name:ie?.nickName||ie?.userName||"\u6E38\u5BA2",avatar:ie?.avatar||m};case U.hZ.ASSISTANT:return{name:me.name,avatar:me.avatar||l};case U.hZ.SYSTEM:return{name:Se.name,avatar:Se.avatar||l}}}(),G=function(){T.ZP.success("\u590D\u5236\u6210\u529F")},se=(0,K.useCallback)(function(me){return me.replace(/^\s+|\s+$/g,"")},[]),oe=(0,K.useMemo)(function(){return v?.role===U.hZ.USER},[v?.role]),ae=a.Z.useToken(),Me=ae.token;return(0,o.jsx)("div",{className:F(Z.container,"flex",B),children:(0,o.jsxs)("div",{className:F("flex-1","overflow-hide",d()({},Z.userContainer,oe)),children:[!oe&&(0,o.jsxs)("div",{className:F(Z["agent-title-bar"]),children:[(0,o.jsx)("img",{className:F(Z.avatar),src:Fe?.avatar,alt:""}),(0,o.jsx)("div",{className:F(Z.author),children:Fe?.name}),(0,o.jsx)(S.Z,{condition:!!(v!=null&&v.status),children:(0,o.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:12},children:(0,o.jsx)("div",{style:{flex:1},children:(0,o.jsx)(Y.Z,{messageInfo:v})})})})]}),!!(v!=null&&(q=v.attachments)!==null&&q!==void 0&&q.length)&&(0,o.jsx)("div",{className:F(Z["attach-file-container"]),children:(0,o.jsx)(I.Z,{files:v?.attachments})}),oe&&!!(v!=null&&v.text)&&(0,o.jsxs)("div",{className:F(Z["user-content"]),children:[(0,o.jsx)("div",{className:F(Z["chat-content"],Z.user,"radius-6",Le,"ds-markdown",{"ds-markdown-dark":Je}),children:(0,o.jsx)("div",{className:"ds-markdown-answer",children:(0,o.jsx)("div",{style:{whiteSpace:"pre-wrap"},className:"ds-markdown-paragraph ds-typed-answer",children:se(v?.text)})})}),(0,o.jsx)("div",{className:F(Z["user-action-box"],"flex","items-center"),children:(0,o.jsx)(h.Z,{text:v.text||"",onCopy:G,children:"\u590D\u5236"})})]}),(0,o.jsxs)(S.Z,{condition:v?.role!==U.hZ.USER,children:[(!!(v!=null&&v.think)||!!(v!=null&&v.text))&&(0,o.jsx)("div",{className:F(Z["inner-container"],Le),children:(0,o.jsx)("div",{className:F(Z["chat-content"],"radius-6","w-full",d()({},Z.typing,v.status===w.ge.Incomplete||v.status===w.ge.Loading)),children:(0,o.jsx)(c.ZP,{id:"".concat(et.current),markdownRef:Lt},"".concat(et.current))})}),(0,o.jsx)(S.Z,{condition:v&&(v?.status===w.ge.Complete||!(v!=null&&v.status)),children:Ze==="chat"?(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12,padding:"0 ".concat(Me.paddingXS,"px")},children:[(0,o.jsx)("div",{style:{flex:1},children:(0,o.jsx)(re,{messageInfo:v})}),(0,o.jsx)(A,{messageInfo:v})]}):Ze==="home"?(0,o.jsx)(ge,{messageInfo:v}):null})]})]})})},function(X,q){return(0,k.isEqual)(X.messageInfo,q.messageInfo)}),le=W},59261:function(Pe,H,e){var Q=e(75271),d=e(52676),l=function(I){var S=I.children,c=I.condition;return c?(0,d.jsx)(d.Fragment,{children:S}):null};H.Z=l},6377:function(Pe,H,e){e.d(H,{Z:function(){return h}});var Q=e(94581),d=e.n(Q),l=e(75271),m={container:"container___dApW8",star:"star___pESlW"},I=e(52676),S=d().bind(m),c=function(f){var t=f.className,U=f.label;return(0,I.jsxs)("span",{className:S(m.container,"flex",t),children:[(0,I.jsx)("span",{children:U}),(0,I.jsx)("span",{className:S(m.star),children:"*"})]})},h=c},90327:function(Pe,H,e){e.d(H,{Z:function(){return k}});var Q=e(48305),d=e.n(Q),l=e(68261),m=e(64799),I=e(92122),S=e(53895),c=e(3642),h=e(14719),r=e(9504),f=e(94581),t=e.n(f),U=e(75271),w=e(87453),T={"xagi-nav-style2":"xagi-nav-style2___dAgfb",text:"text___a_MNK","page-container":"page-container___Aaw3P","modal-container":"modal-container___EDu1v","modal-body":"modal-body___KeoH4",header:"header___lDVFq","row-line":"row-line___CTchF",label:"label___NamUa",box:"box___W8ZiK",img:"img___kPSF5","selected-ico":"selected-ico___t5Iak"},a=e(52676),n=t().bind(T),s=function(p){var j=p.spaceId,$=p.loading,te=p.type,b=te===void 0?S.KZ.Move:te,o=p.mode,D=o===void 0?m.qR.Agent:o,u=p.isTemplate,A=u===void 0?!1:u,M=p.open,E=p.title,i=p.onCancel,re=p.onConfirm,ye=(0,U.useState)(0),L=d()(ye,2),ne=L[0],V=L[1],J=(0,U.useState)(""),_=d()(J,2),ge=_[0],Y=_[1],Z=(0,w.useModel)("spaceModel"),F=Z.spaceList,W=b===S.KZ.Move?"\u8FC1\u79FB":"\u590D\u5236";(0,U.useEffect)(function(){if(M)switch(V(0),D){case m.qR.Agent:Y("\u667A\u80FD\u4F53");break;case m.qR.Page:Y("\u9875\u9762");break;case m.qR.Plugin:Y("\u63D2\u4EF6");break;case m.qR.Workflow:Y("\u5DE5\u4F5C\u6D41");break;default:Y("\u7EC4\u4EF6");break}},[D,M]);var le=(0,U.useMemo)(function(){var X=F?.filter(function(B){return!(B.currentUserRole===I.g8.User&&B.allowDevelop===S.Cn.Not_Allow)})||[];if(b===S.KZ.Move)return X?.filter(function(B){return B.id!==j})||[];if(A)return X;var q=F.find(function(B){return B.id===j});return q?.currentUserRole===I.g8.User?[q]:X},[b,j,F,A]);return(0,a.jsx)(h.Z,{open:M,destroyOnHidden:!0,onCancel:i,classNames:{content:n(T["modal-container"]),body:T["modal-body"]},centered:!0,title:(0,a.jsx)("header",{className:n(T.header,"text-ellipsis"),children:"".concat(W).concat(ge," - ").concat(E)}),footer:function(){return(0,a.jsx)(r.ZP,{type:"primary",block:!0,loading:$,onClick:function(){return re(ne)},disabled:!ne,children:W})},children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:n(T["row-line"])}),(0,a.jsx)("span",{className:n(T.label),children:"\u9009\u62E9\u8981".concat(W,"\u5230\u7684\u7A7A\u95F4")}),le.map(function(X){return(0,a.jsxs)("div",{className:n("flex","items-center","hover-box","cursor-pointer",T.box),onClick:function(){return V(X.id)},children:[(0,a.jsx)("img",{className:n(T.img),src:X.icon||l,alt:""}),(0,a.jsx)("span",{className:n("flex-1","text-ellipsis"),children:X.name}),ne===X.id&&(0,a.jsx)(c.Z,{className:n(T["selected-ico"])})]},X.id)})]})})},k=s},2349:function(Pe,H,e){e.d(H,{Z:function(){return p}});var Q=e(48305),d=e.n(Q),l=e(64799),m=e(26324),I=e(13143),S=e(28246),c=e(63619),h=e(51249),r=e(28190),f=e(9504),t=e(94581),U=e.n(t),w=e(75271),T=e(59261),a={"xagi-nav-style2":"xagi-nav-style2___y6MJu",text:"text___XcdJn","page-container":"page-container___aQb4E","variables-box":"variables-box___zOde3",header:"header____mIzl","down-icon":"down-icon___nE2JF","rotate-90":"rotate-90___n3jXV","conversation-container":"conversation-container___wfpdk","close-form":"close-form___uaNXu","form-box":"form-box___AloSZ",desc:"desc___XIVD5"},n=e(52676),s=U().bind(a),k=S.Z.SHOW_CHILD,K=function($){var te=$.className,b=$.form,o=$.isFilled,D=o===void 0?!1:o,u=$.disabled,A=u===void 0?!1:u,M=$.showSubmitButton,E=M===void 0?!1:M,i=$.variables,re=$.userFillVariables,ye=$.onConfirm,L=(0,w.useState)(!0),ne=d()(L,2),V=ne[0],J=ne[1];(0,w.useEffect)(function(){re&&b.setFieldsValue(re)},[b,re]);var _=function(F){J(!1),ye?.(F)},ge=V?a["conversation-container"]:D?a["close-form"]:null,Y=function(F){var W,le=F.inputType,X=F.description,q=[l.oI.Select,l.oI.MultipleSelect].includes(le),B;switch(le){case l.oI.Text:B=(0,n.jsx)(c.Z,{variant:"filled",placeholder:X||"\u8BF7\u8F93\u5165",allowClear:!0});break;case l.oI.Paragraph:case l.oI.AutoRecognition:B=(0,n.jsx)(c.Z.TextArea,{variant:"filled",placeholder:X||"\u8BF7\u8F93\u5165",allowClear:!0});break;case l.oI.Number:B=(0,n.jsx)(h.Z,{variant:"filled",className:"w-full",placeholder:X||"\u8BF7\u8F93\u5165"});break;case l.oI.Select:case l.oI.MultipleSelect:B=(0,n.jsx)(S.Z,{variant:"filled",expandTrigger:"hover",multiple:le===l.oI.MultipleSelect,maxTagCount:"responsive",showCheckedStrategy:k,placeholder:X||"\u8BF7\u9009\u62E9",options:((W=F.selectConfig)===null||W===void 0?void 0:W.options)||[],allowClear:!0});break;default:B=(0,n.jsx)(c.Z,{placeholder:X||"\u8BF7\u8F93\u5165",allowClear:!0})}return{isSelect:q,content:B}};return i!=null&&i.length?(0,n.jsxs)("div",{className:s(a["variables-box"],"flex","flex-col",te),children:[(0,n.jsxs)("header",{className:s(a.header,"flex","items-center","content-between"),children:[(0,n.jsx)("span",{children:"\u5BF9\u8BDD\u8BBE\u7F6E"}),(0,n.jsx)(T.Z,{condition:D,children:(0,n.jsx)("span",{className:s(a.text,"cursor-pointer"),onClick:function(){return J(!V)},children:(0,n.jsx)(I.Z,{className:s(V?"":a["rotate-90"],a["down-icon"])})})})]}),(0,n.jsxs)("div",{className:s(ge),children:[(0,n.jsxs)(r.Z,{form:b,rootClassName:a["form-box"],disabled:A,preserve:!1,layout:"vertical",onFinish:_,requiredMark:m.N,autoComplete:"off",children:[i?.map(function(Z){var F=Z.name,W=Z.displayName,le=Z.require,X=Z.key,q=Y(Z),B=q.isSelect,Le=q.content;return(0,n.jsx)(r.Z.Item,{name:F,label:W,rules:[{required:le,message:"\u8BF7".concat(B?"\u9009\u62E9":"\u8F93\u5165").concat(W)}],children:Le},X)}),(0,n.jsx)(T.Z,{condition:E,children:(0,n.jsx)(r.Z.Item,{children:(0,n.jsx)(f.ZP,{type:"primary",htmlType:"submit",block:!0,children:"\u5F00\u59CB\u5BF9\u8BDD"})})})]}),(0,n.jsx)(T.Z,{condition:A,children:(0,n.jsx)("p",{className:s(a.desc),children:"\u5BF9\u8BDD\u5F00\u59CB\u540E\uFF0C\u5BF9\u8BDD\u8BBE\u7F6E\u5C06\u65E0\u6CD5\u4FEE\u6539\u3002"})})]})]}):null},p=K},94201:function(Pe,H,e){e.d(H,{Z:function(){return w}});var Q=e(48305),d=e.n(Q),l=e(63619),m=e(28190),I=e(94581),S=e.n(I),c=e(75271),h={"text-area":"text-area___UOMCQ",input:"input___XXN9U",text:"text___m7VFK"},r=e(52676),f=S().bind(h),t=l.Z.TextArea,U=function(a){var n,s=a.placeholder,k=s===void 0?"\u8BF7\u8F93\u5165":s,K=a.name,p=a.label,j=a.initialValue,$=a.maxLength,te=$===void 0?200:$,b=a.minRows,o=b===void 0?3:b,D=a.maxRows,u=D===void 0?6:D,A=a.rules,M=(0,c.useState)(""),E=d()(M,2),i=E[0],re=E[1];return(0,c.useEffect)(function(){j&&re(j)},[j]),(0,r.jsxs)(m.Z.Item,{className:f("relative"),children:[(0,r.jsx)(m.Z.Item,{className:f(h["text-area"]),name:K,label:p,rules:A,children:(0,r.jsx)(t,{rootClassName:h.input,placeholder:k,value:i,onChange:function(L){return re(L.target.value)},maxLength:te,autoSize:{minRows:o,maxRows:u}})}),(0,r.jsxs)("span",{className:f("absolute",h.text),children:[(n=i?.length)!==null&&n!==void 0?n:0,"/",te]})]})},w=U},84283:function(Pe,H,e){e.d(H,{Z:function(){return T}});var Q=e(31759),d=e.n(Q),l=e(44953),m=e(24573),I=e(41249),S=e(94581),c=e.n(S),h=e(75271),r=e(87453),f={"xagi-nav-style2":"xagi-nav-style2___a6A0C",text:"text___ijFbn","page-container":"page-container___AmrXf",container:"container___eQEDc",box:"box___qQPTu",icon:"icon___aN05X"},t=e(52676),U=c().bind(f),w=function(n){var s=n.className,k=n.itemClassName,K=n.loading,p=n.chatSuggestList,j=n.onClick,$=(0,r.useModel)("chat"),te=$.showPagePreview,b=function(u){var A={},M={};if(u.args&&Array.isArray(u.args)&&u.args.forEach(function(re){re.inputType==="Path"&&re.name&&(A[re.name]=re.bindValue),re.inputType==="Query"&&re.name&&re.bindValue&&(M[re.name]=re.bindValue)}),(0,l.N4)(u.pageUrl,A)){var E=(0,l.Tx)(u?.pageUrl,A),i="".concat("").concat(E);te({name:u.info||"\u9875\u9762\u9884\u89C8",uri:i,params:M,executeId:"event-".concat(Date.now())})}else I.ZP.error("\u9875\u9762\u8DEF\u5F84\u53C2\u6570\u914D\u7F6E\u9519\u8BEF")},o=function(u){if(u.type==="Question"){j(u.info);return}if(u.type==="Page"){if(!u.pageUrl){I.ZP.error("\u9875\u9762\u8DEF\u5F84\u914D\u7F6E\u9519\u8BEF");return}b(u);return}if(u.type==="Link"){if(!u.url){I.ZP.error("\u94FE\u63A5\u5730\u5740\u914D\u7F6E\u9519\u8BEF");return}window.open(u.url,"_blank");return}};return K?(0,t.jsx)("div",{className:U("flex",f["loading-box"]),children:(0,t.jsx)(m.Z,{})}):p?.length>0?(0,t.jsx)("div",{className:U(f.container,"flex","flex-col",s),children:p?.map(function(D,u){return D?(0,t.jsxs)("div",{onClick:function(){return typeof D=="string"?j(D):o(D)},className:U(f.box,"cursor-pointer","hover-box",k,"text-ellipsis-2"),children:[d()(D)==="object"&&D?.icon&&(0,t.jsx)("img",{className:U(f.icon),src:D?.icon}),typeof D=="string"?D:D.info]},u):null})}):null},T=w},57534:function(Pe,H,e){e.d(H,{Z:function(){return r}});var Q=e(48305),d=e.n(Q),l=e(75271),m=e(10894),I=e.n(m),S={container:"container___nA1pk",left:"left___yCQVL",right:"right___W8W7y",divider:"divider___TKhrM",dragging:"dragging___ur7Jj",disabled:"disabled___tspGS",dragOverlay:"dragOverlay___E5wS3"},c=e(52676),h=function(t){var U=t.left,w=t.right,T=t.minLeftWidth,a=T===void 0?350:T,n=t.minRightWidth,s=n===void 0?350:n,k=t.defaultLeftWidth,K=k===void 0?33:k,p=t.dividerColor,j=p===void 0?"#e0e0e0":p,$=t.dividerHoverColor,te=$===void 0?"#bbb":$,b=t.dividerDraggingColor,o=b===void 0?"#1890ff":b,D=t.style,u=t.className,A=(0,l.useRef)(null),M=(0,l.useState)(0),E=d()(M,2),i=E[0],re=E[1],ye=(0,l.useState)(K),L=d()(ye,2),ne=L[0],V=L[1],J=(0,l.useState)(!1),_=d()(J,2),ge=_[0],Y=_[1],Z=(0,l.useState)(!1),F=d()(Z,2),W=F[0],le=F[1],X=(0,l.useState)(!1),q=d()(X,2),B=q[0],Le=q[1],ee=(0,l.useRef)(0),v=(0,l.useRef)(null);(0,l.useEffect)(function(){var Fe=setTimeout(function(){Le(!0)},300);return function(){return clearTimeout(Fe)}},[]),(0,l.useEffect)(function(){var Fe=function(){if(A.current){var oe=A.current.offsetWidth;re(oe),!W&&oe>0&&le(!0)}};Fe();var G=new ResizeObserver(Fe);return A.current&&G.observe(A.current),window.addEventListener("resize",Fe),function(){G.disconnect(),window.removeEventListener("resize",Fe)}},[W]),(0,l.useEffect)(function(){if(!(!i||!W)){var Fe=ee.current;if(Fe!==i&&!ge){ee.current=i;var G;v.current!==null?G=v.current:G=ne/100*i;var se=i-G,oe=G<a,ae=se<s;if(oe&&ae){v.current=a;var Me=a/i*100;V(Me);return}if(oe){v.current=a;var me=a/i*100;V(me);return}if(ae){var Se=i-s;v.current=Se;var Ve=Se/i*100;V(Math.max(0,Ve));return}if(v.current!==null){var tt=v.current/i*100;V(tt);return}var ct=i-s;if(G>ct){var St=ct/i*100;V(St)}}}},[i,W,ne,a,s,ge]);var P=!!U,Ze=!!w,it=P&&Ze,lt=P&&!Ze?100:!P&&Ze?0:ne,Ae=!it,gt=(0,l.useCallback)(function(Fe,G){if(!(!A.current||i===0)){var se=G.x,oe=se/i*100,ae=a/i*100,Me=s/i*100,me=100-Me,Se=Math.max(ae,Math.min(me,oe));V(Se),v.current!==null&&(v.current=null)}},[i,a,s]),Je=(0,l.useCallback)(function(Fe){if(!(!A.current||i===0)){var G=A.current.getBoundingClientRect(),se=Fe.clientX-G.left,oe=se/i*100,ae=a/i*100,Me=s/i*100,me=100-Me,Se=Math.max(ae,Math.min(me,oe));V(Se),v.current!==null&&(v.current=null)}},[i,a,s]),qe=(0,l.useCallback)(function(){Y(!1),document.body.style.userSelect="",document.removeEventListener("mousemove",Je),document.removeEventListener("mouseup",qe)},[Je]),Lt=(0,l.useCallback)(function(){Y(!0),document.body.style.userSelect="none",document.addEventListener("mousemove",Je),document.addEventListener("mouseup",qe)},[Je,qe]),et=(0,l.useCallback)(function(Fe,G){if(Y(!1),document.body.style.userSelect="",document.removeEventListener("mousemove",Je),document.removeEventListener("mouseup",qe),A.current&&i>0){var se=G.x,oe=se/i*100,ae=a/i*100,Me=s/i*100,me=100-Me,Se=Math.max(ae,Math.min(me,oe));V(Se),v.current=null}},[i,a,s,Je,qe]),ie={x:ne/100*i,y:0};return(0,c.jsxs)("div",{className:"".concat(S.container," ").concat(u||""),style:D,ref:A,children:[ge&&(0,c.jsx)("div",{className:S.dragOverlay}),P&&(0,c.jsx)("div",{className:S.left,style:{width:"".concat(lt,"%"),transition:W?"none":"width 0ms",overflow:ge?"hidden":"auto"},children:U}),it&&i>0&&(0,c.jsx)(I(),{axis:"x",position:ie,onStart:Lt,onDrag:gt,onStop:et,disabled:Ae,bounds:{left:a,right:i-s},children:(0,c.jsx)("div",{className:"".concat(S.divider," ").concat(Ae?S.disabled:""," ").concat(ge?S.dragging:""),style:{"--divider-color":j,"--divider-hover-color":te,"--divider-dragging-color":o,opacity:B?1:0,transition:"opacity 0.4s ease-in-out"}})}),Ze&&(0,c.jsx)("div",{className:S.right,style:{width:"".concat(100-lt,"%"),transition:W?"none":"width 0ms",overflow:ge?"hidden":"auto"},children:w})]})},r=h},6772:function(Pe,H,e){e.d(H,{Z:function(){return re}});var Q=e(26068),d=e.n(Q),l=e(92122),m=e(75271),I=e(59261),S=e(94581),c=e.n(S),h={"xagi-nav-style2":"xagi-nav-style2___bmZZd",text:"text___TlJTJ","page-container":"page-container___MtdBj",container:"container___bLyIn"},r=e(52676),f=c().bind(h),t=function(L){var ne=L.className,V=L.title,J=L.content,_=L.image,ge=L.onClick;return(0,r.jsxs)("div",{className:f(h.container,"flex","flex-col","cursor-pointer",ne),onClick:ge,children:[(0,r.jsx)("h3",{className:"text-ellipsis-2",children:V}),(0,r.jsx)(I.Z,{condition:_,children:(0,r.jsx)("img",{className:"radius-6",src:_,alt:""})}),(0,r.jsx)("p",{className:"text-ellipsis-2",children:J})]})},U=t,w={"xagi-nav-style2":"xagi-nav-style2___LLKTW",text:"text___Vlepy","page-container":"page-container___T748_",container:"container___uoSDc",box:"box___on4p2"},T=c().bind(w),a=function(L){var ne=L.className,V=L.title,J=L.content,_=L.image,ge=L.onClick;return(0,r.jsxs)("div",{className:T(w.container,"flex","cursor-pointer","items-center",ne),onClick:ge,children:[(0,r.jsx)(I.Z,{condition:_,children:(0,r.jsx)("img",{className:"radius-6",src:_,alt:""})}),(0,r.jsxs)("div",{className:T(w.box,"flex-1","overflow-hide"),children:[(0,r.jsx)("h3",{className:"text-ellipsis",children:V}),(0,r.jsx)("p",{className:"text-ellipsis-2",children:J})]})]})},n=a,s={"xagi-nav-style2":"xagi-nav-style2___UTXUD",text:"text___ImNss","page-container":"page-container___cWd2B",container:"container___ujWA4"},k=c().bind(s),K=function(L){var ne=L.className,V=L.title,J=L.content,_=L.onClick;return(0,r.jsxs)("div",{className:k(s.container,"cursor-pointer",ne),onClick:_,children:[(0,r.jsx)("h3",{className:"text-ellipsis-2",children:V}),(0,r.jsx)("p",{className:"text-ellipsis-2",children:J})]})},p=K,j={"xagi-nav-style2":"xagi-nav-style2___tYLnj",text:"text___GGppT","page-container":"page-container___fZGCQ",container:"container___mGrAV"},$=c().bind(j),te=function(L){var ne=L.className,V=L.title,J=L.content,_=L.image,ge=L.onClick;return(0,r.jsxs)("div",{className:$(j.container,"flex","flex-col","cursor-pointer",ne),onClick:ge,children:[(0,r.jsx)("h3",{className:"text-ellipsis-2",children:V}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("p",{className:"flex-1 text-ellipsis-2",children:J}),(0,r.jsx)(I.Z,{condition:_,children:(0,r.jsx)("img",{className:"radius-6",src:_,alt:""})})]})]})},b=te,o=function(L){var ne=L.cardKey,V=L.bindLinkUrl,J=function(){V&&window.open(V)};switch(ne){case l.H1.ONE:return(0,r.jsx)(n,d()(d()({},L),{},{onClick:J}));case l.H1.TWO:return(0,r.jsx)(b,d()(d()({},L),{},{onClick:J}));case l.H1.THREE:return(0,r.jsx)(p,d()(d()({},L),{},{onClick:J}));case l.H1.FOUR:return(0,r.jsx)(U,d()(d()({},L),{},{onClick:J}))}},D=o,u=e(89083),A=e(70183),M={"inner-container":"inner-container____n5mL","card-item-container":"card-item-container___rBOVp","card-style-two":"card-style-two___mNZ7T"},E=c().bind(M),i=function(L){var ne=L.className,V=L.visible,J=L.onClose,_=L.cardList,ge=function(Z){return _?.length===1&&Z.cardKey===l.H1.TWO};return(0,r.jsx)(u.Z,{title:"\u5C55\u793A\u53F0",className:ne,visible:V,onClose:J,children:_?.length>0?(0,r.jsx)("div",{className:E(M["inner-container"],"scrollbar"),children:(0,r.jsx)("div",{className:E(M["card-item-container"]),children:_?.map(function(Y,Z){return(0,r.jsx)(D,d()(d()({},Y),{},{className:ge(Y)?M["card-style-two"]:""}),"".concat(Y.cardKey).concat(Z))})})}):(0,r.jsx)("div",{className:E("flex","h-full","items-center","content-center"),children:(0,r.jsx)(A.Z,{description:"\u6682\u65E0\u6570\u636E"})})})},re=i},89083:function(Pe,H,e){e.d(H,{Z:function(){return t}});var Q=e(82092),d=e.n(Q),l=e(14258),m=e(94581),I=e.n(m),S=e(75271),c={"xagi-nav-style2":"xagi-nav-style2___uLxRe",text:"text___IjURi","page-container":"page-container___bB2qy",container:"container___ZmQyk",hidden:"hidden___sQc7Y",header:"header___NPVhj",close:"close___T88xb"},h=e(52676),r=I().bind(c),f=function(w){var T=w.className,a=w.title,n=w.visible,s=w.onClose,k=w.children;return(0,h.jsxs)("div",{className:r("flex","flex-col","overflow-y",c.container,T,d()({},c.hidden,!n)),children:[(0,h.jsxs)("div",{className:r(c.header,"flex","items-center","content-between"),children:[(0,h.jsx)("h3",{children:a}),(0,h.jsx)(l.Z,{className:r(c.close,"cursor-pointer"),onClick:s})]}),(0,h.jsx)("div",{className:"flex-1 overflow-y",children:k})]})},t=f},702:function(Pe,H,e){e.d(H,{Z:function(){return A}});var Q=e(90228),d=e.n(Q),l=e(87999),m=e.n(l),I=e(48305),S=e.n(I),c=e(62597),h=e(61265),r=e(80241),f=e(44953),t=e(47383),U=e(61606),w=e(27806),T=e(81707),a=e(14258),n=e(68108),s=e(9504),k=e(56555),K=e(94581),p=e.n(K),j=e(75271),$=e(70797),te=e(87453),b={"xagi-nav-style2":"xagi-nav-style2___IxVei",text:"text___PJibU","page-container":"page-container___r4oL6","page-preview-iframe-container":"page-preview-iframe-container___i7gFb","page-preview-header":"page-preview-header___aUFBG","page-icon":"page-icon___fFlZK","close-btn":"close-btn___GIqOO","page-preview-body":"page-preview-body___op2OU","page-iframe-container":"page-iframe-container___iDJF0","page-iframe":"page-iframe___Fy7dV","loading-wrapper":"loading-wrapper___YqvYY"},o=e(52676),D=p().bind(b),u=function(E){var i=E.pagePreviewData,re=E.showLoading,ye=re===void 0?!0:re,L=E.showHeader,ne=L===void 0?!0:L,V=E.showCloseButton,J=V===void 0?!0:V,_=E.onClose,ge=E.style,Y=E.className,Z=E.titleStyle,F=E.titleClassName,W=(0,j.useState)(0),le=S()(W,2),X=le[0],q=le[1],B=(0,j.useState)(!0),Le=S()(B,2),ee=Le[0],v=Le[1],P=(0,j.useRef)(null),Ze=(0,j.useMemo)(function(){if(!i)return"";var G=i.uri,se=i.params;if(!G)return"";if(/^https?:\/\//.test(G)||(G="".concat("").concat(G)),!se||Object.keys(se).length===0)return G;var oe=new URLSearchParams(se).toString();return q(Date.now),"".concat(G,"?").concat(oe)},[i]),it=function(){v(!1)},lt=function(){v(!1)},Ae=(0,te.useModel)("chat"),gt=Ae.previewPageTitle,Je=Ae.setPreviewPageTitle;if((0,j.useEffect)(function(){var G=P.current;G&&(G.src=Ze,v(!0),G.onload=m()(d()().mark(function se(){var oe,ae,Me,me,Se,Ve,tt,ct;return d()().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:if(ae=G.contentDocument||((oe=G.contentWindow)===null||oe===void 0?void 0:oe.document),ae){He.next=3;break}return He.abrupt("return");case 3:if(Me=new $.Z,Se=new MutationObserver(function(){clearTimeout(me),me=setTimeout(m()(d()().mark(function Pt(){var Tt,nt,Ye,at,ht;return d()().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(nt=((Tt=ae.querySelector("head > title"))===null||Tt===void 0?void 0:Tt.textContent)||"\u9875\u9762\u9884\u89C8",Je(nt),Ye=ae.body.innerHTML,i!=null&&i.method){Ke.next=5;break}return Ke.abrupt("return");case 5:if(at="",i.data_type==="html"&&(at=Ye),i.data_type==="markdown"&&(at=Me.turndown(Ye)),at){Ke.next=10;break}return Ke.abrupt("return");case 10:if(i?.method!=="browser_navigate_page"){Ke.next=15;break}return ht={requestId:i.request_id||"",html:at},console.log("CHART2",ht),Ke.next=15,(0,r.kR)(ht);case 15:case"end":return Ke.stop()}},Pt)})),500)}),Se.observe(ae.body,{childList:!0,subtree:!0,characterData:!0}),i?.method!=="browser_navigate_page"){He.next=13;break}if(tt=(Ve=ae.body.querySelector("body>h1"))===null||Ve===void 0?void 0:Ve.textContent,tt!=="Welcome to nginx!"){He.next=13;break}return ct={requestId:i?.request_id,html:"\u65E0\u6CD5\u8BFB\u53D6\u6570\u636E"},console.log("CHART1",ct),He.next=13,(0,r.kR)(ct);case 13:return He.abrupt("return",function(){Se.disconnect(),clearTimeout(me)});case 14:case"end":return He.stop()}},se)})))},[i]),!i)return null;function qe(){var G;return(G=P.current)===null||G===void 0?void 0:G.contentWindow}function Lt(){var G,se=qe();se==null||(G=se.location)===null||G===void 0||G.reload()}function et(){var G,se=qe();se==null||(G=se.history)===null||G===void 0||G.back()}function ie(){var G,se=qe();se==null||(G=se.history)===null||G===void 0||G.forward()}function Fe(){var G=Ze;/^https?:\/\//.test(Ze)||(G="".concat(window.location.protocol,"//").concat(window.location.host).concat(Ze)),(0,f.TE)(G,function(){},!0)}return(0,o.jsxs)("div",{className:D(b["page-preview-iframe-container"],Y),style:ge,children:[ne&&(0,o.jsxs)("div",{className:D(b["page-preview-header"]),children:[(0,o.jsxs)("h3",{className:"text-ellipsis",children:[(0,o.jsx)(c.Z,{name:"icons-page",className:D(b["page-icon"])}),(0,o.jsx)("span",{className:F,style:Z,children:gt})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"10px",marginRight:"20px"},children:[(0,o.jsx)(n.Z,{title:"\u5237\u65B0",children:(0,o.jsx)(s.ZP,{onClick:Lt,icon:(0,o.jsx)(t.Z,{})})}),(0,o.jsx)(n.Z,{title:"\u540E\u9000",children:(0,o.jsx)(s.ZP,{onClick:et,icon:(0,o.jsx)(U.Z,{})})}),(0,o.jsx)(n.Z,{title:"\u524D\u8FDB",children:(0,o.jsx)(s.ZP,{onClick:ie,icon:(0,o.jsx)(w.Z,{})})}),(0,o.jsx)(n.Z,{title:"\u590D\u5236\u94FE\u63A5",children:(0,o.jsx)(s.ZP,{onClick:Fe,icon:(0,o.jsx)(T.Z,{})})})]}),J&&(0,o.jsx)(a.Z,{className:D(b["close-btn"],"cursor-pointer"),onClick:_})]}),(0,o.jsxs)("div",{className:D(b["page-preview-body"]),children:[ye&&ee&&(0,o.jsx)("div",{className:D(b["loading-wrapper"]),children:(0,o.jsx)(k.Z,{size:"large",tip:"\u9875\u9762\u52A0\u8F7D\u4E2D..."})}),(0,o.jsx)("iframe",{ref:P,src:Ze,sandbox:h.lM,className:D(b["page-iframe"]),onLoad:it,onError:lt,style:{opacity:ee?0:1,transition:"opacity 1.5s ease-in-out"}},X)]})]})},A=u},3055:function(Pe,H,e){e.d(H,{Z:function(){return r}});var Q=e(24573),d=e(94581),l=e.n(d),m=e(75271),I={"xagi-nav-style2":"xagi-nav-style2___xuAte",text:"text___sfO7S","page-container":"page-container___rvj3b",container:"container___MWZZN"},S=e(52676),c=l().bind(I),h=function(t){var U=t.className;return(0,S.jsxs)("div",{className:c("flex","flex-1","items-center","content-center",I.container,U),children:[(0,S.jsx)(Q.Z,{}),(0,S.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]})},r=h},7098:function(Pe,H,e){e.d(H,{Z:function(){return t}});var Q=e(3642),d=e(17701),l=e(88958),m=e(94581),I=e.n(m),S=e(75271),c={container:"container___zAmsL","option-icon-box":"option-icon-box___Xu928",icon:"icon___k7L6U",image:"image___gVYjP"},h=e(52676),r=I().bind(c),f=function(w){var T=w.className,a=w.value,n=w.dropdownRenderComponent,s=w.placeholder,k=w.disabled,K=w.allowClear,p=K===void 0?!1:K,j=w.options,$=w.onChange,te=w.size,b=te===void 0?"middle":te;return(0,h.jsx)(d.default,{rootClassName:r(c.container,T),value:a,placeholder:s||"\u8BF7\u9009\u62E9",disabled:k,onChange:$,allowClear:p,onClick:function(D){D.stopPropagation()},options:j,size:b,popupRender:function(D){return(0,h.jsxs)(h.Fragment,{children:[D,n]})},optionRender:function(D){var u;return(0,h.jsxs)(l.Z,{gap:8,align:"center",children:[(0,h.jsx)("div",{className:r(c["option-icon-box"]),children:a===D.data.value&&(0,h.jsx)(Q.Z,{className:r(c.icon)})}),!!(D!=null&&(u=D.data)!==null&&u!==void 0&&u.img)&&(0,h.jsx)("img",{className:r(c.image,"radius-6"),src:String(D.data.img),alt:""}),(0,h.jsx)("span",{className:r("flex-1","text-ellipsis"),children:D.data.label})]})}})},t=f},6619:function(Pe,H,e){e.d(H,{Z:function(){return U}});var Q=e(62597),d=e(92122),l=e(38683),m=e(68108),I=e(94581),S=e.n(I),c=e(75271),h={box:"box___qPDL3"},r=e(52676),f=S().bind(h),t=function(T){var a=T.className,n=T.type,s=n===void 0?d.Ai.Blank:n,k=T.icon,K=T.title,p=T.onClick,j=s===d.Ai.Blank?"tooltip-blank":"tooltip-white",$=l.Z.useToken(),te=$.token;return(0,r.jsx)(m.Z,{title:K,classNames:{root:j},children:(0,r.jsx)("span",{className:f("hover-box","flex","content-center","items-center","cursor-pointer",h.box,a),onClick:p,children:k||(0,r.jsx)(Q.Z,{name:"icons-common-plus",style:{color:te.colorTextTertiary,fontSize:"15px"}})})})},U=t},71530:function(Pe,H,e){e.d(H,{Z:function(){return d}});var Q=function(l){return l.NewNotifyMessage="new_notify_message",l.RefreshChatMessage="refresh_chat_message",l}({}),d={NewNotifyMessage:Q.NewNotifyMessage,RefreshChatMessage:Q.RefreshChatMessage}},51837:function(Pe,H,e){var Q=e(48305),d=e.n(Q),l=e(32222),m=e.n(l),I=e(75271),S=function(){var h=(0,I.useState)(),r=d()(h,2),f=r[0],t=r[1],U=function(T){var a,n=m()(f);if(n){var s=(n==null||(a=n.statistics)===null||a===void 0?void 0:a.collectCount)||0;n.statistics||(n.statistics={targetId:n.agentId,userCount:0,convCount:0,collectCount:0,likeCount:0,referenceCount:0,callCount:0,failCallCount:0,totalCallDuration:0}),n.statistics.collectCount=T?s+1:s-1,n.collect=T,t(n)}};return{agentDetail:f,setAgentDetail:t,handleToggleCollectSuccess:U}};H.Z=S},76571:function(Pe,H,e){var Q=e(75271),d=function(m){var I="drawer-scroll-hidden";if(!document.getElementById("drawer-scroll-style")){var S=document.createElement("style");S.id="drawer-scroll-style",S.innerHTML=`
        .`.concat(I,` {
          overflow-x: hidden !important;
        }
      `),document.head.appendChild(S)}(0,Q.useEffect)(function(){m?(document.body.classList.add(I),document.documentElement.classList.add(I)):setTimeout(function(){document.body.classList.remove(I),document.documentElement.classList.remove(I)},400)},[m])};H.Z=d},11872:function(Pe,H,e){var Q=e(64799),d=e(44953),l=e(41249),m=e(75271),I=e(87453),S=function(h){var r=h.containerRef,f=h.eventBindConfig,t=(0,I.useModel)("chat"),U=t.showPagePreview,w=(0,m.useRef)(new Set),T=(0,m.useCallback)(function(a,n){var s,k="".concat(a,"-").concat(n);if(!w.current.has(k)){w.current.add(k),setTimeout(function(){w.current.delete(k)},3e3),console.log("[Event Delegate] \u89E6\u53D1\u4E8B\u4EF6:",{eventType:a,data:n});var K={};try{K=JSON.parse(n)}catch(o){console.error("[Event Delegate] \u6570\u636E\u89E3\u6790\u5931\u8D25:",o);return}var p=f==null||(s=f.eventConfigs)===null||s===void 0?void 0:s.find(function(o){return o.identification===a});if(!p){console.warn("[Event Delegate] \u672A\u627E\u5230\u4E8B\u4EF6\u914D\u7F6E: ".concat(a));return}switch(console.log("[Event Delegate] \u627E\u5230\u4E8B\u4EF6\u914D\u7F6E:",p),p.type){case Q.ZE.Page:{if(!p.pageUrl){l.ZP.error("\u9875\u9762\u8DEF\u5F84\u914D\u7F6E\u9519\u8BEF");return}var j={},$={};if(p.args&&Array.isArray(p.args)&&p.args.forEach(function(o){if(o.inputType==="Path"&&o.name){var D;j[o.name]=(D=K[o.name])!==null&&D!==void 0?D:o.bindValue}if(o.inputType==="Query"&&o.name){var u;$[o.name]=(u=K[o.name])!==null&&u!==void 0?u:o.bindValue}}),(0,d.N4)(p.pageUrl,j)){var te=(0,d.Tx)(p.pageUrl,j),b=p.basePath?"".concat(p.basePath).concat(te):"".concat("").concat(te);console.log("[Event Delegate] \u6253\u5F00\u9875\u9762:",{uri:b,params:$,name:p.name}),U({name:p.pageName||"\u9875\u9762",uri:b,params:$,executeId:"event-".concat(Date.now())})}else l.ZP.error("\u9875\u9762\u8DEF\u5F84\u53C2\u6570\u914D\u7F6E\u9519\u8BEF");break}case Q.ZE.Link:{if(!p.url){l.ZP.error("\u94FE\u63A5\u5730\u5740\u914D\u7F6E\u9519\u8BEF");return}console.log("[Event Delegate] \u6253\u5F00\u5916\u94FE:",p.url),window.open(p.url,"_blank");break}default:console.warn("[Event Delegate] \u672A\u77E5\u7684\u4E8B\u4EF6\u7C7B\u578B: ".concat(p.type))}}},[f,U]);return(0,m.useEffect)(function(){var a=r.current;if(a){var n=function(k){var K=k.target,p=K.closest(".event");if(p){k.preventDefault(),k.stopPropagation();var j=p.getAttribute("event-type"),$=p.getAttribute("data");j&&$?T(j,$):console.warn("[Event Delegate] \u7F3A\u5C11\u5FC5\u8981\u7684\u5C5E\u6027:",{eventType:j,dataStr:$})}};return a.addEventListener("click",n),console.log("[Event Delegate] \u4E8B\u4EF6\u4EE3\u7406\u5DF2\u521D\u59CB\u5316"),function(){a.removeEventListener("click",n),console.log("[Event Delegate] \u4E8B\u4EF6\u4EE3\u7406\u5DF2\u6E05\u7406")}}},[r,T]),{handleEventClick:T}};H.Z=S},88458:function(Pe,H,e){var Q=e(15558),d=e.n(Q),l=e(48305),m=e.n(l),I=e(64799),S=e(75271),c=function(){var r=(0,S.useState)([]),f=m()(r,2),t=f[0],U=f[1],w=function(n){var s=d()(t);if(s.some(function(K){return K.id===n.id})){var k=s.findIndex(function(K){return K.id===n.id});s.splice(k,1)}else s.push({id:n.id,type:n.type});U(s)},T=function(n){if(n!=null&&n.length){var s=n.filter(function(k){return k.defaultSelected===I.Km.Yes}).map(function(k){return{id:k.id,type:k.type}});U(s||[])}};return{selectedComponentList:t,setSelectedComponentList:U,handleSelectComponent:w,initSelectedComponentList:T}};H.Z=c},27689:function(Pe,H,e){e.d(H,{K:function(){return t}});var Q=e(90228),d=e.n(Q),l=e(87999),m=e.n(l),I=e(48305),S=e.n(I),c=e(92068),h=e(14334),r=e(75271),f=e(87453),t=function(){var w=(0,r.useState)(c.unifiedThemeService.getCurrentData()),T=S()(w,2),a=T[0],n=T[1],s=(0,r.useState)(!1),k=S()(s,2),K=k[0],p=k[1],j=(0,f.useModel)("tenantConfigInfo"),$=j.tenantConfigInfo;(0,r.useEffect)(function(){var Y=function(F){n(F),p(!1)};return c.unifiedThemeService.addListener(Y),function(){c.unifiedThemeService.removeListener(Y)}},[]);var te=(0,r.useCallback)(function(Y){return m()(d()().mark(function Z(){var F=arguments;return d()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return p(!0),le.prev=1,le.next=4,Y.apply(void 0,F);case 4:le.next=11;break;case 6:throw le.prev=6,le.t0=le.catch(1),console.error("\u4E3B\u9898\u66F4\u65B0\u5931\u8D25:",le.t0),p(!1),le.t0;case 11:case"end":return le.stop()}},Z,null,[[1,6]])}))},[]),b=te(c.unifiedThemeService.updatePrimaryColor.bind(c.unifiedThemeService)),o=te(c.unifiedThemeService.updateAntdTheme.bind(c.unifiedThemeService)),D=te(c.unifiedThemeService.updateNavigationStyle.bind(c.unifiedThemeService)),u=te(c.unifiedThemeService.updateLayoutStyle.bind(c.unifiedThemeService)),A=te(c.unifiedThemeService.updateBackground.bind(c.unifiedThemeService)),M=te(c.unifiedThemeService.updateLanguage.bind(c.unifiedThemeService)),E=(0,r.useCallback)(m()(d()().mark(function Y(){var Z;return d()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return Z=a.antdTheme==="light"?"dark":"light",W.next=3,o(Z);case 3:case"end":return W.stop()}},Y)})),[a.antdTheme,o]),i=(0,r.useCallback)(m()(d()().mark(function Y(){var Z;return d()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return Z=a.layoutStyle===h.B.DARK?h.B.LIGHT:h.B.DARK,W.next=3,u(Z);case 3:case"end":return W.stop()}},Y)})),[a.layoutStyle,u]),re=(0,r.useCallback)(m()(d()().mark(function Y(){var Z;return d()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return Z=a.navigationStyle===h.F.STYLE1?h.F.STYLE2:h.F.STYLE1,W.next=3,D(Z);case 3:case"end":return W.stop()}},Y)})),[a.navigationStyle,D]),ye=(0,r.useCallback)(m()(d()().mark(function Y(){var Z;return d()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return Z=a.language==="zh-CN"?"en-US":"zh-CN",W.next=3,M(Z);case 3:case"end":return W.stop()}},Y)})),[a.language,M]),L=te(c.unifiedThemeService.resetToDefault.bind(c.unifiedThemeService)),ne=a.antdTheme==="dark",V=a.layoutStyle===h.B.DARK,J=a.navigationStyle===h.F.STYLE2,_=a.language==="zh-CN",ge=(0,r.useMemo)(function(){return c.unifiedThemeService.getExtraColors()},[$]);return{data:a,isLoading:K,updatePrimaryColor:b,updateAntdTheme:o,updateNavigationStyle:D,updateLayoutStyle:u,updateBackground:A,updateLanguage:M,toggleAntdTheme:E,toggleNavigationTheme:i,toggleNavigationStyle:re,toggleLanguage:ye,resetToDefault:L,primaryColor:a.primaryColor,antdTheme:a.antdTheme,navigationStyle:a.navigationStyle,layoutStyle:a.layoutStyle,backgroundId:a.backgroundId,language:a.language,isDarkMode:ne,isNavigationDark:V,isNavigationExpanded:J,isChineseLanguage:_,extraColors:ge}};H.Z=t},36724:function(Pe,H,e){e.d(H,{Z:function(){return p}});var Q=e(90228),d=e.n(Q),l=e(15558),m=e.n(l),I=e(87999),S=e.n(I),c=e(48305),h=e.n(c),r=e(86743),f=e(56555),t=e(94581),U=e.n(t),w=e(16483),T=e.n(w),a=e(75271),n={container:"container___MqO_x",row:"row___XVnNC",icon:"icon___JZhBH"},s=e(52676),k=U().bind(n);function K(j){var $=j.pageSize,te=$===void 0?10:$,b=j.loadData,o=j.height,D=o===void 0?400:o,u=j.conversationList,A=u===void 0?[]:u,M=j.setConversationList,E=j.handleLink,i=j.runDel,re=(0,a.useState)(!1),ye=h()(re,2),L=ye[0],ne=ye[1],V=(0,a.useState)(!0),J=h()(V,2),_=J[0],ge=J[1],Y=(0,a.useRef)(null),Z=function(){var F=S()(d()().mark(function W(){var le,X,q,B;return d()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(!(L||!_)){ee.next=2;break}return ee.abrupt("return");case 2:return ne(!0),le=A.length?A[A.length-1].id:null,ee.prev=4,ee.next=7,b(le,te);case 7:X=ee.sent,q=X.list,B=X.hasMore,M?.(function(v){return[].concat(m()(v??[]),m()(q))}),ge(B);case 12:return ee.prev=12,ne(!1),ee.finish(12);case 15:case"end":return ee.stop()}},W,null,[[4,,12,15]])}));return function(){return F.apply(this,arguments)}}();return(0,a.useEffect)(function(){},[]),(0,a.useEffect)(function(){var F=Y.current;if(F){var W=function(){if(!(L||!_)){var X=F.scrollTop,q=F.scrollHeight,B=F.clientHeight;X+B>=q-50&&Z()}};return F.addEventListener("scroll",W),function(){return F.removeEventListener("scroll",W)}}},[L,_,A]),(0,s.jsxs)("div",{ref:Y,className:k(n.container,"scroll-container"),style:{height:D},children:[A?.map(function(F){return(0,s.jsxs)("div",{className:k("flex","items-center","radius-6","hover-box",n.row),children:[(0,s.jsxs)("p",{className:k("flex-1","text-ellipsis","cursor-pointer"),onClick:function(){return E?.(F.id,F.agentId)},children:[(0,s.jsx)("span",{style:{marginRight:5,width:75},children:T()(F.created).format("MM-DD HH:mm")}),F.topic]}),(0,s.jsx)("div",{className:k(n.icon,"cursor-pointer"),onClick:function(le){le.stopPropagation(),i?.(F.id)},children:(0,s.jsx)(r.Z,{})})]},F.id)}),L&&(0,s.jsx)("div",{style:{textAlign:"center",padding:16},children:(0,s.jsx)(f.Z,{})}),A&&A.length>0&&!_&&(0,s.jsx)("div",{style:{textAlign:"center",padding:5,color:"#999"},children:"\u5DF2\u52A0\u8F7D\u5168\u90E8\u6570\u636E"})]})}var p=K},28406:function(Pe,H,e){e.r(H),e.d(H,{default:function(){return G}});var Q=e(15558),d=e.n(Q),l=e(90228),m=e.n(l),I=e(87999),S=e.n(I),c=e(48305),h=e.n(c),r=e(65857),f=e(23276),t=e(62597),U=e(702),w=e(49974),T=e(34077),a=e(2349),n=e(84283),s=e(57534),k=e(71530),K=e(51837),p=e(53895),j=e(75271),$=function(oe){var ae=oe.pagePreviewData,Me=oe.hidePagePreview,me=oe.isSidebarVisible,Se=oe.sidebarRef,Ve=oe.showType,tt=oe.setShowType,ct=(0,j.useRef)(ae),St=(0,j.useRef)(me),He=(0,j.useRef)(Ve);(0,j.useEffect)(function(){var Tt=!ct.current&&ae,nt=!St.current&&me,Ye=He.current!==p.wv.Show_Stand&&Ve===p.wv.Show_Stand;if(Tt){if(console.log("[ExclusivePanels] PagePreview \u6253\u5F00\uFF0C\u5173\u95ED\u5176\u4ED6\u9762\u677F"),me){var at;(at=Se.current)===null||at===void 0||at.close()}Ve!==p.wv.Hide&&tt(p.wv.Hide)}nt&&ae&&console.log("[ExclusivePanels] AgentSidebar \u6253\u5F00\uFF0C\u5173\u95ED PagePreview"),Ye&&ae&&console.log("[ExclusivePanels] ShowArea \u6253\u5F00\uFF0C\u5173\u95ED PagePreview"),ct.current=ae,St.current=me,He.current=Ve},[ae,me,Ve,Me,Se,tt]);var Pt=function(){return ae?"PagePreview":me?"AgentSidebar":Ve===p.wv.Show_Stand?"ShowArea":"None"};return{activePanelType:Pt()}},te=$,b=e(11872),o=e(88458),D=e(41705),u=e(64799),A=e(39373),M=e(35855),E=e(24573),i=e(28190),re=e(9504),ye=e(94581),L=e.n(ye),ne=e(32699),V=e(87453),J=e(26068),_=e.n(J),ge=e(80241),Y=e(23299),Z=e(86743),F=e(13143),W=e(29333),le=e(14719),X=e(41249),q=e(69219),B=e(58176),Le=e(7010),ee=e(63619),v={"xagi-nav-style2":"xagi-nav-style2___B9bKT",text:"text___DqL6O","page-container":"page-container___b0Y9H","dropdown-container":"dropdown-container___c3qqB"},P=e(52676),Ze=L().bind(v),it=function(oe){var ae=oe.conversationInfo,Me=oe.setConversationInfo,me=(0,V.useNavigate)(),Se=(0,V.useModel)("conversationHistory"),Ve=Se.runHistory,tt=Se.runHistoryItem,ct=(0,j.useState)(!1),St=h()(ct,2),He=St[0],Pt=St[1],Tt=i.Z.useForm(),nt=h()(Tt,1),Ye=nt[0],at=(0,j.useState)(!0),ht=h()(at,2),pt=ht[0],Ke=ht[1],ot=(0,j.useState)(!1),Rt=h()(ot,2),Ht=Rt[0],jt=Rt[1],Ft=[{label:"\u4FEE\u6539\u540D\u79F0",key:"edit",icon:(0,P.jsx)(Y.Z,{})},{label:"\u5220\u9664",key:"delete",icon:(0,P.jsx)(Z.Z,{}),danger:!0}],Ut=le.Z.useModal(),It=h()(Ut,2),Et=It[0],Kt=It[1],kt=(0,W.Z)(ge.vo,{manual:!0,debounceWait:300,onSuccess:function(_e){if(_e.success){var rt;Me(_()(_()({},ae),{},{topic:_e.data.topic,topicUpdated:1})),X.ZP.success("\u4FEE\u6539\u6210\u529F"),Ve({agentId:null,limit:20}),tt({agentId:_e==null||(rt=_e.data)===null||rt===void 0?void 0:rt.agentId,limit:20})}}}),mt=kt.runAsync,ut=(0,W.Z)(ge.zU,{manual:!0,debounceWait:300,onSuccess:function(_e){_e.success&&(X.ZP.success("\u5220\u9664\u6210\u529F"),Ve({agentId:null}),me("/",{replace:!0}))}}),_t=ut.run,Wt={title:(0,P.jsx)(q.Z,{children:(0,P.jsx)(q.Z.Title,{level:5,children:"\u6C38\u4E45\u5220\u9664\u4F1A\u8BDD"})}),icon:null,centered:!0,content:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(q.Z,{children:(0,P.jsx)(q.Z.Text,{type:"secondary",children:"\u672C\u6761\u4F1A\u8BDD\u6570\u636E\u5C06\u88AB\u6C38\u4E45\u5220\u9664,\u4E0D\u53EF\u6062\u590D\u53CA\u64A4\u9500\u3002\u786E\u5B9A\u8981\u5220\u9664\u5417?"})})}),onOk:function(){_t(ae.id)}},Qt=function(){var Te=S()(m()().mark(function _e(rt){var y;return m()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(rt.key!=="edit"){R.next=6;break}return Ye.resetFields(),Ye.setFieldsValue({topic:ae.topic}),Ke(!1),Pt(!0),R.abrupt("return");case 6:if(rt.key!=="delete"){R.next=12;break}return R.next=9,Et.confirm(Wt);case 9:return y=R.sent,console.log(y),R.abrupt("return");case 12:case"end":return R.stop()}},_e)}));return function(rt){return Te.apply(this,arguments)}}(),Nt={items:Ft,onClick:Qt},Vt=function(_e){if(!_e.topic){Ke(!0);return}Ke(_e.topic&&_e.topic.trim()==="")},wt=function(){var Te=S()(m()().mark(function _e(){var rt;return m()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Ye.validateFields();case 2:return rt=g.sent,g.prev=3,jt(!0),g.next=7,mt({id:ae.id,topic:rt.topic});case 7:Pt(!1);case 8:return g.prev=8,jt(!1),g.finish(8);case 11:case"end":return g.stop()}},_e,null,[[3,,8,11]])}));return function(){return Te.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(B.Z,{menu:Nt,children:(0,P.jsx)("div",{className:Ze(v["dropdown-container"]),children:(0,P.jsx)(Le.Z,{size:4,children:ae?.id&&(0,P.jsxs)(P.Fragment,{children:[ae.topic,(0,P.jsx)(F.Z,{style:{fontSize:"12px"}})]})})})}),(0,P.jsx)(le.Z,{title:"\u4FEE\u6539\u540D\u79F0",centered:!0,okButtonProps:{disabled:pt,loading:Ht},open:He,onOk:wt,onCancel:function(){return Pt(!1)},children:(0,P.jsx)(i.Z,{form:Ye,name:"basic",labelCol:{span:0},wrapperCol:{span:24},style:{maxWidth:600},initialValues:{remember:!0},onValuesChange:Vt,autoComplete:"off",children:(0,P.jsx)(i.Z.Item,{label:"",name:"topic",rules:[{required:!0,message:"\u4F1A\u8BDD\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"},{validator:function(_e,rt){return rt&&rt.trim()===""?Promise.reject(new Error("\u4F1A\u8BDD\u540D\u79F0\u4E0D\u80FD\u53EA\u5305\u542B\u7A7A\u683C")):Promise.resolve()}}],children:(0,P.jsx)(ee.Z,{size:"large",style:{marginTop:10},placeholder:"\u8BF7\u8F93\u5165\u4F1A\u8BDD\u540D\u79F0",showCount:!0,maxLength:50})})})}),Kt]})},lt=it,Ae={"xagi-nav-style2":"xagi-nav-style2___jcLrL",text:"text___phWIl","page-container":"page-container___EYGPW","main-content":"main-content___Mnb2h","title-box":"title-box___iID3k","title-container":"title-container___iPheu",title:"title___hLdV6","icons-nav-sidebar":"icons-nav-sidebar___P7_B5","main-content-box":"main-content-box___ZipqQ","chat-wrapper-content":"chat-wrapper-content___kGK_P","chat-wrapper":"chat-wrapper___wkNNq",loading:"loading___K4RqU","chat-inner":"chat-inner___Io6kE","suggest-item":"suggest-item___Rmslc","chat-input-container":"chat-input-container___IZ7zv","agent-sidebar":"agent-sidebar___hBEH6","title-style":"title-style___LLA7F","agent-sidebar-w":"agent-sidebar-w___dD0zI"},gt=e(6772),Je={"xagi-nav-style2":"xagi-nav-style2___jJGBW",text:"text___vjUq8","page-container":"page-container___xZwH0",rightSidebar:"rightSidebar____wXyD",container:"container___9JQHs"},qe=L().bind(Je),Lt=function(oe){var ae=oe.className,Me=(0,V.useModel)("conversationInfo"),me=Me.cardList,Se=Me.showType,Ve=Me.setShowType;return(0,P.jsx)("div",{className:qe("flex","flex-col","items-end",Je.container,Je.rightSidebar,ae),style:{display:Se===p.wv.Show_Stand?"flex":"none"},children:(0,P.jsx)(gt.Z,{className:qe("flex-1"),cardList:me,visible:Se===p.wv.Show_Stand,onClose:function(){return Ve(p.wv.Hide)}})})},et=Lt,ie=L().bind(Ae),Fe=function(){var oe,ae,Me,me,Se,Ve,tt=(0,V.useLocation)(),ct=(0,V.useParams)(),St=(0,V.useModel)("layout"),He=St.isMobile,Pt=(0,V.useModel)("conversationHistory"),Tt=Pt.runHistoryItem,nt=Number(ct.id),Ye=Number(ct.agentId),at=(oe=tt.state)===null||oe===void 0?void 0:oe.message,ht=(ae=tt.state)===null||ae===void 0?void 0:ae.files,pt=(Me=tt.state)===null||Me===void 0?void 0:Me.infos,Ke=(me=tt.state)===null||me===void 0?void 0:me.defaultAgentDetail,ot=(Se=tt.state)===null||Se===void 0?void 0:Se.variableParams,Rt=i.Z.useForm(),Ht=h()(Rt,1),jt=Ht[0],Ft=(0,j.useState)(null),Ut=h()(Ft,2),It=Ut[0],Et=Ut[1],Kt=(0,j.useState)(!1),kt=h()(Kt,2),mt=kt[0],ut=kt[1],_t=(0,j.useState)(!1),Wt=h()(_t,2),Qt=Wt[0],Nt=Wt[1],Vt=(0,j.useRef)(!1),wt=(0,K.Z)(),Te=wt.agentDetail,_e=wt.setAgentDetail,rt=wt.handleToggleCollectSuccess,y=(0,o.Z)(),g=y.selectedComponentList,R=y.setSelectedComponentList,C=y.handleSelectComponent,z=y.initSelectedComponentList,x=(0,V.useModel)("conversationInfo"),N=x.conversationInfo,O=x.manualComponents,Be=x.messageList,de=x.setMessageList,Oe=x.chatSuggestList,Ue=x.runAsync,xe=x.setIsLoadingConversation,ce=x.loadingSuggest,ve=x.onMessageSend,fe=x.messageViewRef,ke=x.messageViewScrollToBottom,be=x.allowAutoScrollRef,he=x.scrollTimeoutRef,Ee=x.showScrollBtn,We=x.setShowScrollBtn,dt=x.resetInit,vt=x.requiredNameList,ue=x.setConversationInfo,Qe=x.variables,Ne=x.showType,we=x.setShowType,pe=(0,V.useModel)("chat"),Re=pe.pagePreviewData,De=pe.showPagePreview,st=pe.hidePagePreview,Bt=i.Z.useWatch([],{form:jt,preserve:!0});(0,j.useEffect)(function(){Bt&&Object.keys(Bt).length===0||jt.validateFields({validateOnly:!0}).then(function(){return Et(Bt)}).catch(function(){return Et(null)})},[jt,Bt]),(0,j.useEffect)(function(){ot&&Et(ot)},[ot]);var bt=(0,j.useMemo)(function(){if(vt?.length>0){if(!It)return!0;var Ce=(0,A.VL)(vt,Object.keys(It));return!Ce}return!1},[vt,It]),Gt=(0,j.useMemo)(function(){var Ce=N?.agent;return{assistant:{name:Ce?.name,avatar:Ce?.icon},system:{name:Ce?.name,avatar:Ce?.icon}}},[N]),Zt=function(je){je&&je!==null&&je!==void 0&&je.expandPageArea&&je!==null&&je!==void 0&&je.pageHomeIndex?De({name:"\u9875\u9762\u9884\u89C8",uri:""+je?.pageHomeIndex,params:{},executeId:""}):De(null)},Yt=(0,V.useRequest)(D.xI,{manual:!0,debounceInterval:300,onSuccess:function(je){_e(je),Zt(je),ut(!1)},onError:function(){ut(!1)}}),zt=Yt.run,Jt=(0,V.useRequest)(D.xI,{manual:!0,debounceInterval:300,onSuccess:function(je){var yt=je.agentId,xt=je.conversationId;V.history.replace("/home/chat/".concat(xt,"/").concat(yt),{message:"",files:[],infos:pt,defaultAgentDetail:Ke,firstVariableParams:ot}),Nt(!1)},onError:function(){Nt(!1)}}),Xt=Jt.run;(0,j.useEffect)(function(){Ye!==Ke?.agentId?(ut(!0),zt(Ye)):(_e(Ke),Zt(Ke))},[Ye,Ke]),(0,j.useEffect)(function(){var Ce=fe.current;if(Ce){var je=function(){var xt=Ce.scrollTop,Ge=Ce.scrollHeight,Ot=Ce.clientHeight;xt+Ot<Ge?(be.current=!1,he.current&&(clearTimeout(he.current),he.current=null),We(!0)):(be.current=!0,We(!1))};return Ce.addEventListener("wheel",(0,ne.throttle)(je,300)),function(){Ce.removeEventListener("wheel",(0,ne.throttle)(je,300))}}},[]),(0,j.useEffect)(function(){if(nt){xe(!1);var Ce=function(){var je=S()(m()().mark(function yt(){var xt,Ge,Ot,qt,en;return m()().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return $t.next=2,Ue(nt);case 2:xt=$t.sent,Ge=xt.data,Ot=Ge?.messageList||[],qt=Ot?.length||0,en=!qt||qt===1&&Ot[0].messageType===u.DK.ASSISTANT,en&&(at||ht?.length>0)&&ve(nt,at,ht,pt,ot,!1,!0,Ge);case 8:case"end":return $t.stop()}},yt)}));return function(){return je.apply(this,arguments)}}();Ce(),Tt({agentId:Ye,limit:20})}return function(){dt()}},[nt,at,ht,pt,ot]),(0,j.useEffect)(function(){(0,A.t7)()},[]),(0,j.useEffect)(function(){pt!=null&&pt.length?R(pt||[]):z(O)},[pt,O]);var At=function(je){var yt=je.conversationId,xt=je.message;Number(nt)===Number(yt)&&(de(function(Ge){return[].concat(d()(Ge),[xt])}),be.current&&ke())};(0,j.useEffect)(function(){return M.Z.on(k.Z.RefreshChatMessage,At),function(){M.Z.off(k.Z.RefreshChatMessage,At)}},[]);var ft=function(){Nt(!0),Xt(Ye,!0)},Ct=function(je){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(bt){jt.validateFields();return}Vt.current=!0,ve(nt,je,yt,g,It)},Xe=function(){be.current=!0,ke(),We(!1)},Ie=(0,j.useState)(!0),$e=h()(Ie,2),ze=$e[0],Dt=$e[1],Mt=(0,j.useRef)(null);te({pagePreviewData:Re,hidePagePreview:st,isSidebarVisible:ze,sidebarRef:Mt,showType:Ne,setShowType:we}),(0,b.Z)({containerRef:fe,eventBindConfig:N==null||(Ve=N.agent)===null||Ve===void 0?void 0:Ve.eventBindConfig});var tn=function(){var je,yt;return(0,P.jsxs)("div",{className:ie("flex-1","flex","flex-col",Ae["main-content"]),children:[(0,P.jsx)("div",{className:ie(Ae["title-box"]),children:(0,P.jsxs)("div",{className:ie(Ae["title-container"]),children:[(0,P.jsx)(lt,{conversationInfo:N,setConversationInfo:function(Ge){ue(Ge)}}),(0,P.jsxs)("div",{children:[!ze&&!He&&(0,P.jsx)(re.ZP,{type:"text",className:ie(Ae.sidebarButton),icon:(0,P.jsx)(t.Z,{name:"icons-nav-sidebar",className:ie(Ae["icons-nav-sidebar"])}),onClick:function(){var Ge;st(),(Ge=Mt.current)===null||Ge===void 0||Ge.open()}}),!!(Te!=null&&Te.expandPageArea)&&!!(Te!=null&&Te.pageHomeIndex)&&!Re&&(0,P.jsx)(re.ZP,{type:"text",className:ie(Ae.sidebarButton),icon:(0,P.jsx)(t.Z,{name:"icons-nav-ecosystem",className:ie(Ae["icons-nav-sidebar"])}),onClick:function(){var Ge;(Ge=Mt.current)===null||Ge===void 0||Ge.close(),Zt(Te)}})]})]})}),(0,P.jsxs)("div",{className:ie(Ae["main-content-box"]),children:[(0,P.jsx)("div",{className:ie(Ae["chat-wrapper-content"]),ref:fe,children:(0,P.jsxs)("div",{className:ie(Ae["chat-wrapper"],"flex-1"),children:[(0,P.jsx)(a.Z,{className:"mb-16",form:jt,variables:Qe,userFillVariables:ot,isFilled:!!It,disabled:!!ot||Vt.current}),Be?.length>0?(0,P.jsxs)(P.Fragment,{children:[Be?.map(function(xt,Ge){return(0,P.jsx)(T.Z,{messageInfo:xt,roleInfo:Gt,contentClassName:Ae["chat-inner"],mode:"home"},xt.id||Ge)}),(0,P.jsx)(n.Z,{itemClassName:Ae["suggest-item"],loading:ce,chatSuggestList:Oe,onClick:Ct})]}):!at&&(N?(0,P.jsx)(r.Z,{className:ie({"h-full":!(Qe!=null&&Qe.length)}),icon:N==null||(je=N.agent)===null||je===void 0?void 0:je.icon,name:N==null||(yt=N.agent)===null||yt===void 0?void 0:yt.name,extra:(0,P.jsx)(n.Z,{className:"mt-16",itemClassName:ie(Ae["suggest-item"]),chatSuggestList:Oe,onClick:Ct})}):(0,P.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,height:"100%",width:"100%",margin:"50px auto"},children:(0,P.jsx)(E.Z,{})}))]})}),(0,P.jsx)(w.Z,{className:ie(Ae["chat-input-container"]),onEnter:Ct,visible:Ee,wholeDisabled:bt,clearLoading:Qt,onClear:ft,manualComponents:O,selectedComponentList:g,onSelectComponent:C,onScrollBottom:Xe,showAnnouncement:!0},"agent-details-".concat(Ye))]})]})};return(0,P.jsxs)("div",{className:ie("flex","h-full"),children:[mt?(0,P.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,height:"100%",width:"100%"},children:(0,P.jsx)(E.Z,{})}):(0,P.jsx)(s.Z,{minLeftWidth:400,left:Te!=null&&Te.hideChatArea?null:tn(),right:Re&&(0,P.jsx)(U.Z,{pagePreviewData:Re,showHeader:!0,onClose:st,showCloseButton:!(Te!=null&&Te.hideChatArea),titleClassName:ie(Ae["title-style"])})}),(0,P.jsx)(f.Z,{ref:Mt,className:ie(Ae[ze?"agent-sidebar-w":"agent-sidebar"]),agentId:Ye,loading:mt,agentDetail:Te,onToggleCollectSuccess:rt,onVisibleChange:Dt}),(0,P.jsx)(et,{})]})},G=Fe},46105:function(Pe,H,e){e.d(H,{$G:function(){return U},JX:function(){return h},hm:function(){return f},wR:function(){return S}});var Q=e(90228),d=e.n(Q),l=e(87999),m=e.n(l),I=e(87453);function S(T){return c.apply(this,arguments)}function c(){return c=m()(d()().mark(function T(a){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,I.request)("/api/publish/template/copy",{method:"POST",data:a}));case 1:case"end":return s.stop()}},T)})),c.apply(this,arguments)}function h(T){return r.apply(this,arguments)}function r(){return r=m()(d()().mark(function T(a){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,I.request)("/api/publish/offShelf",{method:"POST",data:a}));case 1:case"end":return s.stop()}},T)})),r.apply(this,arguments)}function f(T){return t.apply(this,arguments)}function t(){return t=m()(d()().mark(function T(a){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,I.request)("/api/publish/item/list",{method:"POST",data:a}));case 1:case"end":return s.stop()}},T)})),t.apply(this,arguments)}function U(T){return w.apply(this,arguments)}function w(){return w=m()(d()().mark(function T(a){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,I.request)("/api/publish/apply",{method:"POST",data:a}));case 1:case"end":return s.stop()}},T)})),w.apply(this,arguments)}},44953:function(Pe,H,e){e.d(H,{$g:function(){return f},Df:function(){return t},N4:function(){return T},Qr:function(){return U},TE:function(){return m.TE},Tx:function(){return w},hK:function(){return h},n3:function(){return r}});var Q=e(15558),d=e.n(Q),l=e(92122),m=e(77750),I=e(13278),S=e(15470);function c(a){var n=a<10?"0"+a:a;return n}var h=function(n){var s=new Date(n);return s.getFullYear()+"-"+c(s.getMonth()+1)+"-"+c(s.getDate())+" "+c(s.getHours())+":"+c(s.getMinutes())+":"+c(s.getSeconds())},r=function(n){return!n||n===void 0?[]:n.startsWith("Array_File_")?["Array_File",n]:n.startsWith("File_")?["File",n]:[n]},f=function(n){var s=n[n.length-1];return Object.values(l.Gi).includes(s)?s:l.Gi.String},t=function(n){switch(n){case l.Gi.File_Image:return"image/*";case l.Gi.File_PPT:return".ppt,.pptx";case l.Gi.File_Doc:return".doc,.docx";case l.Gi.File_PDF:return".pdf";case l.Gi.File_Txt:return".txt";case l.Gi.File_Zip:return".zip,.rar,.7z";case l.Gi.File_Excel:return".xls,.xlsx,.csv";case l.Gi.File_Video:return"video/*";case l.Gi.File_Audio:case l.Gi.File_Voice:return"audio/*";case l.Gi.File_Code:return".js,.txt,.ts,.jsx,.tsx,.py,.java,.c,.cpp,.cs,.go,.php,.rb,.sh";case l.Gi.File_Svg:return".svg";default:return""}},U=function(n){return n&&Object.keys(n).length===0&&n.constructor===Object},w=function(n,s){return n.replace(/{(\w+)}/g,function(k,K){if(s[K]===void 0)throw new Error("\u7F3A\u5C11\u8DEF\u5F84\u53C2\u6570: ".concat(K));return String(s[K])})},T=function(n,s){var k=d()(n.matchAll(/{(\w+)}/g)).map(function(K){return K[1]});return k.length===0||k.every(function(K){return s[K]!==void 0&&s[K]!==null&&s[K]!==""})}},88958:function(Pe,H,e){e.d(H,{Z:function(){return D}});var Q=e(75271),d=e(82187),l=e.n(d),m=e(18051),I=e(29207),S=e(62249),c=e(97947),h=e(83509);const r=["wrap","nowrap","wrap-reverse"],f=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],t=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],U=(u,A)=>{const M=A.wrap===!0?"wrap":A.wrap;return{[`${u}-wrap-${M}`]:M&&r.includes(M)}},w=(u,A)=>{const M={};return t.forEach(E=>{M[`${u}-align-${E}`]=A.align===E}),M[`${u}-align-stretch`]=!A.align&&!!A.vertical,M},T=(u,A)=>{const M={};return f.forEach(E=>{M[`${u}-justify-${E}`]=A.justify===E}),M};function a(u,A){return l()(Object.assign(Object.assign(Object.assign({},U(u,A)),w(u,A)),T(u,A)))}var n=a;const s=u=>{const{componentCls:A}=u;return{[A]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},k=u=>{const{componentCls:A}=u;return{[A]:{"&-gap-small":{gap:u.flexGapSM},"&-gap-middle":{gap:u.flexGap},"&-gap-large":{gap:u.flexGapLG}}}},K=u=>{const{componentCls:A}=u,M={};return r.forEach(E=>{M[`${A}-wrap-${E}`]={flexWrap:E}}),M},p=u=>{const{componentCls:A}=u,M={};return t.forEach(E=>{M[`${A}-align-${E}`]={alignItems:E}}),M},j=u=>{const{componentCls:A}=u,M={};return f.forEach(E=>{M[`${A}-justify-${E}`]={justifyContent:E}}),M},$=()=>({});var te=(0,c.I$)("Flex",u=>{const{paddingXS:A,padding:M,paddingLG:E}=u,i=(0,h.mergeToken)(u,{flexGapSM:A,flexGap:M,flexGapLG:E});return[s(i),k(i),K(i),p(i),j(i)]},$,{resetStyle:!1}),b=function(u,A){var M={};for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&A.indexOf(E)<0&&(M[E]=u[E]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,E=Object.getOwnPropertySymbols(u);i<E.length;i++)A.indexOf(E[i])<0&&Object.prototype.propertyIsEnumerable.call(u,E[i])&&(M[E[i]]=u[E[i]]);return M},D=Q.forwardRef((u,A)=>{const{prefixCls:M,rootClassName:E,className:i,style:re,flex:ye,gap:L,vertical:ne=!1,component:V="div"}=u,J=b(u,["prefixCls","rootClassName","className","style","flex","gap","vertical","component"]),{flex:_,direction:ge,getPrefixCls:Y}=Q.useContext(S.E_),Z=Y("flex",M),[F,W,le]=te(Z),X=ne??_?.vertical,q=l()(i,E,_?.className,Z,W,le,n(Z,u),{[`${Z}-rtl`]:ge==="rtl",[`${Z}-gap-${L}`]:(0,I.n)(L),[`${Z}-vertical`]:X}),B=Object.assign(Object.assign({},_?.style),re);return ye&&(B.flex=ye),L&&!(0,I.n)(L)&&(B.gap=L),F(Q.createElement(V,Object.assign({ref:A,className:q,style:B},(0,m.Z)(J,["justify","wrap","align"]))))})},68261:function(Pe){Pe.exports="data:image/png;base64,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"}}]);})();
