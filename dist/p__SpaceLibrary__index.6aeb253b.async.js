"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[8185],{15739:function(Ze,ue,e){e.d(ue,{Z:function(){return h}});var ie=e(66283),n=e(75271),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},d=ve,P=e(47221),v=function(A,R){return n.createElement(P.Z,(0,ie.Z)({},A,{ref:R,icon:d}))},ae=n.forwardRef(v),h=ae},48614:function(Ze,ue,e){e.d(ue,{Z:function(){return G}});var ie=e(26068),n=e.n(ie),ve=e(48305),d=e.n(ve),P=e(92973),v=e(88459),ae=e(86743),h=e(63876),ce=e(94581),A=e.n(ce),R=e(75271),x={"xagi-nav-style2":"xagi-nav-style2___ZnOEk",text:"text___I_DzH","page-container":"page-container____iz0C","skill-item-style":"skill-item-style___N0WID","skill-item-icon":"skill-item-icon___jliak","skill-item-content-style":"skill-item-content-style___RWsv5","skill-item-title-style":"skill-item-title-style___RPCqS","skill-item-desc-style":"skill-item-desc-style___nXwpy","mask-layer-style":"mask-layer-style___uLo49",white:"white___PmcIw"},y=e(52676),ge=A().bind(x),N=function(Q){var O=Q.item,s=Q.onDelete;return(0,y.jsxs)("div",{className:ge(x["skill-item-style"],"dis-left"),children:[(0,y.jsx)("img",{src:O.icon,alt:"",className:ge(x["skill-item-icon"])}),(0,y.jsxs)("div",{className:ge(x["skill-item-content-style"]),children:[(0,y.jsx)("div",{className:ge(x["skill-item-title-style"]),children:O.name}),(0,y.jsx)("div",{className:ge(x["skill-item-desc-style"]),children:O.description})]}),(0,y.jsx)("div",{className:ge(x["mask-layer-style"]),children:(0,y.jsx)("div",{style:{color:"#fff",backgroundColor:"transparent"},children:(0,y.jsx)(h.Z,{content:"\u79FB\u9664",trigger:"hover",children:(0,y.jsx)(ae.Z,{className:"ml-12  white",style:{cursor:"pointer"},onClick:s})})})})]})},j=N,M=e(48279),$=e(94201),z=e(10560),g=e(61265),K=e(48528),Me=e(99730),q=e(64799),H=e(92122),k=e(49528),ee=e(80110),o=e(26324),T=e(28190),Z=e(41249),L=e(63619),fe=e(17701),E=e(30967),_=e(87453),W=e(7098),r={"xagi-nav-style2":"xagi-nav-style2___fHzli",text:"text___srgXE","page-container":"page-container____zQ5I",header:"header___ZEU6y",box:"box___su6_r",active:"active___qQari"},F={"xagi-nav-style2":"xagi-nav-style2___GME40",text:"text___B9pND","page-container":"page-container___Gqdvl","workflow-desc":"workflow-desc___yLObd"},Ce=A().bind(F),Pe=function(Q){var O=Q.title,s=O===void 0?"\u8BF7\u9009\u62E9\u5DE5\u4F5C\u6D41":O,de=Q.onClick;return(0,y.jsx)("div",{className:Ce(F["workflow-desc"]),onClick:de,children:s})},Ke=Pe,ke=A().bind(r),Ee=function(Q){var O=Q.mode,s=O===void 0?H.jA.Create:O,de=Q.spaceId,be=Q.knowledgeInfo,Oe=Q.open,_e=Q.onCancel,c=Q.onConfirm,we=T.Z.useForm(),Be=d()(we,1),Je=Be[0],Ie=(0,R.useState)(!1),Re=d()(Ie,2),Fe=Re[0],Qe=Re[1],se=(0,R.useState)(""),qe=d()(se,2),Ue=qe[0],he=qe[1],Y=(0,R.useState)(k.u6.Text),X=d()(Y,2),f=X[0],te=X[1],U=(0,R.useState)([]),ye=d()(U,2),ne=ye[0],me=ye[1],Se=(0,R.useState)("default"),a=d()(Se,2),i=a[0],m=a[1],t=(0,R.useState)(null),V=d()(t,2),oe=V[0],We=V[1],ct=(0,R.useState)(!1),et=d()(ct,2),rt=et[0],dt=et[1],St=(0,R.useState)(q.qR.Plugin),ht=d()(St,2),st=ht[0],jt=ht[1],Dt=(0,R.useState)([]),J=d()(Dt,2),Ot=J[0],yt=J[1],Tt=(0,_.useRequest)(K.qx,{manual:!0,debounceInterval:300,onSuccess:function(I){Z.ZP.success("\u77E5\u8BC6\u5E93\u5DF2\u521B\u5EFA\u6210\u529F"),Qe(!1),_e(),_.history.push("/space/".concat(de,"/knowledge/").concat(I))},onError:function(){Qe(!1)}}),tt=Tt.run,ot=(0,_.useRequest)(K.ei,{manual:!0,debounceInterval:300,onSuccess:function(I,Te){Z.ZP.success("\u77E5\u8BC6\u5E93\u66F4\u65B0\u6210\u529F"),Qe(!1);var $e=Te[0];c?.($e)},onError:function(){Qe(!1)}}),bt=ot.run,wt=(0,_.useRequest)(K.Wi,{manual:!0,debounceInterval:300,onSuccess:function(I){he(I.icon),te(I.dataType),Je.setFieldsValue({name:I.name,description:I.description,embeddingModelId:I.embeddingModelId,dataParsingMethod:I.workflowId?"workflow":"default"}),I.workflowId&&(m(I.workflowId?"workflow":"default"),We({id:I.workflowId,name:I.workflowName,icon:I.workflowIcon,description:I.workflowDescription}))},onError:function(){}}),mt=wt.run,pt=(0,_.useRequest)(Me.Bj,{manual:!0,debounceInterval:300,onSuccess:function(I){var Te=I?.map(function($e){return{label:$e.name,value:$e.id}})||[];me(Te)}}),It=pt.run;(0,R.useEffect)(function(){Oe&&(It({spaceId:de,modelType:ee.Mj.Embeddings}),m("default"),We(null),be&&mt(be.id))},[de,Oe,be]);var Ct=function(I){var Te={spaceId:de,name:I.name,description:I.description,embeddingModelId:I.embeddingModelId,icon:Ue,dataType:f};i==="workflow"&&(Te.workflowId=oe?.id),Qe(!0),s===H.jA.Create?tt(Te):bt(n()({id:be?.id},Te))},nt=function(I){I.dataParsingMethod&&m(I.dataParsingMethod)},Rt=function(I){yt(function(){return[{type:I.targetType,targetId:I.targetId,status:q.BQ.Added,toolName:I.toolName||""}]}),(0,E.flushSync)(function(){We({id:I.targetId,name:I.name,icon:I.icon,description:I.description})}),dt(!1)},xt=function(I,Te){I.stopPropagation(),jt(Te),dt(!0)},ut=function(I){xt(I,q.qR.Workflow)},Ve=function(){We(null),yt([])},Lt=function(){Je.submit()};return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(M.Z,{form:Je,title:s===H.jA.Create?"\u521B\u5EFA\u77E5\u8BC6\u5E93":"\u66F4\u65B0\u77E5\u8BC6\u5E93",open:Oe,loading:Fe,onCancel:_e,onConfirm:Lt,children:[(0,y.jsxs)(T.Z,{form:Je,className:ke("mt-16"),requiredMark:o.N,layout:"vertical",onFinish:Ct,onValuesChange:nt,preserve:!1,autoComplete:"off",initialValues:{dataParsingMethod:"default"},children:[(0,y.jsx)(T.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0"}],children:(0,y.jsx)(L.Z,{placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0",showCount:!0,maxLength:100})}),(0,y.jsx)($.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:be?.description,placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u5185\u5BB9\u7684\u63CF\u8FF0",maxLength:1e4}),(0,y.jsx)(T.Z.Item,{name:"embeddingModelId",label:"\u5411\u91CF\u6A21\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B"}],children:(0,y.jsx)(W.Z,{placeholder:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B",disabled:s===H.jA.Update,options:ne,allowClear:!0})}),(0,y.jsx)(T.Z.Item,{name:"dataParsingMethod",label:"\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",tooltip:"\u9009\u62E9\u5DE5\u4F5C\u6D41\u540E\u6240\u6709\u6587\u6863\u3001\u56FE\u7247\u7B49\u90FD\u5C06\u901A\u8FC7\u5DE5\u4F5C\u6D41\u89E3\u6790\uFF0C\u8BBE\u8BA1\u5DE5\u4F5C\u6D41\u65F6\u8BF7\u6CE8\u610F\u56FA\u5B9A\u5165\u53C2\u4E3A\uFF1Afile_url\uFF0C\u51FA\u53C2\u8BF7\u5728\u201C\u7ED3\u675F\u201D\u8282\u70B9\u9009\u62E9\u201C\u8FD4\u56DE\u6587\u672C\u201D\uFF0C\u5E76\u5728\u201C\u8F93\u51FA\u5185\u5BB9\u201D\u533A\u57DF\u8BBE\u7F6E\u8FD4\u56DE\u7684\u53D8\u91CF\u3002",children:(0,y.jsx)(fe.default,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",options:[{value:"default",label:"\u7CFB\u7EDF\u9ED8\u8BA4"},{value:"workflow",label:"\u81EA\u5B9A\u4E49\u5DE5\u4F5C\u6D41"}]})}),i==="workflow"&&(0,y.jsx)(T.Z.Item,{style:{marginTop:"-15px"},children:oe?(0,y.jsx)(j,{item:oe,onDelete:Ve}):(0,y.jsx)(Ke,{onClick:ut})}),(0,y.jsx)(T.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,y.jsx)(z.Z,{className:ke(r["upload-box"]),onUploadSuccess:he,imageUrl:Ue,defaultImage:P,svgIconName:"icons-workspace-knowledge"})})]}),(0,y.jsx)(v.Z,{open:rt,onCancel:function(){return dt(!1)},checkTag:st,addComponents:Ot,onAdded:Rt,tabs:g.Ne.filter(function(je){return je.key===q.qR.Workflow})})]})})},G=Ee},30704:function(Ze,ue,e){var ie=e(26068),n=e.n(ie),ve=e(48305),d=e.n(ve),P=e(26145),v=e(59261),ae=e(7098),h=e(94201),ce=e(10560),A=e(87620),R=e(24643),x=e(92122),y=e(45019),ge=e(26324),N=e(28190),j=e(41249),M=e(63619),$=e(51430),z=e(94581),g=e.n(z),K=e(75271),Me=e(87453),q=e(48279),H=e(52676),k=g(),ee=function(T){var Z=T.spaceId,L=T.id,fe=T.icon,E=T.name,_=T.description,W=T.mode,r=W===void 0?x.jA.Create:W,F=T.open,Ce=T.onCancel,Pe=T.onConfirm,Ke=N.Z.useForm(),ke=d()(Ke,1),Ee=ke[0],G=(0,K.useState)(""),S=d()(G,2),Q=S[0],O=S[1],s=(0,K.useState)(),de=d()(s,2),be=de[0],Oe=de[1],_e=(0,K.useState)(!1),c=d()(_e,2),we=c[0],Be=c[1];(0,K.useEffect)(function(){F&&(O(fe||""),Ee.setFieldsValue({name:E,description:_}))},[F,fe,E,_]);var Je=function(Y,X){X===y.AQ.CODE?Me.history.push("/space/".concat(Z,"/plugin/").concat(Y,"/cloud-tool")):X===y.AQ.HTTP&&Me.history.push("/space/".concat(Z,"/plugin/").concat(Y))},Ie=(0,Me.useRequest)(R.VR,{manual:!0,debounceInterval:300,onSuccess:function(Y,X){O(""),Ce();var f=X[0].type;Je(Y,f),j.ZP.success("\u63D2\u4EF6\u5DF2\u521B\u5EFA"),Be(!1)},onError:function(){Be(!1)}}),Re=Ie.run,Fe=(0,Me.useRequest)(R.i,{manual:!0,debounceInterval:300,onSuccess:function(Y,X){O("");var f=X[0];Pe?.(f),j.ZP.success("\u63D2\u4EF6\u66F4\u65B0\u6210\u529F"),Be(!1)},onError:function(){Be(!1)}}),Qe=Fe.run,se=function(Y){Be(!0),r===x.jA.Create?Re(n()(n()({},Y),{},{icon:Q,spaceId:Z})):Qe(n()(n()({},Y),{},{icon:Q,id:L}))},qe=function(){Ee.submit()},Ue=function(Y){var X=Y.target.value;X===y.AQ.HTTP&&Ee.setFieldValue("codeLang",null),Oe(X)};return(0,H.jsx)(q.Z,{form:Ee,title:r===x.jA.Create?"\u65B0\u5EFA\u63D2\u4EF6":"\u66F4\u65B0\u63D2\u4EF6",open:F,classNames:g(),loading:we,onCancel:Ce,onConfirm:qe,children:(0,H.jsxs)("div",{className:k("flex","flex-col","items-center","py-16"),children:[(0,H.jsx)(ce.Z,{className:k("mt-16","mb-16"),onUploadSuccess:O,imageUrl:Q,defaultImage:P,svgIconName:"icons-workspace-plugin"}),(0,H.jsxs)(N.Z,{form:Ee,requiredMark:ge.N,layout:"vertical",onFinish:se,rootClassName:k("w-full"),autoComplete:"off",children:[(0,H.jsx)(N.Z.Item,{name:"name",label:"\u63D2\u4EF6\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0"},{validator:function(Y,X){return!X||X?.length<=30?Promise.resolve():X?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0!"))}}],children:(0,H.jsx)(M.Z,{placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0\uFF0C\u786E\u4FDD\u540D\u79F0\u542B\u4E49\u6E05\u6670\u4E14\u7B26\u5408\u5E73\u53F0\u89C4\u8303",showCount:!0,maxLength:30})}),(0,H.jsx)(h.Z,{name:"description",label:"\u63D2\u4EF6\u63CF\u8FF0",initialValue:_,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F"}],placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F\uFF0C\u786E\u4FDD\u5185\u5BB9\u7B26\u5408\u5E73\u53F0\u89C4\u8303\u3002\u5E2E\u52A9\u7528\u6237/\u5927\u6A21\u578B\u66F4\u597D\u5730\u7406\u89E3",maxLength:1e4}),(0,H.jsxs)(v.Z,{condition:r===x.jA.Create,children:[(0,H.jsx)(N.Z.Item,{name:"type",label:"\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F"}],children:(0,H.jsx)($.ZP.Group,{options:A.B1,value:be,onChange:Ue})}),(0,H.jsx)(v.Z,{condition:be===y.AQ.CODE,children:(0,H.jsx)(N.Z.Item,{name:"codeLang",label:"IDE \u8FD0\u884C\u65F6",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u6A21\u5F0F"}],children:(0,H.jsx)(ae.Z,{options:A._n})})})]})]})]})})};ue.Z=ee},75484:function(Ze,ue,e){e.d(ue,{Z:function(){return q}});var ie=e(26068),n=e.n(ie),ve=e(48305),d=e.n(ve),P=e(83352),v=e(48279),ae=e(94201),h=e(10560),ce=e(53361),A=e(92122),R=e(26324),x=e(28190),y=e(41249),ge=e(63619),N=e(94581),j=e.n(N),M=e(75271),$=e(87453),z={container:"container___etrGg",header:"header___qw2yv"},g=e(52676),K=j().bind(z),Me=function(k){var ee=k.type,o=ee===void 0?A.jA.Create:ee,T=k.name,Z=k.spaceId,L=k.id,fe=k.icon,E=k.description,_=k.open,W=k.onCancel,r=k.onConfirm,F=x.Z.useForm(),Ce=d()(F,1),Pe=Ce[0],Ke=(0,M.useState)(""),ke=d()(Ke,2),Ee=ke[0],G=ke[1],S=(0,$.useRequest)(ce.Kt,{manual:!0,debounceInterval:300,onSuccess:function(_e){y.ZP.success("\u5DE5\u4F5C\u6D41\u5DF2\u521B\u5EFA\u6210\u529F"),W(),$.history.push("/space/".concat(Z,"/workflow/").concat(_e))}}),Q=S.run,O=(0,$.useRequest)(ce.sN,{manual:!0,debounceInterval:300,onSuccess:function(_e,c){y.ZP.success("\u5DE5\u4F5C\u6D41\u66F4\u65B0\u6210\u529F");var we=c[0];r?.(we)}}),s=O.run;(0,M.useEffect)(function(){_&&(G(fe||""),Pe.setFieldsValue({name:T,description:E}))},[_,fe,T,E]);var de=function(_e){var c={name:_e?.name,description:_e?.description,icon:Ee};o===A.jA.Create?Q(n()({spaceId:Z},c)):s(n()({id:L},c))},be=function(){Pe.submit()};return(0,g.jsx)(v.Z,{form:Pe,title:o===A.jA.Create?"\u521B\u5EFA\u5DE5\u4F5C\u6D41":"\u66F4\u65B0\u5DE5\u4F5C\u6D41",classNames:{content:K(z.container),header:K(z.header)},open:_,onCancel:W,onConfirm:be,children:(0,g.jsxs)(x.Z,{form:Pe,requiredMark:R.N,layout:"vertical",onFinish:de,autoComplete:"off",children:[(0,g.jsx)(x.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0"},{validator:function(_e,c){return!c||c?.length<=30?Promise.resolve():c?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0!"))}}],children:(0,g.jsx)(ge.Z,{placeholder:"\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0",showCount:!0,maxLength:30})}),(0,g.jsx)(ae.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:E,placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\uFF0C\u8BA9\u5927\u6A21\u578B\u7406\u89E3\u4EC0\u4E48\u60C5\u51B5\u4E0B\u5E94\u8BE5\u8C03\u7528\u6B64\u5DE5\u4F5C\u6D41",maxLength:1e4}),(0,g.jsx)(x.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,g.jsx)(h.Z,{onUploadSuccess:G,imageUrl:Ee,defaultImage:P,svgIconName:"icons-workspace-workflow"})})]})})},q=Me},88459:function(Ze,ue,e){e.d(ue,{Z:function(){return Y}});var ie=e(90228),n=e.n(ie),ve=e(15558),d=e.n(ve),P=e(26068),v=e.n(P),ae=e(87999),h=e.n(ae),ce=e(48305),A=e.n(ce),R=e(59934),x=e(61265),y=e(28359),ge=e(3440),N=e(52909),j=e(64799),M=e(92122),$=e(75076),z=e(44953),g=e(86230),K=e(61884),Me=e(28057),q=e(98493),H=e(17023),k=e(16621),ee=e(41249),o=e(73981),T=e(44384),Z=e(9504),L=e(14719),fe=e(63619),E=e(58130),_=e(70183),W=e(94581),r=e.n(W),F=e(75271),Ce=e(87453),Pe=e(80774),Ke=e(48614),ke=e(30704),Ee=e(75484),G=e(3055),S={"xagi-nav-style2":"xagi-nav-style2___Hhx24",text:"text___fY1wP","page-container":"page-container___mEK5C","created-modal-style":"created-modal-style___NYAVL","segmented-style":"segmented-style___nKwTz","created-title-text":"created-title-text___AjELa","created-list-spin-style":"created-list-spin-style___zM15H","created-list-empty-style":"created-list-empty-style___oCfaM","create-button":"create-button___coqIa","aside-header":"aside-header___jACDw","aside-menu":"aside-menu___m045Q","add-button":"add-button___TndZY","add-button-added":"add-button-added___MdC2h","created-container":"created-container___AGXz5","aside-style":"aside-style___CaDQZ","main-style":"main-style___GSDxU","list-item-style":"list-item-style___WKFIL","left-image-style":"left-image-style___GMm3v","content-font":"content-font___ycx8_","count-div-style":"count-div-style___Zd48s","label-font-style":"label-font-style___HZB9A","collect-star":"collect-star___bLtFf","icon-margin":"icon-margin___HgnVb","created-description-style":"created-description-style___Cm4V4"},Q=e(13143),O={"xagi-nav-style2":"xagi-nav-style2___XdLTv",text:"text___tQ5I5","page-container":"page-container___s_CSV","mcp-tools-style":"mcp-tools-style___u92JF","mcp-tools-item-style":"mcp-tools-item-style___sidZr","add-button":"add-button___mejhX","add-button-added":"add-button-added___iY7_z","mcp-tools-item-content-style":"mcp-tools-item-content-style___ku31r","mcp-tools-item-name-style":"mcp-tools-item-name-style___oOtSe","mcp-tools-item-description-style":"mcp-tools-item-description-style___FlirP","mcp-tools-item-button-style":"mcp-tools-item-button-style___MPtXV"},s=e(52676),de=r().bind(O),be=j.BQ.Added,Oe=function(f){var te=f.tools,U=f.item,ye=f.onAddTool,ne=f.fold,me=f.getToolLoading,Se=f.addedComponents,a=(0,F.useCallback)(function(m,t){ye(v()(v()({},U),{},{name:"".concat(U.name,"/").concat(m),description:t,toolName:m}))},[ye,U]),i=(0,F.useCallback)(function(m,t){return Se?.some(function(V){return V.type===m.targetType&&V.targetId===m.targetId&&(V.toolName||"")===(m.toolName||"")&&V.status===t})},[Se,U]);return ne?null:(0,s.jsx)("div",{className:de(O["mcp-tools-style"]),children:te.map(function(m,t){var V=i(v()(v()({},U),{},{toolName:m.name}),be),oe=me(v()(v()({},U),{},{toolName:m.name}));return(0,s.jsxs)("div",{className:de(O["mcp-tools-item-style"]),children:[(0,s.jsxs)("div",{className:de("dis-sb",O["mcp-tools-item-content-style"]),children:[(0,s.jsx)("div",{className:de(O["mcp-tools-item-name-style"]),children:m.name}),(0,s.jsx)("div",{className:de(O["mcp-tools-item-description-style"]),children:m.description||"\u6682\u65E0\u63CF\u8FF0"})]}),(0,s.jsx)("div",{className:de(O["mcp-tools-item-button-style"],"dis-sb"),children:(0,s.jsx)(Z.ZP,{color:"default",variant:"filled",className:de(O["add-button"],V&&O["add-button-added"]),onClick:function(){return a(m.name,m.description)},disabled:oe?!1:V,loading:oe,children:V?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})})]},"".concat(U.targetId,"-").concat(t,"-tools-").concat(m.name))})},"".concat(U.targetId,"-tools"))},_e=Oe,c={"xagi-nav-style2":"xagi-nav-style2___AR6lO",text:"text___C_yvr","page-container":"page-container___Tl8wQ",container:"container___Xs6nx","left-image-style":"left-image-style___QkQAk","content-font":"content-font___gLvK8","count-div-style":"count-div-style___bhUoi","fold-icon-style":"fold-icon-style___iClGH","label-font-style":"label-font-style___R72Ym","created-description-style":"created-description-style___fbx01"},we=r().bind(c),Be=function(f){var te,U,ye,ne=f.item,me=f.index,Se=f.selected,a=f.onAddNode,i=f.getToolLoading,m=f.addedComponents,t=(0,F.useState)(!0),V=A()(t,2),oe=V[0],We=V[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:we("dis-sb",c.container,"cursor-pointer"),style:{height:"unset"},onClick:function(){return We(!oe)},children:[(0,s.jsx)("img",{src:ne.icon||(0,K.Pk)(Se.key),alt:"",className:we(c["left-image-style"])}),(0,s.jsxs)("div",{className:we("flex-1",c["content-font"]),children:[(0,s.jsx)("p",{className:we(c["label-font-style"]),children:ne.name}),(0,s.jsx)("p",{className:we(c["created-description-style"],"text-ellipsis-2"),title:ne.description,children:ne.description}),(0,s.jsx)("div",{className:we("dis-sb",c["count-div-style"]),children:(0,s.jsxs)("div",{className:"dis-left",children:[(0,s.jsx)("img",{src:((te=ne.publishUser)===null||te===void 0?void 0:te.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,s.jsx)("span",{children:(U=ne.publishUser)===null||U===void 0?void 0:U.nickName}),(0,s.jsx)(T.Z,{type:"vertical"}),(0,s.jsxs)("span",{children:["\u90E8\u7F72\u4E8E",(0,z.hK)(ne.deployed)]})]})})]}),(0,s.jsx)(Q.Z,{onClick:function(){return We(!oe)},className:we(c["fold-icon-style"]),style:{transform:oe?"rotate(-90deg)":"rotate(0)"}})]},"".concat(ne.targetId,"-").concat(me)),(0,s.jsx)(_e,{fold:oe,tools:(ne==null||(ye=ne.config)===null||ye===void 0?void 0:ye.tools)||[],item:ne,getToolLoading:i,onAddTool:a,addedComponents:m})]})},Je=Be,Ie={"xagi-nav-style2":"xagi-nav-style2___oSLyM",text:"text___Y7g4H","page-container":"page-container___HAi1o",container:"container___RB6dU","left-image-style":"left-image-style___cOdxC","content-font":"content-font___rKg1c","count-div-style":"count-div-style___fmK9k","label-font-style":"label-font-style___ftppD","created-description-style":"created-description-style___KPAuu"},Re=r().bind(Ie),Fe=function(f){var te=f.item,U=f.index,ye=f.isAddedState,ne=f.onAddNode,me=f.isCurrentLoading;return(0,s.jsxs)("div",{className:Re("dis-sb",Ie.container,"cursor-pointer"),style:{height:"unset"},children:[(0,s.jsx)("img",{src:te.icon,alt:"",className:Re(Ie["left-image-style"])}),(0,s.jsxs)("div",{className:Re("flex-1",Ie["content-font"]),children:[(0,s.jsx)("p",{className:Re(Ie["label-font-style"]),children:te.name}),(0,s.jsx)("p",{className:Re(Ie["created-description-style"],"text-ellipsis-2"),title:te.description,children:te.description}),(0,s.jsx)("div",{className:Re("dis-sb",Ie["count-div-style"]),children:(0,s.jsxs)("div",{className:"dis-left",children:[(0,s.jsx)("img",{src:te?.creatorAvatar||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,s.jsx)("span",{children:te.creatorNickName}),(0,s.jsx)(T.Z,{type:"vertical"}),(0,s.jsxs)("span",{children:["\u521B\u5EFA\u4E8E",(0,z.hK)(te.created)]})]})})]}),(0,s.jsx)(Z.ZP,{color:"default",variant:"filled",className:Re(Ie["add-button"],ye&&Ie["add-button-added"]),onClick:function(){return ne(te)},disabled:me?!1:ye,loading:me,children:ye?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(te.projectId,"-").concat(U))},Qe=Fe,se=r().bind(S),qe=[j.qR.Plugin,j.qR.Workflow,j.qR.Knowledge,j.qR.Table],Ue=x.Ne.filter(function(X){return qe.includes(X.key)}),he=function(f){var te=f.open,U=f.onCancel,ye=f.checkTag,ne=f.onAdded,me=f.addComponents,Se=f.addSkillLoading,a=Se===void 0?void 0:Se,i=f.tabs,m=i===void 0?Ue:i,t=f.hideTop,V=(0,Ce.useParams)(),oe=Number(V.spaceId),We=(0,F.useState)(!1),ct=A()(We,2),et=ct[0],rt=ct[1],dt=(0,F.useState)(""),St=A()(dt,2),ht=St[0],st=St[1],jt=(0,F.useState)({label:"\u63D2\u4EF6",key:j.qR.Plugin}),Dt=A()(jt,2),J=Dt[0],Ot=Dt[1],yt=(0,F.useState)({page:1,pageSize:20}),Tt=A()(yt,2),tt=Tt[0],ot=Tt[1],bt=(0,F.useState)(100),wt=A()(bt,2),mt=wt[0],pt=wt[1],It=(0,F.useState)("all"),Ct=A()(It,2),nt=Ct[0],Rt=Ct[1],xt=(0,F.useState)(),ut=A()(xt,2),Ve=ut[0],Lt=ut[1],je=(0,F.useState)([]),I=A()(je,2),Te=I[0],$e=I[1],Wt=(0,F.useState)([]),lt=A()(Wt,2),ze=lt[0],$t=lt[1],Gt=(0,F.useState)(!1),ft=A()(Gt,2),Ft=ft[0],He=ft[1],Qt=(0,F.useState)({list:[],searching:!1}),Vt=A()(Qt,2),Pt=Vt[0],Ut=Vt[1],gt=(0,F.useRef)(!1),Et=(0,F.useRef)(null),Kt=[{key:"all",label:"\u5168\u90E8"},{key:"library",label:"\u7EC4\u4EF6\u5E93".concat(J.label)},{key:"collect",label:"\u6536\u85CF"}],nn=[{key:"all",label:"\u5168\u90E8"}],zt=[{key:"all",label:"\u5168\u90E8"},{key:1,label:"\u6587\u6863"}],an=[{key:"all",label:"\u7EC4\u4EF6\u5E93\u6570\u636E\u8868"}],kt=[{key:"all",label:"\u5168\u90E8"},{key:"custom",label:"\u81EA\u5B9A\u4E49\u670D\u52A1"}],rn=function(){switch(J.key){case j.qR.Knowledge:return zt;case j.qR.Table:return an;case j.qR.MCP:return kt;case j.qR.Page:return nn;default:return Kt}},At=(0,F.useRef)(null),Ge=(0,F.useRef)(!1),it=function(){var C=h()(n()().mark(function u(D,B){var pe,Le,le,xe;return n()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(Ut({list:[],searching:!1}),re.prev=1,oe!==0){re.next=4;break}return re.abrupt("return");case 4:if(!(B.page>mt&&B.page!==1||Ge.current)){re.next=6;break}return re.abrupt("return");case 6:return Ge.current=!0,B.page===1&&He(!0),gt.current&&(B.justReturnSpaceData=!0),Et.current&&(B.dataType=Et.current),re.next=12,y.ZP.getList(D,v()(v()({},B),{},{spaceId:oe}));case 12:if(pe=re.sent,Le=pe.code,le=pe.data,xe=pe.message,Ge.current=!1,He(!1),Le===R.Gh){re.next=21;break}return ee.ZP.error(xe),re.abrupt("return");case 21:pt(le.pages),ot(function(Nt){return v()(v()({},Nt),{},{page:le.current,total:le.total})}),$e(function(Nt){var tn=B.page===1?d()(le.records):[].concat(d()(Nt),d()(le.records));return Ut(v()(v()({},Pt),{},{list:tn})),tn}),re.next=31;break;case 26:re.prev=26,re.t0=re.catch(1),Ge.current=!1,He(!1),pt(100);case 31:case"end":return re.stop()}},u,null,[[1,26]])}));return function(D,B){return C.apply(this,arguments)}}(),sn=function(){var C=h()(n()().mark(function u(D){var B,pe,Le;return n()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.prev=0,He(!0),pe=(B=J.key)===null||B===void 0?void 0:B.toLowerCase(),xe.next=5,y.ZP.collectList(pe,D);case 5:Le=xe.sent,$e(d()(Le.data)),He(!1),xe.next=13;break;case 10:xe.prev=10,xe.t0=xe.catch(0),He(!1);case 13:case"end":return xe.stop()}},u,null,[[0,10]])}));return function(D){return C.apply(this,arguments)}}(),Ht=function(){var C=h()(n()().mark(function u(D){var B,pe,Le,le;return n()().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if(pe=(B=J.key)===null||B===void 0?void 0:B.toLowerCase(),!D.collect){Xe.next=7;break}return Xe.next=4,y.ZP.unCollect(pe,D.targetId);case 4:Le=Xe.sent,Xe.next=10;break;case 7:return Xe.next=9,y.ZP.collect(pe,D.targetId);case 9:Le=Xe.sent;case 10:Le.code===R.ZP.success&&(le=Te.map(function(re){return D.targetId===re.targetId&&(re.collect?(re.collect=!1,re.statistics&&(re.statistics.collectCount=(re.statistics.collectCount||1)-1)):(re.collect=!0,re.statistics&&(re.statistics.collectCount=(re.statistics.collectCount||0)+1))),re}),$e(le));case 11:case"end":return Xe.stop()}},u)}));return function(D){return C.apply(this,arguments)}}(),Ye=function(){var C=h()(n()().mark(function u(D){var B,pe;return n()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(J.key!==j.qR.Table){le.next=11;break}return le.prev=1,B={tableName:D.name,tableDescription:D.description,spaceId:oe,icon:D.icon},le.next=5,(0,ge.AY)(B);case 5:pe=le.sent,Ce.history.push("/space/".concat(oe,"/table/").concat(pe.data)),le.next=11;break;case 9:le.prev=9,le.t0=le.catch(1);case 11:case"end":return le.stop()}},u,null,[[1,9]])}));return function(D){return C.apply(this,arguments)}}(),Yt=function(u){ne(u),Lt(u)},Mt=function(u){var D={kw:u,page:1,pageSize:20};st(u),ot({page:1,pageSize:20}),$e([]),it(J.key,D)},Xt=function(u,D){switch(pt(100),u){case"collect":sn(D);break;case"library":gt.current=!0,it(J.key,v()(v()({},D),{},{justReturnSpaceData:!0}));break;default:it(J.key,D);break}},on=(0,Ce.useRequest)(N.ci,{manual:!0,debounceInterval:300,onSuccess:function(u){$t(u),He(!1)},onError:function(){He(!1)}}),Jt=on.run,vt=function(){He(!0),Jt({spaceId:oe,publishType:$.sO.PAGE,buildRunning:!0})},un=function(u){var D=ze?.filter(function(B){return B.name.includes(u)})||[];$t(D)},ln=function(u){if(st(""),Rt(u),J.key===j.qR.Page){vt();return}ot({page:1,pageSize:20}),$e([]),gt.current=!1,Et.current=null;var D={page:1,pageSize:20};J.key===j.qR.Knowledge&&u!=="all"&&(D.dataType=Number(u),Et.current=Number(u)),J.key===j.qR.MCP&&u==="custom"&&(gt.current=!0),Xt(u,D)},qt=function(u){if(u){Et.current=null,gt.current=!1;var D=u,B=m.find(function(pe){return pe.key===D});if(B)if(Rt("all"),st(""),Ot(B),u===j.qR.Page){$e([]),He(!0),Jt({spaceId:oe,publishType:$.sO.PAGE,buildRunning:!0});return}else ot({page:1,pageSize:20}),pt(100),it(B.key,{page:1,pageSize:20})}},Bt=(0,F.useCallback)(function(){if(!(nt==="collect"||Ge.current)){var C=At.current;if(C){var u=C.scrollHeight-C.scrollTop-C.clientHeight,D=Te.length>0&&u<50&&tt.page<mt;if(D){var B=tt.page+1,pe={pageSize:20,page:B};ot(function(Le){return v()(v()({},Le),{},{page:B})}),it(J.key,pe)}}}},[tt,nt,mt,Ge,J.key,Te.length]);(0,F.useEffect)(function(){var C=At.current;if(te&&C)return C.addEventListener("scroll",Bt),function(){C.removeEventListener("scroll",Bt)}},[te,Bt]),(0,F.useEffect)(function(){te&&setTimeout(function(){qt(ye)},100)},[ye,te]);var cn=(0,s.jsxs)("div",{className:se("dis-left",S["created-title"]),children:[(0,s.jsx)("h3",{className:S["created-title-text"],children:"\u6DFB\u52A0"}),(0,s.jsx)(o.Z,{value:J.key,size:"large",onChange:qt,options:m.filter(function(C){return!(t!=null&&t.includes(C.key))}).map(function(C){return{label:C.label,value:C.key}}),className:S["segmented-style"]})]}),_t=(0,F.useCallback)(function(C,u){return me?.some(function(D){return D.type===C.targetType&&D.targetId===C.targetId&&D.status===u&&(D?.toolName||"")===(C.toolName||"")})},[me]),dn=(0,F.useCallback)(function(C){return _t(C,j.BQ.Added)},[_t]),en=(0,F.useCallback)(function(C,u){return a===void 0?_t(C,j.BQ.Loading):!!(a&&Ve?.targetId===C.targetId&&(Ve?.toolName||"")===(u||""))},[_t,Ve,a]),mn=function(u,D,B){return(0,s.jsx)(Je,{item:u,index:D,getToolLoading:en,selected:B,onAddNode:Yt,addedComponents:me||[]},"".concat(u.targetId,"-").concat(D))},pn=function(u){ne({targetType:j.qR.Page,targetId:u.projectId})},fn=function(u,D){var B=_t({targetType:j.qR.Page,targetId:u.projectId},j.BQ.Added),pe=_t({targetType:j.qR.Page,targetId:u.projectId},j.BQ.Loading);return(0,s.jsx)(Qe,{item:u,index:D,onAddNode:pn,isAddedState:B,isCurrentLoading:pe},"".concat(u.projectId,"-").concat(D))},gn=function(u,D){var B,pe,Le=en(u),le=dn(u);return(0,s.jsxs)("div",{className:se("dis-sb",S["list-item-style"]),children:[(0,s.jsx)("img",{src:u.icon||(0,K.Pk)(J.key),alt:"",className:se(S["left-image-style"])}),(0,s.jsxs)("div",{className:se("flex-1",S["content-font"]),children:[(0,s.jsx)("p",{className:se(S["label-font-style"],"text-ellipsis-2"),children:u.name}),(0,s.jsx)("p",{className:se(S["created-description-style"],"text-ellipsis"),children:u.description}),(0,s.jsx)("div",{className:se("dis-sb",S["count-div-style"]),children:(0,s.jsxs)("div",{className:"dis-left",children:[(0,s.jsx)("img",{src:((B=u.publishUser)===null||B===void 0?void 0:B.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,s.jsx)("span",{children:(pe=u.publishUser)===null||pe===void 0?void 0:pe.nickName}),(0,s.jsx)(T.Z,{type:"vertical"}),(0,s.jsx)("span",{children:"\u53D1\u5E03\u4E8E".concat((0,z.hK)(u.created))}),![j.qR.Knowledge,j.qR.MCP].includes(J.key)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.Z,{type:"vertical"}),u.collect&&(0,s.jsx)(Me.Z,{className:se(S["collect-star"],S["icon-margin"]),onClick:function(){return Ht(u)}}),!u.collect&&(0,s.jsx)(q.Z,{className:se(S["icon-margin"]),onClick:function(){return Ht(u)}}),(0,s.jsx)("span",{children:u.statistics?u.statistics.collectCount:0})]})]})})]}),(0,s.jsx)(Z.ZP,{color:"default",variant:"filled",onClick:function(){return Yt(u)},loading:Le,className:se(S["add-button"],le&&S["add-button-added"]),disabled:Le?!1:le,children:le?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(u.targetId,"-").concat(D))},vn=function(u,D){u===j.qR.MCP?(0,g._x)(D):u===j.qR.Page?(0,g.sK)(D):rt(!0)};return(0,s.jsxs)(L.Z,{keyboard:!1,maskClosable:!1,open:te,footer:null,centered:!0,title:cn,onCancel:U,className:se(S["created-modal-style"]),width:1096,children:[(0,s.jsxs)("div",{className:se(S["created-container"],"dis-sb-start"),children:[(0,s.jsxs)("div",{className:se(S["aside-style"]),children:[(0,s.jsxs)("div",{className:se(S["aside-header"]),children:[(0,s.jsx)(fe.Z,{allowClear:!0,value:ht,variant:"filled",placeholder:"\u641C\u7D22",prefix:(0,s.jsx)(H.Z,{}),onChange:function(u){st(u.target.value)},onClear:function(){st(""),J.key===j.qR.Page?vt():it(J.key,{page:1,pageSize:20})},onPressEnter:function(u){var D=u.currentTarget.value;u.key==="Enter"&&(J.key===j.qR.Page?un(D):(Ut(v()(v()({},Pt),{},{searching:!0})),Mt(D)))}}),(0,s.jsx)(Z.ZP,{type:"primary",className:se(S["create-button"]),icon:(0,s.jsx)(k.Z,{}),block:!0,onClick:function(){return vn(J.key,oe)},children:"\u521B\u5EFA".concat(J.label)})]}),(0,s.jsx)(E.Z,{className:se(S["aside-menu"]),onClick:function(u){return ln(u.key)},selectedKeys:[nt],mode:"vertical",items:rn()})]}),(0,s.jsx)("div",{className:se(S["main-style"],"flex-1","overflow-y"),ref:At,children:Ft?(0,s.jsx)(G.Z,{className:se("h-full")}):J.key===j.qR.Page&&ze!==null&&ze!==void 0&&ze.length?ze?.map(function(C,u){return fn(C,u)}):Te!=null&&Te.length?Te.map(function(C,u){return J.key===j.qR.MCP?mn(C,u,J):gn(C,u)}):(0,s.jsx)("div",{className:se(S["created-list-empty-style"]),children:(0,s.jsx)(_.Z,{description:Pt.searching?"\u6682\u65E0\u6570\u636E\uFF0C\u8BF7\u91CD\u65B0\u641C\u7D22":"\u6682\u65E0\u6570\u636E"})})})]}),(0,s.jsx)(Ee.Z,{onConfirm:Ye,onCancel:function(){return rt(!1)},open:et&&J.key===j.qR.Workflow,type:M.jA.Create,spaceId:oe}),(0,s.jsx)(ke.Z,{onConfirm:Ye,spaceId:oe,onCancel:function(){return rt(!1)},open:et&&J.key===j.qR.Plugin,mode:M.jA.Create}),(0,s.jsx)(Ke.Z,{spaceId:oe,onConfirm:Ye,onCancel:function(){return rt(!1)},open:et&&J.key===j.qR.Knowledge,mode:M.jA.Create}),(0,s.jsx)(Pe.Z,{spaceId:oe,type:j.qR.Table,mode:M.jA.Create,Confirm:Ye,onCancel:function(){return rt(!1)},open:et&&J.key===j.qR.Table})]})},Y=he},80774:function(Ze,ue,e){var ie=e(82092),n=e.n(ie),ve=e(48305),d=e.n(ve),P=e(46388),v=e(92973),ae=e(26145),h=e(83352),ce=e(7098),A=e(10560),R=e(87620),x=e(64799),y=e(92122),ge=e(26324),N=e(28190),j=e(63619),M=e(51430),$=e(75271),z=e(48279),g=e(52676),K=function(q){var H=q.loading,k=q.mode,ee=k===void 0?y.jA.Create:k,o=q.type,T=q.info,Z=q.open,L=q.onCancel,fe=q.Confirm,E=N.Z.useForm(),_=d()(E,1),W=_[0],r=(0,$.useState)(""),F=d()(r,2),Ce=F[0],Pe=F[1];(0,$.useEffect)(function(){Z&&T&&(W.setFieldsValue(T),Pe(T.icon||""))},[Z,T]);var Ke=function(){var Q=n()(n()({},y.jA.Create,"\u521B\u5EFA"),y.jA.Update,"\u7F16\u8F91"),O=n()(n()(n()(n()({},x.qR.Table,"\u6570\u636E\u8868"),x.qR.Knowledge,"\u77E5\u8BC6\u5E93"),x.qR.Plugin,"\u63D2\u4EF6"),x.qR.Workflow,"\u5DE5\u4F5C\u6D41");return"".concat(Q[ee]).concat(O[o])},ke=function(){var Q=n()(n()(n()(n()({},x.qR.Table,P),x.qR.Knowledge,v),x.qR.Plugin,ae),x.qR.Workflow,h);return Q[o]},Ee=function(Q){fe(Q,o,ee)},G=function(){W.submit()};return(0,g.jsx)(z.Z,{form:W,title:Ke(),open:Z,loading:H,onCancel:L,onConfirm:G,children:(0,g.jsxs)(N.Z,{form:W,layout:"vertical",onFinish:Ee,requiredMark:ge.N,children:[(o===x.qR.Plugin||o===x.qR.Table)&&(0,g.jsx)(N.Z.Item,{name:"icon",children:(0,g.jsx)("div",{className:"dis-center",children:(0,g.jsx)(A.Z,{className:"upload-box",onUploadSuccess:function(Q){W.setFieldValue("icon",Q),Pe(Q)},imageUrl:W.getFieldValue("icon")||Ce,defaultImage:ke(),svgIconName:"icons-workspace-table"})})}),(0,g.jsx)(N.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"},{validator:function(Q,O){return!O||O?.length<=30?Promise.resolve():O?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u540D\u79F0!"))}}],children:(0,g.jsx)(j.Z,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",showCount:!0,maxLength:30})}),(0,g.jsx)(N.Z.Item,{name:"description",label:"\u63CF\u8FF0",className:"position-relative",children:(0,g.jsx)(j.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0",autoSize:{minRows:3,maxRows:6},maxLength:1e4,showCount:!0,className:"dispose-textarea-count"})}),(o===x.qR.Workflow||o===x.qR.Knowledge)&&(0,g.jsx)(N.Z.Item,{name:"icon",children:(0,g.jsx)("div",{children:(0,g.jsx)(A.Z,{className:"upload-box",onUploadSuccess:function(Q){W.setFieldValue("icon",Q)},imageUrl:Ce,defaultImage:ke(),svgIconName:"icons-workspace-knowledge"})})}),o===x.qR.Plugin&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(N.Z.Item,{shouldUpdate:!0,label:"\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",name:"type",children:(0,g.jsx)(M.ZP.Group,{options:R.B1})}),(0,g.jsx)(N.Z.Item,{shouldUpdate:!0,children:function(){return W.getFieldValue("type")==="CODE"&&(0,g.jsx)(N.Z.Item,{label:"IDE \u8FD0\u884C\u65F6",name:"codeLang",children:(0,g.jsx)(ce.Z,{options:R._n})})}})]})]})})};ue.Z=K},12662:function(Ze,ue,e){e.r(ue),e.d(ue,{default:function(){return se}});var ie=e(90228),n=e.n(ie),ve=e(87999),d=e.n(ve),P=e(48305),v=e.n(P),ae=e(80833),h=e(59261),ce=e(48614),A=e(30704),R=e(75484),x=e(80774),y=e(28397),ge=e(90327),N=e(86112),j=e(3055),M=e(7098),$=e(39671),z=e(3440),g=e(48528),K=e(53361),Me=e(99730),q=e(24643),H=e(64799),k=e(92122),ee=e(45019),o=e(53895),T=e(24057),Z=e(83005),L=e(86230),fe=e(17023),E=e(16621),_=e(41249),W=e(24113),r=e(46038),F=e(7010),Ce=e(63619),Pe=e(9504),Ke=e(70183),ke=e(94581),Ee=e.n(ke),G=e(75271),S=e(87453),Q=e(68043),O=e(35702),s=e(73415),de=e(87620),be=e(16483),Oe=e.n(be),_e={time:"time___zGASf",status:"status___sUsyE"},c=e(52676),we=Ee().bind(_e),Be=function(Ue){var he,Y,X,f=Ue.componentInfo,te=Ue.onClick,U=Ue.onClickMore,ye=(0,G.useState)([]),ne=v()(ye,2),me=ne[0],Se=ne[1],a=(0,G.useMemo)(function(){return de.Ov.find(function(m){return m.type===f.type})},[f.type]),i=function(t){if(t===o.KZ.Del){var V;return f==null||(V=f.permissions)===null||V===void 0?void 0:V.includes(k.jE.Delete)}return!0};return(0,G.useEffect)(function(){var m=de.uo.filter(function(t){var V=t.type,oe=t.action;return V===f.type&&i(oe)});Se(m)},[f]),(0,c.jsx)(O.Z,{title:f.name,avatar:((he=f.creator)===null||he===void 0?void 0:he.avatar)||"",name:((Y=f.creator)===null||Y===void 0?void 0:Y.nickName)||((X=f.creator)===null||X===void 0?void 0:X.userName),content:f.description,icon:f.icon,defaultIcon:a?.defaultImage||"",onClick:te,extra:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("span",{className:we("text-ellipsis","flex-1",_e.time),children:["\u6700\u8FD1\u7F16\u8F91 ",Oe()(f.modified).format("MM-DD HH:mm")]}),f?.type===o.Lm.Model?(0,c.jsx)("span",{className:we("flex","items-center","gap-4",_e.status),children:f?.enabled===o.BT.Enabled?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.TS,{}),"\u5DF2\u542F\u7528"]}):(0,c.jsx)(c.Fragment,{children:"\u5DF2\u7981\u7528"})}):f?.publishStatus===k.xH.Published&&(0,c.jsxs)("span",{className:we("flex","items-center","gap-4",_e.status),children:[(0,c.jsx)(s.TS,{}),"\u5DF2\u53D1\u5E03"]})]}),footer:(0,c.jsxs)("footer",{className:we("flex","items-center","content-between"),children:[(0,c.jsx)(Q.Z,{type:f.type}),(0,c.jsx)(y.Z,{list:me,onClick:U,children:(0,c.jsx)(s.Ey,{})})]})})},Je=Be,Ie=e(53102),Re={"xagi-nav-style2":"xagi-nav-style2___aj8Wf",text:"text___vBVV3","page-container":"page-container___dv4Og",container:"container___w7Jq_",title:"title___NKu63","main-container":"main-container___im5HM"},Fe=Ee().bind(Re),Qe=function(){var Ue=(0,S.useSearchParams)(),he=v()(Ue,2),Y=he[0],X=he[1],f=function(p,l){var w=new URLSearchParams(Y);l?w.set(p,l):w.delete(p),X(w)},te=(0,S.useParams)(),U=Number(te.spaceId),ye=(0,G.useState)([]),ne=v()(ye,2),me=ne[0],Se=ne[1],a=(0,G.useRef)([]),i=(0,G.useState)(null),m=v()(i,2),t=m[0],V=m[1],oe=(0,G.useState)(!1),We=v()(oe,2),ct=We[0],et=We[1],rt=(0,G.useState)(!1),dt=v()(rt,2),St=dt[0],ht=dt[1],st=(0,G.useState)(!1),jt=v()(st,2),Dt=jt[0],J=jt[1],Ot=(0,G.useState)(!1),yt=v()(Ot,2),Tt=yt[0],tt=yt[1],ot=(0,G.useState)(!1),bt=v()(ot,2),wt=bt[0],mt=bt[1],pt=(0,G.useState)(!1),It=v()(pt,2),Ct=It[0],nt=It[1],Rt=(0,G.useState)(),xt=v()(Rt,2),ut=xt[0],Ve=xt[1],Lt=(0,G.useState)(Y.get("type")||o.Lm.All_Type),je=v()(Lt,2),I=je[0],Te=je[1],$e=(0,G.useState)(Number(Y.get("status"))||o.No.All),Wt=v()($e,2),lt=Wt[0],ze=Wt[1],$t=(0,G.useState)(Y.get("keyword")||""),Gt=v()($t,2),ft=Gt[0],Ft=Gt[1],He=(0,G.useState)(!1),Qt=v()(He,2),Vt=Qt[0],Pt=Qt[1],Ut=(0,G.useState)(!1),gt=v()(Ut,2),Et=gt[0],Kt=gt[1],nn=(0,G.useState)(!1),zt=v()(nn,2),an=zt[0],kt=zt[1],rn=(0,G.useState)(Number(Y.get("create"))||o.os.All_Person),At=v()(rn,2),Ge=At[0],it=At[1],sn=(0,S.useModel)("userInfo"),Ht=sn.userInfo,Ye=function(p,l,w,De){var Ne=arguments.length>4&&arguments[4]!==void 0?arguments[4]:a.current,Ae=Ne;p!==o.Lm.All_Type&&(Ae=Ae.filter(function(at){return at.type===p})),l===o.No.Published&&(Ae=Ae.filter(function(at){return at.publishStatus===k.xH.Published})),w===o.os.Me&&(Ae=Ae.filter(function(at){return at.creatorId===Ht.id})),De&&(Ae=Ae.filter(function(at){return at.name.includes(De)})),Se(Ae)};(0,G.useEffect)(function(){var b=Y.get("type")||o.Lm.All_Type,p=Number(Y.get("status"))||o.No.All,l=Number(Y.get("create"))||o.os.All_Person,w=Y.get("keyword")||"";Te(b),ze(p),it(l),Ft(w),Ye(b,p,l,w)},[Y]);var Yt=(0,S.useRequest)(K.Cw,{manual:!0,debounceInterval:300,onSuccess:function(p){Ye(I,lt,Ge,ft,p),a.current=p,Pt(!1)},onError:function(){Pt(!1)}}),Mt=Yt.run,Xt=function(p){var l=p.params,w=p.data,De=p.type;tt(!1);var Ne=l[1];De===o.Lm.Plugin?(0,L.oV)(Ne,w):De===o.Lm.Workflow&&(0,L.Ph)(Ne,w)},on=(0,S.useRequest)(q.lK,{manual:!0,debounceInterval:300,onSuccess:function(p,l){_.ZP.success("\u63D2\u4EF6\u590D\u5236\u6210\u529F"),kt(!1),Xt({params:l,data:p,type:o.Lm.Plugin})},onError:function(){kt(!1)}}),Jt=on.run,vt=function(p){var l=me.filter(function(w){return w.id!==p});Se(l),a.current=a.current.filter(function(w){return w.id!==p})},un=(0,S.useRequest)(q.O9,{manual:!0,debounceInterval:300,onSuccess:function(p,l){_.ZP.success("\u63D2\u4EF6\u5220\u9664\u6210\u529F");var w=l[0];vt(w)}}),ln=un.run,qt=(0,S.useRequest)(Me.og,{manual:!0,debounceInterval:300,onSuccess:function(p,l){_.ZP.success("\u6A21\u578B\u5220\u9664\u6210\u529F");var w=l[0];vt(w)}}),Bt=qt.run,cn=(0,S.useRequest)(K.jU,{manual:!0,debounceInterval:300,onSuccess:function(p,l){_.ZP.success("\u5DE5\u4F5C\u6D41\u590D\u5236\u6210\u529F"),Kt(!1),Xt({params:l,data:p,type:o.Lm.Workflow})},onError:function(){Kt(!1)}}),_t=cn.run,dn=(0,S.useRequest)(K.xC,{manual:!0,debounceInterval:300,onSuccess:function(p,l){_.ZP.success("\u5DE5\u4F5C\u6D41\u5220\u9664\u6210\u529F");var w=l[0];vt(w)}}),en=dn.run,mn=(0,S.useRequest)(g.g3,{manual:!0,debounceInterval:300,onSuccess:function(p,l){_.ZP.success("\u77E5\u8BC6\u5E93\u5220\u9664\u6210\u529F");var w=l[0];vt(w)}}),pn=mn.run,fn=(0,S.useRequest)(z.KJ,{manual:!0,debounceInterval:300,onSuccess:function(p,l){_.ZP.success("\u6570\u636E\u8868\u5220\u9664\u6210\u529F");var w=l[0];vt(w)}}),gn=fn.run,vn=(0,S.useRequest)(K.Y$,{manual:!0,debounceInterval:300,onSuccess:function(){_.ZP.success("\u6570\u636E\u8868\u590D\u5236\u6210\u529F"),Mt(U)}}),C=vn.run;(0,G.useEffect)(function(){Pt(!0),Mt(U)},[U]);var u=function(p){var l=p;Te(l),Ye(l,lt,Ge,ft),f("type",l)},D=function(p){var l=p;it(l),Ye(I,lt,l,ft),f("create",l.toString())},B=function(p){var l=p;ze(l),Ye(I,l,Ge,ft),f("status",l.toString())},pe=function(p){var l=p.target.value;Ft(l),Ye(I,lt,Ge,l),f("keyword",l)},Le=function(){Ft(""),Ye(I,lt,Ge,"")},le=function(p,l,w){return w===ee.AQ.CODE?"/space/".concat(l,"/plugin/").concat(p,"/cloud-tool"):w===ee.AQ.HTTP?"/space/".concat(l,"/plugin/").concat(p):""},xe=function(){nt(!1),Mt(U)},Xe=function(p){var l=p.value;switch(l){case o.Lm.Workflow:et(!0);break;case o.Lm.Plugin:ht(!0);break;case o.Lm.Knowledge:mt(!0);break;case o.Lm.Table:J(!0);break;case o.Lm.Model:Ve(null),nt(!0);break}},re=function(){var b=d()(n()().mark(function p(l){var w,De,Ne,Ae,at,_n;return n()().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return w=l.name,De=l.description,Ne=l.icon,Ae={tableName:w,tableDescription:De,spaceId:U,icon:Ne},Zt.next=4,(0,z.AY)(Ae);case 4:at=Zt.sent,_n=at.data,S.history.push("/space/".concat(U,"/table/").concat(_n));case 7:case"end":return Zt.stop()}},p)}));return function(l){return b.apply(this,arguments)}}(),Nt=function(p,l){var w=l.id,De=l.name;(0,T.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u7EC4\u4EF6\u5417?",De,function(){switch(p){case o.Lm.Plugin:ln(w);break;case o.Lm.Model:Bt(w);break;case o.Lm.Workflow:en(w);break;case o.Lm.Knowledge:pn(w);break;case o.Lm.Table:gn(w);break}return new Promise(function(Ne){setTimeout(Ne,1e3)})})},tn=function(p){t?.type===o.Lm.Plugin?(kt(!0),Jt(t.id,p)):t?.type===o.Lm.Workflow&&(Kt(!0),_t(t.id,p))},hn=function(p,l){switch(p){case o.KZ.Copy_To_Space:tt(!0),V(l);break;case o.KZ.Export_Config:(0,Z._)(l.id,H.qR.Plugin);break}},yn=function(p,l){switch(p){case o.KZ.Export_Config:(0,Z._)(l.id,H.qR.Model);break}},Cn=function(p,l){switch(p){case o.KZ.Copy_To_Space:tt(!0),V(l);break;case o.KZ.Export_Config:(0,T.oB)("\u5BFC\u51FA\u914D\u7F6E - ".concat(l?.name),"\u5982\u679C\u5185\u90E8\u5305\u542B\u6570\u636E\u8868\u6216\u77E5\u8BC6\u5E93\uFF0C\u6570\u636E\u672C\u8EAB\u4E0D\u4F1A\u5BFC\u51FA",function(){return(0,Z._)(l.id,H.qR.Workflow),new Promise(function(w){setTimeout(w,1e3)})});break}},Pn=function(p,l){switch(p){case o.KZ.Export_Config:(0,T.oB)("\u5BFC\u51FA\u914D\u7F6E - ".concat(l?.name),"\u4EC5\u5BFC\u51FA\u6570\u636E\u8868\u7ED3\u6784\uFF0C\u6570\u636E\u672C\u8EAB\u4E0D\u4F1A\u5BFC\u51FA",function(){return(0,Z._)(l.id,H.qR.Table),new Promise(function(w){setTimeout(w,1e3)})});break;case o.KZ.Copy:C({tableId:l.id});break}},En=function(p,l){var w=p,De=w.action,Ne=w.type;if(De===o.KZ.Del)Nt(Ne,l);else switch(Ne){case o.Lm.Plugin:hn(De,l);break;case o.Lm.Model:yn(De,l);break;case o.Lm.Workflow:Cn(De,l);break;case o.Lm.Table:Pn(De,l);break}},Sn=function(p){var l=p.type,w=p.id,De=p.spaceId,Ne=p.ext,Ae="";switch(l){case o.Lm.Workflow:Ae="/space/".concat(De,"/workflow/").concat(w);break;case o.Lm.Plugin:Ae=le(w,De,Ne);break;case o.Lm.Knowledge:Ae="/space/".concat(De,"/knowledge/").concat(w);break;case o.Lm.Table:Ae="/space/".concat(De,"/table/").concat(w);break;case o.Lm.Model:Ve(p),nt(!0);break}Ae&&(0,L.X0)(Ae)},jn=function(){Mt(U)};return(0,c.jsxs)("div",{className:Fe(Re.container,"flex","flex-col","h-full"),children:[(0,c.jsxs)(W.Z,{children:[(0,c.jsx)(r.Z,{xs:24,sm:24,md:24,lg:24,xl:14,xxl:12,style:{marginBottom:5},children:(0,c.jsx)("div",{children:(0,c.jsxs)(F.Z,{children:[(0,c.jsx)("h3",{className:Fe(Re.title),children:"\u7EC4\u4EF6\u5E93"}),(0,c.jsx)(M.Z,{value:I,options:$.yA,onChange:u}),(0,c.jsx)(ae.Z,{options:$.Bv,value:Ge,onChange:function(p){return D(p)}}),(0,c.jsx)(ae.Z,{options:$.v3,value:lt,onChange:function(p){return B(p)}})]})})}),(0,c.jsx)(r.Z,{xs:24,sm:24,md:24,lg:24,xl:10,xxl:12,style:{marginBottom:5},children:(0,c.jsxs)("div",{className:Fe("flex","gap-10","justify-content-end"),children:[(0,c.jsx)(Ce.Z,{rootClassName:Fe(Re.input),placeholder:"\u641C\u7D22\u7EC4\u4EF6",value:ft,onChange:pe,prefix:(0,c.jsx)(fe.Z,{}),allowClear:!0,onClear:Le,style:{width:214}}),(0,c.jsx)(N.Z,{spaceId:U,onUploadSuccess:jn}),(0,c.jsx)(y.Z,{list:$.k0,onClick:Xe,children:(0,c.jsx)(Pe.ZP,{type:"primary",icon:(0,c.jsx)(E.Z,{}),children:"\u7EC4\u4EF6"})})]})})]}),Vt?(0,c.jsx)(j.Z,{}):me?.length>0?(0,c.jsx)("div",{className:Fe(Re["main-container"],"flex-1","scroll-container-hide"),children:me?.map(function(b){return(0,c.jsx)(Je,{componentInfo:b,onClick:function(){return Sn(b)},onClickMore:function(l){return En(l,b)}},"".concat(b.id).concat(b.type))})}):(0,c.jsx)("div",{className:Fe("flex","h-full","items-center","content-center"),children:(0,c.jsx)(Ke.Z,{description:"\u672A\u80FD\u627E\u5230\u76F8\u5173\u7ED3\u679C"})}),(0,c.jsx)(A.Z,{spaceId:U,open:St,onCancel:function(){return ht(!1)}}),(0,c.jsx)(ce.Z,{spaceId:U,open:wt,onCancel:function(){return mt(!1)}}),(0,c.jsx)(x.Z,{spaceId:U,open:Dt,type:H.qR.Table,onCancel:function(){return J(!1)},Confirm:re}),(0,c.jsx)(ge.Z,{spaceId:U,loading:an||Et,type:o.KZ.Copy_To_Space,mode:t?.type,open:Tt,title:t?.name,onCancel:function(){return tt(!1)},onConfirm:tn}),(0,c.jsx)(R.Z,{spaceId:U,open:ct,onCancel:function(){return et(!1)}}),(0,c.jsx)(h.Z,{condition:Ct,children:(0,c.jsx)(Ie.Z,{mode:ut?k.jA.Update:k.jA.Create,spaceId:U,id:ut?.id,open:Ct,onCancel:function(){return nt(!1)},onConfirm:xe})})]})},se=Qe},28359:function(Ze,ue,e){var ie=e(90228),n=e.n(ie),ve=e(87999),d=e.n(ve),P=e(26068),v=e.n(P),ae=e(67825),h=e.n(ae),ce=e(82092),A=e.n(ce),R=e(64799),x=e(87453),y=["data"],ge=["records"],N=["deployedConfig","deployStatus","id","creator"],j=A()(A()(A()(A()(A()(A()(A()({},R.qR.Plugin,"/api/published/plugin/list"),R.qR.Workflow,"/api/published/workflow/list"),R.qR.Knowledge,"/api/published/knowledge/list"),R.qR.Table,"/api/published/composeTable/list"),R.qR.Variable,"/api/published/dataBase/list"),R.qR.Model,"/api/published/dataBase/list"),R.qR.Agent,"/api/published/agent/list");function M(ee){return(0,x.request)("/api/mcp/deployed/list",{method:"POST",data:ee}).then(function(o){var T=o.data,Z=h()(o,y),L=T||{},fe=L.records,E=h()(L,ge);return v()(v()({},Z),{},{data:v()(v()({},E),{},{records:fe?.map(function(_){var W=_.deployedConfig,r=_.deployStatus,F=_.id,Ce=_.creator,Pe=h()(_,N);return v()(v()({},Pe),{},{status:r,targetId:F,targetType:R.qR.MCP,publishUser:Ce,config:W})})})})})}function $(ee,o){return z.apply(this,arguments)}function z(){return z=d()(n()().mark(function ee(o,T){return n()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(o!==R.qR.MCP){L.next=2;break}return L.abrupt("return",M(T));case 2:return L.abrupt("return",(0,x.request)("".concat(j[o]),{method:"POST",data:T}));case 3:case"end":return L.stop()}},ee)})),z.apply(this,arguments)}function g(ee,o){return K.apply(this,arguments)}function K(){return K=d()(n()().mark(function ee(o,T){return n()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,x.request)("/api/published/".concat(o,"/collect/list"),{method:"POST",data:T}));case 1:case"end":return L.stop()}},ee)})),K.apply(this,arguments)}function Me(ee,o){return q.apply(this,arguments)}function q(){return q=d()(n()().mark(function ee(o,T){return n()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,x.request)("/api/published/".concat(o,"/collect/").concat(T),{method:"POST",data:A()({},"".concat(o,"Id"),T)}));case 1:case"end":return L.stop()}},ee)})),q.apply(this,arguments)}function H(ee,o){return k.apply(this,arguments)}function k(){return k=d()(n()().mark(function ee(o,T){return n()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,x.request)("/api/published/".concat(o,"/unCollect/").concat(T),{method:"POST",data:A()({},"".concat(o,"Id"),T)}));case 1:case"end":return L.stop()}},ee)})),k.apply(this,arguments)}ue.ZP={getList:$,collectList:g,collect:Me,unCollect:H}},48528:function(Ze,ue,e){e.d(ue,{Gh:function(){return Pe},Il:function(){return T},SR:function(){return W},T5:function(){return E},TL:function(){return X},V5:function(){return qe},Wi:function(){return x},ah:function(){return g},bB:function(){return te},ds:function(){return ye},ei:function(){return v},g3:function(){return ge},gd:function(){return ee},h0:function(){return he},pJ:function(){return $},qx:function(){return A},s2:function(){return me},vn:function(){return G}});var ie=e(90228),n=e.n(ie),ve=e(87999),d=e.n(ve),P=e(87453);function v(a){return ae.apply(this,arguments)}function ae(){return ae=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/config/update",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),ae.apply(this,arguments)}function h(a){return ce.apply(this,arguments)}function ce(){return ce=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/config/list",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),ce.apply(this,arguments)}function A(a){return R.apply(this,arguments)}function R(){return R=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/config/add",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),R.apply(this,arguments)}function x(a){return y.apply(this,arguments)}function y(){return y=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/config/detailById",{method:"GET",params:{id:i}}));case 1:case"end":return t.stop()}},a)})),y.apply(this,arguments)}function ge(a){return N.apply(this,arguments)}function N(){return N=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/config/deleteById",{method:"GET",params:{id:i}}));case 1:case"end":return t.stop()}},a)})),N.apply(this,arguments)}function j(a){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/update",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),M.apply(this,arguments)}function $(a){return z.apply(this,arguments)}function z(){return z=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/document/updateDocName",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),z.apply(this,arguments)}function g(a){return K.apply(this,arguments)}function K(){return K=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/document/list",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),K.apply(this,arguments)}function Me(a){return q.apply(this,arguments)}function q(){return q=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/generateQA/".concat(i),{method:"POST"}));case 1:case"end":return t.stop()}},a)})),q.apply(this,arguments)}function H(a){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/doc/generateEmbeddings/".concat(i),{method:"POST"}));case 1:case"end":return t.stop()}},a)})),k.apply(this,arguments)}function ee(a){return o.apply(this,arguments)}function o(){return o=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/document/customAdd",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),o.apply(this,arguments)}function T(a){return Z.apply(this,arguments)}function Z(){return Z=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/document/add",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),Z.apply(this,arguments)}function L(a){return fe.apply(this,arguments)}function fe(){return fe=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/doc/retryAllTaskByDays/".concat(i),{method:"GET"}));case 1:case"end":return t.stop()}},a)})),fe.apply(this,arguments)}function E(a){return _.apply(this,arguments)}function _(){return _=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/document/doc/autoRetryTaskByDocId/".concat(i),{method:"GET"}));case 1:case"end":return t.stop()}},a)})),_.apply(this,arguments)}function W(a){return r.apply(this,arguments)}function r(){return r=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/document/detailById",{method:"GET",params:{dataId:i}}));case 1:case"end":return t.stop()}},a)})),r.apply(this,arguments)}function F(a){return Ce.apply(this,arguments)}function Ce(){return Ce=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/queryDocStatus",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),Ce.apply(this,arguments)}function Pe(a){return Ke.apply(this,arguments)}function Ke(){return Ke=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/document/deleteById",{method:"GET",params:{id:i}}));case 1:case"end":return t.stop()}},a)})),Ke.apply(this,arguments)}function ke(a){return Ee.apply(this,arguments)}function Ee(){return Ee=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/update",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),Ee.apply(this,arguments)}function G(a){return S.apply(this,arguments)}function S(){return S=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/rawSegment/list",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),S.apply(this,arguments)}function Q(a){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/add",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),O.apply(this,arguments)}function s(a){return de.apply(this,arguments)}function de(){return de=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/detailById",{method:"GET",params:{dataId:i}}));case 1:case"end":return t.stop()}},a)})),de.apply(this,arguments)}function be(a){return Oe.apply(this,arguments)}function Oe(){return Oe=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/deleteById",{method:"GET",params:{id:i}}));case 1:case"end":return t.stop()}},a)})),Oe.apply(this,arguments)}function _e(a){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/update",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),c.apply(this,arguments)}function we(a){return Be.apply(this,arguments)}function Be(){return Be=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/search",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),Be.apply(this,arguments)}function Je(a){return Ie.apply(this,arguments)}function Ie(){return Ie=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/list",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),Ie.apply(this,arguments)}function Re(a){return Fe.apply(this,arguments)}function Fe(){return Fe=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/add",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),Fe.apply(this,arguments)}function Qe(a){return se.apply(this,arguments)}function se(){return se=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/doc/embeddingStatus/".concat(i),{method:"GET"}));case 1:case"end":return t.stop()}},a)})),se.apply(this,arguments)}function qe(a){return Ue.apply(this,arguments)}function Ue(){return Ue=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/qa/add",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),Ue.apply(this,arguments)}function he(a){return Y.apply(this,arguments)}function Y(){return Y=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/qa/list",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),Y.apply(this,arguments)}function X(a){return f.apply(this,arguments)}function f(){return f=d()(n()().mark(function a(i){var m;return n()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return m=new FormData,m.append("id",i.id.toString()),V.abrupt("return",(0,P.request)("/api/knowledge/qa/deleteById",{method:"POST",data:m}));case 3:case"end":return V.stop()}},a)})),f.apply(this,arguments)}function te(a){return U.apply(this,arguments)}function U(){return U=d()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/api/knowledge/qa/update",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),U.apply(this,arguments)}function ye(){return ne.apply(this,arguments)}function ne(){return ne=d()(n()().mark(function a(){return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,P.request)("/api/knowledge/qa/downloadExcelTemplate",{method:"GET",responseType:"blob"}));case 1:case"end":return m.stop()}},a)})),ne.apply(this,arguments)}function me(a){return Se.apply(this,arguments)}function Se(){return Se=d()(n()().mark(function a(i){var m;return n()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return m=new FormData,m.append("file",i.file),m.append("kbId",i.kbId.toString()),V.abrupt("return",(0,P.request)("/api/knowledge/qa/importExcel",{method:"POST",data:m}));case 4:case"end":return V.stop()}},a)})),Se.apply(this,arguments)}},53361:function(Ze,ue,e){e.d(ue,{Cw:function(){return ge},Kt:function(){return v},Y$:function(){return j},jU:function(){return A},sN:function(){return h},xC:function(){return x}});var ie=e(90228),n=e.n(ie),ve=e(87999),d=e.n(ve),P=e(87453);function v(M){return ae.apply(this,arguments)}function ae(){return ae=d()(n()().mark(function M($){return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,P.request)("/api/workflow/add",{method:"POST",data:$}));case 1:case"end":return g.stop()}},M)})),ae.apply(this,arguments)}function h(M){return ce.apply(this,arguments)}function ce(){return ce=d()(n()().mark(function M($){return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,P.request)("/api/workflow/update",{method:"POST",data:$}));case 1:case"end":return g.stop()}},M)})),ce.apply(this,arguments)}function A(M,$){return R.apply(this,arguments)}function R(){return R=d()(n()().mark(function M($,z){return n()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.abrupt("return",(0,P.request)("/api/workflow/copy/".concat($,"/").concat(z),{method:"POST"}));case 1:case"end":return K.stop()}},M)})),R.apply(this,arguments)}function x(M){return y.apply(this,arguments)}function y(){return y=d()(n()().mark(function M($){return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,P.request)("/api/workflow/delete/".concat($),{method:"POST"}));case 1:case"end":return g.stop()}},M)})),y.apply(this,arguments)}function ge(M){return N.apply(this,arguments)}function N(){return N=d()(n()().mark(function M($){return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,P.request)("/api/component/list/".concat($),{method:"GET"}));case 1:case"end":return g.stop()}},M)})),N.apply(this,arguments)}function j(M){return(0,P.request)("/api/compose/db/table/copyTableDefinition",{method:"POST",params:M})}},52909:function(Ze,ue,e){e.d(ue,{Ie:function(){return v},M6:function(){return L},RP:function(){return H},SM:function(){return ee},UJ:function(){return A},Ui:function(){return Me},ci:function(){return x},gH:function(){return g},gx:function(){return T},pd:function(){return $},rX:function(){return ge},sG:function(){return j},x3:function(){return h}});var ie=e(90228),n=e.n(ie),ve=e(87999),d=e.n(ve),P=e(87453);function v(E){return ae.apply(this,arguments)}function ae(){return ae=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/upload-and-start",{method:"POST",data:_}));case 1:case"end":return r.stop()}},E)})),ae.apply(this,arguments)}function h(E){return ce.apply(this,arguments)}function ce(){return ce=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/create",{method:"POST",data:_}));case 1:case"end":return r.stop()}},E)})),ce.apply(this,arguments)}function A(E){return R.apply(this,arguments)}function R(){return R=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/create-reverse-proxy",{method:"POST",data:_}));case 1:case"end":return r.stop()}},E)})),R.apply(this,arguments)}function x(E){return y.apply(this,arguments)}function y(){return y=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/list-projects",{method:"GET",params:_}));case 1:case"end":return r.stop()}},E)})),y.apply(this,arguments)}function ge(E){return N.apply(this,arguments)}function N(){return N=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/copy-project",{method:"POST",data:_}));case 1:case"end":return r.stop()}},E)})),N.apply(this,arguments)}function j(E){return M.apply(this,arguments)}function M(){return M=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/batch-config-proxy",{method:"POST",data:_}));case 1:case"end":return r.stop()}},E)})),M.apply(this,arguments)}function $(E){return z.apply(this,arguments)}function z(){return z=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/add-path",{method:"POST",data:_}));case 1:case"end":return r.stop()}},E)})),z.apply(this,arguments)}function g(E){return K.apply(this,arguments)}function K(){return K=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/edit-path",{method:"POST",data:_}));case 1:case"end":return r.stop()}},E)})),K.apply(this,arguments)}function Me(E){return q.apply(this,arguments)}function q(){return q=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/delete-path",{method:"POST",data:_}));case 1:case"end":return r.stop()}},E)})),q.apply(this,arguments)}function H(E){return k.apply(this,arguments)}function k(){return k=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/save-path-args",{method:"POST",data:_}));case 1:case"end":return r.stop()}},E)})),k.apply(this,arguments)}function ee(E){return o.apply(this,arguments)}function o(){return o=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/get-project-info",{method:"GET",params:{projectId:_}}));case 1:case"end":return r.stop()}},E)})),o.apply(this,arguments)}function T(E){return Z.apply(this,arguments)}function Z(){return Z=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/delete-project",{method:"POST",data:{projectId:_}}));case 1:case"end":return r.stop()}},E)})),Z.apply(this,arguments)}function L(E){return fe.apply(this,arguments)}function fe(){return fe=d()(n()().mark(function E(_){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/custom-page/update-project",{method:"POST",data:_}));case 1:case"end":return r.stop()}},E)})),fe.apply(this,arguments)}},75076:function(Ze,ue,e){e.d(ue,{Pm:function(){return ve},Tv:function(){return P},Yg:function(){return n},ai:function(){return d},lj:function(){return v},sO:function(){return ae},wI:function(){return ie}});var ie=function(h){return h.Import_Project="Import_Project",h.Online_Develop="Online_Develop",h.Reverse_Proxy="Reverse_Proxy",h}({}),n=function(h){return h.All_Type="All_Type",h.AGENT="AGENT",h.PAGE="PAGE",h}({}),ve=function(h){return h.ONLINE_DEPLOY="ONLINE_DEPLOY",h.REVERSE_PROXY="REVERSE_PROXY",h}({}),d=function(h){return h.Dev="dev",h.Production="prod",h}({}),P=function(h){return h.Reverse_Proxy_Config="Reverse_Proxy_Config",h.Path_Params_Config="Path_Params_Config",h.Auth_Config="Auth_Config",h.Page_Preview="Page_Preview",h.Copy_To_Space="Copy_To_Space",h.Delete="Delete",h}({}),v=function(h){return h[h.Published=1]="Published",h[h.Unpublished=0]="Unpublished",h}({}),ae=function(h){return h.PAGE="PAGE",h.AGENT="AGENT",h}({})},46038:function(Ze,ue,e){var ie=e(62374);ue.Z=ie.Z},24113:function(Ze,ue,e){var ie=e(9527);ue.Z=ie.Z}}]);})();
