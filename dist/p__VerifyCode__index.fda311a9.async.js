"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[9468],{61606:function(O,i,n){n.d(i,{Z:function(){return e}});var f=n(66283),u=n(75271),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},t=r,h=n(47221),l=function(E,g){return u.createElement(h.Z,(0,f.Z)({},E,{ref:g,icon:t}))},o=u.forwardRef(l),e=o},83862:function(O,i,n){var f=n(48305),u=n.n(f),r=n(75271),t=n(52676),h=function(o){var e=o.config,p=o.elementId,E=o.doAction,g=o.onReady,I=(0,r.useState)(!1),R=u()(I,2),P=R[0],c=R[1],Z=(0,r.useRef)(!1),M=function(d){return E(d),{captchaResult:!0,bizResult:!0}},U=(0,r.useCallback)(function(){var S,d;(S=document.getElementById("aliyunCaptcha-mask"))===null||S===void 0||S.remove(),(d=document.getElementById("aliyunCaptcha-window-popup"))===null||d===void 0||d.remove()},[]),K=(0,r.useCallback)(function(S){S&&c(!0)},[]);return(0,r.useEffect)(function(){return Z.current=!1,e!=null&&e.captchaSceneId&&e!==null&&e!==void 0&&e.captchaPrefix&&e!==null&&e!==void 0&&e.openCaptcha&&window.initAliyunCaptcha({SceneId:e.captchaSceneId,prefix:e.captchaPrefix,mode:"popup",element:"#captcha-element",button:"#".concat(p),captchaVerifyCallback:M,onBizResultCallback:function(){},getInstance:K,slideStyle:{width:360,height:40},language:"cn"}),U},[e,p]),(0,r.useEffect)(function(){return P&&(g?.(),console.log("\u9A8C\u8BC1\u7801\u521D\u59CB\u5316\u5B8C\u6210\uFF0ConReady\u5DF2\u8C03\u7528")),function(){}},[P]),(0,t.jsx)("div",{className:"captcha-a",children:(0,t.jsx)("div",{id:"captcha-element"})})};i.Z=(0,r.memo)(h)},59261:function(O,i,n){var f=n(75271),u=n(52676),r=function(h){var l=h.children,o=h.condition;return o?(0,u.jsx)(u.Fragment,{children:l}):null};i.Z=r},60485:function(O,i,n){var f=n(48305),u=n.n(f),r=n(61265),t=n(75271),h=function(){var o=(0,t.useState)(r.gm),e=u()(o,2),p=e[0],E=e[1],g=(0,t.useRef)(0),I=function(){clearInterval(g.current),g.current=0},R=function(){var c=r.gm;E(c),g.current=setInterval(function(){c--,E(c),c===0&&I()},1e3)};return(0,t.useEffect)(function(){return function(){I()}},[]),{countDown:p,setCountDown:E,onClearTimer:I,handleCount:R}};i.Z=h},52268:function(O,i,n){var f=n(80098),u=n(41249),r=n(87453),t=function(){var l=(0,r.useRequest)(f.Vv,{manual:!0,debounceInterval:300,onSuccess:function(){u.ZP.success("\u9A8C\u8BC1\u7801\u5DF2\u53D1\u9001")}}),o=l.run,e=l.loading;return{runSendCode:o,sendLoading:e}};i.Z=t},76398:function(O,i,n){n.d(i,{Z:function(){return E}});var f=n(59261),u=n(94581),r=n.n(u),t=n(75271),h=n(87453),l={"xagi-nav-style2":"xagi-nav-style2___yVukr",text:"text___OI_Nm","page-container":"page-container___Pi1hD",container:"container___xhEU7","left-box":"left-box___Ntafo",logo:"logo___BYKsK","left-title-box":"left-title-box___dv69M",title:"title___p8jZZ","sub-title":"sub-title___Oiq0f","right-box":"right-box___wTEhG"},o=n(52676),e=r().bind(l),p=function(I){var R=I.children,P=(0,h.useModel)("tenantConfigInfo"),c=P.tenantConfigInfo;return(0,o.jsxs)("div",{className:e(l.container),children:[(0,o.jsxs)("div",{className:e(l["left-box"]),children:[(0,o.jsx)("div",{className:e(l.icon),children:(0,o.jsx)(f.Z,{condition:!!(c!=null&&c.siteLogo),children:(0,o.jsx)("img",{src:c?.siteLogo,className:e(l.logo),alt:""})})}),(0,o.jsxs)("div",{className:e(l["left-title-box"]),children:[(0,o.jsx)("p",{className:e(l.title,"text-ellipsis-2"),dangerouslySetInnerHTML:{__html:c?.loginPageText}}),(0,o.jsx)("p",{className:e(l["sub-title"],"text-ellipsis-2"),dangerouslySetInnerHTML:{__html:c?.loginPageSubText}})]})]}),(0,o.jsx)("div",{className:e(l["right-box"]),children:R})]})},E=p},74992:function(O,i,n){n.r(i),n.d(i,{default:function(){return tn}});var f=n(82092),u=n.n(f),r=n(26068),t=n.n(r),h=n(48305),l=n.n(h),o=n(83862),e=n(61265),p=n(72875),E=n(60485),g=n(52268),I=n(76398),R=n(80098),P=n(76714),c=n(39373),Z=n(61606),M=n(9504),U=n(63619),K=n(94581),S=n.n(K),d=n(75271),A=n(87453),m={"xagi-nav-style2":"xagi-nav-style2___tuoEb",text:"text___Wy68G","page-container":"page-container___og3pJ",container:"container___nHaho",input:"input___e_Xre",inner:"inner___Sqpda",back:"back___S8ugH","code-container":"code-container___sU8BX","code-item":"code-item___KnGao",error:"error___aLTn5",active:"active___A6zKf","cursor-blink":"cursor-blink___pNG8Y","count-down-container":"count-down-container___NG91A","count-down":"count-down___CNupX","resend-btn":"resend-btn___ORbwU",phone:"phone___hSuIa"},v=n(52676),D=S().bind(m),nn=Array(e.R9).fill(null),en=function(){var an="aliyun-captcha-sms",on=(0,A.useLocation)(),rn=(0,A.useNavigate)(),F=(0,E.Z)(),B=F.countDown,ln=F.handleCount,X=(0,g.Z)(),cn=X.runSendCode,N=X.sendLoading,sn=(0,d.useState)(""),k=l()(sn,2),C=k[0],un=k[1],dn=(0,d.useState)(""),w=l()(dn,2),W=w[0],vn=w[1],J=(0,d.useRef)(null),b=on.state,_=b.phoneOrEmail,fn=b.areaCode,_n=b.authType,hn=b.captchaVerifyParam,Y=(0,A.useModel)("tenantConfigInfo"),L=Y.tenantConfigInfo,mn=Y.setTitle,$=function(){J.current.focus({preventScroll:!0,cursor:"end"})},Cn=(0,A.useRequest)(R.JI,{manual:!0,debounceInterval:300,onSuccess:function(a,y){var x=a.resetPass,j=a.expireDate,z=a.token;localStorage.setItem(p.LA,z),localStorage.setItem(p.ZG,j),localStorage.setItem(p.Kx,y[0].phone),x?rn("/",{replace:!0}):A.history.push("/set-password")}}),G=Cn.run,Q=(0,d.useMemo)(function(){var s=nn.slice(0);if(C)for(var a=0;a<C.length;)s[a]=C.charAt(a),a++;return s},[C]),pn=(0,d.useMemo)(function(){return C?.length||0},[C]),gn=(0,d.useCallback)(function(s){var a=s.target.value,y=(0,c.an)(a),x=y.substring(0,e.R9);un(x),x.length<e.R9&&W&&vn(""),x.length===e.R9&&!N&&setTimeout(function(){var j={code:x,phoneOrEmail:_};G(j)},100)},[W,N,_,G]),xn=function(a){ln();var y=_n===1,x=t()(u()({type:P.Gk.LOGIN_OR_REGISTER},y?"phone":"email",_),a&&{captchaVerifyParam:a});cn(x)},q=function(){var a=L||{},y=a.captchaSceneId,x=a.captchaPrefix,j=a.openCaptcha;return!!(L&&y!==""&&x!==""&&j)},T=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";xn(a)};(0,d.useEffect)(function(){$(),q()||T(),mn()},[]);var En=function(){q()&&T(hn)},In=function(){var a={code:C,phoneOrEmail:_};G(a)},Sn=function(){var a=L||{},y=a.captchaSceneId,x=a.captchaPrefix,j=a.openCaptcha,z=!!(L&&y!==""&&x!==""&&j);if(z){var H;(H=document.getElementById(an))===null||H===void 0||H.click()}else T()},yn=(0,d.useCallback)(function(){B>0||Sn()},[L,T]),V=(0,d.useCallback)(function(s){if(s.keyCode===13||s.which===13){if(C?.length!==e.R9||N)return;In()}},[C,N]);return(0,d.useEffect)(function(){return window.addEventListener("keyup",V),function(){window.removeEventListener("keyup",V)}},[V]),(0,v.jsx)(I.Z,{children:(0,v.jsxs)("div",{className:D(m.container),children:[(0,v.jsxs)("div",{className:D(m.inner,"flex","flex-col","items-center"),children:[(0,v.jsx)("div",{className:D(m.back),children:(0,v.jsx)(M.ZP,{color:"default",variant:"filled",shape:"circle",icon:(0,v.jsx)(Z.Z,{}),onClick:function(){return A.history.back()}})}),(0,v.jsx)("h3",{children:_!=null&&_.includes("@")?"\u8F93\u5165\u90AE\u7BB1\u9A8C\u8BC1\u7801":"\u8F93\u5165\u77ED\u4FE1\u9A8C\u8BC1\u7801"}),(0,v.jsxs)("p",{children:["\u9A8C\u8BC1\u7801\u5DF2\u53D1\u9001\u81F3".concat(_!=null&&_.includes("@")?"\u4F60\u7684\u90AE\u7BB1 ":"\u624B\u673A\u53F7 "),"".concat(_!=null&&_.includes("@")?"":fn," ").concat(_)]}),(0,v.jsx)("div",{className:D(m["code-container"]),children:Q.map(function(s,a){return(0,v.jsx)("span",{onClick:$,className:D(m["code-item"],pn===a&&!s?m.active:null,W?m.error:null),children:s},a)})}),(0,v.jsxs)("div",{className:D(m["count-down-container"]),children:[B>0&&(0,v.jsxs)("span",{className:m["count-down"],children:[B,"s\u540E"]}),(0,v.jsx)("span",{className:D(m["resend-btn"],B>0?null:m.active,"cursor-pointer"),onClick:yn,children:"\u91CD\u65B0\u83B7\u53D6"})]})]}),(0,v.jsx)(U.Z,{ref:J,onChange:gn,className:D(m.input),autoComplete:"off",value:Q.join("")}),(0,v.jsx)(M.ZP,{id:"aliyun-captcha-sms",style:{display:"none"}}),(0,v.jsx)(o.Z,{config:L,doAction:T,onReady:En,elementId:"aliyun-captcha-sms"})]})})},tn=en},76714:function(O,i,n){n.d(i,{Gk:function(){return r},TC:function(){return f}});var f=function(t){return t[t.Password=0]="Password",t[t.Code=1]="Code",t}({}),u=function(t){return t[t.Phone=0]="Phone",t[t.Email=1]="Email",t}({}),r=function(t){return t.LOGIN_OR_REGISTER="LOGIN_OR_REGISTER",t.RESET_PASSWORD="RESET_PASSWORD",t.BIND_EMAIL="BIND_EMAIL",t}({})}}]);})();
