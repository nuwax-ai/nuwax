(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[3988],{70852:function(d,f,e){"use strict";e.d(f,{Z:function(){return M}});var o=e(50888),a=e(94184),_=e.n(a),t=e(67294),u={container:"container___VkdMQ"},s=e(85893),p=_().bind(u),i=function(m){var l=m.className;return(0,s.jsxs)("div",{className:p("flex","flex-1","items-center","content-center",u.container,l),children:[(0,s.jsx)(o.Z,{}),(0,s.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]})},M=i},95075:function(d,f,e){"use strict";e.r(f);var o=e(15009),a=e.n(o),_=e(99289),t=e.n(_),u=e(5574),s=e.n(u),p=e(70852),i=e(85162),M=e(86384),c=e(67294),m=e(39902),l=e(85893),U=function(){var W=(0,c.useState)(!0),A=s()(W,2),C=A[0],v=A[1],R=(0,c.useState)(null),T=s()(R,2),b=T[0],g=T[1],j=(0,m.useLocation)(),L=500,K=["/login","/verify-code","/set-password","/chat-temp"],y=K.some(function(h){return j.pathname.includes(h)}),E=function(P,D){var r=Date.now()-D;r>=L?P():setTimeout(P,L-r<=0?0:L-r)};return(0,c.useEffect)(function(){var h=function(){var P=t()(a()().mark(function D(){var r,O,I;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=Date.now(),n.prev=1,O=(0,i.Kf)(),O===null){n.next=8;break}g(O),v(!1),n.next=12;break;case 8:return n.next=10,i.KD.fetchUserInfoFromServer(!1);case 10:I=n.sent,I?(E(function(){return g(!0)},r),(0,i.me)(!0)):(g(!1),(0,i.om)(),E(function(){return v(!1)},r));case 12:n.next=21;break;case 14:n.prev=14,n.t0=n.catch(1),console.error("\u9A8C\u8BC1\u767B\u5F55\u72B6\u6001\u5931\u8D25:",n.t0),g(!1),v(!1),(0,i.om)(),E(function(){return(0,M.rf)(j.pathname)},r);case 21:return n.prev=21,E(function(){return v(!1)},r),n.finish(21);case 24:case"end":return n.stop()}},D,null,[[1,14,21,24]])}));return function(){return P.apply(this,arguments)}}();h()},[j.pathname]),y?(0,l.jsx)(m.Outlet,{}):C?(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,l.jsx)(p.Z,{})}):b?(0,l.jsx)(m.Outlet,{}):(0,l.jsx)(m.Navigate,{to:"/login"})};f.default=U},94184:function(d,f){var e,o;function a(){for(var _="",t,u=0;u<arguments.length;u++)if(t=arguments[u],!!t){if(typeof t=="string"||typeof t=="number")_+=" "+t;else if(Array.isArray(t))_+=" "+a.apply(null,t);else if(typeof t=="object")for(var s in t)!t.hasOwnProperty(s)||!t[s]||(_+=" "+s)}return _.substr(1)}d.exports&&(d.exports=a),e=[],o=function(){return a}.apply(f,e),o!==void 0&&(d.exports=o)}}]);})();
