"use strict";(()=>{(self.webpackChunknuwax_frontend=self.webpackChunknuwax_frontend||[]).push([[1146],{5989:function(Ee,ie,e){e.d(ie,{Z:function(){return A}});var G=e(22675),E=e(94581),s=e.n(E),W=e(75271),ae={avatar:"avatar___Q6WBB",nickname:"nickname___pjZCy"},R=e(52676),c=s().bind(ae),Z=function(S){var J=S.className,y=S.icon,X=S.name,v=S.extra;return(0,R.jsxs)("div",{className:c("flex","flex-col","items-center","content-center",J),children:[(0,R.jsx)("img",{className:c(ae.avatar),src:y||G,alt:""}),(0,R.jsx)("h3",{className:c("w-full","text-ellipsis",ae.nickname),children:X}),v]})},A=Z},40470:function(Ee,ie,e){e.d(ie,{Z:function(){return A}});var G=e(65774),E=e(94581),s=e.n(E),W=e(75271),ae={"files-container":"files-container___Ji5El","file-box":"file-box___BRhVF"},R=e(52676),c=s().bind(ae),Z=function(S){var J=S.files;return(0,R.jsx)("div",{className:c(ae["files-container"]),children:J?.map(function(y){var X;return(0,R.jsxs)("div",{className:c(ae["file-box"],"flex","items-center"),children:[(0,R.jsx)("img",{src:(X=y.mimeType)!==null&&X!==void 0&&X.includes("image/")?y.fileUrl:G,alt:""}),(0,R.jsx)("div",{className:c("flex-1","overflow-hide"),children:(0,R.jsx)("h4",{className:c("text-ellipsis"),children:y.fileName})})]},y.fileKey)})})},A=Z},51418:function(Ee,ie,e){e.d(ie,{Z:function(){return y}});var G=e(30799),E=e(10822),s=e(24573),W=e(13143),ae=e(63876),R=e(94581),c=e.n(R),Z=e(75271),A={"xagi-nav-style2":"xagi-nav-style2___Omzza",text:"text___XEmsz","page-container":"page-container___ewoL2","run-success":"run-success___PpO4f","status-name":"status-name___WZ9ni",icon:"icon___H_CtF",successColor:"successColor___tjHA6","pop-content":"pop-content___cUwx3",row:"row___ajvPI",summary:"summary___QUk2k"},M=e(52676),S=c().bind(A),J=function(v){var g=v.messageInfo,N=g.finalResult,H=g.processingList,z=(0,Z.useMemo)(function(){return N?((N?.endTime-N?.startTime)/1e3).toFixed(1):0},[N]),D=function(C,le){var a=C-le;return a<1e3?"".concat(a,"ms"):"".concat((a/1e3).toFixed(1),"s")},T=(0,Z.useMemo)(function(){var p=H?.length||0;return p>0?H?.[p-1]:null},[H]);return(0,M.jsx)(ae.Z,{placement:"bottomLeft",styles:{body:{padding:0}},content:(0,M.jsxs)("div",{className:S(A["pop-content"]),children:[H?.map(function(p,C){return p.status!==G.Xk.EXECUTING&&(0,M.jsxs)("div",{className:S(A.row,"flex","items-center"),children:[(0,M.jsx)(E.Z,{}),(0,M.jsx)("span",{className:S("flex-1","text-ellipsis"),children:"\u5DF2\u8C03\u7528 ".concat(p.name)}),(0,M.jsx)("span",{children:D(p.result.endTime,p.result.startTime)})]},C)}),(0,M.jsx)("span",{className:S(A.summary),children:"\u8FD0\u884C\u5B8C\u6BD5 ".concat(z,"s")})]}),arrow:!1,trigger:"hover",children:(0,M.jsx)("span",{className:S("cursor-pointer",A["run-success"]),children:g?.status===G.ge.Loading||g?.status===G.ge.Incomplete?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(s.Z,{className:S(A.successColor)}),T&&(0,M.jsxs)("span",{className:S(A["status-name"]),children:[T.status===G.Xk.EXECUTING?"\u6B63\u5728\u8C03\u7528 ":"\u5DF2\u8C03\u7528 ",T.name]})]}):g?.status===G.ge.Error?(0,M.jsx)("span",{children:"\u8FD0\u884C\u9519\u8BEF"}):(0,M.jsxs)("span",{children:["\u8FD0\u884C\u5B8C\u6BD5",(0,M.jsx)(W.Z,{className:S(A.icon)})]})})})},y=J},33653:function(Ee,ie,e){e.d(ie,{Z:function(){return te}});var G=e(82092),E=e.n(G),s=e(22675),W=e(78987),ae=e(95495),R=e(40470),c=e(65773),Z=e(10008),A=e(16722),M=e(91165),S=e(22906),J=e(28327),y=e(30799),X=e(41249),v=e(38683),g=e(94581),N=e.n(g),H=e(32699),z=e(75271),D=e(53586),T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAERSURBVCiRjZFBccNADEWfdgrAYeAwcBmYQSwGMYKkCOwwKIOYgZZBITQQzCBBsOoh25lN7ab9pz3ozftaCTlmtkfkADTADbjg3qvqzEpC8a4zdEFkBGpEPs2sWQNfzOwIVKo6mhmIDKS0AV4ROSNiwHZpFNkhMpjZqKojEBEZgBb3N6A2s26tapvrDRajAR0wqWrM+83pvsJjVeCGyERKm2yatOv6YqYKIVzXjBH3o6qOuGsJmVkNVLi3S9D9BFQW4wdwKaBGVWfce6CzGM8lKN9D+fdqYAaqbOpVdco3PpdrSGGoPISdp7QNIVxxb4D9b7DwJLneEhZ5fwquwveTtX+CDzBEoMP99C/wh/mkquMXpnqTpDNkdZAAAAAASUVORK5CYII=",p=e(32139),C=e(2077),le={container:"container___bqr6a","elapsed-time":"elapsed-time___NLFZM","vertical-line":"vertical-line___viPQ6","more-action":"more-action___oDxDL",icon:"icon___hoIgl","copy-image":"copy-image___YsG7v"},a=e(52676),O=N().bind(le),V=function(_){var F=_.messageInfo,L=F||{},I=L.finalResult,r=(0,D.useModel)("conversationInfo"),Te=r.handleDebug,he=r.showType,we=(0,D.useModel)("chat"),Le=we.pagePreviewData,Be=we.hidePagePreview,ye=function(){Le&&Be(),Te(F)},de=(0,z.useMemo)(function(){return I?((I?.endTime-I?.startTime)/1e3).toFixed(1):0},[I]);return(0,a.jsx)("div",{className:O(le.container,"flex","content-between","items-center"),children:(0,a.jsxs)("div",{className:O("flex","items-center",le["elapsed-time"]),children:[(0,a.jsxs)(c.Z,{condition:!!I,children:[(0,a.jsx)("span",{children:"".concat(de,"s")}),(0,a.jsxs)(c.Z,{condition:!!(I!=null&&I.totalTokens),children:[(0,a.jsx)("span",{className:O(le["vertical-line"])}),(0,a.jsx)("span",{children:"".concat(I?.totalTokens," Tokens")})]})]}),(he===C.wv.Version_History||he===C.wv.Show_Stand||he===C.wv.Hide)&&(0,a.jsx)(c.Z,{condition:!!I,children:(0,a.jsx)(p.Z,{className:le.icon,icon:(0,a.jsx)("img",{src:T,alt:""}),onClick:ye,title:"\u8C03\u8BD5",type:y.Ai.White})})]})})},k=V,b={"xagi-nav-style2":"xagi-nav-style2___mrh9D",text:"text___O7qUb","page-container":"page-container___XXv4P",container:"container___I82RP","elapsed-time":"elapsed-time___VSdJP","vertical-line":"vertical-line___RYAxp","more-action":"more-action___J8lvL",icon:"icon___V_fce","copy-image":"copy-image___Lbh8o"},xe=N().bind(b),j=function(_){var F=_.messageInfo,L=F||{},I=L.text,r=function(){X.ZP.success("\u590D\u5236\u6210\u529F")};return(0,a.jsx)("div",{className:xe(b.container,"flex","content-between","items-center"),children:(0,a.jsx)("div",{className:xe("flex",b["more-action"]),children:(0,a.jsx)(ae.Z,{text:I||"",onCopy:r,children:"\u590D\u5236"})})})},fe=j,Pe=e(48305),Re=e.n(Pe),q=e(2201),ue={"xagi-nav-style2":"xagi-nav-style2___A0cfb",text:"text___mQKpe","page-container":"page-container___clFMO",container:"container___bMNUQ","more-action":"more-action___PPoj0"},Se=N().bind(ue),Me=function(_){var F=_.messageInfo,L=(0,z.useState)(""),I=Re()(L,2),r=I[0],Te=I[1],he=(0,z.useRef)(null),we=function(){X.ZP.success("\u590D\u5236\u6210\u529F")},Le=function(){Te((0,q.BK)(F?.time))},Be=function(){Le(),he.current=setInterval(function(){Le()},6e4)};return(0,z.useEffect)(function(){return F!=null&&F.time&&Be(),function(){he.current!==null&&(clearInterval(he.current),he.current=null)}},[F?.time]),(0,a.jsxs)("div",{className:Se(ue.container,"flex","content-between","items-center"),children:[(0,a.jsx)("div",{className:Se("flex",ue["more-action"]),children:(0,a.jsx)(ae.Z,{text:F?.text||"",onCopy:we,children:"\u590D\u5236"})}),(0,a.jsx)("span",{children:r})]})},Q=Me,w={"xagi-nav-style2":"xagi-nav-style2___C6M16",text:"text___s3NJ6","page-container":"page-container___wYf4F",container:"container___zSEQO",avatar:"avatar___IfDvJ",author:"author___AmRDb","agent-title-bar":"agent-title-bar___Y8m62","attach-file-container":"attach-file-container___xvbrf",userContainer:"userContainer___sPaST","user-content":"user-content___M5R1a","chat-content":"chat-content___FWF0e","inner-container":"inner-container___rireg","think-content":"think-content___Qas0a","user-action-box":"user-action-box___T2sE4","copy-btn":"copy-btn___vb1lQ","copy-image":"copy-image___Hbxu3"},K=e(51418),P=N().bind(w),B=(0,z.memo)(function(t){var _,F=t.className,L=t.contentClassName,I=t.roleInfo,r=t.messageInfo,Te=t.mode,he=Te===void 0?"chat":Te,we=t.conversationId,Le=we===void 0?"":we,Be=(0,D.useModel)("userInfo"),ye=Be.userInfo,de=(0,S.K)(),Y=de.data,me=Y.antdTheme==="dark",ge=(0,M.Z)({answer:r?.text||"",thinking:r?.think||"",id:r?.id||""}),ee=ge.markdownRef,ce=ge.messageIdRef,U=ye||JSON.parse(localStorage.getItem(A.CD)),ne=function(){var oe=I.assistant,Fe=I.system;switch(r?.role){case J.hZ.USER:return{name:U?.nickName||U?.userName||"\u6E38\u5BA2",avatar:U?.avatar||W};case J.hZ.ASSISTANT:return{name:oe.name,avatar:oe.avatar||s};case J.hZ.SYSTEM:return{name:Fe.name,avatar:Fe.avatar||s}}}(),se=function(){X.ZP.success("\u590D\u5236\u6210\u529F")},pe=(0,z.useCallback)(function(oe){return oe.replace(/^\s+|\s+$/g,"")},[]),Ce=(0,z.useMemo)(function(){return r?.role===J.hZ.USER},[r?.role]),Ae=v.Z.useToken(),Ie=Ae.token;return(0,a.jsx)("div",{className:P(w.container,"flex",F),children:(0,a.jsxs)("div",{className:P("flex-1","overflow-hide",E()({},w.userContainer,Ce)),children:[!Ce&&(0,a.jsxs)("div",{className:P(w["agent-title-bar"]),children:[(0,a.jsx)("img",{className:P(w.avatar),src:ne?.avatar,alt:"",onError:function(Fe){Fe.currentTarget.onerror=null,Fe.currentTarget.src=s}}),(0,a.jsx)("div",{className:P(w.author),children:ne?.name}),(0,a.jsx)(c.Z,{condition:!!(r!=null&&r.status),children:(0,a.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:12},children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(K.Z,{messageInfo:r})})})})]}),!!(r!=null&&(_=r.attachments)!==null&&_!==void 0&&_.length)&&(0,a.jsx)("div",{className:P(w["attach-file-container"]),children:(0,a.jsx)(R.Z,{files:r?.attachments})}),Ce&&!!(r!=null&&r.text)&&(0,a.jsxs)("div",{className:P(w["user-content"]),children:[(0,a.jsx)("div",{className:P(w["chat-content"],w.user,"radius-6",L,"ds-markdown",{"ds-markdown-dark":me}),children:(0,a.jsx)("div",{className:"ds-markdown-answer",children:(0,a.jsx)("div",{style:{whiteSpace:"pre-wrap"},className:"ds-markdown-paragraph ds-typed-answer",children:pe(r?.text)})})}),(0,a.jsx)("div",{className:P(w["user-action-box"],"flex","items-center"),children:(0,a.jsx)(ae.Z,{text:r.text||"",onCopy:se,children:"\u590D\u5236"})})]}),(0,a.jsxs)(c.Z,{condition:r?.role!==J.hZ.USER,children:[(!!(r!=null&&r.think)||!!(r!=null&&r.text))&&(0,a.jsx)("div",{className:P(w["inner-container"],L),children:(0,a.jsx)("div",{className:P(w["chat-content"],"radius-6","w-full",E()({},w.typing,r.status===y.ge.Incomplete||r.status===y.ge.Loading)),children:(0,a.jsx)(Z.ZP,{id:"".concat(ce.current),markdownRef:ee,conversationId:Le},"".concat(ce.current))})}),(0,a.jsx)(c.Z,{condition:r&&(r?.status===y.ge.Complete||!(r!=null&&r.status)),children:he==="chat"?(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12,padding:"0 ".concat(Ie.paddingXS,"px")},children:[(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(fe,{messageInfo:r})}),(0,a.jsx)(k,{messageInfo:r})]}):he==="home"?(0,a.jsx)(Q,{messageInfo:r}):null})]})]})})},function(t,_){return(0,H.isEqual)(t.messageInfo,_.messageInfo)}),te=B},33967:function(Ee,ie,e){e.d(ie,{Z:function(){return z}});var G=e(82092),E=e.n(G),s=e(40470),W=e(65773),ae=e(91165),R=e(28327),c=e(30799),Z=e(99833),A=e(94581),M=e.n(A),S=e(75271),J=e(10008),y={container:"container___pzeXE",avatar:"avatar___QNC2R",author:"author___eO9xt","inner-container":"inner-container___MiyBz","think-content":"think-content___NYHs_","chat-content":"chat-content___voyQR"},X=e(51418),v=e(52676),g=M().bind(y),N=function(T){switch(T){case Z.vQ.JavaScript:return"js";case Z.vQ.Python:return"python";case Z.vQ.JSON:return"json";case Z.vQ.Text:return"plaintext";default:return"plaintext"}},H=function(T){var p,C=T.className,le=T.contentClassName,a=T.messageInfo,O=T.codeLanguage,V=O===void 0?Z.vQ.Text:O,k=T.theme,b=k===void 0?"light":k,xe=(0,S.useCallback)(function(Re){var q=N(V);return q==="plaintext"?Re:Re.replace(/```/,"```".concat(q))},[V]),j=(0,ae.Z)({answer:xe(a?.text||""),thinking:a?.think||"",id:a?.id||""}),fe=j.markdownRef,Pe=j.messageIdRef;return(0,v.jsx)("div",{className:g(y.container,"flex",C),children:(0,v.jsxs)("div",{className:g("flex-1"),children:[!!(a!=null&&(p=a.attachments)!==null&&p!==void 0&&p.length)&&(0,v.jsx)(s.Z,{files:a?.attachments}),(0,v.jsxs)(W.Z,{condition:a?.role!==R.hZ.USER,children:[a.status!==c.ge.Complete&&(0,v.jsx)(W.Z,{condition:!!(a!=null&&a.status),children:(0,v.jsx)(X.Z,{messageInfo:a})}),(!!(a!=null&&a.think)||!!(a!=null&&a.text))&&(0,v.jsx)("div",{className:g(y["inner-container"],le),children:(0,v.jsx)("div",{className:g(y["chat-content"],"radius-6","w-full",E()({},y.typing,a.status===c.ge.Incomplete||a.status===c.ge.Loading)),children:(0,v.jsx)(J.ZP,{id:"".concat(Pe.current),headerActions:!1,markdownRef:fe,theme:b},"".concat(Pe.current))})})]})]})})},z=H},74520:function(Ee,ie,e){e.d(ie,{Z:function(){return Pe}});var G=e(26068),E=e.n(G),s=e(90228),W=e.n(s),ae=e(87999),R=e.n(ae),c=e(48305),Z=e.n(c),A=e(35044),M=e(33967),S=e(46819),J=e(14719),y=e(9504),X=e(63619),v=e(94581),g=e.n(v),N=e(75271),H=e(53586),z=e(92448),D={"xagi-nav-style2":"xagi-nav-style2___L67Dx",text:"text___aDdRi","page-container":"page-container___MncNy",btn:"btn___JOPmv","chat-wrapper":"chat-wrapper___PS6Tu","replace-btn":"replace-btn___AEijv",footer:"footer___MV0En","code-optimize-view":"code-optimize-view___XMSmw","chat-input":"chat-input___wgxG5",input:"input___WoXKg","icon-box":"icon-box___cHWvw","send-image":"send-image___kjNJy"},T=e(52676),p=g().bind(D),C=function(q){var ue,Se,Me=q.title,Q=q.open,w=q.onCancel,K=q.onReplace,P=q.codeLanguage,B=(0,N.useState)(""),te=Z()(B,2),t=te[0],_=te[1],F=(0,H.useModel)("assistantOptimize"),L=F.messageList,I=F.setMessageList,r=F.onMessageSend,Te=F.messageViewRef,he=F.allowAutoScrollRef,we=F.resetInit,Le=(0,N.useState)(""),Be=Z()(Le,2),ye=Be[0],de=Be[1];(0,N.useEffect)(function(){return de((0,z.Z)()),function(){we()}},[]),(0,N.useEffect)(function(){var ge=Te.current;if(ge){var ee=function(){var U=ge.scrollTop,ne=ge.scrollHeight,se=ge.clientHeight;U+se<ne?he.current=!1:he.current=!0};return ge.addEventListener("scroll",ee),function(){ge.removeEventListener("scroll",ee)}}},[]);var Y=function(){var ge=R()(W()().mark(function ee(){var ce;return W()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:I([]),t&&(_(""),ce={requestId:ye,prompt:t,codeLanguage:P},r(ce,S.L.code));case 2:case"end":return ne.stop()}},ee)}));return function(){return ge.apply(this,arguments)}}(),me=function(ee){var ce=ee.target,U=ce.value;if(ee.nativeEvent.keyCode===13&&(ee.nativeEvent.shiftKey||ee.nativeEvent.ctrlKey))_(U);else if(ee.nativeEvent.keyCode===13&&U.trim()){ee.preventDefault();var ne={requestId:ye,prompt:t,codeLanguage:P};r(ne,S.L.code),_("")}};return(0,T.jsxs)(J.Z,{title:Me,open:Q,onCancel:function(ee){I([]),w?.(ee)},maskClosable:!1,footer:null,children:[(0,T.jsx)("div",{ref:Te,className:p(D["chat-wrapper"],"flex-1"),children:L?.length>0?(0,T.jsx)(T.Fragment,{children:L?.map(function(ge,ee){return(0,T.jsx)(M.Z,{ifShowReplace:!0,onReplace:K,theme:"dark",codeLanguage:P,messageInfo:ge,contentClassName:p(D["code-optimize-view"])},ee)})}):(0,T.jsx)("div",{})}),L?.length>0?(0,T.jsxs)("div",{className:p("flex"),children:[(0,T.jsx)(y.ZP,{className:p(D["replace-btn"],D.btn),loading:(L==null||(ue=L[L?.length-1])===null||ue===void 0?void 0:ue.status)!=="complete",disabled:(L==null||(Se=L[L?.length-1])===null||Se===void 0?void 0:Se.status)!=="complete",onClick:function(){var ee;return K?.(L==null||(ee=L[L?.length-1])===null||ee===void 0?void 0:ee.text)},children:"\u66FF\u6362"}),(0,T.jsx)(y.ZP,{onClick:function(ee){I([]),w?.(ee)},className:p(D.btn,"ml-10 "),children:"\u9000\u51FA"})]}):(0,T.jsx)("div",{}),(0,T.jsx)("div",{className:p(D.footer,"flex","items-center"),children:(0,T.jsxs)("div",{className:p(D["chat-input"],"flex","items-center","w-full"),children:[(0,T.jsx)(X.Z.TextArea,{value:t,onChange:function(ee){return _(ee.target.value)},rootClassName:D.input,onPressEnter:me,placeholder:"\u8BF7\u63CF\u8FF0\u4F60\u7684\u5177\u4F53\u4E1A\u52A1\u9700\u6C42\uFF0C\u903B\u8F91\u5C3D\u91CF\u63CF\u8FF0\u8BE6\u7EC6",autoSize:{minRows:1,maxRows:3}}),(0,T.jsx)("img",{onClick:function(){return Y()},className:p(D["send-image"],"cursor-pointer"),src:A,alt:""})]})})]})},le=C,a=e(35843),O=e(99833),V=e(56101),k=e(28190),b=e(34684),xe=e(85238),j=e(65773),fe=function(q){var ue=q.value,Se=ue===void 0?"":ue,Me=q.className,Q=q.onChange,w=q.height,K=w===void 0?"400px":w,P=q.codeLanguage,B=q.minimap,te=B===void 0?!1:B,t=q.form,_=q.codeOptimizeVisible,F=_===void 0?!0:_,L=q.readOnly,I=L===void 0?!1:L,r=q.editorOptions,Te=(0,N.useState)(!1),he=Z()(Te,2),we=he[0],Le=he[1],Be=(0,N.useState)(!1),ye=Z()(Be,2),de=ye[0],Y=ye[1],me=(0,H.useModel)("model"),ge=me.testRun;if((0,N.useEffect)(function(){V._m.config({monaco:xe,paths:{vs:"/vs"}});var U=function(){var ne=R()(W()().mark(function se(){var pe,Ce,Ae;return W()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.prev=0,oe.next=3,e.e(1679).then(e.bind(e,61679));case 3:return pe=oe.sent,Ce=pe.conf,Ae=pe.language,oe.next=8,V._m.init();case 8:xe.languages.register({id:"python"}),xe.languages.setMonarchTokensProvider("python",Ae),xe.languages.setLanguageConfiguration("python",Ce),window.MonacoEnvironment={getWorkerUrl:function(Ke,We){return We==="json"?"/vs/json.worker.js":We==="typescript"||We==="javascript"||We==="python"?"/vs/ts.worker.js":"/vs/editor.worker.js"}},Le(!0),oe.next=18;break;case 15:oe.prev=15,oe.t0=oe.catch(0),console.error("Failed to initialize Monaco Editor:",oe.t0);case 18:case"end":return oe.stop()}},se,null,[[0,15]])}));return function(){return ne.apply(this,arguments)}}();U()},[]),!we)return(0,T.jsx)("div",{children:"Loading editor..."});var ee=function(ne){Q&&Q(ne||"")},ce=function(ne){var se=ne||{},pe=E()({selectOnLineNumbers:!0,folding:!0,automaticLayout:!0,minimap:{enabled:te},readOnly:I},se);return P?.toLowerCase()==="json"?E()(E()({},pe),{},{quickSuggestions:!1,suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",tabCompletion:"off",wordBasedSuggestions:!1,parameterHints:{enabled:!1},hover:{enabled:!1},snippetSuggestions:"none"}):pe};return(0,T.jsxs)(T.Fragment,{children:[t?(0,T.jsx)(k.Z.Item,{noStyle:!0,name:t?.getFieldValue("codeLanguage")===O.vQ.JavaScript?"codeJavaScript":"codePython",children:(0,T.jsx)(V.ZP,{className:Me,height:K,language:P?.toLowerCase(),theme:"vs-dark",value:Se,onChange:ee,options:ce(r)})}):(0,T.jsx)(V.ZP,{className:Me,height:K,language:P?.toLowerCase(),theme:"vs-dark",value:Se,onChange:ee,options:ce(r)}),(0,T.jsxs)(j.Z,{condition:F&&!I,children:[(0,T.jsx)(b.Z,{shape:"circle",type:"primary",style:{insetInlineEnd:94,display:ge?"none":"block"},icon:(0,T.jsx)(a.jY,{}),tooltip:"\u4EE3\u7801\u52A9\u624B",onClick:function(){Y(!0)}}),(0,T.jsx)(le,{title:"\u4EE3\u7801\u52A9\u624B",open:de,codeLanguage:P,onCancel:function(){Y(!1)},onReplace:function(ne){if(ne){var se=ne;se.includes("```")&&(se=se.replace(/```/g,"")),Q?.(se||""),Y(!1)}}})]})]})},Pe=fe},10008:function(Ee,ie,e){e.d(ie,{fq:function(){return en},ZP:function(){return tn}});var G=e(94581),E=e.n(G),s=e(75271),W=e(8530),ae=e(66601),R=e(23687),c={theme:"default",flowchart:{useMaxWidth:!0,htmlLabels:!0},sequence:{diagramMarginX:50,diagramMarginY:10},suppressErrorRendering:!1},Z=(0,R.R4)({id:R.qM,rehypePlugin:[ae.dV,{mermaidConfig:c}],components:{mermaidblock:ae.rM}}),A=Z,M=e(42395),S=e(92163),J=e(647),y=e(203),X=e(46703),v=e(31759),g=e.n(v),N=e(26068),H=e.n(N),z=e(48305),D=e.n(z),T=e(28327),p=e(30799),C=e(2201),le=e(3642),a=e(93209),O=e(57369),V=e(27190),k=e(65921),b=e(57683),xe=e(67926),j=e(68659),fe=e(21862),Pe=e(16621),Re=e(41249),q=e(68108),ue=e(9504),Se=e(32699),Me=e(53586),Q={"xagi-nav-style2":"xagi-nav-style2___LR8qt",text:"text___GOSuV","page-container":"page-container___rB1Af","markdown-custom-process":"markdown-custom-process___XbvIR","process-header":"process-header___PbJv3","process-title":"process-title___D5O_C","process-controls":"process-controls___dihqk","status-completed":"status-completed___MeIxv",anticon:"anticon___IplOJ","status-running":"status-running___DB0Uo","loading-spinner":"loading-spinner___UooYw",spin:"spin___XLinb","status-error":"status-error___YZemo","control-btn":"control-btn___ufUOD","process-controls-actions":"process-controls-actions___qY3sV","process-content":"process-content___ntUHU","default-content":"default-content___IvKuJ","plan-details":"plan-details___Q70AV","plan-task-list":"plan-task-list___yyv_o","plan-task-item":"plan-task-item___gLPp_","task-icon":"task-icon___VRIsD","plan-task-text":"plan-task-text___BVJJd"},w=e(74520),K=e(83677),P=e(99833),B=e(14719),te={"see-detail-modal":"see-detail-modal___O4Htz","see-detail-header":"see-detail-header___ckdmQ","see-detail-header-title":"see-detail-header-title___aaWbf","see-detail-header-actions":"see-detail-header-actions___Kj3tI","see-detail-content":"see-detail-content___K7JsV"},t=e(52676),_=E().bind(te),F=function(i){var l=i.visible,n=i.onClose,u=i.data,d=i.title;return!u||!l?null:(0,t.jsx)(B.Z,{open:l,onCancel:n,footer:null,width:800,className:_(te["see-detail-modal"]),destroyOnHidden:!0,title:(0,t.jsxs)("div",{className:_(te["see-detail-header"]),children:[(0,t.jsx)("div",{className:_(te["see-detail-header-title"]),children:d}),(0,t.jsx)("div",{className:_(te["see-detail-header-actions"]),children:(0,t.jsx)(K.Z,{data:u,jsonSpace:2,tooltipTitle:"\u590D\u5236\u8BE6\u60C5\u6570\u636E",successMessage:"\u8BE6\u60C5\u6570\u636E\u5DF2\u590D\u5236",errorMessage:"\u8BE6\u60C5\u6570\u636E\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"})})]}),children:(0,t.jsx)("div",{className:_(te["see-detail-content"]),children:(0,t.jsx)(w.Z,{height:"400px",codeLanguage:P.vQ.JSON,value:JSON.stringify(u,null,2),codeOptimizeVisible:!1,minimap:!1,readOnly:!0,editorOptions:{wordWrap:"bounded",wrappingStrategy:"advanced",wrappingIndent:"indent",scrollBeyondLastLine:!1,minimap:{enabled:!1}}})})})},L=F,I=E().bind(Q);function r(m){var i=(0,Me.useModel)("chat"),l=i.getProcessingById,n=i.processingList,u=i.pagePreviewData,d=i.showPagePreview,f=i.agentPageConfig,$=(0,s.useState)(null),x=D()($,2),o=x[0],re=x[1],ve=(0,s.useState)(H()(H()({},m),{},{result:""})),Ne=D()(ve,2),h=Ne[0],Ze=Ne[1],Ue=(0,s.useState)(!1),ke=D()(Ue,2),Ve=ke[0],ze=ke[1],be=(0,s.useState)(!0),$e=D()(be,2),He=$e[0],qe=$e[1];(0,s.useEffect)(function(){var je=l(h.executeId);je&&(je?.status!==h.status||!(0,Se.isEqual)(je.result,h.result))&&Ze(je)},[n,h.executeId]);var Ye=(0,s.useCallback)(function(){switch(h.status){case p.Xk.FINISHED:return(0,t.jsx)("div",{className:I(Q["status-completed"]),children:(0,t.jsx)(le.Z,{})});case p.Xk.EXECUTING:return(0,t.jsx)("div",{className:I(Q["status-running"]),children:(0,t.jsx)("div",{className:I(Q["loading-spinner"])})});case p.Xk.FAILED:return(0,t.jsx)("div",{className:I(Q["status-error"]),children:"\u26A0\uFE0F"});default:return null}},[h.status]),Ge=(0,s.useCallback)(function(je){if(!je)return null;var Oe=(0,C.Xh)(je);return{params:Oe.input||{},response:Oe.data||null}},[]);(0,s.useEffect)(function(){if(h.executeId&&(h.status===p.Xk.FINISHED||h.status===p.Xk.FAILED)){var je=Ge(h.result);if(o&&(0,Se.isEqual)(je,o))return;re(je)}},[h.executeId,h.status,h.result,h.type,h.name,f.expandPageArea,d,Ge]);var an=(0,s.useMemo)(function(){return!(o&&(h.status===p.Xk.FINISHED||h.status===p.Xk.FAILED))||!1},[h.status,o]),De=(0,s.useCallback)(function(){if(console.log("innerProcessing",h),!o){Re.ZP.error("\u6682\u65E0\u6570\u636E");return}ze(!0)},[o]),ln=(0,s.useMemo)(function(){return h.type===T.qR.Page},[h.type]),rn=(0,s.useMemo)(function(){return h.type===T.qR.Plan},[h.type]),sn=(0,s.useCallback)(function(je){var Oe={className:I(Q["task-icon"])};switch(je){case"completed":return(0,t.jsx)(a.Z,H()({},Oe));case"pending":return(0,t.jsx)(O.Z,H()({},Oe));case"failed":return(0,t.jsx)(V.Z,H()({},Oe));case"in_progress":return(0,t.jsx)(k.Z,H()({},Oe));default:return(0,t.jsx)(O.Z,H()({},Oe))}},[]),un=(0,s.useCallback)(function(){return!rn||!He||!(o!=null&&o.response)||!Array.isArray(o.response)?null:(0,t.jsx)("div",{className:I(Q["plan-details"]),children:(0,t.jsx)("div",{className:I(Q["plan-task-list"]),children:o.response.map(function(je,Oe){return(0,t.jsxs)("div",{className:I(Q["plan-task-item"]),children:[sn(je.status),(0,t.jsx)("span",{className:I(Q["plan-task-text"]),children:je.content})]},Oe)})})})},[rn,He,o?.response,sn]),dn=(0,s.useState)(!1),on=D()(dn,2),cn=on[0],nn=on[1],vn=function(){var Oe=h.result;if(!(!Oe||g()(Oe)!=="object")){var Qe=Oe.input;if(!Qe.uri_type||Qe.uri_type==="Page"){var fn={uri:Qe.uri,params:Qe.arguments||{},method:"",request_id:"",data_type:""};d(fn)}if(Qe.uri_type==="Link"){var hn=new URLSearchParams(Qe.arguments).toString(),gn="".concat(Qe.uri,"?").concat(hn);window.open(gn,"_blank")}}},mn=(0,s.useCallback)(function(){if(nn(!1),u){d(null);return}vn()},[o,h,d,u]);return!h.executeId||h.type===T.qR.Event?null:(0,t.jsxs)("div",{className:I(Q["markdown-custom-process"]),"data-key":m.dataKey,children:[(0,t.jsxs)("div",{className:I(Q["process-header"]),children:[(0,t.jsx)("div",{className:I(Q["process-title"]),children:h.name||"\u6682\u65E0\u540D\u79F0"}),(0,t.jsxs)("div",{className:I(Q["process-controls"]),children:[Ye(),(0,t.jsxs)("div",{className:I(Q["process-controls-actions"]),children:[(0,t.jsx)(q.Z,{title:"\u67E5\u770B\u8BE6\u60C5",children:(0,t.jsx)(ue.ZP,{type:"text",disabled:an,icon:(0,t.jsx)(b.Z,{}),onClick:De})}),ln?(0,t.jsx)(q.Z,{title:u?"\u5173\u95ED\u9884\u89C8":"\u9884\u89C8\u9875\u9762",open:cn,onOpenChange:nn,children:(0,t.jsx)(ue.ZP,{type:"text",disabled:an,icon:u?(0,t.jsx)(xe.Z,{}):(0,t.jsx)(j.Z,{}),onClick:mn,onMouseEnter:function(){return nn(!0)},onMouseLeave:function(){return nn(!1)}})}):null,rn&&(0,t.jsx)(q.Z,{title:He?"\u6536\u8D77":"\u5C55\u5F00",children:(0,t.jsx)(ue.ZP,{type:"text",icon:He?(0,t.jsx)(fe.Z,{}):(0,t.jsx)(Pe.Z,{}),onClick:function(){return qe(!He)},disabled:!(o!=null&&o.response)||!Array.isArray(o.response)})})]})]})]}),un(),(0,t.jsx)(L,{title:h.name||"\u6682\u65E0\u540D\u79F0",visible:Ve,onClose:function(){return ze(!1)},data:o},h.executeId)]},m.dataKey)}var Te=(0,s.memo)(r,function(m,i){return m.executeId===i.executeId&&m.status===i.status}),he=e(94484),we=e(35843),Le=(0,s.memo)(function(m){var i=m.src,l=m.containerClassNames,n=m.containerStyles,u=m.styles,d=m.alt,f=d===void 0?"":d,$=m.dataKey,x=(0,s.useState)(!1),o=D()(x,2),re=o[0],ve=o[1],Ne=(0,s.useCallback)(function(){},[]),h=(0,s.useMemo)(function(){if(l)return Array.isArray(l)?l.join(" "):l},[l]);return(0,t.jsx)("span",{"data-key":$,className:h||W.Z["image-container"],style:H()(H()({},n),{},{display:"inline-block",width:"100%"}),onClick:function(){ve(!0)},children:(0,t.jsx)(he.Z,{src:i,fallback:we.Pc,onError:Ne,style:u,alt:f,preview:re?{visible:re,src:i,onVisibleChange:ve}:!1})},$)},function(m,i){return m.src===i.src}),Be=Le,ye=e(31178),de=e(27806),Y={"task-result":"task-result___qfosd","task-result-icon":"task-result-icon___KGaru","task-result-action":"task-result-action___VIKdf","task-result-separator":"task-result-separator___F2SGB","task-result-arrow":"task-result-arrow___DHJpE"},me=E().bind(Y),ge=function(i){var l=i.children,n=i.node,u=i.conversationId,d=(0,Me.useModel)("conversationInfo"),f=d.openPreviewView,$=d.setTaskAgentSelectedFileId,x=n?.position||{},o=x.end,re=o===void 0?{offset:0}:o,ve=re.offset,Ne=x.start,h=Ne===void 0?{offset:0}:Ne,Ze=h.offset,Ue="".concat(Ze,"-").concat(ve,"-task-result");if(!l)return null;try{var ke=l?.filter(function(be){return be.type==="description"}).map(function(be){return be.props.children}).join(""),Ve=l?.filter(function(be){return be.type==="file"}).map(function(be){return be.props.children}).join("");if(!Ve)return null;var ze=function(){f(u);var $e=Ve.split("".concat(u,"/")).pop();$($e)};return(0,t.jsxs)("div",{"data-key":Ue,className:me(Y["task-result"]),onClick:ze,title:ke||Ve,children:[(0,t.jsx)("span",{className:me(Y["task-result-icon"]),children:(0,t.jsx)(ye.Z,{})}),(0,t.jsx)("span",{className:me(Y["task-result-action"]),children:ke||Ve}),(0,t.jsx)("span",{className:me(Y["task-result-arrow"]),children:(0,t.jsx)(de.Z,{})})]},Ue)}catch(be){return console.warn("TaskResult error",be),null}},ee=ge,ce=e(335),U=e.n(ce),ne=e(15558),se=e.n(ne),pe=function(i){try{var l="",n=function u(d){var f;return typeof d=="string"?d:typeof d=="number"?String(d):Array.isArray(d)?d.map(u).join(""):d!=null&&(f=d.props)!==null&&f!==void 0&&f.children?u(d.props.children):""};return l=n(i),l.replace(/\s+/g," ").trim()}catch(u){return console.warn("\u63D0\u53D6\u8868\u683C\u5355\u5143\u683C\u5185\u5BB9\u5931\u8D25:",u),""}},Ce=function(i){try{var l,n=[],u=function d(f){if(Array.isArray(f))f.forEach(function(x){var o;if(x?.type==="td"||x?.type==="th"){var re=pe(x);n.push(re)}else x!=null&&(o=x.props)!==null&&o!==void 0&&o.children&&d(x.props.children)});else if(f?.type==="td"||f?.type==="th"){var $=pe(f);n.push($)}};return i!=null&&(l=i.props)!==null&&l!==void 0&&l.children?u(i.props.children):i!=null&&i.children&&u(i.children),n.length>0?"|"+n.map(function(d){return" ".concat(d.trim()," ")}).join("|")+"|":""}catch(d){return console.warn("\u63D0\u53D6\u8868\u683C\u884C\u5185\u5BB9\u5931\u8D25:",d),""}},Ae=function(i){try{var l,n=[];if(i!=null&&(l=i.props)!==null&&l!==void 0&&l.children){var u=i.props.children;if(Array.isArray(u))u.forEach(function(f){if(f?.type==="tr"){var $=Ce(f);$&&n.push($)}});else if(u?.type==="tr"){var d=Ce(u);d&&n.push(d)}}return n}catch(f){return console.warn("\u63D0\u53D6\u8868\u683C\u533A\u57DF\u5185\u5BB9\u5931\u8D25:",f),[]}},Ie=function m(i){try{if(typeof i=="string")return i;if(Array.isArray(i)){var l=[],n=!1;if(i.forEach(function(o){var re;if(o?.type==="thead"){var ve=Ae(o);l.push.apply(l,se()(ve)),n=!0}else if(o?.type==="tbody"){var Ne=Ae(o);l.push.apply(l,se()(Ne))}else if(o?.type==="tr"){var h=Ce(o);h&&l.push(h)}else if(o!=null&&(re=o.props)!==null&&re!==void 0&&re.children){var Ze=m(o.props.children);Ze&&l.push(Ze)}}),l.length>0){if(n&&l.length>1){var u=l[0];if(u){var d=(u.match(/\|/g)||[]).length-1,f="|"+"---|".repeat(d),$=[l[0],f].concat(se()(l.slice(1)));return $.join(`
`)}}return l.join(`
`)}}if(g()(i)==="object"&&i!==null){var x=i?.props;if(x!=null&&x.children)return m(x.children)}return""}catch(o){return console.warn("\u63D0\u53D6\u8868\u683C\u5185\u5BB9\u5931\u8D25:",o),""}},oe=[{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}];function Fe(m){return function(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=i.length,u=l,d=U()(m),f;try{for(d.s();!(f=d.n()).done;){var $=f.value,x=$.left,o=$.right,re=$.display;if(i.slice(u).startsWith(x)){for(var ve=u+x.length;ve<n&&!i.slice(ve).startsWith(o);)ve++;if(!(ve>=n)){var Ne=i.slice(u+x.length,ve),h=ve+o.length;return{formula:Ne,display:re,start:u,end:h,left:x,right:o,success:!0}}}}}catch(Ze){d.e(Ze)}finally{d.f()}return{formula:"",display:!1,start:0,end:0,left:"",right:"",success:!1}}}function Ke(m){for(var i=oe.filter(function($){return!$.left.includes("$")&&!$.right.includes("$")}),l=Fe(i),n="",u=0;u<m.length;){var d=l(m,u);if(d.success){n+=m.slice(u,d.start);var f=d.display?"$$":"$";n+="".concat(f).concat(d.formula).concat(f),u=d.end}else n+=m[u],u++}return n}var We=E().bind(W.Z),_e=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return(0,R.R4)({rehypePlugin:[y.Z,X.Z],components:{"markdown-custom-process":function(l){var n=l.node,u=l.type,d=l.status,f=l.executeid,$=l.name,x=n?.position||{},o=x.end.offset,re=x.start.offset,ve="".concat(re,"-").concat(o,"-process");return(0,t.jsx)(Te,{dataKey:ve,type:u,status:d,executeId:f,name:decodeURIComponent($||"")},ve)},table:function(l){var n=l.children,u=l.node,d=(0,M.ls)(),f=d.theme,$=d.codeBlock,x=$===void 0?{}:$,o=x.headerActions,re=o===void 0?!1:o,ve=u?.position||{},Ne=ve.end.offset,h=ve.start.offset,Ze="".concat(h,"-").concat(Ne,"-list"),Ue=Ie(n);return(0,t.jsx)("div",{"data-key":Ze,style:{display:"block"},children:(0,t.jsx)("div",{className:W.Z["table-wrapper"],children:(0,t.jsxs)("div",{className:"md-code-block md-code-block-".concat(f),children:[re&&(0,t.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,t.jsx)("div",{className:"md-code-block-banner md-code-block-banner-lite",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"md-code-block-language",children:"\u8868\u683C"}),(0,t.jsx)(M.GR,{language:"markdown",codeContent:Ue})]})})}),(0,t.jsx)("div",{className:"md-code-block-content scrollbar",children:(0,t.jsx)("table",{className:We(W.Z["markdown-table"]),children:n})})]})})},Ze)},img:function(l){var n=l.src,u=l.alt,d=l.title,f=l.node;if(!n)return null;var $=f?.position||{},x=$.end.offset,o=$.start.offset,re="".concat(o,"-").concat(x,"-img");return(0,t.jsx)(Be,{dataKey:re,containerClassNames:W.Z["markdown-image-container"],src:n,alt:u,title:d},re)},"task-result":function(l){var n=l.children,u=l.node;return(0,t.jsx)(ee,{node:u,conversationId:m,children:n})}},id:Symbol("custom-plugin"),type:"custom"})},Je=E().bind(W.Z),Xe=(0,s.memo)(function(m){var i=m.id,l=i===void 0?"":i,n=m.conversationId,u=n===void 0?"":n,d=m.className,f=m.markdownRef,$=m.headerActions,x=$===void 0?!0:$,o=m.disableTyping,re=o===void 0?!0:o,ve=m.theme,Ne=ve===void 0?"light":ve,h=(0,s.useRef)(null),Ze=(0,s.useMemo)(function(){return[A,R.wg,_e(u)]},[]),Ue=(0,s.useMemo)(function(){return c},[]);return(0,t.jsx)("div",{ref:h,id:"".concat(l),"data-key":"".concat(l),className:Je(W.Z["markdown-container"],d),children:(0,t.jsx)(M.iV,{mermaidConfig:Ue,children:(0,t.jsx)(M.Hh,{ref:f,timerType:"requestAnimationFrame",interval:30,plugins:Ze,codeBlock:{headerActions:x},theme:Ne,math:{splitSymbol:"bracket",replaceMathBracket:Ke},disableTyping:re})})},"".concat(l))},function(m,i){return m.id===i.id}),en=(0,s.memo)(function(m){var i=m.id,l=i===void 0?"":i,n=m.className,u=n===void 0?"":n,d=m.children,f=m.theme,$=f===void 0?"light":f,x=m.disableTyping,o=x===void 0?!1:x,re=m.interval,ve=re===void 0?30:re,Ne=m.timerType,h=Ne===void 0?"requestAnimationFrame":Ne,Ze=m.conversationId,Ue=Ze===void 0?"":Ze,ke=(0,s.useMemo)(function(){return[R.wg,_e(Ue)]},[]);return(0,t.jsx)("div",{id:"".concat(l),"data-key":"".concat(l),className:Je(W.Z["markdown-container"],u),children:(0,t.jsx)(M.iV,{children:(0,t.jsx)(M.ZP,{interval:ve,timerType:h,disableTyping:o,plugins:ke,codeBlock:{headerActions:!1},theme:$,math:{splitSymbol:"bracket",replaceMathBracket:Ke},children:d})})},"".concat(l))},function(m,i){return m.id===i.id&&m.theme===i.theme&&m.children===i.children&&m.disableTyping===i.disableTyping}),tn=Xe},75811:function(Ee,ie,e){e.d(ie,{Z:function(){return D}});var G=e(48305),E=e.n(G),s=e(28327),W=e(60393),ae=e(13143),R=e(28246),c=e(63619),Z=e(51249),A=e(28190),M=e(9504),S=e(94581),J=e.n(S),y=e(75271),X=e(65773),v={"xagi-nav-style2":"xagi-nav-style2___y6MJu",text:"text___XcdJn","page-container":"page-container___aQb4E","variables-box":"variables-box___zOde3",header:"header____mIzl","down-icon":"down-icon___nE2JF","rotate-90":"rotate-90___n3jXV","conversation-container":"conversation-container___wfpdk","close-form":"close-form___uaNXu","form-box":"form-box___AloSZ",desc:"desc___XIVD5"},g=e(52676),N=J().bind(v),H=R.Z.SHOW_CHILD,z=function(p){var C=p.className,le=p.form,a=p.isFilled,O=a===void 0?!1:a,V=p.disabled,k=V===void 0?!1:V,b=p.showSubmitButton,xe=b===void 0?!1:b,j=p.variables,fe=p.userFillVariables,Pe=p.onConfirm,Re=(0,y.useState)(!0),q=E()(Re,2),ue=q[0],Se=q[1];(0,y.useEffect)(function(){fe&&le.setFieldsValue(fe)},[le,fe]);var Me=function(P){Se(!1),Pe?.(P)},Q=ue?v["conversation-container"]:O?v["close-form"]:null,w=function(P){var B,te=P.inputType,t=P.description,_=[s.oI.Select,s.oI.MultipleSelect].includes(te),F;switch(te){case s.oI.Text:F=(0,g.jsx)(c.Z,{variant:"filled",placeholder:t||"\u8BF7\u8F93\u5165",allowClear:!0});break;case s.oI.Paragraph:case s.oI.AutoRecognition:F=(0,g.jsx)(c.Z.TextArea,{variant:"filled",placeholder:t||"\u8BF7\u8F93\u5165",allowClear:!0});break;case s.oI.Number:F=(0,g.jsx)(Z.Z,{variant:"filled",className:"w-full",placeholder:t||"\u8BF7\u8F93\u5165"});break;case s.oI.Select:case s.oI.MultipleSelect:F=(0,g.jsx)(R.Z,{variant:"filled",expandTrigger:"hover",multiple:te===s.oI.MultipleSelect,maxTagCount:"responsive",showCheckedStrategy:H,placeholder:t||"\u8BF7\u9009\u62E9",options:((B=P.selectConfig)===null||B===void 0?void 0:B.options)||[],allowClear:!0});break;default:F=(0,g.jsx)(c.Z,{placeholder:t||"\u8BF7\u8F93\u5165",allowClear:!0})}return{isSelect:_,content:F}};return j!=null&&j.length?(0,g.jsxs)("div",{className:N(v["variables-box"],"flex","flex-col",C),children:[(0,g.jsxs)("header",{className:N(v.header,"flex","items-center","content-between"),children:[(0,g.jsx)("span",{children:"\u5BF9\u8BDD\u8BBE\u7F6E"}),(0,g.jsx)(X.Z,{condition:O,children:(0,g.jsx)("span",{className:N(v.text,"cursor-pointer"),onClick:function(){return Se(!ue)},children:(0,g.jsx)(ae.Z,{className:N(ue?"":v["rotate-90"],v["down-icon"])})})})]}),(0,g.jsxs)("div",{className:N(Q),children:[(0,g.jsxs)(A.Z,{form:le,rootClassName:v["form-box"],disabled:k,preserve:!1,layout:"vertical",onFinish:Me,requiredMark:W.N,autoComplete:"off",children:[j?.map(function(K){var P=K.name,B=K.displayName,te=K.require,t=K.key,_=w(K),F=_.isSelect,L=_.content;return(0,g.jsx)(A.Z.Item,{name:P,label:B,rules:[{required:te,message:"\u8BF7".concat(F?"\u9009\u62E9":"\u8F93\u5165").concat(B)}],children:L},t)}),(0,g.jsx)(X.Z,{condition:xe,children:(0,g.jsx)(A.Z.Item,{children:(0,g.jsx)(M.ZP,{type:"primary",htmlType:"submit",block:!0,children:"\u5F00\u59CB\u5BF9\u8BDD"})})})]}),(0,g.jsx)(X.Z,{condition:k,children:(0,g.jsx)("p",{className:N(v.desc),children:"\u5BF9\u8BDD\u5F00\u59CB\u540E\uFF0C\u5BF9\u8BDD\u8BBE\u7F6E\u5C06\u65E0\u6CD5\u4FEE\u6539\u3002"})})]})]}):null},D=z},52255:function(Ee,ie,e){e.d(ie,{Z:function(){return X}});var G=e(31759),E=e.n(G),s=e(27867),W=e(24573),ae=e(41249),R=e(94581),c=e.n(R),Z=e(75271),A=e(53586),M={"xagi-nav-style2":"xagi-nav-style2___a6A0C",text:"text___ijFbn","page-container":"page-container___AmrXf",container:"container___eQEDc",box:"box___qQPTu",icon:"icon___aN05X"},S=e(52676),J=c().bind(M),y=function(g){var N=g.className,H=g.itemClassName,z=g.loading,D=g.chatSuggestList,T=g.onClick,p=(0,A.useModel)("chat"),C=p.showPagePreview,le=function(V){var k={},b={};if(V.args&&Array.isArray(V.args)&&V.args.forEach(function(fe){fe.inputType==="Path"&&fe.name&&(k[fe.name]=fe.bindValue),fe.inputType==="Query"&&fe.name&&fe.bindValue&&(b[fe.name]=fe.bindValue)}),(0,s.N4)(V.pageUrl,k)){var xe=(0,s.Tx)(V?.pageUrl,k),j="".concat("").concat(xe);C({name:V.info||"\u9875\u9762\u9884\u89C8",uri:j,params:b,executeId:"event-".concat(Date.now())})}else ae.ZP.error("\u9875\u9762\u8DEF\u5F84\u53C2\u6570\u914D\u7F6E\u9519\u8BEF")},a=function(V){if(V.type==="Question"){T(V.info);return}if(V.type==="Page"){if(!V.pageUrl){ae.ZP.error("\u9875\u9762\u8DEF\u5F84\u914D\u7F6E\u9519\u8BEF");return}le(V);return}if(V.type==="Link"){if(!V.url){ae.ZP.error("\u94FE\u63A5\u5730\u5740\u914D\u7F6E\u9519\u8BEF");return}window.open(V.url,"_blank");return}};return z?(0,S.jsx)("div",{className:J("flex",M["loading-box"]),children:(0,S.jsx)(W.Z,{})}):D?.length>0?(0,S.jsx)("div",{className:J(M.container,"flex","flex-col",N),children:D?.map(function(O,V){return!O||E()(O)==="object"&&!O.info||typeof O=="string"&&!O?null:(0,S.jsxs)("div",{onClick:function(){return typeof O=="string"?T(O):a(O)},className:J(M.box,"cursor-pointer","hover-box",H,"text-ellipsis-2"),children:[E()(O)==="object"&&O?.icon&&(0,S.jsx)("img",{className:J(M.icon),src:O?.icon}),typeof O=="string"?O:O.info]},V)})}):null},X=y},57584:function(Ee,ie,e){e.d(ie,{Z:function(){return A}});var G=e(48305),E=e.n(G),s=e(75271),W=e(10894),ae=e.n(W),R={container:"container___nA1pk",left:"left___yCQVL",right:"right___W8W7y",divider:"divider___TKhrM",dragging:"dragging___ur7Jj",disabled:"disabled___tspGS",dragOverlay:"dragOverlay___E5wS3"},c=e(52676),Z=function(S){var J=S.left,y=S.right,X=S.minLeftWidth,v=X===void 0?350:X,g=S.minRightWidth,N=g===void 0?350:g,H=S.defaultLeftWidth,z=H===void 0?50:H,D=S.dividerColor,T=D===void 0?"#e0e0e0":D,p=S.dividerHoverColor,C=p===void 0?"#bbb":p,le=S.dividerDraggingColor,a=le===void 0?"#1890ff":le,O=S.style,V=S.className,k=(0,s.useRef)(null),b=(0,s.useState)(0),xe=E()(b,2),j=xe[0],fe=xe[1],Pe=(0,s.useState)(z),Re=E()(Pe,2),q=Re[0],ue=Re[1],Se=(0,s.useState)(!1),Me=E()(Se,2),Q=Me[0],w=Me[1],K=(0,s.useState)(!1),P=E()(K,2),B=P[0],te=P[1],t=(0,s.useState)(!1),_=E()(t,2),F=_[0],L=_[1],I=(0,s.useRef)(0),r=(0,s.useRef)(null);(0,s.useEffect)(function(){var ce=setTimeout(function(){L(!0)},300);return function(){return clearTimeout(ce)}},[]),(0,s.useEffect)(function(){var ce=function(){if(k.current){var se=k.current.offsetWidth;fe(se),!B&&se>0&&te(!0)}};ce();var U=new ResizeObserver(ce);return k.current&&U.observe(k.current),window.addEventListener("resize",ce),function(){U.disconnect(),window.removeEventListener("resize",ce)}},[B]),(0,s.useEffect)(function(){if(!(!j||!B)){var ce=I.current;if(ce!==j&&!Q){I.current=j;var U;r.current!==null?U=r.current:U=q/100*j;var ne=j-U,se=U<v,pe=ne<N;if(se&&pe){r.current=v;var Ce=v/j*100;ue(Ce);return}if(se){r.current=v;var Ae=v/j*100;ue(Ae);return}if(pe){var Ie=j-N;r.current=Ie;var oe=Ie/j*100;ue(Math.max(0,oe));return}if(r.current!==null){var Fe=r.current/j*100;ue(Fe);return}var Ke=j-N;if(U>Ke){var We=Ke/j*100;ue(We)}}}},[j,B,q,v,N,Q]);var Te=!!J,he=!!y,we=Te&&he,Le=Te&&!he?100:!Te&&he?0:q,Be=!we,ye=(0,s.useCallback)(function(ce,U){if(!(!k.current||j===0)){var ne=U.x,se=ne/j*100,pe=v/j*100,Ce=N/j*100,Ae=100-Ce,Ie=Math.max(pe,Math.min(Ae,se));ue(Ie),r.current!==null&&(r.current=null)}},[j,v,N]),de=(0,s.useCallback)(function(ce){if(!(!k.current||j===0)){var U=k.current.getBoundingClientRect(),ne=ce.clientX-U.left,se=ne/j*100,pe=v/j*100,Ce=N/j*100,Ae=100-Ce,Ie=Math.max(pe,Math.min(Ae,se));ue(Ie),r.current!==null&&(r.current=null)}},[j,v,N]),Y=(0,s.useCallback)(function(){w(!1),document.body.style.userSelect="",document.removeEventListener("mousemove",de),document.removeEventListener("mouseup",Y)},[de]),me=(0,s.useCallback)(function(){w(!0),document.body.style.userSelect="none",document.addEventListener("mousemove",de),document.addEventListener("mouseup",Y)},[de,Y]),ge=(0,s.useCallback)(function(ce,U){if(w(!1),document.body.style.userSelect="",document.removeEventListener("mousemove",de),document.removeEventListener("mouseup",Y),k.current&&j>0){var ne=U.x,se=ne/j*100,pe=v/j*100,Ce=N/j*100,Ae=100-Ce,Ie=Math.max(pe,Math.min(Ae,se));ue(Ie),r.current=null}},[j,v,N,de,Y]),ee={x:q/100*j,y:0};return(0,c.jsxs)("div",{className:"".concat(R.container," ").concat(V||""),style:O,ref:k,children:[Q&&(0,c.jsx)("div",{className:R.dragOverlay}),Te&&(0,c.jsx)("div",{className:R.left,style:{width:"".concat(Le,"%"),transition:B?"none":"width 0ms",overflow:Q?"hidden":"auto"},children:J}),we&&j>0&&(0,c.jsx)(ae(),{axis:"x",position:ee,onStart:me,onDrag:ye,onStop:ge,disabled:Be,bounds:{left:v,right:j-N},children:(0,c.jsx)("div",{className:"".concat(R.divider," ").concat(Be?R.disabled:""," ").concat(Q?R.dragging:""),style:{"--divider-color":T,"--divider-hover-color":C,"--divider-dragging-color":a,opacity:F?1:0,transition:"opacity 0.4s ease-in-out"}})}),he&&(0,c.jsx)("div",{className:R.right,style:{width:"".concat(100-Le,"%"),transition:B?"none":"width 0ms",overflow:Q?"hidden":"auto"},children:y})]})},A=Z},7597:function(Ee,ie,e){e.d(ie,{Z:function(){return O}});var G=e(31759),E=e.n(G),s=e(90228),W=e.n(s),ae=e(87999),R=e.n(ae),c=e(48305),Z=e.n(c),A=e(68279),M=e(79484),S=e(37269),J=e(27867),y=e(9504),X=e(68108),v=e(56555),g=e(94581),N=e.n(g),H=e(32699),z=e(75271),D=e(70797),T=e(53586),p={"xagi-nav-style2":"xagi-nav-style2___IxVei",text:"text___PJibU","page-container":"page-container___r4oL6","page-preview-iframe-container":"page-preview-iframe-container___i7gFb","copy-template-btn":"copy-template-btn___wsNte","page-preview-header":"page-preview-header___aUFBG","page-icon":"page-icon___fFlZK","page-preview-body":"page-preview-body___op2OU","page-iframe-container":"page-iframe-container___iDJF0","page-iframe":"page-iframe___Fy7dV","loading-wrapper":"loading-wrapper___YqvYY"},C=e(52676),le=N().bind(p),a=function(k){var b=k.pagePreviewData,xe=k.showLoading,j=xe===void 0?!0:xe,fe=k.showHeader,Pe=fe===void 0?!0:fe,Re=k.showCloseButton,q=Re===void 0?!0:Re,ue=k.onClose,Se=k.style,Me=k.className,Q=k.titleStyle,w=k.titleClassName,K=k.showCopyButton,P=K===void 0?!1:K,B=k.allowCopy,te=B===void 0?!1:B,t=k.onCopyClick,_=k.copyButtonText,F=_===void 0?"\u590D\u5236\u6A21\u677F":_,L=k.copyButtonClassName,I=(0,z.useState)(0),r=Z()(I,2),Te=r[0],he=r[1],we=(0,z.useState)(!0),Le=Z()(we,2),Be=Le[0],ye=Le[1],de=(0,z.useRef)(null),Y=(0,z.useRef)([]),me=(0,z.useRef)(0),ge=(0,z.useState)(!1),ee=Z()(ge,2),ce=ee[0],U=ee[1],ne=(0,z.useState)(!1),se=Z()(ne,2),pe=se[0],Ce=se[1],Ae=(0,z.useRef)(null),Ie=(0,z.useRef)(null),oe=(0,z.useMemo)(function(){if(!b)return"";var n=b.uri,u=b.params;if(!n)return"";if(/^https?:\/\//.test(n)||(n="".concat("").concat(n)),!u||Object.keys(u).length===0)return n;var d=new URLSearchParams(u).toString();return he(Date.now),"".concat(n,"?").concat(d)},[b]),Fe=function(){ye(!1)},Ke=function(){ye(!1)},We=(0,T.useModel)("chat"),_e=We.previewPageTitle,Je=We.setPreviewPageTitle,Xe=(0,z.useCallback)(function(){var n=me.current>0,u=me.current<Y.current.length-1;U(n),Ce(u)},[]),en=(0,z.useCallback)(function(n){if(n.historyType==="initial"){Y.current=[{url:n.url,pathname:n.pathname,timestamp:n.timestamp}],me.current=0,Xe();return}if(n.historyType==="pushState"||n.historyType==="hashchange")Y.current.push({url:n.url,pathname:n.pathname,timestamp:n.timestamp}),me.current=Y.current.length-1,Y.current.length>50&&(Y.current.shift(),me.current=Math.max(0,me.current-1));else if(n.historyType==="replaceState")Y.current.length===0?(Y.current=[{url:n.url,pathname:n.pathname,timestamp:n.timestamp}],me.current=0):Y.current[me.current]={url:n.url,pathname:n.pathname,timestamp:n.timestamp};else if(n.historyType==="popstate"){var u=Y.current;if(u.length>0){for(var d=-1,f=u.length-1;f>=0;f--)if(u[f].url===n.url){d=f;break}d!==-1&&d!==me.current?me.current=d:d===-1&&(Y.current.push({url:n.url,pathname:n.pathname,timestamp:n.timestamp}),me.current=Y.current.length-1,Y.current.length>50&&(Y.current.shift(),me.current=Math.max(0,me.current-1)),console.warn("[PagePreviewIframe] popstate \u4E8B\u4EF6\uFF1A\u627E\u4E0D\u5230\u76EE\u6807 URL\uFF0C\u5DF2\u6DFB\u52A0\u5230\u5386\u53F2\u8BB0\u5F55",n.url))}else Y.current=[{url:n.url,pathname:n.pathname,timestamp:n.timestamp}],me.current=0}Xe()},[Xe]);function tn(){he(Date.now()),ye(!0),Y.current=[],me.current=0,U(!1),Ce(!1)}if((0,z.useEffect)(function(){console.log("\u89E6\u53D1\u4E861 useEffect - pagePreviewData");var n=de.current;if(!(!n||!b)){var u=function(){Ae.current&&(Ae.current.disconnect(),Ae.current=null),Ie.current&&(clearTimeout(Ie.current),Ie.current=null)};u(),ye(!0);var d=(0,H.debounce)(R()(W()().mark(function $(){var x,o,re,ve;return W()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:console.log("\u89E6\u53D1\u4E863 onload callback"),x=null,h.prev=2,x=n.contentDocument||((o=n.contentWindow)===null||o===void 0?void 0:o.document)||null,h.next=11;break;case 6:return h.prev=6,h.t0=h.catch(2),console.warn("[PagePreviewIframe] \u65E0\u6CD5\u8BBF\u95EE iframe \u6587\u6863\uFF08\u53EF\u80FD\u662F\u8DE8\u57DF\u9650\u5236\uFF09:",h.t0),ye(!1),h.abrupt("return");case 11:if(!(!x||!x.body)){h.next=13;break}return h.abrupt("return");case 13:re=new D.Z,ve=function(){Ie.current&&clearTimeout(Ie.current),Ie.current=setTimeout(R()(W()().mark(function Ue(){var ke,Ve,ze,be,$e,He,qe,Ye,Ge;return W()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if((ke=x)!==null&&ke!==void 0&&ke.body){De.next=2;break}return De.abrupt("return");case 2:if(ze=((Ve=x.querySelector("head > title"))===null||Ve===void 0?void 0:Ve.textContent)||"\u9875\u9762\u9884\u89C8",Je(ze),be=x.body.innerHTML,b?.method!=="browser_navigate_page"){De.next=12;break}if(He=($e=x.body.querySelector("body>h1"))===null||$e===void 0?void 0:$e.textContent,He!=="Welcome to nginx!"){De.next=12;break}return qe={requestId:b?.request_id,html:"\u65E0\u6CD5\u8BFB\u53D6\u6570\u636E"},console.log("CHART1",qe),De.next=12,(0,S.kR)(qe);case 12:if(b!=null&&b.method){De.next=14;break}return De.abrupt("return");case 14:if(Ye="",b.data_type==="html"?Ye=be:b.data_type==="markdown"&&(Ye=re.turndown(be)),b?.method!=="browser_navigate_page"){De.next=21;break}return Ge={requestId:b.request_id||"",html:Ye},console.log("CHART2",Ge),De.next=21,(0,S.kR)(Ge);case 21:case"end":return De.stop()}},Ue)})),500)},Ae.current=new MutationObserver(ve),Ae.current.observe(x.body,{childList:!0,subtree:!0,characterData:!0}),ve();case 18:case"end":return h.stop()}},$,null,[[2,6]])})),100);n.onload=d,console.log("\u89E6\u53D1\u4E862 set src");var f=oe.includes("#");return f?(n.src="",setTimeout(function(){de.current&&(de.current.src=oe)},50)):n.src=oe,function(){n.onload=null,d.cancel(),u()}}},[b,oe,Je]),(0,z.useEffect)(function(){var n=function(d){var f,$,x=de.current&&(d.source===de.current.contentWindow||de.current.src&&d.origin===new URL(de.current.src).origin),o=d.data;if(o&&E()(o)==="object"&&(f=o.type)!==null&&f!==void 0&&f.includes("dev-monitor")){var re;console.log("[PagePreviewIframe] \u{1F50D} DevMonitor message detected:",{type:o.type,origin:d.origin,isFromIframe:!!x,sourceIsWindow:d.source instanceof Window,iframeSrc:(re=de.current)===null||re===void 0?void 0:re.src})}!x&&o!==null&&o!==void 0&&($=o.type)!==null&&$!==void 0&&$.includes("dev-monitor")||o&&E()(o)==="object"&&o.type==="dev-monitor-history-change"&&en({historyType:o.historyType,url:o.url,pathname:o.pathname,timestamp:o.timestamp||Date.now(),direction:o.direction})};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}},[en]),(0,z.useEffect)(function(){return function(){Y.current=[],me.current=0,U(!1),Ce(!1)}},[]),!b)return null;function m(){if(de.current&&ce)try{var n=de.current.contentWindow;n&&n.history&&n.history.go(-1)}catch{window.history.go(-1)}}function i(){if(de.current&&pe)try{var n=de.current.contentWindow;n&&n.history&&n.history.go(1)}catch{window.history.go(1)}}function l(){var n=oe;/^https?:\/\//.test(oe)||(n="".concat(window.location.protocol,"//").concat(window.location.host).concat(oe)),(0,J.TE)(n,function(){},!0)}return(0,C.jsxs)("div",{className:le(p["page-preview-iframe-container"],Me),style:Se,children:[Pe&&(0,C.jsxs)("div",{className:le(p["page-preview-header"]),children:[(0,C.jsx)("h3",{className:"text-ellipsis",children:(0,C.jsx)("span",{className:w,style:Q,children:_e})}),(0,C.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[P&&te&&t&&(0,C.jsx)(y.ZP,{type:"text",className:le(p["copy-template-btn"],L),icon:(0,C.jsx)(A.Z,{name:"icons-chat-copy",style:{fontSize:16}}),onClick:t,children:F}),(0,C.jsx)(X.Z,{title:"\u5237\u65B0",children:(0,C.jsx)(y.ZP,{type:"text",onClick:tn,icon:(0,C.jsx)(A.Z,{name:"icons-common-refresh",style:{fontSize:16}})})}),(0,C.jsx)(X.Z,{title:"\u540E\u9000",open:ce?void 0:!1,children:(0,C.jsx)(y.ZP,{type:"text",onClick:m,icon:(0,C.jsx)(A.Z,{name:"icons-common-caret_left",style:{fontSize:16}}),disabled:!ce})}),(0,C.jsx)(X.Z,{title:"\u524D\u8FDB",open:pe?void 0:!1,children:(0,C.jsx)(y.ZP,{type:"text",onClick:i,icon:(0,C.jsx)(A.Z,{name:"icons-common-caret_right",style:{fontSize:16}}),disabled:!pe})}),(0,C.jsx)(X.Z,{title:"\u590D\u5236\u94FE\u63A5",children:(0,C.jsx)(y.ZP,{type:"text",onClick:l,icon:(0,C.jsx)(A.Z,{name:"icons-common-link",style:{fontSize:16}})})}),q&&(0,C.jsx)(y.ZP,{type:"text",onClick:ue,icon:(0,C.jsx)(A.Z,{name:"icons-chat-close_regular",style:{fontSize:16}})})]})]}),(0,C.jsxs)("div",{className:le(p["page-preview-body"]),children:[j&&Be&&(0,C.jsx)("div",{className:le(p["loading-wrapper"]),children:(0,C.jsx)(v.Z,{size:"large",tip:"\u9875\u9762\u52A0\u8F7D\u4E2D..."})}),(0,C.jsx)("iframe",{ref:de,src:oe,sandbox:M.lM,className:le(p["page-iframe"]),onLoad:Fe,onError:Ke,style:{opacity:Be?0:1,transition:"opacity 1.5s ease-in-out"}},Te)]})]})},O=a},91165:function(Ee,ie,e){e.d(ie,{Z:function(){return ae}});var G=e(75271),E=e(92448),s=100,W=function(c){setTimeout(function(){c()},s)};function ae(R){var c=R.answer,Z=R.thinking,A=R.id,M=(0,G.useRef)(null),S=(0,G.useRef)(A?String(A):(0,E.Z)()),J=(0,G.useRef)({thinking:0,answer:0});return(0,G.useEffect)(function(){W(function(){if(c){var y,X=c.slice(J.current.answer);J.current.answer=c.length,(y=M.current)===null||y===void 0||y.push(X,"answer")}})},[c]),(0,G.useEffect)(function(){W(function(){if(Z){var y,X=Z.slice(J.current.thinking);J.current.thinking=Z.length,(y=M.current)===null||y===void 0||y.push(X,"thinking")}})},[Z]),(0,G.useEffect)(function(){A&&(S.current=String(A))},[A]),(0,G.useEffect)(function(){return function(){var y;(y=M.current)===null||y===void 0||y.clear(),J.current={thinking:0,answer:0},S.current=""}},[]),{markdownRef:M,messageIdRef:S}}},22906:function(Ee,ie,e){e.d(ie,{K:function(){return S}});var G=e(90228),E=e.n(G),s=e(87999),W=e.n(s),ae=e(48305),R=e.n(ae),c=e(17968),Z=e(77782),A=e(75271),M=e(53586),S=function(){var y=(0,A.useState)(c.unifiedThemeService.getCurrentData()),X=R()(y,2),v=X[0],g=X[1],N=(0,A.useState)(!1),H=R()(N,2),z=H[0],D=H[1],T=(0,M.useModel)("tenantConfigInfo"),p=T.tenantConfigInfo;(0,A.useEffect)(function(){var w=function(P){g(P),D(!1)};return c.unifiedThemeService.addListener(w),function(){c.unifiedThemeService.removeListener(w)}},[]);var C=(0,A.useCallback)(function(w){return W()(E()().mark(function K(){var P=arguments;return E()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return D(!0),te.prev=1,te.next=4,w.apply(void 0,P);case 4:te.next=11;break;case 6:throw te.prev=6,te.t0=te.catch(1),console.error("\u4E3B\u9898\u66F4\u65B0\u5931\u8D25:",te.t0),D(!1),te.t0;case 11:case"end":return te.stop()}},K,null,[[1,6]])}))},[]),le=C(c.unifiedThemeService.updatePrimaryColor.bind(c.unifiedThemeService)),a=C(c.unifiedThemeService.updateAntdTheme.bind(c.unifiedThemeService)),O=C(c.unifiedThemeService.updateNavigationStyle.bind(c.unifiedThemeService)),V=C(c.unifiedThemeService.updateLayoutStyle.bind(c.unifiedThemeService)),k=C(c.unifiedThemeService.updateBackground.bind(c.unifiedThemeService)),b=C(c.unifiedThemeService.updateLanguage.bind(c.unifiedThemeService)),xe=(0,A.useCallback)(W()(E()().mark(function w(){var K;return E()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return K=v.antdTheme==="light"?"dark":"light",B.next=3,a(K);case 3:case"end":return B.stop()}},w)})),[v.antdTheme,a]),j=(0,A.useCallback)(W()(E()().mark(function w(){var K;return E()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return K=v.layoutStyle===Z.B.DARK?Z.B.LIGHT:Z.B.DARK,B.next=3,V(K);case 3:case"end":return B.stop()}},w)})),[v.layoutStyle,V]),fe=(0,A.useCallback)(W()(E()().mark(function w(){var K;return E()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return K=v.navigationStyle===Z.F.STYLE1?Z.F.STYLE2:Z.F.STYLE1,B.next=3,O(K);case 3:case"end":return B.stop()}},w)})),[v.navigationStyle,O]),Pe=(0,A.useCallback)(W()(E()().mark(function w(){var K;return E()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return K=v.language==="zh-CN"?"en-US":"zh-CN",B.next=3,b(K);case 3:case"end":return B.stop()}},w)})),[v.language,b]),Re=C(c.unifiedThemeService.resetToDefault.bind(c.unifiedThemeService)),q=v.antdTheme==="dark",ue=v.layoutStyle===Z.B.DARK,Se=v.navigationStyle===Z.F.STYLE2,Me=v.language==="zh-CN",Q=(0,A.useMemo)(function(){return c.unifiedThemeService.getExtraColors()},[p]);return{data:v,isLoading:z,updatePrimaryColor:le,updateAntdTheme:a,updateNavigationStyle:O,updateLayoutStyle:V,updateBackground:k,updateLanguage:b,toggleAntdTheme:xe,toggleNavigationTheme:j,toggleNavigationStyle:fe,toggleLanguage:Pe,resetToDefault:Re,primaryColor:v.primaryColor,antdTheme:v.antdTheme,navigationStyle:v.navigationStyle,layoutStyle:v.layoutStyle,backgroundId:v.backgroundId,language:v.language,isDarkMode:q,isNavigationDark:ue,isNavigationExpanded:Se,isChineseLanguage:Me,extraColors:Q}};ie.Z=S},46819:function(Ee,ie,e){e.d(ie,{L:function(){return E},U:function(){return G}});var G=function(s){return s.WORKFLOW_LLM_NODE="WORKFLOW_LLM_NODE",s.AGENT="AGENT",s}({}),E=function(s){return s.prompt="prompt",s.code="code",s.sql="sql",s}({})},647:function(){},8530:function(Ee,ie){ie.Z={"markdown-container":"markdown-container___B4lMY","table-wrapper":"table-wrapper___gVSep","markdown-table":"markdown-table___tMbI9","markdown-image-container":"markdown-image-container___QvQqd",spin:"spin___sxYN7"}},65774:function(Ee,ie,e){Ee.exports=e.p+"static/doc_image.5415f2c1.jpg"},35044:function(Ee){Ee.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAH1SURBVEiJvZaxbtNQFIb///q67YDUDAwMDJHqoQ/A2KE3UCkSCwMvgBBTB54A0ZFKIBUhBAxIvEEHhhIHeh+AB2BB6sJQqUtGGtf+WRrHVZI6dm3+6crnHH86v3TuPRwMvj8CzAcSVtL7lRVz4JwboSUxjo/PANwufBtJetsWmHF8/AvA5pxYK2BD8tuCWIfkyyTRyWDwY89732kEmKbpoCSnUTC997eSRGcA1pasGZF8bS3eOOf+VgYCwHDovaTtKoUSTkm+CkN8qgI2AJBlWZmtMyJxB9DBeKyTOPbPvfdLOUQAiGN/D9DPqtCilu2Yk8OceWwFbArsReNRSWVW5x0Oh35Lwi6gLolIunm3QN7xXhjis3PugosSvfedJEFXSiOAEWk2SHUlbAK4W4P9m0yfLAReJ++9HY/RJ/W1YukfU54zV9YYBXUKF3Z4eOg76+vayDJGWYYugAhQJCEi61rKqaVHR8PtILC7gC5/jkYuaxKnkl6EofninLuwk0AQ2KeAHjcBmYDSVPurq+ajc718Hu00Rf2mQTs7vZnBt0B+td1o7spAV4AA7rcNugIk0ZfaBeV1dR5gSfuXu07lB9ien6dbxphlYIWlqld7qbLGBA+Ba/1sBJQDAT34H6ACcOYZagWUAyU+I/UOwNp01W8eNNE/wcEU7Dx0xUMAAAAASUVORK5CYII="}}]);})();
