"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[5286],{48483:function(q,x,e){e.d(x,{Z:function(){return n}});var v=e(87462),c=e(67294),M={icon:function(y,I){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:y}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:I}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:y}}]}},name:"check-circle",theme:"twotone"},o=M,A=e(13401),f=function(y,I){return c.createElement(A.Z,(0,v.Z)({},y,{ref:I,icon:o}))},E=c.forwardRef(f),n=E},39207:function(q,x,e){e.d(x,{Z:function(){return m}});var v=e(5574),c=e.n(v),M=e(90814),o=e(69234),A=e(94184),f=e.n(A),E=e(67294),n={header:"header___t5fwB"},P=e(85893),y=f().bind(n),I=function(U){var re=U.className,V=U.items,H=U.defaultActiveKey,$=U.onChangeCollapse,fe=(0,E.useState)([]),Y=c()(fe,2),T=Y[0],G=Y[1];(0,E.useEffect)(function(){H?.length>0&&G(H)},[H]);var ie=function(g){G(g),$?.(g)};return(0,P.jsx)(o.Z,{bordered:!1,expandIcon:function(g){var Se=g.isActive;return(0,P.jsx)(M.Z,{rotate:Se?90:0})},className:y(n.header,re),activeKey:T,onChange:ie,items:V})},m=I},78390:function(q,x,e){var v=e(97857),c=e.n(v),M=e(5574),o=e.n(M),A=e(26145),f=e(75216),E=e(83926),n=e(61474),P=e(68104),y=e(21015),I=e(99171),m=e(95141),ee=e(30881),U=e(30961),re=e(99859),V=e(45360),H=e(25278),$=e(78045),fe=e(94184),Y=e.n(fe),T=e(67294),G=e(39902),ie=e(4141),W=e(85893),g=Y(),Se=function(_){var h=_.spaceId,d=_.id,i=_.icon,t=_.name,r=_.description,u=_.mode,s=u===void 0?m.jA.Create:u,a=_.open,p=_.onCancel,C=_.onConfirm,D=re.Z.useForm(),R=o()(D,1),B=R[0],O=(0,T.useState)(""),de=o()(O,2),Ge=de[0],Te=de[1],Ke=(0,T.useState)(),We=o()(Ke,2),ne=We[0],l=We[1],oe=(0,T.useState)(!1),ze=o()(oe,2),en=ze[0],ce=ze[1];(0,T.useEffect)(function(){a&&(Te(i||""),B.setFieldsValue({name:t,description:r}))},[a,i,t,r]);var Le=function(se,Q){Q===ee.AQ.CODE?G.history.push("/space/".concat(h,"/plugin/").concat(se,"/cloud-tool")):Q===ee.AQ.HTTP&&G.history.push("/space/".concat(h,"/plugin/").concat(se))},nn=(0,G.useRequest)(I.VR,{manual:!0,debounceInterval:300,onSuccess:function(se,Q){Te(""),p();var Qe=Q[0].type;Le(se,Qe),V.ZP.success("\u63D2\u4EF6\u5DF2\u521B\u5EFA"),ce(!1)},onError:function(){ce(!1)}}),an=nn.run,He=(0,G.useRequest)(I.i,{manual:!0,debounceInterval:300,onSuccess:function(se,Q){Te("");var Qe=Q[0];C?.(Qe),V.ZP.success("\u63D2\u4EF6\u66F4\u65B0\u6210\u529F"),ce(!1)},onError:function(){ce(!1)}}),tn=He.run,rn=function(se){ce(!0),s===m.jA.Create?an(c()(c()({},se),{},{icon:Ge,spaceId:h})):tn(c()(c()({},se),{},{icon:Ge,id:d}))},sn=function(){B.submit()},Ne=function(se){var Q=se.target.value;Q===ee.AQ.HTTP&&B.setFieldValue("codeLang",null),l(Q)};return(0,W.jsx)(ie.Z,{form:B,title:s===m.jA.Create?"\u65B0\u5EFA\u63D2\u4EF6":"\u66F4\u65B0\u63D2\u4EF6",open:a,classNames:Y(),loading:en,onCancel:p,onConfirm:sn,children:(0,W.jsxs)("div",{className:g("flex","flex-col","items-center","py-16"),children:[(0,W.jsx)(P.Z,{className:g("mt-16","mb-16"),onUploadSuccess:Te,imageUrl:Ge,defaultImage:A}),(0,W.jsxs)(re.Z,{form:B,requiredMark:U.N,layout:"vertical",onFinish:rn,rootClassName:g("w-full"),autoComplete:"off",children:[(0,W.jsx)(re.Z.Item,{name:"name",label:"\u63D2\u4EF6\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0"},{validator:function(se,Q){return!Q||Q?.length<=30?Promise.resolve():Q?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0!"))}}],children:(0,W.jsx)(H.Z,{placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0\uFF0C\u786E\u4FDD\u540D\u79F0\u542B\u4E49\u6E05\u6670\u4E14\u7B26\u5408\u5E73\u53F0\u89C4\u8303",showCount:!0,maxLength:30})}),(0,W.jsx)(E.Z,{name:"description",label:"\u63D2\u4EF6\u63CF\u8FF0",initialValue:r,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F"}],placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F\uFF0C\u786E\u4FDD\u5185\u5BB9\u7B26\u5408\u5E73\u53F0\u89C4\u8303\u3002\u5E2E\u52A9\u7528\u6237/\u5927\u6A21\u578B\u66F4\u597D\u5730\u7406\u89E3",maxLength:100}),(0,W.jsxs)(f.Z,{condition:s===m.jA.Create,children:[(0,W.jsx)(re.Z.Item,{name:"type",label:"\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F"}],children:(0,W.jsx)($.ZP.Group,{options:y.B1,value:ne,onChange:Ne})}),(0,W.jsx)(f.Z,{condition:ne===ee.AQ.CODE,children:(0,W.jsx)(re.Z.Item,{name:"codeLang",label:"IDE \u8FD0\u884C\u65F6",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u6A21\u5F0F"}],children:(0,W.jsx)(n.Z,{options:y._n})})})]})]})]})})};x.Z=Se},8380:function(q,x,e){e.d(x,{Z:function(){return n}});var v=e(94184),c=e.n(v),M=e(67294),o={container:"container___dApW8",star:"star___pESlW"},A=e(85893),f=c().bind(o),E=function(y){var I=y.className,m=y.label;return(0,A.jsxs)("span",{className:f(o.container,"flex",I),children:[(0,A.jsx)("span",{children:m}),(0,A.jsx)("span",{className:f(o.star),children:"*"})]})},n=E},70852:function(q,x,e){e.d(x,{Z:function(){return P}});var v=e(50888),c=e(94184),M=e.n(c),o=e(67294),A={container:"container___VkdMQ"},f=e(85893),E=M().bind(A),n=function(I){var m=I.className;return(0,f.jsxs)("div",{className:E("flex","flex-1","items-center","content-center",A.container,m),children:[(0,f.jsx)(v.Z,{}),(0,f.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]})},P=n},22594:function(q,x,e){e.d(x,{Z:function(){return P}});var v=e(75216),c=e(94184),M=e.n(c),o=e(67294),A={container:"container___mKBd6",star:"star___fL3Gn","param-type":"param-type___m1Eq3"},f=e(85893),E=M().bind(A),n=function(I){var m=I.require,ee=I.paramName,U=I.paramType;return(0,f.jsxs)("div",{className:E("flex","items-center",A.container),children:[(0,f.jsx)("span",{children:ee}),(0,f.jsx)(v.Z,{condition:m,children:(0,f.jsx)("span",{className:E(A.star),children:"*"})}),(0,f.jsx)("span",{className:E(A["param-type"]),children:U})]})},P=n},88609:function(q,x,e){e.d(x,{Hs:function(){return o},VR:function(){return A},WH:function(){return f},gg:function(){return E},jC:function(){return M}});var v=e(91120),c=e(79715),M=[{value:c.DM.All,label:"\u5168\u90E8"},{value:c.DM.Deployed,label:"\u5DF2\u90E8\u7F72"}],o=[{type:c.pS.Stop_Service,label:"\u505C\u6B62\u670D\u52A1"},{type:c.pS.Service_Export,label:"\u670D\u52A1\u5BFC\u51FA"},{type:c.pS.Del,label:"\u5220\u9664",isDel:!0}],A=[{value:c.l_.NPX,label:"npx"},{value:c.l_.UVX,label:"uvx"},{value:c.l_.SSE,label:"sse"},{value:c.l_.COMPONENT,label:"\u7EC4\u4EF6\u5E93"}],f=[{type:v.qR.Plugin,label:"\u63D2\u4EF6"},{type:v.qR.Workflow,label:"\u5DE5\u4F5C\u6D41"},{type:v.qR.Knowledge,label:"\u77E5\u8BC6\u5E93"},{type:v.qR.Table,label:"\u6570\u636E\u8868"}],E=[{value:c.f5.Overview,label:"\u6982\u89C8"},{value:c.f5.Tool,label:"\u5DE5\u5177"},{value:c.f5.Resource,label:"\u8D44\u6E90"},{value:c.f5.Prompt,label:"\u63D0\u793A\u8BCD"}]},11843:function(q,x,e){e.d(x,{$$:function(){return m},Bv:function(){return y},E9:function(){return I},RT:function(){return U},TI:function(){return H},a$:function(){return V},gN:function(){return $},k0:function(){return E},oR:function(){return fe},v3:function(){return P},yA:function(){return n}});var v=e(32909),c=e(91120),M=e(95141),o=e(1322),A=e(57822),f=e(85893),E=[{value:o.Lm.Workflow,label:"\u5DE5\u4F5C\u6D41",icon:(0,f.jsx)(v.xp,{})},{value:o.Lm.Plugin,label:"\u63D2\u4EF6",icon:(0,f.jsx)(v.P1,{})},{value:o.Lm.Knowledge,label:"\u77E5\u8BC6\u5E93",icon:(0,f.jsx)(v.r7,{})},{value:o.Lm.Table,label:"\u6570\u636E\u8868",icon:(0,f.jsx)(v.ct,{})},{value:o.Lm.Model,label:"\u6A21\u578B",icon:(0,f.jsx)(v.ky,{})}],n=[{value:o.Lm.All_Type,label:"\u6240\u6709\u7C7B\u578B",icon:null}].concat(E),P=[{value:o.No.All,label:"\u5168\u90E8"},{value:o.No.Published,label:"\u5DF2\u53D1\u5E03"}],y=[{value:o.os.All_Person,label:"\u6240\u6709\u4EBA"},{value:o.os.Me,label:"\u7531\u6211\u521B\u5EFA"}],I=[{type:o.KZ.Analyze,label:"\u5206\u6790"},{type:o.KZ.Copy_To_Space,label:"\u590D\u5236\u5230\u7A7A\u95F4"},{type:o.KZ.Move,label:"\u8FC1\u79FB"},{type:o.KZ.Temporary_Session,label:"\u4E34\u65F6\u4F1A\u8BDD"},{type:o.KZ.API_Key,label:"API Key"},{type:o.KZ.Log,label:"\u65E5\u5FD7"},{type:o.KZ.Del,label:"\u5220\u9664",isDel:!0}],m=[{type:o.z$.Application_Develop,icon:(0,f.jsx)(v.iG,{}),text:"\u667A\u80FD\u4F53\u5F00\u53D1"},{type:o.z$.Component_Library,icon:(0,f.jsx)(v.f0,{}),text:"\u7EC4\u4EF6\u5E93"},{type:o.z$.MCP_Manage,icon:(0,f.jsx)(v.G,{}),text:"MCP\u7BA1\u7406"},{type:o.z$.Space_Square,icon:(0,f.jsx)(v.g2,{}),text:"\u7A7A\u95F4\u5E7F\u573A"},{type:o.z$.Team_Setting,icon:(0,f.jsx)(v.UZ,{}),text:"\u6210\u5458\u4E0E\u8BBE\u7F6E"}],ee=[{label:"\u6807\u51C6\u521B\u5EFA",value:M.wG.Standard},{label:"AI \u521B\u5EFA",value:M.wG.AI}],U=[{label:"\u5F00\u542F",value:o.nb.Open},{label:"\u5173\u95ED",value:o.nb.Close}],re=[{value:c.Sj.PLUGIN,label:"\u63D2\u4EF6"},{value:c.Sj.WORKFLOW,label:"\u5DE5\u4F5C\u6D41"}],V=[{type:o.wQ.Params,label:"\u53C2\u6570"},{type:o.wQ.Method_Call,label:"\u8C03\u7528\u65B9\u5F0F"},{type:o.wQ.Output_Way,label:"\u8F93\u51FA\u65B9\u5F0F"},{type:o.wQ.Async_Run,label:"\u5F02\u6B65\u8FD0\u884C"},{type:o.wQ.Exception_Handling,label:"\u5F02\u5E38\u5904\u7406"},{type:o.wQ.Card_Bind,label:"\u5361\u7247\u7ED1\u5B9A"}],H={name:"",description:"",dataType:M.Gi.String,inputType:c.oI.Query,require:!0,bindValue:"",enable:!0},$={name:"",description:"",dataType:M.Gi.String,enable:!0},fe=[{key:A.Q.Agent,label:"\u667A\u80FD\u4F53"},{key:A.Q.Plugin,label:"\u63D2\u4EF6"},{key:A.Q.Workflow,label:"\u5DE5\u4F5C\u6D41"},{key:A.Q.Template,label:"\u6A21\u677F"}]},32440:function(q,x,e){e.d(x,{Z:function(){return i}});var v=e(19632),c=e.n(v),M=e(15009),o=e.n(M),A=e(99289),f=e.n(A),E=e(5574),n=e.n(E),P=e(46388),y=e(92973),I=e(26145),m=e(83352),ee=e(71437),U=e(91120),re=e(48689),V=e(67294),H=e(75216),$=e(94184),fe=e.n($),Y={container:"container___VtFp3","extra-box":"extra-box___SW5hY","gap-6":"gap-6___K8O8r","img-box":"img-box___GB3B2",name:"name___Ydju6",desc:"desc___LWNol"},T=e(85893),G=fe().bind(Y),ie=function(r){var u=r.componentInfo,s=r.defaultImage,a=r.extra,p=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("span",{className:G("radius-6",Y["img-box"]),children:(0,T.jsx)("img",{src:u.icon||s,alt:""})}),(0,T.jsxs)("div",{className:G("flex-1","flex","flex-col","content-center","overflow-hide"),children:[(0,T.jsx)("h3",{className:G("text-ellipsis",Y.name),children:u.name}),(0,T.jsx)(H.Z,{condition:u.description,children:(0,T.jsx)("p",{className:G("text-ellipsis",Y.desc),children:u.description})})]})]});return(0,T.jsxs)("div",{className:G("flex","items-center",Y.container),children:[(0,T.jsx)("div",{className:G("flex-1","flex","overflow-hide",Y["gap-6"]),children:p}),(0,T.jsx)("div",{className:G(Y["extra-box"],"flex","items-center"),children:a})]})},W=ie,g=function(r){var u,s=r.textClassName,a=r.type,p=r.list,C=r.onDel,D=function(B){switch(B){case U.qR.Plugin:return{text:"\u63D2\u4EF6\u80FD\u591F\u8BA9\u667A\u80FD\u4F53\u8C03\u7528\u5916\u90E8API\uFF0C\u4F8B\u5982\u641C\u7D22\u4FE1\u606F\u3001\u6D4F\u89C8\u7F51\u9875\u3001\u751F\u6210\u56FE\u7247\u7B49\uFF0C\u6269\u5C55\u667A\u80FD\u4F53\u7684\u80FD\u529B\u548C\u4F7F\u7528\u573A\u666F\u3002",image:I};case U.qR.Workflow:return{text:"\u5DE5\u4F5C\u6D41\u652F\u6301\u901A\u8FC7\u53EF\u89C6\u5316\u7684\u65B9\u5F0F\uFF0C\u5BF9\u63D2\u4EF6\u3001\u5927\u8BED\u8A00\u6A21\u578B\u3001\u4EE3\u7801\u5757\u7B49\u529F\u80FD\u8FDB\u884C\u7EC4\u5408\uFF0C\u4ECE\u800C\u5B9E\u73B0\u590D\u6742\u3001\u7A33\u5B9A\u7684\u4E1A\u52A1\u6D41\u7A0B\u7F16\u6392\uFF0C\u4F8B\u5982\u65C5\u884C\u89C4\u5212\u3001\u62A5\u544A\u5206\u6790\u7B49\u3002",image:m};case U.qR.Knowledge:return{text:"\u5C06\u6587\u6863\u3001URL\u3001\u4E09\u65B9\u6570\u636E\u6E90\u4E0A\u4F20\u4E3A\u6587\u672C\u77E5\u8BC6\u5E93\u540E\uFF0C\u7528\u6237\u53D1\u9001\u6D88\u606F\u65F6\uFF0C\u667A\u80FD\u4F53\u80FD\u591F\u5F15\u7528\u6587\u672C\u77E5\u8BC6\u4E2D\u7684\u5185\u5BB9\u56DE\u7B54\u7528\u6237\u95EE\u9898\u3002",image:y};case U.qR.Table:return{text:"\u4EE5\u8868\u683C\u7ED3\u6784\u7EC4\u7EC7\u6570\u636E\uFF0C\u53EF\u5B9E\u73B0\u7C7B\u4F3C\u4E66\u7B7E\u548C\u56FE\u4E66\u7BA1\u7406\u7B49\u529F\u80FD\u3002",image:P}}};return p!=null&&p.length?p.map(function(R,B){var O;return(0,T.jsx)(W,{componentInfo:R,defaultImage:(O=D(a))===null||O===void 0?void 0:O.image,extra:(0,T.jsx)(ee.Z,{title:"\u5220\u9664",icon:(0,T.jsx)(re.Z,{className:"cursor-pointer"}),onClick:function(){return C(R.targetId,R.type)}})},R?.targetId||B)}):(0,T.jsx)("p",{className:s,children:(u=D(a))===null||u===void 0?void 0:u.text})},Se=g,Pe=e(88609),_=e(1322),h=e(99859),d=function(){var r=h.Z.useForm(),u=n()(r,1),s=u[0],a=(0,V.useState)(""),p=n()(a,2),C=p[0],D=p[1],R=(0,V.useState)([]),B=n()(R,2),O=B[0],de=B[1],Ge=(0,V.useState)([]),Te=n()(Ge,2),Ke=Te[0],We=Te[1],ne=(0,V.useState)(!1),l=n()(ne,2),oe=l[0],ze=l[1],en=(0,V.useState)(!1),ce=n()(en,2),Le=ce[0],nn=ce[1],an=(0,V.useState)(U.qR.Plugin),He=n()(an,2),tn=He[0],rn=He[1],sn=(0,V.useState)(!1),Ne=n()(sn,2),Oe=Ne[0],se=Ne[1],Q=(0,V.useRef)(!1),Qe=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Q.current=z,s.submit()},cn=function(z){return O?.filter(function(ae){return ae.type===z})||[]},vn=function(){var L=f()(o()().mark(function z(ae,Ue){var F,he;return o()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:F=O?.filter(function(ve){return!(ve.targetId===ae&&ve.type===Ue)}),de(F),he=Ke?.filter(function(ve){return!(ve.targetId===ae&&ve.type===Ue)})||[],We(he);case 4:case"end":return Ce.stop()}},z)}));return function(ae,Ue){return L.apply(this,arguments)}}(),ge=function(z,ae){z.stopPropagation(),rn(ae),se(!0)},X=function(z){return O?.some(function(ae){return ae.type===z})},pn=(0,V.useMemo)(function(){var L=[];return X(U.qR.Plugin)&&L.push(_.bX.Plugin),X(U.qR.Workflow)&&L.push(_.bX.Workflow),X(U.qR.Knowledge)&&L.push(_.bX.Knowledge),X(U.qR.Table)&&L.push(_.bX.Table),L},[O]),mn=function(z){We(function(ae){return[].concat(c()(ae),[{type:z.targetType,targetId:z.targetId,status:U.BQ.Added}])}),de(function(ae){var Ue={name:z.name,icon:z.icon,description:z.description,type:z.targetType,targetId:z.targetId,targetConfig:""};return[].concat(c()(ae),[Ue])})},fn=Pe.WH===null||Pe.WH===void 0?void 0:Pe.WH.map(function(L){return{key:L.type,label:L.label,children:(0,T.jsx)(Se,{textClassName:"px-16",type:L.type,list:cn(L.type),onDel:vn}),extra:(0,T.jsx)(ee.Z,{title:"\u6DFB\u52A0".concat(L.label),onClick:function(ae){return ge(ae,L.type)}})}});return{form:s,imageUrl:C,setImageUrl:D,saveLoading:oe,setSaveLoading:ze,saveDeployLoading:Le,setSaveDeployLoading:nn,checkTag:tn,openAddComponent:Oe,setOpenAddComponent:se,mcpConfigComponentList:O,setMcpConfigComponentList:de,addComponents:Ke,setAddComponents:We,collapseActiveKey:pn,handleAddComponent:mn,handleSave:Qe,withDeployRef:Q,collapseList:fn}},i=d},10637:function(q,x,e){var v=e(19632),c=e.n(v),M=e(97857),o=e.n(M),A=e(5574),f=e.n(A),E=e(13969),n=e(11843),P=e(95141),y=e(3622),I=e(67294),m=e(88773),ee=function(){var re=(0,I.useState)([]),V=f()(re,2),H=V[0],$=V[1],fe=(0,I.useState)([]),Y=f()(fe,2),T=Y[0],G=Y[1],ie=function(t,r){var u=function s(a){return a.map(function(p){var C=p.dataType,D=p.subArgs;if(C===P.Gi.Array_Object){var R=(0,m.Z)();if(r.push(R),D&&D.length>0){var B=[o()(o()({},n.TI),{},{key:R,name:E.zC,dataType:P.Gi.Object,subArgs:s(D)})];return o()(o()({},p),{},{subArgs:B})}}return C===P.Gi.Object?o()(o()({},p),{},{subArgs:s(D||[])}):p})};return u(t)||[]},W=function(t,r){if(t?.length>0){var u=c()(r),s=ie(t,u)||[];G(u),$(s)}else $([])},g=function(t,r,u){var s=(0,y.mG)(H,t,r,u);$(s)},Se=function(t,r){var u=function s(a){if(a.subArgs&&a.subArgs.length>0){var p,C=((p=a.subArgs)===null||p===void 0?void 0:p.map(function(R){var B,O=(0,m.Z)();return(B=R.subArgs)!==null&&B!==void 0&&B.length?(r.push(O),s(R)):o()(o()({},R),{},{key:O,bindValue:""})}))||[],D=(0,m.Z)();return r.push(D),o()(o()({},a),{},{key:D,subArgs:C})}return o()(o()({},a),{},{key:(0,m.Z)()})};return u(t)},Pe=function(t){var r=t.key,u=t.dataType,s,a=[];if(u===P.Gi.Array_Object){if(t.subArgs&&t.subArgs.length>0){var p,C=(p=t.subArgs)===null||p===void 0?void 0:p[0];s=Se(C,a)}}else{var D,R=u==null||(D=u.toString())===null||D===void 0||(D=D.split("_"))===null||D===void 0?void 0:D[1];s=o()(o()({},n.TI),{},{key:(0,m.Z)(),name:E.zC,dataType:R})}var B=(0,y.A4)(H,r,s);$(B);var O=c()(T);O.includes(r)||O.push(r),u===P.Gi.Array_Object&&O.push.apply(O,a),G(O)},_=function(t){var r=(0,y.IK)(H,t);$(r)},h=function i(t){return t?.map(function(r){var u=r.subArgs,s={};return u?.forEach(function(a){var p,C,D;if(a.dataType===P.Gi.Object&&a.name!==E.zC){var R,B={};(R=a.subArgs)===null||R===void 0||R.forEach(function(de){B[de.name]=de.bindValue}),s[a.name]=B}else if((p=a.dataType)!==null&&p!==void 0&&p.includes("Array")&&!((C=a.dataType)!==null&&C!==void 0&&C.includes("Object"))){var O;s[a.name]=(O=a.subArgs)===null||O===void 0?void 0:O.map(function(de){return de.bindValue})}else!((D=a.dataType)!==null&&D!==void 0&&D.includes("Array"))&&a.dataType!==P.Gi.Object?s[a.name]=a.bindValue:s[a.name]=i(a?.subArgs)}),s})},d=function i(t){var r={};return t?.forEach(function(u){var s=u.name,a=u.dataType,p=u.subArgs;if(!(a!=null&&a.includes("Array"))&&a!==P.Gi.Object&&(r[s]=u.bindValue),a!=null&&a.includes("Array")&&!(a!=null&&a.includes("Object"))){var C;r[s]=(C=u.subArgs)===null||C===void 0?void 0:C.map(function(D){return D.bindValue})}a===P.Gi.Object&&s!==E.zC&&(r[s]=i(p||[])),a===P.Gi.Array_Object&&p&&p?.length>0&&(r[s]=h(p))}),r};return{handleInit:W,dataSource:H,handleDataSource:d,expandedRowKeys:T,handleInputValue:g,handleInputAddChild:Pe,handleInputDel:_}};x.Z=ee},48520:function(q,x,e){e.r(x),e.d(x,{default:function(){return ae}});var v=e(13769),c=e.n(v),M=e(15009),o=e.n(M),A=e(97857),f=e.n(A),E=e(99289),n=e.n(E),P=e(19632),y=e.n(P),I=e(5574),m=e.n(I),ee=e(10802),U=e(58594),re=e(39207),V=e(16921),H=e(8380),$=e(70852),fe=e(68104),Y=e(70490),T=e(88609),G=e(32440),ie=e(94974),W=e(91120),g=e(79715),Se=e(30881),Pe=e(89575),_=e(3622),h=e(30961),d=e(45360),i=e(99859),t=e(25278),r=e(78045),u=e(94184),s=e.n(u),a=e(67294),p=e(39902),C={container:"container___xPPYT","main-container":"main-container___SZMwq","upload-box":"upload-box___yXsl7","sub-title":"sub-title___RFypL","collapse-container":"collapse-container___AbNwu"},D=e(9783),R=e.n(D),B=e(56393),O=e(86384),de=e(6171),Ge=e(48483),Te=e(85804),Ke=e(30381),We=e.n(Ke),ne={header:"header___vGX0N",icon:"icon___GhjlD",name:"name___I8bNL","deploy-status":"deploy-status___TU4Lx","menus-box":"menus-box___UtkGJ","head-menu":"head-menu___BlQw9",active:"active___ttsxj",disabled:"disabled___sbPaV","extra-box":"extra-box___X33Yl",text:"text___BlXQh","save-btn":"save-btn___p6l0q"},l=e(85893),oe=s().bind(ne),ze=function(F){var he,le,Ce,ve=F.spaceId,Ye=F.saveLoading,Je=F.saveDeployLoading,N=F.mcpInfo,$e=F.currentMenu,b=F.onChooseMenu,Xe=F.onSave,we=F.onSaveAndDeploy,Ie=function(Me){var Re,ue,Fe;if(Me===g.f5.Overview)return!1;var Be=0,me=N?.mcpConfig;switch(Me){case g.f5.Tool:Be=(me==null||(Re=me.tools)===null||Re===void 0?void 0:Re.length)||0;break;case g.f5.Resource:Be=(me==null||(ue=me.resources)===null||ue===void 0?void 0:ue.length)||0;break;case g.f5.Prompt:Be=(me==null||(Fe=me.prompts)===null||Fe===void 0?void 0:Fe.length)||0;break}return Be===0},ke=function(Me){Ie(Me)||b(Me)};return(0,l.jsxs)("header",{className:oe("flex","content-between",ne.header),children:[(0,l.jsxs)("div",{className:oe("flex","items-center","gap-10"),children:[(0,l.jsxs)("div",{className:oe("flex","items-center","cursor-pointer"),onClick:function(){return(0,O.bC)("/space/".concat(ve,"/mcp"))},children:[(0,l.jsx)(de.Z,{className:oe("hover-box",ne.icon)}),(0,l.jsx)("span",{className:ne.name,children:"\u7F16\u8F91MCP\u670D\u52A1"})]}),(0,l.jsxs)("div",{className:oe("flex","items-center","gap-10"),children:[(0,l.jsx)("span",{className:oe(ne["deploy-status"]),children:(0,B.$)(N?.deployStatus)}),N?.deployStatus===g.QX.Deployed&&(0,l.jsx)(Ge.Z,{twoToneColor:"#52c41a"})]})]}),(0,l.jsx)("div",{className:oe("flex","items-center","content-center",ne["menus-box"]),children:T.gg.map(function(pe){return(0,l.jsx)("div",{className:oe("cursor-pointer",ne["head-menu"],R()(R()({},ne.active,$e===pe.value),ne.disabled,Ie(pe.value))),onClick:function(){return ke(pe.value)},children:pe.label},pe.value)})}),(0,l.jsxs)("div",{className:oe("flex","items-center",ne["extra-box"]),children:[N&&[g.QX.Deployed,g.QX.DeployFailed].includes(N.deployStatus)&&N.deployed!==null&&We()(N.deployed).isBefore(N.modified)&&(0,l.jsx)("span",{className:oe(ne.text),children:"\u6709\u66F4\u65B0\u672A\u90E8\u7F72"}),(0,l.jsx)(Te.ZP,{className:oe(R()({},ne["save-btn"],N==null||(he=N.permissions)===null||he===void 0?void 0:he.includes(g.Lf.EditOrDeploy))),onClick:Xe,loading:Ye,disabled:!(N!=null&&(le=N.permissions)!==null&&le!==void 0&&le.includes(g.Lf.EditOrDeploy)),children:"\u4FDD\u5B58"}),(0,l.jsx)(Te.ZP,{type:"primary",onClick:we,loading:Je,disabled:!(N!=null&&(Ce=N.permissions)!==null&&Ce!==void 0&&Ce.includes(g.Lf.EditOrDeploy)),children:"\u4FDD\u5B58\u5E76\u90E8\u7F72"})]})]})},en=ze,ce={container:"container___ZTbTM",name:"name___bDu1a",desc:"desc___AzUer",btn:"btn___tuscH"},Le=s().bind(ce),nn=function(F){var he=F.name,le=F.description,Ce=F.onClick;return(0,l.jsxs)("div",{className:Le(ce.container,"flex","flex-col","gap-10"),children:[(0,l.jsxs)("header",{className:Le("flex","items-center","content-between"),children:[(0,l.jsx)("h6",{className:Le(ce.name),children:he}),(0,l.jsx)(Te.ZP,{className:Le(ce.btn),onClick:Ce,children:"\u8BD5\u8FD0\u884C"})]}),(0,l.jsx)("p",{className:Le(ce.desc,"text-ellipsis-3"),children:le})]})},an=nn,He=e(22594),tn=e(13969),rn=e(32909),sn=e(10637),Ne=e(95141),Oe=e(48689),se=e(97937),Q=e(50888),Qe=e(42075),cn=e(85576),vn=e(79368),ge={"modal-container":"modal-container___TLeXd","inner-container":"inner-container___sXqKH",header:"header___vkxjs",section:"section___V7jYd","p-title":"p-title___QqRSm","table-wrap":"table-wrap___WokGX","result-wrap":"result-wrap___qIPtd","loading-box":"loading-box___jHpuX","param-desc":"param-desc___4rk2R"},X=s().bind(ge),pn=function(F){var he=F.inputConfigArgs,le=F.inputExpandedRowKeys,Ce=F.mcpId,ve=F.name,Ye=F.executeType,Je=Ye===void 0?g.ap.TOOL:Ye,N=F.open,$e=F.onCancel,b=(0,a.useState)(!1),Xe=m()(b,2),we=Xe[0],Ie=Xe[1],ke=(0,a.useState)(""),pe=m()(ke,2),Me=pe[0],Re=pe[1],ue=(0,sn.Z)(),Fe=ue.handleInit,Be=ue.dataSource,me=ue.handleDataSource,Ze=ue.expandedRowKeys,gn=ue.handleInputValue,hn=ue.handleInputAddChild,on=ue.handleInputDel,Cn=(0,p.useRequest)(ie.Ao,{manual:!0,debounceInterval:300,onSuccess:function(te){Ie(!1),Re(JSON.stringify(te,null,2))},onError:function(){Ie(!1)}}),_n=Cn.run;(0,a.useEffect)(function(){Fe(he,le)},[he,le]);var An=function(te,S){var Ae=S;(te.dataType===Ne.Gi.Integer||te.dataType===Ne.Gi.Number)&&S&&(Ae=(0,Pe.an)(S)===""?"":Number((0,Pe.an)(S))),gn(te.key,"bindValue",Ae)},un=[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"name",key:"name",className:"flex",render:function(te,S){return(0,l.jsx)(He.Z,{require:S.require,paramName:S.name,paramType:S.dataType})}},{title:"\u53C2\u6570\u503C",dataIndex:"description",key:"description",render:function(te,S){var Ae;return(0,l.jsxs)(l.Fragment,{children:[Ne.Gi.Object===S.dataType||Ne.Gi.Array_Object===S.dataType||(Ae=S.dataType)!==null&&Ae!==void 0&&Ae.includes("Array")?null:(0,l.jsx)(t.Z,{value:S.bindValue,onChange:function(Ve){return An(S,Ve.target.value)},placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C"}),(0,l.jsx)("p",{className:X(ge["param-desc"]),children:S.description})]})}},{title:"\u64CD\u4F5C",key:"action",width:60,align:"center",render:function(te,S,Ae){var Z;return(0,l.jsx)(Qe.Z,{size:"middle",children:(Z=S.dataType)!==null&&Z!==void 0&&Z.includes("Array")?(0,l.jsx)(rn.Me,{className:X("cursor-pointer"),onClick:function(){return hn(S)}}):S.name===tn.zC&&Ae!==0?(0,l.jsx)(Oe.Z,{onClick:function(){return on(S.key)}}):null})}}],yn=function(){Re(""),Ie(!0);var te=me(Be);_n({id:Ce,executeType:Je,name:ve,params:te})},ln=function(){Re(""),Ie(!1),$e()};return(0,l.jsx)(cn.Z,{centered:!0,open:N,onCancel:ln,className:X(ge["modal-container"]),modalRender:function(){return(0,l.jsxs)("div",{className:X(ge["inner-container"],"flex","flex-col","overflow-hide"),children:[(0,l.jsxs)("header",{className:X("flex","content-between","items-center",ge.header),children:[(0,l.jsx)("h3",{children:"\u8BD5\u8FD0\u884C"}),(0,l.jsx)(se.Z,{className:X("cursor-pointer"),onClick:ln})]}),(0,l.jsxs)("section",{className:X("flex","flex-1","overflow-hide",ge.section),children:[(0,l.jsxs)("div",{className:X("flex-1","flex","flex-col"),children:[(0,l.jsxs)("h3",{className:X(ge["p-title"]),children:[ve," \u8F93\u5165\u53C2\u6570"]}),(0,l.jsx)(vn.Z,{className:X(ge["table-wrap"]),columns:un,dataSource:Be,pagination:!1,virtual:!0,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:Ze,expandIcon:function(){return null}},scroll:{y:450},footer:function(){return(0,l.jsx)("div",{className:X("text-right"),children:(0,l.jsx)(Te.ZP,{type:"primary",onClick:yn,loading:we,children:"\u8FD0\u884C"})})}})]}),(0,l.jsxs)("div",{className:X("flex-1","flex","flex-col","overflow-hide"),children:[(0,l.jsxs)("h3",{className:X(ge["p-title"]),children:[ve," \u8C03\u8BD5\u7ED3\u679C"]}),(0,l.jsx)("div",{className:X("flex-1","radius-6","overflow-hide",ge["result-wrap"]),children:we?(0,l.jsxs)("div",{className:X("h-full","flex","items-center","content-center",ge["loading-box"]),children:[(0,l.jsx)(Q.Z,{}),(0,l.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]}):Me?(0,l.jsx)("div",{className:X("h-full","flex","flex-col","px-16","py-16","overflow-y"),children:(0,l.jsx)("pre",{children:Me})}):(0,l.jsx)("div",{className:X("h-full","flex","items-center","content-center"),children:"\u8C03\u8BD5\u7ED3\u679C\u5C06\u5C55\u793A\u5728\u6B64\u5904"})})]})]})]})}})},mn=pn,fn=["serverConfig"],L=s().bind(C),z=function(){var F=(0,p.useParams)(),he=Number(F.spaceId),le=Number(F.mcpId),Ce=(0,a.useState)(!1),ve=m()(Ce,2),Ye=ve[0],Je=ve[1],N=(0,a.useState)(),$e=m()(N,2),b=$e[0],Xe=$e[1],we=(0,a.useState)(g.f5.Overview),Ie=m()(we,2),ke=Ie[0],pe=Ie[1],Me=(0,a.useState)([]),Re=m()(Me,2),ue=Re[0],Fe=Re[1],Be=(0,a.useState)(),me=m()(Be,2),Ze=me[0],gn=me[1],hn=(0,a.useState)([]),on=m()(hn,2),Cn=on[0],_n=on[1],An=(0,a.useState)(!1),un=m()(An,2),yn=un[0],ln=un[1],_e=(0,a.useRef)(g.ap.TOOL),te=(0,a.useRef)(null),S=(0,a.useRef)(),Ae=(0,a.useRef)(g.f5.Overview),Z=(0,G.Z)(),Ve=Z.form,On=Z.imageUrl,Dn=Z.setImageUrl,Sn=Z.saveLoading,En=Z.setSaveLoading,In=Z.saveDeployLoading,xn=Z.setSaveDeployLoading,Rn=Z.checkTag,Ln=Z.openAddComponent,Nn=Z.setOpenAddComponent,dn=Z.mcpConfigComponentList,Un=Z.setMcpConfigComponentList,Fn=Z.addComponents,Bn=Z.setAddComponents,Kn=Z.collapseActiveKey,Wn=Z.handleAddComponent,jn=Z.handleSave,Mn=Z.withDeployRef,Zn=Z.collapseList,Vn=function(j){var K;Je(!1),Xe(j),S.current=j;var De=j.name,w=j.description,ye=j.icon,Ee=j.installType,J=j.mcpConfig;Ve.setFieldsValue({name:De,description:w,installType:Ee,serverConfig:J?.serverConfig}),Un(J?.components||[]),Dn(ye),J==null||(K=J.components)===null||K===void 0||K.forEach(function(je){Bn(function(xe){return[].concat(y()(xe),[{type:je.type,targetId:je.targetId,status:W.BQ.Added}])})})},Gn=(0,p.useRequest)(ie.$h,{manual:!0,debounceInterval:300,onSuccess:function(j){Vn(j)}}),bn=Gn.run,Qn=(0,p.useRequest)(ie.NI,{manual:!0,debounceInterval:300,onSuccess:function(j,K){var De=K[0],w=De.withDeploy,ye=w?"\u5DF2\u5B8C\u6210\u4FDD\u5B58\u5E76\u63D0\u4EA4\u90E8\u7F72":"\u4FDD\u5B58MCP\u670D\u52A1\u6210\u529F";d.ZP.success(ye),xn(!1),En(!1),pe(g.f5.Overview),Ae.current=g.f5.Overview,bn(le)},onError:function(){xn(!1),En(!1)}}),Xn=Qn.run;(0,a.useEffect)(function(){Je(!0),bn(le),Ae.current=g.f5.Overview},[le]);var Pn=function(){te.current&&(clearInterval(te.current),te.current=null)},zn=function(){var k=n()(o()().mark(function j(){var K,De,w,ye,Ee,J,je,xe;return o()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.next=2,(0,ie.$h)(le);case 2:K=be.sent,De=K.code,w=K.data,ye=K.message,De===Y.Gh?(xe=f()(f()({},b),{},{deployStatus:w.deployStatus,deployed:w.deployed,modified:w.modified,mcpConfig:f()(f()({},b?.mcpConfig),{},{tools:(Ee=w.mcpConfig)===null||Ee===void 0?void 0:Ee.tools,resources:(J=w.mcpConfig)===null||J===void 0?void 0:J.resources,prompts:(je=w.mcpConfig)===null||je===void 0?void 0:je.prompts})}),Xe(xe)):(d.ZP.error(ye),Pn());case 7:case"end":return be.stop()}},j)}));return function(){return k.apply(this,arguments)}}();(0,a.useEffect)(function(){return b?.deployStatus===g.QX.Deploying?te.current=setInterval(function(){zn()},2e3):Pn(),function(){Pn()}},[b]);var Hn=function(j){var K,De,w,ye;if(Ae.current===g.f5.Overview)K=j.name,De=j.description,w=j.installType,ye=j.serverConfig;else{var Ee,J,je,xe;K=(Ee=S.current)===null||Ee===void 0?void 0:Ee.name,De=(J=S.current)===null||J===void 0?void 0:J.description,w=(je=S.current)===null||je===void 0?void 0:je.installType,ye=(xe=S.current)===null||xe===void 0||(xe=xe.mcpConfig)===null||xe===void 0?void 0:xe.serverConfig}if(w===g.l_.COMPONENT){if(!(dn!=null&&dn.length)){d.ZP.warning("\u8BF7\u9009\u62E9\u7EC4\u4EF6");return}}else if(!ye){d.ZP.warning("\u8BF7\u8F93\u5165MCP\u670D\u52A1\u914D\u7F6E");return}Mn.current?xn(!0):En(!0);var qe=w===g.l_.COMPONENT?{serverConfig:"",components:dn}:{serverConfig:ye,components:[]},be={name:K,description:De,installType:w,id:le,icon:On,mcpConfig:qe,withDeploy:Mn.current};Xn(be)},Yn=function(j){if(pe(j),Ae.current=j,j===g.f5.Overview&&S.current){var K=S.current,De=K.name,w=K.description,ye=K.installType,Ee=K.mcpConfig;Ve.setFieldsValue({name:De,description:w,installType:ye,serverConfig:Ee?.serverConfig})}else if(b){var J=Ve.getFieldsValue(),je=J.serverConfig,xe=c()(J,fn);S.current=f()(f()(f()({},b),xe),{},{mcpConfig:f()(f()({},b?.mcpConfig||{}),{},{serverConfig:je})})}if(j===g.f5.Tool){var qe;_e.current=g.ap.TOOL,Fe((b==null||(qe=b.mcpConfig)===null||qe===void 0?void 0:qe.tools)||[])}if(j===g.f5.Resource){var be;_e.current=g.ap.RESOURCE,Fe((b==null||(be=b.mcpConfig)===null||be===void 0?void 0:be.resources)||[])}if(j===g.f5.Prompt){var Tn;_e.current=g.ap.PROMPT,Fe((b==null||(Tn=b.mcpConfig)===null||Tn===void 0?void 0:Tn.prompts)||[])}},Jn=function(j){var K=(0,_.kS)(j.inputArgs);_n(K),gn(j),ln(!0)};return(0,l.jsxs)("div",{className:L(C.container,"flex","flex-col","h-full"),children:[(0,l.jsx)(en,{spaceId:he,saveLoading:Sn,saveDeployLoading:In,mcpInfo:b,currentMenu:ke,onChooseMenu:Yn,onSave:function(){return jn(!1)},onSaveAndDeploy:function(){return jn(!0)}}),(0,l.jsx)("div",{className:L("flex-1","overflow-y"),children:Ye?(0,l.jsx)($.Z,{className:"h-full"}):(0,l.jsx)("div",{className:L(C["main-container"]),children:ke===g.f5.Overview?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(fe.Z,{className:C["upload-box"],onUploadSuccess:Dn,imageUrl:On,defaultImage:ee}),(0,l.jsxs)(i.Z,{form:Ve,preserve:!1,layout:"vertical",requiredMark:h.N,onFinish:Hn,autoComplete:"off",children:[(0,l.jsx)(i.Z.Item,{name:"name",label:"\u670D\u52A1\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165MCP\u670D\u52A1\u540D\u79F0"}],children:(0,l.jsx)(t.Z,{placeholder:"MCP\u670D\u52A1\u540D\u79F0",showCount:!0,maxLength:30})}),(0,l.jsx)(i.Z.Item,{name:"description",label:"\u63CF\u8FF0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0\u4F60\u7684MCP\u670D\u52A1"}],children:(0,l.jsx)(t.Z.TextArea,{className:"dispose-textarea-count",placeholder:"\u63CF\u8FF0\u4F60\u7684MCP\u670D\u52A1",showCount:!0,maxLength:500,autoSize:{minRows:3,maxRows:5}})}),(0,l.jsx)(i.Z.Item,{name:"installType",label:"\u5B89\u88C5\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5B89\u88C5\u65B9\u5F0F"}],children:(0,l.jsx)(r.ZP.Group,{disabled:!0,options:T.VR})}),b?.installType!==g.l_.COMPONENT?(0,l.jsx)(i.Z.Item,{name:"serverConfig",label:(0,l.jsxs)("div",{className:L("flex","items-center"),children:[(0,l.jsx)("span",{children:"MCP\u670D\u52A1\u914D\u7F6E"}),(0,l.jsx)("span",{className:L(C["sub-title"]),children:"MCP\u670D\u52A1\u4F7F\u7528json\u914D\u7F6E\uFF0C\u63D0\u4EA4\u524D\u786E\u4FDD\u683C\u5F0F\u6B63\u786E"})]}),rules:[{required:!0,message:"\u8BF7\u8F93\u5165MCP\u670D\u52A1\u914D\u7F6E"},{validator:function(j,K){return K?(0,Pe.tp)(K)?Promise.resolve():Promise.reject(new Error("\u8BF7\u8F93\u5165\u6709\u6548\u7684JSON\u683C\u5F0F")):Promise.resolve()}}],children:(0,l.jsx)(U.Z,{className:L("w-full","radius-10","overflow-hide"),codeLanguage:Se.vQ.JSON,height:"300px",codeOptimizeVisible:!1})}):(0,l.jsx)(i.Z.Item,{name:"components",label:(0,l.jsx)(H.Z,{label:"\u7EC4\u4EF6\u9009\u62E9"}),children:(0,l.jsx)(re.Z,{className:L(C["collapse-container"]),items:Zn,defaultActiveKey:Kn})})]})]}):(0,l.jsx)("div",{className:L("flex","flex-col","gap-10"),children:ue?.map(function(k,j){return(0,l.jsx)(an,{name:k.name,description:k.description,onClick:function(){return Jn(k)}},j)})})})}),(0,l.jsx)(V.Z,{open:Ln,onCancel:function(){return Nn(!1)},checkTag:Rn,addComponents:Fn,onAdded:Wn,hideTop:[W.qR.MCP]}),(0,l.jsx)(mn,{inputConfigArgs:Ze?.inputArgs||[],inputExpandedRowKeys:Cn,executeType:_e.current,mcpId:le,name:Ze?.name,open:yn,onCancel:function(){return ln(!1)}})]})},ae=z},94974:function(q,x,e){e.d(x,{$h:function(){return P},Ao:function(){return M},Be:function(){return A},Lk:function(){return n},NI:function(){return c},b9:function(){return E},ci:function(){return f},nO:function(){return y},zt:function(){return o}});var v=e(39902);function c(m){return(0,v.request)("/api/mcp/update",{method:"POST",data:m})}function M(m){return(0,v.request)("/api/mcp/test",{method:"POST",data:m})}function o(m){return(0,v.request)("/api/mcp/stop/".concat(m),{method:"POST"})}function A(m){return(0,v.request)("/api/mcp/server/config/refresh/".concat(m),{method:"POST"})}function f(m){return(0,v.request)("/api/mcp/server/config/export/".concat(m),{method:"POST"})}function E(m){return(0,v.request)("/api/mcp/delete/".concat(m),{method:"POST"})}function n(m){return(0,v.request)("/api/mcp/create",{method:"POST",data:m})}function P(m){return(0,v.request)("/api/mcp/".concat(m),{method:"GET"})}function y(m){return(0,v.request)("/api/mcp/list/".concat(m),{method:"GET"})}function I(m){return request("/api/mcp/deployed/list/".concat(m),{method:"GET"})}},79715:function(q,x,e){e.d(x,{DM:function(){return o},Lf:function(){return M},QX:function(){return c},ap:function(){return E},f5:function(){return f},l_:function(){return v},pS:function(){return A}});var v=function(n){return n.NPX="NPX",n.UVX="UVX",n.SSE="SSE",n.COMPONENT="COMPONENT",n}({}),c=function(n){return n.Initialization="Initialization",n.Deploying="Deploying",n.Deployed="Deployed",n.DeployFailed="DeployFailed",n.Stopped="Stopped",n}({}),M=function(n){return n.EditOrDeploy="EditOrDeploy",n.Delete="Delete",n.Stop="Stop",n.Export="Export",n}({}),o=function(n){return n.All="All",n.Deployed="Deployed",n}({}),A=function(n){return n.Stop_Service="Stop_Service",n.Service_Export="Service_Export",n.Del="Del",n}({}),f=function(n){return n[n.Overview=0]="Overview",n[n.Tool=1]="Tool",n[n.Resource=2]="Resource",n[n.Prompt=3]="Prompt",n}({}),E=function(n){return n.TOOL="TOOL",n.RESOURCE="RESOURCE",n.PROMPT="PROMPT",n}({})},57822:function(q,x,e){e.d(x,{Q:function(){return v}});var v=function(c){return c.Agent="Agent",c.Plugin="Plugin",c.Workflow="Workflow",c.Knowledge="Knowledge",c.Template="Template",c}({})},3622:function(q,x,e){e.d(x,{A4:function(){return re},DY:function(){return g},IK:function(){return H},Lg:function(){return G},T6:function(){return Pe},YY:function(){return U},k$:function(){return W},kS:function(){return V},mG:function(){return T},y7:function(){return ie}});var v=e(9783),c=e.n(v),M=e(64599),o=e.n(M),A=e(19632),f=e.n(A),E=e(97857),n=e.n(E),P=e(11843),y=e(95141),I=e(57557),m=e.n(I),ee=e(88773),U=function _(h,d){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!Array.isArray(h))return-1;for(var t=0;t<h.length;t++){var r=h[t];if(r.key===d)return i;if(r.subArgs){var u=_(r.subArgs,d,i+1);if(u!==-1)return u}}return-1},re=function(h,d,i){var t=function r(u){return u.map(function(s){return s.key===d?n()(n()({},s),{},{subArgs:[].concat(f()(s.subArgs||[]),[i])}):s.subArgs?n()(n()({},s),{},{subArgs:r(s.subArgs)}):s})};return t(h)||[]},V=function(h){if(!h)return[];var d=[],i=function t(r){var u=o()(r),s;try{for(u.s();!(s=u.n()).done;){var a=s.value;a.subArgs&&(d.push(a.key),t(a.subArgs))}}catch(p){u.e(p)}finally{u.f()}};return i(h),d},H=function(h,d){var i=function t(r){return r.filter(function(u){return u.key===d?!1:(u.subArgs&&(u.subArgs=t(u.subArgs)),!0)})};return i(h)||[]},$=function _(h,d,i){d?.forEach(function(t){var r;t[h]=i,(r=t.subArgs)!==null&&r!==void 0&&r.length&&_(h,t.subArgs,i)})},fe=function _(h,d){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],t=o()(h),r;try{for(t.s();!(r=t.n()).done;){var u=r.value;if(u.key===d)return i;if(u.subArgs&&u.subArgs.length>0){i.push(u.key);var s=_(u.subArgs,d,i);if(s)return s;i.pop()}}}catch(a){t.e(a)}finally{t.f()}return null},Y=function _(h,d,i){d.forEach(function(t){var r;i.includes(t.key)&&(t[h]=!0),t!=null&&(r=t.subArgs)!==null&&r!==void 0&&r.length&&_(h,t.subArgs,i)})},T=function(h,d,i,t){var r=[],u=function a(p){return p.map(function(C){if(C.key===d){if(i==="dataType")if(([y.Gi.Object,y.Gi.Array_Object].includes(t)||t.toString().includes("Array"))&&(C.bindValue=""),[y.Gi.Object,y.Gi.Array_Object].includes(t)){var D=n()({key:(0,ee.Z)()},P.TI);C.subArgs=[D]}else C.subArgs=void 0;return i==="bindValueType"&&(C.bindValue=""),i==="require"&&t&&!C.bindValue&&(C.enable=!0),(i==="require"||i==="enable")&&(t?r=fe(h,C.key):C.subArgs&&$(i,C.subArgs,!1)),n()(n()({},C),{},c()({},i,t))}return C.subArgs?n()(n()({},C),{},{subArgs:a(C.subArgs)}):C})},s=u(h)||[];return Y(i,s,r),s},G=function(h){var d=function r(u){return u?.filter(function(s){var a;if(s.dataType===y.Gi.Object||(a=s.dataType)!==null&&a!==void 0&&a.includes("Array")){var p;return(p=s.subArgs)!==null&&p!==void 0&&p.length?n()(n()({},s),{},{subArgs:r(s.subArgs)}):!0}return!1})},i=function r(u){return u.map(function(s){var a,p=n()(n()({},s),{},{disabled:s.dataType===y.Gi.Object||!1});return(a=p.subArgs)!==null&&a!==void 0&&a.length?n()(n()({},p),{},{subArgs:r(p.subArgs)}):p})},t=d(h);return i(t)},ie=function _(h){return h.map(function(d){var i,t;if((i=d.dataType)!==null&&i!==void 0&&i.includes("Array")){var r=m()(d,["subArgs"]);return n()(n()({},r),{},{key:d.key,name:d.name,description:d.description})}return(t=d.subArgs)!==null&&t!==void 0&&t.length?n()(n()({},d),{},{subArgs:_(d.subArgs)}):d})},W=function _(h){return h.map(function(d){var i,t,r=n()(n()({},d),{},{disabled:d.dataType===y.Gi.Object||((i=d.dataType)===null||i===void 0?void 0:i.includes("Array"))||!1});return(t=r.subArgs)!==null&&t!==void 0&&t.length?n()(n()({},r),{},{subArgs:_(r.subArgs)}):r})},g=function _(h,d){var i=o()(h),t;try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.key===d)return r;if(r.subArgs){var u=_(r.subArgs,d);if(u)return u}}}catch(s){i.e(s)}finally{i.f()}},Se=function(h){var d=!0,i=function r(u){return u?.map(function(s){var a;return s.nameRequired=!s.name,s.descRequired=!s.description,d&&(d=!!s.name&&!!s.description),s!=null&&(a=s.subArgs)!==null&&a!==void 0&&a.length?_objectSpread(_objectSpread({},s),{},{subArgs:r(s.subArgs)}):s})},t=i(h);return{list:t,isAllRequired:d}},Pe=function _(h){return h?.map(function(d){return d.bindValueType||(d.bindValueType=y.Oy.Input),d.subArgs&&d.subArgs.length>0&&(d.subArgs=_(d.subArgs)),d.children&&d.children.length>0&&(d.children=_(d.children)),d})}},56393:function(q,x,e){e.d(x,{$:function(){return c}});var v=e(79715),c=function(o){switch(o){case v.QX.Initialization:return"\u5F85\u90E8\u7F72";case v.QX.Deploying:return"\u90E8\u7F72\u4E2D";case v.QX.Deployed:return"\u5DF2\u90E8\u7F72";case v.QX.DeployFailed:return"\u90E8\u7F72\u5931\u8D25";case v.QX.Stopped:return"\u5DF2\u505C\u6B62";default:return""}}},10802:function(q){q.exports="data:image/png;base64,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"}}]);})();
