"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[5403],{81716:function(le,D,e){e.d(D,{Z:function(){return d}});var P=e(66283),i=e(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},I=o,S=e(47221),c=function(g,v){return i.createElement(S.Z,(0,P.Z)({},g,{ref:v,icon:I}))},l=i.forwardRef(c),d=l},77635:function(le,D,e){e.d(D,{Z:function(){return d}});var P=e(66283),i=e(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},I=o,S=e(47221),c=function(g,v){return i.createElement(S.Z,(0,P.Z)({},g,{ref:v,icon:I}))},l=i.forwardRef(c),d=l},64771:function(le,D,e){e.d(D,{Z:function(){return d}});var P=e(66283),i=e(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},I=o,S=e(47221),c=function(g,v){return i.createElement(S.Z,(0,P.Z)({},g,{ref:v,icon:I}))},l=i.forwardRef(c),d=l},61606:function(le,D,e){e.d(D,{Z:function(){return d}});var P=e(66283),i=e(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},I=o,S=e(47221),c=function(g,v){return i.createElement(S.Z,(0,P.Z)({},g,{ref:v,icon:I}))},l=i.forwardRef(c),d=l},65857:function(le,D,e){e.d(D,{Z:function(){return f}});var P=e(22675),i=e(94581),o=e.n(i),I=e(75271),S={avatar:"avatar___Q6WBB",nickname:"nickname___pjZCy"},c=e(52676),l=o().bind(S),d=function(v){var y=v.className,h=v.icon,E=v.name,a=v.extra;return(0,c.jsxs)("div",{className:l("flex","flex-col","items-center","content-center",y),children:[(0,c.jsx)("img",{className:l(S.avatar),src:h||P,alt:""}),(0,c.jsx)("h3",{className:l("w-full","text-ellipsis",S.nickname),children:E}),a]})},f=d},83862:function(le,D,e){var P=e(48305),i=e.n(P),o=e(75271),I=e(52676),S=function(l){var d=l.config,f=l.elementId,g=l.doAction,v=l.onReady,y=(0,o.useState)(!1),h=i()(y,2),E=h[0],a=h[1],r=(0,o.useRef)(!1),u=function(B){return g(B),{captchaResult:!0,bizResult:!0}},T=(0,o.useCallback)(function(){var m,B;(m=document.getElementById("aliyunCaptcha-mask"))===null||m===void 0||m.remove(),(B=document.getElementById("aliyunCaptcha-window-popup"))===null||B===void 0||B.remove()},[]),b=(0,o.useCallback)(function(m){m&&a(!0)},[]);return(0,o.useEffect)(function(){return r.current=!1,d!=null&&d.captchaSceneId&&d!==null&&d!==void 0&&d.captchaPrefix&&d!==null&&d!==void 0&&d.openCaptcha&&window.initAliyunCaptcha({SceneId:d.captchaSceneId,prefix:d.captchaPrefix,mode:"popup",element:"#captcha-element",button:"#".concat(f),captchaVerifyCallback:u,onBizResultCallback:function(){},getInstance:b,slideStyle:{width:360,height:40},language:"cn"}),T},[d,f]),(0,o.useEffect)(function(){return E&&(v?.(),console.log("\u9A8C\u8BC1\u7801\u521D\u59CB\u5316\u5B8C\u6210\uFF0ConReady\u5DF2\u8C03\u7528")),function(){}},[E]),(0,I.jsx)("div",{className:"captcha-a",children:(0,I.jsx)("div",{id:"captcha-element"})})};D.Z=(0,o.memo)(S)},34077:function(le,D,e){e.d(D,{Z:function(){return ie}});var P=e(82092),i=e.n(P),o=e(22675),I=e(78987),S=e(57625),c=e(59261),l=e(13383),d=e(13278),f=e(72875),g=e(91268),v=e(27689),y=e(64799),h=e(92122),E=e(41249),a=e(38683),r=e(94581),u=e.n(r),T=e(32699),b=e(75271),m=e(87453),B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAERSURBVCiRjZFBccNADEWfdgrAYeAwcBmYQSwGMYKkCOwwKIOYgZZBITQQzCBBsOoh25lN7ab9pz3ozftaCTlmtkfkADTADbjg3qvqzEpC8a4zdEFkBGpEPs2sWQNfzOwIVKo6mhmIDKS0AV4ROSNiwHZpFNkhMpjZqKojEBEZgBb3N6A2s26tapvrDRajAR0wqWrM+83pvsJjVeCGyERKm2yatOv6YqYKIVzXjBH3o6qOuGsJmVkNVLi3S9D9BFQW4wdwKaBGVWfce6CzGM8lKN9D+fdqYAaqbOpVdco3PpdrSGGoPISdp7QNIVxxb4D9b7DwJLneEhZ5fwquwveTtX+CDzBEoMP99C/wh/mkquMXpnqTpDNkdZAAAAAASUVORK5CYII=",W=e(6619),z=e(53895),K={container:"container___bqr6a","elapsed-time":"elapsed-time___NLFZM","vertical-line":"vertical-line___viPQ6","more-action":"more-action___oDxDL",icon:"icon___hoIgl","copy-image":"copy-image___YsG7v"},t=e(52676),j=u().bind(K),N=function(_){var G=_.messageInfo,Ae=G||{},Y=Ae.finalResult,s=(0,m.useModel)("conversationInfo"),xe=s.handleDebug,ve=s.showType,Be=(0,m.useModel)("chat"),Le=Be.pagePreviewData,je=Be.hidePagePreview,Ne=function(){Le&&je(),xe(G)},re=(0,b.useMemo)(function(){return Y?((Y?.endTime-Y?.startTime)/1e3).toFixed(1):0},[Y]);return(0,t.jsx)("div",{className:j(K.container,"flex","content-between","items-center"),children:(0,t.jsxs)("div",{className:j("flex","items-center",K["elapsed-time"]),children:[(0,t.jsxs)(c.Z,{condition:!!Y,children:[(0,t.jsx)("span",{children:"".concat(re,"s")}),(0,t.jsxs)(c.Z,{condition:!!(Y!=null&&Y.totalTokens),children:[(0,t.jsx)("span",{className:j(K["vertical-line"])}),(0,t.jsx)("span",{children:"".concat(Y?.totalTokens," Tokens")})]})]}),(ve===z.wv.Version_History||ve===z.wv.Show_Stand||ve===z.wv.Hide)&&(0,t.jsx)(c.Z,{condition:!!Y,children:(0,t.jsx)(W.Z,{className:K.icon,icon:(0,t.jsx)("img",{src:B,alt:""}),onClick:Ne,title:"\u8C03\u8BD5",type:h.Ai.White})})]})})},k=N,me={"xagi-nav-style2":"xagi-nav-style2___mrh9D",text:"text___O7qUb","page-container":"page-container___XXv4P",container:"container___I82RP","elapsed-time":"elapsed-time___VSdJP","vertical-line":"vertical-line___RYAxp","more-action":"more-action___J8lvL",icon:"icon___V_fce","copy-image":"copy-image___Lbh8o"},ee=u().bind(me),n=function(_){var G=_.messageInfo,Ae=G||{},Y=Ae.text,s=function(){E.ZP.success("\u590D\u5236\u6210\u529F")};return(0,t.jsx)("div",{className:ee(me.container,"flex","content-between","items-center"),children:(0,t.jsx)("div",{className:ee("flex",me["more-action"]),children:(0,t.jsx)(d.Z,{text:Y||"",onCopy:s,children:"\u590D\u5236"})})})},F=n,p=e(48305),U=e.n(p),ye=e(39373),ne={"xagi-nav-style2":"xagi-nav-style2___A0cfb",text:"text___mQKpe","page-container":"page-container___clFMO",container:"container___bMNUQ","more-action":"more-action___PPoj0"},be=u().bind(ne),De=function(_){var G=_.messageInfo,Ae=(0,b.useState)(""),Y=U()(Ae,2),s=Y[0],xe=Y[1],ve=(0,b.useRef)(null),Be=function(){E.ZP.success("\u590D\u5236\u6210\u529F")},Le=function(){xe((0,ye.BK)(G?.time))},je=function(){Le(),ve.current=setInterval(function(){Le()},6e4)};return(0,b.useEffect)(function(){return G!=null&&G.time&&je(),function(){ve.current!==null&&(clearInterval(ve.current),ve.current=null)}},[G?.time]),(0,t.jsxs)("div",{className:be(ne.container,"flex","content-between","items-center"),children:[(0,t.jsx)("div",{className:be("flex",ne["more-action"]),children:(0,t.jsx)(d.Z,{text:G?.text||"",onCopy:Be,children:"\u590D\u5236"})}),(0,t.jsx)("span",{children:s})]})},he=De,ue=e(30746),C={"xagi-nav-style2":"xagi-nav-style2___C6M16",text:"text___s3NJ6","page-container":"page-container___wYf4F",container:"container___zSEQO",avatar:"avatar___IfDvJ",author:"author___AmRDb","agent-title-bar":"agent-title-bar___Y8m62","attach-file-container":"attach-file-container___xvbrf",userContainer:"userContainer___sPaST","user-content":"user-content___M5R1a","chat-content":"chat-content___FWF0e","inner-container":"inner-container___rireg","think-content":"think-content___Qas0a","user-action-box":"user-action-box___T2sE4","copy-btn":"copy-btn___vb1lQ","copy-image":"copy-image___Hbxu3"},Q=u().bind(C),O=(0,b.memo)(function(ce){var _,G=ce.className,Ae=ce.contentClassName,Y=ce.roleInfo,s=ce.messageInfo,xe=ce.mode,ve=xe===void 0?"chat":xe,Be=(0,m.useModel)("userInfo"),Le=Be.userInfo,je=(0,v.K)(),Ne=je.data,re=Ne.antdTheme==="dark",$=(0,g.Z)({answer:s?.text||"",thinking:s?.think||"",id:s?.id||""}),qe=$.markdownRef,ke=$.messageIdRef,Re=Le||JSON.parse(localStorage.getItem(f.CD)),V=function(){var ge=Y.assistant,Ee=Y.system;switch(s?.role){case y.hZ.USER:return{name:Re?.nickName||Re?.userName||"\u6E38\u5BA2",avatar:Re?.avatar||I};case y.hZ.ASSISTANT:return{name:ge.name,avatar:ge.avatar||o};case y.hZ.SYSTEM:return{name:Ee.name,avatar:Ee.avatar||o}}}(),x=function(){E.ZP.success("\u590D\u5236\u6210\u529F")},H=(0,b.useCallback)(function(ge){return ge.replace(/^\s+|\s+$/g,"")},[]),q=(0,b.useMemo)(function(){return s?.role===y.hZ.USER},[s?.role]),de=a.Z.useToken(),pe=de.token;return(0,t.jsx)("div",{className:Q(C.container,"flex",G),children:(0,t.jsxs)("div",{className:Q("flex-1","overflow-hide",i()({},C.userContainer,q)),children:[!q&&(0,t.jsxs)("div",{className:Q(C["agent-title-bar"]),children:[(0,t.jsx)("img",{className:Q(C.avatar),src:V?.avatar,alt:""}),(0,t.jsx)("div",{className:Q(C.author),children:V?.name}),(0,t.jsx)(c.Z,{condition:!!(s!=null&&s.status),children:(0,t.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:12},children:(0,t.jsx)("div",{style:{flex:1},children:(0,t.jsx)(ue.Z,{messageInfo:s})})})})]}),!!(s!=null&&(_=s.attachments)!==null&&_!==void 0&&_.length)&&(0,t.jsx)("div",{className:Q(C["attach-file-container"]),children:(0,t.jsx)(S.Z,{files:s?.attachments})}),q&&!!(s!=null&&s.text)&&(0,t.jsxs)("div",{className:Q(C["user-content"]),children:[(0,t.jsx)("div",{className:Q(C["chat-content"],C.user,"radius-6",Ae,"ds-markdown",{"ds-markdown-dark":re}),children:(0,t.jsx)("div",{className:"ds-markdown-answer",children:(0,t.jsx)("div",{style:{whiteSpace:"pre-wrap"},className:"ds-markdown-paragraph ds-typed-answer",children:H(s?.text)})})}),(0,t.jsx)("div",{className:Q(C["user-action-box"],"flex","items-center"),children:(0,t.jsx)(d.Z,{text:s.text||"",onCopy:x,children:"\u590D\u5236"})})]}),(0,t.jsxs)(c.Z,{condition:s?.role!==y.hZ.USER,children:[(!!(s!=null&&s.think)||!!(s!=null&&s.text))&&(0,t.jsx)("div",{className:Q(C["inner-container"],Ae),children:(0,t.jsx)("div",{className:Q(C["chat-content"],"radius-6","w-full",i()({},C.typing,s.status===h.ge.Incomplete||s.status===h.ge.Loading)),children:(0,t.jsx)(l.ZP,{id:"".concat(ke.current),markdownRef:qe},"".concat(ke.current))})}),(0,t.jsx)(c.Z,{condition:s&&(s?.status===h.ge.Complete||!(s!=null&&s.status)),children:ve==="chat"?(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12,padding:"0 ".concat(pe.paddingXS,"px")},children:[(0,t.jsx)("div",{style:{flex:1},children:(0,t.jsx)(F,{messageInfo:s})}),(0,t.jsx)(k,{messageInfo:s})]}):ve==="home"?(0,t.jsx)(he,{messageInfo:s}):null})]})]})})},function(ce,_){return(0,T.isEqual)(ce.messageInfo,_.messageInfo)}),ie=O},59261:function(le,D,e){var P=e(75271),i=e(52676),o=function(S){var c=S.children,l=S.condition;return l?(0,i.jsx)(i.Fragment,{children:c}):null};D.Z=o},2349:function(le,D,e){e.d(D,{Z:function(){return m}});var P=e(48305),i=e.n(P),o=e(64799),I=e(26324),S=e(13143),c=e(28246),l=e(63619),d=e(51249),f=e(28190),g=e(9504),v=e(94581),y=e.n(v),h=e(75271),E=e(59261),a={"xagi-nav-style2":"xagi-nav-style2___y6MJu",text:"text___XcdJn","page-container":"page-container___aQb4E","variables-box":"variables-box___zOde3",header:"header____mIzl","down-icon":"down-icon___nE2JF","rotate-90":"rotate-90___n3jXV","conversation-container":"conversation-container___wfpdk","close-form":"close-form___uaNXu","form-box":"form-box___AloSZ",desc:"desc___XIVD5"},r=e(52676),u=y().bind(a),T=c.Z.SHOW_CHILD,b=function(W){var z=W.className,K=W.form,t=W.isFilled,j=t===void 0?!1:t,N=W.disabled,k=N===void 0?!1:N,me=W.showSubmitButton,ee=me===void 0?!1:me,n=W.variables,F=W.userFillVariables,p=W.onConfirm,U=(0,h.useState)(!0),ye=i()(U,2),ne=ye[0],be=ye[1];(0,h.useEffect)(function(){F&&K.setFieldsValue(F)},[K,F]);var De=function(Q){be(!1),p?.(Q)},he=ne?a["conversation-container"]:j?a["close-form"]:null,ue=function(Q){var O,ie=Q.inputType,ce=Q.description,_=[o.oI.Select,o.oI.MultipleSelect].includes(ie),G;switch(ie){case o.oI.Text:G=(0,r.jsx)(l.Z,{variant:"filled",placeholder:ce||"\u8BF7\u8F93\u5165",allowClear:!0});break;case o.oI.Paragraph:case o.oI.AutoRecognition:G=(0,r.jsx)(l.Z.TextArea,{variant:"filled",placeholder:ce||"\u8BF7\u8F93\u5165",allowClear:!0});break;case o.oI.Number:G=(0,r.jsx)(d.Z,{variant:"filled",className:"w-full",placeholder:ce||"\u8BF7\u8F93\u5165"});break;case o.oI.Select:case o.oI.MultipleSelect:G=(0,r.jsx)(c.Z,{variant:"filled",expandTrigger:"hover",multiple:ie===o.oI.MultipleSelect,maxTagCount:"responsive",showCheckedStrategy:T,placeholder:ce||"\u8BF7\u9009\u62E9",options:((O=Q.selectConfig)===null||O===void 0?void 0:O.options)||[],allowClear:!0});break;default:G=(0,r.jsx)(l.Z,{placeholder:ce||"\u8BF7\u8F93\u5165",allowClear:!0})}return{isSelect:_,content:G}};return n!=null&&n.length?(0,r.jsxs)("div",{className:u(a["variables-box"],"flex","flex-col",z),children:[(0,r.jsxs)("header",{className:u(a.header,"flex","items-center","content-between"),children:[(0,r.jsx)("span",{children:"\u5BF9\u8BDD\u8BBE\u7F6E"}),(0,r.jsx)(E.Z,{condition:j,children:(0,r.jsx)("span",{className:u(a.text,"cursor-pointer"),onClick:function(){return be(!ne)},children:(0,r.jsx)(S.Z,{className:u(ne?"":a["rotate-90"],a["down-icon"])})})})]}),(0,r.jsxs)("div",{className:u(he),children:[(0,r.jsxs)(f.Z,{form:K,rootClassName:a["form-box"],disabled:k,preserve:!1,layout:"vertical",onFinish:De,requiredMark:I.N,autoComplete:"off",children:[n?.map(function(C){var Q=C.name,O=C.displayName,ie=C.require,ce=C.key,_=ue(C),G=_.isSelect,Ae=_.content;return(0,r.jsx)(f.Z.Item,{name:Q,label:O,rules:[{required:ie,message:"\u8BF7".concat(G?"\u9009\u62E9":"\u8F93\u5165").concat(O)}],children:Ae},ce)}),(0,r.jsx)(E.Z,{condition:ee,children:(0,r.jsx)(f.Z.Item,{children:(0,r.jsx)(g.ZP,{type:"primary",htmlType:"submit",block:!0,children:"\u5F00\u59CB\u5BF9\u8BDD"})})})]}),(0,r.jsx)(E.Z,{condition:k,children:(0,r.jsx)("p",{className:u(a.desc),children:"\u5BF9\u8BDD\u5F00\u59CB\u540E\uFF0C\u5BF9\u8BDD\u8BBE\u7F6E\u5C06\u65E0\u6CD5\u4FEE\u6539\u3002"})})]})]}):null},m=b},84283:function(le,D,e){e.d(D,{Z:function(){return E}});var P=e(31759),i=e.n(P),o=e(44953),I=e(24573),S=e(41249),c=e(94581),l=e.n(c),d=e(75271),f=e(87453),g={"xagi-nav-style2":"xagi-nav-style2___a6A0C",text:"text___ijFbn","page-container":"page-container___AmrXf",container:"container___eQEDc",box:"box___qQPTu",icon:"icon___aN05X"},v=e(52676),y=l().bind(g),h=function(r){var u=r.className,T=r.itemClassName,b=r.loading,m=r.chatSuggestList,B=r.onClick,W=(0,f.useModel)("chat"),z=W.showPagePreview,K=function(N){var k={},me={};if(N.args&&Array.isArray(N.args)&&N.args.forEach(function(F){F.inputType==="Path"&&F.name&&(k[F.name]=F.bindValue),F.inputType==="Query"&&F.name&&F.bindValue&&(me[F.name]=F.bindValue)}),(0,o.N4)(N.pageUrl,k)){var ee=(0,o.Tx)(N?.pageUrl,k),n="".concat("").concat(ee);z({name:N.info||"\u9875\u9762\u9884\u89C8",uri:n,params:me,executeId:"event-".concat(Date.now())})}else S.ZP.error("\u9875\u9762\u8DEF\u5F84\u53C2\u6570\u914D\u7F6E\u9519\u8BEF")},t=function(N){if(N.type==="Question"){B(N.info);return}if(N.type==="Page"){if(!N.pageUrl){S.ZP.error("\u9875\u9762\u8DEF\u5F84\u914D\u7F6E\u9519\u8BEF");return}K(N);return}if(N.type==="Link"){if(!N.url){S.ZP.error("\u94FE\u63A5\u5730\u5740\u914D\u7F6E\u9519\u8BEF");return}window.open(N.url,"_blank");return}};return b?(0,v.jsx)("div",{className:y("flex",g["loading-box"]),children:(0,v.jsx)(I.Z,{})}):m?.length>0?(0,v.jsx)("div",{className:y(g.container,"flex","flex-col",u),children:m?.map(function(j,N){return j?(0,v.jsxs)("div",{onClick:function(){return typeof j=="string"?B(j):t(j)},className:y(g.box,"cursor-pointer","hover-box",T,"text-ellipsis-2"),children:[i()(j)==="object"&&j?.icon&&(0,v.jsx)("img",{className:y(g.icon),src:j?.icon}),typeof j=="string"?j:j.info]},N):null})}):null},E=h},57534:function(le,D,e){e.d(D,{Z:function(){return f}});var P=e(48305),i=e.n(P),o=e(75271),I=e(10894),S=e.n(I),c={container:"container___nA1pk",left:"left___yCQVL",right:"right___W8W7y",divider:"divider___TKhrM",dragging:"dragging___ur7Jj",disabled:"disabled___tspGS",dragOverlay:"dragOverlay___E5wS3"},l=e(52676),d=function(v){var y=v.left,h=v.right,E=v.minLeftWidth,a=E===void 0?350:E,r=v.minRightWidth,u=r===void 0?350:r,T=v.defaultLeftWidth,b=T===void 0?33:T,m=v.dividerColor,B=m===void 0?"#e0e0e0":m,W=v.dividerHoverColor,z=W===void 0?"#bbb":W,K=v.dividerDraggingColor,t=K===void 0?"#1890ff":K,j=v.style,N=v.className,k=(0,o.useRef)(null),me=(0,o.useState)(0),ee=i()(me,2),n=ee[0],F=ee[1],p=(0,o.useState)(b),U=i()(p,2),ye=U[0],ne=U[1],be=(0,o.useState)(!1),De=i()(be,2),he=De[0],ue=De[1],C=(0,o.useState)(!1),Q=i()(C,2),O=Q[0],ie=Q[1],ce=(0,o.useState)(!1),_=i()(ce,2),G=_[0],Ae=_[1],Y=(0,o.useRef)(0),s=(0,o.useRef)(null);(0,o.useEffect)(function(){var V=setTimeout(function(){Ae(!0)},300);return function(){return clearTimeout(V)}},[]),(0,o.useEffect)(function(){var V=function(){if(k.current){var q=k.current.offsetWidth;F(q),!O&&q>0&&ie(!0)}};V();var x=new ResizeObserver(V);return k.current&&x.observe(k.current),window.addEventListener("resize",V),function(){x.disconnect(),window.removeEventListener("resize",V)}},[O]),(0,o.useEffect)(function(){if(!(!n||!O)){var V=Y.current;if(V!==n&&!he){Y.current=n;var x;s.current!==null?x=s.current:x=ye/100*n;var H=n-x,q=x<a,de=H<u;if(q&&de){s.current=a;var pe=a/n*100;ne(pe);return}if(q){s.current=a;var ge=a/n*100;ne(ge);return}if(de){var Ee=n-u;s.current=Ee;var We=Ee/n*100;ne(Math.max(0,We));return}if(s.current!==null){var Fe=s.current/n*100;ne(Fe);return}var Ve=n-u;if(x>Ve){var en=Ve/n*100;ne(en)}}}},[n,O,ye,a,u,he]);var xe=!!y,ve=!!h,Be=xe&&ve,Le=xe&&!ve?100:!xe&&ve?0:ye,je=!Be,Ne=(0,o.useCallback)(function(V,x){if(!(!k.current||n===0)){var H=x.x,q=H/n*100,de=a/n*100,pe=u/n*100,ge=100-pe,Ee=Math.max(de,Math.min(ge,q));ne(Ee),s.current!==null&&(s.current=null)}},[n,a,u]),re=(0,o.useCallback)(function(V){if(!(!k.current||n===0)){var x=k.current.getBoundingClientRect(),H=V.clientX-x.left,q=H/n*100,de=a/n*100,pe=u/n*100,ge=100-pe,Ee=Math.max(de,Math.min(ge,q));ne(Ee),s.current!==null&&(s.current=null)}},[n,a,u]),$=(0,o.useCallback)(function(){ue(!1),document.body.style.userSelect="",document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",$)},[re]),qe=(0,o.useCallback)(function(){ue(!0),document.body.style.userSelect="none",document.addEventListener("mousemove",re),document.addEventListener("mouseup",$)},[re,$]),ke=(0,o.useCallback)(function(V,x){if(ue(!1),document.body.style.userSelect="",document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",$),k.current&&n>0){var H=x.x,q=H/n*100,de=a/n*100,pe=u/n*100,ge=100-pe,Ee=Math.max(de,Math.min(ge,q));ne(Ee),s.current=null}},[n,a,u,re,$]),Re={x:ye/100*n,y:0};return(0,l.jsxs)("div",{className:"".concat(c.container," ").concat(N||""),style:j,ref:k,children:[he&&(0,l.jsx)("div",{className:c.dragOverlay}),xe&&(0,l.jsx)("div",{className:c.left,style:{width:"".concat(Le,"%"),transition:O?"none":"width 0ms",overflow:he?"hidden":"auto"},children:y}),Be&&n>0&&(0,l.jsx)(S(),{axis:"x",position:Re,onStart:qe,onDrag:Ne,onStop:ke,disabled:je,bounds:{left:a,right:n-u},children:(0,l.jsx)("div",{className:"".concat(c.divider," ").concat(je?c.disabled:""," ").concat(he?c.dragging:""),style:{"--divider-color":B,"--divider-hover-color":z,"--divider-dragging-color":t,opacity:G?1:0,transition:"opacity 0.4s ease-in-out"}})}),ve&&(0,l.jsx)("div",{className:c.right,style:{width:"".concat(100-Le,"%"),transition:O?"none":"width 0ms",overflow:he?"hidden":"auto"},children:h})]})},f=d},13278:function(le,D,e){e.d(D,{Z:function(){return a}});var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(77750),c=e(41249),l=e(94581),d=e.n(l),f=e(75271),g=e(62597),v={"xagi-nav-style2":"xagi-nav-style2___AEqbT",text:"text___wIGUC","page-container":"page-container___g236H","copy-btn":"copy-btn___b5ReO",disabled:"disabled___Z1j2i","copy-image":"copy-image___mePrY"},y=e(52676),h=d().bind(v),E=function(u){var T=u.text,b=u.data,m=u.onCopy,B=u.className,W=u.style,z=u.disabled,K=z===void 0?!1:z,t=u.icon,j=u.children,N=j===void 0?"\u590D\u5236":j,k=u.tooltipText,me=u.showSuccessMsg,ee=me===void 0?!0:me,n=u.jsonSpace,F=n===void 0?2:n,p=u.successMessage,U=u.errorMessage,ye=function(){var be=I()(i()().mark(function De(){var he;return i()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(C.prev=0,he="",!b){C.next=6;break}he=JSON.stringify(b,null,F),C.next=12;break;case 6:if(!T){C.next=10;break}he=T,C.next=12;break;case 10:return m&&m("",!1),C.abrupt("return");case 12:return C.next=14,(0,S.TE)(he,function(Q,O){m&&m(Q,O||!1),O&&ee&&p?c.ZP.success(p):!O&&U&&c.ZP.error(U)},!1);case 14:C.next=20;break;case 16:C.prev=16,C.t0=C.catch(0),console.error("\u590D\u5236\u5931\u8D25:",C.t0),m&&m("",!1);case 20:case"end":return C.stop()}},De,null,[[0,16]])}));return function(){return be.apply(this,arguments)}}(),ne=(0,y.jsx)(g.Z,{name:"icons-chat-copy",className:h(v["copy-image"]),style:{fontSize:12}});return K?(0,y.jsxs)("span",{className:h(v["copy-btn"],v.disabled,"flex","items-center","cursor-not-allowed",B),style:W,title:k,children:[t||ne,(0,y.jsx)("span",{children:N})]}):(0,y.jsxs)("span",{className:h(v["copy-btn"],"flex","items-center","cursor-pointer",B),style:W,title:k,onClick:ye,children:[t||ne,(0,y.jsx)("span",{children:N})]})},a=E},15470:function(le,D,e){var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(77750),c=e(64771),l=e(68108),d=e(9504),f=e(75271),g=e(52676),v=function(h){var E=h.text,a=h.data,r=h.onCopy,u=h.buttonType,T=u===void 0?"text":u,b=h.buttonSize,m=b===void 0?"small":b,B=h.showMessage,W=B===void 0?!0:B,z=h.jsonSpace,K=z===void 0?2:z,t=h.tooltipTitle,j=t===void 0?"\u590D\u5236":t,N=h.style,k=h.className,me=function(){var ee=I()(i()().mark(function n(){var F;return i()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(U.prev=0,F="",!a){U.next=6;break}F=JSON.stringify(a,null,K),U.next=12;break;case 6:if(!E){U.next=10;break}F=E,U.next=12;break;case 10:return r&&r("",!1),U.abrupt("return");case 12:return U.next=14,(0,S.TE)(F,function(ye,ne){r&&r(ye,ne||!1)},W);case 14:U.next=20;break;case 16:U.prev=16,U.t0=U.catch(0),console.error("\u590D\u5236\u5931\u8D25:",U.t0),r&&r("",!1);case 20:case"end":return U.stop()}},n,null,[[0,16]])}));return function(){return ee.apply(this,arguments)}}();return(0,g.jsx)(l.Z,{title:j,children:(0,g.jsx)(d.ZP,{type:T,size:m,icon:(0,g.jsx)(c.Z,{}),onClick:me,style:N,className:k})})};D.Z=v},56394:function(le,D,e){e.d(D,{Z:function(){return g}});var P=e(26068),i=e.n(P),o=e(94581),I=e.n(o),S=e(75271),c={container:"container___MZd_M",content:"content___VCV8q",body:"body___G3kls"},l=e(52676),d=function(y){if(y!==void 0)return typeof y=="number"?"".concat(y,"px"):y},f=function(y){var h=y.className,E=y.style,a=y.height,r=y.maxHeight,u=y.bodyWidth,T=y.children,b=(0,S.useMemo)(function(){return i()(i()({},E),{},{height:a!==void 0?d(a):r===void 0?"100%":void 0,maxHeight:d(r)})},[E,a,r]);return(0,l.jsx)("div",{className:I()(c.container,h),style:b,children:(0,l.jsx)("div",{className:c.content,children:(0,l.jsx)("div",{className:c.body,style:{width:u},children:T})})})},g=f},702:function(le,D,e){e.d(D,{Z:function(){return k}});var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(48305),c=e.n(S),l=e(62597),d=e(61265),f=e(80241),g=e(44953),v=e(47383),y=e(61606),h=e(27806),E=e(81707),a=e(14258),r=e(68108),u=e(9504),T=e(56555),b=e(94581),m=e.n(b),B=e(75271),W=e(70797),z=e(87453),K={"xagi-nav-style2":"xagi-nav-style2___IxVei",text:"text___PJibU","page-container":"page-container___r4oL6","page-preview-iframe-container":"page-preview-iframe-container___i7gFb","page-preview-header":"page-preview-header___aUFBG","page-icon":"page-icon___fFlZK","close-btn":"close-btn___GIqOO","page-preview-body":"page-preview-body___op2OU","page-iframe-container":"page-iframe-container___iDJF0","page-iframe":"page-iframe___Fy7dV","loading-wrapper":"loading-wrapper___YqvYY"},t=e(52676),j=m().bind(K),N=function(ee){var n=ee.pagePreviewData,F=ee.showLoading,p=F===void 0?!0:F,U=ee.showHeader,ye=U===void 0?!0:U,ne=ee.showCloseButton,be=ne===void 0?!0:ne,De=ee.onClose,he=ee.style,ue=ee.className,C=ee.titleStyle,Q=ee.titleClassName,O=(0,B.useState)(0),ie=c()(O,2),ce=ie[0],_=ie[1],G=(0,B.useState)(!0),Ae=c()(G,2),Y=Ae[0],s=Ae[1],xe=(0,B.useRef)(null),ve=(0,B.useMemo)(function(){if(!n)return"";var x=n.uri,H=n.params;if(!x)return"";if(/^https?:\/\//.test(x)||(x="".concat("").concat(x)),!H||Object.keys(H).length===0)return x;var q=new URLSearchParams(H).toString();return _(Date.now),"".concat(x,"?").concat(q)},[n]),Be=function(){s(!1)},Le=function(){s(!1)},je=(0,z.useModel)("chat"),Ne=je.previewPageTitle,re=je.setPreviewPageTitle;if((0,B.useEffect)(function(){var x=xe.current;x&&(x.src=ve,s(!0),x.onload=I()(i()().mark(function H(){var q,de,pe,ge,Ee,We,Fe,Ve;return i()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(de=x.contentDocument||((q=x.contentWindow)===null||q===void 0?void 0:q.document),de){w.next=3;break}return w.abrupt("return");case 3:if(pe=new W.Z,Ee=new MutationObserver(function(){clearTimeout(ge),ge=setTimeout(I()(i()().mark(function fe(){var ze,nn,oe,Ie,Qe;return i()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(nn=((ze=de.querySelector("head > title"))===null||ze===void 0?void 0:ze.textContent)||"\u9875\u9762\u9884\u89C8",re(nn),oe=de.body.innerHTML,n!=null&&n.method){Me.next=5;break}return Me.abrupt("return");case 5:if(Ie="",n.data_type==="html"&&(Ie=oe),n.data_type==="markdown"&&(Ie=pe.turndown(oe)),Ie){Me.next=10;break}return Me.abrupt("return");case 10:if(n?.method!=="browser_navigate_page"){Me.next=15;break}return Qe={requestId:n.request_id||"",html:Ie},console.log("CHART2",Qe),Me.next=15,(0,f.kR)(Qe);case 15:case"end":return Me.stop()}},fe)})),500)}),Ee.observe(de.body,{childList:!0,subtree:!0,characterData:!0}),n?.method!=="browser_navigate_page"){w.next=13;break}if(Fe=(We=de.body.querySelector("body>h1"))===null||We===void 0?void 0:We.textContent,Fe!=="Welcome to nginx!"){w.next=13;break}return Ve={requestId:n?.request_id,html:"\u65E0\u6CD5\u8BFB\u53D6\u6570\u636E"},console.log("CHART1",Ve),w.next=13,(0,f.kR)(Ve);case 13:return w.abrupt("return",function(){Ee.disconnect(),clearTimeout(ge)});case 14:case"end":return w.stop()}},H)})))},[n]),!n)return null;function $(){var x;return(x=xe.current)===null||x===void 0?void 0:x.contentWindow}function qe(){var x,H=$();H==null||(x=H.location)===null||x===void 0||x.reload()}function ke(){var x,H=$();H==null||(x=H.history)===null||x===void 0||x.back()}function Re(){var x,H=$();H==null||(x=H.history)===null||x===void 0||x.forward()}function V(){var x=ve;/^https?:\/\//.test(ve)||(x="".concat(window.location.protocol,"//").concat(window.location.host).concat(ve)),(0,g.TE)(x,function(){},!0)}return(0,t.jsxs)("div",{className:j(K["page-preview-iframe-container"],ue),style:he,children:[ye&&(0,t.jsxs)("div",{className:j(K["page-preview-header"]),children:[(0,t.jsxs)("h3",{className:"text-ellipsis",children:[(0,t.jsx)(l.Z,{name:"icons-page",className:j(K["page-icon"])}),(0,t.jsx)("span",{className:Q,style:C,children:Ne})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"10px",marginRight:"20px"},children:[(0,t.jsx)(r.Z,{title:"\u5237\u65B0",children:(0,t.jsx)(u.ZP,{onClick:qe,icon:(0,t.jsx)(v.Z,{})})}),(0,t.jsx)(r.Z,{title:"\u540E\u9000",children:(0,t.jsx)(u.ZP,{onClick:ke,icon:(0,t.jsx)(y.Z,{})})}),(0,t.jsx)(r.Z,{title:"\u524D\u8FDB",children:(0,t.jsx)(u.ZP,{onClick:Re,icon:(0,t.jsx)(h.Z,{})})}),(0,t.jsx)(r.Z,{title:"\u590D\u5236\u94FE\u63A5",children:(0,t.jsx)(u.ZP,{onClick:V,icon:(0,t.jsx)(E.Z,{})})})]}),be&&(0,t.jsx)(a.Z,{className:j(K["close-btn"],"cursor-pointer"),onClick:De})]}),(0,t.jsxs)("div",{className:j(K["page-preview-body"]),children:[p&&Y&&(0,t.jsx)("div",{className:j(K["loading-wrapper"]),children:(0,t.jsx)(T.Z,{size:"large",tip:"\u9875\u9762\u52A0\u8F7D\u4E2D..."})}),(0,t.jsx)("iframe",{ref:xe,src:ve,sandbox:d.lM,className:j(K["page-iframe"]),onLoad:Be,onError:Le,style:{opacity:Y?0:1,transition:"opacity 1.5s ease-in-out"}},ce)]})]})},k=N},6619:function(le,D,e){e.d(D,{Z:function(){return y}});var P=e(62597),i=e(92122),o=e(38683),I=e(68108),S=e(94581),c=e.n(S),l=e(75271),d={box:"box___qPDL3"},f=e(52676),g=c().bind(d),v=function(E){var a=E.className,r=E.type,u=r===void 0?i.Ai.Blank:r,T=E.icon,b=E.title,m=E.onClick,B=u===i.Ai.Blank?"tooltip-blank":"tooltip-white",W=o.Z.useToken(),z=W.token;return(0,f.jsx)(I.Z,{title:b,classNames:{root:B},children:(0,f.jsx)("span",{className:g("hover-box","flex","content-center","items-center","cursor-pointer",d.box,a),onClick:m,children:T||(0,f.jsx)(P.Z,{name:"icons-common-plus",style:{color:z.colorTextTertiary,fontSize:"15px"}})})})},y=v},11872:function(le,D,e){var P=e(64799),i=e(44953),o=e(41249),I=e(75271),S=e(87453),c=function(d){var f=d.containerRef,g=d.eventBindConfig,v=(0,S.useModel)("chat"),y=v.showPagePreview,h=(0,I.useRef)(new Set),E=(0,I.useCallback)(function(a,r){var u,T="".concat(a,"-").concat(r);if(!h.current.has(T)){h.current.add(T),setTimeout(function(){h.current.delete(T)},3e3),console.log("[Event Delegate] \u89E6\u53D1\u4E8B\u4EF6:",{eventType:a,data:r});var b={};try{b=JSON.parse(r)}catch(t){console.error("[Event Delegate] \u6570\u636E\u89E3\u6790\u5931\u8D25:",t);return}var m=g==null||(u=g.eventConfigs)===null||u===void 0?void 0:u.find(function(t){return t.identification===a});if(!m){console.warn("[Event Delegate] \u672A\u627E\u5230\u4E8B\u4EF6\u914D\u7F6E: ".concat(a));return}switch(console.log("[Event Delegate] \u627E\u5230\u4E8B\u4EF6\u914D\u7F6E:",m),m.type){case P.ZE.Page:{if(!m.pageUrl){o.ZP.error("\u9875\u9762\u8DEF\u5F84\u914D\u7F6E\u9519\u8BEF");return}var B={},W={};if(m.args&&Array.isArray(m.args)&&m.args.forEach(function(t){if(t.inputType==="Path"&&t.name){var j;B[t.name]=(j=b[t.name])!==null&&j!==void 0?j:t.bindValue}if(t.inputType==="Query"&&t.name){var N;W[t.name]=(N=b[t.name])!==null&&N!==void 0?N:t.bindValue}}),(0,i.N4)(m.pageUrl,B)){var z=(0,i.Tx)(m.pageUrl,B),K=m.basePath?"".concat(m.basePath).concat(z):"".concat("").concat(z);console.log("[Event Delegate] \u6253\u5F00\u9875\u9762:",{uri:K,params:W,name:m.name}),y({name:m.pageName||"\u9875\u9762",uri:K,params:W,executeId:"event-".concat(Date.now())})}else o.ZP.error("\u9875\u9762\u8DEF\u5F84\u53C2\u6570\u914D\u7F6E\u9519\u8BEF");break}case P.ZE.Link:{if(!m.url){o.ZP.error("\u94FE\u63A5\u5730\u5740\u914D\u7F6E\u9519\u8BEF");return}console.log("[Event Delegate] \u6253\u5F00\u5916\u94FE:",m.url),window.open(m.url,"_blank");break}default:console.warn("[Event Delegate] \u672A\u77E5\u7684\u4E8B\u4EF6\u7C7B\u578B: ".concat(m.type))}}},[g,y]);return(0,I.useEffect)(function(){var a=f.current;if(a){var r=function(T){var b=T.target,m=b.closest(".event");if(m){T.preventDefault(),T.stopPropagation();var B=m.getAttribute("event-type"),W=m.getAttribute("data");B&&W?E(B,W):console.warn("[Event Delegate] \u7F3A\u5C11\u5FC5\u8981\u7684\u5C5E\u6027:",{eventType:B,dataStr:W})}};return a.addEventListener("click",r),console.log("[Event Delegate] \u4E8B\u4EF6\u4EE3\u7406\u5DF2\u521D\u59CB\u5316"),function(){a.removeEventListener("click",r),console.log("[Event Delegate] \u4E8B\u4EF6\u4EE3\u7406\u5DF2\u6E05\u7406")}}},[f,E]),{handleEventClick:E}};D.Z=c},27689:function(le,D,e){e.d(D,{K:function(){return v}});var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(48305),c=e.n(S),l=e(92068),d=e(14334),f=e(75271),g=e(87453),v=function(){var h=(0,f.useState)(l.unifiedThemeService.getCurrentData()),E=c()(h,2),a=E[0],r=E[1],u=(0,f.useState)(!1),T=c()(u,2),b=T[0],m=T[1],B=(0,g.useModel)("tenantConfigInfo"),W=B.tenantConfigInfo;(0,f.useEffect)(function(){var ue=function(Q){r(Q),m(!1)};return l.unifiedThemeService.addListener(ue),function(){l.unifiedThemeService.removeListener(ue)}},[]);var z=(0,f.useCallback)(function(ue){return I()(i()().mark(function C(){var Q=arguments;return i()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return m(!0),ie.prev=1,ie.next=4,ue.apply(void 0,Q);case 4:ie.next=11;break;case 6:throw ie.prev=6,ie.t0=ie.catch(1),console.error("\u4E3B\u9898\u66F4\u65B0\u5931\u8D25:",ie.t0),m(!1),ie.t0;case 11:case"end":return ie.stop()}},C,null,[[1,6]])}))},[]),K=z(l.unifiedThemeService.updatePrimaryColor.bind(l.unifiedThemeService)),t=z(l.unifiedThemeService.updateAntdTheme.bind(l.unifiedThemeService)),j=z(l.unifiedThemeService.updateNavigationStyle.bind(l.unifiedThemeService)),N=z(l.unifiedThemeService.updateLayoutStyle.bind(l.unifiedThemeService)),k=z(l.unifiedThemeService.updateBackground.bind(l.unifiedThemeService)),me=z(l.unifiedThemeService.updateLanguage.bind(l.unifiedThemeService)),ee=(0,f.useCallback)(I()(i()().mark(function ue(){var C;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return C=a.antdTheme==="light"?"dark":"light",O.next=3,t(C);case 3:case"end":return O.stop()}},ue)})),[a.antdTheme,t]),n=(0,f.useCallback)(I()(i()().mark(function ue(){var C;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return C=a.layoutStyle===d.B.DARK?d.B.LIGHT:d.B.DARK,O.next=3,N(C);case 3:case"end":return O.stop()}},ue)})),[a.layoutStyle,N]),F=(0,f.useCallback)(I()(i()().mark(function ue(){var C;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return C=a.navigationStyle===d.F.STYLE1?d.F.STYLE2:d.F.STYLE1,O.next=3,j(C);case 3:case"end":return O.stop()}},ue)})),[a.navigationStyle,j]),p=(0,f.useCallback)(I()(i()().mark(function ue(){var C;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return C=a.language==="zh-CN"?"en-US":"zh-CN",O.next=3,me(C);case 3:case"end":return O.stop()}},ue)})),[a.language,me]),U=z(l.unifiedThemeService.resetToDefault.bind(l.unifiedThemeService)),ye=a.antdTheme==="dark",ne=a.layoutStyle===d.B.DARK,be=a.navigationStyle===d.F.STYLE2,De=a.language==="zh-CN",he=(0,f.useMemo)(function(){return l.unifiedThemeService.getExtraColors()},[W]);return{data:a,isLoading:b,updatePrimaryColor:K,updateAntdTheme:t,updateNavigationStyle:j,updateLayoutStyle:N,updateBackground:k,updateLanguage:me,toggleAntdTheme:ee,toggleNavigationTheme:n,toggleNavigationStyle:F,toggleLanguage:p,resetToDefault:U,primaryColor:a.primaryColor,antdTheme:a.antdTheme,navigationStyle:a.navigationStyle,layoutStyle:a.layoutStyle,backgroundId:a.backgroundId,language:a.language,isDarkMode:ye,isNavigationDark:ne,isNavigationExpanded:be,isChineseLanguage:De,extraColors:he}};D.Z=v},33446:function(le,D,e){e.r(D),e.d(D,{default:function(){return ke}});var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(26068),c=e.n(S),l=e(15558),d=e.n(l),f=e(48305),g=e.n(f),v=e(65857),y=e(83862),h=e(49974),E=e(82092),a=e.n(E),r=e(94003),u=e(59261),T=e(59934),b=e(61265),m=e(72875),B=e(92122),W=e(77635),z=e(16621),K=e(81716),t=e(25617),j=e(41249),N=e(7980),k=e(63619),me=e(94581),ee=e.n(me),n=e(75271),F={"chat-container":"chat-container____jWhD",clear:"clear___k6xWS",disabled:"disabled___HTGmo",input:"input___D7zPP",box:"box___fRZAD","plus-box":"plus-box___h8kAc","send-box":"send-box___AQaWk","chat-action":"chat-action___dDw4S","to-bottom":"to-bottom____lbyZ",visible:"visible___vqNgs"},p=e(52676),U=ee().bind(F),ye=function(V){var x,H=V.className,q=V.wholeDisabled,de=q===void 0?!1:q,pe=V.clearDisabled,ge=pe===void 0?!1:pe,Ee=V.onEnter,We=V.onClear,Fe=V.visible,Ve=V.onScrollBottom,en=(0,n.useState)([]),w=g()(en,2),fe=w[0],ze=w[1],nn=(0,n.useState)(""),oe=g()(nn,2),Ie=oe[0],Qe=oe[1],cn=(x=localStorage.getItem(m.LA))!==null&&x!==void 0?x:"",Me=(0,n.useMemo)(function(){return!Ie&&!(fe!=null&&fe.length)},[Ie,fe]),hn=function(){Me||(Ie||fe?.length>0)&&(Ee(Ie,fe),ze([]),Qe(""))},tn=function(te){te.preventDefault();var Ge=te.target,we=Ge.value;if(te.nativeEvent.keyCode===13&&(te.nativeEvent.shiftKey||te.nativeEvent.ctrlKey)){var an="".concat(we,`
`);Qe(an)}else te.nativeEvent.keyCode===13&&(we.trim()||fe!=null&&fe.length)&&(Ee(we,fe),ze([]),Qe(""))},Ye=function(te){if(te.file.status!=="uploading"&&te.file.status==="done"){var Ge,we;if(((Ge=te.file.response)===null||Ge===void 0?void 0:Ge.code)!==T.Gh){var an;j.ZP.warning((an=te.file.response)===null||an===void 0?void 0:an.message);return}var Ce=(we=te.file.response)===null||we===void 0?void 0:we.data,gn=d()(fe);gn.push({key:Ce?.key||"",name:Ce?.fileName||te.file.name||"",type:Ce?.mimeType||te.file.type||"",size:Ce?.size||te.file.size||0,url:Ce?.url||te.file.url||"",uid:te.file.uid,status:te.file.status||B.KM.done,percent:te.file.percent,response:te.file.response}),ze(gn)}},_e=function(te){var Ge=d()(fe);Ge.splice(Ge.findIndex(function(we){return we.uid===te}),1),ze(Ge)},Xe=function(){ge||de||We?.()};return(0,p.jsxs)("div",{className:U("relative","w-full",H),children:[(0,p.jsxs)("div",{className:U(F["chat-container"],"flex","flex-col"),children:[(0,p.jsx)(u.Z,{condition:fe?.length,children:(0,p.jsx)(r.Z,{files:fe,onDel:_e})}),(0,p.jsxs)("div",{className:U("flex","items-center"),children:[(0,p.jsx)("span",{className:U(F.clear,"flex","items-center","content-center","hover-box","cursor-pointer",a()({},F.disabled,ge||de)),onClick:Xe,children:(0,p.jsx)(W.Z,{})}),(0,p.jsx)(N.Z,{action:b.GI,onChange:Ye,headers:{Authorization:cn?"Bearer ".concat(cn):""},data:{type:"tmp"},showUploadList:!1,children:(0,p.jsx)("span",{className:U("flex","items-center","content-center","cursor-pointer",F.box,F["plus-box"]),children:(0,p.jsx)(z.Z,{})})}),(0,p.jsx)(k.Z,{className:U("flex-1"),value:Ie,onChange:function(te){return Qe(te.target.value)},rootClassName:U(F.input,"flex-1"),onPressEnter:tn,placeholder:"\u76F4\u63A5\u8F93\u5165\u6307\u4EE4\uFF1B\u53EF\u901A\u8FC7\u56DE\u8F66\u6362\u884C"}),(0,p.jsx)("span",{onClick:hn,className:U("flex","items-center","content-center","cursor-pointer",F.box,F["send-box"],a()({},F.disabled,Me)),children:(0,p.jsx)(K.Z,{})})]})]}),(0,p.jsx)("div",{className:U(F["chat-action"]),children:(0,p.jsx)("div",{className:U(F["to-bottom"],a()({},F.visible,Fe)),onClick:Ve,children:(0,p.jsx)(t.Z,{})})})]})},ne=ye,be=e(34077),De=e(2349),he=e(84283),ue=e(57534),C=e(702),Q=e(11872),O=e(96637),ie=e(80241),ce=e(94652),_=e(64799),G=e(39373),Ae=e(95468),Y=e(24573),s=e(29333),xe=e(28190),ve=e(16483),Be=e.n(ve),Le=e(32699),je=e(87453),Ne=e(92448),re={"xagi-nav-style2":"xagi-nav-style2___Of8Wu",text:"text___W4rWJ","page-container":"page-container___DKwI3","title-box":"title-box___h3yyc",title:"title___UZcm9","main-content":"main-content___MqMv1","chat-wrapper":"chat-wrapper___vWLVs",loading:"loading___GDPOp","chat-input-container":"chat-input-container____KoL0","welcome-text":"welcome-text___OHAOn","phone-chat-item":"phone-chat-item___h4FQ4","input-container":"input-container___rucsf","phone-container":"phone-container___JPb_R","captcha-button":"captcha-button___bPGZD"},$=ee().bind(re),qe=function(){var V,x,H,q=(0,je.useModel)("conversationInfo"),de=q.checkConversationActive,pe=q.disabledConversationActive,ge=q.setCurrentConversationRequestId,Ee=q.setMessageList,We=(0,je.useParams)(),Fe=We.chatKey,Ve=(0,n.useState)(),en=g()(Ve,2),w=en[0],fe=en[1],ze=(0,n.useState)([]),nn=g()(ze,2),oe=nn[0],Ie=nn[1];(0,n.useEffect)(function(){Ee(d()(oe))},[oe]);var Qe=(0,n.useRef)([]),cn=(0,n.useState)([]),Me=g()(cn,2),hn=Me[0],tn=Me[1],Ye=(0,n.useRef)(null),_e=(0,n.useRef)(null),Xe=(0,n.useRef)(null),Ue=(0,n.useRef)(),te=(0,n.useRef)(""),Ge=(0,n.useState)(!1),we=g()(Ge,2),an=we[0],Ce=we[1],gn=(0,n.useState)(!1),Mn=g()(gn,2),$n=Mn[0],qn=Mn[1],on=(0,n.useRef)(!0),et=(0,n.useState)(!1),Zn=g()(et,2),On=Zn[0],dn=Zn[1],nt=(0,n.useState)([]),Ln=g()(nt,2),sn=Ln[0],tt=Ln[1],at=(0,n.useState)([]),Nn=g()(at,2),xn=Nn[0],Fn=Nn[1],rt=(0,n.useState)([]),Un=g()(rt,2),pn=Un[0],ot=Un[1],it=(0,n.useState)(null),_n=g()(it,2),vn=_n[0],st=_n[1],lt=(0,n.useState)([]),wn=g()(lt,2),mn=wn[0],ut=wn[1],In=(0,n.useRef)(!1),Wn=(0,n.useRef)(""),An="aliyun-captcha-id",Qn=(0,je.useModel)("tenantConfigInfo"),Ke=Qn.tenantConfigInfo,ct=Qn.runTenantConfig,Sn=(0,je.useModel)("chat"),dt=Sn.handleChatProcessingList,Gn=Sn.pagePreviewData,vt=Sn.hidePagePreview,Tn=(0,n.useRef)(),mt=xe.Z.useForm(),ft=g()(mt,1),ln=ft[0],ht=(0,n.useState)(null),Kn=g()(ht,2),fn=Kn[0],Cn=Kn[1],En=xe.Z.useWatch([],{form:ln,preserve:!0});(0,n.useEffect)(function(){En&&Object.keys(En).length===0||ln.validateFields({validateOnly:!0}).then(function(){return Cn(En)}).catch(function(){return Cn(null)})},[ln,En]),(0,n.useEffect)(function(){vn&&Cn(vn)},[vn]);var Hn=(0,s.Z)(ie.ry,{manual:!0}),gt=Hn.run,pt=Hn.loading,Pn=(0,n.useMemo)(function(){if(mn?.length>0){if(!fn)return!0;var M=(0,G.VL)(mn,Object.keys(fn));return!M}return!1},[mn,fn]),jn=function(){on.current&&(Xe.current=setTimeout(function(){var A,Z;(A=Ye.current)===null||A===void 0||A.scrollTo({top:(Z=Ye.current)===null||Z===void 0?void 0:Z.scrollHeight,behavior:"smooth"})},400))},Ct=(0,s.Z)(ce.mY,{manual:!0,debounceWait:300,onSuccess:function(A){var Z,L,J,se,ae,Ze;Ce(!1);var R=A.data;if(fe(R),qn(!0),document.title="\u548C".concat(R==null||(Z=R.agent)===null||Z===void 0?void 0:Z.name,"\u5F00\u59CB\u4F1A\u8BDD")||0,R!=null&&(L=R.agent)!==null&&L!==void 0&&L.icon){var X,Se=document.createElement("link");Se.rel="shortcut icon",Se.href=R==null||(X=R.agent)===null||X===void 0?void 0:X.icon,Se.type="image/x-icon";var $e=document.head||document.getElementsByTagName("head")[0];$e.appendChild(Se)}var Te=R?.messageList||[];tt((R==null||(J=R.agent)===null||J===void 0?void 0:J.manualComponents)||[]);var Pe=(R==null||(se=R.agent)===null||se===void 0?void 0:se.variables)||[];ot(Pe),st(R?.variables||null);var rn=Pe==null||(ae=Pe.filter(function(un){return!un.systemVariable&&un.require}))===null||ae===void 0?void 0:ae.map(function(un){return un.name});ut(rn||[]);var He=Te?.length||0;if(He){var Oe;Ie(function(){return de(Te),Te});var Je=Te[He-1];if(Je.type===_.Zy.QUESTION&&(Oe=Je.ext)!==null&&Oe!==void 0&&Oe.length){var Bt=Je.ext.map(function(un){return un.content})||[];tn(Bt)}else if(He===1){var Dn,Rt=(R==null||(Dn=R.agent)===null||Dn===void 0?void 0:Dn.guidQuestionDtos)||[];tn(Rt)}}else{var Bn,Mt=(R==null||(Bn=R.agent)===null||Bn===void 0?void 0:Bn.guidQuestionDtos)||[];tn(Mt)}if(!(Te!=null&&Te.length)&&R!==null&&R!==void 0&&(Ze=R.agent)!==null&&Ze!==void 0&&Ze.openingChatMsg){var Rn,kn={role:_.hZ.ASSISTANT,type:_.Zy.CHAT,text:R==null||(Rn=R.agent)===null||Rn===void 0?void 0:Rn.openingChatMsg,time:Be()().toString(),id:(0,Ne.Z)(),messageType:_.DK.ASSISTANT};Ie(function(){return de([kn]),[kn]})}jn()},onError:function(){Ce(!1),pe()}}),Vn=Ct.run,Et=(0,s.Z)(ce.vU,{manual:!0,debounceWait:300}),yt=Et.runAsync,xt=function(A,Z){var L=A.data,J=A.eventType;ge(A.requestId),_e.current=setTimeout(function(){Ie(function(se){if(!(se!=null&&se.length))return _e.current&&(clearTimeout(_e.current),_e.current=null),pe(),[];var ae=d()(se),Ze=ae.findIndex(function(Je){return Je.id===Z}),R=1,X=ae.find(function(Je){return Je.id===Z});if(!X)return se;var Se=null;if(J===_.Xi.PROCESSING){var $e=L.result||{};L.executeId=$e.executeId,Se=c()(c()({},X),{},{text:(0,O.tz)(X.text||"",L),status:B.ge.Loading,processingList:[].concat(d()(X?.processingList||[]),[L])}),dt([].concat(d()(X?.processingList||[]),[c()({},L)]))}if(J===_.Xi.MESSAGE){var Te=L.text,Pe=L.type,rn=L.ext,He=L.id,Oe=L.finished;Pe===_.Zy.THINK?Se=c()(c()({},X),{},{think:"".concat(X.think).concat(Te),status:B.ge.Incomplete}):Pe===_.Zy.QUESTION?(Se=c()(c()({},X),{},{text:"".concat(X.text).concat(Te),status:Oe?null:B.ge.Incomplete}),rn!=null&&rn.length&&tn(rn.map(function(Je){return Je.content})||[])):te.current&&te.current!==He&&Oe?(Se=c()(c()({},X),{},{id:He,text:"".concat(X.text).concat(Te),status:null}),R=0):(te.current=He,Se=c()(c()({},X),{},{text:"".concat(X.text).concat(Te),status:B.ge.Incomplete}))}return J===_.Xi.FINAL_RESULT&&(Se=c()(c()({},X),{},{status:B.ge.Complete,finalResult:L,id:A.requestId})),J===_.Xi.ERROR&&(Se=c()(c()({},X),{},{status:B.ge.Error})),Se&&ae.splice(Ze,R,Se),de(ae),ae})},200)},It=function(){var M=I()(i()().mark(function A(Z,L){return i()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,(0,Ae.W)({url:b.B_,method:"POST",headers:{Accept:"application/json, text/plain, */* "},body:Z,onMessage:function(Ze){xt(Ze,L),jn()},onError:function(){var Ze;j.ZP.error("\u7F51\u7EDC\u8D85\u65F6\u6216\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5");var R=((Ze=Qe.current)===null||Ze===void 0?void 0:Ze.map(function(X){return X?.id===L?c()(c()({},X),{},{status:B.ge.Error}):X}))||[];Ie(function(){return pe(),R})},onClose:function(){pe()}});case 2:Ue.current=se.sent,typeof Ue.current=="function"&&Ue.current();case 4:case"end":return se.stop()}},A)}));return function(Z,L){return M.apply(this,arguments)}}(),bn=function(){tn([]),_e.current&&(clearTimeout(_e.current),_e.current=null),Xe.current&&(clearTimeout(Xe.current),Xe.current=null),Ue.current&&(typeof Ue.current=="function"&&Ue.current(),Ue.current=null)},At=function(){bn(),Ie([]),fe(null),on.current=!0,dn(!1),_e.current&&(clearTimeout(_e.current),_e.current=null)},St=function(){var M=I()(i()().mark(function A(Z){var L,J,se,ae,Ze,R,X,Se,$e,Te,Pe=arguments;return i()().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:L=Pe.length>1&&Pe[1]!==void 0?Pe[1]:[],J=Pe.length>2&&Pe[2]!==void 0?Pe[2]:[],se=Pe.length>3&&Pe[3]!==void 0?Pe[3]:null,bn(),ae=L?.map(function(Oe){return{fileKey:Oe.key||"",fileUrl:Oe.url||"",fileName:Oe.name||"",mimeType:Oe.type||""}})||[],Ze={role:_.hZ.USER,type:_.Zy.CHAT,text:Z,time:Be()().toString(),attachments:ae,id:(0,Ne.Z)(),messageType:_.DK.USER},R=(0,Ne.Z)(),X={role:_.hZ.ASSISTANT,type:_.Zy.CHAT,text:"",think:"",time:Be()().toString(),id:R,messageType:_.DK.ASSISTANT,status:B.ge.Loading},Se=oe?.map(function(Oe){return Oe.status===B.ge.Incomplete&&(Oe.status=B.ge.Complete),Oe})||[],$e=[].concat(d()(Se),[Ze,X]),Ie(function(){return de($e),$e}),Qe.current=$e,on.current=!0,dn(!1),jn(),Te={chatKey:Fe,conversationUid:Tn.current||"",message:Z,attachments:ae,variableParams:se,selectedComponents:J},It(Te,R);case 17:case"end":return He.stop()}},A)}));return function(Z){return M.apply(this,arguments)}}(),Tt=(0,n.useMemo)(function(){var M=w?.agent;return{assistant:{name:M?.name,avatar:M?.icon},system:{name:M?.name,avatar:M?.icon}}},[w]),zn=function(){var M=I()(i()().mark(function A(Z){var L,J,se,ae;return i()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,yt({chatKey:Fe,captchaVerifyParam:Z});case 2:L=R.sent,J=L.data,se=L.success,ae=L.message,se?(Tn.current=J.uid,sessionStorage.setItem(b.bh,J.uid),Vn({chatKey:Fe,conversationUid:J.uid})):(Ce(!1),j.ZP.warning(ae));case 7:case"end":return R.stop()}},A)}));return function(Z){return M.apply(this,arguments)}}(),Yn=(0,n.useCallback)(I()(i()().mark(function M(){return i()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:bn(),Ie([]),Ce(!0),In.current=!1,Cn(null),ln.resetFields(),zn(Wn.current);case 7:case"end":return Z.stop()}},M)})),[Fe]),Xn=function(){var M=I()(i()().mark(function A(){var Z,L,J=arguments;return i()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(Z=J.length>0&&J[0]!==void 0?J[0]:"",!Fe){ae.next=10;break}if(Wn.current=Z,Ce(!0),L=sessionStorage.getItem(b.bh),!L){ae.next=9;break}return Vn({chatKey:Fe,conversationUid:L}),Tn.current=L,ae.abrupt("return");case 9:zn(Z);case 10:case"end":return ae.stop()}},A)}));return function(){return M.apply(this,arguments)}}();(0,n.useEffect)(function(){if(Ke){var M=Ke.captchaSceneId,A=Ke.captchaPrefix,Z=Ke.openCaptcha,L=!!(M&&A&&Z);L||Xn()}},[Ke]),(0,n.useEffect)(function(){var M=Ye.current;if(M){var A=function(){var L=M.scrollTop,J=M.scrollHeight,se=M.clientHeight;L+se<J?(on.current=!1,Xe.current&&(clearTimeout(Xe.current),Xe.current=null),dn(!0)):(on.current=!0,dn(!1))};return M.addEventListener("wheel",(0,Le.throttle)(A,300)),function(){M.removeEventListener("wheel",(0,Le.throttle)(A,300)),At()}}},[]),(0,n.useEffect)(function(){return ct(),(0,G.t7)(),function(){pe()}},[]),(0,n.useEffect)(function(){if(sn!=null&&sn.length){var M=sn.filter(function(A){return A.defaultSelected===_.Km.Yes}).map(function(A){return{id:A.id,type:A.type}});Fn(M||[])}},[sn]);var Pt=function(A){var Z=d()(xn);if(Z.some(function(J){return J.id===A.id})){var L=Z.findIndex(function(J){return J.id===A.id});Z.splice(L,1)}else Z.push({id:A.id,type:A.type});Fn(Z)},yn=function(A){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(Pn){ln.validateFields(),j.ZP.warning("\u8BF7\u586B\u5199\u5FC5\u586B\u53C2\u6570");return}In.current=!0,St(A,Z,xn,fn)},Jn=function(){var A,Z;on.current=!0,(A=Ye.current)===null||A===void 0||A.scrollTo({top:(Z=Ye.current)===null||Z===void 0?void 0:Z.scrollHeight,behavior:"smooth"}),dn(!1)},jt=function(){if(Ke){var A=Ke.siteUrl;window.open(A,"_blank")}},bt=function(){var A;(A=document.getElementById(An))===null||A===void 0||A.click()};(0,Q.Z)({containerRef:Ye,eventBindConfig:w==null||(V=w.agent)===null||V===void 0?void 0:V.eventBindConfig});var Dt=function(){var A,Z,L,J;return(0,p.jsx)("div",{className:$("flex","h-full"),children:(0,p.jsxs)("div",{className:$(re.container,"flex","flex-col"),style:{flex:1,minWidth:0},children:[(0,p.jsx)(u.Z,{condition:oe?.length>0,children:(0,p.jsx)("div",{className:$(re["title-box"]),children:(0,p.jsx)("h3",{className:$(re.title,"text-ellipsis","clip-path-animation"),children:w!=null&&(A=w.agent)!==null&&A!==void 0&&A.name?"\u548C".concat(w==null||(Z=w.agent)===null||Z===void 0?void 0:Z.name,"\u5F00\u59CB\u4F1A\u8BDD"):"\u5F00\u59CB\u4F1A\u8BDD"})})}),(0,p.jsx)("div",{className:$("w-full","flex-1","flex","flex-col","overflow-y",re["main-content"]),ref:Ye,children:(0,p.jsx)("div",{className:$(re["chat-wrapper"],"flex-1","w-full"),children:an?(0,p.jsx)("div",{className:$("flex","items-center","content-center","h-full"),children:(0,p.jsx)(Y.Z,{className:$(re.loading)})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(De.Z,{className:"mb-16",form:ln,variables:pn,userFillVariables:vn,isFilled:!!fn,disabled:!!vn||In.current}),oe?.length>0?(0,p.jsxs)(p.Fragment,{children:[oe?.map(function(se,ae){return(0,p.jsx)(be.Z,{className:$(re["phone-chat-item"]),messageInfo:se,roleInfo:Tt,mode:"home"},ae)}),(0,p.jsx)(he.Z,{chatSuggestList:hn,onClick:yn})]}):$n&&(0,p.jsx)(v.Z,{className:$({"h-full":!(pn!=null&&pn.length)}),icon:w==null||(L=w.agent)===null||L===void 0?void 0:L.icon,name:(w==null||(J=w.agent)===null||J===void 0?void 0:J.name)||"",extra:(0,p.jsx)(he.Z,{className:"mt-16",itemClassName:$(re["suggest-item"]),chatSuggestList:hn,onClick:yn})})]})})}),(0,p.jsxs)("div",{className:$(re["chat-input-container"]),children:[(0,p.jsx)(h.Z,{className:$(re["input-container"]),clearDisabled:!(oe!=null&&oe.length),onEnter:yn,onClear:Yn,visible:On,wholeDisabled:Pn,manualComponents:sn,selectedComponentList:xn,onSelectComponent:Pt,onScrollBottom:Jn,showAnnouncement:!0,onTempChatStop:gt,loadingStopTempConversation:pt},"chat-temp-".concat(Fe)),(0,p.jsx)(ne,{className:$(re["phone-container"]),clearDisabled:!(oe!=null&&oe.length),onClear:Yn,wholeDisabled:Pn,onEnter:yn,visible:On,onScrollBottom:Jn}),(0,p.jsx)("p",{className:$(re["welcome-text"],"text-ellipsis","cursor-pointer","clip-path-animation"),onClick:jt,children:"\u6B22\u8FCE\u4F7F\u7528".concat(Ke?.siteName,"\uFF0C\u5FEB\u901F\u642D\u5EFA\u4F60\u7684\u4E2A\u6027\u5316\u667A\u80FD\u4F53")})]}),(0,p.jsx)("button",{id:An,type:"button",className:$(re["captcha-button"])}),(0,p.jsx)(y.Z,{config:Ke,doAction:Xn,elementId:An,onReady:bt})]})})};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(ue.Z,{left:w!=null&&(x=w.agent)!==null&&x!==void 0&&x.hideChatArea?null:Dt(),right:Gn&&(0,p.jsx)(C.Z,{pagePreviewData:Gn,showHeader:!0,onClose:vt,showCloseButton:!(w!=null&&(H=w.agent)!==null&&H!==void 0&&H.hideChatArea)})})})},ke=qe},94652:function(le,D,e){e.d(D,{Ai:function(){return o},is:function(){return d},kt:function(){return I},mY:function(){return S},vU:function(){return c},zZ:function(){return i}});var P=e(87453);function i(f,g){return(0,P.request)("/api/temp/chat/".concat(g,"/link/").concat(f,"/delete"),{method:"POST"})}function o(f){return(0,P.request)("/api/temp/chat/".concat(f,"/link/create"),{method:"POST"})}function I(f){return(0,P.request)("/api/temp/chat/link/update",{method:"POST",data:f})}function S(f){return(0,P.request)("/api/temp/chat/conversation/query",{method:"POST",data:f})}function c(f){return(0,P.request)("/api/temp/chat/conversation/create",{method:"POST",data:f})}function l(f){return request("/api/temp/chat/completions",{method:"POST",data:f})}function d(f){return(0,P.request)("/api/temp/chat/".concat(f,"/link/list"),{method:"GET"})}},77750:function(le,D,e){e.d(D,{TE:function(){return f}});var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(41249),c={TEXTAREA:{position:"fixed",top:"0",left:"0",width:"2em",height:"2em",padding:"0",border:"none",outline:"none",boxShadow:"none",background:"transparent",fontSize:"16px"}},l={COPY_FAILED:"\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u624B\u52A8\u590D\u5236",COPY_SUCCESS:"\u590D\u5236\u6210\u529F",NO_CONTENT:"\u6CA1\u6709\u53EF\u590D\u5236\u7684\u5185\u5BB9"},d=function(y,h){var E=document.createElement("textarea");E.value=y,Object.assign(E.style,c.TEXTAREA),document.body.appendChild(E),E.focus(),E.select();try{var a=document.execCommand("copy");a&&h?h(y,!0):a||(S.ZP.error(l.COPY_FAILED),h&&h(y,!1))}catch(r){console.error(l.COPY_FAILED,r),S.ZP.error(l.COPY_FAILED),h&&h(y,!1)}document.body.removeChild(E)},f=function(){var v=I()(i()().mark(function y(h,E){var a,r=arguments;return i()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(a=r.length>2&&r[2]!==void 0?r[2]:!1,h){T.next=5;break}return S.ZP.error(l.NO_CONTENT),E&&E(h,!1),T.abrupt("return");case 5:if(!(navigator.clipboard&&navigator.clipboard.writeText)){T.next=20;break}return T.prev=6,T.next=9,navigator.clipboard.writeText(h);case 9:a&&S.ZP.success(l.COPY_SUCCESS),E&&E(h,!0),T.next=18;break;case 13:T.prev=13,T.t0=T.catch(6),console.error(l.COPY_FAILED,T.t0),S.ZP.error(l.COPY_FAILED),d(h,E);case 18:T.next=21;break;case 20:d(h,E);case 21:case"end":return T.stop()}},y,null,[[6,13]])}));return function(h,E){return v.apply(this,arguments)}}(),g=function(){return!!(navigator.clipboard&&navigator.clipboard.writeText)}},26324:function(le,D,e){e.d(D,{N:function(){return o},g:function(){return I}});var P=e(75271),i=e(52676),o=function(c,l){var d=l.required;return(0,i.jsxs)(i.Fragment,{children:[c,d?(0,i.jsx)("span",{style:{color:"red",fontWeight:600,marginLeft:"4px"},children:"*"}):null]})},I=function(c){return(0,i.jsx)(i.Fragment,{children:c})}},44953:function(le,D,e){e.d(D,{$g:function(){return g},Df:function(){return v},N4:function(){return E},Qr:function(){return y},TE:function(){return I.TE},Tx:function(){return h},hK:function(){return d},n3:function(){return f}});var P=e(15558),i=e.n(P),o=e(92122),I=e(77750),S=e(13278),c=e(15470);function l(a){var r=a<10?"0"+a:a;return r}var d=function(r){var u=new Date(r);return u.getFullYear()+"-"+l(u.getMonth()+1)+"-"+l(u.getDate())+" "+l(u.getHours())+":"+l(u.getMinutes())+":"+l(u.getSeconds())},f=function(r){return!r||r===void 0?[]:r.startsWith("Array_File_")?["Array_File",r]:r.startsWith("File_")?["File",r]:[r]},g=function(r){var u=r[r.length-1];return Object.values(o.Gi).includes(u)?u:o.Gi.String},v=function(r){switch(r){case o.Gi.File_Image:return"image/*";case o.Gi.File_PPT:return".ppt,.pptx";case o.Gi.File_Doc:return".doc,.docx";case o.Gi.File_PDF:return".pdf";case o.Gi.File_Txt:return".txt";case o.Gi.File_Zip:return".zip,.rar,.7z";case o.Gi.File_Excel:return".xls,.xlsx,.csv";case o.Gi.File_Video:return"video/*";case o.Gi.File_Audio:case o.Gi.File_Voice:return"audio/*";case o.Gi.File_Code:return".js,.txt,.ts,.jsx,.tsx,.py,.java,.c,.cpp,.cs,.go,.php,.rb,.sh";case o.Gi.File_Svg:return".svg";default:return""}},y=function(r){return r&&Object.keys(r).length===0&&r.constructor===Object},h=function(r,u){return r.replace(/{(\w+)}/g,function(T,b){if(u[b]===void 0)throw new Error("\u7F3A\u5C11\u8DEF\u5F84\u53C2\u6570: ".concat(b));return String(u[b])})},E=function(r,u){var T=i()(r.matchAll(/{(\w+)}/g)).map(function(b){return b[1]});return T.length===0||T.every(function(b){return u[b]!==void 0&&u[b]!==null&&u[b]!==""})}},75327:function(le,D,e){e.d(D,{Z:function(){return i}});var P=e(75271);function i(){const[,o]=P.useReducer(I=>I+1,0);return o}},78987:function(le){le.exports="data:image/png;base64,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"}}]);})();
