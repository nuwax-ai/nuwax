"use strict";(()=>{(self.webpackChunknuwax_frontend=self.webpackChunknuwax_frontend||[]).push([[8185],{2402:function(ct,De,e){e.d(De,{Z:function(){return g}});var Re=e(26068),n=e.n(Re),Ae=e(48305),d=e.n(Ae),v=e(92973),w=e(43637),de=e(86743),he=e(63876),ve=e(94581),K=e.n(ve),x=e(75271),L={"xagi-nav-style2":"xagi-nav-style2___ZnOEk",text:"text___I_DzH","page-container":"page-container____iz0C","skill-item-style":"skill-item-style___N0WID","skill-item-icon":"skill-item-icon___jliak","skill-item-content-style":"skill-item-content-style___RWsv5","skill-item-title-style":"skill-item-title-style___RPCqS","skill-item-desc-style":"skill-item-desc-style___nXwpy","mask-layer-style":"mask-layer-style___uLo49",white:"white___PmcIw"},S=e(52676),pe=K().bind(L),X=function(a){var W=a.item,ie=a.onDelete;return(0,S.jsxs)("div",{className:pe(L["skill-item-style"],"dis-left"),children:[(0,S.jsx)("img",{src:W.icon,alt:"",className:pe(L["skill-item-icon"])}),(0,S.jsxs)("div",{className:pe(L["skill-item-content-style"]),children:[(0,S.jsx)("div",{className:pe(L["skill-item-title-style"]),children:W.name}),(0,S.jsx)("div",{className:pe(L["skill-item-desc-style"]),children:W.description})]}),(0,S.jsx)("div",{className:pe(L["mask-layer-style"]),children:(0,S.jsx)("div",{style:{color:"#fff",backgroundColor:"transparent"},children:(0,S.jsx)(he.Z,{content:"\u79FB\u9664",trigger:"hover",children:(0,S.jsx)(de.Z,{className:"ml-12  white",style:{cursor:"pointer"},onClick:ie})})})})]})},C=X,ee=e(80723),ye=e(13017),te=e(15970),B=e(79484),Q=e(69945),Le=e(5622),U=e(28327),q=e(30799),J=e(38413),z=e(68952),s=e(60393),A=e(28190),I=e(41249),D=e(63619),V=e(17701),b=e(30967),h=e(53586),$=e(33356),l={"xagi-nav-style2":"xagi-nav-style2___fHzli",text:"text___srgXE","page-container":"page-container____zQ5I",header:"header___ZEU6y",box:"box___su6_r",active:"active___qQari"},M={"xagi-nav-style2":"xagi-nav-style2___GME40",text:"text___B9pND","page-container":"page-container___Gqdvl","workflow-desc":"workflow-desc___yLObd"},le=K().bind(M),be=function(a){var W=a.title,ie=W===void 0?"\u8BF7\u9009\u62E9\u5DE5\u4F5C\u6D41":W,u=a.onClick;return(0,S.jsx)("div",{className:le(M["workflow-desc"]),onClick:u,children:ie})},Ce=be,Ue=K().bind(l),f=function(a){var W=a.mode,ie=W===void 0?q.jA.Create:W,u=a.spaceId,_e=a.knowledgeInfo,ze=a.open,Ye=a.onCancel,_=a.onConfirm,xe=A.Z.useForm(),Me=d()(xe,1),Ne=Me[0],Ke=(0,x.useState)(!1),N=d()(Ke,2),re=N[0],Be=N[1],Xe=(0,x.useState)(""),se=d()(Xe,2),me=se[0],Ve=se[1],we=(0,x.useState)(J.u6.Text),qe=d()(we,2),O=qe[0],Z=qe[1],R=(0,x.useState)([]),ne=d()(R,2),ae=ne[0],H=ne[1],Te=(0,x.useState)("default"),r=d()(Te,2),c=r[0],y=r[1],t=(0,x.useState)(null),Y=d()(t,2),fe=Y[0],ke=Y[1],ut=(0,x.useState)(!1),Pe=d()(ut,2),It=Pe[0],lt=Pe[1],ot=(0,x.useState)(U.qR.Plugin),He=d()(ot,2),Rt=He[0],_t=He[1],At=(0,x.useState)([]),Je=d()(At,2),Lt=Je[0],dt=Je[1],G=(0,h.useRequest)(Q.qx,{manual:!0,debounceInterval:300,onSuccess:function(E){I.ZP.success("\u77E5\u8BC6\u5E93\u5DF2\u521B\u5EFA\u6210\u529F"),Be(!1),Ye(),h.history.push("/space/".concat(u,"/knowledge/").concat(E))},onError:function(){Be(!1)}}),pt=G.run,Mt=(0,h.useRequest)(Q.ei,{manual:!0,debounceInterval:300,onSuccess:function(E,$e){I.ZP.success("\u77E5\u8BC6\u5E93\u66F4\u65B0\u6210\u529F"),Be(!1);var ft=$e[0];_?.(ft)},onError:function(){Be(!1)}}),wt=Mt.run,St=(0,h.useRequest)(Q.Wi,{manual:!0,debounceInterval:300,onSuccess:function(E){Ve(E.icon),Z(E.dataType),Ne.setFieldsValue({name:E.name,description:E.description,embeddingModelId:E.embeddingModelId,dataParsingMethod:E.workflowId?"workflow":"default"}),E.workflowId&&(y(E.workflowId?"workflow":"default"),ke({id:E.workflowId,name:E.workflowName,icon:E.workflowIcon,description:E.workflowDescription}))},onError:function(){}}),at=St.run,Ot=(0,h.useRequest)(Le.Bj,{manual:!0,debounceInterval:300,onSuccess:function(E){var $e=E?.map(function(ft){return{label:ft.name,value:ft.id}})||[];H($e)}}),Pt=Ot.run;(0,x.useEffect)(function(){ze&&(Pt({spaceId:u,modelType:z.Mj.Embeddings}),y("default"),ke(null),_e&&at(_e.id))},[u,ze,_e]);var mt=function(E){var $e={spaceId:u,name:E.name,description:E.description,embeddingModelId:E.embeddingModelId,icon:me,dataType:O};c==="workflow"&&($e.workflowId=fe?.id),Be(!0),ie===q.jA.Create?pt($e):wt(n()({id:_e?.id},$e))},et=function(E){E.dataParsingMethod&&y(E.dataParsingMethod)},Kt=function(E){dt(function(){return[{type:E.targetType,targetId:E.targetId,status:U.BQ.Added,toolName:E.toolName||""}]}),(0,b.flushSync)(function(){ke({id:E.targetId,name:E.name,icon:E.icon,description:E.description})}),lt(!1)},bt=function(E,$e){E.stopPropagation(),_t($e),lt(!0)},rt=function(E){bt(E,U.qR.Workflow)},Tt=function(){ke(null),dt([])},Ft=function(){Ne.submit()};return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(ee.Z,{form:Ne,title:ie===q.jA.Create?"\u521B\u5EFA\u77E5\u8BC6\u5E93":"\u66F4\u65B0\u77E5\u8BC6\u5E93",open:ze,loading:re,onCancel:Ye,onConfirm:Ft,children:[(0,S.jsxs)(A.Z,{form:Ne,className:Ue("mt-16"),requiredMark:s.N,layout:"vertical",onFinish:mt,onValuesChange:et,preserve:!1,autoComplete:"off",initialValues:{dataParsingMethod:"default"},children:[(0,S.jsx)(A.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0"}],children:(0,S.jsx)(D.Z,{placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0",showCount:!0,maxLength:100})}),(0,S.jsx)(ye.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:_e?.description,placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u5185\u5BB9\u7684\u63CF\u8FF0",maxLength:1e4}),(0,S.jsx)(A.Z.Item,{name:"embeddingModelId",label:"\u5411\u91CF\u6A21\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B"}],children:(0,S.jsx)($.Z,{placeholder:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B",disabled:ie===q.jA.Update,options:ae,allowClear:!0})}),(0,S.jsx)(A.Z.Item,{name:"dataParsingMethod",label:"\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",tooltip:"\u9009\u62E9\u5DE5\u4F5C\u6D41\u540E\u6240\u6709\u6587\u6863\u3001\u56FE\u7247\u7B49\u90FD\u5C06\u901A\u8FC7\u5DE5\u4F5C\u6D41\u89E3\u6790\uFF0C\u8BBE\u8BA1\u5DE5\u4F5C\u6D41\u65F6\u8BF7\u6CE8\u610F\u56FA\u5B9A\u5165\u53C2\u4E3A\uFF1Afile_url\uFF0C\u51FA\u53C2\u8BF7\u5728\u201C\u7ED3\u675F\u201D\u8282\u70B9\u9009\u62E9\u201C\u8FD4\u56DE\u6587\u672C\u201D\uFF0C\u5E76\u5728\u201C\u8F93\u51FA\u5185\u5BB9\u201D\u533A\u57DF\u8BBE\u7F6E\u8FD4\u56DE\u7684\u53D8\u91CF\u3002",children:(0,S.jsx)(V.default,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",options:[{value:"default",label:"\u7CFB\u7EDF\u9ED8\u8BA4"},{value:"workflow",label:"\u81EA\u5B9A\u4E49\u5DE5\u4F5C\u6D41"}]})}),c==="workflow"&&(0,S.jsx)(A.Z.Item,{style:{marginTop:"-15px"},children:fe?(0,S.jsx)(C,{item:fe,onDelete:Tt}):(0,S.jsx)(Ce,{onClick:rt})}),(0,S.jsx)(A.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,S.jsx)(te.Z,{className:Ue(l["upload-box"]),onUploadSuccess:Ve,imageUrl:me,defaultImage:v,svgIconName:"icons-workspace-knowledge"})})]}),(0,S.jsx)(w.Z,{open:It,onCancel:function(){return lt(!1)},checkTag:Rt,addComponents:Lt,onAdded:Kt,tabs:B.Ne.filter(function(Se){return Se.key===U.qR.Workflow})})]})})},g=f},38949:function(ct,De,e){e.d(De,{Z:function(){return s}});var Re=e(90228),n=e.n(Re),Ae=e(26068),d=e.n(Ae),v=e(87999),w=e.n(v),de=e(48305),he=e.n(de),ve=e(83352),K=e(80723),x=e(13017),L=e(15970),S=e(92629),pe=e(30799),X=e(60393),C=e(28190),ee=e(41249),ye=e(63619),te=e(94581),B=e.n(te),Q=e(75271),Le=e(53586),U={container:"container___etrGg",header:"header___qw2yv"},q=e(52676),J=B().bind(U),z=function(I){var D=I.type,V=D===void 0?pe.jA.Create:D,b=I.name,h=I.spaceId,$=I.id,l=I.icon,M=I.description,le=I.open,be=I.onCancel,Ce=I.onConfirm,Ue=I.onUpdate,f=C.Z.useForm(),g=he()(f,1),T=g[0],a=(0,Q.useState)(""),W=he()(a,2),ie=W[0],u=W[1],_e=(0,Le.useRequest)(S.Kt,{manual:!0,debounceInterval:300,onSuccess:function(Ke){ee.ZP.success("\u5DE5\u4F5C\u6D41\u5DF2\u521B\u5EFA\u6210\u529F"),be(),Le.history.push("/space/".concat(h,"/workflow/").concat(Ke))}}),ze=_e.run,Ye=(0,Le.useRequest)(S.sN,{manual:!0,debounceInterval:300,onSuccess:function(Ke,N){ee.ZP.success("\u5DE5\u4F5C\u6D41\u66F4\u65B0\u6210\u529F");var re=N[0];Ce?.(re),be()}}),_=Ye.run;(0,Q.useEffect)(function(){le&&(u(l||""),T.setFieldsValue({name:b,description:M}))},[le,l,b,M]);var xe=function(){var Ne=w()(n()().mark(function Ke(N){var re,Be,Xe;return n()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(re={name:N?.name,description:N?.description,icon:ie},V!==pe.jA.Create){me.next=5;break}ze(d()({spaceId:h},re)),me.next=14;break;case 5:if(Be=d()(d()({id:$,spaceId:h},re),{},{extension:{size:1}}),!Ue){me.next=13;break}return me.next=9,Ue(Be);case 9:Xe=me.sent,Xe&&(ee.ZP.success("\u5DE5\u4F5C\u6D41\u66F4\u65B0\u6210\u529F"),Ce?.(Be),be()),me.next=14;break;case 13:_(d()({id:$},re));case 14:case"end":return me.stop()}},Ke)}));return function(N){return Ne.apply(this,arguments)}}(),Me=function(){T.submit()};return(0,q.jsx)(K.Z,{form:T,title:V===pe.jA.Create?"\u521B\u5EFA\u5DE5\u4F5C\u6D41":"\u66F4\u65B0\u5DE5\u4F5C\u6D41",classNames:{content:J(U.container),header:J(U.header)},open:le,onCancel:be,onConfirm:Me,children:(0,q.jsxs)(C.Z,{form:T,requiredMark:X.N,layout:"vertical",onFinish:xe,autoComplete:"off",children:[(0,q.jsx)(C.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0"},{validator:function(Ke,N){return!N||N?.length<=30?Promise.resolve():N?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0!"))}}],children:(0,q.jsx)(ye.Z,{placeholder:"\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0",showCount:!0,maxLength:30})}),(0,q.jsx)(x.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:M,placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\uFF0C\u8BA9\u5927\u6A21\u578B\u7406\u89E3\u4EC0\u4E48\u60C5\u51B5\u4E0B\u5E94\u8BE5\u8C03\u7528\u6B64\u5DE5\u4F5C\u6D41",maxLength:1e4}),(0,q.jsx)(C.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,q.jsx)(L.Z,{onUploadSuccess:u,imageUrl:ie,defaultImage:ve,svgIconName:"icons-workspace-workflow"})})]})})},s=z},43637:function(ct,De,e){e.d(De,{Z:function(){return qe}});var Re=e(90228),n=e.n(Re),Ae=e(15558),d=e.n(Ae),v=e(26068),w=e.n(v),de=e(87999),he=e.n(de),ve=e(48305),K=e.n(ve),x=e(40462),L=e(79484),S=e(68752),pe=e(3834),X=e(60894),C=e(28327),ee=e(30799),ye=e(70490),te=e(27867),B=e(86834),Q=e(87855),Le=e(28057),U=e(98493),q=e(17023),J=e(16621),z=e(41249),s=e(73981),A=e(44384),I=e(9504),D=e(14719),V=e(63619),b=e(53472),h=e(70183),$=e(94581),l=e.n($),M=e(75271),le=e(53586),be=e(45281),Ce=e(9291),Ue=e(2402),f=e(95857),g=e(38949),T=e(59602),a={"xagi-nav-style2":"xagi-nav-style2___Hhx24",text:"text___fY1wP","page-container":"page-container___mEK5C","created-modal-style":"created-modal-style___NYAVL","segmented-style":"segmented-style___nKwTz","created-title-text":"created-title-text___AjELa","created-list-spin-style":"created-list-spin-style___zM15H","created-list-empty-style":"created-list-empty-style___oCfaM","create-button":"create-button___coqIa","aside-header":"aside-header___jACDw","aside-menu":"aside-menu___m045Q","add-button":"add-button___TndZY","add-button-added":"add-button-added___MdC2h","created-container":"created-container___AGXz5","aside-style":"aside-style___CaDQZ","main-style":"main-style___GSDxU","list-item-style":"list-item-style___WKFIL","left-image-style":"left-image-style___GMm3v","content-font":"content-font___ycx8_","count-div-style":"count-div-style___Zd48s","label-font-style":"label-font-style___HZB9A","collect-star":"collect-star___bLtFf","icon-margin":"icon-margin___HgnVb","created-description-style":"created-description-style___Cm4V4"},W=e(13143),ie={"xagi-nav-style2":"xagi-nav-style2___XdLTv",text:"text___tQ5I5","page-container":"page-container___s_CSV","mcp-tools-style":"mcp-tools-style___u92JF","mcp-tools-item-style":"mcp-tools-item-style___sidZr","add-button":"add-button___mejhX","add-button-added":"add-button-added___iY7_z","mcp-tools-item-content-style":"mcp-tools-item-content-style___ku31r","mcp-tools-item-name-style":"mcp-tools-item-name-style___oOtSe","mcp-tools-item-description-style":"mcp-tools-item-description-style___FlirP","mcp-tools-item-button-style":"mcp-tools-item-button-style___MPtXV"},u=e(52676),_e=l().bind(ie),ze=C.BQ.Added,Ye=function(Z){var R=Z.tools,ne=Z.item,ae=Z.onAddTool,H=Z.fold,Te=Z.getToolLoading,r=Z.addedComponents,c=(0,M.useCallback)(function(t,Y){ae(w()(w()({},ne),{},{name:"".concat(ne.name,"/").concat(t),description:Y,toolName:t}))},[ae,ne]),y=(0,M.useCallback)(function(t,Y){return r?.some(function(fe){return fe.type===t.targetType&&fe.targetId===t.targetId&&(fe.toolName||"")===(t.toolName||"")&&fe.status===Y})},[r,ne]);return H?null:(0,u.jsx)("div",{className:_e(ie["mcp-tools-style"]),children:R.map(function(t,Y){var fe=y(w()(w()({},ne),{},{toolName:t.name}),ze),ke=Te(w()(w()({},ne),{},{toolName:t.name}));return(0,u.jsxs)("div",{className:_e(ie["mcp-tools-item-style"]),children:[(0,u.jsxs)("div",{className:_e("dis-sb",ie["mcp-tools-item-content-style"]),children:[(0,u.jsx)("div",{className:_e(ie["mcp-tools-item-name-style"]),children:t.name}),(0,u.jsx)("div",{className:_e(ie["mcp-tools-item-description-style"]),children:t.description||"\u6682\u65E0\u63CF\u8FF0"})]}),(0,u.jsx)("div",{className:_e(ie["mcp-tools-item-button-style"],"dis-sb"),children:(0,u.jsx)(I.ZP,{color:"default",variant:"filled",className:_e(ie["add-button"],fe&&ie["add-button-added"]),onClick:function(){return c(t.name,t.description)},disabled:ke?!1:fe,loading:ke,children:fe?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})})]},"".concat(ne.targetId,"-").concat(Y,"-tools-").concat(t.name))})},"".concat(ne.targetId,"-tools"))},_=Ye,xe={"xagi-nav-style2":"xagi-nav-style2___AR6lO",text:"text___C_yvr","page-container":"page-container___Tl8wQ",container:"container___Xs6nx","left-image-style":"left-image-style___QkQAk","content-font":"content-font___gLvK8","count-div-style":"count-div-style___bhUoi","fold-icon-style":"fold-icon-style___iClGH","label-font-style":"label-font-style___R72Ym","created-description-style":"created-description-style___fbx01"},Me=l().bind(xe),Ne=function(Z){var R,ne,ae,H=Z.item,Te=Z.index,r=Z.selected,c=Z.onAddNode,y=Z.getToolLoading,t=Z.addedComponents,Y=(0,M.useState)(!0),fe=K()(Y,2),ke=fe[0],ut=fe[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:Me("dis-sb",xe.container,"cursor-pointer"),style:{height:"unset"},onClick:function(){return ut(!ke)},children:[(0,u.jsx)("img",{src:H.icon||(0,Q.Pk)(r.key),alt:"",className:Me(xe["left-image-style"])}),(0,u.jsxs)("div",{className:Me("flex-1",xe["content-font"]),children:[(0,u.jsx)("p",{className:Me(xe["label-font-style"]),children:H.name}),(0,u.jsx)("p",{className:Me(xe["created-description-style"],"text-ellipsis-2"),title:H.description,children:H.description}),(0,u.jsx)("div",{className:Me("dis-sb",xe["count-div-style"]),children:(0,u.jsxs)("div",{className:"dis-left",children:[(0,u.jsx)("img",{src:((R=H.publishUser)===null||R===void 0?void 0:R.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,u.jsx)("span",{children:(ne=H.publishUser)===null||ne===void 0?void 0:ne.nickName}),(0,u.jsx)(A.Z,{type:"vertical"}),(0,u.jsxs)("span",{children:["\u90E8\u7F72\u4E8E",(0,te.hK)(H.deployed)]})]})})]}),(0,u.jsx)(W.Z,{onClick:function(){return ut(!ke)},className:Me(xe["fold-icon-style"]),style:{transform:ke?"rotate(-90deg)":"rotate(0)"}})]},"".concat(H.targetId,"-").concat(Te)),(0,u.jsx)(_,{fold:ke,tools:(H==null||(ae=H.config)===null||ae===void 0?void 0:ae.tools)||[],item:H,getToolLoading:y,onAddTool:c,addedComponents:t})]})},Ke=Ne,N={"xagi-nav-style2":"xagi-nav-style2___oSLyM",text:"text___Y7g4H","page-container":"page-container___HAi1o",container:"container___RB6dU","left-image-style":"left-image-style___cOdxC","content-font":"content-font___rKg1c","count-div-style":"count-div-style___fmK9k","label-font-style":"label-font-style___ftppD","created-description-style":"created-description-style___KPAuu"},re=l().bind(N),Be=function(Z){var R=Z.item,ne=Z.index,ae=Z.isAddedState,H=Z.onAddNode,Te=Z.isCurrentLoading;return(0,u.jsxs)("div",{className:re("dis-sb",N.container,"cursor-pointer"),style:{height:"unset"},children:[(0,u.jsx)("img",{src:R.icon,alt:"",className:re(N["left-image-style"])}),(0,u.jsxs)("div",{className:re("flex-1",N["content-font"]),children:[(0,u.jsx)("p",{className:re(N["label-font-style"]),children:R.name}),(0,u.jsx)("p",{className:re(N["created-description-style"],"text-ellipsis-2"),title:R.description,children:R.description}),(0,u.jsx)("div",{className:re("dis-sb",N["count-div-style"]),children:(0,u.jsxs)("div",{className:"dis-left",children:[(0,u.jsx)("img",{src:R?.creatorAvatar||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,u.jsx)("span",{children:R.creatorNickName}),(0,u.jsx)(A.Z,{type:"vertical"}),(0,u.jsxs)("span",{children:["\u521B\u5EFA\u4E8E",(0,te.hK)(R.created)]})]})})]}),(0,u.jsx)(I.ZP,{color:"default",variant:"filled",className:re(N["add-button"],ae&&N["add-button-added"]),onClick:function(){return H(R)},disabled:Te?!1:ae,loading:Te,children:ae?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(R.projectId,"-").concat(ne))},Xe=Be,se=l().bind(a),me=[C.qR.Agent,C.qR.Plugin,C.qR.Workflow,C.qR.Knowledge,C.qR.Table],Ve=L.Ne.filter(function(O){return me.includes(O.key)}),we=function(Z){var R=Z.isSpaceOnly,ne=R===void 0?!1:R,ae=Z.open,H=Z.onCancel,Te=Z.checkTag,r=Z.onAdded,c=Z.addComponents,y=Z.addSkillLoading,t=y===void 0?void 0:y,Y=Z.tabs,fe=Y===void 0?Ve:Y,ke=Z.hideTop,ut=(0,le.useParams)(),Pe=Number(ut.spaceId),It=(0,M.useState)(!1),lt=K()(It,2),ot=lt[0],He=lt[1],Rt=(0,M.useState)(""),_t=K()(Rt,2),At=_t[0],Je=_t[1],Lt=(0,M.useState)({label:"\u63D2\u4EF6",key:C.qR.Plugin}),dt=K()(Lt,2),G=dt[0],pt=dt[1],Mt=(0,M.useState)({page:1,pageSize:20}),wt=K()(Mt,2),St=wt[0],at=wt[1],Ot=(0,M.useState)(100),Pt=K()(Ot,2),mt=Pt[0],et=Pt[1],Kt=(0,M.useState)("all"),bt=K()(Kt,2),rt=bt[0],Tt=bt[1],Ft=(0,M.useState)(),Se=K()(Ft,2),E=Se[0],$e=Se[1],ft=(0,M.useState)([]),Ut=K()(ft,2),We=Ut[0],it=Ut[1],an=(0,M.useState)([]),Nt=K()(an,2),Ze=Nt[0],Dt=Nt[1],rn=(0,M.useState)(!1),Zt=K()(rn,2),sn=Zt[0],Ge=Zt[1],un=(0,M.useState)({list:[],searching:!1}),Bt=K()(un,2),$t=Bt[0],kt=Bt[1],Et=(0,M.useRef)(!1),gt=(0,M.useRef)(null),ln=[{key:"all",label:"\u5168\u90E8"},{key:"library",label:"\u7EC4\u4EF6\u5E93".concat(G.label)},{key:"collect",label:"\u6536\u85CF"}].filter(function(m){return!ne||m.key==="library"}),Wt=[{key:"all",label:"\u5168\u90E8"}],on=[{key:"all",label:"\u5168\u90E8"},{key:"library",label:"\u5F53\u524D\u7A7A\u95F4\u667A\u80FD\u4F53"}].filter(function(m){return!ne||m.key==="library"}),zt=[{key:"all",label:"\u5168\u90E8"},{key:1,label:"\u6587\u6863"}],vt=[{key:"all",label:"\u7EC4\u4EF6\u5E93\u6570\u636E\u8868"}],Vt=[{key:"all",label:"\u5168\u90E8"},{key:"custom",label:"\u81EA\u5B9A\u4E49\u670D\u52A1"}],cn=[{key:"all",label:"\u5168\u90E8"}],dn=function(){switch(G.key){case C.qR.Knowledge:return zt;case C.qR.Table:return vt;case C.qR.MCP:return Vt;case C.qR.Page:return Wt;case C.qR.Agent:return on;case C.qR.Skill:return cn;default:return ln}},tt=(0,M.useRef)(null),ht=(0,M.useRef)(!1),nt=function(){var m=he()(n()().mark(function o(P,F){var ce,Ee,ge,ue,Oe;return n()().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(kt({list:[],searching:!1}),Ie.prev=1,Pe!==0){Ie.next=4;break}return Ie.abrupt("return");case 4:if(!(F.page>mt&&F.page!==1||ht.current)){Ie.next=6;break}return Ie.abrupt("return");case 6:return ht.current=!0,F.page===1&&Ge(!0),(Et.current||ne)&&(F.justReturnSpaceData=!0),gt.current&&(F.dataType=gt.current),P===C.qR.Agent&&(F.targetType=C.qR.Agent,F.targetSubType="ChatBot"),Ie.next=13,S.ZP.getList(P,w()(w()({},F),{},{spaceId:Pe}));case 13:if(Ee=Ie.sent,ge=Ee.code,ue=Ee.data,Oe=Ee.message,ht.current=!1,Ge(!1),ge===x.Gh){Ie.next=22;break}return z.ZP.error(Oe),Ie.abrupt("return");case 22:et(ue.pages),at(function(Ct){return w()(w()({},Ct),{},{page:ue.current,total:ue.total})}),ue==null||(ce=ue.records)===null||ce===void 0||ce.forEach(function(Ct){Ct.statistics||(Ct.statistics={collectCount:0})}),it(function(Ct){var nn=F.page===1?d()(ue.records):[].concat(d()(Ct),d()(ue.records));return kt(w()(w()({},$t),{},{list:nn})),nn}),Ie.next=33;break;case 28:Ie.prev=28,Ie.t0=Ie.catch(1),ht.current=!1,Ge(!1),et(100);case 33:case"end":return Ie.stop()}},o,null,[[1,28]])}));return function(P,F){return m.apply(this,arguments)}}(),Ht=function(){var m=he()(n()().mark(function o(P){var F,ce,Ee;return n()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.prev=0,Ge(!0),ce=(F=G.key)===null||F===void 0?void 0:F.toLowerCase(),ue.next=5,S.ZP.collectList(ce,P);case 5:Ee=ue.sent,it(d()(Ee.data)),Ge(!1),ue.next=13;break;case 10:ue.prev=10,ue.t0=ue.catch(0),Ge(!1);case 13:case"end":return ue.stop()}},o,null,[[0,10]])}));return function(P){return m.apply(this,arguments)}}(),Yt=function(){var m=he()(n()().mark(function o(P){var F,ce,Ee,ge;return n()().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(ce=(F=G.key)===null||F===void 0?void 0:F.toLowerCase(),!P.collect){Oe.next=7;break}return Oe.next=4,S.ZP.unCollect(ce,P.targetId);case 4:Ee=Oe.sent,Oe.next=10;break;case 7:return Oe.next=9,S.ZP.collect(ce,P.targetId);case 9:Ee=Oe.sent;case 10:Ee.code===x.ZP.success&&(ge=We.map(function(Qe){return P.targetId===Qe.targetId&&(Qe.collect?(Qe.collect=!1,Qe.statistics&&(Qe.statistics.collectCount=(Qe.statistics.collectCount||1)-1)):(Qe.collect=!0,Qe.statistics&&(Qe.statistics.collectCount=(Qe.statistics.collectCount||0)+1))),Qe}),it(ge));case 11:case"end":return Oe.stop()}},o)}));return function(P){return m.apply(this,arguments)}}(),xt=function(){var m=he()(n()().mark(function o(P){var F,ce;return n()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(G.key!==C.qR.Table){ge.next=11;break}return ge.prev=1,F={tableName:P.name,tableDescription:P.description,spaceId:Pe,icon:P.icon},ge.next=5,(0,pe.AY)(F);case 5:ce=ge.sent,le.history.push("/space/".concat(Pe,"/table/").concat(ce.data)),ge.next=11;break;case 9:ge.prev=9,ge.t0=ge.catch(1);case 11:case"end":return ge.stop()}},o,null,[[1,9]])}));return function(P){return m.apply(this,arguments)}}(),jt=function(o){He(!1),le.history.push("/space/".concat(Pe,"/agent/").concat(o))},Xt=function(o){r(o),$e(o)},pn=function(o){var P={kw:o,page:1,pageSize:20};Je(o),at({page:1,pageSize:20}),it([]),nt(G.key,P)},mn=function(o,P){switch(et(100),o){case"collect":Ht(P);break;case"library":Et.current=!0,nt(G.key,w()(w()({},P),{},{justReturnSpaceData:!0}));break;default:nt(G.key,P);break}},fn=(0,le.useRequest)(X.ci,{manual:!0,debounceInterval:300,onSuccess:function(o){Dt(o),Ge(!1)},onError:function(){Ge(!1)}}),qt=fn.run,Jt=function(){Ge(!0),qt({spaceId:Pe,publishType:ye.sO.PAGE,buildRunning:!0})},gn=function(o){var P=Ze?.filter(function(F){return F.name.includes(o)})||[];Dt(P)},vn=function(o){if(Je(""),Tt(o),G.key===C.qR.Page){Jt();return}at({page:1,pageSize:20}),it([]),Et.current=!1,gt.current=null;var P={page:1,pageSize:20};G.key===C.qR.Knowledge&&o!=="all"&&(P.dataType=Number(o),gt.current=Number(o)),G.key===C.qR.MCP&&o==="custom"&&(Et.current=!0),mn(o,P)},en=function(o){if(o){gt.current=null,Et.current=!1;var P=o,F=fe.find(function(ce){return ce.key===P});if(F)if(Tt(ne?"library":"all"),Je(""),pt(F),o===C.qR.Page){it([]),Ge(!0),qt({spaceId:Pe,publishType:ye.sO.PAGE,buildRunning:!0});return}else at({page:1,pageSize:20}),et(100),nt(F.key,{page:1,pageSize:20})}},Gt=(0,M.useCallback)(function(){if(!(rt==="collect"||ht.current)){var m=tt.current;if(m){var o=m.scrollHeight-m.scrollTop-m.clientHeight,P=We.length>0&&o<50&&St.page<mt;if(P){var F=St.page+1,ce={pageSize:20,page:F};at(function(Ee){return w()(w()({},Ee),{},{page:F})}),nt(G.key,ce)}}}},[St,rt,mt,ht,G.key,We.length]);(0,M.useEffect)(function(){var m=tt.current;if(ae&&m)return m.addEventListener("scroll",Gt),function(){m.removeEventListener("scroll",Gt)}},[ae,Gt]),(0,M.useEffect)(function(){ae&&setTimeout(function(){en(Te)},100)},[Te,ae]);var hn=(0,u.jsxs)("div",{className:se("dis-left",a["created-title"]),children:[(0,u.jsx)("h3",{className:a["created-title-text"],children:"\u6DFB\u52A0"}),(0,u.jsx)(s.Z,{value:G.key,size:"large",onChange:en,options:fe.filter(function(m){return!(ke!=null&&ke.includes(m.key))}).map(function(m){return{label:m.label,value:m.key}}),className:a["segmented-style"]})]}),yt=(0,M.useCallback)(function(m,o){return c?.some(function(P){return P.type===m.targetType&&P.targetId===m.targetId&&P.status===o&&(P?.toolName||"")===(m.toolName||"")})},[c]),yn=(0,M.useCallback)(function(m){return yt(m,C.BQ.Added)},[yt]),tn=(0,M.useCallback)(function(m,o){return t===void 0?yt(m,C.BQ.Loading):!!(t&&E?.targetId===m.targetId&&(E?.toolName||"")===(o||""))},[yt,E,t]),Cn=function(o,P,F){return(0,u.jsx)(Ke,{item:o,index:P,getToolLoading:tn,selected:F,onAddNode:Xt,addedComponents:c||[]},"".concat(o.targetId,"-").concat(P))},_n=function(o){r({targetType:C.qR.Page,targetId:o.projectId})},wn=function(o,P){var F=yt({targetType:C.qR.Page,targetId:o.projectId},C.BQ.Added),ce=yt({targetType:C.qR.Page,targetId:o.projectId},C.BQ.Loading);return(0,u.jsx)(Xe,{item:o,index:P,onAddNode:_n,isAddedState:F,isCurrentLoading:ce},"".concat(o.projectId,"-").concat(P))},Sn=function(o,P){var F,ce,Ee=tn(o),ge=yn(o);return(0,u.jsxs)("div",{className:se("dis-sb",a["list-item-style"]),children:[(0,u.jsx)("img",{src:o.icon||(0,Q.Pk)(G.key),alt:"",className:se(a["left-image-style"]),onError:function(Oe){Oe.currentTarget.onerror=null,Oe.currentTarget.src=(0,Q.Pk)(G.key)||""}}),(0,u.jsxs)("div",{className:se("flex-1",a["content-font"]),children:[(0,u.jsx)("p",{className:se(a["label-font-style"],"text-ellipsis-2"),children:o.name}),(0,u.jsx)("p",{className:se(a["created-description-style"],"text-ellipsis"),children:o.description}),(0,u.jsx)("div",{className:se("dis-sb",a["count-div-style"]),children:(0,u.jsxs)("div",{className:"dis-left",children:[(0,u.jsx)("img",{src:((F=o.publishUser)===null||F===void 0?void 0:F.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,u.jsx)("span",{children:(ce=o.publishUser)===null||ce===void 0?void 0:ce.nickName}),(0,u.jsx)(A.Z,{type:"vertical"}),(0,u.jsx)("span",{children:"\u53D1\u5E03\u4E8E".concat((0,te.hK)(o.created))}),![C.qR.Knowledge,C.qR.MCP].includes(G.key)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(A.Z,{type:"vertical"}),o.collect&&(0,u.jsx)(Le.Z,{className:se(a["collect-star"],a["icon-margin"]),onClick:function(){return Yt(o)}}),!o.collect&&(0,u.jsx)(U.Z,{className:se(a["icon-margin"]),onClick:function(){return Yt(o)}}),(0,u.jsx)("span",{children:o.statistics?o.statistics.collectCount:0})]})]})})]}),(0,u.jsx)(I.ZP,{color:"default",variant:"filled",onClick:function(){return Xt(o)},loading:Ee,className:se(a["add-button"],ge&&a["add-button-added"]),disabled:Ee?!1:ge,children:ge?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(o.targetId,"-").concat(P))},Pn=function(o){le.history.push("/space/".concat(o,"/skill-manage"))},bn=function(o,P){o===C.qR.MCP?(0,B._x)(P):o===C.qR.Page?(0,B.sK)(P):o===C.qR.Skill?Pn(P):He(!0)};return(0,u.jsxs)(D.Z,{keyboard:!1,maskClosable:!1,open:ae,footer:null,centered:!0,title:hn,onCancel:H,className:se(a["created-modal-style"]),width:1096,children:[(0,u.jsxs)("div",{className:se(a["created-container"],"dis-sb-start"),children:[(0,u.jsxs)("div",{className:se(a["aside-style"]),children:[(0,u.jsxs)("div",{className:se(a["aside-header"]),children:[(0,u.jsx)(V.Z,{allowClear:!0,value:At,variant:"filled",placeholder:"\u641C\u7D22",prefix:(0,u.jsx)(q.Z,{}),onChange:function(o){Je(o.target.value)},onClear:function(){Je(""),G.key===C.qR.Page?Jt():nt(G.key,{page:1,pageSize:20})},onPressEnter:function(o){var P=o.currentTarget.value;o.key==="Enter"&&(G.key===C.qR.Page?gn(P):(kt(w()(w()({},$t),{},{searching:!0})),pn(P)))}}),(0,u.jsx)(I.ZP,{type:"primary",className:se(a["create-button"]),icon:(0,u.jsx)(J.Z,{}),block:!0,onClick:function(){return bn(G.key,Pe)},children:"\u521B\u5EFA".concat(G.label)})]}),(0,u.jsx)(b.Z,{className:se(a["aside-menu"]),onClick:function(o){return vn(o.key)},selectedKeys:[rt],mode:"vertical",items:dn()})]}),(0,u.jsx)("div",{className:se(a["main-style"],"flex-1","overflow-y"),ref:tt,children:sn?(0,u.jsx)(T.Z,{className:se("h-full")}):G.key===C.qR.Page&&Ze!==null&&Ze!==void 0&&Ze.length?Ze?.map(function(m,o){return wn(m,o)}):We!=null&&We.length?We.map(function(m,o){return G.key===C.qR.MCP?Cn(m,o,G):Sn(m,o)}):(0,u.jsx)("div",{className:se(a["created-list-empty-style"]),children:(0,u.jsx)(h.Z,{description:$t.searching?"\u6682\u65E0\u6570\u636E\uFF0C\u8BF7\u91CD\u65B0\u641C\u7D22":"\u6682\u65E0\u6570\u636E"})})})]}),(0,u.jsx)(g.Z,{onConfirm:xt,onCancel:function(){return He(!1)},open:ot&&G.key===C.qR.Workflow,type:ee.jA.Create,spaceId:Pe}),(0,u.jsx)(f.Z,{onConfirm:xt,spaceId:Pe,onCancel:function(){return He(!1)},open:ot&&G.key===C.qR.Plugin,mode:ee.jA.Create}),(0,u.jsx)(Ue.Z,{spaceId:Pe,onConfirm:xt,onCancel:function(){return He(!1)},open:ot&&G.key===C.qR.Knowledge,mode:ee.jA.Create}),(0,u.jsx)(be.Z,{spaceId:Pe,open:ot&&G.key===C.qR.Agent,onCancel:function(){return He(!1)},onConfirmCreate:jt}),(0,u.jsx)(Ce.Z,{spaceId:Pe,type:C.qR.Table,mode:ee.jA.Create,Confirm:xt,onCancel:function(){return He(!1)},open:ot&&G.key===C.qR.Table})]})},qe=we},9291:function(ct,De,e){var Re=e(82092),n=e.n(Re),Ae=e(48305),d=e.n(Ae),v=e(46388),w=e(92973),de=e(26145),he=e(83352),ve=e(33356),K=e(15970),x=e(61884),L=e(28327),S=e(30799),pe=e(60393),X=e(28190),C=e(63619),ee=e(51430),ye=e(75271),te=e(80723),B=e(52676),Q=function(U){var q=U.loading,J=U.mode,z=J===void 0?S.jA.Create:J,s=U.type,A=U.info,I=U.open,D=U.onCancel,V=U.Confirm,b=X.Z.useForm(),h=d()(b,1),$=h[0],l=(0,ye.useState)(""),M=d()(l,2),le=M[0],be=M[1];(0,ye.useEffect)(function(){I&&A&&($.setFieldsValue(A),be(A.icon||""))},[I,A]);var Ce=function(){var a=n()(n()({},S.jA.Create,"\u521B\u5EFA"),S.jA.Update,"\u7F16\u8F91"),W=n()(n()(n()(n()({},L.qR.Table,"\u6570\u636E\u8868"),L.qR.Knowledge,"\u77E5\u8BC6\u5E93"),L.qR.Plugin,"\u63D2\u4EF6"),L.qR.Workflow,"\u5DE5\u4F5C\u6D41");return"".concat(a[z]).concat(W[s])},Ue=function(){var a=n()(n()(n()(n()({},L.qR.Table,v),L.qR.Knowledge,w),L.qR.Plugin,de),L.qR.Workflow,he);return a[s]},f=function(a){V(a,s,z)},g=function(){$.submit()};return(0,B.jsx)(te.Z,{form:$,title:Ce(),open:I,loading:q,onCancel:D,onConfirm:g,children:(0,B.jsxs)(X.Z,{form:$,layout:"vertical",onFinish:f,requiredMark:pe.N,children:[(s===L.qR.Plugin||s===L.qR.Table)&&(0,B.jsx)(X.Z.Item,{name:"icon",children:(0,B.jsx)("div",{className:"dis-center",children:(0,B.jsx)(K.Z,{className:"upload-box",onUploadSuccess:function(a){$.setFieldValue("icon",a),be(a)},imageUrl:$.getFieldValue("icon")||le,defaultImage:Ue(),svgIconName:"icons-workspace-table"})})}),(0,B.jsx)(X.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"},{validator:function(a,W){return!W||W?.length<=30?Promise.resolve():W?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u540D\u79F0!"))}}],children:(0,B.jsx)(C.Z,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",showCount:!0,maxLength:30})}),(0,B.jsx)(X.Z.Item,{name:"description",label:"\u63CF\u8FF0",className:"position-relative",children:(0,B.jsx)(C.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0",autoSize:{minRows:3,maxRows:6},maxLength:1e4,showCount:!0,className:"dispose-textarea-count"})}),(s===L.qR.Workflow||s===L.qR.Knowledge)&&(0,B.jsx)(X.Z.Item,{name:"icon",children:(0,B.jsx)("div",{children:(0,B.jsx)(K.Z,{className:"upload-box",onUploadSuccess:function(a){$.setFieldValue("icon",a)},imageUrl:le,defaultImage:Ue(),svgIconName:"icons-workspace-knowledge"})})}),s===L.qR.Plugin&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(X.Z.Item,{shouldUpdate:!0,label:"\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",name:"type",children:(0,B.jsx)(ee.ZP.Group,{options:x.B1})}),(0,B.jsx)(X.Z.Item,{shouldUpdate:!0,children:function(){return $.getFieldValue("type")==="CODE"&&(0,B.jsx)(X.Z.Item,{label:"IDE \u8FD0\u884C\u65F6",name:"codeLang",children:(0,B.jsx)(ve.Z,{options:x._n})})}})]})]})})};De.Z=Q},74607:function(ct,De,e){e.r(De),e.d(De,{default:function(){return Xe}});var Re=e(90228),n=e.n(Re),Ae=e(87999),d=e.n(Ae),v=e(48305),w=e.n(v),de=e(93940),he=e(65773),ve=e(2402),K=e(95857),x=e(38949),L=e(9291),S=e(89082),pe=e(4728),X=e(53736),C=e(59602),ee=e(33356),ye=e(83285),te=e(3834),B=e(69945),Q=e(92629),Le=e(5622),U=e(98785),q=e(28327),J=e(30799),z=e(99833),s=e(2077),A=e(22824),I=e(44381),D=e(86834),V=e(17023),b=e(16621),h=e(41249),$=e(24113),l=e(46038),M=e(7010),le=e(63619),be=e(9504),Ce=e(70183),Ue=e(94581),f=e.n(Ue),g=e(75271),T=e(53586),a=e(30527),W=e(86163),ie=e(35843),u=e(61884),_e=e(16483),ze=e.n(_e),Ye={time:"time___zGASf",status:"status___sUsyE"},_=e(52676),xe=f().bind(Ye),Me=function(me){var Ve,we,qe,O=me.componentInfo,Z=me.onClick,R=me.onClickMore,ne=(0,g.useState)([]),ae=w()(ne,2),H=ae[0],Te=ae[1],r=(0,g.useMemo)(function(){return u.Ov.find(function(y){return y.type===O.type})},[O.type]),c=function(t){if(t===s.KZ.Del){var Y;return O==null||(Y=O.permissions)===null||Y===void 0?void 0:Y.includes(J.jE.Delete)}return!0};return(0,g.useEffect)(function(){var y=u.uo.filter(function(t){var Y=t.type,fe=t.action;return Y===O.type&&c(fe)});Te(y)},[O]),(0,_.jsx)(W.Z,{title:O.name,avatar:((Ve=O.creator)===null||Ve===void 0?void 0:Ve.avatar)||"",name:((we=O.creator)===null||we===void 0?void 0:we.nickName)||((qe=O.creator)===null||qe===void 0?void 0:qe.userName),content:O.description,icon:O.icon,defaultIcon:r?.defaultImage||"",onClick:Z,extra:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("span",{className:xe("text-ellipsis","flex-1",Ye.time),children:["\u6700\u8FD1\u7F16\u8F91 ",ze()(O.modified).format("MM-DD HH:mm")]}),O?.type===s.Lm.Model?(0,_.jsx)("span",{className:xe("flex","items-center","gap-4",Ye.status),children:O?.enabled===s.BT.Enabled?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(ie.TS,{}),"\u5DF2\u542F\u7528"]}):(0,_.jsx)(_.Fragment,{children:"\u5DF2\u7981\u7528"})}):O?.publishStatus===J.xH.Published&&(0,_.jsxs)("span",{className:xe("flex","items-center","gap-4",Ye.status),children:[(0,_.jsx)(ie.TS,{}),"\u5DF2\u53D1\u5E03"]})]}),footer:(0,_.jsxs)("footer",{className:xe("flex","items-center","content-between"),children:[(0,_.jsx)(a.Z,{type:O.type}),(0,_.jsx)(S.Z,{list:H,onClick:R,children:(0,_.jsx)(be.ZP,{size:"small",type:"text",icon:(0,_.jsx)(ie.Ey,{})})})]})})},Ne=Me,Ke=e(75732),N={"xagi-nav-style2":"xagi-nav-style2___aj8Wf",text:"text___vBVV3","page-container":"page-container___dv4Og",container:"container___w7Jq_",title:"title___NKu63","main-container":"main-container___im5HM"},re=f().bind(N),Be=function(){var me=(0,T.useSearchParams)(),Ve=w()(me,2),we=Ve[0],qe=Ve[1],O=function(p,i){var k=new URLSearchParams(we);i?k.set(p,i):k.delete(p),qe(k)},Z=(0,T.useParams)(),R=Number(Z.spaceId),ne=(0,g.useState)([]),ae=w()(ne,2),H=ae[0],Te=ae[1],r=(0,g.useRef)([]),c=(0,g.useState)(null),y=w()(c,2),t=y[0],Y=y[1],fe=(0,g.useState)(!1),ke=w()(fe,2),ut=ke[0],Pe=ke[1],It=(0,g.useState)(!1),lt=w()(It,2),ot=lt[0],He=lt[1],Rt=(0,g.useState)(!1),_t=w()(Rt,2),At=_t[0],Je=_t[1],Lt=(0,g.useState)(!1),dt=w()(Lt,2),G=dt[0],pt=dt[1],Mt=(0,g.useState)(!1),wt=w()(Mt,2),St=wt[0],at=wt[1],Ot=(0,g.useState)(!1),Pt=w()(Ot,2),mt=Pt[0],et=Pt[1],Kt=(0,g.useState)(),bt=w()(Kt,2),rt=bt[0],Tt=bt[1],Ft=(0,g.useState)(we.get("type")||s.Lm.All_Type),Se=w()(Ft,2),E=Se[0],$e=Se[1],ft=(0,g.useState)(Number(we.get("status"))||s.No.All),Ut=w()(ft,2),We=Ut[0],it=Ut[1],an=(0,g.useState)(we.get("keyword")||""),Nt=w()(an,2),Ze=Nt[0],Dt=Nt[1],rn=(0,g.useState)(!1),Zt=w()(rn,2),sn=Zt[0],Ge=Zt[1],un=(0,g.useState)(!1),Bt=w()(un,2),$t=Bt[0],kt=Bt[1],Et=(0,g.useState)(!1),gt=w()(Et,2),ln=gt[0],Wt=gt[1],on=(0,g.useState)(Number(we.get("create"))||s.os.All_Person),zt=w()(on,2),vt=zt[0],Vt=zt[1],cn=(0,T.useModel)("userInfo"),dn=cn.userInfo,tt=function(p,i,k,oe){var Fe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:r.current,je=Fe;p!==s.Lm.All_Type&&(je=je.filter(function(st){return st.type===p})),i===s.No.Published&&(je=je.filter(function(st){return st.publishStatus===J.xH.Published})),k===s.os.Me&&(je=je.filter(function(st){return st.creatorId===dn.id})),oe&&(je=je.filter(function(st){return st.name.includes(oe)})),Te(je)};(0,g.useEffect)(function(){var j=we.get("type")||s.Lm.All_Type,p=Number(we.get("status"))||s.No.All,i=Number(we.get("create"))||s.os.All_Person,k=we.get("keyword")||"";$e(j),it(p),Vt(i),Dt(k),tt(j,p,i,k)},[we]);var ht=(0,T.useRequest)(Q.Cw,{manual:!0,debounceInterval:300,onSuccess:function(p){tt(E,We,vt,Ze,p),r.current=p,Ge(!1)},onError:function(){Ge(!1)}}),nt=ht.run,Ht=function(p){var i=p.params,k=p.data,oe=p.type;pt(!1);var Fe=i[1];oe===s.Lm.Plugin?t?.ext===z.AQ.CODE?(0,D.gU)(Fe,k):(0,D.oV)(Fe,k):oe===s.Lm.Workflow&&(0,D.Ph)(Fe,k)},Yt=(0,T.useRequest)(U.lK,{manual:!0,debounceInterval:300,onSuccess:function(p,i){h.ZP.success("\u63D2\u4EF6\u590D\u5236\u6210\u529F"),Wt(!1),Ht({params:i,data:p,type:s.Lm.Plugin})},onError:function(){Wt(!1)}}),xt=Yt.run,jt=function(p){var i=H.filter(function(k){return k.id!==p});Te(i),r.current=r.current.filter(function(k){return k.id!==p})},Xt=(0,T.useRequest)(U.O9,{manual:!0,debounceInterval:300,onSuccess:function(p,i){h.ZP.success("\u63D2\u4EF6\u5220\u9664\u6210\u529F");var k=i[0];jt(k)}}),pn=Xt.run,mn=(0,T.useRequest)(Le.og,{manual:!0,debounceInterval:300,onSuccess:function(p,i){h.ZP.success("\u6A21\u578B\u5220\u9664\u6210\u529F");var k=i[0];jt(k)}}),fn=mn.run,qt=(0,T.useRequest)(Q.jU,{manual:!0,debounceInterval:300,onSuccess:function(p,i){h.ZP.success("\u5DE5\u4F5C\u6D41\u590D\u5236\u6210\u529F"),kt(!1),Ht({params:i,data:p,type:s.Lm.Workflow})},onError:function(){kt(!1)}}),Jt=qt.run,gn=(0,T.useRequest)(Q.xC,{manual:!0,debounceInterval:300,onSuccess:function(p,i){h.ZP.success("\u5DE5\u4F5C\u6D41\u5220\u9664\u6210\u529F");var k=i[0];jt(k)}}),vn=gn.run,en=(0,T.useRequest)(B.g3,{manual:!0,debounceInterval:300,onSuccess:function(p,i){h.ZP.success("\u77E5\u8BC6\u5E93\u5220\u9664\u6210\u529F");var k=i[0];jt(k)}}),Gt=en.run,hn=(0,T.useRequest)(te.KJ,{manual:!0,debounceInterval:300,onSuccess:function(p,i){h.ZP.success("\u6570\u636E\u8868\u5220\u9664\u6210\u529F");var k=i[0];jt(k)}}),yt=hn.run,yn=(0,T.useRequest)(Q.Y$,{manual:!0,debounceInterval:300,onSuccess:function(){h.ZP.success("\u6570\u636E\u8868\u590D\u5236\u6210\u529F"),nt(R)}}),tn=yn.run;(0,g.useEffect)(function(){Ge(!0),nt(R)},[R]);var Cn=function(p){var i=p;$e(i),tt(i,We,vt,Ze),O("type",i)},_n=function(p){var i=p;Vt(i),tt(E,We,i,Ze),O("create",i.toString())},wn=function(p){var i=p;it(i),tt(E,i,vt,Ze),O("status",i.toString())},Sn=function(p){var i=p.target.value;Dt(i),tt(E,We,vt,i),O("keyword",i)},Pn=function(){Dt(""),tt(E,We,vt,"")},bn=function(p,i,k){return k===z.AQ.CODE?"/space/".concat(i,"/plugin/").concat(p,"/cloud-tool"):k===z.AQ.HTTP?"/space/".concat(i,"/plugin/").concat(p):""},m=function(){et(!1),nt(R)},o=function(p){var i=p.value;switch(i){case s.Lm.Workflow:Pe(!0);break;case s.Lm.Plugin:He(!0);break;case s.Lm.Knowledge:at(!0);break;case s.Lm.Table:Je(!0);break;case s.Lm.Model:Tt(null),et(!0);break}},P=function(){var j=d()(n()().mark(function p(i){var k,oe,Fe,je,st,Tn;return n()().wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:return k=i.name,oe=i.description,Fe=i.icon,je={tableName:k,tableDescription:oe,spaceId:R,icon:Fe},Qt.next=4,(0,te.AY)(je);case 4:st=Qt.sent,Tn=st.data,T.history.push("/space/".concat(R,"/table/").concat(Tn));case 7:case"end":return Qt.stop()}},p)}));return function(i){return j.apply(this,arguments)}}(),F=function(p,i){var k=i.id,oe=i.name;(0,A.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u7EC4\u4EF6\u5417?",oe,function(){switch(p){case s.Lm.Plugin:pn(k);break;case s.Lm.Model:fn(k);break;case s.Lm.Workflow:vn(k);break;case s.Lm.Knowledge:Gt(k);break;case s.Lm.Table:yt(k);break}return new Promise(function(Fe){setTimeout(Fe,1e3)})})},ce=function(p){t?.type===s.Lm.Plugin?(Wt(!0),xt(t.id,p)):t?.type===s.Lm.Workflow&&(kt(!0),Jt(t.id,p))},Ee=function(p,i){switch(p){case s.KZ.Copy_To_Space:pt(!0),Y(i);break;case s.KZ.Export_Config:(0,I._d)(i.id,q.qR.Plugin);break}},ge=function(p,i){switch(p){case s.KZ.Export_Config:(0,I._d)(i.id,q.qR.Model);break}},ue=function(p,i){switch(p){case s.KZ.Copy_To_Space:pt(!0),Y(i);break;case s.KZ.Export_Config:(0,A.oB)("\u5BFC\u51FA\u914D\u7F6E - ".concat(i?.name),"\u5982\u679C\u5185\u90E8\u5305\u542B\u6570\u636E\u8868\u6216\u77E5\u8BC6\u5E93\uFF0C\u6570\u636E\u672C\u8EAB\u4E0D\u4F1A\u5BFC\u51FA",function(){return(0,I._d)(i.id,q.qR.Workflow),new Promise(function(k){setTimeout(k,1e3)})});break}},Oe=function(p,i){switch(p){case s.KZ.Export_Config:(0,A.oB)("\u5BFC\u51FA\u914D\u7F6E - ".concat(i?.name),"\u4EC5\u5BFC\u51FA\u6570\u636E\u8868\u7ED3\u6784\uFF0C\u6570\u636E\u672C\u8EAB\u4E0D\u4F1A\u5BFC\u51FA",function(){return(0,I._d)(i.id,q.qR.Table),new Promise(function(k){setTimeout(k,1e3)})});break;case s.KZ.Copy:tn({tableId:i.id});break}},Qe=function(p,i){var k,oe;switch(p){case s.Lm.Workflow:T.history.push("/space/".concat(R,"/library-log?targetType=").concat(q.qR.Workflow,"&targetId=").concat((k=i?.id)!==null&&k!==void 0?k:""));break;case s.Lm.Plugin:T.history.push("/space/".concat(R,"/library-log?targetType=").concat(q.qR.Plugin,"&targetId=").concat((oe=i?.id)!==null&&oe!==void 0?oe:""));break}},Ie=function(p,i){var k=p,oe=k.action,Fe=k.type;if(oe===s.KZ.Del)F(Fe,i);else if(oe===s.KZ.Log)Qe(Fe,i);else switch(Fe){case s.Lm.Plugin:Ee(oe,i);break;case s.Lm.Model:ge(oe,i);break;case s.Lm.Workflow:ue(oe,i);break;case s.Lm.Table:Oe(oe,i);break}},Ct=function(p){var i=p.type,k=p.id,oe=p.spaceId,Fe=p.ext,je="";switch(i){case s.Lm.Workflow:je="/space/".concat(oe,"/workflow/").concat(k);break;case s.Lm.Plugin:je=bn(k,oe,Fe);break;case s.Lm.Knowledge:je="/space/".concat(oe,"/knowledge/").concat(k);break;case s.Lm.Table:je="/space/".concat(oe,"/table/").concat(k);break;case s.Lm.Model:Tt(p),et(!0);break}je&&(0,D.X0)(je)},nn=function(){nt(R)};return(0,_.jsxs)("div",{className:re(N.container,"flex","flex-col","h-full"),children:[(0,_.jsxs)($.Z,{children:[(0,_.jsx)(l.Z,{xs:24,sm:24,md:24,lg:24,xl:14,xxl:12,style:{marginBottom:5},children:(0,_.jsx)("div",{children:(0,_.jsxs)(M.Z,{children:[(0,_.jsx)("h3",{className:re(N.title),children:"\u7EC4\u4EF6\u5E93"}),(0,_.jsx)(ee.Z,{value:E,options:ye.yA,onChange:Cn}),(0,_.jsx)(de.Z,{options:ye.Bv,value:vt,onChange:function(p){return _n(p)}}),(0,_.jsx)(de.Z,{options:ye.v3,value:We,onChange:function(p){return wn(p)}})]})})}),(0,_.jsx)(l.Z,{xs:24,sm:24,md:24,lg:24,xl:10,xxl:12,style:{marginBottom:5},children:(0,_.jsxs)("div",{className:re("flex","gap-10","justify-content-end"),children:[(0,_.jsx)(le.Z,{rootClassName:re(N.input),placeholder:"\u641C\u7D22\u7EC4\u4EF6",value:Ze,onChange:Sn,prefix:(0,_.jsx)(V.Z,{}),allowClear:!0,onClear:Pn,style:{width:214}}),(0,_.jsx)(X.Z,{spaceId:R,onUploadSuccess:nn}),(0,_.jsx)(S.Z,{list:ye.k0,onClick:o,children:(0,_.jsx)(be.ZP,{type:"primary",icon:(0,_.jsx)(b.Z,{}),children:"\u7EC4\u4EF6"})})]})})]}),sn?(0,_.jsx)(C.Z,{}):H?.length>0?(0,_.jsx)("div",{className:re(N["main-container"],"flex-1","scroll-container-hide"),children:H?.map(function(j){return(0,_.jsx)(Ne,{componentInfo:j,onClick:function(){return Ct(j)},onClickMore:function(i){return Ie(i,j)}},"".concat(j.id).concat(j.type))})}):(0,_.jsx)("div",{className:re("flex","h-full","items-center","content-center"),children:(0,_.jsx)(Ce.Z,{description:"\u672A\u80FD\u627E\u5230\u76F8\u5173\u7ED3\u679C"})}),(0,_.jsx)(K.Z,{spaceId:R,open:ot,onCancel:function(){return He(!1)}}),(0,_.jsx)(ve.Z,{spaceId:R,open:St,onCancel:function(){return at(!1)}}),(0,_.jsx)(L.Z,{spaceId:R,open:At,type:q.qR.Table,onCancel:function(){return Je(!1)},Confirm:P}),(0,_.jsx)(pe.Z,{spaceId:R,loading:ln||$t,type:s.KZ.Copy_To_Space,mode:t?.type,open:G,title:t?.name,onCancel:function(){return pt(!1)},onConfirm:ce}),(0,_.jsx)(x.Z,{spaceId:R,open:ut,onCancel:function(){return Pe(!1)}}),(0,_.jsx)(he.Z,{condition:mt,children:(0,_.jsx)(Ke.Z,{mode:rt?J.jA.Update:J.jA.Create,spaceId:R,id:rt?.id,open:mt,onCancel:function(){return et(!1)},onConfirm:m})})]})},Xe=Be},68752:function(ct,De,e){var Re=e(90228),n=e.n(Re),Ae=e(87999),d=e.n(Ae),v=e(26068),w=e.n(v),de=e(67825),he=e.n(de),ve=e(82092),K=e.n(ve),x=e(28327),L=e(53586),S=["data"],pe=["records"],X=["deployedConfig","deployStatus","id","creator"],C=K()(K()(K()(K()(K()(K()(K()(K()({},x.qR.Plugin,"/api/published/plugin/list"),x.qR.Workflow,"/api/published/workflow/list"),x.qR.Knowledge,"/api/published/knowledge/list"),x.qR.Table,"/api/published/composeTable/list"),x.qR.Variable,"/api/published/dataBase/list"),x.qR.Model,"/api/published/dataBase/list"),x.qR.Agent,"/api/published/agent/list"),x.qR.Skill,"/api/published/skill/list");function ee(z){return(0,L.request)("/api/mcp/deployed/list",{method:"POST",data:z}).then(function(s){var A=s.data,I=he()(s,S),D=A||{},V=D.records,b=he()(D,pe);return w()(w()({},I),{},{data:w()(w()({},b),{},{records:V?.map(function(h){var $=h.deployedConfig,l=h.deployStatus,M=h.id,le=h.creator,be=he()(h,X);return w()(w()({},be),{},{status:l,targetId:M,targetType:x.qR.MCP,publishUser:le,config:$})})})})})}function ye(z,s){return te.apply(this,arguments)}function te(){return te=d()(n()().mark(function z(s,A){return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(s!==x.qR.MCP){D.next=2;break}return D.abrupt("return",ee(A));case 2:return D.abrupt("return",(0,L.request)("".concat(C[s]),{method:"POST",data:A}));case 3:case"end":return D.stop()}},z)})),te.apply(this,arguments)}function B(z,s){return Q.apply(this,arguments)}function Q(){return Q=d()(n()().mark(function z(s,A){return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,L.request)("/api/published/".concat(s,"/collect/list"),{method:"POST",data:A}));case 1:case"end":return D.stop()}},z)})),Q.apply(this,arguments)}function Le(z,s){return U.apply(this,arguments)}function U(){return U=d()(n()().mark(function z(s,A){return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(s!==x.qR.Agent.toLowerCase()){D.next=2;break}return D.abrupt("return",(0,L.request)("/api/user/agent/collect/".concat(A),{method:"POST"}).then(function(V){return V}));case 2:return D.abrupt("return",(0,L.request)("/api/published/".concat(s,"/collect/").concat(A),{method:"POST",data:K()({},"".concat(s,"Id"),A)}));case 3:case"end":return D.stop()}},z)})),U.apply(this,arguments)}function q(z,s){return J.apply(this,arguments)}function J(){return J=d()(n()().mark(function z(s,A){return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(s!==x.qR.Agent.toLowerCase()){D.next=2;break}return D.abrupt("return",(0,L.request)("/api/user/agent/unCollect/".concat(A),{method:"POST"}).then(function(V){return V}));case 2:return D.abrupt("return",(0,L.request)("/api/published/".concat(s,"/unCollect/").concat(A),{method:"POST",data:K()({},"".concat(s,"Id"),A)}).then(function(V){return V}));case 3:case"end":return D.stop()}},z)})),J.apply(this,arguments)}De.ZP={getList:ye,collectList:B,collect:Le,unCollect:q}},69945:function(ct,De,e){e.d(De,{Gh:function(){return be},Il:function(){return A},SR:function(){return $},T5:function(){return b},TL:function(){return qe},V5:function(){return se},Wi:function(){return L},ah:function(){return B},bB:function(){return Z},ds:function(){return ne},ei:function(){return w},g3:function(){return pe},gd:function(){return z},h0:function(){return Ve},pJ:function(){return ye},qx:function(){return K},s2:function(){return H},vn:function(){return g}});var Re=e(90228),n=e.n(Re),Ae=e(87999),d=e.n(Ae),v=e(53586);function w(r){return de.apply(this,arguments)}function de(){return de=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/config/update",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),de.apply(this,arguments)}function he(r){return ve.apply(this,arguments)}function ve(){return ve=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/config/list",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),ve.apply(this,arguments)}function K(r){return x.apply(this,arguments)}function x(){return x=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/config/add",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),x.apply(this,arguments)}function L(r){return S.apply(this,arguments)}function S(){return S=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/config/detailById",{method:"GET",params:{id:c}}));case 1:case"end":return t.stop()}},r)})),S.apply(this,arguments)}function pe(r){return X.apply(this,arguments)}function X(){return X=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/config/deleteById",{method:"GET",params:{id:c}}));case 1:case"end":return t.stop()}},r)})),X.apply(this,arguments)}function C(r){return ee.apply(this,arguments)}function ee(){return ee=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/update",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),ee.apply(this,arguments)}function ye(r){return te.apply(this,arguments)}function te(){return te=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/document/updateDocName",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),te.apply(this,arguments)}function B(r){return Q.apply(this,arguments)}function Q(){return Q=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/document/list",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),Q.apply(this,arguments)}function Le(r){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/generateQA/".concat(c),{method:"POST"}));case 1:case"end":return t.stop()}},r)})),U.apply(this,arguments)}function q(r){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/doc/generateEmbeddings/".concat(c),{method:"POST"}));case 1:case"end":return t.stop()}},r)})),J.apply(this,arguments)}function z(r){return s.apply(this,arguments)}function s(){return s=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/document/customAdd",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),s.apply(this,arguments)}function A(r){return I.apply(this,arguments)}function I(){return I=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/document/add",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),I.apply(this,arguments)}function D(r){return V.apply(this,arguments)}function V(){return V=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/doc/retryAllTaskByDays/".concat(c),{method:"GET"}));case 1:case"end":return t.stop()}},r)})),V.apply(this,arguments)}function b(r){return h.apply(this,arguments)}function h(){return h=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/document/doc/autoRetryTaskByDocId/".concat(c),{method:"GET"}));case 1:case"end":return t.stop()}},r)})),h.apply(this,arguments)}function $(r){return l.apply(this,arguments)}function l(){return l=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/document/detailById",{method:"GET",params:{dataId:c}}));case 1:case"end":return t.stop()}},r)})),l.apply(this,arguments)}function M(r){return le.apply(this,arguments)}function le(){return le=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/queryDocStatus",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),le.apply(this,arguments)}function be(r){return Ce.apply(this,arguments)}function Ce(){return Ce=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/document/deleteById",{method:"GET",params:{id:c}}));case 1:case"end":return t.stop()}},r)})),Ce.apply(this,arguments)}function Ue(r){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/update",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),f.apply(this,arguments)}function g(r){return T.apply(this,arguments)}function T(){return T=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/rawSegment/list",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),T.apply(this,arguments)}function a(r){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/add",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),W.apply(this,arguments)}function ie(r){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/detailById",{method:"GET",params:{dataId:c}}));case 1:case"end":return t.stop()}},r)})),u.apply(this,arguments)}function _e(r){return ze.apply(this,arguments)}function ze(){return ze=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/deleteById",{method:"GET",params:{id:c}}));case 1:case"end":return t.stop()}},r)})),ze.apply(this,arguments)}function Ye(r){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/update",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),_.apply(this,arguments)}function xe(r){return Me.apply(this,arguments)}function Me(){return Me=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/search",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),Me.apply(this,arguments)}function Ne(r){return Ke.apply(this,arguments)}function Ke(){return Ke=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/list",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),Ke.apply(this,arguments)}function N(r){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/add",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),re.apply(this,arguments)}function Be(r){return Xe.apply(this,arguments)}function Xe(){return Xe=_asyncToGenerator(_regeneratorRuntime().mark(function r(c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/doc/embeddingStatus/".concat(c),{method:"GET"}));case 1:case"end":return t.stop()}},r)})),Xe.apply(this,arguments)}function se(r){return me.apply(this,arguments)}function me(){return me=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/qa/add",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),me.apply(this,arguments)}function Ve(r){return we.apply(this,arguments)}function we(){return we=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/qa/list",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),we.apply(this,arguments)}function qe(r){return O.apply(this,arguments)}function O(){return O=d()(n()().mark(function r(c){var y;return n()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return y=new FormData,y.append("id",c.id.toString()),Y.abrupt("return",(0,v.request)("/api/knowledge/qa/deleteById",{method:"POST",data:y}));case 3:case"end":return Y.stop()}},r)})),O.apply(this,arguments)}function Z(r){return R.apply(this,arguments)}function R(){return R=d()(n()().mark(function r(c){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/knowledge/qa/update",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),R.apply(this,arguments)}function ne(){return ae.apply(this,arguments)}function ae(){return ae=d()(n()().mark(function r(){return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(0,v.request)("/api/knowledge/qa/downloadExcelTemplate",{method:"GET",responseType:"blob"}));case 1:case"end":return y.stop()}},r)})),ae.apply(this,arguments)}function H(r){return Te.apply(this,arguments)}function Te(){return Te=d()(n()().mark(function r(c){var y;return n()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return y=new FormData,y.append("file",c.file),y.append("kbId",c.kbId.toString()),Y.abrupt("return",(0,v.request)("/api/knowledge/qa/importExcel",{method:"POST",data:y}));case 4:case"end":return Y.stop()}},r)})),Te.apply(this,arguments)}},92629:function(ct,De,e){e.d(De,{$w:function(){return b},Cw:function(){return q},IK:function(){return $},Jt:function(){return L},Kt:function(){return w},LO:function(){return M},OA:function(){return D},Ol:function(){return K},Rh:function(){return pe},Wt:function(){return he},Y$:function(){return Ue},c:function(){return A},eh:function(){return be},el:function(){return ye},jU:function(){return B},qt:function(){return z},sN:function(){return C},xC:function(){return Le}});var Re=e(90228),n=e.n(Re),Ae=e(87999),d=e.n(Ae),v=e(53586);function w(f){return de.apply(this,arguments)}function de(){return de=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/workflow/add",{method:"POST",data:g}));case 1:case"end":return a.stop()}},f)})),de.apply(this,arguments)}function he(f){return ve.apply(this,arguments)}function ve(){return ve=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/task/create",{method:"POST",data:g}));case 1:case"end":return a.stop()}},f)})),ve.apply(this,arguments)}function K(f){return x.apply(this,arguments)}function x(){return x=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/skill/add",{method:"POST",data:g}));case 1:case"end":return a.stop()}},f)})),x.apply(this,arguments)}function L(f){return S.apply(this,arguments)}function S(){return S=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/skill/update",{method:"POST",data:g}));case 1:case"end":return a.stop()}},f)})),S.apply(this,arguments)}function pe(f){return X.apply(this,arguments)}function X(){return X=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/skill/delete/".concat(g),{method:"POST"}));case 1:case"end":return a.stop()}},f)})),X.apply(this,arguments)}function C(f){return ee.apply(this,arguments)}function ee(){return ee=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/workflow/update",{method:"POST",data:g}));case 1:case"end":return a.stop()}},f)})),ee.apply(this,arguments)}function ye(f){return te.apply(this,arguments)}function te(){return te=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/task/update",{method:"POST",data:g}));case 1:case"end":return a.stop()}},f)})),te.apply(this,arguments)}function B(f,g){return Q.apply(this,arguments)}function Q(){return Q=d()(n()().mark(function f(g,T){return n()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",(0,v.request)("/api/workflow/copy/".concat(g,"/").concat(T),{method:"POST"}));case 1:case"end":return W.stop()}},f)})),Q.apply(this,arguments)}function Le(f){return U.apply(this,arguments)}function U(){return U=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/workflow/delete/".concat(g),{method:"POST"}));case 1:case"end":return a.stop()}},f)})),U.apply(this,arguments)}function q(f){return J.apply(this,arguments)}function J(){return J=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/component/list/".concat(g),{method:"GET"}));case 1:case"end":return a.stop()}},f)})),J.apply(this,arguments)}function z(f){return s.apply(this,arguments)}function s(){return s=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/task/list/".concat(g),{method:"POST"}));case 1:case"end":return a.stop()}},f)})),s.apply(this,arguments)}function A(f){return I.apply(this,arguments)}function I(){return I=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/task/execute/".concat(g),{method:"POST"}));case 1:case"end":return a.stop()}},f)})),I.apply(this,arguments)}function D(f){return V.apply(this,arguments)}function V(){return V=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/task/enable/".concat(g),{method:"POST"}));case 1:case"end":return a.stop()}},f)})),V.apply(this,arguments)}function b(f){return h.apply(this,arguments)}function h(){return h=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/task/cancel/".concat(g),{method:"POST"}));case 1:case"end":return a.stop()}},f)})),h.apply(this,arguments)}function $(f){return l.apply(this,arguments)}function l(){return l=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/task/delete/".concat(g),{method:"POST"}));case 1:case"end":return a.stop()}},f)})),l.apply(this,arguments)}function M(f){return le.apply(this,arguments)}function le(){return le=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/skill/list",{method:"GET",params:g}));case 1:case"end":return a.stop()}},f)})),le.apply(this,arguments)}function be(f){return Ce.apply(this,arguments)}function Ce(){return Ce=d()(n()().mark(function f(g){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,v.request)("/api/skill/copy",{method:"POST",data:g}));case 1:case"end":return a.stop()}},f)})),Ce.apply(this,arguments)}function Ue(f){return(0,v.request)("/api/compose/db/table/copyTableDefinition",{method:"POST",params:f})}},60894:function(ct,De,e){e.d(De,{Ie:function(){return w},M6:function(){return D},RP:function(){return q},SM:function(){return z},UJ:function(){return K},Ui:function(){return Le},ci:function(){return L},gH:function(){return B},gx:function(){return A},pd:function(){return ye},rX:function(){return pe},sG:function(){return C},x3:function(){return he}});var Re=e(90228),n=e.n(Re),Ae=e(87999),d=e.n(Ae),v=e(53586);function w(b){return de.apply(this,arguments)}function de(){return de=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/upload-and-start",{method:"POST",data:h}));case 1:case"end":return l.stop()}},b)})),de.apply(this,arguments)}function he(b){return ve.apply(this,arguments)}function ve(){return ve=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/create",{method:"POST",data:h}));case 1:case"end":return l.stop()}},b)})),ve.apply(this,arguments)}function K(b){return x.apply(this,arguments)}function x(){return x=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/create-reverse-proxy",{method:"POST",data:h}));case 1:case"end":return l.stop()}},b)})),x.apply(this,arguments)}function L(b){return S.apply(this,arguments)}function S(){return S=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/list-projects",{method:"GET",params:h}));case 1:case"end":return l.stop()}},b)})),S.apply(this,arguments)}function pe(b){return X.apply(this,arguments)}function X(){return X=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/copy-project",{method:"POST",data:h}));case 1:case"end":return l.stop()}},b)})),X.apply(this,arguments)}function C(b){return ee.apply(this,arguments)}function ee(){return ee=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/batch-config-proxy",{method:"POST",data:h}));case 1:case"end":return l.stop()}},b)})),ee.apply(this,arguments)}function ye(b){return te.apply(this,arguments)}function te(){return te=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/add-path",{method:"POST",data:h}));case 1:case"end":return l.stop()}},b)})),te.apply(this,arguments)}function B(b){return Q.apply(this,arguments)}function Q(){return Q=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/edit-path",{method:"POST",data:h}));case 1:case"end":return l.stop()}},b)})),Q.apply(this,arguments)}function Le(b){return U.apply(this,arguments)}function U(){return U=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/delete-path",{method:"POST",data:h}));case 1:case"end":return l.stop()}},b)})),U.apply(this,arguments)}function q(b){return J.apply(this,arguments)}function J(){return J=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/save-path-args",{method:"POST",data:h}));case 1:case"end":return l.stop()}},b)})),J.apply(this,arguments)}function z(b){return s.apply(this,arguments)}function s(){return s=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/get-project-info",{method:"GET",params:{projectId:h}}));case 1:case"end":return l.stop()}},b)})),s.apply(this,arguments)}function A(b){return I.apply(this,arguments)}function I(){return I=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/delete-project",{method:"POST",data:{projectId:h}}));case 1:case"end":return l.stop()}},b)})),I.apply(this,arguments)}function D(b){return V.apply(this,arguments)}function V(){return V=d()(n()().mark(function b(h){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/custom-page/update-project",{method:"POST",data:h}));case 1:case"end":return l.stop()}},b)})),V.apply(this,arguments)}}}]);})();
