"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[2449,4195],{57625:function(Ie,pe,e){e.d(pe,{Z:function(){return N}});var te=e(65774),r=e(94581),M=e.n(r),c=e(75271),C={"files-container":"files-container___Ji5El","file-box":"file-box___BRhVF"},x=e(52676),Z=M().bind(C),W=function(y){var w=y.files;return(0,x.jsx)("div",{className:Z(C["files-container"]),children:w?.map(function(m){return(0,x.jsxs)("div",{className:Z(C["file-box"],"flex","items-center"),children:[(0,x.jsx)("img",{src:m.mimeType.includes("image/")?m.fileUrl:te,alt:""}),(0,x.jsx)("div",{className:Z("flex-1","overflow-hide"),children:(0,x.jsx)("h4",{className:Z("text-ellipsis"),children:m.fileName})})]},m.fileKey)})})},N=W},30746:function(Ie,pe,e){e.d(pe,{Z:function(){return m}});var te=e(92122),r=e(10822),M=e(24573),c=e(13143),C=e(63876),x=e(94581),Z=e.n(x),W=e(75271),N={"xagi-nav-style2":"xagi-nav-style2___Omzza",text:"text___XEmsz","page-container":"page-container___ewoL2","run-success":"run-success___PpO4f","status-name":"status-name___WZ9ni",icon:"icon___H_CtF",successColor:"successColor___tjHA6","pop-content":"pop-content___cUwx3",row:"row___ajvPI",summary:"summary___QUk2k"},v=e(52676),y=Z().bind(N),w=function(p){var oe=p.messageInfo,P=oe.finalResult,g=oe.processingList,b=(0,W.useMemo)(function(){return P?((P?.endTime-P?.startTime)/1e3).toFixed(1):0},[P]),d=function(ce,je){var h=ce-je;return h<1e3?"".concat(h,"ms"):"".concat((h/1e3).toFixed(1),"s")},u=(0,W.useMemo)(function(){var ne=g?.length||0;return ne>0?g?.[ne-1]:null},[g]);return(0,v.jsx)(C.Z,{placement:"bottomLeft",styles:{body:{padding:0}},content:(0,v.jsxs)("div",{className:y(N["pop-content"]),children:[g?.map(function(ne,ce){return ne.status!==te.Xk.EXECUTING&&(0,v.jsxs)("div",{className:y(N.row,"flex","items-center"),children:[(0,v.jsx)(r.Z,{}),(0,v.jsx)("span",{className:y("flex-1","text-ellipsis"),children:"\u5DF2\u8C03\u7528 ".concat(ne.name)}),(0,v.jsx)("span",{children:d(ne.result.endTime,ne.result.startTime)})]},ce)}),(0,v.jsx)("span",{className:y(N.summary),children:"\u8FD0\u884C\u5B8C\u6BD5 ".concat(b,"s")})]}),arrow:!1,trigger:"hover",children:(0,v.jsx)("span",{className:y("cursor-pointer",N["run-success"]),children:oe?.status===te.ge.Loading||oe?.status===te.ge.Incomplete?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(M.Z,{className:y(N.successColor)}),u&&(0,v.jsxs)("span",{className:y(N["status-name"]),children:[u.status===te.Xk.EXECUTING?"\u6B63\u5728\u8C03\u7528 ":"\u5DF2\u8C03\u7528 ",u.name]})]}):oe?.status===te.ge.Error?(0,v.jsx)("span",{children:"\u8FD0\u884C\u9519\u8BEF"}):(0,v.jsxs)("span",{children:["\u8FD0\u884C\u5B8C\u6BD5",(0,v.jsx)(c.Z,{className:y(N.icon)})]})})})},m=w},19979:function(Ie,pe,e){e.d(pe,{Z:function(){return b}});var te=e(82092),r=e.n(te),M=e(57625),c=e(59261),C=e(91268),x=e(64799),Z=e(92122),W=e(45019),N=e(94581),v=e.n(N),y=e(75271),w=e(97830),m={container:"container___pzeXE",avatar:"avatar___QNC2R",author:"author___eO9xt","inner-container":"inner-container___MiyBz","think-content":"think-content___NYHs_","chat-content":"chat-content___voyQR"},fe=e(30746),p=e(52676),oe=v().bind(m),P=function(u){switch(u){case W.vQ.JavaScript:return"js";case W.vQ.Python:return"python";case W.vQ.JSON:return"json";case W.vQ.Text:return"plaintext";default:return"plaintext"}},g=function(u){var ne,ce=u.className,je=u.contentClassName,h=u.messageInfo,Y=u.codeLanguage,T=Y===void 0?W.vQ.Text:Y,E=u.theme,G=E===void 0?"light":E;console.log("codeLanguage",P(T),h);var $=(0,y.useCallback)(function(L){var Q=P(T);return Q==="plaintext"?L:L.replace(/```/,"```".concat(Q))},[T]),xe=(0,C.Z)({answer:$(h?.text||""),thinking:h?.think||"",id:h?.id||""}),Pe=xe.markdownRef,k=xe.messageIdRef;return(0,p.jsx)("div",{className:oe(m.container,"flex",ce),children:(0,p.jsxs)("div",{className:oe("flex-1"),children:[!!(h!=null&&(ne=h.attachments)!==null&&ne!==void 0&&ne.length)&&(0,p.jsx)(M.Z,{files:h?.attachments}),(0,p.jsxs)(c.Z,{condition:h?.role!==x.hZ.USER,children:[h.status!==Z.ge.Complete&&(0,p.jsx)(c.Z,{condition:!!(h!=null&&h.status),children:(0,p.jsx)(fe.Z,{messageInfo:h})}),(!!(h!=null&&h.think)||!!(h!=null&&h.text))&&(0,p.jsx)("div",{className:oe(m["inner-container"],je),children:(0,p.jsx)("div",{className:oe(m["chat-content"],"radius-6","w-full",r()({},m.typing,h.status===Z.ge.Incomplete||h.status===Z.ge.Loading)),children:(0,p.jsx)(w.ZP,{id:"".concat(k.current),headerActions:!1,markdownRef:Pe,theme:G},"".concat(k.current))})})]})]})})},b=g},34204:function(Ie,pe,e){e.d(pe,{Z:function(){return k}});var te=e(26068),r=e.n(te),M=e(90228),c=e.n(M),C=e(87999),x=e.n(C),Z=e(48305),W=e.n(Z),N=e(35044),v=e(19979),y=e(63136),w=e(14719),m=e(9504),fe=e(63619),p=e(94581),oe=e.n(p),P=e(75271),g=e(56179),b=e(92448),d={"xagi-nav-style2":"xagi-nav-style2___L67Dx",text:"text___aDdRi","page-container":"page-container___MncNy",btn:"btn___JOPmv","chat-wrapper":"chat-wrapper___PS6Tu","replace-btn":"replace-btn___AEijv",footer:"footer___MV0En","code-optimize-view":"code-optimize-view___XMSmw","chat-input":"chat-input___wgxG5",input:"input___WoXKg","icon-box":"icon-box___cHWvw","send-image":"send-image___kjNJy"},u=e(52676),ne=oe().bind(d),ce=function(Q){var _,R,B=Q.title,a=Q.open,A=Q.onCancel,U=Q.onReplace,_e=Q.codeLanguage,ee=(0,P.useState)(""),i=W()(ee,2),z=i[0],Te=i[1],Ee=(0,g.useModel)("assistantOptimize"),K=Ee.messageList,Ce=Ee.setMessageList,ge=Ee.onMessageSend,he=Ee.messageViewRef,Fe=Ee.allowAutoScrollRef,ve=Ee.resetInit,Ne=(0,P.useState)(""),Oe=W()(Ne,2),Le=Oe[0],Be=Oe[1];(0,P.useEffect)(function(){return Be((0,b.Z)()),function(){ve()}},[]),(0,P.useEffect)(function(){var J=he.current;if(J){var O=function(){var I=J.scrollTop,j=J.scrollHeight,ae=J.clientHeight;I+ae<j?Fe.current=!1:Fe.current=!0};return J.addEventListener("scroll",O),function(){J.removeEventListener("scroll",O)}}},[]);var ie=function(){var J=x()(c()().mark(function O(){var X;return c()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:Ce([]),z&&(Te(""),X={requestId:Le,prompt:z,codeLanguage:_e},ge(X,y.L.code));case 2:case"end":return j.stop()}},O)}));return function(){return J.apply(this,arguments)}}(),F=function(O){O.preventDefault();var X=O.target,I=X.value,j=X.selectionStart,ae=X.selectionEnd;if(O.nativeEvent.keyCode===13&&(O.nativeEvent.shiftKey||O.nativeEvent.ctrlKey)){var me=I.slice(0,j)+`
`+I.slice(ae);Te(me)}else if(O.nativeEvent.keyCode===13&&I.trim()){var Me={requestId:Le,prompt:z,codeLanguage:_e};ge(Me,y.L.code),Te("")}};return(0,u.jsxs)(w.Z,{title:B,open:a,onCancel:function(O){Ce([]),A?.(O)},maskClosable:!1,footer:null,children:[(0,u.jsx)("div",{ref:he,className:ne(d["chat-wrapper"],"flex-1"),children:K?.length>0?(0,u.jsx)(u.Fragment,{children:K?.map(function(J,O){return(0,u.jsx)(v.Z,{ifShowReplace:!0,onReplace:U,theme:"dark",codeLanguage:_e,messageInfo:J,contentClassName:ne(d["code-optimize-view"])},O)})}):(0,u.jsx)("div",{})}),K?.length>0?(0,u.jsxs)("div",{className:ne("flex"),children:[(0,u.jsx)(m.ZP,{className:ne(d["replace-btn"],d.btn),loading:(K==null||(_=K[K?.length-1])===null||_===void 0?void 0:_.status)!=="complete",disabled:(K==null||(R=K[K?.length-1])===null||R===void 0?void 0:R.status)!=="complete",onClick:function(){var O;return U?.(K==null||(O=K[K?.length-1])===null||O===void 0?void 0:O.text)},children:"\u66FF\u6362"}),(0,u.jsx)(m.ZP,{onClick:function(O){Ce([]),A?.(O)},className:ne(d.btn,"ml-10 "),children:"\u9000\u51FA"})]}):(0,u.jsx)("div",{}),(0,u.jsx)("div",{className:ne(d.footer,"flex","items-center"),children:(0,u.jsxs)("div",{className:ne(d["chat-input"],"flex","items-center","w-full"),children:[(0,u.jsx)(fe.Z.TextArea,{value:z,onChange:function(O){return Te(O.target.value)},rootClassName:d.input,onPressEnter:F,placeholder:"\u8BF7\u63CF\u8FF0\u4F60\u7684\u5177\u4F53\u4E1A\u52A1\u9700\u6C42\uFF0C\u903B\u8F91\u5C3D\u91CF\u63CF\u8FF0\u8BE6\u7EC6",autoSize:{minRows:1,maxRows:3}}),(0,u.jsx)("img",{onClick:function(){return ie()},className:ne(d["send-image"],"cursor-pointer"),src:N,alt:""})]})})]})},je=ce,h=e(73415),Y=e(45019),T=e(78078),E=e(28190),G=e(34684),$=e(75266),xe=e(59261),Pe=function(Q){var _=Q.value,R=_===void 0?"":_,B=Q.className,a=Q.onChange,A=Q.height,U=A===void 0?"400px":A,_e=Q.codeLanguage,ee=Q.minimap,i=ee===void 0?!1:ee,z=Q.form,Te=Q.codeOptimizeVisible,Ee=Te===void 0?!0:Te,K=Q.readOnly,Ce=K===void 0?!1:K,ge=Q.editorOptions,he=(0,P.useState)(!1),Fe=W()(he,2),ve=Fe[0],Ne=Fe[1],Oe=(0,P.useState)(!1),Le=W()(Oe,2),Be=Le[0],ie=Le[1],F=(0,g.useModel)("model"),J=F.testRun;if((0,P.useEffect)(function(){T._m.config({monaco:$,paths:{vs:"/vs"}});var I=function(){var j=x()(c()().mark(function ae(){var me,Me,Se;return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,e.e(8124).then(e.bind(e,88124));case 3:return me=o.sent,Me=me.conf,Se=me.language,o.next=8,T._m.init();case 8:$.languages.register({id:"python"}),$.languages.setMonarchTokensProvider("python",Se),$.languages.setLanguageConfiguration("python",Me),window.MonacoEnvironment={getWorkerUrl:function(n,s){return s==="json"?"/vs/json.worker.js":s==="typescript"||s==="javascript"||s==="python"?"/vs/ts.worker.js":"/vs/editor.worker.js"}},Ne(!0),o.next=18;break;case 15:o.prev=15,o.t0=o.catch(0),console.error("Failed to initialize Monaco Editor:",o.t0);case 18:case"end":return o.stop()}},ae,null,[[0,15]])}));return function(){return j.apply(this,arguments)}}();I()},[]),!ve)return(0,u.jsx)("div",{children:"Loading editor..."});var O=function(j){a&&a(j||"")},X=function(j){var ae=j||{},me=r()({selectOnLineNumbers:!0,folding:!0,automaticLayout:!0,minimap:{enabled:i},readOnly:Ce},ae);return _e?.toLowerCase()==="json"?r()(r()({},me),{},{quickSuggestions:!1,suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",tabCompletion:"off",wordBasedSuggestions:!1,parameterHints:{enabled:!1},hover:{enabled:!1},snippetSuggestions:"none"}):me};return(0,u.jsxs)(u.Fragment,{children:[z?(0,u.jsx)(E.Z.Item,{noStyle:!0,name:z?.getFieldValue("codeLanguage")===Y.vQ.JavaScript?"codeJavaScript":"codePython",children:(0,u.jsx)(T.ZP,{className:B,height:U,language:_e?.toLowerCase(),theme:"vs-dark",value:R,onChange:O,options:X(ge)})}):(0,u.jsx)(T.ZP,{className:B,height:U,language:_e?.toLowerCase(),theme:"vs-dark",value:R,onChange:O,options:X(ge)}),(0,u.jsxs)(xe.Z,{condition:Ee&&!Ce,children:[(0,u.jsx)(G.Z,{shape:"circle",type:"primary",style:{insetInlineEnd:94,display:J?"none":"block"},icon:(0,u.jsx)(h.jY,{}),tooltip:"\u4EE3\u7801\u52A9\u624B",onClick:function(){ie(!0)}}),(0,u.jsx)(je,{title:"\u4EE3\u7801\u52A9\u624B",open:Be,codeLanguage:_e,onCancel:function(){ie(!1)},onReplace:function(j){if(j){var ae=j;ae.includes("```")&&(ae=ae.replace(/```/g,"")),a?.(ae||""),ie(!1)}}})]})]})},k=Pe},48614:function(Ie,pe,e){e.d(pe,{Z:function(){return _e}});var te=e(26068),r=e.n(te),M=e(48305),c=e.n(M),C=e(92973),x=e(68670),Z=e(86743),W=e(63876),N=e(94581),v=e.n(N),y=e(75271),w={"xagi-nav-style2":"xagi-nav-style2___ZnOEk",text:"text___I_DzH","page-container":"page-container____iz0C","skill-item-style":"skill-item-style___N0WID","skill-item-icon":"skill-item-icon___jliak","skill-item-content-style":"skill-item-content-style___RWsv5","skill-item-title-style":"skill-item-title-style___RPCqS","skill-item-desc-style":"skill-item-desc-style___nXwpy","mask-layer-style":"mask-layer-style___uLo49",white:"white___PmcIw"},m=e(52676),fe=v().bind(w),p=function(i){var z=i.item,Te=i.onDelete;return(0,m.jsxs)("div",{className:fe(w["skill-item-style"],"dis-left"),children:[(0,m.jsx)("img",{src:z.icon,alt:"",className:fe(w["skill-item-icon"])}),(0,m.jsxs)("div",{className:fe(w["skill-item-content-style"]),children:[(0,m.jsx)("div",{className:fe(w["skill-item-title-style"]),children:z.name}),(0,m.jsx)("div",{className:fe(w["skill-item-desc-style"]),children:z.description})]}),(0,m.jsx)("div",{className:fe(w["mask-layer-style"]),children:(0,m.jsx)("div",{style:{color:"#fff",backgroundColor:"transparent"},children:(0,m.jsx)(W.Z,{content:"\u79FB\u9664",trigger:"hover",children:(0,m.jsx)(Z.Z,{className:"ml-12  white",style:{cursor:"pointer"},onClick:Te})})})})]})},oe=p,P=e(48279),g=e(94201),b=e(10560),d=e(61265),u=e(48528),ne=e(99730),ce=e(64799),je=e(92122),h=e(49528),Y=e(80110),T=e(26324),E=e(28190),G=e(41249),$=e(63619),xe=e(17701),Pe=e(30967),k=e(56179),L=e(7098),Q={"xagi-nav-style2":"xagi-nav-style2___fHzli",text:"text___srgXE","page-container":"page-container____zQ5I",header:"header___ZEU6y",box:"box___su6_r",active:"active___qQari"},_={"xagi-nav-style2":"xagi-nav-style2___GME40",text:"text___B9pND","page-container":"page-container___Gqdvl","workflow-desc":"workflow-desc___yLObd"},R=v().bind(_),B=function(i){var z=i.title,Te=z===void 0?"\u8BF7\u9009\u62E9\u5DE5\u4F5C\u6D41":z,Ee=i.onClick;return(0,m.jsx)("div",{className:R(_["workflow-desc"]),onClick:Ee,children:Te})},a=B,A=v().bind(Q),U=function(i){var z=i.mode,Te=z===void 0?je.jA.Create:z,Ee=i.spaceId,K=i.knowledgeInfo,Ce=i.open,ge=i.onCancel,he=i.onConfirm,Fe=E.Z.useForm(),ve=c()(Fe,1),Ne=ve[0],Oe=(0,y.useState)(!1),Le=c()(Oe,2),Be=Le[0],ie=Le[1],F=(0,y.useState)(""),J=c()(F,2),O=J[0],X=J[1],I=(0,y.useState)(h.u6.Text),j=c()(I,2),ae=j[0],me=j[1],Me=(0,y.useState)([]),Se=c()(Me,2),S=Se[0],o=Se[1],f=(0,y.useState)("default"),n=c()(f,2),s=n[0],l=n[1],t=(0,y.useState)(null),re=c()(t,2),se=re[0],H=re[1],q=(0,y.useState)(!1),Re=c()(q,2),Ke=Re[0],ue=Re[1],$e=(0,y.useState)(ce.qR.Plugin),Je=c()($e,2),at=Je[0],qe=Je[1],ze=(0,y.useState)([]),et=c()(ze,2),rt=et[0],we=et[1],We=(0,k.useRequest)(u.qx,{manual:!0,debounceInterval:300,onSuccess:function(le){G.ZP.success("\u77E5\u8BC6\u5E93\u5DF2\u521B\u5EFA\u6210\u529F"),ie(!1),ge(),k.history.push("/space/".concat(Ee,"/knowledge/").concat(le))},onError:function(){ie(!1)}}),ut=We.run,Ge=(0,k.useRequest)(u.ei,{manual:!0,debounceInterval:300,onSuccess:function(le,Ve){G.ZP.success("\u77E5\u8BC6\u5E93\u66F4\u65B0\u6210\u529F"),ie(!1);var nt=Ve[0];he?.(nt)},onError:function(){ie(!1)}}),lt=Ge.run,dt=(0,k.useRequest)(u.Wi,{manual:!0,debounceInterval:300,onSuccess:function(le){X(le.icon),me(le.dataType),Ne.setFieldsValue({name:le.name,description:le.description,embeddingModelId:le.embeddingModelId,dataParsingMethod:le.workflowId?"workflow":"default"}),le.workflowId&&(l(le.workflowId?"workflow":"default"),H({id:le.workflowId,name:le.workflowName,icon:le.workflowIcon,description:le.workflowDescription}))},onError:function(){}}),gt=dt.run,ct=(0,k.useRequest)(ne.Bj,{manual:!0,debounceInterval:300,onSuccess:function(le){var Ve=le?.map(function(nt){return{label:nt.name,value:nt.id}})||[];o(Ve)}}),He=ct.run;(0,y.useEffect)(function(){Ce&&(He({spaceId:Ee,modelType:Y.Mj.Embeddings}),l("default"),H(null),K&&gt(K.id))},[Ee,Ce,K]);var ht=function(le){var Ve={spaceId:Ee,name:le.name,description:le.description,embeddingModelId:le.embeddingModelId,icon:O,dataType:ae};s==="workflow"&&(Ve.workflowId=se?.id),ie(!0),Te===je.jA.Create?ut(Ve):lt(r()({id:K?.id},Ve))},yt=function(le){le.dataParsingMethod&&l(le.dataParsingMethod)},mt=function(le){we(function(){return[{type:le.targetType,targetId:le.targetId,status:ce.BQ.Added,toolName:le.toolName||""}]}),(0,Pe.flushSync)(function(){H({id:le.targetId,name:le.name,icon:le.icon,description:le.description})}),ue(!1)},Xe=function(le,Ve){le.stopPropagation(),qe(Ve),ue(!0)},tt=function(le){Xe(le,ce.qR.Workflow)},Ct=function(){H(null),we([])},pt=function(){Ne.submit()};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(P.Z,{form:Ne,title:Te===je.jA.Create?"\u521B\u5EFA\u77E5\u8BC6\u5E93":"\u66F4\u65B0\u77E5\u8BC6\u5E93",open:Ce,loading:Be,onCancel:ge,onConfirm:pt,children:[(0,m.jsxs)(E.Z,{form:Ne,className:A("mt-16"),requiredMark:T.N,layout:"vertical",onFinish:ht,onValuesChange:yt,preserve:!1,autoComplete:"off",initialValues:{dataParsingMethod:"default"},children:[(0,m.jsx)(E.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0"}],children:(0,m.jsx)($.Z,{placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0",showCount:!0,maxLength:100})}),(0,m.jsx)(g.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:K?.description,placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u5185\u5BB9\u7684\u63CF\u8FF0",maxLength:100}),(0,m.jsx)(E.Z.Item,{name:"embeddingModelId",label:"\u5411\u91CF\u6A21\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B"}],children:(0,m.jsx)(L.Z,{placeholder:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B",disabled:Te===je.jA.Update,options:S,allowClear:!0})}),(0,m.jsx)(E.Z.Item,{name:"dataParsingMethod",label:"\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",tooltip:"\u9009\u62E9\u5DE5\u4F5C\u6D41\u540E\u6240\u6709\u6587\u6863\u3001\u56FE\u7247\u7B49\u90FD\u5C06\u901A\u8FC7\u5DE5\u4F5C\u6D41\u89E3\u6790\uFF0C\u8BBE\u8BA1\u5DE5\u4F5C\u6D41\u65F6\u8BF7\u6CE8\u610F\u56FA\u5B9A\u5165\u53C2\u4E3A\uFF1Afile_url\uFF0C\u51FA\u53C2\u8BF7\u5728\u201C\u7ED3\u675F\u201D\u8282\u70B9\u9009\u62E9\u201C\u8FD4\u56DE\u6587\u672C\u201D\uFF0C\u5E76\u5728\u201C\u8F93\u51FA\u5185\u5BB9\u201D\u533A\u57DF\u8BBE\u7F6E\u8FD4\u56DE\u7684\u53D8\u91CF\u3002",children:(0,m.jsx)(xe.default,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",options:[{value:"default",label:"\u7CFB\u7EDF\u9ED8\u8BA4"},{value:"workflow",label:"\u81EA\u5B9A\u4E49\u5DE5\u4F5C\u6D41"}]})}),s==="workflow"&&(0,m.jsx)(E.Z.Item,{style:{marginTop:"-15px"},children:se?(0,m.jsx)(oe,{item:se,onDelete:Ct}):(0,m.jsx)(a,{onClick:tt})}),(0,m.jsx)(E.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,m.jsx)(b.Z,{className:A(Q["upload-box"]),onUploadSuccess:X,imageUrl:O,defaultImage:C,svgIconName:"icons-workspace-knowledge"})})]}),(0,m.jsx)(x.Z,{open:Ke,onCancel:function(){return ue(!1)},checkTag:at,addComponents:rt,onAdded:mt,tabs:d.Ne.filter(function(ke){return ke.key===ce.qR.Workflow})})]})})},_e=U},75484:function(Ie,pe,e){e.d(pe,{Z:function(){return ce}});var te=e(26068),r=e.n(te),M=e(48305),c=e.n(M),C=e(83352),x=e(48279),Z=e(94201),W=e(10560),N=e(53361),v=e(92122),y=e(26324),w=e(28190),m=e(41249),fe=e(63619),p=e(94581),oe=e.n(p),P=e(75271),g=e(56179),b={container:"container___etrGg",header:"header___qw2yv"},d=e(52676),u=oe().bind(b),ne=function(h){var Y=h.type,T=Y===void 0?v.jA.Create:Y,E=h.name,G=h.spaceId,$=h.id,xe=h.icon,Pe=h.description,k=h.open,L=h.onCancel,Q=h.onConfirm,_=w.Z.useForm(),R=c()(_,1),B=R[0],a=(0,P.useState)(""),A=c()(a,2),U=A[0],_e=A[1],ee=(0,g.useRequest)(N.Kt,{manual:!0,debounceInterval:300,onSuccess:function(ge){m.ZP.success("\u5DE5\u4F5C\u6D41\u5DF2\u521B\u5EFA\u6210\u529F"),L(),g.history.push("/space/".concat(G,"/workflow/").concat(ge))}}),i=ee.run,z=(0,g.useRequest)(N.sN,{manual:!0,debounceInterval:300,onSuccess:function(ge,he){m.ZP.success("\u5DE5\u4F5C\u6D41\u66F4\u65B0\u6210\u529F");var Fe=he[0];Q?.(Fe)}}),Te=z.run;(0,P.useEffect)(function(){k&&(_e(xe||""),B.setFieldsValue({name:E,description:Pe}))},[k,xe,E,Pe]);var Ee=function(ge){var he={name:ge?.name,description:ge?.description,icon:U};T===v.jA.Create?i(r()({spaceId:G},he)):Te(r()({id:$},he))},K=function(){B.submit()};return(0,d.jsx)(x.Z,{form:B,title:T===v.jA.Create?"\u521B\u5EFA\u5DE5\u4F5C\u6D41":"\u66F4\u65B0\u5DE5\u4F5C\u6D41",classNames:{content:u(b.container),header:u(b.header)},open:k,onCancel:L,onConfirm:K,children:(0,d.jsxs)(w.Z,{form:B,requiredMark:y.N,layout:"vertical",onFinish:Ee,autoComplete:"off",children:[(0,d.jsx)(w.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0"},{validator:function(ge,he){return!he||he?.length<=30?Promise.resolve():he?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0!"))}}],children:(0,d.jsx)(fe.Z,{placeholder:"\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0",showCount:!0,maxLength:30})}),(0,d.jsx)(Z.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:Pe,placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\uFF0C\u8BA9\u5927\u6A21\u578B\u7406\u89E3\u4EC0\u4E48\u60C5\u51B5\u4E0B\u5E94\u8BE5\u8C03\u7528\u6B64\u5DE5\u4F5C\u6D41",maxLength:100}),(0,d.jsx)(w.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,d.jsx)(W.Z,{onUploadSuccess:_e,imageUrl:U,defaultImage:C,svgIconName:"icons-workspace-workflow"})})]})})},ce=ne},68670:function(Ie,pe,e){e.d(pe,{Z:function(){return Be}});var te=e(90228),r=e.n(te),M=e(15558),c=e.n(M),C=e(26068),x=e.n(C),Z=e(87999),W=e.n(Z),N=e(48305),v=e.n(N),y=e(59934),w=e(61265),m=e(28359),fe=e(3440),p=e(64799),oe=e(92122),P=e(44953),g=e(86230),b=e(61884),d=e(28057),u=e(98493),ne=e(17023),ce=e(16621),je=e(41249),h=e(73981),Y=e(44384),T=e(9504),E=e(14719),G=e(63619),$=e(58130),xe=e(70183),Pe=e(94581),k=e.n(Pe),L=e(75271),Q=e(56179),_=e(80774),R=e(48614),B=e(30704),a=e(75484),A=e(3055),U={"xagi-nav-style2":"xagi-nav-style2___Hhx24",text:"text___fY1wP","page-container":"page-container___mEK5C","created-modal-style":"created-modal-style___NYAVL","segmented-style":"segmented-style___nKwTz","created-title-text":"created-title-text___AjELa","created-list-spin-style":"created-list-spin-style___zM15H","created-list-empty-style":"created-list-empty-style___oCfaM","create-button":"create-button___coqIa","aside-header":"aside-header___jACDw","aside-menu":"aside-menu___m045Q","add-button":"add-button___TndZY","add-button-added":"add-button-added___MdC2h","created-container":"created-container___AGXz5","aside-style":"aside-style___CaDQZ","main-style":"main-style___GSDxU","list-item-style":"list-item-style___WKFIL","left-image-style":"left-image-style___GMm3v","content-font":"content-font___ycx8_","count-div-style":"count-div-style___Zd48s","label-font-style":"label-font-style___HZB9A","collect-star":"collect-star___bLtFf","icon-margin":"icon-margin___HgnVb","created-description-style":"created-description-style___Cm4V4"},_e=e(13143),ee={"xagi-nav-style2":"xagi-nav-style2___XdLTv",text:"text___tQ5I5","page-container":"page-container___s_CSV","mcp-tools-style":"mcp-tools-style___u92JF","mcp-tools-item-style":"mcp-tools-item-style___sidZr","add-button":"add-button___mejhX","add-button-added":"add-button-added___iY7_z","mcp-tools-item-content-style":"mcp-tools-item-content-style___ku31r","mcp-tools-item-name-style":"mcp-tools-item-name-style___oOtSe","mcp-tools-item-description-style":"mcp-tools-item-description-style___FlirP","mcp-tools-item-button-style":"mcp-tools-item-button-style___MPtXV"},i=e(52676),z=k().bind(ee),Te=p.BQ.Added,Ee=function(F){var J=F.tools,O=F.item,X=F.onAddTool,I=F.fold,j=F.getToolLoading,ae=F.addedComponents,me=(0,L.useCallback)(function(Se,S){X(x()(x()({},O),{},{name:"".concat(O.name,"/").concat(Se),description:S,toolName:Se}))},[X,O]),Me=(0,L.useCallback)(function(Se,S){return ae?.some(function(o){return o.type===Se.targetType&&o.targetId===Se.targetId&&(o.toolName||"")===(Se.toolName||"")&&o.status===S})},[ae,O]);return I?null:(0,i.jsx)("div",{className:z(ee["mcp-tools-style"]),children:J.map(function(Se,S){var o=Me(x()(x()({},O),{},{toolName:Se.name}),Te),f=j(x()(x()({},O),{},{toolName:Se.name}));return(0,i.jsxs)("div",{className:z(ee["mcp-tools-item-style"]),children:[(0,i.jsxs)("div",{className:z("dis-sb",ee["mcp-tools-item-content-style"]),children:[(0,i.jsx)("div",{className:z(ee["mcp-tools-item-name-style"]),children:Se.name}),(0,i.jsx)("div",{className:z(ee["mcp-tools-item-description-style"]),children:Se.description||"\u6682\u65E0\u63CF\u8FF0"})]}),(0,i.jsx)("div",{className:z(ee["mcp-tools-item-button-style"],"dis-sb"),children:(0,i.jsx)(T.ZP,{color:"default",variant:"filled",className:z(ee["add-button"],o&&ee["add-button-added"]),onClick:function(){return me(Se.name,Se.description)},disabled:f?!1:o,loading:f,children:o?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})})]},"".concat(O.targetId,"-").concat(S,"-tools-").concat(Se.name))})},"".concat(O.targetId,"-tools"))},K=Ee,Ce={"xagi-nav-style2":"xagi-nav-style2___AR6lO",text:"text___C_yvr","page-container":"page-container___Tl8wQ",container:"container___Xs6nx","left-image-style":"left-image-style___QkQAk","content-font":"content-font___gLvK8","count-div-style":"count-div-style___bhUoi","fold-icon-style":"fold-icon-style___iClGH","label-font-style":"label-font-style___R72Ym","created-description-style":"created-description-style___fbx01"},ge=k().bind(Ce),he=function(F){var J,O,X,I=F.item,j=F.index,ae=F.selected,me=F.onAddNode,Me=F.getToolLoading,Se=F.addedComponents,S=(0,L.useState)(!0),o=v()(S,2),f=o[0],n=o[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:ge("dis-sb",Ce.container,"cursor-pointer"),style:{height:"unset"},onClick:function(){return n(!f)},children:[(0,i.jsx)("img",{src:I.icon||(0,b.Pk)(ae.key),alt:"",className:ge(Ce["left-image-style"])}),(0,i.jsxs)("div",{className:ge("flex-1",Ce["content-font"]),children:[(0,i.jsx)("p",{className:ge(Ce["label-font-style"]),children:I.name}),(0,i.jsx)("p",{className:ge(Ce["created-description-style"],"text-ellipsis-2"),title:I.description,children:I.description}),(0,i.jsx)("div",{className:ge("dis-sb",Ce["count-div-style"]),children:(0,i.jsxs)("div",{className:"dis-left",children:[(0,i.jsx)("img",{src:((J=I.publishUser)===null||J===void 0?void 0:J.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,i.jsx)("span",{children:(O=I.publishUser)===null||O===void 0?void 0:O.nickName}),(0,i.jsx)(Y.Z,{type:"vertical"}),(0,i.jsxs)("span",{children:["\u90E8\u7F72\u4E8E",(0,P.hK)(I.deployed)]})]})})]}),(0,i.jsx)(_e.Z,{onClick:function(){return n(!f)},className:ge(Ce["fold-icon-style"]),style:{transform:f?"rotate(-90deg)":"rotate(0)"}})]},"".concat(I.targetId,"-").concat(j)),(0,i.jsx)(K,{fold:f,tools:(I==null||(X=I.config)===null||X===void 0?void 0:X.tools)||[],item:I,getToolLoading:Me,onAddTool:me,addedComponents:Se})]})},Fe=he,ve=k().bind(U),Ne=[p.qR.Plugin,p.qR.Workflow,p.qR.Knowledge,p.qR.Table],Oe=w.Ne.filter(function(ie){return Ne.includes(ie.key)}),Le=function(F){var J=F.open,O=F.onCancel,X=F.checkTag,I=F.onAdded,j=F.addComponents,ae=F.addSkillLoading,me=ae===void 0?void 0:ae,Me=F.tabs,Se=Me===void 0?Oe:Me,S=F.hideTop,o=(0,Q.useParams)(),f=Number(o.spaceId),n=(0,L.useState)(!1),s=v()(n,2),l=s[0],t=s[1],re=(0,L.useState)(""),se=v()(re,2),H=se[0],q=se[1],Re=(0,L.useState)({label:"\u63D2\u4EF6",key:p.qR.Plugin}),Ke=v()(Re,2),ue=Ke[0],$e=Ke[1],Je=(0,L.useState)({page:1,pageSize:20}),at=v()(Je,2),qe=at[0],ze=at[1],et=(0,L.useState)(100),rt=v()(et,2),we=rt[0],We=rt[1],ut=(0,L.useState)("all"),Ge=v()(ut,2),lt=Ge[0],dt=Ge[1],gt=(0,L.useState)(),ct=v()(gt,2),He=ct[0],ht=ct[1],yt=(0,L.useState)([]),mt=v()(yt,2),Xe=mt[0],tt=mt[1],Ct=(0,L.useState)(!1),pt=v()(Ct,2),ke=pt[0],le=pt[1],Ve=(0,L.useState)({list:[],searching:!1}),nt=v()(Ve,2),_t=nt[0],xt=nt[1],ot=(0,L.useRef)(!1),it=(0,L.useRef)(null),Rt=[{key:"all",label:"\u5168\u90E8"},{key:"library",label:"\u7EC4\u4EF6\u5E93".concat(ue.label)},{key:"collect",label:"\u6536\u85CF"}],At=[{key:"all",label:"\u5168\u90E8"},{key:1,label:"\u6587\u6863"}],It=[{key:"all",label:"\u7EC4\u4EF6\u5E93\u6570\u636E\u8868"}],Mt=[{key:"all",label:"\u5168\u90E8"},{key:"custom",label:"\u81EA\u5B9A\u4E49\u670D\u52A1"}],Ot=function(){switch(ue.key){case p.qR.Knowledge:return At;case p.qR.Table:return It;case p.qR.MCP:return Mt;default:return Rt}},Et=(0,L.useRef)(null),Ye=(0,L.useRef)(!1),st=function(){var V=W()(r()().mark(function D(de,ye){var Ae,Ze,De,Ue;return r()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(xt({list:[],searching:!1}),be.prev=1,f!==0){be.next=4;break}return be.abrupt("return");case 4:if(console.log("params",ye,Ye.current,ye.page>we&&ye.page!==1||Ye.current),!(ye.page>we&&ye.page!==1||Ye.current)){be.next=7;break}return be.abrupt("return");case 7:return Ye.current=!0,ye.page===1&&le(!0),ot.current&&(ye.justReturnSpaceData=!0),it.current&&(ye.dataType=it.current),be.next=13,m.ZP.getList(de,x()(x()({},ye),{},{spaceId:f}));case 13:if(Ae=be.sent,Ze=Ae.code,De=Ae.data,Ue=Ae.message,Ye.current=!1,le(!1),Ze===y.Gh){be.next=22;break}return je.ZP.error(Ue),be.abrupt("return");case 22:We(De.pages),ze(function(St){return x()(x()({},St),{},{page:De.current,total:De.total})}),tt(function(St){var wt=ye.page===1?c()(De.records):[].concat(c()(St),c()(De.records));return xt(x()(x()({},_t),{},{list:wt})),wt}),be.next=32;break;case 27:be.prev=27,be.t0=be.catch(1),Ye.current=!1,le(!1),We(100);case 32:case"end":return be.stop()}},D,null,[[1,27]])}));return function(de,ye){return V.apply(this,arguments)}}(),Lt=function(){var V=W()(r()().mark(function D(de){var ye,Ae,Ze;return r()().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Ue.prev=0,le(!0),Ae=(ye=ue.key)===null||ye===void 0?void 0:ye.toLowerCase(),Ue.next=5,m.ZP.collectList(Ae,de);case 5:Ze=Ue.sent,tt(c()(Ze.data)),le(!1),Ue.next=13;break;case 10:Ue.prev=10,Ue.t0=Ue.catch(0),le(!1);case 13:case"end":return Ue.stop()}},D,null,[[0,10]])}));return function(de){return V.apply(this,arguments)}}(),bt=function(){var V=W()(r()().mark(function D(de){var ye,Ae,Ze,De;return r()().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(Ae=(ye=ue.key)===null||ye===void 0?void 0:ye.toLowerCase(),!de.collect){Qe.next=7;break}return Qe.next=4,m.ZP.unCollect(Ae,de.targetId);case 4:Ze=Qe.sent,Qe.next=10;break;case 7:return Qe.next=9,m.ZP.collect(Ae,de.targetId);case 9:Ze=Qe.sent;case 10:Ze.code===y.ZP.success&&(De=Xe.map(function(be){return de.targetId===be.targetId&&(be.collect?(be.collect=!1,be.statistics&&(be.statistics.collectCount=(be.statistics.collectCount||1)-1)):(be.collect=!0,be.statistics&&(be.statistics.collectCount=(be.statistics.collectCount||0)+1))),be}),tt(De));case 11:case"end":return Qe.stop()}},D)}));return function(de){return V.apply(this,arguments)}}(),ft=function(){var V=W()(r()().mark(function D(de){var ye,Ae;return r()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(ue.key!==p.qR.Table){De.next=11;break}return De.prev=1,ye={tableName:de.name,tableDescription:de.description,spaceId:f,icon:de.icon},De.next=5,(0,fe.AY)(ye);case 5:Ae=De.sent,Q.history.push("/space/".concat(f,"/table/").concat(Ae.data)),De.next=11;break;case 9:De.prev=9,De.t0=De.catch(1);case 11:case"end":return De.stop()}},D,null,[[1,9]])}));return function(de){return V.apply(this,arguments)}}(),Tt=function(D){I(D),ht(D)},Ft=function(D){var de={kw:D,page:1,pageSize:20};q(D),ze({page:1,pageSize:20}),tt([]),st(ue.key,de)},Nt=function(D,de){switch(We(100),D){case"collect":Lt(de);break;case"library":ot.current=!0,st(ue.key,x()(x()({},de),{},{justReturnSpaceData:!0}));break;default:st(ue.key,de);break}},Bt=function(D){q(""),dt(D),ze({page:1,pageSize:20}),tt([]),ot.current=!1,it.current=null;var de={page:1,pageSize:20};ue.key===p.qR.Knowledge&&D!=="all"&&(de.dataType=Number(D),it.current=Number(D)),ue.key===p.qR.MCP&&D==="custom"&&(ot.current=!0),Nt(D,de)},Dt=function(D){if(D){it.current=null,ot.current=!1;var de=D,ye=Se.find(function(Ae){return Ae.key===de});ye&&(dt("all"),q(""),$e(ye),ze({page:1,pageSize:20}),We(100),st(ye.key,{page:1,pageSize:20}))}},jt=(0,L.useCallback)(function(){if(!(lt==="collect"||Ye.current)){var V=Et.current;if(V){var D=V.scrollHeight-V.scrollTop-V.clientHeight,de=Xe.length>0&&D<50&&qe.page<we;if(de){var ye=qe.page+1,Ae={pageSize:20,page:ye};ze(function(Ze){return x()(x()({},Ze),{},{page:ye})}),st(ue.key,Ae)}}}},[qe,lt,we,Ye,ue.key,Xe.length]);(0,L.useEffect)(function(){var V=Et.current;if(J&&V)return V.addEventListener("scroll",jt),function(){V.removeEventListener("scroll",jt)}},[J,jt]),(0,L.useEffect)(function(){J&&setTimeout(function(){Dt(X)},100)},[X,J]);var kt=(0,i.jsxs)("div",{className:ve("dis-left",U["created-title"]),children:[(0,i.jsx)("h3",{className:U["created-title-text"],children:"\u6DFB\u52A0"}),(0,i.jsx)(h.Z,{value:ue.key,size:"large",onChange:Dt,options:Se.filter(function(V){return!(S!=null&&S.includes(V.key))}).map(function(V){return{label:V.label,value:V.key}}),className:U["segmented-style"]})]}),vt=(0,L.useCallback)(function(V,D){return j?.some(function(de){return de.type===V.targetType&&de.targetId===V.targetId&&de.status===D&&(de?.toolName||"")===(V.toolName||"")})},[j]),Ut=(0,L.useCallback)(function(V){return vt(V,p.BQ.Added)},[vt]),Pt=(0,L.useCallback)(function(V,D){return me===void 0?vt(V,p.BQ.Loading):!!(me&&He?.targetId===V.targetId&&(He?.toolName||"")===(D||""))},[vt,He,me]),Kt=function(D,de,ye){return(0,i.jsx)(Fe,{item:D,index:de,getToolLoading:Pt,selected:ye,onAddNode:Tt,addedComponents:j||[]},"".concat(D.targetId,"-").concat(de))},Zt=function(D,de){var ye,Ae,Ze=Pt(D),De=Ut(D);return(0,i.jsxs)("div",{className:ve("dis-sb",U["list-item-style"]),children:[(0,i.jsx)("img",{src:D.icon||(0,b.Pk)(ue.key),alt:"",className:ve(U["left-image-style"])}),(0,i.jsxs)("div",{className:ve("flex-1",U["content-font"]),children:[(0,i.jsx)("p",{className:ve(U["label-font-style"],"text-ellipsis-2"),children:D.name}),(0,i.jsx)("p",{className:ve(U["created-description-style"],"text-ellipsis"),children:D.description}),(0,i.jsx)("div",{className:ve("dis-sb",U["count-div-style"]),children:(0,i.jsxs)("div",{className:"dis-left",children:[(0,i.jsx)("img",{src:((ye=D.publishUser)===null||ye===void 0?void 0:ye.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,i.jsx)("span",{children:(Ae=D.publishUser)===null||Ae===void 0?void 0:Ae.nickName}),(0,i.jsx)(Y.Z,{type:"vertical"}),(0,i.jsx)("span",{children:"\u53D1\u5E03\u4E8E".concat((0,P.hK)(D.created))}),![p.qR.Knowledge,p.qR.MCP].includes(ue.key)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Y.Z,{type:"vertical"}),D.collect&&(0,i.jsx)(d.Z,{className:ve(U["collect-star"],U["icon-margin"]),onClick:function(){return bt(D)}}),!D.collect&&(0,i.jsx)(u.Z,{className:ve(U["icon-margin"]),onClick:function(){return bt(D)}}),(0,i.jsx)("span",{children:D.statistics?D.statistics.collectCount:0})]})]})})]}),(0,i.jsx)(T.ZP,{color:"default",variant:"filled",onClick:function(){return Tt(D)},loading:Ze,className:ve(U["add-button"],De&&U["add-button-added"]),disabled:Ze?!1:De,children:De?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(D.targetId,"-").concat(de))},$t=function(D,de){D===p.qR.MCP?(0,g._x)(de):t(!0)};return(0,i.jsxs)(E.Z,{keyboard:!1,maskClosable:!1,open:J,footer:null,centered:!0,title:kt,onCancel:O,className:ve(U["created-modal-style"]),width:1096,children:[(0,i.jsxs)("div",{className:ve(U["created-container"],"dis-sb-start"),children:[(0,i.jsxs)("div",{className:ve(U["aside-style"]),children:[(0,i.jsxs)("div",{className:ve(U["aside-header"]),children:[(0,i.jsx)(G.Z,{allowClear:!0,value:H,variant:"filled",placeholder:"\u641C\u7D22",prefix:(0,i.jsx)(ne.Z,{}),onChange:function(D){q(D.target.value)},onClear:function(){q(""),st(ue.key,{page:1,pageSize:20})},onPressEnter:function(D){D.key==="Enter"&&(xt(x()(x()({},_t),{},{searching:!0})),Ft(D.currentTarget.value))}}),(0,i.jsx)(T.ZP,{type:"primary",className:ve(U["create-button"]),icon:(0,i.jsx)(ce.Z,{}),block:!0,onClick:function(){return $t(ue.key,f)},children:"\u521B\u5EFA".concat(ue.label)})]}),(0,i.jsx)($.Z,{className:ve(U["aside-menu"]),onClick:function(D){return Bt(D.key)},selectedKeys:[lt],mode:"vertical",items:Ot()})]}),(0,i.jsx)("div",{className:ve(U["main-style"],"flex-1","overflow-y"),ref:Et,children:ke?(0,i.jsx)(A.Z,{className:ve("h-full")}):Xe!=null&&Xe.length?Xe.map(function(V,D){return ue.key===p.qR.MCP?Kt(V,D,ue):Zt(V,D)}):(0,i.jsx)("div",{className:ve(U["created-list-empty-style"]),children:(0,i.jsx)(xe.Z,{description:_t.searching?"\u6682\u65E0\u6570\u636E\uFF0C\u8BF7\u91CD\u65B0\u641C\u7D22":"\u6682\u65E0\u6570\u636E"})})})]}),(0,i.jsx)(a.Z,{onConfirm:ft,onCancel:function(){return t(!1)},open:l&&ue.key===p.qR.Workflow,type:oe.jA.Create,spaceId:f}),(0,i.jsx)(B.Z,{onConfirm:ft,spaceId:f,onCancel:function(){return t(!1)},open:l&&ue.key===p.qR.Plugin,mode:oe.jA.Create}),(0,i.jsx)(R.Z,{spaceId:f,onConfirm:ft,onCancel:function(){return t(!1)},open:l&&ue.key===p.qR.Knowledge,mode:oe.jA.Create}),(0,i.jsx)(_.Z,{spaceId:f,type:p.qR.Table,mode:oe.jA.Create,Confirm:ft,onCancel:function(){return t(!1)},open:l&&ue.key===p.qR.Table})]})},Be=Le},80774:function(Ie,pe,e){var te=e(82092),r=e.n(te),M=e(48305),c=e.n(M),C=e(46388),x=e(92973),Z=e(26145),W=e(83352),N=e(7098),v=e(10560),y=e(87620),w=e(64799),m=e(92122),fe=e(26324),p=e(28190),oe=e(63619),P=e(51430),g=e(75271),b=e(48279),d=e(52676),u=function(ce){var je=ce.loading,h=ce.mode,Y=h===void 0?m.jA.Create:h,T=ce.type,E=ce.info,G=ce.open,$=ce.onCancel,xe=ce.Confirm,Pe=p.Z.useForm(),k=c()(Pe,1),L=k[0],Q=(0,g.useState)(""),_=c()(Q,2),R=_[0],B=_[1];(0,g.useEffect)(function(){G&&E&&(L.setFieldsValue(E),B(E.icon||""))},[G,E]);var a=function(){var i=r()(r()({},m.jA.Create,"\u521B\u5EFA"),m.jA.Update,"\u7F16\u8F91"),z=r()(r()(r()(r()({},w.qR.Table,"\u6570\u636E\u8868"),w.qR.Knowledge,"\u77E5\u8BC6\u5E93"),w.qR.Plugin,"\u63D2\u4EF6"),w.qR.Workflow,"\u5DE5\u4F5C\u6D41");return"".concat(i[Y]).concat(z[T])},A=function(){var i=r()(r()(r()(r()({},w.qR.Table,C),w.qR.Knowledge,x),w.qR.Plugin,Z),w.qR.Workflow,W);return i[T]},U=function(i){xe(i,T,Y)},_e=function(){L.submit()};return(0,d.jsx)(b.Z,{form:L,title:a(),open:G,loading:je,onCancel:$,onConfirm:_e,children:(0,d.jsxs)(p.Z,{form:L,layout:"vertical",onFinish:U,requiredMark:fe.N,children:[(T===w.qR.Plugin||T===w.qR.Table)&&(0,d.jsx)(p.Z.Item,{name:"icon",children:(0,d.jsx)("div",{className:"dis-center",children:(0,d.jsx)(v.Z,{className:"upload-box",onUploadSuccess:function(i){L.setFieldValue("icon",i),B(i)},imageUrl:L.getFieldValue("icon")||R,defaultImage:A(),svgIconName:"icons-workspace-table"})})}),(0,d.jsx)(p.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"},{validator:function(i,z){return!z||z?.length<=30?Promise.resolve():z?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u540D\u79F0!"))}}],children:(0,d.jsx)(oe.Z,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",showCount:!0,maxLength:30})}),(0,d.jsx)(p.Z.Item,{name:"description",label:"\u63CF\u8FF0",className:"position-relative",children:(0,d.jsx)(oe.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0",autoSize:{minRows:3,maxRows:6},maxLength:100,showCount:!0,className:"dispose-textarea-count"})}),(T===w.qR.Workflow||T===w.qR.Knowledge)&&(0,d.jsx)(p.Z.Item,{name:"icon",children:(0,d.jsx)("div",{children:(0,d.jsx)(v.Z,{className:"upload-box",onUploadSuccess:function(i){L.setFieldValue("icon",i)},imageUrl:R,defaultImage:A(),svgIconName:"icons-workspace-knowledge"})})}),T===w.qR.Plugin&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.Z.Item,{shouldUpdate:!0,label:"\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",name:"type",children:(0,d.jsx)(P.ZP.Group,{options:y.B1})}),(0,d.jsx)(p.Z.Item,{shouldUpdate:!0,children:function(){return L.getFieldValue("type")==="CODE"&&(0,d.jsx)(p.Z.Item,{label:"IDE \u8FD0\u884C\u65F6",name:"codeLang",children:(0,d.jsx)(N.Z,{options:y._n})})}})]})]})})};pe.Z=u},97830:function(Ie,pe,e){e.d(pe,{fq:function(){return Me},ZP:function(){return Se}});var te=e(94581),r=e.n(te),M=e(75271),c={"markdown-container":"markdown-container___B4lMY","table-wrapper":"table-wrapper___gVSep","markdown-table":"markdown-table___tMbI9","markdown-image-container":"markdown-image-container___QvQqd",spin:"spin___sxYN7"},C=e(14100),x=e(23687),Z={theme:"default",flowchart:{useMaxWidth:!0,htmlLabels:!0},sequence:{diagramMarginX:50,diagramMarginY:10},suppressErrorRendering:!1},W=(0,x.R4)({id:x.qM,rehypePlugin:[C.dV,{mermaidConfig:Z}],components:{mermaidblock:C.rM}}),N=W,v=e(2601),y=e(13621),w=e(203),m=e(46703),fe=e(90228),p=e.n(fe),oe=e(87999),P=e.n(oe),g=e(26068),b=e.n(g),d=e(48305),u=e.n(d),ne=e(92122),ce=e(77750),je=e(39373),h=e(3642),Y=e(57683),T=e(64771),E=e(41249),G=e(68108),$=e(9504),xe=e(32699),Pe=e(56179),k={"xagi-nav-style2":"xagi-nav-style2___LR8qt",text:"text___GOSuV","page-container":"page-container___rB1Af","markdown-custom-process":"markdown-custom-process___XbvIR","process-header":"process-header___PbJv3","process-title":"process-title___D5O_C","process-controls":"process-controls___dihqk","status-completed":"status-completed___MeIxv",anticon:"anticon___IplOJ","status-running":"status-running___DB0Uo","loading-spinner":"loading-spinner___UooYw",spin:"spin___XLinb","status-error":"status-error___YZemo","control-btn":"control-btn___ufUOD","process-controls-actions":"process-controls-actions___qY3sV","process-content":"process-content___ntUHU","default-content":"default-content___IvKuJ"},L=e(34204),Q=e(15470),_=e(45019),R=e(14719),B={"see-detail-modal":"see-detail-modal___O4Htz","see-detail-header":"see-detail-header___ckdmQ","see-detail-header-title":"see-detail-header-title___aaWbf","see-detail-header-actions":"see-detail-header-actions___Kj3tI","see-detail-content":"see-detail-content___K7JsV"},a=e(52676),A=r().bind(B),U=function(o){var f=o.visible,n=o.onClose,s=o.data,l=o.title;return!s||!f?null:(0,a.jsx)(R.Z,{open:f,onCancel:n,footer:null,width:800,className:A(B["see-detail-modal"]),destroyOnHidden:!0,title:(0,a.jsxs)("div",{className:A(B["see-detail-header"]),children:[(0,a.jsx)("div",{className:A(B["see-detail-header-title"]),children:l}),(0,a.jsx)("div",{className:A(B["see-detail-header-actions"]),children:(0,a.jsx)(Q.Z,{data:s,jsonSpace:2,tooltipTitle:"\u590D\u5236\u8BE6\u60C5\u6570\u636E",successMessage:"\u8BE6\u60C5\u6570\u636E\u5DF2\u590D\u5236",errorMessage:"\u8BE6\u60C5\u6570\u636E\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"})})]}),children:(0,a.jsx)("div",{className:A(B["see-detail-content"]),children:(0,a.jsx)(L.Z,{height:"400px",codeLanguage:_.vQ.JSON,value:JSON.stringify(s,null,2),codeOptimizeVisible:!1,minimap:!1,readOnly:!0,editorOptions:{wordWrap:"bounded",wrappingStrategy:"advanced",wrappingIndent:"indent",scrollBeyondLastLine:!1,minimap:{enabled:!1}}})})})},_e=U,ee=r().bind(k);function i(S){var o=(0,Pe.useModel)("chat"),f=o.getProcessingById,n=o.processingList,s=(0,M.useState)(null),l=u()(s,2),t=l[0],re=l[1],se=(0,M.useState)(b()(b()({},S),{},{result:""})),H=u()(se,2),q=H[0],Re=H[1],Ke=(0,M.useState)(!1),ue=u()(Ke,2),$e=ue[0],Je=ue[1];(0,M.useEffect)(function(){var we=f(q.executeId);we&&(we?.status!==q.status||!(0,xe.isEqual)(we.result,q.result))&&Re(we)},[n,q.executeId]);var at=(0,M.useCallback)(function(){switch(q.status){case ne.Xk.FINISHED:return(0,a.jsxs)("div",{className:ee(k["status-completed"]),children:[(0,a.jsx)(h.Z,{}),"\u5DF2\u5B8C\u6210"]});case ne.Xk.EXECUTING:return(0,a.jsxs)("div",{className:ee(k["status-running"]),children:[(0,a.jsx)("div",{className:ee(k["loading-spinner"])}),"\u8FD0\u884C\u4E2D"]});case ne.Xk.FAILED:return(0,a.jsx)("div",{className:ee(k["status-error"]),children:"\u274C \u9519\u8BEF"});default:return null}},[q.status]),qe=(0,M.useCallback)(P()(p()().mark(function we(){var We;return p()().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(t){Ge.next=3;break}return E.ZP.error("\u6682\u65E0\u6570\u636E"),Ge.abrupt("return");case 3:return We=JSON.stringify(t,null,2),Ge.next=6,(0,ce.TE)(We,void 0,!0);case 6:case"end":return Ge.stop()}},we)})),[t]),ze=(0,M.useCallback)(function(we){if(!we)return null;var We=(0,je.Xh)(we);return{params:We.input||{},response:We.data||null}},[]);(0,M.useEffect)(function(){if(q.executeId&&(q.status===ne.Xk.FINISHED||q.status===ne.Xk.FAILED)){var we=ze(q.result);if(t&&(0,xe.isEqual)(we,t))return;re(we)}},[q.executeId,q.status,q.result]);var et=(0,M.useMemo)(function(){return!(t&&(q.status===ne.Xk.FINISHED||q.status===ne.Xk.FAILED))||!1},[q.status,t]),rt=(0,M.useCallback)(function(){if(!t){E.ZP.error("\u6682\u65E0\u6570\u636E");return}Je(!0)},[t]);return q.executeId?(0,a.jsxs)("div",{className:ee(k["markdown-custom-process"]),"data-key":S.dataKey,children:[(0,a.jsxs)("div",{className:ee(k["process-header"]),children:[(0,a.jsx)("div",{className:ee(k["process-title"]),children:q.name||"\u6682\u65E0\u540D\u79F0"}),(0,a.jsxs)("div",{className:ee(k["process-controls"]),children:[at(),(0,a.jsxs)("div",{className:ee(k["process-controls-actions"]),children:[(0,a.jsx)(G.Z,{title:"\u67E5\u770B\u8BE6\u60C5",children:(0,a.jsx)($.ZP,{type:"text",disabled:et,icon:(0,a.jsx)(Y.Z,{}),onClick:rt})}),(0,a.jsx)(G.Z,{title:"\u590D\u5236",children:(0,a.jsx)($.ZP,{type:"text",icon:(0,a.jsx)(T.Z,{}),disabled:et,onClick:qe})})]})]})]}),(0,a.jsx)(_e,{title:q.name||"\u6682\u65E0\u540D\u79F0",visible:$e,onClose:function(){return Je(!1)},data:t},q.executeId)]},S.dataKey):null}var z=(0,M.memo)(i,function(S,o){return S.executeId===o.executeId&&S.status===o.status}),Te=e(94484),Ee=e(73415),K=(0,M.memo)(function(S){var o=S.src,f=S.containerClassNames,n=S.containerStyles,s=S.styles,l=S.alt,t=l===void 0?"":l,re=S.dataKey,se=(0,M.useState)(!1),H=u()(se,2),q=H[0],Re=H[1],Ke=(0,M.useCallback)(function(){},[]),ue=(0,M.useMemo)(function(){if(f)return Array.isArray(f)?f.join(" "):f},[f]);return(0,a.jsx)("span",{"data-key":re,className:ue||c["image-container"],style:b()(b()({},n),{},{display:"inline-block",width:"100%"}),onClick:function(){Re(!0)},children:(0,a.jsx)(Te.Z,{src:o,fallback:Ee.Pc,onError:Ke,style:s,alt:t,preview:q?{visible:q,src:o,onVisibleChange:Re}:!1})},re)},function(S,o){return S.src===o.src}),Ce=K,ge=e(335),he=e.n(ge),Fe=e(31759),ve=e.n(Fe),Ne=e(15558),Oe=e.n(Ne),Le=function(o){try{var f="",n=function s(l){var t;return typeof l=="string"?l:typeof l=="number"?String(l):Array.isArray(l)?l.map(s).join(""):l!=null&&(t=l.props)!==null&&t!==void 0&&t.children?s(l.props.children):""};return f=n(o),f.replace(/\s+/g," ").trim()}catch(s){return console.warn("\u63D0\u53D6\u8868\u683C\u5355\u5143\u683C\u5185\u5BB9\u5931\u8D25:",s),""}},Be=function(o){try{var f,n=[],s=function l(t){if(Array.isArray(t))t.forEach(function(se){var H;if(se?.type==="td"||se?.type==="th"){var q=Le(se);n.push(q)}else se!=null&&(H=se.props)!==null&&H!==void 0&&H.children&&l(se.props.children)});else if(t?.type==="td"||t?.type==="th"){var re=Le(t);n.push(re)}};return o!=null&&(f=o.props)!==null&&f!==void 0&&f.children?s(o.props.children):o!=null&&o.children&&s(o.children),n.length>0?"|"+n.map(function(l){return" ".concat(l.trim()," ")}).join("|")+"|":""}catch(l){return console.warn("\u63D0\u53D6\u8868\u683C\u884C\u5185\u5BB9\u5931\u8D25:",l),""}},ie=function(o){try{var f,n=[];if(o!=null&&(f=o.props)!==null&&f!==void 0&&f.children){var s=o.props.children;if(Array.isArray(s))s.forEach(function(t){if(t?.type==="tr"){var re=Be(t);re&&n.push(re)}});else if(s?.type==="tr"){var l=Be(s);l&&n.push(l)}}return n}catch(t){return console.warn("\u63D0\u53D6\u8868\u683C\u533A\u57DF\u5185\u5BB9\u5931\u8D25:",t),[]}},F=function S(o){try{if(typeof o=="string")return o;if(Array.isArray(o)){var f=[],n=!1;if(o.forEach(function(H){var q;if(H?.type==="thead"){var Re=ie(H);f.push.apply(f,Oe()(Re)),n=!0}else if(H?.type==="tbody"){var Ke=ie(H);f.push.apply(f,Oe()(Ke))}else if(H?.type==="tr"){var ue=Be(H);ue&&f.push(ue)}else if(H!=null&&(q=H.props)!==null&&q!==void 0&&q.children){var $e=S(H.props.children);$e&&f.push($e)}}),f.length>0){var s=f.join(`
`);if(n&&f.length>1){var l=f[0];if(l){var t=(l.match(/\|/g)||[]).length-1,re="|"+"---|".repeat(t);return"".concat(s,`
`).concat(re)}}return s}}if(ve()(o)==="object"&&o!==null){var se=o?.props;if(se!=null&&se.children)return S(se.children)}return""}catch(H){return console.warn("\u63D0\u53D6\u8868\u683C\u5185\u5BB9\u5931\u8D25:",H),""}},J=[{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}];function O(S){return function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=o.length,s=f,l=he()(S),t;try{for(l.s();!(t=l.n()).done;){var re=t.value,se=re.left,H=re.right,q=re.display;if(o.slice(s).startsWith(se)){for(var Re=s+se.length;Re<n&&!o.slice(Re).startsWith(H);)Re++;if(!(Re>=n)){var Ke=o.slice(s+se.length,Re),ue=Re+H.length;return{formula:Ke,display:q,start:s,end:ue,left:se,right:H,success:!0}}}}}catch($e){l.e($e)}finally{l.f()}return{formula:"",display:!1,start:0,end:0,left:"",right:"",success:!1}}}function X(S){for(var o=J.filter(function(re){return!re.left.includes("$")&&!re.right.includes("$")}),f=O(o),n="",s=0;s<S.length;){var l=f(S,s);if(l.success){n+=S.slice(s,l.start);var t=l.display?"$$":"$";n+="".concat(t).concat(l.formula).concat(t),s=l.end}else n+=S[s],s++}return n}var I=r().bind(c),j=function(){return(0,x.R4)({rehypePlugin:[w.Z,m.Z],components:{"markdown-custom-process":function(o){var f=o.node,n=o.type,s=o.status,l=o.executeid,t=o.name,re=f?.position||{},se=re.end.offset,H=re.start.offset,q="".concat(H,"-").concat(se,"-process");return(0,a.jsx)(z,{dataKey:q,type:n,status:s,executeId:l,name:decodeURIComponent(t||"")},q)},table:function(o){var f=o.children,n=o.node,s=(0,v.ls)(),l=s.theme,t=s.codeBlock,re=t===void 0?{}:t,se=re.headerActions,H=se===void 0?!1:se,q=n?.position||{},Re=q.end.offset,Ke=q.start.offset,ue="".concat(Ke,"-").concat(Re,"-list"),$e=F(f);return(0,a.jsx)("div",{"data-key":ue,className:c["table-wrapper"],style:{display:"block"},children:(0,a.jsxs)("div",{className:"md-code-block md-code-block-".concat(l),children:[H&&(0,a.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,a.jsx)("div",{className:"md-code-block-banner md-code-block-banner-lite",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"md-code-block-language",children:"\u8868\u683C"}),(0,a.jsx)(v.GR,{language:"markdown",codeContent:$e})]})})}),(0,a.jsx)("div",{className:"md-code-block-content scrollbar",children:(0,a.jsx)("table",{className:I(c["markdown-table"]),children:f})})]})},ue)},img:function(o){var f=o.src,n=o.alt,s=o.title,l=o.node;if(!f)return null;var t=l?.position||{},re=t.end.offset,se=t.start.offset,H="".concat(se,"-").concat(re,"-img");return(0,a.jsx)(Ce,{dataKey:H,containerClassNames:c["markdown-image-container"],src:f,alt:n,title:s},H)}},id:Symbol("custom-plugin"),type:"custom"})},ae=r().bind(c),me=(0,M.memo)(function(S){var o=S.id,f=o===void 0?"":o,n=S.className,s=S.markdownRef,l=S.headerActions,t=l===void 0?!0:l,re=S.disableTyping,se=re===void 0?!0:re,H=S.theme,q=H===void 0?"light":H,Re=(0,M.useRef)(null),Ke=(0,M.useMemo)(function(){return[N,x.wg,j()]},[]),ue=(0,M.useMemo)(function(){return Z},[]);return(0,a.jsx)("div",{ref:Re,id:"".concat(f),"data-key":"".concat(f),className:ae(c["markdown-container"],n),children:(0,a.jsx)(v.iV,{mermaidConfig:ue,children:(0,a.jsx)(v.Hh,{ref:s,timerType:"requestAnimationFrame",interval:30,plugins:Ke,codeBlock:{headerActions:t},theme:q,math:{splitSymbol:"bracket",replaceMathBracket:X},disableTyping:se})})},"".concat(f))},function(S,o){return S.id===o.id}),Me=(0,M.memo)(function(S){var o=S.id,f=o===void 0?"":o,n=S.className,s=n===void 0?"":n,l=S.children,t=S.theme,re=t===void 0?"light":t,se=(0,M.useMemo)(function(){return[x.wg,j()]},[]);return(0,a.jsx)("div",{id:"".concat(f),"data-key":"".concat(f),className:ae(c["markdown-container"],s),children:(0,a.jsx)(v.iV,{children:(0,a.jsx)(v.ZP,{interval:30,timerType:"requestAnimationFrame",disableTyping:!0,plugins:se,codeBlock:{headerActions:!1},theme:re,math:{splitSymbol:"bracket",replaceMathBracket:X},children:l})})},"".concat(f))},function(S,o){return S.id===o.id&&S.theme===o.theme}),Se=me},64807:function(Ie,pe,e){e.d(pe,{Z:function(){return xe}});var te=e(82092),r=e.n(te),M=e(90228),c=e.n(M),C=e(87999),x=e.n(C),Z=e(48305),W=e.n(Z),N=e(7098),v=e(61265),y=e(64799),w=e(92122),m=e(40677),fe=e(20860),p=e(68108),oe=e(7010),P=e(63619),g=e(17701),b=e(63876),d=e(7914),u=e(10580),ne=e(9504),ce=e(94581),je=e.n(ce),h=e(32699),Y=e(75271),T={"xagi-nav-style2":"xagi-nav-style2___naFlL",text:"text___wqbjs","page-container":"page-container___rXZSx",container:"container___oFiVs","params-td":"params-td___jx0pi","params-name":"params-name___sE7JM",desc:"desc___Gm1Qx",select:"select___psDV2",footer:"footer___y2QiJ","btn-disabled":"btn-disabled___zbgUs"},E=e(52676),G=je().bind(T),$=function(k){var L=k.inputArgBindConfigs,Q=k.variables,_=k.onSaveSet,R=k.style,B=R===void 0?{}:R,a=k.scroll,A=a===void 0?{y:480}:a,U=(0,Y.useState)([]),_e=W()(U,2),ee=_e[0],i=_e[1],z=(0,Y.useState)([]),Te=W()(z,2),Ee=Te[0],K=Te[1],Ce=(0,Y.useState)(!1),ge=W()(Ce,2),he=ge[0],Fe=ge[1],ve=(0,Y.useState)(!1),Ne=W()(ve,2),Oe=Ne[0],Le=Ne[1];(0,Y.useEffect)(function(){if(L!=null&&L.length){Fe(!1),K(L);var X=(0,m.kS)(L||[]);i(X)}else Fe(!0),K([]),i([])},[L]);var Be=(0,Y.useMemo)(function(){return Q?.map(function(X){return{label:X.name,value:X.name}})||[]},[Q]),ie=function(I,j,ae){var me=(0,h.cloneDeep)(Ee)||[],Me=(0,m.mG)(me,I,j,ae);K(Me)},F=function(I){var j;return w.Gi.Object===I.dataType||w.Gi.Array_Object===I.dataType||((j=I.dataType)===null||j===void 0?void 0:j.includes("Array"))||!I.enable},J=[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"name",key:"name",className:"flex items-center table-params-name-td",render:function(I,j){var ae;return(0,E.jsxs)("div",{className:G("flex","flex-col",T["params-td"]),children:[(0,E.jsx)("span",{className:G(T["params-name"],"text-ellipsis-2"),children:j.name}),(0,E.jsx)(p.Z,{title:((ae=j.description)===null||ae===void 0?void 0:ae.length)>10?j.description:"",placement:"top",children:(0,E.jsx)("span",{className:G("text-ellipsis",T.desc),children:j.description})})]})}},{title:"\u53C2\u6570\u7C7B\u578B",dataIndex:"dataType",key:"dataType",width:120,render:function(I){return(0,E.jsx)("div",{className:G("h-full","flex","items-center"),children:I})}},{title:"\u5FC5\u586B",dataIndex:"require",key:"require",width:85,render:function(I){return(0,E.jsx)("div",{className:G("h-full","flex","items-center"),children:I?"\u5FC5\u586B":"\u975E\u5FC5\u586B"})}},{title:"\u9ED8\u8BA4\u503C",key:"default",width:232,render:function(I,j){return(0,E.jsx)("div",{className:G("h-full","flex","items-center"),children:(0,E.jsxs)(oe.Z.Compact,{block:!0,children:[(0,E.jsx)(N.Z,{className:G(T.select),disabled:F(j),value:j.bindValueType,onChange:function(me){return ie(j.key,"bindValueType",me)},options:v.lt}),j.bindValueType===y.Oy.Input?(0,E.jsx)(P.Z,{rootClassName:G(T.select),placeholder:"\u8BF7\u586B\u5199",disabled:F(j),value:j.bindValue,onChange:function(me){return ie(j.key,"bindValue",me.target.value)}}):(0,E.jsx)(g.default,{placeholder:"\u8BF7\u9009\u62E9",disabled:F(j),rootClassName:G(T.select),popupMatchSelectWidth:!1,value:j.bindValue||null,onChange:function(me){return ie(j.key,"bindValue",me)},options:Be})]})})}},{title:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{children:"\u5F00\u542F"}),(0,E.jsx)(b.Z,{content:"\u5F53\u53C2\u6570\u8BBE\u7F6E\u4E3A\u5173\u95ED\u65F6\uFF0C\u5927\u6A21\u578B\u5C06\u65E0\u6CD5\u770B\u5230\u8BE5\u53C2\u6570\u3002\u5982\u679C\u8BE5\u53C2\u6570\u8BBE\u7F6E\u4E86\u9ED8\u8BA4\u503C\u5E76\u4E14\u4E0D\u53EF\u89C1\uFF0C\u5219\u5728\u8C03\u7528\u65F6\uFF0C\u667A\u80FD\u4F53\u4F1A\u9ED8\u8BA4\u53EA\u4F7F\u7528\u8FD9\u4E2A\u8BBE\u5B9A\u503C",styles:{body:{width:"300px"}},children:(0,E.jsx)(fe.Z,{className:"ml-12"})})]}),dataIndex:"enable",key:"enable",width:100,align:"center",render:function(I,j){return(0,E.jsx)("div",{className:G("h-full","flex","items-center"),children:(0,E.jsx)(p.Z,{title:j.require&&!j.bindValue&&"\u6B64\u53C2\u6570\u662F\u5FC5\u586B\u53C2\u6570\uFF0C\u586B\u5199\u9ED8\u8BA4\u503C\u540E\uFF0C\u6B64\u5F00\u5173\u53EF\u7528",children:(0,E.jsx)(d.Z,{disabled:j.require&&!j.bindValue,checked:j.enable,onChange:function(me){return ie(j.key,"enable",me)}})})})}}],O=function(){var X=x()(c()().mark(function I(){var j;return c()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return j={inputArgBindConfigs:Ee},Le(!0),me.next=4,_(j);case 4:Le(!1);case 5:case"end":return me.stop()}},I)}));return function(){return X.apply(this,arguments)}}();return(0,E.jsxs)("div",{className:G(T.container,"flex","flex-col"),style:B,children:[(0,E.jsx)(u.Z,{className:G("mb-16","flex-1"),columns:J,dataSource:Ee,pagination:!1,virtual:!0,scroll:A,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:ee,expandIcon:function(){return null}}}),(0,E.jsx)("footer",{className:G(T.footer),children:(0,E.jsx)(ne.ZP,{type:"primary",onClick:O,loading:Oe,className:G(r()({},T["btn-disabled"],he)),disabled:he,children:"\u4FDD\u5B58"})})]})},xe=$},84720:function(Ie,pe,e){e.d(pe,{Z:function(){return ne}});var te=e(90228),r=e.n(te),M=e(87999),c=e.n(M),C=e(48305),x=e.n(C),Z=e(35044),W=e(19979),N=e(63136),v=e(14719),y=e(9504),w=e(63619),m=e(94581),fe=e.n(m),p=e(75271),oe=e(56179),P=e(92448),g={"xagi-nav-style2":"xagi-nav-style2___v7lvG",text:"text___yWswe","page-container":"page-container___w58EN",btn:"btn___ru2xz","chat-wrapper":"chat-wrapper___GBMoh","replace-btn":"replace-btn___Xl1q3",footer:"footer___Ij_cp","chat-input":"chat-input___lsiAA",input:"input___dR5Yj","icon-box":"icon-box___aXEus","send-image":"send-image___L_DDB","no-hover-bg":"no-hover-bg___mz7Mk"},b=e(52676),d=fe().bind(g),u=function(je){var h,Y,T=je.title,E=je.open,G=je.onCancel,$=je.onReplace,xe=je.defaultValue,Pe=je.targetId,k=je.type,L=k===void 0?N.U.AGENT:k,Q=(0,p.useState)(""),_=x()(Q,2),R=_[0],B=_[1],a=(0,oe.useModel)("assistantOptimize"),A=a.messageList,U=a.setMessageList,_e=a.onMessageSend,ee=a.messageViewRef,i=a.allowAutoScrollRef,z=a.resetInit,Te=(0,p.useState)(""),Ee=x()(Te,2),K=Ee[0],Ce=Ee[1],ge=(0,p.useState)(!1),he=x()(ge,2),Fe=he[0],ve=he[1],Ne=(0,p.useCallback)(function(){U([])},[]),Oe=(0,p.useCallback)(function(ie){Ne(),G?.(ie)},[]);(0,p.useEffect)(function(){return Ce((0,P.Z)()),function(){z(),Ne()}},[]),(0,p.useEffect)(function(){var ie=ee.current;if(ie){var F=function(){var O=ie.scrollTop,X=ie.scrollHeight,I=ie.clientHeight;O+I<X?i.current=!1:i.current=!0};return ie.addEventListener("scroll",F),function(){ie.removeEventListener("scroll",F)}}},[]);var Le=function(){var ie=c()(r()().mark(function F(J){var O;return r()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:U([]),B(""),O={requestId:K,prompt:J||R,type:L,id:Pe},_e(O,N.L.prompt);case 4:case"end":return I.stop()}},F)}));return function(J){return ie.apply(this,arguments)}}(),Be=function(F){F.preventDefault();var J=F.target,O=J.value,X=J.selectionStart,I=J.selectionEnd;if(F.nativeEvent.keyCode===13&&(F.nativeEvent.shiftKey||F.nativeEvent.ctrlKey)){var j=O.slice(0,X)+`
`+O.slice(I);B(j)}else if(F.nativeEvent.keyCode===13&&O.trim()){var ae={requestId:K,prompt:R,type:L,id:Pe};_e(ae,N.L.prompt),B("")}};return(0,p.useEffect)(function(){!R||R.trim()===""?ve(!0):ve(!1)},[R]),(0,b.jsxs)(v.Z,{title:T,open:E,onCancel:Oe,maskClosable:!1,footer:null,children:[(0,b.jsx)("div",{ref:ee,className:d(g["chat-wrapper"],"flex-1"),children:A?.length>0&&(0,b.jsx)(b.Fragment,{children:A?.map(function(ie,F){return(0,b.jsx)(W.Z,{onReplace:$,messageInfo:ie},F)})})}),A?.length>0?(0,b.jsxs)("div",{className:d("flex"),children:[(0,b.jsx)(y.ZP,{className:d(g["replace-btn"],g.btn),loading:(A==null||(h=A[A?.length-1])===null||h===void 0?void 0:h.status)!=="complete",disabled:(A==null||(Y=A[A?.length-1])===null||Y===void 0?void 0:Y.status)!=="complete",onClick:function(){var F;return $?.(A==null||(F=A[A?.length-1])===null||F===void 0?void 0:F.text)},children:"\u66FF\u6362"}),(0,b.jsx)(y.ZP,{onClick:Oe,className:d(g.btn,"ml-10 "),children:"\u9000\u51FA"})]}):(0,b.jsx)(y.ZP,{type:"default",className:d(g.btn),onClick:function(){return Le(xe||"\u4E00\u4E2A\u80FD\u4E3A\u4F60\u63D0\u4F9B\u5DE5\u4F5C\u5E2E\u52A9\u548C\u5EFA\u8BAE\u7684\u667A\u80FD\u673A\u5668\u4EBA")},children:"\u81EA\u52A8\u4F18\u5316"}),(0,b.jsx)("div",{className:d(g.footer,"flex","items-center"),children:(0,b.jsxs)("div",{className:d(g["chat-input"],"flex","items-center","w-full"),children:[(0,b.jsx)(w.Z.TextArea,{value:R,onChange:function(F){return B(F.target.value)},rootClassName:g.input,onPressEnter:Be,placeholder:"\u8BF7\u63CF\u8FF0\u4F60\u7684\u63D0\u793A\u8BCD\u9700\u6C42\uFF0C\u6BD4\u5982\u89D2\u8272\u5B9A\u4E49\u3001\u6280\u80FD\u8981\u6C42\u7B49",autoSize:{minRows:1,maxRows:3}}),(0,b.jsx)(y.ZP,{type:"text",onClick:function(){return Le()},disabled:Fe,className:d(g["no-hover-bg"]),icon:(0,b.jsx)("img",{className:d(g["send-image"]),src:Z,alt:""}),size:"small"})]})})]})},ne=u},91268:function(Ie,pe,e){e.d(pe,{Z:function(){return C}});var te=e(75271),r=e(92448),M=100,c=function(Z){setTimeout(function(){Z()},M)};function C(x){var Z=x.answer,W=x.thinking,N=x.id,v=(0,te.useRef)(null),y=(0,te.useRef)(N?String(N):(0,r.Z)()),w=(0,te.useRef)({thinking:0,answer:0});return(0,te.useEffect)(function(){c(function(){if(Z){var m,fe=Z.slice(w.current.answer);w.current.answer=Z.length,(m=v.current)===null||m===void 0||m.push(fe,"answer")}})},[Z]),(0,te.useEffect)(function(){c(function(){if(W){var m,fe=W.slice(w.current.thinking);w.current.thinking=W.length,(m=v.current)===null||m===void 0||m.push(fe,"thinking")}})},[W]),(0,te.useEffect)(function(){N&&(y.current=String(N))},[N]),(0,te.useEffect)(function(){return function(){var m;(m=v.current)===null||m===void 0||m.clear(),w.current={thinking:0,answer:0},y.current=""}},[]),{markdownRef:v,messageIdRef:y}}},28359:function(Ie,pe,e){var te=e(90228),r=e.n(te),M=e(87999),c=e.n(M),C=e(26068),x=e.n(C),Z=e(67825),W=e.n(Z),N=e(82092),v=e.n(N),y=e(64799),w=e(56179),m=["data"],fe=["records"],p=["deployedConfig","deployStatus","id","creator"],oe=v()(v()(v()(v()(v()(v()(v()(v()({},y.qR.Plugin,"/api/published/plugin/list"),y.qR.Workflow,"/api/published/workflow/list"),y.qR.Knowledge,"/api/published/knowledge/list"),y.qR.Table,"/api/published/composeTable/list"),y.qR.Variable,"/api/published/dataBase/list"),y.qR.Model,"/api/published/dataBase/list"),y.qR.Trigger,"/api/published/dataBase/list"),y.qR.Agent,"/api/published/agent/list");function P(Y){return(0,w.request)("/api/mcp/deployed/list",{method:"POST",data:Y}).then(function(T){var E=T.data,G=W()(T,m),$=E||{},xe=$.records,Pe=W()($,fe);return x()(x()({},G),{},{data:x()(x()({},Pe),{},{records:xe?.map(function(k){var L=k.deployedConfig,Q=k.deployStatus,_=k.id,R=k.creator,B=W()(k,p);return x()(x()({},B),{},{status:Q,targetId:_,targetType:y.qR.MCP,publishUser:R,config:L})})})})})}function g(Y,T){return b.apply(this,arguments)}function b(){return b=c()(r()().mark(function Y(T,E){return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(T!==y.qR.MCP){$.next=2;break}return $.abrupt("return",P(E));case 2:return $.abrupt("return",(0,w.request)("".concat(oe[T]),{method:"POST",data:E}));case 3:case"end":return $.stop()}},Y)})),b.apply(this,arguments)}function d(Y,T){return u.apply(this,arguments)}function u(){return u=c()(r()().mark(function Y(T,E){return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",(0,w.request)("/api/published/".concat(T,"/collect/list"),{method:"POST",data:E}));case 1:case"end":return $.stop()}},Y)})),u.apply(this,arguments)}function ne(Y,T){return ce.apply(this,arguments)}function ce(){return ce=c()(r()().mark(function Y(T,E){return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",(0,w.request)("/api/published/".concat(T,"/collect/").concat(E),{method:"POST",data:v()({},"".concat(T,"Id"),E)}));case 1:case"end":return $.stop()}},Y)})),ce.apply(this,arguments)}function je(Y,T){return h.apply(this,arguments)}function h(){return h=c()(r()().mark(function Y(T,E){return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",(0,w.request)("/api/published/".concat(T,"/unCollect/").concat(E),{method:"POST",data:v()({},"".concat(T,"Id"),E)}));case 1:case"end":return $.stop()}},Y)})),h.apply(this,arguments)}pe.ZP={getList:g,collectList:d,collect:ne,unCollect:je}},3440:function(Ie,pe,e){e.d(pe,{AY:function(){return oe},EV:function(){return L},Fh:function(){return d},Hl:function(){return $},KJ:function(){return w},Nf:function(){return E},RT:function(){return ne},S5:function(){return Pe},VW:function(){return Y},ey:function(){return x},nh:function(){return W}});var te=e(90228),r=e.n(te),M=e(87999),c=e.n(M),C=e(56179);function x(_){return Z.apply(this,arguments)}function Z(){return Z=c()(r()().mark(function _(R){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/compose/db/table/updateTableName",{method:"POST",data:R}));case 1:case"end":return a.stop()}},_)})),Z.apply(this,arguments)}function W(_){return N.apply(this,arguments)}function N(){return N=c()(r()().mark(function _(R){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/compose/db/table/updateTableDefinition",{method:"POST",data:R}));case 1:case"end":return a.stop()}},_)})),N.apply(this,arguments)}function v(_){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function _(R){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/compose/db/table/list",{method:"POST",data:R}));case 1:case"end":return a.stop()}},_)})),y.apply(this,arguments)}function w(_){return m.apply(this,arguments)}function m(){return m=c()(r()().mark(function _(R){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/compose/db/table/delete/".concat(R),{method:"POST"}));case 1:case"end":return a.stop()}},_)})),m.apply(this,arguments)}function fe(){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function _(){return _regeneratorRuntime().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",request("/api/compose/db/table/copyTableDefinition",{method:"POST"}));case 1:case"end":return B.stop()}},_)})),p.apply(this,arguments)}function oe(_){return P.apply(this,arguments)}function P(){return P=c()(r()().mark(function _(R){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/compose/db/table/add",{method:"POST",data:R}));case 1:case"end":return a.stop()}},_)})),P.apply(this,arguments)}function g(_){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function _(R){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/compose/db/table/existTableData",{method:"GET",params:{tableId:R}}));case 1:case"end":return a.stop()}},_)})),b.apply(this,arguments)}function d(_){return u.apply(this,arguments)}function u(){return u=c()(r()().mark(function _(R){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/compose/db/table/detailById",{method:"GET",params:{id:R}}));case 1:case"end":return a.stop()}},_)})),u.apply(this,arguments)}function ne(_){return ce.apply(this,arguments)}function ce(){return ce=c()(r()().mark(function _(R){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/compose/db/table/updateBusinessData",{method:"POST",data:R}));case 1:case"end":return a.stop()}},_)})),ce.apply(this,arguments)}function je(_,R){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function _(R,B){var a;return _regeneratorRuntime().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return a=new FormData,a.append("file",B),U.abrupt("return",request("/api/compose/db/table/importExcel/".concat(R),{method:"POST",data:a}));case 3:case"end":return U.stop()}},_)})),h.apply(this,arguments)}function Y(_,R){return T.apply(this,arguments)}function T(){return T=c()(r()().mark(function _(R,B){return r()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,C.request)("/api/compose/db/table/deleteBusinessData",{method:"POST",data:{tableId:R,rowId:B}}));case 1:case"end":return A.stop()}},_)})),T.apply(this,arguments)}function E(_){return G.apply(this,arguments)}function G(){return G=c()(r()().mark(function _(R){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/compose/db/table/addBusinessData",{method:"POST",data:R}));case 1:case"end":return a.stop()}},_)})),G.apply(this,arguments)}function $(_){return xe.apply(this,arguments)}function xe(){return xe=c()(r()().mark(function _(R){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/compose/db/table/getTableDataById",{method:"GET",params:R}));case 1:case"end":return a.stop()}},_)})),xe.apply(this,arguments)}function Pe(_){return k.apply(this,arguments)}function k(){return k=c()(r()().mark(function _(R){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/compose/db/table/exportExcel/".concat(R),{method:"GET",responseType:"blob",getResponse:!0}));case 1:case"end":return a.stop()}},_)})),k.apply(this,arguments)}function L(_){return Q.apply(this,arguments)}function Q(){return Q=c()(r()().mark(function _(R){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/compose/db/table/clearBusinessData/".concat(R),{method:"GET"}));case 1:case"end":return a.stop()}},_)})),Q.apply(this,arguments)}},48528:function(Ie,pe,e){e.d(pe,{Gh:function(){return B},Il:function(){return E},SR:function(){return L},T5:function(){return Pe},TL:function(){return j},V5:function(){return J},Wi:function(){return w},ah:function(){return d},bB:function(){return me},ds:function(){return Se},ei:function(){return x},g3:function(){return fe},gd:function(){return Y},h0:function(){return X},pJ:function(){return g},qx:function(){return v},s2:function(){return o},vn:function(){return _e}});var te=e(90228),r=e.n(te),M=e(87999),c=e.n(M),C=e(56179);function x(n){return Z.apply(this,arguments)}function Z(){return Z=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/config/update",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),Z.apply(this,arguments)}function W(n){return N.apply(this,arguments)}function N(){return N=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/config/list",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),N.apply(this,arguments)}function v(n){return y.apply(this,arguments)}function y(){return y=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/config/add",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),y.apply(this,arguments)}function w(n){return m.apply(this,arguments)}function m(){return m=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/config/detailById",{method:"GET",params:{id:s}}));case 1:case"end":return t.stop()}},n)})),m.apply(this,arguments)}function fe(n){return p.apply(this,arguments)}function p(){return p=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/config/deleteById",{method:"GET",params:{id:s}}));case 1:case"end":return t.stop()}},n)})),p.apply(this,arguments)}function oe(n){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/update",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),P.apply(this,arguments)}function g(n){return b.apply(this,arguments)}function b(){return b=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/document/updateDocName",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),b.apply(this,arguments)}function d(n){return u.apply(this,arguments)}function u(){return u=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/document/list",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),u.apply(this,arguments)}function ne(n){return ce.apply(this,arguments)}function ce(){return ce=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/generateQA/".concat(s),{method:"POST"}));case 1:case"end":return t.stop()}},n)})),ce.apply(this,arguments)}function je(n){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/doc/generateEmbeddings/".concat(s),{method:"POST"}));case 1:case"end":return t.stop()}},n)})),h.apply(this,arguments)}function Y(n){return T.apply(this,arguments)}function T(){return T=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/document/customAdd",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),T.apply(this,arguments)}function E(n){return G.apply(this,arguments)}function G(){return G=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/document/add",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),G.apply(this,arguments)}function $(n){return xe.apply(this,arguments)}function xe(){return xe=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/doc/retryAllTaskByDays/".concat(s),{method:"GET"}));case 1:case"end":return t.stop()}},n)})),xe.apply(this,arguments)}function Pe(n){return k.apply(this,arguments)}function k(){return k=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/document/doc/autoRetryTaskByDocId/".concat(s),{method:"GET"}));case 1:case"end":return t.stop()}},n)})),k.apply(this,arguments)}function L(n){return Q.apply(this,arguments)}function Q(){return Q=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/document/detailById",{method:"GET",params:{dataId:s}}));case 1:case"end":return t.stop()}},n)})),Q.apply(this,arguments)}function _(n){return R.apply(this,arguments)}function R(){return R=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/queryDocStatus",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),R.apply(this,arguments)}function B(n){return a.apply(this,arguments)}function a(){return a=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/document/deleteById",{method:"GET",params:{id:s}}));case 1:case"end":return t.stop()}},n)})),a.apply(this,arguments)}function A(n){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/update",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),U.apply(this,arguments)}function _e(n){return ee.apply(this,arguments)}function ee(){return ee=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/rawSegment/list",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),ee.apply(this,arguments)}function i(n){return z.apply(this,arguments)}function z(){return z=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/add",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),z.apply(this,arguments)}function Te(n){return Ee.apply(this,arguments)}function Ee(){return Ee=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/detailById",{method:"GET",params:{dataId:s}}));case 1:case"end":return t.stop()}},n)})),Ee.apply(this,arguments)}function K(n){return Ce.apply(this,arguments)}function Ce(){return Ce=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/deleteById",{method:"GET",params:{id:s}}));case 1:case"end":return t.stop()}},n)})),Ce.apply(this,arguments)}function ge(n){return he.apply(this,arguments)}function he(){return he=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/update",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),he.apply(this,arguments)}function Fe(n){return ve.apply(this,arguments)}function ve(){return ve=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/search",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),ve.apply(this,arguments)}function Ne(n){return Oe.apply(this,arguments)}function Oe(){return Oe=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/list",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),Oe.apply(this,arguments)}function Le(n){return Be.apply(this,arguments)}function Be(){return Be=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/add",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),Be.apply(this,arguments)}function ie(n){return F.apply(this,arguments)}function F(){return F=_asyncToGenerator(_regeneratorRuntime().mark(function n(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/doc/embeddingStatus/".concat(s),{method:"GET"}));case 1:case"end":return t.stop()}},n)})),F.apply(this,arguments)}function J(n){return O.apply(this,arguments)}function O(){return O=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/qa/add",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),O.apply(this,arguments)}function X(n){return I.apply(this,arguments)}function I(){return I=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/qa/list",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),I.apply(this,arguments)}function j(n){return ae.apply(this,arguments)}function ae(){return ae=c()(r()().mark(function n(s){var l;return r()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return l=new FormData,l.append("id",s.id.toString()),re.abrupt("return",(0,C.request)("/api/knowledge/qa/deleteById",{method:"POST",data:l}));case 3:case"end":return re.stop()}},n)})),ae.apply(this,arguments)}function me(n){return Me.apply(this,arguments)}function Me(){return Me=c()(r()().mark(function n(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/knowledge/qa/update",{method:"POST",data:s}));case 1:case"end":return t.stop()}},n)})),Me.apply(this,arguments)}function Se(){return S.apply(this,arguments)}function S(){return S=c()(r()().mark(function n(){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,C.request)("/api/knowledge/qa/downloadExcelTemplate",{method:"GET",responseType:"blob"}));case 1:case"end":return l.stop()}},n)})),S.apply(this,arguments)}function o(n){return f.apply(this,arguments)}function f(){return f=c()(r()().mark(function n(s){var l;return r()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return l=new FormData,l.append("file",s.file),l.append("kbId",s.kbId.toString()),re.abrupt("return",(0,C.request)("/api/knowledge/qa/importExcel",{method:"POST",data:l}));case 4:case"end":return re.stop()}},n)})),f.apply(this,arguments)}},53361:function(Ie,pe,e){e.d(pe,{Cw:function(){return fe},Kt:function(){return x},Y$:function(){return oe},jU:function(){return v},sN:function(){return W},xC:function(){return w}});var te=e(90228),r=e.n(te),M=e(87999),c=e.n(M),C=e(56179);function x(P){return Z.apply(this,arguments)}function Z(){return Z=c()(r()().mark(function P(g){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,C.request)("/api/workflow/add",{method:"POST",data:g}));case 1:case"end":return d.stop()}},P)})),Z.apply(this,arguments)}function W(P){return N.apply(this,arguments)}function N(){return N=c()(r()().mark(function P(g){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,C.request)("/api/workflow/update",{method:"POST",data:g}));case 1:case"end":return d.stop()}},P)})),N.apply(this,arguments)}function v(P,g){return y.apply(this,arguments)}function y(){return y=c()(r()().mark(function P(g,b){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/workflow/copy/".concat(g,"/").concat(b),{method:"POST"}));case 1:case"end":return u.stop()}},P)})),y.apply(this,arguments)}function w(P){return m.apply(this,arguments)}function m(){return m=c()(r()().mark(function P(g){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,C.request)("/api/workflow/delete/".concat(g),{method:"POST"}));case 1:case"end":return d.stop()}},P)})),m.apply(this,arguments)}function fe(P){return p.apply(this,arguments)}function p(){return p=c()(r()().mark(function P(g){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,C.request)("/api/component/list/".concat(g),{method:"GET"}));case 1:case"end":return d.stop()}},P)})),p.apply(this,arguments)}function oe(P){return(0,C.request)("/api/compose/db/table/copyTableDefinition",{method:"POST",params:P})}},99730:function(Ie,pe,e){e.d(pe,{Bj:function(){return W},G6:function(){return w},Gl:function(){return x},og:function(){return fe}});var te=e(90228),r=e.n(te),M=e(87999),c=e.n(M),C=e(56179);function x(g){return Z.apply(this,arguments)}function Z(){return Z=c()(r()().mark(function g(b){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/model/save",{method:"POST",data:b}));case 1:case"end":return u.stop()}},g)})),Z.apply(this,arguments)}function W(g){return N.apply(this,arguments)}function N(){return N=c()(r()().mark(function g(b){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/model/list",{method:"POST",data:b}));case 1:case"end":return u.stop()}},g)})),N.apply(this,arguments)}function v(g){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function g(b){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/model/list/space/".concat(b),{method:"POST"}));case 1:case"end":return u.stop()}},g)})),y.apply(this,arguments)}function w(g){return m.apply(this,arguments)}function m(){return m=c()(r()().mark(function g(b){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/model/".concat(b),{method:"GET"}));case 1:case"end":return u.stop()}},g)})),m.apply(this,arguments)}function fe(g){return p.apply(this,arguments)}function p(){return p=c()(r()().mark(function g(b){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/model/".concat(b,"/delete"),{method:"GET"}));case 1:case"end":return u.stop()}},g)})),p.apply(this,arguments)}function oe(){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function g(){return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",request("/api/model/test",{method:"GET"}));case 1:case"end":return d.stop()}},g)})),P.apply(this,arguments)}},63136:function(Ie,pe,e){e.d(pe,{L:function(){return r},U:function(){return te}});var te=function(M){return M.WORKFLOW_LLM_NODE="WORKFLOW_LLM_NODE",M.AGENT="AGENT",M}({}),r=function(M){return M.prompt="prompt",M.code="code",M.sql="sql",M}({})},65774:function(Ie,pe,e){Ie.exports=e.p+"static/doc_image.5415f2c1.jpg"},35044:function(Ie){Ie.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAH1SURBVEiJvZaxbtNQFIb///q67YDUDAwMDJHqoQ/A2KE3UCkSCwMvgBBTB54A0ZFKIBUhBAxIvEEHhhIHeh+AB2BB6sJQqUtGGtf+WRrHVZI6dm3+6crnHH86v3TuPRwMvj8CzAcSVtL7lRVz4JwboSUxjo/PANwufBtJetsWmHF8/AvA5pxYK2BD8tuCWIfkyyTRyWDwY89732kEmKbpoCSnUTC997eSRGcA1pasGZF8bS3eOOf+VgYCwHDovaTtKoUSTkm+CkN8qgI2AJBlWZmtMyJxB9DBeKyTOPbPvfdLOUQAiGN/D9DPqtCilu2Yk8OceWwFbArsReNRSWVW5x0Oh35Lwi6gLolIunm3QN7xXhjis3PugosSvfedJEFXSiOAEWk2SHUlbAK4W4P9m0yfLAReJ++9HY/RJ/W1YukfU54zV9YYBXUKF3Z4eOg76+vayDJGWYYugAhQJCEi61rKqaVHR8PtILC7gC5/jkYuaxKnkl6EofninLuwk0AQ2KeAHjcBmYDSVPurq+ajc718Hu00Rf2mQTs7vZnBt0B+td1o7spAV4AA7rcNugIk0ZfaBeV1dR5gSfuXu07lB9ien6dbxphlYIWlqld7qbLGBA+Ba/1sBJQDAT34H6ACcOYZagWUAyU+I/UOwNp01W8eNNE/wcEU7Dx0xUMAAAAASUVORK5CYII="}}]);})();
