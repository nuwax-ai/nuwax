"use strict";(()=>{(self.webpackChunknuwax_frontend=self.webpackChunknuwax_frontend||[]).push([[4394],{54816:function($e,Se,n){n.d(Se,{Z:function(){return Ie}});var ge=n(26068),F=n.n(ge),te=n(65574),j=n(76423),i=n(94597),e=n(38683),$=n(32699),v=n(75271),J=n(68595),Ve=J.hj.create({name:"autoCompleteBraces",addProseMirrorPlugins:function(){return[new te.Sy({key:new te.H$("autoCompleteBraces"),props:{handleTextInput:function(t,u,c,s){var g;if(s!=="{")return!1;var m=t.state,f=t.dispatch,R=m.selection,S=R.$from;if(!S.parent.isTextblock)return!1;var l=(g=S.nodeAfter)===null||g===void 0||(g=g.text)===null||g===void 0?void 0:g[0];if(l==="}")return!1;var q=S.parent.textContent.slice(0,S.parentOffset),N=q[q.length-1];if(N&&N.trim()!=="")return!1;var ie=m.tr.insertText("{}",S.pos),re=S.pos+1;return ie.setSelection(te.Bs.create(ie.doc,re)),f(ie),!0}}})]}}),se=n(37062),me=n(41417),Ee=function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=[];if(!a)return u;for(var c=/\{\{([^}]+)\}\}/g,s;(s=c.exec(a))!==null;)u.push({start:t+s.index,end:t+s.index+s[0].length});for(var g=/\{#ToolBlock[\s\S]*?\{#\/ToolBlock#\}/g,m;(m=g.exec(a))!==null;)u.push({start:t+m.index,end:t+m.index+m[0].length});for(var f=/<([a-zA-Z][a-zA-Z0-9_-]*)(?:\s+[^>]*)?>[\s\S]*?<\/\1>/g,R;(R=f.exec(a))!==null;){var S=R[1];(/^[A-Z]/.test(S)||S.includes("_")||S.includes("-"))&&u.push({start:t+R.index,end:t+R.index+R[0].length})}for(var l=/<\/?([a-zA-Z][a-zA-Z0-9_-]*)(?:\s+[^>]*)?\s*\/?>/g,q,N=function(){var re=q[1];if(/^[A-Z]/.test(re)||re.includes("_")||re.includes("-")){var G=t+q.index,fe=t+q.index+q[0].length,_=u.some(function(le){return G>=le.start&&fe<=le.end});_||u.push({start:G,end:fe})}};(q=l.exec(a))!==null;)N();return u},ce=function(a,t,u){return a.some(function(c){return t>=c.start&&t<c.end||u>c.start&&u<=c.end||t<=c.start&&u>=c.end})};function xe(x,a){for(var t=x.doc.resolve(a),u=t.depth;u>0;u--){var c=t.node(u);if(c.type.name==="variableNode")return!0}return!1}function ae(x,a){for(var t=x.doc.resolve(a),u=t.depth;u>0;u--){var c=t.node(u);if(c.type.name==="toolBlockNode")return!0}return!1}var o=J.hj.create({name:"markdownHighlight",addProseMirrorPlugins:function(){return[new te.Sy({key:new te.H$("markdownHighlight"),props:{decorations:function(t){var u=[],c=t.doc,s=new Set;return c.descendants(function(g,m){if(g.isText){var f=g.text||"";if(f&&!(xe(t,m)||ae(t,m))){for(var R=Ee(f,m),S=function(rt,at){return ce(R,rt,at)},l,q=/^(#{1,6})\s+/gm;(l=q.exec(f))!==null;){var N=m+l.index,ie=N+l[0].length,re="".concat(N,"-").concat(ie);if(!(xe(t,N)||ae(t,N)||S(N,ie))&&!s.has(re)){s.add(re),u.push(me.p.inline(N,ie,{class:"md-header-mark"}));var G=Math.min(m+f.length,N+f.length);u.push(me.p.inline(N,G,{class:"md-header-text"}))}}for(var fe=/(\*\*|__)(?![{])[^*_\n]*(?<![}])\1/g;(l=fe.exec(f))!==null;){var _=m+l.index,le=_+l[0].length,ee="".concat(_,"-").concat(le);if(!(xe(t,_)||ae(t,_)||S(_,le))){var p=l[0];p.includes("{{")||p.includes("}}")||s.has(ee)||(s.add(ee),u.push(me.p.inline(_,le,{class:"md-bold"})))}}for(var k=/\*([^*\n]+?)\*/g;(l=k.exec(f))!==null;){var E=l.index,H=E+l[0].length,d=E>0?f[E-1]:"",A=H<f.length?f[H]:"";if(!(d==="*"||A==="*")){var h=m+E,b=m+H,D="".concat(h,"-").concat(b);if(!(xe(t,h)||ae(t,h)||S(h,b))){var O=l[0];O.includes("{{")||O.includes("}}")||s.has(D)||(s.add(D),u.push(me.p.inline(h,b,{class:"md-italic"})))}}}for(var ue=/_([^_\n]+?)_/g;(l=ue.exec(f))!==null;){var we=l.index,ke=we+l[0].length,De=we>0?f[we-1]:"",Te=ke<f.length?f[ke]:"";if(!(De==="_"||Te==="_")){var Le=m+we,je=m+ke,Pe="".concat(Le,"-").concat(je);if(!(xe(t,Le)||ae(t,Le)||S(Le,je))){var Re=l[0];Re.includes("{{")||Re.includes("}}")||s.has(Pe)||(s.add(Pe),u.push(me.p.inline(Le,je,{class:"md-italic"})))}}}for(var w=/`([^`\n]+?)`/g;(l=w.exec(f))!==null;){var Oe=m+l.index,Ke=Oe+l[0].length,Z="".concat(Oe,"-").concat(Ke);if(!(xe(t,Oe)||ae(t,Oe)||S(Oe,Ke))){var ye=l[0];ye.includes("{{")||ye.includes("}}")||s.has(Z)||(s.add(Z),u.push(me.p.inline(Oe,Ke,{class:"md-code"})))}}for(var Ne=/^(\s*)([-*+]|\d+\.)\s+/gm;(l=Ne.exec(f))!==null;){var He=m+l.index,Ze=He+l[0].length,Je="".concat(He,"-").concat(Ze);xe(t,He)||ae(t,He)||S(He,Ze)||s.has(Je)||(s.add(Je),u.push(me.p.inline(He,Ze,{class:"md-list-mark"})))}for(var qe=/^(\s*>\s+)/gm;(l=qe.exec(f))!==null;){var Be=m+l.index,Ae=Be+l[0].length,Fe="".concat(Be,"-").concat(Ae);if(!(xe(t,Be)||ae(t,Be)||S(Be,Ae))&&!s.has(Fe)){s.add(Fe),u.push(me.p.inline(Be,Ae,{class:"md-quote-mark"}));var Xe=Math.min(m+f.length,Be+f.length);u.push(me.p.inline(Be,Xe,{class:"md-quote-text"}))}}for(var Ue=/\[([^\]]+)\]\(([^)]+)\)/g;(l=Ue.exec(f))!==null;){var ze=m+l.index,Ye=ze+l[0].length,_e="".concat(ze,"-").concat(Ye);if(!(xe(t,ze)||ae(t,ze)||S(ze,Ye))){var Qe=l[0];Qe.includes("{{")||Qe.includes("}}")||s.has(_e)||(s.add(_e),u.push(me.p.inline(ze,Ye,{class:"md-link"})))}}for(var et=/~~([^~\n]+?)~~/g;(l=et.exec(f))!==null;){var We=m+l.index,Ge=We+l[0].length,tt="".concat(We,"-").concat(Ge);xe(t,We)||ae(t,We)||S(We,Ge)||s.has(tt)||(s.add(tt),u.push(me.p.inline(We,Ge,{class:"md-strikethrough"})))}}}}),me.EH.create(c,u)}}})]}}),P=n(53450),M=n(5642),U=n(79452),I=n(96736),y=J.hj.create({name:"variableCursorPlaceholder",addProseMirrorPlugins:function(){return[new te.Sy({key:new te.H$("variableCursorPlaceholder"),props:{handleKeyDown:function(t,u){var c=t.state,s=t.dispatch,g=c.selection,m=g.$from,f=g.empty;if(u.key!=="ArrowLeft"&&u.key!=="ArrowRight")return!1;var R=function(p,k){var E=c.doc.resolve(p),H=E.nodeBefore,d=E.nodeAfter;if(k==="left"&&H&&(H.type.name==="variable"||H.type.name==="editableVariable")){var A=E.pos-H.nodeSize;if(p===E.pos)return{isAtVariable:!0,nodePos:A,nodeSize:H.nodeSize}}if(k==="right"&&d&&(d.type.name==="variable"||d.type.name==="editableVariable")){var h=E.pos,b=h+d.nodeSize;if(p===h)return{isAtVariable:!0,nodePos:b,nodeSize:d.nodeSize}}return{isAtVariable:!1}};if(u.key==="ArrowLeft"&&f){var S=m.pos,l=R(S,"left");if(l.isAtVariable){var q=l.nodePos;if(q>=0&&q<=c.doc.content.size){var N=te.Bs.create(c.doc,q),ie=c.tr.setSelection(N);return s(ie),u.preventDefault(),!0}}}if(u.key==="ArrowRight"&&f){var re=m.pos,G=R(re,"right");if(G.isAtVariable){var fe=G.nodePos;if(fe>=0&&fe<=c.doc.content.size){var _=te.Bs.create(c.doc,fe),le=c.tr.setSelection(_);return s(le),u.preventDefault(),!0}}}return!1}}})]}}),ne=n(71445),W=n(59459),he=J.hj.create({name:"variableTextDecoration",addProseMirrorPlugins:function(){return[new te.Sy({key:new te.H$("variableTextDecoration"),props:{decorations:function(t){var u=[],c=t.doc;return c.descendants(function(s,g){if(!(!s.isText||!s.text))for(var m=s.text,f=/\{\{([^}]+)\}\}/g,R;(R=f.exec(m))!==null;){var S=g+R.index,l=S+R[0].length;u.push(me.p.inline(S,l,{class:"variable-text-decoration","data-variable-key":R[1]}))}}),me.EH.create(c,u)}}})]}}),C=n(335),X=n.n(C),be=n(15558),Ce=n.n(be),de=function x(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],u=[].concat(Ce()(t),[a.name]),c=u.join("."),s=c,g={label:a.label||a.name,value:c,key:s,variable:a,children:[]};if(a.children&&a.children.length>0&&(g.children=a.children.map(function(R){return x(R,u)})),a.type.startsWith("array_")){var m=a.type.replace("array_","");if(m==="object"&&a.children&&a.children.length>0){var f=[].concat(Ce()(t),["".concat(a.name,"[0]")]);g.children=a.children.map(function(R){return x(R,f)}),g.isLeaf=!1}else g.isLeaf=!0}return g.isLeaf=!g.children||g.children.length===0,g},B=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(a)?a.map(function(t){return de(t)}):[]},Q=function(a,t){var u=t.split("."),c=function S(l,q,N){var ie;if(N===q.length)return l;var re=q[N],G=re.match(/^(.+)\[(\d+)\]$/);if(G&&N+1<q.length){var fe,_=q[N+1],le=G[2],ee="".concat(l.key,"[").concat(le,"].").concat(_),p=(fe=l.children)===null||fe===void 0?void 0:fe.find(function(A){return A.key===ee});if(p)return S(p,q,N+2)}if(re.startsWith("[")&&re.endsWith("]")){var k,E=re.slice(1,-1),H=(k=l.children)===null||k===void 0?void 0:k.find(function(A){return A.key==="".concat(l.key,"[").concat(E,"]")||A.key==="".concat(l.key,"_index_").concat(E)});if(H)return S(H,q,N+1)}var d=(ie=l.children)===null||ie===void 0?void 0:ie.find(function(A){return A.key==="".concat(l.key,".").concat(re)});return d?S(d,q,N+1):null},s=_createForOfIteratorHelper(a),g;try{for(s.s();!(g=s.n()).done;){var m=g.value,f=u[0].match(/^(.+)\[(\d+)\]$/),R=f?f[1]:u[0];if(m.key===R)return f?c(m,u,0):c(m,u,1)}}catch(S){s.e(S)}finally{s.f()}return null},K=function(a,t){if(!t.trim())return a;var u=function c(s){var g,m=s.label.toLowerCase().includes(t.toLowerCase())||s.key.toLowerCase().includes(t.toLowerCase())||s.value.toLowerCase().includes(t.toLowerCase()),f=((g=s.children)===null||g===void 0?void 0:g.map(function(R){return c(R)}).filter(Boolean))||[];return m||f.length>0?_objectSpread(_objectSpread({},s),{},{children:f}):null};return a.map(function(c){return u(c)}).filter(Boolean)},oe=function(a,t){if(!t.trim())return a;var u=function c(s,g){if(s.key===g)return s;if(s.children&&g.startsWith(s.key+".")){var m=g.substring(s.key.length+1),f=s.children.map(function(R){return c(R,m)});return _objectSpread(_objectSpread({},s),{},{children:f})}return s};return a.map(function(c){return u(c,t)})},r=function(a){return a.key},T=function(a){return"{{".concat(a,"}}")},L=function(a){var t={string:"\u{1F4DD}",integer:"\u{1F522}",boolean:"\u2705",number:"\u2795",object:"\u{1F4E6}",array:"\u{1F4CB}",array_string:"\u{1F4DD}",array_integer:"\u{1F522}",array_boolean:"\u2705",array_number:"\u2795",array_object:"\u{1F4E6}"};return t[a]||"\u{1F4C4}"},V=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",c=(0,v.useMemo)(function(){var g=B(a);if(t&&t.length>0){var m=t.map(function(f,R){return{key:"skill-".concat(f.typeId||f.id||R),value:f.toolName||f.name||"Unknown Tool",label:f.toolName||f.name||"Unknown Tool",isLeaf:!0,variable:{name:f.name,type:"Tool",value:f}}});if(g.length>0)g.push({key:"category-skills",value:"Skills",label:"Skills",isLeaf:!1,children:m,variable:{name:"Skills",type:"Category"}});else return m}return g},[a,t]),s=(0,v.useMemo)(function(){if(!u.trim())return c;var g=function(f,R){var S=R.toLowerCase(),l=function(ie){var re=ie.label.toLowerCase(),G=ie.value.toLowerCase();return re.includes(S)||G.includes(S)},q=function N(ie){var re=[],G=X()(ie),fe;try{for(G.s();!(fe=G.n()).done;){var _=fe.value,le=_.children?N(_.children):[],ee=l(_);(ee||le.length>0)&&re.push(F()(F()({},_),{},{children:le}))}}catch(p){G.e(p)}finally{G.f()}return re};return q(f)};return g(c,u)},[c,u]);return{variableTree:c,displayTree:s}},ve=n(40802),z=n(55654),pe=n(52676),Me=function(a){var t=a.value,u=a.onChange,c=a.variables,s=c===void 0?[]:c,g=a.skills,m=g===void 0?[]:g,f=a.mentions,R=f===void 0?[]:f,S=a.placeholder,l=S===void 0?"\u8F93\u5165 @ \u6216 { \u5F00\u59CB\u4F7F\u7528":S,q=a.disabled,N=q===void 0?!1:q,ie=a.readonly,re=ie===void 0?!1:ie,G=a.className,fe=a.style,_=a.onVariableSelect,le=a.disableMentions,ee=le===void 0?!0:le,p=a.enableMarkdown,k=p===void 0?!1:p,E=a.enableEditableVariables,H=E===void 0?!0:E,d=a.variableMode,A=d===void 0?"text":d,h=a.getEditor,b=e.Z.useToken(),D=b.token,O=v.useCallback(function(Z){if(Z.isEmpty)return"";var ye=Z.getHTML(),Ne=ye.trim();return Ne==="<p></p>"||Ne===`<p></p>
`?"":ye},[]),ue=(0,v.useRef)(s),we=(0,v.useRef)(m);(0,$.isEqual)(ue.current,s)||(ue.current=s),(0,$.isEqual)(we.current,m)||(we.current=m);var ke=ue.current,De=we.current,Te=V(ke,De,""),Le=Te.variableTree,je=(0,v.useMemo)(function(){return!t||t==="<p></p>"||t===`<p></p>
`?"":((0,z.shouldConvertTextToHTML)(t),(0,z.convertTextToHTML)(t,ee,H,A))},[t,ee,H,A]),Pe=(0,v.useRef)(null),Re=(0,v.useRef)(!1),w=(0,j.jE)({extensions:[i.Z,ee?void 0:P.A,U.x,se.F,ne.B,he,I.$,o,y,W.c.configure({variables:Le,enableEditableVariables:H,onSelect:function(ye){var Ne;(Ne=ye.node)!==null&&Ne!==void 0&&Ne.variable&&_&&_(ye.node.variable,ye.value)}}),Ve,ee?void 0:M.C.configure({items:R,onSelect:function(){}})].filter(Boolean),content:je,editable:!re&&!N,enableInputRules:k,enablePasteRules:k,onUpdate:function(ye){var Ne=ye.editor;if(!Re.current){var He=O(Ne);u?.(He)}},onSelectionUpdate:function(ye){var Ne=ye.editor;if(!Re.current){var He=Ne.state.selection.from;Pe.current=He}}},[ee,re,N,O,k]);(0,v.useEffect)(function(){if(w&&!w.isDestroyed){var Z=w.extensionManager.extensions.find(function(ye){return ye.name==="variableSuggestion"});Z&&(Z.options.variables=Le)}},[w,Le]),(0,v.useEffect)(function(){w&&h&&h(w)},[w,h]),(0,v.useEffect)(function(){if(w&&t!==void 0){var Z=t==="<p></p>"||t===`<p></p>
`?"":t,ye=w.getHTML(),Ne=(0,z.extractTextFromHTML)(ye);if(Z===Ne)return;var He=Z;if(Z&&(He=(0,z.convertTextToHTML)(Z,ee,H)),He!==ye){var Ze=w.state.selection,Je=Ze.from,qe=w.isFocused;Re.current=!0,w.commands.setContent(He||"",!1);var Be=w.view.dom,Ae=Be?.closest(".tiptap-variable-input"),Fe=Ae?.scrollTop||0,Xe=Ae?.scrollLeft||0;requestAnimationFrame(function(){try{var Ue=w.state.doc,ze=Je;if(ze>Ue.content.size&&(ze=Ue.content.size),ze>=0&&ze<=Ue.content.size){var Ye=te.Bs.create(Ue,ze),_e=w.state.tr.setSelection(Ye);if(w.view.dispatch(_e),Ae&&(Ae.scrollTop=Fe,Ae.scrollLeft=Xe),qe){var Qe=w.view.dom;Qe&&Qe.focus&&Qe.focus({preventScroll:!0}),Ae&&(Ae.scrollTop=Fe,Ae.scrollLeft=Xe)}}else if(Ue.content.size>0){var et=te.Bs.create(Ue,Ue.content.size),We=w.state.tr.setSelection(et);if(w.view.dispatch(We),Ae&&(Ae.scrollTop=Fe,Ae.scrollLeft=Xe),qe){var Ge=w.view.dom;Ge&&Ge.focus&&Ge.focus({preventScroll:!0}),Ae&&(Ae.scrollTop=Fe,Ae.scrollLeft=Xe)}}}catch{Ae&&(Ae.scrollTop=Fe,Ae.scrollLeft=Xe)}finally{Re.current=!1}})}}},[w,t,ee]),(0,v.useEffect)(function(){if(w){var Z=w.extensionManager.extensions.find(function(ye){return ye.name==="variableSuggestion"});Z&&(Z.options.variables=Le,w.view.dispatch(w.state.tr))}},[w,Le]),(0,v.useEffect)(function(){if(w){var Z=w.extensionManager.extensions.find(function(ye){return ye.name==="mentionSuggestion"});Z&&(Z.options.items=R)}},[w,R]),(0,v.useEffect)(function(){w&&w.setEditable(!re&&!N)},[w,re,N]);var Oe=v.useCallback(function(){var Z;if(w!=null&&(Z=w.view)!==null&&Z!==void 0&&Z.dom){var ye=w.view.dom,Ne=ye.querySelectorAll(".variable-block-chip");Ne.forEach(function(He){He instanceof HTMLElement&&(He.contentEditable="false")})}},[w]);(0,v.useEffect)(function(){var Z;if(w!=null&&(Z=w.view)!==null&&Z!==void 0&&Z.dom){Oe();var ye=new MutationObserver(function(){Oe()});return ye.observe(w.view.dom,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),function(){ye.disconnect()}}},[w,Oe]);var Ke=v.useMemo(function(){if(!w)return t||"";var Z=O(w);return(0,z.extractTextFromHTML)(Z)},[w,t,O]);return v.useEffect(function(){if(w){var Z=function(){var Ne=O(w),He=(0,z.extractTextFromHTML)(Ne),Ze=w.view.dom.closest(".tiptap-editor-wrapper");Ze&&Ze.setAttribute("data-value",He)};return w.on("update",Z),w.on("create",Z),function(){w.off("update",Z),w.off("create",Z)}}},[w,O]),w?(0,pe.jsx)("div",{className:["tiptap-variable-input",G].filter(Boolean).join(" "),style:fe,children:(0,pe.jsxs)("div",{className:"tiptap-editor-wrapper","data-value":Ke,children:[(0,pe.jsx)(j.kg,{editor:w,style:{height:"100%"}}),!t&&(0,pe.jsx)("div",{className:"tiptap-placeholder",style:{position:"absolute",top:4,left:12,right:2,color:D.colorTextPlaceholder,pointerEvents:"none",zIndex:2},children:l})]})}):null},Y=function(a){return(0,pe.jsx)(Me,F()({},a))},Ie=Y},37062:function($e,Se,n){n.d(Se,{F:function(){return i}});var ge=n(68595),F=n(55654),te=["p","br","strong","b","em","i","u","s","strike","code","pre","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","hr","hardBreak"];function j(e){if(!e)return e;var $=/<\/?([a-zA-Z][a-zA-Z0-9]*)(?:\s+[^>]*)?>/g;return e.replace($,function(v,J){var Ve=J.toLowerCase();return te.includes(Ve)?v:(0,F.escapeHTML)(v)})}var i=ge.hj.create({name:"htmlTagProtection",transformPastedHTML:function($){return $&&j($)},transformPastedText:function($){return!$||!/<[^>]+>/.test($)?$:j($)}})},53450:function($e,Se,n){n.d(Se,{A:function(){return F}});var ge=n(68595),F=ge.NB.create({name:"mention",group:"inline",inline:!0,atom:!0,selectable:!1,addAttributes:function(){return{id:{default:null},label:{default:null},type:{default:"user"}}},parseHTML:function(){return[{tag:"span",getAttrs:function(i){var e;return typeof i=="string"?!1:(e=i.classList)!==null&&e!==void 0&&e.contains("mention-node")?{id:i.getAttribute("data-id"),label:i.getAttribute("data-label"),type:i.getAttribute("data-type")||"user"}:!1}}]},renderHTML:function(j){var i=j.HTMLAttributes;return["span",(0,ge.P1)(i,{"data-id":i.id,"data-label":i.label,"data-type":i.type,class:"mention-node"}),"@".concat(i.label||"")]},addNodeView:function(){return function(j){var i=j.node,e=document.createElement("span");return e.className="mention-node",e.setAttribute("data-id",i.attrs.id),e.setAttribute("data-label",i.attrs.label),e.setAttribute("data-type",i.attrs.type),e.textContent="@".concat(i.attrs.label),e.contentEditable="false",{dom:e,update:function(v){return e.textContent!=="@".concat(v.attrs.label)&&(e.textContent="@".concat(v.attrs.label)),e.getAttribute("data-id")!==v.attrs.id&&e.setAttribute("data-id",v.attrs.id),e.getAttribute("data-label")!==v.attrs.label&&e.setAttribute("data-label",v.attrs.label),e.getAttribute("data-type")!==v.attrs.type&&e.setAttribute("data-type",v.attrs.type),!0}}}}})},5642:function($e,Se,n){n.d(Se,{C:function(){return me}});var ge=n(68595),F=n(65574),te=n(71961),j=n(67130),i=n(38751),e=n(38683),$=n(4860),v=n(75271),J=n(52676),Ve=function(ce){var xe=ce.items,ae=ce.selectedIndex,o=ce.onSelect,P=e.Z.useToken(),M=P.token;return xe.length===0?(0,J.jsx)("div",{style:{padding:M.paddingSM,color:M.colorTextTertiary,textAlign:"center"},children:"\u672A\u627E\u5230\u5339\u914D\u9879"}):(0,J.jsx)($.Z,{size:"small",dataSource:xe,style:{maxHeight:"".concat((M.controlHeight||32)*7.5,"px"),overflowY:"auto"},renderItem:function(I,y){return(0,J.jsx)($.Z.Item,{style:{cursor:"pointer",backgroundColor:y===ae?M.colorInfoBg:"transparent",padding:"".concat(M.paddingXXS,"px ").concat(M.paddingSM,"px")},onClick:function(){return o(I)},onMouseEnter:function(W){W.currentTarget.style.backgroundColor=M.colorFillSecondary},onMouseLeave:function(W){y!==ae&&(W.currentTarget.style.backgroundColor="transparent")},children:(0,J.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:M.marginSM},children:[(0,J.jsx)("span",{style:{color:M.colorInfo},children:"@"}),(0,J.jsx)("span",{children:I.label}),I.type&&(0,J.jsx)("span",{style:{fontSize:M.fontSizeSM,color:M.colorTextTertiary,marginLeft:"auto"},children:I.type})]})})}})},se=Ve,me=ge.hj.create({name:"mentionSuggestion",addOptions:function(){return{items:[],onSelect:void 0}},addProseMirrorPlugins:function(){var ce=this,xe=(0,te.ZP)({editor:this.editor,char:"@",allowSpaces:!1,startOfLine:!1,pluginKey:new F.H$("mentionSuggestion"),items:function(o){var P=o.query,M=ce.options.items||[];if(!P)return M;var U=P.toLowerCase();return M.filter(function(I){var y=I.label.toLowerCase(),ne=I.id.toLowerCase();return y.includes(U)||ne.includes(U)})},render:function(){var o;return{onStart:function(M){var U=M.items,I=M.command,y=document.createElement("div");y.className="mention-suggestion-popup",document.body.appendChild(y);var ne=(0,i.createRoot)(y),W="mention-suggestion-".concat(Date.now(),"-").concat(Math.random()),he=0,C=U,X,be=function(K){var oe,r;I({id:K.id,label:K.label,type:K.type});try{ne.unmount()}catch{}document.body.contains(y)&&document.body.removeChild(y),X&&document.removeEventListener("keydown",X),(oe=(r=ce.options).onSelect)===null||oe===void 0||oe.call(r,K)};X=function(K){if(!K.isComposing){if(!document.body.contains(y)){document.removeEventListener("keydown",X);return}if(K.key==="ArrowDown"){K.preventDefault(),he=Math.min(he+1,C.length-1);var oe=(0,J.jsx)(j.ZP,{theme:{cssVar:{prefix:"xagi"}},children:(0,J.jsx)(se,{items:C,selectedIndex:he,onSelect:be})});ne.render(oe)}else if(K.key==="ArrowUp"){K.preventDefault(),he=Math.max(he-1,0);var r=(0,J.jsx)(j.ZP,{theme:{cssVar:{prefix:"xagi"}},children:(0,J.jsx)(se,{items:C,selectedIndex:he,onSelect:be})});ne.render(r)}else K.key==="Enter"?(K.preventDefault(),C[he]&&be(C[he])):K.key==="Escape"&&(K.preventDefault(),ne.unmount(),document.body.contains(y)&&document.body.removeChild(y),document.removeEventListener("keydown",X))}},document.addEventListener("keydown",X);var Ce=(0,J.jsx)(j.ZP,{theme:{cssVar:{prefix:"xagi"}},children:(0,J.jsx)(se,{items:U,selectedIndex:he,onSelect:be})});ne.render(Ce);var de=function(K,oe){return getComputedStyle(document.documentElement).getPropertyValue(K).trim()||oe},B=function(){var K=M.range;if(K){var oe=ce.editor.view.coordsAtPos(K.from);if(oe){var r=parseInt(de("--xagi-control-height","32"))||32,T=300,L=r*7.5,V=window.innerWidth,ve=window.innerHeight,z=oe.left,pe=oe.bottom+10;if(z+T>V&&(z=Math.max(10,V-T-10)),pe+L>ve){var Me=oe.top-L-10;Me>0?pe=Me:pe=Math.max(10,ve-L-10)}y.style.position="fixed",y.style.left="".concat(z,"px"),y.style.top="".concat(pe,"px"),y.style.zIndex=de("--xagi-z-index-popup-base","9999"),y.style.background=de("--xagi-color-bg-container","#fff"),y.style.border="".concat(de("--xagi-line-width","1px")," solid ").concat(de("--xagi-color-border-secondary","#d9d9d9")),y.style.borderRadius=de("--xagi-border-radius","8px"),y.style.boxShadow=de("--xagi-box-shadow","0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 9px 28px 8px rgba(0, 0, 0, 0.05)"),y.style.width="".concat(T,"px"),y.style.height="".concat(L,"px"),y.style.overflow="auto"}}};B(),o={portalId:W,container:y,root:ne,handleKeyDown:X,updatePosition:B,currentItems:U}},onUpdate:function(M){if(o){var U=M.items;o.currentItems=U;var I=0,y=(0,J.jsx)(j.ZP,{theme:{cssVar:{prefix:"xagi"}},children:(0,J.jsx)(se,{items:U,selectedIndex:I,onSelect:function(W){var he,C;M.command({id:W.id,label:W.label,type:W.type}),o.root.unmount(),document.body.contains(o.container)&&document.body.removeChild(o.container),document.removeEventListener("keydown",o.handleKeyDown),(he=(C=ce.options).onSelect)===null||he===void 0||he.call(C,W)}})});o.root.render(y),o.updatePosition()}},onKeyDown:function(M){return M.event.key==="Escape"?(o&&(o.root.unmount(),document.body.contains(o.container)&&document.body.removeChild(o.container),document.removeEventListener("keydown",o.handleKeyDown)),!0):!1},onExit:function(){if(o){try{o.root.unmount()}catch{}document.body.contains(o.container)&&document.body.removeChild(o.container),o.handleKeyDown&&document.removeEventListener("keydown",o.handleKeyDown)}}}},command:function(o){var P=o.editor,M=o.range,U=o.props;P.chain().focus().insertContentAt(M,{type:"mention",attrs:{id:U.id,label:U.label,type:U.type||"user"}}).run()}});return[xe]}})},79452:function($e,Se,n){n.d(Se,{x:function(){return F}});var ge=n(68595),F=ge.NB.create({name:"raw",group:"block",atom:!0,selectable:!0,addAttributes:function(){return{content:{default:"",parseHTML:function(i){var e=i.getAttribute("data-content")||i.textContent||"";return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")},renderHTML:function(i){var e=(i.content||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return{"data-content":e}}},type:{default:"html",parseHTML:function(i){return i.getAttribute("data-type")||"html"},renderHTML:function(i){return{"data-type":i.type}}}}},parseHTML:function(){return[{tag:"pre[data-raw]",getAttrs:function(i){if(typeof i=="string")return!1;var e=i;return{content:e.getAttribute("data-content")||e.textContent||"",type:e.getAttribute("data-type")||"html"}}},{tag:"raw",getAttrs:function(i){if(typeof i=="string")return!1;var e=i;return{content:e.getAttribute("content")||e.textContent||"",type:e.getAttribute("type")||"html"}}}]},renderHTML:function(j){var i=j.HTMLAttributes,e=i.content,$=i.type,v=(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return["pre",(0,ge.P1)(i,{"data-raw":"true","data-content":v,"data-type":$,class:"raw-content",style:"white-space: pre-wrap; word-wrap: break-word;"}),v]},addNodeView:function(){return function(j){var i=j.node,e=document.createElement("pre");return e.className="raw-content",e.setAttribute("data-raw","true"),e.setAttribute("data-content",i.attrs.content||""),e.setAttribute("data-type",i.attrs.type||"html"),e.style.whiteSpace="pre-wrap",e.style.wordWrap="break-word",e.textContent=i.attrs.content||"",e.contentEditable="false",{dom:e,update:function(v){return e.textContent!==(v.attrs.content||"")&&(e.textContent=v.attrs.content||"",e.setAttribute("data-content",v.attrs.content||"")),e.getAttribute("data-type")!==(v.attrs.type||"html")&&e.setAttribute("data-type",v.attrs.type||"html"),!0}}}}})},96736:function($e,Se,n){n.d(Se,{$:function(){return F}});var ge=n(68595),F=ge.NB.create({name:"toolBlock",group:"inline",inline:!0,atom:!0,selectable:!1,addAttributes:function(){return{id:{default:null},type:{default:null},name:{default:null},content:{default:null}}},parseHTML:function(){return[{tag:"span",getAttrs:function(i){var e;return typeof i=="string"?!1:(e=i.classList)!==null&&e!==void 0&&e.contains("tool-block-chip")?{id:i.getAttribute("data-tool-id"),type:i.getAttribute("data-tool-type"),name:i.getAttribute("data-tool-name"),content:i.getAttribute("data-tool-content")||i.textContent}:!1}}]},renderHTML:function(j){var i=j.HTMLAttributes,e=i.id,$=i.type,v=i.name,J=i.content;return["span",(0,ge.P1)(i,{"data-tool-id":e,"data-tool-type":$,"data-tool-name":v,"data-tool-content":J,class:"tool-block-chip"}),J||""]},addNodeView:function(){return function(j){var i=j.node,e=document.createElement("span");return e.className="tool-block-chip",e.setAttribute("data-tool-id",i.attrs.id||""),e.setAttribute("data-tool-type",i.attrs.type||""),e.setAttribute("data-tool-name",i.attrs.name||""),e.setAttribute("data-tool-content",i.attrs.content||""),e.textContent=i.attrs.content||"",e.contentEditable="false",{dom:e,update:function(v){return e.textContent!==(v.attrs.content||"")&&(e.textContent=v.attrs.content||""),e.getAttribute("data-tool-id")!==(v.attrs.id||"")&&e.setAttribute("data-tool-id",v.attrs.id||""),e.getAttribute("data-tool-type")!==(v.attrs.type||"")&&e.setAttribute("data-tool-type",v.attrs.type||""),e.getAttribute("data-tool-name")!==(v.attrs.name||"")&&e.setAttribute("data-tool-name",v.attrs.name||""),e.getAttribute("data-tool-content")!==(v.attrs.content||"")&&e.setAttribute("data-tool-content",v.attrs.content||""),!0}}}}})},71445:function($e,Se,n){n.d(Se,{B:function(){return te}});var ge=n(68595),F=n(65574),te=ge.NB.create({name:"variable",group:"inline",inline:!0,atom:!0,selectable:!0,addAttributes:function(){return{key:{default:null},label:{default:null}}},parseHTML:function(){return[{tag:"span",getAttrs:function(e){var $;return typeof e=="string"?!1:($=e.classList)!==null&&$!==void 0&&$.contains("variable-block-chip")?{key:e.getAttribute("data-key")||e.getAttribute("data-variable-name"),label:e.getAttribute("data-label")}:!1},skip:!1}]},renderHTML:function(i){var e=i.HTMLAttributes,$=e.key,v=e.label;return["span",(0,ge.P1)(e,{"data-key":$,"data-label":v,"data-variable-name":$,class:"variable-block-chip"}),"\u200B"+$+"\u200B"]},addNodeView:function(){return function(i){var e=i.node,$=i.getPos,v=i.editor,J=document.createElement("span");J.style.display="inline";var Ve=document.createElement("span");Ve.textContent="{{",Ve.contentEditable="false",Ve.style.userSelect="none";var se=document.createElement("span");se.className="variable-block-chip",se.setAttribute("data-key",e.attrs.key),se.setAttribute("data-label",e.attrs.label),se.setAttribute("data-variable-name",e.attrs.key),se.textContent=e.attrs.key,se.contentEditable="false";var me=document.createElement("span");return me.textContent="}}",me.contentEditable="false",me.style.userSelect="none",J.appendChild(Ve),J.appendChild(se),J.appendChild(me),J.addEventListener("mousedown",function(Ee){var ce=typeof $=="function"?$():null;if(ce!=null){var xe=Ee.target;if(xe===Ve||xe===me||xe===se){var ae=v.view,o=ae.state,P=ae.dispatch,M=J.getBoundingClientRect(),U=Ee.clientX,I=U-M.left,y=Ve.getBoundingClientRect().width,ne=se.getBoundingClientRect().width,W;if(I<y)W=ce;else if(I<y+ne){var he=I-y;W=he<ne/2?ce:ce+e.nodeSize}else W=ce+e.nodeSize;if(W>=0&&W<=o.doc.content.size){Ee.preventDefault(),Ee.stopPropagation();var C=F.Bs.create(o.doc,W),X=o.tr.setSelection(C);P(X),setTimeout(function(){v.view.focus()},0)}}}}),{dom:J,update:function(ce){return se.getAttribute("data-key")!==ce.attrs.key&&(se.setAttribute("data-key",ce.attrs.key),se.setAttribute("data-variable-name",ce.attrs.key)),se.getAttribute("data-label")!==ce.attrs.label&&se.setAttribute("data-label",ce.attrs.label),se.textContent!==ce.attrs.key&&(se.textContent=ce.attrs.key),!0}}}}})},59459:function($e,Se,n){n.d(Se,{c:function(){return Ce}});var ge=n(15558),F=n.n(ge),te=n(26068),j=n.n(te),i=n(335),e=n.n(i),$=n(68595),v=n(65574),J=n(71961),Ve=n(67130),se=n(38751),me=n(48305),Ee=n.n(me),ce=n(78278),xe=n(38683),ae=n(29328),o=n(47548),P=n(75271),M=n(40802),U=function(B){var Q=[],K=function oe(r){var T=e()(r),L;try{for(T.s();!(L=T.n()).done;){var V,ve,z=L.value,pe=z.key.startsWith("skill-")||((V=z.variable)===null||V===void 0?void 0:V.type)==="Tool";Q.push({key:z.key,label:z.label,value:z.value,node:z,isTool:pe&&z.isLeaf,toolData:pe&&z.isLeaf?(ve=z.variable)===null||ve===void 0?void 0:ve.value:void 0}),z.children&&z.children.length>0&&oe(z.children)}}catch(Me){T.e(Me)}finally{T.f()}};return K(B),Q},I=function(B){var Q=B.typeId||B.id,K=B.type,oe=B.name,r=B.toolName||B.name;return'{#ToolBlock id="'.concat(Q,'" type="').concat(K,'" name="').concat(oe,'"#}').concat(r,"{#/ToolBlock#}")},y=n(52676),ne=function(B){return null},W=function de(B,Q){var K=function(L,V){return typeof window>"u"?V:getComputedStyle(document.documentElement).getPropertyValue(L).trim()||V},oe={marginSM:parseInt(K("--xagi-margin-sm","8"))||8,fontSizeSM:parseInt(K("--xagi-font-size-sm","12"))||12,colorSuccess:K("--xagi-color-success","#52c41a"),colorTextTertiary:K("--xagi-color-text-tertiary","#8c8c8c"),fontFamilyCode:K("--xagi-font-family-code",'Monaco, Menlo, "Courier New", monospace')},r=j()(j()({},oe),Q);return B.map(function(T){var L=T.variable,V=L?.type||"unknown";return{title:(0,y.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:r.marginSM,whiteSpace:"nowrap",width:"100%"},children:[(0,y.jsx)("span",{style:{flex:1,fontSize:r.fontSizeSM,overflow:"hidden",textOverflow:"ellipsis"},children:T.label}),(0,y.jsx)("span",{style:{fontSize:"11px",color:r.colorTextTertiary,flexShrink:0},children:V})]}),key:T.key,value:T.value,selectable:!0,disabled:!1,children:T.children?de(T.children,Q):void 0}})};function he(de,B){var Q=e()(de),K;try{for(Q.s();!(K=Q.n()).done;){var oe=K.value;if(oe.key===B)return oe;if(oe.children){var r=he(oe.children,B);if(r)return r}}}catch(T){Q.e(T)}finally{Q.f()}return null}var C=function(B){var Q=B.tree,K=B.selectedIndex,oe=B.onSelect,r=B.searchText,T=r===void 0?"":r,L=B.flatItems,V=B.showTabs,ve=V===void 0?!1:V,z=B.activeTab,pe=z===void 0?"variables":z,Me=B.onTabChange,Y=B.regularVariables,Ie=Y===void 0?[]:Y,x=B.toolVariables,a=x===void 0?[]:x,t=B.onClose,u=B.excludeRefs,c=u===void 0?[]:u,s=B.excludeElement,g=xe.Z.useToken(),m=g.token,f=(0,P.useState)([]),R=Ee()(f,2),S=R[0],l=R[1],q=(0,P.useState)([]),N=Ee()(q,2),ie=N[0],re=N[1],G=(0,P.useRef)(null),fe=(0,P.useMemo)(function(){var d=[];return c&&c.length>0&&d.push.apply(d,F()(c)),s&&d.push({current:s}),d},[c,s]),_=(0,P.useCallback)(function(){t&&t()},[t]);(0,ce.Z)(G,_,fe,["variable-suggestion-popup","mention-suggestion-popup","tiptap-editor-wrapper","ProseMirror"]);var le=(0,P.useMemo)(function(){var d=L&&L.length>0?L:U(Q);return d},[Q,L]);P.useEffect(function(){if(K>=0&&K<le.length){var d=le[K];if(d){re([d.key]);var A=function h(b,D){var O=e()(b),ue;try{var we=function(){var Te=ue.value;if(Te.key===D)return{v:Te.key};if(Te.children){var Le=h(Te.children,D);if(Le){var je=Te.key;return l(function(Pe){return Pe.includes(je)?Pe:[].concat(F()(Pe),[je])}),{v:Le}}}},ke;for(O.s();!(ue=O.n()).done;)if(ke=we(),ke)return ke.v}catch(De){O.e(De)}finally{O.f()}return null};A(Q,d.key),setTimeout(function(){if(G.current){var h=Q.every(function(Pe){var Re;return Pe.isLeaf&&(Pe.key.startsWith("skill-")||((Re=Pe.variable)===null||Re===void 0?void 0:Re.type)==="Tool")}),b=h&&Q.length>0&&!Q.some(function(Pe){return Pe.key==="category-skills"}),D=G.current.querySelector(".ant-tabs-content-holder")||G.current;if(b){var O=G.current.querySelector(".variable-tool-list-container");if(O){var ue=O.querySelectorAll(".variable-tool-list-item"),we=ue[K];if(we){var ke=D.getBoundingClientRect(),De=we.getBoundingClientRect();(De.top<ke.top||De.bottom>ke.bottom)&&we.scrollIntoView({behavior:"smooth",block:"nearest"})}}}else{var Te=G.current.querySelector(".ant-tree-node-selected");if(Te){var Le=D.getBoundingClientRect(),je=Te.getBoundingClientRect();(je.top<Le.top||je.bottom>Le.bottom)&&Te.scrollIntoView({behavior:"smooth",block:"nearest"})}}}},50)}}},[K,le,Q]),P.useEffect(function(){if(T.trim()){var d=function A(h){return h.flatMap(function(b){return[b.key].concat(F()(b.children?A(b.children):[]))})};l(d(Q))}},[Q,T]);var ee=(0,P.useMemo)(function(){return W(Q,m)},[Q,m]),p=function(A){if(A.length!==0){var h=A[0],b=he(Q,h);if(b){var D,O,ue=b.key.startsWith("skill-")||((D=b.variable)===null||D===void 0?void 0:D.type)==="Tool",we={key:b.key,label:b.label,value:b.value,node:b,isTool:ue&&b.isLeaf,toolData:ue&&b.isLeaf?(O=b.variable)===null||O===void 0?void 0:O.value:void 0};oe(we);return}var ke=ee.flatMap(function(Re){var w=function Oe(Ke){var Z=[Ke];return Ke.children&&Z.push.apply(Z,F()(Ke.children.flatMap(Oe))),Z};return w(Re)}).find(function(Re){return Re.key===h});if(ke){var De=le.find(function(Re){return Re.key===ke.key||Re.value===ke.value});if(De)oe(De);else{var Te=he(Q,h);if(Te){var Le,je,Pe=Te.key.startsWith("skill-")||((Le=Te.variable)===null||Le===void 0?void 0:Le.type)==="Tool";oe({key:Te.key,label:Te.label,value:Te.value,node:Te,isTool:Pe&&Te.isLeaf,toolData:Pe&&Te.isLeaf?(je=Te.variable)===null||je===void 0?void 0:je.value:void 0})}}}}},k=function(A){var h=A.title;return(0,y.jsx)("div",{onClick:function(D){D.stopPropagation();var O=D.target;if(!O.closest(".ant-tree-switcher")){var ue=[A.key];p(ue)}},style:{width:"100%",cursor:"pointer"},children:h})},E=function(A){if(!A||A.length===0)return(0,y.jsx)("div",{style:{padding:m.paddingSM,color:m.colorTextTertiary,textAlign:"center"},children:"\u672A\u627E\u5230\u5339\u914D\u53D8\u91CF"});var h=Q.every(function(b){var D;return b.isLeaf&&(b.key.startsWith("skill-")||((D=b.variable)===null||D===void 0?void 0:D.type)==="Tool")});return h&&Q.length>0&&!Q.some(function(b){return b.key==="category-skills"})?(0,y.jsx)("div",{className:"variable-tool-list-container",children:le.map(function(b,D){var O=K===D;return(0,y.jsx)("div",{onClick:function(){oe(b)},className:"variable-tool-list-item ".concat(O?"selected":""),children:(0,y.jsxs)("div",{className:"variable-tool-list-item-content",children:[(0,y.jsx)("span",{className:"variable-tool-list-item-label",children:b.label}),(0,y.jsx)("span",{className:"variable-tool-list-item-type",children:"Tool"})]})},b.key)})}):(0,y.jsx)(ae.Z,{treeData:A,expandedKeys:S,selectedKeys:ie,onExpand:function(D){l(D)},onSelect:p,titleRender:k,showIcon:!1,selectable:!0,blockNode:!0,virtual:!0})};if(ve){var H=[{key:"variables",label:"\u53D8\u91CF",children:E(W(Ie,m))},{key:"tools",label:"\u5DE5\u5177",children:E(W(a,m))}];return(0,y.jsx)("div",{ref:G,className:"variable-suggestion-tabs css-var-r0",children:(0,y.jsx)(o.Z,{activeKey:pe,onChange:Me,items:H,size:"small",tabBarStyle:{padding:"0 ".concat(m.paddingSM,"px"),margin:0}})})}return(0,y.jsx)("div",{ref:G,className:"css-var-r0 scroll-container",style:{height:"100%"},children:E(ee)})},X=C,be=n(55654),Ce=$.hj.create({name:"variableSuggestion",addOptions:function(){return{variables:[],searchText:"",onSelect:void 0,enableEditableVariables:!0,variableMode:"text"}},addProseMirrorPlugins:function(){var B=this,Q=function(r){if(!r||r.startsWith("}"))return"";var T=r.indexOf("}"),L=r.indexOf(" ");return T===-1&&L===-1?r:T!==-1&&L!==-1?r.substring(0,Math.min(T,L)):T!==-1?r.substring(0,T):L!==-1?r.substring(0,L):r},K=(0,J.ZP)({editor:this.editor,char:"{",allowSpaces:!1,startOfLine:!1,pluginKey:new v.H$("variableSuggestion"),allowedPrefixes:null,allow:function(r){var T=r.state,L=r.editor,V=T.selection.$from;try{var ve=T.doc.textBetween(Math.max(0,V.pos-10),V.pos,`
`,`
`),z=T.doc.textBetween(V.pos,Math.min(T.doc.content.size,V.pos+10),`
`,`
`),pe=ve.slice(-2);if(pe.endsWith("}")||pe.endsWith("}}")){var Me=ve.lastIndexOf("}}");if(Me!==-1){var Y=ve.length-Me;if(Y<=2){var Ie=ve.substring(Me+2),x=z.slice(0,2);if(!(Ie==="{"&&x.startsWith("{")))return!1}}else if(pe.endsWith("}"))return!1}var a=L.getHTML();if(!a)return!0;var t=(0,be.extractTextFromHTML)(a);if(!t)return!0;for(var u=T.doc.textBetween(0,V.pos,`
`,`
`),c=[],s=[],g=0;g<t.length;){var m=t.indexOf("}}",g);if(m!==-1)c.push(m),g=m+2;else break}for(g=0;g<t.length;){var f=t.indexOf("{{",g);if(f!==-1)s.push(f),g=f+2;else break}var R=u.length;if(ve.includes("}}")&&z.includes("{{")){var S=ve.slice(-1);if(S!=="{"){var l=e()(c),q;try{for(l.s();!(q=l.n()).done;){var N=q.value;if(N<R+20){var ie=e()(s),re;try{for(ie.s();!(re=ie.n()).done;){var G=re.value;if(G>R-20){var fe=t.substring(N+2,G);if(!fe.includes("}}")&&!fe.includes("{{"))return!1}}}catch(d){ie.e(d)}finally{ie.f()}}}}catch(d){l.e(d)}finally{l.f()}}}var _=t.lastIndexOf("}}");if(_!==-1){var le=t.length-_;if(le<=15){var ee=t.substring(_+2),p=ee.indexOf("{{")!==-1;if(!p&&!z.includes("{{")){var k=ve.lastIndexOf("}}");if(k!==-1){var E=ve.length-k;if(E<=5){var H=ve.slice(k+2);if(!H.includes("{"))return!1}}}}}return!0}catch{return!0}},items:function(r){var T=r.query,L=B.options.variables||[];if(!T||T.trim()===""||T.startsWith("}"))return Array.isArray(L)&&L.length>0?L:[];var V=Q(T);if(!V||V.trim()==="")return Array.isArray(L)&&L.length>0?L:[];var ve=V.toLowerCase(),z=function pe(Me){return Me.map(function(Y){var Ie=Y.label.toLowerCase().includes(ve)||Y.value.toLowerCase().includes(ve),x=Y.children?pe(Y.children):[];return Ie||x.length>0?j()(j()({},Y),{},{children:x}):null}).filter(Boolean)};return z(L)},render:function(){var r;return{onStart:function(L){var V,ve=L.items,z=L.query,pe=L.command,Me=Q(z||""),Y=document.createElement("div");Y.className="variable-suggestion-popup",document.body.appendChild(Y);var Ie=(0,se.createRoot)(Y),x="variable-suggestion-".concat(Date.now(),"-").concat(Math.random()),a=((V=B.editor)===null||V===void 0||(V=V.view)===null||V===void 0?void 0:V.dom)||null,t=function ee(p){var k=[];if(!p||!Array.isArray(p)||p.length===0)return k;var E=e()(p),H;try{for(E.s();!(H=E.n()).done;){var d,A,h=H.value;if(h){var b=h.isLeaf&&h.key.startsWith("skill-")||h.isLeaf&&((d=h.variable)===null||d===void 0?void 0:d.type)==="Tool";k.push({key:h.key,label:h.label,value:h.value,node:h,isTool:b&&h.isLeaf,toolData:b&&h.isLeaf?(A=h.variable)===null||A===void 0?void 0:A.value:void 0}),h.children&&h.children.length>0&&k.push.apply(k,F()(ee(h.children)))}}}catch(D){E.e(D)}finally{E.f()}return k},u=function(p){var k=[],E=[],H=p.find(function(O){return O.key==="category-skills"});if(H)E.push.apply(E,F()(H.children||[])),k.push.apply(k,F()(p.filter(function(O){return O.key!=="category-skills"})));else{var d=e()(p),A;try{for(d.s();!(A=d.n()).done;){var h,b=A.value,D=b.key.startsWith("skill-")||((h=b.variable)===null||h===void 0?void 0:h.type)==="Tool";D?E.push(b):k.push(b)}}catch(O){d.e(O)}finally{d.f()}}return{regularVars:k,toolVars:E}},c=u(ve),s=c.regularVars,g=c.toolVars,m=s.length>0,f=g.length>0,R=m&&f,S="variables";!m&&f&&(S="tools");var l=function(p,k,E){return R?p==="variables"?k:E:ve},q=t(l(S,s,g)),N=null,ie=function(){try{Ie.unmount()}catch{}document.body.contains(Y)&&document.body.removeChild(Y),N&&document.removeEventListener("keydown",N),r=null},re=function(p){try{if(p.isTool&&p.toolData){var k=p.toolData.typeId||p.toolData.id,E=p.toolData.type||"undefined",H=p.toolData.name,d=p.toolData.toolName||p.toolData.name;pe({type:"toolBlock",attrs:{id:k,type:E,name:H,content:d}})}else{var A=B.options.enableEditableVariables!==!1;pe({type:A?"editableVariable":"variable",attrs:{key:p.key,label:p.label}})}}catch{}finally{var h,b;ie(),(h=(b=B.options).onSelect)===null||h===void 0||h.call(b,p)}},G=function ee(p,k,E,H,d,A,h,b){if(document.body.contains(Y))try{var D=(0,y.jsx)(Ve.ZP,{theme:{cssVar:{prefix:"xagi"}},children:(0,y.jsx)(X,{tree:E,selectedIndex:p,onSelect:re,searchText:b,flatItems:k,showTabs:h,activeTab:H,onTabChange:function(ue){if(S=ue,r){r.activeTab=ue;var we=l(ue,d,A);r.flatItems=t(we),r.selectedIndex=0,ee(0,r.flatItems,we,ue,d,A,h,b)}},regularVariables:d,toolVariables:A,onClose:ie,excludeElement:a})});Ie.render(D)}catch{}};G(0,q,l(S,s,g),S,s,g,R,Me);var fe=function(p){if(!r||!document.body.contains(Y)){N&&document.removeEventListener("keydown",N);return}if(!p.isComposing){var k=r.flatItems,E=r.activeTab,H=r.regularVars,d=r.toolVars,A=r.showTabs,h=r.searchText||Me;if(p.key==="ArrowUp"){p.preventDefault(),r.selectedIndex=(r.selectedIndex-1+k.length)%k.length,G(r.selectedIndex,k,l(E,H,d),E,H,d,A,h);return}if(p.key==="ArrowDown"){p.preventDefault(),r.selectedIndex=(r.selectedIndex+1)%k.length,G(r.selectedIndex,k,l(E,H,d),E,H,d,A,h);return}if(p.key==="Enter"){if(k.length>0){p.preventDefault(),p.stopPropagation();var b=k[r.selectedIndex];b&&re(b)}return}if(p.key==="Escape"){p.preventDefault(),ie();return}if(A&&p.key==="Tab"){p.preventDefault();var D=E==="variables"?"tools":"variables";r.activeTab=D;var O=l(D,H,d);r.flatItems=t(O),r.selectedIndex=0,G(0,r.flatItems,O,D,H,d,A,h);return}}},_=function(p,k){return getComputedStyle(document.documentElement).getPropertyValue(p).trim()||k},le=function(){var p=L.range;if(p){var k=B.editor.view.coordsAtPos(p.from);if(k){var E=parseInt(_("--xagi-control-height","32"))||32,H=300,d=E*7.5,A=window.innerWidth,h=window.innerHeight,b=k.left,D=k.bottom+10;if(b+H>A&&(b=Math.max(10,A-H-10)),D+d>h){var O=k.top-d-10;O>0?D=O:D=Math.max(10,h-d-10)}Y.style.position="fixed",Y.style.left="".concat(b,"px"),Y.style.top="".concat(D,"px"),Y.style.zIndex=_("--xagi-z-index-popup-base","9999"),Y.style.background=_("--xagi-color-bg-container","#fff"),Y.style.border="".concat(_("--xagi-line-width","1px")," solid ").concat(_("--xagi-color-border-secondary","#d9d9d9")),Y.style.borderRadius=_("--xagi-border-radius","8px"),Y.style.boxShadow=_("--xagi-box-shadow","0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 9px 28px 8px rgba(0, 0, 0, 0.05)"),Y.style.width="".concat(H,"px"),Y.style.height="".concat(d,"px"),Y.style.overflow="hidden"}}};N=fe,document.addEventListener("keydown",fe),r={portalId:x,container:Y,root:Ie,selectedIndex:0,handleKeyDown:fe,activeTab:S,regularVars:s,toolVars:g,flatItems:q,showTabs:R,searchText:Me,updateRender:G,flattenTree:t,separateVariables:u,getCurrentTree:l},le()},onUpdate:function(L){var V=L.items,ve=L.query;if(r){var z=Q(ve||""),pe=r.separateVariables(V),Me=pe.regularVars,Y=pe.toolVars,Ie=Me.length>0,x=Y.length>0,a=Ie&&x;r.regularVars=Me,r.toolVars=Y,r.showTabs=a,r.searchText=z,r.activeTab==="variables"&&!Ie&&x?r.activeTab="tools":r.activeTab==="tools"&&!x&&Ie&&(r.activeTab="variables");var t=r.getCurrentTree(r.activeTab,Me,Y);r.flatItems=r.flattenTree(t),r.selectedIndex>=r.flatItems.length&&(r.selectedIndex=0),r.updateRender(r.selectedIndex,r.flatItems,t,r.activeTab,Me,Y,a,z)}},onKeyDown:function(L){if(L.event.key==="Escape"){if(r){var V=function(){try{r.root.unmount()}catch{}document.body.contains(r.container)&&document.body.removeChild(r.container),r.handleKeyDown&&document.removeEventListener("keydown",r.handleKeyDown),r=null};V()}return!0}return!!(L.event.key==="Enter"&&r&&r.flatItems&&r.flatItems.length>0)},onExit:function(){if(r){var L=function(){try{r.root.unmount()}catch{}document.body.contains(r.container)&&document.body.removeChild(r.container),r.handleKeyDown&&document.removeEventListener("keydown",r.handleKeyDown),r=null};L()}}}},command:function(r){var T=r.editor,L=r.range,V=r.props;if(V.type==="toolBlock"){var ve=L.from,z=L.to,pe=T.view.state,Me=pe.doc,Y=Me.textBetween(z,z+1);Y==="}"&&(z=z+1),T.chain().focus().deleteRange({from:ve,to:z}).insertContent({type:"toolBlock",attrs:V.attrs}).run(),setTimeout(function(){var le=T.state.selection.from;T.commands.setTextSelection(le)},0)}else{var Ie,x=L.from,a=L.to,t=B.options.enableEditableVariables!==!1,u=T.view.state,c=u.doc,s=function(){if(x===a)return null;var ee=c.textBetween(x,x+1);if(ee!=="{")return null;var p=x>0?c.textBetween(x-1,x):"";if(p==="{"){var k=x-1,E=200,H=c.textBetween(x+1,Math.min(c.content.size,x+1+E),`
`,`
`),d=H.indexOf("}}");if(d===-1)return null;var A=x+1+d+2;if(a>x&&a<=A)return{from:k,to:A}}else{if(a<=x)return null;var h=200,b=Math.max(0,x-h),D=c.textBetween(b,x,`
`,`
`),O=D.lastIndexOf("{{");if(O===-1)return null;var ue=b+O,we=c.textBetween(ue+2,Math.min(c.content.size,ue+2+h),`
`,`
`),ke=we.indexOf("}}");if(ke===-1)return null;var De=ue+2+ke+2;if(x>ue+1&&a>x&&a<=De)return{from:ue,to:De}}return null},g=s();if(g)x=g.from,a=g.to;else{var m=a+1<=c.content.size?c.textBetween(a,a+1):"",f=a+2<=c.content.size?c.textBetween(a+1,a+2):"",R=m==="}"||f==="}";R&&(m==="}"?a=a+1:f==="}"&&(a=a+2))}var S=((Ie=V.attrs)===null||Ie===void 0?void 0:Ie.key)||V.key||"",l="{{"+S+"}}",q=B.options.variableMode||"text";if(t)if(q==="text")T.chain().focus().deleteRange({from:x,to:a}).insertContent(l).run(),setTimeout(function(){T.commands.setTextSelection(x+l.length)},0);else if(q==="mark"){var N;T.chain().focus().deleteRange({from:x,to:a}).insertContent(l).run();var ie=x,re=x+l.length;T.chain().setTextSelection({from:ie,to:re}).setMark("editableVariable",{key:S,label:((N=V.attrs)===null||N===void 0?void 0:N.label)||V.label||""}).setTextSelection(re).run()}else{var G;T.chain().focus().deleteRange({from:x,to:a}).insertContent({type:"editableVariable",attrs:{key:S,label:((G=V.attrs)===null||G===void 0?void 0:G.label)||V.label||""},content:[{type:"text",text:l}]}).run(),setTimeout(function(){var le=T.state.selection.from;T.commands.setTextSelection(le)},0)}else{var fe,_;T.chain().focus().deleteRange({from:x,to:a}).insertContent({type:"variable",attrs:{key:((fe=V.attrs)===null||fe===void 0?void 0:fe.key)||V.key||"",label:((_=V.attrs)===null||_===void 0?void 0:_.label)||V.label||"",isTool:!1}}).run(),requestAnimationFrame(function(){for(var le=T.view,ee=le.state,p=le.dispatch,k=ee.selection,E=ee.doc,H=k.$from,d=-1,A=0,h=200,b=Math.max(0,H.pos-h),D=H.pos;D>=b;D--)try{for(var O=E.resolve(D),ue=O.depth;ue>=0;ue--){var we=O.node(ue);if(we&&we.type.name==="variable"){var ke=O.start(ue),De=ke+we.nodeSize;if(ke<=H.pos&&H.pos<=De){d=ke,A=we.nodeSize;break}}}if(d>=0)break}catch{}if(d>=0&&A>0){var Te=d+A;if(Te<=E.content.size){var Le=v.Bs.create(E,Te),je=ee.tr.setSelection(Le);p(je)}}})}}}});return[K]}})},53523:function($e,Se,n){n.d(Se,{x:function(){return ge}});var ge=function(F){return F.String="string",F.Integer="integer",F.Boolean="boolean",F.Number="number",F.Object="object",F.Array="array",F.ArrayString="array_string",F.ArrayInteger="array_integer",F.ArrayBoolean="array_boolean",F.ArrayNumber="array_number",F.ArrayObject="array_object",F}({})},55654:function($e,Se,n){n.r(Se),n.d(Se,{EVENT_TAG_REGEX:function(){return ge},cleanHTMLParagraphs:function(){return Ve},convertTextToHTML:function(){return se},convertToRawNodeHTML:function(){return ce},escapeCustomHTMLTags:function(){return $},escapeEventTags:function(){return e},escapeHTML:function(){return F},escapeUnsupportedHTMLTags:function(){return i},extractRawNodeContents:function(){return xe},extractTextFromHTML:function(){return J},shouldConvertTextToHTML:function(){return me},shouldUseRawNode:function(){return Ee}});var ge=/<div\s+class="event"\s+event-type="[^"]*"\s+data='[^']*'>\[([^\]]*)\]<\/div>/g,F=function(o){return o?o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""},te=["p","br","strong","b","em","i","u","s","strike","code","pre","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","hr","hardBreak"],j=["tool-block-chip","variable-block-chip","variable-block-chip-editable","mention-node","raw-content"],i=function(o){if(!o)return o;var P=/<\/?([a-zA-Z][a-zA-Z0-9]*)(?:\s+[^>]*)?>|<([a-zA-Z][a-zA-Z0-9]*)\s+[^>]*>/g;return o.replace(P,function(M,U,I){var y=U||I,ne=y.toLowerCase();if(te.includes(ne))return M;if(ne==="span"){var W=j.some(function(he){return M.includes('class="'.concat(he,'"'))||M.includes("class='".concat(he,"'"))});if(W)return M}return F(M)})},e=function(o){return o?o.replace(ge,function(P){return P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}):""},$=function(o){if(!o)return"";var P=["html","head","body","title","meta","link","script","style","base","p","br","hr","span","div","strong","b","em","i","u","s","strike","del","ins","sub","sup","small","big","mark","abbr","address","cite","q","blockquote","code","pre","kbd","samp","var","h1","h2","h3","h4","h5","h6","ul","ol","li","dl","dt","dd","a","img","audio","video","source","track","picture","figure","figcaption","map","area","canvas","svg","iframe","embed","object","param","table","caption","colgroup","col","thead","tbody","tfoot","tr","th","td","form","input","button","select","option","optgroup","textarea","label","fieldset","legend","datalist","output","progress","meter","header","footer","main","nav","aside","section","article","details","summary","dialog","menu","menuitem","template","slot","noscript","wbr","bdi","bdo","ruby","rt","rp","data","time","font","center","tt","frame","frameset","noframes"],M=function(W){return P.includes(W.toLowerCase())},U=function(W){return M(W)?!1:!!(/^[A-Z]/.test(W)||W.includes("_")||W.includes("-"))},I=/<\/?([a-zA-Z][a-zA-Z0-9_-]*)(?:\s+[^>]*)?\s*\/?>/g,y=o.replace(I,function(ne,W){return ne.includes("&lt;")||ne.includes("&gt;")?ne:U(W)?ne.replace(/</g,"&lt;").replace(/>/g,"&gt;"):ne});return y},v=/<\/?([a-zA-Z][a-zA-Z0-9]*)(?:\s+[^>]*)?>/g,J=function(o){if(!o)return"";var P=o.replace(v,function(C,X){var be=X.toLowerCase();if(te.includes(be))return C;if(be==="span"){var Ce=j.some(function(de){return C.includes('class="'.concat(de,'"'))||C.includes("class='".concat(de,"'"))});if(Ce)return C}return C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),M=document.createElement("div");M.innerHTML=P;var U=M.querySelectorAll("span.tool-block-chip");U.forEach(function(C){var X,be=C.getAttribute("data-tool-id")||"",Ce=C.getAttribute("data-tool-type")||"undefined",de=C.getAttribute("data-tool-name")||"",B=C.getAttribute("data-tool-content")||C.textContent||"",Q='{#ToolBlock id="'.concat(be,'" type="').concat(Ce,'" name="').concat(de,'"#}').concat(B,"{#/ToolBlock#}"),K=document.createTextNode(Q);(X=C.parentNode)===null||X===void 0||X.replaceChild(K,C)});var I=M.querySelectorAll("span.variable-block-chip, span.variable-block-chip-editable");I.forEach(function(C){var X,be=C.getAttribute("data-key")||C.getAttribute("data-variable-name")||"";if(!be){var Ce=C.textContent||"",de=Ce.match(/\{\{([^}]+)\}\}/);de?be=de[1]:be=Ce.trim()}var B=document.createTextNode("{{".concat(be,"}}"));(X=C.parentNode)===null||X===void 0||X.replaceChild(B,C)});var y=M.querySelectorAll("span.mention-node");y.forEach(function(C){var X,be=C.getAttribute("data-label")||C.textContent||"",Ce=document.createTextNode("@".concat(be));(X=C.parentNode)===null||X===void 0||X.replaceChild(Ce,C)});var ne=M.querySelectorAll("pre[data-raw], pre.raw-content");ne.forEach(function(C){var X,be=C.getAttribute("data-content")||C.textContent||"",Ce=document.createTextNode(be);(X=C.parentNode)===null||X===void 0||X.replaceChild(Ce,C)});var W="",he=function C(X){if(X.nodeType===Node.TEXT_NODE)W+=X.textContent||"";else if(X.nodeType===Node.ELEMENT_NODE){var be=X,Ce=Array.from(X.childNodes);if(be.tagName==="BR"){W+=`
`;return}be.tagName==="P"?(Ce.forEach(function(de){C(de)}),W+=`
`):Ce.forEach(function(de){C(de)})}};return Array.from(M.childNodes).forEach(function(C){he(C)}),W.replace(/\n{3,}/g,`

`).replace(/\u200B/g,"")},Ve=function(o){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!o)return"";if(P){var M=o.trim();return M?o:""}for(var U=o.trim();/^<p[^>]*>(\s|&nbsp;|<br\s*\/?>)*<\/p>/i.test(U);)U=U.replace(/^<p[^>]*>(\s|&nbsp;|<br\s*\/?>)*<\/p>/i,"").trim();for(;/<p[^>]*>(\s|&nbsp;|<br\s*\/?>)*<\/p>$/i.test(U);)U=U.replace(/<p[^>]*>(\s|&nbsp;|<br\s*\/?>)*<\/p>$/i,"").trim();return U.trim()?U:""},se=function(o){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"text";if(!o)return"";var I=e(o);I=$(I),I=i(I);var y=/<[^>]+>/.test(I);if(y){var ne=I.trim();if(!ne)return""}if(I=I.replace(/\{#ToolBlock id="([^"]+)" type="([^"]+)" name="([^"]+)"#\}([\s\S]*?)\{#\/ToolBlock#\}/g,'<span class="tool-block-chip" data-tool-id="$1" data-tool-type="$2" data-tool-name="$3" data-tool-content="$4">$4</span>'),U!=="text"){var W=M?"variable-block-chip-editable":"variable-block-chip";I=I.replace(/\{\{([^}]+)\}\}/g,'<span class="'.concat(W,'" data-key="$1" data-label="$1" data-variable-name="$1">$1</span>'))}if(P||(I=I.replace(/@(\w+)/g,'<span class="mention-node" data-id="$1" data-label="$1" data-type="user">@$1</span>')),y&&/<p[^>]*>/i.test(I))return I=I.replace(/<br\s*\/?>/gi,"<br>"),I;if(!I.trim())return"";var he=I.replace(/\r\n/g,`
`).replace(/\r/g,`
`),C=he.split(`
`),X=[];return C.forEach(function(be){be?X.push("<p>".concat(be,"</p>")):X.push("<p></p>")}),X.join("")},me=function(o){return o?!!(o.includes("{#ToolBlock")||o.includes("{{")||o.includes("@")||(ge.lastIndex=0,ge.test(o))):!1},Ee=function(o){if(!o)return!1;if(/<!DOCTYPE/i.test(o)||/<html[\s>]/i.test(o)||/<\?xml/i.test(o))return!0;var P=o.match(/<[^>]+>/g);if(P&&P.length>=3){var M=P.filter(function(I){return!I.includes("/")}),U=P.filter(function(I){return I.includes("/")});if(M.length>=2&&U.length>=1)return!0}return!1},ce=function(o){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"html";if(!o)return"";var M=o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return'<pre data-raw="true" data-content="'.concat(M,'" data-type="').concat(P,'" class="raw-content">').concat(M,"</pre>")},xe=function(o){if(!o)return[];var P=document.createElement("div");P.innerHTML=o;var M=P.querySelectorAll("pre[data-raw], pre.raw-content"),U=[];return M.forEach(function(I){var y=I.getAttribute("data-content")||I.textContent||"",ne=y.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'");U.push(ne)}),U}},78278:function($e,Se,n){var ge=n(75271),F=function(j,i){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];(0,ge.useEffect)(function(){var v=function(Ve){var se=Ve.target;if(!(!j.current||j.current.contains(se))){var me=e.some(function(ae){return ae.current&&ae.current.contains(se)});if(!me){if($.length>0&&se instanceof HTMLElement){for(var Ee=se,ce=function(){var o=Ee;if($.some(function(P){return o.classList.contains(P)}))return{v:void 0};Ee=Ee.parentElement},xe;Ee;)if(xe=ce(),xe)return xe.v}i(Ve)}}};return document.addEventListener("mousedown",v),document.addEventListener("touchstart",v),function(){document.removeEventListener("mousedown",v),document.removeEventListener("touchstart",v)}},[j,i,e,$])};Se.Z=F},40802:function(){}}]);})();
