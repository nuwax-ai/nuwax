"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[6261,4195],{57625:function(Oe,se,e){e.d(se,{Z:function(){return O}});var H=e(65774),a=e(94581),n=e.n(a),m=e(75271),U={"files-container":"files-container___Ji5El","file-box":"file-box___BRhVF"},h=e(52676),S=n().bind(U),d=function(z){var Q=z.files;return(0,h.jsx)("div",{className:S(U["files-container"]),children:Q?.map(function(_){return(0,h.jsxs)("div",{className:S(U["file-box"],"flex","items-center"),children:[(0,h.jsx)("img",{src:_.mimeType.includes("image/")?_.fileUrl:H,alt:""}),(0,h.jsx)("div",{className:S("flex-1","overflow-hide"),children:(0,h.jsx)("h4",{className:S("text-ellipsis"),children:_.fileName})})]},_.fileKey)})})},O=d},30746:function(Oe,se,e){e.d(se,{Z:function(){return _}});var H=e(92122),a=e(10822),n=e(24573),m=e(13143),U=e(63876),h=e(94581),S=e.n(h),d=e(75271),O={"xagi-nav-style2":"xagi-nav-style2___Omzza",text:"text___XEmsz","page-container":"page-container___ewoL2","run-success":"run-success___PpO4f","status-name":"status-name___WZ9ni",icon:"icon___H_CtF",successColor:"successColor___tjHA6","pop-content":"pop-content___cUwx3",row:"row___ajvPI",summary:"summary___QUk2k"},M=e(52676),z=S().bind(O),Q=function(Y){var C=Y.messageInfo,J=C.finalResult,ee=C.processingList,me=(0,d.useMemo)(function(){return J?((J?.endTime-J?.startTime)/1e3).toFixed(1):0},[J]),Z=function(R,A){var u=R-A;return u<1e3?"".concat(u,"ms"):"".concat((u/1e3).toFixed(1),"s")},r=(0,d.useMemo)(function(){var F=ee?.length||0;return F>0?ee?.[F-1]:null},[ee]);return(0,M.jsx)(U.Z,{placement:"bottomLeft",styles:{body:{padding:0}},content:(0,M.jsxs)("div",{className:z(O["pop-content"]),children:[ee?.map(function(F,R){return F.status!==H.Xk.EXECUTING&&(0,M.jsxs)("div",{className:z(O.row,"flex","items-center"),children:[(0,M.jsx)(a.Z,{}),(0,M.jsx)("span",{className:z("flex-1","text-ellipsis"),children:"\u5DF2\u8C03\u7528 ".concat(F.name)}),(0,M.jsx)("span",{children:Z(F.result.endTime,F.result.startTime)})]},R)}),(0,M.jsx)("span",{className:z(O.summary),children:"\u8FD0\u884C\u5B8C\u6BD5 ".concat(me,"s")})]}),arrow:!1,trigger:"hover",children:(0,M.jsx)("span",{className:z("cursor-pointer",O["run-success"]),children:C?.status===H.ge.Loading||C?.status===H.ge.Incomplete?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(n.Z,{className:z(O.successColor)}),r&&(0,M.jsxs)("span",{className:z(O["status-name"]),children:[r.status===H.Xk.EXECUTING?"\u6B63\u5728\u8C03\u7528 ":"\u5DF2\u8C03\u7528 ",r.name]})]}):C?.status===H.ge.Error?(0,M.jsx)("span",{children:"\u8FD0\u884C\u9519\u8BEF"}):(0,M.jsxs)("span",{children:["\u8FD0\u884C\u5B8C\u6BD5",(0,M.jsx)(m.Z,{className:z(O.icon)})]})})})},_=Q},19979:function(Oe,se,e){e.d(se,{Z:function(){return me}});var H=e(82092),a=e.n(H),n=e(57625),m=e(59261),U=e(91268),h=e(64799),S=e(92122),d=e(45019),O=e(94581),M=e.n(O),z=e(75271),Q=e(97830),_={container:"container___pzeXE",avatar:"avatar___QNC2R",author:"author___eO9xt","inner-container":"inner-container___MiyBz","think-content":"think-content___NYHs_","chat-content":"chat-content___voyQR"},de=e(30746),Y=e(52676),C=M().bind(_),J=function(r){switch(r){case d.vQ.JavaScript:return"js";case d.vQ.Python:return"python";case d.vQ.JSON:return"json";case d.vQ.Text:return"plaintext";default:return"plaintext"}},ee=function(r){var F,R=r.className,A=r.contentClassName,u=r.messageInfo,Ee=r.codeLanguage,ue=Ee===void 0?d.vQ.Text:Ee,Te=r.theme,Ce=Te===void 0?"light":Te;console.log("codeLanguage",J(ue),u);var ye=(0,z.useCallback)(function(K){var E=J(ue);return E==="plaintext"?K:K.replace(/```/,"```".concat(E))},[ue]),re=(0,U.Z)({answer:ye(u?.text||""),thinking:u?.think||"",id:u?.id||""}),D=re.markdownRef,T=re.messageIdRef;return(0,Y.jsx)("div",{className:C(_.container,"flex",R),children:(0,Y.jsxs)("div",{className:C("flex-1"),children:[!!(u!=null&&(F=u.attachments)!==null&&F!==void 0&&F.length)&&(0,Y.jsx)(n.Z,{files:u?.attachments}),(0,Y.jsxs)(m.Z,{condition:u?.role!==h.hZ.USER,children:[u.status!==S.ge.Complete&&(0,Y.jsx)(m.Z,{condition:!!(u!=null&&u.status),children:(0,Y.jsx)(de.Z,{messageInfo:u})}),(!!(u!=null&&u.think)||!!(u!=null&&u.text))&&(0,Y.jsx)("div",{className:C(_["inner-container"],A),children:(0,Y.jsx)("div",{className:C(_["chat-content"],"radius-6","w-full",a()({},_.typing,u.status===S.ge.Incomplete||u.status===S.ge.Loading)),children:(0,Y.jsx)(Q.ZP,{id:"".concat(T.current),headerActions:!1,markdownRef:D,theme:Ce},"".concat(T.current))})})]})]})})},me=ee},34204:function(Oe,se,e){e.d(se,{Z:function(){return T}});var H=e(26068),a=e.n(H),n=e(90228),m=e.n(n),U=e(87999),h=e.n(U),S=e(48305),d=e.n(S),O=e(35044),M=e(19979),z=e(63136),Q=e(14719),_=e(9504),de=e(63619),Y=e(94581),C=e.n(Y),J=e(75271),ee=e(56179),me=e(92448),Z={"xagi-nav-style2":"xagi-nav-style2___L67Dx",text:"text___aDdRi","page-container":"page-container___MncNy",btn:"btn___JOPmv","chat-wrapper":"chat-wrapper___PS6Tu","replace-btn":"replace-btn___AEijv",footer:"footer___MV0En","code-optimize-view":"code-optimize-view___XMSmw","chat-input":"chat-input___wgxG5",input:"input___WoXKg","icon-box":"icon-box___cHWvw","send-image":"send-image___kjNJy"},r=e(52676),F=C().bind(Z),R=function(E){var j,V,ae=E.title,s=E.open,X=E.onCancel,te=E.onReplace,k=E.codeLanguage,oe=(0,J.useState)(""),he=d()(oe,2),w=he[0],i=he[1],G=(0,ee.useModel)("assistantOptimize"),p=G.messageList,pe=G.setMessageList,ce=G.onMessageSend,Pe=G.messageViewRef,be=G.allowAutoScrollRef,Le=G.resetInit,Ae=(0,J.useState)(""),De=d()(Ae,2),q=De[0],o=De[1];(0,J.useEffect)(function(){return o((0,me.Z)()),function(){Le()}},[]),(0,J.useEffect)(function(){var f=Pe.current;if(f){var g=function(){var ve=f.scrollTop,xe=f.scrollHeight,L=f.clientHeight;ve+L<xe?be.current=!1:be.current=!0};return f.addEventListener("scroll",g),function(){f.removeEventListener("scroll",g)}}},[]);var le=function(){var f=h()(m()().mark(function g(){var ne;return m()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:pe([]),w&&(i(""),ne={requestId:q,prompt:w,codeLanguage:k},ce(ne,z.L.code));case 2:case"end":return xe.stop()}},g)}));return function(){return f.apply(this,arguments)}}(),B=function(g){g.preventDefault();var ne=g.target,ve=ne.value,xe=ne.selectionStart,L=ne.selectionEnd;if(g.nativeEvent.keyCode===13&&(g.nativeEvent.shiftKey||g.nativeEvent.ctrlKey)){var Se=ve.slice(0,xe)+`
`+ve.slice(L);i(Se)}else if(g.nativeEvent.keyCode===13&&ve.trim()){var _e={requestId:q,prompt:w,codeLanguage:k};ce(_e,z.L.code),i("")}};return(0,r.jsxs)(Q.Z,{title:ae,open:s,onCancel:function(g){pe([]),X?.(g)},maskClosable:!1,footer:null,children:[(0,r.jsx)("div",{ref:Pe,className:F(Z["chat-wrapper"],"flex-1"),children:p?.length>0?(0,r.jsx)(r.Fragment,{children:p?.map(function(f,g){return(0,r.jsx)(M.Z,{ifShowReplace:!0,onReplace:te,theme:"dark",codeLanguage:k,messageInfo:f,contentClassName:F(Z["code-optimize-view"])},g)})}):(0,r.jsx)("div",{})}),p?.length>0?(0,r.jsxs)("div",{className:F("flex"),children:[(0,r.jsx)(_.ZP,{className:F(Z["replace-btn"],Z.btn),loading:(p==null||(j=p[p?.length-1])===null||j===void 0?void 0:j.status)!=="complete",disabled:(p==null||(V=p[p?.length-1])===null||V===void 0?void 0:V.status)!=="complete",onClick:function(){var g;return te?.(p==null||(g=p[p?.length-1])===null||g===void 0?void 0:g.text)},children:"\u66FF\u6362"}),(0,r.jsx)(_.ZP,{onClick:function(g){pe([]),X?.(g)},className:F(Z.btn,"ml-10 "),children:"\u9000\u51FA"})]}):(0,r.jsx)("div",{}),(0,r.jsx)("div",{className:F(Z.footer,"flex","items-center"),children:(0,r.jsxs)("div",{className:F(Z["chat-input"],"flex","items-center","w-full"),children:[(0,r.jsx)(de.Z.TextArea,{value:w,onChange:function(g){return i(g.target.value)},rootClassName:Z.input,onPressEnter:B,placeholder:"\u8BF7\u63CF\u8FF0\u4F60\u7684\u5177\u4F53\u4E1A\u52A1\u9700\u6C42\uFF0C\u903B\u8F91\u5C3D\u91CF\u63CF\u8FF0\u8BE6\u7EC6",autoSize:{minRows:1,maxRows:3}}),(0,r.jsx)("img",{onClick:function(){return le()},className:F(Z["send-image"],"cursor-pointer"),src:O,alt:""})]})})]})},A=R,u=e(73415),Ee=e(45019),ue=e(78078),Te=e(28190),Ce=e(34684),ye=e(75266),re=e(59261),D=function(E){var j=E.value,V=j===void 0?"":j,ae=E.className,s=E.onChange,X=E.height,te=X===void 0?"400px":X,k=E.codeLanguage,oe=E.minimap,he=oe===void 0?!1:oe,w=E.form,i=E.codeOptimizeVisible,G=i===void 0?!0:i,p=E.readOnly,pe=p===void 0?!1:p,ce=E.editorOptions,Pe=(0,J.useState)(!1),be=d()(Pe,2),Le=be[0],Ae=be[1],De=(0,J.useState)(!1),q=d()(De,2),o=q[0],le=q[1],B=(0,ee.useModel)("model"),f=B.testRun;if((0,J.useEffect)(function(){ue._m.config({monaco:ye,paths:{vs:"/vs"}});var ve=function(){var xe=h()(m()().mark(function L(){var Se,_e,Be;return m()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,e.e(8124).then(e.bind(e,88124));case 3:return Se=l.sent,_e=Se.conf,Be=Se.language,l.next=8,ue._m.init();case 8:ye.languages.register({id:"python"}),ye.languages.setMonarchTokensProvider("python",Be),ye.languages.setLanguageConfiguration("python",_e),window.MonacoEnvironment={getWorkerUrl:function(W,P){return P==="json"?"/vs/json.worker.js":P==="typescript"||P==="javascript"||P==="python"?"/vs/ts.worker.js":"/vs/editor.worker.js"}},Ae(!0),l.next=18;break;case 15:l.prev=15,l.t0=l.catch(0),console.error("Failed to initialize Monaco Editor:",l.t0);case 18:case"end":return l.stop()}},L,null,[[0,15]])}));return function(){return xe.apply(this,arguments)}}();ve()},[]),!Le)return(0,r.jsx)("div",{children:"Loading editor..."});var g=function(xe){s&&s(xe||"")},ne=function(xe){var L=xe||{},Se=a()({selectOnLineNumbers:!0,folding:!0,automaticLayout:!0,minimap:{enabled:he},readOnly:pe},L);return k?.toLowerCase()==="json"?a()(a()({},Se),{},{quickSuggestions:!1,suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",tabCompletion:"off",wordBasedSuggestions:!1,parameterHints:{enabled:!1},hover:{enabled:!1},snippetSuggestions:"none"}):Se};return(0,r.jsxs)(r.Fragment,{children:[w?(0,r.jsx)(Te.Z.Item,{noStyle:!0,name:w?.getFieldValue("codeLanguage")===Ee.vQ.JavaScript?"codeJavaScript":"codePython",children:(0,r.jsx)(ue.ZP,{className:ae,height:te,language:k?.toLowerCase(),theme:"vs-dark",value:V,onChange:g,options:ne(ce)})}):(0,r.jsx)(ue.ZP,{className:ae,height:te,language:k?.toLowerCase(),theme:"vs-dark",value:V,onChange:g,options:ne(ce)}),(0,r.jsxs)(re.Z,{condition:G&&!pe,children:[(0,r.jsx)(Ce.Z,{shape:"circle",type:"primary",style:{insetInlineEnd:94,display:f?"none":"block"},icon:(0,r.jsx)(u.jY,{}),tooltip:"\u4EE3\u7801\u52A9\u624B",onClick:function(){le(!0)}}),(0,r.jsx)(A,{title:"\u4EE3\u7801\u52A9\u624B",open:o,codeLanguage:k,onCancel:function(){le(!1)},onReplace:function(xe){if(xe){var L=xe;L.includes("```")&&(L=L.replace(/```/g,"")),s?.(L||""),le(!1)}}})]})]})},T=D},65173:function(Oe,se,e){var H=e(15558),a=e.n(H),n=e(48305),m=e.n(n),U=e(61884),h=e(44689),S=e(62237),d=e(63876),O=e(12758),M=e(29328),z=e(63619),Q=e(58176),_=e(75271),de=e(56179),Y=e(15457),C=e(52676),J=function(r){if(!r)return 0;for(var F=0,R=0;R<r.length;R++)/[\u4e00-\u9fa5\u3000-\u303f\uff00-\uffef]/.test(r[R])?F+=2:F+=1;return F},ee=function(r,F){if(!r)return"";for(var R=0,A="",u=0;u<r.length;u++){var Ee=r[u],ue=/[\u4e00-\u9fa5\u3000-\u303f\uff00-\uffef]/.test(Ee)?2:1;if(R+ue>F)break;A+=Ee,R+=ue}return A.length<r.length&&(A+="..."),A},me=function(r){var F=r.placeholder,R=r.form,A=r.fieldName,u=r.style,Ee=r.isDisabled,ue=Ee===void 0?!1:Ee,Te=r.referenceType,Ce=Te===void 0?"Reference":Te,ye=r.isLoop,re=r.value,D=r.onChange,T=(0,de.useModel)("workflow"),K=T.referenceList,E=T.getValue,j=T.getLoopValue,V=T.setIsModified,ae=(0,_.useState)(""),s=m()(ae,2),X=s[0],te=s[1],k=(0,_.useState)([re||""]),oe=m()(k,2),he=oe[0],w=oe[1],i=(0,_.useState)(300),G=m()(i,2),p=G[0],pe=G[1];(0,_.useEffect)(function(){var q=function(){var le=window.innerHeight,B=document.querySelector(".input-or-reference");if(B){var f=B.getBoundingClientRect(),g=le-f.top-20;pe(Math.min(Math.max(g,150),400))}};return q(),window.addEventListener("resize",q),window.addEventListener("scroll",q),function(){window.removeEventListener("resize",q),window.removeEventListener("scroll",q)}},[]);var ce=function(o,le){if(A&&R){var B=A.slice(0,-1);if(R.setFieldValue([].concat(a()(B),["bindValueType"]),le),le==="Reference"){var f,g=K==null||(f=K.argMap)===null||f===void 0||(f=f[o])===null||f===void 0?void 0:f.dataType;R.setFieldValue([].concat(a()(B),["dataType"]),g||"String"),R.setFieldValue(A,o);var ne=R.getFieldValue([].concat(a()(B),["name"]));(!ne||ue)&&R.setFieldValue([].concat(a()(B),["name"]),K.argMap[o].name)}else R.setFieldValue([].concat(a()(B),["dataType"]),"String"),R.setFieldValue(A,o)}V(!0)};(0,_.useEffect)(function(){if(A&&R){var q=R.getFieldValue(A),o=R.getFieldValue([].concat(a()(A.slice(0,-1)),["bindValueType"]));if(o==="Reference"){var le=q&&K.argMap[q];te(le?ye?j(q):E(q):"")}else te("")}},[R?.getFieldsValue(),K.argMap]);var Pe=function(){var o;ce("","Input"),te(""),w([""]);var le=(o=A?.slice(0,-1))!==null&&o!==void 0?o:[];R?.setFieldValue([].concat(a()(le),["name"]),"")},be=function(o){return(0,C.jsxs)("div",{className:"tree-custom-title-style",children:[(0,C.jsx)("span",{title:"",children:o.name}),(0,C.jsx)(d.Z,{content:o.description||"\u6682\u65E0\u63CF\u8FF0",children:(0,C.jsx)(h.Z,{title:"",style:{marginLeft:"4px",fontSize:12}})}),(0,C.jsx)(O.Z,{color:"#C9CDD4",style:{marginLeft:"8px",fontSize:10,lineHeight:"14px"},children:o.dataType})]})},Le=function(o){!o||!o.length||(ce(o[0],"Reference"),te(E(o[0])),w(o))},Ae=function(o){if(o&&o.length){var le=!1;return o.map(function(B){var f=B?.outputArgs.some(function(g){var ne,ve;return(g==null||(ne=g.children)===null||ne===void 0?void 0:ne.length)&&(g==null||(ve=g.children)===null||ve===void 0?void 0:ve.length)>0});return{key:B.id,label:J(B.name)>16?ee(B.name,16):B.name,icon:(0,U.qM)(B.type),popupClassName:"inputOrReferencePopup",children:B.outputArgs?[{key:"".concat(B.id,"-tree-select"),label:(0,C.jsx)("div",{style:{paddingTop:12,paddingRight:12,paddingBottom:8},onClick:function(ne){le||(ne.stopPropagation(),ne.preventDefault())},children:(0,C.jsx)(M.Z,{onSelect:function(ne){Le(ne),le=!0},defaultExpandAll:!0,treeData:B.outputArgs,fieldNames:{title:"name",key:"key",children:"children"},titleRender:be,defaultSelectedKeys:he,selectedKeys:he,blockNode:!0,className:"custom-tree-style ".concat(f?"":"custom-tree-no-children-style"),style:{maxHeight:"".concat(p,"px"),overflow:"auto"}})})}]:void 0}})}else return[{key:"no-data",popupClassName:"inputOrReferencePopup",label:(0,C.jsx)("div",{style:{padding:8,color:"red"},children:"\u672A\u6DFB\u52A0\u4E0A\u7EA7\u8282\u70B9\u8FDE\u7EBF\u6216\u4E0A\u7EA7\u8282\u70B9\u65E0\u53C2\u6570"}),disabled:!0}]},De=function(){return Ae(ye?K.innerPreviousNodes:K.previousNodes)};return(0,C.jsxs)("div",{className:"input-or-reference dis-sb",style:u,children:[Ce==="Reference"||Ce===null?X?(0,C.jsx)(O.Z,{closable:!0,onClose:Pe,className:"input-or-reference-tag text-ellipsis",color:"#C9CDD4",children:X.length>10?(0,C.jsx)(d.Z,{content:X,placement:"topRight",children:(0,C.jsx)("span",{className:"tag-text-style",children:X})}):(0,C.jsx)("span",{className:"tag-text-style",children:X})}):(0,C.jsx)(z.Z,{placeholder:F||"\u8BF7\u8F93\u5165\u6216\u5F15\u7528\u53C2\u6570",style:{marginRight:8},size:"small",disabled:ue,onChange:function(o){D?.(o.target.value),ce(o.target.value,"Input")}}):(0,C.jsx)(z.Z,{placeholder:F||"\u8BF7\u8F93\u5165\u6216\u5F15\u7528\u53C2\u6570",style:{marginRight:8},size:"small",disabled:ue,value:re,onChange:function(o){D?.(o.target.value),ce(o.target.value,"Input")}}),(0,C.jsx)(Q.Z,{menu:{items:De(),style:{maxHeight:328}},trigger:["click"],overlayStyle:{minWidth:200},placement:"bottomRight",children:(0,C.jsx)(S.Z,{style:{cursor:"pointer"},className:"input-reference-icon-style"})})]})};se.Z=me},6377:function(Oe,se,e){e.d(se,{Z:function(){return d}});var H=e(94581),a=e.n(H),n=e(75271),m={container:"container___dApW8",star:"star___pESlW"},U=e(52676),h=a().bind(m),S=function(M){var z=M.className,Q=M.label;return(0,U.jsxs)("span",{className:h(m.container,"flex",z),children:[(0,U.jsx)("span",{children:Q}),(0,U.jsx)("span",{className:h(m.star),children:"*"})]})},d=S},97830:function(Oe,se,e){e.d(se,{fq:function(){return _e},ZP:function(){return Be}});var H=e(94581),a=e.n(H),n=e(75271),m={"markdown-container":"markdown-container___B4lMY","table-wrapper":"table-wrapper___gVSep","markdown-table":"markdown-table___tMbI9","markdown-image-container":"markdown-image-container___QvQqd",spin:"spin___sxYN7"},U=e(14100),h=e(23687),S={theme:"default",flowchart:{useMaxWidth:!0,htmlLabels:!0},sequence:{diagramMarginX:50,diagramMarginY:10},suppressErrorRendering:!1},d=(0,h.R4)({id:h.qM,rehypePlugin:[U.dV,{mermaidConfig:S}],components:{mermaidblock:U.rM}}),O=d,M=e(2601),z=e(13621),Q=e(203),_=e(46703),de=e(90228),Y=e.n(de),C=e(87999),J=e.n(C),ee=e(26068),me=e.n(ee),Z=e(48305),r=e.n(Z),F=e(92122),R=e(77750),A=e(39373),u=e(3642),Ee=e(57683),ue=e(64771),Te=e(41249),Ce=e(68108),ye=e(9504),re=e(32699),D=e(56179),T={"xagi-nav-style2":"xagi-nav-style2___LR8qt",text:"text___GOSuV","page-container":"page-container___rB1Af","markdown-custom-process":"markdown-custom-process___XbvIR","process-header":"process-header___PbJv3","process-title":"process-title___D5O_C","process-controls":"process-controls___dihqk","status-completed":"status-completed___MeIxv",anticon:"anticon___IplOJ","status-running":"status-running___DB0Uo","loading-spinner":"loading-spinner___UooYw",spin:"spin___XLinb","status-error":"status-error___YZemo","control-btn":"control-btn___ufUOD","process-controls-actions":"process-controls-actions___qY3sV","process-content":"process-content___ntUHU","default-content":"default-content___IvKuJ"},K=e(34204),E=e(15470),j=e(45019),V=e(14719),ae={"see-detail-modal":"see-detail-modal___O4Htz","see-detail-header":"see-detail-header___ckdmQ","see-detail-header-title":"see-detail-header-title___aaWbf","see-detail-header-actions":"see-detail-header-actions___Kj3tI","see-detail-content":"see-detail-content___K7JsV"},s=e(52676),X=a().bind(ae),te=function(l){var y=l.visible,W=l.onClose,P=l.data,v=l.title;return!P||!y?null:(0,s.jsx)(V.Z,{open:y,onCancel:W,footer:null,width:800,className:X(ae["see-detail-modal"]),destroyOnHidden:!0,title:(0,s.jsxs)("div",{className:X(ae["see-detail-header"]),children:[(0,s.jsx)("div",{className:X(ae["see-detail-header-title"]),children:v}),(0,s.jsx)("div",{className:X(ae["see-detail-header-actions"]),children:(0,s.jsx)(E.Z,{data:P,jsonSpace:2,tooltipTitle:"\u590D\u5236\u8BE6\u60C5\u6570\u636E",successMessage:"\u8BE6\u60C5\u6570\u636E\u5DF2\u590D\u5236",errorMessage:"\u8BE6\u60C5\u6570\u636E\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"})})]}),children:(0,s.jsx)("div",{className:X(ae["see-detail-content"]),children:(0,s.jsx)(K.Z,{height:"400px",codeLanguage:j.vQ.JSON,value:JSON.stringify(P,null,2),codeOptimizeVisible:!1,minimap:!1,readOnly:!0,editorOptions:{wordWrap:"bounded",wrappingStrategy:"advanced",wrappingIndent:"indent",scrollBeyondLastLine:!1,minimap:{enabled:!1}}})})})},k=te,oe=a().bind(T);function he(N){var l=(0,D.useModel)("chat"),y=l.getProcessingById,W=l.processingList,P=(0,n.useState)(null),v=r()(P,2),t=v[0],c=v[1],x=(0,n.useState)(me()(me()({},N),{},{result:""})),I=r()(x,2),b=I[0],ge=I[1],Me=(0,n.useState)(!1),je=r()(Me,2),Fe=je[0],Ge=je[1];(0,n.useEffect)(function(){var Ne=y(b.executeId);Ne&&(Ne?.status!==b.status||!(0,re.isEqual)(Ne.result,b.result))&&ge(Ne)},[W,b.executeId]);var Ze=(0,n.useCallback)(function(){switch(b.status){case F.Xk.FINISHED:return(0,s.jsxs)("div",{className:oe(T["status-completed"]),children:[(0,s.jsx)(u.Z,{}),"\u5DF2\u5B8C\u6210"]});case F.Xk.EXECUTING:return(0,s.jsxs)("div",{className:oe(T["status-running"]),children:[(0,s.jsx)("div",{className:oe(T["loading-spinner"])}),"\u8FD0\u884C\u4E2D"]});case F.Xk.FAILED:return(0,s.jsx)("div",{className:oe(T["status-error"]),children:"\u274C \u9519\u8BEF"});default:return null}},[b.status]),Ve=(0,n.useCallback)(J()(Y()().mark(function Ne(){var Ue;return Y()().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(t){Ke.next=3;break}return Te.ZP.error("\u6682\u65E0\u6570\u636E"),Ke.abrupt("return");case 3:return Ue=JSON.stringify(t,null,2),Ke.next=6,(0,R.TE)(Ue,void 0,!0);case 6:case"end":return Ke.stop()}},Ne)})),[t]),Qe=(0,n.useCallback)(function(Ne){if(!Ne)return null;var Ue=(0,A.Xh)(Ne);return{params:Ue.input||{},response:Ue.data||null}},[]);(0,n.useEffect)(function(){if(b.executeId&&(b.status===F.Xk.FINISHED||b.status===F.Xk.FAILED)){var Ne=Qe(b.result);if(t&&(0,re.isEqual)(Ne,t))return;c(Ne)}},[b.executeId,b.status,b.result]);var We=(0,n.useMemo)(function(){return!(t&&(b.status===F.Xk.FINISHED||b.status===F.Xk.FAILED))||!1},[b.status,t]),ze=(0,n.useCallback)(function(){if(!t){Te.ZP.error("\u6682\u65E0\u6570\u636E");return}Ge(!0)},[t]);return b.executeId?(0,s.jsxs)("div",{className:oe(T["markdown-custom-process"]),"data-key":N.dataKey,children:[(0,s.jsxs)("div",{className:oe(T["process-header"]),children:[(0,s.jsx)("div",{className:oe(T["process-title"]),children:b.name||"\u6682\u65E0\u540D\u79F0"}),(0,s.jsxs)("div",{className:oe(T["process-controls"]),children:[Ze(),(0,s.jsxs)("div",{className:oe(T["process-controls-actions"]),children:[(0,s.jsx)(Ce.Z,{title:"\u67E5\u770B\u8BE6\u60C5",children:(0,s.jsx)(ye.ZP,{type:"text",disabled:We,icon:(0,s.jsx)(Ee.Z,{}),onClick:ze})}),(0,s.jsx)(Ce.Z,{title:"\u590D\u5236",children:(0,s.jsx)(ye.ZP,{type:"text",icon:(0,s.jsx)(ue.Z,{}),disabled:We,onClick:Ve})})]})]})]}),(0,s.jsx)(k,{title:b.name||"\u6682\u65E0\u540D\u79F0",visible:Fe,onClose:function(){return Ge(!1)},data:t},b.executeId)]},N.dataKey):null}var w=(0,n.memo)(he,function(N,l){return N.executeId===l.executeId&&N.status===l.status}),i=e(94484),G=e(73415),p=(0,n.memo)(function(N){var l=N.src,y=N.containerClassNames,W=N.containerStyles,P=N.styles,v=N.alt,t=v===void 0?"":v,c=N.dataKey,x=(0,n.useState)(!1),I=r()(x,2),b=I[0],ge=I[1],Me=(0,n.useCallback)(function(){},[]),je=(0,n.useMemo)(function(){if(y)return Array.isArray(y)?y.join(" "):y},[y]);return(0,s.jsx)("span",{"data-key":c,className:je||m["image-container"],style:me()(me()({},W),{},{display:"inline-block",width:"100%"}),onClick:function(){ge(!0)},children:(0,s.jsx)(i.Z,{src:l,fallback:G.Pc,onError:Me,style:P,alt:t,preview:b?{visible:b,src:l,onVisibleChange:ge}:!1})},c)},function(N,l){return N.src===l.src}),pe=p,ce=e(335),Pe=e.n(ce),be=e(31759),Le=e.n(be),Ae=e(15558),De=e.n(Ae),q=function(l){try{var y="",W=function P(v){var t;return typeof v=="string"?v:typeof v=="number"?String(v):Array.isArray(v)?v.map(P).join(""):v!=null&&(t=v.props)!==null&&t!==void 0&&t.children?P(v.props.children):""};return y=W(l),y.replace(/\s+/g," ").trim()}catch(P){return console.warn("\u63D0\u53D6\u8868\u683C\u5355\u5143\u683C\u5185\u5BB9\u5931\u8D25:",P),""}},o=function(l){try{var y,W=[],P=function v(t){if(Array.isArray(t))t.forEach(function(x){var I;if(x?.type==="td"||x?.type==="th"){var b=q(x);W.push(b)}else x!=null&&(I=x.props)!==null&&I!==void 0&&I.children&&v(x.props.children)});else if(t?.type==="td"||t?.type==="th"){var c=q(t);W.push(c)}};return l!=null&&(y=l.props)!==null&&y!==void 0&&y.children?P(l.props.children):l!=null&&l.children&&P(l.children),W.length>0?"|"+W.map(function(v){return" ".concat(v.trim()," ")}).join("|")+"|":""}catch(v){return console.warn("\u63D0\u53D6\u8868\u683C\u884C\u5185\u5BB9\u5931\u8D25:",v),""}},le=function(l){try{var y,W=[];if(l!=null&&(y=l.props)!==null&&y!==void 0&&y.children){var P=l.props.children;if(Array.isArray(P))P.forEach(function(t){if(t?.type==="tr"){var c=o(t);c&&W.push(c)}});else if(P?.type==="tr"){var v=o(P);v&&W.push(v)}}return W}catch(t){return console.warn("\u63D0\u53D6\u8868\u683C\u533A\u57DF\u5185\u5BB9\u5931\u8D25:",t),[]}},B=function N(l){try{if(typeof l=="string")return l;if(Array.isArray(l)){var y=[],W=!1;if(l.forEach(function(I){var b;if(I?.type==="thead"){var ge=le(I);y.push.apply(y,De()(ge)),W=!0}else if(I?.type==="tbody"){var Me=le(I);y.push.apply(y,De()(Me))}else if(I?.type==="tr"){var je=o(I);je&&y.push(je)}else if(I!=null&&(b=I.props)!==null&&b!==void 0&&b.children){var Fe=N(I.props.children);Fe&&y.push(Fe)}}),y.length>0){var P=y.join(`
`);if(W&&y.length>1){var v=y[0];if(v){var t=(v.match(/\|/g)||[]).length-1,c="|"+"---|".repeat(t);return"".concat(P,`
`).concat(c)}}return P}}if(Le()(l)==="object"&&l!==null){var x=l?.props;if(x!=null&&x.children)return N(x.children)}return""}catch(I){return console.warn("\u63D0\u53D6\u8868\u683C\u5185\u5BB9\u5931\u8D25:",I),""}},f=[{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}];function g(N){return function(l){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=l.length,P=y,v=Pe()(N),t;try{for(v.s();!(t=v.n()).done;){var c=t.value,x=c.left,I=c.right,b=c.display;if(l.slice(P).startsWith(x)){for(var ge=P+x.length;ge<W&&!l.slice(ge).startsWith(I);)ge++;if(!(ge>=W)){var Me=l.slice(P+x.length,ge),je=ge+I.length;return{formula:Me,display:b,start:P,end:je,left:x,right:I,success:!0}}}}}catch(Fe){v.e(Fe)}finally{v.f()}return{formula:"",display:!1,start:0,end:0,left:"",right:"",success:!1}}}function ne(N){for(var l=f.filter(function(c){return!c.left.includes("$")&&!c.right.includes("$")}),y=g(l),W="",P=0;P<N.length;){var v=y(N,P);if(v.success){W+=N.slice(P,v.start);var t=v.display?"$$":"$";W+="".concat(t).concat(v.formula).concat(t),P=v.end}else W+=N[P],P++}return W}var ve=a().bind(m),xe=function(){return(0,h.R4)({rehypePlugin:[Q.Z,_.Z],components:{"markdown-custom-process":function(l){var y=l.node,W=l.type,P=l.status,v=l.executeid,t=l.name,c=y?.position||{},x=c.end.offset,I=c.start.offset,b="".concat(I,"-").concat(x,"-process");return(0,s.jsx)(w,{dataKey:b,type:W,status:P,executeId:v,name:decodeURIComponent(t||"")},b)},table:function(l){var y=l.children,W=l.node,P=(0,M.ls)(),v=P.theme,t=P.codeBlock,c=t===void 0?{}:t,x=c.headerActions,I=x===void 0?!1:x,b=W?.position||{},ge=b.end.offset,Me=b.start.offset,je="".concat(Me,"-").concat(ge,"-list"),Fe=B(y);return(0,s.jsx)("div",{"data-key":je,className:m["table-wrapper"],style:{display:"block"},children:(0,s.jsxs)("div",{className:"md-code-block md-code-block-".concat(v),children:[I&&(0,s.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,s.jsx)("div",{className:"md-code-block-banner md-code-block-banner-lite",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"md-code-block-language",children:"\u8868\u683C"}),(0,s.jsx)(M.GR,{language:"markdown",codeContent:Fe})]})})}),(0,s.jsx)("div",{className:"md-code-block-content scrollbar",children:(0,s.jsx)("table",{className:ve(m["markdown-table"]),children:y})})]})},je)},img:function(l){var y=l.src,W=l.alt,P=l.title,v=l.node;if(!y)return null;var t=v?.position||{},c=t.end.offset,x=t.start.offset,I="".concat(x,"-").concat(c,"-img");return(0,s.jsx)(pe,{dataKey:I,containerClassNames:m["markdown-image-container"],src:y,alt:W,title:P},I)}},id:Symbol("custom-plugin"),type:"custom"})},L=a().bind(m),Se=(0,n.memo)(function(N){var l=N.id,y=l===void 0?"":l,W=N.className,P=N.markdownRef,v=N.headerActions,t=v===void 0?!0:v,c=N.disableTyping,x=c===void 0?!0:c,I=N.theme,b=I===void 0?"light":I,ge=(0,n.useRef)(null),Me=(0,n.useMemo)(function(){return[O,h.wg,xe()]},[]),je=(0,n.useMemo)(function(){return S},[]);return(0,s.jsx)("div",{ref:ge,id:"".concat(y),"data-key":"".concat(y),className:L(m["markdown-container"],W),children:(0,s.jsx)(M.iV,{mermaidConfig:je,children:(0,s.jsx)(M.Hh,{ref:P,timerType:"requestAnimationFrame",interval:30,plugins:Me,codeBlock:{headerActions:t},theme:b,math:{splitSymbol:"bracket",replaceMathBracket:ne},disableTyping:x})})},"".concat(y))},function(N,l){return N.id===l.id}),_e=(0,n.memo)(function(N){var l=N.id,y=l===void 0?"":l,W=N.className,P=W===void 0?"":W,v=N.children,t=N.theme,c=t===void 0?"light":t,x=(0,n.useMemo)(function(){return[h.wg,xe()]},[]);return(0,s.jsx)("div",{id:"".concat(y),"data-key":"".concat(y),className:L(m["markdown-container"],P),children:(0,s.jsx)(M.iV,{children:(0,s.jsx)(M.ZP,{interval:30,timerType:"requestAnimationFrame",disableTyping:!0,plugins:x,codeBlock:{headerActions:!1},theme:c,math:{splitSymbol:"bracket",replaceMathBracket:ne},children:v})})},"".concat(y))},function(N,l){return N.id===l.id&&N.theme===l.theme}),Be=Se},54896:function(Oe,se,e){e.d(se,{Z:function(){return O}});var H=e(59261),a=e(94581),n=e.n(a),m=e(75271),U={container:"container___mKBd6",star:"star___fL3Gn","param-type":"param-type___m1Eq3"},h=e(52676),S=n().bind(U),d=function(z){var Q=z.require,_=z.paramName,de=z.paramType;return(0,h.jsxs)("div",{className:S("flex","items-center",U.container),children:[(0,h.jsx)("span",{children:_}),(0,h.jsx)(H.Z,{condition:Q,children:(0,h.jsx)("span",{className:S(U.star),children:"*"})}),(0,h.jsx)("span",{className:S(U["param-type"]),children:de})]})},O=d},51802:function(Oe,se,e){e.d(se,{Z:function(){return R}});var H=e(54896),a=e(61265),n=e(73415),m=e(94166),U=e(24643),h=e(92122),S=e(86743),d=e(14258),O=e(63619),M=e(7010),z=e(14719),Q=e(10580),_=e(9504),de=e(94581),Y=e.n(de),C=e(75271),J=e(56179),ee=e(92448),me={"xagi-nav-style2":"xagi-nav-style2___q7OWC",text:"text___QkgY2","page-container":"page-container___sLiTq","modal-container":"modal-container___tLbO3","inner-container":"inner-container___xnO9u",header:"header___ZXJua","p-title":"p-title___enidB","table-wrap":"table-wrap___KO8OJ","param-desc":"param-desc___Fs3o9"},Z=e(52676),r=Y().bind(me),F=function(u){var Ee=u.inputConfigArgs,ue=u.inputExpandedRowKeys,Te=u.pluginId,Ce=u.pluginName,ye=u.open,re=u.onCancel,D=u.onConfirm,T=(0,m.Z)(),K=T.handleInit,E=T.dataSource,j=T.handleDataSource,V=T.expandedRowKeys,ae=T.handleInputValue,s=T.handleInputAddChild,X=T.handleInputDel,te=(0,J.useRequest)(U.NV,{manual:!0,debounceInterval:300,onSuccess:function(G){if(G!=null&&G.length){var p=G.map(function(pe){return pe.key||(pe.key=(0,ee.Z)()),pe});D(p)}re()}}),k=te.run,oe=te.loading;(0,C.useEffect)(function(){K(Ee,ue)},[Ee,ue]);var he=[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"name",key:"name",className:"flex",render:function(G,p){return(0,Z.jsx)(H.Z,{require:p.require,paramName:p.name,paramType:p.dataType})}},{title:"\u53C2\u6570\u503C",dataIndex:"description",key:"description",render:function(G,p){var pe;return(0,Z.jsxs)(Z.Fragment,{children:[h.Gi.Object===p.dataType||h.Gi.Array_Object===p.dataType||(pe=p.dataType)!==null&&pe!==void 0&&pe.includes("Array")?null:(0,Z.jsx)(O.Z,{value:p.bindValue,onChange:function(Pe){return ae(p.key,"bindValue",Pe.target.value)},placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C"}),(0,Z.jsx)("p",{className:r(me["param-desc"]),children:p.description})]})}},{title:"\u64CD\u4F5C",key:"action",width:60,align:"center",render:function(G,p,pe){var ce;return(0,Z.jsx)(M.Z,{size:"middle",children:(ce=p.dataType)!==null&&ce!==void 0&&ce.includes("Array")?(0,Z.jsx)(n.Me,{className:r("cursor-pointer"),onClick:function(){return s(p)}}):p.name===a.zC&&pe!==0?(0,Z.jsx)(S.Z,{onClick:function(){return X(p.key)}}):null})}}],w=function(){var G=j(E);k({pluginId:Te,params:G})};return(0,Z.jsx)(z.Z,{centered:!0,open:ye,onCancel:re,className:r(me["modal-container"]),destroyOnHidden:!0,modalRender:function(){return(0,Z.jsxs)("div",{className:r(me["inner-container"],"flex","flex-col","overflow-hide"),children:[(0,Z.jsxs)("header",{className:r("flex","content-between","items-center",me.header),children:[(0,Z.jsx)("h3",{children:"\u81EA\u52A8\u89E3\u6790"}),(0,Z.jsx)(d.Z,{className:r("cursor-pointer"),onClick:re})]}),(0,Z.jsxs)("div",{className:r("flex-1","flex","flex-col","overflow-hide"),children:[(0,Z.jsxs)("h3",{className:r(me["p-title"]),children:[Ce," \u8F93\u5165\u53C2\u6570"]}),(0,Z.jsx)(Q.Z,{className:r(me["table-wrap"]),columns:he,dataSource:E,pagination:!1,virtual:!0,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:V,expandIcon:function(){return null}},scroll:{y:450}})]}),(0,Z.jsx)("div",{className:r("text-right"),children:(0,Z.jsx)(_.ZP,{type:"primary",onClick:w,loading:oe,children:"\u81EA\u52A8\u89E3\u6790"})})]})}})},R=F},61304:function(Oe,se,e){e.d(se,{Z:function(){return M}});var H=e(16621),a=e(9504),n=e(94581),m=e.n(n),U=e(75271),h={"xagi-nav-style2":"xagi-nav-style2___bRI93",text:"text___CDY66","page-container":"page-container___pYuyY",title:"title___qlUsF",extra:"extra____ijPr"},S=e(52676),d=m().bind(h),O=function(Q){var _=Q.title,de=Q.extra,Y=Q.onClick;return(0,S.jsxs)("div",{className:d("flex","content-between","items-center","mb-12"),children:[(0,S.jsx)("h3",{className:d(h.title),children:_}),(0,S.jsxs)("div",{className:d(h.extra,"flex"),children:[de,(0,S.jsx)(a.ZP,{icon:(0,S.jsx)(H.Z,{}),onClick:Y,children:"\u65B0\u589E\u53C2\u6570"})]})]})},M=O},2660:function(Oe,se,e){e.d(se,{Z:function(){return ue}});var H=e(48305),a=e.n(H),n=e(54896),m=e(61265),U=e(73415),h=e(94166),S=e(24643),d=e(92122),O=e(39373),M=e(86743),z=e(14258),Q=e(24573),_=e(41249),de=e(63619),Y=e(7010),C=e(14719),J=e(10580),ee=e(9504),me=e(94581),Z=e.n(me),r=e(75271),F=e(56179),R={"xagi-nav-style2":"xagi-nav-style2___vghmE",text:"text___XEBu3","page-container":"page-container___V0beX","modal-container":"modal-container___AN4jk","inner-container":"inner-container___f48hL",header:"header___PLN5P",section:"section___AtQvb","p-title":"p-title___yh4JX","table-wrap":"table-wrap___VKpxr","result-wrap":"result-wrap___EvlBB","loading-box":"loading-box___NvxyX","param-desc":"param-desc___Wg5Xx"},A=e(52676),u=Z().bind(R),Ee=function(Ce){var ye=Ce.inputConfigArgs,re=Ce.inputExpandedRowKeys,D=Ce.pluginId,T=Ce.pluginName,K=Ce.open,E=Ce.onCancel,j=(0,r.useState)(!1),V=a()(j,2),ae=V[0],s=V[1],X=(0,r.useState)(""),te=a()(X,2),k=te[0],oe=te[1],he=(0,h.Z)(),w=he.handleInit,i=he.dataSource,G=he.handleDataSource,p=he.expandedRowKeys,pe=he.handleInputValue,ce=he.handleInputAddChild,Pe=he.handleInputDel,be=(0,F.useRequest)(S.A_,{manual:!0,debounceInterval:300,onSuccess:function(B){s(!1),B.success?oe(JSON.stringify(B.result,null,2)):_.ZP.warning(B.error)},onError:function(){s(!1)}}),Le=be.run;(0,r.useEffect)(function(){w(ye,re)},[ye,re]);var Ae=function(B,f){var g=f;(B.dataType===d.Gi.Integer||B.dataType===d.Gi.Number)&&f&&(g=(0,O.an)(f)===""?"":Number((0,O.an)(f))),pe(B.key,"bindValue",g)},De=[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"name",key:"name",className:"flex",render:function(B,f){return(0,A.jsx)(n.Z,{require:f.require,paramName:f.name,paramType:f.dataType})}},{title:"\u53C2\u6570\u503C",dataIndex:"description",key:"description",render:function(B,f){var g;return(0,A.jsxs)(A.Fragment,{children:[d.Gi.Object===f.dataType||d.Gi.Array_Object===f.dataType||(g=f.dataType)!==null&&g!==void 0&&g.includes("Array")?null:(0,A.jsx)(de.Z,{value:f.bindValue,onChange:function(ve){return Ae(f,ve.target.value)},placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C"}),(0,A.jsx)("p",{className:u(R["param-desc"]),children:f.description})]})}},{title:"\u64CD\u4F5C",key:"action",width:60,align:"center",render:function(B,f,g){var ne;return(0,A.jsx)(Y.Z,{size:"middle",children:(ne=f.dataType)!==null&&ne!==void 0&&ne.includes("Array")?(0,A.jsx)(U.Me,{className:u("cursor-pointer"),onClick:function(){return ce(f)}}):f.name===m.zC&&g!==0?(0,A.jsx)(M.Z,{onClick:function(){return Pe(f.key)}}):null})}}],q=function(){oe(""),s(!0);var B=G(i);Le({pluginId:D,params:B})},o=function(){oe(""),s(!1),E()};return(0,A.jsx)(C.Z,{centered:!0,open:K,onCancel:o,className:u(R["modal-container"]),modalRender:function(){return(0,A.jsxs)("div",{className:u(R["inner-container"],"flex","flex-col","overflow-hide"),children:[(0,A.jsxs)("header",{className:u("flex","content-between","items-center",R.header),children:[(0,A.jsx)("h3",{children:"\u8BD5\u8FD0\u884C"}),(0,A.jsx)(z.Z,{className:u("cursor-pointer"),onClick:o})]}),(0,A.jsxs)("section",{className:u("flex","flex-1","overflow-hide",R.section),children:[(0,A.jsxs)("div",{className:u("flex-1","flex","flex-col"),children:[(0,A.jsxs)("h3",{className:u(R["p-title"]),children:[T," \u8F93\u5165\u53C2\u6570"]}),(0,A.jsx)(J.Z,{className:u(R["table-wrap"]),columns:De,dataSource:i,pagination:!1,virtual:!0,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:p,expandIcon:function(){return null}},scroll:{y:450},footer:function(){return(0,A.jsx)("div",{className:u("text-right"),children:(0,A.jsx)(ee.ZP,{type:"primary",onClick:q,loading:ae,children:"\u8FD0\u884C"})})}})]}),(0,A.jsxs)("div",{className:u("flex-1","flex","flex-col","overflow-hide"),children:[(0,A.jsxs)("h3",{className:u(R["p-title"]),children:[T," \u8C03\u8BD5\u7ED3\u679C"]}),(0,A.jsx)("div",{className:u("flex-1","radius-6","overflow-hide",R["result-wrap"]),children:ae?(0,A.jsxs)("div",{className:u("h-full","flex","items-center","content-center",R["loading-box"]),children:[(0,A.jsx)(Q.Z,{}),(0,A.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]}):k?(0,A.jsx)("div",{className:u("h-full","flex","flex-col","px-16","py-16","overflow-y"),children:(0,A.jsx)("pre",{children:k})}):(0,A.jsx)("div",{className:u("h-full","flex","items-center","content-center"),children:"\u8C03\u8BD5\u7ED3\u679C\u5C06\u5C55\u793A\u5728\u6B64\u5904"})})]})]})]})}})},ue=Ee},91268:function(Oe,se,e){e.d(se,{Z:function(){return U}});var H=e(75271),a=e(92448),n=100,m=function(S){setTimeout(function(){S()},n)};function U(h){var S=h.answer,d=h.thinking,O=h.id,M=(0,H.useRef)(null),z=(0,H.useRef)(O?String(O):(0,a.Z)()),Q=(0,H.useRef)({thinking:0,answer:0});return(0,H.useEffect)(function(){m(function(){if(S){var _,de=S.slice(Q.current.answer);Q.current.answer=S.length,(_=M.current)===null||_===void 0||_.push(de,"answer")}})},[S]),(0,H.useEffect)(function(){m(function(){if(d){var _,de=d.slice(Q.current.thinking);Q.current.thinking=d.length,(_=M.current)===null||_===void 0||_.push(de,"thinking")}})},[d]),(0,H.useEffect)(function(){O&&(z.current=String(O))},[O]),(0,H.useEffect)(function(){return function(){var _;(_=M.current)===null||_===void 0||_.clear(),Q.current={thinking:0,answer:0},z.current=""}},[]),{markdownRef:M,messageIdRef:z}}},53501:function(Oe,se,e){var H=e(26068),a=e.n(H),n=e(15558),m=e.n(n),U=e(48305),h=e.n(U),S=e(39671),d=e(92122),O=e(40677),M=e(41249),z=e(16483),Q=e.n(z),_=e(32222),de=e.n(_),Y=e(75271),C=e(56179),J=e(92448),ee=function(){var Z=(0,C.useParams)(),r=Number(Z.pluginId),F=(0,Y.useState)(!1),R=h()(F,2),A=R[0],u=R[1],Ee=(0,Y.useState)(!1),ue=h()(Ee,2),Te=ue[0],Ce=ue[1],ye=(0,Y.useState)(!1),re=h()(ye,2),D=re[0],T=re[1],K=(0,Y.useState)(!1),E=h()(K,2),j=E[0],V=E[1],ae=(0,Y.useState)(!1),s=h()(ae,2),X=s[0],te=s[1],k=(0,Y.useState)(),oe=h()(k,2),he=oe[0],w=oe[1],i=(0,Y.useState)([]),G=h()(i,2),p=G[0],pe=G[1],ce=(0,Y.useState)([]),Pe=h()(ce,2),be=Pe[0],Le=Pe[1],Ae=(0,Y.useState)([]),De=h()(Ae,2),q=De[0],o=De[1],le=(0,Y.useState)([]),B=h()(le,2),f=B[0],g=B[1],ne=(0,Y.useRef)(!1),ve=function(c,x,I){var b=(0,O.mG)(q,c,x,I);if(o(b),x==="dataType"){if(I===d.Gi.Object||I===d.Gi.Array_Object){var ge=[].concat(m()(p),[c]);pe(ge)}else if(p.includes(c)){var Me=p.filter(function(je){return je!==c});pe(Me)}}},xe=function(c,x,I){var b=(0,O.mG)(f,c,x,I);if(g(b),x==="dataType"){if(I===d.Gi.Object||I===d.Gi.Array_Object){var ge=[].concat(m()(be),[c]);Le(ge)}else if(be.includes(c)){var Me=be.filter(function(je){return je!==c});Le(Me)}}},L=function(c){var x=a()({key:(0,J.Z)()},S.TI),I=(0,O.A4)(q,c,x);o(I);var b=m()(p);b.includes(c)||(b.push(c),pe(b))},Se=function(c){var x=a()({key:(0,J.Z)()},S.gN),I=(0,O.A4)(f,c,x);g(I);var b=m()(be);b.includes(c)||(b.push(c),Le(b))},_e=function(c){var x=(0,O.IK)(q,c);o(x)},Be=function(c){var x=(0,O.IK)(f,c);g(x)},N=function(c){var x=c.icon,I=c.name,b=c.description,ge=de()(he);ge.icon=x,ge.name=I,ge.description=b,w(ge),te(!1)},l=function(){var c=de()(q)||[];c.push(a()({key:(0,J.Z)()},S.TI)),o(c)},y=function(){var c=de()(f)||[];c.push(a()({key:(0,J.Z)()},S.gN)),g(c)},W=function(c){var x=(0,O.kS)(c);Le(x),g(c)},P=function(){V(!1);var c=Q()().toString(),x=a()(a()({},he),{},{publishDate:c,modified:c,publishStatus:d.xH.Published});w(x)},v=function(){ne.current&&(M.ZP.success("\u63D2\u4EF6\u4FDD\u5B58\u6210\u529F"),ne.current=!1);var c=Q()().toString(),x=a()(a()({},he),{},{modified:c});w(x)};return{isModalOpen:A,setIsModalOpen:u,autoAnalysisOpen:Te,setAutoAnalysisOpen:Ce,visible:D,setVisible:T,openModal:j,setOpenModal:V,pluginId:r,pluginInfo:he,setPluginInfo:w,openPlugin:X,setOpenPlugin:te,inputConfigArgs:q,setInputConfigArgs:o,outputConfigArgs:f,setOutputConfigArgs:g,expandedRowKeys:p,setExpandedRowKeys:pe,outputExpandedRowKeys:be,handleInputValue:ve,handleOutputValue:xe,handleInputAddChild:L,handleOutputAddChild:Se,handleInputDel:_e,handleOutputDel:Be,handleConfirmUpdate:N,handleInputConfigAdd:l,handleOutputConfigAdd:y,handleOutputConfigArgs:W,handleConfirmPublishPlugin:P,handleUpdateSuccess:v,isClickSaveBtnRef:ne}};se.Z=ee},94166:function(Oe,se,e){var H=e(15558),a=e.n(H),n=e(26068),m=e.n(n),U=e(48305),h=e.n(U),S=e(61265),d=e(39671),O=e(92122),M=e(40677),z=e(75271),Q=e(92448),_=function(){var Y=(0,z.useState)([]),C=h()(Y,2),J=C[0],ee=C[1],me=(0,z.useState)([]),Z=h()(me,2),r=Z[0],F=Z[1],R=function(D,T){var K=function E(j){return j.map(function(V){var ae=V.dataType,s=V.subArgs;if(ae===O.Gi.Array_Object){var X=(0,Q.Z)();if(T.push(X),s&&s.length>0){var te=[m()(m()({},d.TI),{},{key:X,name:S.zC,dataType:O.Gi.Object,subArgs:E(s)})];return m()(m()({},V),{},{subArgs:te})}}return ae===O.Gi.Object?m()(m()({},V),{},{subArgs:E(s||[])}):V})};return K(D)||[]},A=function(D,T){if(D?.length>0){var K=a()(T),E=R(D,K)||[];F(K),ee(E)}else ee([])},u=function(D,T,K){var E=(0,M.mG)(J,D,T,K);ee(E)},Ee=function(D,T){var K=function E(j){if(j.subArgs&&j.subArgs.length>0){var V,ae=((V=j.subArgs)===null||V===void 0?void 0:V.map(function(X){var te,k=(0,Q.Z)();return(te=X.subArgs)!==null&&te!==void 0&&te.length?(T.push(k),E(X)):m()(m()({},X),{},{key:k,bindValue:""})}))||[],s=(0,Q.Z)();return T.push(s),m()(m()({},j),{},{key:s,subArgs:ae})}return m()(m()({},j),{},{key:(0,Q.Z)()})};return K(D)},ue=function(D){var T=D.key,K=D.dataType,E,j=[];if(K===O.Gi.Array_Object){if(D.subArgs&&D.subArgs.length>0){var V,ae=(V=D.subArgs)===null||V===void 0?void 0:V[0];E=Ee(ae,j)}}else{var s,X=K==null||(s=K.toString())===null||s===void 0||(s=s.split("_"))===null||s===void 0?void 0:s[1];E=m()(m()({},d.TI),{},{key:(0,Q.Z)(),name:S.zC,dataType:X})}var te=(0,M.A4)(J,T,E);ee(te);var k=a()(r);k.includes(T)||k.push(T),K===O.Gi.Array_Object&&k.push.apply(k,j),F(k)},Te=function(D){var T=(0,M.IK)(J,D);ee(T)},Ce=function re(D){return D?.map(function(T){var K=T.subArgs,E={};return K?.forEach(function(j){var V,ae,s;if(j.dataType===O.Gi.Object&&j.name!==S.zC){var X,te={};(X=j.subArgs)===null||X===void 0||X.forEach(function(oe){te[oe.name]=oe.bindValue}),E[j.name]=te}else if((V=j.dataType)!==null&&V!==void 0&&V.includes("Array")&&!((ae=j.dataType)!==null&&ae!==void 0&&ae.includes("Object"))){var k;E[j.name]=(k=j.subArgs)===null||k===void 0?void 0:k.map(function(oe){return oe.bindValue})}else!((s=j.dataType)!==null&&s!==void 0&&s.includes("Array"))&&j.dataType!==O.Gi.Object?E[j.name]=j.bindValue:E[j.name]=re(j?.subArgs)}),E})},ye=function re(D){var T={};return D?.forEach(function(K){var E=K.name,j=K.dataType,V=K.subArgs;if(!(j!=null&&j.includes("Array"))&&j!==O.Gi.Object&&(T[E]=K.bindValue),j!=null&&j.includes("Array")&&!(j!=null&&j.includes("Object"))){var ae;T[E]=(ae=K.subArgs)===null||ae===void 0?void 0:ae.map(function(s){return s.bindValue})}j===O.Gi.Object&&E!==S.zC&&(T[E]=re(V||[])),j===O.Gi.Array_Object&&V&&V?.length>0&&(T[E]=Ce(V))}),T};return{handleInit:A,dataSource:J,handleDataSource:ye,expandedRowKeys:r,handleInputValue:u,handleInputAddChild:ue,handleInputDel:Te}};se.Z=_},48512:function(Oe,se,e){e.d(se,{DJ:function(){return M},RY:function(){return Q},YM:function(){return ee},b9:function(){return me},iE:function(){return O},x8:function(){return de}});var H=e(65173),a=e(73415),n=e(92122),m=e(56769),U=e(63619),h=e(28246),S=e(43898),d=e(52676),O=[{name:"",key:"group1",children:[{name:"\u5927\u6A21\u578B",icon:(0,d.jsx)(a.EF,{}),bgIcon:a.G0,type:n.C8.LLM,shape:n.K$.General,description:"\u8C03\u7528\u5927\u8BED\u8A00\u6A21\u578B\uFF0C\u4F7F\u7528\u53D8\u91CF\u548C\u63D0\u793A\u8BCD\u751F\u6210\u56DE\u590D"},{name:"\u63D2\u4EF6",icon:(0,d.jsx)(a.KS,{}),bgIcon:a.SU,type:n.C8.Plugin,shape:n.K$.General,description:"\u5FC5\u5E94\u641C\u7D22\u5F15\u64CE\u3002\u5F53\u4F60\u9700\u8981\u641C\u7D22\u4F60\u4E0D\u77E5\u9053\u7684\u4FE1\u606F\uFF0C\u6BD4\u5982\u5929\u6C14..."},{name:"\u5DE5\u4F5C\u6D41",icon:(0,d.jsx)(a.fl,{}),bgIcon:a.Ls,type:n.C8.Workflow,shape:n.K$.General,description:"\u5FC5\u5E94\u641C\u7D22\u5F15\u64CE\u3002\u5F53\u4F60\u9700\u8981\u641C\u7D22\u4F60\u4E0D\u77E5\u9053\u7684\u4FE1\u606F\uFF0C\u6BD4\u5982\u5929\u6C14..."},{name:"MCP",icon:(0,d.jsx)(a.VE,{}),bgIcon:a.zH,type:n.C8.MCP,shape:n.K$.General,description:"MCP \u7EC4\u4EF6"}]},{name:"\u4E1A\u52A1\u903B\u8F91",key:"group2",children:[{name:"\u4EE3\u7801",icon:(0,d.jsx)(a.HF,{}),bgIcon:a.Po,type:n.C8.Code,shape:n.K$.General,description:"\u7F16\u5199\u4EE3\u7801\uFF0C\u5904\u7406\u8F93\u5165\u53D8\u91CF\u6765\u751F\u6210\u8FD4\u56DE\u503C"},{name:"\u6761\u4EF6\u5206\u652F",icon:(0,d.jsx)(a.ZO,{}),bgIcon:a.TK,type:n.C8.Condition,shape:n.K$.General,description:"\u8FDE\u63A5\u591A\u4E2A\u4E0B\u6E38\u5206\u652F\uFF0C\u82E5\u8BBE\u5B9A\u7684\u6761\u4EF6\u6210\u7ACB\u5219\u4EC5\u8FD0\u884C\u5BF9\u5E94\u7684\u5206\u652F\uFF0C\u82E5 \u5747\u4E0D\u6210\u7ACB\u5219\u53EA\u8FD0\u884C\u201C\u5426\u5219\u201D\u5206\u652F"},{name:"\u610F\u56FE\u8BC6\u522B",icon:(0,d.jsx)(a.mT,{}),bgIcon:a.cp,type:n.C8.IntentRecognition,shape:n.K$.General,description:"\u7528\u4E8E\u7528\u6237\u8F93\u5165\u7684\u610F\u56FE\u8BC6\u522B\uFF0C\u5E76\u5C06\u5176\u4E0E\u9884\u8BBE\u610F\u56FE\u9009\u9879\u8FDB\u884C\u5339\u914D\u3002"},{name:"\u5FAA\u73AF",icon:(0,d.jsx)(a.ZX,{}),bgIcon:a.bD,type:n.C8.Loop,shape:n.K$.Loop,description:"\u7528\u4E8E\u901A\u8FC7\u8BBE\u5B9A\u5FAA\u73AF\u6B21\u6570\u548C\u903B\u8F91\uFF0C\u91CD\u590D\u6267\u884C\u4E00\u7CFB\u5217\u4EFB\u52A1\u3002"},{name:"\u7EE7\u7EED\u5FAA\u73AF",icon:(0,d.jsx)(a.uS,{}),bgIcon:a.jI,type:n.C8.LoopContinue,shape:n.K$.General,description:""},{name:"\u7EC8\u6B62\u5FAA\u73AF",icon:(0,d.jsx)(a.QL,{}),bgIcon:a.J2,type:n.C8.LoopBreak,shape:n.K$.General,description:""}]},{name:"\u77E5\u8BC6&\u6570\u636E",key:"group3",children:[{name:"\u77E5\u8BC6\u5E93",icon:(0,d.jsx)(a.fF,{}),bgIcon:a.Lm,type:n.C8.Knowledge,shape:n.K$.General,description:"\u5728\u9009\u5B9A\u7684\u77E5\u8BC6\u4E2D\uFF0C\u6839\u636E\u8F93\u5165\u53D8\u91CF\u53EC\u56DE\u6700\u5339\u914D\u7684\u4FE1\u606F"},{name:"\u53D8\u91CF",icon:(0,d.jsx)(a.JU,{}),bgIcon:a.Hl,type:n.C8.Variable,shape:n.K$.General,description:"\u7528\u4E8E\u8BFB\u53D6\u548C\u5199\u5165\u9879\u76EE\u4E2D\u7684\u53D8\u91CF\uFF0C\u53D8\u91CF\u540D\u987B\u4E0E\u9879\u76EE\u4E2D\u7684\u53D8\u91CF\u540D\u76F8\u5339\u914D"},{name:"\u957F\u671F\u8BB0\u5FC6",icon:(0,d.jsx)(a.GY,{}),bgIcon:a.aA,type:n.C8.LongTermMemory,shape:n.K$.General,description:"\u7528\u4E8E\u8C03\u7528\u957F\u671F\u8BB0\u5FC6\uFF0C\u83B7\u53D6\u7528\u6237\u7684\u4E2A\u6027\u5316\u4FE1\u606F"}]},{name:"\u6570\u636E\u8868",key:"group4",children:[{name:"\u6570\u636E\u65B0\u589E",icon:(0,d.jsx)(a.wN,{}),bgIcon:a.Te,type:n.C8.TableDataAdd,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u8FDB\u884C\u6570\u636E\u5199\u5165"},{name:"\u6570\u636E\u5220\u9664",icon:(0,d.jsx)(a.t_,{}),bgIcon:a.u8,type:n.C8.TableDataDelete,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u6839\u636E\u6307\u5B9AID\u8FDB\u884C\u6570\u636E\u5220\u9664"},{name:"\u6570\u636E\u66F4\u65B0",icon:(0,d.jsx)(a.Lg,{}),bgIcon:a.Og,type:n.C8.TableDataUpdate,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u6839\u636E\u6307\u5B9A\u6761\u4EF6\u8FDB\u884C\u6570\u636E\u66F4\u65B0"},{name:"\u6570\u636E\u67E5\u8BE2",icon:(0,d.jsx)(a.Qe,{}),bgIcon:a.c7,type:n.C8.TableDataQuery,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u6839\u636E\u6307\u5B9A\u6761\u4EF6\u8FDB\u884C\u6570\u636E\u67E5\u8BE2"},{name:"SQL\u81EA\u5B9A\u4E49",icon:(0,d.jsx)(a.rX,{}),bgIcon:a.D9,type:n.C8.TableSQL,shape:n.K$.General,description:"\u53EF\u652F\u6301\u5BF9\u6570\u636E\u8868\u7684\u67E5\u8BE2\u63A7\u5236\uFF0C\u7528\u6237\u53EF\u67E5\u8BE2\u5176\u4ED6\u7528\u6237\u63D0\u4EA4\u7684\u6570\u636E\uFF0C\u7531\u5F00\u53D1\u8005\u63A7\u5236"}]},{name:"\u7EC4\u4EF6&\u5DE5\u5177",key:"group5",children:[{name:"\u95EE\u7B54",icon:(0,d.jsx)(a.MO,{}),bgIcon:a.HI,type:n.C8.QA,shape:n.K$.General,description:"\u652F\u6301\u4E2D\u95F4\u5411\u7528\u6237\u63D0\u95EE\u95EE\u9898"},{name:"\u6587\u672C\u5904\u7406",icon:(0,d.jsx)(a.lR,{}),bgIcon:a.v$,type:n.C8.TextProcessing,shape:n.K$.General,description:"\u7528\u4E8E\u5904\u7406\u591A\u4E2A\u5B57\u7B26\u4E32\u7C7B\u578B\u53D8\u91CF\u7684\u683C\u5F0F"},{name:"\u6587\u6863\u63D0\u53D6",icon:(0,d.jsx)(a.zL,{}),bgIcon:a.AR,type:n.C8.DocumentExtraction,shape:n.K$.General,description:"\u7528\u4E8E\u63D0\u53D6\u6587\u6863\u5185\u5BB9\uFF0C\u652F\u6301\u7684\u6587\u4EF6\u7C7B\u578B: txt\u3001 markdown\u3001pdf\u3001 html\u3001 xlsx\u3001 xls\u3001 docx\u3001 csv\u3001 md\u3001 htm"},{name:"http\u8BF7\u6C42",icon:(0,d.jsx)(a.qm,{}),bgIcon:a.L5,type:n.C8.HTTPRequest,shape:n.K$.General,description:"\u7528\u4E8E\u914D\u7F6Ehttp\u8BF7\u6C42\u8C03\u7528\u5DF2\u6709\u7684\u670D\u52A1"}]},{name:"\u8F93\u51FA",key:"group6",children:[{name:"\u8FC7\u7A0B\u8F93\u51FA",icon:(0,d.jsx)(a.N$,{}),bgIcon:a.bi,type:n.C8.Output,shape:n.K$.General,description:"\u652F\u6301\u4E2D\u95F4\u8FC7\u7A0B\u7684\u6D88\u606F\u8F93\u51FA\uFF0C\u652F\u6301\u6D41\u5F0F\u548C\u975E\u6D41\u5F0F\u4E24\u79CD\u65B9\u5F0F"}]}],M=[{label:"String",value:n.Gi.String},{label:"Integer",value:n.Gi.Integer},{label:"Number",value:n.Gi.Number},{label:"File",value:"File",children:[{label:"Doc",value:n.Gi.File_Doc},{label:"Excel",value:n.Gi.File_Excel},{label:"PPT",value:n.Gi.File_PPT},{label:"Txt",value:n.Gi.File_Txt},{label:"Image",value:n.Gi.File_Image},{label:"Audio",value:n.Gi.File_Audio},{label:"Video",value:n.Gi.File_Video},{label:"Svg",value:n.Gi.File_Svg},{label:"Code",value:n.Gi.File_Code}]},{label:"Boolean",value:n.Gi.Boolean},{label:"Object",value:n.Gi.Object},{label:"Array<String>",value:n.Gi.Array_String},{label:"Array<Integer>",value:n.Gi.Array_Integer},{label:"Array<Number>",value:n.Gi.Array_Number},{label:"Array<Boolean>",value:n.Gi.Array_Boolean},{label:"Array<Object>",value:n.Gi.Array_Object},{label:"Array<File>",value:"Array_File",children:[{label:"Default",value:n.Gi.Array_File_Default},{label:"Array<Image>",value:n.Gi.Array_File_Image},{label:"Array<Doc>",value:n.Gi.Array_File_Doc},{label:"Array<Code>",value:n.Gi.Array_File_Code},{label:"Array<PPT>",value:n.Gi.Array_File_PPT},{label:"Array<Txt>",value:n.Gi.Array_File_Txt},{label:"Array<Excel>",value:n.Gi.Array_File_Excel},{label:"Array<Audio>",value:n.Gi.Array_File_Audio},{label:"Array<Zip>",value:n.Gi.Array_File_Zip},{label:"Array<Video>",value:n.Gi.Array_File_Video},{label:"Array<Svg>",value:n.Gi.Array_File_Svg}]}],z=[{label:"\u6807\u9898\u751F\u6210",icon:(0,d.jsx)(a.nG,{}),key:"\u6807\u9898\u751F\u6210",children:[{key:"output",label:"output",tag:"String"},{key:"setting",label:"Setting",tag:"Number"}]}],Q=[{label:"\u4F7F\u7528\u6570\u7EC4\u5FAA\u73AF",value:"ARRAY_LOOP"},{label:"\u6307\u5B9A\u6B21\u6570\u5FAA\u73AF",value:"SPECIFY_TIMES_LOOP"},{label:"\u65E0\u9650\u5FAA\u73AF",value:"INFINITE_LOOP"}],_=[{name:"name",placeholder:"\u53D8\u91CF\u540D",label:"\u53D8\u91CF\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D8\u91CF\u540D"}],component:U.Z,width:140},{name:"dataType",placeholder:"\u9009\u62E9\u7C7B\u578B",label:"\u53D8\u91CF\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u53D8\u91CF\u7C7B\u578B"}],component:h.Z,width:110,options:M},{name:"description",placeholder:"\u63CF\u8FF0",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}],component:S.Z,width:0},{name:"require",placeholder:"\u53D8\u91CF\u540D",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D8\u91CF\u540D"}],component:S.Z,width:0}],de=[{name:"name",placeholder:"\u53C2\u6570\u540D",label:"\u53C2\u6570\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D"}],component:U.Z,width:100},{name:"bindValue",placeholder:"\u8F93\u5165\u6216\u5F15\u7528\u53C2\u6570\u503C",label:"\u53C2\u6570\u503C",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C"}],component:H.Z,width:180},{name:"description",placeholder:"\u63CF\u8FF0",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}],component:S.Z,width:0}],Y=[{name:"intent",placeholder:"\u8F93\u5165\u53C2\u6570\u503C",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u610F\u56FE\u7684\u63CF\u8FF0"}],component:U.Z,width:296}],C=[{name:"name",placeholder:"\u53C2\u6570\u540D",label:"\u53C2\u6570\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D"}],component:U.Z,width:140},{name:"paramsValue",placeholder:"\u8F93\u5165\u6216\u5F15\u7528\u53D8\u91CF\u503C",label:"\u53D8\u91CF\u503C",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D8\u91CF\u503C"}],component:H.Z,width:120}],J=[{icon:(0,d.jsx)(m.Z,{}),name:"\u8D44\u6E90\u5E93\u5DE5\u4F5C\u6D41",key:"resources"},{icon:(0,d.jsx)(m.Z,{}),name:"\u5B98\u65B9\u793A\u4F8B",key:"example"}],ee=[{label:"\u7B49\u4E8E",value:"EQUAL",displayValue:"="},{label:"\u4E0D\u7B49\u4E8E",value:"NOT_EQUAL",displayValue:"\u2260"},{label:"\u5927\u4E8E",value:"GREATER_THAN",displayValue:">"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"GREATER_THAN_OR_EQUAL",displayValue:"\u2265"},{label:"\u5C0F\u4E8E",value:"LESS_THAN",displayValue:"<"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"LESS_THAN_OR_EQUAL",displayValue:"\u2264"},{label:"\u957F\u5EA6\u5927\u4E8E",value:"LENGTH_GREATER_THAN",displayValue:">"},{label:"\u957F\u5EA6\u5927\u4E8E\u7B49\u4E8E",value:"LENGTH_GREATER_THAN_OR_EQUAL",displayValue:"\u2265"},{label:"\u957F\u5EA6\u5C0F\u4E8E",value:"LENGTH_LESS_THAN",displayValue:"<"},{label:"\u957F\u5EA6\u5C0F\u4E8E\u7B49\u4E8E",value:"LENGTH_LESS_THAN_OR_EQUAL",displayValue:"\u2264"},{label:"\u5305\u542B",value:"CONTAINS",displayValue:"\u2283"},{label:"\u4E0D\u5305\u542B",value:"NOT_CONTAINS",displayValue:"\u2285"},{label:"\u5339\u914D\u6B63\u5219\u8868\u8FBE\u5F0F",value:"MATCH_REGEX",displayValue:"~"},{label:"\u4E3A\u7A7A",value:"IS_NULL",displayValue:"\u2205"},{label:"\u4E0D\u4E3A\u7A7A",value:"NOT_NULL",displayValue:"!\u2205"}],me=[{label:"\u7B49\u4E8E",value:"EQUAL",displayValue:"="},{label:"\u4E0D\u7B49\u4E8E",value:"NOT_EQUAL",displayValue:"\u2260"},{label:"\u5927\u4E8E",value:"GREATER_THAN",displayValue:">"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"GREATER_THAN_OR_EQUAL",displayValue:"\u2265"},{label:"\u5C0F\u4E8E",value:"LESS_THAN",displayValue:"<"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"LESS_THAN_OR_EQUAL",displayValue:"\u2264"},{label:"\u5C5E\u4E8E",value:"IN",displayValue:"\u2283"},{label:"\u4E0D\u5C5E\u4E8E",value:"NOT_IN",displayValue:"\u2285"},{label:"\u4E3A\u7A7A",value:"IS_NULL",displayValue:"\u2205"},{label:"\u4E0D\u4E3A\u7A7A",value:"NOT_NULL",displayValue:"!\u2205"}]},87450:function(Oe,se,e){e.r(se),e.d(se,{default:function(){return be}});var H=e(48305),a=e.n(H),n=e(34204),m=e(30704),U=e(6377),h=e(51802),S=e(61304),d=e(2660),O=e(56716),M=e(27791),z=e(73415),Q=e(53501),_=e(48512),de=e(24643),Y=e(64799),C=e(92122),J=e(45019),ee=e(44953),me=e(40677),Z=e(86743),r=e(63619),F=e(28246),R=e(43898),A=e(68108),u=e(7010),Ee=e(10580),ue=e(9504),Te=e(94581),Ce=e.n(Te),ye=e(75271),re=e(56179),D={"xagi-nav-style2":"xagi-nav-style2___r06KJ",text:"text___LMfhu","page-container":"page-container___S5Asf",container:"container___Fwq3l","main-container":"main-container___BnLEw","code-wrap":"code-wrap___XYI5d",title:"title___VcUcA","request-select":"request-select___wCJnV","table-wrap":"table-wrap___EuCyz","mb-24":"mb-24___PIB_Q",select:"select___lnnl7"},T=e(26145),K=e(87620),E=e(86230),j=e(61606),V=e(23299),ae=e(66118),s=e(7036),X=e(73813),te=e(12758),k=e(73981),oe=e(16483),he=e.n(oe),w={"xagi-nav-style2":"xagi-nav-style2___cjGhf",text:"text___HRMYU","page-container":"page-container___gk9XZ",header:"header___P8mE2","icon-back":"icon-back___wQGMi",logo:"logo___MuRti",section:"section___nmrv7","top-box":"top-box___xbScS",name:"name___e7yc4",circle:"circle___ggE8R","bottom-box":"bottom-box___FbQiT",box:"box___dCAYI","update-time":"update-time___y6ozx",segment:"segment___FWtpC",history:"history___raH8V","try-btn":"try-btn___DWPE4"},i=e(52676),G=Ce().bind(w),p=function(Ae){var De=Ae.codeMode,q=Ae.onChange,o=Ae.pluginInfo,le=Ae.onEdit,B=Ae.onToggleHistory,f=Ae.onSave,g=Ae.onTryRun,ne=Ae.onPublish,ve=(0,re.useParams)(),xe=ve.spaceId,L=(0,ye.useMemo)(function(){if(o){var Se;return!(o!=null&&(Se=o.permissions)!==null&&Se!==void 0&&Se.includes(C.jE.Publish))}return!1},[o]);return(0,i.jsxs)("header",{className:G("flex","items-center","w-full",w.header),children:[(0,i.jsx)(j.Z,{className:G(w["icon-back"],"cursor-pointer"),onClick:function(){return(0,E.bC)("/space/".concat(xe,"/library"))}}),(0,i.jsx)("img",{className:G(w.logo),src:o?.icon||T,alt:""}),(0,i.jsxs)("section",{className:G("flex-1","flex","flex-col","content-between",w.section),children:[(0,i.jsxs)("div",{className:G("flex",w["top-box"]),children:[(0,i.jsx)("h3",{className:G(w.name,"text-ellipsis"),children:o?.name}),(0,i.jsx)(V.Z,{className:G("cursor-pointer","hover-box"),onClick:le}),o?.publishStatus===C.xH.Published&&(0,i.jsx)(ae.Z,{className:G(w.circle)}),o?.publishDate!==null&&he()(o?.publishDate).isBefore(o?.modified)&&(0,i.jsx)(te.Z,{bordered:!1,color:"volcano",style:{marginLeft:"6px"},children:"\u6709\u66F4\u65B0\u672A\u53D1\u5E03"})]}),(0,i.jsxs)("div",{className:G(w["bottom-box"],"flex","items-center"),children:[(0,i.jsx)("span",{className:G(w.box),children:o?.type===J.AQ.HTTP?"http":"\u4EE3\u7801"}),(0,i.jsx)("span",{className:G(w.box),children:o?.publishStatus===C.xH.Published?"\u5DF2\u53D1\u5E03":"\u672A\u53D1\u5E03"}),(0,i.jsxs)("span",{className:G(w["update-time"]),children:["\u914D\u7F6E\u4FDD\u5B58\u4E8E",he()(o?.modified).format("HH:mm")]})]})]}),(0,i.jsx)(k.Z,{rootClassName:w.segment,value:De,onChange:q,options:K.fi}),(0,i.jsx)(s.Z,{className:G(w.history,"cursor-pointer"),onClick:B}),(0,i.jsx)(ue.ZP,{className:G(w["try-btn"]),type:"primary",onClick:f,children:"\u4FDD\u5B58"}),(0,i.jsx)(ue.ZP,{className:G(w["try-btn"]),type:"primary",icon:(0,i.jsx)(X.Z,{}),onClick:g,children:"\u8BD5\u8FD0\u884C"}),(0,i.jsx)(ue.ZP,{type:"primary",onClick:ne,disabled:L,children:"\u53D1\u5E03"})]})},pe=p,ce=Ce().bind(D),Pe=function(){var Ae,De=(0,re.useParams)(),q=Number(De.spaceId),o=(0,ye.useState)(J.N9.Metadata),le=a()(o,2),B=le[0],f=le[1],g=(0,ye.useState)(""),ne=a()(g,2),ve=ne[0],xe=ne[1],L=(0,Q.Z)(),Se=L.isModalOpen,_e=L.setIsModalOpen,Be=L.autoAnalysisOpen,N=L.setAutoAnalysisOpen,l=L.visible,y=L.setVisible,W=L.openModal,P=L.setOpenModal,v=L.pluginId,t=L.pluginInfo,c=L.setPluginInfo,x=L.openPlugin,I=L.setOpenPlugin,b=L.inputConfigArgs,ge=L.setInputConfigArgs,Me=L.outputConfigArgs,je=L.expandedRowKeys,Fe=L.setExpandedRowKeys,Ge=L.outputExpandedRowKeys,Ze=L.handleInputValue,Ve=L.handleOutputValue,Qe=L.handleInputAddChild,We=L.handleOutputAddChild,ze=L.handleInputDel,Ne=L.handleOutputDel,Ue=L.handleConfirmUpdate,Je=L.handleInputConfigAdd,Ke=L.handleOutputConfigAdd,Xe=L.handleOutputConfigArgs,ke=L.handleConfirmPublishPlugin,we=L.handleUpdateSuccess,qe=L.isClickSaveBtnRef,en=(0,re.useRequest)(de.dB,{manual:!0,debounceInterval:300,onSuccess:function(ie){var $;if(c(ie),xe(ie==null||($=ie.config)===null||$===void 0?void 0:$.code),ie.config){var Re=ie.config,Ie=Re.inputArgs,$e=Re.outputArgs,vn=(0,me.kS)(Ie);Fe(vn),ge(Ie),Xe($e)}}}),nn=en.run,an=(0,re.useRequest)(de.TU,{manual:!0,debounceInterval:300,onSuccess:function(){we()}}),tn=an.run;(0,ye.useEffect)(function(){nn(v)},[v]);var Ye=function(ie){return ie[ie.length-1]},ln=[{title:(0,i.jsx)(U.Z,{label:"\u53C2\u6570\u540D\u79F0"}),dataIndex:"name",key:"name",className:"flex items-center",render:function(ie,$){return(0,i.jsx)(r.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0\uFF0C\u786E\u4FDD\u542B\u4E49\u6E05\u6670",value:ie,onChange:function(Ie){return Ze($.key,"name",Ie.target.value)}})}},{title:(0,i.jsx)(U.Z,{label:"\u53C2\u6570\u63CF\u8FF0"}),dataIndex:"description",key:"description",render:function(ie,$){return(0,i.jsx)(r.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u63CF\u8FF0\uFF0C\u786E\u4FDD\u63CF\u8FF0\u8BE6\u7EC6\u4FBF\u4E8E\u5927\u6A21\u578B\u66F4\u597D\u7684\u7406\u89E3",value:ie,onChange:function(Ie){return Ze($.key,"description",Ie.target.value)}})}},{title:(0,i.jsx)(U.Z,{label:"\u53C2\u6570\u7C7B\u578B"}),dataIndex:"dataType",key:"dataType",width:120,render:function(ie,$){return(0,i.jsx)(F.Z,{rootClassName:D.select,allowClear:!1,options:_.DJ,expandTrigger:"hover",displayRender:Ye,defaultValue:(0,ee.n3)(ie),onChange:function(Ie){Ze($.key,"dataType",(0,ee.$g)(Ie))},placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u7C7B\u578B"})}},{title:"\u662F\u5426\u5FC5\u987B",dataIndex:"require",key:"require",width:100,align:"center",render:function(ie,$){return(0,i.jsx)(R.Z,{checked:ie,onChange:function(Ie){return Ze($.key,"require",Ie.target.checked)}})}},{title:"\u9ED8\u8BA4\u503C",dataIndex:"bindValue",key:"bindValue",width:150,render:function(ie,$){var Re;return(0,i.jsx)(r.Z,{placeholder:"\u8BF7\u8F93\u5165\u9ED8\u8BA4\u503C",disabled:C.Gi.Object===$.dataType||C.Gi.Array_Object===$.dataType||((Re=$.dataType)===null||Re===void 0?void 0:Re.includes("Array"))||!$.enable,value:ie,onChange:function($e){return Ze($.key,"bindValue",$e.target.value)}})}},{title:"\u5F00\u542F",dataIndex:"enable",key:"enable",width:70,align:"center",render:function(ie,$){return(0,i.jsx)(A.Z,{title:$.require&&!$.bindValue&&"\u6B64\u53C2\u6570\u662F\u5FC5\u586B\u53C2\u6570\uFF0C\u586B\u5199\u9ED8\u8BA4\u503C\u540E\uFF0C\u6B64\u5F00\u5173\u53EF\u7528",children:(0,i.jsx)(R.Z,{disabled:$.require&&!$.bindValue,checked:ie,onChange:function(Ie){return Ze($.key,"enable",Ie.target.checked)}})})}},{title:"\u64CD\u4F5C",key:"action",width:80,align:"right",render:function(ie,$){return(0,i.jsxs)(u.Z,{size:"middle",children:[(C.Gi.Object===$.dataType||C.Gi.Array_Object===$.dataType)&&(0,i.jsx)(z.Me,{className:ce("cursor-pointer"),onClick:function(){return Qe($.key)}}),(0,i.jsx)(Z.Z,{onClick:function(){return ze($.key)}})]})}}],sn=[{title:(0,i.jsx)(U.Z,{label:"\u53C2\u6570\u540D\u79F0"}),dataIndex:"name",key:"name",width:430,className:"flex items-center",render:function(ie,$){return(0,i.jsx)(r.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0\uFF0C\u786E\u4FDD\u542B\u4E49\u6E05\u6670",value:ie,onChange:function(Ie){return Ve($.key,"name",Ie.target.value)}})}},{title:(0,i.jsx)(U.Z,{label:"\u53C2\u6570\u63CF\u8FF0"}),dataIndex:"description",key:"description",render:function(ie,$){return(0,i.jsx)(r.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u63CF\u8FF0\uFF0C\u786E\u4FDD\u63CF\u8FF0\u8BE6\u7EC6\u4FBF\u4E8E\u5927\u6A21\u578B\u66F4\u597D\u7684\u7406\u89E3",onChange:function(Ie){return Ve($.key,"description",Ie.target.value)},value:ie})}},{title:(0,i.jsx)(U.Z,{label:"\u53C2\u6570\u7C7B\u578B"}),dataIndex:"dataType",key:"dataType",width:120,render:function(ie,$){return(0,i.jsx)(F.Z,{allowClear:!1,rootClassName:D.select,options:_.DJ,expandTrigger:"hover",displayRender:Ye,defaultValue:(0,ee.n3)(ie),onChange:function(Ie){Ve($.key,"dataType",(0,ee.$g)(Ie))},placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u7C7B\u578B"})}},{title:"\u5F00\u542F",dataIndex:"enable",key:"enable",width:70,align:"center",render:function(ie,$){return(0,i.jsx)(R.Z,{checked:ie,onChange:function(Ie){return Ve($.key,"enable",Ie.target.checked)}})}},{title:"\u64CD\u4F5C",key:"action",width:80,align:"right",render:function(ie,$){return(0,i.jsxs)(u.Z,{size:"middle",children:[(C.Gi.Object===$.dataType||C.Gi.Array_Object===$.dataType)&&(0,i.jsx)(z.Me,{className:ce("cursor-pointer"),onClick:function(){return We($.key)}}),(0,i.jsx)(Z.Z,{onClick:function(){return Ne($.key)}})]})}}],He=function(){tn({id:v,config:{inputArgs:b,outputArgs:Me,code:ve}})},rn=function(){qe.current=!0,He()},on=function(){He(),_e(!0)},un=function(){He(),P(!0)},dn=function(){He(),N(!0)},cn=function(ie){var $=ie;f($)};return(0,i.jsxs)("div",{className:ce("flex","h-full"),children:[(0,i.jsxs)("div",{className:ce(D.container,"flex","flex-col","flex-1"),children:[(0,i.jsx)(pe,{codeMode:B,pluginInfo:t,onEdit:function(){return I(!0)},onChange:cn,onToggleHistory:function(){return y(!l)},onSave:rn,onTryRun:on,onPublish:un}),B===J.N9.Metadata?(0,i.jsxs)("div",{className:ce(D["main-container"],"overflow-y","flex-1"),children:[(0,i.jsx)(S.Z,{title:"\u5165\u53C2\u914D\u7F6E",onClick:Je}),(0,i.jsx)(Ee.Z,{className:ce(D["table-wrap"],D["mb-24"],"overflow-hide"),columns:ln,dataSource:b,pagination:!1,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:je,expandIcon:function(){return null}}}),(0,i.jsx)(S.Z,{title:"\u51FA\u53C2\u914D\u7F6E",onClick:Ke,extra:(0,i.jsx)(ue.ZP,{onClick:dn,children:"\u81EA\u52A8\u89E3\u6790"})}),(0,i.jsx)(Ee.Z,{className:ce(D["table-wrap"],"overflow-hide"),columns:sn,dataSource:Me,pagination:!1,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:Ge,expandIcon:function(){return null}}})]}):(0,i.jsx)("div",{className:ce(D["main-container"],D["code-wrap"],"overflow-y","flex-1"),children:(0,i.jsx)(n.Z,{value:ve,height:"100%",onChange:xe,codeLanguage:t==null||(Ae=t.config)===null||Ae===void 0?void 0:Ae.codeLang})})]}),(0,i.jsx)(d.Z,{inputConfigArgs:b,inputExpandedRowKeys:je,pluginId:v,pluginName:t?.name,open:Se,onCancel:function(){return _e(!1)}}),(0,i.jsx)(h.Z,{inputConfigArgs:b,inputExpandedRowKeys:je,pluginId:v,pluginName:t?.name,open:Be,onCancel:function(){return N(!1)},onConfirm:Xe}),(0,i.jsx)(O.Z,{mode:Y.qR.Plugin,targetId:v,category:t?.category,spaceId:q,open:W,onlyShowTemplate:!1,onCancel:function(){return P(!1)},onConfirm:ke}),(0,i.jsx)(M.Z,{targetId:v,targetName:t?.name,targetType:Y.qR.Plugin,permissions:t?.permissions||[],visible:l,onClose:function(){return y(!1)}}),(0,i.jsx)(m.Z,{open:x,id:t?.id,icon:t?.icon,name:t?.name,description:t?.description,mode:C.jA.Update,onCancel:function(){return I(!1)},onConfirm:Ue})]})},be=Pe},63136:function(Oe,se,e){e.d(se,{L:function(){return a},U:function(){return H}});var H=function(n){return n.WORKFLOW_LLM_NODE="WORKFLOW_LLM_NODE",n.AGENT="AGENT",n}({}),a=function(n){return n.prompt="prompt",n.code="code",n.sql="sql",n}({})},15457:function(){},65774:function(Oe,se,e){Oe.exports=e.p+"static/doc_image.5415f2c1.jpg"},35044:function(Oe){Oe.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAH1SURBVEiJvZaxbtNQFIb///q67YDUDAwMDJHqoQ/A2KE3UCkSCwMvgBBTB54A0ZFKIBUhBAxIvEEHhhIHeh+AB2BB6sJQqUtGGtf+WRrHVZI6dm3+6crnHH86v3TuPRwMvj8CzAcSVtL7lRVz4JwboSUxjo/PANwufBtJetsWmHF8/AvA5pxYK2BD8tuCWIfkyyTRyWDwY89732kEmKbpoCSnUTC997eSRGcA1pasGZF8bS3eOOf+VgYCwHDovaTtKoUSTkm+CkN8qgI2AJBlWZmtMyJxB9DBeKyTOPbPvfdLOUQAiGN/D9DPqtCilu2Yk8OceWwFbArsReNRSWVW5x0Oh35Lwi6gLolIunm3QN7xXhjis3PugosSvfedJEFXSiOAEWk2SHUlbAK4W4P9m0yfLAReJ++9HY/RJ/W1YukfU54zV9YYBXUKF3Z4eOg76+vayDJGWYYugAhQJCEi61rKqaVHR8PtILC7gC5/jkYuaxKnkl6EofninLuwk0AQ2KeAHjcBmYDSVPurq+ajc718Hu00Rf2mQTs7vZnBt0B+td1o7spAV4AA7rcNugIk0ZfaBeV1dR5gSfuXu07lB9ien6dbxphlYIWlqld7qbLGBA+Ba/1sBJQDAT34H6ACcOYZagWUAyU+I/UOwNp01W8eNNE/wcEU7Dx0xUMAAAAASUVORK5CYII="}}]);})();
