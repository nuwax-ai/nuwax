(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[3371],{61606:function(ne,T,e){"use strict";e.d(T,{Z:function(){return O}});var g=e(66283),p=e(75271),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},H=m,S=e(47221),i=function(le,$){return p.createElement(S.Z,(0,g.Z)({},le,{ref:$,icon:H}))},A=p.forwardRef(i),O=A},59261:function(ne,T,e){"use strict";var g=e(75271),p=e(52676),m=function(S){var i=S.children,A=S.condition;return A?(0,p.jsx)(p.Fragment,{children:i}):null};T.Z=m},56394:function(ne,T,e){"use strict";e.d(T,{Z:function(){return le}});var g=e(26068),p=e.n(g),m=e(94581),H=e.n(m),S=e(75271),i={container:"container___MZd_M",content:"content___VCV8q",body:"body___G3kls"},A=e(52676),O=function(D){if(D!==void 0)return typeof D=="number"?"".concat(D,"px"):D},V=function(D){var he=D.className,ae=D.style,n=D.height,h=D.maxHeight,x=D.bodyWidth,I=D.children,N=(0,S.useMemo)(function(){return p()(p()({},ae),{},{height:n!==void 0?O(n):h===void 0?"100%":void 0,maxHeight:O(h)})},[ae,n,h]);return(0,A.jsx)("div",{className:H()(i.container,he),style:N,children:(0,A.jsx)("div",{className:i.content,children:(0,A.jsx)("div",{className:i.body,style:{width:x},children:I})})})},le=V},3055:function(ne,T,e){"use strict";e.d(T,{Z:function(){return V}});var g=e(24573),p=e(94581),m=e.n(p),H=e(75271),S={"xagi-nav-style2":"xagi-nav-style2___xuAte",text:"text___sfO7S","page-container":"page-container___rvj3b",container:"container___MWZZN"},i=e(52676),A=m().bind(S),O=function($){var D=$.className;return(0,i.jsxs)("div",{className:A("flex","flex-1","items-center","content-center",S.container,D),children:[(0,i.jsx)(g.Z,{}),(0,i.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]})},V=O},75468:function(ne,T,e){"use strict";var g=e(90228),p=e.n(g),m=e(87999),H=e.n(m),S=e(80241),i=e(29333),A=e(56179),O=function(){var le=(0,i.Z)(S.co,{manual:!0,debounceMaxWait:300}),$=le.runAsync,D=function(){var he=H()(p()().mark(function ae(n,h){var x,I,N,M,te;return p()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return x=h?.variableParams,Se.next=3,$({agentId:n,devMode:!1,variables:x});case 3:I=Se.sent,N=I.success,M=I.data,N&&(te=M?.id,A.history.push("/home/chat/".concat(te,"/").concat(n),h));case 7:case"end":return Se.stop()}},ae)}));return function(n,h){return he.apply(this,arguments)}}();return{handleCreateConversation:D,runAsyncConversationCreate:$}};T.Z=O},88458:function(ne,T,e){"use strict";var g=e(15558),p=e.n(g),m=e(48305),H=e.n(m),S=e(64799),i=e(75271),A=function(){var V=(0,i.useState)([]),le=H()(V,2),$=le[0],D=le[1],he=function(h){var x=p()($);if(x.some(function(N){return N.id===h.id})){var I=x.findIndex(function(N){return N.id===h.id});x.splice(I,1)}else x.push({id:h.id,type:h.type});D(x)},ae=function(h){if(h!=null&&h.length){var x=h.filter(function(I){return I.defaultSelected===S.Km.Yes}).map(function(I){return{id:I.id,type:I.type}});D(x||[])}};return{selectedComponentList:$,setSelectedComponentList:D,handleSelectComponent:he,initSelectedComponentList:ae}};T.Z=A},96289:function(ne,T,e){"use strict";e.r(T),e.d(T,{default:function(){return Tn}});var g=e(90228),p=e.n(g),m=e(87999),H=e.n(m),S=e(48305),i=e.n(S),A=e(49974),O=e(3055),V=e(75468),le=e(88458),$=e(41705),D=e(46219),he=e(94581),ae=e.n(he),n=e(75271),h=e(56179),x=e(82092),I=e.n(x),N=e(15558),M=e.n(N),te=function(o){var t=o.categories,a=o.activeTab,C=o.onTabClick,f=o.observerOptions,L=f===void 0?{}:f,P=o.scrollDelay,E=P===void 0?1e3:P,F=(0,n.useRef)({}),j=(0,n.useRef)(null),W=(0,n.useState)(!1),Z=i()(W,2),_=Z[0],G=Z[1],K=(0,n.useState)(new Set),z=i()(K,2),b=z[0],y=z[1],d=L.threshold,k=d===void 0?.3:d,c=L.rootMargin,U=c===void 0?"-20% 0px -60% 0px":c,w=L.root,Y=w===void 0?null:w,B=(0,n.useCallback)(function(X){console.log("\u{1F3AF} \u6807\u7B7E\u70B9\u51FB\uFF1A\u5BFC\u822A\u5230 ".concat(X)),G(!0),C(X);var J=F.current[X];J&&(J.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(function(){G(!1)},E))},[C,E]);return(0,n.useEffect)(function(){if(!(!t||t.length===0)){var X=new IntersectionObserver(function(J){if(!_){var ie=new Set;if(J.forEach(function(ee){var ce=ee.target,ue=ce.dataset.category;ue&&ee.isIntersecting&&ie.add(ue)}),y(ie),ie.size>0){var q=t.map(function(ee){return ee.type}),fe=q.filter(function(ee){return ie.has(ee)}),_e=fe[0];_e&&_e!==a&&(console.log("\u{1F504} \u6EDA\u52A8\u540C\u6B65\uFF1A\u81EA\u52A8\u5207\u6362\u5230\u6807\u7B7E ".concat(_e)),C(_e))}}},{root:Y,threshold:k,rootMargin:U});return Object.values(F.current).forEach(function(J){J&&X.observe(J)}),function(){X.disconnect()}}},[t,_,a,C,k,U,Y]),{sectionRefs:F,contentContainerRef:j,visibleSections:b,isProgrammaticScroll:_,handleTabClick:B}},Te=null,Se=e(82187),We=e.n(Se),ke=e(40493),Ve=e(130),De=e(62249),Ke=e(97947);const tn=v=>{const{componentCls:o}=v;return{[o]:{position:"fixed",zIndex:v.zIndexPopup}}},an=v=>({zIndexPopup:v.zIndexBase+10});var on=(0,Ke.I$)("Affix",tn,an);function Ae(v){return v!==window?v.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function we(v,o,t){if(t!==void 0&&Math.round(o.top)>Math.round(v.top)-t)return t+o.top}function Ye(v,o,t){if(t!==void 0&&Math.round(o.bottom)<Math.round(v.bottom)+t){const a=window.innerHeight-o.bottom;return t+a}}var rn=function(v,o){var t={};for(var a in v)Object.prototype.hasOwnProperty.call(v,a)&&o.indexOf(a)<0&&(t[a]=v[a]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,a=Object.getOwnPropertySymbols(v);C<a.length;C++)o.indexOf(a[C])<0&&Object.prototype.propertyIsEnumerable.call(v,a[C])&&(t[a[C]]=v[a[C]]);return t};const Xe=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Pe(){return typeof window<"u"?window:null}const Ie=0,Qe=1;var je=n.forwardRef((v,o)=>{var t;const{style:a,offsetTop:C,offsetBottom:f,prefixCls:L,className:P,rootClassName:E,children:F,target:j,onChange:W,onTestUpdatePosition:Z}=v,_=rn(v,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:G,getTargetContainer:K}=n.useContext(De.E_),z=G("affix",L),[b,y]=n.useState(!1),[d,k]=n.useState(),[c,U]=n.useState(),w=n.useRef(Ie),Y=n.useRef(null),B=n.useRef(null),X=n.useRef(null),J=n.useRef(null),ie=n.useRef(null),q=(t=j??K)!==null&&t!==void 0?t:Pe,fe=f===void 0&&C===void 0?0:C,_e=()=>{if(w.current!==Qe||!J.current||!X.current||!q)return;const u=q();if(u){const l={status:Ie},r=Ae(X.current);if(r.top===0&&r.left===0&&r.width===0&&r.height===0)return;const ge=Ae(u),re=we(r,ge,fe),pe=Ye(r,ge,f);re!==void 0?(l.affixStyle={position:"fixed",top:re,width:r.width,height:r.height},l.placeholderStyle={width:r.width,height:r.height}):pe!==void 0&&(l.affixStyle={position:"fixed",bottom:pe,width:r.width,height:r.height},l.placeholderStyle={width:r.width,height:r.height}),l.lastAffix=!!l.affixStyle,b!==l.lastAffix&&W?.(l.lastAffix),w.current=l.status,k(l.affixStyle),U(l.placeholderStyle),y(l.lastAffix)}},ee=()=>{w.current=Qe,_e()},ce=(0,Ve.Z)(()=>{ee()}),ue=(0,Ve.Z)(()=>{if(q&&d){const u=q();if(u&&X.current){const l=Ae(u),r=Ae(X.current),ge=we(r,l,fe),re=Ye(r,l,f);if(ge!==void 0&&d.top===ge||re!==void 0&&d.bottom===re)return}}ee()}),Ne=()=>{const u=q?.();u&&(Xe.forEach(l=>{var r;B.current&&((r=Y.current)===null||r===void 0||r.removeEventListener(l,B.current)),u?.addEventListener(l,ue)}),Y.current=u,B.current=ue)},Me=()=>{ie.current&&(clearTimeout(ie.current),ie.current=null);const u=q?.();Xe.forEach(l=>{var r;u?.removeEventListener(l,ue),B.current&&((r=Y.current)===null||r===void 0||r.removeEventListener(l,B.current))}),ce.cancel(),ue.cancel()};n.useImperativeHandle(o,()=>({updatePosition:ce})),n.useEffect(()=>(ie.current=setTimeout(Ne),()=>Me()),[]),n.useEffect(()=>(Ne(),()=>Me()),[j,d,b,C,f]),n.useEffect(()=>{ce()},[j,C,f]);const[Le,Ge,ze]=on(z),R=We()(E,Ge,z,ze),me=We()({[R]:d});return Le(n.createElement(ke.default,{onResize:ce},n.createElement("div",Object.assign({style:a,className:P,ref:X},_),d&&n.createElement("div",{style:c,"aria-hidden":"true"}),n.createElement("div",{className:me,ref:J,style:d},n.createElement(ke.default,{onResize:ce},F)))))}),Je=e(7010),Oe=e(69219),de=e(43183),Ce=e(71691),qe=e(26068),oe=e.n(qe),ve=e(78434),en=e(22675),sn=e(28057),Q={"xagi-nav-style2":"xagi-nav-style2___w6m93",text:"text___NIeGM","page-container":"page-container___p0TFP",container:"container___llqeU","icon-box":"icon-box___iMNxH",dragging:"dragging___QpQ6J","img-wrapper":"img-wrapper___qQkjr",img:"img___z_6H1","info-box":"info-box___yxA8K","title-section":"title-section___tZgak","source-section":"source-section___paSUT",source:"source___XXt4w","user-icon":"user-icon___SRlLU","desc-section":"desc-section___MVFsO",collected:"collected___uNbOv",collecting:"collecting___WXfwH","star-icon":"star-icon___RfK8S"},s=e(52676),ye=ae().bind(Q),Be=function(o){var t=o.info,a=o.onItemClick,C=o.onToggleCollect,f=(0,n.useState)(!1),L=i()(f,2),P=L[0],E=L[1],F=(0,n.useState)(!1),j=i()(F,2),W=j[0],Z=j[1],_=function(){var b=H()(p()().mark(function y(d){return p()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(d.stopPropagation(),!P){c.next=3;break}return c.abrupt("return");case 3:return c.prev=3,E(!0),c.next=7,C();case 7:c.next=12;break;case 9:c.prev=9,c.t0=c.catch(3),console.error("\u6536\u85CF\u64CD\u4F5C\u5931\u8D25:",c.t0);case 12:return c.prev=12,E(!1),c.finish(12);case 15:case"end":return c.stop()}},y,null,[[3,9,12,15]])}));return function(d){return b.apply(this,arguments)}}(),G=function(){Z(!0)},K=function(){var y,d;return t!=null&&(y=t.publishUser)!==null&&y!==void 0&&y.nickName?t.publishUser.nickName:t!=null&&(d=t.publishUser)!==null&&d!==void 0&&d.userName?t.publishUser.userName:"\u672A\u77E5\u7528\u6237"},z=function(){return t!=null&&t.description?t.description:"\u6682\u65E0\u63CF\u8FF0"};return(0,s.jsxs)("div",{className:ye(Q.container),onClick:a,title:"".concat(t?.name||"\u667A\u80FD\u4F53"," - ").concat(z()),children:[(0,s.jsx)("div",{className:Q["img-wrapper"],children:(0,s.jsx)("img",{className:ye(Q.img),src:W?en:t.icon||en,alt:t?.name||"\u667A\u80FD\u4F53\u5934\u50CF",onError:G,loading:"lazy"})}),(0,s.jsxs)("div",{className:ye(Q["info-box"]),children:[(0,s.jsx)(Oe.Z.Title,{level:5,ellipsis:{rows:1,expandable:!1,symbol:"..."},title:t?.name||"\u667A\u80FD\u4F53\u540D\u79F0",className:Q["title-section"],children:t?.name||"\u672A\u547D\u540D\u667A\u80FD\u4F53"}),(0,s.jsx)("div",{className:Q["source-section"],children:(0,s.jsxs)("p",{className:ye(Q.source),children:["\u6765\u81EA ",K()]})})]}),(0,s.jsx)("span",{className:ye(Q["icon-box"],I()(I()({},Q.collected,t.collect),Q.collecting,P)),onClick:_,title:t.collect?"\u53D6\u6D88\u6536\u85CF":"\u6536\u85CF",children:(0,s.jsx)(sn.Z,{className:ye(Q["star-icon"],I()({},Q.spinning,P))})}),(0,s.jsx)(Oe.Z.Paragraph,{className:Q["desc-section"],ellipsis:{rows:2,expandable:!1,symbol:"..."},children:z()})]})},ln=Be,un={CATEGORY:"CATEGORY",AGENT:"AGENT"},Re={CATEGORY:"\u53EF\u62D6\u62FD\u66F4\u6362\u680F\u76EE\u987A\u5E8F",AGENT:"\u53EF\u62D6\u62FD\u66F4\u6362\u667A\u80FD\u4F53\u987A\u5E8F"},be={UPDATING_SORT:"\u6B63\u5728\u66F4\u65B0\u6392\u5E8F..."},He={SORT_SUCCESS:"\u6392\u5E8F\u66F4\u65B0\u6210\u529F"},Fe={SORT_FAILED:"\u6392\u5E8F\u66F4\u65B0\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"},nn=n.memo(function(v){var o=v.agent,t=v.categoryType,a=v.dragHoverText,C=v.onAgentClick,f=v.onToggleCollect,L=v.onMouseEnter,P=v.onMouseLeave,E=(0,Ce.nB)({id:String(o.targetId)}),F=E.attributes,j=E.listeners,W=E.setNodeRef,Z=E.transform,_=E.transition,G=E.isDragging,K={transform:ve.ux.Translate.toString(Z),transition:_,opacity:G?.8:1,zIndex:G?1e3:"auto"},z=function(){C(o.targetId)},b=function(){f(t,o)},y=function(){L(Re.AGENT)};return(0,s.jsx)("div",oe()(oe()(oe()({ref:W,style:K},F),j),{},{onMouseEnter:y,onMouseLeave:P,title:a&&!G?a:"",children:(0,s.jsx)(ln,{info:o,onItemClick:z,onToggleCollect:b})}))});nn.displayName="AgentCard";var vn=nn,se={"xagi-nav-style2":"xagi-nav-style2___YSqDy",text:"text___RdOva","page-container":"page-container___TGPYq","empty-box":"empty-box___kKxJc",stickyContainer:"stickyContainer___bTk9_","category-name":"category-name___Q2e4H",recommendContainer:"recommendContainer___iZivl",recommendTitle:"recommendTitle___Hm83L",recommendDesc:"recommendDesc___eL9W6","category-list":"category-list___LcB1n",dragging:"dragging___IbZ5X",draggableContainer:"draggableContainer___mbebw",section:"section___fhOhJ",sectionTitle:"sectionTitle___uqNXG",agentGrid:"agentGrid___gdHQP",contentContainer:"contentContainer___rkjAh",emptyContainer:"emptyContainer___k7bXI",activeSticky:"activeSticky___KG8s9",agentCard:"agentCard___rQawj",cardContent:"cardContent___kSrZL",avatarContainer:"avatarContainer___vvgoS",avatar:"avatar___N6UwM",cardTitle:"cardTitle___nyC2t",cardStats:"cardStats___e0AJq",stat:"stat___Ekmew",collectBtn:"collectBtn___zzjmj",collected:"collected___nWAvE"},cn=ae().bind(se),fn=function(o){var t=o.category,a=o.agents,C=o.dragHoverText,f=o.onAgentClick,L=o.onToggleCollect,P=o.onMouseEnter,E=o.onMouseLeave,F=o.sectionRef,j=o.onAgentDragEnd,W=(0,n.useState)(a),Z=i()(W,2),_=Z[0],G=Z[1];(0,n.useEffect)(function(){G(a)},[a]);var K=(0,de.Dy)((0,de.VT)(de.we,{activationConstraint:{distance:8}})),z=(0,n.useCallback)(function(b){var y=b.active,d=b.over;if(y.id!==d?.id&&d!==null&&d!==void 0&&d.id){var k=Number(y.id),c=Number(d.id),U=_.findIndex(function(B){return B.targetId===k}),w=_.findIndex(function(B){return B.targetId===c});if(U!==-1&&w!==-1){var Y=(0,Ce.Rp)(_,U,w);G(Y),j?.(t.type,Y)}}},[_,t.type,j]);return!_||_.length===0?null:(0,s.jsxs)("div",{ref:F,"data-category":t.type,className:cn(se.section,{}),children:[(0,s.jsxs)("div",{className:cn(se.sectionTitle),children:[t.name,"(",_.length,")"]}),(0,s.jsx)(de.LB,{sensors:K,collisionDetection:de.pE,onDragEnd:z,children:(0,s.jsx)(Ce.Fo,{items:_.map(function(b){return String(b.targetId)}),strategy:Ce.U2,children:(0,s.jsx)("div",{className:cn(se.agentGrid),children:_.map(function(b){return(0,s.jsx)(vn,{agent:b,categoryType:t.type,dragHoverText:C,onAgentClick:f,onToggleCollect:L,onMouseEnter:P,onMouseLeave:E},b.targetId)})})})})]})},mn=fn,gn=e(36075),pn=e.n(gn),Cn=e(47548),dn={"xagi-nav-style2":"xagi-nav-style2___HTb9L",text:"text___a3TlF","page-container":"page-container___O29iU",categoryContainer:"categoryContainer___HEOY3"},_n=ae().bind(dn),hn=function(o){var t=Object.assign({},(pn()(o),o)),a=(0,Ce.nB)({id:t["data-node-key"]}),C=a.attributes,f=a.listeners,L=a.setNodeRef,P=a.transform,E=a.transition,F=oe()(oe()({},t.style),{},{transform:ve.ux.Translate.toString(P),transition:E,cursor:"move"});return n.cloneElement(t.children,oe()(oe()({ref:L,style:F},C),f))},Sn=function(o){var t=o.categories,a=o.activeCategory,C=o.dragHoverText,f=o.onCategoryDragEnd,L=o.onTabClick,P=o.onMouseEnter,E=o.onMouseLeave,F=o.onDragStart,j=(0,n.useState)(t),W=i()(j,2),Z=W[0],_=W[1];n.useEffect(function(){_(t)},[t]);var G=(0,de.VT)(de.we,{activationConstraint:{distance:8}}),K=(0,n.useMemo)(function(){return Z.map(function(y){return{key:y.type,label:y.name,children:null}})},[Z]),z=function(d){var k=d.active,c=d.over;k.id!==c?.id&&_(function(U){var w=U.findIndex(function(B){return B.type===k.id}),Y=U.findIndex(function(B){return B.type===c?.id});return w!==-1&&Y!==-1?(0,Ce.Rp)(U,w,Y):U}),f(d)},b=(0,n.useCallback)(function(y){console.log("\u{1F3AF} Tab\u70B9\u51FB\u4E8B\u4EF6: ".concat(y)),L(y)},[L]);return!Z||Z.length===0?null:(0,s.jsx)("div",{className:_n(dn.categoryContainer),children:(0,s.jsx)(Cn.Z,{activeKey:a,items:K,onChange:b,tabBarStyle:{marginBottom:0,borderBottom:"none"},tabBarGutter:8,size:"middle",indicator:{size:0},renderTabBar:function(d,k){return(0,s.jsx)(de.LB,{sensors:[G],onDragStart:F,onDragEnd:z,collisionDetection:de.pE,children:(0,s.jsx)(Ce.Fo,{items:K.map(function(c){return c.key}),strategy:Ce.PG,children:(0,s.jsx)(k,oe()(oe()({},d),{},{children:function(U){return(0,n.createElement)(hn,oe()(oe()({},U.props),{},{key:U.key,onMouseEnter:function(){return P(C)},onMouseLeave:E}),U)}}))})})}})})},yn=Sn,Ze=ae().bind(se),xn=function(o){var t,a=o.homeCategoryInfo,C=o.activeTab,f=o.onTabClick,L=o.onAgentClick,P=o.onToggleCollect,E=o.onDataUpdate,F=D.Z.useApp(),j=F.message,W=(0,n.useState)(!1),Z=i()(W,2),_=Z[0],G=Z[1],K=(0,n.useState)(""),z=i()(K,2),b=z[0],y=z[1],d=(0,n.useState)(!1),k=i()(d,2),c=k[0],U=k[1],w=(0,n.useState)(!1),Y=i()(w,2),B=Y[0],X=Y[1],J=te({categories:a?.categories||[],activeTab:C,onTabClick:f,observerOptions:{threshold:.3,rootMargin:"-20% 0px -60% 0px"},scrollDelay:1e3}),ie=J.sectionRefs,q=J.contentContainerRef,fe=J.handleTabClick,_e=(0,h.useRequest)($.Lq,{manual:!0,debounceInterval:300,onBefore:function(){U(!0)},onSuccess:function(){j.success(He.SORT_SUCCESS),E()},onError:function(){j.error(Fe.SORT_FAILED),E()},onFinally:function(){U(!1)}}),ee=_e.run,ce=(0,n.useCallback)(function(R){_||y(R)},[_]),ue=(0,n.useCallback)(function(){_||y("")},[_]),Ne=(0,n.useCallback)(function(){G(!0)},[]),Me=(0,n.useCallback)(function(R){var me=R.active,u=R.over;if(G(!1),y(""),me.id!==u?.id&&a!==null&&a!==void 0&&a.categories){var l=a.categories.findIndex(function($e){return $e.type===me.id}),r=a.categories.findIndex(function($e){return $e.type===u?.id});if(l!==-1&&r!==-1){var ge=a.categories.map(function($e){return $e.type}),re=M()(ge),pe=re.splice(l,1),An=i()(pe,1),Dn=An[0];re.splice(r,0,Dn),ee(re,void 0)}}},[a?.categories,ee]),Le=(0,n.useCallback)(function(R,me){var u=me.map(function(l){return l.targetId});ee(void 0,I()({},R,u))},[ee]),Ge=(0,n.useCallback)(function(){h.history.push("/square?cate_type=Agent")},[]),ze=(0,n.useMemo)(function(){var R=a?.categoryItems||{};return Object.keys(R).length===0},[a?.categoryItems]);return c?(0,s.jsxs)("div",{className:Ze("loading-container"),children:[(0,s.jsx)(O.Z,{}),(0,s.jsx)("span",{className:Ze("loading-text"),children:be.UPDATING_SORT})]}):(0,s.jsxs)("div",{className:se.draggableContainer,children:[(0,s.jsx)(je,{target:function(){return document.getElementById("page-container-selector")},offsetTop:0,className:Ze(se.stickyContainer,B?se.activeSticky:""),onChange:function(me){X(me||!1)},children:(0,s.jsxs)("div",{children:[(0,s.jsxs)(Je.Z,{className:se.recommendContainer,children:[(0,s.jsx)(Oe.Z.Title,{level:5,className:se.recommendTitle,children:"\u667A\u80FD\u4F53\u63A8\u8350"}),(0,s.jsx)("span",{className:se.recommendDesc,children:"\u62D6\u62FD\u667A\u80FD\u4F53\u5361\u7247\u53EF\u4EA4\u6362\u4F4D\u7F6E"})]}),(0,s.jsx)(yn,{categories:a?.categories||[],activeCategory:C,dragHoverText:b,onCategoryDragEnd:Me,onTabClick:fe,onMouseEnter:ce,onMouseLeave:ue,onDragStart:Ne})]})}),ze?(0,s.jsx)("div",{className:Ze(se.emptyContainer),children:(0,s.jsxs)("a",{onClick:Ge,className:Ze("empty-link"),children:["\u6682\u65E0\u6570\u636E\uFF0C\u7ACB\u5373\u63A2\u7D22 ",">"," ",">"]})}):(0,s.jsx)("div",{ref:q,className:se.contentContainer,children:a==null||(t=a.categories)===null||t===void 0?void 0:t.map(function(R){return(0,s.jsx)(mn,{category:R,agents:a?.categoryItems[R.type]||[],dragHoverText:b,onAgentClick:L,onToggleCollect:P,onMouseEnter:ce,onMouseLeave:ue,onAgentDragEnd:Le,sectionRef:function(u){return ie.current[R.type]=u}},R.type)})})]})},En=xn,xe={"xagi-nav-style2":"xagi-nav-style2___nA06W",text:"text___SwEdP","page-container":"page-container___Ov_os",container:"container___ulS8A",inputSection:"inputSection___uh9Vk",title:"title___YqZnO",textarea:"textarea___CEETi",recommend:"recommend___HEIYH","recommend-item":"recommend-item___h7GVv",recommendSection:"recommendSection___ICopM",wrapper:"wrapper___bQpM3"},Ee=ae().bind(xe),bn=function(){var o,t=D.Z.useApp(),a=t.message,C=(0,h.useModel)("tenantConfigInfo"),f=C.tenantConfigInfo,L=(0,n.useState)(),P=i()(L,2),E=P[0],F=P[1],j=(0,n.useState)(!1),W=i()(j,2),Z=W[0],_=W[1],G=(0,n.useState)(),K=i()(G,2),z=K[0],b=K[1],y=(0,n.useRef)(""),d=(0,n.useState)(),k=i()(d,2),c=k[0],U=k[1],w=(0,V.Z)(),Y=w.handleCreateConversation,B=(0,le.Z)(),X=B.selectedComponentList,J=B.handleSelectComponent,ie=B.initSelectedComponentList,q=(0,h.useRequest)($.ES,{manual:!0,debounceInterval:300,onSuccess:function(l){var r;b(l),F(l==null||(r=l.categories)===null||r===void 0||(r=r[0])===null||r===void 0?void 0:r.type),_(!1)},onError:function(){_(!1)}}),fe=q.run,_e=(0,h.useRequest)($.fD,{manual:!0,debounceInterval:300,onSuccess:function(){fe()}}),ee=_e.run,ce=(0,h.useRequest)($.Z9,{manual:!0,debounceInterval:300,onSuccess:function(){fe()}}),ue=ce.run,Ne=(0,h.useRequest)($.xI,{manual:!0,debounceInterval:300,onSuccess:function(l){U(l)}}),Me=Ne.run;(0,n.useEffect)(function(){_(!0),fe()},[]),(0,n.useEffect)(function(){f&&Me(f?.defaultAgentId)},[f]),(0,n.useEffect)(function(){ie(c?.manualComponents)},[c?.manualComponents]);var Le=function(){var u=H()(p()().mark(function l(r,ge){return p()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(f){pe.next=3;break}return a.warning("\u79DF\u6237\u4FE1\u606F\u4E0D\u5B58\u5728"),pe.abrupt("return");case 3:return pe.next=5,Y(f.defaultAgentId,{message:r,files:ge,infos:X});case 5:case"end":return pe.stop()}},l)}));return function(r,ge){return u.apply(this,arguments)}}(),Ge=function(l){console.log("\u{1F3E0} Home Tab\u70B9\u51FB\u4E8B\u4EF6: ".concat(l,", \u5F53\u524DactiveTab: ").concat(E)),F(l)},ze=function(l,r){y.current=l,r.collect?ue(r.targetId):ee(r.targetId)},R=function(){var u=H()(p()().mark(function l(r){return p()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:h.history.push("/agent/".concat(r));case 1:case"end":return re.stop()}},l)}));return function(r){return u.apply(this,arguments)}}(),me=(0,n.useRef)(null);return(0,n.useEffect)(function(){var u=function(){var r;(r=me.current)===null||r===void 0||r.updatePosition()};return window.addEventListener("scroll",u,!0),function(){return window.removeEventListener("scroll",u,!0)}},[]),(0,s.jsxs)("div",{className:Ee(xe.container,"flex","flex-col","items-center"),children:[(0,s.jsxs)("div",{className:Ee(xe.inputSection),children:[(0,s.jsx)("h2",{className:Ee(xe.title),dangerouslySetInnerHTML:{__html:f?.homeSlogan}}),(0,s.jsx)(A.Z,{className:Ee(xe.textarea),onEnter:Le,isClearInput:!1,manualComponents:c?.manualComponents||[],selectedComponentList:X,onSelectComponent:J},"home-".concat(f?.defaultAgentId)),(0,s.jsx)("div",{className:Ee(xe.recommend,"flex","content-center","flex-wrap"),children:c==null||(o=c.openingGuidQuestions)===null||o===void 0?void 0:o.map(function(u,l){return(0,s.jsx)("div",{className:Ee(xe["recommend-item"],"cursor-pointer","hover-box"),onClick:function(){return Le(u)},children:u},l)})})]}),(0,s.jsx)("div",{className:Ee(xe.recommendSection),children:(0,s.jsx)("div",{className:Ee(xe.wrapper),children:Z?(0,s.jsx)(O.Z,{className:Ee("h-full")}):z&&(0,s.jsx)(En,{homeCategoryInfo:z,activeTab:E,onTabClick:Ge,onAgentClick:R,onToggleCollect:ze,onDataUpdate:fe})})})]})},Tn=bn},29207:function(ne,T,e){"use strict";e.d(T,{T:function(){return p},n:function(){return g}});function g(m){return["small","middle","large"].includes(m)}function p(m){return m?typeof m=="number"&&!Number.isNaN(m):!1}},7010:function(ne,T,e){"use strict";e.d(T,{Z:function(){return h}});var g=e(75271),p=e(82187),m=e.n(p),H=e(81626),S=e(29207),i=e(62249),A=e(68031);const O=g.createContext({latestIndex:0}),V=O.Provider;var $=({className:x,index:I,children:N,split:M,style:te})=>{const{latestIndex:Te}=g.useContext(O);return N==null?null:g.createElement(g.Fragment,null,g.createElement("div",{className:x,style:te},N),I<Te&&M&&g.createElement("span",{className:`${x}-split`},M))},D=e(18239),he=function(x,I){var N={};for(var M in x)Object.prototype.hasOwnProperty.call(x,M)&&I.indexOf(M)<0&&(N[M]=x[M]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,M=Object.getOwnPropertySymbols(x);te<M.length;te++)I.indexOf(M[te])<0&&Object.prototype.propertyIsEnumerable.call(x,M[te])&&(N[M[te]]=x[M[te]]);return N};const n=g.forwardRef((x,I)=>{var N;const{getPrefixCls:M,direction:te,size:Te,className:Se,style:We,classNames:ke,styles:Ve}=(0,i.dj)("space"),{size:De=Te??"small",align:Ke,className:tn,rootClassName:an,children:on,direction:Ae="horizontal",prefixCls:we,split:Ye,style:rn,wrap:Xe=!1,classNames:Pe,styles:Ie}=x,Qe=he(x,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[Ue,je]=Array.isArray(De)?De:[De,De],Je=(0,S.n)(je),Oe=(0,S.n)(Ue),de=(0,S.T)(je),Ce=(0,S.T)(Ue),qe=(0,H.Z)(on,{keepEmpty:!0}),oe=Ke===void 0&&Ae==="horizontal"?"center":Ke,ve=M("space",we),[en,sn,Q]=(0,D.Z)(ve),s=m()(ve,Se,sn,`${ve}-${Ae}`,{[`${ve}-rtl`]:te==="rtl",[`${ve}-align-${oe}`]:oe,[`${ve}-gap-row-${je}`]:Je,[`${ve}-gap-col-${Ue}`]:Oe},tn,an,Q),ye=m()(`${ve}-item`,(N=Pe?.item)!==null&&N!==void 0?N:ke.item);let Be=0;const ln=qe.map((be,He)=>{var Fe;be!=null&&(Be=He);const nn=be?.key||`${ye}-${He}`;return g.createElement($,{className:ye,key:nn,index:He,split:Ye,style:(Fe=Ie?.item)!==null&&Fe!==void 0?Fe:Ve.item},be)}),un=g.useMemo(()=>({latestIndex:Be}),[Be]);if(qe.length===0)return null;const Re={};return Xe&&(Re.flexWrap="wrap"),!Oe&&Ce&&(Re.columnGap=Ue),!Je&&de&&(Re.rowGap=je),en(g.createElement("div",Object.assign({ref:I,className:s,style:Object.assign(Object.assign(Object.assign({},Re),We),rn)},Qe),g.createElement(V,{value:un},ln)))});n.Compact=A.ZP;var h=n},24498:function(ne,T,e){"use strict";e.d(T,{Z:function(){return p}});var g=e(30967);function p(m,H,S,i){var A=g.unstable_batchedUpdates?function(V){g.unstable_batchedUpdates(S,V)}:S;return m!=null&&m.addEventListener&&m.addEventListener(H,A,i),{remove:function(){m!=null&&m.removeEventListener&&m.removeEventListener(H,A,i)}}}},40595:function(ne,T,e){"use strict";e.d(T,{G:function(){return H}});var g=e(18415),p=function(i){if((0,g.Z)()&&window.document.documentElement){var A=Array.isArray(i)?i:[i],O=window.document.documentElement;return A.some(function(V){return V in O.style})}return!1},m=function(i,A){if(!p(i))return!1;var O=document.createElement("div"),V=O.style[i];return O.style[i]=A,O.style[i]!==V};function H(S,i){return!Array.isArray(S)&&i!==void 0?m(S,i):p(S)}},36075:function(ne){function T(e){if(e==null)throw new TypeError("Cannot destructure "+e)}ne.exports=T,ne.exports.__esModule=!0,ne.exports.default=ne.exports}}]);})();
