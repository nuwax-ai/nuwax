"use strict";(()=>{(self.webpackChunknuwax_frontend=self.webpackChunknuwax_frontend||[]).push([[1140],{93940:function(re,b,e){e.d(b,{Z:function(){return T}});var P=e(82092),C=e.n(P),L=e(15558),S=e.n(L),I=e(48305),Q=e.n(I),R=e(9504),i=e(94581),s=e.n(i),o=e(75271),t={"xagi-nav-style2":"xagi-nav-style2___gG8hm",text:"text___WCrzg","page-container":"page-container___AuGiQ",buttonToggle:"buttonToggle___AFToh",toggleButton:"toggleButton___Q4jn4",selected:"selected___vkDSP",disabled:"disabled___uN1MK","size-small":"size-small___ORPk3","size-large":"size-large___vn9OW",compact:"compact___cGOHC",vertical:"vertical___OSbYZ"},k=e(52676),z=s().bind(t),u=function(x){var Z=x.options,M=Z===void 0?[]:Z,c=x.value,B=x.defaultValue,m=x.multiple,N=m===void 0?!1:m,D=x.size,K=D===void 0?"middle":D,r=x.disabled,d=r===void 0?!1:r,F=x.className,le=x.style,O=x.onChange,X=(0,o.useState)(function(){return c!==void 0?c:B!==void 0?B:N?[]:""}),$=Q()(X,2),w=$[0],g=$[1],j=c!==void 0?c:w,se=(0,o.useCallback)(function(v){return N?Array.isArray(j)&&j.includes(v):j===v},[j,N]),q=(0,o.useCallback)(function(v){if(!d){var f;if(N){var A=Array.isArray(j)?j:[];A.includes(v)?f=A.filter(function(W){return W!==v}):f=[].concat(S()(A),[v])}else f=v;c===void 0&&g(f),O?.(f)}},[j,N,d,c,O]);return(0,k.jsx)("div",{className:z(t.buttonToggle,F),style:le,children:M.map(function(v){var f=se(v.value),A=d||v.disabled;return(0,k.jsx)(R.ZP,{size:K,type:f?"primary":"default",disabled:A,className:z(t.toggleButton,C()(C()({},t.selected,f),t.disabled,A)),onClick:function(){return q(v.value)},children:v.label},v.value)})})},T=u},65773:function(re,b,e){var P=e(75271),C=e(52676),L=function(I){var Q=I.children,R=I.condition;return R?(0,C.jsx)(C.Fragment,{children:Q}):null};b.Z=L},63799:function(re,b,e){e.d(b,{Z:function(){return k}});var P=e(78987),C=e(94581),L=e.n(C),S=e(16483),I=e.n(S),Q=e(75271),R=e(65773),i={"xagi-nav-style2":"xagi-nav-style2___L32B6",text:"text___uFiqN","page-container":"page-container___szHlV",container:"container___dJL_J","image-wrapper":"image-wrapper___HY1DQ",image:"image___iM2bH","image-overlay":"image-overlay___XIlsv","position-top-right":"position-top-right___x2GV6","activated-text":"activated-text___YsKtv","new-version-text":"new-version-text___r76Av","no-screenshot":"no-screenshot___J8l7a","image-overlay-text":"image-overlay-text___PMKle",name:"name___oQfgH","footer-box":"footer-box___run4l",avatar:"avatar___tCRdM","author-name":"author-name___uRq2y",time:"time___LCK11"},s=e(52676),o=L().bind(i),t=function(u){var T=u.coverImg,U=u.name,x=u.avatar,Z=u.userName,M=u.created,c=u.overlayText,B=u.isEnabled,m=u.isNewVersion,N=u.footerInner,D=u.onClick,K=u.extra,r=function(F){F.currentTarget.onerror=null,F.currentTarget.src=P};return(0,s.jsxs)("div",{className:o("flex","flex-col","relative",i.container),onClick:D,children:[B&&(0,s.jsx)("div",{className:o(i["position-top-right"],i["activated-text"]),children:"\u5DF2\u542F\u7528"}),m&&(0,s.jsx)("div",{className:o(i["position-top-right"],i["new-version-text"]),children:"\u6709\u7248\u672C\u66F4\u65B0"}),K,(0,s.jsxs)("div",{className:o(i["image-wrapper"]),style:{backgroundImage:"url(".concat(T,")")},children:[!T&&(0,s.jsx)("div",{className:o("flex","items-center","content-center",i["no-screenshot"]),children:"\u65E0\u53EF\u7528\u9884\u89C8\u56FE"}),(0,s.jsx)("div",{className:o(i["image-overlay"],"flex","items-center","content-center"),children:(0,s.jsx)("span",{className:o(i["image-overlay-text"]),children:c||"\u5F00\u59CB\u4F7F\u7528"})})]}),(0,s.jsxs)("footer",{className:o("flex","items-center","gap-4"),children:[(0,s.jsxs)("div",{className:o("flex","flex-col","flex-1","overflow-hide"),children:[(0,s.jsx)("p",{className:o(i.name,"text-ellipsis"),children:U}),(0,s.jsxs)("div",{className:o("flex","items-center","gap-4","flex-1",i["footer-box"]),children:[(0,s.jsx)("img",{className:o(i.avatar),src:x||P,alt:"avatar",onError:r}),(0,s.jsx)("span",{className:o(i["author-name"],"text-ellipsis"),children:Z}),(0,s.jsx)(R.Z,{condition:M,children:(0,s.jsxs)("span",{className:o(i.time,"text-ellipsis"),children:["\u521B\u5EFA\u4E8E ",I()(M).format("YYYY-MM-DD")]})})]})]}),N]})]})},k=t},36761:function(re,b,e){e.r(b),e.d(b,{default:function(){return le}});var P=e(15558),C=e.n(P),L=e(48305),S=e.n(L),I=e.p+"static/square_banner_image2.b5cd9a5b.png",Q=e(93940),R=e(56873),i=e(59602),s=e(63799),o=e(16722),t=e(65104),k=[{value:t.b.All,label:"\u5168\u90E8"},{value:t.b.Agent,label:"\u667A\u80FD\u4F53"},{value:t.b.Workflow,label:"\u5DE5\u4F5C\u6D41"},{value:t.b.Page,label:"\u5E94\u7528\u9875\u9762"},{value:t.b.Skill,label:"\u6280\u80FD"}],z=e(56055),u=e(69295),T=e(28327),U=e(63619),x=e(70183),Z=e(94581),M=e.n(Z),c=e(75271),B=e(53586),m={"xagi-nav-style2":"xagi-nav-style2___cq5r5",text:"text___yvPNN","page-container":"page-container___v1LdS",container:"container___kyOFV",header:"header___PxGVx","title-box":"title-box___k620K","theme-title":"theme-title___cVm90","search-input":"search-input___N6lRu","min-height-300":"min-height-300___G8QW5","list-section":"list-section___Ui6B1"},N=e(50758),D=e(38183),K=e(70660),r=e(52676),d=M().bind(m),F=function(){var X=(0,B.useLocation)(),$=(0,c.useState)(),w=S()($,2),g=w[0],j=w[1],se=(0,c.useState)(!1),q=S()(se,2),v=q[0],f=q[1],A=(0,c.useState)("\u667A\u80FD\u4F53"),W=S()(A,2),Se=W[0],_=W[1],oe=(0,c.useRef)(""),V=(0,c.useRef)(t.Q.Agent),ye=(0,c.useState)(t.b.All),ue=S()(ye,2),ce=ue[0],de=ue[1],Ce=(0,c.useState)(1),ve=S()(Ce,2),pe=ve[0],Te=ve[1],Ne=(0,c.useState)(!0),ge=S()(Ne,2),je=ge[0],be=ge[1],Ie=(0,c.useState)(""),me=S()(Ie,2),ee=me[0],fe=me[1],G=(0,c.useRef)(u._U),ae=(0,z.Z)(),H=ae.squareComponentList,ne=ae.setSquareComponentList,Y=ae.handleClick,he=ae.handleToggleCollectSuccess,Ae=function(n){var l=n.records,h=n.pages,y=n.current,p=l||[];ne(function(J){return y===1?p:[].concat(C()(J),C()(p))}),be(y<h),Te(y),f(!1)},Ee=(0,B.useRequest)(G.current,{manual:!0,debounceInterval:300,onSuccess:function(n){Ae(n)},onError:function(){f(!1)}}),Pe=Ee.run,Le=function(n){var l=n.cate_type,h=n.cate_name;switch(V.current=l,oe.current=h??l,l){case t.Q.Agent:_("\u667A\u80FD\u4F53"),G.current=u._U;break;case t.Q.Plugin:_("\u63D2\u4EF6"),G.current=u.VH;break;case t.Q.Workflow:_("\u5DE5\u4F5C\u6D41"),G.current=u.pH;break;case t.Q.Template:_("\u6A21\u677F"),G.current=u.M3;break}},E=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ee,h=arguments.length>2?arguments[2]:void 0,y=arguments.length>3?arguments[3]:void 0,p={page:n,pageSize:20,category:oe.current,kw:l};h&&(p.targetType=h),y&&(p.targetSubType=y),Pe(p)},Re=function(){var n=pe+1;E(n,ee)},Be=function(){fe(""),ne([]),de(t.b.All),f(!0),E()};(0,c.useEffect)(function(){var a=localStorage.getItem(o.GP);a&&j(JSON.parse(a));var n=new URLSearchParams(X.search),l=n.get("cate_type")||"",h=n.get("cate_name")||"",y={cate_type:l,cate_name:h};Le(y),Be()},[X]);var Qe=function(){g!=null&&g.squareBannerLinkUrl&&window.open(g.squareBannerLinkUrl,"_blank")},xe=function(n){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";switch(n){case t.b.All:E(1,l);break;case t.b.Agent:E(1,l,T.qR.Agent,"ChatBot");break;case t.b.Workflow:E(1,l,T.qR.Workflow);break;case t.b.Page:E(1,l,T.qR.Agent,"PageApp");break;case t.b.Skill:E(1,l,T.qR.Skill);break}},ke=function(n){f(!0),ne([]),V.current===t.Q.Template?xe(ce,n):E(1,n)},Ze=function(n){f(!0),ne([]);var l=n;de(l),xe(l,ee)};return(0,r.jsxs)("div",{className:d(m.container,"h-full","flex","flex-col"),children:[(0,r.jsxs)("header",{className:d(m.header),onClick:Qe,style:{backgroundImage:"url(".concat(g?.squareBanner||I,")")},children:[(0,r.jsx)("h3",{className:d("text-ellipsis-2"),children:g?.squareBannerText||"\u4EBA\u4EBA\u90FD\u662F\u667A\u80FD\u8BBE\u8BA1\u5E08"}),(0,r.jsx)("p",{className:d("text-ellipsis-2"),children:g?.squareBannerSubText||`\u65B0\u4E00\u4EE3AI\u5E94\u7528\u8BBE\u8BA1\u3001\u5F00\u53D1\u3001\u5B9E\u8DF5\u5E73\u53F0 
 \u65E0\u9700\u4EE3\u7801\uFF0C\u8F7B\u677E\u521B\u5EFA\uFF0C\u9002\u5408\u5404\u7C7B\u4EBA\u7FA4\uFF0C\u652F\u6301\u591A\u79CD\u7AEF\u53D1\u5E03\u53CAAPI`})]}),(0,r.jsxs)("div",{className:d("flex","items-center","content-between",m["title-box"]),children:[(0,r.jsxs)("div",{className:d("flex","items-center","gap-10"),children:[(0,r.jsx)("h6",{className:d(m["theme-title"]),children:Se}),V.current===t.Q.Template&&(0,r.jsx)(Q.Z,{options:k,value:ce,onChange:function(n){return Ze(n)}})]}),(0,r.jsx)(U.Z.Search,{className:d(m["search-input"]),placeholder:"\u641C\u7D22",allowClear:!0,value:ee,onSearch:ke,onChange:function(n){return fe(n.target.value)}},oe.current)]}),(0,r.jsx)("div",{id:"scrollableDiv",className:"scroll-container-hide",children:(0,r.jsx)(R.Z,{scrollableTarget:"scrollableDiv",list:H,hasMore:je,showLoader:!v,onScroll:Re,children:v?(0,r.jsx)(i.Z,{className:d(m["min-height-300"])}):H?.length>0?(0,r.jsx)("div",{className:d(m["list-section"]),children:H.map(function(a,n){if(V.current===t.Q.Agent)return(0,r.jsx)(N.Z,{publishedItemInfo:a,onToggleCollectSuccess:he,onClick:function(){return Y(a.targetId,a.targetType,a)}},n);if(V.current===t.Q.Template)if(ce===t.b.Page){var l,h,y;return(0,r.jsx)(s.Z,{coverImg:a.coverImg,name:a.name,avatar:(l=a.publishUser)===null||l===void 0?void 0:l.avatar,userName:((h=a.publishUser)===null||h===void 0?void 0:h.nickName)||((y=a.publishUser)===null||y===void 0?void 0:y.userName),created:a.created,onClick:function(){return Y(a.targetId,a.targetType,a)}},n)}else return(0,r.jsx)(K.Z,{publishedItemInfo:a,onClick:function(){return Y(a.targetId,a.targetType,a)}},n);else if(V.current===t.Q.Skill){var p,J,ie;return(0,r.jsx)(s.Z,{coverImg:a.coverImg,name:a.name,avatar:(p=a.publishUser)===null||p===void 0?void 0:p.avatar,userName:((J=a.publishUser)===null||J===void 0?void 0:J.nickName)||((ie=a.publishUser)===null||ie===void 0?void 0:ie.userName),created:a.created,onClick:function(){return Y(a.targetId,a.targetType,a)}},n)}else return(0,r.jsx)(D.Z,{publishedItemInfo:a,onToggleCollectSuccess:he,onClick:function(){return Y(a.targetId,a.targetType)}},n)})}):(0,r.jsx)("div",{className:d("flex","flex-1","items-center","content-center"),children:(0,r.jsx)(x.Z,{className:d(m["min-height-300"],"flex","flex-col","items-center","content-center"),description:"\u6682\u65E0\u6570\u636E"})})})})]})},le=F}}]);})();
