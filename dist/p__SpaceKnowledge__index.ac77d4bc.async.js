"use strict";(()=>{(self.webpackChunknuwax_frontend=self.webpackChunknuwax_frontend||[]).push([[1265],{45281:function(fn,ye,e){var we=e(82092),a=e.n(we),Te=e(26068),u=e.n(Te),p=e(48305),o=e.n(p),k=e(22675),M=e(80723),J=e(13017),h=e(15970),g=e(37269),b=e(30799),m=e(2077),ee=e(60393),c=e(28190),S=e(41249),A=e(63619),se=e(75271),ne=e(53586),y=e(52676),Z=function(s){var q=s.type,xe=s.spaceId,he=s.mode,O=he===void 0?b.jA.Create:he,F=s.agentConfigInfo,B=s.open,K=s.onCancel,ae=s.onConfirmCreate,D=s.onConfirmUpdate,P=c.Z.useForm(),n=o()(P,1),i=n[0],_=(0,se.useState)(""),R=o()(_,2),G=R[0],f=R[1],nn=(0,se.useState)(!1),E=o()(nn,2),U=E[0],Q=E[1],r=(0,ne.useRequest)(g.YS,{manual:!0,debounceInterval:300,onSuccess:function(tn){f(""),ae?.(tn),S.ZP.success("\u667A\u80FD\u4F53\u5DF2\u521B\u5EFA"),Q(!1)},onError:function(){Q(!1)}}),te=r.run,Ye=(0,ne.useRequest)(g.mp,{manual:!0,debounceInterval:300,onSuccess:function(tn,Ge){S.ZP.success("\u667A\u80FD\u4F53\u7F16\u8F91\u6210\u529F"),Q(!1);var ve=Ge[0];D?.(ve)},onError:function(){Q(!1)}}),v=Ye.run,Xe=function(){f(F?.icon),i.setFieldsValue({name:F?.name,description:F?.description})};(0,se.useEffect)(function(){B&&Xe()},[B,F]);var _n=function(tn){Q(!0),O===b.jA.Create?te(u()(u()({},tn),{},{icon:G,spaceId:xe,type:q})):v(u()(u()({},tn),{},{icon:G,id:F?.id,type:q}))},Tn=function(){i.submit()},vn=function(){K(),Xe()},Be=(0,se.useCallback)(function(){if(q){var re=a()(a()({},m.EA.ChatBot,"\u95EE\u7B54\u578B"),m.EA.TaskAgent,"\u957F\u4EFB\u52A1\u578B");return O===b.jA.Create?"\u521B\u5EFA".concat(re[q],"\u667A\u80FD\u4F53"):"\u66F4\u65B0".concat(re[q],"\u667A\u80FD\u4F53")}return O===b.jA.Create?"\u521B\u5EFA\u667A\u80FD\u4F53":"\u66F4\u65B0\u667A\u80FD\u4F53"},[q,O]);return(0,y.jsx)(M.Z,{form:i,title:Be(),open:B,loading:U,onCancel:vn,onConfirm:Tn,children:(0,y.jsxs)(c.Z,{form:i,requiredMark:ee.N,layout:"vertical",onFinish:_n,autoComplete:"off",children:[(0,y.jsx)(c.Z.Item,{name:"name",label:"\u667A\u80FD\u4F53\u540D\u79F0",validateTrigger:"onBlur",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u667A\u80FD\u4F53\u540D\u79F0"},{validator:function(tn,Ge){return!Ge||Ge?.length<=50?Promise.resolve():Ge?.length>50?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC750\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u667A\u80FD\u4F53\u540D\u79F0!"))}}],children:(0,y.jsx)(A.Z,{placeholder:"\u7ED9\u667A\u80FD\u4F53\u8D77\u4E00\u4E2A\u72EC\u4E00\u65E0\u4E8C\u7684\u540D\u5B57",showCount:!0,maxLength:50})}),(0,y.jsx)(J.Z,{name:"description",label:"\u667A\u80FD\u4F53\u529F\u80FD\u4ECB\u7ECD",initialValue:F?.description,placeholder:"\u4ECB\u7ECD\u667A\u80FD\u4F53\u7684\u529F\u80FD\uFF0C\u5C06\u4F1A\u5C55\u793A\u7ED9\u667A\u80FD\u4F53\u7684\u7528\u6237",maxLength:1e4}),(0,y.jsx)(c.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,y.jsx)(h.Z,{onUploadSuccess:f,imageUrl:G,defaultImage:k,svgIconName:"icons-workspace-agent"})})]})})};ye.Z=Z},2402:function(fn,ye,e){e.d(ye,{Z:function(){return U}});var we=e(26068),a=e.n(we),Te=e(48305),u=e.n(Te),p=e(92973),o=e(43637),k=e(86743),M=e(63876),J=e(94581),h=e.n(J),g=e(75271),b={"xagi-nav-style2":"xagi-nav-style2___ZnOEk",text:"text___I_DzH","page-container":"page-container____iz0C","skill-item-style":"skill-item-style___N0WID","skill-item-icon":"skill-item-icon___jliak","skill-item-content-style":"skill-item-content-style___RWsv5","skill-item-title-style":"skill-item-title-style___RPCqS","skill-item-desc-style":"skill-item-desc-style___nXwpy","mask-layer-style":"mask-layer-style___uLo49",white:"white___PmcIw"},m=e(52676),ee=h().bind(b),c=function(r){var te=r.item,Ye=r.onDelete;return(0,m.jsxs)("div",{className:ee(b["skill-item-style"],"dis-left"),children:[(0,m.jsx)("img",{src:te.icon,alt:"",className:ee(b["skill-item-icon"])}),(0,m.jsxs)("div",{className:ee(b["skill-item-content-style"]),children:[(0,m.jsx)("div",{className:ee(b["skill-item-title-style"]),children:te.name}),(0,m.jsx)("div",{className:ee(b["skill-item-desc-style"]),children:te.description})]}),(0,m.jsx)("div",{className:ee(b["mask-layer-style"]),children:(0,m.jsx)("div",{style:{color:"#fff",backgroundColor:"transparent"},children:(0,m.jsx)(M.Z,{content:"\u79FB\u9664",trigger:"hover",children:(0,m.jsx)(k.Z,{className:"ml-12  white",style:{cursor:"pointer"},onClick:Ye})})})})]})},S=c,A=e(80723),se=e(13017),ne=e(15970),y=e(79484),Z=e(69945),je=e(5622),s=e(28327),q=e(30799),xe=e(38413),he=e(68952),O=e(60393),F=e(28190),B=e(41249),K=e(63619),ae=e(17701),D=e(30967),P=e(53586),n=e(33356),i={"xagi-nav-style2":"xagi-nav-style2___fHzli",text:"text___srgXE","page-container":"page-container____zQ5I",header:"header___ZEU6y",box:"box___su6_r",active:"active___qQari"},_={"xagi-nav-style2":"xagi-nav-style2___GME40",text:"text___B9pND","page-container":"page-container___Gqdvl","workflow-desc":"workflow-desc___yLObd"},R=h().bind(_),G=function(r){var te=r.title,Ye=te===void 0?"\u8BF7\u9009\u62E9\u5DE5\u4F5C\u6D41":te,v=r.onClick;return(0,m.jsx)("div",{className:R(_["workflow-desc"]),onClick:v,children:Ye})},f=G,nn=h().bind(i),E=function(r){var te=r.mode,Ye=te===void 0?q.jA.Create:te,v=r.spaceId,Xe=r.knowledgeInfo,_n=r.open,Tn=r.onCancel,vn=r.onConfirm,Be=F.Z.useForm(),re=u()(Be,1),tn=re[0],Ge=(0,g.useState)(!1),ve=u()(Ge,2),an=ve[0],yn=ve[1],jn=(0,g.useState)(""),$e=u()(jn,2),ce=$e[0],Bn=$e[1],Nn=(0,g.useState)(xe.u6.Text),Gn=u()(Nn,2),Dn=Gn[0],Ce=Gn[1],ke=(0,g.useState)([]),Qe=u()(ke,2),en=Qe[0],Je=Qe[1],ln=(0,g.useState)("default"),l=u()(ln,2),C=l[0],L=l[1],t=(0,g.useState)(null),Ze=u()(t,2),We=Ze[0],hn=Ze[1],Un=(0,g.useState)(!1),sn=u()(Un,2),ia=sn[0],Qn=sn[1],Zn=(0,g.useState)(s.qR.Plugin),An=u()(Zn,2),na=An[0],aa=An[1],ca=(0,g.useState)([]),In=u()(ca,2),ta=In[0],zn=In[1],De=(0,P.useRequest)(Z.qx,{manual:!0,debounceInterval:300,onSuccess:function(W){B.ZP.success("\u77E5\u8BC6\u5E93\u5DF2\u521B\u5EFA\u6210\u529F"),yn(!1),Tn(),P.history.push("/space/".concat(v,"/knowledge/").concat(W))},onError:function(){yn(!1)}}),da=De.run,pa=(0,P.useRequest)(Z.ei,{manual:!0,debounceInterval:300,onSuccess:function(W,En){B.ZP.success("\u77E5\u8BC6\u5E93\u66F4\u65B0\u6210\u529F"),yn(!1);var Yn=En[0];vn?.(Yn)},onError:function(){yn(!1)}}),dn=pa.run,pn=(0,P.useRequest)(Z.Wi,{manual:!0,debounceInterval:300,onSuccess:function(W){Bn(W.icon),Ce(W.dataType),tn.setFieldsValue({name:W.name,description:W.description,embeddingModelId:W.embeddingModelId,dataParsingMethod:W.workflowId?"workflow":"default"}),W.workflowId&&(L(W.workflowId?"workflow":"default"),hn({id:W.workflowId,name:W.workflowName,icon:W.workflowIcon,description:W.workflowDescription}))},onError:function(){}}),Kn=pn.run,ma=(0,P.useRequest)(je.Bj,{manual:!0,debounceInterval:300,onSuccess:function(W){var En=W?.map(function(Yn){return{label:Yn.name,value:Yn.id}})||[];Je(En)}}),ra=ma.run;(0,g.useEffect)(function(){_n&&(ra({spaceId:v,modelType:he.Mj.Embeddings}),L("default"),hn(null),Xe&&Kn(Xe.id))},[v,_n,Xe]);var Xn=function(W){var En={spaceId:v,name:W.name,description:W.description,embeddingModelId:W.embeddingModelId,icon:ce,dataType:Dn};C==="workflow"&&(En.workflowId=We?.id),yn(!0),Ye===q.jA.Create?da(En):dn(a()({id:Xe?.id},En))},Vn=function(W){W.dataParsingMethod&&L(W.dataParsingMethod)},fa=function(W){zn(function(){return[{type:W.targetType,targetId:W.targetId,status:s.BQ.Added,toolName:W.toolName||""}]}),(0,D.flushSync)(function(){hn({id:W.targetId,name:W.name,icon:W.icon,description:W.description})}),Qn(!1)},sa=function(W,En){W.stopPropagation(),aa(En),Qn(!0)},Hn=function(W){sa(W,s.qR.Workflow)},Jn=function(){hn(null),zn([])},ha=function(){tn.submit()};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(A.Z,{form:tn,title:Ye===q.jA.Create?"\u521B\u5EFA\u77E5\u8BC6\u5E93":"\u66F4\u65B0\u77E5\u8BC6\u5E93",open:_n,loading:an,onCancel:Tn,onConfirm:ha,children:[(0,m.jsxs)(F.Z,{form:tn,className:nn("mt-16"),requiredMark:O.N,layout:"vertical",onFinish:Xn,onValuesChange:Vn,preserve:!1,autoComplete:"off",initialValues:{dataParsingMethod:"default"},children:[(0,m.jsx)(F.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0"}],children:(0,m.jsx)(K.Z,{placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0",showCount:!0,maxLength:100})}),(0,m.jsx)(se.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:Xe?.description,placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u5185\u5BB9\u7684\u63CF\u8FF0",maxLength:1e4}),(0,m.jsx)(F.Z.Item,{name:"embeddingModelId",label:"\u5411\u91CF\u6A21\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B"}],children:(0,m.jsx)(n.Z,{placeholder:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B",disabled:Ye===q.jA.Update,options:en,allowClear:!0})}),(0,m.jsx)(F.Z.Item,{name:"dataParsingMethod",label:"\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",tooltip:"\u9009\u62E9\u5DE5\u4F5C\u6D41\u540E\u6240\u6709\u6587\u6863\u3001\u56FE\u7247\u7B49\u90FD\u5C06\u901A\u8FC7\u5DE5\u4F5C\u6D41\u89E3\u6790\uFF0C\u8BBE\u8BA1\u5DE5\u4F5C\u6D41\u65F6\u8BF7\u6CE8\u610F\u56FA\u5B9A\u5165\u53C2\u4E3A\uFF1Afile_url\uFF0C\u51FA\u53C2\u8BF7\u5728\u201C\u7ED3\u675F\u201D\u8282\u70B9\u9009\u62E9\u201C\u8FD4\u56DE\u6587\u672C\u201D\uFF0C\u5E76\u5728\u201C\u8F93\u51FA\u5185\u5BB9\u201D\u533A\u57DF\u8BBE\u7F6E\u8FD4\u56DE\u7684\u53D8\u91CF\u3002",children:(0,m.jsx)(ae.default,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",options:[{value:"default",label:"\u7CFB\u7EDF\u9ED8\u8BA4"},{value:"workflow",label:"\u81EA\u5B9A\u4E49\u5DE5\u4F5C\u6D41"}]})}),C==="workflow"&&(0,m.jsx)(F.Z.Item,{style:{marginTop:"-15px"},children:We?(0,m.jsx)(S,{item:We,onDelete:Jn}):(0,m.jsx)(f,{onClick:Hn})}),(0,m.jsx)(F.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,m.jsx)(ne.Z,{className:nn(i["upload-box"]),onUploadSuccess:Bn,imageUrl:ce,defaultImage:p,svgIconName:"icons-workspace-knowledge"})})]}),(0,m.jsx)(o.Z,{open:ia,onCancel:function(){return Qn(!1)},checkTag:na,addComponents:ta,onAdded:fa,tabs:y.Ne.filter(function(un){return un.key===s.qR.Workflow})})]})})},U=E},38949:function(fn,ye,e){e.d(ye,{Z:function(){return O}});var we=e(90228),a=e.n(we),Te=e(26068),u=e.n(Te),p=e(87999),o=e.n(p),k=e(48305),M=e.n(k),J=e(83352),h=e(80723),g=e(13017),b=e(15970),m=e(92629),ee=e(30799),c=e(60393),S=e(28190),A=e(41249),se=e(63619),ne=e(94581),y=e.n(ne),Z=e(75271),je=e(53586),s={container:"container___etrGg",header:"header___qw2yv"},q=e(52676),xe=y().bind(s),he=function(B){var K=B.type,ae=K===void 0?ee.jA.Create:K,D=B.name,P=B.spaceId,n=B.id,i=B.icon,_=B.description,R=B.open,G=B.onCancel,f=B.onConfirm,nn=B.onUpdate,E=S.Z.useForm(),U=M()(E,1),Q=U[0],r=(0,Z.useState)(""),te=M()(r,2),Ye=te[0],v=te[1],Xe=(0,je.useRequest)(m.Kt,{manual:!0,debounceInterval:300,onSuccess:function(Ge){A.ZP.success("\u5DE5\u4F5C\u6D41\u5DF2\u521B\u5EFA\u6210\u529F"),G(),je.history.push("/space/".concat(P,"/workflow/").concat(Ge))}}),_n=Xe.run,Tn=(0,je.useRequest)(m.sN,{manual:!0,debounceInterval:300,onSuccess:function(Ge,ve){A.ZP.success("\u5DE5\u4F5C\u6D41\u66F4\u65B0\u6210\u529F");var an=ve[0];f?.(an),G()}}),vn=Tn.run;(0,Z.useEffect)(function(){R&&(v(i||""),Q.setFieldsValue({name:D,description:_}))},[R,i,D,_]);var Be=function(){var tn=o()(a()().mark(function Ge(ve){var an,yn,jn;return a()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(an={name:ve?.name,description:ve?.description,icon:Ye},ae!==ee.jA.Create){ce.next=5;break}_n(u()({spaceId:P},an)),ce.next=14;break;case 5:if(yn=u()(u()({id:n,spaceId:P},an),{},{extension:{size:1}}),!nn){ce.next=13;break}return ce.next=9,nn(yn);case 9:jn=ce.sent,jn&&(A.ZP.success("\u5DE5\u4F5C\u6D41\u66F4\u65B0\u6210\u529F"),f?.(yn),G()),ce.next=14;break;case 13:vn(u()({id:n},an));case 14:case"end":return ce.stop()}},Ge)}));return function(ve){return tn.apply(this,arguments)}}(),re=function(){Q.submit()};return(0,q.jsx)(h.Z,{form:Q,title:ae===ee.jA.Create?"\u521B\u5EFA\u5DE5\u4F5C\u6D41":"\u66F4\u65B0\u5DE5\u4F5C\u6D41",classNames:{content:xe(s.container),header:xe(s.header)},open:R,onCancel:G,onConfirm:re,children:(0,q.jsxs)(S.Z,{form:Q,requiredMark:c.N,layout:"vertical",onFinish:Be,autoComplete:"off",children:[(0,q.jsx)(S.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0"},{validator:function(Ge,ve){return!ve||ve?.length<=30?Promise.resolve():ve?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0!"))}}],children:(0,q.jsx)(se.Z,{placeholder:"\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0",showCount:!0,maxLength:30})}),(0,q.jsx)(g.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:_,placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\uFF0C\u8BA9\u5927\u6A21\u578B\u7406\u89E3\u4EC0\u4E48\u60C5\u51B5\u4E0B\u5E94\u8BE5\u8C03\u7528\u6B64\u5DE5\u4F5C\u6D41",maxLength:1e4}),(0,q.jsx)(S.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,q.jsx)(b.Z,{onUploadSuccess:v,imageUrl:Ye,defaultImage:J,svgIconName:"icons-workspace-workflow"})})]})})},O=he},43637:function(fn,ye,e){e.d(ye,{Z:function(){return Gn}});var we=e(90228),a=e.n(we),Te=e(15558),u=e.n(Te),p=e(26068),o=e.n(p),k=e(87999),M=e.n(k),J=e(48305),h=e.n(J),g=e(40462),b=e(79484),m=e(68752),ee=e(3834),c=e(60894),S=e(28327),A=e(30799),se=e(70490),ne=e(27867),y=e(86834),Z=e(87855),je=e(28057),s=e(98493),q=e(17023),xe=e(16621),he=e(41249),O=e(73981),F=e(44384),B=e(9504),K=e(14719),ae=e(63619),D=e(53472),P=e(70183),n=e(94581),i=e.n(n),_=e(75271),R=e(53586),G=e(45281),f=e(9291),nn=e(2402),E=e(95857),U=e(38949),Q=e(59602),r={"xagi-nav-style2":"xagi-nav-style2___Hhx24",text:"text___fY1wP","page-container":"page-container___mEK5C","created-modal-style":"created-modal-style___NYAVL","segmented-style":"segmented-style___nKwTz","created-title-text":"created-title-text___AjELa","created-list-spin-style":"created-list-spin-style___zM15H","created-list-empty-style":"created-list-empty-style___oCfaM","create-button":"create-button___coqIa","aside-header":"aside-header___jACDw","aside-menu":"aside-menu___m045Q","add-button":"add-button___TndZY","add-button-added":"add-button-added___MdC2h","created-container":"created-container___AGXz5","aside-style":"aside-style___CaDQZ","main-style":"main-style___GSDxU","list-item-style":"list-item-style___WKFIL","left-image-style":"left-image-style___GMm3v","content-font":"content-font___ycx8_","count-div-style":"count-div-style___Zd48s","label-font-style":"label-font-style___HZB9A","collect-star":"collect-star___bLtFf","icon-margin":"icon-margin___HgnVb","created-description-style":"created-description-style___Cm4V4"},te=e(13143),Ye={"xagi-nav-style2":"xagi-nav-style2___XdLTv",text:"text___tQ5I5","page-container":"page-container___s_CSV","mcp-tools-style":"mcp-tools-style___u92JF","mcp-tools-item-style":"mcp-tools-item-style___sidZr","add-button":"add-button___mejhX","add-button-added":"add-button-added___iY7_z","mcp-tools-item-content-style":"mcp-tools-item-content-style___ku31r","mcp-tools-item-name-style":"mcp-tools-item-name-style___oOtSe","mcp-tools-item-description-style":"mcp-tools-item-description-style___FlirP","mcp-tools-item-button-style":"mcp-tools-item-button-style___MPtXV"},v=e(52676),Xe=i().bind(Ye),_n=S.BQ.Added,Tn=function(Ce){var ke=Ce.tools,Qe=Ce.item,en=Ce.onAddTool,Je=Ce.fold,ln=Ce.getToolLoading,l=Ce.addedComponents,C=(0,_.useCallback)(function(t,Ze){en(o()(o()({},Qe),{},{name:"".concat(Qe.name,"/").concat(t),description:Ze,toolName:t}))},[en,Qe]),L=(0,_.useCallback)(function(t,Ze){return l?.some(function(We){return We.type===t.targetType&&We.targetId===t.targetId&&(We.toolName||"")===(t.toolName||"")&&We.status===Ze})},[l,Qe]);return Je?null:(0,v.jsx)("div",{className:Xe(Ye["mcp-tools-style"]),children:ke.map(function(t,Ze){var We=L(o()(o()({},Qe),{},{toolName:t.name}),_n),hn=ln(o()(o()({},Qe),{},{toolName:t.name}));return(0,v.jsxs)("div",{className:Xe(Ye["mcp-tools-item-style"]),children:[(0,v.jsxs)("div",{className:Xe("dis-sb",Ye["mcp-tools-item-content-style"]),children:[(0,v.jsx)("div",{className:Xe(Ye["mcp-tools-item-name-style"]),children:t.name}),(0,v.jsx)("div",{className:Xe(Ye["mcp-tools-item-description-style"]),children:t.description||"\u6682\u65E0\u63CF\u8FF0"})]}),(0,v.jsx)("div",{className:Xe(Ye["mcp-tools-item-button-style"],"dis-sb"),children:(0,v.jsx)(B.ZP,{color:"default",variant:"filled",className:Xe(Ye["add-button"],We&&Ye["add-button-added"]),onClick:function(){return C(t.name,t.description)},disabled:hn?!1:We,loading:hn,children:We?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})})]},"".concat(Qe.targetId,"-").concat(Ze,"-tools-").concat(t.name))})},"".concat(Qe.targetId,"-tools"))},vn=Tn,Be={"xagi-nav-style2":"xagi-nav-style2___AR6lO",text:"text___C_yvr","page-container":"page-container___Tl8wQ",container:"container___Xs6nx","left-image-style":"left-image-style___QkQAk","content-font":"content-font___gLvK8","count-div-style":"count-div-style___bhUoi","fold-icon-style":"fold-icon-style___iClGH","label-font-style":"label-font-style___R72Ym","created-description-style":"created-description-style___fbx01"},re=i().bind(Be),tn=function(Ce){var ke,Qe,en,Je=Ce.item,ln=Ce.index,l=Ce.selected,C=Ce.onAddNode,L=Ce.getToolLoading,t=Ce.addedComponents,Ze=(0,_.useState)(!0),We=h()(Ze,2),hn=We[0],Un=We[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:re("dis-sb",Be.container,"cursor-pointer"),style:{height:"unset"},onClick:function(){return Un(!hn)},children:[(0,v.jsx)("img",{src:Je.icon||(0,Z.Pk)(l.key),alt:"",className:re(Be["left-image-style"])}),(0,v.jsxs)("div",{className:re("flex-1",Be["content-font"]),children:[(0,v.jsx)("p",{className:re(Be["label-font-style"]),children:Je.name}),(0,v.jsx)("p",{className:re(Be["created-description-style"],"text-ellipsis-2"),title:Je.description,children:Je.description}),(0,v.jsx)("div",{className:re("dis-sb",Be["count-div-style"]),children:(0,v.jsxs)("div",{className:"dis-left",children:[(0,v.jsx)("img",{src:((ke=Je.publishUser)===null||ke===void 0?void 0:ke.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,v.jsx)("span",{children:(Qe=Je.publishUser)===null||Qe===void 0?void 0:Qe.nickName}),(0,v.jsx)(F.Z,{type:"vertical"}),(0,v.jsxs)("span",{children:["\u90E8\u7F72\u4E8E",(0,ne.hK)(Je.deployed)]})]})})]}),(0,v.jsx)(te.Z,{onClick:function(){return Un(!hn)},className:re(Be["fold-icon-style"]),style:{transform:hn?"rotate(-90deg)":"rotate(0)"}})]},"".concat(Je.targetId,"-").concat(ln)),(0,v.jsx)(vn,{fold:hn,tools:(Je==null||(en=Je.config)===null||en===void 0?void 0:en.tools)||[],item:Je,getToolLoading:L,onAddTool:C,addedComponents:t})]})},Ge=tn,ve={"xagi-nav-style2":"xagi-nav-style2___oSLyM",text:"text___Y7g4H","page-container":"page-container___HAi1o",container:"container___RB6dU","left-image-style":"left-image-style___cOdxC","content-font":"content-font___rKg1c","count-div-style":"count-div-style___fmK9k","label-font-style":"label-font-style___ftppD","created-description-style":"created-description-style___KPAuu"},an=i().bind(ve),yn=function(Ce){var ke=Ce.item,Qe=Ce.index,en=Ce.isAddedState,Je=Ce.onAddNode,ln=Ce.isCurrentLoading;return(0,v.jsxs)("div",{className:an("dis-sb",ve.container,"cursor-pointer"),style:{height:"unset"},children:[(0,v.jsx)("img",{src:ke.icon,alt:"",className:an(ve["left-image-style"])}),(0,v.jsxs)("div",{className:an("flex-1",ve["content-font"]),children:[(0,v.jsx)("p",{className:an(ve["label-font-style"]),children:ke.name}),(0,v.jsx)("p",{className:an(ve["created-description-style"],"text-ellipsis-2"),title:ke.description,children:ke.description}),(0,v.jsx)("div",{className:an("dis-sb",ve["count-div-style"]),children:(0,v.jsxs)("div",{className:"dis-left",children:[(0,v.jsx)("img",{src:ke?.creatorAvatar||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,v.jsx)("span",{children:ke.creatorNickName}),(0,v.jsx)(F.Z,{type:"vertical"}),(0,v.jsxs)("span",{children:["\u521B\u5EFA\u4E8E",(0,ne.hK)(ke.created)]})]})})]}),(0,v.jsx)(B.ZP,{color:"default",variant:"filled",className:an(ve["add-button"],en&&ve["add-button-added"]),onClick:function(){return Je(ke)},disabled:ln?!1:en,loading:ln,children:en?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(ke.projectId,"-").concat(Qe))},jn=yn,$e=i().bind(r),ce=[S.qR.Agent,S.qR.Plugin,S.qR.Workflow,S.qR.Knowledge,S.qR.Table],Bn=b.Ne.filter(function(Dn){return ce.includes(Dn.key)}),Nn=function(Ce){var ke=Ce.isSpaceOnly,Qe=ke===void 0?!1:ke,en=Ce.open,Je=Ce.onCancel,ln=Ce.checkTag,l=Ce.onAdded,C=Ce.addComponents,L=Ce.addSkillLoading,t=L===void 0?void 0:L,Ze=Ce.tabs,We=Ze===void 0?Bn:Ze,hn=Ce.hideTop,Un=(0,R.useParams)(),sn=Number(Un.spaceId),ia=(0,_.useState)(!1),Qn=h()(ia,2),Zn=Qn[0],An=Qn[1],na=(0,_.useState)(""),aa=h()(na,2),ca=aa[0],In=aa[1],ta=(0,_.useState)({label:"\u63D2\u4EF6",key:S.qR.Plugin}),zn=h()(ta,2),De=zn[0],da=zn[1],pa=(0,_.useState)({page:1,pageSize:20}),dn=h()(pa,2),pn=dn[0],Kn=dn[1],ma=(0,_.useState)(100),ra=h()(ma,2),Xn=ra[0],Vn=ra[1],fa=(0,_.useState)("all"),sa=h()(fa,2),Hn=sa[0],Jn=sa[1],ha=(0,_.useState)(),un=h()(ha,2),W=un[0],En=un[1],Yn=(0,_.useState)([]),Ca=h()(Yn,2),$n=Ca[0],Wn=Ca[1],Pa=(0,_.useState)([]),Sa=h()(Pa,2),Mn=Sa[0],va=Sa[1],Ta=(0,_.useState)(!1),xa=h()(Ta,2),ja=xa[0],Fn=xa[1],Da=(0,_.useState)({list:[],searching:!1}),ua=h()(Da,2),ga=ua[0],_a=ua[1],wn=(0,_.useRef)(!1),Sn=(0,_.useRef)(null),Aa=[{key:"all",label:"\u5168\u90E8"},{key:"library",label:"\u7EC4\u4EF6\u5E93".concat(De.label)},{key:"collect",label:"\u6536\u85CF"}].filter(function(x){return!Qe||x.key==="library"}),Ia=[{key:"all",label:"\u5168\u90E8"}],la=[{key:"all",label:"\u5168\u90E8"},{key:"library",label:"\u5F53\u524D\u7A7A\u95F4\u667A\u80FD\u4F53"}].filter(function(x){return!Qe||x.key==="library"}),Fa=[{key:"all",label:"\u5168\u90E8"},{key:1,label:"\u6587\u6863"}],Ra=[{key:"all",label:"\u7EC4\u4EF6\u5E93\u6570\u636E\u8868"}],ze=[{key:"all",label:"\u5168\u90E8"},{key:"custom",label:"\u81EA\u5B9A\u4E49\u670D\u52A1"}],T=[{key:"all",label:"\u5168\u90E8"}],N=function(){switch(De.key){case S.qR.Knowledge:return Fa;case S.qR.Table:return Ra;case S.qR.MCP:return ze;case S.qR.Page:return Ia;case S.qR.Agent:return la;case S.qR.Skill:return T;default:return Aa}},V=(0,_.useRef)(null),w=(0,_.useRef)(!1),H=function(){var x=M()(a()().mark(function d(I,Y){var Ke,X,Ue,Me,on;return a()().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:if(_a({list:[],searching:!1}),rn.prev=1,sn!==0){rn.next=4;break}return rn.abrupt("return");case 4:if(!(Y.page>Xn&&Y.page!==1||w.current)){rn.next=6;break}return rn.abrupt("return");case 6:return w.current=!0,Y.page===1&&Fn(!0),(wn.current||Qe)&&(Y.justReturnSpaceData=!0),Sn.current&&(Y.dataType=Sn.current),I===S.qR.Agent&&(Y.targetType=S.qR.Agent,Y.targetSubType="ChatBot"),rn.next=13,m.ZP.getList(I,o()(o()({},Y),{},{spaceId:sn}));case 13:if(X=rn.sent,Ue=X.code,Me=X.data,on=X.message,w.current=!1,Fn(!1),Ue===g.Gh){rn.next=22;break}return he.ZP.error(on),rn.abrupt("return");case 22:Vn(Me.pages),Kn(function(kn){return o()(o()({},kn),{},{page:Me.current,total:Me.total})}),Me==null||(Ke=Me.records)===null||Ke===void 0||Ke.forEach(function(kn){kn.statistics||(kn.statistics={collectCount:0})}),Wn(function(kn){var qn=Y.page===1?u()(Me.records):[].concat(u()(kn),u()(Me.records));return _a(o()(o()({},ga),{},{list:qn})),qn}),rn.next=33;break;case 28:rn.prev=28,rn.t0=rn.catch(1),w.current=!1,Fn(!1),Vn(100);case 33:case"end":return rn.stop()}},d,null,[[1,28]])}));return function(I,Y){return x.apply(this,arguments)}}(),Ne=function(){var x=M()(a()().mark(function d(I){var Y,Ke,X;return a()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Me.prev=0,Fn(!0),Ke=(Y=De.key)===null||Y===void 0?void 0:Y.toLowerCase(),Me.next=5,m.ZP.collectList(Ke,I);case 5:X=Me.sent,Wn(u()(X.data)),Fn(!1),Me.next=13;break;case 10:Me.prev=10,Me.t0=Me.catch(0),Fn(!1);case 13:case"end":return Me.stop()}},d,null,[[0,10]])}));return function(I){return x.apply(this,arguments)}}(),ue=function(){var x=M()(a()().mark(function d(I){var Y,Ke,X,Ue;return a()().wrap(function(on){for(;;)switch(on.prev=on.next){case 0:if(Ke=(Y=De.key)===null||Y===void 0?void 0:Y.toLowerCase(),!I.collect){on.next=7;break}return on.next=4,m.ZP.unCollect(Ke,I.targetId);case 4:X=on.sent,on.next=10;break;case 7:return on.next=9,m.ZP.collect(Ke,I.targetId);case 9:X=on.sent;case 10:X.code===g.ZP.success&&(Ue=$n.map(function(gn){return I.targetId===gn.targetId&&(gn.collect?(gn.collect=!1,gn.statistics&&(gn.statistics.collectCount=(gn.statistics.collectCount||1)-1)):(gn.collect=!0,gn.statistics&&(gn.statistics.collectCount=(gn.statistics.collectCount||0)+1))),gn}),Wn(Ue));case 11:case"end":return on.stop()}},d)}));return function(I){return x.apply(this,arguments)}}(),oe=function(){var x=M()(a()().mark(function d(I){var Y,Ke;return a()().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:if(De.key!==S.qR.Table){Ue.next=11;break}return Ue.prev=1,Y={tableName:I.name,tableDescription:I.description,spaceId:sn,icon:I.icon},Ue.next=5,(0,ee.AY)(Y);case 5:Ke=Ue.sent,R.history.push("/space/".concat(sn,"/table/").concat(Ke.data)),Ue.next=11;break;case 9:Ue.prev=9,Ue.t0=Ue.catch(1);case 11:case"end":return Ue.stop()}},d,null,[[1,9]])}));return function(I){return x.apply(this,arguments)}}(),ge=function(d){An(!1),R.history.push("/space/".concat(sn,"/agent/").concat(d))},me=function(d){l(d),En(d)},Se=function(d){var I={kw:d,page:1,pageSize:20};In(d),Kn({page:1,pageSize:20}),Wn([]),H(De.key,I)},le=function(d,I){switch(Vn(100),d){case"collect":Ne(I);break;case"library":wn.current=!0,H(De.key,o()(o()({},I),{},{justReturnSpaceData:!0}));break;default:H(De.key,I);break}},be=(0,R.useRequest)(c.ci,{manual:!0,debounceInterval:300,onSuccess:function(d){va(d),Fn(!1)},onError:function(){Fn(!1)}}),Ee=be.run,_e=function(){Fn(!0),Ee({spaceId:sn,publishType:se.sO.PAGE,buildRunning:!0})},Pe=function(d){var I=Mn?.filter(function(Y){return Y.name.includes(d)})||[];va(I)},de=function(d){if(In(""),Jn(d),De.key===S.qR.Page){_e();return}Kn({page:1,pageSize:20}),Wn([]),wn.current=!1,Sn.current=null;var I={page:1,pageSize:20};De.key===S.qR.Knowledge&&d!=="all"&&(I.dataType=Number(d),Sn.current=Number(d)),De.key===S.qR.MCP&&d==="custom"&&(wn.current=!0),le(d,I)},Ae=function(d){if(d){Sn.current=null,wn.current=!1;var I=d,Y=We.find(function(Ke){return Ke.key===I});if(Y)if(Jn(Qe?"library":"all"),In(""),da(Y),d===S.qR.Page){Wn([]),Fn(!0),Ee({spaceId:sn,publishType:se.sO.PAGE,buildRunning:!0});return}else Kn({page:1,pageSize:20}),Vn(100),H(Y.key,{page:1,pageSize:20})}},$=(0,_.useCallback)(function(){if(!(Hn==="collect"||w.current)){var x=V.current;if(x){var d=x.scrollHeight-x.scrollTop-x.clientHeight,I=$n.length>0&&d<50&&pn.page<Xn;if(I){var Y=pn.page+1,Ke={pageSize:20,page:Y};Kn(function(X){return o()(o()({},X),{},{page:Y})}),H(De.key,Ke)}}}},[pn,Hn,Xn,w,De.key,$n.length]);(0,_.useEffect)(function(){var x=V.current;if(en&&x)return x.addEventListener("scroll",$),function(){x.removeEventListener("scroll",$)}},[en,$]),(0,_.useEffect)(function(){en&&setTimeout(function(){Ae(ln)},100)},[ln,en]);var Ie=(0,v.jsxs)("div",{className:$e("dis-left",r["created-title"]),children:[(0,v.jsx)("h3",{className:r["created-title-text"],children:"\u6DFB\u52A0"}),(0,v.jsx)(O.Z,{value:De.key,size:"large",onChange:Ae,options:We.filter(function(x){return!(hn!=null&&hn.includes(x.key))}).map(function(x){return{label:x.label,value:x.key}}),className:r["segmented-style"]})]}),pe=(0,_.useCallback)(function(x,d){return C?.some(function(I){return I.type===x.targetType&&I.targetId===x.targetId&&I.status===d&&(I?.toolName||"")===(x.toolName||"")})},[C]),ie=(0,_.useCallback)(function(x){return pe(x,S.BQ.Added)},[pe]),Fe=(0,_.useCallback)(function(x,d){return t===void 0?pe(x,S.BQ.Loading):!!(t&&W?.targetId===x.targetId&&(W?.toolName||"")===(d||""))},[pe,W,t]),mn=function(d,I,Y){return(0,v.jsx)(Ge,{item:d,index:I,getToolLoading:Fe,selected:Y,onAddNode:me,addedComponents:C||[]},"".concat(d.targetId,"-").concat(I))},fe=function(d){l({targetType:S.qR.Page,targetId:d.projectId})},Ve=function(d,I){var Y=pe({targetType:S.qR.Page,targetId:d.projectId},S.BQ.Added),Ke=pe({targetType:S.qR.Page,targetId:d.projectId},S.BQ.Loading);return(0,v.jsx)(jn,{item:d,index:I,onAddNode:fe,isAddedState:Y,isCurrentLoading:Ke},"".concat(d.projectId,"-").concat(I))},xn=function(d,I){var Y,Ke,X=Fe(d),Ue=ie(d);return(0,v.jsxs)("div",{className:$e("dis-sb",r["list-item-style"]),children:[(0,v.jsx)("img",{src:d.icon||(0,Z.Pk)(De.key),alt:"",className:$e(r["left-image-style"]),onError:function(on){on.currentTarget.onerror=null,on.currentTarget.src=(0,Z.Pk)(De.key)||""}}),(0,v.jsxs)("div",{className:$e("flex-1",r["content-font"]),children:[(0,v.jsx)("p",{className:$e(r["label-font-style"],"text-ellipsis-2"),children:d.name}),(0,v.jsx)("p",{className:$e(r["created-description-style"],"text-ellipsis"),children:d.description}),(0,v.jsx)("div",{className:$e("dis-sb",r["count-div-style"]),children:(0,v.jsxs)("div",{className:"dis-left",children:[(0,v.jsx)("img",{src:((Y=d.publishUser)===null||Y===void 0?void 0:Y.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,v.jsx)("span",{children:(Ke=d.publishUser)===null||Ke===void 0?void 0:Ke.nickName}),(0,v.jsx)(F.Z,{type:"vertical"}),(0,v.jsx)("span",{children:"\u53D1\u5E03\u4E8E".concat((0,ne.hK)(d.created))}),![S.qR.Knowledge,S.qR.MCP].includes(De.key)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(F.Z,{type:"vertical"}),d.collect&&(0,v.jsx)(je.Z,{className:$e(r["collect-star"],r["icon-margin"]),onClick:function(){return ue(d)}}),!d.collect&&(0,v.jsx)(s.Z,{className:$e(r["icon-margin"]),onClick:function(){return ue(d)}}),(0,v.jsx)("span",{children:d.statistics?d.statistics.collectCount:0})]})]})})]}),(0,v.jsx)(B.ZP,{color:"default",variant:"filled",onClick:function(){return me(d)},loading:X,className:$e(r["add-button"],Ue&&r["add-button-added"]),disabled:X?!1:Ue,children:Ue?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(d.targetId,"-").concat(I))},Rn=function(d){R.history.push("/space/".concat(d,"/skill-manage"))},Cn=function(d,I){d===S.qR.MCP?(0,y._x)(I):d===S.qR.Page?(0,y.sK)(I):d===S.qR.Skill?Rn(I):An(!0)};return(0,v.jsxs)(K.Z,{keyboard:!1,maskClosable:!1,open:en,footer:null,centered:!0,title:Ie,onCancel:Je,className:$e(r["created-modal-style"]),width:1096,children:[(0,v.jsxs)("div",{className:$e(r["created-container"],"dis-sb-start"),children:[(0,v.jsxs)("div",{className:$e(r["aside-style"]),children:[(0,v.jsxs)("div",{className:$e(r["aside-header"]),children:[(0,v.jsx)(ae.Z,{allowClear:!0,value:ca,variant:"filled",placeholder:"\u641C\u7D22",prefix:(0,v.jsx)(q.Z,{}),onChange:function(d){In(d.target.value)},onClear:function(){In(""),De.key===S.qR.Page?_e():H(De.key,{page:1,pageSize:20})},onPressEnter:function(d){var I=d.currentTarget.value;d.key==="Enter"&&(De.key===S.qR.Page?Pe(I):(_a(o()(o()({},ga),{},{searching:!0})),Se(I)))}}),(0,v.jsx)(B.ZP,{type:"primary",className:$e(r["create-button"]),icon:(0,v.jsx)(xe.Z,{}),block:!0,onClick:function(){return Cn(De.key,sn)},children:"\u521B\u5EFA".concat(De.label)})]}),(0,v.jsx)(D.Z,{className:$e(r["aside-menu"]),onClick:function(d){return de(d.key)},selectedKeys:[Hn],mode:"vertical",items:N()})]}),(0,v.jsx)("div",{className:$e(r["main-style"],"flex-1","overflow-y"),ref:V,children:ja?(0,v.jsx)(Q.Z,{className:$e("h-full")}):De.key===S.qR.Page&&Mn!==null&&Mn!==void 0&&Mn.length?Mn?.map(function(x,d){return Ve(x,d)}):$n!=null&&$n.length?$n.map(function(x,d){return De.key===S.qR.MCP?mn(x,d,De):xn(x,d)}):(0,v.jsx)("div",{className:$e(r["created-list-empty-style"]),children:(0,v.jsx)(P.Z,{description:ga.searching?"\u6682\u65E0\u6570\u636E\uFF0C\u8BF7\u91CD\u65B0\u641C\u7D22":"\u6682\u65E0\u6570\u636E"})})})]}),(0,v.jsx)(U.Z,{onConfirm:oe,onCancel:function(){return An(!1)},open:Zn&&De.key===S.qR.Workflow,type:A.jA.Create,spaceId:sn}),(0,v.jsx)(E.Z,{onConfirm:oe,spaceId:sn,onCancel:function(){return An(!1)},open:Zn&&De.key===S.qR.Plugin,mode:A.jA.Create}),(0,v.jsx)(nn.Z,{spaceId:sn,onConfirm:oe,onCancel:function(){return An(!1)},open:Zn&&De.key===S.qR.Knowledge,mode:A.jA.Create}),(0,v.jsx)(G.Z,{spaceId:sn,open:Zn&&De.key===S.qR.Agent,onCancel:function(){return An(!1)},onConfirmCreate:ge}),(0,v.jsx)(f.Z,{spaceId:sn,type:S.qR.Table,mode:A.jA.Create,Confirm:oe,onCancel:function(){return An(!1)},open:Zn&&De.key===S.qR.Table})]})},Gn=Nn},9291:function(fn,ye,e){var we=e(82092),a=e.n(we),Te=e(48305),u=e.n(Te),p=e(46388),o=e(92973),k=e(26145),M=e(83352),J=e(33356),h=e(15970),g=e(61884),b=e(28327),m=e(30799),ee=e(60393),c=e(28190),S=e(63619),A=e(51430),se=e(75271),ne=e(80723),y=e(52676),Z=function(s){var q=s.loading,xe=s.mode,he=xe===void 0?m.jA.Create:xe,O=s.type,F=s.info,B=s.open,K=s.onCancel,ae=s.Confirm,D=c.Z.useForm(),P=u()(D,1),n=P[0],i=(0,se.useState)(""),_=u()(i,2),R=_[0],G=_[1];(0,se.useEffect)(function(){B&&F&&(n.setFieldsValue(F),G(F.icon||""))},[B,F]);var f=function(){var r=a()(a()({},m.jA.Create,"\u521B\u5EFA"),m.jA.Update,"\u7F16\u8F91"),te=a()(a()(a()(a()({},b.qR.Table,"\u6570\u636E\u8868"),b.qR.Knowledge,"\u77E5\u8BC6\u5E93"),b.qR.Plugin,"\u63D2\u4EF6"),b.qR.Workflow,"\u5DE5\u4F5C\u6D41");return"".concat(r[he]).concat(te[O])},nn=function(){var r=a()(a()(a()(a()({},b.qR.Table,p),b.qR.Knowledge,o),b.qR.Plugin,k),b.qR.Workflow,M);return r[O]},E=function(r){ae(r,O,he)},U=function(){n.submit()};return(0,y.jsx)(ne.Z,{form:n,title:f(),open:B,loading:q,onCancel:K,onConfirm:U,children:(0,y.jsxs)(c.Z,{form:n,layout:"vertical",onFinish:E,requiredMark:ee.N,children:[(O===b.qR.Plugin||O===b.qR.Table)&&(0,y.jsx)(c.Z.Item,{name:"icon",children:(0,y.jsx)("div",{className:"dis-center",children:(0,y.jsx)(h.Z,{className:"upload-box",onUploadSuccess:function(r){n.setFieldValue("icon",r),G(r)},imageUrl:n.getFieldValue("icon")||R,defaultImage:nn(),svgIconName:"icons-workspace-table"})})}),(0,y.jsx)(c.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"},{validator:function(r,te){return!te||te?.length<=30?Promise.resolve():te?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u540D\u79F0!"))}}],children:(0,y.jsx)(S.Z,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",showCount:!0,maxLength:30})}),(0,y.jsx)(c.Z.Item,{name:"description",label:"\u63CF\u8FF0",className:"position-relative",children:(0,y.jsx)(S.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0",autoSize:{minRows:3,maxRows:6},maxLength:1e4,showCount:!0,className:"dispose-textarea-count"})}),(O===b.qR.Workflow||O===b.qR.Knowledge)&&(0,y.jsx)(c.Z.Item,{name:"icon",children:(0,y.jsx)("div",{children:(0,y.jsx)(h.Z,{className:"upload-box",onUploadSuccess:function(r){n.setFieldValue("icon",r)},imageUrl:R,defaultImage:nn(),svgIconName:"icons-workspace-knowledge"})})}),O===b.qR.Plugin&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.Z.Item,{shouldUpdate:!0,label:"\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",name:"type",children:(0,y.jsx)(A.ZP.Group,{options:g.B1})}),(0,y.jsx)(c.Z.Item,{shouldUpdate:!0,children:function(){return n.getFieldValue("type")==="CODE"&&(0,y.jsx)(c.Z.Item,{label:"IDE \u8FD0\u884C\u65F6",name:"codeLang",children:(0,y.jsx)(J.Z,{options:g._n})})}})]})]})})};ye.Z=Z},19828:function(fn,ye,e){e.d(ye,{Z:function(){return M}});var we=e(94581),a=e.n(we),Te=e(75271),u={container:"container___dApW8",star:"star___pESlW"},p=e(52676),o=a().bind(u),k=function(h){var g=h.className,b=h.label;return(0,p.jsxs)("span",{className:o(u.container,"flex",g),children:[(0,p.jsx)("span",{children:b}),(0,p.jsx)("span",{className:o(u.star),children:"*"})]})},M=k},56873:function(fn,ye,e){e.d(ye,{Z:function(){return h}});var we=e(94581),a=e.n(we),Te=e(75271),u=e(92677),p=e(59602),o={"end-loading":"end-loading___xIw5R"},k=e(52676),M=a().bind(o),J=function(b){var m=b.scrollableTarget,ee=b.list,c=b.hasMore,S=b.showLoader,A=S===void 0?!0:S,se=b.onScroll,ne=b.children;return(0,k.jsx)(u.Z,{dataLength:ee.length,next:se,hasMore:c,loader:A?(0,k.jsx)(p.Z,{className:M(o["end-loading"])}):null,scrollableTarget:m,children:ne})},h=J},58151:function(fn,ye,e){e.r(ye),e.d(ye,{default:function(){return Ra}});var we=e(90228),a=e.n(we),Te=e(87999),u=e.n(Te),p=e(26068),o=e.n(p),k=e(15558),M=e.n(k),J=e(48305),h=e.n(J),g=e(2402),b=e(40462),m=e(69945),ee=e(30799),c=e(38413),S=e(22824),A=e(41249),se=e(63619),ne=e(94581),y=e.n(ne),Z=e(32222),je=e.n(Z),s=e(75271),q=e(53586),xe=e(56873),he=e(59602),O=e(17023),F=e(82092),B=e.n(F),K=e(13297),ae=e(68108),D=e(9504),P={"file-info":"file-info___HyY1N",active:"active___MVg4i",analyzing:"analyzing___gjje2","analyzing-success":"analyzing-success___McMOJ","retry-btn":"retry-btn___xpRJl"},n=e(52676),i=y().bind(P),_=function(T){var N,V=T.currentDocId,w=T.info,H=T.onClick,Ne=T.onSetAnalyzed,ue=(0,q.useRequest)(m.T5,{manual:!0,debounceInterval:300,onSuccess:function(Ee,_e){var Pe=_e[0],de={docStatus:c.Z$.ANALYZING_RAW,docStatusCode:c.Se.ANALYZING_RAW,docStatusDesc:"\u5206\u6790\u4E2D",docStatusReason:"\u5206\u6BB5\u751F\u6210\u4E2D"};Ne(Pe,de)}}),oe=ue.run,ge=(0,q.useRequest)(m.SR,{manual:!0,debounceInterval:300,loadingDelay:300,pollingInterval:5e3,pollingWhenHidden:!1,pollingErrorRetryCount:3,onSuccess:function(Ee){var _e=Ee.docStatusCode,Pe=Ee.id,de=Ee.docStatus,Ae=Ee.docStatusDesc,$=Ee.docStatusReason;if(_e===c.Se.ANALYZED||_e===c.Se.ANALYZE_FAILED){var Ie={docStatus:de,docStatusCode:_e,docStatusDesc:Ae,docStatusReason:$};Ne(Pe,Ie)}_e===c.Se.ANALYZED&&Se()},onError:function(){Se()}}),me=ge.run,Se=ge.cancel;(0,s.useEffect)(function(){Se();var be=w.docStatusCode;return be!==c.Se.ANALYZED&&be!==c.Se.ANALYZE_FAILED&&me(w.id),function(){Se()}},[w?.docStatusCode]);var le=function(Ee){Ee.stopPropagation(),oe(w.id)};return(0,n.jsxs)("li",{onClick:function(){return H(w)},className:i(P["file-info"],"flex","items-center","radius-6","overflow-hide",B()({},P.active,V===w.id)),children:[(0,n.jsx)(K.Z,{}),(0,n.jsx)(ae.Z,{title:((N=w.name)===null||N===void 0?void 0:N.length)>25?w.name:"",children:(0,n.jsx)("span",{className:i("flex-1","text-ellipsis"),children:w.name})}),w.docStatusCode===c.Se.ANALYZED?(0,n.jsx)("span",{className:i(P.analyzing,P["analyzing-success"]),children:"\u6784\u5EFA\u6210\u529F"}):w.docStatusCode===c.Se.ANALYZE_FAILED?(0,n.jsx)(D.ZP,{type:"primary",className:i(P["retry-btn"]),size:"small",danger:!0,onClick:le,children:"\u6784\u5EFA\u5931\u8D25,\u91CD\u65B0\u6784\u5EFA"}):(0,n.jsx)("span",{className:i(P.analyzing),children:"\u6784\u5EFA\u4E2D"})]})},R=_,G={container:"container___tss1C","search-icon":"search-icon___ALiyn","document-title":"document-title___D2nw4"},f=y().bind(G),nn=function(T){var N=T.currentDocId,V=T.onChange,w=T.loading,H=T.documentList,Ne=T.onClick,ue=T.onSetAnalyzed,oe=T.hasMore,ge=T.onScroll;return(0,n.jsxs)("div",{className:f(G.container,"h-full","flex","flex-col"),children:[(0,n.jsx)(se.Z.Search,{placeholder:"\u641C\u7D22",size:"large",onChange:function(Se){return V(Se.target.value)},allowClear:!0,prefix:(0,n.jsx)(O.Z,{className:f(G["search-icon"])})}),(0,n.jsx)("p",{className:f(G["document-title"]),children:"\u6587\u6863\u5217\u8868"}),w?(0,n.jsx)(he.Z,{}):(0,n.jsx)("ul",{className:f("flex-1","scroll-container"),id:"docListDiv",children:(0,n.jsx)(xe.Z,{scrollableTarget:"docListDiv",list:H,hasMore:oe,onScroll:ge,children:H?.map(function(me){return(0,n.jsx)(R,{currentDocId:N,info:me,onClick:Ne,onSetAnalyzed:ue},me.id)})})})]})},E=nn,U={container:"container___TcbAQ","inner-container":"inner-container___iBi0j",inputSearch:"inputSearch___lG2EX"},Q=e(92973),r=e(89082),te=e(61884),Ye=e(60733),v=e(86834),Xe=e(61606),_n=e(89858),Tn=e(13143),vn=e(51430),Be={"xagi-nav-style2":"xagi-nav-style2___thez1",text:"text___wmFD_","page-container":"page-container___sbebK",header:"header___OeFg1","icon-back":"icon-back___KsVkd",logo:"logo___wkezw",section:"section___NHd4m","top-box":"top-box___ZxXf5",name:"name___BgnUx","bottom-box":"bottom-box___JpcN2",box:"box___W35m8","dropdown-icon":"dropdown-icon___DUW6P","radio-group-box":"radio-group-box___Q0t0u"},re=y().bind(Be),tn=function(T){var N=T.docCount,V=N===void 0?0:N,w=T.knowledgeInfo,H=T.onEdit,Ne=T.onPopover,ue=T.onQaPopover,oe=T.docType,ge=oe===void 0?c.Sg.DOC:oe,me=T.onChangeDocType,Se=(0,q.useParams)(),le=Se.spaceId,be=w!=null&&w.fileSize?(0,Ye.td)(w.fileSize):"0KB",Ee=function(Pe){me(Pe.target.value)};return(0,n.jsxs)("header",{className:re("flex","items-center","w-full",Be.header),children:[(0,n.jsx)(Xe.Z,{className:re(Be["icon-back"],"cursor-pointer"),onClick:function(){return(0,v.bC)("/space/".concat(le,"/library"))}}),(0,n.jsx)("img",{className:re(Be.logo),src:w?.icon||Q,alt:""}),(0,n.jsx)("section",{className:re("flex","flex-col","content-between",Be.section),children:(0,n.jsxs)("div",{className:re("flex",Be["top-box"]),children:[(0,n.jsx)("h3",{className:re(Be.name,"text-ellipsis"),children:w?.name}),(0,n.jsx)(_n.Z,{className:re("cursor-pointer","hover-box"),onClick:H,style:{fontSize:16}}),(0,n.jsxs)("div",{className:re(Be["bottom-box"],"flex","items-center"),children:[(0,n.jsx)("span",{className:re(Be.box),children:"".concat(be)}),(0,n.jsx)("span",{className:re(Be.box),children:"".concat(V,"\u4E2A\u6587\u6863")})]})]})}),(0,n.jsxs)(vn.ZP.Group,{className:re("flex","items-center","flex-1","content-center",Be["radio-group-box"]),optionType:"button",defaultValue:ge,onChange:Ee,children:[(0,n.jsx)(vn.ZP,{value:c.Sg.DOC,children:"\u6587\u6863"}),(0,n.jsx)(vn.ZP,{value:c.Sg.QA,children:"QA\u95EE\u7B54"})]}),(0,n.jsx)("div",{style:{width:150,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:ge===c.Sg.DOC?(0,n.jsx)(r.Z,{list:te.w9,onClick:Ne,children:(0,n.jsx)(D.ZP,{type:"primary",icon:(0,n.jsx)(Tn.Z,{className:re(Be["dropdown-icon"])}),iconPosition:"end",children:"\u6DFB\u52A0\u5185\u5BB9"})}):(0,n.jsx)(r.Z,{list:te.jp,onClick:ue,children:(0,n.jsx)(D.ZP,{type:"primary",icon:(0,n.jsx)(Tn.Z,{className:re(Be["dropdown-icon"])}),iconPosition:"end",children:"\u6DFB\u52A0QA\u95EE\u7B54"})})})]})},Ge=tn,ve=e(65774),an=e(44776),yn=e(86743),jn=e(66118),$e=e(75434),ce=e(28190),Bn=e(14719),Nn=e(29196),Gn=e(20961),Dn=e(59245),Ce=e.n(Dn),ke=e(65773),Qe=e(19828),en=e(33356),Je=e(2201),ln=e(60393),l={"xagi-nav-style2":"xagi-nav-style2___u6luY",text:"text___lfWXh","page-container":"page-container___hBhhl","set-box":"set-box___jlKbK","mt-50":"mt-50___Ycewq",active:"active___Vs7Tm","custom-set-hide":"custom-set-hide___Ho8Xr","divider-horizontal":"divider-horizontal___UiZMH","mb-10":"mb-10___F_4Nm"},C=y().bind(l),L=function(T){var N=T.form,V=T.autoSegmentConfigFlag,w=T.onChoose,H=(0,s.useState)(c.Gp.Line_Feed),Ne=h()(H,2),ue=Ne[0],oe=Ne[1],ge=function(Se){var le=Se;oe(le)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:C(l["set-box"],"px-16","py-16","cursor-pointer",B()({},l.active,V),l["mt-50"]),onClick:function(){return w(!0)},children:[(0,n.jsx)("h3",{children:"\u81EA\u52A8\u5206\u6BB5\u4E0E\u6E05\u6D17"}),(0,n.jsx)("p",{children:"\u81EA\u52A8\u5206\u6BB5\u4E0E\u9884\u5904\u7406\u89C4\u5219"})]}),(0,n.jsxs)("div",{className:C(l["set-box"],"px-16","py-16","cursor-pointer",B()({},l.active,!V)),onClick:function(){return w(!1)},children:[(0,n.jsx)("h3",{children:"\u81EA\u5B9A\u4E49"}),(0,n.jsx)("p",{children:"\u81EA\u5B9A\u4E49\u5206\u6BB5\u89C4\u5219\uFF0C\u5206\u6BB5\u957F\u5EA6\u53CA\u9884\u5904\u7406\u89C4\u5219"}),(0,n.jsxs)("div",{className:C(B()({},l["custom-set-hide"],V)),children:[(0,n.jsx)("div",{className:C(l["divider-horizontal"])}),(0,n.jsxs)(ce.Z,{form:N,layout:"vertical",initialValues:{selectDelimiter:c.Gp.Line_Feed,words:800,overlaps:10},requiredMark:ln.N,children:[(0,n.jsxs)(ce.Z.Item,{label:(0,n.jsx)(Qe.Z,{label:"\u5206\u6BB5\u6807\u8BC6\u7B26"}),children:[(0,n.jsx)(ce.Z.Item,{name:"selectDelimiter",noStyle:!0,children:(0,n.jsx)(en.Z,{className:C(B()({},l["mb-10"],ue===c.Gp.Custom)),value:ue,onChange:ge,options:te.PE})}),(0,n.jsx)(ke.Z,{condition:ue===c.Gp.Custom,children:(0,n.jsx)(ce.Z.Item,{name:"delimiter",noStyle:!0,rules:[{required:!0,message:"\u8F93\u5165\u5206\u6BB5\u6807\u8BC6\u7B26"}],children:(0,n.jsx)(se.Z,{placeholder:"\u8F93\u5165\u5206\u6BB5\u6807\u8BC6\u7B26\uFF0C\u4F8B\u5982 \\n \u6362\u884C"})})})]}),(0,n.jsx)(ce.Z.Item,{name:"words",label:"\u5206\u6BB5\u6700\u5927\u957F\u5EA6",rules:[{required:!0,message:"\u8BF7\u8F93\u5165100-5000\u7684\u6570\u503C"},{validator:function(Se,le){return!le||Number(le)>=100&&Number(le)<=5e3?Promise.resolve():le&&!(0,Je.hj)(le)?Promise.reject(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u6570\u5B57!")):Promise.reject(new Error("\u5206\u6BB5\u6700\u5927\u957F\u5EA6\u4E0D\u5F97\u5C0F\u4E8E100\uFF0C\u5927\u4E8E5000!"))}}],children:(0,n.jsx)(se.Z,{placeholder:"\u8BF7\u8F93\u5165100-5000\u7684\u6570\u503C"})}),(0,n.jsx)(ce.Z.Item,{name:"overlaps",label:"\u5206\u6BB5\u91CD\u53E0\u5EA6%",rules:[{required:!0,message:"\u8BF7\u8F93\u51650-100\u7684\u6570\u503C"},{validator:function(Se,le){return!le||Number(le)>=0&&Number(le)<=100?Promise.resolve():le&&!(0,Je.hj)(le)?Promise.reject(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u6570\u5B57!")):Promise.reject(new Error("\u5206\u6BB5\u91CD\u53E0\u5EA6\u4E0D\u5F97\u5C0F\u4E8E0\uFF0C\u5927\u4E8E100!"))}}],children:(0,n.jsx)(se.Z,{placeholder:"\u8BF7\u8F93\u51650-100\u7684\u6570\u503C"})})]})]})]})]})},t=L,Ze={container:"container___ZLORR",box:"box___HKphT",desc:"desc___cHq1A"},We=y().bind(Ze),hn=function(T){var N=T.uploadFileList;return(0,n.jsx)(n.Fragment,{children:N?.map(function(V){return(0,n.jsx)("div",{className:We(Ze.container),children:(0,n.jsxs)("div",{className:We("flex","items-center","radius-6",Ze.box),children:[(0,n.jsx)("img",{className:We("radius-6"),src:ve,alt:""}),(0,n.jsxs)("div",{className:We("flex-1","overflow-hide"),children:[(0,n.jsx)("h3",{className:We("text-ellipsis"),children:V.name}),(0,n.jsx)("span",{className:We(Ze.desc),children:"".concat(V.size/1e3," kb")})]})]})},V.key)})})},Un=hn,sn={container:"container___NSoS7"},ia=y().bind(sn),Qn=se.Z.TextArea,Zn=function(T){var N=T.form;return(0,n.jsxs)(ce.Z,{form:N,layout:"vertical",rootClassName:ia(sn.container),requiredMark:ln.N,children:[(0,n.jsx)(ce.Z.Item,{name:"name",label:"\u6587\u6863\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6863\u540D\u79F0"}],children:(0,n.jsx)(se.Z,{placeholder:"\u8F93\u5165\u6587\u6863\u540D\u79F0",showCount:!0,maxLength:100})}),(0,n.jsx)(ce.Z.Item,{name:"fileContent",label:"\u6587\u6863\u5185\u5BB9",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6863\u5185\u5BB9"}],children:(0,n.jsx)(Qn,{placeholder:"\u8F93\u5165\u6587\u6863\u5185\u5BB9",autoSize:{minRows:6,maxRows:8}})})]})},An=Zn,na=e(79484),aa=e(16722),ca=e(15739),In=e(7980),ta={container:"container___Wflwg"},zn=y().bind(ta),De=In.Z.Dragger,da=function(T){var N,V=T.onUploadSuccess,w=T.beforeUpload,H=T.onChange,Ne=T.fileList,ue=T.multiple,oe=ue===void 0?!1:ue,ge=T.height,me=ge===void 0?386:ge,Se=function(_e){var Pe=_e.file.status;if(H?.(_e),Pe!=="uploading"&&Pe==="done"){var de,Ae;if(((de=_e.file.response)===null||de===void 0?void 0:de.code)!==b.Gh){var $;A.ZP.warning(($=_e.file.response)===null||$===void 0?void 0:$.message);return}var Ie=(Ae=_e.file.response)===null||Ae===void 0?void 0:Ae.data;V?.(Ie)}},le=function(_e){var Pe,de=_e.name,Ae=_e.size;if(!de.includes("."))return A.ZP.error("\u8BF7\u4E0A\u4F20\u6B63\u786E\u7684\u6587\u4EF6\u7C7B\u578B"),!1;var $=de.split("."),Ie=(Pe=$[$.length-1])===null||Pe===void 0?void 0:Pe.toLowerCase(),pe=na.Y9.includes(Ie);pe||A.ZP.error("\u8BF7\u4E0A\u4F20 PDF\u3001TXT\u3001DOC\u3001DOCX\u3001MD\u3001JSON\u3001JPG\u3001PNG\u3001GIF\u3001WEBP\u3001SVG\u3001HEIC\u3001MP4\u3001MKV\u3001MOV\u3001WEBM\u3001MP3\u3001AAC\u3001WAV\u3001FLAC\u3001OGG\u3001OPUS \u7C7B\u578B\u6587\u4EF6!");var ie=Ae/1024/1024<100;return ie||A.ZP.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7100MB!"),pe&&ie||In.Z.LIST_IGNORE},be=(N=localStorage.getItem(aa.LA))!==null&&N!==void 0?N:"";return(0,n.jsx)("div",{className:zn("flex flex-col content-center",ta.container),style:{height:me},children:(0,n.jsxs)(De,{className:zn("h-full"),action:na.GI,onChange:Se,multiple:oe,fileList:Ne,headers:{Authorization:be?"Bearer ".concat(be):""},showUploadList:!1,beforeUpload:w??le,children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(ca.Z,{})}),(0,n.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u4E0A\u4F20\u6216\u62D6\u62FD\u6587\u6863\u5230\u8FD9\u91CC"}),(0,n.jsx)("p",{className:"ant-upload-hint",children:"\u652F\u6301 PDF\u3001TXT\u3001DOC\u3001DOCX\u3001MD\u3001JSON\u3001JPG\u3001PNG\u3001GIF\u3001WEBP\u3001SVG\u3001HEIC\u3001MP4\u3001MKV\u3001MOV\u3001WEBM\u3001MP3\u3001AAC\u3001WAV\u3001FLAC\u3001OGG\u3001OPUS\uFF0C\u6700\u591A\u53EF\u4E0A\u4F20 300 \u4E2A\u6587\u4EF6\uFF0C\u6BCF\u4E2A\u6587\u4EF6\u4E0D\u8D85\u8FC7 100MB\uFF0C PDF \u6700\u591A 500 \u9875"})]})})},pa=da,dn={container:"container___tFtX8",header:"header___wuG3n",body:"body___mYOi1",gap:"gap___SPBCR","step-wrap":"step-wrap___FeUXk",fileList:"fileList___oV1Gy","file-box":"file-box___u0M_L",box:"box___XvOd5",span:"span___A8vDZ","progress-upload-file":"progress-upload-file___j10i7","progress-upload-file-error":"progress-upload-file-error___W4cLz","progress-upload-file-success":"progress-upload-file-success___Ey3Y6"},pn=y().bind(dn),Kn=function(T){var N,V=T.id,w=T.type,H=w===void 0?c.Zf.Local_Doc:w,Ne=T.open,ue=T.onConfirm,oe=T.onCancel,ge=ce.Z.useForm(),me=h()(ge,1),Se=me[0],le=ce.Z.useForm(),be=h()(le,1),Ee=be[0],_e=(0,s.useState)(c.ah.Upload_Or_Text_Fill),Pe=h()(_e,2),de=Pe[0],Ae=Pe[1],$=(0,s.useState)([]),Ie=h()($,2),pe=Ie[0],ie=Ie[1],Fe=(0,s.useState)([]),mn=h()(Fe,2),fe=mn[0],Ve=mn[1],xn=(0,s.useState)(!0),Rn=h()(xn,2),Cn=Rn[0],x=Rn[1],d=(0,s.useRef)();(0,s.useEffect)(function(){Ve(pe.filter(function(j){return j.status===ee.KM.done&&j.key&&j.url}))},[pe]);var I=(0,s.useRef)(null),Y=function(){Ae(c.ah.Upload_Or_Text_Fill),ie([]),x(!0),Se.resetFields(),Ee.resetFields(),I.current=null},Ke=(0,q.useRequest)(m.Il,{manual:!0,debounceInterval:300,onSuccess:function(){A.ZP.success("\u6587\u6863\u6DFB\u52A0\u6210\u529F"),Y(),ue()}}),X=Ke.run,Ue=(0,q.useRequest)(m.gd,{manual:!0,debounceInterval:300,onSuccess:function(){A.ZP.success("\u6587\u6863\u6DFB\u52A0\u6210\u529F"),Y(),ue()}}),Me=Ue.run,on=function(){var j=u()(a()().mark(function qe(){var He,cn;return a()().wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:He=fe?.map(function(ya){return{name:ya.name,docUrl:ya.url,fileSize:ya.size}})||[],cn={kbId:V,fileList:He,autoSegmentConfigFlag:Cn},X(Cn?cn:o()(o()({},cn),{},{segmentConfig:o()(o()({segment:c.D7.DELIMITER},I.current),{},{isTrim:!0})}));case 3:case"end":return bn.stop()}},qe)}));return function(){return j.apply(this,arguments)}}(),gn=(0,s.useCallback)(function(j){return(0,an.U)(j)},[]),rn=function(){var j=u()(a()().mark(function qe(){var He;return a()().wrap(function(ea){for(;;)switch(ea.prev=ea.next){case 0:He=o()(o()({kbId:V},d.current),{},{autoSegmentConfigFlag:Cn}),Me(Cn?He:o()(o()({},He),{},{segmentConfig:o()(o()({segment:c.D7.DELIMITER},I.current),{},{isTrim:!0})}));case 2:case"end":return ea.stop()}},qe)}));return function(){return j.apply(this,arguments)}}(),kn=(0,s.useMemo)(function(){return H===c.Zf.Local_Doc?te.nF:te.xH},[H]),qn=function(qe){var He=M()(pe);He.splice(He.findIndex(function(cn){return cn.uid===qe}),1),ie(He)},Oa=function(){var j=u()(a()().mark(function qe(){return a()().wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:if(H!==c.Zf.Custom){cn.next=4;break}return cn.next=3,Ee.validateFields();case 3:d.current=cn.sent;case 4:Ae(c.ah.Create_Segmented_Set);case 5:case"end":return cn.stop()}},qe)}));return function(){return j.apply(this,arguments)}}(),Ma=function(){var j=u()(a()().mark(function qe(){var He,cn;return a()().wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:if(Cn){bn.next=6;break}return bn.next=3,Se.validateFields();case 3:He=bn.sent,He?.selectDelimiter===c.Gp.Custom?cn=Ce()(He,["selectDelimiter"]):cn={delimiter:He?.selectDelimiter,overlaps:Number(He.overlaps),words:Number(He.words)},I.current=cn;case 6:Ae(c.ah.Data_Processing);case 7:case"end":return bn.stop()}},qe)}));return function(){return j.apply(this,arguments)}}(),La=function(){switch(de){case c.ah.Upload_Or_Text_Fill:return(0,n.jsxs)("div",{className:pn("flex","content-end",dn.gap),children:[(0,n.jsx)(D.ZP,{onClick:oe,children:"\u53D6\u6D88"}),(0,n.jsx)(D.ZP,{onClick:Oa,type:"primary",disabled:H===c.Zf.Local_Doc?fe?.length===0:!1,children:"\u4E0B\u4E00\u6B65"})]});case c.ah.Create_Segmented_Set:return(0,n.jsxs)("div",{className:pn("flex","content-end",dn.gap),children:[(0,n.jsx)(D.ZP,{onClick:function(){return Ae(c.ah.Upload_Or_Text_Fill)},children:"\u4E0A\u4E00\u6B65"}),(0,n.jsx)(D.ZP,{onClick:Ma,type:"primary",children:"\u4E0B\u4E00\u6B65"})]});case c.ah.Data_Processing:return(0,n.jsxs)("div",{className:pn("flex","content-end",dn.gap),children:[(0,n.jsx)(D.ZP,{onClick:function(){return Ae(c.ah.Create_Segmented_Set)},children:"\u4E0A\u4E00\u6B65"}),(0,n.jsx)(D.ZP,{onClick:H===c.Zf.Local_Doc?on:rn,type:"primary",children:"\u786E\u8BA4"})]})}},Ea=function(){Y(),oe()},Ba=function(qe){var He=qe.fileList;ie((0,an.G)(He,90))},ka=(0,s.useCallback)(function(j){return j?j.length>24?j.slice(0,16)+"..."+j.slice(j.length-8,j.length):j:""},[]),Na=(0,s.useCallback)(function(j){return j?j<1024?"".concat(j," B"):j<1024*1024?"".concat((j/1024).toFixed(2)," KB"):j<1024*1024*1024?"".concat((j/1024/1024).toFixed(2)," MB"):"".concat((j/1024/1024/1024).toFixed(2)," GB"):""},[]);return(0,n.jsxs)(Bn.Z,{title:"\u6DFB\u52A0\u5185\u5BB9",destroyOnHidden:!0,classNames:{content:pn(dn.container),header:pn(dn.header),body:pn(dn.body)},open:Ne,onCancel:Ea,footer:La,children:[(0,n.jsx)("div",{className:pn(dn["step-wrap"],"radius-6"),children:(0,n.jsx)(Nn.Z,{type:"default",current:de,items:kn})}),de===c.ah.Upload_Or_Text_Fill?H===c.Zf.Local_Doc?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(pa,{onChange:Ba,multiple:!0,fileList:pe,height:200}),(0,n.jsx)("div",{className:pn(dn.fileList),children:pe?.map(function(j){return(0,n.jsxs)("div",{className:pn(dn["file-box"]),children:[(0,n.jsxs)("div",{className:pn("flex","items-center","content-between"),style:{height:"100%"},children:[(0,n.jsxs)("span",{style:{color:j?.status===ee.KM.error?"#e53241":"rgba(0, 0, 0, 0.88)"},children:[ka(j?.name)," (",Na(j?.size),")"]}),(0,n.jsx)(yn.Z,{onClick:function(){return qn(j.uid)}})]}),j?.percent!==void 0&&(gn(j)==="success"?(0,n.jsx)("div",{className:dn["progress-upload-file-success"],children:(0,n.jsx)(jn.Z,{})}):(0,n.jsx)(Gn.Z,{percent:Math.floor(j.percent||0),type:"circle",status:gn(j),size:20,className:dn["progress-upload-file"]})),j?.status===ee.KM.error&&(0,n.jsx)("div",{className:dn["progress-upload-file-error"],children:(0,n.jsx)($e.Z,{})})]},j.uid)})})]}):(0,n.jsx)(An,{form:Ee}):de===c.ah.Create_Segmented_Set?(0,n.jsx)(t,{form:Se,autoSegmentConfigFlag:Cn,onChoose:function(qe){return x(qe)}}):H===c.Zf.Local_Doc?(0,n.jsx)(Un,{uploadFileList:fe}):(0,n.jsxs)("div",{className:pn("flex","items-center","radius-6",dn.box),children:[(0,n.jsx)("img",{className:pn("radius-6"),src:ve,alt:""}),(0,n.jsx)("h3",{className:pn("text-ellipsis","flex-1"),children:(N=d.current)===null||N===void 0?void 0:N.name})]})]})},ma=Kn,ra=e(30426),Xn=e(54134),Vn=e(7010),fa=e(69219),sa=e(32699),Hn={dragger:"dragger___RX3qp"},Jn=y().bind(Hn),ha=In.Z.Dragger,un=function(T){var N=T.open,V=T.kbId,w=T.onConfirm,H=T.onCancel,Ne=(0,s.useState)([]),ue=h()(Ne,2),oe=ue[0],ge=ue[1],me=(0,s.useState)(!1),Se=h()(me,2),le=Se[0],be=Se[1];(0,s.useEffect)(function(){N||(ge([]),be(!1))},[N]);var Ee=function(){var $=u()(a()().mark(function Ie(pe,ie,Fe){var mn;return a()().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ve.prev=0,Ve.next=3,(0,m.s2)({file:pe,kbId:V});case 3:mn=Ve.sent,mn.code==="0000"?ie():Fe(mn.message||"\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6\u683C\u5F0F\u662F\u5426\u6B63\u786E"),Ve.next=11;break;case 7:Ve.prev=7,Ve.t0=Ve.catch(0),console.error("\u4E0A\u4F20\u6587\u4EF6\u51FA\u9519:",Ve.t0),be(!1);case 11:case"end":return Ve.stop()}},Ie,null,[[0,7]])}));return function(pe,ie,Fe){return $.apply(this,arguments)}}(),_e={name:"file",multiple:!1,accept:".xlsx,.xls",maxCount:1,beforeUpload:function(Ie){var pe=Ie.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||Ie.type==="application/vnd.ms-excel"||Ie.name.endsWith(".xlsx")||Ie.name.endsWith(".xls");if(!pe)return A.ZP.error("\u4EC5\u652F\u6301Excel\u6587\u4EF6(.xlsx/.xls)"),!1;var ie=Ie.size/1024/1024<10;return ie?(ge([Ie]),!1):(A.ZP.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710MB"),!1)},onRemove:function(){ge([])},fileList:oe},Pe=(0,sa.debounce)(function(){if(oe.length===0){A.ZP.error("\u8BF7\u4E0A\u4F20\u6587\u4EF6");return}be(!0),Ee(oe[0],function(){be(!1),A.ZP.success("\u6279\u91CF\u5BFC\u5165\u6210\u529F"),ge([]),w()},function($){be(!1),A.ZP.error($)})},500),de=function(){ge([]),H()},Ae=function(){var $=u()(a()().mark(function Ie(){var pe,ie,Fe;return a()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return console.log("\u4E0B\u8F7DQA\u6279\u91CFexcel\u6A21\u677F"),fe.prev=1,fe.next=4,(0,m.ds)();case 4:pe=fe.sent,ie=URL.createObjectURL(pe),Fe=document.createElement("a"),Fe.href=ie,Fe.download="QA\u6279\u91CFexcel\u6A21\u677F.xlsx",Fe.click(),URL.revokeObjectURL(ie),fe.next=17;break;case 13:fe.prev=13,fe.t0=fe.catch(1),console.error(fe.t0),A.ZP.error("\u4E0B\u8F7DQA\u6279\u91CFexcel\u6A21\u677F\u5931\u8D25");case 17:case"end":return fe.stop()}},Ie,null,[[1,13]])}));return function(){return $.apply(this,arguments)}}();return(0,n.jsxs)(Bn.Z,{title:"QA\u6279\u91CF\u5BFC\u5165",open:N,confirmLoading:le,onCancel:de,footer:(0,n.jsxs)(Vn.Z,{children:[(0,n.jsx)(ae.Z,{title:"\u4E0B\u8F7DExcel\u5BFC\u5165\u6A21\u677F",children:(0,n.jsx)(D.ZP,{icon:(0,n.jsx)(ra.Z,{}),type:"link",onClick:Ae,children:"\u4E0B\u8F7D\u6A21\u677F"})}),(0,n.jsx)(D.ZP,{type:"primary",disabled:oe.length===0,onClick:Pe,loading:le,children:"\u786E\u8BA4\u4E0A\u4F20"})]}),destroyOnHidden:!0,width:500,children:[(0,n.jsx)("div",{className:Jn(Hn.dragger),children:(0,n.jsxs)(ha,o()(o()({},_e),{},{className:Jn("h-full"),children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(Xn.Z,{})}),(0,n.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u62D6\u62FD\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u4E0A\u4F20"}),(0,n.jsx)("p",{className:"ant-upload-hint",children:"\u4EC5\u652F\u6301Excel\u6587\u4EF6(.xlsx/.xls)\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC710MB"})]}))}),oe.length===0&&(0,n.jsx)("div",{style:{marginTop:16,textAlign:"center"},children:(0,n.jsx)(fa.Z.Text,{type:"secondary",children:"\u8BF7\u5148\u4E0B\u8F7D\u5BFC\u5165\u6A21\u677F\uFF0C\u6309\u7167\u683C\u5F0F\u586B\u5199\u540E\u4E0A\u4F20"})})]})},W=un,En=function(T){var N=T.data,V=T.open,w=T.onCancel,H=T.onConfirm,Ne=ce.Z.useForm(),ue=h()(Ne,1),oe=ue[0],ge=(0,s.useState)(!1),me=h()(ge,2),Se=me[0],le=me[1],be=function(){var _e=u()(a()().mark(function Pe(){var de;return a()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.prev=0,le(!0),$.next=4,oe.validateFields();case 4:return de=$.sent,$.next=7,H(o()(o()({},de),{},{id:N?.id}));case 7:$.next=12;break;case 9:$.prev=9,$.t0=$.catch(0),console.error("\u8868\u5355\u9A8C\u8BC1\u5931\u8D25:",$.t0);case 12:return $.prev=12,le(!1),$.finish(12);case 15:case"end":return $.stop()}},Pe,null,[[0,9,12,15]])}));return function(){return _e.apply(this,arguments)}}();(0,s.useEffect)(function(){V&&N!==null&&N!==void 0&&N.id&&oe.setFieldsValue(N)},[N,V]);var Ee=function(){w()};return(0,n.jsx)(Bn.Z,{open:V,title:N!=null&&N.id?"\u7F16\u8F91QA\u95EE\u7B54":"\u6DFB\u52A0QA\u95EE\u7B54",confirmLoading:Se,onCancel:Ee,onOk:be,maskClosable:!0,destroyOnHidden:!0,children:(0,n.jsxs)(ce.Z,{form:oe,layout:"vertical",preserve:!1,requiredMark:ln.N,children:[(0,n.jsx)(ce.Z.Item,{name:"question",label:"\u95EE\u9898",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u95EE\u9898"}],children:(0,n.jsx)(se.Z.TextArea,{className:"dispose-textarea-count",autoSize:{minRows:5,maxRows:8},placeholder:"\u8BF7\u8F93\u5165\u95EE\u9898\u5185\u5BB9",showCount:!0,maxLength:500})}),(0,n.jsx)(ce.Z.Item,{name:"answer",label:"\u7B54\u6848",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7B54\u6848"}],children:(0,n.jsx)(se.Z.TextArea,{className:"dispose-textarea-count",autoSize:{minRows:5,maxRows:8},placeholder:"\u8BF7\u8F93\u5165\u7B54\u6848\u5185\u5BB9",showCount:!0,maxLength:5e3})})]})})},Yn=En,Ca=e(23299),$n=e(64267),Wn=e(12758),Pa=e(69706),Sa=e(56555),Mn=e(78321),va=e(70183),Ta=(0,s.forwardRef)(function(ze,T){var N=[{title:"ID",dataIndex:"id",width:150,fixed:"left"},{title:"\u95EE\u9898",dataIndex:"question",render:function(ie){return(0,n.jsx)("div",{className:y()("text-ellipsis"),title:ie,children:ie})}},{title:"\u7B54\u6848",dataIndex:"answer",render:function(ie){return(0,n.jsx)("div",{className:y()("text-ellipsis"),title:ie,children:ie})}},{title:"\u5411\u91CF\u5316",dataIndex:"hasEmbedding",width:100,fixed:"right",render:function(ie){return ie?(0,n.jsx)(Wn.Z,{color:"success",children:"\u5DF2\u5B8C\u6210"}):(0,n.jsx)(Wn.Z,{color:"processing",children:"\u6784\u5EFA\u4E2D"})}},{title:"\u64CD\u4F5C",dataIndex:"action",width:100,align:"center",fixed:"right",render:function(ie,Fe){return(0,n.jsxs)("div",{className:y()("flex","flex-row","content-around"),children:[(0,n.jsx)(D.ZP,{type:"text",icon:(0,n.jsx)(Ca.Z,{}),onClick:function(){return ze.onEdit(Fe)}}),(0,n.jsx)(Pa.Z,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64QA\u95EE\u7B54\u5417?",description:Fe.question,icon:(0,n.jsx)($n.Z,{}),onConfirm:function(){return ze.onDelete(Fe)},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,n.jsx)(D.ZP,{type:"text",icon:(0,n.jsx)(yn.Z,{})})})]})}}],V=(0,s.useState)([]),w=h()(V,2),H=w[0],Ne=w[1],ue=(0,s.useState)(!0),oe=h()(ue,2),ge=oe[0],me=oe[1],Se=(0,s.useState)(0),le=h()(Se,2),be=le[0],Ee=le[1],_e=(0,s.useState)({current:1,pageSize:20,queryFilter:{spaceId:ze.spaceId,question:ze.question,kbId:ze.kbId},orders:[],filters:[],columns:[]}),Pe=h()(_e,2),de=Pe[0],Ae=Pe[1],$=function(){me(!0),(0,m.h0)(de).then(function(ie){var Fe=ie.data,mn=Fe.current,fe=Fe.size,Ve=Fe.total,xn=Ve===void 0?0:Ve,Rn=Fe.records;Ee(xn),Ne(Array.isArray(Rn)?Rn:[]),Ae(function(Cn){return o()(o()({},Cn),{},{pageSize:fe,current:mn})})}).finally(function(){me(!1)})};(0,s.useEffect)(function(){$()},[de.current,de.pageSize,de.queryFilter.question]),(0,s.useEffect)(function(){Ae(function(pe){return o()(o()({},pe),{},{queryFilter:{spaceId:ze.spaceId,question:ze.question,kbId:ze.kbId},current:1})})},[ze.spaceId,ze.kbId,ze.question]),(0,s.useImperativeHandle)(T,function(){return{refresh:$}});var Ie=function(ie){Ae(function(Fe){var mn=o()(o()({},Fe),{},{current:ie.current||1,pageSize:ie.pageSize||10});return ie.pageSize!==Fe.pageSize&&Ne([]),mn})};return(0,n.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:H.length>0?"flex-start":"center"},children:ge?(0,n.jsx)(Sa.Z,{spinning:ge,delay:200}):H.length>0?(0,n.jsx)(Mn.Z,{rowKey:"id",columns:N,rowHoverable:!1,dataSource:H,loading:ge,height:"auto",pagination:{total:be,current:de.current,pageSize:de.pageSize},onChange:Ie,scroll:{scrollToFirstRowOnChange:!0,x:"max-content",y:"calc(100vh - 257px)"}}):(0,n.jsx)(va.Z,{description:"\u6682\u65E0\u6570\u636E"})})}),xa=Ta,ja=e(32139),Fn=e(63876),Da={input:"input___LYrHA"},ua=y().bind(Da),ga=function(T){var N=T.docId,V=T.docName,w=T.onSuccessUpdateName,H=ce.Z.useForm(),Ne=h()(H,1),ue=Ne[0],oe=(0,s.useState)(!1),ge=h()(oe,2),me=ge[0],Se=ge[1],le=(0,q.useRequest)(m.pJ,{manual:!0,debounceInterval:300,onSuccess:function(Pe,de){A.ZP.success("\u66F4\u65B0\u6210\u529F"),Se(!1);var Ae=de[0],$=Ae.docId,Ie=Ae.name;w($,Ie)}}),be=le.run;(0,s.useEffect)(function(){me&&ue.setFieldValue("name",V)},[V,me]);var Ee=function(Pe){var de=Pe.name;be({docId:N,name:de})};return(0,n.jsx)(ja.Z,{title:"\u91CD\u547D\u540D",type:ee.Ai.Blank,icon:(0,n.jsx)(Fn.Z,{arrow:!1,trigger:"click",open:me,onOpenChange:Se,placement:"bottom",content:(0,n.jsxs)(ce.Z,{form:ue,layout:"vertical",requiredMark:ln.g,onFinish:Ee,children:[(0,n.jsx)(ce.Z.Item,{className:ua(Da.input,"mb-16"),name:"name",label:"\u91CD\u547D\u540D",rules:[{required:!0,message:"\u6587\u6863\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(se.Z.TextArea,{className:"dispose-textarea-count",placeholder:"\u8BF7\u8F93\u5165\u6587\u6863\u540D\u79F0",maxLength:100,showCount:!0,autoSize:{minRows:6,maxRows:8}})}),(0,n.jsx)(ce.Z.Item,{className:ua("flex","content-end","mb-6"),children:(0,n.jsx)(D.ZP,{htmlType:"submit",type:"primary",children:"\u786E\u8BA4"})})]}),children:(0,n.jsx)(_n.Z,{className:ua("cursor-pointer")})})})},_a=ga,wn={header:"header___YxOE4","file-name":"file-name___vKz2w","extra-box":"extra-box___PhzdH","switch-name":"switch-name___TWOys",del:"del___trseG","segment-box":"segment-box___PyZJq",line:"line____3pA8"},Sn=y().bind(wn),Aa=function(T){var N=T.onDel,V=T.onSuccessUpdateName,w=T.documentInfo,H=(0,s.useState)([]),Ne=h()(H,2),ue=Ne[0],oe=Ne[1],ge=(0,s.useState)(!1),me=h()(ge,2),Se=me[0],le=me[1],be=(0,s.useState)(1),Ee=h()(be,2),_e=Ee[0],Pe=Ee[1],de=(0,s.useState)(!0),Ae=h()(de,2),$=Ae[0],Ie=Ae[1],pe=(0,q.useRequest)(m.vn,{manual:!0,debounceInterval:300,loadingDelay:300,onSuccess:function(Ve){var xn=Ve.records,Rn=Ve.pages,Cn=Ve.current,x=xn||[];oe(function(d){return Cn===1?x:[].concat(M()(d),M()(x))}),Ie(Cn<Rn),Pe(Cn+1),le(!1)},onError:function(){le(!1)}}),ie=pe.run,Fe=function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;ie({queryFilter:{docId:w?.id},current:Ve,pageSize:20})};(0,s.useEffect)(function(){if(w){var fe=w.docStatusCode;[c.Se.ANALYZED,c.Se.ANALYZED_QA,c.Se.ANALYZED_EMBEDDING].includes(fe)&&(le(!0),Fe()),fe===c.Se.ANALYZING&&oe([])}else oe([])},[w]);var mn=function(){Fe(_e)};return(0,n.jsxs)("div",{className:Sn("flex-1","h-full","flex","flex-col","overflow-hide"),children:[(0,n.jsx)("header",{className:Sn(wn.header,"flex","items-center"),children:(0,n.jsxs)(ke.Z,{condition:!!w,children:[(0,n.jsx)(K.Z,{}),(0,n.jsx)("span",{className:Sn("text-ellipsis",wn["file-name"]),children:w?.name}),(0,n.jsx)(_a,{docId:w?.id,docName:w?.name,onSuccessUpdateName:V}),(0,n.jsx)("div",{className:Sn(wn["extra-box"],"flex","items-center"),children:(0,n.jsx)(yn.Z,{className:Sn(wn.del,"cursor-pointer"),onClick:N})})]})}),w?.docStatusCode===c.Se.ANALYZING_RAW?(0,n.jsx)("div",{className:Sn("flex","flex-1","items-center","content-center",wn["segment-box"]),children:(0,n.jsx)("span",{children:"\u5206\u6BB5\u6B63\u5728\u5904\u7406\u4E2D"})}):Se?(0,n.jsx)(he.Z,{}):ue?.length>0?(0,n.jsx)("div",{className:Sn("px-16","py-16","flex-1","scroll-container"),id:"rawSegmentDiv",children:(0,n.jsx)(xe.Z,{scrollableTarget:"rawSegmentDiv",list:ue||[],hasMore:$,onScroll:mn,children:ue?.map(function(fe){return(0,n.jsx)("p",{className:Sn(wn.line,"radius-6"),children:fe.rawTxt},fe.id)})})}):(0,n.jsx)("div",{className:Sn("flex","flex-1","items-center","content-center"),children:(0,n.jsx)(va.Z,{description:"\u6682\u65E0\u5206\u6BB5"})})]})},Ia=Aa,la=y().bind(U),Fa=function(){var T=(0,q.useParams)(),N=Number(T.spaceId),V=Number(T.knowledgeId),w=(0,s.useState)(!1),H=h()(w,2),Ne=H[0],ue=H[1],oe=(0,s.useState)(),ge=h()(oe,2),me=ge[0],Se=ge[1],le=(0,s.useState)(),be=h()(le,2),Ee=be[0],_e=be[1],Pe=(0,s.useState)(!1),de=h()(Pe,2),Ae=de[0],$=de[1],Ie=(0,s.useState)([]),pe=h()(Ie,2),ie=pe[0],Fe=pe[1],mn=(0,s.useState)(!1),fe=h()(mn,2),Ve=fe[0],xn=fe[1],Rn=(0,s.useRef)(""),Cn=(0,s.useState)(0),x=h()(Cn,2),d=x[0],I=x[1],Y=(0,s.useState)(null),Ke=h()(Y,2),X=Ke[0],Ue=Ke[1],Me=(0,s.useState)(!1),on=h()(Me,2),gn=on[0],rn=on[1],kn=(0,s.useState)(1),qn=h()(kn,2),Oa=qn[0],Ma=qn[1],La=(0,s.useState)(!0),Ea=h()(La,2),Ba=Ea[0],ka=Ea[1],Na=(0,s.useState)(1),j=h()(Na,2),qe=j[0],He=j[1],cn=(0,s.useRef)(null),ea=(0,s.useState)(null),bn=h()(ea,2),ya=bn[0],Ua=bn[1],Qa=(0,s.useState)(!1),Ka=h()(Qa,2),za=Ka[0],wa=Ka[1],Va=(0,s.useState)(""),$a=h()(Va,2),Ha=$a[0],Wa=$a[1],Ya=(0,q.useRequest)(m.Wi,{manual:!0,debounceInterval:300,onSuccess:function(z){_e(z)}}),Xa=Ya.run,Ja=function(z){var Oe=z.records,On=z.pages,Pn=z.current,Ln=z.total,Le=Oe||[];if(Fe(function(Za){return Pn===1?Le:[].concat(M()(Za),M()(Le))}),ka(Pn<On),Ma(Pn+1),I(Ln),xn(!1),!X||!(Le!=null&&Le.some(function(Za){return Za.id===X?.id}))){var gt=Le[0]||null;Ue(gt)}},qa=(0,q.useRequest)(m.ah,{manual:!0,debounceInterval:500,onSuccess:function(z){Ja(z)},onError:function(){xn(!1)}}),et=qa.run,oa=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rn.current;et({queryFilter:{kbId:V,name:Oe},current:z,pageSize:20})},nt=(0,q.useRequest)(m.Gh,{manual:!0,debounceInterval:300,onSuccess:function(){A.ZP.success("\u5220\u9664\u6587\u6863\u6210\u529F"),xn(!0),oa()}}),at=nt.run;(0,s.useEffect)(function(){Xa(V),xn(!0),oa()},[V]);var tt=function(z){Se(z.value),ue(!0)},rt=function(){ue(!1),xn(!0),oa()},st=function(z){$(!1);var Oe=o()(o()({},Ee),z);_e(Oe)},ut=function(z){var Oe=z.trim();Rn.current=Oe,xn(!0),oa(1,Oe)},lt=(0,s.useCallback)(function(Re,z){if(X?.id===Re&&z.docStatusCode!==X?.docStatusCode){var Oe=o()(o()({},X),z);Ue(Oe)}var On=je()(ie),Pn=On.map(function(Ln){return Ln.id===Re?o()(o()({},Ln),z):Ln});Fe(Pn)},[X,ie]),ot=function(){var z=X?.id;(0,S.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u6587\u6863\u5417?",X?.name||"",function(){return at(z),new Promise(function(Oe){setTimeout(Oe,1e3)})})},it=function(z,Oe){var On=o()(o()({},X),{},{name:Oe});Ue(On);var Pn=ie.map(function(Ln){return Ln.id===z&&(Ln.name=Oe),Ln});Fe(Pn)},ba=function(){var z;(z=cn.current)===null||z===void 0||z.refresh()},ct=function(z){Wa(""),He(z),z===c.Sg.DOC?(xn(!0),oa()):ba()},dt=function(z){z.value===c.Zf.Custom?(Se(z.value),Ua(null),wa(!0)):rn(!0)},pt=function(){return(0,n.jsxs)("div",{className:la("flex","flex-1"),children:[(0,n.jsx)(E,{currentDocId:X?.id,loading:Ve,documentList:ie,onClick:Ue,onChange:ut,onSetAnalyzed:lt,hasMore:Ba,onScroll:function(){return oa(Oa)}}),(0,n.jsx)(Ia,{documentInfo:X,onDel:ot,onSuccessUpdateName:it})]})},mt=function(z){Ua(z),wa(!0)},ft=function(){var Re=u()(a()().mark(function z(Oe){var On,Pn;return a()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.prev=0,Le.next=3,(0,m.TL)({id:Oe.id});case 3:On=Le.sent,Pn=On.code,Pn===b.Gh?(A.ZP.success("\u5220\u9664QA\u95EE\u7B54\u6210\u529F"),ba()):A.ZP.error("\u5220\u9664QA\u95EE\u7B54\u5931\u8D25"),Le.next=11;break;case 8:Le.prev=8,Le.t0=Le.catch(0),A.ZP.error("\u5220\u9664QA\u95EE\u7B54\u5931\u8D25");case 11:case"end":return Le.stop()}},z,null,[[0,8]])}));return function(Oe){return Re.apply(this,arguments)}}(),Ga=function(z){qe===c.Sg.QA&&Wa(z)},ht=function(){return(0,n.jsxs)("div",{className:la("flex","flex-col","w-full"),children:[(0,n.jsx)("div",{className:la(U.inputSearch),children:(0,n.jsx)(se.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u95EE\u9898\u641C\u7D22",allowClear:!0,style:{width:240},onSearch:Ga,onPressEnter:function(Oe){return Ga(Oe.currentTarget.value)}})}),(0,n.jsx)(xa,{ref:cn,spaceId:Number(N),kbId:Number(V),onEdit:mt,onDelete:ft,question:Ha})]})},vt=function(){var Re=u()(a()().mark(function z(Oe){var On,Pn;return a()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Oe.id?On=(0,m.bB)({id:Oe.id,question:Oe.question,answer:Oe.answer}):On=(0,m.V5)({kbId:V,question:Oe.question,answer:Oe.answer,spaceId:N}),Le.prev=1,Le.next=4,On;case 4:Pn=Le.sent,Pn.code==="0000"?(A.ZP.success(Oe.id?"QA\u95EE\u7B54\u66F4\u65B0\u6210\u529F":"\u6DFB\u52A0QA\u95EE\u7B54\u6210\u529F"),ba(),wa(!1)):A.ZP.error(Oe.id?"QA\u95EE\u7B54\u66F4\u65B0\u5931\u8D25":"\u6DFB\u52A0QA\u95EE\u7B54\u5931\u8D25"),Le.next=12;break;case 8:Le.prev=8,Le.t0=Le.catch(1),console.error(Le.t0),A.ZP.error(Oe.id?"QA\u95EE\u7B54\u66F4\u65B0\u5931\u8D25":"\u6DFB\u52A0QA\u95EE\u7B54\u5931\u8D25");case 12:return Le.abrupt("return",null);case 13:case"end":return Le.stop()}},z,null,[[1,8]])}));return function(Oe){return Re.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:la(U.container,"h-full","flex","flex-col"),children:[(0,n.jsx)(Ge,{docCount:d,knowledgeInfo:Ee,docType:qe,onChangeDocType:ct,onEdit:function(){return $(!0)},onPopover:tt,onQaPopover:dt}),(0,n.jsx)("div",{style:{flex:1,height:qe===c.Sg.DOC?"calc(100% - 88px)":"100%",padding:"0 10px",margin:"0",display:"flex",overflowX:"auto"},children:qe===c.Sg.DOC?pt():ht()}),(0,n.jsx)(ma,{id:V,type:me,open:Ne,onCancel:function(){return ue(!1)},onConfirm:rt}),(0,n.jsx)(g.Z,{mode:ee.jA.Update,spaceId:N,knowledgeInfo:Ee,open:Ae,onCancel:function(){return $(!1)},onConfirm:st}),(0,n.jsx)(Yn,{data:ya,type:me,open:za,onCancel:function(){wa(!1),Ua(null)},onConfirm:vt}),(0,n.jsx)(W,{open:gn,kbId:Number(V),onCancel:function(){return rn(!1)},onConfirm:function(){rn(!1),ba()}})]})},Ra=Fa},68752:function(fn,ye,e){var we=e(90228),a=e.n(we),Te=e(87999),u=e.n(Te),p=e(26068),o=e.n(p),k=e(67825),M=e.n(k),J=e(82092),h=e.n(J),g=e(28327),b=e(53586),m=["data"],ee=["records"],c=["deployedConfig","deployStatus","id","creator"],S=h()(h()(h()(h()(h()(h()(h()(h()({},g.qR.Plugin,"/api/published/plugin/list"),g.qR.Workflow,"/api/published/workflow/list"),g.qR.Knowledge,"/api/published/knowledge/list"),g.qR.Table,"/api/published/composeTable/list"),g.qR.Variable,"/api/published/dataBase/list"),g.qR.Model,"/api/published/dataBase/list"),g.qR.Agent,"/api/published/agent/list"),g.qR.Skill,"/api/published/skill/list");function A(he){return(0,b.request)("/api/mcp/deployed/list",{method:"POST",data:he}).then(function(O){var F=O.data,B=M()(O,m),K=F||{},ae=K.records,D=M()(K,ee);return o()(o()({},B),{},{data:o()(o()({},D),{},{records:ae?.map(function(P){var n=P.deployedConfig,i=P.deployStatus,_=P.id,R=P.creator,G=M()(P,c);return o()(o()({},G),{},{status:i,targetId:_,targetType:g.qR.MCP,publishUser:R,config:n})})})})})}function se(he,O){return ne.apply(this,arguments)}function ne(){return ne=u()(a()().mark(function he(O,F){return a()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(O!==g.qR.MCP){K.next=2;break}return K.abrupt("return",A(F));case 2:return K.abrupt("return",(0,b.request)("".concat(S[O]),{method:"POST",data:F}));case 3:case"end":return K.stop()}},he)})),ne.apply(this,arguments)}function y(he,O){return Z.apply(this,arguments)}function Z(){return Z=u()(a()().mark(function he(O,F){return a()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.abrupt("return",(0,b.request)("/api/published/".concat(O,"/collect/list"),{method:"POST",data:F}));case 1:case"end":return K.stop()}},he)})),Z.apply(this,arguments)}function je(he,O){return s.apply(this,arguments)}function s(){return s=u()(a()().mark(function he(O,F){return a()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(O!==g.qR.Agent.toLowerCase()){K.next=2;break}return K.abrupt("return",(0,b.request)("/api/user/agent/collect/".concat(F),{method:"POST"}).then(function(ae){return ae}));case 2:return K.abrupt("return",(0,b.request)("/api/published/".concat(O,"/collect/").concat(F),{method:"POST",data:h()({},"".concat(O,"Id"),F)}));case 3:case"end":return K.stop()}},he)})),s.apply(this,arguments)}function q(he,O){return xe.apply(this,arguments)}function xe(){return xe=u()(a()().mark(function he(O,F){return a()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(O!==g.qR.Agent.toLowerCase()){K.next=2;break}return K.abrupt("return",(0,b.request)("/api/user/agent/unCollect/".concat(F),{method:"POST"}).then(function(ae){return ae}));case 2:return K.abrupt("return",(0,b.request)("/api/published/".concat(O,"/unCollect/").concat(F),{method:"POST",data:h()({},"".concat(O,"Id"),F)}).then(function(ae){return ae}));case 3:case"end":return K.stop()}},he)})),xe.apply(this,arguments)}ye.ZP={getList:se,collectList:y,collect:je,unCollect:q}},3834:function(fn,ye,e){e.d(ye,{AY:function(){return S},EV:function(){return n},Fh:function(){return y},Hl:function(){return K},KJ:function(){return b},Nf:function(){return F},RT:function(){return je},S5:function(){return D},VW:function(){return he},ey:function(){return o},nh:function(){return M}});var we=e(90228),a=e.n(we),Te=e(87999),u=e.n(Te),p=e(53586);function o(_){return k.apply(this,arguments)}function k(){return k=u()(a()().mark(function _(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,p.request)("/api/compose/db/table/updateTableName",{method:"POST",data:R}));case 1:case"end":return f.stop()}},_)})),k.apply(this,arguments)}function M(_){return J.apply(this,arguments)}function J(){return J=u()(a()().mark(function _(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,p.request)("/api/compose/db/table/updateTableDefinition",{method:"POST",data:R}));case 1:case"end":return f.stop()}},_)})),J.apply(this,arguments)}function h(_){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function _(R){return _regeneratorRuntime().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",request("/api/compose/db/table/list",{method:"POST",data:R}));case 1:case"end":return f.stop()}},_)})),g.apply(this,arguments)}function b(_){return m.apply(this,arguments)}function m(){return m=u()(a()().mark(function _(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,p.request)("/api/compose/db/table/delete/".concat(R),{method:"POST"}));case 1:case"end":return f.stop()}},_)})),m.apply(this,arguments)}function ee(){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function _(){return _regeneratorRuntime().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",request("/api/compose/db/table/copyTableDefinition",{method:"POST"}));case 1:case"end":return G.stop()}},_)})),c.apply(this,arguments)}function S(_){return A.apply(this,arguments)}function A(){return A=u()(a()().mark(function _(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,p.request)("/api/compose/db/table/add",{method:"POST",data:R}));case 1:case"end":return f.stop()}},_)})),A.apply(this,arguments)}function se(_){return ne.apply(this,arguments)}function ne(){return ne=_asyncToGenerator(_regeneratorRuntime().mark(function _(R){return _regeneratorRuntime().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",request("/api/compose/db/table/existTableData",{method:"GET",params:{tableId:R}}));case 1:case"end":return f.stop()}},_)})),ne.apply(this,arguments)}function y(_){return Z.apply(this,arguments)}function Z(){return Z=u()(a()().mark(function _(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,p.request)("/api/compose/db/table/detailById",{method:"GET",params:{id:R}}));case 1:case"end":return f.stop()}},_)})),Z.apply(this,arguments)}function je(_){return s.apply(this,arguments)}function s(){return s=u()(a()().mark(function _(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,p.request)("/api/compose/db/table/updateBusinessData",{method:"POST",data:R}));case 1:case"end":return f.stop()}},_)})),s.apply(this,arguments)}function q(_,R){return xe.apply(this,arguments)}function xe(){return xe=_asyncToGenerator(_regeneratorRuntime().mark(function _(R,G){var f;return _regeneratorRuntime().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return f=new FormData,f.append("file",G),E.abrupt("return",request("/api/compose/db/table/importExcel/".concat(R),{method:"POST",data:f}));case 3:case"end":return E.stop()}},_)})),xe.apply(this,arguments)}function he(_,R){return O.apply(this,arguments)}function O(){return O=u()(a()().mark(function _(R,G){return a()().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:return nn.abrupt("return",(0,p.request)("/api/compose/db/table/deleteBusinessData",{method:"POST",data:{tableId:R,rowId:G}}));case 1:case"end":return nn.stop()}},_)})),O.apply(this,arguments)}function F(_){return B.apply(this,arguments)}function B(){return B=u()(a()().mark(function _(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,p.request)("/api/compose/db/table/addBusinessData",{method:"POST",data:R}));case 1:case"end":return f.stop()}},_)})),B.apply(this,arguments)}function K(_){return ae.apply(this,arguments)}function ae(){return ae=u()(a()().mark(function _(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,p.request)("/api/compose/db/table/getTableDataById",{method:"GET",params:R}));case 1:case"end":return f.stop()}},_)})),ae.apply(this,arguments)}function D(_){return P.apply(this,arguments)}function P(){return P=u()(a()().mark(function _(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,p.request)("/api/compose/db/table/exportExcel/".concat(R),{method:"GET",responseType:"blob",getResponse:!0}));case 1:case"end":return f.stop()}},_)})),P.apply(this,arguments)}function n(_){return i.apply(this,arguments)}function i(){return i=u()(a()().mark(function _(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,p.request)("/api/compose/db/table/clearBusinessData/".concat(R),{method:"GET"}));case 1:case"end":return f.stop()}},_)})),i.apply(this,arguments)}},69945:function(fn,ye,e){e.d(ye,{Gh:function(){return G},Il:function(){return F},SR:function(){return n},T5:function(){return D},TL:function(){return Gn},V5:function(){return $e},Wi:function(){return b},ah:function(){return y},bB:function(){return Ce},ds:function(){return Qe},ei:function(){return o},g3:function(){return ee},gd:function(){return he},h0:function(){return Bn},pJ:function(){return se},qx:function(){return h},s2:function(){return Je},vn:function(){return U}});var we=e(90228),a=e.n(we),Te=e(87999),u=e.n(Te),p=e(53586);function o(l){return k.apply(this,arguments)}function k(){return k=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/config/update",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),k.apply(this,arguments)}function M(l){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/config/list",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),J.apply(this,arguments)}function h(l){return g.apply(this,arguments)}function g(){return g=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/config/add",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),g.apply(this,arguments)}function b(l){return m.apply(this,arguments)}function m(){return m=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/config/detailById",{method:"GET",params:{id:C}}));case 1:case"end":return t.stop()}},l)})),m.apply(this,arguments)}function ee(l){return c.apply(this,arguments)}function c(){return c=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/config/deleteById",{method:"GET",params:{id:C}}));case 1:case"end":return t.stop()}},l)})),c.apply(this,arguments)}function S(l){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/update",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),A.apply(this,arguments)}function se(l){return ne.apply(this,arguments)}function ne(){return ne=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/document/updateDocName",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),ne.apply(this,arguments)}function y(l){return Z.apply(this,arguments)}function Z(){return Z=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/document/list",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),Z.apply(this,arguments)}function je(l){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/generateQA/".concat(C),{method:"POST"}));case 1:case"end":return t.stop()}},l)})),s.apply(this,arguments)}function q(l){return xe.apply(this,arguments)}function xe(){return xe=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/doc/generateEmbeddings/".concat(C),{method:"POST"}));case 1:case"end":return t.stop()}},l)})),xe.apply(this,arguments)}function he(l){return O.apply(this,arguments)}function O(){return O=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/document/customAdd",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),O.apply(this,arguments)}function F(l){return B.apply(this,arguments)}function B(){return B=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/document/add",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),B.apply(this,arguments)}function K(l){return ae.apply(this,arguments)}function ae(){return ae=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/doc/retryAllTaskByDays/".concat(C),{method:"GET"}));case 1:case"end":return t.stop()}},l)})),ae.apply(this,arguments)}function D(l){return P.apply(this,arguments)}function P(){return P=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/document/doc/autoRetryTaskByDocId/".concat(C),{method:"GET"}));case 1:case"end":return t.stop()}},l)})),P.apply(this,arguments)}function n(l){return i.apply(this,arguments)}function i(){return i=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/document/detailById",{method:"GET",params:{dataId:C}}));case 1:case"end":return t.stop()}},l)})),i.apply(this,arguments)}function _(l){return R.apply(this,arguments)}function R(){return R=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/document/queryDocStatus",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),R.apply(this,arguments)}function G(l){return f.apply(this,arguments)}function f(){return f=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/document/deleteById",{method:"GET",params:{id:C}}));case 1:case"end":return t.stop()}},l)})),f.apply(this,arguments)}function nn(l){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/update",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),E.apply(this,arguments)}function U(l){return Q.apply(this,arguments)}function Q(){return Q=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/rawSegment/list",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),Q.apply(this,arguments)}function r(l){return te.apply(this,arguments)}function te(){return te=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/add",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),te.apply(this,arguments)}function Ye(l){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/detailById",{method:"GET",params:{dataId:C}}));case 1:case"end":return t.stop()}},l)})),v.apply(this,arguments)}function Xe(l){return _n.apply(this,arguments)}function _n(){return _n=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/rawSegment/deleteById",{method:"GET",params:{id:C}}));case 1:case"end":return t.stop()}},l)})),_n.apply(this,arguments)}function Tn(l){return vn.apply(this,arguments)}function vn(){return vn=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/update",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),vn.apply(this,arguments)}function Be(l){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/search",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),re.apply(this,arguments)}function tn(l){return Ge.apply(this,arguments)}function Ge(){return Ge=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/list",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),Ge.apply(this,arguments)}function ve(l){return an.apply(this,arguments)}function an(){return an=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/add",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),an.apply(this,arguments)}function yn(l){return jn.apply(this,arguments)}function jn(){return jn=_asyncToGenerator(_regeneratorRuntime().mark(function l(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/knowledge/qa/doc/embeddingStatus/".concat(C),{method:"GET"}));case 1:case"end":return t.stop()}},l)})),jn.apply(this,arguments)}function $e(l){return ce.apply(this,arguments)}function ce(){return ce=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/qa/add",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),ce.apply(this,arguments)}function Bn(l){return Nn.apply(this,arguments)}function Nn(){return Nn=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/qa/list",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),Nn.apply(this,arguments)}function Gn(l){return Dn.apply(this,arguments)}function Dn(){return Dn=u()(a()().mark(function l(C){var L;return a()().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return L=new FormData,L.append("id",C.id.toString()),Ze.abrupt("return",(0,p.request)("/api/knowledge/qa/deleteById",{method:"POST",data:L}));case 3:case"end":return Ze.stop()}},l)})),Dn.apply(this,arguments)}function Ce(l){return ke.apply(this,arguments)}function ke(){return ke=u()(a()().mark(function l(C){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/knowledge/qa/update",{method:"POST",data:C}));case 1:case"end":return t.stop()}},l)})),ke.apply(this,arguments)}function Qe(){return en.apply(this,arguments)}function en(){return en=u()(a()().mark(function l(){return a()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,p.request)("/api/knowledge/qa/downloadExcelTemplate",{method:"GET",responseType:"blob"}));case 1:case"end":return L.stop()}},l)})),en.apply(this,arguments)}function Je(l){return ln.apply(this,arguments)}function ln(){return ln=u()(a()().mark(function l(C){var L;return a()().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return L=new FormData,L.append("file",C.file),L.append("kbId",C.kbId.toString()),Ze.abrupt("return",(0,p.request)("/api/knowledge/qa/importExcel",{method:"POST",data:L}));case 4:case"end":return Ze.stop()}},l)})),ln.apply(this,arguments)}},92629:function(fn,ye,e){e.d(ye,{$w:function(){return D},Cw:function(){return q},IK:function(){return n},Jt:function(){return b},Kt:function(){return o},LO:function(){return _},OA:function(){return K},Ol:function(){return h},Rh:function(){return ee},Wt:function(){return M},Y$:function(){return nn},c:function(){return F},eh:function(){return G},el:function(){return se},jU:function(){return y},qt:function(){return he},sN:function(){return S},xC:function(){return je}});var we=e(90228),a=e.n(we),Te=e(87999),u=e.n(Te),p=e(53586);function o(E){return k.apply(this,arguments)}function k(){return k=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/workflow/add",{method:"POST",data:U}));case 1:case"end":return r.stop()}},E)})),k.apply(this,arguments)}function M(E){return J.apply(this,arguments)}function J(){return J=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/task/create",{method:"POST",data:U}));case 1:case"end":return r.stop()}},E)})),J.apply(this,arguments)}function h(E){return g.apply(this,arguments)}function g(){return g=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/skill/add",{method:"POST",data:U}));case 1:case"end":return r.stop()}},E)})),g.apply(this,arguments)}function b(E){return m.apply(this,arguments)}function m(){return m=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/skill/update",{method:"POST",data:U}));case 1:case"end":return r.stop()}},E)})),m.apply(this,arguments)}function ee(E){return c.apply(this,arguments)}function c(){return c=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/skill/delete/".concat(U),{method:"POST"}));case 1:case"end":return r.stop()}},E)})),c.apply(this,arguments)}function S(E){return A.apply(this,arguments)}function A(){return A=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/workflow/update",{method:"POST",data:U}));case 1:case"end":return r.stop()}},E)})),A.apply(this,arguments)}function se(E){return ne.apply(this,arguments)}function ne(){return ne=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/task/update",{method:"POST",data:U}));case 1:case"end":return r.stop()}},E)})),ne.apply(this,arguments)}function y(E,U){return Z.apply(this,arguments)}function Z(){return Z=u()(a()().mark(function E(U,Q){return a()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.abrupt("return",(0,p.request)("/api/workflow/copy/".concat(U,"/").concat(Q),{method:"POST"}));case 1:case"end":return te.stop()}},E)})),Z.apply(this,arguments)}function je(E){return s.apply(this,arguments)}function s(){return s=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/workflow/delete/".concat(U),{method:"POST"}));case 1:case"end":return r.stop()}},E)})),s.apply(this,arguments)}function q(E){return xe.apply(this,arguments)}function xe(){return xe=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/component/list/".concat(U),{method:"GET"}));case 1:case"end":return r.stop()}},E)})),xe.apply(this,arguments)}function he(E){return O.apply(this,arguments)}function O(){return O=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/task/list/".concat(U),{method:"POST"}));case 1:case"end":return r.stop()}},E)})),O.apply(this,arguments)}function F(E){return B.apply(this,arguments)}function B(){return B=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/task/execute/".concat(U),{method:"POST"}));case 1:case"end":return r.stop()}},E)})),B.apply(this,arguments)}function K(E){return ae.apply(this,arguments)}function ae(){return ae=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/task/enable/".concat(U),{method:"POST"}));case 1:case"end":return r.stop()}},E)})),ae.apply(this,arguments)}function D(E){return P.apply(this,arguments)}function P(){return P=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/task/cancel/".concat(U),{method:"POST"}));case 1:case"end":return r.stop()}},E)})),P.apply(this,arguments)}function n(E){return i.apply(this,arguments)}function i(){return i=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/task/delete/".concat(U),{method:"POST"}));case 1:case"end":return r.stop()}},E)})),i.apply(this,arguments)}function _(E){return R.apply(this,arguments)}function R(){return R=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/skill/list",{method:"GET",params:U}));case 1:case"end":return r.stop()}},E)})),R.apply(this,arguments)}function G(E){return f.apply(this,arguments)}function f(){return f=u()(a()().mark(function E(U){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.request)("/api/skill/copy",{method:"POST",data:U}));case 1:case"end":return r.stop()}},E)})),f.apply(this,arguments)}function nn(E){return(0,p.request)("/api/compose/db/table/copyTableDefinition",{method:"POST",params:E})}},5622:function(fn,ye,e){e.d(ye,{Bj:function(){return h},G6:function(){return ee},Gl:function(){return o},V_:function(){return M},og:function(){return S}});var we=e(90228),a=e.n(we),Te=e(87999),u=e.n(Te),p=e(53586);function o(y){return k.apply(this,arguments)}function k(){return k=u()(a()().mark(function y(Z){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("/api/model/save",{method:"POST",data:Z}));case 1:case"end":return s.stop()}},y)})),k.apply(this,arguments)}function M(y){return J.apply(this,arguments)}function J(){return J=u()(a()().mark(function y(Z){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("/api/model/test-connectivity",{method:"POST",data:Z}));case 1:case"end":return s.stop()}},y)})),J.apply(this,arguments)}function h(y){return g.apply(this,arguments)}function g(){return g=u()(a()().mark(function y(Z){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("/api/model/list",{method:"POST",data:Z}));case 1:case"end":return s.stop()}},y)})),g.apply(this,arguments)}function b(y){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function y(Z){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("/api/model/list/space/".concat(Z),{method:"POST"}));case 1:case"end":return s.stop()}},y)})),m.apply(this,arguments)}function ee(y){return c.apply(this,arguments)}function c(){return c=u()(a()().mark(function y(Z){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("/api/model/".concat(Z),{method:"GET"}));case 1:case"end":return s.stop()}},y)})),c.apply(this,arguments)}function S(y){return A.apply(this,arguments)}function A(){return A=u()(a()().mark(function y(Z){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("/api/model/".concat(Z,"/delete"),{method:"GET"}));case 1:case"end":return s.stop()}},y)})),A.apply(this,arguments)}function se(){return ne.apply(this,arguments)}function ne(){return ne=_asyncToGenerator(_regeneratorRuntime().mark(function y(){return _regeneratorRuntime().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.abrupt("return",request("/api/model/test",{method:"GET"}));case 1:case"end":return je.stop()}},y)})),ne.apply(this,arguments)}},60894:function(fn,ye,e){e.d(ye,{Ie:function(){return o},M6:function(){return K},RP:function(){return q},SM:function(){return he},UJ:function(){return h},Ui:function(){return je},ci:function(){return b},gH:function(){return y},gx:function(){return F},pd:function(){return se},rX:function(){return ee},sG:function(){return S},x3:function(){return M}});var we=e(90228),a=e.n(we),Te=e(87999),u=e.n(Te),p=e(53586);function o(D){return k.apply(this,arguments)}function k(){return k=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/upload-and-start",{method:"POST",data:P}));case 1:case"end":return i.stop()}},D)})),k.apply(this,arguments)}function M(D){return J.apply(this,arguments)}function J(){return J=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/create",{method:"POST",data:P}));case 1:case"end":return i.stop()}},D)})),J.apply(this,arguments)}function h(D){return g.apply(this,arguments)}function g(){return g=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/create-reverse-proxy",{method:"POST",data:P}));case 1:case"end":return i.stop()}},D)})),g.apply(this,arguments)}function b(D){return m.apply(this,arguments)}function m(){return m=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/list-projects",{method:"GET",params:P}));case 1:case"end":return i.stop()}},D)})),m.apply(this,arguments)}function ee(D){return c.apply(this,arguments)}function c(){return c=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/copy-project",{method:"POST",data:P}));case 1:case"end":return i.stop()}},D)})),c.apply(this,arguments)}function S(D){return A.apply(this,arguments)}function A(){return A=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/batch-config-proxy",{method:"POST",data:P}));case 1:case"end":return i.stop()}},D)})),A.apply(this,arguments)}function se(D){return ne.apply(this,arguments)}function ne(){return ne=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/add-path",{method:"POST",data:P}));case 1:case"end":return i.stop()}},D)})),ne.apply(this,arguments)}function y(D){return Z.apply(this,arguments)}function Z(){return Z=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/edit-path",{method:"POST",data:P}));case 1:case"end":return i.stop()}},D)})),Z.apply(this,arguments)}function je(D){return s.apply(this,arguments)}function s(){return s=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/delete-path",{method:"POST",data:P}));case 1:case"end":return i.stop()}},D)})),s.apply(this,arguments)}function q(D){return xe.apply(this,arguments)}function xe(){return xe=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/save-path-args",{method:"POST",data:P}));case 1:case"end":return i.stop()}},D)})),xe.apply(this,arguments)}function he(D){return O.apply(this,arguments)}function O(){return O=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/get-project-info",{method:"GET",params:{projectId:P}}));case 1:case"end":return i.stop()}},D)})),O.apply(this,arguments)}function F(D){return B.apply(this,arguments)}function B(){return B=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/delete-project",{method:"POST",data:{projectId:P}}));case 1:case"end":return i.stop()}},D)})),B.apply(this,arguments)}function K(D){return ae.apply(this,arguments)}function ae(){return ae=u()(a()().mark(function D(P){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/api/custom-page/update-project",{method:"POST",data:P}));case 1:case"end":return i.stop()}},D)})),ae.apply(this,arguments)}},22824:function(fn,ye,e){e.d(ye,{Tg:function(){return M},oB:function(){return k},sO:function(){return J}});var we=e(48305),a=e.n(we),Te=e(64267),u=e(14719),p=e(52676),o=u.Z.confirm,k=function(g,b,m,ee){o({title:g,icon:(0,p.jsx)(Te.Z,{}),content:b,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:m,onCancel:ee})},M=function(g){if(!g)return"";if(typeof g=="string"){var b=g.split("."),m=a()(b,2),ee=m[0],c=m[1];return c&&c.length>6?"".concat(ee,".").concat(c.slice(0,6)):g}var S=g;if(isNaN(S))return"";var A=S.toString().split("."),se=a()(A,2),ne=se[0],y=se[1];return y&&y.length>6?"".concat(ne,".").concat(y.slice(0,6)):S.toString()},J=function(g){if(!g)return"";var b=g.toString(),m=b.indexOf(".");return m===-1?b:b.substring(0,m+7)}},60733:function(fn,ye,e){e.d(ye,{td:function(){return we}});function we(o){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(o===0)return"0 Bytes";var M=1024,J=k<0?0:k,h=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],g=Math.floor(Math.log(o)/Math.log(M));return Number.parseFloat((o/Math.pow(M,g)).toFixed(J))+" "+h[g]}function a(o){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.parseFloat((o/1024).toFixed(k))}function Te(o){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.parseFloat((o/(1024*1024)).toFixed(k))}function u(o){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return"".concat(a(o,k)," KB")}function p(o){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return"".concat(Te(o,k)," MB")}},44776:function(fn,ye,e){e.d(ye,{G:function(){return Te},U:function(){return u}});var we=e(40462),a=e(30799),Te=function(o){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:99;return o.filter(function(M){return M.status!==a.KM.removed}).map(function(M){var J=M.response||{},h=J.data,g=h===void 0?{}:h,b=J.code,m=M.status,ee=M.percent;return b&&b!==we.Gh&&(m=a.KM.error),M?.percent===100&&m===a.KM.uploading&&(ee=k),{key:g?.key||"",name:g?.fileName||M.name||"",size:g?.size||M.size||0,url:g?.url||M.url||"",type:g?.mimeType||M.type||"",uid:M.uid,status:m,percent:ee,response:M.response}})},u=function(o){return o?.status===a.KM.error?"exception":o?.status===a.KM.uploading?"active":o?.status===a.KM.done||Math.floor(o?.percent||0)===100?"success":"active"}},65774:function(fn,ye,e){fn.exports=e.p+"static/doc_image.5415f2c1.jpg"}}]);})();
