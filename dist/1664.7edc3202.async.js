"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[1664],{32544:function(B,C,n){n.d(C,{Z:function(){return N}});var v=n(65774),l=n(94184),o=n.n(l),E=n(67294),j={"files-container":"files-container___Ji5El","file-box":"file-box___BRhVF"},r=n(85893),f=o().bind(j),g=function(R){var y=R.files;return(0,r.jsx)("div",{className:f(j["files-container"]),children:y?.map(function(h){return(0,r.jsxs)("div",{className:f(j["file-box"],"flex","items-center"),children:[(0,r.jsx)("img",{src:h.mimeType.includes("image/")?h.fileUrl:v,alt:""}),(0,r.jsx)("div",{className:f("flex-1","overflow-hide"),children:(0,r.jsx)("h4",{className:f("text-ellipsis"),children:h.fileName})})]},h.fileKey)})})},N=g},66371:function(B,C,n){n.d(C,{Z:function(){return h}});var v=n(95141),l=n(66073),o=n(50888),E=n(80882),j=n(55241),r=n(94184),f=n.n(r),g=n(67294),N={"run-success":"run-success___PpO4f","status-name":"status-name___WZ9ni",icon:"icon___H_CtF","pop-content":"pop-content___cUwx3",row:"row___ajvPI",summary:"summary___QUk2k"},i=n(85893),R=f().bind(N),y=function(F){var d=F.messageInfo,u=d.finalResult,x=d.processingList,z=(0,g.useMemo)(function(){return u?((u?.endTime-u?.startTime)/1e3).toFixed(1):0},[u]),p=function(U,e){var G=U-e;return G<1e3?"".concat(G,"ms"):"".concat((G/1e3).toFixed(1),"s")},t=(0,g.useMemo)(function(){var m=x?.length||0;return m>0?x?.[m-1]:null},[x]);return(0,i.jsx)(j.Z,{placement:"bottomLeft",styles:{body:{padding:0}},content:(0,i.jsxs)("div",{className:R(N["pop-content"]),children:[x?.map(function(m,U){return m.status!==v.Xk.EXECUTING&&(0,i.jsxs)("div",{className:R(N.row,"flex","items-center"),children:[(0,i.jsx)(l.Z,{}),(0,i.jsx)("span",{className:R("flex-1","text-ellipsis"),children:"\u5DF2\u8C03\u7528 ".concat(m.name)}),(0,i.jsx)("span",{children:p(m.result.endTime,m.result.startTime)})]},U)}),(0,i.jsx)("span",{className:R(N.summary),children:"\u8FD0\u884C\u5B8C\u6BD5 ".concat(z,"s")})]}),arrow:!1,trigger:"hover",children:(0,i.jsx)("span",{className:R("cursor-pointer",N["run-success"]),children:d?.status===v.ge.Loading||d?.status===v.ge.Incomplete?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{}),t&&(0,i.jsxs)("span",{className:R(N["status-name"]),children:[t.status===v.Xk.EXECUTING?"\u6B63\u5728\u8C03\u7528 ":"\u5DF2\u8C03\u7528 ",t.name]})]}):d?.status===v.ge.Error?(0,i.jsx)("span",{children:"\u8FD0\u884C\u9519\u8BEF"}):(0,i.jsxs)("span",{children:["\u8FD0\u884C\u5B8C\u6BD5",(0,i.jsx)(E.Z,{className:R(N.icon)})]})})})},h=y},90740:function(B,C,n){n.d(C,{Z:function(){return x}});var v=n(9783),l=n.n(v),o=n(32544),E=n(75216),j=n(91120),r=n(95141),f=n(94184),g=n.n(f),N=n(9980),i=n.n(N),R=n(67294),y={container:"container___pzeXE",avatar:"avatar___QNC2R",author:"author___eO9xt","inner-container":"inner-container___MiyBz","think-content":"think-content___NYHs_","chat-content":"chat-content___voyQR",user:"user___loHh3"},h=n(66371),O=n(85893),F=g().bind(y),d=i()({html:!0,breaks:!0,linkify:!0}),u=function(p){var t,m=p.className,U=p.contentClassName,e=p.messageInfo;return(0,O.jsx)("div",{className:F(y.container,"flex",m),children:(0,O.jsxs)("div",{className:F("flex-1"),children:[!!(e!=null&&(t=e.attachments)!==null&&t!==void 0&&t.length)&&(0,O.jsx)(o.Z,{files:e?.attachments}),(0,O.jsxs)(E.Z,{condition:e?.role!==j.hZ.USER,children:[e.status!==r.ge.Complete&&(0,O.jsx)(E.Z,{condition:!!(e!=null&&e.status),children:(0,O.jsx)(h.Z,{messageInfo:e})}),(!!(e!=null&&e.think)||!!(e!=null&&e.text))&&(0,O.jsxs)("div",{className:F(y["inner-container"],U),children:[!!(e!=null&&e.think)&&!!d.render(e.think)&&(0,O.jsx)("div",{className:F(y["think-content"],"radius-6","w-full"),dangerouslySetInnerHTML:{__html:d.render(e.think)}}),!!(e!=null&&e.text)&&(0,O.jsx)("div",{className:F(y["chat-content"],"radius-6","w-full",l()({},y.typing,e.status===r.ge.Incomplete||e.status===r.ge.Loading)),dangerouslySetInnerHTML:{__html:d.render(e.text)}})]})]})]})})},x=u},58594:function(B,C,n){n.d(C,{Z:function(){return xn}});var v=n(97857),l=n.n(v),o=n(15009),E=n.n(o),j=n(99289),r=n.n(j),f=n(5574),g=n.n(f),N=n(35044),i=n(90740),R=n(87025),y=n(85576),h=n(85804),O=n(25278),F=n(94184),d=n.n(F),u=n(67294),x=n(39902),z=n(88773),p={btn:"btn___JOPmv","chat-wrapper":"chat-wrapper___PS6Tu","replace-btn":"replace-btn___AEijv",footer:"footer___MV0En","chat-input":"chat-input___wgxG5",input:"input___WoXKg","icon-box":"icon-box___cHWvw","send-image":"send-image___kjNJy"},t=n(85893),m=d().bind(p),U=function(S){var Y,J,q=S.title,D=S.open,Z=S.onCancel,W=S.onReplace,V=S.codeLanguage,_=(0,u.useState)(""),nn=g()(_,2),T=nn[0],H=nn[1],P=(0,x.useModel)("assistantOptimize"),a=P.messageList,Q=P.setMessageList,en=P.onMessageSend,k=P.messageViewRef,tn=P.allowAutoScrollRef,rn=P.resetInit,un=(0,u.useState)(""),X=g()(un,2),an=X[0],$=X[1];(0,u.useEffect)(function(){return $((0,z.Z)()),function(){rn()}},[]),(0,u.useEffect)(function(){var c=k.current;if(c){var s=function(){var A=c.scrollTop,L=c.scrollHeight,K=c.clientHeight;A+K<L?tn.current=!1:tn.current=!0};return c.addEventListener("scroll",s),function(){c.removeEventListener("scroll",s)}}},[]);var dn=function(){var c=r()(E()().mark(function s(){var I;return E()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:Q([]),T&&(H(""),I={requestId:an,prompt:T,codeLanguage:V},en(I,R.L.code));case 2:case"end":return L.stop()}},s)}));return function(){return c.apply(this,arguments)}}(),cn=function(s){s.preventDefault();var I=s.target,A=I.value,L=I.selectionStart,K=I.selectionEnd;if(s.nativeEvent.keyCode===13&&(s.nativeEvent.shiftKey||s.nativeEvent.ctrlKey)){var sn=A.slice(0,L)+`
`+A.slice(K);H(sn)}else if(s.nativeEvent.keyCode===13&&A.trim()){var on={requestId:an,prompt:T,codeLanguage:V};en(on,R.L.code),H("")}};return(0,t.jsxs)(y.Z,{title:q,open:D,onCancel:function(s){Q([]),Z?.(s)},mask:!1,maskClosable:!1,footer:null,children:[(0,t.jsx)("div",{ref:k,className:m(p["chat-wrapper"],"flex-1"),children:a?.length>0?(0,t.jsx)(t.Fragment,{children:a?.map(function(c,s){return(0,t.jsx)(i.Z,{ifShowReplace:!0,onReplace:W,messageInfo:c},s)})}):(0,t.jsx)("div",{})}),a?.length>0?(0,t.jsxs)("div",{className:m("flex"),children:[(0,t.jsx)(h.ZP,{className:m(p["replace-btn"],p.btn),loading:(a==null||(Y=a[a?.length-1])===null||Y===void 0?void 0:Y.status)!=="complete",disabled:(a==null||(J=a[a?.length-1])===null||J===void 0?void 0:J.status)!=="complete",onClick:function(){var s;return W?.(a==null||(s=a[a?.length-1])===null||s===void 0?void 0:s.text)},children:"\u66FF\u6362"}),(0,t.jsx)(h.ZP,{onClick:function(s){Q([]),Z?.(s)},className:m(p.btn,"ml-10 "),children:"\u9000\u51FA"})]}):(0,t.jsx)("div",{}),(0,t.jsx)("div",{className:m(p.footer,"flex","items-center"),children:(0,t.jsxs)("div",{className:m(p["chat-input"],"flex","items-center","w-full"),children:[(0,t.jsx)(O.Z.TextArea,{value:T,onChange:function(s){return H(s.target.value)},rootClassName:p.input,onPressEnter:cn,placeholder:"\u8BF7\u63CF\u8FF0\u4F60\u7684\u5177\u4F53\u4E1A\u52A1\u9700\u6C42\uFF0C\u903B\u8F91\u5C3D\u91CF\u63CF\u8FF0\u8BE6\u7EC6",autoSize:{minRows:1,maxRows:3}}),(0,t.jsx)("img",{onClick:function(){return dn()},className:m(p["send-image"],"cursor-pointer"),src:N,alt:""})]})})]})},e=U,G=n(32909),vn=n(30881),w=n(63764),mn=n(99859),fn=n(75763),b=n(55826),gn=n(75216),hn=function(S){var Y=S.value,J=Y===void 0?"":Y,q=S.className,D=S.onChange,Z=S.height,W=Z===void 0?"400px":Z,V=S.codeLanguage,_=S.minimap,nn=_===void 0?!1:_,T=S.form,H=S.codeOptimizeVisible,P=H===void 0?!0:H,a=S.readOnly,Q=a===void 0?!1:a,en=(0,u.useState)(!1),k=g()(en,2),tn=k[0],rn=k[1],un=(0,u.useState)(!1),X=g()(un,2),an=X[0],$=X[1],dn=(0,x.useModel)("model"),cn=dn.testRun;if((0,u.useEffect)(function(){w._m.config({monaco:b,paths:{vs:"/vs"}});var I=function(){var A=r()(E()().mark(function L(){var K,sn,on;return E()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,n.e(7287).then(n.bind(n,37287));case 3:return K=M.sent,sn=K.conf,on=K.language,M.next=8,w._m.init();case 8:b.languages.register({id:"python"}),b.languages.setMonarchTokensProvider("python",on),b.languages.setLanguageConfiguration("python",sn),window.MonacoEnvironment={getWorkerUrl:function(An,ln){return ln==="json"?"/vs/json.worker.js":ln==="typescript"||ln==="javascript"||ln==="python"?"/vs/ts.worker.js":"/vs/editor.worker.js"}},rn(!0),M.next=18;break;case 15:M.prev=15,M.t0=M.catch(0),console.error("Failed to initialize Monaco Editor:",M.t0);case 18:case"end":return M.stop()}},L,null,[[0,15]])}));return function(){return A.apply(this,arguments)}}();I()},[]),!tn)return(0,t.jsx)("div",{children:"Loading editor..."});var c=function(A){D&&D(A||"")},s=function(){var A={selectOnLineNumbers:!0,folding:!0,automaticLayout:!0,minimap:{enabled:nn},readOnly:Q};return V.toLowerCase()==="json"?l()(l()({},A),{},{quickSuggestions:!1,suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",tabCompletion:"off",wordBasedSuggestions:!1,parameterHints:{enabled:!1},hover:{enabled:!1},snippetSuggestions:"none"}):A};return(0,t.jsxs)(t.Fragment,{children:[T?(0,t.jsx)(mn.Z.Item,{noStyle:!0,name:T?.getFieldValue("codeLanguage")===vn.vQ.JavaScript?"codeJavaScript":"codePython",children:(0,t.jsx)(w.ZP,{className:q,height:W,language:V.toLowerCase(),theme:"vs-dark",value:J,onChange:c,options:s()})}):(0,t.jsx)(w.ZP,{className:q,height:W,language:V.toLowerCase(),theme:"vs-dark",value:J,onChange:c,options:s()}),(0,t.jsxs)(gn.Z,{condition:P&&!Q,children:[(0,t.jsx)(fn.Z,{shape:"circle",type:"primary",style:{insetInlineEnd:94,display:cn?"none":"block"},icon:(0,t.jsx)(G.jY,{}),tooltip:"\u4EE3\u7801\u52A9\u624B",onClick:function(){$(!0)}}),(0,t.jsx)(e,{title:"\u4EE3\u7801\u52A9\u624B",open:an,codeLanguage:V,onCancel:function(){$(!1)},onReplace:function(A){if(A){var L=A;L.includes("```")&&(L=L.replace(/```/g,"")),D?.(L||""),$(!1)}}})]})]})},xn=hn},75216:function(B,C,n){var v=n(67294),l=n(85893),o=function(j){var r=j.children,f=j.condition;return f?(0,l.jsx)(l.Fragment,{children:r}):null};C.Z=o},71437:function(B,C,n){n.d(C,{Z:function(){return R}});var v=n(95141),l=n(24969),o=n(83062),E=n(94184),j=n.n(E),r=n(67294),f={box:"box___khloQ"},g=n(85893),N=j().bind(f),i=function(h){var O=h.className,F=h.type,d=F===void 0?v.Ai.Blank:F,u=h.icon,x=h.title,z=h.onClick,p=d===v.Ai.Blank?"tooltip-blank":"tooltip-white";return(0,g.jsx)(o.Z,{title:x,classNames:{root:p},children:(0,g.jsx)("span",{className:N("hover-box","flex","content-center","items-center","cursor-pointer",f.box,O),onClick:z,children:u||(0,g.jsx)(l.Z,{})})})},R=i},87025:function(B,C,n){n.d(C,{L:function(){return l},U:function(){return v}});var v=function(o){return o.WORKFLOW_LLM_NODE="WORKFLOW_LLM_NODE",o.AGENT="AGENT",o}({}),l=function(o){return o.prompt="prompt",o.code="code",o.sql="sql",o}({})},30961:function(B,C,n){n.d(C,{N:function(){return o},g:function(){return E}});var v=n(67294),l=n(85893),o=function(r,f){var g=f.required;return(0,l.jsxs)(l.Fragment,{children:[r,g?(0,l.jsx)("span",{style:{color:"red",fontWeight:600,marginLeft:"4px"},children:"*"}):null]})},E=function(r){return(0,l.jsx)(l.Fragment,{children:r})}},65774:function(B,C,n){B.exports=n.p+"static/doc_image.5415f2c1.jpg"},35044:function(B){B.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAH1SURBVEiJvZaxbtNQFIb///q67YDUDAwMDJHqoQ/A2KE3UCkSCwMvgBBTB54A0ZFKIBUhBAxIvEEHhhIHeh+AB2BB6sJQqUtGGtf+WRrHVZI6dm3+6crnHH86v3TuPRwMvj8CzAcSVtL7lRVz4JwboSUxjo/PANwufBtJetsWmHF8/AvA5pxYK2BD8tuCWIfkyyTRyWDwY89732kEmKbpoCSnUTC997eSRGcA1pasGZF8bS3eOOf+VgYCwHDovaTtKoUSTkm+CkN8qgI2AJBlWZmtMyJxB9DBeKyTOPbPvfdLOUQAiGN/D9DPqtCilu2Yk8OceWwFbArsReNRSWVW5x0Oh35Lwi6gLolIunm3QN7xXhjis3PugosSvfedJEFXSiOAEWk2SHUlbAK4W4P9m0yfLAReJ++9HY/RJ/W1YukfU54zV9YYBXUKF3Z4eOg76+vayDJGWYYugAhQJCEi61rKqaVHR8PtILC7gC5/jkYuaxKnkl6EofninLuwk0AQ2KeAHjcBmYDSVPurq+ajc718Hu00Rf2mQTs7vZnBt0B+td1o7spAV4AA7rcNugIk0ZfaBeV1dR5gSfuXu07lB9ien6dbxphlYIWlqld7qbLGBA+Ba/1sBJQDAT34H6ACcOYZagWUAyU+I/UOwNp01W8eNNE/wcEU7Dx0xUMAAAAASUVORK5CYII="}}]);})();
