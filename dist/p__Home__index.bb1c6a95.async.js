(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[3371],{20860:function(Q,A,e){"use strict";e.d(A,{Z:function(){return D}});var H=e(66283),_=e(75271),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},L=p,S=e(47221),s=function(ne,F){return _.createElement(S.Z,(0,H.Z)({},ne,{ref:F,icon:L}))},x=_.forwardRef(s),D=x},61606:function(Q,A,e){"use strict";e.d(A,{Z:function(){return D}});var H=e(66283),_=e(75271),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},L=p,S=e(47221),s=function(ne,F){return _.createElement(S.Z,(0,H.Z)({},ne,{ref:F,icon:L}))},x=_.forwardRef(s),D=x},59261:function(Q,A,e){"use strict";var H=e(75271),_=e(52676),p=function(S){var s=S.children,x=S.condition;return x?(0,_.jsx)(_.Fragment,{children:s}):null};A.Z=p},56394:function(Q,A,e){"use strict";e.d(A,{Z:function(){return ne}});var H=e(26068),_=e.n(H),p=e(94581),L=e.n(p),S=e(75271),s={container:"container___MZd_M",content:"content___VCV8q",body:"body___G3kls"},x=e(52676),D=function(I){if(I!==void 0)return typeof I=="number"?"".concat(I,"px"):I},V=function(I){var Ce=I.className,te=I.style,t=I.height,C=I.maxHeight,J=I.bodyWidth,W=I.children,de=(0,S.useMemo)(function(){return _()(_()({},te),{},{height:t!==void 0?D(t):C===void 0?"100%":void 0,maxHeight:D(C)})},[te,t,C]);return(0,x.jsx)("div",{className:L()(s.container,Ce),style:de,children:(0,x.jsx)("div",{className:s.content,children:(0,x.jsx)("div",{className:s.body,style:{width:J},children:W})})})},ne=V},3055:function(Q,A,e){"use strict";e.d(A,{Z:function(){return V}});var H=e(24573),_=e(94581),p=e.n(_),L=e(75271),S={"xagi-nav-style2":"xagi-nav-style2___xuAte",text:"text___sfO7S","page-container":"page-container___rvj3b",container:"container___MWZZN"},s=e(52676),x=p().bind(S),D=function(F){var I=F.className;return(0,s.jsxs)("div",{className:x("flex","flex-1","items-center","content-center",S.container,I),children:[(0,s.jsx)(H.Z,{}),(0,s.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]})},V=D},75468:function(Q,A,e){"use strict";var H=e(90228),_=e.n(H),p=e(87999),L=e.n(p),S=e(80241),s=e(29333),x=e(56179),D=function(){var ne=(0,s.Z)(S.co,{manual:!0,debounceMaxWait:300}),F=ne.runAsync,I=function(){var Ce=L()(_()().mark(function te(t,C){var J,W,de,Se,je;return _()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return J=C?.variableParams,pe.next=3,F({agentId:t,devMode:!1,variables:J});case 3:W=pe.sent,de=W.success,Se=W.data,de&&(je=Se?.id,x.history.push("/home/chat/".concat(je,"/").concat(t),C));case 7:case"end":return pe.stop()}},te)}));return function(t,C){return Ce.apply(this,arguments)}}();return{handleCreateConversation:I,runAsyncConversationCreate:F}};A.Z=D},88458:function(Q,A,e){"use strict";var H=e(15558),_=e.n(H),p=e(48305),L=e.n(p),S=e(64799),s=e(75271),x=function(){var V=(0,s.useState)([]),ne=L()(V,2),F=ne[0],I=ne[1],Ce=function(C){var J=_()(F);if(J.some(function(de){return de.id===C.id})){var W=J.findIndex(function(de){return de.id===C.id});J.splice(W,1)}else J.push({id:C.id,type:C.type});I(J)},te=function(C){if(C!=null&&C.length){var J=C.filter(function(W){return W.defaultSelected===S.Km.Yes}).map(function(W){return{id:W.id,type:W.type}});I(J||[])}};return{selectedComponentList:F,setSelectedComponentList:I,handleSelectComponent:Ce,initSelectedComponentList:te}};A.Z=x},96289:function(Q,A,e){"use strict";e.r(A),e.d(A,{default:function(){return bn}});var H=e(90228),_=e.n(H),p=e(87999),L=e.n(p),S=e(48305),s=e.n(S),x=e(49974),D=e(3055),V=e(75468),ne=e(88458),F=e(41705),I=e(46219),Ce=e(94581),te=e.n(Ce),t=e(75271),C=e(56179),J=e(82092),W=e.n(J),de=e(15558),Se=e.n(de),je=function(o){var n=o.categories,a=o.activeTab,g=o.onTabClick,f=o.observerOptions,R=f===void 0?{}:f,j=o.scrollDelay,y=j===void 0?1e3:j,P=(0,t.useRef)({}),b=(0,t.useRef)(null),Z=(0,t.useState)(!1),N=s()(Z,2),m=N[0],U=N[1],k=(0,t.useState)(new Set),B=s()(k,2),E=B[0],h=B[1],d=R.threshold,G=d===void 0?.3:d,c=R.rootMargin,M=c===void 0?"-20% 0px -60% 0px":c,z=R.root,K=z===void 0?null:z,O=(0,t.useCallback)(function($){console.log("\u{1F3AF} \u6807\u7B7E\u70B9\u51FB\uFF1A\u5BFC\u822A\u5230 ".concat($)),U(!0),g($);var w=P.current[$];w&&(w.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(function(){U(!1)},y))},[g,y]);return(0,t.useEffect)(function(){if(!(!n||n.length===0)){var $=new IntersectionObserver(function(w){if(!m){var ae=new Set;if(w.forEach(function(X){var oe=X.target,re=oe.dataset.category;re&&X.isIntersecting&&ae.add(re)}),h(ae),ae.size>0){var Y=n.map(function(X){return X.type}),ie=Y.filter(function(X){return ae.has(X)}),fe=ie[0];fe&&fe!==a&&(console.log("\u{1F504} \u6EDA\u52A8\u540C\u6B65\uFF1A\u81EA\u52A8\u5207\u6362\u5230\u6807\u7B7E ".concat(fe)),g(fe))}}},{root:K,threshold:G,rootMargin:M});return Object.values(P.current).forEach(function(w){w&&$.observe(w)}),function(){$.disconnect()}}},[n,m,a,g,G,M,K]),{sectionRefs:P,contentContainerRef:b,visibleSections:E,isProgrammaticScroll:m,handleTabClick:O}},$e=null,pe=e(82187),Pe=e.n(pe),Ne=e(40493),Ue=e(130),Ve=e(62249),we=e(97947);const Ye=v=>{const{componentCls:o}=v;return{[o]:{position:"fixed",zIndex:v.zIndexPopup}}},Xe=v=>({zIndexPopup:v.zIndexBase+10});var Qe=(0,we.I$)("Affix",Ye,Xe);function Me(v){return v!==window?v.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function Be(v,o,n){if(n!==void 0&&Math.round(o.top)>Math.round(v.top)-n)return n+o.top}function He(v,o,n){if(n!==void 0&&Math.round(o.bottom)<Math.round(v.bottom)+n){const a=window.innerHeight-o.bottom;return n+a}}var Je=function(v,o){var n={};for(var a in v)Object.prototype.hasOwnProperty.call(v,a)&&o.indexOf(a)<0&&(n[a]=v[a]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,a=Object.getOwnPropertySymbols(v);g<a.length;g++)o.indexOf(a[g])<0&&Object.prototype.propertyIsEnumerable.call(v,a[g])&&(n[a[g]]=v[a[g]]);return n};const Fe=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function qe(){return typeof window<"u"?window:null}const Ze=0,Ge=1;var en=t.forwardRef((v,o)=>{var n;const{style:a,offsetTop:g,offsetBottom:f,prefixCls:R,className:j,rootClassName:y,children:P,target:b,onChange:Z,onTestUpdatePosition:N}=v,m=Je(v,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:U,getTargetContainer:k}=t.useContext(Ve.E_),B=U("affix",R),[E,h]=t.useState(!1),[d,G]=t.useState(),[c,M]=t.useState(),z=t.useRef(Ze),K=t.useRef(null),O=t.useRef(null),$=t.useRef(null),w=t.useRef(null),ae=t.useRef(null),Y=(n=b??k)!==null&&n!==void 0?n:qe,ie=f===void 0&&g===void 0?0:g,fe=()=>{if(z.current!==Ge||!w.current||!$.current||!Y)return;const u=Y();if(u){const l={status:Ze},r=Me($.current);if(r.top===0&&r.left===0&&r.width===0&&r.height===0)return;const ce=Me(u),ee=Be(r,ce,ie),ue=He(r,ce,f);ee!==void 0?(l.affixStyle={position:"fixed",top:ee,width:r.width,height:r.height},l.placeholderStyle={width:r.width,height:r.height}):ue!==void 0&&(l.affixStyle={position:"fixed",bottom:ue,width:r.width,height:r.height},l.placeholderStyle={width:r.width,height:r.height}),l.lastAffix=!!l.affixStyle,E!==l.lastAffix&&Z?.(l.lastAffix),z.current=l.status,G(l.affixStyle),M(l.placeholderStyle),h(l.lastAffix)}},X=()=>{z.current=Ge,fe()},oe=(0,Ue.Z)(()=>{X()}),re=(0,Ue.Z)(()=>{if(Y&&d){const u=Y();if(u&&$.current){const l=Me(u),r=Me($.current),ce=Be(r,l,ie),ee=He(r,l,f);if(ce!==void 0&&d.top===ce||ee!==void 0&&d.bottom===ee)return}}X()}),Ee=()=>{const u=Y?.();u&&(Fe.forEach(l=>{var r;O.current&&((r=K.current)===null||r===void 0||r.removeEventListener(l,O.current)),u?.addEventListener(l,re)}),K.current=u,O.current=re)},xe=()=>{ae.current&&(clearTimeout(ae.current),ae.current=null);const u=Y?.();Fe.forEach(l=>{var r;u?.removeEventListener(l,re),O.current&&((r=K.current)===null||r===void 0||r.removeEventListener(l,O.current))}),oe.cancel(),re.cancel()};t.useImperativeHandle(o,()=>({updatePosition:oe})),t.useEffect(()=>(ae.current=setTimeout(Ee),()=>xe()),[]),t.useEffect(()=>(Ee(),()=>xe()),[b,d,E,g,f]),t.useEffect(()=>{oe()},[b,g,f]);const[be,De,Ie]=Qe(B),T=Pe()(y,De,B,Ie),le=Pe()({[T]:d});return be(t.createElement(Ne.default,{onResize:oe},t.createElement("div",Object.assign({style:a,className:j,ref:$},m),d&&t.createElement("div",{style:c,"aria-hidden":"true"}),t.createElement("div",{className:le,ref:w,style:d},t.createElement(Ne.default,{onResize:oe},P)))))}),ge=e(43183),he=e(71691),nn=e(26068),se=e.n(nn),We=e(78434),ke=e(22675),tn=e(28057),ze=e(69219),q={"xagi-nav-style2":"xagi-nav-style2___w6m93",text:"text___NIeGM","page-container":"page-container___p0TFP",container:"container___llqeU","icon-box":"icon-box___iMNxH",dragging:"dragging___QpQ6J","img-wrapper":"img-wrapper___qQkjr",img:"img___z_6H1","info-box":"info-box___yxA8K","title-section":"title-section___tZgak","source-section":"source-section___paSUT",source:"source___XXt4w","user-icon":"user-icon___SRlLU","desc-section":"desc-section___MVFsO",collected:"collected___uNbOv",collecting:"collecting___WXfwH","star-icon":"star-icon___RfK8S"},i=e(52676),ye=te().bind(q),an=function(o){var n=o.info,a=o.onItemClick,g=o.onToggleCollect,f=(0,t.useState)(!1),R=s()(f,2),j=R[0],y=R[1],P=(0,t.useState)(!1),b=s()(P,2),Z=b[0],N=b[1],m=function(){var E=L()(_()().mark(function h(d){return _()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(d.stopPropagation(),!j){c.next=3;break}return c.abrupt("return");case 3:return c.prev=3,y(!0),c.next=7,g();case 7:c.next=12;break;case 9:c.prev=9,c.t0=c.catch(3),console.error("\u6536\u85CF\u64CD\u4F5C\u5931\u8D25:",c.t0);case 12:return c.prev=12,y(!1),c.finish(12);case 15:case"end":return c.stop()}},h,null,[[3,9,12,15]])}));return function(d){return E.apply(this,arguments)}}(),U=function(){N(!0)},k=function(){var h,d;return n!=null&&(h=n.publishUser)!==null&&h!==void 0&&h.nickName?n.publishUser.nickName:n!=null&&(d=n.publishUser)!==null&&d!==void 0&&d.userName?n.publishUser.userName:"\u672A\u77E5\u7528\u6237"},B=function(){return n!=null&&n.description?n.description:"\u6682\u65E0\u63CF\u8FF0"};return(0,i.jsxs)("div",{className:ye(q.container),onClick:a,title:"".concat(n?.name||"\u667A\u80FD\u4F53"," - ").concat(B()),children:[(0,i.jsx)("div",{className:q["img-wrapper"],children:(0,i.jsx)("img",{className:ye(q.img),src:Z?ke:n.icon||ke,alt:n?.name||"\u667A\u80FD\u4F53\u5934\u50CF",onError:U,loading:"lazy"})}),(0,i.jsxs)("div",{className:ye(q["info-box"]),children:[(0,i.jsx)(ze.Z.Title,{level:5,ellipsis:{rows:1,expandable:!1,symbol:"..."},title:n?.name||"\u667A\u80FD\u4F53\u540D\u79F0",className:q["title-section"],children:n?.name||"\u672A\u547D\u540D\u667A\u80FD\u4F53"}),(0,i.jsx)("div",{className:q["source-section"],children:(0,i.jsxs)("p",{className:ye(q.source),children:["\u6765\u81EA ",k()]})})]}),(0,i.jsx)("span",{className:ye(q["icon-box"],W()(W()({},q.collected,n.collect),q.collecting,j)),onClick:m,title:n.collect?"\u53D6\u6D88\u6536\u85CF":"\u6536\u85CF",children:(0,i.jsx)(tn.Z,{className:ye(q["star-icon"],W()({},q.spinning,j))})}),(0,i.jsx)(ze.Z.Paragraph,{className:q["desc-section"],ellipsis:{rows:2,expandable:!1,symbol:"..."},children:B()})]})},on=an,In={CATEGORY:"CATEGORY",AGENT:"AGENT"},rn={CATEGORY:"\u53EF\u62D6\u62FD\u66F4\u6362\u680F\u76EE\u987A\u5E8F",AGENT:"\u53EF\u62D6\u62FD\u66F4\u6362\u667A\u80FD\u4F53\u987A\u5E8F"},sn={UPDATING_SORT:"\u6B63\u5728\u66F4\u65B0\u6392\u5E8F..."},ln={SORT_SUCCESS:"\u6392\u5E8F\u66F4\u65B0\u6210\u529F"},cn={SORT_FAILED:"\u6392\u5E8F\u66F4\u65B0\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"},Ke=t.memo(function(v){var o=v.agent,n=v.categoryType,a=v.dragHoverText,g=v.onAgentClick,f=v.onToggleCollect,R=v.onMouseEnter,j=v.onMouseLeave,y=(0,he.nB)({id:String(o.targetId)}),P=y.attributes,b=y.listeners,Z=y.setNodeRef,N=y.transform,m=y.transition,U=y.isDragging,k={transform:We.ux.Translate.toString(N),transition:m,opacity:U?.8:1,zIndex:U?1e3:"auto"},B=function(){g(o.targetId)},E=function(){f(n,o)},h=function(){R(rn.AGENT)};return(0,i.jsx)("div",se()(se()(se()({ref:Z,style:k},P),b),{},{onMouseEnter:h,onMouseLeave:j,title:a&&!U?a:"",children:(0,i.jsx)(on,{info:o,onItemClick:B,onToggleCollect:E})}))});Ke.displayName="AgentCard";var un=Ke,ve={"xagi-nav-style2":"xagi-nav-style2___YSqDy",text:"text___RdOva","page-container":"page-container___TGPYq","empty-box":"empty-box___kKxJc",stickyContainer:"stickyContainer___bTk9_","category-name":"category-name___Q2e4H",recommendContainer:"recommendContainer___iZivl",recommendTitle:"recommendTitle___Hm83L",recommendDesc:"recommendDesc___eL9W6","category-list":"category-list___LcB1n",dragging:"dragging___IbZ5X",draggableContainer:"draggableContainer___mbebw",section:"section___fhOhJ",sectionTitle:"sectionTitle___uqNXG",agentGrid:"agentGrid___gdHQP",contentContainer:"contentContainer___rkjAh",emptyContainer:"emptyContainer___k7bXI",activeSticky:"activeSticky___KG8s9",agentCard:"agentCard___rQawj",cardContent:"cardContent___kSrZL",avatarContainer:"avatarContainer___vvgoS",avatar:"avatar___N6UwM",cardTitle:"cardTitle___nyC2t",cardStats:"cardStats___e0AJq",stat:"stat___Ekmew",collectBtn:"collectBtn___zzjmj",collected:"collected___nWAvE"},Le=te().bind(ve),dn=function(o){var n=o.category,a=o.agents,g=o.dragHoverText,f=o.onAgentClick,R=o.onToggleCollect,j=o.onMouseEnter,y=o.onMouseLeave,P=o.sectionRef,b=o.onAgentDragEnd,Z=(0,t.useState)(a),N=s()(Z,2),m=N[0],U=N[1];(0,t.useEffect)(function(){U(a)},[a]);var k=(0,ge.Dy)((0,ge.VT)(ge.we,{activationConstraint:{distance:8}})),B=(0,t.useCallback)(function(E){var h=E.active,d=E.over;if(h.id!==d?.id&&d!==null&&d!==void 0&&d.id){var G=Number(h.id),c=Number(d.id),M=m.findIndex(function(O){return O.targetId===G}),z=m.findIndex(function(O){return O.targetId===c});if(M!==-1&&z!==-1){var K=(0,he.Rp)(m,M,z);U(K),b?.(n.type,K)}}},[m,n.type,b]);return!m||m.length===0?null:(0,i.jsxs)("div",{ref:P,"data-category":n.type,className:Le(ve.section,{}),children:[(0,i.jsxs)("div",{className:Le(ve.sectionTitle),children:[n.name,"(",m.length,")"]}),(0,i.jsx)(ge.LB,{sensors:k,collisionDetection:ge.pE,onDragEnd:B,children:(0,i.jsx)(he.Fo,{items:m.map(function(E){return String(E.targetId)}),strategy:he.U2,children:(0,i.jsx)("div",{className:Le(ve.agentGrid),children:m.map(function(E){return(0,i.jsx)(un,{agent:E,categoryType:n.type,dragHoverText:g,onAgentClick:f,onToggleCollect:R,onMouseEnter:j,onMouseLeave:y},E.targetId)})})})})]})},vn=dn,fn=e(36075),gn=e.n(fn),mn=e(20860),_n=e(47548),hn=e(68108),Te={"xagi-nav-style2":"xagi-nav-style2___HTb9L",text:"text___a3TlF","page-container":"page-container___O29iU",categoryContainer:"categoryContainer___HEOY3","tab-left":"tab-left___YtPrn","tab-right":"tab-right___Le2qU",icon:"icon___Wspyl"},Oe=te().bind(Te),Cn=function(o){var n=Object.assign({},(gn()(o),o)),a=(0,he.nB)({id:n["data-node-key"]}),g=a.attributes,f=a.listeners,R=a.setNodeRef,j=a.transform,y=a.transition,P=se()(se()({},n.style),{},{transform:We.ux.Translate.toString(j),transition:y,cursor:"move"});return t.cloneElement(n.children,se()(se()({ref:R,style:P},g),f))},pn=function(o){var n=o.categories,a=o.activeCategory,g=o.dragHoverText,f=o.onCategoryDragEnd,R=o.onTabClick,j=o.onMouseEnter,y=o.onMouseLeave,P=o.onDragStart,b=(0,t.useState)(n),Z=s()(b,2),N=Z[0],m=Z[1];t.useEffect(function(){m(n)},[n]);var U=(0,ge.VT)(ge.we,{activationConstraint:{distance:8}}),k=(0,t.useMemo)(function(){return N.map(function(h){return{key:h.type,label:h.name,children:null}})},[N]),B=function(d){var G=d.active,c=d.over;G.id!==c?.id&&m(function(M){var z=M.findIndex(function(O){return O.type===G.id}),K=M.findIndex(function(O){return O.type===c?.id});return z!==-1&&K!==-1?(0,he.Rp)(M,z,K):M}),f(d)},E=(0,t.useCallback)(function(h){console.log("\u{1F3AF} Tab\u70B9\u51FB\u4E8B\u4EF6: ".concat(h)),R(h)},[R]);return!N||N.length===0?null:(0,i.jsxs)("div",{className:Oe(Te.categoryContainer),children:[(0,i.jsx)("div",{className:Oe(Te["tab-left"]),children:(0,i.jsx)(_n.Z,{activeKey:a,items:k,onChange:E,tabBarStyle:{marginBottom:0,borderBottom:"none"},tabBarGutter:8,size:"middle",indicator:{size:0},renderTabBar:function(d,G){return(0,i.jsx)(ge.LB,{sensors:[U],onDragStart:P,onDragEnd:B,collisionDetection:ge.pE,children:(0,i.jsx)(he.Fo,{items:k.map(function(c){return c.key}),strategy:he.PG,children:(0,i.jsx)(G,se()(se()({},d),{},{children:function(M){return(0,t.createElement)(Cn,se()(se()({},M.props),{},{key:M.key,onMouseEnter:function(){return j(g)},onMouseLeave:y}),M)}}))})})}})}),(0,i.jsx)("div",{className:Oe(Te["tab-right"]),children:(0,i.jsx)(hn.Z,{title:"\u62D6\u62FD\u667A\u80FD\u4F53\u5361\u7247\u53EF\u4EA4\u6362\u4F4D\u7F6E",children:(0,i.jsx)(mn.Z,{className:Oe(Te.icon)})})})]})},Sn=pn,Ae=te().bind(ve),yn=function(o){var n,a=o.homeCategoryInfo,g=o.activeTab,f=o.onTabClick,R=o.onAgentClick,j=o.onToggleCollect,y=o.onDataUpdate,P=I.Z.useApp(),b=P.message,Z=(0,t.useState)(!1),N=s()(Z,2),m=N[0],U=N[1],k=(0,t.useState)(""),B=s()(k,2),E=B[0],h=B[1],d=(0,t.useState)(!1),G=s()(d,2),c=G[0],M=G[1],z=(0,t.useState)(!1),K=s()(z,2),O=K[0],$=K[1],w=je({categories:a?.categories||[],activeTab:g,onTabClick:f,observerOptions:{threshold:.3,rootMargin:"-20% 0px -60% 0px"},scrollDelay:1e3}),ae=w.sectionRefs,Y=w.contentContainerRef,ie=w.handleTabClick,fe=(0,C.useRequest)(F.Lq,{manual:!0,debounceInterval:300,onBefore:function(){M(!0)},onSuccess:function(){b.success(ln.SORT_SUCCESS),y()},onError:function(){b.error(cn.SORT_FAILED),y()},onFinally:function(){M(!1)}}),X=fe.run,oe=(0,t.useCallback)(function(T){m||h(T)},[m]),re=(0,t.useCallback)(function(){m||h("")},[m]),Ee=(0,t.useCallback)(function(){U(!0)},[]),xe=(0,t.useCallback)(function(T){var le=T.active,u=T.over;if(U(!1),h(""),le.id!==u?.id&&a!==null&&a!==void 0&&a.categories){var l=a.categories.findIndex(function(Re){return Re.type===le.id}),r=a.categories.findIndex(function(Re){return Re.type===u?.id});if(l!==-1&&r!==-1){var ce=a.categories.map(function(Re){return Re.type}),ee=Se()(ce),ue=ee.splice(l,1),Tn=s()(ue,1),An=Tn[0];ee.splice(r,0,An),X(ee,void 0)}}},[a?.categories,X]),be=(0,t.useCallback)(function(T,le){var u=le.map(function(l){return l.targetId});X(void 0,W()({},T,u))},[X]),De=(0,t.useCallback)(function(){C.history.push("/square?cate_type=Agent")},[]),Ie=(0,t.useMemo)(function(){var T=a?.categoryItems||{};return Object.keys(T).length===0},[a?.categoryItems]);return c?(0,i.jsxs)("div",{className:Ae("loading-container"),children:[(0,i.jsx)(D.Z,{}),(0,i.jsx)("span",{className:Ae("loading-text"),children:sn.UPDATING_SORT})]}):(0,i.jsxs)("div",{className:ve.draggableContainer,children:[(0,i.jsx)(en,{target:function(){return document.getElementById("page-container-selector")},offsetTop:0,className:Ae(ve.stickyContainer,O?ve.activeSticky:""),onChange:function(le){$(le||!1)},children:(0,i.jsx)("div",{children:(0,i.jsx)(Sn,{categories:a?.categories||[],activeCategory:g,dragHoverText:E,onCategoryDragEnd:xe,onTabClick:ie,onMouseEnter:oe,onMouseLeave:re,onDragStart:Ee})})}),Ie?(0,i.jsx)("div",{className:Ae(ve.emptyContainer),children:(0,i.jsxs)("a",{onClick:De,className:Ae("empty-link"),children:["\u6682\u65E0\u6570\u636E\uFF0C\u7ACB\u5373\u63A2\u7D22 ",">"," ",">"]})}):(0,i.jsx)("div",{ref:Y,className:ve.contentContainer,children:a==null||(n=a.categories)===null||n===void 0?void 0:n.map(function(T){return(0,i.jsx)(vn,{category:T,agents:a?.categoryItems[T.type]||[],dragHoverText:E,onAgentClick:R,onToggleCollect:j,onMouseEnter:oe,onMouseLeave:re,onAgentDragEnd:be,sectionRef:function(u){return ae.current[T.type]=u}},T.type)})})]})},En=yn,me={"xagi-nav-style2":"xagi-nav-style2___nA06W",text:"text___SwEdP","page-container":"page-container___Ov_os",container:"container___ulS8A",inputSection:"inputSection___uh9Vk",title:"title___YqZnO",textarea:"textarea___CEETi",recommend:"recommend___HEIYH","recommend-item":"recommend-item___h7GVv",recommendSection:"recommendSection___ICopM",wrapper:"wrapper___bQpM3"},_e=te().bind(me),xn=function(){var o,n=I.Z.useApp(),a=n.message,g=(0,C.useModel)("tenantConfigInfo"),f=g.tenantConfigInfo,R=(0,t.useState)(),j=s()(R,2),y=j[0],P=j[1],b=(0,t.useState)(!1),Z=s()(b,2),N=Z[0],m=Z[1],U=(0,t.useState)(),k=s()(U,2),B=k[0],E=k[1],h=(0,t.useRef)(""),d=(0,t.useState)(),G=s()(d,2),c=G[0],M=G[1],z=(0,V.Z)(),K=z.handleCreateConversation,O=(0,ne.Z)(),$=O.selectedComponentList,w=O.handleSelectComponent,ae=O.initSelectedComponentList,Y=(0,C.useRequest)(F.ES,{manual:!0,debounceInterval:300,onSuccess:function(l){var r;E(l),P(l==null||(r=l.categories)===null||r===void 0||(r=r[0])===null||r===void 0?void 0:r.type),m(!1)},onError:function(){m(!1)}}),ie=Y.run,fe=(0,C.useRequest)(F.fD,{manual:!0,debounceInterval:300,onSuccess:function(){ie()}}),X=fe.run,oe=(0,C.useRequest)(F.Z9,{manual:!0,debounceInterval:300,onSuccess:function(){ie()}}),re=oe.run,Ee=(0,C.useRequest)(F.xI,{manual:!0,debounceInterval:300,onSuccess:function(l){M(l)}}),xe=Ee.run;(0,t.useEffect)(function(){m(!0),ie()},[]),(0,t.useEffect)(function(){f&&xe(f?.defaultAgentId)},[f]),(0,t.useEffect)(function(){ae(c?.manualComponents)},[c?.manualComponents]);var be=function(){var u=L()(_()().mark(function l(r,ce){return _()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(f){ue.next=3;break}return a.warning("\u79DF\u6237\u4FE1\u606F\u4E0D\u5B58\u5728"),ue.abrupt("return");case 3:return ue.next=5,K(f.defaultAgentId,{message:r,files:ce,infos:$});case 5:case"end":return ue.stop()}},l)}));return function(r,ce){return u.apply(this,arguments)}}(),De=function(l){console.log("\u{1F3E0} Home Tab\u70B9\u51FB\u4E8B\u4EF6: ".concat(l,", \u5F53\u524DactiveTab: ").concat(y)),P(l)},Ie=function(l,r){h.current=l,r.collect?re(r.targetId):X(r.targetId)},T=function(){var u=L()(_()().mark(function l(r){return _()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:C.history.push("/agent/".concat(r));case 1:case"end":return ee.stop()}},l)}));return function(r){return u.apply(this,arguments)}}(),le=(0,t.useRef)(null);return(0,t.useEffect)(function(){var u=function(){var r;(r=le.current)===null||r===void 0||r.updatePosition()};return window.addEventListener("scroll",u,!0),function(){return window.removeEventListener("scroll",u,!0)}},[]),(0,i.jsxs)("div",{className:_e(me.container,"flex","flex-col","items-center"),children:[(0,i.jsxs)("div",{className:_e(me.inputSection),children:[(0,i.jsx)("h2",{className:_e(me.title),dangerouslySetInnerHTML:{__html:f?.homeSlogan}}),(0,i.jsx)(x.Z,{className:_e(me.textarea),onEnter:be,isClearInput:!1,manualComponents:c?.manualComponents||[],selectedComponentList:$,onSelectComponent:w},"home-".concat(f?.defaultAgentId)),(0,i.jsx)("div",{className:_e(me.recommend,"flex","content-center","flex-wrap"),children:c==null||(o=c.openingGuidQuestions)===null||o===void 0?void 0:o.map(function(u,l){return(0,i.jsx)("div",{className:_e(me["recommend-item"],"cursor-pointer","hover-box"),onClick:function(){return be(u)},children:u},l)})})]}),(0,i.jsx)("div",{className:_e(me.recommendSection),children:(0,i.jsx)("div",{className:_e(me.wrapper),children:N?(0,i.jsx)(D.Z,{className:_e("h-full")}):B&&(0,i.jsx)(En,{homeCategoryInfo:B,activeTab:y,onTabClick:De,onAgentClick:T,onToggleCollect:Ie,onDataUpdate:ie})})})]})},bn=xn},24498:function(Q,A,e){"use strict";e.d(A,{Z:function(){return _}});var H=e(30967);function _(p,L,S,s){var x=H.unstable_batchedUpdates?function(V){H.unstable_batchedUpdates(S,V)}:S;return p!=null&&p.addEventListener&&p.addEventListener(L,x,s),{remove:function(){p!=null&&p.removeEventListener&&p.removeEventListener(L,x,s)}}}},40595:function(Q,A,e){"use strict";e.d(A,{G:function(){return L}});var H=e(18415),_=function(s){if((0,H.Z)()&&window.document.documentElement){var x=Array.isArray(s)?s:[s],D=window.document.documentElement;return x.some(function(V){return V in D.style})}return!1},p=function(s,x){if(!_(s))return!1;var D=document.createElement("div"),V=D.style[s];return D.style[s]=x,D.style[s]!==V};function L(S,s){return!Array.isArray(S)&&s!==void 0?p(S,s):_(S)}},36075:function(Q){function A(e){if(e==null)throw new TypeError("Cannot destructure "+e)}Q.exports=A,Q.exports.__esModule=!0,Q.exports.default=Q.exports}}]);})();
