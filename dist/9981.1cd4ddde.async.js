"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[9981],{86088:function(L,D,n){n.d(D,{Z:function(){return sn}});var S=n(9783),l=n.n(S),M=n(19632),y=n.n(M),E=n(5574),e=n.n(E),r=n(98761),s=n(75216),x=n(13969),p=n(1675),t=n(95141),d=n(82198),A=n(52645),I=n(24969),O=n(1912),Y=n(77171),N=n(25278),j=n(83062),R=n(75991),z=n(94184),a=n.n(z),g=n(67294),i={"chat-container":"chat-container___U9rVW",input:"input___FzMKA",footer:"footer___XnZKb",clear:"clear___GC9bK",disabled:"disabled___qSVoh",box:"box___Dlt8q","plus-box":"plus-box___kiHIR","upload-box-disabled":"upload-box-disabled___ydZqG","send-box":"send-box___h7b23","chat-action":"chat-action___CRGv7","to-bottom":"to-bottom___USy2v",visible:"visible___UwinV"},X={"manual-container":"manual-container___qrahR","manual-box":"manual-box___RFVBN",active:"active___EWeIJ"},o=n(85893),G=a().bind(X),en=function(u){var P=u.manualComponents,Q=u.selectedComponentList,b=u.onSelectComponent;return(0,o.jsx)("div",{className:G("flex-1","flex","items-center",X["manual-container"]),children:P?.map(function(m,J){return(0,o.jsx)("span",{className:G(X["manual-box"],"flex","items-center","cursor-pointer",l()({},X.active,Q?.some(function(K){return K.id===m.id}))),onClick:function(){return b?.(m)},children:m.name},J)})})},tn=en,h=a().bind(i),an=function(u){var P,Q=u.className,b=u.wholeDisabled,m=b===void 0?!1:b,J=u.clearDisabled,K=J===void 0?!1:J,w=u.onEnter,ln=u.visible,rn=u.selectedComponentList,un=u.onSelectComponent,T=u.onClear,k=u.isClearInput,V=k===void 0?!0:k,dn=u.manualComponents,cn=u.onScrollBottom,vn=(0,g.useState)([]),q=e()(vn,2),B=q[0],W=q[1],An=(0,g.useState)([]),$=e()(An,2),c=$[0],mn=$[1],gn=(0,g.useState)(""),_=e()(gn,2),F=_[0],Z=_[1],nn=(P=localStorage.getItem(p.LA))!==null&&P!==void 0?P:"",hn=(0,g.useRef)(null);(0,g.useEffect)(function(){mn(B.filter(function(C){return C.status===t.KM.done&&C.url&&C.key}))},[B]);var H=(0,g.useMemo)(function(){return!F&&!(c!=null&&c.length)},[F,c]),Cn=function(){H||m||(F||c?.length>0)&&(w(F,c),V&&(W([]),Z("")))},fn=function(v){v.preventDefault();var f=v.target,U=f.value,Dn=f.selectionStart,Sn=f.selectionEnd;if(v.nativeEvent.keyCode===13&&(v.nativeEvent.shiftKey||v.nativeEvent.ctrlKey)){var Mn=U.slice(0,Dn)+`
`+U.slice(Sn);Z(Mn)}else v.nativeEvent.keyCode===13&&(U.trim()||c!=null&&c.length)&&(w(U,c),V&&(W([]),Z("")))},xn=function(v){var f=v.fileList;W((0,d.G)(f))},pn=function(v){var f=y()(B);f.splice(f.findIndex(function(U){return U.uid===v}),1),W(f)},Bn=function(){K||m||T?.()};return(0,o.jsxs)("div",{className:h("w-full","relative",Q),children:[(0,o.jsxs)("div",{className:h(i["chat-container"],"flex","flex-col"),children:[(0,o.jsx)(s.Z,{condition:B?.length,children:(0,o.jsx)(r.Z,{files:B,onDel:pn})}),(0,o.jsx)(N.Z.TextArea,{ref:hn,disabled:m,value:F,onChange:function(v){return Z(v.target.value)},rootClassName:h(i.input),onPressEnter:fn,placeholder:"\u76F4\u63A5\u8F93\u5165\u6307\u4EE4\uFF1B\u53EF\u901A\u8FC7\u56DE\u8F66\u53D1\u9001",autoSize:{minRows:2,maxRows:6}}),(0,o.jsxs)("footer",{className:h("flex",i.footer),children:[(0,o.jsx)(s.Z,{condition:!!T,children:(0,o.jsx)(j.Z,{title:"\u6E05\u7A7A\u4F1A\u8BDD\u8BB0\u5F55",children:(0,o.jsx)("span",{className:h(i.clear,"flex","items-center","content-center","hover-box","cursor-pointer",l()({},i.disabled,K||m)),onClick:Bn,children:(0,o.jsx)(A.Z,{})})})}),(0,o.jsx)(R.Z,{action:x.GI,disabled:m,onChange:xn,multiple:!0,fileList:B,headers:{Authorization:nn?"Bearer ".concat(nn):""},data:{type:"tmp"},showUploadList:!1,children:(0,o.jsx)("span",{className:h("flex","items-center","content-center","cursor-pointer",i.box,i["plus-box"],l()({},i["upload-box-disabled"],m)),children:(0,o.jsx)(I.Z,{})})}),(0,o.jsx)(tn,{manualComponents:dn,selectedComponentList:rn,onSelectComponent:un}),(0,o.jsx)(j.Z,{title:H?"\u8BF7\u8F93\u5165\u4F60\u7684\u95EE\u9898":"",children:(0,o.jsx)("span",{onClick:Cn,className:h("flex","items-center","content-center","cursor-pointer",i.box,i["send-box"],l()({},i.disabled,H||m)),children:(0,o.jsx)(O.Z,{})})})]})]}),(0,o.jsx)("div",{className:h(i["chat-action"]),children:(0,o.jsx)("div",{className:h(i["to-bottom"],l()({},i.visible,ln)),onClick:cn,children:(0,o.jsx)(Y.Z,{})})})]})},sn=an},98761:function(L,D,n){n.d(D,{Z:function(){return O}});var S=n(65774),l=n(32909),M=n(38678),y=n(82198),E=n(18429),e=n(56595),r=n(26410),s=n(94184),x=n.n(s),p=n(67294),t={"files-container":"files-container___rrmlx","file-box":"file-box___jZnPB",del:"del___kwMAg",info:"info___IOZrP",size:"size___Q3woW","progress-upload-file":"progress-upload-file___jbzQC"},d=n(85893),A=x().bind(t),I=function(N){var j=N.files,R=N.onDel,z=(0,p.useCallback)(function(a){return(0,y.U)(a)},[]);return(0,d.jsx)("div",{className:A(t["files-container"]),children:j?.map(function(a){var g;return(0,d.jsxs)("div",{className:A(t["file-box"],"flex","items-center"),children:[(0,d.jsx)(e.Z,{width:50,height:50,src:a!=null&&(g=a.type)!==null&&g!==void 0&&g.includes("image/")?a?.url:S,fallback:l.Pc,preview:!1}),(0,d.jsxs)("div",{className:A("flex-1","overflow-hide",t.info),children:[(0,d.jsx)("h4",{className:A("text-ellipsis"),children:a?.name}),(0,d.jsx)("span",{className:t.size,children:(0,M.td)(a?.size)})]}),(0,d.jsx)(E.Z,{className:A(t.del),onClick:function(){return R(a.uid)}}),(0,d.jsx)(r.Z,{type:"circle",percent:Math.floor(a?.percent||0),status:z(a),size:30,className:t["progress-upload-file"]})]},a.uid)})})},O=I},38678:function(L,D,n){n.d(D,{td:function(){return S}});function S(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";var s=1024,x=r<0?0:r,p=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],t=Math.floor(Math.log(e)/Math.log(s));return Number.parseFloat((e/Math.pow(s,t)).toFixed(x))+" "+p[t]}function l(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.parseFloat((e/1024).toFixed(r))}function M(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.parseFloat((e/(1024*1024)).toFixed(r))}function y(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return"".concat(l(e,r)," KB")}function E(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return"".concat(M(e,r)," MB")}},82198:function(L,D,n){n.d(D,{G:function(){return M},U:function(){return y}});var S=n(70490),l=n(95141),M=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:99;return e.filter(function(s){return s.status!==l.KM.removed}).map(function(s){var x=s.response||{},p=x.data,t=p===void 0?{}:p,d=x.code,A=s.status,I=s.percent;return d&&d!==S.Gh&&(A=l.KM.error),s?.percent===100&&A===l.KM.uploading&&(I=r),{key:t?.key||"",name:t?.fileName||s.name||"",size:t?.size||s.size||0,url:t?.url||s.url||"",type:t?.mimeType||s.type||"",uid:s.uid,status:A,percent:I,response:s.response}})},y=function(e){return e?.status===l.KM.error?"exception":e?.status===l.KM.uploading?"active":e?.status===l.KM.done||Math.floor(e?.percent||0)===100?"success":"active"}},22675:function(L){L.exports="data:image/png;base64,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"}}]);})();
