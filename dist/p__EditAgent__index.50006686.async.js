"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[657,7984],{65857:function(Je,oe,n){n.d(oe,{Z:function(){return d}});var ue=n(22675),p=n(94581),b=n.n(p),v=n(75271),O={avatar:"avatar___Q6WBB",nickname:"nickname___pjZCy"},o=n(52676),c=b().bind(O),_=function(w){var y=w.className,r=w.icon,W=w.name,u=w.extra;return(0,o.jsxs)("div",{className:c("flex","flex-col","items-center","content-center",y),children:[(0,o.jsx)("img",{className:c(O.avatar),src:r||ue,alt:""}),(0,o.jsx)("h3",{className:c("w-full","text-ellipsis",O.nickname),children:W}),u]})},d=_},34077:function(Je,oe,n){n.d(oe,{Z:function(){return je}});var ue=n(82092),p=n.n(ue),b=n(22675),v=n(78987),O=n(57625),o=n(59261),c=n(97830),_=n(13278),d=n(72875),V=n(91268),w=n(27689),y=n(64799),r=n(92122),W=n(41249),u=n(38683),M=n(94581),K=n.n(M),E=n(32699),H=n(75271),ee=n(56179),Ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAERSURBVCiRjZFBccNADEWfdgrAYeAwcBmYQSwGMYKkCOwwKIOYgZZBITQQzCBBsOoh25lN7ab9pz3ozftaCTlmtkfkADTADbjg3qvqzEpC8a4zdEFkBGpEPs2sWQNfzOwIVKo6mhmIDKS0AV4ROSNiwHZpFNkhMpjZqKojEBEZgBb3N6A2s26tapvrDRajAR0wqWrM+83pvsJjVeCGyERKm2yatOv6YqYKIVzXjBH3o6qOuGsJmVkNVLi3S9D9BFQW4wdwKaBGVWfce6CzGM8lKN9D+fdqYAaqbOpVdco3PpdrSGGoPISdp7QNIVxxb4D9b7DwJLneEhZ5fwquwveTtX+CDzBEoMP99C/wh/mkquMXpnqTpDNkdZAAAAAASUVORK5CYII=",pe=n(6619),a={container:"container___bqr6a","elapsed-time":"elapsed-time___NLFZM","vertical-line":"vertical-line___viPQ6","more-action":"more-action___oDxDL",icon:"icon___hoIgl","copy-image":"copy-image___YsG7v"},m=n(52676),xe=K().bind(a),z=function(ln){var he=ln.messageInfo,Ce=he||{},T=Ce.finalResult,F=(0,ee.useModel)("conversationInfo"),sn=F.handleDebug,gn=(0,H.useMemo)(function(){return T?((T?.endTime-T?.startTime)/1e3).toFixed(1):0},[T]);return(0,m.jsx)("div",{className:xe(a.container,"flex","content-between","items-center"),children:(0,m.jsxs)("div",{className:xe("flex","items-center",a["elapsed-time"]),children:[(0,m.jsxs)(o.Z,{condition:!!T,children:[(0,m.jsx)("span",{children:"".concat(gn,"s")}),(0,m.jsxs)(o.Z,{condition:!!(T!=null&&T.totalTokens),children:[(0,m.jsx)("span",{className:xe(a["vertical-line"])}),(0,m.jsx)("span",{children:"".concat(T?.totalTokens," Tokens")})]})]}),(0,m.jsx)(o.Z,{condition:!!T,children:(0,m.jsx)(pe.Z,{className:a.icon,icon:(0,m.jsx)("img",{src:Ne,alt:""}),onClick:function(){return sn(he)},title:"\u8C03\u8BD5",type:r.Ai.White})})]})})},$e=z,Ie={"xagi-nav-style2":"xagi-nav-style2___mrh9D",text:"text___O7qUb","page-container":"page-container___XXv4P",container:"container___I82RP","elapsed-time":"elapsed-time___VSdJP","vertical-line":"vertical-line___RYAxp","more-action":"more-action___J8lvL",icon:"icon___V_fce","copy-image":"copy-image___Lbh8o"},nn=K().bind(Ie),We=function(ln){var he=ln.messageInfo,Ce=he||{},T=Ce.text,F=function(){W.ZP.success("\u590D\u5236\u6210\u529F")};return(0,m.jsx)("div",{className:nn(Ie.container,"flex","content-between","items-center"),children:(0,m.jsx)("div",{className:nn("flex",Ie["more-action"]),children:(0,m.jsx)(_.Z,{text:T||"",onCopy:F,children:"\u590D\u5236"})})})},Ye=We,tn=n(48305),rn=n.n(tn),ne=n(39373),e={"xagi-nav-style2":"xagi-nav-style2___A0cfb",text:"text___mQKpe","page-container":"page-container___clFMO",container:"container___bMNUQ","more-action":"more-action___PPoj0"},He=K().bind(e),Qe=function(ln){var he=ln.messageInfo,Ce=(0,H.useState)(""),T=rn()(Ce,2),F=T[0],sn=T[1],gn=(0,H.useRef)(null),kn=function(){W.ZP.success("\u590D\u5236\u6210\u529F")},Z=function(){sn((0,ne.BK)(he?.time))},U=function(){Z(),gn.current=setInterval(function(){Z()},6e4)};return(0,H.useEffect)(function(){return he!=null&&he.time&&U(),function(){gn.current!==null&&(clearInterval(gn.current),gn.current=null)}},[he?.time]),(0,m.jsxs)("div",{className:He(e.container,"flex","content-between","items-center"),children:[(0,m.jsx)("div",{className:He("flex",e["more-action"]),children:(0,m.jsx)(_.Z,{text:he?.text||"",onCopy:kn,children:"\u590D\u5236"})}),(0,m.jsx)("span",{children:F})]})},be=Qe,qe=n(30746),X={"xagi-nav-style2":"xagi-nav-style2___C6M16",text:"text___s3NJ6","page-container":"page-container___wYf4F",container:"container___zSEQO",avatar:"avatar___IfDvJ",author:"author___AmRDb","agent-title-bar":"agent-title-bar___Y8m62","attach-file-container":"attach-file-container___xvbrf",userContainer:"userContainer___sPaST","user-content":"user-content___M5R1a","chat-content":"chat-content___FWF0e","inner-container":"inner-container___rireg","think-content":"think-content___Qas0a","user-action-box":"user-action-box___T2sE4","copy-btn":"copy-btn___vb1lQ","copy-image":"copy-image___Hbxu3"},J=K().bind(X),ze=(0,H.memo)(function(_e){var ln,he=_e.className,Ce=_e.contentClassName,T=_e.roleInfo,F=_e.messageInfo,sn=_e.mode,gn=sn===void 0?"chat":sn,kn=(0,ee.useModel)("userInfo"),Z=kn.userInfo,U=(0,w.K)(),L=U.data,ot=L.antdTheme==="dark",_n=(0,V.Z)({answer:F?.text||"",thinking:F?.think||"",id:F?.id||""}),xt=_n.markdownRef,rt=_n.messageIdRef,Pn=Z||JSON.parse(localStorage.getItem(d.CD)),En=function(){var it=T.assistant,It=T.system;switch(F?.role){case y.hZ.USER:return{name:Pn?.nickName||Pn?.userName||"\u6E38\u5BA2",avatar:Pn?.avatar||v};case y.hZ.ASSISTANT:return{name:it.name,avatar:it.avatar||b};case y.hZ.SYSTEM:return{name:It.name,avatar:It.avatar||b}}}(),kt=function(){W.ZP.success("\u590D\u5236\u6210\u529F")},Nt=(0,H.useCallback)(function(it){return it.replace(/^\s+|\s+$/g,"")},[]),fn=(0,H.useMemo)(function(){return F?.role===y.hZ.USER},[F?.role]),In=u.Z.useToken(),Ln=In.token;return(0,m.jsx)("div",{className:J(X.container,"flex",he),children:(0,m.jsxs)("div",{className:J("flex-1","overflow-hide",p()({},X.userContainer,fn)),children:[!fn&&(0,m.jsxs)("div",{className:J(X["agent-title-bar"]),children:[(0,m.jsx)("img",{className:J(X.avatar),src:En?.avatar,alt:""}),(0,m.jsx)("div",{className:J(X.author),children:En?.name}),(0,m.jsx)(o.Z,{condition:!!(F!=null&&F.status),children:(0,m.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:12},children:(0,m.jsx)("div",{style:{flex:1},children:(0,m.jsx)(qe.Z,{messageInfo:F})})})})]}),!!(F!=null&&(ln=F.attachments)!==null&&ln!==void 0&&ln.length)&&(0,m.jsx)("div",{className:J(X["attach-file-container"]),children:(0,m.jsx)(O.Z,{files:F?.attachments})}),fn&&!!(F!=null&&F.text)&&(0,m.jsxs)("div",{className:J(X["user-content"]),children:[(0,m.jsx)("div",{className:J(X["chat-content"],X.user,"radius-6",Ce,"ds-markdown",{"ds-markdown-dark":ot}),children:(0,m.jsx)("div",{className:"ds-markdown-answer",children:(0,m.jsx)("div",{style:{whiteSpace:"pre-wrap"},className:"ds-markdown-paragraph ds-typed-answer",children:Nt(F?.text)})})}),(0,m.jsx)("div",{className:J(X["user-action-box"],"flex","items-center"),children:(0,m.jsx)(_.Z,{text:F.text||"",onCopy:kt,children:"\u590D\u5236"})})]}),(0,m.jsxs)(o.Z,{condition:F?.role!==y.hZ.USER,children:[(!!(F!=null&&F.think)||!!(F!=null&&F.text))&&(0,m.jsx)("div",{className:J(X["inner-container"],Ce),children:(0,m.jsx)("div",{className:J(X["chat-content"],"radius-6","w-full",p()({},X.typing,F.status===r.ge.Incomplete||F.status===r.ge.Loading)),children:(0,m.jsx)(c.ZP,{id:"".concat(rt.current),markdownRef:xt},"".concat(rt.current))})}),(0,m.jsx)(o.Z,{condition:F&&(F?.status===r.ge.Complete||!(F!=null&&F.status)),children:gn==="chat"?(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12,padding:"0 ".concat(Ln.paddingXS,"px")},children:[(0,m.jsx)("div",{style:{flex:1},children:(0,m.jsx)(Ye,{messageInfo:F})}),(0,m.jsx)($e,{messageInfo:F})]}):gn==="home"?(0,m.jsx)(be,{messageInfo:F}):null})]})]})})},function(_e,ln){return(0,E.isEqual)(_e.messageInfo,ln.messageInfo)}),je=ze},13943:function(Je,oe,n){n.d(oe,{Z:function(){return r}});var ue=n(48305),p=n.n(ue),b=n(38683),v=n(6844),O=n(94581),o=n.n(O),c=n(75271),_=n(20557),d={"xagi-nav-style2":"xagi-nav-style2___gADG8",text:"text___emLLn","page-container":"page-container___wxeCP",header:"header___t5fwB"},V=n(52676),w=o().bind(d),y=function(u){var M=u.className,K=u.items,E=u.defaultActiveKey,H=u.onChangeCollapse,ee=(0,c.useState)([]),Ne=p()(ee,2),pe=Ne[0],a=Ne[1];(0,c.useEffect)(function(){E?.length>0&&a(E)},[E]);var m=function(Ie){a(Ie),H?.(Ie)},xe=b.Z.useToken(),z=xe.token;return(0,V.jsx)(v.Z,{bordered:!1,expandIcon:function(Ie){var nn=Ie.isActive;return(0,V.jsx)(_.Z,{name:"icons-common-caret_right",rotate:nn?90:0,style:{color:z.colorTextTertiary}})},className:w(d.header,M),activeKey:pe,onChange:m,items:K})},r=y},82456:function(Je,oe,n){var ue=n(26068),p=n.n(ue),b=n(48305),v=n.n(b),O=n(22675),o=n(48279),c=n(94201),_=n(10560),d=n(80241),V=n(92122),w=n(26324),y=n(28190),r=n(41249),W=n(63619),u=n(75271),M=n(56179),K=n(52676),E=function(ee){var Ne=ee.spaceId,pe=ee.mode,a=pe===void 0?V.jA.Create:pe,m=ee.agentConfigInfo,xe=ee.open,z=ee.onCancel,$e=ee.onConfirmCreate,Ie=ee.onConfirmUpdate,nn=y.Z.useForm(),We=v()(nn,1),Ye=We[0],tn=(0,u.useState)(""),rn=v()(tn,2),ne=rn[0],e=rn[1],He=(0,u.useState)(!1),Qe=v()(He,2),be=Qe[0],qe=Qe[1],X=(0,M.useRequest)(d.YS,{manual:!0,debounceInterval:300,onSuccess:function(F){e(""),$e?.(F),r.ZP.success("\u667A\u80FD\u4F53\u5DF2\u521B\u5EFA"),qe(!1)},onError:function(){qe(!1)}}),J=X.run,ze=(0,M.useRequest)(d.mp,{manual:!0,debounceInterval:300,onSuccess:function(F,sn){r.ZP.success("\u667A\u80FD\u4F53\u7F16\u8F91\u6210\u529F"),qe(!1);var gn=sn[0];Ie?.(gn)},onError:function(){qe(!1)}}),je=ze.run,_e=function(){e(m?.icon),Ye.setFieldsValue({name:m?.name,description:m?.description})};(0,u.useEffect)(function(){xe&&_e()},[xe,m]);var ln=function(F){qe(!0),a===V.jA.Create?J(p()(p()({},F),{},{icon:ne,spaceId:Ne})):je(p()(p()({},F),{},{icon:ne,id:m?.id}))},he=function(){Ye.submit()},Ce=function(){z(),_e()};return(0,K.jsx)(o.Z,{form:Ye,title:a===V.jA.Create?"\u521B\u5EFA\u667A\u80FD\u4F53":"\u66F4\u65B0\u667A\u80FD\u4F53",open:xe,loading:be,onCancel:Ce,onConfirm:he,children:(0,K.jsxs)(y.Z,{form:Ye,requiredMark:w.N,layout:"vertical",onFinish:ln,autoComplete:"off",children:[(0,K.jsx)(y.Z.Item,{name:"name",label:"\u667A\u80FD\u4F53\u540D\u79F0",validateTrigger:"onBlur",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u667A\u80FD\u4F53\u540D\u79F0"},{validator:function(F,sn){return!sn||sn?.length<=50?Promise.resolve():sn?.length>50?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC750\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u667A\u80FD\u4F53\u540D\u79F0!"))}}],children:(0,K.jsx)(W.Z,{placeholder:"\u7ED9\u667A\u80FD\u4F53\u8D77\u4E00\u4E2A\u72EC\u4E00\u65E0\u4E8C\u7684\u540D\u5B57",showCount:!0,maxLength:50})}),(0,K.jsx)(c.Z,{name:"description",label:"\u667A\u80FD\u4F53\u529F\u80FD\u4ECB\u7ECD",initialValue:m?.description,placeholder:"\u4ECB\u7ECD\u667A\u80FD\u4F53\u7684\u529F\u80FD\uFF0C\u5C06\u4F1A\u5C55\u793A\u7ED9\u667A\u80FD\u4F53\u7684\u7528\u6237",maxLength:500}),(0,K.jsx)(y.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,K.jsx)(_.Z,{onUploadSuccess:e,imageUrl:ne,defaultImage:O})})]})})};oe.Z=E},28397:function(Je,oe,n){n.d(oe,{Z:function(){return r}});var ue=n(82092),p=n.n(ue),b=n(48305),v=n.n(b),O=n(63876),o=n(94581),c=n.n(o),_=n(75271),d={"popover-box":"popover-box___mgBRK","popover-list":"popover-list___pwk3J","p-box":"p-box___g7R0Z",del:"del___cyCsK"},V=n(52676),w=c().bind(d),y=function(u){var M=u.children,K=u.list,E=u.onClick,H=(0,_.useState)(!1),ee=v()(H,2),Ne=ee[0],pe=ee[1],a=function(z){pe(z)},m=function(z,$e){z.stopPropagation(),E($e),pe(!1)};return(0,V.jsx)(O.Z,{classNames:{root:d["popover-box"]},content:(0,V.jsx)("ul",{className:w(d["popover-list"]),children:K.map(function(xe,z){return(0,V.jsxs)("li",{className:w(d["p-box"],"hover-box","cursor-pointer","flex","items-center",p()({},d.del,xe.isDel)),onClick:function(Ie){return m(Ie,xe)},children:[xe.icon,xe.label]},z)})}),trigger:"hover",open:Ne,onOpenChange:a,placement:"bottomRight",arrow:!1,children:(0,V.jsx)("div",{onClick:function(z){return z.stopPropagation()},className:"flex",children:M})})},r=y},6377:function(Je,oe,n){n.d(oe,{Z:function(){return _}});var ue=n(94581),p=n.n(ue),b=n(75271),v={container:"container___dApW8",star:"star___pESlW"},O=n(52676),o=p().bind(v),c=function(V){var w=V.className,y=V.label;return(0,O.jsxs)("span",{className:o(v.container,"flex",w),children:[(0,O.jsx)("span",{children:y}),(0,O.jsx)("span",{className:o(v.star),children:"*"})]})},_=c},2349:function(Je,oe,n){n.d(oe,{Z:function(){return ee}});var ue=n(48305),p=n.n(ue),b=n(64799),v=n(26324),O=n(13143),o=n(28246),c=n(63619),_=n(51249),d=n(28190),V=n(9504),w=n(94581),y=n.n(w),r=n(75271),W=n(59261),u={"xagi-nav-style2":"xagi-nav-style2___y6MJu",text:"text___XcdJn","page-container":"page-container___aQb4E","variables-box":"variables-box___zOde3",header:"header____mIzl","down-icon":"down-icon___nE2JF","rotate-90":"rotate-90___n3jXV","conversation-container":"conversation-container___wfpdk","close-form":"close-form___uaNXu","form-box":"form-box___AloSZ",desc:"desc___XIVD5"},M=n(52676),K=y().bind(u),E=o.Z.SHOW_CHILD,H=function(pe){var a=pe.className,m=pe.form,xe=pe.isFilled,z=xe===void 0?!1:xe,$e=pe.disabled,Ie=$e===void 0?!1:$e,nn=pe.showSubmitButton,We=nn===void 0?!1:nn,Ye=pe.variables,tn=pe.onConfirm,rn=(0,r.useState)(!0),ne=p()(rn,2),e=ne[0],He=ne[1];if(!(Ye!=null&&Ye.length))return null;var Qe=function(J){He(!1),tn?.(J)},be=e?u["conversation-container"]:z?u["close-form"]:null,qe=function(J){var ze,je=J.inputType,_e=J.description,ln=[b.oI.Select,b.oI.MultipleSelect].includes(je),he;switch(je){case b.oI.Text:he=(0,M.jsx)(c.Z,{variant:"filled",placeholder:_e||"\u8BF7\u8F93\u5165",allowClear:!0});break;case b.oI.Paragraph:case b.oI.AutoRecognition:he=(0,M.jsx)(c.Z.TextArea,{variant:"filled",placeholder:_e||"\u8BF7\u8F93\u5165",allowClear:!0});break;case b.oI.Number:he=(0,M.jsx)(_.Z,{variant:"filled",className:"w-full",placeholder:_e||"\u8BF7\u8F93\u5165"});break;case b.oI.Select:case b.oI.MultipleSelect:he=(0,M.jsx)(o.Z,{variant:"filled",expandTrigger:"hover",multiple:je===b.oI.MultipleSelect,maxTagCount:"responsive",showCheckedStrategy:E,placeholder:_e||"\u8BF7\u9009\u62E9",options:((ze=J.selectConfig)===null||ze===void 0?void 0:ze.options)||[],allowClear:!0});break;default:he=(0,M.jsx)(c.Z,{placeholder:_e||"\u8BF7\u8F93\u5165",allowClear:!0})}return{isSelect:ln,content:he}};return(0,M.jsxs)("div",{className:K(u["variables-box"],"flex","flex-col",a),children:[(0,M.jsxs)("header",{className:K(u.header,"flex","items-center","content-between"),children:[(0,M.jsx)("span",{children:"\u5BF9\u8BDD\u8BBE\u7F6E"}),(0,M.jsx)(W.Z,{condition:z,children:(0,M.jsx)("span",{className:K(u.text,"cursor-pointer"),onClick:function(){return He(!e)},children:(0,M.jsx)(O.Z,{className:K(e?"":u["rotate-90"],u["down-icon"])})})})]}),(0,M.jsxs)("div",{className:K(be),children:[(0,M.jsxs)(d.Z,{form:m,rootClassName:u["form-box"],disabled:Ie,preserve:!1,layout:"vertical",onFinish:Qe,requiredMark:v.N,autoComplete:"off",children:[Ye?.map(function(X){var J=X.name,ze=X.displayName,je=X.require,_e=X.key,ln=qe(X),he=ln.isSelect,Ce=ln.content;return(0,M.jsx)(d.Z.Item,{name:J,label:ze,rules:[{required:je,message:"\u8BF7".concat(he?"\u9009\u62E9":"\u8F93\u5165").concat(ze)}],children:Ce},_e)}),(0,M.jsx)(W.Z,{condition:We,children:(0,M.jsx)(d.Z.Item,{children:(0,M.jsx)(V.ZP,{type:"primary",htmlType:"submit",block:!0,children:"\u5F00\u59CB\u5BF9\u8BDD"})})})]}),(0,M.jsx)(W.Z,{condition:Ie,children:(0,M.jsx)("p",{className:K(u.desc),children:"\u5BF9\u8BDD\u5F00\u59CB\u540E\uFF0C\u5BF9\u8BDD\u8BBE\u7F6E\u5C06\u65E0\u6CD5\u4FEE\u6539\u3002"})})]})]})},ee=H},84283:function(Je,oe,n){n.d(oe,{Z:function(){return d}});var ue=n(24573),p=n(94581),b=n.n(p),v=n(75271),O={"xagi-nav-style2":"xagi-nav-style2___a6A0C",text:"text___ijFbn","page-container":"page-container___AmrXf",container:"container___eQEDc",box:"box___qQPTu"},o=n(52676),c=b().bind(O),_=function(w){var y=w.className,r=w.itemClassName,W=w.loading,u=w.chatSuggestList,M=w.onClick;return W?(0,o.jsx)("div",{className:c("flex",O["loading-box"]),children:(0,o.jsx)(ue.Z,{})}):u?.length>0?(0,o.jsx)("div",{className:c(O.container,"flex","flex-col",y),children:u?.map(function(K,E){return K?(0,o.jsx)("div",{onClick:function(){return M(K)},className:c(O.box,"px-16","cursor-pointer","hover-box",r,"text-ellipsis-2"),children:K},E):null})}):null},d=_},6772:function(Je,oe,n){n.d(oe,{Z:function(){return tn}});var ue=n(26068),p=n.n(ue),b=n(92122),v=n(75271),O=n(59261),o=n(94581),c=n.n(o),_={"xagi-nav-style2":"xagi-nav-style2___bmZZd",text:"text___TlJTJ","page-container":"page-container___MtdBj",container:"container___bLyIn"},d=n(52676),V=c().bind(_),w=function(ne){var e=ne.className,He=ne.title,Qe=ne.content,be=ne.image,qe=ne.onClick;return(0,d.jsxs)("div",{className:V(_.container,"flex","flex-col","cursor-pointer",e),onClick:qe,children:[(0,d.jsx)("h3",{className:"text-ellipsis-2",children:He}),(0,d.jsx)(O.Z,{condition:be,children:(0,d.jsx)("img",{className:"radius-6",src:be,alt:""})}),(0,d.jsx)("p",{className:"text-ellipsis-2",children:Qe})]})},y=w,r={"xagi-nav-style2":"xagi-nav-style2___LLKTW",text:"text___Vlepy","page-container":"page-container___T748_",container:"container___uoSDc",box:"box___on4p2"},W=c().bind(r),u=function(ne){var e=ne.className,He=ne.title,Qe=ne.content,be=ne.image,qe=ne.onClick;return(0,d.jsxs)("div",{className:W(r.container,"flex","cursor-pointer","items-center",e),onClick:qe,children:[(0,d.jsx)(O.Z,{condition:be,children:(0,d.jsx)("img",{className:"radius-6",src:be,alt:""})}),(0,d.jsxs)("div",{className:W(r.box,"flex-1","overflow-hide"),children:[(0,d.jsx)("h3",{className:"text-ellipsis",children:He}),(0,d.jsx)("p",{className:"text-ellipsis-2",children:Qe})]})]})},M=u,K={"xagi-nav-style2":"xagi-nav-style2___UTXUD",text:"text___ImNss","page-container":"page-container___cWd2B",container:"container___ujWA4"},E=c().bind(K),H=function(ne){var e=ne.className,He=ne.title,Qe=ne.content,be=ne.onClick;return(0,d.jsxs)("div",{className:E(K.container,"cursor-pointer",e),onClick:be,children:[(0,d.jsx)("h3",{className:"text-ellipsis-2",children:He}),(0,d.jsx)("p",{className:"text-ellipsis-2",children:Qe})]})},ee=H,Ne={"xagi-nav-style2":"xagi-nav-style2___tYLnj",text:"text___GGppT","page-container":"page-container___fZGCQ",container:"container___mGrAV"},pe=c().bind(Ne),a=function(ne){var e=ne.className,He=ne.title,Qe=ne.content,be=ne.image,qe=ne.onClick;return(0,d.jsxs)("div",{className:pe(Ne.container,"flex","flex-col","cursor-pointer",e),onClick:qe,children:[(0,d.jsx)("h3",{className:"text-ellipsis-2",children:He}),(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("p",{className:"flex-1 text-ellipsis-2",children:Qe}),(0,d.jsx)(O.Z,{condition:be,children:(0,d.jsx)("img",{className:"radius-6",src:be,alt:""})})]})]})},m=a,xe=function(ne){var e=ne.cardKey,He=ne.bindLinkUrl,Qe=function(){He&&window.open(He)};switch(e){case b.H1.ONE:return(0,d.jsx)(M,p()(p()({},ne),{},{onClick:Qe}));case b.H1.TWO:return(0,d.jsx)(m,p()(p()({},ne),{},{onClick:Qe}));case b.H1.THREE:return(0,d.jsx)(ee,p()(p()({},ne),{},{onClick:Qe}));case b.H1.FOUR:return(0,d.jsx)(y,p()(p()({},ne),{},{onClick:Qe}))}},z=xe,$e=n(89083),Ie=n(70183),nn={"inner-container":"inner-container____n5mL","card-item-container":"card-item-container___rBOVp","card-style-two":"card-style-two___mNZ7T"},We=c().bind(nn),Ye=function(ne){var e=ne.className,He=ne.visible,Qe=ne.onClose,be=ne.cardList,qe=function(J){return console.log(be?.length===1&&J.cardKey===b.H1.TWO,8888),be?.length===1&&J.cardKey===b.H1.TWO};return(0,d.jsx)($e.Z,{title:"\u5C55\u793A\u53F0",className:e,visible:He,onClose:Qe,children:be?.length>0?(0,d.jsx)("div",{className:We(nn["inner-container"],"scrollbar"),children:(0,d.jsx)("div",{className:We(nn["card-item-container"]),children:be?.map(function(X,J){return(0,d.jsx)(z,p()(p()({},X),{},{className:qe(X)?nn["card-style-two"]:""}),"".concat(X.cardKey).concat(J))})})}):(0,d.jsx)("div",{className:We("flex","h-full","items-center","content-center"),children:(0,d.jsx)(Ie.Z,{description:"\u6682\u65E0\u6570\u636E"})})})},tn=Ye},1704:function(Je,oe,n){n.d(oe,{Z:function(){return M}});var ue=n(82092),p=n.n(ue),b=n(48305),v=n.n(b),O=n(20557),o=n(13143),c=n(38683),_=n(58176),d=n(94581),V=n.n(d),w=n(75271),y={"xagi-nav-style2":"xagi-nav-style2___DS4mS",text:"text___ZbgQv","page-container":"page-container___GsDXA","action-menu":"action-menu___Obx7p","action-item":"action-item___Evhbh","action-icon":"action-icon___lGtp7","action-text":"action-text___ajPuX","more-button":"more-button___K6F_v","more-arrow":"more-arrow____38KE",disabled:"disabled___RfwUM","more-menu":"more-menu___TITP2","more-menu-item":"more-menu-item___DPVdX","more-menu-icon":"more-menu-icon___Pt8OJ"},r=n(52676),W=V().bind(y),u=function(E){var H=E.actions,ee=E.visibleCount,Ne=ee===void 0?3:ee,pe=E.moreText,a=pe===void 0?"\u66F4\u591A":pe,m=E.moreIcon,xe=m===void 0?"icons-more":m,z=E.showArrow,$e=z===void 0?!0:z,Ie=E.className,nn=E.gap,We=E.disabled,Ye=We===void 0?!1:We,tn=c.Z.useToken(),rn=tn.token,ne=(0,w.useMemo)(function(){return rn.fontSizeLG},[rn.fontSizeLG]),e=(0,w.useMemo)(function(){return nn||rn.marginXS},[nn,rn.marginXS]),He=(0,w.useState)([]),Qe=v()(He,2),be=Qe[0],qe=Qe[1],X=(0,w.useState)([]),J=v()(X,2),ze=J[0],je=J[1];w.useEffect(function(){var Ce=H.slice(0,Ne),T=H.slice(Ne);qe(Ce),je(T)},[H,Ne]);var _e=function(T,F){return(0,r.jsxs)("div",{className:W(y["action-item"],T.className,p()({},y.disabled,T.disabled||Ye)),style:{marginLeft:F===0?0:e},onClick:function(){!T.disabled&&!Ye&&T.onClick()},onKeyDown:function(gn){gn.key==="Enter"&&!T.disabled&&!Ye&&T.onClick()},tabIndex:0,role:"button","aria-label":T.title,children:[(0,r.jsx)(O.Z,{name:T.icon,className:y["action-icon"],style:{fontSize:ne}}),(0,r.jsx)("span",{className:y["action-text"],children:T.title})]},T.key)},ln=ze.map(function(Ce){return{key:Ce.key,label:(0,r.jsxs)("div",{className:y["more-menu-item"],children:[(0,r.jsx)(O.Z,{name:Ce.icon,className:y["more-menu-icon"],style:{fontSize:ne}}),(0,r.jsx)("span",{children:Ce.title})]}),onClick:function(){!Ce.disabled&&!Ye&&Ce.onClick()},disabled:Ce.disabled||Ye}}),he=[];return ze.forEach(function(Ce,T){Ce.divider&&T>0&&he.push({type:"divider"}),he.push({key:Ce.key,label:(0,r.jsxs)("div",{className:y["more-menu-item"],children:[(0,r.jsx)(O.Z,{name:Ce.icon,className:y["more-menu-icon"]}),(0,r.jsx)("span",{children:Ce.title})]}),onClick:function(){!Ce.disabled&&!Ye&&Ce.onClick()},disabled:Ce.disabled||Ye})}),(0,r.jsxs)("div",{className:W(y["action-menu"],Ie),children:[be.map(function(Ce,T){return _e(Ce,T)}),ze.length>0&&(0,r.jsx)(_.Z,{overlayClassName:y["more-menu"],menu:{items:he.length>0?he:ln},trigger:["click"],placement:"bottomRight",children:(0,r.jsxs)("div",{className:W(y["action-item"],y["more-button"]),tabIndex:0,role:"button","aria-label":a,onKeyDown:function(T){return T.key==="Enter"&&T.currentTarget.click()},style:{marginLeft:e},children:[(0,r.jsx)(O.Z,{name:xe,className:y["action-icon"],style:{fontSize:ne}}),(0,r.jsx)("span",{className:y["action-text"],children:a}),$e&&(0,r.jsx)(o.Z,{className:y["more-arrow"]})]})})]})},M=u},68043:function(Je,oe,n){n.d(oe,{Z:function(){return y}});var ue=n(82092),p=n.n(ue),b=n(64799),v=n(94581),O=n.n(v),o=n(15556),c={"xagi-nav-style2":"xagi-nav-style2___Pib1l",text:"text___wBHUi","page-container":"page-container___ODSBg",container:"container___YU89G",agent:"agent___DBFRI",plugin:"plugin___BIplk",workflow:"workflow___K19ao",knowledge:"knowledge___HF4D5",table:"table___FYQhd",model:"model___ycHqp"},_=n(52676),d=O().bind(c),V=p()(p()(p()(p()(p()(p()({},b.qR.Agent,{icon:(0,_.jsx)(o.rQ,{}),title:"\u667A\u80FD\u4F53",styleClassName:c.agent}),b.qR.Plugin,{icon:(0,_.jsx)(o.P1,{}),title:"\u63D2\u4EF6",styleClassName:c.plugin}),b.qR.Workflow,{icon:(0,_.jsx)(o.xp,{}),title:"\u5DE5\u4F5C\u6D41",styleClassName:c.workflow}),b.qR.Knowledge,{icon:(0,_.jsx)(o.r7,{}),title:"\u77E5\u8BC6\u5E93",styleClassName:c.knowledge}),b.qR.Table,{icon:(0,_.jsx)(o.iJ,{}),title:"\u6570\u636E\u8868",styleClassName:c.table}),b.qR.Model,{icon:(0,_.jsx)(o.ky,{}),title:"\u6A21\u578B",styleClassName:c.model}),w=function(W){var u=W.type,M=W.className,K=V[u],E=K.icon,H=K.title,ee=K.styleClassName;return(0,_.jsxs)("div",{className:d("flex items-center",c.container,ee,M),children:[E,(0,_.jsx)("span",{children:H})]})},y=w},73679:function(Je,oe,n){n.d(oe,{Z:function(){return d}});var ue=n(78987),p=n(94581),b=n.n(p),v={"xagi-nav-style2":"xagi-nav-style2___mINlw",text:"text___zHTE3","page-container":"page-container___XuSwz",container:"container___XIGSv",name:"name___DB027",avatar:"avatar___fRLuU"},O=n(52676),o=b().bind(v),c=function(w){w.currentTarget.onerror=null,w.currentTarget.src=ue},_=function(w){var y=w.avatar,r=w.name;return(0,O.jsxs)("div",{className:o("flex","items-center","overflow-hide",v.container),children:[(0,O.jsx)("img",{className:o(v.avatar),src:y,alt:"",onError:c}),(0,O.jsx)("span",{className:o("text-ellipsis",v.name),children:r})]})},d=_},97327:function(Je,oe,n){n.d(oe,{Z:function(){return w}});var ue=n(82092),p=n.n(ue),b=n(69626),v=n(94581),O=n.n(v),o={"xagi-nav-style2":"xagi-nav-style2___clHvW",text:"text___Szlrc","page-container":"page-container___bz7WB",container:"container___jmfLQ",npx:"npx___IzxbC",uvx:"uvx___KQpNf",sse:"sse___fkzjy",component:"component___LqH02"},c=n(52676),_=O().bind(o),d=p()(p()(p()(p()({},b.l_.NPX,{title:"npx",styleClassName:o.npx}),b.l_.UVX,{title:"uvx",styleClassName:o.uvx}),b.l_.SSE,{title:"sse",styleClassName:o.sse}),b.l_.COMPONENT,{title:"\u7EC4\u4EF6\u5E93",styleClassName:o.component}),V=function(r){var W=r.installType,u=d[W],M=u.title,K=u.styleClassName;return(0,c.jsx)("span",{className:_("flex items-center",o.container,K),children:M})},w=V},22024:function(Je,oe,n){n.d(oe,{Z:function(){return kn}});var ue=n(82092),p=n.n(ue),b=n(69626),v=n(94581),O=n.n(v),o=n(75271),c=Object.defineProperty,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,w=(Z,U,L)=>U in Z?c(Z,U,{enumerable:!0,configurable:!0,writable:!0,value:L}):Z[U]=L,y=(Z,U)=>{for(var L in U||(U={}))d.call(U,L)&&w(Z,L,U[L]);if(_)for(var L of _(U))V.call(U,L)&&w(Z,L,U[L]);return Z};const r=Z=>o.createElement("svg",y({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z),o.createElement("g",{clipPath:"url(#icon_deploy_failed_svg__a)"},o.createElement("path",{d:"M10.5 6a4.5 4.5 0 1 0-9 0 4.5 4.5 0 0 0 9 0ZM7.146 4.146a.5.5 0 1 1 .708.708L6.707 6l1.147 1.146.034.039a.5.5 0 0 1-.703.703l-.039-.034L6 6.707 4.854 7.854a.5.5 0 1 1-.708-.708L5.293 6 4.146 4.854l-.034-.039a.5.5 0 0 1 .703-.703l.039.034L6 5.293l1.146-1.147ZM11.5 6a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z",fill:"#F93920"})),o.createElement("defs",null,o.createElement("clipPath",{id:"icon_deploy_failed_svg__a"},o.createElement("path",{fill:"#fff",d:"M0 0h12v12H0z"}))));var W="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNMTAuNSA2YTQuNSA0LjUgMCAxIDAtOSAwIDQuNSA0LjUgMCAwIDAgOSAwWk03LjE0NiA0LjE0NmEuNS41IDAgMSAxIC43MDguNzA4TDYuNzA3IDZsMS4xNDcgMS4xNDYuMDM0LjAzOWEuNS41IDAgMCAxLS43MDMuNzAzbC0uMDM5LS4wMzRMNiA2LjcwNyA0Ljg1NCA3Ljg1NGEuNS41IDAgMSAxLS43MDgtLjcwOEw1LjI5MyA2IDQuMTQ2IDQuODU0bC0uMDM0LS4wMzlhLjUuNSAwIDAgMSAuNzAzLS43MDNsLjAzOS4wMzRMNiA1LjI5M2wxLjE0Ni0xLjE0N1pNMTEuNSA2YTUuNSA1LjUgMCAxIDEtMTEgMCA1LjUgNS41IDAgMCAxIDExIDBaIiBmaWxsPSIjRjkzOTIwIi8+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgxMnYxMkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==",u=Object.defineProperty,M=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,H=(Z,U,L)=>U in Z?u(Z,U,{enumerable:!0,configurable:!0,writable:!0,value:L}):Z[U]=L,ee=(Z,U)=>{for(var L in U||(U={}))K.call(U,L)&&H(Z,L,U[L]);if(M)for(var L of M(U))E.call(U,L)&&H(Z,L,U[L]);return Z};const Ne=Z=>o.createElement("svg",ee({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z),o.createElement("g",{clipPath:"url(#icon_deployed_svg__a)"},o.createElement("path",{d:"M4.788.633a5.5 5.5 0 0 1 3.246.255l.204.086.046.023a.5.5 0 0 1-.405.91l-.048-.02-.167-.07A4.5 4.5 0 1 0 10.5 6v-.46a.5.5 0 0 1 1 0V6l-.005.222A5.5 5.5 0 1 1 4.788.633Zm5.858 1.014a.5.5 0 1 1 .707.707l-5 5.005a.5.5 0 0 1-.707 0l-1.5-1.5-.034-.038a.5.5 0 0 1 .741-.669L6 6.298l4.647-4.65Z",fill:"#3BB346"})),o.createElement("defs",null,o.createElement("clipPath",{id:"icon_deployed_svg__a"},o.createElement("path",{fill:"#fff",d:"M0 0h12v12H0z"}))));var pe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNNC43ODguNjMzYTUuNSA1LjUgMCAwIDEgMy4yNDYuMjU1bC4yMDQuMDg2LjA0Ni4wMjNhLjUuNSAwIDAgMS0uNDA1LjkxbC0uMDQ4LS4wMi0uMTY3LS4wN0E0LjUgNC41IDAgMSAwIDEwLjUgNnYtLjQ2YS41LjUgMCAwIDEgMSAwVjZsLS4wMDUuMjIyQTUuNSA1LjUgMCAxIDEgNC43ODguNjMzWm01Ljg1OCAxLjAxNGEuNS41IDAgMSAxIC43MDcuNzA3bC01IDUuMDA1YS41LjUgMCAwIDEtLjcwNyAwbC0xLjUtMS41LS4wMzQtLjAzOGEuNS41IDAgMCAxIC43NDEtLjY2OUw2IDYuMjk4bDQuNjQ3LTQuNjVaIiBmaWxsPSIjM0JCMzQ2Ii8+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgxMnYxMkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==",a=Object.defineProperty,m=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,$e=(Z,U,L)=>U in Z?a(Z,U,{enumerable:!0,configurable:!0,writable:!0,value:L}):Z[U]=L,Ie=(Z,U)=>{for(var L in U||(U={}))xe.call(U,L)&&$e(Z,L,U[L]);if(m)for(var L of m(U))z.call(U,L)&&$e(Z,L,U[L]);return Z};const nn=Z=>o.createElement("svg",Ie({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z),o.createElement("g",{clipPath:"url(#icon_deploying_svg__a)"},o.createElement("path",{d:"M7.333 14.666v-2.667a.667.667 0 0 1 1.334 0v2.667a.667.667 0 1 1-1.334 0Zm-2.631-4.311a.667.667 0 0 1 .942.942l-1.886 1.887a.667.667 0 0 1-.943-.942l1.887-1.887Zm5.653 0c.26-.26.683-.26.943 0l1.887 1.886a.667.667 0 0 1-.943.943l-1.887-1.886a.667.667 0 0 1 0-.943ZM4 7.333a.667.667 0 0 1 0 1.333H1.333a.667.667 0 0 1 0-1.333H4Zm10.667 0a.667.667 0 1 1 0 1.333H12a.667.667 0 1 1 0-1.333h2.667ZM2.815 2.814c.26-.26.682-.26.943 0l1.886 1.887a.667.667 0 1 1-.942.943L2.815 3.757a.667.667 0 0 1 0-.943Zm9.427 0a.667.667 0 0 1 .943.943l-1.887 1.887a.667.667 0 1 1-.943-.943l1.887-1.887ZM7.333 4V1.333a.667.667 0 0 1 1.334 0v2.666a.667.667 0 0 1-1.334 0Z",fill:"#0077FA"})),o.createElement("defs",null,o.createElement("clipPath",{id:"icon_deploying_svg__a"},o.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"}))));var We="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNNy4zMzMgMTQuNjY2di0yLjY2N2EuNjY3LjY2NyAwIDAgMSAxLjMzNCAwdjIuNjY3YS42NjcuNjY3IDAgMSAxLTEuMzM0IDBabS0yLjYzMS00LjMxMWEuNjY3LjY2NyAwIDAgMSAuOTQyLjk0MmwtMS44ODYgMS44ODdhLjY2Ny42NjcgMCAwIDEtLjk0My0uOTQybDEuODg3LTEuODg3Wm01LjY1MyAwYy4yNi0uMjYuNjgzLS4yNi45NDMgMGwxLjg4NyAxLjg4NmEuNjY3LjY2NyAwIDAgMS0uOTQzLjk0M2wtMS44ODctMS44ODZhLjY2Ny42NjcgMCAwIDEgMC0uOTQzWk00IDcuMzMzYS42NjcuNjY3IDAgMCAxIDAgMS4zMzNIMS4zMzNhLjY2Ny42NjcgMCAwIDEgMC0xLjMzM0g0Wm0xMC42NjcgMGEuNjY3LjY2NyAwIDEgMSAwIDEuMzMzSDEyYS42NjcuNjY3IDAgMSAxIDAtMS4zMzNoMi42NjdaTTIuODE1IDIuODE0Yy4yNi0uMjYuNjgyLS4yNi45NDMgMGwxLjg4NiAxLjg4N2EuNjY3LjY2NyAwIDEgMS0uOTQyLjk0M0wyLjgxNSAzLjc1N2EuNjY3LjY2NyAwIDAgMSAwLS45NDNabTkuNDI3IDBhLjY2Ny42NjcgMCAwIDEgLjk0My45NDNsLTEuODg3IDEuODg3YS42NjcuNjY3IDAgMSAxLS45NDMtLjk0M2wxLjg4Ny0xLjg4N1pNNy4zMzMgNFYxLjMzM2EuNjY3LjY2NyAwIDAgMSAxLjMzNCAwdjIuNjY2YS42NjcuNjY3IDAgMCAxLTEuMzM0IDBaIiBmaWxsPSIjMDA3N0ZBIi8+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgxNnYxNkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==",Ye=Object.defineProperty,tn=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,e=(Z,U,L)=>U in Z?Ye(Z,U,{enumerable:!0,configurable:!0,writable:!0,value:L}):Z[U]=L,He=(Z,U)=>{for(var L in U||(U={}))rn.call(U,L)&&e(Z,L,U[L]);if(tn)for(var L of tn(U))ne.call(U,L)&&e(Z,L,U[L]);return Z};const Qe=Z=>o.createElement("svg",He({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z),o.createElement("g",{clipPath:"url(#icon_initialization_svg__a)"},o.createElement("path",{d:"M10.5 6a4.5 4.5 0 1 0-9 0 4.5 4.5 0 0 0 9 0Zm-5-3a.5.5 0 0 1 1 0v2.69l1.724.863.044.025a.5.5 0 0 1-.445.89l-.047-.02-2-1A.5.5 0 0 1 5.5 6V3Zm6 3a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z",fill:"#FC8800"})),o.createElement("defs",null,o.createElement("clipPath",{id:"icon_initialization_svg__a"},o.createElement("path",{fill:"#fff",d:"M0 0h12v12H0z"}))));var be="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNMTAuNSA2YTQuNSA0LjUgMCAxIDAtOSAwIDQuNSA0LjUgMCAwIDAgOSAwWm0tNS0zYS41LjUgMCAwIDEgMSAwdjIuNjlsMS43MjQuODYzLjA0NC4wMjVhLjUuNSAwIDAgMS0uNDQ1Ljg5bC0uMDQ3LS4wMi0yLTFBLjUuNSAwIDAgMSA1LjUgNlYzWm02IDNhNS41IDUuNSAwIDEgMS0xMSAwIDUuNSA1LjUgMCAwIDEgMTEgMFoiIGZpbGw9IiNGQzg4MDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDEydjEySDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+",qe=Object.defineProperty,X=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,je=(Z,U,L)=>U in Z?qe(Z,U,{enumerable:!0,configurable:!0,writable:!0,value:L}):Z[U]=L,_e=(Z,U)=>{for(var L in U||(U={}))J.call(U,L)&&je(Z,L,U[L]);if(X)for(var L of X(U))ze.call(U,L)&&je(Z,L,U[L]);return Z};const ln=Z=>o.createElement("svg",_e({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z),o.createElement("g",{clipPath:"url(#icon_stopped_svg__a)"},o.createElement("path",{d:"M10.5 6a4.5 4.5 0 1 0-9 0 4.5 4.5 0 0 0 9 0ZM7.146 4.146a.5.5 0 1 1 .708.708L6.707 6l1.147 1.146.034.039a.5.5 0 0 1-.703.703l-.039-.034L6 6.707 4.854 7.854a.5.5 0 1 1-.708-.708L5.293 6 4.146 4.854l-.034-.039a.5.5 0 0 1 .703-.703l.039.034L6 5.293l1.146-1.147ZM11.5 6a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z",fill:"#FAC800"})),o.createElement("defs",null,o.createElement("clipPath",{id:"icon_stopped_svg__a"},o.createElement("path",{fill:"#fff",d:"M0 0h12v12H0z"}))));var he="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNMTAuNSA2YTQuNSA0LjUgMCAxIDAtOSAwIDQuNSA0LjUgMCAwIDAgOSAwWk03LjE0NiA0LjE0NmEuNS41IDAgMSAxIC43MDguNzA4TDYuNzA3IDZsMS4xNDcgMS4xNDYuMDM0LjAzOWEuNS41IDAgMCAxLS43MDMuNzAzbC0uMDM5LS4wMzRMNiA2LjcwNyA0Ljg1NCA3Ljg1NGEuNS41IDAgMSAxLS43MDgtLjcwOEw1LjI5MyA2IDQuMTQ2IDQuODU0bC0uMDM0LS4wMzlhLjUuNSAwIDAgMSAuNzAzLS43MDNsLjAzOS4wMzRMNiA1LjI5M2wxLjE0Ni0xLjE0N1pNMTEuNSA2YTUuNSA1LjUgMCAxIDEtMTEgMCA1LjUgNS41IDAgMCAxIDExIDBaIiBmaWxsPSIjRkFDODAwIi8+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgxMnYxMkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==",Ce={"xagi-nav-style2":"xagi-nav-style2___QgdpF",text:"text___aSTIh","page-container":"page-container___IgaPp",container:"container___sqO9q",title:"title___IL9ca"},T=n(52676),F=O().bind(Ce),sn=p()(p()(p()(p()(p()({},b.QX.Initialization,{icon:(0,T.jsx)(Qe,{}),title:"\u5F85\u90E8\u7F72"}),b.QX.Deploying,{icon:(0,T.jsx)(nn,{}),title:"\u90E8\u7F72\u4E2D"}),b.QX.Deployed,{icon:(0,T.jsx)(Ne,{}),title:"\u5DF2\u90E8\u7F72"}),b.QX.DeployFailed,{icon:(0,T.jsx)(r,{}),title:"\u90E8\u7F72\u5931\u8D25"}),b.QX.Stopped,{icon:(0,T.jsx)(ln,{}),title:"\u5DF2\u505C\u6B62"}),gn=function(U){var L=U.status,ot=sn[L],_n=ot.icon,xt=ot.title;return(0,T.jsxs)("div",{className:F("flex items-center",Ce.container),children:[_n,(0,T.jsx)("span",{className:F(Ce.title),children:xt})]})},kn=gn},17030:function(Je,oe,n){n.d(oe,{Z:function(){return r}});var ue=n(82092),p=n.n(ue),b=n(28397),v=n(32347),O=n(69219),o=n(94581),c=n.n(o),_=n(75271),d={"xagi-nav-style2":"xagi-nav-style2___civ_x",text:"text___p_v3a","page-container":"page-container___vlBSV",row:"row___bpOZx",first:"first___ZYfB7",menuItem:"menuItem___bljRr",name:"name___rQWrF","has-icon":"has-icon___G5w5m",active:"active___jJ2TV",collectIcon:"collectIcon___tFpnl",title:"title___S0nQ0","icon-image":"icon-image___zgalf"},V=n(52676),w=c().bind(d),y=function(u){var M=u.icon,K=u.name,E=u.isActive,H=E===void 0?!1:E,ee=u.isFirst,Ne=ee===void 0?!1:ee,pe=u.onClick,a=u.onCancelCollect,m=u.className,xe=u.style,z=(0,_.useMemo)(function(){return!!M},[M]);return(0,V.jsxs)("div",{className:w("flex","items-center",d.row,d.menuItem,p()(p()(p()({},d.active,H),d.first,Ne),d["has-icon"],z),m),style:xe,onClick:pe,children:[(0,V.jsx)("span",{className:w(d["icon-box"],"flex","items-center","content-center"),children:typeof M=="string"?(0,V.jsx)("img",{className:w(d["icon-image"]),src:M,alt:K}):M}),(0,V.jsx)(O.Z.Text,{className:w("flex-1",d.name),ellipsis:!0,children:K}),a&&(0,V.jsx)(b.Z,{list:[{label:"\u53D6\u6D88\u6536\u85CF"}],onClick:a,children:(0,V.jsx)(v.Z,{className:w(d.collectIcon)})})]})},r=y},65218:function(Je,oe,n){n.d(oe,{Z:function(){return K}});var ue=n(82092),p=n.n(ue),b=n(69219),v=n(94581),O=n.n(v),o=n(75271),c=n(20557),_={"xagi-nav-style2":"xagi-nav-style2___cCttj",text:"text___atgD1","page-container":"page-container___AXwgZ",row:"row___CM7lM",name:"name___gbNhd",first:"first___v5Vs3",mainItem:"mainItem___Px7Q0",active:"active___IEaPj","icon-dropdown":"icon-dropdown___eFFkD",collectIcon:"collectIcon___rFGpN",title:"title___eDObB","icon-image":"icon-image___Y_g0F",open:"open___Iii0j",secondMenuSubItem:"secondMenuSubItem___WBkyG"},d=n(17030),V=n(52676),w=O().bind(_),y=function(H){var ee=H.icon,Ne=H.name,pe=H.isActive,a=pe===void 0?!1:pe,m=H.isFirst,xe=m===void 0?!1:m,z=H.onClick;return(0,V.jsx)(d.Z,{icon:ee,name:Ne,className:w(_.secondMenuSubItem),isActive:a,isFirst:xe,onClick:z})},r=y,W=O().bind(_),u=function(H){var ee=H.icon,Ne=H.name,pe=H.isActive,a=pe===void 0?!1:pe,m=H.isFirst,xe=m===void 0?!1:m,z=H.isDown,$e=H.isOpen,Ie=$e===void 0?!1:$e,nn=H.onClick;return(0,V.jsxs)("div",{className:W("flex","items-center",_.row,_.mainItem,p()(p()(p()({},_.active,a),_.first,xe),_.open,Ie)),onClick:nn,children:[(0,V.jsx)("span",{className:W(_["icon-box"],"flex","items-center","content-center"),children:typeof ee=="string"?(0,V.jsx)("img",{className:W(_["icon-image"]),src:ee,alt:Ne}):ee}),(0,V.jsx)(b.Z.Text,{className:W("flex-1",_.name),children:Ne}),z?(0,V.jsx)(c.Z,{name:"icons-common-caret_down",className:W(_["icon-dropdown"])}):null]})},M=u;M.SubItem=r;var K=M},11033:function(Je,oe,n){n.d(oe,{le:function(){return pe.Z}});var ue=n(1704),p=n(68043),b=n(73679),v=n(13278),O=n(15470),o=n(82092),c=n.n(o),_=n(46),d=n(94581),V=n.n(d),w={"xagi-nav-style2":"xagi-nav-style2___snxh3",text:"text___kJftb","page-container":"page-container___Ka2zC",container:"container___aOMXP"},y=n(52676),r=V().bind(w),W=c()(c()(c()(c()(c()({},_.yB.DRAFT,{title:"\u8349\u7A3F"}),_.yB.REVIEWING,{title:"\u5BA1\u6838\u4E2D"}),_.yB.PUBLISHED,{title:"\u5DF2\u53D1\u5E03"}),_.yB.OFFLINE,{title:"\u5DF2\u4E0B\u7EBF"}),_.yB.REJECTED,{title:"\u5DF2\u9A73\u56DE"}),u=function(m){var xe=m.status,z=W[xe].title;return _jsx("div",{className:r(styles.container),children:z})},M=null,K=n(56394),E=n(97327),H=n(22024),ee=n(17030),Ne=n(65218),pe=n(20557)},50644:function(Je,oe,n){n.d(oe,{H:function(){return _}});var ue=n(48305),p=n.n(ue),b=n(68108),v=n(94581),O=n.n(v),o=n(75271),c=n(52676),_=function(V){var w=V.className,y=V.text,r=V.onClick,W=V.placement,u=W===void 0?"top":W,M=(0,o.useRef)(null),K=(0,o.useState)(!1),E=p()(K,2),H=E[0],ee=E[1];return(0,o.useEffect)(function(){var Ne=function(){if(M.current){var m=M.current,xe=m.scrollWidth>m.clientWidth;ee(xe)}},pe=requestAnimationFrame(Ne);return function(){cancelAnimationFrame(pe)}},[y]),(0,c.jsx)("div",{className:O()("text-ellipsis",w),ref:M,onClick:r,children:(0,c.jsx)(b.Z,{title:H?y:"",placement:u,children:y})})}},96534:function(Je,oe,n){n.d(oe,{Ew:function(){return M},Op:function(){return V},Ri:function(){return d},UX:function(){return r},Y5:function(){return w},ZR:function(){return Ne},a1:function(){return H},dS:function(){return u},ko:function(){return y},nX:function(){return ee},p_:function(){return K}});var ue=n(82092),p=n.n(ue),b=n(6619),v=n(64799),O=n(49528),o=n(45019),c=n(44689),_=n(52676),d=[{value:v.Qr.AUTO,label:"\u81EA\u52A8\u8C03\u7528"},{value:v.Qr.ON_DEMAND,label:"\u6309\u9700\u8C03\u7528"},{value:v.Qr.MANUAL,label:"\u624B\u52A8\u9009\u62E9"},{value:v.Qr.MANUAL_ON_DEMAND,label:"\u624B\u52A8\u9009\u62E9+\u6309\u9700\u8C03\u7528"}],V=[{value:v.Km.No,label:"\u5426"},{value:v.Km.Yes,label:"\u662F"}],w=[{value:v.E8.No,label:"\u5426"},{value:v.E8.Yes,label:"\u662F"}],y=[{value:v.kD.MIXED,label:(0,_.jsxs)("span",{className:"flex items-center",children:[(0,_.jsx)("span",{children:"\u6DF7\u5408"}),(0,_.jsx)(b.Z,{title:"\u7ED3\u5408\u5168\u6587\u68C0\u7D22\u4E0E\u8BED\u4E49\u68C0\u7D22\u7684\u4F18\u52BF,\u5E76\u5BF9\u7ED3\u679C\u8FDB\u884C\u7EFC\u5408\u6392\u5E8F",icon:(0,_.jsx)(c.Z,{})})]})},{value:v.kD.SEMANTIC,label:(0,_.jsxs)("span",{className:"flex items-center",children:[(0,_.jsx)("span",{children:"\u8BED\u4E49"}),(0,_.jsx)(b.Z,{title:"\u57FA\u4E8E\u5411\u91CF\u7684\u6587\u672C\u76F8\u5173\u6027\u67E5\u8BE2,\u63A8\u8350\u5728\u9700\u8981\u7406\u89E3\u8BED\u4E49\u5173\u8054\u5EA6\u548C\u8DE8\u8BED\u8A00\u67E5\u8BE2\u7684\u573A\u666F\u4F7F\u7528\u3002",icon:(0,_.jsx)(c.Z,{})})]})},{value:v.kD.FULL_TEXT,label:(0,_.jsxs)("span",{className:"flex items-center",children:[(0,_.jsx)("span",{children:"\u5168\u6587"}),(0,_.jsx)(b.Z,{title:"\u4F9D\u8D56\u4E8E\u5173\u952E\u8BCD\u7684\u5168\u6587\u641C\u7D22,\u63A8\u8350\u5728\u641C\u7D22\u5177\u6709\u7279\u5B9A\u540D\u79F0\u3001\u7F29\u5199\u8BCD\u3001\u77ED\u8BED\u6216ID\u7684\u573A\u666F\u4F7F\u7528\u3002",icon:(0,_.jsx)(c.Z,{})})]})}],r=[{value:v.E3.DEFAULT,label:"\u9ED8\u8BA4"},{value:v.E3.CUSTOM,label:"\u81EA\u5B9A\u4E49"}],W=[{value:v.c0.TIME,label:"\u5B9A\u65F6\u89E6\u53D1",img:""},{value:v.c0.EVENT,label:"\u4E8B\u4EF6\u89E6\u53D1",img:""}],u=[{value:o.tJ.SINGLE,label:"\u5355\u5F20\u5361\u7247"},{value:o.tJ.LIST,label:"\u7AD6\u5411\u5217\u8868"}],M=[{label:"\u7CBE\u786E\u6A21\u5F0F",value:O.jD.Precision},{label:"\u5E73\u8861\u6A21\u5F0F",value:O.jD.Balanced},{label:"\u521B\u610F\u6A21\u5F0F",value:O.jD.Creative},{label:"\u81EA\u5B9A\u4E49",value:O.jD.Customization}],K=p()(p()(p()({},O.jD.Precision,{temperature:.1,topP:.7}),O.jD.Balanced,{temperature:1,topP:.7}),O.jD.Creative,{temperature:1,topP:.8}),E=[{value:o.HD.Tenant,label:"\u5168\u5C40"},{value:o.HD.Space,label:"\u5DE5\u4F5C\u7A7A\u95F4"}],H=[{value:v.oI.Text,label:"\u5355\u884C\u6587\u672C"},{value:v.oI.Paragraph,label:"\u6BB5\u843D"},{value:v.oI.Number,label:"\u6570\u5B57"},{value:v.oI.Select,label:"\u5355\u9009"},{value:v.oI.MultipleSelect,label:"\u591A\u9009"},{value:v.oI.AutoRecognition,label:"\u667A\u80FD\u8BC6\u522B"}],ee={options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[]}]}]},Ne=400},71530:function(Je,oe,n){n.d(oe,{Z:function(){return p}});var ue=function(b){return b.NewNotifyMessage="new_notify_message",b.RefreshChatMessage="refresh_chat_message",b}({}),p={NewNotifyMessage:ue.NewNotifyMessage,RefreshChatMessage:ue.RefreshChatMessage}},75468:function(Je,oe,n){var ue=n(90228),p=n.n(ue),b=n(87999),v=n.n(b),O=n(80241),o=n(29333),c=n(56179),_=function(){var V=(0,o.Z)(O.co,{manual:!0,debounceMaxWait:300}),w=V.runAsync,y=function(){var r=v()(p()().mark(function W(u,M){var K,E,H,ee,Ne;return p()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return K=M?.variableParams,a.next=3,w({agentId:u,devMode:!1,variables:K});case 3:E=a.sent,H=E.success,ee=E.data,H&&(Ne=ee?.id,c.history.push("/home/chat/".concat(Ne,"/").concat(u),M));case 7:case"end":return a.stop()}},W)}));return function(u,M){return r.apply(this,arguments)}}();return{handleCreateConversation:y,runAsyncConversationCreate:w}};oe.Z=_},88458:function(Je,oe,n){var ue=n(15558),p=n.n(ue),b=n(48305),v=n.n(b),O=n(64799),o=n(75271),c=function(){var d=(0,o.useState)([]),V=v()(d,2),w=V[0],y=V[1],r=function(M){var K=p()(w);if(K.some(function(H){return H.id===M.id})){var E=K.findIndex(function(H){return H.id===M.id});K.splice(E,1)}else K.push({id:M.id,type:M.type});y(K)},W=function(M){if(M!=null&&M.length){var K=M.filter(function(E){return E.defaultSelected===O.Km.Yes}).map(function(E){return{id:E.id,type:E.type}});y(K||[])}};return{selectedComponentList:w,setSelectedComponentList:y,handleSelectComponent:r,initSelectedComponentList:W}};oe.Z=c},27689:function(Je,oe,n){n.d(oe,{K:function(){return w}});var ue=n(90228),p=n.n(ue),b=n(87999),v=n.n(b),O=n(48305),o=n.n(O),c=n(92068),_=n(14334),d=n(75271),V=n(56179),w=function(){var r=(0,d.useState)(c.unifiedThemeService.getCurrentData()),W=o()(r,2),u=W[0],M=W[1],K=(0,d.useState)(!1),E=o()(K,2),H=E[0],ee=E[1],Ne=(0,V.useModel)("tenantConfigInfo"),pe=Ne.tenantConfigInfo;(0,d.useEffect)(function(){var X=function(ze){M(ze),ee(!1)};return c.unifiedThemeService.addListener(X),function(){c.unifiedThemeService.removeListener(X)}},[]);var a=(0,d.useCallback)(function(X){return v()(p()().mark(function J(){var ze=arguments;return p()().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return ee(!0),_e.prev=1,_e.next=4,X.apply(void 0,ze);case 4:_e.next=11;break;case 6:throw _e.prev=6,_e.t0=_e.catch(1),console.error("\u4E3B\u9898\u66F4\u65B0\u5931\u8D25:",_e.t0),ee(!1),_e.t0;case 11:case"end":return _e.stop()}},J,null,[[1,6]])}))},[]),m=a(c.unifiedThemeService.updatePrimaryColor.bind(c.unifiedThemeService)),xe=a(c.unifiedThemeService.updateAntdTheme.bind(c.unifiedThemeService)),z=a(c.unifiedThemeService.updateNavigationStyle.bind(c.unifiedThemeService)),$e=a(c.unifiedThemeService.updateLayoutStyle.bind(c.unifiedThemeService)),Ie=a(c.unifiedThemeService.updateBackground.bind(c.unifiedThemeService)),nn=a(c.unifiedThemeService.updateLanguage.bind(c.unifiedThemeService)),We=(0,d.useCallback)(v()(p()().mark(function X(){var J;return p()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return J=u.antdTheme==="light"?"dark":"light",je.next=3,xe(J);case 3:case"end":return je.stop()}},X)})),[u.antdTheme,xe]),Ye=(0,d.useCallback)(v()(p()().mark(function X(){var J;return p()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return J=u.layoutStyle===_.B.DARK?_.B.LIGHT:_.B.DARK,je.next=3,$e(J);case 3:case"end":return je.stop()}},X)})),[u.layoutStyle,$e]),tn=(0,d.useCallback)(v()(p()().mark(function X(){var J;return p()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return J=u.navigationStyle===_.F.STYLE1?_.F.STYLE2:_.F.STYLE1,je.next=3,z(J);case 3:case"end":return je.stop()}},X)})),[u.navigationStyle,z]),rn=(0,d.useCallback)(v()(p()().mark(function X(){var J;return p()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return J=u.language==="zh-CN"?"en-US":"zh-CN",je.next=3,nn(J);case 3:case"end":return je.stop()}},X)})),[u.language,nn]),ne=a(c.unifiedThemeService.resetToDefault.bind(c.unifiedThemeService)),e=u.antdTheme==="dark",He=u.layoutStyle===_.B.DARK,Qe=u.navigationStyle===_.F.STYLE2,be=u.language==="zh-CN",qe=(0,d.useMemo)(function(){return c.unifiedThemeService.getExtraColors()},[pe]);return{data:u,isLoading:H,updatePrimaryColor:m,updateAntdTheme:xe,updateNavigationStyle:z,updateLayoutStyle:$e,updateBackground:Ie,updateLanguage:nn,toggleAntdTheme:We,toggleNavigationTheme:Ye,toggleNavigationStyle:tn,toggleLanguage:rn,resetToDefault:ne,primaryColor:u.primaryColor,antdTheme:u.antdTheme,navigationStyle:u.navigationStyle,layoutStyle:u.layoutStyle,backgroundId:u.backgroundId,language:u.language,isDarkMode:e,isNavigationDark:He,isNavigationExpanded:Qe,isChineseLanguage:be,extraColors:qe}};oe.Z=w},76058:function(Je,oe,n){n.r(oe),n.d(oe,{default:function(){return ur}});var ue=n(82092),p=n.n(ue),b=n(26068),v=n.n(b),O=n(48305),o=n.n(O),c=n(82456),_=n(56716),d=n(6772),V=n(27791),w=n(27689),y=n(80241),r=n(64799),W=n(92122),u=n(53895),M=n(39373),K=n(94581),E=n.n(K),H=n(16483),ee=n.n(H),Ne=n(32222),pe=n.n(Ne),a=n(75271),m=n(56179),xe=n(90228),z=n.n(xe),$e=n(15558),Ie=n.n($e),nn=n(87999),We=n.n(nn),Ye=n(68670),tn=n(6619),rn=n(39671),ne={container:"container___BIda5",box:"box___HxIHi"},e=n(52676),He=E().bind(ne),Qe=function(i){var s=i.textClassName,t=i.list,g=i.onClick,l=(0,a.useState)([]),I=o()(l,2),f=I[0],j=I[1];return(0,a.useEffect)(function(){var A=t?.filter(function(S){return!S.systemVariable})||[];j(A)},[t]),(0,e.jsx)(e.Fragment,{children:f?.length>0?(0,e.jsx)("div",{className:He("flex","items-center",ne.container),children:f?.map(function(A){return(0,e.jsx)("span",{className:He(ne.box,"radius-6","hover-box","cursor-pointer"),onClick:g,children:A.name},A.key)})}):(0,e.jsx)("p",{className:He(s),children:"\u7528\u4E8E\u4FDD\u5B58\u7528\u6237\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u8BA9\u667A\u80FD\u4F53\u8BB0\u4F4F\u7528\u6237\u7684\u7279\u5F81\uFF0C\u4F7F\u56DE\u590D\u66F4\u52A0\u4E2A\u6027\u5316\u3002"})})},be=Qe,qe=n(13943),X=n(29333),J=n(41249),ze=n(7914),je={"xagi-nav-style2":"xagi-nav-style2___D_5gS",text:"text___lu863","page-container":"page-container___6T91q",container:"container___n4vwB",title:"title___jfALi"},_e=E().bind(je),ln=function(i){var s=i.children,t=i.title;return(0,e.jsxs)("div",{className:_e(je.container,"flex","content-between","items-center"),children:[(0,e.jsx)("p",{className:_e(je.title),children:t}),s]})},he=ln,Ce=n(6377),T=n(96534),F=n(84411),sn=n(89858),gn=n(86743),kn=n(16621),Z=n(43183),U=n(75994),L=n(71691),ot=n(78434),_n=n(9504),xt=n(7010),rt=n(14719),Pn=n(10580),En=n(92448),kt=n(48279),Nt=n(26324),fn=n(28190),In=n(63619),Ln=n(51430),it=n(47548),It=n(43898),oa=a.createContext({}),Da=function(){var i=(0,a.useContext)(oa),s=i.setActivatorNodeRef,t=i.listeners;return(0,e.jsx)(_n.ZP,v()({type:"text",size:"small",icon:(0,e.jsx)(F.Z,{}),style:{cursor:"move"},ref:s},t))},ya=function(i){var s=i.id,t=i.value,g=i.onChange,l=i.onDelete,I=(0,L.nB)({id:s}),f=I.attributes,j=I.listeners,A=I.setNodeRef,S=I.setActivatorNodeRef,P=I.transform,G=I.transition,h=I.isDragging,N={transform:ot.ux.Translate.toString(P),transition:G,zIndex:h?10:1,opacity:h?.8:1,paddingRight:"10px"},x=(0,a.useMemo)(function(){return{setActivatorNodeRef:S,listeners:j,attributes:f}},[S,j,f]);return(0,e.jsx)(oa.Provider,{value:x,children:(0,e.jsx)("div",{ref:A,style:N,className:"flex items-center gap-10",children:(0,e.jsx)(In.Z,{onChange:g,defaultValue:t,prefix:(0,e.jsx)(Da,{}),suffix:(0,e.jsx)(gn.Z,{onClick:l})})})})},Na=ya,Ct={"xagi-nav-style2":"xagi-nav-style2___Vw_lu",text:"text___DpIqc","page-container":"page-container___BZYHH","modal-body-container":"modal-body-container___iqS7z","radio-group":"radio-group___uJ5NF",tab:"tab___iCYZL","add-item-btn":"add-item-btn___ok9vO"},bt=n(26145),Vt=n(83352),Kt=n(13143),Xn={"xagi-nav-style2":"xagi-nav-style2___Fb04i",text:"text___gZ17y","page-container":"page-container___bO5a2","bind-box":"bind-box___RRQok","component-image":"component-image___tjc0T","example-box":"example-box___m9xlQ","e-header":"e-header___lPvLG",icon:"icon___RW1tv","icon-rotate":"icon-rotate___zDrWT","rotate-box":"rotate-box___BOAGL"},Jn=E().bind(Xn),Ia=function(i){var s=i.selectConfig,t=i.targetComponentInfo,g=i.onClick,l=a.useState(!0),I=o()(l,2),f=I[0],j=I[1],A=s||{},S=A.targetType,P=A.targetName,G=A.targetIcon,h=[t?.targetType,S].includes(r.qR.Plugin)?bt:Vt;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:Jn(Xn["bind-box"],"mb-16"),children:!t&&!P?(0,e.jsx)("div",{className:Jn("flex","items-center","content-center","h-full","cursor-pointer"),onClick:g,children:"\u8BF7\u9009\u62E9\u7B26\u5408\u6570\u636E\u89C4\u8303\u7684\u63D2\u4EF6\u6216\u5DE5\u4F5C\u6D41"}):(0,e.jsxs)("div",{className:Jn("flex","items-center","h-full","cursor-pointer","px-16","gap-10"),onClick:g,children:[(0,e.jsx)("img",{className:Jn(Xn["component-image"],"radius-6"),src:t?.icon||G||h,alt:""}),(0,e.jsx)("span",{children:t?.name||P})]})}),(0,e.jsxs)("div",{className:Jn(Xn["example-box"]),children:[(0,e.jsxs)("div",{className:Jn("flex","items-center","content-between","cursor-pointer",Xn["e-header"]),onClick:function(){return j(!f)},children:[(0,e.jsx)("span",{children:"\u63D2\u4EF6\u6216\u5DE5\u4F5C\u6D41\u8FD4\u56DE\u6570\u636E\u7ED3\u6784\u4EE5\u53CA\u793A\u4F8B"}),(0,e.jsx)(Kt.Z,{className:Jn(Xn.icon,p()({},Xn["icon-rotate"],!f))})]}),(0,e.jsxs)("div",{className:Jn(p()({},Xn["rotate-box"],f)),children:[(0,e.jsx)("p",{children:"//options \u9009\u9879\u5217\u8868\uFF1B"}),(0,e.jsx)("p",{children:"//value\uFF1A\u9009\u9879\u503C\uFF1Blabel\u9009\u9879\u540D\u79F0\uFF1Bchildren\u4E0B\u7EA7\u9009\u9879"}),(0,e.jsx)("pre",{children:(0,e.jsx)("code",{children:JSON.stringify(T.nX,null,2)})})]})]})]})},ba=Ia,dt=E().bind(Ct),Ma=function(i){var s=i.mode,t=s===void 0?W.jA.Create:s,g=i.currentVariable,l=i.id,I=i.targetId,f=i.inputData,j=i.open,A=i.onCancel,S=i.onConfirm,P=fn.Z.useForm(),G=o()(P,1),h=G[0],N=(0,a.useState)(r.oI.Text),x=o()(N,2),Q=x[0],D=x[1],C=(0,a.useState)(r.z1.MANUAL),$=o()(C,2),R=$[0],re=$[1],k=(0,a.useState)([{id:(0,En.Z)(),value:"",label:""},{id:(0,En.Z)(),value:"",label:""}]),we=o()(k,2),ve=we[0],Ue=we[1],Xe=(0,a.useState)(""),an=o()(Xe,2),Fe=an[0],de=an[1],en=(0,a.useState)(!1),un=o()(en,2),Ee=un[0],Y=un[1],Se=(0,a.useState)([]),ke=o()(Se,2),on=ke[0],Ve=ke[1],me=(0,a.useState)(null),le=o()(me,2),B=le[0],Be=le[1],Te=(0,a.useRef)([]),Ze=(0,a.useState)(!1),fe=o()(Ze,2),ie=fe[0],Ae=fe[1];(0,a.useEffect)(function(){if(j){if(Be(null),t===W.jA.Create)D(r.oI.Text),h.setFieldValue("inputType",r.oI.Text),Ve([]),re(r.z1.MANUAL),Ue([{id:(0,En.Z)(),value:"",label:""},{id:(0,En.Z)(),value:"",label:""}]),de("");else if(t===W.jA.Update&&g){var se=g.name,te=g.displayName,Re=g.require,Ge=g.inputType,hn=g.description,Pe=g.selectConfig,mn=g.bindValue;if(D(Ge),re(Pe?.dataSourceType),Pe?.dataSourceType===r.z1.BINDING)Ve([{type:Pe?.targetType,targetId:Pe?.targetId,status:r.BQ.Added}]),Ue([{id:(0,En.Z)(),value:"",label:""},{id:(0,En.Z)(),value:"",label:""}]);else{var Fn;if(Ve([]),Pe&&(Pe==null||(Fn=Pe.options)===null||Fn===void 0?void 0:Fn.length)>0){var wn;Ue((Pe==null||(wn=Pe.options)===null||wn===void 0?void 0:wn.map(function(ta){return v()(v()({},ta),{},{id:(0,En.Z)()})}))||[])}}de(mn||""),h.setFieldsValue({name:se,displayName:te,require:Re,inputType:Ge,description:hn})}}},[j,t,g]);var Me=(0,Z.Dy)((0,Z.VT)(Z.we),(0,Z.VT)(Z.Lg,{coordinateGetter:L.is})),q=function(te){var Re=te.active,Ge=te.over;Ge&&Re.id!==Ge.id&&Ue(function(hn){var Pe=hn.findIndex(function(Fn){return Fn.id===Re.id}),mn=hn.findIndex(function(Fn){return Fn.id===Ge.id});return(0,L.Rp)(hn,Pe,mn)})},Oe=function(te){Ue(function(Re){return Re.filter(function(Ge){return Ge.id!==te})})},cn=function(){Ue(function(te){return[].concat(Ie()(te),[{id:(0,En.Z)(),value:"",label:""}])})},dn=function(te,Re){var Ge=te.target.value;Ue(function(hn){var Pe=Ie()(hn),mn=Pe.findIndex(function(Fn){return Fn.id===Re});return mn!==-1&&(Pe[mn].value=Ge,Pe[mn].label=Ge),Pe})},xn=function(te){var Re=te.targetId,Ge=te.targetType;Be(te),Ve([{type:Ge,targetId:Re,status:r.BQ.Added}])},Cn=[{key:r.z1.MANUAL,label:"\u624B\u52A8\u521B\u5EFA",children:(0,e.jsxs)("div",{className:dt("flex","flex-col","gap-10"),children:[(0,e.jsx)(Z.LB,{modifiers:[U.DL],sensors:Me,collisionDetection:Z.pE,onDragEnd:q,children:(0,e.jsx)(L.Fo,{items:ve.map(function(se){return se.id}),strategy:L.qw,children:ve?.map(function(se){var te=se.id,Re=se.value;return(0,e.jsx)(Na,{id:te,value:Re,onChange:function(hn){return dn(hn,te)},onDelete:function(){return Oe(te)}},te)})})}),(0,e.jsxs)("div",{className:dt(Ct["add-item-btn"]),onClick:cn,children:[(0,e.jsx)(kn.Z,{}),"\u6DFB\u52A0\u9009\u9879"]})]})},{key:r.z1.BINDING,label:"\u6570\u636E\u7ED1\u5B9A",children:(0,e.jsx)(ba,{selectConfig:g?.selectConfig,targetComponentInfo:B,onClick:function(){return Y(!0)}})}],vn=(0,m.useRequest)(y.D$,{manual:!0,debounceInterval:300,onSuccess:function(){Ae(!1),J.ZP.success("\u53D8\u91CF\u66F4\u65B0\u6210\u529F"),S(Te.current)},onError:function(){Ae(!1)}}),ut=vn.run,De=function(te){var Re=null,Ge=Fe;if([r.oI.Select,r.oI.MultipleSelect].includes(Q)){if(R===r.z1.MANUAL){if(ve!=null&&ve.length){if(ve!=null&&ve.some(function(wn){return!wn.value})){J.ZP.error("\u8BF7\u586B\u5199\u9009\u9879\u503C");return}}else{J.ZP.error("\u8BF7\u6DFB\u52A0\u9009\u9879");return}Re={dataSourceType:R,targetType:null,targetId:null,targetName:null,targetIcon:null,targetDescription:null,options:ve}}else{var hn;if(!B&&!(g!=null&&(hn=g.selectConfig)!==null&&hn!==void 0&&hn.targetId)){J.ZP.error("\u8BF7\u9009\u62E9\u7ED1\u5B9A\u7EC4\u4EF6");return}Re=B?{dataSourceType:R,targetType:B?.targetType,targetId:B?.targetId,targetName:B?.name,targetIcon:B?.icon,targetDescription:B?.description,options:[]}:g?.selectConfig}Ge=""}var Pe=v()(v()({},te),{},{bindValue:Ge,systemVariable:!1,selectConfig:Re}),mn;t===W.jA.Update&&g?mn=f.map(function(wn){return wn.key===g.key?v()(v()({},wn),Pe):wn}):mn=[].concat(Ie()(f),[v()(v()({},Pe),{},{key:(0,En.Z)()})]),Te.current=mn;var Fn={id:l,targetId:I,bindConfig:{variables:mn}};Ae(!0),ut(Fn)},ge=function(){h.submit()};return(0,e.jsxs)(kt.Z,{form:h,open:j,loading:ie,classNames:{body:dt(Ct["modal-body-container"])},title:"\u7F16\u8F91\u6216\u6DFB\u52A0\u53D8\u91CF",onCancel:A,onConfirm:ge,children:[(0,e.jsxs)(fn.Z,{form:h,preserve:!1,layout:"vertical",requiredMark:Nt.N,onFinish:De,autoComplete:"off",children:[(0,e.jsx)(fn.Z.Item,{name:"name",label:"\u5B57\u6BB5\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u540D\u79F0"}],children:(0,e.jsx)(In.Z,{placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u540D\u79F0\uFF0C\u7B26\u5408\u5B57\u6BB5\u547D\u540D\u89C4\u5212",showCount:!0,maxLength:30})}),(0,e.jsx)(fn.Z.Item,{name:"displayName",label:"\u5C55\u793A\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5C55\u793A\u540D\u79F0"}],children:(0,e.jsx)(In.Z,{placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u5C55\u793A\u540D\u79F0\uFF0C\u4F9B\u524D\u7AEF\u5C55\u793A\u4F7F\u7528",showCount:!0,maxLength:30})}),(0,e.jsx)(fn.Z.Item,{name:"description",label:"\u63CF\u8FF0",children:(0,e.jsx)(In.Z.TextArea,{className:"dispose-textarea-count",placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u63CF\u8FF0",showCount:!0,maxLength:200,autoSize:{minRows:3,maxRows:5}})}),(0,e.jsx)(fn.Z.Item,{name:"inputType",label:"\u8F93\u5165\u65B9\u5F0F",children:(0,e.jsx)(Ln.ZP.Group,{className:dt(Ct["radio-group"]),options:T.a1,value:Q,onChange:function(te){return D(te.target.value)}})}),[r.oI.Select,r.oI.MultipleSelect].includes(Q)?(0,e.jsx)(it.Z,{rootClassName:dt(Ct.tab),activeKey:R,onChange:function(te){return re(te)},items:Cn}):(0,e.jsx)(fn.Z.Item,{className:dt("mb-16"),label:"\u9ED8\u8BA4\u503C",children:(0,e.jsx)(In.Z.TextArea,{value:Fe,onChange:function(te){return de(te.target.value)},placeholder:"\u8BF7\u8F93\u5165\u9ED8\u8BA4\u503C",autoSize:{minRows:3,maxRows:5}})}),(0,e.jsx)(fn.Z.Item,{name:"require",valuePropName:"checked",children:(0,e.jsx)(It.Z,{children:"\u5FC5\u586B"})})]}),(0,e.jsx)(Ye.Z,{open:Ee,onCancel:function(){return Y(!1)},checkTag:r.qR.Plugin,addComponents:on,onAdded:xn,hideTop:[r.qR.Knowledge,r.qR.Table,r.qR.MCP]})]})},Fa=Ma,ra={"table-container":"table-container___TK9dV"},Rn=E().bind(ra),ia=a.createContext({}),Ba=function(){var i=(0,a.useContext)(ia),s=i.setActivatorNodeRef,t=i.listeners;return(0,e.jsx)(_n.ZP,v()({type:"text",size:"small",icon:(0,e.jsx)(F.Z,{}),style:{cursor:"move"},ref:s},t))},Ta=function(i){var s=(0,L.nB)({id:i["data-row-key"]}),t=s.attributes,g=s.listeners,l=s.setNodeRef,I=s.setActivatorNodeRef,f=s.transform,j=s.transition,A=s.isDragging,S=v()(v()(v()({},i.style),A?{position:"relative"}:{}),{},{transform:ot.ux.Translate.toString(f),transition:j,zIndex:A?10:1,opacity:A?.8:1,paddingRight:"10px"}),P=(0,a.useMemo)(function(){return{setActivatorNodeRef:I,listeners:g}},[I,g]);return(0,e.jsx)(ia.Provider,{value:P,children:(0,e.jsx)("tr",v()(v()({},i),{},{ref:l,style:S},t))})},Pa=function(i){var s=i.open,t=i.variablesInfo,g=i.onCancel,l=i.onConfirm,I=(0,a.useState)([]),f=o()(I,2),j=f[0],A=f[1],S=(0,a.useState)(W.jA.Create),P=o()(S,2),G=P[0],h=P[1],N=(0,a.useState)(),x=o()(N,2),Q=x[0],D=x[1],C=(0,a.useState)(!1),$=o()(C,2),R=$[0],re=$[1],k=(0,a.useRef)(!1),we=(0,a.useRef)(null),ve=(0,a.useRef)([]),Ue=(0,a.useRef)(r.tE.Delete);(0,a.useEffect)(function(){var me,le=(t==null||(me=t.bindConfig)===null||me===void 0?void 0:me.variables)||[];if(le?.length>0){var B=le.map(function(Be){return v()(v()({},Be),{},{key:(0,En.Z)()})});A(B)}},[t]);var Xe=function(le){re(!0),h(W.jA.Update),D(le)},an=function(){re(!0),h(W.jA.Create),D(null)},Fe=(0,m.useRequest)(y.D$,{manual:!0,debounceInterval:300,onSuccess:function(){Ue.current===r.tE.Delete?J.ZP.success("\u5220\u9664\u6210\u529F"):J.ZP.success("\u66F4\u65B0\u6210\u529F"),k.current=!0,A(ve.current)}}),de=Fe.run,en=function(le){var B={id:t?.id,targetId:t?.targetId,bindConfig:{variables:le}};de(B)},un=function(le){var B=j.filter(function(Be){return Be.key!==le});ve.current=B,Ue.current=r.tE.Delete,en(B)},Ee=[{dataIndex:"sort",key:"sort",align:"center",width:40,fixed:"left",render:function(le,B){return!B.systemVariable&&(0,e.jsx)("span",{className:Rn("flex","items-center","h-full"),children:(0,e.jsx)(Ba,{})})}},{title:(0,e.jsx)(Ce.Z,{label:"\u540D\u79F0"}),dataIndex:"name",key:"name",width:180,fixed:"left",render:function(le){return(0,e.jsx)("div",{className:Rn("flex","items-center","h-full"),children:(0,e.jsx)("span",{className:Rn("text-ellipsis"),children:le||"--"})})}},{title:"\u63CF\u8FF0",dataIndex:"description",key:"description",ellipsis:!0,width:180,render:function(le){return(0,e.jsx)("span",{className:Rn("flex","items-center","h-full"),children:le||"--"})}},{title:"\u7C7B\u578B",dataIndex:"systemVariable",key:"systemVariable",width:100,ellipsis:!0,render:function(le){return(0,e.jsx)("span",{className:Rn("flex","items-center","h-full"),children:le?"\u7CFB\u7EDF\u53D8\u91CF":"\u81EA\u5B9A\u4E49\u53D8\u91CF"})}},{title:"\u8F93\u5165\u65B9\u5F0F",dataIndex:"inputType",key:"inputType",width:100,render:function(le){var B;return(0,e.jsx)("span",{className:Rn("flex","items-center","h-full"),children:((B=T.a1.find(function(Be){return Be.value===le}))===null||B===void 0?void 0:B.label)||"--"})}},{title:"\u662F\u5426\u5FC5\u987B",dataIndex:"require",key:"require",width:100,align:"center",render:function(le){return(0,e.jsx)("span",{className:Rn("flex","items-center","content-center","h-full"),children:le?"\u662F":"\u5426"})}},{title:"",dataIndex:"action",width:100,fixed:"right",render:function(le,B){return(0,e.jsx)(e.Fragment,{children:B!=null&&B.systemVariable?(0,e.jsx)("span",{children:"--"}):(0,e.jsxs)(xt.Z,{className:Rn("flex","content-between","items-center"),children:[(0,e.jsx)(_n.ZP,{type:"text",icon:(0,e.jsx)(sn.Z,{className:Rn("cursor-pointer"),onClick:function(){return Xe(B)}})}),(0,e.jsx)(_n.ZP,{type:"text",icon:(0,e.jsx)(gn.Z,{className:Rn("cursor-pointer"),onClick:function(){return un(B.key)}})})]})})}}],Y=function(){var le,B;(le=we.current)===null||le===void 0||le.scrollTo({top:(B=we.current)===null||B===void 0?void 0:B.scrollHeight,behavior:"smooth"})};(0,a.useEffect)(function(){s&&Y()},[s]);var Se=function(le){re(!1),A(le),k.current=!0},ke=function(){re(!1),k.current?l():g()},on=function(le){var B=le.active,Be=le.over;if(Be&&B.id!==Be.id){Ue.current=r.tE.Drag;var Te=j.findIndex(function(ie){return ie.key===B?.id}),Ze=j.findIndex(function(ie){return ie.key===Be?.id}),fe=(0,L.Rp)(j,Te,Ze);ve.current=fe,A(fe),en(fe)}},Ve=(0,Z.Dy)((0,Z.VT)(Z.we),(0,Z.VT)(Z.Lg,{coordinateGetter:L.is}));return(0,e.jsxs)(rt.Z,{width:870,title:"\u53D8\u91CF",open:s,footer:null,onCancel:ke,children:[(0,e.jsx)(Z.LB,{modifiers:[U.DL],sensors:Ve,collisionDetection:Z.pE,onDragEnd:on,children:(0,e.jsx)(L.Fo,{items:j.map(function(me){return me.key}),strategy:L.qw,children:(0,e.jsx)(Pn.Z,{ref:we,rowKey:"key",components:{body:{row:Ta}},className:Rn(ra["table-container"]),columns:Ee,dataSource:j,pagination:!1,scroll:{y:j?.length>=10?560:void 0},footer:function(){return(0,e.jsx)(_n.ZP,{icon:(0,e.jsx)(kn.Z,{}),onClick:an,children:"\u65B0\u589E"})}})})}),(0,e.jsx)(Fa,{id:t?.id,targetId:t?.targetId,mode:G,currentVariable:Q,inputData:j,open:R,onCancel:function(){return re(!1)},onConfirm:Se})]})},La=Pa,Zn={"xagi-nav-style2":"xagi-nav-style2___wTLiv",text:"text___Prt2n","page-container":"page-container____Frz9",container:"container___Nt4W2",select:"select___GzVHt"},la=n(92973),zn=n(59261),$n=n(45019),Gn={"xagi-nav-style2":"xagi-nav-style2___mMXYN",text:"text___QMrw8","page-container":"page-container___OILW5",container:"container___CqnIK","extra-box":"extra-box___y8u7O","gap-6":"gap-6___L0Qqc","img-box":"img-box___DFhgw","content-box":"content-box___YPipV",name:"name___MaQ7a",desc:"desc___POp__"},qn=E().bind(Gn),Ra=function(i){var s=i.className,t=i.showImage,g=t===void 0?!0:t,l=i.agentComponentInfo,I=i.defaultImage,f=i.extra,j=(0,a.useMemo)(function(){var S=l.targetId,P=l.type,G=l.targetConfig,h=l.spaceId;if(G&&h===G.spaceId)switch(P){case r.qR.Plugin:return G?.type===$n.AQ.HTTP?"/space/".concat(h,"/plugin/").concat(S):"/space/".concat(h,"/plugin/").concat(S,"/cloud-tool");case r.qR.Workflow:return"/space/".concat(h,"/workflow/").concat(S);case r.qR.Table:return"/space/".concat(h,"/table/").concat(S);case r.qR.Knowledge:return"/space/".concat(h,"/knowledge/").concat(S)}},[l]),A=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{className:qn("radius-6",Gn["img-box"]),children:g&&(0,e.jsx)("img",{src:l.icon||I,alt:""})}),(0,e.jsxs)("div",{className:qn("flex-1","flex","flex-col","content-center","overflow-hide",Gn["content-box"]),children:[(0,e.jsx)("h3",{className:qn("text-ellipsis",Gn.name),children:l.name}),(0,e.jsx)(zn.Z,{condition:l.description,children:(0,e.jsx)("p",{className:qn("text-ellipsis",Gn.desc),children:l.description})})]})]});return(0,e.jsxs)("div",{className:qn("flex","items-center",Gn.container,s),children:[j?(0,e.jsx)(m.Link,{to:j,target:"_blank",className:qn("flex-1","flex","items-center","overflow-hide",Gn["gap-6"]),children:A}):(0,e.jsx)("div",{className:qn("flex-1","flex","items-center","overflow-hide",Gn["gap-6"]),children:A}),(0,e.jsx)("div",{className:qn(Gn["extra-box"],"flex","items-center"),children:f})]})},sa=Ra,Za=n(48657),zt=n(24573),ua={"knowledge-extra":"knowledge-extra___TBNaC"},Wn=n(15028),Oa=n(84896),ht={"space-box":"space-box___WAHPn","input-number-arrow":"input-number-arrow___FvcHe","input-disabled":"input-disabled___X0xv_"},At=E().bind(ht),wa=function(i){var s=i.value,t=i.onChange,g=i.placeholder,l=g===void 0?"\u8BF7\u8F93\u5165":g,I=i.min,f=I===void 0?0:I,j=i.max,A=i.step,S=A===void 0?1:A,P=Number(s)===j?ht["input-disabled"]:"",G=Number(s)===f?ht["input-disabled"]:"",h=function($){var R=$.target.value,re=/^-?\d*(\.\d*)?$/;(re.test(R)||R===""||R==="-")&&t(R)},N=function($){var R=Math.max($,f);j&&$>j&&(R=j),S.toString().includes(".")&&(R=parseFloat(R.toFixed(2))),t(R.toString())},x=function(){var $,R=s?.toString()||"0";(R&&R.charAt(R.length-1)==="."||R==="-")&&(R=R.slice(0,-1));var re=($=R)===null||$===void 0?void 0:$.replace(/0*(\d+)/,"$1");N(Number(re))},Q=function(){var $=s?Number(s):0,R=$+S;N(R)},D=function(){var $=s?Number(s):0,R=$-S;N(R)};return(0,e.jsxs)("div",{className:At("flex",ht["space-box"]),children:[(0,e.jsx)(In.Z,{rootClassName:At("flex-1"),placeholder:l,value:s,onChange:h,onBlur:x}),(0,e.jsxs)("div",{className:At("flex","flex-col","content-between",ht["input-number-arrow"]),children:[(0,e.jsx)(Oa.Z,{className:At("cursor-pointer",P),onClick:Q}),(0,e.jsx)(Kt.Z,{className:At("cursor-pointer",G),onClick:D})]})]})},da=wa,Ua=n(63960),ca={"slider-box":"slider-box___gGjDf"},va=E().bind(ca),ka=function(i){var s=i.value,t=i.onChange,g=i.min,l=g===void 0?0:g,I=i.max,f=i.step,j=f===void 0?1:f;return(0,e.jsxs)("div",{className:va("flex-1","flex"),children:[(0,e.jsx)(Ua.Z,{className:va(ca["slider-box"]),min:l,max:I,step:j,onChange:t,value:Number(s)||0}),(0,e.jsx)(da,{value:s,min:l,max:I,step:j,onChange:t})]})},ct=ka,Va=n(44384),Mt={"xagi-nav-style2":"xagi-nav-style2___tiJHy",text:"text___woITT","page-container":"page-container___PUZVi",container:"container___ZTPVh",title:"title___C_jJg"},et=E().bind(Mt),Ka=function(i){var s=i.open,t=i.agentComponentInfo,g=i.onCancel,l=(0,m.useModel)("spaceAgent"),I=l.agentComponentList,f=l.setAgentComponentList,j=(0,a.useState)({invokeType:r.Qr.AUTO,searchStrategy:r.kD.MIXED,maxRecallCount:5,matchingDegree:.5,noneRecallReplyType:r.E3.DEFAULT,noneRecallReply:""}),A=o()(j,2),S=A[0],P=A[1],G=(0,m.useRequest)(y.Uc,{manual:!0,debounceInterval:300}),h=G.run;(0,a.useEffect)(function(){t!=null&&t.bindConfig&&P(t.bindConfig)},[t]);var N=function(C,$){var R=v()(v()({},S),{},p()({},C,$));if(P(R),C==="invokeType"){var re=I.map(function(k){return k.id===t?.id&&(k.bindConfig.invokeType=$),k});f(re)}h({id:t?.id,targetId:t?.targetId,bindConfig:R})},x=function(C){Number.isNaN(C)||N("maxRecallCount",C)},Q=function(C){Number.isNaN(C)||N("matchingDegree",C)};return(0,e.jsx)(rt.Z,{title:"\u77E5\u8BC6\u5E93\u8BBE\u7F6E",open:s,footer:null,onCancel:g,children:(0,e.jsxs)("div",{className:et(Mt.container),children:[(0,e.jsx)("h3",{className:et(Mt.title),children:"\u53EC\u56DE"}),(0,e.jsxs)("div",{className:et("flex","mb-16"),children:[(0,e.jsx)(Wn.Z,{label:"\u8C03\u7528\u65B9\u5F0F",title:"\u9009\u62E9\u662F\u5426\u6BCF\u8F6E\u5BF9\u8BDD\u81EA\u52A8\u53EC\u56DE\u6216\u6309\u9700\u4ECE\u7279\u5B9A\u77E5\u8BC6\u5E93\u53EC\u56DE"}),(0,e.jsx)(Ln.ZP.Group,{onChange:function(C){return N("invokeType",C.target.value)},value:S.invokeType,options:T.Ri.filter(function(D){return D.value!==r.Qr.MANUAL&&D.value!==r.Qr.MANUAL_ON_DEMAND})})]}),(0,e.jsxs)("div",{className:et("flex","mb-16"),children:[(0,e.jsx)(Wn.Z,{label:"\u641C\u7D22\u7B56\u7565",title:"\u4ECE\u77E5\u8BC6\u5E93\u4E2D\u83B7\u53D6\u77E5\u8BC6\u7684\u68C0\u7D22\u65B9\u5F0F,\u4E0D\u540C\u7684\u68C0\u7D22\u7B56\u7565\u53EF\u4EE5\u66F4\u6709\u6548\u5730\u627E\u5230\u6B63\u786E\u7684\u4FE1\u606F,\u63D0\u9AD8\u5176\u751F\u6210\u7684\u7B54\u6848\u7684\u51C6\u786E\u6027\u548C\u53EF\u7528\u6027\u3002"}),(0,e.jsx)(Ln.ZP.Group,{onChange:function(C){return N("searchStrategy",C.target.value)},value:S.searchStrategy,options:T.ko})]}),(0,e.jsxs)("div",{className:et("flex","mb-16"),children:[(0,e.jsx)(Wn.Z,{label:"\u6700\u5927\u53EC\u56DE\u6570\u91CF",title:"\u4ECE\u77E5\u8BC6\u5E93\u4E2D\u8FD4\u56DE\u7ED9\u5927\u6A21\u578B\u7684\u6700\u5927\u6BB5\u843D\u6570,\u6570\u503C\u8D8A\u5927\u8FD4\u56DE\u7684\u5185\u5BB9\u8D8A\u591A"}),(0,e.jsx)(ct,{min:1,max:10,value:S.maxRecallCount.toString(),onChange:x})]}),(0,e.jsxs)("div",{className:et("flex","mb-16"),children:[(0,e.jsx)(Wn.Z,{label:"\u6700\u5C0F\u5339\u914D\u5EA6",title:"\u6839\u636E\u8BBE\u7F6E\u7684\u5339\u914D\u5EA6\u9009\u53D6\u6BB5\u843D\u8FD4\u56DE\u7ED9\u5927\u6A21\u578B,\u4F4E\u4E8E\u8BBE\u5B9A\u5339\u914D\u5EA6\u7684\u5185\u5BB9\u4E0D\u4F1A\u88AB\u53EC\u56DE"}),(0,e.jsx)(ct,{min:.01,max:.99,step:.01,value:S.matchingDegree.toString(),onChange:Q})]}),(0,e.jsx)(Va.Z,{}),(0,e.jsx)("h3",{className:et(Mt.title),children:"\u56DE\u590D"}),(0,e.jsxs)("div",{className:et("flex","mb-16"),children:[(0,e.jsx)(Wn.Z,{label:"\u65E0\u53EC\u56DE\u56DE\u590D",title:"\u5F53\u77E5\u8BC6\u5E93\u6CA1\u6709\u53EC\u56DE\u6709\u6548\u5207\u7247\u65F6\u7684\u56DE\u590D\u8BDD\u672F"}),(0,e.jsx)(Ln.ZP.Group,{onChange:function(C){return N("noneRecallReplyType",C.target.value)},value:S.noneRecallReplyType,options:T.UX})]}),(0,e.jsx)(zn.Z,{condition:S.noneRecallReplyType===r.E3.CUSTOM,children:(0,e.jsx)(In.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165",value:S.noneRecallReply,onChange:function(C){return N("noneRecallReply",C.target.value)},autoSize:{minRows:3,maxRows:5}})})]})})},za=Ka,Gt=E().bind(ua),Ga=function(i){var s=i.textClassName,t=i.list,g=i.deleteList,l=i.onDel,I=(0,a.useState)(!1),f=o()(I,2),j=f[0],A=f[1],S=(0,a.useState)(),P=o()(S,2),G=P[0],h=P[1],N=function(C){A(!0),h(C)},x=function(C,$){return g?.some(function(R){return R.targetId===C&&R.type===$})},Q=function(C){var $=C.targetId,R=C.type;x($,R)||l(C.id,C.targetId,C.type)};return t!=null&&t.length?(0,e.jsxs)(e.Fragment,{children:[t.map(function(D){var C;return(0,e.jsx)(sa,{agentComponentInfo:D,defaultImage:la,extra:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{className:Gt("cursor-pointer","hover-box",ua["knowledge-extra"]),onClick:function(){return N(D)},children:[(D==null||(C=D.bindConfig)===null||C===void 0?void 0:C.invokeType)===r.Qr.AUTO?"\u81EA\u52A8\u8C03\u7528":"\u6309\u9700\u8C03\u7528",(0,e.jsx)(Za.Z,{})]}),(0,e.jsx)(tn.Z,{title:"\u53D6\u6D88\u77E5\u8BC6\u5E93",icon:x(D.targetId,D.type)?(0,e.jsx)(zt.Z,{}):(0,e.jsx)(gn.Z,{className:Gt("cursor-pointer")}),onClick:function(){return Q(D)}})]})},D.id)}),(0,e.jsx)(za,{agentComponentInfo:G,open:j,onCancel:function(){return A(!1)}})]}):(0,e.jsx)("p",{className:Gt(s),children:"\u5C06\u6587\u6863\u3001URL\u3001\u4E09\u65B9\u6570\u636E\u6E90\u4E0A\u4F20\u4E3A\u6587\u672C\u77E5\u8BC6\u5E93\u540E\uFF0C\u7528\u6237\u53D1\u9001\u6D88\u606F\u65F6\uFF0C\u667A\u80FD\u4F53\u80FD\u591F\u5F15\u7528\u6587\u672C\u77E5\u8BC6\u4E2D\u7684\u5185\u5BB9\u56DE\u7B54\u7528\u6237\u95EE\u9898\u3002"})},Wa=Ga,ma={},ga=E().bind(ma),Ya=function(i){var s=i.textClassName,t=i.openLongMemory,g=t===void 0?u.nb.Close:t;return console.log(g),(0,e.jsx)("div",{className:ga(ma.container),children:(0,e.jsx)("p",{className:ga(s),children:"\u603B\u7ED3\u804A\u5929\u5BF9\u8BDD\u7684\u5185\u5BB9\uFF0C\u5E76\u7528\u4E8E\u66F4\u597D\u7684\u54CD\u5E94\u7528\u6237\u7684\u6D88\u606F\u3002"})})},Ha=Ya,fa=n(46388),pa=n(10802),Qa=n(73415),Xa=function(i){var s,t=i.textClassName,g=i.itemClassName,l=i.type,I=i.list,f=i.deleteList,j=i.onSet,A=i.onDel,S=function(N){switch(N){case r.qR.Plugin:return{text:"\u63D2\u4EF6\u80FD\u591F\u8BA9\u667A\u80FD\u4F53\u8C03\u7528\u5916\u90E8API\uFF0C\u4F8B\u5982\u641C\u7D22\u4FE1\u606F\u3001\u6D4F\u89C8\u7F51\u9875\u3001\u751F\u6210\u56FE\u7247\u7B49\uFF0C\u6269\u5C55\u667A\u80FD\u4F53\u7684\u80FD\u529B\u548C\u4F7F\u7528\u573A\u666F\u3002",image:bt};case r.qR.Workflow:return{text:"\u5DE5\u4F5C\u6D41\u652F\u6301\u901A\u8FC7\u53EF\u89C6\u5316\u7684\u65B9\u5F0F\uFF0C\u5BF9\u63D2\u4EF6\u3001\u5927\u8BED\u8A00\u6A21\u578B\u3001\u4EE3\u7801\u5757\u7B49\u529F\u80FD\u8FDB\u884C\u7EC4\u5408\uFF0C\u4ECE\u800C\u5B9E\u73B0\u590D\u6742\u3001\u7A33\u5B9A\u7684\u4E1A\u52A1\u6D41\u7A0B\u7F16\u6392\uFF0C\u4F8B\u5982\u65C5\u884C\u89C4\u5212\u3001\u62A5\u544A\u5206\u6790\u7B49\u3002",image:Vt};case r.qR.MCP:return{text:"\u667A\u80FD\u4F53\u53EF\u4EE5\u901A\u8FC7\u6807\u51C6\u5316\u534F\u8BAE\uFF08MCP\uFF09\u8FDE\u63A5\u5404\u7C7B\u670D\u52A1API\u5E76\u53D1\u8D77\u8C03\u7528\u3002",image:pa};case r.qR.Table:return{text:"\u4EE5\u8868\u683C\u7ED3\u6784\u7EC4\u7EC7\u6570\u636E\uFF0C\u53EF\u5B9E\u73B0\u7C7B\u4F3C\u4E66\u7B7E\u548C\u56FE\u4E66\u7BA1\u7406\u7B49\u529F\u80FD\u3002",image:fa}}},P=function(N,x,Q){return f?.some(function(D){return D.id===N&&D.targetId===x&&D.type===Q})},G=function(N){var x,Q=N.id,D=N.targetId,C=N.type;P(Q,D,C)||A(N.id,N.targetId,N.type,((x=N.bindConfig)===null||x===void 0?void 0:x.toolName)||"")};return I!=null&&I.length?I.map(function(h){var N;return(0,e.jsx)(sa,{className:g,showImage:l!==r.qR.MCP,agentComponentInfo:h,defaultImage:(N=S(l))===null||N===void 0?void 0:N.image,extra:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(tn.Z,{title:"\u8BBE\u7F6E",icon:(0,e.jsx)(Qa.Mf,{className:"cursor-pointer"}),onClick:function(){return j(h.id)}}),(0,e.jsx)(tn.Z,{title:"\u5220\u9664",icon:P(h.id,h.targetId,h.type)?(0,e.jsx)(zt.Z,{}):(0,e.jsx)(gn.Z,{className:"cursor-pointer"}),onClick:function(){return G(h)}})]})},h.id)}):(0,e.jsx)("p",{className:t,children:(s=S(l))===null||s===void 0?void 0:s.text})},Ft=Xa,Ja=n(61265),_t=n(40677),$a=n(64807),qa=n(14258),Yn={"xagi-nav-style2":"xagi-nav-style2___E5g3B",text:"text___OR8er","page-container":"page-container___edfQB",container:"container___bIAoA",header:"header___xEh8u",desc:"desc___iAhI9","reply-content":"reply-content___DGIN1",textarea:"textarea___RVpuC",tips:"tips___lKH6p",footer:"footer___zzeZr","btn-disabled":"btn-disabled___gaWUM"},On=E().bind(Yn),eo=function(i){var s=i.async,t=i.asyncReplyContent,g=i.onSaveSet,l=(0,a.useState)(),I=o()(l,2),f=I[0],j=I[1],A=(0,a.useState)(""),S=o()(A,2),P=S[0],G=S[1],h=(0,a.useState)(!1),N=o()(h,2),x=N[0],Q=N[1];(0,a.useEffect)(function(){G(t||"\u5DF2\u7ECF\u5F00\u59CB\u4E3A\u60A8\u5904\u7406\uFF0C\u8BF7\u8010\u5FC3\u7B49\u5F85\u8FD0\u884C\u7ED3\u679C"),j(s||r.Km.No)},[s,t]);var D=(0,a.useMemo)(function(){return f===r.Km.Yes&&!P},[f,P]),C=function(){var R=We()(z()().mark(function re(){var k;return z()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return k={async:f,asyncReplyContent:P},Q(!0),ve.next=4,g(k);case 4:Q(!1);case 5:case"end":return ve.stop()}},re)}));return function(){return R.apply(this,arguments)}}(),$=function(re){var k=re?r.Km.Yes:r.Km.No;j(k)};return(0,e.jsxs)("div",{className:On("flex","flex-col","h-full",Yn.container),children:[(0,e.jsxs)("div",{className:On("flex-1"),children:[(0,e.jsxs)("header",{className:On("flex","items-center",Yn.header),children:[(0,e.jsx)("div",{className:On("flex-1"),children:"\u5F02\u6B65\u8FD0\u884C"}),(0,e.jsx)(ze.Z,{checked:f===r.Km.Yes,onChange:$})]}),(0,e.jsx)("p",{className:On(Yn.desc),children:"\u4EFB\u52A1\u8FDB\u5165\u5F02\u6B65\u8FD0\u884C\u65F6\u9ED8\u8BA4\u8FD4\u56DE\u4E00\u6761\u56DE\u590D\u5185\u5BB9\uFF0C\u7528\u6237\u53EF\u4EE5\u7EE7\u7EED\u5BF9\u8BDD\uFF0C\u4EFB\u52A1\u5728\u540E\u53F0\u8FD0\u884C\u5B8C\u6210\u540E\u4F1A\u901A\u77E5\u7528\u6237"}),(0,e.jsxs)(zn.Z,{condition:f,children:[(0,e.jsx)(Ce.Z,{className:On(Yn["reply-content"]),label:"\u56DE\u590D\u5185\u5BB9"}),(0,e.jsx)(In.Z.TextArea,{className:On("dispose-textarea-count"),classNames:{textarea:On(Yn.textarea)},placeholder:"\u60A8\u53EF\u4EE5\u5728\u8FD9\u91CC\u8BBE\u7F6E\u6D88\u606F\u56DE\u590D,\u4EFB\u52A1\u8FD0\u884C\u65F6\u5C06\u81EA\u52A8\u56DE\u590D,\u6BD4\u5982: \u4EFB\u52A1\u5DF2\u5728\u8FDB\u884C\u4E2D,\u4E00\u65E6\u5B8C\u6210\u6211\u5C06\u7B2C\u4E00\u65F6\u95F4\u5411\u60A8\u62A5\u544A\u7ED3\u679C,\u60A8\u8FD8\u6709\u5176\u4ED6\u9700\u8981\u6211\u534F\u52A9\u7684\u4E8B\u9879\u5417?",autoSize:{minRows:5,maxRows:6},maxLength:1e3,showCount:!0,value:P,onChange:function(re){return G(re.target.value)}}),(0,e.jsx)(zn.Z,{condition:!P,children:(0,e.jsx)("p",{className:On(Yn.tips),children:"\u56DE\u590D\u5185\u5BB9\u5FC5\u987B\u8BBE\u7F6E"})})]})]}),(0,e.jsx)("footer",{className:On(Yn.footer),children:(0,e.jsx)(_n.ZP,{type:"primary",onClick:C,loading:x,className:On(p()({},Yn["btn-disabled"],D)),disabled:D,children:"\u4FDD\u5B58"})})]})},no=eo,to=n(3055),xa=n(44689),Wt=n(17701),Yt=n(29328),Ht=n(70183),jt={"space-box":"space-box___KVU7O","radius-number":"radius-number___pKpEO","link-switch":"link-switch___BekgU",footer:"footer___xsshb"},Hn=E().bind(jt),ao=function(i){var s,t,g=i.componentInfo,l=i.cardInfo,I=i.onSaveSet,f=(0,a.useState)($n.tJ.SINGLE),j=o()(f,2),A=j[0],S=j[1],P=(0,a.useState)("5"),G=o()(P,2),h=G[0],N=G[1],x=(0,a.useState)(""),Q=o()(x,2),D=Q[0],C=Q[1],$=(0,a.useState)([]),R=o()($,2),re=R[0],k=R[1],we=(0,a.useState)(!1),ve=o()(we,2),Ue=ve[0],Xe=ve[1],an=(0,a.useState)([]),Fe=o()(an,2),de=Fe[0],en=Fe[1],un=(0,a.useState)(!1),Ee=o()(un,2),Y=Ee[0],Se=Ee[1],ke=(0,a.useState)(!1),on=o()(ke,2),Ve=on[0],me=on[1],le=(0,a.useState)(""),B=o()(le,2),Be=B[0],Te=B[1],Ze=(0,a.useState)(!1),fe=o()(Ze,2),ie=fe[0],Ae=fe[1],Me=g==null||(s=g.bindConfig)===null||s===void 0?void 0:s.outputArgBindConfigs,q=g==null||(t=g.bindConfig)===null||t===void 0?void 0:t.cardBindConfig;(0,a.useEffect)(function(){if(A===$n.tJ.LIST){var De=pe()(Me),ge=(0,_t.Lg)(De),se=(0,_t.y7)(ge);k(se)}},[Me,A]),(0,a.useEffect)(function(){if(q&&l?.id===q.cardId){var De;if(S(q.bindCardStyle),N(q?.maxCardCount||"5"),C(q?.bindArray),q!=null&&q.bindLinkUrl&&(me(!0),Te(q?.bindLinkUrl)),q!=null&&(De=q.cardArgsBindConfigs)!==null&&De!==void 0&&De.length){var ge,se=q==null||(ge=q.cardArgsBindConfigs)===null||ge===void 0?void 0:ge.map(function(te){var Re,Ge=(l==null||(Re=l.argList)===null||Re===void 0||(Re=Re.find(function(hn){return hn.key===te.key}))===null||Re===void 0?void 0:Re.placeholder)||"";return{key:te.key,cardKey:te.bindValue,placeholder:Ge}});en(se)}}else S($n.tJ.SINGLE),C(""),N("5"),me(!1),Te(""),en(l?.argList||[])},[l,q]);var Oe=(0,a.useMemo)(function(){var De=pe()(Me);if(A===$n.tJ.SINGLE)return(0,_t.k$)(De);var ge;return D?((ge=(0,_t.DY)(De,D))===null||ge===void 0?void 0:ge.subArgs)||[]:[]},[Me,A,D]),cn=function(ge){var se=ge.target.value;S(se),me(!1),Te(""),en(l?.argList||[])},dn=function(ge,se){var te=se.node;C(String(te.key)),Xe(!1)},xn=function(ge,se){var te=pe()(de);te[ge].open=se,en(te)},Cn=function(ge,se){var te=pe()(de);te[ge].open=!1,te[ge].cardKey=se?.key||"",en(te)},vn=function(ge){me(ge),ge||Te("")},ut=function(){var De=We()(z()().mark(function ge(){var se,te,Re,Ge;return z()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return se=de?.map(function(mn){return{key:mn.key,bindValue:mn?.cardKey||""}}),te={cardId:l?.id,cardKey:l?.cardKey,bindCardStyle:A,cardArgsBindConfigs:se,bindLinkUrl:Be},Re=A===$n.tJ.SINGLE?te:v()(v()({},te),{},{maxCardCount:h,bindArray:D}),Ge={cardBindConfig:Re},Ae(!0),Pe.next=7,I(Ge);case 7:Ae(!1);case 8:case"end":return Pe.stop()}},ge)}));return function(){return De.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:Hn("flex-1","flex","flex-col"),children:[(0,e.jsxs)(fn.Z,{layout:"vertical",preserve:!1,rootClassName:Hn("flex-1"),requiredMark:Nt.N,children:[(0,e.jsx)(fn.Z.Item,{label:"\u9009\u62E9\u5361\u7247\u6837\u5F0F",children:(0,e.jsx)(Ln.ZP.Group,{onChange:cn,value:A,options:T.dS})}),A===$n.tJ.LIST&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(fn.Z.Item,{label:(0,e.jsx)(Ce.Z,{label:"\u5361\u7247\u5217\u8868\u6700\u5927\u957F\u5EA6"}),rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5361\u7247\u5217\u8868\u6700\u5927\u957F\u5EA6"}],children:(0,e.jsx)(da,{value:h,onChange:function(ge){return N(ge)},placeholder:"\u8BF7\u8F93\u5165\u5361\u7247\u5217\u8868\u6700\u5927\u957F\u5EA6",max:20,min:1})}),(0,e.jsx)(fn.Z.Item,{label:"\u4E3A\u5361\u7247\u6574\u4F53\u7ED1\u5B9A\u4E00\u4E2A\u6570\u7EC4",children:(0,e.jsx)(Wt.default,{allowClear:!0,onClear:function(){C(""),Xe(!1)},popupMatchSelectWidth:!1,open:Ue,value:D||null,onDropdownVisibleChange:function(ge){Xe(ge)},onClick:function(){return Xe(!0)},placeholder:"\u8BF7\u4E3A\u5361\u7247\u6574\u4F53\u7ED1\u5B9A\u4E00\u4E2A\u6570\u7EC4",dropdownRender:function(){return re?.length>0?(0,e.jsx)(Yt.Z,{treeData:re,height:300,blockNode:!0,defaultExpandAll:!0,onClick:function(se){se.stopPropagation()},onSelect:dn,fieldNames:{title:"name",key:"key",children:"subArgs"}}):(0,e.jsx)(Ht.Z,{description:"\u6682\u65E0\u6570\u636E"})}})})]}),(0,e.jsx)(fn.Z.Item,{label:"\u4E3A\u5361\u7247\u5185\u7684\u5217\u8868\u9879\u7ED1\u5B9A\u6570\u636E",children:de?.map(function(De,ge){return(0,e.jsx)(fn.Z.Item,{className:Hn("mb-16"),children:(0,e.jsxs)("div",{className:Hn("flex","items-center",jt["space-box"]),children:[(0,e.jsx)("span",{className:Hn(jt["radius-number"]),children:ge+1}),(0,e.jsx)(Wt.default,{allowClear:!0,onClear:function(){return Cn(ge)},rootClassName:Hn("flex-1"),popupMatchSelectWidth:!1,disabled:A===$n.tJ.LIST&&!D,open:!!De?.open,value:De?.cardKey||null,onDropdownVisibleChange:function(te){return xn(ge,te)},onClick:function(){return xn(ge,!0)},dropdownRender:function(){return Oe?.length>0?(0,e.jsx)(Yt.Z,{treeData:Oe,height:300,blockNode:!0,defaultExpandAll:!0,onClick:function(Re){Re.stopPropagation()},onSelect:function(Re,Ge){var hn=Ge.node;return Cn(ge,hn)},fieldNames:{title:"name",key:"key",children:"subArgs"}}):(0,e.jsx)(Ht.Z,{description:"\u6682\u65E0\u6570\u636E"})},placeholder:De.placeholder||"\u8BF7\u9009\u62E9"})]})},De.key)})}),(0,e.jsxs)(fn.Z.Item,{label:"\u70B9\u51FB\u5361\u7247\u8DF3\u8F6C",tooltip:{title:"\u7ED1\u5B9A\u540E\uFF0C\u7528\u6237\u5728\u667A\u80FD\u4F53\u5BF9\u8BDD\u6D41\u4E2D\u70B9\u51FB \u5361\u7247\u53EF\u8DF3\u8F6C\u81F3\u5176\u4ED6\u9875\u9762",icon:(0,e.jsx)(xa.Z,{})},children:[(0,e.jsx)(ze.Z,{className:Hn(jt["link-switch"]),disabled:!(Oe!=null&&Oe.length),size:"small",checked:Ve,onChange:vn}),(0,e.jsx)(zn.Z,{condition:Ve,children:(0,e.jsx)(Wt.default,{allowClear:!0,onClear:function(){Te(""),Se(!1)},rootClassName:Hn("flex-1"),popupMatchSelectWidth:!1,open:Y,value:Be||null,onDropdownVisibleChange:function(ge){return Se(ge)},onClick:function(){return Se(!0)},dropdownRender:function(){return(0,e.jsx)(Yt.Z,{treeData:Oe,height:300,blockNode:!0,defaultExpandAll:!0,onClick:function(se){se.stopPropagation()},onSelect:function(se,te){var Re=te.node;Te(Re.key),Se(!1)},fieldNames:{title:"name",key:"key",children:"subArgs"}})},placeholder:"\u4E3Aurl\u9009\u62E9\u6570\u636E\u6765\u6E90"})})]})]}),(0,e.jsx)("footer",{className:Hn(jt.footer),children:(0,e.jsx)(_n.ZP,{type:"primary",onClick:ut,loading:ie,children:"\u4FDD\u5B58"})})]})},oo=ao,Qt={"card-box":"card-box___L2_At",radio:"radio___oRbG0"},Xt=E().bind(Qt),ro=function(i){var s=i.cardKey,t=i.list,g=i.onChoose;return(0,e.jsx)("div",{className:Xt("h-full","overflow-y"),children:t?.map(function(l){return(0,e.jsxs)("div",{className:Xt(Qt["card-box"],"flex","hover-box","cursor-pointer"),onClick:function(){return g(l)},children:[(0,e.jsx)("img",{className:"radius-6",src:l.imageUrl,alt:""}),(0,e.jsx)(Ln.ZP,{checked:l.cardKey===s,className:Xt(Qt.radio)})]},l.id)})})},io=ro,Bt={"xagi-nav-style2":"xagi-nav-style2___T7zkB",text:"text___QIxvP","page-container":"page-container___AK9tx",container:"container___KJPJn",title:"title___J7PRF"},vt=E().bind(Bt),lo=function(i){var s=i.loading,t=i.agentCardList,g=i.componentInfo,l=i.onSaveSet,I=(0,a.useState)(),f=o()(I,2),j=f[0],A=f[1];return(0,a.useEffect)(function(){var S,P=g==null||(S=g.bindConfig)===null||S===void 0||(S=S.cardBindConfig)===null||S===void 0?void 0:S.cardId;A(P?t.find(function(G){return G.id===P}):t[0])},[t,g]),(0,e.jsx)("div",{className:vt("flex","h-full",Bt.container),children:s?(0,e.jsx)(to.Z,{className:vt("h-full")}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:vt("flex-1","px-16","py-16"),children:[(0,e.jsx)("h3",{className:vt(Bt.title),children:"\u9009\u62E9\u5361\u7247\u6837\u5F0F"}),(0,e.jsx)(io,{cardKey:j?.cardKey,list:t,onChoose:A})]}),(0,e.jsxs)("div",{className:vt("flex-1","flex","flex-col","px-16","py-16"),children:[(0,e.jsx)("h3",{className:vt(Bt.title),children:"\u4E3A\u5361\u7247\u7ED1\u5B9A\u6570\u636E\u6E90"}),(0,e.jsx)(oo,{cardInfo:j,componentInfo:g,onSaveSet:l})]})]})})},so=lo,nt={"xagi-nav-style2":"xagi-nav-style2___xErq3",text:"text___Jldky","page-container":"page-container___XNHR8",container:"container___f5OC_",header:"header____Mhqp",desc:"desc___zrBqq","reply-content":"reply-content___e4lnw",textarea:"textarea___I5Ny2",tips:"tips___gxuIs",footer:"footer___v3HYH","btn-disabled":"btn-disabled___pDNWH"},Vn=E().bind(nt),uo=function(i){var s=i.exceptionOut,t=i.fallbackMsg,g=i.onSaveSet,l=(0,a.useState)(),I=o()(l,2),f=I[0],j=I[1],A=(0,a.useState)(""),S=o()(A,2),P=S[0],G=S[1],h=(0,a.useState)(!1),N=o()(h,2),x=N[0],Q=N[1];(0,a.useEffect)(function(){G(t||""),j(s||r.Km.No)},[s,t]);var D=(0,a.useMemo)(function(){return f===r.Km.Yes&&!P},[f,P]),C=function(){var R=We()(z()().mark(function re(){var k;return z()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return k={exceptionOut:f,fallbackMsg:P},Q(!0),ve.next=4,g(k);case 4:Q(!1);case 5:case"end":return ve.stop()}},re)}));return function(){return R.apply(this,arguments)}}(),$=function(re){var k=re?r.Km.Yes:r.Km.No;j(k)};return(0,e.jsxs)("div",{className:Vn("flex","flex-col","h-full",nt.container),children:[(0,e.jsxs)("div",{className:Vn("flex-1"),children:[(0,e.jsxs)("header",{className:Vn("flex","items-center",nt.header),children:[(0,e.jsx)("div",{className:Vn("flex-1"),children:"\u5F02\u5E38\u65F6\u4E2D\u65AD\u6D41\u7A0B"}),(0,e.jsx)(ze.Z,{checked:f===r.Km.Yes,onChange:$})]}),(0,e.jsx)("p",{className:Vn(nt.desc),children:"\u5F02\u5E38\u65F6\u8F93\u51FA\u7ED9\u5927\u6A21\u578B\u7684\u9ED8\u8BA4\u4FE1\u606F"}),(0,e.jsxs)(zn.Z,{condition:f,children:[(0,e.jsx)(Ce.Z,{className:Vn(nt["reply-content"]),label:"\u9ED8\u8BA4\u4FE1\u606F"}),(0,e.jsx)(In.Z.TextArea,{className:Vn("dispose-textarea-count"),classNames:{textarea:Vn(nt.textarea)},placeholder:"\u8BF7\u8F93\u5165\u5F02\u5E38\u65F6\u8F93\u51FA\u7ED9\u5927\u6A21\u578B\u7684\u9ED8\u8BA4\u4FE1\u606F",autoSize:{minRows:5,maxRows:6},maxLength:1e3,showCount:!0,value:P,onChange:function(re){return G(re.target.value)}})]})]}),(0,e.jsx)("footer",{className:Vn(nt.footer),children:(0,e.jsx)(_n.ZP,{type:"primary",onClick:C,loading:x,className:Vn(p()({},nt["btn-disabled"],D)),disabled:D,children:"\u4FDD\u5B58"})})]})},co=uo,tt={"xagi-nav-style2":"xagi-nav-style2___jGSEw",text:"text___kxX4U","page-container":"page-container___x6Z85","modal-container":"modal-container___DIR0N",container:"container___jZY5S",left:"left___zfIP5",item:"item___kItJN",checked:"checked___Q1XQY",right:"right___AZIcw",close:"close___bZkPm"},Ca=n(20860),Jt=n(68108),Tt={"xagi-nav-style2":"xagi-nav-style2___un28i",text:"text___jZkxu","page-container":"page-container___FCTEI",container:"container___n6D12",icon:"icon___CDvAh",footer:"footer___bl30K"},mt=E().bind(Tt),vo=function(i){var s=i.invokeType,t=i.onSaveSet,g=i.defaultSelected,l=(0,a.useState)(),I=o()(l,2),f=I[0],j=I[1],A=(0,a.useState)(r.Km.No),S=o()(A,2),P=S[0],G=S[1],h=(0,a.useState)(!1),N=o()(h,2),x=N[0],Q=N[1];(0,a.useEffect)(function(){j(s||r.Qr.AUTO),G(g||r.Km.No)},[s,g]);var D=function(R){var re=R.target.value;j(re)},C=function(){var $=We()(z()().mark(function R(){var re;return z()().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return re={invokeType:f,defaultSelected:P},Q(!0),we.next=4,t(re);case 4:Q(!1);case 5:case"end":return we.stop()}},R)}));return function(){return $.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:mt(Tt.container,"flex","flex-col"),children:[(0,e.jsxs)("div",{className:mt("flex-1"),children:[(0,e.jsxs)("h3",{className:mt("gap-6","flex","items-center"),children:[(0,e.jsx)("span",{children:"\u8C03\u7528\u65B9\u5F0F"}),(0,e.jsx)(Jt.Z,{title:(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{children:"\u81EA\u52A8\u8C03\u7528\uFF1A\u7528\u6237\u6BCF\u6B21\u53D1\u9001\u6D88\u606F\u540E\u90FD\u4F1A\u89E6\u53D1\u8C03\u7528\u4E00\u6B21"}),(0,e.jsx)("p",{children:"\u6309\u9700\u8C03\u7528\uFF1A\u7531\u6A21\u578B\u6839\u636E\u4EFB\u52A1\u60C5\u51B5\u51B3\u5B9A\u662F\u5426\u9700\u8981\u8C03\u7528"}),(0,e.jsx)("p",{children:"\u624B\u52A8\u9009\u62E9\uFF1A\u7531\u7528\u6237\u51B3\u5B9A\u662F\u5426\u4F7F\u7528\u8BE5\u5DE5\u5177\uFF0C\u5728\u7528\u6237\u9009\u62E9\u7684\u60C5\u51B5\u4E0B\u548C\u81EA\u52A8\u8C03\u7528\u6548\u679C\u4E00\u6837"}),(0,e.jsx)("p",{children:"\u624B\u52A8\u9009\u62E9+\u6309\u9700\u8C03\u7528\uFF1A\u7528\u6237\u9009\u62E9\u540E\uFF0C\u7531\u6A21\u578B\u6839\u636E\u4EFB\u52A1\u60C5\u51B5\u9009\u62E9\u662F\u5426\u9700\u8981\u8C03\u7528\uFF1B\u7528\u6237\u4E0D\u9009\u62E9\u5219\u4E0D\u4F1A\u8C03\u7528"})]}),children:(0,e.jsx)(Ca.Z,{className:mt(Tt.icon)})})]}),(0,e.jsx)(Ln.ZP.Group,{options:T.Ri,onChange:D,value:f}),(0,e.jsxs)(zn.Z,{condition:f===r.Qr.MANUAL||f===r.Qr.MANUAL_ON_DEMAND,children:[(0,e.jsx)("h3",{className:mt("mt-16"),children:"\u662F\u5426\u9ED8\u8BA4\u9009\u4E2D"}),(0,e.jsx)(Ln.ZP.Group,{options:T.Op,onChange:function(R){return G(R.target.value)},value:P})]})]}),(0,e.jsx)("footer",{className:mt(Tt.footer),children:(0,e.jsx)(_n.ZP,{type:"primary",onClick:C,loading:x,children:"\u4FDD\u5B58"})})]})},mo=(0,a.memo)(vo),Pt={"xagi-nav-style2":"xagi-nav-style2___E4WCM",text:"text___BTc0l","page-container":"page-container___aRrpX",container:"container___IwVbE",icon:"icon___yZKCd",footer:"footer___gT5kO"},Et=E().bind(Pt),go=function(i){var s=i.directOutput,t=i.onSaveSet,g=(0,a.useState)(),l=o()(g,2),I=l[0],f=l[1],j=(0,a.useState)(!1),A=o()(j,2),S=A[0],P=A[1];(0,a.useEffect)(function(){f(s||r.E8.No)},[s]);var G=function(x){var Q=x.target.value;f(Q)},h=function(){var N=We()(z()().mark(function x(){var Q;return z()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return Q={directOutput:I},P(!0),C.next=4,t(Q);case 4:P(!1);case 5:case"end":return C.stop()}},x)}));return function(){return N.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:Et(Pt.container,"flex","flex-col"),children:[(0,e.jsxs)("div",{className:Et("flex-1"),children:[(0,e.jsxs)("h3",{className:Et("gap-6","flex","items-center"),children:[(0,e.jsx)("span",{children:"\u662F\u5426\u76F4\u63A5\u8F93\u51FA"}),(0,e.jsx)(Jt.Z,{title:"\u5982\u679C\u9009\u62E9\u201C\u662F\u201D\uFF0C\u5C06\u4F1A\u628A\u5DE5\u4F5C\u6D41\u8FD0\u884C\u7ED3\u679C\u76F4\u63A5\u8F93\u51FA\u5230\u4F1A\u8BDD\u6846\u4E2D\uFF0C\u4E0D\u4F1A\u518D\u7ECF\u8FC7\u5927\u6A21\u578B\u603B\u7ED3\u8F93\u51FA\u3002",children:(0,e.jsx)(Ca.Z,{className:Et(Pt.icon)})})]}),(0,e.jsx)(Ln.ZP.Group,{options:T.Y5,onChange:G,value:I})]}),(0,e.jsx)("footer",{className:Et(Pt.footer),children:(0,e.jsx)(_n.ZP,{type:"primary",onClick:h,loading:S,children:"\u4FDD\u5B58"})})]})},fo=(0,a.memo)(go),gt=E().bind(tt),po=function(i){var s=i.open,t=i.currentComponentInfo,g=i.devConversationId,l=i.variables,I=i.onCancel,f=i.settingActionList,j=f===void 0?rn.a$:f,A=(0,a.useState)(u.wQ.Params),S=o()(A,2),P=S[0],G=S[1],h=(0,a.useState)(),N=o()(h,2),x=N[0],Q=N[1],D=(0,a.useState)(!1),C=o()(D,2),$=C[0],R=C[1],re=(0,a.useState)([]),k=o()(re,2),we=k[0],ve=k[1],Ue=(0,m.useModel)("spaceAgent"),Xe=Ue.setAgentComponentList,an=(0,m.useModel)("conversationInfo"),Fe=an.runQueryConversation;(0,a.useEffect)(function(){G(u.wQ.Params),Q(t)},[t]);var de={manual:!0,debounceWait:300},en=(0,X.Z)(y.Cd,de),un=en.runAsync,Ee=(0,X.Z)(y.ao,de),Y=Ee.runAsync,Se=(0,X.Z)(y.M8,de),ke=Se.runAsync,on=(0,X.Z)(y.Nc,de),Ve=on.runAsync,me=(0,X.Z)(y.P4,v()(v()({},de),{},{onSuccess:function(fe){var ie=fe.data;ie!=null&&ie.length&&ve(ie),R(!1)},onError:function(){R(!1)}})),le=me.run;(0,a.useEffect)(function(){R(!0),le()},[]);var B=function(){var Ze=We()(z()().mark(function fe(ie){return z()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(x?.type!==r.qR.Plugin){Me.next=3;break}return Me.next=3,un(ie);case 3:if(x?.type!==r.qR.Workflow){Me.next=6;break}return Me.next=6,Y(ie);case 6:if(x?.type!==r.qR.Table){Me.next=9;break}return Me.next=9,ke(ie);case 9:if(x?.type!==r.qR.MCP){Me.next=12;break}return Me.next=12,Ve(ie);case 12:case"end":return Me.stop()}},fe)}));return function(ie){return Ze.apply(this,arguments)}}(),Be=function(){var Ze=We()(z()().mark(function fe(ie,Ae,Me){var q,Oe,cn;return z()().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return q=x?.id||0,Oe=ie??{},cn=v()({id:q,bindConfig:v()(v()({},x?.bindConfig),Oe)},Ae||{}),xn.next=5,B(cn);case 5:Me===u.wQ.Method_Call&&g&&Fe(g),Q(function(Cn){return Cn&&("bindConfig"in Cn&&(Cn.bindConfig=v()(v()({},Cn.bindConfig),Oe)),Ae&&(Cn.exceptionOut=Ae.exceptionOut,Cn.fallbackMsg=Ae.fallbackMsg)),Cn}),Xe(function(Cn){return Cn.map(function(vn){return vn.id===q&&(vn.bindConfig=v()(v()({},vn.bindConfig),Oe),Ae&&(vn.exceptionOut=Ae.exceptionOut,vn.fallbackMsg=Ae.fallbackMsg)),vn})}),J.ZP.success("\u4FDD\u5B58\u6210\u529F");case 9:case"end":return xn.stop()}},fe)}));return function(ie,Ae,Me){return Ze.apply(this,arguments)}}(),Te=function(){var fe,ie,Ae,Me,q,Oe;switch(P){case u.wQ.Params:return(0,e.jsx)($a.Z,{variables:l||[],inputArgBindConfigs:x==null||(fe=x.bindConfig)===null||fe===void 0?void 0:fe.inputArgBindConfigs,onSaveSet:Be});case u.wQ.Method_Call:return(0,e.jsx)(mo,{invokeType:x==null||(ie=x.bindConfig)===null||ie===void 0?void 0:ie.invokeType,defaultSelected:x==null||(Ae=x.bindConfig)===null||Ae===void 0?void 0:Ae.defaultSelected,onSaveSet:function(dn){return Be(dn,null,P)}});case u.wQ.Output_Way:return(0,e.jsx)(fo,{directOutput:x==null||(Me=x.bindConfig)===null||Me===void 0?void 0:Me.directOutput,onSaveSet:Be});case u.wQ.Async_Run:return(0,e.jsx)(no,{async:x==null||(q=x.bindConfig)===null||q===void 0?void 0:q.async,asyncReplyContent:x==null||(Oe=x.bindConfig)===null||Oe===void 0?void 0:Oe.asyncReplyContent,onSaveSet:Be});case u.wQ.Exception_Handling:return(0,e.jsx)(co,{exceptionOut:x?.exceptionOut||r.Km.No,fallbackMsg:x?.fallbackMsg||"",onSaveSet:function(dn){return Be(null,dn)}});case u.wQ.Card_Bind:return(0,e.jsx)(so,{loading:$,agentCardList:we,componentInfo:x,onSaveSet:Be})}};return(0,e.jsx)(rt.Z,{centered:!0,open:s,onCancel:I,destroyOnHidden:!0,className:gt(tt["modal-container"]),modalRender:function(){return(0,e.jsxs)("div",{className:gt(tt.container,"flex","overflow-hide"),children:[(0,e.jsxs)("div",{className:gt(tt.left),children:[(0,e.jsx)("h3",{children:"\u8BBE\u7F6E"}),(0,e.jsx)("ul",{children:j.map(function(fe){return t?.type===r.qR.Table&&[u.wQ.Method_Call,u.wQ.Async_Run,u.wQ.Exception_Handling].includes(fe.type)||t?.type!==r.qR.Workflow&&fe.type===u.wQ.Output_Way?null:(0,e.jsx)("li",{className:gt(tt.item,"cursor-pointer",p()({},tt.checked,P===fe.type)),onClick:function(){return G(fe.type)},children:fe.label},fe.type)})})]}),(0,e.jsx)("div",{className:gt("flex-1",tt.right),children:Te()}),(0,e.jsx)(qa.Z,{className:gt(tt.close,"cursor-pointer"),onClick:I})]})}})},xo=po,Bn={"xagi-nav-style2":"xagi-nav-style2___v4Ft8",text:"text___GudlW","page-container":"page-container___tpdhX",container:"container___pz0mN","group-mcp-item":"group-mcp-item___akoCX","img-box":"img-box___DKgNV",name:"name___zlseW",desc:"desc___In9oO","extra-box":"extra-box___KlFIX","down-icon":"down-icon___EAqjU","down-icon-rotate":"down-icon-rotate___HuIxH","group-mcp-item-children":"group-mcp-item-children___Ren3g"},Kn=E().bind(Bn),Co=function(i){var s=i.item,t=i.deleteList,g=i.onSet,l=i.onDel,I=(0,a.useState)(!1),f=o()(I,2),j=f[0],A=f[1];return(0,e.jsxs)("div",{className:Kn(Bn.container),children:[(0,e.jsxs)("div",{className:Kn("flex","items-center",Bn["group-mcp-item"],p()({},Bn.border,j)),onClick:function(){return A(!j)},children:[(0,e.jsx)("span",{className:Kn("radius-6",Bn["img-box"]),children:(0,e.jsx)("img",{src:s.icon,alt:""})}),(0,e.jsxs)("div",{className:Kn("flex","flex-col","flex-1","overflow-hide"),children:[(0,e.jsx)("h3",{className:Kn("text-ellipsis",Bn.name),children:s.groupName}),(0,e.jsx)("p",{className:Kn("text-ellipsis",Bn.desc),children:s.groupDescription})]}),(0,e.jsxs)("div",{className:Kn(Bn["extra-box"],"flex","items-center","cursor-pointer"),children:[(0,e.jsx)("span",{children:"\u5DE5\u5177\uFF08".concat(s.children.length,"\uFF09")}),(0,e.jsx)(Kt.Z,{className:Kn(Bn["down-icon"],p()({},Bn["down-icon-rotate"],j))})]})]}),j&&(0,e.jsx)(Ft,{textClassName:Kn(Bn.text),itemClassName:Kn(Bn["group-mcp-item-children"]),type:r.qR.MCP,list:s.children,deleteList:t,onSet:g,onDel:l})]})},ho=Co,ft={title:"title___ku1cn","content-box":"content-box___fiZV5",add:"add___TngwK",input:"input___fm7tL"},lt=E().bind(ft),Ao=function(i){var s=i.agentConfigInfo,t=i.onChangeAgent,g=(0,a.useState)(""),l=o()(g,2),I=l[0],f=l[1],j=(0,a.useState)([""]),A=o()(j,2),S=A[0],P=A[1];(0,a.useEffect)(function(){if(s){var Q;f(s.openingChatMsg),((Q=s.openingGuidQuestions)===null||Q===void 0?void 0:Q.length)>0&&P(s.openingGuidQuestions)}},[s]);var G=function(){var D=Ie()(S);D.push(""),P(D)},h=function(D){var C=Ie()(S);C.splice(D,1),P(C),t(C,"openingGuidQuestions")},N=function(D){f(D),t(D,"openingChatMsg")},x=function(D,C){var $=Ie()(S);$[D]=C,P($),t($,"openingGuidQuestions")};return(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:lt(ft.title),children:"\u5F00\u573A\u767D\u6587\u6848"}),(0,e.jsx)("div",{className:lt(ft["content-box"]),children:(0,e.jsx)(In.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u5F00\u573A\u767D",value:I,onChange:function(D){return N(D.target.value)},autoSize:{minRows:3,maxRows:5}})}),(0,e.jsxs)("div",{className:lt("flex","content-between"),children:[(0,e.jsx)("p",{className:lt(ft.title),children:"\u5F00\u573A\u767D\u9884\u7F6E\u95EE\u9898"}),(0,e.jsx)(kn.Z,{className:lt(ft.add,"cursor-pointer"),onClick:G})]}),(0,e.jsx)("div",{children:S?.map(function(Q,D){return(0,e.jsx)(In.Z,{rootClassName:lt(ft.input),placeholder:"\u8F93\u5165\u5F00\u573A\u767D\u5F15\u5BFC\u95EE\u9898",value:Q,onChange:function($){return x(D,$.target.value)},suffix:(0,e.jsx)(gn.Z,{className:lt("cursor-pointer"),onClick:function(){return h(D)}})},D)})})]})},_o=Ao,Qn=E().bind(Zn),jo=function(i){var s,t,g=i.agentId,l=i.agentConfigInfo,I=i.onChangeAgent,f=(0,a.useState)(!1),j=o()(f,2),A=j[0],S=j[1],P=(0,a.useState)(!1),G=o()(P,2),h=G[0],N=G[1],x=(0,a.useState)(r.qR.Plugin),Q=o()(x,2),D=Q[0],C=Q[1],$=(0,a.useState)([u.bX.Opening_Remarks]),R=o()($,2),re=R[0],k=R[1],we=(0,a.useState)([]),ve=o()(we,2),Ue=ve[0],Xe=ve[1],an=(0,a.useState)(),Fe=o()(an,2),de=Fe[0],en=Fe[1],un=(0,a.useState)([]),Ee=o()(un,2),Y=Ee[0],Se=Ee[1],ke=(0,a.useState)(!1),on=o()(ke,2),Ve=on[0],me=on[1],le=(0,m.useModel)("spaceAgent"),B=le.agentComponentList,Be=le.setAgentComponentList,Te=(0,m.useModel)("conversationInfo"),Ze=Te.handleVariables,fe=function(ae){return B?.filter(function(ye){return ye.type===ae})||[]},ie=(0,a.useMemo)(function(){var ce=fe(r.qR.MCP),ae=new Map;return ce.forEach(function(ye){var Ke=ye.targetId,An=ye.icon,Nn=ye.groupName,bn=ye.groupDescription,Mn=Ke.toString();ae.has(Mn)||ae.set(Mn,{targetId:Ke,icon:An,groupName:Nn,groupDescription:bn,children:[]});var at=ae.get(Mn);at.children.push(ye)}),Array.from(ae.values())},[B]),Ae=(0,a.useMemo)(function(){return B?.find(function(ce){return ce.type===r.qR.Variable})},[B]),Me=function(ae){return B?.some(function(ye){return ye.type===ae})},q=(0,a.useMemo)(function(){var ce=[];return Me(r.qR.Plugin)&&ce.push(u.bX.Plugin),Me(r.qR.Workflow)&&ce.push(u.bX.Workflow),Me(r.qR.Trigger)&&ce.push(u.bX.Trigger),Me(r.qR.MCP)&&ce.push(u.bX.MCP),ce},[B]),Oe=(0,a.useMemo)(function(){return Me(r.qR.Knowledge)?[u.bX.Text]:[]},[B]),cn=(0,a.useMemo)(function(){var ce=[];return Me(r.qR.Variable)&&ce.push(u.bX.Variable),Me(r.qR.Table)&&ce.push(u.bX.Table),ce},[B]),dn=(0,X.Z)(y.dO,{manual:!0,debounceWait:300}),xn=dn.runAsync,Cn=(0,X.Z)(y.Nu,{manual:!0,debounceWait:300}),vn=Cn.runAsync,ut=(0,X.Z)(y.Wu,{manual:!0,debounceWait:300}),De=ut.runAsync,ge=function(){var ce=We()(z()().mark(function ae(ye,Ke,An,Nn){var bn,Mn,at,wt;return z()().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return bn=[].concat(Ie()(Y),[{id:ye,targetId:Ke,type:An}]),Se(bn),Ut.next=4,vn(ye);case 4:J.ZP.success("\u5DF2\u6210\u529F\u5220\u9664"),Mn=B?.filter(function(Un){var aa;return!(Un.id===ye&&Un.type===An&&(((aa=Un.bindConfig)===null||aa===void 0?void 0:aa.toolName)||"")===(Nn||""))})||[],Be(Mn),at=Ue?.filter(function(Un){return!(Un.targetId===Ke&&Un.type===An&&(Un.toolName||"")===(Nn||""))})||[],Xe(at),wt=Y.filter(function(Un){return Un.id!==ye&&Un.targetId!==Ke&&Un.type!==An}),Se(wt);case 11:case"end":return Ut.stop()}},ae)}));return function(ye,Ke,An,Nn){return ce.apply(this,arguments)}}(),se=function(){var ce=We()(z()().mark(function ae(){var ye,Ke,An;return z()().wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:return bn.next=2,xn(g);case 2:ye=bn.sent,Ke=ye.data,Be(Ke),An=Ke?.map(function(Mn){var at,wt=Mn.type===r.qR.MCP?(at=Mn.bindConfig)===null||at===void 0?void 0:at.toolName:"";return{type:Mn.type,targetId:Mn.targetId,status:r.BQ.Added,toolName:wt}})||[],Xe(An);case 7:case"end":return bn.stop()}},ae)}));return function(){return ce.apply(this,arguments)}}(),te=(0,X.Z)(y.AM,{manual:!0,debounceWait:300,onSuccess:function(){var ce=We()(z()().mark(function ye(){return z()().wrap(function(An){for(;;)switch(An.prev=An.next){case 0:return J.ZP.success("\u5DF2\u6210\u529F\u6DFB\u52A0"),An.next=3,se();case 3:case"end":return An.stop()}},ye)}));function ae(){return ce.apply(this,arguments)}return ae}(),onError:function(ae,ye){var Ke=ye[0],An=Ke.targetId,Nn=Ke.type;Xe(function(bn){return bn.filter(function(Mn){return Mn.type===Nn&&Mn.targetId!==An})})}}),Re=te.run;(0,a.useEffect)(function(){se()},[g]);var Ge=function(ae,ye){ae.stopPropagation(),C(ye),me(!0)},hn=function(ae){ae.stopPropagation(),N(!0)},Pe=function(){var ce=We()(z()().mark(function ae(){var ye,Ke;return z()().wrap(function(Nn){for(;;)switch(Nn.prev=Nn.next){case 0:return N(!1),se(),Nn.next=4,De(g);case 4:ye=Nn.sent,Ke=ye.data,Ze(Ke);case 7:case"end":return Nn.stop()}},ae)}));return function(){return ce.apply(this,arguments)}}(),mn=function(ae){var ye,Ke=B?.find(function(bn){return bn.id===ae}),An=Ke==null||(ye=Ke.bindConfig)===null||ye===void 0?void 0:ye.inputArgBindConfigs,Nn=(0,_t.T6)(An||[]);Ke&&Ke.bindConfig&&(Ke.bindConfig.inputArgBindConfigs=Nn),Ke?.type===r.qR.Workflow&&(Ke.bindConfig.argBindConfigs=null),en(Ke),S(!0)},Fn=[{key:u.bX.Plugin,label:"\u63D2\u4EF6",children:(0,e.jsx)(Ft,{textClassName:Qn(Zn.text),type:r.qR.Plugin,list:fe(r.qR.Plugin),deleteList:Y,onSet:mn,onDel:ge}),extra:(0,e.jsx)(tn.Z,{title:"\u6DFB\u52A0\u63D2\u4EF6",onClick:function(ae){return Ge(ae,r.qR.Plugin)}})},{key:u.bX.Workflow,label:"\u5DE5\u4F5C\u6D41",children:(0,e.jsx)(Ft,{textClassName:Qn(Zn.text),type:r.qR.Workflow,list:fe(r.qR.Workflow),deleteList:Y,onSet:mn,onDel:ge}),extra:(0,e.jsx)(tn.Z,{title:"\u6DFB\u52A0\u5DE5\u4F5C\u6D41",onClick:function(ae){return Ge(ae,r.qR.Workflow)}})},{key:u.bX.MCP,label:"MCP",children:ie!=null&&ie.length?ie.map(function(ce){return(0,e.jsx)(ho,{item:ce,deleteList:Y,onSet:mn,onDel:ge},ce.targetId)}):(0,e.jsx)("p",{className:Qn(Zn.text),children:"\u667A\u80FD\u4F53\u53EF\u4EE5\u901A\u8FC7\u6807\u51C6\u5316\u534F\u8BAE\uFF08MCP\uFF09\u8FDE\u63A5\u5404\u7C7B\u670D\u52A1API\u5E76\u53D1\u8D77\u8C03\u7528\u3002"}),extra:(0,e.jsx)(tn.Z,{title:"\u6DFB\u52A0MCP",onClick:function(ae){return Ge(ae,r.qR.MCP)}})}],wn=[{key:u.bX.Text,label:"\u6587\u672C",children:(0,e.jsx)(Wa,{textClassName:Qn(Zn.text),list:fe(r.qR.Knowledge),deleteList:Y,onDel:ge}),extra:(0,e.jsx)(tn.Z,{title:"\u6DFB\u52A0\u77E5\u8BC6\u5E93",onClick:function(ae){return Ge(ae,r.qR.Knowledge)}})}],ta=[{key:u.bX.Variable,label:"\u53D8\u91CF",children:(0,e.jsx)(be,{textClassName:Qn(Zn.text),list:(Ae==null||(s=Ae.bindConfig)===null||s===void 0?void 0:s.variables)||[],onClick:hn}),extra:(0,e.jsx)(tn.Z,{title:"\u6DFB\u52A0\u53D8\u91CF",onClick:hn})},{key:u.bX.Table,label:"\u6570\u636E\u8868",children:(0,e.jsx)(Ft,{textClassName:Qn(Zn.text),type:r.qR.Table,list:fe(r.qR.Table),onSet:mn,onDel:ge}),extra:(0,e.jsx)(tn.Z,{title:"\u6DFB\u52A0\u6570\u636E\u8868",onClick:function(ae){return Ge(ae,r.qR.Table)}})},{key:u.bX.Long_Memory,label:"\u957F\u671F\u8BB0\u5FC6",children:(0,e.jsx)(Ha,{textClassName:Qn(Zn.text),openLongMemory:l?.openLongMemory}),extra:(0,e.jsx)(ze.Z,{value:l?.openLongMemory===u.nb.Open,onClick:function(ae,ye){ye.stopPropagation()},onChange:function(ae){return I(ae?u.nb.Open:u.nb.Close,"openLongMemory")}})}],dr=[{key:u.bX.Opening_Remarks,label:"\u5F00\u573A\u767D",children:(0,e.jsx)(_o,{agentConfigInfo:l,onChangeAgent:I})},{key:u.bX.User_Problem_Suggestion,label:"\u7528\u6237\u95EE\u9898\u5EFA\u8BAE",children:(0,e.jsx)("p",{className:Qn(Zn.text),children:"\u5728\u6BCF\u6B21\u667A\u80FD\u4F53\u56DE\u590D\u540E\uFF0C\u4E0D\u4F1A\u63D0\u4F9B\u4EFB\u4F55\u7528\u6237\u95EE\u9898\u5EFA\u8BAE"}),extra:(0,e.jsx)(ze.Z,{value:l?.openSuggest===u.nb.Open,onClick:function(ae,ye){ye.stopPropagation()},onChange:function(ae){return I(ae?u.nb.Open:u.nb.Close,"openSuggest")}})},{key:u.bX.Open_Scheduled_Task,label:"\u5B9A\u65F6\u4EFB\u52A1",children:(0,e.jsx)("p",{className:Qn(Zn.text),children:"\u5F00\u542F\u540E\uFF0C\u7528\u6237\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E\u5B9A\u65F6\u4EFB\u52A1\u7684\u65B9\u5F0F\u8BA9\u667A\u80FD\u4F53\u6267\u884C\u4EFB\u52A1"}),extra:(0,e.jsx)(ze.Z,{value:l?.openScheduledTask===u.nb.Open,onClick:function(ae,ye){ye.stopPropagation()},onChange:function(ae){return I(ae?u.nb.Open:u.nb.Close,"openScheduledTask")}})}],cr=function(ae){Xe(function(ye){return[].concat(Ie()(ye),[{type:ae.targetType,targetId:ae.targetId,status:r.BQ.Loading,toolName:ae.toolName||""}])}),Re({agentId:g,type:ae.targetType,targetId:ae.targetId,toolName:ae.toolName||""})},vr=(0,a.useCallback)(function(ce){return ce===r.qR.MCP?rn.a$.filter(function(ae){return![u.wQ.Method_Call,u.wQ.Async_Run,u.wQ.Card_Bind].includes(ae.type)}):rn.a$},[]);return(0,e.jsxs)("div",{className:E()("overflow-y","flex-1",Zn.container),children:[(0,e.jsx)(he,{title:"\u6280\u80FD"}),(0,e.jsx)(qe.Z,{items:Fn,defaultActiveKey:q}),(0,e.jsx)(he,{title:"\u77E5\u8BC6"}),(0,e.jsx)(qe.Z,{items:wn,defaultActiveKey:Oe}),(0,e.jsx)(he,{title:"\u8BB0\u5FC6"}),(0,e.jsx)(qe.Z,{items:ta,defaultActiveKey:cn}),(0,e.jsx)(he,{title:"\u5BF9\u8BDD\u4F53\u9A8C"}),(0,e.jsx)(qe.Z,{items:dr,onChangeCollapse:k,defaultActiveKey:re}),(0,e.jsx)(Ye.Z,{open:Ve,onCancel:function(){return me(!1)},checkTag:D,addComponents:Ue,onAdded:cr,tabs:Ja.Ne.filter(function(ce){return ce.key!==r.qR.Agent})}),(0,e.jsx)(La,{open:h,variablesInfo:Ae,onCancel:function(){return N(!1)},onConfirm:Pe}),(0,e.jsx)(xo,{open:A,variables:(Ae==null||(t=Ae.bindConfig)===null||t===void 0?void 0:t.variables)||[],currentComponentInfo:de,devConversationId:l?.devConversationId,settingActionList:vr(de?.type),onCancel:function(){return S(!1)}})]})},Eo=jo,So=n(22675),ha=n(20557),Do=n(86230),yo=n(12758),No=n(58176),Sn={"xagi-nav-style2":"xagi-nav-style2___qKUvh",text:"text___PhyIY","page-container":"page-container___HL1GJ",header:"header___NlYJu","icon-backward":"icon-backward___b3IzE",avatar:"avatar___Erdew","header-info":"header-info___ij1jH","h-title":"h-title___fTG4i","edit-ico":"edit-ico___GDJ3n","agent-rel-info":"agent-rel-info____068A","space-name":"space-name___YpRDg","save-time-box":"save-time-box___aotv9","save-time":"save-time___dyOcH",volcano:"volcano___iFHwy","fold-box":"fold-box___Xvnhk","fold-btn":"fold-btn___iTXFj","header-title":"header-title___u7b9G","right-box":"right-box___eAszv","publish-btn":"publish-btn___GXQ6m",fold:"fold___V7K4E",ico:"ico___zKzSv"},Dn=E().bind(Sn),Io=function(i){var s,t,g,l=i.agentConfigInfo,I=i.onToggleShowStand,f=i.onToggleVersionHistory,j=i.onEditAgent,A=i.onPublish,S=(0,m.useParams)(),P=S.spaceId,G=(0,a.useMemo)(function(){if(l){var N;return!(l!=null&&(N=l.permissions)!==null&&N!==void 0&&N.includes(W.jE.Publish))}else return!1},[l]),h=[{key:"showStand",label:(0,e.jsx)("div",{onClick:I,children:"\u5C55\u793A\u53F0"})},{key:"versionHistory",label:(0,e.jsx)("div",{onClick:f,children:"\u7248\u672C\u5386\u53F2"})}];return(0,e.jsxs)("header",{className:Dn("flex","items-center","relative",Sn.header),children:[(0,e.jsx)(ha.Z,{name:"icons-nav-backward",className:Dn(Sn["icon-backward"]),onClick:function(){return(0,Do.bC)("/space/".concat(P,"/develop"))}}),(0,e.jsx)("img",{className:Dn(Sn.avatar),src:l?.icon||So,alt:""}),(0,e.jsx)("div",{className:Dn("flex","flex-col",Sn["header-info"]),children:(0,e.jsxs)("div",{className:Dn("flex","items-center"),children:[(0,e.jsx)("h3",{className:Dn(Sn["h-title"],"text-ellipsis"),children:l?.name}),(0,e.jsxs)("div",{className:Dn("flex","items-center",Sn["agent-rel-info"]),children:[(0,e.jsx)(zn.Z,{condition:l==null||(s=l.space)===null||s===void 0?void 0:s.icon,children:(0,e.jsx)("img",{src:l==null||(t=l.space)===null||t===void 0?void 0:t.icon,alt:""})}),(0,e.jsx)("span",{className:Dn(Sn["space-name"],"text-ellipsis"),children:l==null||(g=l.space)===null||g===void 0?void 0:g.name})]}),(0,e.jsx)(sn.Z,{className:Dn(Sn["edit-ico"]),onClick:j})]})}),(0,e.jsxs)("div",{className:Dn(Sn["right-box"],"flex","items-center"),children:[(0,e.jsxs)("div",{className:Dn("flex","items-center",Sn["save-time-box"]),children:[(0,e.jsxs)("span",{className:Dn(Sn["save-time"]),children:["\u8349\u7A3F\u81EA\u52A8\u4FDD\u5B58\u4E8E\xA0",ee()(l?.modified).format("HH:mm")]}),l?.publishDate!==null&&ee()(l?.publishDate).isBefore(l?.modified)&&(0,e.jsx)(yo.Z,{bordered:!1,color:"volcano",className:Dn(Sn.volcano),children:"\u6709\u66F4\u65B0\u672A\u53D1\u5E03"})]}),(0,e.jsx)("div",{className:Dn(Sn["fold-box"]),children:(0,e.jsx)(No.Z,{menu:{items:h},placement:"bottomLeft",children:(0,e.jsx)("span",{className:Dn("flex","items-center","cursor-pointer",Sn["fold-btn"]),children:(0,e.jsx)(ha.Z,{name:"icons-common-more"})})})}),(0,e.jsx)(_n.ZP,{type:"primary",className:Dn(Sn["publish-btn"]),onClick:A,disabled:G,children:"\u53D1\u5E03"})]})]})},bo=Io,Aa=n(7098),Mo=n(99730),$t=n(49528),Fo=n(80110),Bo=n(88958),To=n(73981),Tn={"xagi-nav-style2":"xagi-nav-style2___drQy_",text:"text___e2QrX","page-container":"page-container___lY4DG","modal-wrapper":"modal-wrapper___zxeVv",select:"select___s38yZ",title:"title___bLrDJ","generate-name":"generate-name___dwPDv"},yn=E().bind(Tn),Po=function(i){var s=i.spaceId,t=i.modelComponentConfig,g=i.devConversationId,l=i.open,I=i.onCancel,f=(0,a.useState)(0),j=o()(f,2),A=j[0],S=j[1],P=(0,a.useState)([]),G=o()(P,2),h=G[0],N=G[1],x=(0,a.useRef)([]),Q=(0,a.useState)({contextRounds:0,maxTokens:0,mode:$t.jD.Precision,temperature:0,topP:0,reasoningModelId:null}),D=o()(Q,2),C=D[0],$=D[1],R=(0,a.useRef)(0),re=(0,m.useModel)("conversationInfo"),k=re.runQueryConversation,we=(0,m.useRequest)(Mo.Bj,{manual:!0,debounceInterval:300,onSuccess:function(Y){x.current=Y;var Se=Y?.map(function(ke){return{label:ke.name,value:ke.id}})||[];N(Se)}}),ve=we.run;(0,a.useEffect)(function(){l&&t&&(R.current=t.id,$(t.bindConfig),S(t.targetId))},[l,t]),(0,a.useEffect)(function(){ve({spaceId:s,modelType:Fo.Mj.Chat})},[s]);var Ue=(0,a.useMemo)(function(){var Ee;return((Ee=x.current)===null||Ee===void 0||(Ee=Ee.filter(function(Y){return Y.isReasonModel===1&&Y.id!==A}))===null||Ee===void 0?void 0:Ee.map(function(Y){return{label:Y.name,value:Y.id}}))||[]},[x.current,A]),Xe=(0,a.useMemo)(function(){var Ee;return(Ee=x.current)===null||Ee===void 0?void 0:Ee.find(function(Y){return Y.id===A})},[x.current,A]),an=function(){var Ee=We()(z()().mark(function Y(Se){var ke,on=arguments;return z()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return ke=on.length>1&&on[1]!==void 0?on[1]:A,me.next=3,(0,y.VV)({id:R.current,targetId:ke,bindConfig:Se});case 3:case"end":return me.stop()}},Y)}));return function(Se){return Ee.apply(this,arguments)}}(),Fe=function(Y){var Se,ke=Number(Y);S(ke);var on=(Se=x.current)===null||Se===void 0?void 0:Se.find(function(me){return me.id===ke}),Ve=v()({},C);on&&on.maxTokens<Ve.maxTokens&&(Ve=v()(v()({},Ve),{},{maxTokens:on.maxTokens})),ke===C.reasoningModelId&&(Ve=v()(v()({},Ve),{},{reasoningModelId:null})),$(Ve),an(Ve,ke)},de=function(Y){var Se=v()(v()(v()({},C),Y!==$t.jD.Customization?T.p_[Y]:{}),{},{mode:Y});$(Se),an(Se)},en=function(){var Ee=We()(z()().mark(function Y(Se,ke){var on,Ve;return z()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return ke==="reasoningModelId"?on=Number(Se)||null:on=Number(Se)||0,Ve=v()(v()({},C),{},p()(p()({},ke,on),"mode",$t.jD.Customization)),$(Ve),le.next=5,an(Ve);case 5:ke==="reasoningModelId"&&g&&k(g);case 6:case"end":return le.stop()}},Y)}));return function(Se,ke){return Ee.apply(this,arguments)}}(),un=function(){var Y=h?.find(function(ke){return ke.value===A}),Se=String(Y?.label)||"";I(A,Se,C)};return(0,e.jsxs)(rt.Z,{title:"\u6A21\u578B\u8BBE\u7F6E",classNames:{content:yn(Tn["modal-wrapper"])},open:l,footer:null,onCancel:un,children:[(0,e.jsxs)(Bo.Z,{gap:20,children:[(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("h3",{className:yn(Tn.title),children:"\u4F1A\u8BDD\u6A21\u578B"}),(0,e.jsx)(Aa.Z,{placeholder:"\u8BF7\u9009\u62E9\u4F1A\u8BDD\u6A21\u578B",className:yn(Tn.select),onChange:Fe,options:h,value:A})]}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("h3",{className:yn(Tn.title),children:"\u63A8\u7406\u6A21\u578B(\u53EF\u9009)"}),(0,e.jsx)(Aa.Z,{placeholder:"\u8BF7\u9009\u62E9\u63A8\u7406\u6A21\u578B",className:yn(Tn.select),onChange:function(Y){return en(Y,"reasoningModelId")},options:Ue,value:C.reasoningModelId,allowClear:!0})]})]}),(0,e.jsxs)("h3",{className:yn(Tn.title,"flex","items-center"),children:["\u751F\u6210\u591A\u6837\u6027",(0,e.jsx)(tn.Z,{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h4",{className:yn(Tn["generate-name"]),children:"\u7CBE\u786E\u6A21\u5F0F:"}),(0,e.jsx)("p",{children:"\u4E25\u683C\u9075\u5FAA\u6307\u4EE4\u751F\u6210\u5185\u5BB9"}),(0,e.jsx)("p",{children:"\u9002\u7528\u4E8E\u9700\u51C6\u786E\u65E0\u8BEF\u7684\u573A\u5408\uFF0C\u5982\u6B63\u5F0F\u6587\u6863\u3001\u4EE3\u7801\u7B49"}),(0,e.jsx)("h4",{className:yn(Tn["generate-name"]),children:"\u5E73\u8861\u6A21\u5F0F:"}),(0,e.jsx)("p",{children:"\u5728\u521B\u65B0\u548C\u7CBE\u786E\u4E4B\u95F4\u5BFB\u6C42\u5E73\u8861"}),(0,e.jsx)("p",{children:"\u9002\u7528\u4E8E\u5927\u591A\u6570\u65E5\u5E38\u5E94\u7528\u573A\u666F\uFF0C\u751F\u6210\u6709\u8DA3\u4F46\u4E0D\u5931\u4E25\u8C28\u7684\u5185\u5BB9"}),(0,e.jsx)("h4",{className:yn(Tn["generate-name"]),children:"\u521B\u610F\u6A21\u5F0F:"}),(0,e.jsx)("p",{children:"\u6FC0\u53D1\u521B\u610F\uFF0C\u63D0\u4F9B\u65B0\u9896\u72EC\u7279\u7684\u60F3\u6CD5"}),(0,e.jsx)("p",{children:"\u9002\u5408\u9700\u8981\u7075\u611F\u548C\u72EC\u7279\u89C2\u70B9\u7684\u573A\u666F\uFF0C\u5982\u5934\u8111\u98CE\u66B4\u3001\u521B\u610F\u5199\u4F5C\u7B49"}),(0,e.jsx)("h4",{className:yn(Tn["generate-name"]),children:"\u81EA\u5B9A\u4E49\u6A21\u5F0F:"}),(0,e.jsx)("p",{children:"\u901A\u8FC7\u9AD8\u7EA7\u8BBE\u7F6E\uFF0C\u81EA\u5B9A\u4E49\u751F\u6210\u65B9\u5F0F"}),(0,e.jsx)("p",{children:"\u6839\u636E\u9700\u6C42\uFF0C\u8FDB\u884C\u7CBE\u7EC6\u8C03\u6574\uFF0C\u5B9E\u73B0\u4E2A\u6027\u5316\u4F18\u5316"})]}),icon:(0,e.jsx)(xa.Z,{}),type:W.Ai.White})]}),(0,e.jsx)(To.Z,{options:T.Ew,rootClassName:yn("mb-16"),value:C?.mode,onChange:de,block:!0}),(0,e.jsxs)("div",{className:yn("flex","mb-16"),children:[(0,e.jsx)(Wn.Z,{label:"\u751F\u6210\u968F\u673A\u6027",title:"temperature: \u8C03\u9AD8\u6E29\u5EA6\u4F1A\u4F7F\u5F97\u6A21\u578B\u7684\u8F93\u51FA\u66F4\u591A\u6837\u6027\u548C\u521B\u65B0\u6027\uFF0C\u53CD\u4E4B\uFF0C\u964D\u4F4E\u6E29\u5EA6\u4F1A\u4F7F\u8F93\u51FA\u5185\u5BB9\u66F4\u52A0\u9075\u5FAA\u6307\u4EE4\u8981\u6C42\u4F46\u51CF\u5C11\u591A\u6837\u6027\u3002\u5EFA\u8BAE\u4E0D\u8981\u4E0E \u201CTop p\u201D \u540C\u65F6\u8C03\u6574"}),(0,e.jsx)(ct,{min:0,max:1,step:.1,value:String(C?.temperature)||"0",onChange:function(Y){return en(Y,"temperature")}})]}),(0,e.jsxs)("div",{className:yn("flex","mb-16"),children:[(0,e.jsx)(Wn.Z,{label:"Top p",title:"Top p \u4E3A\u7D2F\u8BA1\u6982\u7387: \u6A21\u578B\u5728\u751F\u6210\u8F93\u51FA\u65F6\u4F1A\u4ECE\u6982\u7387\u6700\u9AD8\u7684\u8BCD\u6C47\u5F00\u59CB\u9009\u62E9\uFF0C\u76F4\u5230\u8FD9\u4E9B\u8BCD\u6C47\u7684\u603B\u6982\u7387\u7D2F\u79EF\u8FBE\u5230 Top p \u503C\u3002\u8FD9\u6837\u53EF\u4EE5\u9650\u5236\u6A21\u578B\u53EA\u9009\u62E9\u8FD9\u4E9B\u9AD8\u6982\u7387\u7684\u8BCD\u6C47\uFF0C\u4ECE\u800C\u63A7\u5236\u8F93\u51FA\u5185\u5BB9\u7684\u591A\u6837\u6027\u3002\u5EFA\u8BAE\u4E0D\u8981\u4E0E \u201C\u751F\u6210\u968F\u673A\u6027\u201D \u540C\u65F6\u8C03\u6574\u3002"}),(0,e.jsx)(ct,{min:0,max:1,step:.1,value:String(C?.topP)||"0",onChange:function(Y){return en(Y,"topP")}})]}),(0,e.jsx)("h3",{className:yn(Tn.title),children:"\u8F93\u5165\u53CA\u8F93\u51FA\u8BBE\u7F6E"}),(0,e.jsxs)("div",{className:yn("flex","mb-16"),children:[(0,e.jsx)(Wn.Z,{label:"\u643A\u5E26\u4E0A\u4E0B\u6587\u8F6E\u6570",title:"\u8BBE\u7F6E\u5E26\u5165\u6A21\u578B\u4E0A\u4E0B\u6587\u7684\u5BF9\u8BDD\u5386\u53F2\u8F6E\u6570\u3002\u8F6E\u6570\u8D8A\u591A\uFF0C\u591A\u8F6E\u5BF9\u8BDD\u7684\u76F8\u5173\u6027\u8D8A\u9AD8\uFF0C\u4F46\u6D88\u8017\u7684 Token \u4E5F\u8D8A\u591A"}),(0,e.jsx)(ct,{min:0,max:100,step:1,value:String(C?.contextRounds)||"0",onChange:function(Y){return en(Y,"contextRounds")}})]}),(0,e.jsxs)("div",{className:yn("flex","mb-16"),children:[(0,e.jsx)(Wn.Z,{label:"\u6700\u5927\u56DE\u590D\u957F\u5EA6",title:"\u63A7\u5236\u6A21\u578B\u8F93\u51FA\u7684 Tokens \u957F\u5EA6\u4E0A\u9650\u3002\u901A\u5E38 100 Tokens \u7EA6\u7B49\u4E8E 150 \u4E2A\u4E2D\u6587\u6C49\u5B57\u3002"}),(0,e.jsx)(ct,{min:1,max:Xe?.maxTokens||4096,step:1,value:String(C?.maxTokens)||"0",onChange:function(Y){return en(Y,"maxTokens")}})]})]})},Lo=Po,qt=n(11033),ea={"xagi-nav-style2":"xagi-nav-style2___igdHc",text:"text___FYHpi","page-container":"page-container___xKmft","edit-header":"edit-header___LXHm6","drop-box":"drop-box___RbaYp"},_a=E().bind(ea),Ro=function(i){var s=i.icon,t=i.modelName,g=i.onClick;return(0,e.jsxs)("div",{className:_a("flex","content-between","items-center",ea["edit-header"]),children:[(0,e.jsx)("h3",{children:"\u7F16\u6392"}),(0,e.jsxs)("div",{className:_a("flex","items-center","cursor-pointer",ea["drop-box"]),onClick:g,children:[(0,e.jsx)(zn.Z,{condition:!!s,children:(0,e.jsx)("img",{src:s,alt:""})}),(0,e.jsx)("span",{children:t}),(0,e.jsx)(qt.le,{name:"icons-common-caret_down",style:{fontSize:16}})]})]})},Zo=Ro,Oo=n(77992),wo=n(26292),Uo=n(89083),ko=n(64771),Vo=n(58226),pn={"xagi-nav-style2":"xagi-nav-style2___doNDO",text:"text___ZGIMU","page-container":"page-container___CxNyw",header:"header___Zhp3M","time-box":"time-box___MlxEC",num:"num___pCG3M","vertical-line":"vertical-line___zScjb",box:"box___DfwY3",value:"value___G3F6B",wrap:"wrap___SC3yY",title:"title___Lh0ck","execute-box":"execute-box___GwF5n","component-img":"component-img___a4HVL",name:"name___mFM56",active:"active___vF1vf","render-container":"render-container___EHMbK"},Ko=n(50644),st={container:"container___TOg3u",box:"box___NOAzh","mt-10":"mt-10___DaRdj",label:"label___kH9Er",value:"value___PNdD7"},Lt=E().bind(st),zo=function(i){var s=i.node,t=function(f,j,A){return(0,e.jsxs)("div",{className:Lt("flex",st.box,A),children:[(0,e.jsxs)("span",{className:Lt(st.label),children:[f,"\uFF1A"]}),(0,e.jsx)(Ko.H,{text:j||"--",className:Lt(st.value,"flex-1")})]})},g=s?"".concat(s?.endTime-s?.startTime,"ms"):"--",l=(0,a.useMemo)(function(){switch(s?.type){case r.qR.Plugin:return"\u63D2\u4EF6";case r.qR.Workflow:return"\u5DE5\u4F5C\u6D41";case r.qR.Knowledge:return"\u77E5\u8BC6\u5E93";case r.qR.Variable:return"\u53D8\u91CF";case r.qR.Table:return"\u6570\u636E\u8868";case r.qR.Model:return"\u6A21\u578B";case r.qR.MCP:return"MCP";default:return"--"}},[s?.type]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:Lt(st.container),children:[t("\u7C7B\u578B",l),t("\u72B6\u6001","\u6210\u529F"),t("\u540D\u79F0",s?.name),t("\u8017\u65F6",g)]}),t("\u53D1\u8D77\u65F6\u95F4",s!=null&&s.startTime?ee()(s?.startTime).format("YYYY-MM-DD HH:mm"):"",st["mt-10"]),t("\u7ED3\u675F\u65F6\u95F4",s!=null&&s.endTime?ee()(s?.endTime).format("YYYY-MM-DD HH:mm"):"",st["mt-10"])]})},jn=E().bind(pn),Go=function(i){var s,t=i.visible,g=i.onClose,l=(0,m.useModel)("conversationInfo"),I=l.requestId,f=l.finalResult,j=l.setFinalResult,A=(0,a.useState)(),S=o()(A,2),P=S[0],G=S[1],h=(0,a.useState)(0),N=o()(h,2),x=N[0],Q=N[1],D=(0,a.useState)(""),C=o()(D,2),$=C[0],R=C[1],re=(0,a.useState)(""),k=o()(re,2),we=k[0],ve=k[1],Ue=function(de){return typeof de=="string"?de:JSON.stringify(de,null,2)};(0,a.useEffect)(function(){var Fe=f?.componentExecuteResults||[];if(Fe?.length>0){var de=Fe[x];if(G(de),de){var en=Ue(de.input);R(en);var un=Ue(de.data);ve(un)}}else G(null),R(""),ve("")},[f,x]),(0,a.useEffect)(function(){Q(0)},[f]),(0,a.useEffect)(function(){return function(){j(null)}},[]);var Xe=function(){J.ZP.success("\u590D\u5236\u6210\u529F")},an=function(de){switch(de.type){case r.qR.Plugin:return bt;case r.qR.Workflow:return Vt;case r.qR.Knowledge:return la;case r.qR.Variable:return wo;case r.qR.Table:return fa;case r.qR.Model:return Oo;case r.qR.MCP:return pa;default:return bt}};return(0,e.jsx)(Uo.Z,{title:"\u8C03\u8BD5\u8BE6\u60C5",onClose:g,visible:t,children:f?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("header",{className:jn(pn.header),children:[(0,e.jsx)("div",{className:jn("flex",pn["time-box"]),children:(0,e.jsxs)("div",{className:jn(pn.num,"flex","items-center"),children:[(0,e.jsxs)("span",{children:["\u8017\u65F6",f.endTime-f.startTime," ms"]}),(0,e.jsx)("span",{className:jn(pn["vertical-line"])}),(0,e.jsxs)("span",{children:[f.totalTokens," Tokens"]})]})}),(0,e.jsxs)("div",{className:jn("flex",pn.box),children:[(0,e.jsx)("span",{children:"requestId:"}),(0,e.jsx)("span",{className:jn(pn.value,"text-ellipsis"),children:I}),(0,e.jsx)(Vo.CopyToClipboard,{text:I||"",onCopy:Xe,children:(0,e.jsx)(ko.Z,{})})]})]}),(0,e.jsxs)("div",{className:jn(pn.wrap),children:[(0,e.jsx)("h5",{className:jn(pn.title),children:"\u8C03\u7528\u7EC4\u4EF6"}),f==null||(s=f.componentExecuteResults)===null||s===void 0?void 0:s.map(function(Fe,de){return(0,e.jsxs)("div",{className:jn(pn["execute-box"],"flex","items-center"),children:[(0,e.jsx)("img",{className:jn(pn["component-img"]),src:Fe?.icon||an(Fe),onError:function(un){un.currentTarget.onerror=null,un.currentTarget.src=an(Fe)},alt:""}),(0,e.jsx)("span",{className:jn(pn.name,"cursor-pointer",p()({},pn.active,x===de)),onClick:function(){return Q(de)},children:Fe.name})]},Fe?.id||de)})]}),(0,e.jsxs)("div",{className:jn(pn.wrap),children:[(0,e.jsx)("h5",{className:jn(pn.title),children:"\u8282\u70B9\u8BE6\u60C5"}),(0,e.jsx)(zo,{node:P})]}),(0,e.jsxs)("div",{className:jn(pn.wrap,pn["render-container"]),children:[(0,e.jsx)("h5",{className:jn(pn.title),children:"\u8F93\u5165"}),(0,e.jsx)("pre",{children:$})]}),(0,e.jsxs)("div",{className:jn(pn.wrap,pn["render-container"]),children:[(0,e.jsx)("h5",{className:jn(pn.title),children:"\u8F93\u51FA"}),(0,e.jsx)("pre",{children:we})]})]}):(0,e.jsx)("div",{className:jn("flex","h-full","items-center","content-center"),children:(0,e.jsx)(Ht.Z,{description:"\u6682\u65E0\u6570\u636E"})})})},Wo=(0,a.memo)(Go),St={"xagi-nav-style2":"xagi-nav-style2___ENYpU",text:"text___ARP6g","page-container":"page-container___G6HH4",container:"container___NqsMD","edit-content":"edit-content___FOZJf",section:"section___tvgXt","edit-info":"edit-info___B_f4_","h-line":"h-line___sXIzi"},Yo=n(65857),Ho=n(49974),Qo=n(34077),Xo=n(2349),ja=n(84283),Ea=n(71530),Jo=n(75468),$o=n(88458),Sa=n(35855),qo=n(32699),Dt={"xagi-nav-style2":"xagi-nav-style2___viIps",text:"text___USG72","page-container":"page-container___sAe9w",container:"container___Kt1nG",loading:"loading___tGVwz","main-content":"main-content___YdPCn","chat-wrapper":"chat-wrapper___IAYX5"},Rt={"xagi-nav-style2":"xagi-nav-style2___OXozL",text:"text___AjEUO","page-container":"page-container___Rd4a6",container:"container___bIrt_","extra-box":"extra-box___CdP4P",debug:"debug___pjPlo"},na=E().bind(Rt),er=function(i){var s=i.onPressDebug;return(0,e.jsxs)("header",{className:na("flex","content-between","items-center",Rt.container),children:[(0,e.jsx)("h3",{children:"\u9884\u89C8\u4E0E\u8C03\u8BD5"}),(0,e.jsx)("div",{className:na(Rt["extra-box"],"flex"),children:(0,e.jsx)(_n.ZP,{type:"text",className:na(Rt.debug),icon:(0,e.jsx)(qt.le,{name:"icons-common-debug",style:{fontSize:16}}),onClick:s,children:"\u8C03\u8BD5"})})]})},nr=er,yt=E().bind(Dt),tr=function(i){var s=i.agentId,t=i.agentConfigInfo,g=i.onPressDebug,l=fn.Z.useForm(),I=o()(l,1),f=I[0],j=(0,a.useRef)(0),A=(0,a.useState)(null),S=o()(A,2),P=S[0],G=S[1],h=(0,m.useModel)("conversationInfo"),N=h.messageList,x=h.setMessageList,Q=h.chatSuggestList,D=h.loadingConversation,C=h.runQueryConversation,$=h.isLoadingConversation,R=h.setIsLoadingConversation,re=h.loadingSuggest,k=h.onMessageSend,we=h.messageViewRef,ve=h.messageViewScrollToBottom,Ue=h.allowAutoScrollRef,Xe=h.scrollTimeoutRef,an=h.handleClearSideEffect,Fe=h.showScrollBtn,de=h.setShowScrollBtn,en=h.resetInit,un=h.manualComponents,Ee=h.variables,Y=h.userFillVariables,Se=h.requiredNameList,ke=(0,Jo.Z)(),on=ke.runAsyncConversationCreate,Ve=(0,$o.Z)(),me=Ve.selectedComponentList,le=Ve.handleSelectComponent,B=Ve.initSelectedComponentList,Be=fn.Z.useWatch([],{form:f,preserve:!0});(0,a.useEffect)(function(){Be&&Object.keys(Be).length===0||f.validateFields({validateOnly:!0}).then(function(){return G(Be)}).catch(function(){return G(null)})},[f,Be]),(0,a.useEffect)(function(){Y&&(f.setFieldsValue(Y),G(Y))},[Y]);var Te=(0,a.useMemo)(function(){if(Se?.length>0){if(!P)return!0;var q=(0,M.VL)(Se,Object.keys(P));return!q}return!1},[Se,P]),Ze=(0,a.useMemo)(function(){return{assistant:{name:t?.name,avatar:t?.icon},system:{name:t?.name,avatar:t?.icon}}},[t]);(0,a.useEffect)(function(){var q=we.current;if(q){var Oe=function(){var xn=q.scrollTop,Cn=q.scrollHeight,vn=q.clientHeight;xn+vn<Cn?(Ue.current=!1,Xe.current&&(clearTimeout(Xe.current),Xe.current=null),de(!0)):(Ue.current=!0,de(!1))},cn=(0,qo.throttle)(Oe,300);return q.addEventListener("wheel",cn),function(){q.removeEventListener("wheel",cn),en()}}},[]),(0,a.useEffect)(function(){B(un)},[un]),(0,a.useEffect)(function(){if(t){var q=t.devConversationId;j.current=q,R(!1),C(q)}},[t?.devConversationId]);var fe=function(Oe){var cn=Oe.conversationId,dn=Oe.message;j.current===Number(cn)&&(x(function(xn){return[].concat(Ie()(xn),[dn])}),Ue.current&&ve())};(0,a.useEffect)(function(){return Sa.Z.on(Ea.Z.RefreshChatMessage,fe),function(){Sa.Z.off(Ea.Z.RefreshChatMessage,fe)}},[]);var ie=(0,a.useCallback)(We()(z()().mark(function q(){var Oe,cn,dn,xn;return z()().wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:return an(),x([]),R(!1),vn.next=5,on({agentId:s,devMode:!0});case 5:Oe=vn.sent,cn=Oe.success,dn=Oe.data,cn&&(xn=dn?.id,j.current=xn,C(xn));case 9:case"end":return vn.stop()}},q)})),[s]),Ae=function(Oe,cn){var dn=j.current;if(dn){if(Te){f.validateFields(),J.ZP.warning("\u8BF7\u586B\u5199\u5FC5\u586B\u53C2\u6570");return}k(dn,Oe,cn,me,P,!0,!1)}},Me=function(){Ue.current=!0,ve(),de(!1)};return(0,e.jsxs)("div",{className:yt(Dt.container,"h-full","flex","flex-col"),children:[(0,e.jsx)(nr,{onPressDebug:g}),(0,e.jsxs)("div",{className:yt(Dt["main-content"],"flex-1","flex","flex-col","overflow-hide"),children:[(0,e.jsx)(Xo.Z,{form:f,variables:Ee,isFilled:!0}),(0,e.jsx)("div",{className:yt(Dt["chat-wrapper"],"scroll-container","flex-1"),ref:we,children:D?(0,e.jsx)("div",{className:yt("flex","items-center","content-center","h-full"),children:(0,e.jsx)(zt.Z,{className:yt(Dt.loading)})}):N?.length>0?(0,e.jsxs)(e.Fragment,{children:[N?.map(function(q){return(0,e.jsx)(Qo.Z,{messageInfo:q,roleInfo:Ze,mode:"chat"},q?.id)}),(0,e.jsx)(ja.Z,{loading:re,chatSuggestList:Q,onClick:Ae})]}):$&&(0,e.jsx)(Yo.Z,{className:"h-full",icon:t?.icon,name:t?.name,extra:(0,e.jsx)(ja.Z,{className:"mt-16",loading:re,chatSuggestList:Q,onClick:Ae})})}),(0,e.jsx)(Ho.Z,{clearDisabled:!(N!=null&&N.length),onEnter:Ae,onClear:ie,wholeDisabled:Te,visible:Fe,manualComponents:un,selectedComponentList:me,onSelectComponent:le,onScrollBottom:Me},"edit-agent-".concat(s))]})]})},ar=tr,or=n(84720),pt={"xagi-nav-style2":"xagi-nav-style2___B3J39",text:"text___uQ7fZ","page-container":"page-container___nYwgb",container:"container___jDARb","system-tips-wrapper":"system-tips-wrapper____JACe","system-tips":"system-tips___GQnw1","optimize-btn":"optimize-btn___SX6yI","text-area":"text-area___eJKj6"},Zt=E().bind(pt),rr=In.Z.TextArea,ir=function(i){var s=i.value,t=i.agentConfigInfo,g=i.onChange,l=i.onReplace,I=(0,a.useState)(!1),f=o()(I,2),j=f[0],A=f[1],S=(0,a.useRef)(null),P=function(h){A(!1),l(h)};return(0,e.jsxs)("div",{className:Zt("flex","flex-col","flex-1",pt.container),children:[(0,e.jsxs)("div",{className:Zt("flex","items-center","content-between",pt["system-tips-wrapper"]),children:[(0,e.jsx)("span",{className:Zt(pt["system-tips"]),children:"\u7CFB\u7EDF\u63D0\u793A\u8BCD"}),(0,e.jsx)(Jt.Z,{title:"\u81EA\u52A8\u4F18\u5316\u63D0\u793A\u8BCD",placement:"top",children:(0,e.jsx)(_n.ZP,{color:"primary",variant:"filled",size:"small",className:Zt(pt["optimize-btn"]),icon:(0,e.jsx)(qt.le,{name:"icons-common-stars",style:{fontSize:16}}),onClick:function(){return A(!0)},children:"\u4F18\u5316"})})]}),(0,e.jsx)(rr,{classNames:{textarea:"flex-1"},ref:S,rootClassName:pt["text-area"],placeholder:"\u8F93\u5165\u7CFB\u7EDF\u63D0\u793A\u8BCD\uFF0C\u5BF9\u5927\u6A21\u578B\u8FDB\u884C\u89D2\u8272\u5851\u9020",variant:"borderless",value:s,onChange:function(h){return g(h.target.value)}}),(0,e.jsx)(or.Z,{open:j,onCancel:function(){return A(!1)},onReplace:P,targetId:t?.id,defaultValue:s||"".concat(t?.name||"")+"".concat(t?.description||"")})]})},lr=ir,Ot=E().bind(St),sr=function(){var i,s,t=(0,m.useParams)(),g=Number(t.spaceId),l=Number(t.agentId),I=(0,a.useState)(!1),f=o()(I,2),j=f[0],A=f[1],S=(0,a.useState)(!1),P=o()(S,2),G=P[0],h=P[1],N=(0,a.useState)(!1),x=o()(N,2),Q=x[0],D=x[1],C=(0,w.Z)(),$=C.navigationStyle,R=(0,a.useState)(),re=o()(R,2),k=re[0],we=re[1],ve=(0,m.useModel)("conversationInfo"),Ue=ve.cardList,Xe=ve.showType,an=ve.setShowType,Fe=ve.setIsSuggest,de=ve.messageList,en=ve.setChatSuggestList,un=(0,m.useModel)("tenantConfigInfo"),Ee=un.setTitle,Y=(0,m.useRequest)(y.T_,{manual:!0,debounceInterval:300,onSuccess:function(Ze){we(Ze)}}),Se=Y.run,ke=(0,m.useRequest)(y.mp,{manual:!0,debounceInterval:1e3}),on=ke.run;(0,a.useEffect)(function(){Se(l),Ee()},[l]),(0,a.useEffect)(function(){(0,M.t7)()},[]);var Ve=function(Ze){var fe=v()(v()({},k),Ze);we(fe),h(!1)},me=function(Ze,fe,ie){D(!1);var Ae=pe()(k);Ae.modelComponentConfig.bindConfig=ie,Ae.modelComponentConfig.targetId=Ze,Ae.modelComponentConfig.name=fe,we(Ae)},le=function(Ze,fe){var ie=v()(v()({},k),{},p()({},fe,Ze));if(ie.publishStatus===W.xH.Published&&(ie.modified=ee()().toString()),we(ie),fe==="openSuggest"&&Fe(Ze===u.nb.Open),fe==="openingGuidQuestions"&&!(de!=null&&de.length)){var Ae=Ze,Me=Ae?.filter(function(Re){return!!Re})||[];en(Me)}var q=ie.id,Oe=ie.name,cn=ie.description,dn=ie.icon,xn=ie.userPrompt,Cn=ie.openSuggest,vn=ie.systemPrompt,ut=ie.suggestPrompt,De=ie.openingChatMsg,ge=ie.openScheduledTask,se=ie.openingGuidQuestions,te=ie.openLongMemory;on({id:q,name:Oe,description:cn,icon:dn,systemPrompt:vn,userPrompt:xn,openSuggest:Cn,suggestPrompt:ut,openingChatMsg:De,openScheduledTask:ge,openingGuidQuestions:se,openLongMemory:te})},B=function(){Xe===u.wv.Debug_Details?an(u.wv.Hide):an(u.wv.Debug_Details)},Be=function(){A(!1);var Ze=ee()().toString(),fe=v()(v()({},k),{},{publishDate:Ze,modified:Ze,publishStatus:W.xH.Published});we(fe)};return(0,e.jsxs)("div",{className:Ot(St.container,"h-full","flex","flex-col"),children:[(0,e.jsx)(bo,{agentConfigInfo:k,onToggleShowStand:function(){return an(u.wv.Show_Stand)},onToggleVersionHistory:function(){return an(u.wv.Version_History)},onEditAgent:function(){return h(!0)},onPublish:function(){return A(!0)}}),(0,e.jsxs)("section",{className:Ot("flex","flex-1",St.section,"xagi-nav-".concat($)),children:[(0,e.jsxs)("div",{className:Ot("radius-6","flex","flex-col",St["edit-info"]),children:[(0,e.jsx)(Zo,{icon:k==null||(i=k.modelComponentConfig)===null||i===void 0?void 0:i.icon,modelName:k==null||(s=k.modelComponentConfig)===null||s===void 0?void 0:s.name,onClick:function(){return D(!0)}}),(0,e.jsxs)("div",{className:Ot("flex-1","flex","overflow-y",St["edit-content"]),children:[(0,e.jsx)(lr,{agentConfigInfo:k,value:k?.systemPrompt,onChange:function(Ze){return le(Ze,"systemPrompt")},onReplace:function(Ze){return le(Ze,"systemPrompt")}}),(0,e.jsx)(Eo,{agentId:l,agentConfigInfo:k,onChangeAgent:le})]})]}),(0,e.jsx)(ar,{agentConfigInfo:k,agentId:l,onPressDebug:B}),(0,e.jsx)(Wo,{visible:Xe===u.wv.Debug_Details,onClose:function(){return an(u.wv.Hide)}}),(0,e.jsx)(d.Z,{cardList:Ue,visible:Xe===u.wv.Show_Stand,onClose:function(){return an(u.wv.Hide)}}),(0,e.jsx)(V.Z,{targetId:l,targetName:k?.name,targetType:r.qR.Agent,permissions:k?.permissions||[],visible:Xe===u.wv.Version_History,onClose:function(){return an(u.wv.Hide)}})]}),(0,e.jsx)(_.Z,{targetId:l,open:j,spaceId:g,category:k?.category,onCancel:function(){return A(!1)},onConfirm:Be}),(0,e.jsx)(c.Z,{spaceId:g,mode:W.jA.Update,agentConfigInfo:k,open:G,onCancel:function(){return h(!1)},onConfirmUpdate:Ve}),(0,e.jsx)(Lo,{spaceId:g,modelComponentConfig:k?.modelComponentConfig,open:Q,devConversationId:k?.devConversationId,onCancel:me})]})},ur=sr},69626:function(Je,oe,n){n.d(oe,{DM:function(){return v},Lf:function(){return b},QX:function(){return p},ac:function(){return _},ap:function(){return c},f5:function(){return o},l_:function(){return ue},pS:function(){return O}});var ue=function(d){return d.NPX="NPX",d.UVX="UVX",d.SSE="SSE",d.COMPONENT="COMPONENT",d}({}),p=function(d){return d.Initialization="Initialization",d.Deploying="Deploying",d.Deployed="Deployed",d.DeployFailed="DeployFailed",d.Stopped="Stopped",d}({}),b=function(d){return d.EditOrDeploy="EditOrDeploy",d.Delete="Delete",d.Stop="Stop",d.Export="Export",d}({}),v=function(d){return d.All="All",d.Deployed="Deployed",d}({}),O=function(d){return d.Stop_Service="Stop_Service",d.Service_Export="Service_Export",d.Del="Del",d}({}),o=function(d){return d[d.Overview=0]="Overview",d[d.Tool=1]="Tool",d[d.Resource=2]="Resource",d[d.Prompt=3]="Prompt",d}({}),c=function(d){return d.TOOL="TOOL",d.RESOURCE="RESOURCE",d.PROMPT="PROMPT",d}({}),_=function(d){return d.Custom="Custom",d.Official="Official",d}({})},46:function(Je,oe,n){n.d(oe,{HT:function(){return b},MN:function(){return O},QC:function(){return o},Th:function(){return ue},wF:function(){return p},yB:function(){return v}});var ue=function(c){return c[c.PLUGIN=1]="PLUGIN",c[c.TEMPLATE=2]="TEMPLATE",c[c.MCP=3]="MCP",c}({}),p=function(c){return c[c.ALL=1]="ALL",c[c.ENABLED=2]="ENABLED",c[c.MY_SHARE=3]="MY_SHARE",c}({}),b=function(c){return c.ALL="all",c.ENABLED="enabled",c.SHARED="shared",c}({}),v=function(c){return c[c.DRAFT=1]="DRAFT",c[c.REVIEWING=2]="REVIEWING",c[c.PUBLISHED=3]="PUBLISHED",c[c.OFFLINE=4]="OFFLINE",c[c.REJECTED=5]="REJECTED",c}({}),O=function(c){return c[c.ENABLED=1]="ENABLED",c[c.DISABLED=2]="DISABLED",c}({}),o=function(c){return c[c.NO=0]="NO",c[c.YES=1]="YES",c}({})},10802:function(Je){Je.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAYAAAAdHLWhAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAbsSURBVHic7Zw/TBtXHMe/7xmDy9D4xJApKllCN7NFYihEkcpERZayVaAEVHUJkTqXo3MkyBKhkChWtnQJKVOrRjVLKja8NVniqEuHIh+Vyj/D/TqYcy/Hs3ln+917577Pxv3zz/e997l3751haJM7bnWCMV4A0QQYGwYwDCDf7vF6DA+AB6IdMFYi8suPXafUzoFYnI2/dqvDp+BLYJhAPRCLPB6R/+AEWC26jie7k1RAoWBm2y7PEuAxQvEY/rJMUBcGNO9WZ8H4EmyL6TaeT/7cE9fZaLVRy4AW3L0VYljsbl2WMIyw+si9dK/petHCWbeaz/LMUxBNqyvN0oCxjZp/OidSXp9oextOwhBNZ3kGAG5FV/HoggV3b8WGowGi6QV3byW6+APF3Xar05zxF8lVZTkH+XPrrlMM/mwENOtW81nG38E+bOqmkiH/xprrVICQ4vrBl2DDMYH6M+cZDLCtx0Qy5F9dc50KB4A+YBE2HKMIWhEHAMb4Xb3lWM5RH+8EOxuV/lVzORYBRP4Nzhgv6C7EIoYxXuAgmtBdiKUJRBMcjI3qrsPSBMaGOWzvzWRsQIaTPzdYajEL4XRDWhkdqX+dt+9PsX9ImqvpDj0R0Fghi6nxAQydCWHX8/H8p0PsvDnRXFnnpDqgoTzHzOcDGP00e275NzODeFs5wdMfD7Hr+Zoq7Bw2v7yXOhcM5hhuXu/H1PiA1PabW0d4tX2cSu2lrgVFdSbD1PgAxgrZVGovNQE101mc/dOoPeMVF1dnsqRFe0a3oHZ0JktatGdkQJ3qLM7nmK49oxSnSmeymKg9Y1qQSp3JYqL2tAeUlM5kMU172hSnW2ey6NaelhZkgs5k0a29RAMyTWey6NReIopLi85kSVJ7ylvQUJ7j268GU6EzWQLt3X+2r7w1KT9rY4VsT4UTMJTnGCuoV7XyM/e6XNPeVVXBrufjdbmm/HPsPagNeuoeBAD7h4TNrSO8Ltcw90UO14a1Px+3xc7vNTz/+aj3enFRRkf6MDOZS829adfzGxdY0mi5lHfenODt+39Sob3/5UgCYL72dOhMhDHTDaZoT6fORBhz2ZqgPd06E2FMQIA+7ZmiMxGJ+2R0pA+Dudb/w2nX83H/2T4ePlc7lLLr+Si+PMDDHw6kPufK5eT1m1gLGsrzxhhWcGLevD9tuY9K7cXRWXh6JOkR7UQ6CVPjA8ITHOfLDuV5V7QXR2fhiyrM/iHh1fYxNreOOqpFBuUB3bzej5nJXNP1wZeVvZrb7e3F7Z01u6jCFF8eKO/tKVfcwQUnfTDHGlepKu21qzMTSERxY4UsvpzMXdg5ALqrvW7oTESSz0qJPagGLeXm9f4Lt+1Ueyp0FvBq+xi/bB/3VichzJXLHDOTcjd72d4e8N+UBgAlOvvjz1Pp7ng30TbUo0p7MpiqMxFax+JUaq8ZJutMhBGDpaq0FyYNOhNhREABKrSXJp2JMCogoLvaS5vORBgXUEAn2kurzkQkGtBQnmPqs378Vq5J30Piau+vPVKis7FCFqMjfb350ojotas4Xec42pMhjs5E97AkJ/aUB9Tq1d+4Xec42hMRV2et7mHBnJXq1qQ8IJkbddyucxztBcePqzOZe9jm1pHyKQetLSiKCu11qrNm9EwLAuK9+tst7XVTZ1F66h4UJs6saLvaOwi9eCK7n2yX3L76KyCu9j7KsVTP/0RJxY+IuzVQGmCqzkRoH0lQqb0oputMhPaAAlRpD0iPzkQYExCgRntp0pkIowIK6Ib20qgzEUYGFNCO9gCkVmcijA4IiK892eEfE3UmwviAAnS8+msCqQkoIKlXf03BqN8HyaD61V/TSF1AgPwPvdKmMxGpU5yITl/9NZlUtqAogfaufZJp/N0r9ERAQF17vRRMgBk/grE0hQPwdBdhaYrHAVR0V2FpisdBVNFdhaUJRDscjJV012FpAmMlTuSXdddhEUPklxkAzC/vvQMwrLccSwRvfemSU+9mE0p6a7FEIfIfAGfPQRn4y3rLsUTwToBV4CygNdepgFDUWpKlASMUi67jAaGRhLNWVNFVlKWBdxwyWiOgeiuyqtONT/5c0HqAyFjcuusUGdXdZ0keRlh94jobHywTbTj//d8vQDSdTFkWAABjG+vffXwrulg4ml3zT+fA2IZonUUBjG3U/NM54apW+y24eyvEsKimKgtQ19oj99K9pusvOsBttzrNGX8KIN/VyiwVkL+87jrFVhtdOGH3xHU2auRfPes82LmjbkAoZsi/cVE4gEQLCjPrVvN9wCJj/C5si4pLBYRSBv7ymutUZHeKFVCYO251gjFeANEEGBtFPTAbWh0PQAVEFTBWIvLLj12n1M6B/gWdLkpDqhynIgAAAABJRU5ErkJggg=="},26292:function(Je){Je.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMRSURBVFiFzZm/TxNhGMe/74Uci69p0om61MHiAA0BGZwQEyZNMQ5Eo4OkSZFNBkcD/QtgU0iInR3ANhgGE6A7GkMXr4vHUqaLTc6FDn0dnr68x/WuvLWV6ye53Hu997187v3x3MsDQwhia/wVYMwAYgJAEkAsrO4/UqeDHUE0i2yp8jmoEgsWY6stqevEhhArflHDeyE202sA+4jrlwOAJBjbJQfFRQ+KzfQaGFavXSsIgTxbOlkDWoJic/wJGNuNVKoNschylQINMWPrEdsEwFYBgA1m70nEogFmzEetEY4xYwDiQdQa4YgJA/0PwP0kOQRdQZ4AJpeBVAZwa8CXLJ11MDnw9BMwzAHHAsrvdNvGjKvrtOQebZOcvDa5nhwAxEdVm5F79Cye0GqqJ3gnox5oH1IPOJa+4NkxtTk7pms5GhoMadVKTNPZrQFf3+iLeamW6Hi2T4J97UHJH80518dndCfox+TA/bfA2Iv2e6kM3dPsqTD0hjiMVAYYe0nl4ZvAt/dUnloGJl9T+dwFvn+ISPD0kGRMroQAVW64VKcHrh7i+CgdQbg1YC9LIlLMK7eXDV/tnZ7bleDjbRXz7IP2+45FIl46yclQY3JgbqMPgueuKvNbwXWSDy9fm7z9N4kQqqyxoq8W9H7SgobEuyAa7uXhngoIxjKmNlwK3j0LurXwN03Ots85/5yUn0c/jqX1Pe49DnrlHEvNyYbbua0mvYWZakn1sLc3HAvYWaApYfcWZnoTBNSq9OPW9LdjHehuiG90uc3yY3K10M71poCeYLVIZ54Anu9TbOxWbG6D2soXdH72U7Ckgq7cdGp8BS7gCVrxF3KW9vdZfw7uLNCuZWSaFkU3G1bHoo1E/C5wekAvrAkTW+nfGNw/nOoGADtqiw7UDYD9iNoiHHZkAM1y1BqhiGaRsltb6V+IJifYCZvlTm63wozIR+sSgBArQCsOslylAIHBkRTIy1TwpRz1QGRZPdlVICiJTvnCdUSRRIfIs1yl4P2xTVBCosZ8Kz0Xw//5N4RNYa5Z9otJ/gI08QqsvSbWIgAAAABJRU5ErkJggg=="}}]);})();
