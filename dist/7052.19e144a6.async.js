"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[7052],{30704:function(te,x,e){var R=e(26068),l=e.n(R),M=e(48305),s=e.n(M),v=e(26145),L=e(59261),P=e(7098),a=e(94201),u=e(10560),h=e(87620),n=e(24643),r=e(92122),_=e(45019),g=e(26324),f=e(28190),N=e(41249),o=e(63619),W=e(51430),c=e(94581),I=e.n(c),E=e(75271),C=e(87453),O=e(48279),b=e(52676),d=I(),w=function(D){var Z=D.spaceId,z=D.id,S=D.icon,H=D.name,Y=D.description,F=D.mode,j=F===void 0?r.jA.Create:F,ee=D.open,re=D.onCancel,p=D.onConfirm,T=f.Z.useForm(),B=s()(T,1),t=B[0],X=(0,E.useState)(""),Q=s()(X,2),A=Q[0],J=Q[1],de=(0,E.useState)(),ue=s()(de,2),ie=ue[0],Ee=ue[1],Oe=(0,E.useState)(!1),pe=s()(Oe,2),Ce=pe[0],ce=pe[1];(0,E.useEffect)(function(){ee&&(J(S||""),t.setFieldsValue({name:H,description:Y}))},[ee,S,H,Y]);var fe=function(le,G){G===_.AQ.CODE?C.history.push("/space/".concat(Z,"/plugin/").concat(le,"/cloud-tool")):G===_.AQ.HTTP&&C.history.push("/space/".concat(Z,"/plugin/").concat(le))},Pe=(0,C.useRequest)(n.VR,{manual:!0,debounceInterval:300,onSuccess:function(le,G){J(""),re();var _e=G[0].type;fe(le,_e),N.ZP.success("\u63D2\u4EF6\u5DF2\u521B\u5EFA"),ce(!1)},onError:function(){ce(!1)}}),De=Pe.run,ye=(0,C.useRequest)(n.i,{manual:!0,debounceInterval:300,onSuccess:function(le,G){J("");var _e=G[0];p?.(_e),N.ZP.success("\u63D2\u4EF6\u66F4\u65B0\u6210\u529F"),ce(!1)},onError:function(){ce(!1)}}),he=ye.run,be=function(le){ce(!0),j===r.jA.Create?De(l()(l()({},le),{},{icon:A,spaceId:Z})):he(l()(l()({},le),{},{icon:A,id:z}))},ne=function(){t.submit()},Le=function(le){var G=le.target.value;G===_.AQ.HTTP&&t.setFieldValue("codeLang",null),Ee(G)};return(0,b.jsx)(O.Z,{form:t,title:j===r.jA.Create?"\u65B0\u5EFA\u63D2\u4EF6":"\u66F4\u65B0\u63D2\u4EF6",open:ee,classNames:I(),loading:Ce,onCancel:re,onConfirm:ne,children:(0,b.jsxs)("div",{className:d("flex","flex-col","items-center","py-16"),children:[(0,b.jsx)(u.Z,{className:d("mt-16","mb-16"),onUploadSuccess:J,imageUrl:A,defaultImage:v,svgIconName:"icons-workspace-plugin"}),(0,b.jsxs)(f.Z,{form:t,requiredMark:g.N,layout:"vertical",onFinish:be,rootClassName:d("w-full"),autoComplete:"off",children:[(0,b.jsx)(f.Z.Item,{name:"name",label:"\u63D2\u4EF6\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0"},{validator:function(le,G){return!G||G?.length<=30?Promise.resolve():G?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0!"))}}],children:(0,b.jsx)(o.Z,{placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0\uFF0C\u786E\u4FDD\u540D\u79F0\u542B\u4E49\u6E05\u6670\u4E14\u7B26\u5408\u5E73\u53F0\u89C4\u8303",showCount:!0,maxLength:30})}),(0,b.jsx)(a.Z,{name:"description",label:"\u63D2\u4EF6\u63CF\u8FF0",initialValue:Y,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F"}],placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F\uFF0C\u786E\u4FDD\u5185\u5BB9\u7B26\u5408\u5E73\u53F0\u89C4\u8303\u3002\u5E2E\u52A9\u7528\u6237/\u5927\u6A21\u578B\u66F4\u597D\u5730\u7406\u89E3",maxLength:1e4}),(0,b.jsxs)(L.Z,{condition:j===r.jA.Create,children:[(0,b.jsx)(f.Z.Item,{name:"type",label:"\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F"}],children:(0,b.jsx)(W.ZP.Group,{options:h.B1,value:ie,onChange:Le})}),(0,b.jsx)(L.Z,{condition:ie===_.AQ.CODE,children:(0,b.jsx)(f.Z.Item,{name:"codeLang",label:"IDE \u8FD0\u884C\u65F6",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u6A21\u5F0F"}],children:(0,b.jsx)(P.Z,{options:h._n})})})]})]})]})})};x.Z=w},15028:function(te,x,e){e.d(x,{Z:function(){return n}});var R=e(6619),l=e(92122),M=e(44689),s=e(94581),v=e.n(s),L=e(75271),P={"label-wrapper":"label-wrapper___o8I1N"},a=e(52676),u=v().bind(P),h=function(_){var g=_.className,f=_.label,N=_.title,o=_.type,W=o===void 0?l.Ai.Blank:o;return(0,a.jsxs)("div",{className:u(P["label-wrapper"],"flex","items-center",g),children:[(0,a.jsx)("span",{children:f}),(0,a.jsx)(R.Z,{title:N,icon:(0,a.jsx)(M.Z,{}),type:W})]})},n=h},94201:function(te,x,e){e.d(x,{Z:function(){return _}});var R=e(48305),l=e.n(R),M=e(63619),s=e(28190),v=e(94581),L=e.n(v),P=e(75271),a={"text-area":"text-area___UOMCQ",input:"input___XXN9U",text:"text___m7VFK"},u=e(52676),h=L().bind(a),n=M.Z.TextArea,r=function(f){var N,o=f.placeholder,W=o===void 0?"\u8BF7\u8F93\u5165":o,c=f.name,I=f.label,E=f.initialValue,C=f.maxLength,O=C===void 0?200:C,b=f.minRows,d=b===void 0?3:b,w=f.maxRows,K=w===void 0?6:w,D=f.rules,Z=(0,P.useState)(""),z=l()(Z,2),S=z[0],H=z[1];return(0,P.useEffect)(function(){E&&H(E)},[E]),(0,u.jsxs)(s.Z.Item,{className:h("relative"),children:[(0,u.jsx)(s.Z.Item,{className:h(a["text-area"]),name:c,label:I,rules:D,children:(0,u.jsx)(n,{rootClassName:a.input,placeholder:W,value:S,onChange:function(F){return H(F.target.value)},maxLength:O,autoSize:{minRows:d,maxRows:K}})}),(0,u.jsxs)("span",{className:h("absolute",a.text),children:[(N=S?.length)!==null&&N!==void 0?N:0,"/",O]})]})},_=r},56716:function(te,x,e){e.d(x,{Z:function(){return p}});var R=e(82092),l=e.n(R),M=e(15558),s=e.n(M),v=e(90228),L=e.n(v),P=e(26068),a=e.n(P),u=e(87999),h=e.n(u),n=e(48305),r=e.n(n),_=e(48279),g=e(15028),f=e(7098),N=e(42183),o=e(46105),W=e(91936),c=e(64799),I=e(92122),E=e(45019),C=e(53895),O=e(13143),b=e(28190),d=e(41249),w=e(43898),K=e(63619),D=e(10580),Z=e(94581),z=e.n(Z),S=e(75271),H=e(87453),Y=e(92448),F={"modal-content":"modal-content____os3U","modal-header":"modal-header___Oz0DB","modal-body":"modal-body___X8pJV","input-textarea":"input-textarea___XDb1O",select:"select___W_1UF","table-wrap":"table-wrap___wLfVM","label-normal":"label-normal___pz7II","font-12":"font-12___gy3WH","down-outlined":"down-outlined___x8ZCt","ml-8":"ml-8___sqmBJ","table-copy":"table-copy___wfPST","text-center":"text-center___RjgmM"},j=e(52676),ee=z().bind(F),re=function(B){var t=B.mode,X=t===void 0?c.qR.Agent:t,Q=B.spaceId,A=B.category,J=B.targetId,de=B.open,ue=B.onlyShowTemplate,ie=ue===void 0?!0:ue,Ee=B.onCancel,Oe=B.onConfirm,pe=B.onBeforePublishFn,Ce=b.Z.useForm(),ce=r()(Ce,1),fe=ce[0],Pe=(0,S.useState)(""),De=r()(Pe,2),ye=De[0],he=De[1],be=(0,S.useState)([]),ne=r()(be,2),Le=ne[0],oe=ne[1],le=(0,S.useState)([]),G=r()(le,2),_e=G[0],je=G[1],Se=(0,S.useState)([]),Re=r()(Se,2),V=Re[0],me=Re[1],Fe=(0,S.useState)([E.HD.Space]),Ne=r()(Fe,2),Me=Ne[0],Ue=Ne[1],We=(0,S.useState)([]),Te=r()(We,2),k=Te[0],se=Te[1],ve=(0,H.useModel)("squareModel"),Ae=ve.agentInfoList,Ze=ve.pluginInfoList,we=ve.workflowInfoList,$e=(0,N.Z)(),Qe=$e.runQueryCategory,Ge=(0,H.useRequest)(W.ui,{manual:!0,debounceWait:300}),Ve=Ge.run,ge=Ge.data;(0,S.useEffect)(function(){var U,y=(ge==null||(U=ge.filter(function(m){return m.spaceRole!==I.g8.User}))===null||U===void 0||(U=U.filter(function(m){return m.id===Q||m.id!==Q&&m.receivePublish===C.IP.Receive}))===null||U===void 0?void 0:U.map(function(m){return{key:(0,Y.Z)(),name:m.name,scope:E.HD.Space,spaceId:m.id}}))||[],i=[{key:E.HD.Tenant,name:"\u7CFB\u7EDF\u5E7F\u573A",scope:E.HD.Tenant},{key:E.HD.Space,name:"\u7A7A\u95F4",scope:E.HD.Space,children:y}];je(i)},[ge]),(0,S.useEffect)(function(){if(k!=null&&k.length){var U=k.map(function(y){return{allowCopy:y.allowCopy,onlyTemplate:y.onlyTemplate,scope:y.scope,spaceId:y.spaceId}});k.some(function(y){return y.spaceId===Q})||U.push({allowCopy:c.fC.No,onlyTemplate:c.Qc.No,scope:E.HD.Space,spaceId:Q}),me(U)}else me([{allowCopy:c.fC.No,onlyTemplate:c.Qc.No,scope:E.HD.Space,spaceId:Q}])},[k,Q]);var ze=(0,H.useRequest)(o.hm,{manual:!0,debounceInterval:300,onSuccess:function(y){se(y)}}),Xe=ze.run;(0,S.useEffect)(function(){de&&(Qe(),Ve(),Xe({targetId:J,targetType:X}))},[de]),(0,S.useEffect)(function(){var U,y=[];switch(X){case c.qR.Agent:y=Ae,he("\u667A\u80FD\u4F53");break;case c.qR.Plugin:y=Ze,he("\u63D2\u4EF6");break;case c.qR.Workflow:y=we,he("\u5DE5\u4F5C\u6D41");break}var i=(U=y)===null||U===void 0?void 0:U.map(function(ae){return{label:ae.description,value:ae.name}});if(oe(i),i?.length>0){var m=A||i[0].value;fe.setFieldValue("category",m)}},[X,A,Ae,Ze,we]);var Ke=(0,H.useRequest)(o.$G,{manual:!0,debounceInterval:300,onSuccess:function(y){d.ZP.success(y||"\u53D1\u5E03\u7533\u8BF7\u5DF2\u63D0\u4EA4\uFF0C\u7B49\u5F85\u5BA1\u6838\u4E2D"),Oe()}}),Je=Ke.run,ke=Ke.loading,qe=function(){var U=h()(L()().mark(function y(i){var m;return L()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(m=V.filter(function(q){return q.scope===E.HD.Tenant?!0:ge?.some(function(xe){return xe.id===q.spaceId})}),!pe){$.next=4;break}return $.next=4,pe();case 4:Je(a()(a()({},i),{},{targetType:X,targetId:J,items:m}));case 5:case"end":return $.stop()}},y)}));return function(i){return U.apply(this,arguments)}}(),en=function(){fe.submit()},Ie=function(y,i){return V?.find(function(m){return y===E.HD.Tenant?m.scope===y:m.scope===y&&m.spaceId===i})},nn=function(y,i){return!!Ie(y,i)},an=function(y,i){var m=Ie(y,i);if(y===E.HD.Tenant)return!m;var ae=V?.find(function($){return $.scope===E.HD.Tenant});return ae?.allowCopy===c.fC.Yes?m?m?.allowCopy===c.fC.Yes:!0:!m},He=function(y,i){var m=Ie(y,i);return m?.allowCopy===c.fC.Yes},tn=function(y,i){var m=Ie(y,i);return m?.onlyTemplate===c.Qc.Yes},ln=function(y,i){var m=y.scope,ae=y.spaceId;if(i){var $=Ie(E.HD.Tenant),q=$?.allowCopy===c.fC.Yes?c.fC.Yes:c.fC.No;me([].concat(s()(V),[{scope:m,spaceId:ae,allowCopy:q,onlyTemplate:c.Qc.No}]))}else{var xe;m===E.HD.Tenant?xe=V.filter(function(Be){return Be.scope!==m}):xe=V.filter(function(Be){return Be.spaceId!==ae}),me(xe)}},rn=function(y,i){var m=y.scope,ae=y.spaceId,$;m===E.HD.Tenant?$=V?.map(function(q){return q.scope===m?a()(a()({},q),{},{allowCopy:i?c.fC.Yes:c.fC.No,onlyTemplate:c.Qc.No}):i?a()(a()({},q),{},{allowCopy:c.fC.Yes}):q}):$=V?.map(function(q){return q.spaceId===ae?a()(a()({},q),{},{allowCopy:i?c.fC.Yes:c.fC.No,onlyTemplate:c.Qc.No}):q}),me($)},sn=function(y,i){var m=y.scope,ae=y.spaceId,$=V?.map(function(q){return q.scope===m&&(m===E.HD.Tenant||q.spaceId===ae)?a()(a()({},q),{},{onlyTemplate:i?c.Qc.Yes:c.Qc.No}):q});me($)},un=function(){Ue(function(y){return y.includes(E.HD.Space)?[]:[E.HD.Space]})},Ye=[{title:(0,j.jsx)(g.Z,{className:ee(F["label-normal"]),label:"\u53D1\u5E03\u7A7A\u95F4",title:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{children:"1. \u7CFB\u7EDF\u5E7F\u573A\uFF1A\u667A\u80FD\u4F53\u5C06\u51FA\u73B0\u5728\u7CFB\u7EDF\u5E7F\u573A\u4E2D\u3002"}),(0,j.jsx)("p",{children:"2. \u7A7A\u95F4\u5E7F\u573A\uFF1A\u667A\u80FD\u4F53\u5C06\u51FA\u73B0\u5728\u9009\u62E9\u7684\u7A7A\u95F4\u5E7F\u573A\u4E2D\u3002"})]}),type:I.Ai.White}),dataIndex:"name",render:function(y,i){var m;return i!=null&&(m=i.children)!==null&&m!==void 0&&m.length?(0,j.jsxs)("div",{onClick:un,className:"cursor-pointer",children:[(0,j.jsx)(O.Z,{className:ee(F["font-12"],l()({},F["down-outlined"],!Me.includes(E.HD.Space)))}),(0,j.jsx)("span",{className:ee(F["ml-8"]),children:i.name})]}):(0,j.jsx)(w.Z,{checked:nn(i.scope,i.spaceId),disabled:i?.spaceId===Q,onChange:function($){return ln(i,$.target.checked)},children:(0,j.jsx)("div",{className:"text-ellipsis",style:{width:"148px"},children:i.name})})}},{title:(0,j.jsx)(g.Z,{className:ee(F["label-normal"]),label:"\u5141\u8BB8\u590D\u5236\uFF08\u6A21\u677F\uFF09",title:(0,j.jsx)("p",{children:"\u9009\u4E2D\u540E\u5C06\u51FA\u73B0\u5728\u5E7F\u573A\u6A21\u7248\u4E2D\uFF0C\u7528\u6237\u53EF\u76F4\u63A5\u590D\u5236\u5230\u81EA\u5DF1\u7684\u5DE5\u4F5C\u7A7A\u95F4\u4E2D\u53BB\u3002\u590D\u5236\u53EF\u9009\u7684\u524D\u63D0\u662F\u53D1\u5E03\u5DF2\u9009\u3002"}),type:I.Ai.White}),dataIndex:"allowCopy",width:180,render:function(y,i){var m;return i!=null&&(m=i.children)!==null&&m!==void 0&&m.length?null:(0,j.jsx)(w.Z,{className:ee(F["table-copy"]),checked:He(i.scope,i.spaceId),disabled:an(i.scope,i.spaceId),onChange:function($){return rn(i,$.target.checked)}})}},{title:(0,j.jsx)(g.Z,{className:ee(F["label-normal"]),label:"\u4EC5\u6A21\u677F",title:"\u9009\u62E9\u540E\u4EC5\u5728\u6A21\u677F\u5E7F\u573A\u5C55\u793A\uFF0C\u4EC5\u6A21\u677F\u53EA\u6709\u5728\u5141\u8BB8\u590D\u5236\u9009\u62E9\u540E\u624D\u53EF\u9009",type:I.Ai.White}),dataIndex:"onlyTemplate",width:100,render:function(y,i){var m;return i!=null&&(m=i.children)!==null&&m!==void 0&&m.length?null:(0,j.jsx)("div",{className:ee(F["text-center"]),children:(0,j.jsx)(w.Z,{checked:tn(i.scope,i.spaceId),disabled:!He(i.scope,i.spaceId),onChange:function($){return sn(i,$.target.checked)}})})}}],on=ie?Ye:Ye.slice(0,1);return(0,j.jsx)(_.Z,{form:fe,classNames:{content:F["modal-content"],header:F["modal-header"],body:F["modal-body"]},loading:ke,title:"\u53D1\u5E03".concat(ye),centered:!0,open:de,onConfirm:en,onCancel:Ee,children:(0,j.jsxs)(b.Z,{form:fe,layout:"vertical",onFinish:qe,children:[(0,j.jsx)(b.Z.Item,{name:"remark",label:"\u53D1\u5E03\u8BB0\u5F55",children:(0,j.jsx)(K.Z.TextArea,{rootClassName:ee(F["input-textarea"],"dispose-textarea-count"),placeholder:"\u8FD9\u91CC\u586B\u5199\u8BE6\u7EC6\u7684\u53D1\u5E03\u8BB0\u5F55",autoSize:{minRows:5,maxRows:8},maxLength:200,showCount:!0})}),(0,j.jsx)(b.Z.Item,{name:"category",label:"\u5206\u7C7B\u9009\u62E9",children:(0,j.jsx)(f.Z,{className:F.select,options:Le})}),(0,j.jsx)(b.Z.Item,{label:"\u9009\u62E9\u53D1\u5E03\u8303\u56F4",children:(0,j.jsx)(D.Z,{className:ee(F["table-wrap"]),columns:on,dataSource:_e,pagination:!1,expandable:{childrenColumnName:"children",defaultExpandAllRows:!0,expandedRowKeys:Me,expandIcon:function(){return null}}})})]})})},p=re},89083:function(te,x,e){e.d(x,{Z:function(){return n}});var R=e(82092),l=e.n(R),M=e(14258),s=e(94581),v=e.n(s),L=e(75271),P={"xagi-nav-style2":"xagi-nav-style2___uLxRe",text:"text___IjURi","page-container":"page-container___bB2qy",container:"container___ZmQyk",hidden:"hidden___sQc7Y",header:"header___NPVhj",close:"close___T88xb"},a=e(52676),u=v().bind(P),h=function(_){var g=_.className,f=_.title,N=_.visible,o=_.onClose,W=_.children;return(0,a.jsxs)("div",{className:u("flex","flex-col","overflow-y",P.container,g,l()({},P.hidden,!N)),children:[(0,a.jsxs)("div",{className:u(P.header,"flex","items-center","content-between"),children:[(0,a.jsx)("h3",{children:f}),(0,a.jsx)(M.Z,{className:u(P.close,"cursor-pointer"),onClick:o})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y",children:W})]})},n=h},10560:function(te,x,e){e.d(x,{Z:function(){return f}});var R=e(63741),l=e(59934),M=e(61265),s=e(72875),v=e(89858),L=e(41249),P=e(7980),a=e(94581),u=e.n(a),h=e(75271),n={container:"container___Ixour","file-box":"file-box___UiBnI",mask:"mask___TBVHo",image:"image___Ky7U0"},r=e(52676),_=u().bind(n),g=function(o){var W,c=o.className,I=o.onUploadSuccess,E=o.defaultImage,C=o.imageUrl,O=o.beforeUpload,b=o.svgIconName,d=function(Z){if(Z.file.status!=="uploading"&&Z.file.status==="done"){var z,S,H=(z=Z.file.response)===null||z===void 0?void 0:z.code,Y=(S=Z.file.response)===null||S===void 0?void 0:S.data;if(H===l.Gh)I?.(Y?.url);else{var F;L.ZP.warning((F=Z.file.response)===null||F===void 0?void 0:F.message)}}},w=function(Z){var z=Z.type,S=Z.size,H=z==="image/jpeg"||z==="image/jpg"||z==="image/png";H||L.ZP.error("\u8BF7\u4E0A\u4F20 JPG\u3001JPEG\u3001PNG \u7C7B\u578B\u56FE\u7247\u6587\u4EF6!");var Y=S/1024/1024<2;return Y||L.ZP.error("\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC72MB!"),H&&Y||P.Z.LIST_IGNORE},K=(W=localStorage.getItem(s.LA))!==null&&W!==void 0?W:"";return(0,r.jsx)(P.Z,{action:M.GI,className:_(n.container,c),onChange:d,headers:{Authorization:K?"Bearer ".concat(K):""},showUploadList:!1,beforeUpload:O??w,children:(0,r.jsxs)("div",{className:_(n["file-box"],"relative","overflow-hide","cursor-pointer"),children:[(0,r.jsx)("div",{className:_(n.mask,"flex","content-center","items-center"),children:(0,r.jsx)(v.Z,{})}),b&&!C?(0,r.jsx)(R.Jw,{name:b}):(0,r.jsx)("img",{className:_(n.image),src:C||E,alt:""})]})})},f=g},27791:function(te,x,e){e.d(x,{Z:function(){return T}});var R=e(26068),l=e.n(R),M=e(48305),s=e.n(M),v=e(89083),L=e(80241),P=e(24643),a=e(46105),u=e(96861),h=e(64799),n=e(92122),r=e(64267),_=e(41249),g=e(14719),f=e(70183),N=e(94550),o=e(94581),W=e.n(o),c=e(75271),I=e(87453),E=e(59261),C=e(3055),O=e(82092),b=e.n(O),d=e(16483),w=e.n(d),K={"xagi-nav-style2":"xagi-nav-style2___rSYb3",text:"text___ySnIW","page-container":"page-container___aOWn3",container:"container___YEnC0","p-info":"p-info___ngWA2","p-name":"p-name___B1WDf","p-time":"p-time___s518D",btn:"btn___U_H2c","off-btn":"off-btn____lpPp","disabled-btn":"disabled-btn___bofq0"},D=e(52676),Z=W().bind(K),z=function(t){var X,Q,A=t.info,J=t.onOffShelf;return(0,D.jsxs)("div",{className:Z("flex","items-center",K.container),children:[(0,D.jsxs)("div",{className:Z("flex","flex-col","flex-1","overflow-hide",K["p-info"]),children:[(0,D.jsx)("span",{className:Z(K["p-name"],"text-ellipsis"),children:A?.description}),(0,D.jsx)("span",{className:Z(K["p-time"],"text-ellipsis"),children:"".concat((A==null||(X=A.publishUser)===null||X===void 0?void 0:X.nickName)||(A==null||(Q=A.publishUser)===null||Q===void 0?void 0:Q.userName),"\u53D1\u5E03\u4E8E").concat(w()(A?.publishDate).format("YYYY-MM-DD HH:mm"))})]}),(0,D.jsx)("div",{className:Z("flex","items-center","content-center","radius-6","cursor-pointer",K.btn,b()({},K["disabled-btn"],A?.publishStatus!==n.xH.Published),b()({},K["off-btn"],A?.publishStatus===n.xH.Published)),onClick:J,children:"".concat(A?.publishStatus===n.xH.Published?"\u4E0B\u67B6":A?.publishStatus===n.xH.Applying?"\u5BA1\u6838\u4E2D":"\u5DF2\u4E0B\u67B6")})]})},S=z,H={"xagi-nav-style2":"xagi-nav-style2___vL0rS",text:"text___geJXi","page-container":"page-container____iVT1","main-wrap":"main-wrap___T75Vs",title:"title___t_LaB","drawer-body":"drawer-body___HO7rG"},Y={container:"container___mV4sm",header:"header___Xyxou",name:"name___a7L2w","author-update-time":"author-update-time___lFZ7X",desc:"desc___F6dcW"},F=W().bind(Y),j=function(t){var X,Q,A=t.info,J=t.renderActions;return(0,D.jsxs)("div",{className:F(Y.container,"flex","flex-col","py-6"),children:[(0,D.jsxs)("div",{className:F("flex","items-center",Y.header),children:[(0,D.jsx)("span",{className:F(Y.name,"text-ellipsis"),children:((X=A.opUser)===null||X===void 0?void 0:X.nickName)||((Q=A.opUser)===null||Q===void 0?void 0:Q.userName)}),(0,D.jsx)("span",{className:F(Y["author-update-time"]),children:w()(A.created).format("YYYY-MM-DD HH:mm")})]}),(0,D.jsx)(E.Z,{condition:A.description,children:(0,D.jsx)("p",{className:F("text-ellipsis-2",Y.desc),children:A.description})}),J(A)]},A.id)},ee=j,re=W().bind(H),p=function(t){var X=t.targetId,Q=t.targetName,A=t.targetType,J=A===void 0?h.qR.Agent:A,de=t.permissions,ue=de===void 0?[]:de,ie=t.visible,Ee=t.isDrawer,Oe=Ee===void 0?!1:Ee,pe=t.onClose,Ce=t.renderActions,ce=Ce===void 0?function(){return null}:Ce,fe=(0,c.useState)(!1),Pe=s()(fe,2),De=Pe[0],ye=Pe[1],he=(0,c.useState)([]),be=s()(he,2),ne=be[0],Le=be[1],oe=(0,c.useState)([]),le=s()(oe,2),G=le[0],_e=le[1],je=J===h.qR.Agent?"\u667A\u80FD\u4F53":J===h.qR.Plugin?"\u63D2\u4EF6":"\u5DE5\u4F5C\u6D41",Se=J===h.qR.Agent?L.qR:J===h.qR.Plugin?P.Pj:u.Lf,Re=(0,I.useRequest)(Se,{manual:!0,debounceInterval:300,onSuccess:function(se){_e(se),ye(!1)}}),V=Re.run,me=(0,I.useRequest)(a.hm,{manual:!0,debounceInterval:300,onSuccess:function(se){Le(se)}}),Fe=me.run,Ne=function(se){var ve=ne?.map(function(Ae){return Ae.publishId===se?l()(l()({},Ae),{},{publishStatus:null}):Ae})||[];Le(ve)},Me=(0,I.useRequest)(a.JX,{manual:!0,debounceInterval:300,onSuccess:function(se,ve){_.ZP.success("\u5DF2\u6210\u529F\u4E0B\u67B6"),Ne(ve[0].publishId)}}),Ue=Me.run;(0,c.useEffect)(function(){ie&&(ye(!0),V(X))},[X,ie]),(0,c.useEffect)(function(){ie&&ue!==null&&ue!==void 0&&ue.includes(n.jE.Publish)&&Fe({targetId:X,targetType:J})},[ie,X,J,ue]);var We=function(se){se?.publishStatus===n.xH.Published&&g.Z.confirm({title:"\u60A8\u786E\u5B9A\u8981\u4E0B\u67B6\u6B64".concat(je,"\u5417?"),icon:(0,D.jsx)(r.Z,{}),content:Q,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:function(){Ue({targetType:J,targetId:X,publishId:se.publishId})}})},Te=De?(0,D.jsx)(C.Z,{className:"h-full"}):ne!=null&&ne.length||G!=null&&G.length?(0,D.jsxs)("div",{className:re(H["main-wrap"]),children:[(0,D.jsxs)(E.Z,{condition:ue?.includes(n.jE.Publish)&&ne?.length,children:[(0,D.jsx)("h5",{className:re(H.title),children:"\u5F53\u524D\u53D1\u5E03"}),ne?.map(function(k){return(0,D.jsx)(S,{info:k,onOffShelf:function(){return We(k)}},k.publishId)})]}),(0,D.jsx)("h5",{className:re(H.title),children:"\u7F16\u6392\u4E0E\u53D1\u5E03\u8BB0\u5F55"}),G?.map(function(k){return(0,D.jsx)(ee,{info:k,renderActions:ce},k.id)})]}):(0,D.jsx)("div",{className:re("flex","h-full","items-center","justify-center"),children:(0,D.jsx)(f.Z,{description:"\u6682\u65E0\u7248\u672C\u5386\u53F2\u8BB0\u5F55",image:f.Z.PRESENTED_IMAGE_SIMPLE,children:(0,D.jsx)("div",{style:{color:"#8c8c8c",fontSize:"12px",marginTop:"8px"},children:"\u5F53\u60A8\u5BF9\u9879\u76EE\u8FDB\u884C\u4FEE\u6539\u65F6\uFF0C\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u4FDD\u5B58\u7248\u672C\u5386\u53F2"})})});return Oe?(0,D.jsx)(N.Z,{classNames:{body:re(H["drawer-body"])},closable:!0,title:(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{style:{fontSize:"16px",fontWeight:600},children:"\u7248\u672C\u5386\u53F2"}),(0,D.jsxs)("div",{style:{fontSize:"12px",color:"#8c8c8c",marginTop:"4px"},children:[Q," - ",je]})]}),placement:"right",open:ie,onClose:pe,width:480,children:Te}):(0,D.jsx)(v.Z,{title:"\u7248\u672C\u5386\u53F2",visible:ie,onClose:pe,children:Te})},T=p},7098:function(te,x,e){e.d(x,{Z:function(){return n}});var R=e(3642),l=e(17701),M=e(88958),s=e(94581),v=e.n(s),L=e(75271),P={container:"container___zAmsL","option-icon-box":"option-icon-box___Xu928",icon:"icon___k7L6U",image:"image___gVYjP"},a=e(52676),u=v().bind(P),h=function(_){var g=_.className,f=_.value,N=_.dropdownRenderComponent,o=_.placeholder,W=_.disabled,c=_.allowClear,I=c===void 0?!1:c,E=_.options,C=_.onChange,O=_.size,b=O===void 0?"middle":O;return(0,a.jsx)(l.default,{rootClassName:u(P.container,g),value:f,placeholder:o||"\u8BF7\u9009\u62E9",disabled:W,onChange:C,allowClear:I,onClick:function(w){w.stopPropagation()},options:E,size:b,popupRender:function(w){return(0,a.jsxs)(a.Fragment,{children:[w,N]})},optionRender:function(w){var K;return(0,a.jsxs)(M.Z,{gap:8,align:"center",children:[(0,a.jsx)("div",{className:u(P["option-icon-box"]),children:f===w.data.value&&(0,a.jsx)(R.Z,{className:u(P.icon)})}),!!(w!=null&&(K=w.data)!==null&&K!==void 0&&K.img)&&(0,a.jsx)("img",{className:u(P.image,"radius-6"),src:String(w.data.img),alt:""}),(0,a.jsx)("span",{className:u("flex-1","text-ellipsis"),children:w.data.label})]})}})},n=h},6619:function(te,x,e){e.d(x,{Z:function(){return r}});var R=e(62597),l=e(92122),M=e(38683),s=e(68108),v=e(94581),L=e.n(v),P=e(75271),a={box:"box___qPDL3"},u=e(52676),h=L().bind(a),n=function(g){var f=g.className,N=g.type,o=N===void 0?l.Ai.Blank:N,W=g.icon,c=g.title,I=g.onClick,E=o===l.Ai.Blank?"tooltip-blank":"tooltip-white",C=M.Z.useToken(),O=C.token;return(0,u.jsx)(s.Z,{title:c,classNames:{root:E},children:(0,u.jsx)("span",{className:h("hover-box","flex","content-center","items-center","cursor-pointer",a.box,f),onClick:I,children:W||(0,u.jsx)(R.Z,{name:"icons-common-plus",style:{color:O.colorTextTertiary,fontSize:"15px"}})})})},r=n},87620:function(te,x,e){e.d(x,{B1:function(){return N},Ev:function(){return c},Ov:function(){return d},PE:function(){return H},R0:function(){return I},Rh:function(){return D},_n:function(){return o},dh:function(){return W},fi:function(){return S},jp:function(){return C},lm:function(){return z},nF:function(){return O},nK:function(){return Z},s$:function(){return K},uo:function(){return f},w9:function(){return E},xH:function(){return b}});var R=e(46388),l=e(92973),M=e(77992),s=e(26145),v=e(83352),L=e(73415),P=e(64799),a=e(92122),u=e(49528),h=e(80110),n=e(45019),r=e(53895),_=e(38628),g=e(52676),f=[{action:r.KZ.Copy_To_Space,label:"\u590D\u5236\u5230\u7A7A\u95F4",type:r.Lm.Plugin},{action:r.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E",type:r.Lm.Plugin},{action:r.KZ.Del,label:"\u5220\u9664",isDel:!0,type:r.Lm.Plugin},{action:r.KZ.Del,label:"\u5220\u9664",isDel:!0,type:r.Lm.Model},{action:r.KZ.Copy_To_Space,label:"\u590D\u5236\u5230\u7A7A\u95F4",type:r.Lm.Workflow},{action:r.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E",type:r.Lm.Workflow},{action:r.KZ.Del,label:"\u5220\u9664",isDel:!0,type:r.Lm.Workflow},{action:r.KZ.Del,label:"\u5220\u9664",isDel:!0,type:r.Lm.Knowledge},{action:r.KZ.Copy,label:"\u590D\u5236",type:r.Lm.Table},{action:r.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E",type:r.Lm.Table},{action:r.KZ.Del,label:"\u5220\u9664",isDel:!0,type:r.Lm.Table}],N=[{value:n.AQ.HTTP,label:"\u57FA\u4E8E\u5DF2\u6709\u670D\u52A1\uFF08http\u63A5\u53E3\uFF09\u521B\u5EFA"},{value:n.AQ.CODE,label:"\u57FA\u4E8E\u4E91\u7AEF\u4EE3\u7801\uFF08nodejs\u3001python\uFF09\u521B\u5EFA"}],o=[{value:n.vQ.JavaScript,label:"JavaScript"},{value:n.vQ.Python,label:"Python3"}],W=[{value:a.LM.POST,label:"POST"},{value:a.LM.GET,label:"GET"},{value:a.LM.PUT,label:"PUT"},{value:a.LM.DELETE,label:"DELETE"}],c=[{value:a.lT.OTHER,label:"\u65E0"},{value:a.lT.FORM_DATA,label:"form-data"},{value:a.lT.X_WWW_FORM_URLENCODED,label:"x-www-form-urlencoded"},{value:a.lT.JSON,label:"json"}],I=[{value:P.oI.Query,label:"Query"},{value:P.oI.Body,label:"Body"},{value:P.oI.Path,label:"Path"},{value:P.oI.Header,label:"Header"}],E=[{value:u.Zf.Local_Doc,label:"\u672C\u5730\u6587\u6863",icon:(0,g.jsx)(L.OD,{}),desc:"\u4E0A\u4F20 PDF, TXT, MD, DOC, DOCX \u683C\u5F0F\u7684\u672C\u5730\u6587\u4EF6"},{value:u.Zf.Custom,label:"\u81EA\u5B9A\u4E49",icon:(0,g.jsx)(L.vB,{}),desc:"\u81EA\u5B9A\u4E49"}],C=[{value:u.Zf.Custom,label:"\u624B\u52A8\u6DFB\u52A0",icon:(0,g.jsx)(L.vB,{}),desc:"\u624B\u52A8\u6DFB\u52A0"},{value:u.Zf.Local_Doc,label:"\u6279\u91CF\u5BFC\u5165",icon:(0,g.jsx)(L.OD,{}),desc:"\u4E0A\u4F20 Excel \u683C\u5F0F\u7684\u672C\u5730\u6587\u4EF6"}],O=[{title:"\u4E0A\u4F20"},{title:"\u521B\u5EFA\u8BBE\u7F6E"},{title:"\u6570\u636E\u5904\u7406"}],b=[{title:"\u6587\u672C\u586B\u5199"},{title:"\u5206\u6BB5\u8BBE\u7F6E"},{title:"\u6570\u636E\u5904\u7406"}],d=[{type:r.Lm.Plugin,defaultImage:s,icon:(0,g.jsx)(L.P1,{}),text:"\u63D2\u4EF6"},{type:r.Lm.Knowledge,defaultImage:l,icon:(0,g.jsx)(L.r7,{}),text:"\u77E5\u8BC6\u5E93"},{type:r.Lm.Workflow,defaultImage:v,icon:(0,g.jsx)(L.xp,{}),text:"\u5DE5\u4F5C\u6D41"},{type:r.Lm.Table,defaultImage:R,icon:(0,g.jsx)(L.ct,{}),text:"\u6570\u636E\u8868"},{type:r.Lm.Model,defaultImage:M,icon:(0,g.jsx)(L.ky,{}),text:"\u6A21\u578B"}],w=[{value:h.Y1.Internet,label:"\u516C\u7F51\u6A21\u578B"}],K=[{value:h.cx.RoundRobin,label:"\u8F6E\u8BE2"},{value:h.cx.WeightedRoundRobin,label:"\u52A0\u6743\u8F6E\u8BE2"},{value:h.cx.LeastConnections,label:"\u52A0\u6743\u6700\u5C11\u8FDE\u63A5"},{value:h.cx.Random,label:"\u968F\u673A"},{value:h.cx.ResponseTime,label:"\u54CD\u5E94\u65F6\u95F4"}],D=[{value:h.Mj.Completions,label:"\u6587\u672C\u8865\u5168"},{value:h.Mj.Chat,label:"\u804A\u5929\u5BF9\u8BDD-\u7EAF\u6587\u672C"},{value:h.Mj.Edits,label:"\u6587\u672C\u7F16\u8F91"},{value:h.Mj.Images,label:"\u56FE\u50CF\u5904\u7406"},{value:h.Mj.Multi,label:"\u804A\u5929\u5BF9\u8BDD-\u591A\u6A21\u6001"},{value:h.Mj.Embeddings,label:"\u5411\u91CF\u5D4C\u5165"},{value:h.Mj.Audio,label:"\u8BED\u97F3\u5904\u7406"},{value:h.Mj.Other,label:"\u5176\u4ED6"}],Z=[{value:h.re.CallSupported,label:"\u652F\u6301\u666E\u901A\u51FD\u6570\u8C03\u7528"},{value:h.re.StreamCallSupported,label:"\u652F\u6301\u6D41\u5F0F\u51FD\u6570\u8C03\u7528"},{value:h.re.Unsupported,label:"\u4E0D\u652F\u6301\u51FD\u6570\u8C03\u7528"}],z=[{value:h.HN.OpenAI,label:"OpenAI"},{value:h.HN.Ollama,label:"Ollama"},{value:h.HN.Anthropic,label:"Anthropic"}],S=[{label:"\u5143\u6570\u636E",value:n.N9.Metadata,icon:(0,g.jsx)(_.Z,{})},{label:"\u4EE3\u7801",value:n.N9.Code,icon:(0,g.jsx)(L.PR,{})}],H=[{label:"\u6362\u884C\uFF08\\n\uFF09",value:u.Gp.Line_Feed},{label:"2\u4E2A\u6362\u884C\uFF08\\n\\n\uFF09",value:u.Gp.Two_Line_Feed},{label:"\u4E2D\u6587\u53E5\u53F7\uFF08\u3002\uFF09",value:u.Gp.Chinese_Sentence},{label:"\u4E2D\u6587\u53F9\u53F7(\uFF01)",value:u.Gp.Chinese_Exclamation},{label:"\u82F1\u6587\u53E5\u53F7\uFF08.\uFF09",value:u.Gp.English_Sentence},{label:"\u82F1\u6587\u53F9\u53F7\uFF08!\uFF09",value:u.Gp.English_Exclamation},{label:"\u4E2D\u6587\u95EE\u53F7\uFF08\uFF1F\uFF09",value:u.Gp.Chinese_Question_Mark},{label:"\u82F1\u6587\u95EE\u53F7\uFF08?\uFF09",value:u.Gp.English_Question_Mark},{label:"\u81EA\u5B9A\u4E49",value:u.Gp.Custom}]},42183:function(te,x,e){var R=e(64781),l=e(64691),M=e(87453),s=function(){var L=(0,M.useModel)("squareModel"),P=L.setAgentInfoList,a=L.setPluginInfoList,u=L.setWorkflowInfoList,h=L.setTemplateList,n=function(f){var N=[],o=[],W=[],c=[];f?.forEach(function(I){var E,C=I==null||(E=I.children)===null||E===void 0?void 0:E.map(function(O){return{name:O.key,description:O.label}});I.type===l.Q.Agent&&(N=C),I.type===l.Q.Plugin&&(o=C),I.type===l.Q.Workflow&&(W=C),I.type===l.Q.Template&&(c=C)}),P(N),a(o),u(W),h(c)},r=(0,M.useRequest)(R.Nb,{manual:!0,debounceInterval:300,onSuccess:function(f){n(f)}}),_=r.run;return{runQueryCategory:_}};x.Z=s},46105:function(te,x,e){e.d(x,{$G:function(){return r},JX:function(){return a},hm:function(){return h},wR:function(){return L}});var R=e(90228),l=e.n(R),M=e(87999),s=e.n(M),v=e(87453);function L(g){return P.apply(this,arguments)}function P(){return P=s()(l()().mark(function g(f){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/publish/template/copy",{method:"POST",data:f}));case 1:case"end":return o.stop()}},g)})),P.apply(this,arguments)}function a(g){return u.apply(this,arguments)}function u(){return u=s()(l()().mark(function g(f){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/publish/offShelf",{method:"POST",data:f}));case 1:case"end":return o.stop()}},g)})),u.apply(this,arguments)}function h(g){return n.apply(this,arguments)}function n(){return n=s()(l()().mark(function g(f){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/publish/item/list",{method:"POST",data:f}));case 1:case"end":return o.stop()}},g)})),n.apply(this,arguments)}function r(g){return _.apply(this,arguments)}function _(){return _=s()(l()().mark(function g(f){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/publish/apply",{method:"POST",data:f}));case 1:case"end":return o.stop()}},g)})),_.apply(this,arguments)}},64781:function(te,x,e){e.d(x,{CA:function(){return W},M3:function(){return I},Nb:function(){return g},VH:function(){return L},Wo:function(){return N},_U:function(){return r},pH:function(){return a}});var R=e(90228),l=e.n(R),M=e(87999),s=e.n(M),v=e(87453);function L(C){return P.apply(this,arguments)}function P(){return P=s()(l()().mark(function C(O){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,v.request)("/api/published/plugin/list",{method:"POST",data:O}));case 1:case"end":return d.stop()}},C)})),P.apply(this,arguments)}function a(C){return u.apply(this,arguments)}function u(){return u=s()(l()().mark(function C(O){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,v.request)("/api/published/workflow/list",{method:"POST",data:O}));case 1:case"end":return d.stop()}},C)})),u.apply(this,arguments)}function h(C){return n.apply(this,arguments)}function n(){return n=_asyncToGenerator(_regeneratorRuntime().mark(function C(O){return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",request("/api/published/knowledge/list",{method:"POST",data:O}));case 1:case"end":return d.stop()}},C)})),n.apply(this,arguments)}function r(C){return _.apply(this,arguments)}function _(){return _=s()(l()().mark(function C(O){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,v.request)("/api/published/agent/list",{method:"POST",data:O}));case 1:case"end":return d.stop()}},C)})),_.apply(this,arguments)}function g(){return f.apply(this,arguments)}function f(){return f=s()(l()().mark(function C(){return l()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",(0,v.request)("/api/published/category/list",{method:"GET"}));case 1:case"end":return b.stop()}},C)})),f.apply(this,arguments)}function N(C){return o.apply(this,arguments)}function o(){return o=s()(l()().mark(function C(O){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,v.request)("/api/published/workflow/collect/".concat(O),{method:"POST"}));case 1:case"end":return d.stop()}},C)})),o.apply(this,arguments)}function W(C){return c.apply(this,arguments)}function c(){return c=s()(l()().mark(function C(O){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,v.request)("/api/published/workflow/unCollect/".concat(O),{method:"POST"}));case 1:case"end":return d.stop()}},C)})),c.apply(this,arguments)}function I(C){return E.apply(this,arguments)}function E(){return E=s()(l()().mark(function C(O){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,v.request)("/api/published/template/list",{method:"POST",data:O}));case 1:case"end":return d.stop()}},C)})),E.apply(this,arguments)}},96861:function(te,x,e){e.d(x,{Lf:function(){return F}});var R=e(90228),l=e.n(R),M=e(87999),s=e.n(M),v=e(87453);function L(p){return P.apply(this,arguments)}function P(){return P=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/".concat(T),{method:"GET"}));case 1:case"end":return t.stop()}},p)})),P.apply(this,arguments)}function a(p){return u.apply(this,arguments)}function u(){return u=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/update",{method:"POST",data:T}));case 1:case"end":return t.stop()}},p)})),u.apply(this,arguments)}function h(p){return n.apply(this,arguments)}function n(){return n=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/publish",{method:"POST",data:T}));case 1:case"end":return t.stop()}},p)})),n.apply(this,arguments)}function r(p){return _.apply(this,arguments)}function _(){return _=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/node/list/".concat(T),{method:"GET"}));case 1:case"end":return t.stop()}},p)})),_.apply(this,arguments)}function g(p){return f.apply(this,arguments)}function f(){return f=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/node/add",{method:"POST",data:T}));case 1:case"end":return t.stop()}},p)})),f.apply(this,arguments)}function N(p){return o.apply(this,arguments)}function o(){return o=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/node/copy/".concat(T),{method:"POST"}));case 1:case"end":return t.stop()}},p)})),o.apply(this,arguments)}function W(p){return c.apply(this,arguments)}function c(){return c=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/node/delete/".concat(T),{method:"POST"}));case 1:case"end":return t.stop()}},p)})),c.apply(this,arguments)}function I(p){return E.apply(this,arguments)}function E(){return E=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/node/".concat(T.sourceId,"/nextIds/update"),{method:"POST",data:T.nodeId}));case 1:case"end":return t.stop()}},p)})),E.apply(this,arguments)}function C(p){return O.apply(this,arguments)}function O(){return O=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/model/list",{method:"POST",data:T}));case 1:case"end":return t.stop()}},p)})),O.apply(this,arguments)}function b(p){return d.apply(this,arguments)}function d(){return d=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/model/list",{method:"POST",data:T}));case 1:case"end":return t.stop()}},p)})),d.apply(this,arguments)}function w(p){return K.apply(this,arguments)}function K(){return K=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/node/previous/".concat(T),{method:"GET"}));case 1:case"end":return t.stop()}},p)})),K.apply(this,arguments)}function D(p){return Z.apply(this,arguments)}function Z(){return Z=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/node/".concat(T),{method:"GET"}));case 1:case"end":return t.stop()}},p)})),Z.apply(this,arguments)}function z(p){return S.apply(this,arguments)}function S(){return S=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/test/node/execute",{method:"POST",data:T}));case 1:case"end":return t.stop()}},p)})),S.apply(this,arguments)}function H(p){return Y.apply(this,arguments)}function Y(){return Y=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/valid/".concat(T),{method:"GET"}));case 1:case"end":return t.stop()}},p)})),Y.apply(this,arguments)}function F(p){return j.apply(this,arguments)}function j(){return j=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/config/history/list/".concat(T),{method:"GET"}));case 1:case"end":return t.stop()}},p)})),j.apply(this,arguments)}function ee(p){return re.apply(this,arguments)}function re(){return re=s()(l()().mark(function p(T){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/workflow/restore/".concat(T),{method:"POST"}));case 1:case"end":return t.stop()}},p)})),re.apply(this,arguments)}x.ZP={apiDeleteNode:W,apiCopyNode:N,apiAddEdge:I,getDetails:L,apiAddNode:g,updateDetails:a,getNodeList:r,getModelList:b,getModelListByWorkflowId:C,getOutputArgs:w,getNodeConfig:D,executeNode:z,publishWorkflow:h,validWorkflow:H,apiRestoreWorkflowVersion:ee}},49528:function(te,x,e){e.d(x,{D7:function(){return L},Gp:function(){return P},Se:function(){return u},Sg:function(){return h},Z$:function(){return a},Zf:function(){return l},ah:function(){return M},jD:function(){return s},u6:function(){return R}});var R=function(n){return n[n.Text=1]="Text",n[n.Table=2]="Table",n}({}),l=function(n){return n[n.Local_Doc=0]="Local_Doc",n[n.Online_Doc=1]="Online_Doc",n[n.Custom=2]="Custom",n}({}),M=function(n){return n[n.Upload_Or_Text_Fill=0]="Upload_Or_Text_Fill",n[n.Create_Segmented_Set=1]="Create_Segmented_Set",n[n.Data_Processing=2]="Data_Processing",n}({}),s=function(n){return n.Precision="Precision",n.Balanced="Balanced",n.Creative="Creative",n.Customization="Customization",n}({}),v=function(n){return n.Waiting="Waiting",n.Published="Published",n}({}),L=function(n){return n.WORDS="WORDS",n.DELIMITER="DELIMITER",n}({}),P=function(n){return n.Line_Feed=`
`,n.Two_Line_Feed=`

`,n.Chinese_Sentence="\u3002",n.Chinese_Exclamation="\uFF01",n.English_Sentence=".",n.English_Exclamation="!",n.Chinese_Question_Mark="\uFF1F",n.English_Question_Mark="?",n.Custom="Custom",n}({}),a=function(n){return n.ANALYZING="ANALYZING",n.ANALYZED="ANALYZED",n.ANALYZING_RAW="ANALYZING_RAW",n.ANALYZED_QA="ANALYZED_QA",n.ANALYZED_EMBEDDING="ANALYZED_QA",n.ANALYZE_FAILED="ANALYZE_FAILED",n}({}),u=function(n){return n[n.ANALYZING=1]="ANALYZING",n[n.ANALYZED=2]="ANALYZED",n[n.ANALYZING_RAW=3]="ANALYZING_RAW",n[n.ANALYZED_QA=4]="ANALYZED_QA",n[n.ANALYZED_EMBEDDING=5]="ANALYZED_EMBEDDING",n[n.ANALYZE_FAILED=10]="ANALYZE_FAILED",n}({}),h=function(n){return n[n.DOC=1]="DOC",n[n.QA=2]="QA",n}({})},80110:function(te,x,e){e.d(x,{HN:function(){return l},Mj:function(){return R},Y1:function(){return v},cx:function(){return M},re:function(){return L}});var R=function(a){return a.Completions="Completions",a.Chat="Chat",a.Edits="Edits",a.Images="Images",a.Embeddings="Embeddings",a.Multi="Multi",a.Audio="Audio",a.Other="Other",a}({}),l=function(a){return a.OpenAI="OpenAI",a.Ollama="Ollama",a.Zhipu="Zhipu",a.Anthropic="Anthropic",a}({}),M=function(a){return a.RoundRobin="RoundRobin",a.WeightedRoundRobin="WeightedRoundRobin",a.LeastConnections="LeastConnections",a.WeightedLeastConnections="WeightedLeastConnections",a.Random="Random",a.ResponseTime="ResponseTime",a}({}),s=function(a){return a.Space="Space",a.Tenant="Tenant",a.Global="Global",a}({}),v=function(a){return a.Internet="Internet",a.Intranet="Intranet",a}({}),L=function(a){return a.Unsupported="Unsupported",a.CallSupported="CallSupported",a.StreamCallSupported="StreamCallSupported",a}({}),P=function(a){return a.Url="url",a.Apikey="apikey",a.Weight="weight",a}({})},64691:function(te,x,e){e.d(x,{Q:function(){return R}});var R=function(l){return l.Agent="Agent",l.Plugin="Plugin",l.Workflow="Workflow",l.Knowledge="Knowledge",l.Template="Template",l}({})}}]);})();
