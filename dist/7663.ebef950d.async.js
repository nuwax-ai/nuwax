(()=>{var ng=Object.defineProperty;var sg=(Yt,Ye,s)=>Ye in Yt?ng(Yt,Ye,{enumerable:!0,configurable:!0,writable:!0,value:s}):Yt[Ye]=s;var og=(Yt,Ye)=>()=>(Ye||Yt((Ye={exports:{}}).exports,Ye),Ye.exports);var ms=(Yt,Ye,s)=>sg(Yt,typeof Ye!="symbol"?Ye+"":Ye,s);var rg=og(Fd=>{(self.webpackChunk=self.webpackChunk||[]).push([[7663],{15360:function(Yt,Ye,s){"use strict";s.d(Ye,{Z:function(){return H}});var b=s(87462),l=s(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},j=z,E=s(13401),Z=function(y,g){return l.createElement(E.Z,(0,b.Z)({},y,{ref:g,icon:j}))},B=l.forwardRef(Z),H=B},66073:function(Yt,Ye,s){"use strict";s.d(Ye,{Z:function(){return H}});var b=s(87462),l=s(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 264c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48zm-8 136H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM480 544H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 308H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm356.8-74.4c29-26.3 47.2-64.3 47.2-106.6 0-79.5-64.5-144-144-144s-144 64.5-144 144c0 42.3 18.2 80.3 47.2 106.6-57 32.5-96.2 92.7-99.2 162.1-.2 4.5 3.5 8.3 8 8.3h48.1c4.2 0 7.7-3.3 8-7.6C564 871.2 621.7 816 692 816s128 55.2 131.9 124.4c.2 4.2 3.7 7.6 8 7.6H880c4.6 0 8.2-3.8 8-8.3-2.9-69.5-42.2-129.6-99.2-162.1zM692 591c44.2 0 80 35.8 80 80s-35.8 80-80 80-80-35.8-80-80 35.8-80 80-80z"}}]},name:"solution",theme:"outlined"},j=z,E=s(13401),Z=function(y,g){return l.createElement(E.Z,(0,b.Z)({},y,{ref:g,icon:j}))},B=l.forwardRef(Z),H=B},62635:function(Yt,Ye,s){"use strict";s.d(Ye,{Z:function(){return H}});var b=s(87462),l=s(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},j=z,E=s(13401),Z=function(y,g){return l.createElement(E.Z,(0,b.Z)({},y,{ref:g,icon:j}))},B=l.forwardRef(Z),H=B},31285:function(){"use strict"},60812:function(){"use strict"},5520:function(){"use strict"},75763:function(Yt,Ye,s){"use strict";s.d(Ye,{Z:function(){return Ot}});var b=s(67294),l=s(62635),z=s(13144),j=s.n(z),E=s(29372),Z=s(42550),B=s(66367),H=s(58375),O=s(74902),y=s(75164);function g(Mt){let ni;const Gt=Ge=>()=>{ni=null,Mt.apply(void 0,(0,O.Z)(Ge))},Fe=(...Ge)=>{ni==null&&(ni=(0,y.Z)(Gt(Ge)))};return Fe.cancel=()=>{y.Z.cancel(ni),ni=null},Fe}var C=g,m=s(53124);const i=b.createContext(void 0),{Provider:d}=i;var _=i,v=s(98423),p=s(34533),L=s(87263),T=s(40411),M=s(35792),I=s(83062),P=s(15360),V=function(Mt,ni){var Gt={};for(var Fe in Mt)Object.prototype.hasOwnProperty.call(Mt,Fe)&&ni.indexOf(Fe)<0&&(Gt[Fe]=Mt[Fe]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,Fe=Object.getOwnPropertySymbols(Mt);Ge<Fe.length;Ge++)ni.indexOf(Fe[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Mt,Fe[Ge])&&(Gt[Fe[Ge]]=Mt[Fe[Ge]]);return Gt};const $=Mt=>{const{icon:ni,description:Gt,prefixCls:Fe,className:Ge}=Mt,Te=V(Mt,["icon","description","prefixCls","className"]),Ke=b.createElement("div",{className:`${Fe}-icon`},b.createElement(P.Z,null));return b.createElement("div",Object.assign({},Te,{className:j()(Ge,`${Fe}-content`)}),ni||Gt?b.createElement(b.Fragment,null,ni&&b.createElement("div",{className:`${Fe}-icon`},ni),Gt&&b.createElement("div",{className:`${Fe}-description`},Gt)):Ke)};var re=(0,b.memo)($),ae=s(96826),ie=s(14747),se=s(16932),X=s(83559),ne=s(83262),F=Mt=>Mt===0?0:Mt-Math.sqrt(Math.pow(Mt,2)/2),te=s(93590),G=Mt=>{const{componentCls:ni,floatButtonSize:Gt,motionDurationSlow:Fe,motionEaseInOutCirc:Ge,calc:Te}=Mt,Ke=new ae.Keyframes("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${(0,ae.unit)(Gt)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),ut=new ae.Keyframes("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${(0,ae.unit)(Gt)}, 0)`,transformOrigin:"0 0",opacity:0}}),Nt=new ae.Keyframes("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${(0,ae.unit)(Te(Gt).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Be=new ae.Keyframes("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${(0,ae.unit)(Te(Gt).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),Ze=new ae.Keyframes("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${(0,ae.unit)(Te(Gt).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),wt=new ae.Keyframes("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${(0,ae.unit)(Te(Gt).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0}}),$t=new ae.Keyframes("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${(0,ae.unit)(Gt)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),_t=new ae.Keyframes("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${(0,ae.unit)(Gt)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),Jt=`${ni}-group`;return[{[Jt]:{[`&${Jt}-top ${Jt}-wrap`]:(0,te.R)(`${Jt}-wrap`,Ke,ut,Fe,!0),[`&${Jt}-bottom ${Jt}-wrap`]:(0,te.R)(`${Jt}-wrap`,Ze,wt,Fe,!0),[`&${Jt}-left ${Jt}-wrap`]:(0,te.R)(`${Jt}-wrap`,$t,_t,Fe,!0),[`&${Jt}-right ${Jt}-wrap`]:(0,te.R)(`${Jt}-wrap`,Nt,Be,Fe,!0)}},{[`${Jt}-wrap`]:{[`&${Jt}-wrap-enter, &${Jt}-wrap-appear`]:{opacity:0,animationTimingFunction:Ge},[`&${Jt}-wrap-leave`]:{opacity:1,animationTimingFunction:Ge}}}]};const q=Mt=>{const{antCls:ni,componentCls:Gt,floatButtonSize:Fe,margin:Ge,borderRadiusLG:Te,borderRadiusSM:Ke,badgeOffset:ut,floatButtonBodyPadding:Nt,zIndexPopupBase:Be,calc:Ze}=Mt,wt=`${Gt}-group`;return{[wt]:Object.assign(Object.assign({},(0,ie.Wf)(Mt)),{zIndex:Be,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:Fe,minHeight:Fe,insetInlineEnd:Mt.floatButtonInsetInlineEnd,bottom:Mt.floatButtonInsetBlockEnd,borderRadius:Te,[`${wt}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${wt}-rtl`]:{direction:"rtl"},[Gt]:{position:"static"}}),[`${wt}-top > ${wt}-wrap`]:{flexDirection:"column",top:"auto",bottom:Ze(Fe).add(Ge).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:Ge,bottom:Ze(Ge).mul(-1).equal()}},[`${wt}-bottom > ${wt}-wrap`]:{flexDirection:"column",top:Ze(Fe).add(Ge).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:Ge,top:Ze(Ge).mul(-1).equal()}},[`${wt}-right > ${wt}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:Ze(Fe).add(Ge).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:Ge,height:"100%",left:{_skip_check_:!0,value:Ze(Ge).mul(-1).equal()}}},[`${wt}-left > ${wt}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:Ze(Fe).add(Ge).equal()},"&::after":{content:'""',position:"absolute",width:Ge,height:"100%",right:{_skip_check_:!0,value:Ze(Ge).mul(-1).equal()}}},[`${wt}-circle`]:{gap:Ge,[`${wt}-wrap`]:{gap:Ge}},[`${wt}-square`]:{[`${Gt}-square`]:{padding:0,borderRadius:0,[`&${wt}-trigger`]:{borderRadius:Te},"&:first-child":{borderStartStartRadius:Te,borderStartEndRadius:Te},"&:last-child":{borderEndStartRadius:Te,borderEndEndRadius:Te},"&:not(:last-child)":{borderBottom:`${(0,ae.unit)(Mt.lineWidth)} ${Mt.lineType} ${Mt.colorSplit}`},[`${ni}-badge`]:{[`${ni}-badge-count`]:{top:Ze(Ze(Nt).add(ut)).mul(-1).equal(),insetInlineEnd:Ze(Ze(Nt).add(ut)).mul(-1).equal()}}},[`${wt}-wrap`]:{borderRadius:Te,boxShadow:Mt.boxShadowSecondary,[`${Gt}-square`]:{boxShadow:"none",borderRadius:0,padding:Nt,[`${Gt}-body`]:{width:Mt.floatButtonBodySize,height:Mt.floatButtonBodySize,borderRadius:Ke}}}},[`${wt}-top > ${wt}-wrap, ${wt}-bottom > ${wt}-wrap`]:{[`> ${Gt}-square`]:{"&:first-child":{borderStartStartRadius:Te,borderStartEndRadius:Te},"&:last-child":{borderEndStartRadius:Te,borderEndEndRadius:Te},"&:not(:last-child)":{borderBottom:`${(0,ae.unit)(Mt.lineWidth)} ${Mt.lineType} ${Mt.colorSplit}`}}},[`${wt}-left > ${wt}-wrap, ${wt}-right > ${wt}-wrap`]:{[`> ${Gt}-square`]:{"&:first-child":{borderStartStartRadius:Te,borderEndStartRadius:Te},"&:last-child":{borderStartEndRadius:Te,borderEndEndRadius:Te},"&:not(:last-child)":{borderInlineEnd:`${(0,ae.unit)(Mt.lineWidth)} ${Mt.lineType} ${Mt.colorSplit}`}}},[`${wt}-circle-shadow`]:{boxShadow:"none"},[`${wt}-square-shadow`]:{boxShadow:Mt.boxShadowSecondary,[`${Gt}-square`]:{boxShadow:"none",padding:Nt,[`${Gt}-body`]:{width:Mt.floatButtonBodySize,height:Mt.floatButtonBodySize,borderRadius:Ke}}}}},me=Mt=>{const{antCls:ni,componentCls:Gt,floatButtonBodyPadding:Fe,floatButtonIconSize:Ge,floatButtonSize:Te,borderRadiusLG:Ke,badgeOffset:ut,dotOffsetInSquare:Nt,dotOffsetInCircle:Be,zIndexPopupBase:Ze,calc:wt}=Mt;return{[Gt]:Object.assign(Object.assign({},(0,ie.Wf)(Mt)),{border:"none",position:"fixed",cursor:"pointer",zIndex:Ze,display:"block",width:Te,height:Te,insetInlineEnd:Mt.floatButtonInsetInlineEnd,bottom:Mt.floatButtonInsetBlockEnd,boxShadow:Mt.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${ni}-badge`]:{width:"100%",height:"100%",[`${ni}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:wt(ut).mul(-1).equal(),insetInlineEnd:wt(ut).mul(-1).equal()}},[`${Gt}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${Mt.motionDurationMid}`,[`${Gt}-content`]:{overflow:"hidden",textAlign:"center",minHeight:Te,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${(0,ae.unit)(wt(Fe).div(2).equal())} ${(0,ae.unit)(Fe)}`,[`${Gt}-icon`]:{textAlign:"center",margin:"auto",width:Ge,fontSize:Ge,lineHeight:1}}}}),[`${Gt}-rtl`]:{direction:"rtl"},[`${Gt}-circle`]:{height:Te,borderRadius:"50%",[`${ni}-badge`]:{[`${ni}-badge-dot`]:{top:Be,insetInlineEnd:Be}},[`${Gt}-body`]:{borderRadius:"50%"}},[`${Gt}-square`]:{height:"auto",minHeight:Te,borderRadius:Ke,[`${ni}-badge`]:{[`${ni}-badge-dot`]:{top:Nt,insetInlineEnd:Nt}},[`${Gt}-body`]:{height:"auto",borderRadius:Ke}},[`${Gt}-default`]:{backgroundColor:Mt.floatButtonBackgroundColor,transition:`background-color ${Mt.motionDurationMid}`,[`${Gt}-body`]:{backgroundColor:Mt.floatButtonBackgroundColor,transition:`background-color ${Mt.motionDurationMid}`,"&:hover":{backgroundColor:Mt.colorFillContent},[`${Gt}-content`]:{[`${Gt}-icon`]:{color:Mt.colorText},[`${Gt}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,ae.unit)(Mt.fontSizeLG),color:Mt.colorText,fontSize:Mt.fontSizeSM}}}},[`${Gt}-primary`]:{backgroundColor:Mt.colorPrimary,[`${Gt}-body`]:{backgroundColor:Mt.colorPrimary,transition:`background-color ${Mt.motionDurationMid}`,"&:hover":{backgroundColor:Mt.colorPrimaryHover},[`${Gt}-content`]:{[`${Gt}-icon`]:{color:Mt.colorTextLightSolid},[`${Gt}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,ae.unit)(Mt.fontSizeLG),color:Mt.colorTextLightSolid,fontSize:Mt.fontSizeSM}}}}}},w=Mt=>({dotOffsetInCircle:F(Mt.controlHeightLG/2),dotOffsetInSquare:F(Mt.borderRadiusLG)});var we=(0,X.I$)("FloatButton",Mt=>{const{colorTextLightSolid:ni,colorBgElevated:Gt,controlHeightLG:Fe,marginXXL:Ge,marginLG:Te,fontSize:Ke,fontSizeIcon:ut,controlItemBgHover:Nt,paddingXXS:Be,calc:Ze}=Mt,wt=(0,ne.mergeToken)(Mt,{floatButtonBackgroundColor:Gt,floatButtonColor:ni,floatButtonHoverBackgroundColor:Nt,floatButtonFontSize:Ke,floatButtonIconSize:Ze(ut).mul(1.5).equal(),floatButtonSize:Fe,floatButtonInsetBlockEnd:Ge,floatButtonInsetInlineEnd:Te,floatButtonBodySize:Ze(Fe).sub(Ze(Be).mul(2)).equal(),floatButtonBodyPadding:Be,badgeOffset:Ze(Be).mul(1.5).equal()});return[q(wt),me(wt),(0,se.J$)(Mt),G(wt)]},w),xe=function(Mt,ni){var Gt={};for(var Fe in Mt)Object.prototype.hasOwnProperty.call(Mt,Fe)&&ni.indexOf(Fe)<0&&(Gt[Fe]=Mt[Fe]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,Fe=Object.getOwnPropertySymbols(Mt);Ge<Fe.length;Ge++)ni.indexOf(Fe[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Mt,Fe[Ge])&&(Gt[Fe[Ge]]=Mt[Fe[Ge]]);return Gt};const Ne="float-btn";var Ae=b.forwardRef((Mt,ni)=>{const{prefixCls:Gt,className:Fe,rootClassName:Ge,style:Te,type:Ke="default",shape:ut="circle",icon:Nt,description:Be,tooltip:Ze,htmlType:wt="button",badge:$t={}}=Mt,_t=xe(Mt,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:Jt,direction:Zt}=(0,b.useContext)(m.E_),Xe=(0,b.useContext)(_),Lt=Jt(Ne,Gt),mi=(0,M.Z)(Lt),[jt,ki,Pi]=we(Lt,mi),gt=Xe||ut,St=j()(ki,Pi,mi,Lt,Fe,Ge,`${Lt}-${Ke}`,`${Lt}-${gt}`,{[`${Lt}-rtl`]:Zt==="rtl"}),[ii]=(0,L.Cn)("FloatButton",Te?.zIndex),Ri=Object.assign(Object.assign({},Te),{zIndex:ii}),Di=(0,v.Z)($t,["title","children","status","text"]);let Vi=b.createElement("div",{className:`${Lt}-body`},b.createElement(re,{prefixCls:Lt,description:Be,icon:Nt}));"badge"in Mt&&(Vi=b.createElement(T.Z,Object.assign({},Di),Vi));const Ci=(0,p.Z)(Ze);return Ci&&(Vi=b.createElement(I.Z,Object.assign({},Ci),Vi)),jt(Mt.href?b.createElement("a",Object.assign({ref:ni},_t,{className:St,style:Ri}),Vi):b.createElement("button",Object.assign({ref:ni},_t,{className:St,style:Ri,type:wt}),Vi))}),$e=function(Mt,ni){var Gt={};for(var Fe in Mt)Object.prototype.hasOwnProperty.call(Mt,Fe)&&ni.indexOf(Fe)<0&&(Gt[Fe]=Mt[Fe]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,Fe=Object.getOwnPropertySymbols(Mt);Ge<Fe.length;Ge++)ni.indexOf(Fe[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Mt,Fe[Ge])&&(Gt[Fe[Ge]]=Mt[Fe[Ge]]);return Gt},at=b.forwardRef((Mt,ni)=>{const{prefixCls:Gt,className:Fe,type:Ge="default",shape:Te="circle",visibilityHeight:Ke=400,icon:ut=b.createElement(l.Z,null),target:Nt,onClick:Be,duration:Ze=450}=Mt,wt=$e(Mt,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[$t,_t]=(0,b.useState)(Ke===0),Jt=b.useRef(null);b.useImperativeHandle(ni,()=>({nativeElement:Jt.current}));const Zt=()=>{var ii;return((ii=Jt.current)===null||ii===void 0?void 0:ii.ownerDocument)||window},Xe=C(ii=>{const Ri=(0,B.Z)(ii.target);_t(Ri>=Ke)});(0,b.useEffect)(()=>{const Ri=(Nt||Zt)();return Xe({target:Ri}),Ri?.addEventListener("scroll",Xe),()=>{Xe.cancel(),Ri?.removeEventListener("scroll",Xe)}},[Nt]);const Lt=ii=>{(0,H.Z)(0,{getContainer:Nt||Zt,duration:Ze}),Be?.(ii)},{getPrefixCls:mi}=(0,b.useContext)(m.E_),jt=mi(Ne,Gt),ki=mi(),gt=(0,b.useContext)(_)||Te,St=Object.assign({prefixCls:jt,icon:ut,type:Ge,shape:gt},wt);return b.createElement(E.default,{visible:$t,motionName:`${ki}-fade`},({className:ii},Ri)=>b.createElement(Ae,Object.assign({ref:(0,Z.sQ)(Jt,Ri)},St,{onClick:Lt,className:j()(Fe,ii)})))}),pt=s(97937),bt=s(66680),We=s(21770),it=function(Mt,ni){var Gt={};for(var Fe in Mt)Object.prototype.hasOwnProperty.call(Mt,Fe)&&ni.indexOf(Fe)<0&&(Gt[Fe]=Mt[Fe]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,Fe=Object.getOwnPropertySymbols(Mt);Ge<Fe.length;Ge++)ni.indexOf(Fe[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Mt,Fe[Ge])&&(Gt[Fe[Ge]]=Mt[Fe[Ge]]);return Gt},ye=Mt=>{var ni;const{prefixCls:Gt,className:Fe,style:Ge,shape:Te="circle",type:Ke="default",placement:ut="top",icon:Nt=b.createElement(P.Z,null),closeIcon:Be,description:Ze,trigger:wt,children:$t,onOpenChange:_t,open:Jt,onClick:Zt}=Mt,Xe=it(Mt,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:Lt,getPrefixCls:mi,closeIcon:jt}=(0,m.dj)("floatButtonGroup"),ki=(ni=Be??jt)!==null&&ni!==void 0?ni:b.createElement(pt.Z,null),Pi=mi(Ne,Gt),gt=(0,M.Z)(Pi),[St,ii,Ri]=we(Pi,gt),Di=`${Pi}-group`,Vi=wt&&["click","hover"].includes(wt),Ci=ut&&["top","left","right","bottom"].includes(ut),Wt=j()(Di,ii,Ri,gt,Fe,{[`${Di}-rtl`]:Lt==="rtl",[`${Di}-${Te}`]:Te,[`${Di}-${Te}-shadow`]:!Vi,[`${Di}-${ut}`]:Vi&&Ci}),[vt]=(0,L.Cn)("FloatButton",Ge?.zIndex),_e=Object.assign(Object.assign({},Ge),{zIndex:vt}),Ee=j()(ii,`${Di}-wrap`),[Le,oe]=(0,We.Z)(!1,{value:Jt}),he=b.useRef(null),Me=wt==="hover",ke=wt==="click",Je=(0,bt.Z)(nt=>{Le!==nt&&(oe(nt),_t?.(nt))}),ot=()=>{Me&&Je(!0)},ht=()=>{Me&&Je(!1)},xt=nt=>{ke&&Je(!Le),Zt?.(nt)};return b.useEffect(()=>{if(ke){const nt=It=>{var Ht;!((Ht=he.current)===null||Ht===void 0)&&Ht.contains(It.target)||Je(!1)};return document.addEventListener("click",nt,{capture:!0}),()=>document.removeEventListener("click",nt,{capture:!0})}},[ke]),St(b.createElement(d,{value:Te},b.createElement("div",{ref:he,className:Wt,style:_e,onMouseEnter:ot,onMouseLeave:ht},Vi?b.createElement(b.Fragment,null,b.createElement(E.default,{visible:Le,motionName:`${Di}-wrap`},({className:nt})=>b.createElement("div",{className:j()(nt,Ee)},$t)),b.createElement(Ae,Object.assign({type:Ke,icon:Le?ki:Nt,description:Ze,"aria-label":Mt["aria-label"],className:`${Di}-trigger`,onClick:xt},Xe))):$t)))},ft=function(Mt,ni){var Gt={};for(var Fe in Mt)Object.prototype.hasOwnProperty.call(Mt,Fe)&&ni.indexOf(Fe)<0&&(Gt[Fe]=Mt[Fe]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,Fe=Object.getOwnPropertySymbols(Mt);Ge<Fe.length;Ge++)ni.indexOf(Fe[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Mt,Fe[Ge])&&(Gt[Fe[Ge]]=Mt[Fe[Ge]]);return Gt};const Xt=Mt=>{var{backTop:ni}=Mt,Gt=ft(Mt,["backTop"]);return ni?b.createElement(at,Object.assign({},Gt,{visibilityHeight:0})):b.createElement(Ae,Object.assign({},Gt))};var Ft=Mt=>{var{className:ni,items:Gt}=Mt,Fe=ft(Mt,["className","items"]);const{prefixCls:Ge}=Fe,{getPrefixCls:Te}=b.useContext(m.E_),ut=`${Te(Ne,Ge)}-pure`;return Gt?b.createElement(ye,Object.assign({className:j()(ni,ut)},Fe),Gt.map((Nt,Be)=>b.createElement(Xt,Object.assign({key:Be},Nt)))):b.createElement(Xt,Object.assign({className:j()(ni,ut)},Fe))};Ae.BackTop=at,Ae.Group=ye,Ae._InternalPanelDoNotUseOrYouWillBeFired=Ft;var Ot=Ae},50048:function(Yt,Ye,s){self.MonacoEnvironment=function(b){function l(z){return z.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(z,j){var E="/",Z=(E?l(E)+"/":"")+b[j];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(Z)){var B=String(window.location),H=B.substr(0,B.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(Z.substring(0,H.length)!==H){/^(\/\/)/.test(Z)&&(Z=window.location.protocol+Z);var O="/*"+j+'*/importScripts("'+Z+'");',y=new Blob([O],{type:"application/javascript"});return URL.createObjectURL(y)}}return Z}}}({editorWorkerService:"vs/editor.worker.js",typescript:"vs/ts.worker.js",json:"vs/json.worker.js",javascript:"vs/ts.worker.js"}),s(46005),s(13468),s(55833),s(27002),s(64340),s(78182),s(60468),s(43587),s(88088),s(70943),Yt.exports=s(16269),s(43763),s(88307),s(39585),s(72323),s(83187)},55826:function(Yt,Ye,s){self.MonacoEnvironment=function(b){function l(z){return z.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(z,j){var E="/",Z=(E?l(E)+"/":"")+b[j];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(Z)){var B=String(window.location),H=B.substr(0,B.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(Z.substring(0,H.length)!==H){/^(\/\/)/.test(Z)&&(Z=window.location.protocol+Z);var O="/*"+j+'*/importScripts("'+Z+'");',y=new Blob([O],{type:"application/javascript"});return URL.createObjectURL(y)}}return Z}}}({editorWorkerService:"vs/editor.worker.js",typescript:"vs/ts.worker.js",json:"vs/json.worker.js",javascript:"vs/ts.worker.js"}),s(46005),s(13468),s(55833),s(27002),s(64340),s(78182),s(60468),s(43587),s(88088),s(70943),Yt.exports=s(62783),s(43763),s(88307),s(39585),s(72323),s(83187)},30747:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{PixelRatio:function(){return H},addMatchMediaChangeListener:function(){return B},getZoomFactor:function(){return O},isAndroid:function(){return v},isChrome:function(){return m},isElectron:function(){return _},isFirefox:function(){return g},isSafari:function(){return i},isStandalone:function(){return L},isWebKit:function(){return C},isWebkitWebView:function(){return d}});var b=s(4669),l=s(5976);class z{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}z.INSTANCE=new z;class j extends l.JT{constructor(){super(),this._onDidChange=this._register(new b.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(M){var I;(I=this._mediaQueryList)===null||I===void 0||I.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),M&&this._onDidChange.fire()}}class E extends l.JT{constructor(){super(),this._onDidChange=this._register(new b.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const M=this._register(new j);this._register(M.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const M=document.createElement("canvas").getContext("2d"),I=window.devicePixelRatio||1,P=M.webkitBackingStorePixelRatio||M.mozBackingStorePixelRatio||M.msBackingStorePixelRatio||M.oBackingStorePixelRatio||M.backingStorePixelRatio||1;return I/P}}class Z{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,l.dk)(new E)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function B(T,M){typeof T=="string"&&(T=window.matchMedia(T)),T.addEventListener("change",M)}const H=new Z;function O(){return z.INSTANCE.getZoomFactor()}const y=navigator.userAgent,g=y.indexOf("Firefox")>=0,C=y.indexOf("AppleWebKit")>=0,m=y.indexOf("Chrome")>=0,i=!m&&y.indexOf("Safari")>=0,d=!m&&!i&&C,_=y.indexOf("Electron/")>=0,v=y.indexOf("Android")>=0;let p=!1;if(window.matchMedia){const T=window.matchMedia("(display-mode: standalone)");p=T.matches,B(T,({matches:M})=>{p=M})}function L(){return p}},10161:function(Yt,Ye,s){"use strict";s.d(Ye,{D:function(){return z}});var b=s(30747),l=s(1432);const z={clipboard:{writeText:l.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:l.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:l.tY||b.isStandalone()?0:navigator.keyboard||b.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},23547:function(Yt,Ye,s){"use strict";s.d(Ye,{P:function(){return z},g:function(){return l}});var b=s(81170);const l={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:b.v.text},z={CurrentDragAndDropData:void 0}},65321:function(Yt,Ye,s){"use strict";s.d(Ye,{$:function(){return ut},$Z:function(){return Nt},Ay:function(){return $e},Ce:function(){return Gt},Cp:function(){return Be},D6:function(){return se},DI:function(){return G},Dx:function(){return ie},FK:function(){return me},Fx:function(){return Ne},GQ:function(){return p},H$:function(){return Ze},I8:function(){return W},IC:function(){return I},If:function(){return w},OO:function(){return Ae},PO:function(){return g},R3:function(){return ni},Re:function(){return ye},Ro:function(){return ne},Uh:function(){return wt},Uw:function(){return C},V3:function(){return $t},_0:function(){return Ft},_F:function(){return Xe},_h:function(){return Zt},_q:function(){return Lt},dS:function(){return at},dp:function(){return F},eg:function(){return mi},fk:function(){return it},go:function(){return Mt},i:function(){return te},jL:function(){return re},jg:function(){return xe},jt:function(){return _t},lI:function(){return $},mc:function(){return Fe},mu:function(){return v},nm:function(){return i},tw:function(){return ft},uN:function(){return pe},uU:function(){return Ve},vL:function(){return qt},vY:function(){return je},w:function(){return q},wY:function(){return Jt},wn:function(){return we},xQ:function(){return Q},zB:function(){return Xt}});var b=s(30747),l=s(10161),z=s(59069),j=s(7317),E=s(17301),Z=s(4669),B=s(70921),H=s(5976),O=s(66663),y=s(1432);function g(gt){for(;gt.firstChild;)gt.firstChild.remove()}function C(gt){var St;return(St=gt?.isConnected)!==null&&St!==void 0?St:!1}class m{constructor(St,ii,Ri,Di){this._node=St,this._type=ii,this._handler=Ri,this._options=Di||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function i(gt,St,ii,Ri){return new m(gt,St,ii,Ri)}function d(gt){return function(St){return gt(new j.n(St))}}function _(gt){return function(St){return gt(new z.y(St))}}const v=function(St,ii,Ri,Di){let Vi=Ri;return ii==="click"||ii==="mousedown"?Vi=d(Ri):(ii==="keydown"||ii==="keypress"||ii==="keyup")&&(Vi=_(Ri)),i(St,ii,Vi,Di)},p=function(St,ii,Ri){const Di=d(ii);return T(St,Di,Ri)},L=function(St,ii,Ri){const Di=d(ii);return M(St,Di,Ri)};function T(gt,St,ii){return i(gt,y.gn&&l.D.pointerEvents?ft.POINTER_DOWN:ft.MOUSE_DOWN,St,ii)}function M(gt,St,ii){return i(gt,platform.isIOS&&BrowserFeatures.pointerEvents?ft.POINTER_UP:ft.MOUSE_UP,St,ii)}function I(gt,St,ii){let Ri=null;const Di=vt=>Wt.fire(vt),Vi=()=>{Ri||(Ri=new m(gt,St,Di,ii))},Ci=()=>{Ri&&(Ri.dispose(),Ri=null)},Wt=new Z.Q5({onFirstListenerAdd:Vi,onLastListenerRemove:Ci});return Wt}let P=null;function V(gt){if(!P){const St=ii=>setTimeout(()=>ii(new Date().getTime()),0);P=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||St}return P.call(self,gt)}let $,re;class ae{constructor(St,ii=0){this._runner=St,this.priority=ii,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(St){(0,E.dL)(St)}}static sort(St,ii){return ii.priority-St.priority}}(function(){let gt=[],St=null,ii=!1,Ri=!1;const Di=()=>{for(ii=!1,St=gt,gt=[],Ri=!0;St.length>0;)St.sort(ae.sort),St.shift().execute();Ri=!1};re=(Vi,Ci=0)=>{const Wt=new ae(Vi,Ci);return gt.push(Wt),ii||(ii=!0,V(Di)),Wt},$=(Vi,Ci)=>{if(Ri){const Wt=new ae(Vi,Ci);return St.push(Wt),Wt}else return re(Vi,Ci)}})();function ie(gt){return document.defaultView.getComputedStyle(gt,null)}function se(gt){if(gt!==document.body)return new ne(gt.clientWidth,gt.clientHeight);if(y.gn&&window.visualViewport)return new ne(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ne(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ne(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ne(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class X{static convertToPixels(St,ii){return parseFloat(ii)||0}static getDimension(St,ii,Ri){const Di=ie(St);let Vi="0";return Di&&(Di.getPropertyValue?Vi=Di.getPropertyValue(ii):Vi=Di.getAttribute(Ri)),X.convertToPixels(St,Vi)}static getBorderLeftWidth(St){return X.getDimension(St,"border-left-width","borderLeftWidth")}static getBorderRightWidth(St){return X.getDimension(St,"border-right-width","borderRightWidth")}static getBorderTopWidth(St){return X.getDimension(St,"border-top-width","borderTopWidth")}static getBorderBottomWidth(St){return X.getDimension(St,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(St){return X.getDimension(St,"padding-left","paddingLeft")}static getPaddingRight(St){return X.getDimension(St,"padding-right","paddingRight")}static getPaddingTop(St){return X.getDimension(St,"padding-top","paddingTop")}static getPaddingBottom(St){return X.getDimension(St,"padding-bottom","paddingBottom")}static getMarginLeft(St){return X.getDimension(St,"margin-left","marginLeft")}static getMarginTop(St){return X.getDimension(St,"margin-top","marginTop")}static getMarginRight(St){return X.getDimension(St,"margin-right","marginRight")}static getMarginBottom(St){return X.getDimension(St,"margin-bottom","marginBottom")}}class ne{constructor(St,ii){this.width=St,this.height=ii}with(St=this.width,ii=this.height){return St!==this.width||ii!==this.height?new ne(St,ii):this}static is(St){return typeof St=="object"&&typeof St.height=="number"&&typeof St.width=="number"}static lift(St){return St instanceof ne?St:new ne(St.width,St.height)}static equals(St,ii){return St===ii?!0:!St||!ii?!1:St.width===ii.width&&St.height===ii.height}}ne.None=new ne(0,0);function Q(gt){let St=gt.offsetParent,ii=gt.offsetTop,Ri=gt.offsetLeft;for(;(gt=gt.parentNode)!==null&&gt!==document.body&&gt!==document.documentElement;){ii-=gt.scrollTop;const Di=Ce(gt)?null:ie(gt);Di&&(Ri-=Di.direction!=="rtl"?gt.scrollLeft:-gt.scrollLeft),gt===St&&(Ri+=X.getBorderLeftWidth(gt),ii+=X.getBorderTopWidth(gt),ii+=gt.offsetTop,Ri+=gt.offsetLeft,St=gt.offsetParent)}return{left:Ri,top:ii}}function F(gt,St,ii){typeof St=="number"&&(gt.style.width=`${St}px`),typeof ii=="number"&&(gt.style.height=`${ii}px`)}function te(gt){const St=gt.getBoundingClientRect();return{left:St.left+G.scrollX,top:St.top+G.scrollY,width:St.width,height:St.height}}function W(gt){let St=gt,ii=1;do{const Ri=ie(St).zoom;Ri!=null&&Ri!=="1"&&(ii*=Ri),St=St.parentElement}while(St!==null&&St!==document.documentElement);return ii}const G=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function q(gt){const St=X.getMarginLeft(gt)+X.getMarginRight(gt);return gt.offsetWidth+St}function me(gt){const St=X.getBorderLeftWidth(gt)+X.getBorderRightWidth(gt),ii=X.getPaddingLeft(gt)+X.getPaddingRight(gt);return gt.offsetWidth-St-ii}function w(gt){const St=X.getBorderTopWidth(gt)+X.getBorderBottomWidth(gt),ii=X.getPaddingTop(gt)+X.getPaddingBottom(gt);return gt.offsetHeight-St-ii}function we(gt){const St=X.getMarginTop(gt)+X.getMarginBottom(gt);return gt.offsetHeight+St}function xe(gt,St){for(;gt;){if(gt===St)return!0;gt=gt.parentNode}return!1}function Ne(gt,St,ii){for(;gt&&gt.nodeType===gt.ELEMENT_NODE;){if(gt.classList.contains(St))return gt;if(ii){if(typeof ii=="string"){if(gt.classList.contains(ii))return null}else if(gt===ii)return null}gt=gt.parentNode}return null}function Ve(gt,St,ii){return!!Ne(gt,St,ii)}function Ce(gt){return gt&&!!gt.host&&!!gt.mode}function Ae(gt){return!!$e(gt)}function $e(gt){for(;gt.parentNode;){if(gt===document.body)return null;gt=gt.parentNode}return Ce(gt)?gt:null}function je(){let gt=document.activeElement;for(;gt?.shadowRoot;)gt=gt.shadowRoot.activeElement;return gt}function at(gt=document.getElementsByTagName("head")[0]){const St=document.createElement("style");return St.type="text/css",St.media="screen",gt.appendChild(St),St}let pt=null;function bt(){return pt||(pt=at()),pt}function We(gt){var St,ii;return!((St=gt?.sheet)===null||St===void 0)&&St.rules?gt.sheet.rules:!((ii=gt?.sheet)===null||ii===void 0)&&ii.cssRules?gt.sheet.cssRules:[]}function it(gt,St,ii=bt()){!ii||!St||ii.sheet.insertRule(gt+"{"+St+"}",0)}function pe(gt,St=bt()){if(!St)return;const ii=We(St),Ri=[];for(let Di=0;Di<ii.length;Di++)ii[Di].selectorText.indexOf(gt)!==-1&&Ri.push(Di);for(let Di=Ri.length-1;Di>=0;Di--)St.sheet.deleteRule(Ri[Di])}function ye(gt){return typeof HTMLElement=="object"?gt instanceof HTMLElement:gt&&typeof gt=="object"&&gt.nodeType===1&&typeof gt.nodeName=="string"}const ft={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:b.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:b.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:b.isWebKit?"webkitAnimationIteration":"animationiteration"},Xt={stop:function(gt,St){gt.preventDefault?gt.preventDefault():gt.returnValue=!1,St&&(gt.stopPropagation?gt.stopPropagation():gt.cancelBubble=!0)}};function qt(gt){const St=[];for(let ii=0;gt&&gt.nodeType===gt.ELEMENT_NODE;ii++)St[ii]=gt.scrollTop,gt=gt.parentNode;return St}function Ft(gt,St){for(let ii=0;gt&&gt.nodeType===gt.ELEMENT_NODE;ii++)gt.scrollTop!==St[ii]&&(gt.scrollTop=St[ii]),gt=gt.parentNode}class Ot extends H.JT{constructor(St){super(),this._onDidFocus=this._register(new Z.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new Z.Q5),this.onDidBlur=this._onDidBlur.event;let ii=Ot.hasFocusWithin(St),Ri=!1;const Di=()=>{Ri=!1,ii||(ii=!0,this._onDidFocus.fire())},Vi=()=>{ii&&(Ri=!0,window.setTimeout(()=>{Ri&&(Ri=!1,ii=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Ot.hasFocusWithin(St)!==ii&&(ii?Vi():Di())},this._register(i(St,ft.FOCUS,Di,!0)),this._register(i(St,ft.BLUR,Vi,!0)),this._register(i(St,ft.FOCUS_IN,()=>this._refreshStateHandler())),this._register(i(St,ft.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(St){const ii=$e(St),Ri=ii?ii.activeElement:document.activeElement;return xe(Ri,St)}}function Mt(gt){return new Ot(gt)}function ni(gt,...St){if(gt.append(...St),St.length===1&&typeof St[0]!="string")return St[0]}function Gt(gt,St){return gt.insertBefore(St,gt.firstChild),St}function Fe(gt,...St){gt.innerText="",ni(gt,...St)}const Ge=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Te;(function(gt){gt.HTML="http://www.w3.org/1999/xhtml",gt.SVG="http://www.w3.org/2000/svg"})(Te||(Te={}));function Ke(gt,St,ii,...Ri){const Di=Ge.exec(St);if(!Di)throw new Error("Bad use of emmet");ii=Object.assign({},ii||{});const Vi=Di[1]||"div";let Ci;return gt!==Te.HTML?Ci=document.createElementNS(gt,Vi):Ci=document.createElement(Vi),Di[3]&&(Ci.id=Di[3]),Di[4]&&(Ci.className=Di[4].replace(/\./g," ").trim()),Object.keys(ii).forEach(Wt=>{const vt=ii[Wt];typeof vt>"u"||(/^on\w+$/.test(Wt)?Ci[Wt]=vt:Wt==="selected"?vt&&Ci.setAttribute(Wt,"true"):Ci.setAttribute(Wt,vt))}),Ci.append(...Ri),Ci}function ut(gt,St,...ii){return Ke(Te.HTML,gt,St,...ii)}ut.SVG=function(gt,St,...ii){return Ke(Te.SVG,gt,St,...ii)};function Nt(...gt){for(const St of gt)St.style.display="",St.removeAttribute("aria-hidden")}function Be(...gt){for(const St of gt)St.style.display="none",St.setAttribute("aria-hidden","true")}function Ze(gt){return Array.prototype.slice.call(document.getElementsByTagName(gt),0)}function wt(gt){const St=window.devicePixelRatio*gt;return Math.max(1,Math.floor(St))/window.devicePixelRatio}function $t(gt){window.open(gt,"_blank","noopener")}function _t(gt){const St=()=>{gt(),ii=re(St)};let ii=re(St);return(0,H.OF)(()=>ii.dispose())}O.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Jt(gt){return gt?`url('${O.Gi.asBrowserUri(gt).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Zt(gt){return`'${gt.replace(/'/g,"%27")}'`}function Xe(gt,St=!1){const ii=document.createElement("a");return B.v5("afterSanitizeAttributes",Ri=>{for(const Di of["href","src"])if(Ri.hasAttribute(Di)){const Vi=Ri.getAttribute(Di);if(Di==="href"&&Vi.startsWith("#"))continue;if(ii.href=Vi,!gt.includes(ii.protocol.replace(/:$/,""))){if(St&&Di==="src"&&ii.href.startsWith("data:"))continue;Ri.removeAttribute(Di)}}}),(0,H.OF)(()=>{B.ok("afterSanitizeAttributes")})}class Lt extends Z.Q5{constructor(){super(),this._subscriptions=new H.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(i(window,"keydown",St=>{if(St.defaultPrevented)return;const ii=new z.y(St);if(!(ii.keyCode===6&&St.repeat)){if(St.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(St.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(St.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(St.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(ii.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=St.altKey,this._keyStatus.ctrlKey=St.ctrlKey,this._keyStatus.metaKey=St.metaKey,this._keyStatus.shiftKey=St.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=St,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(i(window,"keyup",St=>{St.defaultPrevented||(!St.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!St.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!St.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!St.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=St.altKey,this._keyStatus.ctrlKey=St.ctrlKey,this._keyStatus.metaKey=St.metaKey,this._keyStatus.shiftKey=St.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=St,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(i(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(i(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(i(document.body,"mousemove",St=>{St.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(i(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Lt.instance||(Lt.instance=new Lt),Lt.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class mi extends H.JT{constructor(St,ii){super(),this.element=St,this.callbacks=ii,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(i(this.element,ft.DRAG_ENTER,St=>{this.counter++,this.dragStartTime=St.timeStamp,this.callbacks.onDragEnter(St)})),this._register(i(this.element,ft.DRAG_OVER,St=>{var ii,Ri;St.preventDefault(),(Ri=(ii=this.callbacks).onDragOver)===null||Ri===void 0||Ri.call(ii,St,St.timeStamp-this.dragStartTime)})),this._register(i(this.element,ft.DRAG_LEAVE,St=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(St))})),this._register(i(this.element,ft.DRAG_END,St=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(St)})),this._register(i(this.element,ft.DROP,St=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(St)}))}}const jt=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function ki(gt,...St){let ii,Ri;Array.isArray(St[0])?(ii={},Ri=St[0]):(ii=St[0]||{},Ri=St[1]);const Di=jt.exec(gt);if(!Di||!Di.groups)throw new Error("Bad use of h");const Vi=Di.groups.tag||"div",Ci=document.createElement(Vi);Di.groups.id&&(Ci.id=Di.groups.id),Di.groups.class&&(Ci.className=Di.groups.class.replace(/\./g," ").trim());const Wt={};if(Di.groups.name&&(Wt[Di.groups.name]=Ci),Ri)for(const vt of Ri)vt instanceof HTMLElement?Ci.appendChild(vt):typeof vt=="string"?Ci.append(vt):(Object.assign(Wt,vt),Ci.appendChild(vt.root));for(const[vt,_e]of Object.entries(ii))if(vt==="style")for(const[Ee,Le]of Object.entries(_e))Ci.style.setProperty(Pi(Ee),typeof Le=="number"?Le+"px":""+Le);else vt==="tabIndex"?Ci.tabIndex=_e:Ci.setAttribute(Pi(vt),_e.toString());return Wt.root=Ci,Wt}function Pi(gt){return gt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},70921:function(Yt,Ye,s){"use strict";s.d(Ye,{Nw:function(){return ft},ok:function(){return Mt},v5:function(){return Ot}});function b(Fe){if(Array.isArray(Fe)){for(var Ge=0,Te=Array(Fe.length);Ge<Fe.length;Ge++)Te[Ge]=Fe[Ge];return Te}else return Array.from(Fe)}var l=Object.hasOwnProperty,z=Object.setPrototypeOf,j=Object.isFrozen,E=Object.getPrototypeOf,Z=Object.getOwnPropertyDescriptor,B=Object.freeze,H=Object.seal,O=Object.create,y=typeof Reflect<"u"&&Reflect,g=y.apply,C=y.construct;g||(g=function(Ge,Te,Ke){return Ge.apply(Te,Ke)}),B||(B=function(Ge){return Ge}),H||(H=function(Ge){return Ge}),C||(C=function(Ge,Te){return new(Function.prototype.bind.apply(Ge,[null].concat(b(Te))))});var m=P(Array.prototype.forEach),i=P(Array.prototype.pop),d=P(Array.prototype.push),_=P(String.prototype.toLowerCase),v=P(String.prototype.match),p=P(String.prototype.replace),L=P(String.prototype.indexOf),T=P(String.prototype.trim),M=P(RegExp.prototype.test),I=V(TypeError);function P(Fe){return function(Ge){for(var Te=arguments.length,Ke=Array(Te>1?Te-1:0),ut=1;ut<Te;ut++)Ke[ut-1]=arguments[ut];return g(Fe,Ge,Ke)}}function V(Fe){return function(){for(var Ge=arguments.length,Te=Array(Ge),Ke=0;Ke<Ge;Ke++)Te[Ke]=arguments[Ke];return C(Fe,Te)}}function $(Fe,Ge){z&&z(Fe,null);for(var Te=Ge.length;Te--;){var Ke=Ge[Te];if(typeof Ke=="string"){var ut=_(Ke);ut!==Ke&&(j(Ge)||(Ge[Te]=ut),Ke=ut)}Fe[Ke]=!0}return Fe}function re(Fe){var Ge=O(null),Te=void 0;for(Te in Fe)g(l,Fe,[Te])&&(Ge[Te]=Fe[Te]);return Ge}function ae(Fe,Ge){for(;Fe!==null;){var Te=Z(Fe,Ge);if(Te){if(Te.get)return P(Te.get);if(typeof Te.value=="function")return P(Te.value)}Fe=E(Fe)}function Ke(ut){return console.warn("fallback value for",ut),null}return Ke}var ie=B(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),se=B(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),X=B(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ne=B(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Q=B(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),F=B(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),te=B(["#text"]),W=B(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),G=B(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),q=B(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),me=B(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),w=H(/\{\{[\s\S]*|[\s\S]*\}\}/gm),we=H(/<%[\s\S]*|[\s\S]*%>/gm),xe=H(/^data-[\-\w.\u00B7-\uFFFF]/),Ne=H(/^aria-[\-\w]+$/),Ve=H(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ce=H(/^(?:\w+script|data):/i),Ae=H(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe};function je(Fe){if(Array.isArray(Fe)){for(var Ge=0,Te=Array(Fe.length);Ge<Fe.length;Ge++)Te[Ge]=Fe[Ge];return Te}else return Array.from(Fe)}var at=function(){return typeof window>"u"?null:window},pt=function(Ge,Te){if((typeof Ge>"u"?"undefined":$e(Ge))!=="object"||typeof Ge.createPolicy!="function")return null;var Ke=null,ut="data-tt-policy-suffix";Te.currentScript&&Te.currentScript.hasAttribute(ut)&&(Ke=Te.currentScript.getAttribute(ut));var Nt="dompurify"+(Ke?"#"+Ke:"");try{return Ge.createPolicy(Nt,{createHTML:function(Ze){return Ze}})}catch{return console.warn("TrustedTypes policy "+Nt+" could not be created."),null}};function bt(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:at(),Ge=function(yi){return bt(yi)};if(Ge.version="2.3.1",Ge.removed=[],!Fe||!Fe.document||Fe.document.nodeType!==9)return Ge.isSupported=!1,Ge;var Te=Fe.document,Ke=Fe.document,ut=Fe.DocumentFragment,Nt=Fe.HTMLTemplateElement,Be=Fe.Node,Ze=Fe.Element,wt=Fe.NodeFilter,$t=Fe.NamedNodeMap,_t=$t===void 0?Fe.NamedNodeMap||Fe.MozNamedAttrMap:$t,Jt=Fe.Text,Zt=Fe.Comment,Xe=Fe.DOMParser,Lt=Fe.trustedTypes,mi=Ze.prototype,jt=ae(mi,"cloneNode"),ki=ae(mi,"nextSibling"),Pi=ae(mi,"childNodes"),gt=ae(mi,"parentNode");if(typeof Nt=="function"){var St=Ke.createElement("template");St.content&&St.content.ownerDocument&&(Ke=St.content.ownerDocument)}var ii=pt(Lt,Te),Ri=ii&&Cn?ii.createHTML(""):"",Di=Ke,Vi=Di.implementation,Ci=Di.createNodeIterator,Wt=Di.createDocumentFragment,vt=Di.getElementsByTagName,_e=Te.importNode,Ee={};try{Ee=re(Ke).documentMode?Ke.documentMode:{}}catch{}var Le={};Ge.isSupported=typeof gt=="function"&&Vi&&typeof Vi.createHTMLDocument<"u"&&Ee!==9;var oe=w,he=we,Me=xe,ke=Ne,Je=Ce,ot=Ae,ht=Ve,xt=null,nt=$({},[].concat(je(ie),je(se),je(X),je(Q),je(te))),It=null,Ht=$({},[].concat(je(W),je(G),je(q),je(me))),Qt=null,ci=null,Fi=!0,Ii=!0,Xi=!1,zi=!1,Si=!1,Ji=!1,Zi=!1,Ui=!1,nn=!1,Dn=!0,Cn=!1,pi=!0,ze=!0,Ct=!1,kt={},oi=null,ai=$({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),bi=null,xi=$({},["audio","video","img","source","image","track"]),Ti=null,ji=$({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Hi="http://www.w3.org/1998/Math/MathML",rn="http://www.w3.org/2000/svg",wi="http://www.w3.org/1999/xhtml",et=wi,lt=!1,Rt=null,Ut=Ke.createElement("form"),ui=function(yi){Rt&&Rt===yi||((!yi||(typeof yi>"u"?"undefined":$e(yi))!=="object")&&(yi={}),yi=re(yi),xt="ALLOWED_TAGS"in yi?$({},yi.ALLOWED_TAGS):nt,It="ALLOWED_ATTR"in yi?$({},yi.ALLOWED_ATTR):Ht,Ti="ADD_URI_SAFE_ATTR"in yi?$(re(ji),yi.ADD_URI_SAFE_ATTR):ji,bi="ADD_DATA_URI_TAGS"in yi?$(re(xi),yi.ADD_DATA_URI_TAGS):xi,oi="FORBID_CONTENTS"in yi?$({},yi.FORBID_CONTENTS):ai,Qt="FORBID_TAGS"in yi?$({},yi.FORBID_TAGS):{},ci="FORBID_ATTR"in yi?$({},yi.FORBID_ATTR):{},kt="USE_PROFILES"in yi?yi.USE_PROFILES:!1,Fi=yi.ALLOW_ARIA_ATTR!==!1,Ii=yi.ALLOW_DATA_ATTR!==!1,Xi=yi.ALLOW_UNKNOWN_PROTOCOLS||!1,zi=yi.SAFE_FOR_TEMPLATES||!1,Si=yi.WHOLE_DOCUMENT||!1,Ui=yi.RETURN_DOM||!1,nn=yi.RETURN_DOM_FRAGMENT||!1,Dn=yi.RETURN_DOM_IMPORT!==!1,Cn=yi.RETURN_TRUSTED_TYPE||!1,Zi=yi.FORCE_BODY||!1,pi=yi.SANITIZE_DOM!==!1,ze=yi.KEEP_CONTENT!==!1,Ct=yi.IN_PLACE||!1,ht=yi.ALLOWED_URI_REGEXP||ht,et=yi.NAMESPACE||wi,zi&&(Ii=!1),nn&&(Ui=!0),kt&&(xt=$({},[].concat(je(te))),It=[],kt.html===!0&&($(xt,ie),$(It,W)),kt.svg===!0&&($(xt,se),$(It,G),$(It,me)),kt.svgFilters===!0&&($(xt,X),$(It,G),$(It,me)),kt.mathMl===!0&&($(xt,Q),$(It,q),$(It,me))),yi.ADD_TAGS&&(xt===nt&&(xt=re(xt)),$(xt,yi.ADD_TAGS)),yi.ADD_ATTR&&(It===Ht&&(It=re(It)),$(It,yi.ADD_ATTR)),yi.ADD_URI_SAFE_ATTR&&$(Ti,yi.ADD_URI_SAFE_ATTR),yi.FORBID_CONTENTS&&(oi===ai&&(oi=re(oi)),$(oi,yi.FORBID_CONTENTS)),ze&&(xt["#text"]=!0),Si&&$(xt,["html","head","body"]),xt.table&&($(xt,["tbody"]),delete Qt.tbody),B&&B(yi),Rt=yi)},ri=$({},["mi","mo","mn","ms","mtext"]),_i=$({},["foreignobject","desc","title","annotation-xml"]),Yi=$({},se);$(Yi,X),$(Yi,ne);var an=$({},Q);$(an,F);var ei=function(yi){var $i=gt(yi);(!$i||!$i.tagName)&&($i={namespaceURI:wi,tagName:"template"});var en=_(yi.tagName),On=_($i.tagName);if(yi.namespaceURI===rn)return $i.namespaceURI===wi?en==="svg":$i.namespaceURI===Hi?en==="svg"&&(On==="annotation-xml"||ri[On]):!!Yi[en];if(yi.namespaceURI===Hi)return $i.namespaceURI===wi?en==="math":$i.namespaceURI===rn?en==="math"&&_i[On]:!!an[en];if(yi.namespaceURI===wi){if($i.namespaceURI===rn&&!_i[On]||$i.namespaceURI===Hi&&!ri[On])return!1;var us=$({},["title","style","font","a","script"]);return!an[en]&&(us[en]||!Yi[en])}return!1},Gi=function(yi){d(Ge.removed,{element:yi});try{yi.parentNode.removeChild(yi)}catch{try{yi.outerHTML=Ri}catch{yi.remove()}}},ln=function(yi,$i){try{d(Ge.removed,{attribute:$i.getAttributeNode(yi),from:$i})}catch{d(Ge.removed,{attribute:null,from:$i})}if($i.removeAttribute(yi),yi==="is"&&!It[yi])if(Ui||nn)try{Gi($i)}catch{}else try{$i.setAttribute(yi,"")}catch{}},bn=function(yi){var $i=void 0,en=void 0;if(Zi)yi="<remove></remove>"+yi;else{var On=v(yi,/^[\r\n\t ]+/);en=On&&On[0]}var us=ii?ii.createHTML(yi):yi;if(et===wi)try{$i=new Xe().parseFromString(us,"text/html")}catch{}if(!$i||!$i.documentElement){$i=Vi.createDocument(et,"template",null);try{$i.documentElement.innerHTML=lt?"":us}catch{}}var rs=$i.body||$i.documentElement;return yi&&en&&rs.insertBefore(Ke.createTextNode(en),rs.childNodes[0]||null),et===wi?vt.call($i,Si?"html":"body")[0]:Si?$i.documentElement:rs},Mn=function(yi){return Ci.call(yi.ownerDocument||yi,yi,wt.SHOW_ELEMENT|wt.SHOW_COMMENT|wt.SHOW_TEXT,null,!1)},Nn=function(yi){return yi instanceof Jt||yi instanceof Zt?!1:typeof yi.nodeName!="string"||typeof yi.textContent!="string"||typeof yi.removeChild!="function"||!(yi.attributes instanceof _t)||typeof yi.removeAttribute!="function"||typeof yi.setAttribute!="function"||typeof yi.namespaceURI!="string"||typeof yi.insertBefore!="function"},yn=function(yi){return(typeof Be>"u"?"undefined":$e(Be))==="object"?yi instanceof Be:yi&&(typeof yi>"u"?"undefined":$e(yi))==="object"&&typeof yi.nodeType=="number"&&typeof yi.nodeName=="string"},An=function(yi,$i,en){Le[yi]&&m(Le[yi],function(On){On.call(Ge,$i,en,Rt)})},Bn=function(yi){var $i=void 0;if(An("beforeSanitizeElements",yi,null),Nn(yi)||v(yi.nodeName,/[\u0080-\uFFFF]/))return Gi(yi),!0;var en=_(yi.nodeName);if(An("uponSanitizeElement",yi,{tagName:en,allowedTags:xt}),!yn(yi.firstElementChild)&&(!yn(yi.content)||!yn(yi.content.firstElementChild))&&M(/<[/\w]/g,yi.innerHTML)&&M(/<[/\w]/g,yi.textContent)||en==="select"&&M(/<template/i,yi.innerHTML))return Gi(yi),!0;if(!xt[en]||Qt[en]){if(ze&&!oi[en]){var On=gt(yi)||yi.parentNode,us=Pi(yi)||yi.childNodes;if(us&&On)for(var rs=us.length,Et=rs-1;Et>=0;--Et)On.insertBefore(jt(us[Et],!0),ki(yi))}return Gi(yi),!0}return yi instanceof Ze&&!ei(yi)||(en==="noscript"||en==="noembed")&&M(/<\/no(script|embed)/i,yi.innerHTML)?(Gi(yi),!0):(zi&&yi.nodeType===3&&($i=yi.textContent,$i=p($i,oe," "),$i=p($i,he," "),yi.textContent!==$i&&(d(Ge.removed,{element:yi.cloneNode()}),yi.textContent=$i)),An("afterSanitizeElements",yi,null),!1)},sn=function(yi,$i,en){if(pi&&($i==="id"||$i==="name")&&(en in Ke||en in Ut))return!1;if(!(Ii&&!ci[$i]&&M(Me,$i))){if(!(Fi&&M(ke,$i))){if(!It[$i]||ci[$i])return!1;if(!Ti[$i]){if(!M(ht,p(en,ot,""))){if(!(($i==="src"||$i==="xlink:href"||$i==="href")&&yi!=="script"&&L(en,"data:")===0&&bi[yi])){if(!(Xi&&!M(Je,p(en,ot,"")))){if(en)return!1}}}}}}return!0},vn=function(yi){var $i=void 0,en=void 0,On=void 0,us=void 0;An("beforeSanitizeAttributes",yi,null);var rs=yi.attributes;if(rs){var Et={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:It};for(us=rs.length;us--;){$i=rs[us];var D=$i,k=D.name,c=D.namespaceURI;if(en=T($i.value),On=_(k),Et.attrName=On,Et.attrValue=en,Et.keepAttr=!0,Et.forceKeepAttr=void 0,An("uponSanitizeAttribute",yi,Et),en=Et.attrValue,!Et.forceKeepAttr&&(ln(k,yi),!!Et.keepAttr)){if(M(/\/>/i,en)){ln(k,yi);continue}zi&&(en=p(en,oe," "),en=p(en,he," "));var R=yi.nodeName.toLowerCase();if(sn(R,On,en))try{c?yi.setAttributeNS(c,k,en):yi.setAttribute(k,en),i(Ge.removed)}catch{}}}An("afterSanitizeAttributes",yi,null)}},Kn=function gn(yi){var $i=void 0,en=Mn(yi);for(An("beforeSanitizeShadowDOM",yi,null);$i=en.nextNode();)An("uponSanitizeShadowNode",$i,null),!Bn($i)&&($i.content instanceof ut&&gn($i.content),vn($i));An("afterSanitizeShadowDOM",yi,null)};return Ge.sanitize=function(gn,yi){var $i=void 0,en=void 0,On=void 0,us=void 0,rs=void 0;if(lt=!gn,lt&&(gn="<!-->"),typeof gn!="string"&&!yn(gn)){if(typeof gn.toString!="function")throw I("toString is not a function");if(gn=gn.toString(),typeof gn!="string")throw I("dirty is not a string, aborting")}if(!Ge.isSupported){if($e(Fe.toStaticHTML)==="object"||typeof Fe.toStaticHTML=="function"){if(typeof gn=="string")return Fe.toStaticHTML(gn);if(yn(gn))return Fe.toStaticHTML(gn.outerHTML)}return gn}if(Ji||ui(yi),Ge.removed=[],typeof gn=="string"&&(Ct=!1),!Ct)if(gn instanceof Be)$i=bn("<!---->"),en=$i.ownerDocument.importNode(gn,!0),en.nodeType===1&&en.nodeName==="BODY"||en.nodeName==="HTML"?$i=en:$i.appendChild(en);else{if(!Ui&&!zi&&!Si&&gn.indexOf("<")===-1)return ii&&Cn?ii.createHTML(gn):gn;if($i=bn(gn),!$i)return Ui?null:Ri}$i&&Zi&&Gi($i.firstChild);for(var Et=Mn(Ct?gn:$i);On=Et.nextNode();)On.nodeType===3&&On===us||Bn(On)||(On.content instanceof ut&&Kn(On.content),vn(On),us=On);if(us=null,Ct)return gn;if(Ui){if(nn)for(rs=Wt.call($i.ownerDocument);$i.firstChild;)rs.appendChild($i.firstChild);else rs=$i;return Dn&&(rs=_e.call(Te,rs,!0)),rs}var D=Si?$i.outerHTML:$i.innerHTML;return zi&&(D=p(D,oe," "),D=p(D,he," ")),ii&&Cn?ii.createHTML(D):D},Ge.setConfig=function(gn){ui(gn),Ji=!0},Ge.clearConfig=function(){Rt=null,Ji=!1},Ge.isValidAttribute=function(gn,yi,$i){Rt||ui({});var en=_(gn),On=_(yi);return sn(en,On,$i)},Ge.addHook=function(gn,yi){typeof yi=="function"&&(Le[gn]=Le[gn]||[],d(Le[gn],yi))},Ge.removeHook=function(gn){Le[gn]&&i(Le[gn])},Ge.removeHooks=function(gn){Le[gn]&&(Le[gn]=[])},Ge.removeAllHooks=function(){Le={}},Ge}var We=bt(),it=null;const pe=We.version,ye=We.isSupported,ft=We.sanitize,Xt=We.setConfig,qt=We.clearConfig,Ft=We.isValidAttribute,Ot=We.addHook,Mt=We.removeHook,ni=We.removeHooks,Gt=We.removeAllHooks},4850:function(Yt,Ye,s){"use strict";s.d(Ye,{Y:function(){return l},p:function(){return z}});var b=s(4669);class l{constructor(E,Z,B){const H=O=>this.emitter.fire(O);this.emitter=new b.Q5({onFirstListenerAdd:()=>E.addEventListener(Z,H,B),onLastListenerRemove:()=>E.removeEventListener(Z,H,B)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function z(j){return j.preventDefault(),j.stopPropagation(),j}},38626:function(Yt,Ye,s){"use strict";s.d(Ye,{X:function(){return z},Z:function(){return b}});class b{constructor(E){this.domNode=E,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(E){const Z=l(E);this._maxWidth!==Z&&(this._maxWidth=Z,this.domNode.style.maxWidth=this._maxWidth)}setWidth(E){const Z=l(E);this._width!==Z&&(this._width=Z,this.domNode.style.width=this._width)}setHeight(E){const Z=l(E);this._height!==Z&&(this._height=Z,this.domNode.style.height=this._height)}setTop(E){const Z=l(E);this._top!==Z&&(this._top=Z,this.domNode.style.top=this._top)}setLeft(E){const Z=l(E);this._left!==Z&&(this._left=Z,this.domNode.style.left=this._left)}setBottom(E){const Z=l(E);this._bottom!==Z&&(this._bottom=Z,this.domNode.style.bottom=this._bottom)}setRight(E){const Z=l(E);this._right!==Z&&(this._right=Z,this.domNode.style.right=this._right)}setFontFamily(E){this._fontFamily!==E&&(this._fontFamily=E,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(E){this._fontWeight!==E&&(this._fontWeight=E,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(E){const Z=l(E);this._fontSize!==Z&&(this._fontSize=Z,this.domNode.style.fontSize=this._fontSize)}setFontStyle(E){this._fontStyle!==E&&(this._fontStyle=E,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(E){this._fontFeatureSettings!==E&&(this._fontFeatureSettings=E,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(E){this._textDecoration!==E&&(this._textDecoration=E,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(E){const Z=l(E);this._lineHeight!==Z&&(this._lineHeight=Z,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(E){const Z=l(E);this._letterSpacing!==Z&&(this._letterSpacing=Z,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(E){this._className!==E&&(this._className=E,this.domNode.className=this._className)}toggleClassName(E,Z){this.domNode.classList.toggle(E,Z),this._className=this.domNode.className}setDisplay(E){this._display!==E&&(this._display=E,this.domNode.style.display=this._display)}setPosition(E){this._position!==E&&(this._position=E,this.domNode.style.position=this._position)}setVisibility(E){this._visibility!==E&&(this._visibility=E,this.domNode.style.visibility=this._visibility)}setColor(E){this._color!==E&&(this._color=E,this.domNode.style.color=this._color)}setBackgroundColor(E){this._backgroundColor!==E&&(this._backgroundColor=E,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(E){this._layerHint!==E&&(this._layerHint=E,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(E){this._boxShadow!==E&&(this._boxShadow=E,this.domNode.style.boxShadow=E)}setContain(E){this._contain!==E&&(this._contain=E,this.domNode.style.contain=this._contain)}setAttribute(E,Z){this.domNode.setAttribute(E,Z)}removeAttribute(E){this.domNode.removeAttribute(E)}appendChild(E){this.domNode.appendChild(E.domNode)}removeChild(E){this.domNode.removeChild(E.domNode)}}function l(j){return typeof j=="number"?`${j}px`:j}function z(j){return new b(j)}},94079:function(Yt,Ye,s){"use strict";s.d(Ye,{BO:function(){return z},IY:function(){return l},az:function(){return j}});var b=s(65321);function l(y,g={}){const C=j(g);return C.textContent=y,C}function z(y,g={}){const C=j(g);return Z(C,B(y,!!g.renderCodeSegments),g.actionHandler,g.renderCodeSegments),C}function j(y){const g=y.inline?"span":"div",C=document.createElement(g);return y.className&&(C.className=y.className),C}class E{constructor(g){this.source=g,this.index=0}eos(){return this.index>=this.source.length}next(){const g=this.peek();return this.advance(),g}peek(){return this.source[this.index]}advance(){this.index++}}function Z(y,g,C,m){let i;if(g.type===2)i=document.createTextNode(g.content||"");else if(g.type===3)i=document.createElement("b");else if(g.type===4)i=document.createElement("i");else if(g.type===7&&m)i=document.createElement("code");else if(g.type===5&&C){const d=document.createElement("a");C.disposables.add(b.mu(d,"click",_=>{C.callback(String(g.index),_)})),i=d}else g.type===8?i=document.createElement("br"):g.type===1&&(i=y);i&&y!==i&&y.appendChild(i),i&&Array.isArray(g.children)&&g.children.forEach(d=>{Z(i,d,C,m)})}function B(y,g){const C={type:1,children:[]};let m=0,i=C;const d=[],_=new E(y);for(;!_.eos();){let v=_.next();const p=v==="\\"&&O(_.peek(),g)!==0;if(p&&(v=_.next()),!p&&H(v,g)&&v===_.peek()){_.advance(),i.type===2&&(i=d.pop());const L=O(v,g);if(i.type===L||i.type===5&&L===6)i=d.pop();else{const T={type:L,children:[]};L===5&&(T.index=m,m++),i.children.push(T),d.push(i),i=T}}else if(v===`
`)i.type===2&&(i=d.pop()),i.children.push({type:8});else if(i.type!==2){const L={type:2,content:v};i.children.push(L),d.push(i),i=L}else i.content+=v}return i.type===2&&(i=d.pop()),d.length,C}function H(y,g){return O(y,g)!==0}function O(y,g){switch(y){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return g?7:0;default:return 0}}},93911:function(Yt,Ye,s){"use strict";s.d(Ye,{C:function(){return z}});var b=s(65321),l=s(5976);class z{constructor(){this._hooks=new l.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(E,Z){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const B=this._onStopCallback;this._onStopCallback=null,E&&B&&B(Z)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(E,Z,B,H,O){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=H,this._onStopCallback=O;let y=E;try{E.setPointerCapture(Z),this._hooks.add((0,l.OF)(()=>{E.releasePointerCapture(Z)}))}catch{y=window}this._hooks.add(b.nm(y,b.tw.POINTER_MOVE,g=>{if(g.buttons!==B){this.stopMonitoring(!0);return}g.preventDefault(),this._pointerMoveCallback(g)})),this._hooks.add(b.nm(y,b.tw.POINTER_UP,g=>this.stopMonitoring(!0)))}}},59069:function(Yt,Ye,s){"use strict";s.d(Ye,{y:function(){return y}});var b=s(30747),l=s(22258),z=s(8313),j=s(1432);function E(g){if(g.charCode){const m=String.fromCharCode(g.charCode).toUpperCase();return l.kL.fromString(m)}const C=g.keyCode;if(C===3)return 7;if(b.isFirefox){if(C===59)return 80;if(C===107)return 81;if(C===109)return 83;if(j.dz&&C===224)return 57}else if(b.isWebKit){if(C===91)return 57;if(j.dz&&C===93)return 57;if(!j.dz&&C===92)return 57}return l.H_[C]||0}const Z=j.dz?256:2048,B=512,H=1024,O=j.dz?2048:256;class y{constructor(C){this._standardKeyboardEventBrand=!0;const m=C;this.browserEvent=m,this.target=m.target,this.ctrlKey=m.ctrlKey,this.shiftKey=m.shiftKey,this.altKey=m.altKey,this.metaKey=m.metaKey,this.keyCode=E(m),this.code=m.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(C){return this._asKeybinding===C}_computeKeybinding(){let C=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(C=this.keyCode);let m=0;return this.ctrlKey&&(m|=Z),this.altKey&&(m|=B),this.shiftKey&&(m|=H),this.metaKey&&(m|=O),m|=C,m}_computeRuntimeKeybinding(){let C=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(C=this.keyCode),new z.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,C)}}},7317:function(Yt,Ye,s){"use strict";s.d(Ye,{n:function(){return B},q:function(){return H}});var b=s(30747);let l=!1,z=null;function j(O){if(!O.parent||O.parent===O)return null;try{const y=O.location,g=O.parent.location;if(y.origin!=="null"&&g.origin!=="null"&&y.origin!==g.origin)return l=!0,null}catch{return l=!0,null}return O.parent}class E{static getSameOriginWindowChain(){if(!z){z=[];let y=window,g;do g=j(y),g?z.push({window:y,iframeElement:y.frameElement||null}):z.push({window:y,iframeElement:null}),y=g;while(y)}return z.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(y,g){if(!g||y===g)return{top:0,left:0};let C=0,m=0;const i=this.getSameOriginWindowChain();for(const d of i){if(C+=d.window.scrollY,m+=d.window.scrollX,d.window===g||!d.iframeElement)break;const _=d.iframeElement.getBoundingClientRect();C+=_.top,m+=_.left}return{top:C,left:m}}}var Z=s(1432);class B{constructor(y){this.timestamp=Date.now(),this.browserEvent=y,this.leftButton=y.button===0,this.middleButton=y.button===1,this.rightButton=y.button===2,this.buttons=y.buttons,this.target=y.target,this.detail=y.detail||1,y.type==="dblclick"&&(this.detail=2),this.ctrlKey=y.ctrlKey,this.shiftKey=y.shiftKey,this.altKey=y.altKey,this.metaKey=y.metaKey,typeof y.pageX=="number"?(this.posx=y.pageX,this.posy=y.pageY):(this.posx=y.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=y.clientY+document.body.scrollTop+document.documentElement.scrollTop);const g=E.getPositionOfChildWindowRelativeToAncestorWindow(self,y.view);this.posx-=g.left,this.posy-=g.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class H{constructor(y,g=0,C=0){if(this.browserEvent=y||null,this.target=y?y.target||y.targetNode||y.srcElement:null,this.deltaY=C,this.deltaX=g,y){const m=y,i=y;if(typeof m.wheelDeltaY<"u")this.deltaY=m.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS<"u"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(y.type==="wheel"){const d=y;d.deltaMode===d.DOM_DELTA_LINE?b.isFirefox&&!Z.dz?this.deltaY=-y.deltaY/3:this.deltaY=-y.deltaY:this.deltaY=-y.deltaY/40}if(typeof m.wheelDeltaX<"u")b.isSafari&&Z.ED?this.deltaX=-(m.wheelDeltaX/120):this.deltaX=m.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS<"u"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-y.detail/3;else if(y.type==="wheel"){const d=y;d.deltaMode===d.DOM_DELTA_LINE?b.isFirefox&&!Z.dz?this.deltaX=-y.deltaX/3:this.deltaX=-y.deltaX:this.deltaX=-y.deltaX/40}this.deltaY===0&&this.deltaX===0&&y.wheelDelta&&(this.deltaY=y.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},10553:function(Yt,Ye,s){"use strict";s.d(Ye,{o:function(){return B},t:function(){return Z}});var b=s(65321),l=s(9488),z=s(49898),j=s(5976),E=function(H,O,y,g){var C=arguments.length,m=C<3?O:g===null?g=Object.getOwnPropertyDescriptor(O,y):g,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(H,O,y,g);else for(var d=H.length-1;d>=0;d--)(i=H[d])&&(m=(C<3?i(m):C>3?i(O,y,m):i(O,y))||m);return C>3&&m&&Object.defineProperty(O,y,m),m},Z;(function(H){H.Tap="-monaco-gesturetap",H.Change="-monaco-gesturechange",H.Start="-monaco-gesturestart",H.End="-monaco-gesturesend",H.Contextmenu="-monaco-gesturecontextmenu"})(Z||(Z={}));class B extends j.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(b.nm(document,"touchstart",O=>this.onTouchStart(O),{passive:!1})),this._register(b.nm(document,"touchend",O=>this.onTouchEnd(O))),this._register(b.nm(document,"touchmove",O=>this.onTouchMove(O),{passive:!1}))}static addTarget(O){return B.isTouchDevice()?(B.INSTANCE||(B.INSTANCE=new B),B.INSTANCE.targets.push(O),{dispose:()=>{B.INSTANCE.targets=B.INSTANCE.targets.filter(y=>y!==O)}}):j.JT.None}static ignoreTarget(O){return B.isTouchDevice()?(B.INSTANCE||(B.INSTANCE=new B),B.INSTANCE.ignoreTargets.push(O),{dispose:()=>{B.INSTANCE.ignoreTargets=B.INSTANCE.ignoreTargets.filter(y=>y!==O)}}):j.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(O){const y=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let g=0,C=O.targetTouches.length;g<C;g++){const m=O.targetTouches.item(g);this.activeTouches[m.identifier]={id:m.identifier,initialTarget:m.target,initialTimeStamp:y,initialPageX:m.pageX,initialPageY:m.pageY,rollingTimestamps:[y],rollingPageX:[m.pageX],rollingPageY:[m.pageY]};const i=this.newGestureEvent(Z.Start,m.target);i.pageX=m.pageX,i.pageY=m.pageY,this.dispatchEvent(i)}this.dispatched&&(O.preventDefault(),O.stopPropagation(),this.dispatched=!1)}onTouchEnd(O){const y=Date.now(),g=Object.keys(this.activeTouches).length;for(let C=0,m=O.changedTouches.length;C<m;C++){const i=O.changedTouches.item(C);if(!this.activeTouches.hasOwnProperty(String(i.identifier))){console.warn("move of an UNKNOWN touch",i);continue}const d=this.activeTouches[i.identifier],_=Date.now()-d.initialTimeStamp;if(_<B.HOLD_DELAY&&Math.abs(d.initialPageX-l.Gb(d.rollingPageX))<30&&Math.abs(d.initialPageY-l.Gb(d.rollingPageY))<30){const v=this.newGestureEvent(Z.Tap,d.initialTarget);v.pageX=l.Gb(d.rollingPageX),v.pageY=l.Gb(d.rollingPageY),this.dispatchEvent(v)}else if(_>=B.HOLD_DELAY&&Math.abs(d.initialPageX-l.Gb(d.rollingPageX))<30&&Math.abs(d.initialPageY-l.Gb(d.rollingPageY))<30){const v=this.newGestureEvent(Z.Contextmenu,d.initialTarget);v.pageX=l.Gb(d.rollingPageX),v.pageY=l.Gb(d.rollingPageY),this.dispatchEvent(v)}else if(g===1){const v=l.Gb(d.rollingPageX),p=l.Gb(d.rollingPageY),L=l.Gb(d.rollingTimestamps)-d.rollingTimestamps[0],T=v-d.rollingPageX[0],M=p-d.rollingPageY[0],I=this.targets.filter(P=>d.initialTarget instanceof Node&&P.contains(d.initialTarget));this.inertia(I,y,Math.abs(T)/L,T>0?1:-1,v,Math.abs(M)/L,M>0?1:-1,p)}this.dispatchEvent(this.newGestureEvent(Z.End,d.initialTarget)),delete this.activeTouches[i.identifier]}this.dispatched&&(O.preventDefault(),O.stopPropagation(),this.dispatched=!1)}newGestureEvent(O,y){const g=document.createEvent("CustomEvent");return g.initEvent(O,!1,!0),g.initialTarget=y,g.tapCount=0,g}dispatchEvent(O){if(O.type===Z.Tap){const y=new Date().getTime();let g=0;y-this._lastSetTapCountTime>B.CLEAR_TAP_COUNT_TIME?g=1:g=2,this._lastSetTapCountTime=y,O.tapCount=g}else(O.type===Z.Change||O.type===Z.Contextmenu)&&(this._lastSetTapCountTime=0);for(let y=0;y<this.ignoreTargets.length;y++)if(O.initialTarget instanceof Node&&this.ignoreTargets[y].contains(O.initialTarget))return;this.targets.forEach(y=>{O.initialTarget instanceof Node&&y.contains(O.initialTarget)&&(y.dispatchEvent(O),this.dispatched=!0)})}inertia(O,y,g,C,m,i,d,_){this.handle=b.jL(()=>{const v=Date.now(),p=v-y;let L=0,T=0,M=!0;g+=B.SCROLL_FRICTION*p,i+=B.SCROLL_FRICTION*p,g>0&&(M=!1,L=C*g*p),i>0&&(M=!1,T=d*i*p);const I=this.newGestureEvent(Z.Change);I.translationX=L,I.translationY=T,O.forEach(P=>P.dispatchEvent(I)),M||this.inertia(O,v,g,C,m+L,i,d,_+T)})}onTouchMove(O){const y=Date.now();for(let g=0,C=O.changedTouches.length;g<C;g++){const m=O.changedTouches.item(g);if(!this.activeTouches.hasOwnProperty(String(m.identifier))){console.warn("end of an UNKNOWN touch",m);continue}const i=this.activeTouches[m.identifier],d=this.newGestureEvent(Z.Change,i.initialTarget);d.translationX=m.pageX-l.Gb(i.rollingPageX),d.translationY=m.pageY-l.Gb(i.rollingPageY),d.pageX=m.pageX,d.pageY=m.pageY,this.dispatchEvent(d),i.rollingPageX.length>3&&(i.rollingPageX.shift(),i.rollingPageY.shift(),i.rollingTimestamps.shift()),i.rollingPageX.push(m.pageX),i.rollingPageY.push(m.pageY),i.rollingTimestamps.push(y)}this.dispatched&&(O.preventDefault(),O.stopPropagation(),this.dispatched=!1)}}B.SCROLL_FRICTION=-.005,B.HOLD_DELAY=700,B.CLEAR_TAP_COUNT_TIME=400,E([z.H],B,"isTouchDevice",null)},76033:function(Yt,Ye,s){"use strict";s.d(Ye,{Y:function(){return C},g:function(){return m}});var b=s(30747),l=s(23547),z=s(65321),j=s(10553),E=s(51433),Z=s(74741),B=s(5976),H=s(1432),O=s(98401),y=s(31285),g=s(63580);class C extends B.JT{constructor(d,_,v={}){super(),this.options=v,this._context=d||this,this._action=_,_ instanceof Z.aU&&this._register(_.onDidChange(p=>{this.element&&this.handleActionChangeEvent(p)}))}get action(){return this._action}handleActionChangeEvent(d){d.enabled!==void 0&&this.updateEnabled(),d.checked!==void 0&&this.updateChecked(),d.class!==void 0&&this.updateClass(),d.label!==void 0&&(this.updateLabel(),this.updateTooltip()),d.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Z.Wi)),this._actionRunner}set actionRunner(d){this._actionRunner=d}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(d){this._context=d}render(d){const _=this.element=d;this._register(j.o.addTarget(d));const v=this.options&&this.options.draggable;v&&(d.draggable=!0,b.isFirefox&&this._register((0,z.nm)(d,z.tw.DRAG_START,p=>{var L;return(L=p.dataTransfer)===null||L===void 0?void 0:L.setData(l.g.TEXT,this._action.label)}))),this._register((0,z.nm)(_,j.t.Tap,p=>this.onClick(p,!0))),this._register((0,z.nm)(_,z.tw.MOUSE_DOWN,p=>{v||z.zB.stop(p,!0),this._action.enabled&&p.button===0&&_.classList.add("active")})),H.dz&&this._register((0,z.nm)(_,z.tw.CONTEXT_MENU,p=>{p.button===0&&p.ctrlKey===!0&&this.onClick(p)})),this._register((0,z.nm)(_,z.tw.CLICK,p=>{z.zB.stop(p,!0),this.options&&this.options.isMenu||this.onClick(p)})),this._register((0,z.nm)(_,z.tw.DBLCLICK,p=>{z.zB.stop(p,!0)})),[z.tw.MOUSE_UP,z.tw.MOUSE_OUT].forEach(p=>{this._register((0,z.nm)(_,p,L=>{z.zB.stop(L),_.classList.remove("active")}))})}onClick(d,_=!1){var v;z.zB.stop(d,!0);const p=O.Jp(this._context)?!((v=this.options)===null||v===void 0)&&v.useEventAsContext?d:{preserveFocus:_}:this._context;this.actionRunner.run(this._action,p)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(d){this.element&&(this.element.tabIndex=d?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var d;if(!this.element)return;const _=(d=this.getTooltip())!==null&&d!==void 0?d:"";this.element.setAttribute("aria-label",_),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(_):(this.customHover=(0,E.g)(this.options.hoverDelegate,this.element,_),this._store.add(this.customHover))):this.element.title=_}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class m extends C{constructor(d,_,v={}){super(d,_,v),this.options=v,this.options.icon=v.icon!==void 0?v.icon:!1,this.options.label=v.label!==void 0?v.label:!0,this.cssClass=""}render(d){super.render(d),this.element&&(this.label=(0,z.R3)(this.element,(0,z.$)("a.action-label"))),this.label&&(this._action.id===Z.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,z.R3)(this.element,(0,z.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(d){this.label&&(this.label.tabIndex=d?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let d=null;return this.getAction().tooltip?d=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(d=this.getAction().label,this.options.keybinding&&(d=g.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",d,this.options.keybinding))),d??void 0}updateClass(){var d;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(d=this.label)===null||d===void 0||d.classList.remove("codicon")}updateEnabled(){var d,_;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(d=this.element)===null||d===void 0||d.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(_=this.element)===null||_===void 0||_.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},90317:function(Yt,Ye,s){"use strict";s.d(Ye,{o:function(){return y}});var b=s(65321),l=s(59069),z=s(76033),j=s(74741),E=s(4669),Z=s(5976),B=s(98401),H=s(31285),O=function(g,C,m,i){function d(_){return _ instanceof m?_:new m(function(v){v(_)})}return new(m||(m=Promise))(function(_,v){function p(M){try{T(i.next(M))}catch(I){v(I)}}function L(M){try{T(i.throw(M))}catch(I){v(I)}}function T(M){M.done?_(M.value):d(M.value).then(p,L)}T((i=i.apply(g,C||[])).next())})};class y extends Z.JT{constructor(C,m={}){var i,d,_,v,p,L;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new E.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new E.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new E.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new E.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=m,this._context=(i=m.context)!==null&&i!==void 0?i:null,this._orientation=(d=this.options.orientation)!==null&&d!==void 0?d:0,this._triggerKeys={keyDown:(v=(_=this.options.triggerKeys)===null||_===void 0?void 0:_.keyDown)!==null&&v!==void 0?v:!1,keys:(L=(p=this.options.triggerKeys)===null||p===void 0?void 0:p.keys)!==null&&L!==void 0?L:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new j.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(I=>this._onDidRun.fire(I))),this._register(this._actionRunner.onBeforeRun(I=>this._onBeforeRun.fire(I))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",m.animated!==!1&&this.domNode.classList.add("animated");let T,M;switch(this._orientation){case 0:T=[15],M=[17];break;case 1:T=[16],M=[18],this.domNode.className+=" vertical";break}this._register(b.nm(this.domNode,b.tw.KEY_DOWN,I=>{const P=new l.y(I);let V=!0;const $=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;T&&(P.equals(T[0])||P.equals(T[1]))?V=this.focusPrevious():M&&(P.equals(M[0])||P.equals(M[1]))?V=this.focusNext():P.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():P.equals(14)?V=this.focusFirst():P.equals(13)?V=this.focusLast():P.equals(2)&&$ instanceof z.Y&&$.trapsArrowNavigation?V=this.focusNext():this.isTriggerKeyEvent(P)?this._triggerKeys.keyDown?this.doTrigger(P):this.triggerKeyDown=!0:V=!1,V&&(P.preventDefault(),P.stopPropagation())})),this._register(b.nm(this.domNode,b.tw.KEY_UP,I=>{const P=new l.y(I);this.isTriggerKeyEvent(P)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(P)),P.preventDefault(),P.stopPropagation()):(P.equals(2)||P.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(b.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(b.vY()===this.domNode||!b.jg(b.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),C.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(C){if(this.focusable=C,this.focusable){const m=this.viewItems.find(i=>i instanceof z.Y&&i.isEnabled());m instanceof z.Y&&m.setFocusable(!0)}else this.viewItems.forEach(m=>{m instanceof z.Y&&m.setFocusable(!1)})}isTriggerKeyEvent(C){let m=!1;return this._triggerKeys.keys.forEach(i=>{m=m||C.equals(i)}),m}updateFocusedItem(){for(let C=0;C<this.actionsList.children.length;C++){const m=this.actionsList.children[C];if(b.jg(b.vY(),m)){this.focusedItem=C;break}}}get context(){return this._context}set context(C){this._context=C,this.viewItems.forEach(m=>m.setActionContext(C))}get actionRunner(){return this._actionRunner}set actionRunner(C){C&&(this._actionRunner=C,this.viewItems.forEach(m=>m.actionRunner=C))}getContainer(){return this.domNode}push(C,m={}){const i=Array.isArray(C)?C:[C];let d=B.hj(m.index)?m.index:null;i.forEach(_=>{const v=document.createElement("li");v.className="action-item",v.setAttribute("role","presentation");let p;this.options.actionViewItemProvider&&(p=this.options.actionViewItemProvider(_)),p||(p=new z.g(this.context,_,Object.assign({hoverDelegate:this.options.hoverDelegate},m))),this.options.allowContextMenu||this.viewItemDisposables.set(p,b.nm(v,b.tw.CONTEXT_MENU,L=>{b.zB.stop(L,!0)})),p.actionRunner=this._actionRunner,p.setActionContext(this.context),p.render(v),this.focusable&&p instanceof z.Y&&this.viewItems.length===0&&p.setFocusable(!0),d===null||d<0||d>=this.actionsList.children.length?(this.actionsList.appendChild(v),this.viewItems.push(p),this._actionIds.push(_.id)):(this.actionsList.insertBefore(v,this.actionsList.children[d]),this.viewItems.splice(d,0,p),this._actionIds.splice(d,0,_.id),d++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,Z.B9)(this.viewItems),this.viewItemDisposables.forEach(C=>C.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],b.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(C){let m=!1,i;if(C===void 0?m=!0:typeof C=="number"?i=C:typeof C=="boolean"&&(m=C),m&&typeof this.focusedItem>"u"){const d=this.viewItems.findIndex(_=>_.isEnabled());this.focusedItem=d===-1?void 0:d,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(C){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const m=this.focusedItem;let i;do{if(!C&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=m,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==m&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===j.Z0.ID));return this.updateFocus(),!0}focusPrevious(C){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const m=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!C&&this.options.preventLoopNavigation)return this.focusedItem=m,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==m&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===j.Z0.ID));return this.updateFocus(!0),!0}updateFocus(C,m,i=!1){var d;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:m}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((d=this.viewItems[this.previouslyFocusedItem])===null||d===void 0||d.blur());const _=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(_){let v=!0;B.mf(_.focus)||(v=!1),this.options.focusOnlyEnabledItems&&B.mf(_.isEnabled)&&!_.isEnabled()&&(v=!1),_.action.id===j.Z0.ID&&(v=!1),v?(i||this.previouslyFocusedItem!==this.focusedItem)&&(_.focus(C),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:m}),this.previouslyFocusedItem=void 0)}}doTrigger(C){if(typeof this.focusedItem>"u")return;const m=this.viewItems[this.focusedItem];if(m instanceof z.Y){const i=m._context===null||m._context===void 0?C:m._context;this.run(m._action,i)}}run(C,m){return O(this,void 0,void 0,function*(){yield this._actionRunner.run(C,m)})}dispose(){(0,Z.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},35996:function(Yt,Ye,s){"use strict";s.d(Ye,{Z9:function(){return y},wW:function(){return O},i7:function(){return g}});var b=s(65321),l=s(1432);const z=2e4;let j,E,Z,B,H;function O(m){j=document.createElement("div"),j.className="monaco-aria-container";const i=()=>{const _=document.createElement("div");return _.className="monaco-alert",_.setAttribute("role","alert"),_.setAttribute("aria-atomic","true"),j.appendChild(_),_};E=i(),Z=i();const d=()=>{const _=document.createElement("div");return _.className="monaco-status",_.setAttribute("role","complementary"),_.setAttribute("aria-live","polite"),_.setAttribute("aria-atomic","true"),j.appendChild(_),_};B=d(),H=d(),m.appendChild(j)}function y(m){j&&(E.textContent!==m?(b.PO(Z),C(E,m)):(b.PO(E),C(Z,m)))}function g(m){j&&(l.dz?y(m):B.textContent!==m?(b.PO(H),C(B,m)):(b.PO(B),C(H,m)))}function C(m,i){b.PO(m),i.length>z&&(i=i.substr(0,z)),m.textContent=i,m.style.visibility="hidden",m.style.visibility="visible"}},15375:function(Yt,Ye,s){"use strict";s.d(Ye,{a:function(){return l}});var b=s(73046);function l(z){let j=z.definition;for(;j instanceof b.lA;)j=j.definition;return`.codicon-${z.id}:before { content: '${j.fontCharacter}'; }`}},85207:function(Yt,Ye,s){"use strict";s.d(Ye,{Z:function(){return Z}});var b=s(65321),l=s(41264),z=s(36248),j=s(97295);const E={badgeBackground:l.Il.fromHex("#4D4D4D"),badgeForeground:l.Il.fromHex("#FFFFFF")};class Z{constructor(H,O){this.count=0,this.options=O||Object.create(null),(0,z.jB)(this.options,E,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,b.R3)(H,(0,b.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(H){this.count=H,this.render()}setTitleFormat(H){this.titleFormat=H,this.render()}render(){this.element.textContent=(0,j.WU)(this.countFormat,this.count),this.element.title=(0,j.WU)(this.titleFormat,this.count),this.applyStyles()}style(H){this.badgeBackground=H.badgeBackground,this.badgeForeground=H.badgeForeground,this.badgeBorder=H.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const H=this.badgeBackground?this.badgeBackground.toString():"",O=this.badgeForeground?this.badgeForeground.toString():"",y=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=H,this.element.style.color=O,this.element.style.borderWidth=y?"1px":"",this.element.style.borderStyle=y?"solid":"",this.element.style.borderColor=y}}}},3070:function(Yt,Ye,s){"use strict";s.d(Ye,{V:function(){return O}});var b=s(65321),l=s(51307),z=s(97862),j=s(93794),E=s(4669),Z=s(60812),B=s(63580);const H=B.NC("defaultLabel","input");class O extends j.${constructor(g,C,m,i){var d;super(),this._showOptionButtons=m,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new E.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new E.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new E.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new E.Q5),this._onKeyUp=this._register(new E.Q5),this._onCaseSensitiveKeyDown=this._register(new E.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new E.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=C,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||H,this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground;const _=i.appendCaseSensitiveLabel||"",v=i.appendWholeWordsLabel||"",p=i.appendRegexLabel||"",L=i.history||[],T=!!i.flexibleHeight,M=!!i.flexibleWidth,I=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new z.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:L,showHistoryHint:i.showHistoryHint,flexibleHeight:T,flexibleWidth:M,flexibleMaxHeight:I})),this.regex=this._register(new l.eH({appendTitle:p,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(V=>{this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(V=>{this._onRegexKeyDown.fire(V)})),this.wholeWords=this._register(new l.Qx({appendTitle:v,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(V=>{this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new l.rk({appendTitle:_,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(V=>{this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(V=>{this._onCaseSensitiveKeyDown.fire(V)}));const P=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,V=>{if(V.equals(15)||V.equals(17)||V.equals(9)){const $=P.indexOf(document.activeElement);if($>=0){let re=-1;V.equals(17)?re=($+1)%P.length:V.equals(15)&&($===0?re=P.length-1:re=$-1),V.equals(9)?(P[$].blur(),this.inputBox.focus()):re>=0&&P[re].focus(),b.zB.stop(V,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const V of(d=i?.additionalToggles)!==null&&d!==void 0?d:[])this._register(V),this.controls.appendChild(V.domNode),this._register(V.onChange($=>{this._onDidOptionChange.fire($),!$&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(V);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((V,$)=>V+$.width(),0),this.domNode.appendChild(this.controls),g?.appendChild(this.domNode),this._register(b.nm(this.inputBox.inputElement,"compositionstart",V=>{this.imeSessionInProgress=!0})),this._register(b.nm(this.inputBox.inputElement,"compositionend",V=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,V=>this._onKeyDown.fire(V)),this.onkeyup(this.inputBox.inputElement,V=>this._onKeyUp.fire(V)),this.oninput(this.inputBox.inputElement,V=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,V=>this._onMouseDown.fire(V))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const g of this.additionalToggles)g.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const g of this.additionalToggles)g.disable()}setFocusInputOnOptionClick(g){this.fixFocusOnOptionClickEnabled=g}setEnabled(g){g?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(g){this.inputBox.value!==g&&(this.inputBox.value=g)}style(g){this.inputActiveOptionBorder=g.inputActiveOptionBorder,this.inputActiveOptionForeground=g.inputActiveOptionForeground,this.inputActiveOptionBackground=g.inputActiveOptionBackground,this.inputBackground=g.inputBackground,this.inputForeground=g.inputForeground,this.inputBorder=g.inputBorder,this.inputValidationInfoBackground=g.inputValidationInfoBackground,this.inputValidationInfoForeground=g.inputValidationInfoForeground,this.inputValidationInfoBorder=g.inputValidationInfoBorder,this.inputValidationWarningBackground=g.inputValidationWarningBackground,this.inputValidationWarningForeground=g.inputValidationWarningForeground,this.inputValidationWarningBorder=g.inputValidationWarningBorder,this.inputValidationErrorBackground=g.inputValidationErrorBackground,this.inputValidationErrorForeground=g.inputValidationErrorForeground,this.inputValidationErrorBorder=g.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const g={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(g),this.wholeWords.style(g),this.caseSensitive.style(g);for(const m of this.additionalToggles)m.style(g);const C={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(C)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(g){this.caseSensitive.checked=g}getWholeWords(){return this.wholeWords.checked}setWholeWords(g){this.wholeWords.checked=g}getRegex(){return this.regex.checked}setRegex(g){this.regex.checked=g,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(g){this.inputBox.showMessage(g)}clearMessage(){this.inputBox.hideMessage()}}},51307:function(Yt,Ye,s){"use strict";s.d(Ye,{Qx:function(){return H},eH:function(){return O},rk:function(){return B}});var b=s(40032),l=s(73046),z=s(63580);const j=z.NC("caseDescription","Match Case"),E=z.NC("wordsDescription","Match Whole Word"),Z=z.NC("regexDescription","Use Regular Expression");class B extends b.Z{constructor(g){super({icon:l.lA.caseSensitive,title:j+g.appendTitle,isChecked:g.isChecked,inputActiveOptionBorder:g.inputActiveOptionBorder,inputActiveOptionForeground:g.inputActiveOptionForeground,inputActiveOptionBackground:g.inputActiveOptionBackground})}}class H extends b.Z{constructor(g){super({icon:l.lA.wholeWord,title:E+g.appendTitle,isChecked:g.isChecked,inputActiveOptionBorder:g.inputActiveOptionBorder,inputActiveOptionForeground:g.inputActiveOptionForeground,inputActiveOptionBackground:g.inputActiveOptionBackground})}}class O extends b.Z{constructor(g){super({icon:l.lA.regex,title:Z+g.appendTitle,isChecked:g.isChecked,inputActiveOptionBorder:g.inputActiveOptionBorder,inputActiveOptionForeground:g.inputActiveOptionForeground,inputActiveOptionBackground:g.inputActiveOptionBackground})}}},34650:function(Yt,Ye,s){"use strict";s.d(Ye,{q:function(){return j}});var b=s(65321),l=s(56811),z=s(36248);class j{constructor(Z,B){var H;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(H=B?.supportIcons)!==null&&H!==void 0?H:!1,this.domNode=b.R3(Z,b.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(Z,B=[],H="",O){Z||(Z=""),O&&(Z=j.escapeNewLines(Z,B)),!(this.didEverRender&&this.text===Z&&this.title===H&&z.fS(this.highlights,B))&&(this.text=Z,this.title=H,this.highlights=B,this.render())}render(){const Z=[];let B=0;for(const H of this.highlights){if(H.end===H.start)continue;if(B<H.start){const g=this.text.substring(B,H.start);Z.push(b.$("span",void 0,...this.supportIcons?(0,l.T)(g):[g])),B=H.end}const O=this.text.substring(H.start,H.end),y=b.$("span.highlight",void 0,...this.supportIcons?(0,l.T)(O):[O]);H.extraClasses&&y.classList.add(...H.extraClasses),Z.push(y),B=H.end}if(B<this.text.length){const H=this.text.substring(B);Z.push(b.$("span",void 0,...this.supportIcons?(0,l.T)(H):[H]))}b.mc(this.domNode,...Z),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(Z,B){let H=0,O=0;return Z.replace(/\r\n|\r|\n/g,(y,g)=>{O=y===`\r
`?-1:0,g+=H;for(const C of B)C.end<=g||(C.start>=g&&(C.start+=O),C.end>=g&&(C.end+=O));return H+=O,"\u23CE"})}}},93923:function(Yt,Ye,s){"use strict";s.d(Ye,{g:function(){return H}});var b=s(65321),l=s(34650),z=s(51433),j=s(5976),E=s(36248),Z=s(61134);class B{constructor(m){this._element=m}get element(){return this._element}set textContent(m){this.disposed||m===this._textContent||(this._textContent=m,this._element.textContent=m)}set className(m){this.disposed||m===this._className||(this._className=m,this._element.className=m)}set empty(m){this.disposed||m===this._empty||(this._empty=m,this._element.style.marginLeft=m?"0":"")}dispose(){this.disposed=!0}}class H extends j.JT{constructor(m,i){super(),this.customHovers=new Map,this.domNode=this._register(new B(b.R3(m,b.$(".monaco-icon-label")))),this.labelContainer=b.R3(this.domNode.element,b.$(".monaco-icon-label-container"));const d=b.R3(this.labelContainer,b.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new B(b.R3(this.labelContainer,b.$("span.monaco-icon-description-container")))),i?.supportHighlights||i?.supportIcons?this.nameNode=new g(d,!!i.supportIcons):this.nameNode=new O(d),i?.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new l.q(b.R3(this.descriptionContainer.element,b.$("span.label-description")),{supportIcons:!!i.supportIcons}):this.descriptionNodeFactory=()=>this._register(new B(b.R3(this.descriptionContainer.element,b.$("span.label-description")))),this.hoverDelegate=i?.hoverDelegate}get element(){return this.domNode.element}setLabel(m,i,d){const _=["monaco-icon-label"];d&&(d.extraClasses&&_.push(...d.extraClasses),d.italic&&_.push("italic"),d.strikethrough&&_.push("strikethrough")),this.domNode.className=_.join(" "),this.setupHover(d?.descriptionTitle?this.labelContainer:this.element,d?.title),this.nameNode.setLabel(m,d),(i||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof l.q?(this.descriptionNode.set(i||"",d?d.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,d?.descriptionTitle)):(this.descriptionNode.textContent=i||"",this.setupHover(this.descriptionNode.element,d?.descriptionTitle||""),this.descriptionNode.empty=!i))}setupHover(m,i){const d=this.customHovers.get(m);if(d&&(d.dispose(),this.customHovers.delete(m)),!i){m.removeAttribute("title");return}if(!this.hoverDelegate)(0,z.O)(m,i);else{const _=(0,z.g)(this.hoverDelegate,m,i);_&&this.customHovers.set(m,_)}}dispose(){super.dispose();for(const m of this.customHovers.values())m.dispose();this.customHovers.clear()}}class O{constructor(m){this.container=m,this.label=void 0,this.singleLabel=void 0}setLabel(m,i){if(!(this.label===m&&(0,E.fS)(this.options,i)))if(this.label=m,this.options=i,typeof m=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=b.R3(this.container,b.$("a.label-name",{id:i?.domId}))),this.singleLabel.textContent=m;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let d=0;d<m.length;d++){const _=m[d],v=i?.domId&&`${i?.domId}_${d}`;b.R3(this.container,b.$("a.label-name",{id:v,"data-icon-label-count":m.length,"data-icon-label-index":d,role:"treeitem"},_)),d<m.length-1&&b.R3(this.container,b.$("span.label-separator",void 0,i?.separator||"/"))}}}}function y(C,m,i){if(!i)return;let d=0;return C.map(_=>{const v={start:d,end:d+_.length},p=i.map(L=>Z.e.intersect(v,L)).filter(L=>!Z.e.isEmpty(L)).map(({start:L,end:T})=>({start:L-d,end:T-d}));return d=v.end+m.length,p})}class g{constructor(m,i){this.container=m,this.supportIcons=i,this.label=void 0,this.singleLabel=void 0}setLabel(m,i){if(!(this.label===m&&(0,E.fS)(this.options,i)))if(this.label=m,this.options=i,typeof m=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new l.q(b.R3(this.container,b.$("a.label-name",{id:i?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(m,i?.matches,void 0,i?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const d=i?.separator||"/",_=y(m,d,i?.matches);for(let v=0;v<m.length;v++){const p=m[v],L=_?_[v]:void 0,T=i?.domId&&`${i?.domId}_${v}`,M=b.$("a.label-name",{id:T,"data-icon-label-count":m.length,"data-icon-label-index":v,role:"treeitem"});new l.q(b.R3(this.container,M),{supportIcons:this.supportIcons}).set(p,L,void 0,i?.labelEscapeNewLines),v<m.length-1&&b.R3(M,b.$("span.label-separator",void 0,d))}}}}},51433:function(Yt,Ye,s){"use strict";s.d(Ye,{O:function(){return y},g:function(){return C}});var b=s(65321),l=s(15393),z=s(71050),j=s(59365),E=s(21212),Z=s(5976),B=s(98401),H=s(63580),O=function(m,i,d,_){function v(p){return p instanceof d?p:new d(function(L){L(p)})}return new(d||(d=Promise))(function(p,L){function T(P){try{I(_.next(P))}catch(V){L(V)}}function M(P){try{I(_.throw(P))}catch(V){L(V)}}function I(P){P.done?p(P.value):v(P.value).then(T,M)}I((_=_.apply(m,i||[])).next())})};function y(m,i){(0,B.HD)(i)?m.title=(0,E.x$)(i):i?.markdownNotSupportedFallback?m.title=i.markdownNotSupportedFallback:m.removeAttribute("title")}class g{constructor(i,d,_){this.hoverDelegate=i,this.target=d,this.fadeInAnimation=_}update(i,d,_){var v;return O(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let p;if(i===void 0||(0,B.HD)(i)||i instanceof HTMLElement)p=i;else if(!(0,B.mf)(i.markdown))p=(v=i.markdown)!==null&&v!==void 0?v:i.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,H.NC)("iconLabel.loading","Loading..."),d),this._cancellationTokenSource=new z.A;const L=this._cancellationTokenSource.token;if(p=yield i.markdown(L),p===void 0&&(p=i.markdownNotSupportedFallback),this.isDisposed||L.isCancellationRequested)return}this.show(p,d,_)})}show(i,d,_){const v=this._hoverWidget;if(this.hasContent(i)){const p=Object.assign({content:i,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!v},_);this._hoverWidget=this.hoverDelegate.showHover(p,d)}v?.dispose()}hasContent(i){return i?(0,j.Fr)(i)?!!i.value:!0:!1}get isDisposed(){var i;return(i=this._hoverWidget)===null||i===void 0?void 0:i.isDisposed}dispose(){var i,d;(i=this._hoverWidget)===null||i===void 0||i.dispose(),(d=this._cancellationTokenSource)===null||d===void 0||d.dispose(!0),this._cancellationTokenSource=void 0}}function C(m,i,d,_){let v,p;const L=(V,$)=>{var re;V&&(p?.dispose(),p=void 0),$&&(v?.dispose(),v=void 0),(re=m.onDidHideHover)===null||re===void 0||re.call(m)},T=(V,$,re)=>new l._F(()=>O(this,void 0,void 0,function*(){(!p||p.isDisposed)&&(p=new g(m,re||i,V>0),yield p.update(d,$,_))}),V),M=()=>{if(v)return;const V=new Z.SL,$=ie=>L(!1,ie.fromElement===i);V.add(b.nm(i,b.tw.MOUSE_LEAVE,$,!0));const re=()=>L(!0,!0);V.add(b.nm(i,b.tw.MOUSE_DOWN,re,!0));const ae={targetElements:[i],dispose:()=>{}};if(m.placement===void 0||m.placement==="mouse"){const ie=se=>{ae.x=se.x+10,se.target instanceof HTMLElement&&se.target.classList.contains("action-label")&&L(!0,!0)};V.add(b.nm(i,b.tw.MOUSE_MOVE,ie,!0))}V.add(T(m.delay,!1,ae)),v=V},I=b.nm(i,b.tw.MOUSE_OVER,M,!0);return{show:V=>{L(!1,!0),T(0,V)},hide:()=>{L(!0,!0)},update:(V,$)=>O(this,void 0,void 0,function*(){d=V,yield p?.update(d,void 0,$)}),dispose:()=>{I.dispose(),L(!0,!0)}}}},56811:function(Yt,Ye,s){"use strict";s.d(Ye,{T:function(){return j}});var b=s(65321),l=s(73046);const z=new RegExp(`(\\\\)?\\$\\((${l.dT.iconNameExpression}(?:${l.dT.iconModifierExpression})?)\\)`,"g");function j(Z){const B=new Array;let H,O=0,y=0;for(;(H=z.exec(Z))!==null;){y=H.index||0,B.push(Z.substring(O,y)),O=(H.index||0)+H[0].length;const[,g,C]=H;B.push(g?`$(${C})`:E({id:C}))}return O<Z.length&&B.push(Z.substring(O)),B}function E(Z){const B=b.$("span");return B.classList.add(...l.dT.asClassNameArray(Z)),B}},97862:function(Yt,Ye,s){"use strict";s.d(Ye,{p:function(){return v},W:function(){return _}});var b=s(65321),l=s(4850),z=s(94079),j=s(90317),E=s(35996),Z=s(13433),B=s(93794),H=s(41264),O=s(4669);class y{constructor(L,T=0,M=L.length,I=T-1){this.items=L,this.start=T,this.end=M,this.index=I}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class g{constructor(L=[],T=10){this._initialize(L),this._limit=T,this._onChange()}getHistory(){return this._elements}add(L){this._history.delete(L),this._history.add(L),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(L){return this._history.has(L)}_onChange(){this._reduceToLimit();const L=this._elements;this._navigator=new y(L,0,L.length,L.length)}_reduceToLimit(){const L=this._elements;L.length>this._limit&&this._initialize(L.slice(L.length-this._limit))}_currentPosition(){const L=this._navigator.current();return L?this._elements.indexOf(L):-1}_initialize(L){this._history=new Set;for(const T of L)this._history.add(T)}get _elements(){const L=[];return this._history.forEach(T=>L.push(T)),L}}var C=s(36248),m=s(63580);const i=b.$,d={inputBackground:H.Il.fromHex("#3C3C3C"),inputForeground:H.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:H.Il.fromHex("#55AAFF"),inputValidationInfoBackground:H.Il.fromHex("#063B49"),inputValidationWarningBorder:H.Il.fromHex("#B89500"),inputValidationWarningBackground:H.Il.fromHex("#352A05"),inputValidationErrorBorder:H.Il.fromHex("#BE1100"),inputValidationErrorBackground:H.Il.fromHex("#5A1D1D")};class _ extends B.${constructor(L,T,M){var I;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new O.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=T,this.options=M||Object.create(null),(0,C.jB)(this.options,d,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(I=this.options.tooltip)!==null&&I!==void 0?I:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=b.R3(L,i(".monaco-inputbox.idle"));const P=this.options.flexibleHeight?"textarea":"input",V=b.R3(this.element,i(".ibwrapper"));if(this.input=b.R3(V,i(P+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=b.R3(V,i("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new Z.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),b.R3(L,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(ae=>this.input.scrollTop=ae.scrollTop));const $=this._register(new l.Y(document,"selectionchange")),re=O.ju.filter($.event,()=>{const ae=document.getSelection();return ae?.anchorNode===V});this._register(re(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new j.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(L){this.placeholder=L,this.input.setAttribute("placeholder",L)}setTooltip(L){this.tooltip=L,this.input.title=L}setAriaLabel(L){this.ariaLabel=L,L?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(L){this.input.value!==L&&(this.input.value=L,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:b.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(L=null){this.input.select(),L&&(this.input.setSelectionRange(L.start,L.end),L.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return b.w(this.input)}set width(L){if(this.options.flexibleHeight&&this.options.flexibleWidth){let T=0;if(this.mirror){const M=parseFloat(this.mirror.style.paddingLeft||"")||0,I=parseFloat(this.mirror.style.paddingRight||"")||0;T=M+I}this.input.style.width=L-T+"px"}else this.input.style.width=L+"px";this.mirror&&(this.mirror.style.width=L+"px")}set paddingRight(L){this.input.style.width=`calc(100% - ${L}px)`,this.mirror&&(this.mirror.style.paddingRight=L+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const L=this.cachedContentHeight,T=this.cachedHeight,M=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:L,height:T}),this.scrollableElement.setScrollPosition({scrollTop:M})}showMessage(L,T){this.message=L,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(L.type));const M=this.stylesForType(this.message.type);this.element.style.border=M.border?`1px solid ${M.border}`:"",(this.hasFocus()||T)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let L=null;return this.validation&&(L=this.validation(this.value),L?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(L)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),L?.type}stylesForType(L){switch(L){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(L){switch(L){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let L;const T=()=>L.style.width=b.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:I=>{if(!this.message)return null;L=b.R3(I,i(".monaco-inputbox-container")),T();const P={inline:!0,className:"monaco-inputbox-message"},V=this.message.formatContent?(0,z.BO)(this.message.content,P):(0,z.IY)(this.message.content,P);V.classList.add(this.classForType(this.message.type));const $=this.stylesForType(this.message.type);return V.style.backgroundColor=$.background?$.background.toString():"",V.style.color=$.foreground?$.foreground.toString():"",V.style.border=$.border?`1px solid ${$.border}`:"",b.R3(L,V),null},onHide:()=>{this.state="closed"},layout:T});let M;this.message.type===3?M=m.NC("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?M=m.NC("alertWarningMessage","Warning: {0}",this.message.content):M=m.NC("alertInfoMessage","Info: {0}",this.message.content),E.Z9(M),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const L=this.value,M=L.charCodeAt(L.length-1)===10?" ":"";(L+M).replace(/\u000c/g,"")?this.mirror.textContent=L+M:this.mirror.innerText="\xA0",this.layout()}style(L){this.inputBackground=L.inputBackground,this.inputForeground=L.inputForeground,this.inputBorder=L.inputBorder,this.inputValidationInfoBackground=L.inputValidationInfoBackground,this.inputValidationInfoForeground=L.inputValidationInfoForeground,this.inputValidationInfoBorder=L.inputValidationInfoBorder,this.inputValidationWarningBackground=L.inputValidationWarningBackground,this.inputValidationWarningForeground=L.inputValidationWarningForeground,this.inputValidationWarningBorder=L.inputValidationWarningBorder,this.inputValidationErrorBackground=L.inputValidationErrorBackground,this.inputValidationErrorForeground=L.inputValidationErrorForeground,this.inputValidationErrorBorder=L.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const L=this.inputBackground?this.inputBackground.toString():"",T=this.inputForeground?this.inputForeground.toString():"",M=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=L,this.element.style.color=T,this.input.style.backgroundColor="inherit",this.input.style.color=T,this.element.style.borderWidth=M?"1px":"",this.element.style.borderStyle=M?"solid":"",this.element.style.borderColor=M}layout(){if(!this.mirror)return;const L=this.cachedContentHeight;this.cachedContentHeight=b.wn(this.mirror),L!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(L){const T=this.inputElement,M=T.selectionStart,I=T.selectionEnd,P=T.value;M!==null&&I!==null&&(this.value=P.substr(0,M)+L+P.substr(I),T.setSelectionRange(M+1,M+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class v extends _{constructor(L,T,M){const I=m.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),P=` or \u21C5 ${I}`,V=` (\u21C5 ${I})`;super(L,T,M),this._onDidFocus=this._register(new O.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new O.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new g(M.history,100);const $=()=>{if(M.showHistoryHint&&M.showHistoryHint()&&!this.placeholder.endsWith(P)&&!this.placeholder.endsWith(V)&&this.history.getHistory().length){const re=this.placeholder.endsWith(")")?P:V,ae=this.placeholder+re;M.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=ae:this.setPlaceHolder(ae)}};this.observer=new MutationObserver((re,ae)=>{re.forEach(ie=>{ie.target.textContent||$()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>$()),this.onblur(this.input,()=>{const re=ae=>{if(this.placeholder.endsWith(ae)){const ie=this.placeholder.slice(0,this.placeholder.length-ae.length);return M.showPlaceholderOnFocus?this.placeholder=ie:this.setPlaceHolder(ie),!0}else return!1};re(V)||re(P)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let L=this.getNextValue();L&&(L=L===this.value?this.getNextValue():L),L&&(this.value=L,E.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let L=this.getPreviousValue();L&&(L=L===this.value?this.getPreviousValue():L),L&&(this.value=L,E.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let L=this.history.current();return L||(L=this.history.last(),this.history.next()),L}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},72010:function(Yt,Ye,s){"use strict";s.d(Ye,{kX:function(){return P},Bv:function(){return ie}});var b=s(30747),l=s(23547),z=s(65321),j=s(4850),E=s(10553),Z=s(13433),B=s(9488),H=s(15393),O=s(49898),y=s(4669),g=s(5976),C=s(61134),m=s(76633);function i(se,X){const ne=[];for(const Q of X){if(se.start>=Q.range.end)continue;if(se.end<Q.range.start)break;const F=C.e.intersect(se,Q.range);C.e.isEmpty(F)||ne.push({range:F,size:Q.size})}return ne}function d({start:se,end:X},ne){return{start:se+ne,end:X+ne}}function _(se){const X=[];let ne=null;for(const Q of se){const F=Q.range.start,te=Q.range.end,W=Q.size;if(ne&&W===ne.size){ne.range.end=te;continue}ne={range:{start:F,end:te},size:W},X.push(ne)}return X}function v(...se){return _(se.reduce((X,ne)=>X.concat(ne),[]))}class p{constructor(){this.groups=[],this._size=0}splice(X,ne,Q=[]){const F=Q.length-ne,te=i({start:0,end:X},this.groups),W=i({start:X+ne,end:Number.POSITIVE_INFINITY},this.groups).map(q=>({range:d(q.range,F),size:q.size})),G=Q.map((q,me)=>({range:{start:X+me,end:X+me+1},size:q.size}));this.groups=v(te,G,W),this._size=this.groups.reduce((q,me)=>q+me.size*(me.range.end-me.range.start),0)}get count(){const X=this.groups.length;return X?this.groups[X-1].range.end:0}get size(){return this._size}indexAt(X){if(X<0)return-1;let ne=0,Q=0;for(const F of this.groups){const te=F.range.end-F.range.start,W=Q+te*F.size;if(X<W)return ne+Math.floor((X-Q)/F.size);ne+=te,Q=W}return ne}indexAfter(X){return Math.min(this.indexAt(X)+1,this.count)}positionAt(X){if(X<0)return-1;let ne=0,Q=0;for(const F of this.groups){const te=F.range.end-F.range.start,W=Q+te;if(X<W)return ne+(X-Q)*F.size;ne+=te*F.size,Q=W}return-1}}function L(se){var X;try{(X=se.parentElement)===null||X===void 0||X.removeChild(se)}catch{}}class T{constructor(X){this.renderers=X,this.cache=new Map}alloc(X){let ne=this.getTemplateCache(X).pop();if(!ne){const Q=(0,z.$)(".monaco-list-row"),te=this.getRenderer(X).renderTemplate(Q);ne={domNode:Q,templateId:X,templateData:te}}return ne}release(X){X&&this.releaseRow(X)}releaseRow(X){const{domNode:ne,templateId:Q}=X;ne&&(ne.classList.remove("scrolling"),L(ne)),this.getTemplateCache(Q).push(X)}getTemplateCache(X){let ne=this.cache.get(X);return ne||(ne=[],this.cache.set(X,ne)),ne}dispose(){this.cache.forEach((X,ne)=>{for(const Q of X)this.getRenderer(ne).disposeTemplate(Q.templateData),Q.templateData=null}),this.cache.clear()}getRenderer(X){const ne=this.renderers.get(X);if(!ne)throw new Error(`No renderer found for ${X}`);return ne}}var M=function(se,X,ne,Q){var F=arguments.length,te=F<3?X:Q===null?Q=Object.getOwnPropertyDescriptor(X,ne):Q,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(se,X,ne,Q);else for(var G=se.length-1;G>=0;G--)(W=se[G])&&(te=(F<3?W(te):F>3?W(X,ne,te):W(X,ne))||te);return F>3&&te&&Object.defineProperty(X,ne,te),te};const I={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(se){return[se]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class P{constructor(X){this.elements=X}update(){}getData(){return this.elements}}class V{constructor(X){this.elements=X}update(){}getData(){return this.elements}}class ${constructor(){this.types=[],this.files=[]}update(X){if(X.types&&this.types.splice(0,this.types.length,...X.types),X.files){this.files.splice(0,this.files.length);for(let ne=0;ne<X.files.length;ne++){const Q=X.files.item(ne);Q&&(Q.size||Q.type)&&this.files.push(Q)}}}getData(){return{types:this.types,files:this.files}}}function re(se,X){return Array.isArray(se)&&Array.isArray(X)?(0,B.fS)(se,X):se===X}class ae{constructor(X){X?.getSetSize?this.getSetSize=X.getSetSize.bind(X):this.getSetSize=(ne,Q,F)=>F,X?.getPosInSet?this.getPosInSet=X.getPosInSet.bind(X):this.getPosInSet=(ne,Q)=>Q+1,X?.getRole?this.getRole=X.getRole.bind(X):this.getRole=ne=>"listitem",X?.isChecked?this.isChecked=X.isChecked.bind(X):this.isChecked=ne=>{}}}class ie{constructor(X,ne,Q,F=I){var te,W,G,q,me,w,we,xe,Ne,Ve;if(this.virtualDelegate=ne,this.domId=`list_id_${++ie.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new H.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=g.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=g.JT.None,this.onDragLeaveTimeout=g.JT.None,this.disposables=new g.SL,this._onDidChangeContentHeight=new y.Q5,this._horizontalScrolling=!1,F.horizontalScrolling&&F.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new p;for(const Ae of Q)this.renderers.set(Ae.templateId,Ae);this.cache=this.disposables.add(new T(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof F.mouseSupport=="boolean"?F.mouseSupport:!0),this._horizontalScrolling=(te=F.horizontalScrolling)!==null&&te!==void 0?te:I.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof F.additionalScrollHeight>"u"?0:F.additionalScrollHeight,this.accessibilityProvider=new ae(F.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((W=F.transformOptimization)!==null&&W!==void 0?W:I.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(E.o.addTarget(this.rowsContainer)),this.scrollable=new m.Rm({forceIntegerValues:!0,smoothScrollDuration:(G=F.smoothScrolling)!==null&&G!==void 0&&G?125:0,scheduleAtNextAnimationFrame:Ae=>(0,z.jL)(Ae)}),this.scrollableElement=this.disposables.add(new Z.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(q=F.alwaysConsumeMouseWheel)!==null&&q!==void 0?q:I.alwaysConsumeMouseWheel,horizontal:1,vertical:(me=F.verticalScrollMode)!==null&&me!==void 0?me:I.verticalScrollMode,useShadows:(w=F.useShadows)!==null&&w!==void 0?w:I.useShadows,mouseWheelScrollSensitivity:F.mouseWheelScrollSensitivity,fastScrollSensitivity:F.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),X.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,z.nm)(this.rowsContainer,E.t.Change,Ae=>this.onTouchChange(Ae))),this.disposables.add((0,z.nm)(this.scrollableElement.getDomNode(),"scroll",Ae=>Ae.target.scrollTop=0)),this.disposables.add((0,z.nm)(this.domNode,"dragover",Ae=>this.onDragOver(this.toDragEvent(Ae)))),this.disposables.add((0,z.nm)(this.domNode,"drop",Ae=>this.onDrop(this.toDragEvent(Ae)))),this.disposables.add((0,z.nm)(this.domNode,"dragleave",Ae=>this.onDragLeave(this.toDragEvent(Ae)))),this.disposables.add((0,z.nm)(this.domNode,"dragend",Ae=>this.onDragEnd(Ae))),this.setRowLineHeight=(we=F.setRowLineHeight)!==null&&we!==void 0?we:I.setRowLineHeight,this.setRowHeight=(xe=F.setRowHeight)!==null&&xe!==void 0?xe:I.setRowHeight,this.supportDynamicHeights=(Ne=F.supportDynamicHeights)!==null&&Ne!==void 0?Ne:I.supportDynamicHeights,this.dnd=(Ve=F.dnd)!==null&&Ve!==void 0?Ve:I.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(X){if(X!==this._horizontalScrolling){if(X&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=X,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const ne of this.items)this.measureItemWidth(ne);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,z.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(X){X.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=X.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),X.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(X.smoothScrolling?125:0),X.horizontalScrolling!==void 0&&(this.horizontalScrolling=X.horizontalScrolling),X.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:X.mouseWheelScrollSensitivity}),X.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:X.fastScrollSensitivity})}splice(X,ne,Q=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(X,ne,Q)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(X,ne,Q=[]){const F=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),te={start:X,end:X+ne},W=C.e.intersect(F,te),G=new Map;for(let We=W.end-1;We>=W.start;We--){const it=this.items[We];if(it.dragStartDisposable.dispose(),it.checkedDisposable.dispose(),it.row){let pe=G.get(it.templateId);pe||(pe=[],G.set(it.templateId,pe));const ye=this.renderers.get(it.templateId);ye&&ye.disposeElement&&ye.disposeElement(it.element,We,it.row.templateData,it.size),pe.push(it.row)}it.row=null}const q={start:X+ne,end:this.items.length},me=C.e.intersect(q,F),w=C.e.relativeComplement(q,F),we=Q.map(We=>({id:String(this.itemId++),element:We,templateId:this.virtualDelegate.getTemplateId(We),size:this.virtualDelegate.getHeight(We),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(We),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:g.JT.None,checkedDisposable:g.JT.None}));let xe;X===0&&ne>=this.items.length?(this.rangeMap=new p,this.rangeMap.splice(0,0,we),xe=this.items,this.items=we):(this.rangeMap.splice(X,ne,we),xe=this.items.splice(X,ne,...we));const Ne=Q.length-ne,Ve=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Ce=d(me,Ne),Ae=C.e.intersect(Ve,Ce);for(let We=Ae.start;We<Ae.end;We++)this.updateItemInDOM(this.items[We],We);const $e=C.e.relativeComplement(Ce,Ve);for(const We of $e)for(let it=We.start;it<We.end;it++)this.removeItemFromDOM(it);const je=w.map(We=>d(We,Ne)),pt=[{start:X,end:X+Q.length},...je].map(We=>C.e.intersect(Ve,We)),bt=this.getNextToLastElement(pt);for(const We of pt)for(let it=We.start;it<We.end;it++){const pe=this.items[it],ye=G.get(pe.templateId),ft=ye?.pop();this.insertItemInDOM(it,bt,ft)}for(const We of G.values())for(const it of We)this.cache.release(it);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),xe.map(We=>We.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,z.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let X=0;for(const ne of this.items)typeof ne.width<"u"&&(X=Math.max(X,ne.width));this.scrollWidth=X,this.scrollableElement.setScrollDimensions({scrollWidth:X===0?0:X+10})}rerender(){if(this.supportDynamicHeights){for(const X of this.items)X.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(X){return this.items[X].element}domElement(X){const ne=this.items[X].row;return ne&&ne.domNode}elementHeight(X){return this.items[X].size}elementTop(X){return this.rangeMap.positionAt(X)}indexAt(X){return this.rangeMap.indexAt(X)}indexAfter(X){return this.rangeMap.indexAfter(X)}layout(X,ne){const Q={height:typeof X=="number"?X:(0,z.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,Q.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(Q),typeof ne<"u"&&(this.renderWidth=ne,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof ne=="number"?ne:(0,z.FK)(this.domNode)})}render(X,ne,Q,F,te,W=!1){const G=this.getRenderRange(ne,Q),q=C.e.relativeComplement(G,X),me=C.e.relativeComplement(X,G),w=this.getNextToLastElement(q);if(W){const we=C.e.intersect(X,G);for(let xe=we.start;xe<we.end;xe++)this.updateItemInDOM(this.items[xe],xe)}for(const we of q)for(let xe=we.start;xe<we.end;xe++)this.insertItemInDOM(xe,w);for(const we of me)for(let xe=we.start;xe<we.end;xe++)this.removeItemFromDOM(xe);F!==void 0&&(this.rowsContainer.style.left=`-${F}px`),this.rowsContainer.style.top=`-${ne}px`,this.horizontalScrolling&&te!==void 0&&(this.rowsContainer.style.width=`${Math.max(te,this.renderWidth)}px`),this.lastRenderTop=ne,this.lastRenderHeight=Q}insertItemInDOM(X,ne,Q){const F=this.items[X];F.row||(F.row=Q??this.cache.alloc(F.templateId));const te=this.accessibilityProvider.getRole(F.element)||"listitem";F.row.domNode.setAttribute("role",te);const W=this.accessibilityProvider.isChecked(F.element);if(typeof W=="boolean")F.row.domNode.setAttribute("aria-checked",String(!!W));else if(W){const me=w=>F.row.domNode.setAttribute("aria-checked",String(!!w));me(W.value),F.checkedDisposable=W.onDidChange(me)}F.row.domNode.parentElement||(ne?this.rowsContainer.insertBefore(F.row.domNode,ne):this.rowsContainer.appendChild(F.row.domNode)),this.updateItemInDOM(F,X);const G=this.renderers.get(F.templateId);if(!G)throw new Error(`No renderer found for template id ${F.templateId}`);G?.renderElement(F.element,X,F.row.templateData,F.size);const q=this.dnd.getDragURI(F.element);F.dragStartDisposable.dispose(),F.row.domNode.draggable=!!q,q&&(F.dragStartDisposable=(0,z.nm)(F.row.domNode,"dragstart",me=>this.onDragStart(F.element,q,me))),this.horizontalScrolling&&(this.measureItemWidth(F),this.eventuallyUpdateScrollWidth())}measureItemWidth(X){if(!X.row||!X.row.domNode)return;X.row.domNode.style.width=b.isFirefox?"-moz-fit-content":"fit-content",X.width=(0,z.FK)(X.row.domNode);const ne=window.getComputedStyle(X.row.domNode);ne.paddingLeft&&(X.width+=parseFloat(ne.paddingLeft)),ne.paddingRight&&(X.width+=parseFloat(ne.paddingRight)),X.row.domNode.style.width=""}updateItemInDOM(X,ne){X.row.domNode.style.top=`${this.elementTop(ne)}px`,this.setRowHeight&&(X.row.domNode.style.height=`${X.size}px`),this.setRowLineHeight&&(X.row.domNode.style.lineHeight=`${X.size}px`),X.row.domNode.setAttribute("data-index",`${ne}`),X.row.domNode.setAttribute("data-last-element",ne===this.length-1?"true":"false"),X.row.domNode.setAttribute("data-parity",ne%2===0?"even":"odd"),X.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(X.element,ne,this.length))),X.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(X.element,ne))),X.row.domNode.setAttribute("id",this.getElementDomId(ne)),X.row.domNode.classList.toggle("drop-target",X.dropTarget)}removeItemFromDOM(X){const ne=this.items[X];if(ne.dragStartDisposable.dispose(),ne.checkedDisposable.dispose(),ne.row){const Q=this.renderers.get(ne.templateId);Q&&Q.disposeElement&&Q.disposeElement(ne.element,X,ne.row.templateData,ne.size),this.cache.release(ne.row),ne.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(X,ne){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:X,reuseAnimation:ne})}get scrollTop(){return this.getScrollTop()}set scrollTop(X){this.setScrollTop(X)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return y.ju.map(this.disposables.add(new j.Y(this.domNode,"click")).event,X=>this.toMouseEvent(X),this.disposables)}get onMouseDblClick(){return y.ju.map(this.disposables.add(new j.Y(this.domNode,"dblclick")).event,X=>this.toMouseEvent(X),this.disposables)}get onMouseMiddleClick(){return y.ju.filter(y.ju.map(this.disposables.add(new j.Y(this.domNode,"auxclick")).event,X=>this.toMouseEvent(X),this.disposables),X=>X.browserEvent.button===1,this.disposables)}get onMouseDown(){return y.ju.map(this.disposables.add(new j.Y(this.domNode,"mousedown")).event,X=>this.toMouseEvent(X),this.disposables)}get onMouseOver(){return y.ju.map(this.disposables.add(new j.Y(this.domNode,"mouseover")).event,X=>this.toMouseEvent(X),this.disposables)}get onContextMenu(){return y.ju.any(y.ju.map(this.disposables.add(new j.Y(this.domNode,"contextmenu")).event,X=>this.toMouseEvent(X),this.disposables),y.ju.map(this.disposables.add(new j.Y(this.domNode,E.t.Contextmenu)).event,X=>this.toGestureEvent(X),this.disposables))}get onTouchStart(){return y.ju.map(this.disposables.add(new j.Y(this.domNode,"touchstart")).event,X=>this.toTouchEvent(X),this.disposables)}get onTap(){return y.ju.map(this.disposables.add(new j.Y(this.rowsContainer,E.t.Tap)).event,X=>this.toGestureEvent(X),this.disposables)}toMouseEvent(X){const ne=this.getItemIndexFromEventTarget(X.target||null),Q=typeof ne>"u"?void 0:this.items[ne],F=Q&&Q.element;return{browserEvent:X,index:ne,element:F}}toTouchEvent(X){const ne=this.getItemIndexFromEventTarget(X.target||null),Q=typeof ne>"u"?void 0:this.items[ne],F=Q&&Q.element;return{browserEvent:X,index:ne,element:F}}toGestureEvent(X){const ne=this.getItemIndexFromEventTarget(X.initialTarget||null),Q=typeof ne>"u"?void 0:this.items[ne],F=Q&&Q.element;return{browserEvent:X,index:ne,element:F}}toDragEvent(X){const ne=this.getItemIndexFromEventTarget(X.target||null),Q=typeof ne>"u"?void 0:this.items[ne],F=Q&&Q.element;return{browserEvent:X,index:ne,element:F}}onScroll(X){try{const ne=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(ne,X.scrollTop,X.height,X.scrollLeft,X.scrollWidth),this.supportDynamicHeights&&this._rerender(X.scrollTop,X.height,X.inSmoothScrolling)}catch(ne){throw console.error("Got bad scroll event:",X),ne}}onTouchChange(X){X.preventDefault(),X.stopPropagation(),this.scrollTop-=X.translationY}onDragStart(X,ne,Q){var F,te;if(!Q.dataTransfer)return;const W=this.dnd.getDragElements(X);if(Q.dataTransfer.effectAllowed="copyMove",Q.dataTransfer.setData(l.g.TEXT,ne),Q.dataTransfer.setDragImage){let G;this.dnd.getDragLabel&&(G=this.dnd.getDragLabel(W,Q)),typeof G>"u"&&(G=String(W.length));const q=(0,z.$)(".monaco-drag-image");q.textContent=G,document.body.appendChild(q),Q.dataTransfer.setDragImage(q,-10,-10),setTimeout(()=>document.body.removeChild(q),0)}this.currentDragData=new P(W),l.P.CurrentDragAndDropData=new V(W),(te=(F=this.dnd).onDragStart)===null||te===void 0||te.call(F,this.currentDragData,Q)}onDragOver(X){var ne;if(X.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),l.P.CurrentDragAndDropData&&l.P.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(X.browserEvent),!X.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(l.P.CurrentDragAndDropData)this.currentDragData=l.P.CurrentDragAndDropData;else{if(!X.browserEvent.dataTransfer.types)return!1;this.currentDragData=new $}const Q=this.dnd.onDragOver(this.currentDragData,X.element,X.index,X.browserEvent);if(this.canDrop=typeof Q=="boolean"?Q:Q.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;X.browserEvent.dataTransfer.dropEffect=typeof Q!="boolean"&&Q.effect===0?"copy":"move";let F;if(typeof Q!="boolean"&&Q.feedback?F=Q.feedback:typeof X.index>"u"?F=[-1]:F=[X.index],F=(0,B.EB)(F).filter(te=>te>=-1&&te<this.length).sort((te,W)=>te-W),F=F[0]===-1?[-1]:F,re(this.currentDragFeedback,F))return!0;if(this.currentDragFeedback=F,this.currentDragFeedbackDisposable.dispose(),F[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,g.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const te of F){const W=this.items[te];W.dropTarget=!0,(ne=W.row)===null||ne===void 0||ne.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,g.OF)(()=>{var te;for(const W of F){const G=this.items[W];G.dropTarget=!1,(te=G.row)===null||te===void 0||te.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(X){var ne,Q;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,H.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((Q=(ne=this.dnd).onDragLeave)===null||Q===void 0||Q.call(ne,this.currentDragData,X.element,X.index,X.browserEvent))}onDrop(X){if(!this.canDrop)return;const ne=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,l.P.CurrentDragAndDropData=void 0,!(!ne||!X.browserEvent.dataTransfer)&&(X.browserEvent.preventDefault(),ne.update(X.browserEvent.dataTransfer),this.dnd.drop(ne,X.element,X.index,X.browserEvent))}onDragEnd(X){var ne,Q;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,l.P.CurrentDragAndDropData=void 0,(Q=(ne=this.dnd).onDragEnd)===null||Q===void 0||Q.call(ne,X)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=g.JT.None}setupDragAndDropScrollTopAnimation(X){if(!this.dragOverAnimationDisposable){const ne=(0,z.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,z.jt)(this.animateDragAndDropScrollTop.bind(this,ne))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,H.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=X.pageY}animateDragAndDropScrollTop(X){if(this.dragOverMouseY===void 0)return;const ne=this.dragOverMouseY-X,Q=this.renderHeight-35;ne<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(ne-35))):ne>Q&&(this.scrollTop+=Math.min(14,Math.floor(.3*(ne-Q))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(X){const ne=this.scrollableElement.getDomNode();let Q=X;for(;Q instanceof HTMLElement&&Q!==this.rowsContainer&&ne.contains(Q);){const F=Q.getAttribute("data-index");if(F){const te=Number(F);if(!isNaN(te))return te}Q=Q.parentElement}}getRenderRange(X,ne){return{start:this.rangeMap.indexAt(X),end:this.rangeMap.indexAfter(X+ne-1)}}_rerender(X,ne,Q){const F=this.getRenderRange(X,ne);let te,W;X===this.elementTop(F.start)?(te=F.start,W=0):F.end-F.start>1&&(te=F.start+1,W=this.elementTop(te)-X);let G=0;for(;;){const q=this.getRenderRange(X,ne);let me=!1;for(let w=q.start;w<q.end;w++){const we=this.probeDynamicHeight(w);we!==0&&this.rangeMap.splice(w,1,[this.items[w]]),G+=we,me=me||we!==0}if(!me){G!==0&&this.eventuallyUpdateScrollDimensions();const w=C.e.relativeComplement(F,q);for(const xe of w)for(let Ne=xe.start;Ne<xe.end;Ne++)this.items[Ne].row&&this.removeItemFromDOM(Ne);const we=C.e.relativeComplement(q,F);for(const xe of we)for(let Ne=xe.start;Ne<xe.end;Ne++){const Ve=Ne+1,Ce=Ve<this.items.length?this.items[Ve].row:null,Ae=Ce?Ce.domNode:null;this.insertItemInDOM(Ne,Ae)}for(let xe=q.start;xe<q.end;xe++)this.items[xe].row&&this.updateItemInDOM(this.items[xe],xe);if(typeof te=="number"){const xe=this.scrollable.getFutureScrollPosition().scrollTop-X,Ne=this.elementTop(te)-W+xe;this.setScrollTop(Ne,Q)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(X){var ne,Q,F;const te=this.items[X];if(this.virtualDelegate.getDynamicHeight){const me=this.virtualDelegate.getDynamicHeight(te.element);if(me!==null){const w=te.size;return te.size=me,te.lastDynamicHeightWidth=this.renderWidth,me-w}}if(!te.hasDynamicHeight||te.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(te.element))return 0;const W=te.size;if(!this.setRowHeight&&te.row){const me=te.row.domNode.offsetHeight;return te.size=me,te.lastDynamicHeightWidth=this.renderWidth,me-W}const G=this.cache.alloc(te.templateId);G.domNode.style.height="",this.rowsContainer.appendChild(G.domNode);const q=this.renderers.get(te.templateId);return q&&(q.renderElement(te.element,X,G.templateData,void 0),(ne=q.disposeElement)===null||ne===void 0||ne.call(q,te.element,X,G.templateData,void 0)),te.size=G.domNode.offsetHeight,(F=(Q=this.virtualDelegate).setDynamicHeight)===null||F===void 0||F.call(Q,te.element,te.size),te.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(G.domNode),this.cache.release(G),te.size-W}getNextToLastElement(X){const ne=X[X.length-1];if(!ne)return null;const Q=this.items[ne.end];return!Q||!Q.row?null:Q.row.domNode}getElementDomId(X){return`${this.domId}_${X}`}dispose(){var X;if(this.items){for(const ne of this.items)if(ne.row){const Q=this.renderers.get(ne.row.templateId);Q&&((X=Q.disposeElement)===null||X===void 0||X.call(Q,ne.element,-1,ne.row.templateData,void 0),Q.disposeTemplate(ne.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,g.B9)(this.disposables)}}ie.InstanceCount=0,M([O.H],ie.prototype,"onMouseClick",null),M([O.H],ie.prototype,"onMouseDblClick",null),M([O.H],ie.prototype,"onMouseMiddleClick",null),M([O.H],ie.prototype,"onMouseDown",null),M([O.H],ie.prototype,"onMouseOver",null),M([O.H],ie.prototype,"onContextMenu",null),M([O.H],ie.prototype,"onTouchStart",null),M([O.H],ie.prototype,"onTap",null)},69047:function(Yt,Ye,s){"use strict";s.d(Ye,{wD:function(){return xe},aV:function(){return We},sx:function(){return we},AA:function(){return ne},iK:function(){return se},cK:function(){return ae},hD:function(){return ie},wn:function(){return q},Zo:function(){return G}});var b=s(65321),l=s(4850),z=s(59069),j=s(10553),E=s(35996);class Z{constructor(pe){this.spliceables=pe}splice(pe,ye,ft){this.spliceables.forEach(Xt=>Xt.splice(pe,ye,ft))}}var B=s(9488),H=s(15393),O=s(41264),y=s(49898),g=s(4669),C=s(75392),m=s(5976),i=s(59870),d=s(36248),_=s(1432),v=s(98401),p=s(5520);class L extends Error{constructor(pe,ye){super(`ListError [${pe}] ${ye}`)}}var T=s(72010),M=function(it,pe,ye,ft){var Xt=arguments.length,qt=Xt<3?pe:ft===null?ft=Object.getOwnPropertyDescriptor(pe,ye):ft,Ft;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")qt=Reflect.decorate(it,pe,ye,ft);else for(var Ot=it.length-1;Ot>=0;Ot--)(Ft=it[Ot])&&(qt=(Xt<3?Ft(qt):Xt>3?Ft(pe,ye,qt):Ft(pe,ye))||qt);return Xt>3&&qt&&Object.defineProperty(pe,ye,qt),qt},I=function(it,pe,ye,ft){function Xt(qt){return qt instanceof ye?qt:new ye(function(Ft){Ft(qt)})}return new(ye||(ye=Promise))(function(qt,Ft){function Ot(Gt){try{ni(ft.next(Gt))}catch(Fe){Ft(Fe)}}function Mt(Gt){try{ni(ft.throw(Gt))}catch(Fe){Ft(Fe)}}function ni(Gt){Gt.done?qt(Gt.value):Xt(Gt.value).then(Ot,Mt)}ni((ft=ft.apply(it,pe||[])).next())})};class P{constructor(pe){this.trait=pe,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(pe){return pe}renderElement(pe,ye,ft){const Xt=this.renderedElements.findIndex(qt=>qt.templateData===ft);if(Xt>=0){const qt=this.renderedElements[Xt];this.trait.unrender(ft),qt.index=ye}else{const qt={index:ye,templateData:ft};this.renderedElements.push(qt)}this.trait.renderIndex(ye,ft)}splice(pe,ye,ft){const Xt=[];for(const qt of this.renderedElements)qt.index<pe?Xt.push(qt):qt.index>=pe+ye&&Xt.push({index:qt.index+ft-ye,templateData:qt.templateData});this.renderedElements=Xt}renderIndexes(pe){for(const{index:ye,templateData:ft}of this.renderedElements)pe.indexOf(ye)>-1&&this.trait.renderIndex(ye,ft)}disposeTemplate(pe){const ye=this.renderedElements.findIndex(ft=>ft.templateData===pe);ye<0||this.renderedElements.splice(ye,1)}}class V{constructor(pe){this._trait=pe,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new g.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new P(this)}splice(pe,ye,ft){var Xt;ye=Math.max(0,Math.min(ye,this.length-pe));const qt=ft.length-ye,Ft=pe+ye,Ot=[...this.sortedIndexes.filter(ni=>ni<pe),...ft.map((ni,Gt)=>ni?Gt+pe:-1).filter(ni=>ni!==-1),...this.sortedIndexes.filter(ni=>ni>=Ft).map(ni=>ni+qt)],Mt=this.length+qt;if(this.sortedIndexes.length>0&&Ot.length===0&&Mt>0){const ni=(Xt=this.sortedIndexes.find(Gt=>Gt>=pe))!==null&&Xt!==void 0?Xt:Mt-1;Ot.push(Math.min(ni,Mt-1))}this.renderer.splice(pe,ye,ft.length),this._set(Ot,Ot),this.length=Mt}renderIndex(pe,ye){ye.classList.toggle(this._trait,this.contains(pe))}unrender(pe){pe.classList.remove(this._trait)}set(pe,ye){return this._set(pe,[...pe].sort(je),ye)}_set(pe,ye,ft){const Xt=this.indexes,qt=this.sortedIndexes;this.indexes=pe,this.sortedIndexes=ye;const Ft=Ae(qt,pe);return this.renderer.renderIndexes(Ft),this._onChange.fire({indexes:pe,browserEvent:ft}),Xt}get(){return this.indexes}contains(pe){return(0,B.ry)(this.sortedIndexes,pe,je)>=0}dispose(){(0,m.B9)(this._onChange)}}M([y.H],V.prototype,"renderer",null);class $ extends V{constructor(pe){super("selected"),this.setAriaSelected=pe}renderIndex(pe,ye){super.renderIndex(pe,ye),this.setAriaSelected&&(this.contains(pe)?ye.setAttribute("aria-selected","true"):ye.setAttribute("aria-selected","false"))}}class re{constructor(pe,ye,ft){this.trait=pe,this.view=ye,this.identityProvider=ft}splice(pe,ye,ft){if(!this.identityProvider)return this.trait.splice(pe,ye,ft.map(()=>!1));const Xt=this.trait.get().map(Ft=>this.identityProvider.getId(this.view.element(Ft)).toString()),qt=ft.map(Ft=>Xt.indexOf(this.identityProvider.getId(Ft).toString())>-1);this.trait.splice(pe,ye,qt)}}function ae(it){return it.tagName==="INPUT"||it.tagName==="TEXTAREA"}function ie(it){return it.classList.contains("monaco-editor")?!0:it.classList.contains("monaco-list")||!it.parentElement?!1:ie(it.parentElement)}function se(it){return it.tagName==="A"&&it.classList.contains("monaco-button")||it.tagName==="DIV"&&it.classList.contains("monaco-button-dropdown")?!0:it.classList.contains("monaco-list")||!it.parentElement?!1:se(it.parentElement)}class X{constructor(pe,ye,ft){this.list=pe,this.view=ye,this.disposables=new m.SL,this.multipleSelectionDisposables=new m.SL,this.onKeyDown.filter(Xt=>Xt.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Xt=>Xt.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Xt=>Xt.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Xt=>Xt.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Xt=>Xt.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Xt=>Xt.keyCode===9).on(this.onEscape,this,this.disposables),ft.multipleSelectionSupport!==!1&&this.onKeyDown.filter(Xt=>(_.dz?Xt.metaKey:Xt.ctrlKey)&&Xt.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(g.ju.chain(this.disposables.add(new l.Y(this.view.domNode,"keydown")).event).filter(pe=>!ae(pe.target)).map(pe=>new z.y(pe)))}updateOptions(pe){pe.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),pe.multipleSelectionSupport&&this.onKeyDown.filter(ye=>(_.dz?ye.metaKey:ye.ctrlKey)&&ye.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(pe){pe.preventDefault(),pe.stopPropagation(),this.list.setSelection(this.list.getFocus(),pe.browserEvent)}onUpArrow(pe){pe.preventDefault(),pe.stopPropagation(),this.list.focusPrevious(1,!1,pe.browserEvent);const ye=this.list.getFocus()[0];this.list.setAnchor(ye),this.list.reveal(ye),this.view.domNode.focus()}onDownArrow(pe){pe.preventDefault(),pe.stopPropagation(),this.list.focusNext(1,!1,pe.browserEvent);const ye=this.list.getFocus()[0];this.list.setAnchor(ye),this.list.reveal(ye),this.view.domNode.focus()}onPageUpArrow(pe){pe.preventDefault(),pe.stopPropagation(),this.list.focusPreviousPage(pe.browserEvent);const ye=this.list.getFocus()[0];this.list.setAnchor(ye),this.list.reveal(ye),this.view.domNode.focus()}onPageDownArrow(pe){pe.preventDefault(),pe.stopPropagation(),this.list.focusNextPage(pe.browserEvent);const ye=this.list.getFocus()[0];this.list.setAnchor(ye),this.list.reveal(ye),this.view.domNode.focus()}onCtrlA(pe){pe.preventDefault(),pe.stopPropagation(),this.list.setSelection((0,B.w6)(this.list.length),pe.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(pe){this.list.getSelection().length&&(pe.preventDefault(),pe.stopPropagation(),this.list.setSelection([],pe.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}M([y.H],X.prototype,"onKeyDown",null);var ne;(function(it){it[it.Automatic=0]="Automatic",it[it.Trigger=1]="Trigger"})(ne||(ne={}));var Q;(function(it){it[it.Idle=0]="Idle",it[it.Typing=1]="Typing"})(Q||(Q={}));const F=new class{mightProducePrintableCharacter(it){return it.ctrlKey||it.metaKey||it.altKey?!1:it.keyCode>=31&&it.keyCode<=56||it.keyCode>=21&&it.keyCode<=30||it.keyCode>=93&&it.keyCode<=102||it.keyCode>=80&&it.keyCode<=90}};class te{constructor(pe,ye,ft,Xt,qt){this.list=pe,this.view=ye,this.keyboardNavigationLabelProvider=ft,this.keyboardNavigationEventFilter=Xt,this.delegate=qt,this.enabled=!1,this.state=Q.Idle,this.mode=ne.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new m.SL,this.disposables=new m.SL,this.updateOptions(pe.options)}updateOptions(pe){var ye,ft;!((ye=pe.typeNavigationEnabled)!==null&&ye!==void 0)||ye?this.enable():this.disable(),this.mode=(ft=pe.typeNavigationMode)!==null&&ft!==void 0?ft:ne.Automatic}enable(){if(this.enabled)return;let pe=!1;const ye=this.enabledDisposables.add(g.ju.chain(this.enabledDisposables.add(new l.Y(this.view.domNode,"keydown")).event)).filter(qt=>!ae(qt.target)).filter(()=>this.mode===ne.Automatic||this.triggered).map(qt=>new z.y(qt)).filter(qt=>pe||this.keyboardNavigationEventFilter(qt)).filter(qt=>this.delegate.mightProducePrintableCharacter(qt)).forEach(l.p).map(qt=>qt.browserEvent.key).event,ft=g.ju.debounce(ye,()=>null,800,void 0,void 0,this.enabledDisposables);g.ju.reduce(g.ju.any(ye,ft),(qt,Ft)=>Ft===null?null:(qt||"")+Ft,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),ft(this.onClear,this,this.enabledDisposables),ye(()=>pe=!0,void 0,this.enabledDisposables),ft(()=>pe=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var pe;const ye=this.list.getFocus();if(ye.length>0&&ye[0]===this.previouslyFocused){const ft=(pe=this.list.options.accessibilityProvider)===null||pe===void 0?void 0:pe.getAriaLabel(this.list.element(ye[0]));ft&&(0,E.Z9)(ft)}this.previouslyFocused=-1}onInput(pe){if(!pe){this.state=Q.Idle,this.triggered=!1;return}const ye=this.list.getFocus(),ft=ye.length>0?ye[0]:0,Xt=this.state===Q.Idle?1:0;this.state=Q.Typing;for(let qt=0;qt<this.list.length;qt++){const Ft=(ft+qt+Xt)%this.list.length,Ot=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Ft)),Mt=Ot&&Ot.toString();if(typeof Mt>"u"||(0,C.Ji)(pe,Mt)){this.previouslyFocused=ft,this.list.setFocus([Ft]),this.list.reveal(Ft);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class W{constructor(pe,ye){this.list=pe,this.view=ye,this.disposables=new m.SL,this.disposables.add(g.ju.chain(this.disposables.add(new l.Y(ye.domNode,"keydown")).event)).filter(Xt=>!ae(Xt.target)).map(Xt=>new z.y(Xt)).filter(Xt=>Xt.keyCode===2&&!Xt.ctrlKey&&!Xt.metaKey&&!Xt.shiftKey&&!Xt.altKey).on(this.onTab,this,this.disposables)}onTab(pe){if(pe.target!==this.view.domNode)return;const ye=this.list.getFocus();if(ye.length===0)return;const ft=this.view.domElement(ye[0]);if(!ft)return;const Xt=ft.querySelector("[tabIndex]");if(!Xt||!(Xt instanceof HTMLElement)||Xt.tabIndex===-1)return;const qt=window.getComputedStyle(Xt);qt.visibility==="hidden"||qt.display==="none"||(pe.preventDefault(),pe.stopPropagation(),Xt.focus())}dispose(){this.disposables.dispose()}}function G(it){return _.dz?it.browserEvent.metaKey:it.browserEvent.ctrlKey}function q(it){return it.browserEvent.shiftKey}function me(it){return it instanceof MouseEvent&&it.button===2}const w={isSelectionSingleChangeEvent:G,isSelectionRangeChangeEvent:q};class we{constructor(pe){this.list=pe,this.disposables=new m.SL,this._onPointer=new g.Q5,this.onPointer=this._onPointer.event,pe.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||w),this.mouseSupport=typeof pe.options.mouseSupport>"u"||!!pe.options.mouseSupport,this.mouseSupport&&(pe.onMouseDown(this.onMouseDown,this,this.disposables),pe.onContextMenu(this.onContextMenu,this,this.disposables),pe.onMouseDblClick(this.onDoubleClick,this,this.disposables),pe.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(j.o.addTarget(pe.getHTMLElement()))),g.ju.any(pe.onMouseClick,pe.onMouseMiddleClick,pe.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(pe){pe.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,pe.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||w))}isSelectionSingleChangeEvent(pe){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(pe):!1}isSelectionRangeChangeEvent(pe){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(pe):!1}isSelectionChangeEvent(pe){return this.isSelectionSingleChangeEvent(pe)||this.isSelectionRangeChangeEvent(pe)}onMouseDown(pe){ie(pe.browserEvent.target)||document.activeElement!==pe.browserEvent.target&&this.list.domFocus()}onContextMenu(pe){if(ie(pe.browserEvent.target))return;const ye=typeof pe.index>"u"?[]:[pe.index];this.list.setFocus(ye,pe.browserEvent)}onViewPointer(pe){if(!this.mouseSupport||ae(pe.browserEvent.target)||ie(pe.browserEvent.target))return;const ye=pe.index;if(typeof ye>"u"){this.list.setFocus([],pe.browserEvent),this.list.setSelection([],pe.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(pe))return this.changeSelection(pe);if(this.isSelectionChangeEvent(pe))return this.changeSelection(pe);this.list.setFocus([ye],pe.browserEvent),this.list.setAnchor(ye),me(pe.browserEvent)||this.list.setSelection([ye],pe.browserEvent),this._onPointer.fire(pe)}onDoubleClick(pe){if(ae(pe.browserEvent.target)||ie(pe.browserEvent.target)||this.isSelectionChangeEvent(pe))return;const ye=this.list.getFocus();this.list.setSelection(ye,pe.browserEvent)}changeSelection(pe){const ye=pe.index;let ft=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(pe)){if(typeof ft>"u"){const Gt=this.list.getFocus()[0];ft=Gt??ye,this.list.setAnchor(ft)}const Xt=Math.min(ft,ye),qt=Math.max(ft,ye),Ft=(0,B.w6)(Xt,qt+1),Ot=this.list.getSelection(),Mt=Ce(Ae(Ot,[ft]),ft);if(Mt.length===0)return;const ni=Ae(Ft,$e(Ot,Mt));this.list.setSelection(ni,pe.browserEvent),this.list.setFocus([ye],pe.browserEvent)}else if(this.isSelectionSingleChangeEvent(pe)){const Xt=this.list.getSelection(),qt=Xt.filter(Ft=>Ft!==ye);this.list.setFocus([ye]),this.list.setAnchor(ye),Xt.length===qt.length?this.list.setSelection([...qt,ye],pe.browserEvent):this.list.setSelection(qt,pe.browserEvent)}}dispose(){this.disposables.dispose()}}class xe{constructor(pe,ye){this.styleElement=pe,this.selectorSuffix=ye}style(pe){const ye=this.selectorSuffix&&`.${this.selectorSuffix}`,ft=[];pe.listBackground&&(pe.listBackground.isOpaque()?ft.push(`.monaco-list${ye} .monaco-list-rows { background: ${pe.listBackground}; }`):_.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),pe.listFocusBackground&&(ft.push(`.monaco-list${ye}:focus .monaco-list-row.focused { background-color: ${pe.listFocusBackground}; }`),ft.push(`.monaco-list${ye}:focus .monaco-list-row.focused:hover { background-color: ${pe.listFocusBackground}; }`)),pe.listFocusForeground&&ft.push(`.monaco-list${ye}:focus .monaco-list-row.focused { color: ${pe.listFocusForeground}; }`),pe.listActiveSelectionBackground&&(ft.push(`.monaco-list${ye}:focus .monaco-list-row.selected { background-color: ${pe.listActiveSelectionBackground}; }`),ft.push(`.monaco-list${ye}:focus .monaco-list-row.selected:hover { background-color: ${pe.listActiveSelectionBackground}; }`)),pe.listActiveSelectionForeground&&ft.push(`.monaco-list${ye}:focus .monaco-list-row.selected { color: ${pe.listActiveSelectionForeground}; }`),pe.listActiveSelectionIconForeground&&ft.push(`.monaco-list${ye}:focus .monaco-list-row.selected .codicon { color: ${pe.listActiveSelectionIconForeground}; }`),pe.listFocusAndSelectionOutline&&ft.push(`.monaco-list${ye}:focus .monaco-list-row.selected { outline-color: ${pe.listFocusAndSelectionOutline} !important; }`),pe.listFocusAndSelectionBackground&&ft.push(`
				.monaco-drag-image,
				.monaco-list${ye}:focus .monaco-list-row.selected.focused { background-color: ${pe.listFocusAndSelectionBackground}; }
			`),pe.listFocusAndSelectionForeground&&ft.push(`
				.monaco-drag-image,
				.monaco-list${ye}:focus .monaco-list-row.selected.focused { color: ${pe.listFocusAndSelectionForeground}; }
			`),pe.listInactiveFocusForeground&&(ft.push(`.monaco-list${ye} .monaco-list-row.focused { color:  ${pe.listInactiveFocusForeground}; }`),ft.push(`.monaco-list${ye} .monaco-list-row.focused:hover { color:  ${pe.listInactiveFocusForeground}; }`)),pe.listInactiveSelectionIconForeground&&ft.push(`.monaco-list${ye} .monaco-list-row.focused .codicon { color:  ${pe.listInactiveSelectionIconForeground}; }`),pe.listInactiveFocusBackground&&(ft.push(`.monaco-list${ye} .monaco-list-row.focused { background-color:  ${pe.listInactiveFocusBackground}; }`),ft.push(`.monaco-list${ye} .monaco-list-row.focused:hover { background-color:  ${pe.listInactiveFocusBackground}; }`)),pe.listInactiveSelectionBackground&&(ft.push(`.monaco-list${ye} .monaco-list-row.selected { background-color:  ${pe.listInactiveSelectionBackground}; }`),ft.push(`.monaco-list${ye} .monaco-list-row.selected:hover { background-color:  ${pe.listInactiveSelectionBackground}; }`)),pe.listInactiveSelectionForeground&&ft.push(`.monaco-list${ye} .monaco-list-row.selected { color: ${pe.listInactiveSelectionForeground}; }`),pe.listHoverBackground&&ft.push(`.monaco-list${ye}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${pe.listHoverBackground}; }`),pe.listHoverForeground&&ft.push(`.monaco-list${ye} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${pe.listHoverForeground}; }`),pe.listSelectionOutline&&ft.push(`.monaco-list${ye} .monaco-list-row.selected { outline: 1px dotted ${pe.listSelectionOutline}; outline-offset: -1px; }`),pe.listFocusOutline&&ft.push(`
				.monaco-drag-image,
				.monaco-list${ye}:focus .monaco-list-row.focused { outline: 1px solid ${pe.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${ye}.last-focused .monaco-list-row.focused { outline: 1px solid ${pe.listFocusOutline}; outline-offset: -1px; }
			`),pe.listInactiveFocusOutline&&ft.push(`.monaco-list${ye} .monaco-list-row.focused { outline: 1px dotted ${pe.listInactiveFocusOutline}; outline-offset: -1px; }`),pe.listHoverOutline&&ft.push(`.monaco-list${ye} .monaco-list-row:hover { outline: 1px dashed ${pe.listHoverOutline}; outline-offset: -1px; }`),pe.listDropBackground&&ft.push(`
				.monaco-list${ye}.drop-target,
				.monaco-list${ye} .monaco-list-rows.drop-target,
				.monaco-list${ye} .monaco-list-row.drop-target { background-color: ${pe.listDropBackground} !important; color: inherit !important; }
			`),pe.tableColumnsBorder&&ft.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${pe.tableColumnsBorder};
			}`),pe.tableOddRowsBackgroundColor&&ft.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${pe.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=ft.join(`
`)}}const Ne={listFocusBackground:O.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:O.Il.fromHex("#0E639C"),listActiveSelectionForeground:O.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:O.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:O.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:O.Il.fromHex("#094771"),listFocusAndSelectionForeground:O.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:O.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:O.Il.fromHex("#FFFFFF"),listHoverBackground:O.Il.fromHex("#2A2D2E"),listDropBackground:O.Il.fromHex("#383B3D"),treeIndentGuidesStroke:O.Il.fromHex("#a9a9a9"),tableColumnsBorder:O.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:O.Il.fromHex("#cccccc").transparent(.04)},Ve={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function Ce(it,pe){const ye=it.indexOf(pe);if(ye===-1)return[];const ft=[];let Xt=ye-1;for(;Xt>=0&&it[Xt]===pe-(ye-Xt);)ft.push(it[Xt--]);for(ft.reverse(),Xt=ye;Xt<it.length&&it[Xt]===pe+(Xt-ye);)ft.push(it[Xt++]);return ft}function Ae(it,pe){const ye=[];let ft=0,Xt=0;for(;ft<it.length||Xt<pe.length;)if(ft>=it.length)ye.push(pe[Xt++]);else if(Xt>=pe.length)ye.push(it[ft++]);else if(it[ft]===pe[Xt]){ye.push(it[ft]),ft++,Xt++;continue}else it[ft]<pe[Xt]?ye.push(it[ft++]):ye.push(pe[Xt++]);return ye}function $e(it,pe){const ye=[];let ft=0,Xt=0;for(;ft<it.length||Xt<pe.length;)if(ft>=it.length)ye.push(pe[Xt++]);else if(Xt>=pe.length)ye.push(it[ft++]);else if(it[ft]===pe[Xt]){ft++,Xt++;continue}else it[ft]<pe[Xt]?ye.push(it[ft++]):Xt++;return ye}const je=(it,pe)=>it-pe;class at{constructor(pe,ye){this._templateId=pe,this.renderers=ye}get templateId(){return this._templateId}renderTemplate(pe){return this.renderers.map(ye=>ye.renderTemplate(pe))}renderElement(pe,ye,ft,Xt){let qt=0;for(const Ft of this.renderers)Ft.renderElement(pe,ye,ft[qt++],Xt)}disposeElement(pe,ye,ft,Xt){var qt;let Ft=0;for(const Ot of this.renderers)(qt=Ot.disposeElement)===null||qt===void 0||qt.call(Ot,pe,ye,ft[Ft],Xt),Ft+=1}disposeTemplate(pe){let ye=0;for(const ft of this.renderers)ft.disposeTemplate(pe[ye++])}}class pt{constructor(pe){this.accessibilityProvider=pe,this.templateId="a18n"}renderTemplate(pe){return pe}renderElement(pe,ye,ft){const Xt=this.accessibilityProvider.getAriaLabel(pe);Xt?ft.setAttribute("aria-label",Xt):ft.removeAttribute("aria-label");const qt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(pe);typeof qt=="number"?ft.setAttribute("aria-level",`${qt}`):ft.removeAttribute("aria-level")}disposeTemplate(pe){}}class bt{constructor(pe,ye){this.list=pe,this.dnd=ye}getDragElements(pe){const ye=this.list.getSelectedElements();return ye.indexOf(pe)>-1?ye:[pe]}getDragURI(pe){return this.dnd.getDragURI(pe)}getDragLabel(pe,ye){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(pe,ye)}onDragStart(pe,ye){var ft,Xt;(Xt=(ft=this.dnd).onDragStart)===null||Xt===void 0||Xt.call(ft,pe,ye)}onDragOver(pe,ye,ft,Xt){return this.dnd.onDragOver(pe,ye,ft,Xt)}onDragLeave(pe,ye,ft,Xt){var qt,Ft;(Ft=(qt=this.dnd).onDragLeave)===null||Ft===void 0||Ft.call(qt,pe,ye,ft,Xt)}onDragEnd(pe){var ye,ft;(ft=(ye=this.dnd).onDragEnd)===null||ft===void 0||ft.call(ye,pe)}drop(pe,ye,ft,Xt){this.dnd.drop(pe,ye,ft,Xt)}}class We{constructor(pe,ye,ft,Xt,qt=Ve){var Ft,Ot,Mt,ni;this.user=pe,this._options=qt,this.focus=new V("focused"),this.anchor=new V("anchor"),this.eventBufferer=new g.E7,this._ariaLabel="",this.disposables=new m.SL,this._onDidDispose=new g.Q5,this.onDidDispose=this._onDidDispose.event;const Gt=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Ft=this._options.accessibilityProvider)===null||Ft===void 0?void 0:Ft.getWidgetRole():"list";this.selection=new $(Gt!=="listbox"),(0,d.jB)(qt,Ne,!1);const Fe=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=qt.accessibilityProvider,this.accessibilityProvider&&(Fe.push(new pt(this.accessibilityProvider)),(Mt=(Ot=this.accessibilityProvider).onDidChangeActiveDescendant)===null||Mt===void 0||Mt.call(Ot,this.onDidChangeActiveDescendant,this,this.disposables)),Xt=Xt.map(Te=>new at(Te.templateId,[...Fe,Te]));const Ge=Object.assign(Object.assign({},qt),{dnd:qt.dnd&&new bt(this,qt.dnd)});if(this.view=new T.Bv(ye,ft,Xt,Ge),this.view.domNode.setAttribute("role",Gt),qt.styleController)this.styleController=qt.styleController(this.view.domId);else{const Te=(0,b.dS)(this.view.domNode);this.styleController=new xe(Te,this.view.domId)}if(this.spliceable=new Z([new re(this.focus,this.view,qt.identityProvider),new re(this.selection,this.view,qt.identityProvider),new re(this.anchor,this.view,qt.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new W(this,this.view)),(typeof qt.keyboardSupport!="boolean"||qt.keyboardSupport)&&(this.keyboardController=new X(this,this.view,qt),this.disposables.add(this.keyboardController)),qt.keyboardNavigationLabelProvider){const Te=qt.keyboardNavigationDelegate||F;this.typeNavigationController=new te(this,this.view,qt.keyboardNavigationLabelProvider,(ni=qt.keyboardNavigationEventFilter)!==null&&ni!==void 0?ni:()=>!0,Te),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(qt),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return g.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),pe=>this.toListEvent(pe),this.disposables)}get onDidChangeSelection(){return g.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),pe=>this.toListEvent(pe),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let pe=!1;const ye=this.disposables.add(g.ju.chain(this.disposables.add(new l.Y(this.view.domNode,"keydown")).event)).map(qt=>new z.y(qt)).filter(qt=>pe=qt.keyCode===58||qt.shiftKey&&qt.keyCode===68).map(l.p).filter(()=>!1).event,ft=this.disposables.add(g.ju.chain(this.disposables.add(new l.Y(this.view.domNode,"keyup")).event)).forEach(()=>pe=!1).map(qt=>new z.y(qt)).filter(qt=>qt.keyCode===58||qt.shiftKey&&qt.keyCode===68).map(l.p).map(({browserEvent:qt})=>{const Ft=this.getFocus(),Ot=Ft.length?Ft[0]:void 0,Mt=typeof Ot<"u"?this.view.element(Ot):void 0,ni=typeof Ot<"u"?this.view.domElement(Ot):this.view.domNode;return{index:Ot,element:Mt,anchor:ni,browserEvent:qt}}).event,Xt=this.disposables.add(g.ju.chain(this.view.onContextMenu)).filter(qt=>!pe).map(({element:qt,index:Ft,browserEvent:Ot})=>({element:qt,index:Ft,anchor:{x:Ot.pageX+1,y:Ot.pageY},browserEvent:Ot})).event;return g.ju.any(ye,ft,Xt)}get onKeyDown(){return this.disposables.add(new l.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return g.ju.signal(this.disposables.add(new l.Y(this.view.domNode,"focus",!0)).event)}createMouseController(pe){return new we(this)}updateOptions(pe={}){var ye,ft;this._options=Object.assign(Object.assign({},this._options),pe),(ye=this.typeNavigationController)===null||ye===void 0||ye.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(pe),(ft=this.keyboardController)===null||ft===void 0||ft.updateOptions(pe),this.view.updateOptions(pe)}get options(){return this._options}splice(pe,ye,ft=[]){if(pe<0||pe>this.view.length)throw new L(this.user,`Invalid start index: ${pe}`);if(ye<0)throw new L(this.user,`Invalid delete count: ${ye}`);ye===0&&ft.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(pe,ye,ft))}rerender(){this.view.rerender()}element(pe){return this.view.element(pe)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(pe){this.view.setScrollTop(pe)}get ariaLabel(){return this._ariaLabel}set ariaLabel(pe){this._ariaLabel=pe,this.view.domNode.setAttribute("aria-label",pe)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(pe,ye){this.view.layout(pe,ye)}setSelection(pe,ye){for(const ft of pe)if(ft<0||ft>=this.length)throw new L(this.user,`Invalid index ${ft}`);this.selection.set(pe,ye)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(pe=>this.view.element(pe))}setAnchor(pe){if(typeof pe>"u"){this.anchor.set([]);return}if(pe<0||pe>=this.length)throw new L(this.user,`Invalid index ${pe}`);this.anchor.set([pe])}getAnchor(){return(0,B.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const pe=this.getAnchor();return typeof pe>"u"?void 0:this.element(pe)}setFocus(pe,ye){for(const ft of pe)if(ft<0||ft>=this.length)throw new L(this.user,`Invalid index ${ft}`);this.focus.set(pe,ye)}focusNext(pe=1,ye=!1,ft,Xt){if(this.length===0)return;const qt=this.focus.get(),Ft=this.findNextIndex(qt.length>0?qt[0]+pe:0,ye,Xt);Ft>-1&&this.setFocus([Ft],ft)}focusPrevious(pe=1,ye=!1,ft,Xt){if(this.length===0)return;const qt=this.focus.get(),Ft=this.findPreviousIndex(qt.length>0?qt[0]-pe:0,ye,Xt);Ft>-1&&this.setFocus([Ft],ft)}focusNextPage(pe,ye){return I(this,void 0,void 0,function*(){let ft=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ft=ft===0?0:ft-1;const Xt=this.getFocus()[0];if(Xt!==ft&&(Xt===void 0||ft>Xt)){const qt=this.findPreviousIndex(ft,!1,ye);qt>-1&&Xt!==qt?this.setFocus([qt],pe):this.setFocus([ft],pe)}else{const qt=this.view.getScrollTop();let Ft=qt+this.view.renderHeight;ft>Xt&&(Ft-=this.view.elementHeight(ft)),this.view.setScrollTop(Ft),this.view.getScrollTop()!==qt&&(this.setFocus([]),yield(0,H.Vs)(0),yield this.focusNextPage(pe,ye))}})}focusPreviousPage(pe,ye){return I(this,void 0,void 0,function*(){let ft;const Xt=this.view.getScrollTop();Xt===0?ft=this.view.indexAt(Xt):ft=this.view.indexAfter(Xt-1);const qt=this.getFocus()[0];if(qt!==ft&&(qt===void 0||qt>=ft)){const Ft=this.findNextIndex(ft,!1,ye);Ft>-1&&qt!==Ft?this.setFocus([Ft],pe):this.setFocus([ft],pe)}else{const Ft=Xt;this.view.setScrollTop(Xt-this.view.renderHeight),this.view.getScrollTop()!==Ft&&(this.setFocus([]),yield(0,H.Vs)(0),yield this.focusPreviousPage(pe,ye))}})}focusLast(pe,ye){if(this.length===0)return;const ft=this.findPreviousIndex(this.length-1,!1,ye);ft>-1&&this.setFocus([ft],pe)}focusFirst(pe,ye){this.focusNth(0,pe,ye)}focusNth(pe,ye,ft){if(this.length===0)return;const Xt=this.findNextIndex(pe,!1,ft);Xt>-1&&this.setFocus([Xt],ye)}findNextIndex(pe,ye=!1,ft){for(let Xt=0;Xt<this.length;Xt++){if(pe>=this.length&&!ye)return-1;if(pe=pe%this.length,!ft||ft(this.element(pe)))return pe;pe++}return-1}findPreviousIndex(pe,ye=!1,ft){for(let Xt=0;Xt<this.length;Xt++){if(pe<0&&!ye)return-1;if(pe=(this.length+pe%this.length)%this.length,!ft||ft(this.element(pe)))return pe;pe--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(pe=>this.view.element(pe))}reveal(pe,ye){if(pe<0||pe>=this.length)throw new L(this.user,`Invalid index ${pe}`);const ft=this.view.getScrollTop(),Xt=this.view.elementTop(pe),qt=this.view.elementHeight(pe);if((0,v.hj)(ye)){const Ft=qt-this.view.renderHeight;this.view.setScrollTop(Ft*(0,i.uZ)(ye,0,1)+Xt)}else{const Ft=Xt+qt,Ot=ft+this.view.renderHeight;Xt<ft&&Ft>=Ot||(Xt<ft||Ft>=Ot&&qt>=this.view.renderHeight?this.view.setScrollTop(Xt):Ft>=Ot&&this.view.setScrollTop(Ft-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(pe){return this.view.getElementDomId(pe)}style(pe){this.styleController.style(pe)}toListEvent({indexes:pe,browserEvent:ye}){return{indexes:pe,elements:pe.map(ft=>this.view.element(ft)),browserEvent:ye}}_onFocusChange(){const pe=this.focus.get();this.view.domNode.classList.toggle("element-focused",pe.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var pe;const ye=this.focus.get();if(ye.length>0){let ft;!((pe=this.accessibilityProvider)===null||pe===void 0)&&pe.getActiveDescendantId&&(ft=this.accessibilityProvider.getActiveDescendantId(this.view.element(ye[0]))),this.view.domNode.setAttribute("aria-activedescendant",ft||this.view.getElementDomId(ye[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const pe=this.selection.get();this.view.domNode.classList.toggle("selection-none",pe.length===0),this.view.domNode.classList.toggle("selection-single",pe.length===1),this.view.domNode.classList.toggle("selection-multiple",pe.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}M([y.H],We.prototype,"onDidChangeFocus",null),M([y.H],We.prototype,"onDidChangeSelection",null),M([y.H],We.prototype,"onContextMenu",null),M([y.H],We.prototype,"onKeyDown",null),M([y.H],We.prototype,"onDidFocus",null)},49335:function(Yt,Ye,s){"use strict";s.d(Ye,{S:function(){return b}});const b="monaco-mouse-cursor-text"},83080:function(Yt,Ye,s){"use strict";s.d(Ye,{l:function(){return g},g:function(){return T}});var b=s(65321),l=s(4850),z=s(10553),j=s(15393),E=s(49898),Z=s(4669),B=s(5976),H=s(1432),O=function(M,I,P,V){var $=arguments.length,re=$<3?I:V===null?V=Object.getOwnPropertyDescriptor(I,P):V,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(M,I,P,V);else for(var ie=M.length-1;ie>=0;ie--)(ae=M[ie])&&(re=($<3?ae(re):$>3?ae(I,P,re):ae(I,P))||re);return $>3&&re&&Object.defineProperty(I,P,re),re};const y=!1;var g;(function(M){M.North="north",M.South="south",M.East="east",M.West="west"})(g||(g={}));let C=4;const m=new Z.Q5;let i=300;const d=new Z.Q5;class _{constructor(){this.disposables=new B.SL}get onPointerMove(){return this.disposables.add(new l.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new l.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}O([E.H],_.prototype,"onPointerMove",null),O([E.H],_.prototype,"onPointerUp",null);class v{constructor(I){this.el=I,this.disposables=new B.SL}get onPointerMove(){return this.disposables.add(new l.Y(this.el,z.t.Change)).event}get onPointerUp(){return this.disposables.add(new l.Y(this.el,z.t.End)).event}dispose(){this.disposables.dispose()}}O([E.H],v.prototype,"onPointerMove",null),O([E.H],v.prototype,"onPointerUp",null);class p{constructor(I){this.factory=I}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}O([E.H],p.prototype,"onPointerMove",null),O([E.H],p.prototype,"onPointerUp",null);const L="pointer-events-disabled";class T extends B.JT{constructor(I,P,V){super(),this.hoverDelay=i,this.hoverDelayer=this._register(new j.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new Z.Q5),this._onDidStart=this._register(new Z.Q5),this._onDidChange=this._register(new Z.Q5),this._onDidReset=this._register(new Z.Q5),this._onDidEnd=this._register(new Z.Q5),this.orthogonalStartSashDisposables=this._register(new B.SL),this.orthogonalStartDragHandleDisposables=this._register(new B.SL),this.orthogonalEndSashDisposables=this._register(new B.SL),this.orthogonalEndDragHandleDisposables=this._register(new B.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,b.R3)(I,(0,b.$)(".monaco-sash")),V.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${V.orthogonalEdge}`),H.dz&&this.el.classList.add("mac");const $=this._register(new l.Y(this.el,"mousedown")).event;this._register($(Q=>this.onPointerStart(Q,new _),this));const re=this._register(new l.Y(this.el,"dblclick")).event;this._register(re(this.onPointerDoublePress,this));const ae=this._register(new l.Y(this.el,"mouseenter")).event;this._register(ae(()=>T.onMouseEnter(this)));const ie=this._register(new l.Y(this.el,"mouseleave")).event;this._register(ie(()=>T.onMouseLeave(this))),this._register(z.o.addTarget(this.el));const se=Z.ju.map(this._register(new l.Y(this.el,z.t.Start)).event,Q=>{var F;return Object.assign(Object.assign({},Q),{target:(F=Q.initialTarget)!==null&&F!==void 0?F:null})});this._register(se(Q=>this.onPointerStart(Q,new v(this.el)),this));const X=this._register(new l.Y(this.el,z.t.Tap)).event,ne=Z.ju.map(Z.ju.filter(Z.ju.debounce(X,(Q,F)=>{var te;return{event:F,count:((te=Q?.count)!==null&&te!==void 0?te:0)+1}},250),({count:Q})=>Q===2),({event:Q})=>{var F;return Object.assign(Object.assign({},Q),{target:(F=Q.initialTarget)!==null&&F!==void 0?F:null})});this._register(ne(this.onPointerDoublePress,this)),typeof V.size=="number"?(this.size=V.size,V.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=C,this._register(m.event(Q=>{this.size=Q,this.layout()}))),this._register(d.event(Q=>this.hoverDelay=Q)),this.layoutProvider=P,this.orthogonalStartSash=V.orthogonalStartSash,this.orthogonalEndSash=V.orthogonalEndSash,this.orientation=V.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",y),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(I){this._state!==I&&(this.el.classList.toggle("disabled",I===0),this.el.classList.toggle("minimum",I===1),this.el.classList.toggle("maximum",I===2),this._state=I,this.onDidEnablementChange.fire(I))}set orthogonalStartSash(I){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),I){const P=V=>{this.orthogonalStartDragHandleDisposables.clear(),V!==0&&(this._orthogonalStartDragHandle=(0,b.R3)(this.el,(0,b.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,B.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new l.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>T.onMouseEnter(I),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new l.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>T.onMouseLeave(I),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(I.onDidEnablementChange.event(P,this)),P(I.state)}this._orthogonalStartSash=I}set orthogonalEndSash(I){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),I){const P=V=>{this.orthogonalEndDragHandleDisposables.clear(),V!==0&&(this._orthogonalEndDragHandle=(0,b.R3)(this.el,(0,b.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,B.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new l.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>T.onMouseEnter(I),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new l.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>T.onMouseLeave(I),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(I.onDidEnablementChange.event(P,this)),P(I.state)}this._orthogonalEndSash=I}onPointerStart(I,P){b.zB.stop(I);let V=!1;if(!I.__orthogonalSashEvent){const W=this.getOrthogonalSash(I);W&&(V=!0,I.__orthogonalSashEvent=!0,W.onPointerStart(I,new p(P)))}if(this.linkedSash&&!I.__linkedSashEvent&&(I.__linkedSashEvent=!0,this.linkedSash.onPointerStart(I,new p(P))),!this.state)return;const $=(0,b.H$)("iframe");for(const W of $)W.classList.add(L);const re=I.pageX,ae=I.pageY,ie=I.altKey,se={startX:re,currentX:re,startY:ae,currentY:ae,altKey:ie};this.el.classList.add("active"),this._onDidStart.fire(se);const X=(0,b.dS)(this.el),ne=()=>{let W="";V?W="all-scroll":this.orientation===1?this.state===1?W="s-resize":this.state===2?W="n-resize":W=H.dz?"row-resize":"ns-resize":this.state===1?W="e-resize":this.state===2?W="w-resize":W=H.dz?"col-resize":"ew-resize",X.textContent=`* { cursor: ${W} !important; }`},Q=new B.SL;ne(),V||this.onDidEnablementChange.event(ne,null,Q);const F=W=>{b.zB.stop(W,!1);const G={startX:re,currentX:W.pageX,startY:ae,currentY:W.pageY,altKey:ie};this._onDidChange.fire(G)},te=W=>{b.zB.stop(W,!1),this.el.removeChild(X),this.el.classList.remove("active"),this._onDidEnd.fire(),Q.dispose();for(const G of $)G.classList.remove(L)};P.onPointerMove(F,null,Q),P.onPointerUp(te,null,Q),Q.add(P)}onPointerDoublePress(I){const P=this.getOrthogonalSash(I);P&&P._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(I,P=!1){I.el.classList.contains("active")?(I.hoverDelayer.cancel(),I.el.classList.add("hover")):I.hoverDelayer.trigger(()=>I.el.classList.add("hover"),I.hoverDelay).then(void 0,()=>{}),!P&&I.linkedSash&&T.onMouseEnter(I.linkedSash,!0)}static onMouseLeave(I,P=!1){I.hoverDelayer.cancel(),I.el.classList.remove("hover"),!P&&I.linkedSash&&T.onMouseLeave(I.linkedSash,!0)}clearSashHoverState(){T.onMouseLeave(this)}layout(){if(this.orientation===0){const I=this.layoutProvider;this.el.style.left=I.getVerticalSashLeft(this)-this.size/2+"px",I.getVerticalSashTop&&(this.el.style.top=I.getVerticalSashTop(this)+"px"),I.getVerticalSashHeight&&(this.el.style.height=I.getVerticalSashHeight(this)+"px")}else{const I=this.layoutProvider;this.el.style.top=I.getHorizontalSashTop(this)-this.size/2+"px",I.getHorizontalSashLeft&&(this.el.style.left=I.getHorizontalSashLeft(this)+"px"),I.getHorizontalSashWidth&&(this.el.style.width=I.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(I){if(!(!I.target||!(I.target instanceof HTMLElement))&&I.target.classList.contains("orthogonal-drag-handle"))return I.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},13433:function(Yt,Ye,s){"use strict";s.d(Ye,{s$:function(){return X},NB:function(){return ie},$Z:function(){return se}});var b=s(30747),l=s(65321),z=s(38626),j=s(7317),E=s(93911),Z=s(93794),B=s(15393);const H=11;class O extends Z.${constructor(F){super(),this._onActivate=F.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=F.bgWidth+"px",this.bgDomNode.style.height=F.bgHeight+"px",typeof F.top<"u"&&(this.bgDomNode.style.top="0px"),typeof F.left<"u"&&(this.bgDomNode.style.left="0px"),typeof F.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof F.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=F.className,this.domNode.classList.add(...F.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=H+"px",this.domNode.style.height=H+"px",typeof F.top<"u"&&(this.domNode.style.top=F.top+"px"),typeof F.left<"u"&&(this.domNode.style.left=F.left+"px"),typeof F.bottom<"u"&&(this.domNode.style.bottom=F.bottom+"px"),typeof F.right<"u"&&(this.domNode.style.right=F.right+"px"),this._pointerMoveMonitor=this._register(new E.C),this._register(l.mu(this.bgDomNode,l.tw.POINTER_DOWN,te=>this._arrowPointerDown(te))),this._register(l.mu(this.domNode,l.tw.POINTER_DOWN,te=>this._arrowPointerDown(te))),this._pointerdownRepeatTimer=this._register(new B.zh),this._pointerdownScheduleRepeatTimer=this._register(new B._F)}_arrowPointerDown(F){if(!F.target||!(F.target instanceof Element))return;const te=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(te,200),this._pointerMoveMonitor.startMonitoring(F.target,F.pointerId,F.buttons,W=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),F.preventDefault()}}var y=s(5976);class g extends y.JT{constructor(F,te,W){super(),this._visibility=F,this._visibleClassName=te,this._invisibleClassName=W,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new B._F)}setVisibility(F){this._visibility!==F&&(this._visibility=F,this._updateShouldBeVisible())}setShouldBeVisible(F){this._rawShouldBeVisible=F,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const F=this._applyVisibilitySetting();this._shouldBeVisible!==F&&(this._shouldBeVisible=F,this.ensureVisibility())}setIsNeeded(F){this._isNeeded!==F&&(this._isNeeded=F,this.ensureVisibility())}setDomNode(F){this._domNode=F,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var F;(F=this._domNode)===null||F===void 0||F.setClassName(this._visibleClassName)},0))}_hide(F){var te;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(te=this._domNode)===null||te===void 0||te.setClassName(this._invisibleClassName+(F?" fade":"")))}}var C=s(1432);const m=140;class i extends Z.${constructor(F){super(),this._lazyRender=F.lazyRender,this._host=F.host,this._scrollable=F.scrollable,this._scrollByPage=F.scrollByPage,this._scrollbarState=F.scrollbarState,this._visibilityController=this._register(new g(F.visibility,"visible scrollbar "+F.extraScrollbarClassName,"invisible scrollbar "+F.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new E.C),this._shouldRender=!0,this.domNode=(0,z.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(l.nm(this.domNode.domNode,l.tw.POINTER_DOWN,te=>this._domNodePointerDown(te)))}_createArrow(F){const te=this._register(new O(F));this.domNode.domNode.appendChild(te.bgDomNode),this.domNode.domNode.appendChild(te.domNode)}_createSlider(F,te,W,G){this.slider=(0,z.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(F),this.slider.setLeft(te),typeof W=="number"&&this.slider.setWidth(W),typeof G=="number"&&this.slider.setHeight(G),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(l.nm(this.slider.domNode,l.tw.POINTER_DOWN,q=>{q.button===0&&(q.preventDefault(),this._sliderPointerDown(q))})),this.onclick(this.slider.domNode,q=>{q.leftButton&&q.stopPropagation()})}_onElementSize(F){return this._scrollbarState.setVisibleSize(F)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(F){return this._scrollbarState.setScrollSize(F)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(F){return this._scrollbarState.setScrollPosition(F)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(F){F.target===this.domNode.domNode&&this._onPointerDown(F)}delegatePointerDown(F){const te=this.domNode.domNode.getClientRects()[0].top,W=te+this._scrollbarState.getSliderPosition(),G=te+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),q=this._sliderPointerPosition(F);W<=q&&q<=G?F.button===0&&(F.preventDefault(),this._sliderPointerDown(F)):this._onPointerDown(F)}_onPointerDown(F){let te,W;if(F.target===this.domNode.domNode&&typeof F.offsetX=="number"&&typeof F.offsetY=="number")te=F.offsetX,W=F.offsetY;else{const q=l.i(this.domNode.domNode);te=F.pageX-q.left,W=F.pageY-q.top}const G=this._pointerDownRelativePosition(te,W);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(G):this._scrollbarState.getDesiredScrollPositionFromOffset(G)),F.button===0&&(F.preventDefault(),this._sliderPointerDown(F))}_sliderPointerDown(F){if(!F.target||!(F.target instanceof Element))return;const te=this._sliderPointerPosition(F),W=this._sliderOrthogonalPointerPosition(F),G=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(F.target,F.pointerId,F.buttons,q=>{const me=this._sliderOrthogonalPointerPosition(q),w=Math.abs(me-W);if(C.ED&&w>m){this._setDesiredScrollPositionNow(G.getScrollPosition());return}const xe=this._sliderPointerPosition(q)-te;this._setDesiredScrollPositionNow(G.getDesiredScrollPositionFromDelta(xe))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(F){const te={};this.writeScrollPosition(te,F),this._scrollable.setScrollPositionNow(te)}updateScrollbarSize(F){this._updateScrollbarSize(F),this._scrollbarState.setScrollbarSize(F),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const d=20;class _{constructor(F,te,W,G,q,me){this._scrollbarSize=Math.round(te),this._oppositeScrollbarSize=Math.round(W),this._arrowSize=Math.round(F),this._visibleSize=G,this._scrollSize=q,this._scrollPosition=me,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new _(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(F){const te=Math.round(F);return this._visibleSize!==te?(this._visibleSize=te,this._refreshComputedValues(),!0):!1}setScrollSize(F){const te=Math.round(F);return this._scrollSize!==te?(this._scrollSize=te,this._refreshComputedValues(),!0):!1}setScrollPosition(F){const te=Math.round(F);return this._scrollPosition!==te?(this._scrollPosition=te,this._refreshComputedValues(),!0):!1}setScrollbarSize(F){this._scrollbarSize=Math.round(F)}setOppositeScrollbarSize(F){this._oppositeScrollbarSize=Math.round(F)}static _computeValues(F,te,W,G,q){const me=Math.max(0,W-F),w=Math.max(0,me-2*te),we=G>0&&G>W;if(!we)return{computedAvailableSize:Math.round(me),computedIsNeeded:we,computedSliderSize:Math.round(w),computedSliderRatio:0,computedSliderPosition:0};const xe=Math.round(Math.max(d,Math.floor(W*w/G))),Ne=(w-xe)/(G-W),Ve=q*Ne;return{computedAvailableSize:Math.round(me),computedIsNeeded:we,computedSliderSize:Math.round(xe),computedSliderRatio:Ne,computedSliderPosition:Math.round(Ve)}}_refreshComputedValues(){const F=_._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=F.computedAvailableSize,this._computedIsNeeded=F.computedIsNeeded,this._computedSliderSize=F.computedSliderSize,this._computedSliderRatio=F.computedSliderRatio,this._computedSliderPosition=F.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(F){if(!this._computedIsNeeded)return 0;const te=F-this._arrowSize-this._computedSliderSize/2;return Math.round(te/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(F){if(!this._computedIsNeeded)return 0;const te=F-this._arrowSize;let W=this._scrollPosition;return te<this._computedSliderPosition?W-=this._visibleSize:W+=this._visibleSize,W}getDesiredScrollPositionFromDelta(F){if(!this._computedIsNeeded)return 0;const te=this._computedSliderPosition+F;return Math.round(te/this._computedSliderRatio)}}var v=s(73046);class p extends i{constructor(F,te,W){const G=F.getScrollDimensions(),q=F.getCurrentScrollPosition();if(super({lazyRender:te.lazyRender,host:W,scrollbarState:new _(te.horizontalHasArrows?te.arrowSize:0,te.horizontal===2?0:te.horizontalScrollbarSize,te.vertical===2?0:te.verticalScrollbarSize,G.width,G.scrollWidth,q.scrollLeft),visibility:te.horizontal,extraScrollbarClassName:"horizontal",scrollable:F,scrollByPage:te.scrollByPage}),te.horizontalHasArrows){const me=(te.arrowSize-H)/2,w=(te.horizontalScrollbarSize-H)/2;this._createArrow({className:"scra",icon:v.lA.scrollbarButtonLeft,top:w,left:me,bottom:void 0,right:void 0,bgWidth:te.arrowSize,bgHeight:te.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new j.q(null,1,0))}),this._createArrow({className:"scra",icon:v.lA.scrollbarButtonRight,top:w,left:void 0,bottom:void 0,right:me,bgWidth:te.arrowSize,bgHeight:te.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new j.q(null,-1,0))})}this._createSlider(Math.floor((te.horizontalScrollbarSize-te.horizontalSliderSize)/2),0,void 0,te.horizontalSliderSize)}_updateSlider(F,te){this.slider.setWidth(F),this.slider.setLeft(te)}_renderDomNode(F,te){this.domNode.setWidth(F),this.domNode.setHeight(te),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(F){return this._shouldRender=this._onElementScrollSize(F.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(F.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(F.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(F,te){return F}_sliderPointerPosition(F){return F.pageX}_sliderOrthogonalPointerPosition(F){return F.pageY}_updateScrollbarSize(F){this.slider.setHeight(F)}writeScrollPosition(F,te){F.scrollLeft=te}updateOptions(F){this.updateScrollbarSize(F.horizontal===2?0:F.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(F.vertical===2?0:F.verticalScrollbarSize),this._visibilityController.setVisibility(F.horizontal),this._scrollByPage=F.scrollByPage}}class L extends i{constructor(F,te,W){const G=F.getScrollDimensions(),q=F.getCurrentScrollPosition();if(super({lazyRender:te.lazyRender,host:W,scrollbarState:new _(te.verticalHasArrows?te.arrowSize:0,te.vertical===2?0:te.verticalScrollbarSize,0,G.height,G.scrollHeight,q.scrollTop),visibility:te.vertical,extraScrollbarClassName:"vertical",scrollable:F,scrollByPage:te.scrollByPage}),te.verticalHasArrows){const me=(te.arrowSize-H)/2,w=(te.verticalScrollbarSize-H)/2;this._createArrow({className:"scra",icon:v.lA.scrollbarButtonUp,top:me,left:w,bottom:void 0,right:void 0,bgWidth:te.verticalScrollbarSize,bgHeight:te.arrowSize,onActivate:()=>this._host.onMouseWheel(new j.q(null,0,1))}),this._createArrow({className:"scra",icon:v.lA.scrollbarButtonDown,top:void 0,left:w,bottom:me,right:void 0,bgWidth:te.verticalScrollbarSize,bgHeight:te.arrowSize,onActivate:()=>this._host.onMouseWheel(new j.q(null,0,-1))})}this._createSlider(0,Math.floor((te.verticalScrollbarSize-te.verticalSliderSize)/2),te.verticalSliderSize,void 0)}_updateSlider(F,te){this.slider.setHeight(F),this.slider.setTop(te)}_renderDomNode(F,te){this.domNode.setWidth(te),this.domNode.setHeight(F),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(F){return this._shouldRender=this._onElementScrollSize(F.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(F.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(F.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(F,te){return te}_sliderPointerPosition(F){return F.pageY}_sliderOrthogonalPointerPosition(F){return F.pageX}_updateScrollbarSize(F){this.slider.setWidth(F)}writeScrollPosition(F,te){F.scrollTop=te}updateOptions(F){this.updateScrollbarSize(F.vertical===2?0:F.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(F.vertical),this._scrollByPage=F.scrollByPage}}var T=s(4669),M=s(76633);const I=500,P=50,V=!0;class ${constructor(F,te,W){this.timestamp=F,this.deltaX=te,this.deltaY=W,this.score=0}}class re{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let F=1,te=0,W=1,G=this._rear;do{const q=G===this._front?F:Math.pow(2,-W);if(F-=q,te+=this._memory[G].score*q,G===this._front)break;G=(this._capacity+G-1)%this._capacity,W++}while(!0);return te<=.5}accept(F,te,W){const G=new $(F,te,W);G.score=this._computeScore(G),this._front===-1&&this._rear===-1?(this._memory[0]=G,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=G)}_computeScore(F){if(Math.abs(F.deltaX)>0&&Math.abs(F.deltaY)>0)return 1;let te=.5;const W=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(F.deltaX)||!this._isAlmostInt(F.deltaY))&&(te+=.25),Math.min(Math.max(te,0),1)}_isAlmostInt(F){return Math.abs(Math.round(F)-F)<.01}}re.INSTANCE=new re;class ae extends Z.${constructor(F,te,W){super(),this._onScroll=this._register(new T.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new T.Q5),F.style.overflow="hidden",this._options=ne(te),this._scrollable=W,this._register(this._scrollable.onScroll(q=>{this._onWillScroll.fire(q),this._onDidScroll(q),this._onScroll.fire(q)}));const G={onMouseWheel:q=>this._onMouseWheel(q),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new L(this._scrollable,this._options,G)),this._horizontalScrollbar=this._register(new p(this._scrollable,this._options,G)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(F),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,z.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,z.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,z.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,q=>this._onMouseOver(q)),this.onmouseleave(this._listenOnDomNode,q=>this._onMouseLeave(q)),this._hideTimeout=this._register(new B._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,y.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(F){this._verticalScrollbar.delegatePointerDown(F)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(F){this._scrollable.setScrollDimensions(F,!1)}updateClassName(F){this._options.className=F,C.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(F){typeof F.handleMouseWheel<"u"&&(this._options.handleMouseWheel=F.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof F.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=F.mouseWheelScrollSensitivity),typeof F.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=F.fastScrollSensitivity),typeof F.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=F.scrollPredominantAxis),typeof F.horizontal<"u"&&(this._options.horizontal=F.horizontal),typeof F.vertical<"u"&&(this._options.vertical=F.vertical),typeof F.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=F.horizontalScrollbarSize),typeof F.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=F.verticalScrollbarSize),typeof F.scrollByPage<"u"&&(this._options.scrollByPage=F.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(F){if(this._mouseWheelToDispose.length>0!==F&&(this._mouseWheelToDispose=(0,y.B9)(this._mouseWheelToDispose),F)){const W=G=>{this._onMouseWheel(new j.q(G))};this._mouseWheelToDispose.push(l.nm(this._listenOnDomNode,l.tw.MOUSE_WHEEL,W,{passive:!1}))}}_onMouseWheel(F){const te=re.INSTANCE;if(V){const q=window.devicePixelRatio/(0,b.getZoomFactor)();C.ED||C.IJ?te.accept(Date.now(),F.deltaX/q,F.deltaY/q):te.accept(Date.now(),F.deltaX,F.deltaY)}let W=!1;if(F.deltaY||F.deltaX){let q=F.deltaY*this._options.mouseWheelScrollSensitivity,me=F.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(q)>=Math.abs(me)?me=0:q=0),this._options.flipAxes&&([q,me]=[me,q]);const w=!C.dz&&F.browserEvent&&F.browserEvent.shiftKey;(this._options.scrollYToX||w)&&!me&&(me=q,q=0),F.browserEvent&&F.browserEvent.altKey&&(me=me*this._options.fastScrollSensitivity,q=q*this._options.fastScrollSensitivity);const we=this._scrollable.getFutureScrollPosition();let xe={};if(q){const Ne=P*q,Ve=we.scrollTop-(Ne<0?Math.floor(Ne):Math.ceil(Ne));this._verticalScrollbar.writeScrollPosition(xe,Ve)}if(me){const Ne=P*me,Ve=we.scrollLeft-(Ne<0?Math.floor(Ne):Math.ceil(Ne));this._horizontalScrollbar.writeScrollPosition(xe,Ve)}xe=this._scrollable.validateScrollPosition(xe),(we.scrollLeft!==xe.scrollLeft||we.scrollTop!==xe.scrollTop)&&(V&&this._options.mouseWheelSmoothScroll&&te.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(xe):this._scrollable.setScrollPositionNow(xe),W=!0)}let G=W;!G&&this._options.alwaysConsumeMouseWheel&&(G=!0),!G&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(G=!0),G&&(F.preventDefault(),F.stopPropagation())}_onDidScroll(F){this._shouldRender=this._horizontalScrollbar.onDidScroll(F)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(F)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const F=this._scrollable.getCurrentScrollPosition(),te=F.scrollTop>0,W=F.scrollLeft>0,G=W?" left":"",q=te?" top":"",me=W||te?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${G}`),this._topShadowDomNode.setClassName(`shadow${q}`),this._topLeftShadowDomNode.setClassName(`shadow${me}${q}${G}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(F){this._mouseIsOver=!1,this._hide()}_onMouseOver(F){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),I)}}class ie extends ae{constructor(F,te){te=te||{},te.mouseWheelSmoothScroll=!1;const W=new M.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:G=>l.jL(G)});super(F,te,W),this._register(W)}setScrollPosition(F){this._scrollable.setScrollPositionNow(F)}}class se extends ae{constructor(F,te,W){super(F,te,W)}setScrollPosition(F){F.reuseAnimation?this._scrollable.setScrollPositionSmooth(F,F.reuseAnimation):this._scrollable.setScrollPositionNow(F)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class X extends ae{constructor(F,te){te=te||{},te.mouseWheelSmoothScroll=!1;const W=new M.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:G=>l.jL(G)});super(F,te,W),this._register(W),this._element=F,this.onScroll(G=>{G.scrollTopChanged&&(this._element.scrollTop=G.scrollTop),G.scrollLeftChanged&&(this._element.scrollLeft=G.scrollLeft)}),this.scanDomNode()}setScrollPosition(F){this._scrollable.setScrollPositionNow(F)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function ne(Q){const F={lazyRender:typeof Q.lazyRender<"u"?Q.lazyRender:!1,className:typeof Q.className<"u"?Q.className:"",useShadows:typeof Q.useShadows<"u"?Q.useShadows:!0,handleMouseWheel:typeof Q.handleMouseWheel<"u"?Q.handleMouseWheel:!0,flipAxes:typeof Q.flipAxes<"u"?Q.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof Q.consumeMouseWheelIfScrollbarIsNeeded<"u"?Q.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof Q.alwaysConsumeMouseWheel<"u"?Q.alwaysConsumeMouseWheel:!1,scrollYToX:typeof Q.scrollYToX<"u"?Q.scrollYToX:!1,mouseWheelScrollSensitivity:typeof Q.mouseWheelScrollSensitivity<"u"?Q.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof Q.fastScrollSensitivity<"u"?Q.fastScrollSensitivity:5,scrollPredominantAxis:typeof Q.scrollPredominantAxis<"u"?Q.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof Q.mouseWheelSmoothScroll<"u"?Q.mouseWheelSmoothScroll:!0,arrowSize:typeof Q.arrowSize<"u"?Q.arrowSize:11,listenOnDomNode:typeof Q.listenOnDomNode<"u"?Q.listenOnDomNode:null,horizontal:typeof Q.horizontal<"u"?Q.horizontal:1,horizontalScrollbarSize:typeof Q.horizontalScrollbarSize<"u"?Q.horizontalScrollbarSize:10,horizontalSliderSize:typeof Q.horizontalSliderSize<"u"?Q.horizontalSliderSize:0,horizontalHasArrows:typeof Q.horizontalHasArrows<"u"?Q.horizontalHasArrows:!1,vertical:typeof Q.vertical<"u"?Q.vertical:1,verticalScrollbarSize:typeof Q.verticalScrollbarSize<"u"?Q.verticalScrollbarSize:10,verticalHasArrows:typeof Q.verticalHasArrows<"u"?Q.verticalHasArrows:!1,verticalSliderSize:typeof Q.verticalSliderSize<"u"?Q.verticalSliderSize:0,scrollByPage:typeof Q.scrollByPage<"u"?Q.scrollByPage:!1};return F.horizontalSliderSize=typeof Q.horizontalSliderSize<"u"?Q.horizontalSliderSize:F.horizontalScrollbarSize,F.verticalSliderSize=typeof Q.verticalSliderSize<"u"?Q.verticalSliderSize:F.verticalScrollbarSize,C.dz&&(F.className+=" mac"),F}},33225:function(Yt,Ye,s){"use strict";s.d(Ye,{M:function(){return _},z:function(){return v}});var b=s(65321),l=s(83080),z=s(13433),j=s(9488),E=s(41264),Z=s(4669),B=s(5976),H=s(59870),O=s(76633),y=s(98401);const g={separatorBorder:E.Il.transparent};class C{constructor(L,T,M,I){this.container=L,this.view=T,this.disposable=I,this._cachedVisibleSize=void 0,typeof M=="number"?(this._size=M,this._cachedVisibleSize=void 0,L.classList.add("visible")):(this._size=0,this._cachedVisibleSize=M.cachedVisibleSize)}set size(L){this._size=L}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(L,T){var M,I;L!==this.visible&&(L?(this.size=(0,H.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof T=="number"?T:this.size,this.size=0),this.container.classList.toggle("visible",L),(I=(M=this.view).setVisible)===null||I===void 0||I.call(M,L))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(L){this.container.style.pointerEvents=L?"":"none"}layout(L,T){this.layoutContainer(L),this.view.layout(this.size,L,T)}dispose(){return this.disposable.dispose(),this.view}}class m extends C{layoutContainer(L){this.container.style.top=`${L}px`,this.container.style.height=`${this.size}px`}}class i extends C{layoutContainer(L){this.container.style.left=`${L}px`,this.container.style.width=`${this.size}px`}}var d;(function(p){p[p.Idle=0]="Idle",p[p.Busy=1]="Busy"})(d||(d={}));var _;(function(p){p.Distribute={type:"distribute"};function L(M){return{type:"split",index:M}}p.Split=L;function T(M){return{type:"invisible",cachedVisibleSize:M}}p.Invisible=T})(_||(_={}));class v extends B.JT{constructor(L,T={}){var M,I,P,V,$;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=d.Idle,this._onDidSashChange=this._register(new Z.Q5),this._onDidSashReset=this._register(new Z.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(M=T.orientation)!==null&&M!==void 0?M:0,this.inverseAltBehavior=(I=T.inverseAltBehavior)!==null&&I!==void 0?I:!1,this.proportionalLayout=(P=T.proportionalLayout)!==null&&P!==void 0?P:!0,this.getSashOrthogonalSize=T.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),L.appendChild(this.el),this.sashContainer=(0,b.R3)(this.el,(0,b.$)(".sash-container")),this.viewContainer=(0,b.$)(".split-view-container"),this.scrollable=new O.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:b.jL}),this.scrollableElement=this._register(new z.$Z(this.viewContainer,{vertical:this.orientation===0?(V=T.scrollbarVisibility)!==null&&V!==void 0?V:1:2,horizontal:this.orientation===1?($=T.scrollbarVisibility)!==null&&$!==void 0?$:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(re=>{this.viewContainer.scrollTop=re.scrollTop,this.viewContainer.scrollLeft=re.scrollLeft})),(0,b.R3)(this.el,this.scrollableElement.getDomNode()),this.style(T.styles||g),T.descriptor&&(this.size=T.descriptor.size,T.descriptor.views.forEach((re,ae)=>{const ie=y.o8(re.visible)||re.visible?re.size:{type:"invisible",cachedVisibleSize:re.size},se=re.view;this.doAddView(se,ie,ae,!0)}),this.contentSize=this.viewItems.reduce((re,ae)=>re+ae.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(L){for(const T of this.sashItems)T.sash.orthogonalStartSash=L;this._orthogonalStartSash=L}set orthogonalEndSash(L){for(const T of this.sashItems)T.sash.orthogonalEndSash=L;this._orthogonalEndSash=L}set startSnappingEnabled(L){this._startSnappingEnabled!==L&&(this._startSnappingEnabled=L,this.updateSashEnablement())}set endSnappingEnabled(L){this._endSnappingEnabled!==L&&(this._endSnappingEnabled=L,this.updateSashEnablement())}style(L){L.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",L.separatorBorder.toString()))}addView(L,T,M=this.viewItems.length,I){this.doAddView(L,T,M,I)}layout(L,T){const M=Math.max(this.size,this.contentSize);if(this.size=L,this.layoutContext=T,this.proportions)for(let I=0;I<this.viewItems.length;I++){const P=this.viewItems[I];P.size=(0,H.uZ)(Math.round(this.proportions[I]*L),P.minimumSize,P.maximumSize)}else{const I=(0,j.w6)(this.viewItems.length),P=I.filter($=>this.viewItems[$].priority===1),V=I.filter($=>this.viewItems[$].priority===2);this.resize(this.viewItems.length-1,L-M,void 0,P,V)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(L=>L.size/this.contentSize))}onSashStart({sash:L,start:T,alt:M}){for(const $ of this.viewItems)$.enabled=!1;const I=this.sashItems.findIndex($=>$.sash===L),P=(0,B.F8)((0,b.nm)(document.body,"keydown",$=>V(this.sashDragState.current,$.altKey)),(0,b.nm)(document.body,"keyup",()=>V(this.sashDragState.current,!1))),V=($,re)=>{const ae=this.viewItems.map(Q=>Q.size);let ie=Number.NEGATIVE_INFINITY,se=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(re=!re),re)if(I===this.sashItems.length-1){const F=this.viewItems[I];ie=(F.minimumSize-F.size)/2,se=(F.maximumSize-F.size)/2}else{const F=this.viewItems[I+1];ie=(F.size-F.maximumSize)/2,se=(F.size-F.minimumSize)/2}let X,ne;if(!re){const Q=(0,j.w6)(I,-1),F=(0,j.w6)(I+1,this.viewItems.length),te=Q.reduce((Ne,Ve)=>Ne+(this.viewItems[Ve].minimumSize-ae[Ve]),0),W=Q.reduce((Ne,Ve)=>Ne+(this.viewItems[Ve].viewMaximumSize-ae[Ve]),0),G=F.length===0?Number.POSITIVE_INFINITY:F.reduce((Ne,Ve)=>Ne+(ae[Ve]-this.viewItems[Ve].minimumSize),0),q=F.length===0?Number.NEGATIVE_INFINITY:F.reduce((Ne,Ve)=>Ne+(ae[Ve]-this.viewItems[Ve].viewMaximumSize),0),me=Math.max(te,q),w=Math.min(G,W),we=this.findFirstSnapIndex(Q),xe=this.findFirstSnapIndex(F);if(typeof we=="number"){const Ne=this.viewItems[we],Ve=Math.floor(Ne.viewMinimumSize/2);X={index:we,limitDelta:Ne.visible?me-Ve:me+Ve,size:Ne.size}}if(typeof xe=="number"){const Ne=this.viewItems[xe],Ve=Math.floor(Ne.viewMinimumSize/2);ne={index:xe,limitDelta:Ne.visible?w+Ve:w-Ve,size:Ne.size}}}this.sashDragState={start:$,current:$,index:I,sizes:ae,minDelta:ie,maxDelta:se,alt:re,snapBefore:X,snapAfter:ne,disposable:P}};V(T,M)}onSashChange({current:L}){const{index:T,start:M,sizes:I,alt:P,minDelta:V,maxDelta:$,snapBefore:re,snapAfter:ae}=this.sashDragState;this.sashDragState.current=L;const ie=L-M,se=this.resize(T,ie,I,void 0,void 0,V,$,re,ae);if(P){const X=T===this.sashItems.length-1,ne=this.viewItems.map(q=>q.size),Q=X?T:T+1,F=this.viewItems[Q],te=F.size-F.maximumSize,W=F.size-F.minimumSize,G=X?T-1:T+1;this.resize(G,-se,ne,void 0,void 0,te,W)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(L){this._onDidSashChange.fire(L),this.sashDragState.disposable.dispose(),this.saveProportions();for(const T of this.viewItems)T.enabled=!0}onViewChange(L,T){const M=this.viewItems.indexOf(L);M<0||M>=this.viewItems.length||(T=typeof T=="number"?T:L.size,T=(0,H.uZ)(T,L.minimumSize,L.maximumSize),this.inverseAltBehavior&&M>0?(this.resize(M-1,Math.floor((L.size-T)/2)),this.distributeEmptySpace(),this.layoutViews()):(L.size=T,this.relayout([M],void 0)))}resizeView(L,T){if(this.state!==d.Idle)throw new Error("Cant modify splitview");if(this.state=d.Busy,L<0||L>=this.viewItems.length)return;const M=(0,j.w6)(this.viewItems.length).filter($=>$!==L),I=[...M.filter($=>this.viewItems[$].priority===1),L],P=M.filter($=>this.viewItems[$].priority===2),V=this.viewItems[L];T=Math.round(T),T=(0,H.uZ)(T,V.minimumSize,Math.min(V.maximumSize,this.size)),V.size=T,this.relayout(I,P),this.state=d.Idle}distributeViewSizes(){const L=[];let T=0;for(const $ of this.viewItems)$.maximumSize-$.minimumSize>0&&(L.push($),T+=$.size);const M=Math.floor(T/L.length);for(const $ of L)$.size=(0,H.uZ)(M,$.minimumSize,$.maximumSize);const I=(0,j.w6)(this.viewItems.length),P=I.filter($=>this.viewItems[$].priority===1),V=I.filter($=>this.viewItems[$].priority===2);this.relayout(P,V)}getViewSize(L){return L<0||L>=this.viewItems.length?-1:this.viewItems[L].size}doAddView(L,T,M=this.viewItems.length,I){if(this.state!==d.Idle)throw new Error("Cant modify splitview");this.state=d.Busy;const P=(0,b.$)(".split-view-view");M===this.viewItems.length?this.viewContainer.appendChild(P):this.viewContainer.insertBefore(P,this.viewContainer.children.item(M));const V=L.onDidChange(X=>this.onViewChange(ie,X)),$=(0,B.OF)(()=>this.viewContainer.removeChild(P)),re=(0,B.F8)(V,$);let ae;typeof T=="number"?ae=T:T.type==="split"?ae=this.getViewSize(T.index)/2:T.type==="invisible"?ae={cachedVisibleSize:T.cachedVisibleSize}:ae=L.minimumSize;const ie=this.orientation===0?new m(P,L,ae,re):new i(P,L,ae,re);if(this.viewItems.splice(M,0,ie),this.viewItems.length>1){const X={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},ne=this.orientation===0?new l.g(this.sashContainer,{getHorizontalSashTop:Ne=>this.getSashPosition(Ne),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},X),{orientation:1})):new l.g(this.sashContainer,{getVerticalSashLeft:Ne=>this.getSashPosition(Ne),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},X),{orientation:0})),Q=this.orientation===0?Ne=>({sash:ne,start:Ne.startY,current:Ne.currentY,alt:Ne.altKey}):Ne=>({sash:ne,start:Ne.startX,current:Ne.currentX,alt:Ne.altKey}),te=Z.ju.map(ne.onDidStart,Q)(this.onSashStart,this),G=Z.ju.map(ne.onDidChange,Q)(this.onSashChange,this),me=Z.ju.map(ne.onDidEnd,()=>this.sashItems.findIndex(Ne=>Ne.sash===ne))(this.onSashEnd,this),w=ne.onDidReset(()=>{const Ne=this.sashItems.findIndex(je=>je.sash===ne),Ve=(0,j.w6)(Ne,-1),Ce=(0,j.w6)(Ne+1,this.viewItems.length),Ae=this.findFirstSnapIndex(Ve),$e=this.findFirstSnapIndex(Ce);typeof Ae=="number"&&!this.viewItems[Ae].visible||typeof $e=="number"&&!this.viewItems[$e].visible||this._onDidSashReset.fire(Ne)}),we=(0,B.F8)(te,G,me,w,ne),xe={sash:ne,disposable:we};this.sashItems.splice(M-1,0,xe)}P.appendChild(L.element);let se;typeof T!="number"&&T.type==="split"&&(se=[T.index]),I||this.relayout([M],se),this.state=d.Idle,!I&&typeof T!="number"&&T.type==="distribute"&&this.distributeViewSizes()}relayout(L,T){const M=this.viewItems.reduce((I,P)=>I+P.size,0);this.resize(this.viewItems.length-1,this.size-M,void 0,L,T),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(L,T,M=this.viewItems.map(ie=>ie.size),I,P,V=Number.NEGATIVE_INFINITY,$=Number.POSITIVE_INFINITY,re,ae){if(L<0||L>=this.viewItems.length)return 0;const ie=(0,j.w6)(L,-1),se=(0,j.w6)(L+1,this.viewItems.length);if(P)for(const xe of P)(0,j.zI)(ie,xe),(0,j.zI)(se,xe);if(I)for(const xe of I)(0,j.al)(ie,xe),(0,j.al)(se,xe);const X=ie.map(xe=>this.viewItems[xe]),ne=ie.map(xe=>M[xe]),Q=se.map(xe=>this.viewItems[xe]),F=se.map(xe=>M[xe]),te=ie.reduce((xe,Ne)=>xe+(this.viewItems[Ne].minimumSize-M[Ne]),0),W=ie.reduce((xe,Ne)=>xe+(this.viewItems[Ne].maximumSize-M[Ne]),0),G=se.length===0?Number.POSITIVE_INFINITY:se.reduce((xe,Ne)=>xe+(M[Ne]-this.viewItems[Ne].minimumSize),0),q=se.length===0?Number.NEGATIVE_INFINITY:se.reduce((xe,Ne)=>xe+(M[Ne]-this.viewItems[Ne].maximumSize),0),me=Math.max(te,q,V),w=Math.min(G,W,$);let we=!1;if(re){const xe=this.viewItems[re.index],Ne=T>=re.limitDelta;we=Ne!==xe.visible,xe.setVisible(Ne,re.size)}if(!we&&ae){const xe=this.viewItems[ae.index],Ne=T<ae.limitDelta;we=Ne!==xe.visible,xe.setVisible(Ne,ae.size)}if(we)return this.resize(L,T,M,I,P,V,$);T=(0,H.uZ)(T,me,w);for(let xe=0,Ne=T;xe<X.length;xe++){const Ve=X[xe],Ce=(0,H.uZ)(ne[xe]+Ne,Ve.minimumSize,Ve.maximumSize),Ae=Ce-ne[xe];Ne-=Ae,Ve.size=Ce}for(let xe=0,Ne=T;xe<Q.length;xe++){const Ve=Q[xe],Ce=(0,H.uZ)(F[xe]-Ne,Ve.minimumSize,Ve.maximumSize),Ae=Ce-F[xe];Ne+=Ae,Ve.size=Ce}return T}distributeEmptySpace(L){const T=this.viewItems.reduce(($,re)=>$+re.size,0);let M=this.size-T;const I=(0,j.w6)(this.viewItems.length-1,-1),P=I.filter($=>this.viewItems[$].priority===1),V=I.filter($=>this.viewItems[$].priority===2);for(const $ of V)(0,j.zI)(I,$);for(const $ of P)(0,j.al)(I,$);typeof L=="number"&&(0,j.al)(I,L);for(let $=0;M!==0&&$<I.length;$++){const re=this.viewItems[I[$]],ae=(0,H.uZ)(re.size+M,re.minimumSize,re.maximumSize),ie=ae-re.size;M-=ie,re.size=ae}}layoutViews(){this.contentSize=this.viewItems.reduce((T,M)=>T+M.size,0);let L=0;for(const T of this.viewItems)T.layout(L,this.layoutContext),L+=T.size;this.sashItems.forEach(T=>T.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let L=!1;const T=this.viewItems.map(re=>L=re.size-re.minimumSize>0||L);L=!1;const M=this.viewItems.map(re=>L=re.maximumSize-re.size>0||L),I=[...this.viewItems].reverse();L=!1;const P=I.map(re=>L=re.size-re.minimumSize>0||L).reverse();L=!1;const V=I.map(re=>L=re.maximumSize-re.size>0||L).reverse();let $=0;for(let re=0;re<this.sashItems.length;re++){const{sash:ae}=this.sashItems[re],ie=this.viewItems[re];$+=ie.size;const se=!(T[re]&&V[re+1]),X=!(M[re]&&P[re+1]);if(se&&X){const ne=(0,j.w6)(re,-1),Q=(0,j.w6)(re+1,this.viewItems.length),F=this.findFirstSnapIndex(ne),te=this.findFirstSnapIndex(Q),W=typeof F=="number"&&!this.viewItems[F].visible,G=typeof te=="number"&&!this.viewItems[te].visible;W&&P[re]&&($>0||this.startSnappingEnabled)?ae.state=1:G&&T[re]&&($<this.contentSize||this.endSnappingEnabled)?ae.state=2:ae.state=0}else se&&!X?ae.state=1:!se&&X?ae.state=2:ae.state=3}}getSashPosition(L){let T=0;for(let M=0;M<this.sashItems.length;M++)if(T+=this.viewItems[M].size,this.sashItems[M].sash===L)return T;return 0}findFirstSnapIndex(L){for(const T of L){const M=this.viewItems[T];if(M.visible&&M.snap)return T}for(const T of L){const M=this.viewItems[T];if(M.visible&&M.maximumSize-M.minimumSize>0)return;if(!M.visible&&M.snap)return T}}dispose(){super.dispose(),(0,B.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(L=>L.disposable.dispose()),this.sashItems=[]}}},40032:function(Yt,Ye,s){"use strict";s.d(Ye,{Z:function(){return Z}});var b=s(93794),l=s(73046),z=s(41264),j=s(4669);const E={inputActiveOptionBorder:z.Il.fromHex("#007ACC00"),inputActiveOptionForeground:z.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:z.Il.fromHex("#0E639C50")};class Z extends b.${constructor(H){super(),this._onChange=this._register(new j.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new j.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},E),H),this._checked=this._opts.isChecked;const O=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,O.push(...l.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&O.push(...this._opts.actionClassName.split(" ")),this._checked&&O.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...O),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,y=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),y.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,y=>{if(y.keyCode===10||y.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),y.preventDefault(),y.stopPropagation();return}this._onKeyDown.fire(y)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(H){this._checked=H,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(H){H.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=H.inputActiveOptionBorder),H.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=H.inputActiveOptionForeground),H.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=H.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},93794:function(Yt,Ye,s){"use strict";s.d(Ye,{$:function(){return Z}});var b=s(65321),l=s(59069),z=s(7317),j=s(10553),E=s(5976);class Z extends E.JT{onclick(H,O){this._register(b.nm(H,b.tw.CLICK,y=>O(new z.n(y))))}onmousedown(H,O){this._register(b.nm(H,b.tw.MOUSE_DOWN,y=>O(new z.n(y))))}onmouseover(H,O){this._register(b.nm(H,b.tw.MOUSE_OVER,y=>O(new z.n(y))))}onmouseleave(H,O){this._register(b.nm(H,b.tw.MOUSE_LEAVE,y=>O(new z.n(y))))}onkeydown(H,O){this._register(b.nm(H,b.tw.KEY_DOWN,y=>O(new l.y(y))))}onkeyup(H,O){this._register(b.nm(H,b.tw.KEY_UP,y=>O(new l.y(y))))}oninput(H,O){this._register(b.nm(H,b.tw.INPUT,O))}onblur(H,O){this._register(b.nm(H,b.tw.BLUR,O))}onfocus(H,O){this._register(b.nm(H,b.tw.FOCUS,O))}ignoreGesture(H){j.o.ignoreTarget(H)}}},74741:function(Yt,Ye,s){"use strict";s.d(Ye,{Wi:function(){return Z},Z0:function(){return B},aU:function(){return E},eZ:function(){return O},wY:function(){return H},xw:function(){return y}});var b=s(4669),l=s(5976),z=s(63580),j=function(g,C,m,i){function d(_){return _ instanceof m?_:new m(function(v){v(_)})}return new(m||(m=Promise))(function(_,v){function p(M){try{T(i.next(M))}catch(I){v(I)}}function L(M){try{T(i.throw(M))}catch(I){v(I)}}function T(M){M.done?_(M.value):d(M.value).then(p,L)}T((i=i.apply(g,C||[])).next())})};class E extends l.JT{constructor(C,m="",i="",d=!0,_){super(),this._onDidChange=this._register(new b.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=C,this._label=m,this._cssClass=i,this._enabled=d,this._actionCallback=_}get id(){return this._id}get label(){return this._label}set label(C){this._setLabel(C)}_setLabel(C){this._label!==C&&(this._label=C,this._onDidChange.fire({label:C}))}get tooltip(){return this._tooltip||""}set tooltip(C){this._setTooltip(C)}_setTooltip(C){this._tooltip!==C&&(this._tooltip=C,this._onDidChange.fire({tooltip:C}))}get class(){return this._cssClass}set class(C){this._setClass(C)}_setClass(C){this._cssClass!==C&&(this._cssClass=C,this._onDidChange.fire({class:C}))}get enabled(){return this._enabled}set enabled(C){this._setEnabled(C)}_setEnabled(C){this._enabled!==C&&(this._enabled=C,this._onDidChange.fire({enabled:C}))}get checked(){return this._checked}set checked(C){this._setChecked(C)}_setChecked(C){this._checked!==C&&(this._checked=C,this._onDidChange.fire({checked:C}))}run(C,m){return j(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(C))})}}class Z extends l.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new b.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new b.Q5),this.onDidRun=this._onDidRun.event}run(C,m){return j(this,void 0,void 0,function*(){if(!C.enabled)return;this._onBeforeRun.fire({action:C});let i;try{yield this.runAction(C,m)}catch(d){i=d}this._onDidRun.fire({action:C,error:i})})}runAction(C,m){return j(this,void 0,void 0,function*(){yield C.run(m)})}}class B extends E{constructor(C){super(B.ID,C,C?"separator text":"separator"),this.checked=!1,this.enabled=!1}}B.ID="vs.actions.separator";class H{constructor(C,m,i,d){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=C,this.label=m,this.class=d,this._actions=i}get actions(){return this._actions}dispose(){}run(){return j(this,void 0,void 0,function*(){})}}class O extends E{constructor(){super(O.ID,z.NC("submenu.empty","(empty)"),void 0,!1)}}O.ID="vs.actions.empty";function y(g){var C,m;return{id:g.id,label:g.label,class:void 0,enabled:(C=g.enabled)!==null&&C!==void 0?C:!0,checked:(m=g.checked)!==null&&m!==void 0?m:!1,run:()=>j(this,void 0,void 0,function*(){return g.run()}),tooltip:g.label,dispose:()=>{}}}},9488:function(Yt,Ye,s){"use strict";s.d(Ye,{Dc:function(){return se},EB:function(){return m},Gb:function(){return b},H9:function(){return Q},HW:function(){return H},JH:function(){return l},LS:function(){return j},Of:function(){return C},VJ:function(){return ne},XY:function(){return g},Xh:function(){return _},Zv:function(){return p},_2:function(){return I},al:function(){return T},dF:function(){return i},db:function(){return V},fS:function(){return z},fv:function(){return ie},jV:function(){return X},kX:function(){return y},lG:function(){return B},ry:function(){return E},tT:function(){return ae},vA:function(){return M},vM:function(){return O},w6:function(){return v},zI:function(){return L}});function b(F,te=0){return F[F.length-(1+te)]}function l(F){if(F.length===0)throw new Error("Invalid tail call");return[F.slice(0,F.length-1),F[F.length-1]]}function z(F,te,W=(G,q)=>G===q){if(F===te)return!0;if(!F||!te||F.length!==te.length)return!1;for(let G=0,q=F.length;G<q;G++)if(!W(F[G],te[G]))return!1;return!0}function j(F,te){const W=F.length-1;te<W&&(F[te]=F[W]),F.pop()}function E(F,te,W){return Z(F.length,G=>W(F[G],te))}function Z(F,te){let W=0,G=F-1;for(;W<=G;){const q=(W+G)/2|0,me=te(q);if(me<0)W=q+1;else if(me>0)G=q-1;else return q}return-(W+1)}function B(F,te){let W=0,G=F.length;if(G===0)return 0;for(;W<G;){const q=Math.floor((W+G)/2);te(F[q])?G=q:W=q+1}return W}function H(F,te,W){if(F=F|0,F>=te.length)throw new TypeError("invalid index");const G=te[Math.floor(te.length*Math.random())],q=[],me=[],w=[];for(const we of te){const xe=W(we,G);xe<0?q.push(we):xe>0?me.push(we):w.push(we)}return F<q.length?H(F,q,W):F<q.length+w.length?w[0]:H(F-(q.length+w.length),me,W)}function O(F,te){const W=[];let G;for(const q of F.slice(0).sort(te))!G||te(G[0],q)!==0?(G=[q],W.push(G)):G.push(q);return W}function y(F){return F.filter(te=>!!te)}function g(F){return!Array.isArray(F)||F.length===0}function C(F){return Array.isArray(F)&&F.length>0}function m(F,te=W=>W){const W=new Set;return F.filter(G=>{const q=te(G);return W.has(q)?!1:(W.add(q),!0)})}function i(F,te){const W=d(F,te);if(W!==-1)return F[W]}function d(F,te){for(let W=F.length-1;W>=0;W--){const G=F[W];if(te(G))return W}return-1}function _(F,te){return F.length>0?F[0]:te}function v(F,te){let W=typeof te=="number"?F:0;typeof te=="number"?W=F:(W=0,te=F);const G=[];if(W<=te)for(let q=W;q<te;q++)G.push(q);else for(let q=W;q>te;q--)G.push(q);return G}function p(F,te,W){const G=F.slice(0,te),q=F.slice(te);return G.concat(W,q)}function L(F,te){const W=F.indexOf(te);W>-1&&(F.splice(W,1),F.unshift(te))}function T(F,te){const W=F.indexOf(te);W>-1&&(F.splice(W,1),F.push(te))}function M(F,te){for(const W of te)F.push(W)}function I(F){return Array.isArray(F)?F:[F]}function P(F,te,W){const G=$(F,te),q=F.length,me=W.length;F.length=q+me;for(let w=q-1;w>=G;w--)F[w+me]=F[w];for(let w=0;w<me;w++)F[w+G]=W[w]}function V(F,te,W,G){const q=$(F,te),me=F.splice(q,W);return P(F,q,G),me}function $(F,te){return te<0?Math.max(te+F.length,0):Math.min(te,F.length)}var re;(function(F){function te(q){return q<0}F.isLessThan=te;function W(q){return q>0}F.isGreaterThan=W;function G(q){return q===0}F.isNeitherLessOrGreaterThan=G,F.greaterThan=1,F.lessThan=-1,F.neitherLessOrGreaterThan=0})(re||(re={}));function ae(F,te){return(W,G)=>te(F(W),F(G))}const ie=(F,te)=>F-te;function se(F,te){if(F.length===0)return;let W=F[0];for(let G=1;G<F.length;G++){const q=F[G];te(q,W)>0&&(W=q)}return W}function X(F,te){if(F.length===0)return;let W=F[0];for(let G=1;G<F.length;G++){const q=F[G];te(q,W)>=0&&(W=q)}return W}function ne(F,te){return se(F,(W,G)=>-te(W,G))}class Q{constructor(te){this.items=te,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(te){let W=this.firstIdx;for(;W<this.items.length&&te(this.items[W]);)W++;const G=W===this.firstIdx?null:this.items.slice(this.firstIdx,W);return this.firstIdx=W,G}takeFromEndWhile(te){let W=this.lastIdx;for(;W>=0&&te(this.items[W]);)W--;const G=W===this.lastIdx?null:this.items.slice(W+1,this.lastIdx+1);return this.lastIdx=W,G}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const te=this.items[this.firstIdx];return this.firstIdx++,te}takeCount(te){const W=this.items.slice(this.firstIdx,this.firstIdx+te);return this.firstIdx+=te,W}}},35146:function(Yt,Ye,s){"use strict";s.d(Ye,{ok:function(){return b}});function b(l,z){if(!l)throw new Error(z?`Assertion failed (${z})`:"Assertion Failed")}},15393:function(Yt,Ye,s){"use strict";s.d(Ye,{Aq:function(){return ae},CR:function(){return $},J8:function(){return H},PG:function(){return O},Ps:function(){return L},To:function(){return P},Ue:function(){return V},Vg:function(){return p},Vs:function(){return v},_F:function(){return T},eP:function(){return y},jT:function(){return re},ne:function(){return i},pY:function(){return I},rH:function(){return _},vp:function(){return d},zS:function(){return se},zh:function(){return M}});var b=s(71050),l=s(17301),z=s(4669),j=s(5976),E=s(1432),Z=function(X,ne,Q,F){function te(W){return W instanceof Q?W:new Q(function(G){G(W)})}return new(Q||(Q=Promise))(function(W,G){function q(we){try{w(F.next(we))}catch(xe){G(xe)}}function me(we){try{w(F.throw(we))}catch(xe){G(xe)}}function w(we){we.done?W(we.value):te(we.value).then(q,me)}w((F=F.apply(X,ne||[])).next())})},B=function(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne=X[Symbol.asyncIterator],Q;return ne?ne.call(X):(X=typeof __values=="function"?__values(X):X[Symbol.iterator](),Q={},F("next"),F("throw"),F("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function F(W){Q[W]=X[W]&&function(G){return new Promise(function(q,me){G=X[W](G),te(q,me,G.done,G.value)})}}function te(W,G,q,me){Promise.resolve(me).then(function(w){W({value:w,done:q})},G)}};function H(X){return!!X&&typeof X.then=="function"}function O(X){const ne=new b.A,Q=X(ne.token),F=new Promise((te,W)=>{const G=ne.token.onCancellationRequested(()=>{G.dispose(),ne.dispose(),W(new l.FU)});Promise.resolve(Q).then(q=>{G.dispose(),ne.dispose(),te(q)},q=>{G.dispose(),ne.dispose(),W(q)})});return new class{cancel(){ne.cancel()}then(te,W){return F.then(te,W)}catch(te){return this.then(void 0,te)}finally(te){return F.finally(te)}}}function y(X,ne,Q){return new Promise((F,te)=>{const W=ne.onCancellationRequested(()=>{W.dispose(),F(Q)});X.then(F,te).finally(()=>W.dispose())})}class g{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(ne){if(this.activePromise){if(this.queuedPromiseFactory=ne,!this.queuedPromise){const Q=()=>{this.queuedPromise=null;const F=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,F};this.queuedPromise=new Promise(F=>{this.activePromise.then(Q,Q).then(F)})}return new Promise((Q,F)=>{this.queuedPromise.then(Q,F)})}return this.activePromise=ne(),new Promise((Q,F)=>{this.activePromise.then(te=>{this.activePromise=null,Q(te)},te=>{this.activePromise=null,F(te)})})}}const C=(X,ne)=>{let Q=!0;const F=setTimeout(()=>{Q=!1,ne()},X);return{isTriggered:()=>Q,dispose:()=>{clearTimeout(F),Q=!1}}},m=X=>{let ne=!0;return queueMicrotask(()=>{ne&&(ne=!1,X())}),{isTriggered:()=>ne,dispose:()=>{ne=!1}}},i=Symbol("MicrotaskDelay");class d{constructor(ne){this.defaultDelay=ne,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(ne,Q=this.defaultDelay){this.task=ne,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((te,W)=>{this.doResolve=te,this.doReject=W}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const te=this.task;return this.task=null,te()}}));const F=()=>{var te;this.deferred=null,(te=this.doResolve)===null||te===void 0||te.call(this,null)};return this.deferred=Q===i?m(F):C(Q,F),this.completionPromise}isTriggered(){var ne;return!!(!((ne=this.deferred)===null||ne===void 0)&&ne.isTriggered())}cancel(){var ne;this.cancelTimeout(),this.completionPromise&&((ne=this.doReject)===null||ne===void 0||ne.call(this,new l.FU),this.completionPromise=null)}cancelTimeout(){var ne;(ne=this.deferred)===null||ne===void 0||ne.dispose(),this.deferred=null}dispose(){this.cancel()}}class _{constructor(ne){this.delayer=new d(ne),this.throttler=new g}trigger(ne,Q){return this.delayer.trigger(()=>this.throttler.queue(ne),Q)}dispose(){this.delayer.dispose()}}function v(X,ne){return ne?new Promise((Q,F)=>{const te=setTimeout(()=>{W.dispose(),Q()},X),W=ne.onCancellationRequested(()=>{clearTimeout(te),W.dispose(),F(new l.FU)})}):O(Q=>v(X,Q))}function p(X,ne=0){const Q=setTimeout(X,ne);return(0,j.OF)(()=>clearTimeout(Q))}function L(X,ne=F=>!!F,Q=null){let F=0;const te=X.length,W=()=>{if(F>=te)return Promise.resolve(Q);const G=X[F++];return Promise.resolve(G()).then(me=>ne(me)?Promise.resolve(me):W())};return W()}class T{constructor(ne,Q){this._token=-1,typeof ne=="function"&&typeof Q=="number"&&this.setIfNotSet(ne,Q)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(ne,Q){this.cancel(),this._token=setTimeout(()=>{this._token=-1,ne()},Q)}setIfNotSet(ne,Q){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,ne()},Q))}}class M{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(ne,Q){this.cancel(),this._token=setInterval(()=>{ne()},Q)}}class I{constructor(ne,Q){this.timeoutToken=-1,this.runner=ne,this.timeout=Q,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(ne=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,ne)}get delay(){return this.timeout}set delay(ne){this.timeout=ne}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var ne;(ne=this.runner)===null||ne===void 0||ne.call(this)}}let P;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?P=X=>{(0,E.fn)(()=>{if(ne)return;const Q=Date.now()+15;X(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,Q-Date.now())}}))});let ne=!1;return{dispose(){ne||(ne=!0)}}}:P=(X,ne)=>{const Q=requestIdleCallback(X,typeof ne=="number"?{timeout:ne}:void 0);let F=!1;return{dispose(){F||(F=!0,cancelIdleCallback(Q))}}}})();class V{constructor(ne){this._didRun=!1,this._executor=()=>{try{this._value=ne()}catch(Q){this._error=Q}finally{this._didRun=!0}},this._handle=P(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class ${constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((ne,Q)=>{this.completeCallback=ne,this.errorCallback=Q})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(ne){return new Promise(Q=>{this.completeCallback(ne),this.resolved=!0,Q()})}cancel(){new Promise(ne=>{this.errorCallback(new l.FU),this.rejected=!0,ne()})}}var re;(function(X){function ne(F){return Z(this,void 0,void 0,function*(){let te;const W=yield Promise.all(F.map(G=>G.then(q=>q,q=>{te||(te=q)})));if(typeof te<"u")throw te;return W})}X.settled=ne;function Q(F){return new Promise((te,W)=>Z(this,void 0,void 0,function*(){try{yield F(te,W)}catch(G){W(G)}}))}X.withAsyncBody=Q})(re||(re={}));class ae{constructor(ne){this._state=0,this._results=[],this._error=null,this._onStateChanged=new z.Q5,queueMicrotask(()=>Z(this,void 0,void 0,function*(){const Q={emitOne:F=>this.emitOne(F),emitMany:F=>this.emitMany(F),reject:F=>this.reject(F)};try{yield Promise.resolve(ne(Q)),this.resolve()}catch(F){this.reject(F)}finally{Q.emitOne=void 0,Q.emitMany=void 0,Q.reject=void 0}}))}static fromArray(ne){return new ae(Q=>{Q.emitMany(ne)})}static fromPromise(ne){return new ae(Q=>Z(this,void 0,void 0,function*(){Q.emitMany(yield ne)}))}static fromPromises(ne){return new ae(Q=>Z(this,void 0,void 0,function*(){yield Promise.all(ne.map(F=>Z(this,void 0,void 0,function*(){return Q.emitOne(yield F)})))}))}static merge(ne){return new ae(Q=>Z(this,void 0,void 0,function*(){yield Promise.all(ne.map(F=>{var te,W;return Z(this,void 0,void 0,function*(){var G,q;try{for(te=B(F);W=yield te.next(),!W.done;){const me=W.value;Q.emitOne(me)}}catch(me){G={error:me}}finally{try{W&&!W.done&&(q=te.return)&&(yield q.call(te))}finally{if(G)throw G.error}}})}))}))}[Symbol.asyncIterator](){let ne=0;return{next:()=>Z(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(ne<this._results.length)return{done:!1,value:this._results[ne++]};if(this._state===1)return{done:!0,value:void 0};yield z.ju.toPromise(this._onStateChanged.event)}while(!0)})}}static map(ne,Q){return new ae(F=>Z(this,void 0,void 0,function*(){var te,W;try{for(var G=B(ne),q;q=yield G.next(),!q.done;){const me=q.value;F.emitOne(Q(me))}}catch(me){te={error:me}}finally{try{q&&!q.done&&(W=G.return)&&(yield W.call(G))}finally{if(te)throw te.error}}}))}map(ne){return ae.map(this,ne)}static filter(ne,Q){return new ae(F=>Z(this,void 0,void 0,function*(){var te,W;try{for(var G=B(ne),q;q=yield G.next(),!q.done;){const me=q.value;Q(me)&&F.emitOne(me)}}catch(me){te={error:me}}finally{try{q&&!q.done&&(W=G.return)&&(yield W.call(G))}finally{if(te)throw te.error}}}))}filter(ne){return ae.filter(this,ne)}static coalesce(ne){return ae.filter(ne,Q=>!!Q)}coalesce(){return ae.coalesce(this)}static toPromise(ne){var Q,F,te,W;return Z(this,void 0,void 0,function*(){const G=[];try{for(Q=B(ne);F=yield Q.next(),!F.done;){const q=F.value;G.push(q)}}catch(q){te={error:q}}finally{try{F&&!F.done&&(W=Q.return)&&(yield W.call(Q))}finally{if(te)throw te.error}}return G})}toPromise(){return ae.toPromise(this)}emitOne(ne){this._state===0&&(this._results.push(ne),this._onStateChanged.fire())}emitMany(ne){this._state===0&&(this._results=this._results.concat(ne),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(ne){this._state===0&&(this._state=2,this._error=ne,this._onStateChanged.fire())}}ae.EMPTY=ae.fromArray([]);class ie extends ae{constructor(ne,Q){super(Q),this._source=ne}cancel(){this._source.cancel()}}function se(X){const ne=new b.A,Q=X(ne.token);return new ie(ne,F=>Z(this,void 0,void 0,function*(){var te,W;const G=ne.token.onCancellationRequested(()=>{G.dispose(),ne.dispose(),F.reject(new l.FU)});try{try{for(var q=B(Q),me;me=yield q.next(),!me.done;){const w=me.value;if(ne.token.isCancellationRequested)return;F.emitOne(w)}}catch(w){te={error:w}}finally{try{me&&!me.done&&(W=q.return)&&(yield W.call(q))}finally{if(te)throw te.error}}G.dispose(),ne.dispose()}catch(w){G.dispose(),ne.dispose(),F.reject(w)}}))}},53060:function(Yt,Ye,s){"use strict";s.d(Ye,{Ag:function(){return B},Cg:function(){return y},KN:function(){return j},Q$:function(){return O},T4:function(){return H},mP:function(){return E},oq:function(){return Z}});var b=s(48764).lW;const l=typeof b<"u";let z;class j{constructor(C){this.buffer=C,this.byteLength=this.buffer.byteLength}static wrap(C){return l&&!b.isBuffer(C)&&(C=b.from(C.buffer,C.byteOffset,C.byteLength)),new j(C)}toString(){return l?this.buffer.toString():(z||(z=new TextDecoder),z.decode(this.buffer))}}function E(g,C){return g[C+0]<<0>>>0|g[C+1]<<8>>>0}function Z(g,C,m){g[m+0]=C&255,C=C>>>8,g[m+1]=C&255}function B(g,C){return g[C]*Math.pow(2,24)+g[C+1]*Math.pow(2,16)+g[C+2]*Math.pow(2,8)+g[C+3]}function H(g,C,m){g[m+3]=C,C=C>>>8,g[m+2]=C,C=C>>>8,g[m+1]=C,C=C>>>8,g[m]=C}function O(g,C){return g[C]}function y(g,C,m){g[m]=C}},701:function(Yt,Ye,s){"use strict";s.d(Ye,{b:function(){return l},t:function(){return b}});class b{constructor(j){this.fn=j,this.lastCache=void 0,this.lastArgKey=void 0}get(j){const E=JSON.stringify(j);return this.lastArgKey!==E&&(this.lastArgKey=E,this.lastCache=this.fn(j)),this.lastCache}}class l{constructor(j){this.fn=j,this._map=new Map}get cachedValues(){return this._map}get(j){if(this._map.has(j))return this._map.get(j);const E=this.fn(j);return this._map.set(j,E),E}}},71050:function(Yt,Ye,s){"use strict";s.d(Ye,{A:function(){return E},T:function(){return z}});var b=s(4669);const l=Object.freeze(function(Z,B){const H=setTimeout(Z.bind(B),0);return{dispose(){clearTimeout(H)}}});var z;(function(Z){function B(H){return H===Z.None||H===Z.Cancelled||H instanceof j?!0:!H||typeof H!="object"?!1:typeof H.isCancellationRequested=="boolean"&&typeof H.onCancellationRequested=="function"}Z.isCancellationToken=B,Z.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:b.ju.None}),Z.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:l})})(z||(z={}));class j{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?l:(this._emitter||(this._emitter=new b.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class E{constructor(B){this._token=void 0,this._parentListener=void 0,this._parentListener=B&&B.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new j),this._token}cancel(){this._token?this._token instanceof j&&this._token.cancel():this._token=z.Cancelled}dispose(B=!1){B&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof j&&this._token.dispose():this._token=z.None}}},73046:function(Yt,Ye,s){"use strict";s.d(Ye,{JL:function(){return b},dT:function(){return z},lA:function(){return l}});function b(j){return j?j.replace(/\$\((.*?)\)/g,(E,Z)=>` ${Z} `).trim():""}class l{constructor(E,Z,B){this.id=E,this.definition=Z,this.description=B,l._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return l._allCodicons}}l._allCodicons=[],l.add=new l("add",{fontCharacter:"\\ea60"}),l.plus=new l("plus",l.add.definition),l.gistNew=new l("gist-new",l.add.definition),l.repoCreate=new l("repo-create",l.add.definition),l.lightbulb=new l("lightbulb",{fontCharacter:"\\ea61"}),l.lightBulb=new l("light-bulb",{fontCharacter:"\\ea61"}),l.repo=new l("repo",{fontCharacter:"\\ea62"}),l.repoDelete=new l("repo-delete",{fontCharacter:"\\ea62"}),l.gistFork=new l("gist-fork",{fontCharacter:"\\ea63"}),l.repoForked=new l("repo-forked",{fontCharacter:"\\ea63"}),l.gitPullRequest=new l("git-pull-request",{fontCharacter:"\\ea64"}),l.gitPullRequestAbandoned=new l("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),l.recordKeys=new l("record-keys",{fontCharacter:"\\ea65"}),l.keyboard=new l("keyboard",{fontCharacter:"\\ea65"}),l.tag=new l("tag",{fontCharacter:"\\ea66"}),l.tagAdd=new l("tag-add",{fontCharacter:"\\ea66"}),l.tagRemove=new l("tag-remove",{fontCharacter:"\\ea66"}),l.person=new l("person",{fontCharacter:"\\ea67"}),l.personFollow=new l("person-follow",{fontCharacter:"\\ea67"}),l.personOutline=new l("person-outline",{fontCharacter:"\\ea67"}),l.personFilled=new l("person-filled",{fontCharacter:"\\ea67"}),l.gitBranch=new l("git-branch",{fontCharacter:"\\ea68"}),l.gitBranchCreate=new l("git-branch-create",{fontCharacter:"\\ea68"}),l.gitBranchDelete=new l("git-branch-delete",{fontCharacter:"\\ea68"}),l.sourceControl=new l("source-control",{fontCharacter:"\\ea68"}),l.mirror=new l("mirror",{fontCharacter:"\\ea69"}),l.mirrorPublic=new l("mirror-public",{fontCharacter:"\\ea69"}),l.star=new l("star",{fontCharacter:"\\ea6a"}),l.starAdd=new l("star-add",{fontCharacter:"\\ea6a"}),l.starDelete=new l("star-delete",{fontCharacter:"\\ea6a"}),l.starEmpty=new l("star-empty",{fontCharacter:"\\ea6a"}),l.comment=new l("comment",{fontCharacter:"\\ea6b"}),l.commentAdd=new l("comment-add",{fontCharacter:"\\ea6b"}),l.alert=new l("alert",{fontCharacter:"\\ea6c"}),l.warning=new l("warning",{fontCharacter:"\\ea6c"}),l.search=new l("search",{fontCharacter:"\\ea6d"}),l.searchSave=new l("search-save",{fontCharacter:"\\ea6d"}),l.logOut=new l("log-out",{fontCharacter:"\\ea6e"}),l.signOut=new l("sign-out",{fontCharacter:"\\ea6e"}),l.logIn=new l("log-in",{fontCharacter:"\\ea6f"}),l.signIn=new l("sign-in",{fontCharacter:"\\ea6f"}),l.eye=new l("eye",{fontCharacter:"\\ea70"}),l.eyeUnwatch=new l("eye-unwatch",{fontCharacter:"\\ea70"}),l.eyeWatch=new l("eye-watch",{fontCharacter:"\\ea70"}),l.circleFilled=new l("circle-filled",{fontCharacter:"\\ea71"}),l.primitiveDot=new l("primitive-dot",{fontCharacter:"\\ea71"}),l.closeDirty=new l("close-dirty",{fontCharacter:"\\ea71"}),l.debugBreakpoint=new l("debug-breakpoint",{fontCharacter:"\\ea71"}),l.debugBreakpointDisabled=new l("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),l.debugHint=new l("debug-hint",{fontCharacter:"\\ea71"}),l.primitiveSquare=new l("primitive-square",{fontCharacter:"\\ea72"}),l.edit=new l("edit",{fontCharacter:"\\ea73"}),l.pencil=new l("pencil",{fontCharacter:"\\ea73"}),l.info=new l("info",{fontCharacter:"\\ea74"}),l.issueOpened=new l("issue-opened",{fontCharacter:"\\ea74"}),l.gistPrivate=new l("gist-private",{fontCharacter:"\\ea75"}),l.gitForkPrivate=new l("git-fork-private",{fontCharacter:"\\ea75"}),l.lock=new l("lock",{fontCharacter:"\\ea75"}),l.mirrorPrivate=new l("mirror-private",{fontCharacter:"\\ea75"}),l.close=new l("close",{fontCharacter:"\\ea76"}),l.removeClose=new l("remove-close",{fontCharacter:"\\ea76"}),l.x=new l("x",{fontCharacter:"\\ea76"}),l.repoSync=new l("repo-sync",{fontCharacter:"\\ea77"}),l.sync=new l("sync",{fontCharacter:"\\ea77"}),l.clone=new l("clone",{fontCharacter:"\\ea78"}),l.desktopDownload=new l("desktop-download",{fontCharacter:"\\ea78"}),l.beaker=new l("beaker",{fontCharacter:"\\ea79"}),l.microscope=new l("microscope",{fontCharacter:"\\ea79"}),l.vm=new l("vm",{fontCharacter:"\\ea7a"}),l.deviceDesktop=new l("device-desktop",{fontCharacter:"\\ea7a"}),l.file=new l("file",{fontCharacter:"\\ea7b"}),l.fileText=new l("file-text",{fontCharacter:"\\ea7b"}),l.more=new l("more",{fontCharacter:"\\ea7c"}),l.ellipsis=new l("ellipsis",{fontCharacter:"\\ea7c"}),l.kebabHorizontal=new l("kebab-horizontal",{fontCharacter:"\\ea7c"}),l.mailReply=new l("mail-reply",{fontCharacter:"\\ea7d"}),l.reply=new l("reply",{fontCharacter:"\\ea7d"}),l.organization=new l("organization",{fontCharacter:"\\ea7e"}),l.organizationFilled=new l("organization-filled",{fontCharacter:"\\ea7e"}),l.organizationOutline=new l("organization-outline",{fontCharacter:"\\ea7e"}),l.newFile=new l("new-file",{fontCharacter:"\\ea7f"}),l.fileAdd=new l("file-add",{fontCharacter:"\\ea7f"}),l.newFolder=new l("new-folder",{fontCharacter:"\\ea80"}),l.fileDirectoryCreate=new l("file-directory-create",{fontCharacter:"\\ea80"}),l.trash=new l("trash",{fontCharacter:"\\ea81"}),l.trashcan=new l("trashcan",{fontCharacter:"\\ea81"}),l.history=new l("history",{fontCharacter:"\\ea82"}),l.clock=new l("clock",{fontCharacter:"\\ea82"}),l.folder=new l("folder",{fontCharacter:"\\ea83"}),l.fileDirectory=new l("file-directory",{fontCharacter:"\\ea83"}),l.symbolFolder=new l("symbol-folder",{fontCharacter:"\\ea83"}),l.logoGithub=new l("logo-github",{fontCharacter:"\\ea84"}),l.markGithub=new l("mark-github",{fontCharacter:"\\ea84"}),l.github=new l("github",{fontCharacter:"\\ea84"}),l.terminal=new l("terminal",{fontCharacter:"\\ea85"}),l.console=new l("console",{fontCharacter:"\\ea85"}),l.repl=new l("repl",{fontCharacter:"\\ea85"}),l.zap=new l("zap",{fontCharacter:"\\ea86"}),l.symbolEvent=new l("symbol-event",{fontCharacter:"\\ea86"}),l.error=new l("error",{fontCharacter:"\\ea87"}),l.stop=new l("stop",{fontCharacter:"\\ea87"}),l.variable=new l("variable",{fontCharacter:"\\ea88"}),l.symbolVariable=new l("symbol-variable",{fontCharacter:"\\ea88"}),l.array=new l("array",{fontCharacter:"\\ea8a"}),l.symbolArray=new l("symbol-array",{fontCharacter:"\\ea8a"}),l.symbolModule=new l("symbol-module",{fontCharacter:"\\ea8b"}),l.symbolPackage=new l("symbol-package",{fontCharacter:"\\ea8b"}),l.symbolNamespace=new l("symbol-namespace",{fontCharacter:"\\ea8b"}),l.symbolObject=new l("symbol-object",{fontCharacter:"\\ea8b"}),l.symbolMethod=new l("symbol-method",{fontCharacter:"\\ea8c"}),l.symbolFunction=new l("symbol-function",{fontCharacter:"\\ea8c"}),l.symbolConstructor=new l("symbol-constructor",{fontCharacter:"\\ea8c"}),l.symbolBoolean=new l("symbol-boolean",{fontCharacter:"\\ea8f"}),l.symbolNull=new l("symbol-null",{fontCharacter:"\\ea8f"}),l.symbolNumeric=new l("symbol-numeric",{fontCharacter:"\\ea90"}),l.symbolNumber=new l("symbol-number",{fontCharacter:"\\ea90"}),l.symbolStructure=new l("symbol-structure",{fontCharacter:"\\ea91"}),l.symbolStruct=new l("symbol-struct",{fontCharacter:"\\ea91"}),l.symbolParameter=new l("symbol-parameter",{fontCharacter:"\\ea92"}),l.symbolTypeParameter=new l("symbol-type-parameter",{fontCharacter:"\\ea92"}),l.symbolKey=new l("symbol-key",{fontCharacter:"\\ea93"}),l.symbolText=new l("symbol-text",{fontCharacter:"\\ea93"}),l.symbolReference=new l("symbol-reference",{fontCharacter:"\\ea94"}),l.goToFile=new l("go-to-file",{fontCharacter:"\\ea94"}),l.symbolEnum=new l("symbol-enum",{fontCharacter:"\\ea95"}),l.symbolValue=new l("symbol-value",{fontCharacter:"\\ea95"}),l.symbolRuler=new l("symbol-ruler",{fontCharacter:"\\ea96"}),l.symbolUnit=new l("symbol-unit",{fontCharacter:"\\ea96"}),l.activateBreakpoints=new l("activate-breakpoints",{fontCharacter:"\\ea97"}),l.archive=new l("archive",{fontCharacter:"\\ea98"}),l.arrowBoth=new l("arrow-both",{fontCharacter:"\\ea99"}),l.arrowDown=new l("arrow-down",{fontCharacter:"\\ea9a"}),l.arrowLeft=new l("arrow-left",{fontCharacter:"\\ea9b"}),l.arrowRight=new l("arrow-right",{fontCharacter:"\\ea9c"}),l.arrowSmallDown=new l("arrow-small-down",{fontCharacter:"\\ea9d"}),l.arrowSmallLeft=new l("arrow-small-left",{fontCharacter:"\\ea9e"}),l.arrowSmallRight=new l("arrow-small-right",{fontCharacter:"\\ea9f"}),l.arrowSmallUp=new l("arrow-small-up",{fontCharacter:"\\eaa0"}),l.arrowUp=new l("arrow-up",{fontCharacter:"\\eaa1"}),l.bell=new l("bell",{fontCharacter:"\\eaa2"}),l.bold=new l("bold",{fontCharacter:"\\eaa3"}),l.book=new l("book",{fontCharacter:"\\eaa4"}),l.bookmark=new l("bookmark",{fontCharacter:"\\eaa5"}),l.debugBreakpointConditionalUnverified=new l("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),l.debugBreakpointConditional=new l("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),l.debugBreakpointConditionalDisabled=new l("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),l.debugBreakpointDataUnverified=new l("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),l.debugBreakpointData=new l("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),l.debugBreakpointDataDisabled=new l("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),l.debugBreakpointLogUnverified=new l("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),l.debugBreakpointLog=new l("debug-breakpoint-log",{fontCharacter:"\\eaab"}),l.debugBreakpointLogDisabled=new l("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),l.briefcase=new l("briefcase",{fontCharacter:"\\eaac"}),l.broadcast=new l("broadcast",{fontCharacter:"\\eaad"}),l.browser=new l("browser",{fontCharacter:"\\eaae"}),l.bug=new l("bug",{fontCharacter:"\\eaaf"}),l.calendar=new l("calendar",{fontCharacter:"\\eab0"}),l.caseSensitive=new l("case-sensitive",{fontCharacter:"\\eab1"}),l.check=new l("check",{fontCharacter:"\\eab2"}),l.checklist=new l("checklist",{fontCharacter:"\\eab3"}),l.chevronDown=new l("chevron-down",{fontCharacter:"\\eab4"}),l.dropDownButton=new l("drop-down-button",l.chevronDown.definition),l.chevronLeft=new l("chevron-left",{fontCharacter:"\\eab5"}),l.chevronRight=new l("chevron-right",{fontCharacter:"\\eab6"}),l.chevronUp=new l("chevron-up",{fontCharacter:"\\eab7"}),l.chromeClose=new l("chrome-close",{fontCharacter:"\\eab8"}),l.chromeMaximize=new l("chrome-maximize",{fontCharacter:"\\eab9"}),l.chromeMinimize=new l("chrome-minimize",{fontCharacter:"\\eaba"}),l.chromeRestore=new l("chrome-restore",{fontCharacter:"\\eabb"}),l.circleOutline=new l("circle-outline",{fontCharacter:"\\eabc"}),l.debugBreakpointUnverified=new l("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),l.circleSlash=new l("circle-slash",{fontCharacter:"\\eabd"}),l.circuitBoard=new l("circuit-board",{fontCharacter:"\\eabe"}),l.clearAll=new l("clear-all",{fontCharacter:"\\eabf"}),l.clippy=new l("clippy",{fontCharacter:"\\eac0"}),l.closeAll=new l("close-all",{fontCharacter:"\\eac1"}),l.cloudDownload=new l("cloud-download",{fontCharacter:"\\eac2"}),l.cloudUpload=new l("cloud-upload",{fontCharacter:"\\eac3"}),l.code=new l("code",{fontCharacter:"\\eac4"}),l.collapseAll=new l("collapse-all",{fontCharacter:"\\eac5"}),l.colorMode=new l("color-mode",{fontCharacter:"\\eac6"}),l.commentDiscussion=new l("comment-discussion",{fontCharacter:"\\eac7"}),l.compareChanges=new l("compare-changes",{fontCharacter:"\\eafd"}),l.creditCard=new l("credit-card",{fontCharacter:"\\eac9"}),l.dash=new l("dash",{fontCharacter:"\\eacc"}),l.dashboard=new l("dashboard",{fontCharacter:"\\eacd"}),l.database=new l("database",{fontCharacter:"\\eace"}),l.debugContinue=new l("debug-continue",{fontCharacter:"\\eacf"}),l.debugDisconnect=new l("debug-disconnect",{fontCharacter:"\\ead0"}),l.debugPause=new l("debug-pause",{fontCharacter:"\\ead1"}),l.debugRestart=new l("debug-restart",{fontCharacter:"\\ead2"}),l.debugStart=new l("debug-start",{fontCharacter:"\\ead3"}),l.debugStepInto=new l("debug-step-into",{fontCharacter:"\\ead4"}),l.debugStepOut=new l("debug-step-out",{fontCharacter:"\\ead5"}),l.debugStepOver=new l("debug-step-over",{fontCharacter:"\\ead6"}),l.debugStop=new l("debug-stop",{fontCharacter:"\\ead7"}),l.debug=new l("debug",{fontCharacter:"\\ead8"}),l.deviceCameraVideo=new l("device-camera-video",{fontCharacter:"\\ead9"}),l.deviceCamera=new l("device-camera",{fontCharacter:"\\eada"}),l.deviceMobile=new l("device-mobile",{fontCharacter:"\\eadb"}),l.diffAdded=new l("diff-added",{fontCharacter:"\\eadc"}),l.diffIgnored=new l("diff-ignored",{fontCharacter:"\\eadd"}),l.diffModified=new l("diff-modified",{fontCharacter:"\\eade"}),l.diffRemoved=new l("diff-removed",{fontCharacter:"\\eadf"}),l.diffRenamed=new l("diff-renamed",{fontCharacter:"\\eae0"}),l.diff=new l("diff",{fontCharacter:"\\eae1"}),l.discard=new l("discard",{fontCharacter:"\\eae2"}),l.editorLayout=new l("editor-layout",{fontCharacter:"\\eae3"}),l.emptyWindow=new l("empty-window",{fontCharacter:"\\eae4"}),l.exclude=new l("exclude",{fontCharacter:"\\eae5"}),l.extensions=new l("extensions",{fontCharacter:"\\eae6"}),l.eyeClosed=new l("eye-closed",{fontCharacter:"\\eae7"}),l.fileBinary=new l("file-binary",{fontCharacter:"\\eae8"}),l.fileCode=new l("file-code",{fontCharacter:"\\eae9"}),l.fileMedia=new l("file-media",{fontCharacter:"\\eaea"}),l.filePdf=new l("file-pdf",{fontCharacter:"\\eaeb"}),l.fileSubmodule=new l("file-submodule",{fontCharacter:"\\eaec"}),l.fileSymlinkDirectory=new l("file-symlink-directory",{fontCharacter:"\\eaed"}),l.fileSymlinkFile=new l("file-symlink-file",{fontCharacter:"\\eaee"}),l.fileZip=new l("file-zip",{fontCharacter:"\\eaef"}),l.files=new l("files",{fontCharacter:"\\eaf0"}),l.filter=new l("filter",{fontCharacter:"\\eaf1"}),l.flame=new l("flame",{fontCharacter:"\\eaf2"}),l.foldDown=new l("fold-down",{fontCharacter:"\\eaf3"}),l.foldUp=new l("fold-up",{fontCharacter:"\\eaf4"}),l.fold=new l("fold",{fontCharacter:"\\eaf5"}),l.folderActive=new l("folder-active",{fontCharacter:"\\eaf6"}),l.folderOpened=new l("folder-opened",{fontCharacter:"\\eaf7"}),l.gear=new l("gear",{fontCharacter:"\\eaf8"}),l.gift=new l("gift",{fontCharacter:"\\eaf9"}),l.gistSecret=new l("gist-secret",{fontCharacter:"\\eafa"}),l.gist=new l("gist",{fontCharacter:"\\eafb"}),l.gitCommit=new l("git-commit",{fontCharacter:"\\eafc"}),l.gitCompare=new l("git-compare",{fontCharacter:"\\eafd"}),l.gitMerge=new l("git-merge",{fontCharacter:"\\eafe"}),l.githubAction=new l("github-action",{fontCharacter:"\\eaff"}),l.githubAlt=new l("github-alt",{fontCharacter:"\\eb00"}),l.globe=new l("globe",{fontCharacter:"\\eb01"}),l.grabber=new l("grabber",{fontCharacter:"\\eb02"}),l.graph=new l("graph",{fontCharacter:"\\eb03"}),l.gripper=new l("gripper",{fontCharacter:"\\eb04"}),l.heart=new l("heart",{fontCharacter:"\\eb05"}),l.home=new l("home",{fontCharacter:"\\eb06"}),l.horizontalRule=new l("horizontal-rule",{fontCharacter:"\\eb07"}),l.hubot=new l("hubot",{fontCharacter:"\\eb08"}),l.inbox=new l("inbox",{fontCharacter:"\\eb09"}),l.issueClosed=new l("issue-closed",{fontCharacter:"\\eba4"}),l.issueReopened=new l("issue-reopened",{fontCharacter:"\\eb0b"}),l.issues=new l("issues",{fontCharacter:"\\eb0c"}),l.italic=new l("italic",{fontCharacter:"\\eb0d"}),l.jersey=new l("jersey",{fontCharacter:"\\eb0e"}),l.json=new l("json",{fontCharacter:"\\eb0f"}),l.kebabVertical=new l("kebab-vertical",{fontCharacter:"\\eb10"}),l.key=new l("key",{fontCharacter:"\\eb11"}),l.law=new l("law",{fontCharacter:"\\eb12"}),l.lightbulbAutofix=new l("lightbulb-autofix",{fontCharacter:"\\eb13"}),l.linkExternal=new l("link-external",{fontCharacter:"\\eb14"}),l.link=new l("link",{fontCharacter:"\\eb15"}),l.listOrdered=new l("list-ordered",{fontCharacter:"\\eb16"}),l.listUnordered=new l("list-unordered",{fontCharacter:"\\eb17"}),l.liveShare=new l("live-share",{fontCharacter:"\\eb18"}),l.loading=new l("loading",{fontCharacter:"\\eb19"}),l.location=new l("location",{fontCharacter:"\\eb1a"}),l.mailRead=new l("mail-read",{fontCharacter:"\\eb1b"}),l.mail=new l("mail",{fontCharacter:"\\eb1c"}),l.markdown=new l("markdown",{fontCharacter:"\\eb1d"}),l.megaphone=new l("megaphone",{fontCharacter:"\\eb1e"}),l.mention=new l("mention",{fontCharacter:"\\eb1f"}),l.milestone=new l("milestone",{fontCharacter:"\\eb20"}),l.mortarBoard=new l("mortar-board",{fontCharacter:"\\eb21"}),l.move=new l("move",{fontCharacter:"\\eb22"}),l.multipleWindows=new l("multiple-windows",{fontCharacter:"\\eb23"}),l.mute=new l("mute",{fontCharacter:"\\eb24"}),l.noNewline=new l("no-newline",{fontCharacter:"\\eb25"}),l.note=new l("note",{fontCharacter:"\\eb26"}),l.octoface=new l("octoface",{fontCharacter:"\\eb27"}),l.openPreview=new l("open-preview",{fontCharacter:"\\eb28"}),l.package_=new l("package",{fontCharacter:"\\eb29"}),l.paintcan=new l("paintcan",{fontCharacter:"\\eb2a"}),l.pin=new l("pin",{fontCharacter:"\\eb2b"}),l.play=new l("play",{fontCharacter:"\\eb2c"}),l.run=new l("run",{fontCharacter:"\\eb2c"}),l.plug=new l("plug",{fontCharacter:"\\eb2d"}),l.preserveCase=new l("preserve-case",{fontCharacter:"\\eb2e"}),l.preview=new l("preview",{fontCharacter:"\\eb2f"}),l.project=new l("project",{fontCharacter:"\\eb30"}),l.pulse=new l("pulse",{fontCharacter:"\\eb31"}),l.question=new l("question",{fontCharacter:"\\eb32"}),l.quote=new l("quote",{fontCharacter:"\\eb33"}),l.radioTower=new l("radio-tower",{fontCharacter:"\\eb34"}),l.reactions=new l("reactions",{fontCharacter:"\\eb35"}),l.references=new l("references",{fontCharacter:"\\eb36"}),l.refresh=new l("refresh",{fontCharacter:"\\eb37"}),l.regex=new l("regex",{fontCharacter:"\\eb38"}),l.remoteExplorer=new l("remote-explorer",{fontCharacter:"\\eb39"}),l.remote=new l("remote",{fontCharacter:"\\eb3a"}),l.remove=new l("remove",{fontCharacter:"\\eb3b"}),l.replaceAll=new l("replace-all",{fontCharacter:"\\eb3c"}),l.replace=new l("replace",{fontCharacter:"\\eb3d"}),l.repoClone=new l("repo-clone",{fontCharacter:"\\eb3e"}),l.repoForcePush=new l("repo-force-push",{fontCharacter:"\\eb3f"}),l.repoPull=new l("repo-pull",{fontCharacter:"\\eb40"}),l.repoPush=new l("repo-push",{fontCharacter:"\\eb41"}),l.report=new l("report",{fontCharacter:"\\eb42"}),l.requestChanges=new l("request-changes",{fontCharacter:"\\eb43"}),l.rocket=new l("rocket",{fontCharacter:"\\eb44"}),l.rootFolderOpened=new l("root-folder-opened",{fontCharacter:"\\eb45"}),l.rootFolder=new l("root-folder",{fontCharacter:"\\eb46"}),l.rss=new l("rss",{fontCharacter:"\\eb47"}),l.ruby=new l("ruby",{fontCharacter:"\\eb48"}),l.saveAll=new l("save-all",{fontCharacter:"\\eb49"}),l.saveAs=new l("save-as",{fontCharacter:"\\eb4a"}),l.save=new l("save",{fontCharacter:"\\eb4b"}),l.screenFull=new l("screen-full",{fontCharacter:"\\eb4c"}),l.screenNormal=new l("screen-normal",{fontCharacter:"\\eb4d"}),l.searchStop=new l("search-stop",{fontCharacter:"\\eb4e"}),l.server=new l("server",{fontCharacter:"\\eb50"}),l.settingsGear=new l("settings-gear",{fontCharacter:"\\eb51"}),l.settings=new l("settings",{fontCharacter:"\\eb52"}),l.shield=new l("shield",{fontCharacter:"\\eb53"}),l.smiley=new l("smiley",{fontCharacter:"\\eb54"}),l.sortPrecedence=new l("sort-precedence",{fontCharacter:"\\eb55"}),l.splitHorizontal=new l("split-horizontal",{fontCharacter:"\\eb56"}),l.splitVertical=new l("split-vertical",{fontCharacter:"\\eb57"}),l.squirrel=new l("squirrel",{fontCharacter:"\\eb58"}),l.starFull=new l("star-full",{fontCharacter:"\\eb59"}),l.starHalf=new l("star-half",{fontCharacter:"\\eb5a"}),l.symbolClass=new l("symbol-class",{fontCharacter:"\\eb5b"}),l.symbolColor=new l("symbol-color",{fontCharacter:"\\eb5c"}),l.symbolCustomColor=new l("symbol-customcolor",{fontCharacter:"\\eb5c"}),l.symbolConstant=new l("symbol-constant",{fontCharacter:"\\eb5d"}),l.symbolEnumMember=new l("symbol-enum-member",{fontCharacter:"\\eb5e"}),l.symbolField=new l("symbol-field",{fontCharacter:"\\eb5f"}),l.symbolFile=new l("symbol-file",{fontCharacter:"\\eb60"}),l.symbolInterface=new l("symbol-interface",{fontCharacter:"\\eb61"}),l.symbolKeyword=new l("symbol-keyword",{fontCharacter:"\\eb62"}),l.symbolMisc=new l("symbol-misc",{fontCharacter:"\\eb63"}),l.symbolOperator=new l("symbol-operator",{fontCharacter:"\\eb64"}),l.symbolProperty=new l("symbol-property",{fontCharacter:"\\eb65"}),l.wrench=new l("wrench",{fontCharacter:"\\eb65"}),l.wrenchSubaction=new l("wrench-subaction",{fontCharacter:"\\eb65"}),l.symbolSnippet=new l("symbol-snippet",{fontCharacter:"\\eb66"}),l.tasklist=new l("tasklist",{fontCharacter:"\\eb67"}),l.telescope=new l("telescope",{fontCharacter:"\\eb68"}),l.textSize=new l("text-size",{fontCharacter:"\\eb69"}),l.threeBars=new l("three-bars",{fontCharacter:"\\eb6a"}),l.thumbsdown=new l("thumbsdown",{fontCharacter:"\\eb6b"}),l.thumbsup=new l("thumbsup",{fontCharacter:"\\eb6c"}),l.tools=new l("tools",{fontCharacter:"\\eb6d"}),l.triangleDown=new l("triangle-down",{fontCharacter:"\\eb6e"}),l.triangleLeft=new l("triangle-left",{fontCharacter:"\\eb6f"}),l.triangleRight=new l("triangle-right",{fontCharacter:"\\eb70"}),l.triangleUp=new l("triangle-up",{fontCharacter:"\\eb71"}),l.twitter=new l("twitter",{fontCharacter:"\\eb72"}),l.unfold=new l("unfold",{fontCharacter:"\\eb73"}),l.unlock=new l("unlock",{fontCharacter:"\\eb74"}),l.unmute=new l("unmute",{fontCharacter:"\\eb75"}),l.unverified=new l("unverified",{fontCharacter:"\\eb76"}),l.verified=new l("verified",{fontCharacter:"\\eb77"}),l.versions=new l("versions",{fontCharacter:"\\eb78"}),l.vmActive=new l("vm-active",{fontCharacter:"\\eb79"}),l.vmOutline=new l("vm-outline",{fontCharacter:"\\eb7a"}),l.vmRunning=new l("vm-running",{fontCharacter:"\\eb7b"}),l.watch=new l("watch",{fontCharacter:"\\eb7c"}),l.whitespace=new l("whitespace",{fontCharacter:"\\eb7d"}),l.wholeWord=new l("whole-word",{fontCharacter:"\\eb7e"}),l.window=new l("window",{fontCharacter:"\\eb7f"}),l.wordWrap=new l("word-wrap",{fontCharacter:"\\eb80"}),l.zoomIn=new l("zoom-in",{fontCharacter:"\\eb81"}),l.zoomOut=new l("zoom-out",{fontCharacter:"\\eb82"}),l.listFilter=new l("list-filter",{fontCharacter:"\\eb83"}),l.listFlat=new l("list-flat",{fontCharacter:"\\eb84"}),l.listSelection=new l("list-selection",{fontCharacter:"\\eb85"}),l.selection=new l("selection",{fontCharacter:"\\eb85"}),l.listTree=new l("list-tree",{fontCharacter:"\\eb86"}),l.debugBreakpointFunctionUnverified=new l("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),l.debugBreakpointFunction=new l("debug-breakpoint-function",{fontCharacter:"\\eb88"}),l.debugBreakpointFunctionDisabled=new l("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),l.debugStackframeActive=new l("debug-stackframe-active",{fontCharacter:"\\eb89"}),l.circleSmallFilled=new l("circle-small-filled",{fontCharacter:"\\eb8a"}),l.debugStackframeDot=new l("debug-stackframe-dot",l.circleSmallFilled.definition),l.debugStackframe=new l("debug-stackframe",{fontCharacter:"\\eb8b"}),l.debugStackframeFocused=new l("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),l.debugBreakpointUnsupported=new l("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),l.symbolString=new l("symbol-string",{fontCharacter:"\\eb8d"}),l.debugReverseContinue=new l("debug-reverse-continue",{fontCharacter:"\\eb8e"}),l.debugStepBack=new l("debug-step-back",{fontCharacter:"\\eb8f"}),l.debugRestartFrame=new l("debug-restart-frame",{fontCharacter:"\\eb90"}),l.callIncoming=new l("call-incoming",{fontCharacter:"\\eb92"}),l.callOutgoing=new l("call-outgoing",{fontCharacter:"\\eb93"}),l.menu=new l("menu",{fontCharacter:"\\eb94"}),l.expandAll=new l("expand-all",{fontCharacter:"\\eb95"}),l.feedback=new l("feedback",{fontCharacter:"\\eb96"}),l.groupByRefType=new l("group-by-ref-type",{fontCharacter:"\\eb97"}),l.ungroupByRefType=new l("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),l.account=new l("account",{fontCharacter:"\\eb99"}),l.bellDot=new l("bell-dot",{fontCharacter:"\\eb9a"}),l.debugConsole=new l("debug-console",{fontCharacter:"\\eb9b"}),l.library=new l("library",{fontCharacter:"\\eb9c"}),l.output=new l("output",{fontCharacter:"\\eb9d"}),l.runAll=new l("run-all",{fontCharacter:"\\eb9e"}),l.syncIgnored=new l("sync-ignored",{fontCharacter:"\\eb9f"}),l.pinned=new l("pinned",{fontCharacter:"\\eba0"}),l.githubInverted=new l("github-inverted",{fontCharacter:"\\eba1"}),l.debugAlt=new l("debug-alt",{fontCharacter:"\\eb91"}),l.serverProcess=new l("server-process",{fontCharacter:"\\eba2"}),l.serverEnvironment=new l("server-environment",{fontCharacter:"\\eba3"}),l.pass=new l("pass",{fontCharacter:"\\eba4"}),l.stopCircle=new l("stop-circle",{fontCharacter:"\\eba5"}),l.playCircle=new l("play-circle",{fontCharacter:"\\eba6"}),l.record=new l("record",{fontCharacter:"\\eba7"}),l.debugAltSmall=new l("debug-alt-small",{fontCharacter:"\\eba8"}),l.vmConnect=new l("vm-connect",{fontCharacter:"\\eba9"}),l.cloud=new l("cloud",{fontCharacter:"\\ebaa"}),l.merge=new l("merge",{fontCharacter:"\\ebab"}),l.exportIcon=new l("export",{fontCharacter:"\\ebac"}),l.graphLeft=new l("graph-left",{fontCharacter:"\\ebad"}),l.magnet=new l("magnet",{fontCharacter:"\\ebae"}),l.notebook=new l("notebook",{fontCharacter:"\\ebaf"}),l.redo=new l("redo",{fontCharacter:"\\ebb0"}),l.checkAll=new l("check-all",{fontCharacter:"\\ebb1"}),l.pinnedDirty=new l("pinned-dirty",{fontCharacter:"\\ebb2"}),l.passFilled=new l("pass-filled",{fontCharacter:"\\ebb3"}),l.circleLargeFilled=new l("circle-large-filled",{fontCharacter:"\\ebb4"}),l.circleLargeOutline=new l("circle-large-outline",{fontCharacter:"\\ebb5"}),l.combine=new l("combine",{fontCharacter:"\\ebb6"}),l.gather=new l("gather",{fontCharacter:"\\ebb6"}),l.table=new l("table",{fontCharacter:"\\ebb7"}),l.variableGroup=new l("variable-group",{fontCharacter:"\\ebb8"}),l.typeHierarchy=new l("type-hierarchy",{fontCharacter:"\\ebb9"}),l.typeHierarchySub=new l("type-hierarchy-sub",{fontCharacter:"\\ebba"}),l.typeHierarchySuper=new l("type-hierarchy-super",{fontCharacter:"\\ebbb"}),l.gitPullRequestCreate=new l("git-pull-request-create",{fontCharacter:"\\ebbc"}),l.runAbove=new l("run-above",{fontCharacter:"\\ebbd"}),l.runBelow=new l("run-below",{fontCharacter:"\\ebbe"}),l.notebookTemplate=new l("notebook-template",{fontCharacter:"\\ebbf"}),l.debugRerun=new l("debug-rerun",{fontCharacter:"\\ebc0"}),l.workspaceTrusted=new l("workspace-trusted",{fontCharacter:"\\ebc1"}),l.workspaceUntrusted=new l("workspace-untrusted",{fontCharacter:"\\ebc2"}),l.workspaceUnspecified=new l("workspace-unspecified",{fontCharacter:"\\ebc3"}),l.terminalCmd=new l("terminal-cmd",{fontCharacter:"\\ebc4"}),l.terminalDebian=new l("terminal-debian",{fontCharacter:"\\ebc5"}),l.terminalLinux=new l("terminal-linux",{fontCharacter:"\\ebc6"}),l.terminalPowershell=new l("terminal-powershell",{fontCharacter:"\\ebc7"}),l.terminalTmux=new l("terminal-tmux",{fontCharacter:"\\ebc8"}),l.terminalUbuntu=new l("terminal-ubuntu",{fontCharacter:"\\ebc9"}),l.terminalBash=new l("terminal-bash",{fontCharacter:"\\ebca"}),l.arrowSwap=new l("arrow-swap",{fontCharacter:"\\ebcb"}),l.copy=new l("copy",{fontCharacter:"\\ebcc"}),l.personAdd=new l("person-add",{fontCharacter:"\\ebcd"}),l.filterFilled=new l("filter-filled",{fontCharacter:"\\ebce"}),l.wand=new l("wand",{fontCharacter:"\\ebcf"}),l.debugLineByLine=new l("debug-line-by-line",{fontCharacter:"\\ebd0"}),l.inspect=new l("inspect",{fontCharacter:"\\ebd1"}),l.layers=new l("layers",{fontCharacter:"\\ebd2"}),l.layersDot=new l("layers-dot",{fontCharacter:"\\ebd3"}),l.layersActive=new l("layers-active",{fontCharacter:"\\ebd4"}),l.compass=new l("compass",{fontCharacter:"\\ebd5"}),l.compassDot=new l("compass-dot",{fontCharacter:"\\ebd6"}),l.compassActive=new l("compass-active",{fontCharacter:"\\ebd7"}),l.azure=new l("azure",{fontCharacter:"\\ebd8"}),l.issueDraft=new l("issue-draft",{fontCharacter:"\\ebd9"}),l.gitPullRequestClosed=new l("git-pull-request-closed",{fontCharacter:"\\ebda"}),l.gitPullRequestDraft=new l("git-pull-request-draft",{fontCharacter:"\\ebdb"}),l.debugAll=new l("debug-all",{fontCharacter:"\\ebdc"}),l.debugCoverage=new l("debug-coverage",{fontCharacter:"\\ebdd"}),l.runErrors=new l("run-errors",{fontCharacter:"\\ebde"}),l.folderLibrary=new l("folder-library",{fontCharacter:"\\ebdf"}),l.debugContinueSmall=new l("debug-continue-small",{fontCharacter:"\\ebe0"}),l.beakerStop=new l("beaker-stop",{fontCharacter:"\\ebe1"}),l.graphLine=new l("graph-line",{fontCharacter:"\\ebe2"}),l.graphScatter=new l("graph-scatter",{fontCharacter:"\\ebe3"}),l.pieChart=new l("pie-chart",{fontCharacter:"\\ebe4"}),l.bracket=new l("bracket",l.json.definition),l.bracketDot=new l("bracket-dot",{fontCharacter:"\\ebe5"}),l.bracketError=new l("bracket-error",{fontCharacter:"\\ebe6"}),l.lockSmall=new l("lock-small",{fontCharacter:"\\ebe7"}),l.azureDevops=new l("azure-devops",{fontCharacter:"\\ebe8"}),l.verifiedFilled=new l("verified-filled",{fontCharacter:"\\ebe9"}),l.newLine=new l("newline",{fontCharacter:"\\ebea"}),l.layout=new l("layout",{fontCharacter:"\\ebeb"}),l.layoutActivitybarLeft=new l("layout-activitybar-left",{fontCharacter:"\\ebec"}),l.layoutActivitybarRight=new l("layout-activitybar-right",{fontCharacter:"\\ebed"}),l.layoutPanelLeft=new l("layout-panel-left",{fontCharacter:"\\ebee"}),l.layoutPanelCenter=new l("layout-panel-center",{fontCharacter:"\\ebef"}),l.layoutPanelJustify=new l("layout-panel-justify",{fontCharacter:"\\ebf0"}),l.layoutPanelRight=new l("layout-panel-right",{fontCharacter:"\\ebf1"}),l.layoutPanel=new l("layout-panel",{fontCharacter:"\\ebf2"}),l.layoutSidebarLeft=new l("layout-sidebar-left",{fontCharacter:"\\ebf3"}),l.layoutSidebarRight=new l("layout-sidebar-right",{fontCharacter:"\\ebf4"}),l.layoutStatusbar=new l("layout-statusbar",{fontCharacter:"\\ebf5"}),l.layoutMenubar=new l("layout-menubar",{fontCharacter:"\\ebf6"}),l.layoutCentered=new l("layout-centered",{fontCharacter:"\\ebf7"}),l.layoutSidebarRightOff=new l("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),l.layoutPanelOff=new l("layout-panel-off",{fontCharacter:"\\ec01"}),l.layoutSidebarLeftOff=new l("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),l.target=new l("target",{fontCharacter:"\\ebf8"}),l.indent=new l("indent",{fontCharacter:"\\ebf9"}),l.recordSmall=new l("record-small",{fontCharacter:"\\ebfa"}),l.errorSmall=new l("error-small",{fontCharacter:"\\ebfb"}),l.arrowCircleDown=new l("arrow-circle-down",{fontCharacter:"\\ebfc"}),l.arrowCircleLeft=new l("arrow-circle-left",{fontCharacter:"\\ebfd"}),l.arrowCircleRight=new l("arrow-circle-right",{fontCharacter:"\\ebfe"}),l.arrowCircleUp=new l("arrow-circle-up",{fontCharacter:"\\ebff"}),l.heartFilled=new l("heart-filled",{fontCharacter:"\\ec04"}),l.map=new l("map",{fontCharacter:"\\ec05"}),l.mapFilled=new l("map-filled",{fontCharacter:"\\ec06"}),l.circleSmall=new l("circle-small",{fontCharacter:"\\ec07"}),l.bellSlash=new l("bell-slash",{fontCharacter:"\\ec08"}),l.bellSlashDot=new l("bell-slash-dot",{fontCharacter:"\\ec09"}),l.commentUnresolved=new l("comment-unresolved",{fontCharacter:"\\ec0a"}),l.gitPullRequestGoToChanges=new l("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),l.gitPullRequestNewChanges=new l("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),l.dialogError=new l("dialog-error",l.error.definition),l.dialogWarning=new l("dialog-warning",l.warning.definition),l.dialogInfo=new l("dialog-info",l.info.definition),l.dialogClose=new l("dialog-close",l.close.definition),l.treeItemExpanded=new l("tree-item-expanded",l.chevronDown.definition),l.treeFilterOnTypeOn=new l("tree-filter-on-type-on",l.listFilter.definition),l.treeFilterOnTypeOff=new l("tree-filter-on-type-off",l.listSelection.definition),l.treeFilterClear=new l("tree-filter-clear",l.close.definition),l.treeItemLoading=new l("tree-item-loading",l.loading.definition),l.menuSelection=new l("menu-selection",l.check.definition),l.menuSubmenu=new l("menu-submenu",l.chevronRight.definition),l.menuBarMore=new l("menubar-more",l.more.definition),l.scrollbarButtonLeft=new l("scrollbar-button-left",l.triangleLeft.definition),l.scrollbarButtonRight=new l("scrollbar-button-right",l.triangleRight.definition),l.scrollbarButtonUp=new l("scrollbar-button-up",l.triangleUp.definition),l.scrollbarButtonDown=new l("scrollbar-button-down",l.triangleDown.definition),l.toolBarMore=new l("toolbar-more",l.more.definition),l.quickInputBack=new l("quick-input-back",l.arrowLeft.definition);var z;(function(j){j.iconNameSegment="[A-Za-z0-9]+",j.iconNameExpression="[A-Za-z0-9-]+",j.iconModifierExpression="~[A-Za-z]+",j.iconNameCharacter="[A-Za-z0-9~-]";const E=new RegExp(`^(${j.iconNameExpression})(${j.iconModifierExpression})?$`);function Z(O){if(O instanceof l)return["codicon","codicon-"+O.id];const y=E.exec(O.id);if(!y)return Z(l.error);const[,g,C]=y,m=["codicon","codicon-"+g];return C&&m.push("codicon-modifier-"+C.substr(1)),m}j.asClassNameArray=Z;function B(O){return Z(O).join(" ")}j.asClassName=B;function H(O){return"."+Z(O).join(".")}j.asCSSSelector=H})(z||(z={}))},41264:function(Yt,Ye,s){"use strict";s.d(Ye,{Il:function(){return E},VS:function(){return l},tx:function(){return j}});function b(Z,B){const H=Math.pow(10,B);return Math.round(Z*H)/H}class l{constructor(B,H,O,y=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,B))|0,this.g=Math.min(255,Math.max(0,H))|0,this.b=Math.min(255,Math.max(0,O))|0,this.a=b(Math.max(Math.min(1,y),0),3)}static equals(B,H){return B.r===H.r&&B.g===H.g&&B.b===H.b&&B.a===H.a}}class z{constructor(B,H,O,y){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,B),0)|0,this.s=b(Math.max(Math.min(1,H),0),3),this.l=b(Math.max(Math.min(1,O),0),3),this.a=b(Math.max(Math.min(1,y),0),3)}static equals(B,H){return B.h===H.h&&B.s===H.s&&B.l===H.l&&B.a===H.a}static fromRGBA(B){const H=B.r/255,O=B.g/255,y=B.b/255,g=B.a,C=Math.max(H,O,y),m=Math.min(H,O,y);let i=0,d=0;const _=(m+C)/2,v=C-m;if(v>0){switch(d=Math.min(_<=.5?v/(2*_):v/(2-2*_),1),C){case H:i=(O-y)/v+(O<y?6:0);break;case O:i=(y-H)/v+2;break;case y:i=(H-O)/v+4;break}i*=60,i=Math.round(i)}return new z(i,d,_,g)}static _hue2rgb(B,H,O){return O<0&&(O+=1),O>1&&(O-=1),O<1/6?B+(H-B)*6*O:O<1/2?H:O<2/3?B+(H-B)*(2/3-O)*6:B}static toRGBA(B){const H=B.h/360,{s:O,l:y,a:g}=B;let C,m,i;if(O===0)C=m=i=y;else{const d=y<.5?y*(1+O):y+O-y*O,_=2*y-d;C=z._hue2rgb(_,d,H+1/3),m=z._hue2rgb(_,d,H),i=z._hue2rgb(_,d,H-1/3)}return new l(Math.round(C*255),Math.round(m*255),Math.round(i*255),g)}}class j{constructor(B,H,O,y){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,B),0)|0,this.s=b(Math.max(Math.min(1,H),0),3),this.v=b(Math.max(Math.min(1,O),0),3),this.a=b(Math.max(Math.min(1,y),0),3)}static equals(B,H){return B.h===H.h&&B.s===H.s&&B.v===H.v&&B.a===H.a}static fromRGBA(B){const H=B.r/255,O=B.g/255,y=B.b/255,g=Math.max(H,O,y),C=Math.min(H,O,y),m=g-C,i=g===0?0:m/g;let d;return m===0?d=0:g===H?d=((O-y)/m%6+6)%6:g===O?d=(y-H)/m+2:d=(H-O)/m+4,new j(Math.round(d*60),i,g,B.a)}static toRGBA(B){const{h:H,s:O,v:y,a:g}=B,C=y*O,m=C*(1-Math.abs(H/60%2-1)),i=y-C;let[d,_,v]=[0,0,0];return H<60?(d=C,_=m):H<120?(d=m,_=C):H<180?(_=C,v=m):H<240?(_=m,v=C):H<300?(d=m,v=C):H<=360&&(d=C,v=m),d=Math.round((d+i)*255),_=Math.round((_+i)*255),v=Math.round((v+i)*255),new l(d,_,v,g)}}class E{constructor(B){if(B)if(B instanceof l)this.rgba=B;else if(B instanceof z)this._hsla=B,this.rgba=z.toRGBA(B);else if(B instanceof j)this._hsva=B,this.rgba=j.toRGBA(B);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(B){return E.Format.CSS.parseHex(B)||E.red}get hsla(){return this._hsla?this._hsla:z.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:j.fromRGBA(this.rgba)}equals(B){return!!B&&l.equals(this.rgba,B.rgba)&&z.equals(this.hsla,B.hsla)&&j.equals(this.hsva,B.hsva)}getRelativeLuminance(){const B=E._relativeLuminanceForComponent(this.rgba.r),H=E._relativeLuminanceForComponent(this.rgba.g),O=E._relativeLuminanceForComponent(this.rgba.b),y=.2126*B+.7152*H+.0722*O;return b(y,4)}static _relativeLuminanceForComponent(B){const H=B/255;return H<=.03928?H/12.92:Math.pow((H+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(B){const H=this.getRelativeLuminance(),O=B.getRelativeLuminance();return H>O}isDarkerThan(B){const H=this.getRelativeLuminance(),O=B.getRelativeLuminance();return H<O}lighten(B){return new E(new z(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*B,this.hsla.a))}darken(B){return new E(new z(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*B,this.hsla.a))}transparent(B){const{r:H,g:O,b:y,a:g}=this.rgba;return new E(new l(H,O,y,g*B))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new E(new l(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=E.Format.CSS.format(this)),this._toString}static getLighterColor(B,H,O){if(B.isLighterThan(H))return B;O=O||.5;const y=B.getRelativeLuminance(),g=H.getRelativeLuminance();return O=O*(g-y)/g,B.lighten(O)}static getDarkerColor(B,H,O){if(B.isDarkerThan(H))return B;O=O||.5;const y=B.getRelativeLuminance(),g=H.getRelativeLuminance();return O=O*(y-g)/y,B.darken(O)}}E.white=new E(new l(255,255,255,1)),E.black=new E(new l(0,0,0,1)),E.red=new E(new l(255,0,0,1)),E.blue=new E(new l(0,0,255,1)),E.green=new E(new l(0,255,0,1)),E.cyan=new E(new l(0,255,255,1)),E.lightgrey=new E(new l(211,211,211,1)),E.transparent=new E(new l(0,0,0,0)),function(Z){let B;(function(H){let O;(function(y){function g(M){return M.rgba.a===1?`rgb(${M.rgba.r}, ${M.rgba.g}, ${M.rgba.b})`:Z.Format.CSS.formatRGBA(M)}y.formatRGB=g;function C(M){return`rgba(${M.rgba.r}, ${M.rgba.g}, ${M.rgba.b}, ${+M.rgba.a.toFixed(2)})`}y.formatRGBA=C;function m(M){return M.hsla.a===1?`hsl(${M.hsla.h}, ${(M.hsla.s*100).toFixed(2)}%, ${(M.hsla.l*100).toFixed(2)}%)`:Z.Format.CSS.formatHSLA(M)}y.formatHSL=m;function i(M){return`hsla(${M.hsla.h}, ${(M.hsla.s*100).toFixed(2)}%, ${(M.hsla.l*100).toFixed(2)}%, ${M.hsla.a.toFixed(2)})`}y.formatHSLA=i;function d(M){const I=M.toString(16);return I.length!==2?"0"+I:I}function _(M){return`#${d(M.rgba.r)}${d(M.rgba.g)}${d(M.rgba.b)}`}y.formatHex=_;function v(M,I=!1){return I&&M.rgba.a===1?Z.Format.CSS.formatHex(M):`#${d(M.rgba.r)}${d(M.rgba.g)}${d(M.rgba.b)}${d(Math.round(M.rgba.a*255))}`}y.formatHexA=v;function p(M){return M.isOpaque()?Z.Format.CSS.formatHex(M):Z.Format.CSS.formatRGBA(M)}y.format=p;function L(M){const I=M.length;if(I===0||M.charCodeAt(0)!==35)return null;if(I===7){const P=16*T(M.charCodeAt(1))+T(M.charCodeAt(2)),V=16*T(M.charCodeAt(3))+T(M.charCodeAt(4)),$=16*T(M.charCodeAt(5))+T(M.charCodeAt(6));return new Z(new l(P,V,$,1))}if(I===9){const P=16*T(M.charCodeAt(1))+T(M.charCodeAt(2)),V=16*T(M.charCodeAt(3))+T(M.charCodeAt(4)),$=16*T(M.charCodeAt(5))+T(M.charCodeAt(6)),re=16*T(M.charCodeAt(7))+T(M.charCodeAt(8));return new Z(new l(P,V,$,re/255))}if(I===4){const P=T(M.charCodeAt(1)),V=T(M.charCodeAt(2)),$=T(M.charCodeAt(3));return new Z(new l(16*P+P,16*V+V,16*$+$))}if(I===5){const P=T(M.charCodeAt(1)),V=T(M.charCodeAt(2)),$=T(M.charCodeAt(3)),re=T(M.charCodeAt(4));return new Z(new l(16*P+P,16*V+V,16*$+$,(16*re+re)/255))}return null}y.parseHex=L;function T(M){switch(M){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(O=H.CSS||(H.CSS={}))})(B=Z.Format||(Z.Format={}))}(E||(E={}))},49898:function(Yt,Ye,s){"use strict";s.d(Ye,{H:function(){return b}});function b(l,z,j){let E=null,Z=null;if(typeof j.value=="function"?(E="value",Z=j.value,Z.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof j.get=="function"&&(E="get",Z=j.get),!Z)throw new Error("not supported");const B=`$memoize$${z}`;j[E]=function(...H){return this.hasOwnProperty(B)||Object.defineProperty(this,B,{configurable:!1,enumerable:!1,writable:!1,value:Z.apply(this,H)}),this[B]}}},22571:function(Yt,Ye,s){"use strict";s.d(Ye,{Hs:function(){return H},a$:function(){return j}});class b{constructor(y,g,C,m){this.originalStart=y,this.originalLength=g,this.modifiedStart=C,this.modifiedLength=m}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var l=s(89954);class z{constructor(y){this.source=y}getElements(){const y=this.source,g=new Int32Array(y.length);for(let C=0,m=y.length;C<m;C++)g[C]=y.charCodeAt(C);return g}}function j(O,y,g){return new H(new z(O),new z(y)).ComputeDiff(g).changes}class E{static Assert(y,g){if(!y)throw new Error(g)}}class Z{static Copy(y,g,C,m,i){for(let d=0;d<i;d++)C[m+d]=y[g+d]}static Copy2(y,g,C,m,i){for(let d=0;d<i;d++)C[m+d]=y[g+d]}}class B{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new b(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(y,g){this.m_originalStart=Math.min(this.m_originalStart,y),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_originalCount++}AddModifiedElement(y,g){this.m_originalStart=Math.min(this.m_originalStart,y),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class H{constructor(y,g,C=null){this.ContinueProcessingPredicate=C,this._originalSequence=y,this._modifiedSequence=g;const[m,i,d]=H._getElements(y),[_,v,p]=H._getElements(g);this._hasStrings=d&&p,this._originalStringElements=m,this._originalElementsOrHash=i,this._modifiedStringElements=_,this._modifiedElementsOrHash=v,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(y){return y.length>0&&typeof y[0]=="string"}static _getElements(y){const g=y.getElements();if(H._isStringArray(g)){const C=new Int32Array(g.length);for(let m=0,i=g.length;m<i;m++)C[m]=(0,l.Cv)(g[m],0);return[g,C,!0]}return g instanceof Int32Array?[[],g,!1]:[[],new Int32Array(g),!1]}ElementsAreEqual(y,g){return this._originalElementsOrHash[y]!==this._modifiedElementsOrHash[g]?!1:this._hasStrings?this._originalStringElements[y]===this._modifiedStringElements[g]:!0}ElementsAreStrictEqual(y,g){if(!this.ElementsAreEqual(y,g))return!1;const C=H._getStrictElement(this._originalSequence,y),m=H._getStrictElement(this._modifiedSequence,g);return C===m}static _getStrictElement(y,g){return typeof y.getStrictElement=="function"?y.getStrictElement(g):null}OriginalElementsAreEqual(y,g){return this._originalElementsOrHash[y]!==this._originalElementsOrHash[g]?!1:this._hasStrings?this._originalStringElements[y]===this._originalStringElements[g]:!0}ModifiedElementsAreEqual(y,g){return this._modifiedElementsOrHash[y]!==this._modifiedElementsOrHash[g]?!1:this._hasStrings?this._modifiedStringElements[y]===this._modifiedStringElements[g]:!0}ComputeDiff(y){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,y)}_ComputeDiff(y,g,C,m,i){const d=[!1];let _=this.ComputeDiffRecursive(y,g,C,m,d);return i&&(_=this.PrettifyChanges(_)),{quitEarly:d[0],changes:_}}ComputeDiffRecursive(y,g,C,m,i){for(i[0]=!1;y<=g&&C<=m&&this.ElementsAreEqual(y,C);)y++,C++;for(;g>=y&&m>=C&&this.ElementsAreEqual(g,m);)g--,m--;if(y>g||C>m){let T;return C<=m?(E.Assert(y===g+1,"originalStart should only be one more than originalEnd"),T=[new b(y,0,C,m-C+1)]):y<=g?(E.Assert(C===m+1,"modifiedStart should only be one more than modifiedEnd"),T=[new b(y,g-y+1,C,0)]):(E.Assert(y===g+1,"originalStart should only be one more than originalEnd"),E.Assert(C===m+1,"modifiedStart should only be one more than modifiedEnd"),T=[]),T}const d=[0],_=[0],v=this.ComputeRecursionPoint(y,g,C,m,d,_,i),p=d[0],L=_[0];if(v!==null)return v;if(!i[0]){const T=this.ComputeDiffRecursive(y,p,C,L,i);let M=[];return i[0]?M=[new b(p+1,g-(p+1)+1,L+1,m-(L+1)+1)]:M=this.ComputeDiffRecursive(p+1,g,L+1,m,i),this.ConcatenateChanges(T,M)}return[new b(y,g-y+1,C,m-C+1)]}WALKTRACE(y,g,C,m,i,d,_,v,p,L,T,M,I,P,V,$,re,ae){let ie=null,se=null,X=new B,ne=g,Q=C,F=I[0]-$[0]-m,te=-1073741824,W=this.m_forwardHistory.length-1;do{const G=F+y;G===ne||G<Q&&p[G-1]<p[G+1]?(T=p[G+1],P=T-F-m,T<te&&X.MarkNextChange(),te=T,X.AddModifiedElement(T+1,P),F=G+1-y):(T=p[G-1]+1,P=T-F-m,T<te&&X.MarkNextChange(),te=T-1,X.AddOriginalElement(T,P+1),F=G-1-y),W>=0&&(p=this.m_forwardHistory[W],y=p[0],ne=1,Q=p.length-1)}while(--W>=-1);if(ie=X.getReverseChanges(),ae[0]){let G=I[0]+1,q=$[0]+1;if(ie!==null&&ie.length>0){const me=ie[ie.length-1];G=Math.max(G,me.getOriginalEnd()),q=Math.max(q,me.getModifiedEnd())}se=[new b(G,M-G+1,q,V-q+1)]}else{X=new B,ne=d,Q=_,F=I[0]-$[0]-v,te=1073741824,W=re?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const G=F+i;G===ne||G<Q&&L[G-1]>=L[G+1]?(T=L[G+1]-1,P=T-F-v,T>te&&X.MarkNextChange(),te=T+1,X.AddOriginalElement(T+1,P+1),F=G+1-i):(T=L[G-1],P=T-F-v,T>te&&X.MarkNextChange(),te=T,X.AddModifiedElement(T+1,P+1),F=G-1-i),W>=0&&(L=this.m_reverseHistory[W],i=L[0],ne=1,Q=L.length-1)}while(--W>=-1);se=X.getChanges()}return this.ConcatenateChanges(ie,se)}ComputeRecursionPoint(y,g,C,m,i,d,_){let v=0,p=0,L=0,T=0,M=0,I=0;y--,C--,i[0]=0,d[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const P=g-y+(m-C),V=P+1,$=new Int32Array(V),re=new Int32Array(V),ae=m-C,ie=g-y,se=y-C,X=g-m,Q=(ie-ae)%2===0;$[ae]=y,re[ie]=g,_[0]=!1;for(let F=1;F<=P/2+1;F++){let te=0,W=0;L=this.ClipDiagonalBound(ae-F,F,ae,V),T=this.ClipDiagonalBound(ae+F,F,ae,V);for(let q=L;q<=T;q+=2){q===L||q<T&&$[q-1]<$[q+1]?v=$[q+1]:v=$[q-1]+1,p=v-(q-ae)-se;const me=v;for(;v<g&&p<m&&this.ElementsAreEqual(v+1,p+1);)v++,p++;if($[q]=v,v+p>te+W&&(te=v,W=p),!Q&&Math.abs(q-ie)<=F-1&&v>=re[q])return i[0]=v,d[0]=p,me<=re[q]&&F<=1448?this.WALKTRACE(ae,L,T,se,ie,M,I,X,$,re,v,g,i,p,m,d,Q,_):null}const G=(te-y+(W-C)-F)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(te,G))return _[0]=!0,i[0]=te,d[0]=W,G>0&&F<=1448?this.WALKTRACE(ae,L,T,se,ie,M,I,X,$,re,v,g,i,p,m,d,Q,_):(y++,C++,[new b(y,g-y+1,C,m-C+1)]);M=this.ClipDiagonalBound(ie-F,F,ie,V),I=this.ClipDiagonalBound(ie+F,F,ie,V);for(let q=M;q<=I;q+=2){q===M||q<I&&re[q-1]>=re[q+1]?v=re[q+1]-1:v=re[q-1],p=v-(q-ie)-X;const me=v;for(;v>y&&p>C&&this.ElementsAreEqual(v,p);)v--,p--;if(re[q]=v,Q&&Math.abs(q-ae)<=F&&v<=$[q])return i[0]=v,d[0]=p,me>=$[q]&&F<=1448?this.WALKTRACE(ae,L,T,se,ie,M,I,X,$,re,v,g,i,p,m,d,Q,_):null}if(F<=1447){let q=new Int32Array(T-L+2);q[0]=ae-L+1,Z.Copy2($,L,q,1,T-L+1),this.m_forwardHistory.push(q),q=new Int32Array(I-M+2),q[0]=ie-M+1,Z.Copy2(re,M,q,1,I-M+1),this.m_reverseHistory.push(q)}}return this.WALKTRACE(ae,L,T,se,ie,M,I,X,$,re,v,g,i,p,m,d,Q,_)}PrettifyChanges(y){for(let g=0;g<y.length;g++){const C=y[g],m=g<y.length-1?y[g+1].originalStart:this._originalElementsOrHash.length,i=g<y.length-1?y[g+1].modifiedStart:this._modifiedElementsOrHash.length,d=C.originalLength>0,_=C.modifiedLength>0;for(;C.originalStart+C.originalLength<m&&C.modifiedStart+C.modifiedLength<i&&(!d||this.OriginalElementsAreEqual(C.originalStart,C.originalStart+C.originalLength))&&(!_||this.ModifiedElementsAreEqual(C.modifiedStart,C.modifiedStart+C.modifiedLength));){const p=this.ElementsAreStrictEqual(C.originalStart,C.modifiedStart);if(this.ElementsAreStrictEqual(C.originalStart+C.originalLength,C.modifiedStart+C.modifiedLength)&&!p)break;C.originalStart++,C.modifiedStart++}const v=[null];if(g<y.length-1&&this.ChangesOverlap(y[g],y[g+1],v)){y[g]=v[0],y.splice(g+1,1),g--;continue}}for(let g=y.length-1;g>=0;g--){const C=y[g];let m=0,i=0;if(g>0){const T=y[g-1];m=T.originalStart+T.originalLength,i=T.modifiedStart+T.modifiedLength}const d=C.originalLength>0,_=C.modifiedLength>0;let v=0,p=this._boundaryScore(C.originalStart,C.originalLength,C.modifiedStart,C.modifiedLength);for(let T=1;;T++){const M=C.originalStart-T,I=C.modifiedStart-T;if(M<m||I<i||d&&!this.OriginalElementsAreEqual(M,M+C.originalLength)||_&&!this.ModifiedElementsAreEqual(I,I+C.modifiedLength))break;const V=(M===m&&I===i?5:0)+this._boundaryScore(M,C.originalLength,I,C.modifiedLength);V>p&&(p=V,v=T)}C.originalStart-=v,C.modifiedStart-=v;const L=[null];if(g>0&&this.ChangesOverlap(y[g-1],y[g],L)){y[g-1]=L[0],y.splice(g,1),g++;continue}}if(this._hasStrings)for(let g=1,C=y.length;g<C;g++){const m=y[g-1],i=y[g],d=i.originalStart-m.originalStart-m.originalLength,_=m.originalStart,v=i.originalStart+i.originalLength,p=v-_,L=m.modifiedStart,T=i.modifiedStart+i.modifiedLength,M=T-L;if(d<5&&p<20&&M<20){const I=this._findBetterContiguousSequence(_,p,L,M,d);if(I){const[P,V]=I;(P!==m.originalStart+m.originalLength||V!==m.modifiedStart+m.modifiedLength)&&(m.originalLength=P-m.originalStart,m.modifiedLength=V-m.modifiedStart,i.originalStart=P+d,i.modifiedStart=V+d,i.originalLength=v-i.originalStart,i.modifiedLength=T-i.modifiedStart)}}}return y}_findBetterContiguousSequence(y,g,C,m,i){if(g<i||m<i)return null;const d=y+g-i+1,_=C+m-i+1;let v=0,p=0,L=0;for(let T=y;T<d;T++)for(let M=C;M<_;M++){const I=this._contiguousSequenceScore(T,M,i);I>0&&I>v&&(v=I,p=T,L=M)}return v>0?[p,L]:null}_contiguousSequenceScore(y,g,C){let m=0;for(let i=0;i<C;i++){if(!this.ElementsAreEqual(y+i,g+i))return 0;m+=this._originalStringElements[y+i].length}return m}_OriginalIsBoundary(y){return y<=0||y>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[y])}_OriginalRegionIsBoundary(y,g){if(this._OriginalIsBoundary(y)||this._OriginalIsBoundary(y-1))return!0;if(g>0){const C=y+g;if(this._OriginalIsBoundary(C-1)||this._OriginalIsBoundary(C))return!0}return!1}_ModifiedIsBoundary(y){return y<=0||y>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[y])}_ModifiedRegionIsBoundary(y,g){if(this._ModifiedIsBoundary(y)||this._ModifiedIsBoundary(y-1))return!0;if(g>0){const C=y+g;if(this._ModifiedIsBoundary(C-1)||this._ModifiedIsBoundary(C))return!0}return!1}_boundaryScore(y,g,C,m){const i=this._OriginalRegionIsBoundary(y,g)?1:0,d=this._ModifiedRegionIsBoundary(C,m)?1:0;return i+d}ConcatenateChanges(y,g){const C=[];if(y.length===0||g.length===0)return g.length>0?g:y;if(this.ChangesOverlap(y[y.length-1],g[0],C)){const m=new Array(y.length+g.length-1);return Z.Copy(y,0,m,0,y.length-1),m[y.length-1]=C[0],Z.Copy(g,1,m,y.length,g.length-1),m}else{const m=new Array(y.length+g.length);return Z.Copy(y,0,m,0,y.length),Z.Copy(g,0,m,y.length,g.length),m}}ChangesOverlap(y,g,C){if(E.Assert(y.originalStart<=g.originalStart,"Left change is not less than or equal to right change"),E.Assert(y.modifiedStart<=g.modifiedStart,"Left change is not less than or equal to right change"),y.originalStart+y.originalLength>=g.originalStart||y.modifiedStart+y.modifiedLength>=g.modifiedStart){const m=y.originalStart;let i=y.originalLength;const d=y.modifiedStart;let _=y.modifiedLength;return y.originalStart+y.originalLength>=g.originalStart&&(i=g.originalStart+g.originalLength-y.originalStart),y.modifiedStart+y.modifiedLength>=g.modifiedStart&&(_=g.modifiedStart+g.modifiedLength-y.modifiedStart),C[0]=new b(m,i,d,_),!0}else return C[0]=null,!1}ClipDiagonalBound(y,g,C,m){if(y>=0&&y<m)return y;const i=C,d=m-C-1,_=g%2===0;if(y<0){const v=i%2===0;return _===v?0:1}else{const v=d%2===0;return _===v?m-1:m-2}}}},17301:function(Yt,Ye,s){"use strict";s.d(Ye,{B8:function(){return C},Cp:function(){return j},F0:function(){return O},FU:function(){return H},L6:function(){return g},b1:function(){return y},dL:function(){return z},he:function(){return i},n2:function(){return B},ri:function(){return E}});class b{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(_){setTimeout(()=>{throw _.stack?m.isErrorNoTelemetry(_)?new m(_.message+`

`+_.stack):new Error(_.message+`

`+_.stack):_},0)}}emit(_){this.listeners.forEach(v=>{v(_)})}onUnexpectedError(_){this.unexpectedErrorHandler(_),this.emit(_)}onUnexpectedExternalError(_){this.unexpectedErrorHandler(_)}}const l=new b;function z(d){B(d)||l.onUnexpectedError(d)}function j(d){B(d)||l.onUnexpectedExternalError(d)}function E(d){if(d instanceof Error){const{name:_,message:v}=d,p=d.stacktrace||d.stack;return{$isError:!0,name:_,message:v,stack:p,noTelemetry:m.isErrorNoTelemetry(d)}}return d}const Z="Canceled";function B(d){return d instanceof H?!0:d instanceof Error&&d.name===Z&&d.message===Z}class H extends Error{constructor(){super(Z),this.name=this.message}}function O(){const d=new Error(Z);return d.name=d.message,d}function y(d){return d?new Error(`Illegal argument: ${d}`):new Error("Illegal argument")}function g(d){return d?new Error(`Illegal state: ${d}`):new Error("Illegal state")}class C extends Error{constructor(_){super("NotSupported"),_&&(this.message=_)}}class m extends Error{constructor(_){super(_),this.name="ErrorNoTelemetry"}static fromError(_){if(_ instanceof m)return _;const v=new m;return v.message=_.message,v.stack=_.stack,v}static isErrorNoTelemetry(_){return _.name==="ErrorNoTelemetry"}}class i extends Error{constructor(_){super(_||"An unexpected bug occurred."),Object.setPrototypeOf(this,i.prototype);debugger}}},4669:function(Yt,Ye,s){"use strict";s.d(Ye,{D0:function(){return p},E7:function(){return L},F3:function(){return i},K3:function(){return v},Q5:function(){return m},ZD:function(){return T},ju:function(){return B}});var b=s(17301),l=s(5976),z=s(91741),j=s(84013);const E=!1,Z=!1;var B;(function(M){M.None=()=>l.JT.None;function I(Ce){if(Z){const{onListenerDidAdd:Ae}=Ce,$e=g.create();let je=0;Ce.onListenerDidAdd=()=>{++je===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),$e.print()),Ae?.()}}}function P(Ce){return(Ae,$e=null,je)=>{let at=!1,pt;return pt=Ce(bt=>{if(!at)return pt?pt.dispose():at=!0,Ae.call($e,bt)},null,je),at&&pt.dispose(),pt}}M.once=P;function V(Ce,Ae,$e){return X((je,at=null,pt)=>Ce(bt=>je.call(at,Ae(bt)),null,pt),$e)}M.map=V;function $(Ce,Ae,$e){return X((je,at=null,pt)=>Ce(bt=>{Ae(bt),je.call(at,bt)},null,pt),$e)}M.forEach=$;function re(Ce,Ae,$e){return X((je,at=null,pt)=>Ce(bt=>Ae(bt)&&je.call(at,bt),null,pt),$e)}M.filter=re;function ae(Ce){return Ce}M.signal=ae;function ie(...Ce){return(Ae,$e=null,je)=>(0,l.F8)(...Ce.map(at=>at(pt=>Ae.call($e,pt),null,je)))}M.any=ie;function se(Ce,Ae,$e,je){let at=$e;return V(Ce,pt=>(at=Ae(at,pt),at),je)}M.reduce=se;function X(Ce,Ae){let $e;const je={onFirstListenerAdd(){$e=Ce(at.fire,at)},onLastListenerRemove(){$e?.dispose()}};Ae||I(je);const at=new m(je);return Ae?.add(at),at.event}function ne(Ce,Ae,$e=100,je=!1,at,pt){let bt,We,it,pe=0;const ye={leakWarningThreshold:at,onFirstListenerAdd(){bt=Ce(Xt=>{pe++,We=Ae(We,Xt),je&&!it&&(ft.fire(We),We=void 0),clearTimeout(it),it=setTimeout(()=>{const qt=We;We=void 0,it=void 0,(!je||pe>1)&&ft.fire(qt),pe=0},$e)})},onLastListenerRemove(){bt.dispose()}};pt||I(ye);const ft=new m(ye);return pt?.add(ft),ft.event}M.debounce=ne;function Q(Ce,Ae=(je,at)=>je===at,$e){let je=!0,at;return re(Ce,pt=>{const bt=je||!Ae(pt,at);return je=!1,at=pt,bt},$e)}M.latch=Q;function F(Ce,Ae,$e){return[M.filter(Ce,Ae,$e),M.filter(Ce,je=>!Ae(je),$e)]}M.split=F;function te(Ce,Ae=!1,$e=[]){let je=$e.slice(),at=Ce(We=>{je?je.push(We):bt.fire(We)});const pt=()=>{je?.forEach(We=>bt.fire(We)),je=null},bt=new m({onFirstListenerAdd(){at||(at=Ce(We=>bt.fire(We)))},onFirstListenerDidAdd(){je&&(Ae?setTimeout(pt):pt())},onLastListenerRemove(){at&&at.dispose(),at=null}});return bt.event}M.buffer=te;class W{constructor(Ae){this.event=Ae,this.disposables=new l.SL}map(Ae){return new W(V(this.event,Ae,this.disposables))}forEach(Ae){return new W($(this.event,Ae,this.disposables))}filter(Ae){return new W(re(this.event,Ae,this.disposables))}reduce(Ae,$e){return new W(se(this.event,Ae,$e,this.disposables))}latch(){return new W(Q(this.event,void 0,this.disposables))}debounce(Ae,$e=100,je=!1,at){return new W(ne(this.event,Ae,$e,je,at,this.disposables))}on(Ae,$e,je){return this.event(Ae,$e,je)}once(Ae,$e,je){return P(this.event)(Ae,$e,je)}dispose(){this.disposables.dispose()}}function G(Ce){return new W(Ce)}M.chain=G;function q(Ce,Ae,$e=je=>je){const je=(...We)=>bt.fire($e(...We)),at=()=>Ce.on(Ae,je),pt=()=>Ce.removeListener(Ae,je),bt=new m({onFirstListenerAdd:at,onLastListenerRemove:pt});return bt.event}M.fromNodeEventEmitter=q;function me(Ce,Ae,$e=je=>je){const je=(...We)=>bt.fire($e(...We)),at=()=>Ce.addEventListener(Ae,je),pt=()=>Ce.removeEventListener(Ae,je),bt=new m({onFirstListenerAdd:at,onLastListenerRemove:pt});return bt.event}M.fromDOMEventEmitter=me;function w(Ce){return new Promise(Ae=>P(Ce)(Ae))}M.toPromise=w;function we(Ce,Ae){return Ae(void 0),Ce($e=>Ae($e))}M.runAndSubscribe=we;function xe(Ce,Ae){let $e=null;function je(pt){$e?.dispose(),$e=new l.SL,Ae(pt,$e)}je(void 0);const at=Ce(pt=>je(pt));return(0,l.OF)(()=>{at.dispose(),$e?.dispose()})}M.runAndSubscribeWithStore=xe;class Ne{constructor(Ae,$e){this.obs=Ae,this._counter=0,this._hasChanged=!1;const je={onFirstListenerAdd:()=>{Ae.addObserver(this)},onLastListenerRemove:()=>{Ae.removeObserver(this)}};$e||I(je),this.emitter=new m(je),$e&&$e.add(this.emitter)}beginUpdate(Ae){this._counter++}handleChange(Ae,$e){this._hasChanged=!0}endUpdate(Ae){--this._counter===0&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}function Ve(Ce,Ae){return new Ne(Ce,Ae).emitter.event}M.fromObservable=Ve})(B||(B={}));class H{constructor(I){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${I}_${H._idPool++}`}start(I){this._stopWatch=new j.G(!0),this._listenerCount=I}stop(){if(this._stopWatch){const I=this._stopWatch.elapsed();this._elapsedOverall+=I,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${I.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}H._idPool=0;let O=-1;class y{constructor(I,P=Math.random().toString(18).slice(2,5)){this.customThreshold=I,this.name=P,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(I,P){let V=O;if(typeof this.customThreshold=="number"&&(V=this.customThreshold),V<=0||P<V)return;this._stacks||(this._stacks=new Map);const $=this._stacks.get(I.value)||0;if(this._stacks.set(I.value,$+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=V*.5;let re,ae=0;for(const[ie,se]of this._stacks)(!re||ae<se)&&(re=ie,ae=se);console.warn(`[${this.name}] potential listener LEAK detected, having ${P} listeners already. MOST frequent listener (${ae}):`),console.warn(re)}return()=>{const re=this._stacks.get(I.value)||0;this._stacks.set(I.value,re-1)}}}class g{constructor(I){this.value=I}static create(){var I;return new g((I=new Error().stack)!==null&&I!==void 0?I:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class C{constructor(I,P,V){this.callback=I,this.callbackThis=P,this.stack=V,this.subscription=new l.dt}invoke(I){this.callback.call(this.callbackThis,I)}}class m{constructor(I){var P,V;this._disposed=!1,this._options=I,this._leakageMon=O>0?new y(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((P=this._options)===null||P===void 0)&&P._profName?new H(this._options._profName):void 0,this._deliveryQueue=(V=this._options)===null||V===void 0?void 0:V.deliveryQueue}dispose(){var I,P,V,$;if(!this._disposed){if(this._disposed=!0,this._listeners){if(E){const re=Array.from(this._listeners);queueMicrotask(()=>{var ae;for(const ie of re)ie.subscription.isset()&&(ie.subscription.unset(),(ae=ie.stack)===null||ae===void 0||ae.print())})}this._listeners.clear()}(I=this._deliveryQueue)===null||I===void 0||I.clear(this),(V=(P=this._options)===null||P===void 0?void 0:P.onLastListenerRemove)===null||V===void 0||V.call(P),($=this._leakageMon)===null||$===void 0||$.dispose()}}get event(){return this._event||(this._event=(I,P,V)=>{var $,re,ae;this._listeners||(this._listeners=new z.S);const ie=this._listeners.isEmpty();ie&&(!(($=this._options)===null||$===void 0)&&$.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let se,X;this._leakageMon&&this._listeners.size>=30&&(X=g.create(),se=this._leakageMon.check(X,this._listeners.size+1)),E&&(X=X??g.create());const ne=new C(I,P,X),Q=this._listeners.push(ne);ie&&(!((re=this._options)===null||re===void 0)&&re.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),!((ae=this._options)===null||ae===void 0)&&ae.onListenerDidAdd&&this._options.onListenerDidAdd(this,I,P);const F=ne.subscription.set(()=>{se?.(),this._disposed||(Q(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return V instanceof l.SL?V.add(F):Array.isArray(V)&&V.push(F),F}),this._event}fire(I){var P,V;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new d);for(const $ of this._listeners)this._deliveryQueue.push(this,$,I);(P=this._perfMon)===null||P===void 0||P.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(V=this._perfMon)===null||V===void 0||V.stop()}}}class i{constructor(){this._queue=new z.S}get size(){return this._queue.size}push(I,P,V){this._queue.push(new _(I,P,V))}clear(I){const P=new z.S;for(const V of this._queue)V.emitter!==I&&P.push(V);this._queue=P}deliver(){for(;this._queue.size>0;){const I=this._queue.shift();try{I.listener.invoke(I.event)}catch(P){(0,b.dL)(P)}}}}class d extends i{clear(I){this._queue.clear()}}class _{constructor(I,P,V){this.emitter=I,this.listener=P,this.event=V}}class v extends m{constructor(I){super(I),this._isPaused=0,this._eventQueue=new z.S,this._mergeFn=I?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const I=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(I))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(I){this._listeners&&(this._isPaused!==0?this._eventQueue.push(I):super.fire(I))}}class p extends v{constructor(I){var P;super(I),this._delay=(P=I.delay)!==null&&P!==void 0?P:100}fire(I){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(I)}}class L{constructor(){this.buffers=[]}wrapEvent(I){return(P,V,$)=>I(re=>{const ae=this.buffers[this.buffers.length-1];ae?ae.push(()=>P.call(V,re)):P.call(V,re)},void 0,$)}bufferEvents(I){const P=[];this.buffers.push(P);const V=I();return this.buffers.pop(),P.forEach($=>$()),V}}class T{constructor(){this.listening=!1,this.inputEvent=B.None,this.inputEventListener=l.JT.None,this.emitter=new m({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(I){this.inputEvent=I,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=I(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},15527:function(Yt,Ye,s){"use strict";s.d(Ye,{KM:function(){return H},ej:function(){return E},fn:function(){return Z},oP:function(){return y},yj:function(){return B}});var b=s(55336),l=s(1432),z=s(97295);function j(g){return g===47||g===92}function E(g){return g.replace(/[\\/]/g,b.KR.sep)}function Z(g){return g.indexOf("/")===-1&&(g=E(g)),/^[a-zA-Z]:(\/|$)/.test(g)&&(g="/"+g),g}function B(g,C=b.KR.sep){if(!g)return"";const m=g.length,i=g.charCodeAt(0);if(j(i)){if(j(g.charCodeAt(1))&&!j(g.charCodeAt(2))){let _=3;const v=_;for(;_<m&&!j(g.charCodeAt(_));_++);if(v!==_&&!j(g.charCodeAt(_+1))){for(_+=1;_<m;_++)if(j(g.charCodeAt(_)))return g.slice(0,_+1).replace(/[\\/]/g,C)}}return C}else if(O(i)&&g.charCodeAt(1)===58)return j(g.charCodeAt(2))?g.slice(0,2)+C:g.slice(0,2);let d=g.indexOf("://");if(d!==-1){for(d+=3;d<m;d++)if(j(g.charCodeAt(d)))return g.slice(0,d+1)}return""}function H(g,C,m,i=b.ir){if(g===C)return!0;if(!g||!C||C.length>g.length)return!1;if(m){if(!(0,z.ok)(g,C))return!1;if(C.length===g.length)return!0;let _=C.length;return C.charAt(C.length-1)===i&&_--,g.charAt(_)===i}return C.charAt(C.length-1)!==i&&(C+=i),g.indexOf(C)===0}function O(g){return g>=65&&g<=90||g>=97&&g<=122}function y(g,C=l.ED){return C?O(g.charCodeAt(0))&&g.charCodeAt(1)===58:!1}},75392:function(Yt,Ye,s){"use strict";s.d(Ye,{CL:function(){return bt},EW:function(){return it},Ji:function(){return E},KZ:function(){return re},Oh:function(){return Q},Sy:function(){return H},ir:function(){return B},jB:function(){return F},l7:function(){return ft},mB:function(){return te},mX:function(){return We},or:function(){return z}});var b=s(43702),l=s(97295);function z(...Ft){return function(Ot,Mt){for(let ni=0,Gt=Ft.length;ni<Gt;ni++){const Fe=Ft[ni](Ot,Mt);if(Fe)return Fe}return null}}const j=Z.bind(void 0,!1),E=Z.bind(void 0,!0);function Z(Ft,Ot,Mt){if(!Mt||Mt.length<Ot.length)return null;let ni;return Ft?ni=l.ok(Mt,Ot):ni=Mt.indexOf(Ot)===0,ni?Ot.length>0?[{start:0,end:Ot.length}]:[]:null}function B(Ft,Ot){const Mt=Ot.toLowerCase().indexOf(Ft.toLowerCase());return Mt===-1?null:[{start:Mt,end:Mt+Ft.length}]}function H(Ft,Ot){return O(Ft.toLowerCase(),Ot.toLowerCase(),0,0)}function O(Ft,Ot,Mt,ni){if(Mt===Ft.length)return[];if(ni===Ot.length)return null;if(Ft[Mt]===Ot[ni]){let Gt=null;return(Gt=O(Ft,Ot,Mt+1,ni+1))?p({start:ni,end:ni+1},Gt):null}return O(Ft,Ot,Mt,ni+1)}function y(Ft){return 97<=Ft&&Ft<=122}function g(Ft){return 65<=Ft&&Ft<=90}function C(Ft){return 48<=Ft&&Ft<=57}function m(Ft){return Ft===32||Ft===9||Ft===10||Ft===13}const i=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(Ft=>i.add(Ft.charCodeAt(0)));function d(Ft){return m(Ft)||i.has(Ft)}function _(Ft,Ot){return Ft===Ot||d(Ft)&&d(Ot)}function v(Ft){return y(Ft)||g(Ft)||C(Ft)}function p(Ft,Ot){return Ot.length===0?Ot=[Ft]:Ft.end===Ot[0].start?Ot[0].start=Ft.start:Ot.unshift(Ft),Ot}function L(Ft,Ot){for(let Mt=Ot;Mt<Ft.length;Mt++){const ni=Ft.charCodeAt(Mt);if(g(ni)||C(ni)||Mt>0&&!v(Ft.charCodeAt(Mt-1)))return Mt}return Ft.length}function T(Ft,Ot,Mt,ni){if(Mt===Ft.length)return[];if(ni===Ot.length)return null;if(Ft[Mt]!==Ot[ni].toLowerCase())return null;{let Gt=null,Fe=ni+1;for(Gt=T(Ft,Ot,Mt+1,ni+1);!Gt&&(Fe=L(Ot,Fe))<Ot.length;)Gt=T(Ft,Ot,Mt+1,Fe),Fe++;return Gt===null?null:p({start:ni,end:ni+1},Gt)}}function M(Ft){let Ot=0,Mt=0,ni=0,Gt=0,Fe=0;for(let Nt=0;Nt<Ft.length;Nt++)Fe=Ft.charCodeAt(Nt),g(Fe)&&Ot++,y(Fe)&&Mt++,v(Fe)&&ni++,C(Fe)&&Gt++;const Ge=Ot/Ft.length,Te=Mt/Ft.length,Ke=ni/Ft.length,ut=Gt/Ft.length;return{upperPercent:Ge,lowerPercent:Te,alphaPercent:Ke,numericPercent:ut}}function I(Ft){const{upperPercent:Ot,lowerPercent:Mt}=Ft;return Mt===0&&Ot>.6}function P(Ft){const{upperPercent:Ot,lowerPercent:Mt,alphaPercent:ni,numericPercent:Gt}=Ft;return Mt>.2&&Ot<.8&&ni>.6&&Gt<.2}function V(Ft){let Ot=0,Mt=0,ni=0,Gt=0;for(let Fe=0;Fe<Ft.length;Fe++)ni=Ft.charCodeAt(Fe),g(ni)&&Ot++,y(ni)&&Mt++,m(ni)&&Gt++;return(Ot===0||Mt===0)&&Gt===0?Ft.length<=30:Ot<=5}function $(Ft,Ot){if(!Ot||(Ot=Ot.trim(),Ot.length===0)||!V(Ft)||Ot.length>60)return null;const Mt=M(Ot);if(!P(Mt)){if(!I(Mt))return null;Ot=Ot.toLowerCase()}let ni=null,Gt=0;for(Ft=Ft.toLowerCase();Gt<Ot.length&&(ni=T(Ft,Ot,0,Gt))===null;)Gt=L(Ot,Gt+1);return ni}function re(Ft,Ot,Mt=!1){if(!Ot||Ot.length===0)return null;let ni=null,Gt=0;for(Ft=Ft.toLowerCase(),Ot=Ot.toLowerCase();Gt<Ot.length&&(ni=ae(Ft,Ot,0,Gt,Mt))===null;)Gt=ie(Ot,Gt+1);return ni}function ae(Ft,Ot,Mt,ni,Gt){if(Mt===Ft.length)return[];if(ni===Ot.length)return null;if(_(Ft.charCodeAt(Mt),Ot.charCodeAt(ni))){let Fe=null,Ge=ni+1;if(Fe=ae(Ft,Ot,Mt+1,ni+1,Gt),!Gt)for(;!Fe&&(Ge=ie(Ot,Ge))<Ot.length;)Fe=ae(Ft,Ot,Mt+1,Ge,Gt),Ge++;return Fe===null?null:p({start:ni,end:ni+1},Fe)}else return null}function ie(Ft,Ot){for(let Mt=Ot;Mt<Ft.length;Mt++)if(d(Ft.charCodeAt(Mt))||Mt>0&&d(Ft.charCodeAt(Mt-1)))return Mt;return Ft.length}const se=z(E,$,B),X=z(E,$,H),ne=new b.z6(1e4);function Q(Ft,Ot,Mt=!1){if(typeof Ft!="string"||typeof Ot!="string")return null;let ni=ne.get(Ft);ni||(ni=new RegExp(l.un(Ft),"i"),ne.set(Ft,ni));const Gt=ni.exec(Ot);return Gt?[{start:Gt.index,end:Gt.index+Gt[0].length}]:Mt?X(Ft,Ot):se(Ft,Ot)}function F(Ft,Ot,Mt,ni,Gt,Fe){const Ge=Math.min(13,Ft.length);for(;Mt<Ge;Mt++){const Te=it(Ft,Ot,Mt,ni,Gt,Fe,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(Te)return Te}return[0,Fe]}function te(Ft){if(typeof Ft>"u")return[];const Ot=[],Mt=Ft[1];for(let ni=Ft.length-1;ni>1;ni--){const Gt=Ft[ni]+Mt,Fe=Ot[Ot.length-1];Fe&&Fe.end===Gt?Fe.end=Gt+1:Ot.push({start:Gt,end:Gt+1})}return Ot}const W=128;function G(){const Ft=[],Ot=[];for(let Mt=0;Mt<=W;Mt++)Ot[Mt]=0;for(let Mt=0;Mt<=W;Mt++)Ft.push(Ot.slice(0));return Ft}function q(Ft){const Ot=[];for(let Mt=0;Mt<=Ft;Mt++)Ot[Mt]=0;return Ot}const me=q(2*W),w=q(2*W),we=G(),xe=G(),Ne=G(),Ve=!1;function Ce(Ft,Ot,Mt,ni,Gt){function Fe(Te,Ke,ut=" "){for(;Te.length<Ke;)Te=ut+Te;return Te}let Ge=` |   |${ni.split("").map(Te=>Fe(Te,3)).join("|")}
`;for(let Te=0;Te<=Mt;Te++)Te===0?Ge+=" |":Ge+=`${Ot[Te-1]}|`,Ge+=Ft[Te].slice(0,Gt+1).map(Ke=>Fe(Ke.toString(),3)).join("|")+`
`;return Ge}function Ae(Ft,Ot,Mt,ni){Ft=Ft.substr(Ot),Mt=Mt.substr(ni),console.log(Ce(xe,Ft,Ft.length,Mt,Mt.length)),console.log(Ce(Ne,Ft,Ft.length,Mt,Mt.length)),console.log(Ce(we,Ft,Ft.length,Mt,Mt.length))}function $e(Ft,Ot){if(Ot<0||Ot>=Ft.length)return!1;const Mt=Ft.codePointAt(Ot);switch(Mt){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!l.C8(Mt)}}function je(Ft,Ot){if(Ot<0||Ot>=Ft.length)return!1;switch(Ft.charCodeAt(Ot)){case 32:case 9:return!0;default:return!1}}function at(Ft,Ot,Mt){return Ot[Ft]!==Mt[Ft]}function pt(Ft,Ot,Mt,ni,Gt,Fe,Ge=!1){for(;Ot<Mt&&Gt<Fe;)Ft[Ot]===ni[Gt]&&(Ge&&(me[Ot]=Gt),Ot+=1),Gt+=1;return Ot===Mt}var bt;(function(Ft){Ft.Default=[-100,0];function Ot(Mt){return!Mt||Mt.length===2&&Mt[0]===-100&&Mt[1]===0}Ft.isDefault=Ot})(bt||(bt={}));class We{constructor(Ot,Mt){this.firstMatchCanBeWeak=Ot,this.boostFullMatch=Mt}}We.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function it(Ft,Ot,Mt,ni,Gt,Fe,Ge=We.default){const Te=Ft.length>W?W:Ft.length,Ke=ni.length>W?W:ni.length;if(Mt>=Te||Fe>=Ke||Te-Mt>Ke-Fe||!pt(Ot,Mt,Te,Gt,Fe,Ke,!0))return;pe(Te,Ke,Mt,Fe,Ot,Gt);let ut=1,Nt=1,Be=Mt,Ze=Fe;const wt=[!1];for(ut=1,Be=Mt;Be<Te;ut++,Be++){const Xe=me[Be],Lt=w[Be],mi=Be+1<Te?w[Be+1]:Ke;for(Nt=Xe-Fe+1,Ze=Xe;Ze<mi;Nt++,Ze++){let jt=Number.MIN_SAFE_INTEGER,ki=!1;Ze<=Lt&&(jt=ye(Ft,Ot,Be,Mt,ni,Gt,Ze,Ke,Fe,we[ut-1][Nt-1]===0,wt));let Pi=0;jt!==Number.MAX_SAFE_INTEGER&&(ki=!0,Pi=jt+xe[ut-1][Nt-1]);const gt=Ze>Xe,St=gt?xe[ut][Nt-1]+(we[ut][Nt-1]>0?-5:0):0,ii=Ze>Xe+1&&we[ut][Nt-1]>0,Ri=ii?xe[ut][Nt-2]+(we[ut][Nt-2]>0?-5:0):0;if(ii&&(!gt||Ri>=St)&&(!ki||Ri>=Pi))xe[ut][Nt]=Ri,Ne[ut][Nt]=3,we[ut][Nt]=0;else if(gt&&(!ki||St>=Pi))xe[ut][Nt]=St,Ne[ut][Nt]=2,we[ut][Nt]=0;else if(ki)xe[ut][Nt]=Pi,Ne[ut][Nt]=1,we[ut][Nt]=we[ut-1][Nt-1]+1;else throw new Error("not possible")}}if(Ve&&Ae(Ft,Mt,ni,Fe),!wt[0]&&!Ge.firstMatchCanBeWeak)return;ut--,Nt--;const $t=[xe[ut][Nt],Fe];let _t=0,Jt=0;for(;ut>=1;){let Xe=Nt;do{const Lt=Ne[ut][Xe];if(Lt===3)Xe=Xe-2;else if(Lt===2)Xe=Xe-1;else break}while(Xe>=1);_t>1&&Ot[Mt+ut-1]===Gt[Fe+Nt-1]&&!at(Xe+Fe-1,ni,Gt)&&_t+1>we[ut][Xe]&&(Xe=Nt),Xe===Nt?_t++:_t=1,Jt||(Jt=Xe),ut--,Nt=Xe-1,$t.push(Nt)}Ke===Te&&Ge.boostFullMatch&&($t[0]+=2);const Zt=Jt-Te;return $t[0]-=Zt,$t}function pe(Ft,Ot,Mt,ni,Gt,Fe){let Ge=Ft-1,Te=Ot-1;for(;Ge>=Mt&&Te>=ni;)Gt[Ge]===Fe[Te]&&(w[Ge]=Te,Ge--),Te--}function ye(Ft,Ot,Mt,ni,Gt,Fe,Ge,Te,Ke,ut,Nt){if(Ot[Mt]!==Fe[Ge])return Number.MIN_SAFE_INTEGER;let Be=1,Ze=!1;return Ge===Mt-ni?Be=Ft[Mt]===Gt[Ge]?7:5:at(Ge,Gt,Fe)&&(Ge===0||!at(Ge-1,Gt,Fe))?(Be=Ft[Mt]===Gt[Ge]?7:5,Ze=!0):$e(Fe,Ge)&&(Ge===0||!$e(Fe,Ge-1))?Be=5:($e(Fe,Ge-1)||je(Fe,Ge-1))&&(Be=5,Ze=!0),Be>1&&Mt===ni&&(Nt[0]=!0),Ze||(Ze=at(Ge,Gt,Fe)||$e(Fe,Ge-1)||je(Fe,Ge-1)),Mt===ni?Ge>Ke&&(Be-=Ze?3:5):ut?Be+=Ze?2:0:Be+=Ze?0:1,Ge+1===Te&&(Be-=Ze?3:5),Be}function ft(Ft,Ot,Mt,ni,Gt,Fe,Ge){return Xt(Ft,Ot,Mt,ni,Gt,Fe,!0,Ge)}function Xt(Ft,Ot,Mt,ni,Gt,Fe,Ge,Te){let Ke=it(Ft,Ot,Mt,ni,Gt,Fe,Te);if(Ke&&!Ge)return Ke;if(Ft.length>=3){const ut=Math.min(7,Ft.length-1);for(let Nt=Mt+1;Nt<ut;Nt++){const Be=qt(Ft,Nt);if(Be){const Ze=it(Be,Be.toLowerCase(),Mt,ni,Gt,Fe,Te);Ze&&(Ze[0]-=3,(!Ke||Ze[0]>Ke[0])&&(Ke=Ze))}}}return Ke}function qt(Ft,Ot){if(Ot+1>=Ft.length)return;const Mt=Ft[Ot],ni=Ft[Ot+1];if(Mt!==ni)return Ft.slice(0,Ot)+ni+Mt+Ft.slice(Ot+2)}},88289:function(Yt,Ye,s){"use strict";s.d(Ye,{I:function(){return b}});function b(l){const z=this;let j=!1,E;return function(){return j||(j=!0,E=l.apply(z,arguments)),E}}},89954:function(Yt,Ye,s){"use strict";s.d(Ye,{Cv:function(){return Z},SP:function(){return z},vp:function(){return l},yP:function(){return m}});var b=s(97295);function l(i){return z(i,0)}function z(i,d){switch(typeof i){case"object":return i===null?j(349,d):Array.isArray(i)?B(i,d):H(i,d);case"string":return Z(i,d);case"boolean":return E(i,d);case"number":return j(i,d);case"undefined":return j(937,d);default:return j(617,d)}}function j(i,d){return(d<<5)-d+i|0}function E(i,d){return j(i?433:863,d)}function Z(i,d){d=j(149417,d);for(let _=0,v=i.length;_<v;_++)d=j(i.charCodeAt(_),d);return d}function B(i,d){return d=j(104579,d),i.reduce((_,v)=>z(v,_),d)}function H(i,d){return d=j(181387,d),Object.keys(i).sort().reduce((_,v)=>(_=Z(v,_),z(i[v],_)),d)}function O(i,d,_=32){const v=_-d,p=~((1<<v)-1);return(i<<d|(p&i)>>>v)>>>0}function y(i,d=0,_=i.byteLength,v=0){for(let p=0;p<_;p++)i[d+p]=v}function g(i,d,_="0"){for(;i.length<d;)i=_+i;return i}function C(i,d=32){return i instanceof ArrayBuffer?Array.from(new Uint8Array(i)).map(_=>_.toString(16).padStart(2,"0")).join(""):g((i>>>0).toString(16),d/4)}class m{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(d){const _=d.length;if(_===0)return;const v=this._buff;let p=this._buffLen,L=this._leftoverHighSurrogate,T,M;for(L!==0?(T=L,M=-1,L=0):(T=d.charCodeAt(0),M=0);;){let I=T;if(b.ZG(T))if(M+1<_){const P=d.charCodeAt(M+1);b.YK(P)?(M++,I=b.rL(T,P)):I=65533}else{L=T;break}else b.YK(T)&&(I=65533);if(p=this._push(v,p,I),M++,M<_)T=d.charCodeAt(M);else break}this._buffLen=p,this._leftoverHighSurrogate=L}_push(d,_,v){return v<128?d[_++]=v:v<2048?(d[_++]=192|(v&1984)>>>6,d[_++]=128|(v&63)>>>0):v<65536?(d[_++]=224|(v&61440)>>>12,d[_++]=128|(v&4032)>>>6,d[_++]=128|(v&63)>>>0):(d[_++]=240|(v&1835008)>>>18,d[_++]=128|(v&258048)>>>12,d[_++]=128|(v&4032)>>>6,d[_++]=128|(v&63)>>>0),_>=64&&(this._step(),_-=64,this._totalLen+=64,d[0]=d[64],d[1]=d[65],d[2]=d[66]),_}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),C(this._h0)+C(this._h1)+C(this._h2)+C(this._h3)+C(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,y(this._buff,this._buffLen),this._buffLen>56&&(this._step(),y(this._buff));const d=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(d/4294967296),!1),this._buffDV.setUint32(60,d%4294967296,!1),this._step()}_step(){const d=m._bigBlock32,_=this._buffDV;for(let $=0;$<64;$+=4)d.setUint32($,_.getUint32($,!1),!1);for(let $=64;$<320;$+=4)d.setUint32($,O(d.getUint32($-12,!1)^d.getUint32($-32,!1)^d.getUint32($-56,!1)^d.getUint32($-64,!1),1),!1);let v=this._h0,p=this._h1,L=this._h2,T=this._h3,M=this._h4,I,P,V;for(let $=0;$<80;$++)$<20?(I=p&L|~p&T,P=1518500249):$<40?(I=p^L^T,P=1859775393):$<60?(I=p&L|p&T|L&T,P=2400959708):(I=p^L^T,P=3395469782),V=O(v,5)+I+M+P+d.getUint32($*4,!1)&4294967295,M=T,T=L,L=O(p,30),p=v,v=V;this._h0=this._h0+v&4294967295,this._h1=this._h1+p&4294967295,this._h2=this._h2+L&4294967295,this._h3=this._h3+T&4294967295,this._h4=this._h4+M&4294967295}}m._bigBlock32=new DataView(new ArrayBuffer(320))},59365:function(Yt,Ye,s){"use strict";s.d(Ye,{CP:function(){return E},Fr:function(){return Z},W5:function(){return j},d9:function(){return H},oR:function(){return O},v1:function(){return y}});var b=s(17301),l=s(21212),z=s(97295);class j{constructor(C="",m=!1){var i,d,_;if(this.value=C,typeof this.value!="string")throw(0,b.b1)("value");typeof m=="boolean"?(this.isTrusted=m,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(i=m.isTrusted)!==null&&i!==void 0?i:void 0,this.supportThemeIcons=(d=m.supportThemeIcons)!==null&&d!==void 0?d:!1,this.supportHtml=(_=m.supportHtml)!==null&&_!==void 0?_:!1)}appendText(C,m=0){return this.value+=B(this.supportThemeIcons?(0,l.Qo)(C):C).replace(/([ \t]+)/g,(i,d)=>"&nbsp;".repeat(d.length)).replace(/\>/gm,"\\>").replace(/\n/g,m===1?`\\
`:`

`),this}appendMarkdown(C){return this.value+=C,this}appendCodeblock(C,m){return this.value+="\n```",this.value+=C,this.value+=`
`,this.value+=m,this.value+="\n```\n",this}appendLink(C,m,i){return this.value+="[",this.value+=this._escape(m,"]"),this.value+="](",this.value+=this._escape(String(C),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(C,m){const i=new RegExp((0,z.ec)(m),"g");return C.replace(i,(d,_)=>C.charAt(_-1)!=="\\"?`\\${d}`:d)}}function E(g){return Z(g)?!g.value:Array.isArray(g)?g.every(E):!0}function Z(g){return g instanceof j?!0:g&&typeof g=="object"?typeof g.value=="string"&&(typeof g.isTrusted=="boolean"||g.isTrusted===void 0)&&(typeof g.supportThemeIcons=="boolean"||g.supportThemeIcons===void 0):!1}function B(g){return g.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function H(g){return g.replace(/"/g,"&quot;")}function O(g){return g&&g.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function y(g){const C=[],m=g.split("|").map(d=>d.trim());g=m[0];const i=m[1];if(i){const d=/height=(\d+)/.exec(i),_=/width=(\d+)/.exec(i),v=d?d[1]:"",p=_?_[1]:"",L=isFinite(parseInt(p)),T=isFinite(parseInt(v));L&&C.push(`width="${p}"`),T&&C.push(`height="${v}"`)}return{href:g,dimensions:C}}},21212:function(Yt,Ye,s){"use strict";s.d(Ye,{Gt:function(){return d},Ho:function(){return m},Qo:function(){return H},f$:function(){return y},x$:function(){return C}});var b=s(73046),l=s(75392),z=s(97295);const j="$(",E=new RegExp(`\\$\\(${b.dT.iconNameExpression}(?:${b.dT.iconModifierExpression})?\\)`,"g"),Z=new RegExp(b.dT.iconNameCharacter),B=new RegExp(`(\\\\)?${E.source}`,"g");function H(_){return _.replace(B,(v,p)=>p?v:`\\${v}`)}const O=new RegExp(`\\\\${E.source}`,"g");function y(_){return _.replace(O,v=>`\\${v}`)}const g=new RegExp(`(\\s)?(\\\\)?${E.source}(\\s)?`,"g");function C(_){return _.indexOf(j)===-1?_:_.replace(g,(v,p,L,T)=>L?v:p||T||"")}function m(_){const v=_.indexOf(j);return v===-1?{text:_}:i(_,v)}function i(_,v){const p=[];let L="";function T(ie){if(ie){L+=ie;for(const se of ie)p.push(P)}}let M=-1,I="",P=0,V,$,re=v;const ae=_.length;for(T(_.substr(0,v));re<ae;){if(V=_[re],$=_[re+1],V===j[0]&&$===j[1])M=re,T(I),I=j,re++;else if(V===")"&&M!==-1){const ie=re-M+1;P+=ie,M=-1,I=""}else M!==-1?Z.test(V)?I+=V:(T(I),M=-1,I=""):T(V);re++}return T(I),{text:L,iconOffsets:p}}function d(_,v,p=!1){const{text:L,iconOffsets:T}=v;if(!T||T.length===0)return(0,l.Oh)(_,L,p);const M=(0,z.j3)(L," "),I=L.length-M.length,P=(0,l.Oh)(_,M,p);if(P)for(const V of P){const $=T[V.start+I]+I;V.start+=$,V.end+=$}return P}},44742:function(Yt,Ye,s){"use strict";s.d(Ye,{R:function(){return b},a:function(){return l}});class b{constructor(j){this._prefix=j,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const l=new b("id#")},53725:function(Yt,Ye,s){"use strict";s.d(Ye,{$:function(){return b}});var b;(function(l){function z(I){return I&&typeof I=="object"&&typeof I[Symbol.iterator]=="function"}l.is=z;const j=Object.freeze([]);function E(){return j}l.empty=E;function*Z(I){yield I}l.single=Z;function B(I){return I||j}l.from=B;function H(I){return!I||I[Symbol.iterator]().next().done===!0}l.isEmpty=H;function O(I){return I[Symbol.iterator]().next().value}l.first=O;function y(I,P){for(const V of I)if(P(V))return!0;return!1}l.some=y;function g(I,P){for(const V of I)if(P(V))return V}l.find=g;function*C(I,P){for(const V of I)P(V)&&(yield V)}l.filter=C;function*m(I,P){let V=0;for(const $ of I)yield P($,V++)}l.map=m;function*i(...I){for(const P of I)for(const V of P)yield V}l.concat=i;function*d(I){for(const P of I)for(const V of P)yield V}l.concatNested=d;function _(I,P,V){let $=V;for(const re of I)$=P($,re);return $}l.reduce=_;function v(I,P){let V=0;for(const $ of I)P($,V++)}l.forEach=v;function*p(I,P,V=I.length){for(P<0&&(P+=I.length),V<0?V+=I.length:V>I.length&&(V=I.length);P<V;P++)yield I[P]}l.slice=p;function L(I,P=Number.POSITIVE_INFINITY){const V=[];if(P===0)return[V,I];const $=I[Symbol.iterator]();for(let re=0;re<P;re++){const ae=$.next();if(ae.done)return[V,l.empty()];V.push(ae.value)}return[V,{[Symbol.iterator](){return $}}]}l.consume=L;function T(I){return L(I)[0]}l.collect=T;function M(I,P,V=($,re)=>$===re){const $=I[Symbol.iterator](),re=P[Symbol.iterator]();for(;;){const ae=$.next(),ie=re.next();if(ae.done!==ie.done)return!1;if(ae.done)return!0;if(!V(ae.value,ie.value))return!1}}l.equals=M})(b||(b={}))},22258:function(Yt,Ye,s){"use strict";s.d(Ye,{H_:function(){return E},Vd:function(){return y},gx:function(){return m},kL:function(){return C}});class b{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(d,_){this._keyCodeToStr[d]=_,this._strToKeyCode[_.toLowerCase()]=d}keyCodeToStr(d){return this._keyCodeToStr[d]}strToKeyCode(d){return this._strToKeyCode[d.toLowerCase()]||0}}const l=new b,z=new b,j=new b,E=new Array(230),Z={},B=[],H=Object.create(null),O=Object.create(null),y=[],g=[];for(let i=0;i<=193;i++)y[i]=-1;for(let i=0;i<=127;i++)g[i]=-1;(function(){const i="",d=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[0,1,1,"Hyper",0,i,0,i,i,i],[0,1,2,"Super",0,i,0,i,i,i],[0,1,3,"Fn",0,i,0,i,i,i],[0,1,4,"FnLock",0,i,0,i,i,i],[0,1,5,"Suspend",0,i,0,i,i,i],[0,1,6,"Resume",0,i,0,i,i,i],[0,1,7,"Turbo",0,i,0,i,i,i],[0,1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[0,1,9,"WakeUp",0,i,0,i,i,i],[31,0,10,"KeyA",31,"A",65,"VK_A",i,i],[32,0,11,"KeyB",32,"B",66,"VK_B",i,i],[33,0,12,"KeyC",33,"C",67,"VK_C",i,i],[34,0,13,"KeyD",34,"D",68,"VK_D",i,i],[35,0,14,"KeyE",35,"E",69,"VK_E",i,i],[36,0,15,"KeyF",36,"F",70,"VK_F",i,i],[37,0,16,"KeyG",37,"G",71,"VK_G",i,i],[38,0,17,"KeyH",38,"H",72,"VK_H",i,i],[39,0,18,"KeyI",39,"I",73,"VK_I",i,i],[40,0,19,"KeyJ",40,"J",74,"VK_J",i,i],[41,0,20,"KeyK",41,"K",75,"VK_K",i,i],[42,0,21,"KeyL",42,"L",76,"VK_L",i,i],[43,0,22,"KeyM",43,"M",77,"VK_M",i,i],[44,0,23,"KeyN",44,"N",78,"VK_N",i,i],[45,0,24,"KeyO",45,"O",79,"VK_O",i,i],[46,0,25,"KeyP",46,"P",80,"VK_P",i,i],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[48,0,27,"KeyR",48,"R",82,"VK_R",i,i],[49,0,28,"KeyS",49,"S",83,"VK_S",i,i],[50,0,29,"KeyT",50,"T",84,"VK_T",i,i],[51,0,30,"KeyU",51,"U",85,"VK_U",i,i],[52,0,31,"KeyV",52,"V",86,"VK_V",i,i],[53,0,32,"KeyW",53,"W",87,"VK_W",i,i],[54,0,33,"KeyX",54,"X",88,"VK_X",i,i],[55,0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[22,0,36,"Digit1",22,"1",49,"VK_1",i,i],[23,0,37,"Digit2",23,"2",50,"VK_2",i,i],[24,0,38,"Digit3",24,"3",51,"VK_3",i,i],[25,0,39,"Digit4",25,"4",52,"VK_4",i,i],[26,0,40,"Digit5",26,"5",53,"VK_5",i,i],[27,0,41,"Digit6",27,"6",54,"VK_6",i,i],[28,0,42,"Digit7",28,"7",55,"VK_7",i,i],[29,0,43,"Digit8",29,"8",56,"VK_8",i,i],[30,0,44,"Digit9",30,"9",57,"VK_9",i,i],[21,0,45,"Digit0",21,"0",48,"VK_0",i,i],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[10,1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,i,0,i,i,i],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[59,1,64,"F1",59,"F1",112,"VK_F1",i,i],[60,1,65,"F2",60,"F2",113,"VK_F2",i,i],[61,1,66,"F3",61,"F3",114,"VK_F3",i,i],[62,1,67,"F4",62,"F4",115,"VK_F4",i,i],[63,1,68,"F5",63,"F5",116,"VK_F5",i,i],[64,1,69,"F6",64,"F6",117,"VK_F6",i,i],[65,1,70,"F7",65,"F7",118,"VK_F7",i,i],[66,1,71,"F8",66,"F8",119,"VK_F8",i,i],[67,1,72,"F9",67,"F9",120,"VK_F9",i,i],[68,1,73,"F10",68,"F10",121,"VK_F10",i,i],[69,1,74,"F11",69,"F11",122,"VK_F11",i,i],[70,1,75,"F12",70,"F12",123,"VK_F12",i,i],[0,1,76,"PrintScreen",0,i,0,i,i,i],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",i,i],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[14,1,80,"Home",14,"Home",36,"VK_HOME",i,i],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[13,1,83,"End",13,"End",35,"VK_END",i,i],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",i,i],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",i,i],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",i,i],[3,1,94,"NumpadEnter",3,i,0,i,i,i],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",i,i],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",i,i],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",i,i],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",i,i],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",i,i],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",i,i],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",i,i],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",i,i],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",i,i],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",i,i],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",i,i],[58,1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[0,1,108,"Power",0,i,0,i,i,i],[0,1,109,"NumpadEqual",0,i,0,i,i,i],[71,1,110,"F13",71,"F13",124,"VK_F13",i,i],[72,1,111,"F14",72,"F14",125,"VK_F14",i,i],[73,1,112,"F15",73,"F15",126,"VK_F15",i,i],[74,1,113,"F16",74,"F16",127,"VK_F16",i,i],[75,1,114,"F17",75,"F17",128,"VK_F17",i,i],[76,1,115,"F18",76,"F18",129,"VK_F18",i,i],[77,1,116,"F19",77,"F19",130,"VK_F19",i,i],[0,1,117,"F20",0,i,0,"VK_F20",i,i],[0,1,118,"F21",0,i,0,"VK_F21",i,i],[0,1,119,"F22",0,i,0,"VK_F22",i,i],[0,1,120,"F23",0,i,0,"VK_F23",i,i],[0,1,121,"F24",0,i,0,"VK_F24",i,i],[0,1,122,"Open",0,i,0,i,i,i],[0,1,123,"Help",0,i,0,i,i,i],[0,1,124,"Select",0,i,0,i,i,i],[0,1,125,"Again",0,i,0,i,i,i],[0,1,126,"Undo",0,i,0,i,i,i],[0,1,127,"Cut",0,i,0,i,i,i],[0,1,128,"Copy",0,i,0,i,i,i],[0,1,129,"Paste",0,i,0,i,i,i],[0,1,130,"Find",0,i,0,i,i,i],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",i,i],[0,1,136,"KanaMode",0,i,0,i,i,i],[0,0,137,"IntlYen",0,i,0,i,i,i],[0,1,138,"Convert",0,i,0,i,i,i],[0,1,139,"NonConvert",0,i,0,i,i,i],[0,1,140,"Lang1",0,i,0,i,i,i],[0,1,141,"Lang2",0,i,0,i,i,i],[0,1,142,"Lang3",0,i,0,i,i,i],[0,1,143,"Lang4",0,i,0,i,i,i],[0,1,144,"Lang5",0,i,0,i,i,i],[0,1,145,"Abort",0,i,0,i,i,i],[0,1,146,"Props",0,i,0,i,i,i],[0,1,147,"NumpadParenLeft",0,i,0,i,i,i],[0,1,148,"NumpadParenRight",0,i,0,i,i,i],[0,1,149,"NumpadBackspace",0,i,0,i,i,i],[0,1,150,"NumpadMemoryStore",0,i,0,i,i,i],[0,1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[0,1,152,"NumpadMemoryClear",0,i,0,i,i,i],[0,1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[0,1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",i,i],[0,1,156,"NumpadClearEntry",0,i,0,i,i,i],[5,1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[4,1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[6,1,0,i,6,"Alt",18,"VK_MENU",i,i],[57,1,0,i,57,"Meta",0,"VK_COMMAND",i,i],[5,1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[4,1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[6,1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[57,1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[5,1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[4,1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[6,1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[57,1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[0,1,165,"BrightnessUp",0,i,0,i,i,i],[0,1,166,"BrightnessDown",0,i,0,i,i,i],[0,1,167,"MediaPlay",0,i,0,i,i,i],[0,1,168,"MediaRecord",0,i,0,i,i,i],[0,1,169,"MediaFastForward",0,i,0,i,i,i],[0,1,170,"MediaRewind",0,i,0,i,i,i],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",i,i],[0,1,174,"Eject",0,i,0,i,i,i],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[0,1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[0,1,180,"SelectTask",0,i,0,i,i,i],[0,1,181,"LaunchScreenSaver",0,i,0,i,i,i],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[0,1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[0,1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[0,1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[0,1,189,"ZoomToggle",0,i,0,i,i,i],[0,1,190,"MailReply",0,i,0,i,i,i],[0,1,191,"MailForward",0,i,0,i,i,i],[0,1,192,"MailSend",0,i,0,i,i,i],[109,1,0,i,109,"KeyInComposition",229,i,i,i],[111,1,0,i,111,"ABNT_C2",194,"VK_ABNT_C2",i,i],[91,1,0,i,91,"OEM_8",223,"VK_OEM_8",i,i],[0,1,0,i,0,i,0,"VK_KANA",i,i],[0,1,0,i,0,i,0,"VK_HANGUL",i,i],[0,1,0,i,0,i,0,"VK_JUNJA",i,i],[0,1,0,i,0,i,0,"VK_FINAL",i,i],[0,1,0,i,0,i,0,"VK_HANJA",i,i],[0,1,0,i,0,i,0,"VK_KANJI",i,i],[0,1,0,i,0,i,0,"VK_CONVERT",i,i],[0,1,0,i,0,i,0,"VK_NONCONVERT",i,i],[0,1,0,i,0,i,0,"VK_ACCEPT",i,i],[0,1,0,i,0,i,0,"VK_MODECHANGE",i,i],[0,1,0,i,0,i,0,"VK_SELECT",i,i],[0,1,0,i,0,i,0,"VK_PRINT",i,i],[0,1,0,i,0,i,0,"VK_EXECUTE",i,i],[0,1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[0,1,0,i,0,i,0,"VK_HELP",i,i],[0,1,0,i,0,i,0,"VK_APPS",i,i],[0,1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[0,1,0,i,0,i,0,"VK_PACKET",i,i],[0,1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_ATTN",i,i],[0,1,0,i,0,i,0,"VK_CRSEL",i,i],[0,1,0,i,0,i,0,"VK_EXSEL",i,i],[0,1,0,i,0,i,0,"VK_EREOF",i,i],[0,1,0,i,0,i,0,"VK_PLAY",i,i],[0,1,0,i,0,i,0,"VK_ZOOM",i,i],[0,1,0,i,0,i,0,"VK_NONAME",i,i],[0,1,0,i,0,i,0,"VK_PA1",i,i],[0,1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]],_=[],v=[];for(const p of d){const[L,T,M,I,P,V,$,re,ae,ie]=p;if(v[M]||(v[M]=!0,B[M]=I,H[I]=M,O[I.toLowerCase()]=M,T&&(y[M]=P,P!==0&&P!==3&&P!==5&&P!==4&&P!==6&&P!==57&&(g[P]=M))),!_[P]){if(_[P]=!0,!V)throw new Error(`String representation missing for key code ${P} around scan code ${I}`);l.define(P,V),z.define(P,ae||V),j.define(P,ie||ae||V)}$&&(E[$]=P),re&&(Z[re]=P)}g[3]=46})();var C;(function(i){function d(M){return l.keyCodeToStr(M)}i.toString=d;function _(M){return l.strToKeyCode(M)}i.fromString=_;function v(M){return z.keyCodeToStr(M)}i.toUserSettingsUS=v;function p(M){return j.keyCodeToStr(M)}i.toUserSettingsGeneral=p;function L(M){return z.strToKeyCode(M)||j.strToKeyCode(M)}i.fromUserSettings=L;function T(M){if(M>=93&&M<=108)return null;switch(M){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return l.keyCodeToStr(M)}i.toElectronAccelerator=T})(C||(C={}));function m(i,d){const _=(d&65535)<<16>>>0;return(i|_)>>>0}},8030:function(Yt,Ye,s){"use strict";s.d(Ye,{X4:function(){return j},jC:function(){return E},xo:function(){return z}});var b=s(63580);class l{constructor(O,y,g=y){this.modifierLabels=[null],this.modifierLabels[2]=O,this.modifierLabels[1]=y,this.modifierLabels[3]=g}toLabel(O,y,g){if(y.length===0)return null;const C=[];for(let m=0,i=y.length;m<i;m++){const d=y[m],_=g(d);if(_===null)return null;C[m]=B(d,_,this.modifierLabels[O])}return C.join(" ")}}const z=new l({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:b.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:b.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:b.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:b.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),j=new l({ctrlKey:b.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:b.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:b.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:b.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:b.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:b.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:b.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:b.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:b.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),E=new l({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),Z=new l({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function B(H,O,y){if(O===null)return"";const g=[];return H.ctrlKey&&g.push(y.ctrlKey),H.shiftKey&&g.push(y.shiftKey),H.altKey&&g.push(y.altKey),H.metaKey&&g.push(y.metaKey),O!==""&&g.push(O),g.join(y.separator)}},8313:function(Yt,Ye,s){"use strict";s.d(Ye,{BQ:function(){return B},QC:function(){return j},X_:function(){return E},f1:function(){return H},gm:function(){return l}});var b=s(17301);function l(O,y){if(O===0)return null;const g=(O&65535)>>>0,C=(O&4294901760)>>>16;return C!==0?new E([z(g,y),z(C,y)]):new E([z(g,y)])}function z(O,y){const g=!!(O&2048),C=!!(O&256),m=y===2?C:g,i=!!(O&1024),d=!!(O&512),_=y===2?g:C,v=O&255;return new j(m,i,d,_,v)}class j{constructor(y,g,C,m,i){this.ctrlKey=y,this.shiftKey=g,this.altKey=C,this.metaKey=m,this.keyCode=i}equals(y){return this.ctrlKey===y.ctrlKey&&this.shiftKey===y.shiftKey&&this.altKey===y.altKey&&this.metaKey===y.metaKey&&this.keyCode===y.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new E([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class E{constructor(y){if(y.length===0)throw(0,b.b1)("parts");this.parts=y}}class Z{constructor(y,g,C,m,i){this.ctrlKey=y,this.shiftKey=g,this.altKey=C,this.metaKey=m,this.scanCode=i}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class B{constructor(y,g,C,m,i,d){this.ctrlKey=y,this.shiftKey=g,this.altKey=C,this.metaKey=m,this.keyLabel=i,this.keyAriaLabel=d}}class H{}},79579:function(Yt,Ye,s){"use strict";s.d(Ye,{o:function(){return b}});class b{constructor(z){this.executor=z,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(z){this._error=z}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},5976:function(Yt,Ye,s){"use strict";s.d(Ye,{B9:function(){return m},F8:function(){return i},JT:function(){return v},Jz:function(){return M},L6:function(){return L},OF:function(){return d},SL:function(){return _},Wf:function(){return C},XK:function(){return p},dk:function(){return y},dt:function(){return T}});var b=s(88289),l=s(53725);const z=!1;let j=null;function E(I){j=I}if(z){const I="__is_disposable_tracked__";E(new class{trackDisposable(P){const V=new Error("Potentially leaked disposable").stack;setTimeout(()=>{P[I]||console.log(V)},3e3)}setParent(P,V){if(P&&P!==v.None)try{P[I]=!0}catch{}}markAsDisposed(P){if(P&&P!==v.None)try{P[I]=!0}catch{}}markAsSingleton(P){}})}function Z(I){return j?.trackDisposable(I),I}function B(I){j?.markAsDisposed(I)}function H(I,P){j?.setParent(I,P)}function O(I,P){if(j)for(const V of I)j.setParent(V,P)}function y(I){return j?.markAsSingleton(I),I}class g extends Error{constructor(P){super(`Encountered errors while disposing of store. Errors: [${P.join(", ")}]`),this.errors=P}}function C(I){return typeof I.dispose=="function"&&I.dispose.length===0}function m(I){if(l.$.is(I)){const P=[];for(const V of I)if(V)try{V.dispose()}catch($){P.push($)}if(P.length===1)throw P[0];if(P.length>1)throw new g(P);return Array.isArray(I)?[]:I}else if(I)return I.dispose(),I}function i(...I){const P=d(()=>m(I));return O(I,P),P}function d(I){const P=Z({dispose:(0,b.I)(()=>{B(P),I()})});return P}class _{constructor(){this._toDispose=new Set,this._isDisposed=!1,Z(this)}dispose(){this._isDisposed||(B(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{m(this._toDispose.values())}finally{this._toDispose.clear()}}add(P){if(!P)return P;if(P===this)throw new Error("Cannot register a disposable on itself!");return H(P,this),this._isDisposed?_.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(P),P}}_.DISABLE_DISPOSED_WARNING=!1;class v{constructor(){this._store=new _,Z(this),H(this._store,this)}dispose(){B(this),this._store.dispose()}_register(P){if(P===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(P)}}v.None=Object.freeze({dispose(){}});class p{constructor(){this._isDisposed=!1,Z(this)}get value(){return this._isDisposed?void 0:this._value}set value(P){var V;this._isDisposed||P===this._value||((V=this._value)===null||V===void 0||V.dispose(),P&&H(P,this),this._value=P)}clear(){this.value=void 0}dispose(){var P;this._isDisposed=!0,B(this),(P=this._value)===null||P===void 0||P.dispose(),this._value=void 0}clearAndLeak(){const P=this._value;return this._value=void 0,P&&H(P,null),P}}class L{constructor(P){this._disposable=P,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class T{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,Z(this)}set(P){let V=P;return this.unset=()=>V=void 0,this.isset=()=>V!==void 0,this.dispose=()=>{V&&(V(),V=void 0,B(this))},this}}class M{constructor(P){this.object=P}dispose(){}}},91741:function(Yt,Ye,s){"use strict";s.d(Ye,{S:function(){return l}});class b{constructor(j){this.element=j,this.next=b.Undefined,this.prev=b.Undefined}}b.Undefined=new b(void 0);class l{constructor(){this._first=b.Undefined,this._last=b.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===b.Undefined}clear(){let j=this._first;for(;j!==b.Undefined;){const E=j.next;j.prev=b.Undefined,j.next=b.Undefined,j=E}this._first=b.Undefined,this._last=b.Undefined,this._size=0}unshift(j){return this._insert(j,!1)}push(j){return this._insert(j,!0)}_insert(j,E){const Z=new b(j);if(this._first===b.Undefined)this._first=Z,this._last=Z;else if(E){const H=this._last;this._last=Z,Z.prev=H,H.next=Z}else{const H=this._first;this._first=Z,Z.next=H,H.prev=Z}this._size+=1;let B=!1;return()=>{B||(B=!0,this._remove(Z))}}shift(){if(this._first!==b.Undefined){const j=this._first.element;return this._remove(this._first),j}}pop(){if(this._last!==b.Undefined){const j=this._last.element;return this._remove(this._last),j}}_remove(j){if(j.prev!==b.Undefined&&j.next!==b.Undefined){const E=j.prev;E.next=j.next,j.next.prev=E}else j.prev===b.Undefined&&j.next===b.Undefined?(this._first=b.Undefined,this._last=b.Undefined):j.next===b.Undefined?(this._last=this._last.prev,this._last.next=b.Undefined):j.prev===b.Undefined&&(this._first=this._first.next,this._first.prev=b.Undefined);this._size-=1}*[Symbol.iterator](){let j=this._first;for(;j!==b.Undefined;)yield j.element,j=j.next}}},43702:function(Yt,Ye,s){"use strict";s.d(Ye,{Id:function(){return O},Y9:function(){return g},z6:function(){return m}});var b=s(97295),l,z;class j{constructor(){this._value="",this._pos=0}reset(d){return this._value=d,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(d){const _=d.charCodeAt(0),v=this._value.charCodeAt(this._pos);return _-v}value(){return this._value[this._pos]}}class E{constructor(d=!0){this._caseSensitive=d}reset(d){return this._value=d,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let d=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(d)this._from++;else break;else d=!1;return this}cmp(d){return this._caseSensitive?(0,b.TT)(d,this._value,0,d.length,this._from,this._to):(0,b.j_)(d,this._value,0,d.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Z{constructor(d=!0,_=!0){this._splitOnBackslash=d,this._caseSensitive=_}reset(d){this._from=0,this._to=0,this._value=d,this._valueLen=d.length;for(let _=d.length-1;_>=0;_--,this._valueLen--){const v=this._value.charCodeAt(_);if(!(v===47||this._splitOnBackslash&&v===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let d=!0;for(;this._to<this._valueLen;this._to++){const _=this._value.charCodeAt(this._to);if(_===47||this._splitOnBackslash&&_===92)if(d)this._from++;else break;else d=!1}return this}cmp(d){return this._caseSensitive?(0,b.TT)(d,this._value,0,d.length,this._from,this._to):(0,b.j_)(d,this._value,0,d.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class B{constructor(d,_){this._ignorePathCasing=d,this._ignoreQueryAndFragment=_,this._states=[],this._stateIdx=0}reset(d){return this._value=d,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Z(!1,!this._ignorePathCasing(d)),this._pathIterator.reset(d.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(d)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(d){if(this._states[this._stateIdx]===1)return(0,b.zY)(d,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,b.zY)(d,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(d);if(this._states[this._stateIdx]===4)return(0,b.qu)(d,this._value.query);if(this._states[this._stateIdx]===5)return(0,b.qu)(d,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class H{constructor(){this.height=1}rotateLeft(){const d=this.right;return this.right=d.left,d.left=this,this.updateHeight(),d.updateHeight(),d}rotateRight(){const d=this.left;return this.left=d.right,d.right=this,this.updateHeight(),d.updateHeight(),d}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var d,_;return(_=(d=this.left)===null||d===void 0?void 0:d.height)!==null&&_!==void 0?_:0}get heightRight(){var d,_;return(_=(d=this.right)===null||d===void 0?void 0:d.height)!==null&&_!==void 0?_:0}}class O{constructor(d){this._iter=d}static forUris(d=()=>!1,_=()=>!1){return new O(new B(d,_))}static forStrings(){return new O(new j)}static forConfigKeys(){return new O(new E)}clear(){this._root=void 0}set(d,_){const v=this._iter.reset(d);let p;this._root||(this._root=new H,this._root.segment=v.value());const L=[];for(p=this._root;;){const M=v.cmp(p.segment);if(M>0)p.left||(p.left=new H,p.left.segment=v.value()),L.push([-1,p]),p=p.left;else if(M<0)p.right||(p.right=new H,p.right.segment=v.value()),L.push([1,p]),p=p.right;else if(v.hasNext())v.next(),p.mid||(p.mid=new H,p.mid.segment=v.value()),L.push([0,p]),p=p.mid;else break}const T=p.value;p.value=_,p.key=d;for(let M=L.length-1;M>=0;M--){const I=L[M][1];I.updateHeight();const P=I.balanceFactor();if(P<-1||P>1){const V=L[M][0],$=L[M+1][0];if(V===1&&$===1)L[M][1]=I.rotateLeft();else if(V===-1&&$===-1)L[M][1]=I.rotateRight();else if(V===1&&$===-1)I.right=L[M+1][1]=L[M+1][1].rotateRight(),L[M][1]=I.rotateLeft();else if(V===-1&&$===1)I.left=L[M+1][1]=L[M+1][1].rotateLeft(),L[M][1]=I.rotateRight();else throw new Error;if(M>0)switch(L[M-1][0]){case-1:L[M-1][1].left=L[M][1];break;case 1:L[M-1][1].right=L[M][1];break;case 0:L[M-1][1].mid=L[M][1];break}else this._root=L[0][1]}}return T}get(d){var _;return(_=this._getNode(d))===null||_===void 0?void 0:_.value}_getNode(d){const _=this._iter.reset(d);let v=this._root;for(;v;){const p=_.cmp(v.segment);if(p>0)v=v.left;else if(p<0)v=v.right;else if(_.hasNext())_.next(),v=v.mid;else break}return v}has(d){const _=this._getNode(d);return!(_?.value===void 0&&_?.mid===void 0)}delete(d){return this._delete(d,!1)}deleteSuperstr(d){return this._delete(d,!0)}_delete(d,_){var v;const p=this._iter.reset(d),L=[];let T=this._root;for(;T;){const M=p.cmp(T.segment);if(M>0)L.push([-1,T]),T=T.left;else if(M<0)L.push([1,T]),T=T.right;else if(p.hasNext())p.next(),L.push([0,T]),T=T.mid;else break}if(T){if(_?(T.left=void 0,T.mid=void 0,T.right=void 0,T.height=1):(T.key=void 0,T.value=void 0),!T.mid&&!T.value)if(T.left&&T.right){const M=this._min(T.right),{key:I,value:P,segment:V}=M;this._delete(M.key,!1),T.key=I,T.value=P,T.segment=V}else{const M=(v=T.left)!==null&&v!==void 0?v:T.right;if(L.length>0){const[I,P]=L[L.length-1];switch(I){case-1:P.left=M;break;case 0:P.mid=M;break;case 1:P.right=M;break}}else this._root=M}for(let M=L.length-1;M>=0;M--){const I=L[M][1];I.updateHeight();const P=I.balanceFactor();if(P>1?(I.right.balanceFactor()>=0||(I.right=I.right.rotateRight()),L[M][1]=I.rotateLeft()):P<-1&&(I.left.balanceFactor()<=0||(I.left=I.left.rotateLeft()),L[M][1]=I.rotateRight()),M>0)switch(L[M-1][0]){case-1:L[M-1][1].left=L[M][1];break;case 1:L[M-1][1].right=L[M][1];break;case 0:L[M-1][1].mid=L[M][1];break}else this._root=L[0][1]}}}_min(d){for(;d.left;)d=d.left;return d}findSubstr(d){const _=this._iter.reset(d);let v=this._root,p;for(;v;){const L=_.cmp(v.segment);if(L>0)v=v.left;else if(L<0)v=v.right;else if(_.hasNext())_.next(),p=v.value||p,v=v.mid;else break}return v&&v.value||p}findSuperstr(d){const _=this._iter.reset(d);let v=this._root;for(;v;){const p=_.cmp(v.segment);if(p>0)v=v.left;else if(p<0)v=v.right;else if(_.hasNext())_.next(),v=v.mid;else return v.mid?this._entries(v.mid):void 0}}forEach(d){for(const[_,v]of this)d(v,_)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(d){const _=[];return this._dfsEntries(d,_),_[Symbol.iterator]()}_dfsEntries(d,_){d&&(d.left&&this._dfsEntries(d.left,_),d.value&&_.push([d.key,d.value]),d.mid&&this._dfsEntries(d.mid,_),d.right&&this._dfsEntries(d.right,_))}}class y{constructor(d,_){this.uri=d,this.value=_}}class g{constructor(d,_){this[l]="ResourceMap",d instanceof g?(this.map=new Map(d.map),this.toKey=_??g.defaultToKey):(this.map=new Map,this.toKey=d??g.defaultToKey)}set(d,_){return this.map.set(this.toKey(d),new y(d,_)),this}get(d){var _;return(_=this.map.get(this.toKey(d)))===null||_===void 0?void 0:_.value}has(d){return this.map.has(this.toKey(d))}get size(){return this.map.size}clear(){this.map.clear()}delete(d){return this.map.delete(this.toKey(d))}forEach(d,_){typeof _<"u"&&(d=d.bind(_));for(const[v,p]of this.map)d(p.value,p.uri,this)}*values(){for(const d of this.map.values())yield d.value}*keys(){for(const d of this.map.values())yield d.uri}*entries(){for(const d of this.map.values())yield[d.uri,d.value]}*[(l=Symbol.toStringTag,Symbol.iterator)](){for(const[,d]of this.map)yield[d.uri,d.value]}}g.defaultToKey=i=>i.toString();class C{constructor(){this[z]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var d;return(d=this._head)===null||d===void 0?void 0:d.value}get last(){var d;return(d=this._tail)===null||d===void 0?void 0:d.value}has(d){return this._map.has(d)}get(d,_=0){const v=this._map.get(d);if(v)return _!==0&&this.touch(v,_),v.value}set(d,_,v=0){let p=this._map.get(d);if(p)p.value=_,v!==0&&this.touch(p,v);else{switch(p={key:d,value:_,next:void 0,previous:void 0},v){case 0:this.addItemLast(p);break;case 1:this.addItemFirst(p);break;case 2:this.addItemLast(p);break;default:this.addItemLast(p);break}this._map.set(d,p),this._size++}return this}delete(d){return!!this.remove(d)}remove(d){const _=this._map.get(d);if(_)return this._map.delete(d),this.removeItem(_),this._size--,_.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const d=this._head;return this._map.delete(d.key),this.removeItem(d),this._size--,d.value}forEach(d,_){const v=this._state;let p=this._head;for(;p;){if(_?d.bind(_)(p.value,p.key,this):d(p.value,p.key,this),this._state!==v)throw new Error("LinkedMap got modified during iteration.");p=p.next}}keys(){const d=this,_=this._state;let v=this._head;const p={[Symbol.iterator](){return p},next(){if(d._state!==_)throw new Error("LinkedMap got modified during iteration.");if(v){const L={value:v.key,done:!1};return v=v.next,L}else return{value:void 0,done:!0}}};return p}values(){const d=this,_=this._state;let v=this._head;const p={[Symbol.iterator](){return p},next(){if(d._state!==_)throw new Error("LinkedMap got modified during iteration.");if(v){const L={value:v.value,done:!1};return v=v.next,L}else return{value:void 0,done:!0}}};return p}entries(){const d=this,_=this._state;let v=this._head;const p={[Symbol.iterator](){return p},next(){if(d._state!==_)throw new Error("LinkedMap got modified during iteration.");if(v){const L={value:[v.key,v.value],done:!1};return v=v.next,L}else return{value:void 0,done:!0}}};return p}[(z=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(d){if(d>=this.size)return;if(d===0){this.clear();return}let _=this._head,v=this.size;for(;_&&v>d;)this._map.delete(_.key),_=_.next,v--;this._head=_,this._size=v,_&&(_.previous=void 0),this._state++}addItemFirst(d){if(!this._head&&!this._tail)this._tail=d;else if(this._head)d.next=this._head,this._head.previous=d;else throw new Error("Invalid list");this._head=d,this._state++}addItemLast(d){if(!this._head&&!this._tail)this._head=d;else if(this._tail)d.previous=this._tail,this._tail.next=d;else throw new Error("Invalid list");this._tail=d,this._state++}removeItem(d){if(d===this._head&&d===this._tail)this._head=void 0,this._tail=void 0;else if(d===this._head){if(!d.next)throw new Error("Invalid list");d.next.previous=void 0,this._head=d.next}else if(d===this._tail){if(!d.previous)throw new Error("Invalid list");d.previous.next=void 0,this._tail=d.previous}else{const _=d.next,v=d.previous;if(!_||!v)throw new Error("Invalid list");_.previous=v,v.next=_}d.next=void 0,d.previous=void 0,this._state++}touch(d,_){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(_!==1&&_!==2)){if(_===1){if(d===this._head)return;const v=d.next,p=d.previous;d===this._tail?(p.next=void 0,this._tail=p):(v.previous=p,p.next=v),d.previous=void 0,d.next=this._head,this._head.previous=d,this._head=d,this._state++}else if(_===2){if(d===this._tail)return;const v=d.next,p=d.previous;d===this._head?(v.previous=void 0,this._head=v):(v.previous=p,p.next=v),d.next=void 0,d.previous=this._tail,this._tail.next=d,this._tail=d,this._state++}}}toJSON(){const d=[];return this.forEach((_,v)=>{d.push([v,_])}),d}fromJSON(d){this.clear();for(const[_,v]of d)this.set(_,v)}}class m extends C{constructor(d,_=1){super(),this._limit=d,this._ratio=Math.min(Math.max(0,_),1)}get limit(){return this._limit}set limit(d){this._limit=d,this.checkTrim()}get(d,_=2){return super.get(d,_)}peek(d){return super.get(d,0)}set(d,_){return super.set(d,_,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},23897:function(Yt,Ye,s){"use strict";s.d(Ye,{Q:function(){return z}});var b=s(53060),l=s(70666);function z(E){let Z=JSON.parse(E);return Z=j(Z),Z}function j(E,Z=0){if(!E||Z>200)return E;if(typeof E=="object"){switch(E.$mid){case 1:return l.o.revive(E);case 2:return new RegExp(E.source,E.flags);case 14:return new Date(E.source)}if(E instanceof b.KN||E instanceof Uint8Array)return E;if(Array.isArray(E))for(let B=0;B<E.length;++B)E[B]=j(E[B],Z+1);else for(const B in E)Object.hasOwnProperty.call(E,B)&&(E[B]=j(E[B],Z+1))}return E}},81170:function(Yt,Ye,s){"use strict";s.d(Ye,{v:function(){return b}});const b=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},66663:function(Yt,Ye,s){"use strict";s.d(Ye,{Gi:function(){return H},WX:function(){return Z},lg:function(){return z}});var b=s(1432),l=s(70666),z;(function(O){O.inMemory="inmemory",O.vscode="vscode",O.internal="private",O.walkThrough="walkThrough",O.walkThroughSnippet="walkThroughSnippet",O.http="http",O.https="https",O.file="file",O.mailto="mailto",O.untitled="untitled",O.data="data",O.command="command",O.vscodeRemote="vscode-remote",O.vscodeRemoteResource="vscode-remote-resource",O.vscodeUserData="vscode-userdata",O.vscodeCustomEditor="vscode-custom-editor",O.vscodeNotebook="vscode-notebook",O.vscodeNotebookCell="vscode-notebook-cell",O.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",O.vscodeNotebookCellOutput="vscode-notebook-cell-output",O.vscodeInteractive="vscode-interactive",O.vscodeInteractiveInput="vscode-interactive-input",O.vscodeSettings="vscode-settings",O.vscodeWorkspaceTrust="vscode-workspace-trust",O.vscodeTerminal="vscode-terminal",O.webviewPanel="webview-panel",O.vscodeWebview="vscode-webview",O.extension="extension",O.vscodeFileResource="vscode-file",O.tmp="tmp",O.vsls="vsls",O.vscodeSourceControl="vscode-scm"})(z||(z={}));const j="tkn";class E{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${z.vscodeRemoteResource}`}setPreferredWebSchema(y){this._preferredWebSchema=y}rewrite(y){if(this._delegate)return this._delegate(y);const g=y.authority;let C=this._hosts[g];C&&C.indexOf(":")!==-1&&(C=`[${C}]`);const m=this._ports[g],i=this._connectionTokens[g];let d=`path=${encodeURIComponent(y.path)}`;return typeof i=="string"&&(d+=`&${j}=${encodeURIComponent(i)}`),l.o.from({scheme:b.$L?this._preferredWebSchema:z.vscodeRemoteResource,authority:`${C}:${m}`,path:this._remoteResourcesPath,query:d})}}const Z=new E;class B{asBrowserUri(y,g){const C=this.toUri(y,g);return C.scheme===z.vscodeRemote?Z.rewrite(C):C.scheme===z.file&&(b.tY||b.n2&&b.li.origin===`${z.vscodeFileResource}://${B.FALLBACK_AUTHORITY}`)?C.with({scheme:z.vscodeFileResource,authority:C.authority||B.FALLBACK_AUTHORITY,query:null,fragment:null}):C}toUri(y,g){return l.o.isUri(y)?y:l.o.parse(g.toUrl(y))}}B.FALLBACK_AUTHORITY="vscode-app";const H=new B},59870:function(Yt,Ye,s){"use strict";s.d(Ye,{N:function(){return z},nM:function(){return l},uZ:function(){return b}});function b(j,E,Z){return Math.min(Math.max(j,E),Z)}class l{constructor(){this._n=1,this._val=0}update(E){return this._val=this._val+(E-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class z{constructor(E){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(E),this._values.fill(0,0,E)}update(E){const Z=this._values[this._index];return this._values[this._index]=E,this._index=(this._index+1)%this._values.length,this._sum-=Z,this._sum+=E,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},36248:function(Yt,Ye,s){"use strict";s.d(Ye,{I8:function(){return l},_A:function(){return z},fS:function(){return H},jB:function(){return B},rs:function(){return E}});var b=s(98401);function l(O){if(!O||typeof O!="object"||O instanceof RegExp)return O;const y=Array.isArray(O)?[]:{};return Object.keys(O).forEach(g=>{O[g]&&typeof O[g]=="object"?y[g]=l(O[g]):y[g]=O[g]}),y}function z(O){if(!O||typeof O!="object")return O;const y=[O];for(;y.length>0;){const g=y.shift();Object.freeze(g);for(const C in g)if(j.call(g,C)){const m=g[C];typeof m=="object"&&!Object.isFrozen(m)&&!(0,b.fU)(m)&&y.push(m)}}return O}const j=Object.prototype.hasOwnProperty;function E(O,y){return Z(O,y,new Set)}function Z(O,y,g){if((0,b.Jp)(O))return O;const C=y(O);if(typeof C<"u")return C;if((0,b.kJ)(O)){const m=[];for(const i of O)m.push(Z(i,y,g));return m}if((0,b.Kn)(O)){if(g.has(O))throw new Error("Cannot clone recursive data-structure");g.add(O);const m={};for(const i in O)j.call(O,i)&&(m[i]=Z(O[i],y,g));return g.delete(O),m}return O}function B(O,y,g=!0){return(0,b.Kn)(O)?((0,b.Kn)(y)&&Object.keys(y).forEach(C=>{C in O?g&&((0,b.Kn)(O[C])&&(0,b.Kn)(y[C])?B(O[C],y[C],g):O[C]=y[C]):O[C]=y[C]}),O):y}function H(O,y){if(O===y)return!0;if(O==null||y===null||y===void 0||typeof O!=typeof y||typeof O!="object"||Array.isArray(O)!==Array.isArray(y))return!1;let g,C;if(Array.isArray(O)){if(O.length!==y.length)return!1;for(g=0;g<O.length;g++)if(!H(O[g],y[g]))return!1}else{const m=[];for(C in O)m.push(C);m.sort();const i=[];for(C in y)i.push(C);if(i.sort(),!H(m,i))return!1;for(g=0;g<m.length;g++)if(!H(O[m[g]],y[m[g]]))return!1}return!0}},55336:function(Yt,Ye,s){"use strict";s.d(Ye,{EZ:function(){return se},XX:function(){return ie},DZ:function(){return X},Fv:function(){return $},KR:function(){return V},Gf:function(){return ae},DB:function(){return re},ir:function(){return ne},Ku:function(){return P}});var b=s(1432),l=s(34155);let z;if(typeof b.li.vscode<"u"&&typeof b.li.vscode.process<"u"){const Q=b.li.vscode.process;z={get platform(){return Q.platform},get arch(){return Q.arch},get env(){return Q.env},cwd(){return Q.cwd()}}}else typeof l<"u"?z={get platform(){return l.platform},get arch(){return l.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||l.cwd()}}:z={get platform(){return b.ED?"win32":b.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const j=z.cwd,E=z.env,Z=z.platform,B=65,H=97,O=90,y=122,g=46,C=47,m=92,i=58,d=63;class _ extends Error{constructor(F,te,W){let G;typeof te=="string"&&te.indexOf("not ")===0?(G="must not be",te=te.replace(/^not /,"")):G="must be";const q=F.indexOf(".")!==-1?"property":"argument";let me=`The "${F}" ${q} ${G} of type ${te}`;me+=`. Received type ${typeof W}`,super(me),this.code="ERR_INVALID_ARG_TYPE"}}function v(Q,F){if(typeof Q!="string")throw new _(F,"string",Q)}function p(Q){return Q===C||Q===m}function L(Q){return Q===C}function T(Q){return Q>=B&&Q<=O||Q>=H&&Q<=y}function M(Q,F,te,W){let G="",q=0,me=-1,w=0,we=0;for(let xe=0;xe<=Q.length;++xe){if(xe<Q.length)we=Q.charCodeAt(xe);else{if(W(we))break;we=C}if(W(we)){if(!(me===xe-1||w===1))if(w===2){if(G.length<2||q!==2||G.charCodeAt(G.length-1)!==g||G.charCodeAt(G.length-2)!==g){if(G.length>2){const Ne=G.lastIndexOf(te);Ne===-1?(G="",q=0):(G=G.slice(0,Ne),q=G.length-1-G.lastIndexOf(te)),me=xe,w=0;continue}else if(G.length!==0){G="",q=0,me=xe,w=0;continue}}F&&(G+=G.length>0?`${te}..`:"..",q=2)}else G.length>0?G+=`${te}${Q.slice(me+1,xe)}`:G=Q.slice(me+1,xe),q=xe-me-1;me=xe,w=0}else we===g&&w!==-1?++w:w=-1}return G}function I(Q,F){if(F===null||typeof F!="object")throw new _("pathObject","Object",F);const te=F.dir||F.root,W=F.base||`${F.name||""}${F.ext||""}`;return te?te===F.root?`${te}${W}`:`${te}${Q}${W}`:W}const P={resolve(...Q){let F="",te="",W=!1;for(let G=Q.length-1;G>=-1;G--){let q;if(G>=0){if(q=Q[G],v(q,"path"),q.length===0)continue}else F.length===0?q=j():(q={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${F}`]||j(),(q===void 0||q.slice(0,2).toLowerCase()!==F.toLowerCase()&&q.charCodeAt(2)===m)&&(q=`${F}\\`));const me=q.length;let w=0,we="",xe=!1;const Ne=q.charCodeAt(0);if(me===1)p(Ne)&&(w=1,xe=!0);else if(p(Ne))if(xe=!0,p(q.charCodeAt(1))){let Ve=2,Ce=Ve;for(;Ve<me&&!p(q.charCodeAt(Ve));)Ve++;if(Ve<me&&Ve!==Ce){const Ae=q.slice(Ce,Ve);for(Ce=Ve;Ve<me&&p(q.charCodeAt(Ve));)Ve++;if(Ve<me&&Ve!==Ce){for(Ce=Ve;Ve<me&&!p(q.charCodeAt(Ve));)Ve++;(Ve===me||Ve!==Ce)&&(we=`\\\\${Ae}\\${q.slice(Ce,Ve)}`,w=Ve)}}}else w=1;else T(Ne)&&q.charCodeAt(1)===i&&(we=q.slice(0,2),w=2,me>2&&p(q.charCodeAt(2))&&(xe=!0,w=3));if(we.length>0)if(F.length>0){if(we.toLowerCase()!==F.toLowerCase())continue}else F=we;if(W){if(F.length>0)break}else if(te=`${q.slice(w)}\\${te}`,W=xe,xe&&F.length>0)break}return te=M(te,!W,"\\",p),W?`${F}\\${te}`:`${F}${te}`||"."},normalize(Q){v(Q,"path");const F=Q.length;if(F===0)return".";let te=0,W,G=!1;const q=Q.charCodeAt(0);if(F===1)return L(q)?"\\":Q;if(p(q))if(G=!0,p(Q.charCodeAt(1))){let w=2,we=w;for(;w<F&&!p(Q.charCodeAt(w));)w++;if(w<F&&w!==we){const xe=Q.slice(we,w);for(we=w;w<F&&p(Q.charCodeAt(w));)w++;if(w<F&&w!==we){for(we=w;w<F&&!p(Q.charCodeAt(w));)w++;if(w===F)return`\\\\${xe}\\${Q.slice(we)}\\`;w!==we&&(W=`\\\\${xe}\\${Q.slice(we,w)}`,te=w)}}}else te=1;else T(q)&&Q.charCodeAt(1)===i&&(W=Q.slice(0,2),te=2,F>2&&p(Q.charCodeAt(2))&&(G=!0,te=3));let me=te<F?M(Q.slice(te),!G,"\\",p):"";return me.length===0&&!G&&(me="."),me.length>0&&p(Q.charCodeAt(F-1))&&(me+="\\"),W===void 0?G?`\\${me}`:me:G?`${W}\\${me}`:`${W}${me}`},isAbsolute(Q){v(Q,"path");const F=Q.length;if(F===0)return!1;const te=Q.charCodeAt(0);return p(te)||F>2&&T(te)&&Q.charCodeAt(1)===i&&p(Q.charCodeAt(2))},join(...Q){if(Q.length===0)return".";let F,te;for(let q=0;q<Q.length;++q){const me=Q[q];v(me,"path"),me.length>0&&(F===void 0?F=te=me:F+=`\\${me}`)}if(F===void 0)return".";let W=!0,G=0;if(typeof te=="string"&&p(te.charCodeAt(0))){++G;const q=te.length;q>1&&p(te.charCodeAt(1))&&(++G,q>2&&(p(te.charCodeAt(2))?++G:W=!1))}if(W){for(;G<F.length&&p(F.charCodeAt(G));)G++;G>=2&&(F=`\\${F.slice(G)}`)}return P.normalize(F)},relative(Q,F){if(v(Q,"from"),v(F,"to"),Q===F)return"";const te=P.resolve(Q),W=P.resolve(F);if(te===W||(Q=te.toLowerCase(),F=W.toLowerCase(),Q===F))return"";let G=0;for(;G<Q.length&&Q.charCodeAt(G)===m;)G++;let q=Q.length;for(;q-1>G&&Q.charCodeAt(q-1)===m;)q--;const me=q-G;let w=0;for(;w<F.length&&F.charCodeAt(w)===m;)w++;let we=F.length;for(;we-1>w&&F.charCodeAt(we-1)===m;)we--;const xe=we-w,Ne=me<xe?me:xe;let Ve=-1,Ce=0;for(;Ce<Ne;Ce++){const $e=Q.charCodeAt(G+Ce);if($e!==F.charCodeAt(w+Ce))break;$e===m&&(Ve=Ce)}if(Ce!==Ne){if(Ve===-1)return W}else{if(xe>Ne){if(F.charCodeAt(w+Ce)===m)return W.slice(w+Ce+1);if(Ce===2)return W.slice(w+Ce)}me>Ne&&(Q.charCodeAt(G+Ce)===m?Ve=Ce:Ce===2&&(Ve=3)),Ve===-1&&(Ve=0)}let Ae="";for(Ce=G+Ve+1;Ce<=q;++Ce)(Ce===q||Q.charCodeAt(Ce)===m)&&(Ae+=Ae.length===0?"..":"\\..");return w+=Ve,Ae.length>0?`${Ae}${W.slice(w,we)}`:(W.charCodeAt(w)===m&&++w,W.slice(w,we))},toNamespacedPath(Q){if(typeof Q!="string")return Q;if(Q.length===0)return"";const F=P.resolve(Q);if(F.length<=2)return Q;if(F.charCodeAt(0)===m){if(F.charCodeAt(1)===m){const te=F.charCodeAt(2);if(te!==d&&te!==g)return`\\\\?\\UNC\\${F.slice(2)}`}}else if(T(F.charCodeAt(0))&&F.charCodeAt(1)===i&&F.charCodeAt(2)===m)return`\\\\?\\${F}`;return Q},dirname(Q){v(Q,"path");const F=Q.length;if(F===0)return".";let te=-1,W=0;const G=Q.charCodeAt(0);if(F===1)return p(G)?Q:".";if(p(G)){if(te=W=1,p(Q.charCodeAt(1))){let w=2,we=w;for(;w<F&&!p(Q.charCodeAt(w));)w++;if(w<F&&w!==we){for(we=w;w<F&&p(Q.charCodeAt(w));)w++;if(w<F&&w!==we){for(we=w;w<F&&!p(Q.charCodeAt(w));)w++;if(w===F)return Q;w!==we&&(te=W=w+1)}}}}else T(G)&&Q.charCodeAt(1)===i&&(te=F>2&&p(Q.charCodeAt(2))?3:2,W=te);let q=-1,me=!0;for(let w=F-1;w>=W;--w)if(p(Q.charCodeAt(w))){if(!me){q=w;break}}else me=!1;if(q===-1){if(te===-1)return".";q=te}return Q.slice(0,q)},basename(Q,F){F!==void 0&&v(F,"ext"),v(Q,"path");let te=0,W=-1,G=!0,q;if(Q.length>=2&&T(Q.charCodeAt(0))&&Q.charCodeAt(1)===i&&(te=2),F!==void 0&&F.length>0&&F.length<=Q.length){if(F===Q)return"";let me=F.length-1,w=-1;for(q=Q.length-1;q>=te;--q){const we=Q.charCodeAt(q);if(p(we)){if(!G){te=q+1;break}}else w===-1&&(G=!1,w=q+1),me>=0&&(we===F.charCodeAt(me)?--me===-1&&(W=q):(me=-1,W=w))}return te===W?W=w:W===-1&&(W=Q.length),Q.slice(te,W)}for(q=Q.length-1;q>=te;--q)if(p(Q.charCodeAt(q))){if(!G){te=q+1;break}}else W===-1&&(G=!1,W=q+1);return W===-1?"":Q.slice(te,W)},extname(Q){v(Q,"path");let F=0,te=-1,W=0,G=-1,q=!0,me=0;Q.length>=2&&Q.charCodeAt(1)===i&&T(Q.charCodeAt(0))&&(F=W=2);for(let w=Q.length-1;w>=F;--w){const we=Q.charCodeAt(w);if(p(we)){if(!q){W=w+1;break}continue}G===-1&&(q=!1,G=w+1),we===g?te===-1?te=w:me!==1&&(me=1):te!==-1&&(me=-1)}return te===-1||G===-1||me===0||me===1&&te===G-1&&te===W+1?"":Q.slice(te,G)},format:I.bind(null,"\\"),parse(Q){v(Q,"path");const F={root:"",dir:"",base:"",ext:"",name:""};if(Q.length===0)return F;const te=Q.length;let W=0,G=Q.charCodeAt(0);if(te===1)return p(G)?(F.root=F.dir=Q,F):(F.base=F.name=Q,F);if(p(G)){if(W=1,p(Q.charCodeAt(1))){let Ve=2,Ce=Ve;for(;Ve<te&&!p(Q.charCodeAt(Ve));)Ve++;if(Ve<te&&Ve!==Ce){for(Ce=Ve;Ve<te&&p(Q.charCodeAt(Ve));)Ve++;if(Ve<te&&Ve!==Ce){for(Ce=Ve;Ve<te&&!p(Q.charCodeAt(Ve));)Ve++;Ve===te?W=Ve:Ve!==Ce&&(W=Ve+1)}}}}else if(T(G)&&Q.charCodeAt(1)===i){if(te<=2)return F.root=F.dir=Q,F;if(W=2,p(Q.charCodeAt(2))){if(te===3)return F.root=F.dir=Q,F;W=3}}W>0&&(F.root=Q.slice(0,W));let q=-1,me=W,w=-1,we=!0,xe=Q.length-1,Ne=0;for(;xe>=W;--xe){if(G=Q.charCodeAt(xe),p(G)){if(!we){me=xe+1;break}continue}w===-1&&(we=!1,w=xe+1),G===g?q===-1?q=xe:Ne!==1&&(Ne=1):q!==-1&&(Ne=-1)}return w!==-1&&(q===-1||Ne===0||Ne===1&&q===w-1&&q===me+1?F.base=F.name=Q.slice(me,w):(F.name=Q.slice(me,q),F.base=Q.slice(me,w),F.ext=Q.slice(q,w))),me>0&&me!==W?F.dir=Q.slice(0,me-1):F.dir=F.root,F},sep:"\\",delimiter:";",win32:null,posix:null},V={resolve(...Q){let F="",te=!1;for(let W=Q.length-1;W>=-1&&!te;W--){const G=W>=0?Q[W]:j();v(G,"path"),G.length!==0&&(F=`${G}/${F}`,te=G.charCodeAt(0)===C)}return F=M(F,!te,"/",L),te?`/${F}`:F.length>0?F:"."},normalize(Q){if(v(Q,"path"),Q.length===0)return".";const F=Q.charCodeAt(0)===C,te=Q.charCodeAt(Q.length-1)===C;return Q=M(Q,!F,"/",L),Q.length===0?F?"/":te?"./":".":(te&&(Q+="/"),F?`/${Q}`:Q)},isAbsolute(Q){return v(Q,"path"),Q.length>0&&Q.charCodeAt(0)===C},join(...Q){if(Q.length===0)return".";let F;for(let te=0;te<Q.length;++te){const W=Q[te];v(W,"path"),W.length>0&&(F===void 0?F=W:F+=`/${W}`)}return F===void 0?".":V.normalize(F)},relative(Q,F){if(v(Q,"from"),v(F,"to"),Q===F||(Q=V.resolve(Q),F=V.resolve(F),Q===F))return"";const te=1,W=Q.length,G=W-te,q=1,me=F.length-q,w=G<me?G:me;let we=-1,xe=0;for(;xe<w;xe++){const Ve=Q.charCodeAt(te+xe);if(Ve!==F.charCodeAt(q+xe))break;Ve===C&&(we=xe)}if(xe===w)if(me>w){if(F.charCodeAt(q+xe)===C)return F.slice(q+xe+1);if(xe===0)return F.slice(q+xe)}else G>w&&(Q.charCodeAt(te+xe)===C?we=xe:xe===0&&(we=0));let Ne="";for(xe=te+we+1;xe<=W;++xe)(xe===W||Q.charCodeAt(xe)===C)&&(Ne+=Ne.length===0?"..":"/..");return`${Ne}${F.slice(q+we)}`},toNamespacedPath(Q){return Q},dirname(Q){if(v(Q,"path"),Q.length===0)return".";const F=Q.charCodeAt(0)===C;let te=-1,W=!0;for(let G=Q.length-1;G>=1;--G)if(Q.charCodeAt(G)===C){if(!W){te=G;break}}else W=!1;return te===-1?F?"/":".":F&&te===1?"//":Q.slice(0,te)},basename(Q,F){F!==void 0&&v(F,"ext"),v(Q,"path");let te=0,W=-1,G=!0,q;if(F!==void 0&&F.length>0&&F.length<=Q.length){if(F===Q)return"";let me=F.length-1,w=-1;for(q=Q.length-1;q>=0;--q){const we=Q.charCodeAt(q);if(we===C){if(!G){te=q+1;break}}else w===-1&&(G=!1,w=q+1),me>=0&&(we===F.charCodeAt(me)?--me===-1&&(W=q):(me=-1,W=w))}return te===W?W=w:W===-1&&(W=Q.length),Q.slice(te,W)}for(q=Q.length-1;q>=0;--q)if(Q.charCodeAt(q)===C){if(!G){te=q+1;break}}else W===-1&&(G=!1,W=q+1);return W===-1?"":Q.slice(te,W)},extname(Q){v(Q,"path");let F=-1,te=0,W=-1,G=!0,q=0;for(let me=Q.length-1;me>=0;--me){const w=Q.charCodeAt(me);if(w===C){if(!G){te=me+1;break}continue}W===-1&&(G=!1,W=me+1),w===g?F===-1?F=me:q!==1&&(q=1):F!==-1&&(q=-1)}return F===-1||W===-1||q===0||q===1&&F===W-1&&F===te+1?"":Q.slice(F,W)},format:I.bind(null,"/"),parse(Q){v(Q,"path");const F={root:"",dir:"",base:"",ext:"",name:""};if(Q.length===0)return F;const te=Q.charCodeAt(0)===C;let W;te?(F.root="/",W=1):W=0;let G=-1,q=0,me=-1,w=!0,we=Q.length-1,xe=0;for(;we>=W;--we){const Ne=Q.charCodeAt(we);if(Ne===C){if(!w){q=we+1;break}continue}me===-1&&(w=!1,me=we+1),Ne===g?G===-1?G=we:xe!==1&&(xe=1):G!==-1&&(xe=-1)}if(me!==-1){const Ne=q===0&&te?1:q;G===-1||xe===0||xe===1&&G===me-1&&G===q+1?F.base=F.name=Q.slice(Ne,me):(F.name=Q.slice(Ne,G),F.base=Q.slice(Ne,me),F.ext=Q.slice(G,me))}return q>0?F.dir=Q.slice(0,q-1):te&&(F.dir="/"),F},sep:"/",delimiter:":",win32:null,posix:null};V.win32=P.win32=P,V.posix=P.posix=V;const $=Z==="win32"?P.normalize:V.normalize,re=Z==="win32"?P.resolve:V.resolve,ae=Z==="win32"?P.relative:V.relative,ie=Z==="win32"?P.dirname:V.dirname,se=Z==="win32"?P.basename:V.basename,X=Z==="win32"?P.extname:V.extname,ne=Z==="win32"?P.sep:V.sep},1432:function(Yt,Ye,s){"use strict";s.d(Ye,{$L:function(){return ae},ED:function(){return P},G6:function(){return we},IJ:function(){return $},OS:function(){return te},dK:function(){return ne},dz:function(){return V},fn:function(){return F},gn:function(){return se},i7:function(){return me},li:function(){return p},n2:function(){return ie},r:function(){return q},tY:function(){return re},un:function(){return xe},vU:function(){return w}});var b=s(63580),l=s(34155),z;const j="en";let E=!1,Z=!1,B=!1,H=!1,O=!1,y=!1,g=!1,C=!1,m=!1,i,d=j,_=null,v;const p=typeof self=="object"?self:typeof s.g=="object"?s.g:{};let L;typeof p.vscode<"u"&&typeof p.vscode.process<"u"?L=p.vscode.process:typeof l<"u"&&(L=l);const T=typeof((z=L?.versions)===null||z===void 0?void 0:z.electron)=="string",M=T&&L?.type==="renderer";if(typeof navigator=="object"&&!M)v=navigator.userAgent,E=v.indexOf("Windows")>=0,Z=v.indexOf("Macintosh")>=0,C=(v.indexOf("Macintosh")>=0||v.indexOf("iPad")>=0||v.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,B=v.indexOf("Linux")>=0,y=!0,i=b.aj(b.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||j,d=i;else if(typeof L=="object"){E=L.platform==="win32",Z=L.platform==="darwin",B=L.platform==="linux",H=B&&!!L.env.SNAP&&!!L.env.SNAP_REVISION,g=T,m=!!L.env.CI||!!L.env.BUILD_ARTIFACTSTAGINGDIRECTORY,i=j,d=j;const Ve=L.env.VSCODE_NLS_CONFIG;if(Ve)try{const Ce=JSON.parse(Ve),Ae=Ce.availableLanguages["*"];i=Ce.locale,d=Ae||j,_=Ce._translationsConfigFile}catch{}O=!0}else console.error("Unable to resolve platform.");let I=0;Z?I=1:E?I=3:B&&(I=2);const P=E,V=Z,$=B,re=O,ae=y,ie=y&&typeof p.importScripts=="function",se=C,X=v,ne=d,Q=typeof p.postMessage=="function"&&!p.importScripts,F=(()=>{if(Q){const Ve=[];p.addEventListener("message",Ae=>{if(Ae.data&&Ae.data.vscodeScheduleAsyncWork)for(let $e=0,je=Ve.length;$e<je;$e++){const at=Ve[$e];if(at.id===Ae.data.vscodeScheduleAsyncWork){Ve.splice($e,1),at.callback();return}}});let Ce=0;return Ae=>{const $e=++Ce;Ve.push({id:$e,callback:Ae}),p.postMessage({vscodeScheduleAsyncWork:$e},"*")}}return Ve=>setTimeout(Ve)})(),te=Z||C?2:E?1:3;let W=!0,G=!1;function q(){if(!G){G=!0;const Ve=new Uint8Array(2);Ve[0]=1,Ve[1]=2,W=new Uint16Array(Ve.buffer)[0]===513}return W}const me=!!(X&&X.indexOf("Chrome")>=0),w=!!(X&&X.indexOf("Firefox")>=0),we=!!(!me&&X&&X.indexOf("Safari")>=0),xe=!!(X&&X.indexOf("Edg/")>=0),Ne=!!(X&&X.indexOf("Android")>=0)},61134:function(Yt,Ye,s){"use strict";s.d(Ye,{e:function(){return b}});var b;(function(l){function z(B,H){if(B.start>=H.end||H.start>=B.end)return{start:0,end:0};const O=Math.max(B.start,H.start),y=Math.min(B.end,H.end);return y-O<=0?{start:0,end:0}:{start:O,end:y}}l.intersect=z;function j(B){return B.end-B.start<=0}l.isEmpty=j;function E(B,H){return!j(z(B,H))}l.intersects=E;function Z(B,H){const O=[],y={start:B.start,end:Math.min(H.start,B.end)},g={start:Math.max(H.end,B.start),end:B.end};return j(y)||O.push(y),j(g)||O.push(g),O}l.relativeComplement=Z})(b||(b={}))},95935:function(Yt,Ye,s){"use strict";s.d(Ye,{AH:function(){return T},DZ:function(){return v},EZ:function(){return _},Hx:function(){return d},SF:function(){return O},Vb:function(){return ie},Vo:function(){return L},XX:function(){return p},Xy:function(){return C},i3:function(){return I},lX:function(){return M},z_:function(){return B}});var b=s(15527),l=s(66663),z=s(55336),j=s(1432),E=s(97295),Z=s(70666);function B(se){return(0,Z.q)(se,!0)}class H{constructor(X){this._ignorePathCasing=X}compare(X,ne,Q=!1){return X===ne?0:(0,E.qu)(this.getComparisonKey(X,Q),this.getComparisonKey(ne,Q))}isEqual(X,ne,Q=!1){return X===ne?!0:!X||!ne?!1:this.getComparisonKey(X,Q)===this.getComparisonKey(ne,Q)}getComparisonKey(X,ne=!1){return X.with({path:this._ignorePathCasing(X)?X.path.toLowerCase():void 0,fragment:ne?null:void 0}).toString()}isEqualOrParent(X,ne,Q=!1){if(X.scheme===ne.scheme){if(X.scheme===l.lg.file)return b.KM(B(X),B(ne),this._ignorePathCasing(X))&&X.query===ne.query&&(Q||X.fragment===ne.fragment);if(V(X.authority,ne.authority))return b.KM(X.path,ne.path,this._ignorePathCasing(X),"/")&&X.query===ne.query&&(Q||X.fragment===ne.fragment)}return!1}joinPath(X,...ne){return Z.o.joinPath(X,...ne)}basenameOrAuthority(X){return _(X)||X.authority}basename(X){return z.KR.basename(X.path)}extname(X){return z.KR.extname(X.path)}dirname(X){if(X.path.length===0)return X;let ne;return X.scheme===l.lg.file?ne=Z.o.file(z.XX(B(X))).path:(ne=z.KR.dirname(X.path),X.authority&&ne.length&&ne.charCodeAt(0)!==47&&(console.error(`dirname("${X.toString})) resulted in a relative path`),ne="/")),X.with({path:ne})}normalizePath(X){if(!X.path.length)return X;let ne;return X.scheme===l.lg.file?ne=Z.o.file(z.Fv(B(X))).path:ne=z.KR.normalize(X.path),X.with({path:ne})}relativePath(X,ne){if(X.scheme!==ne.scheme||!V(X.authority,ne.authority))return;if(X.scheme===l.lg.file){const te=z.Gf(B(X),B(ne));return j.ED?b.ej(te):te}let Q=X.path||"/";const F=ne.path||"/";if(this._ignorePathCasing(X)){let te=0;for(const W=Math.min(Q.length,F.length);te<W&&!(Q.charCodeAt(te)!==F.charCodeAt(te)&&Q.charAt(te).toLowerCase()!==F.charAt(te).toLowerCase());te++);Q=F.substr(0,te)+Q.substr(te)}return z.KR.relative(Q,F)}resolvePath(X,ne){if(X.scheme===l.lg.file){const Q=Z.o.file(z.DB(B(X),ne));return X.with({authority:Q.authority,path:Q.path})}return ne=b.fn(ne),X.with({path:z.KR.resolve(X.path,ne)})}isAbsolutePath(X){return!!X.path&&X.path[0]==="/"}isEqualAuthority(X,ne){return X===ne||X!==void 0&&ne!==void 0&&(0,E.qq)(X,ne)}hasTrailingPathSeparator(X,ne=z.ir){if(X.scheme===l.lg.file){const Q=B(X);return Q.length>b.yj(Q).length&&Q[Q.length-1]===ne}else{const Q=X.path;return Q.length>1&&Q.charCodeAt(Q.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(X.fsPath)}}removeTrailingPathSeparator(X,ne=z.ir){return $(X,ne)?X.with({path:X.path.substr(0,X.path.length-1)}):X}addTrailingPathSeparator(X,ne=z.ir){let Q=!1;if(X.scheme===l.lg.file){const F=B(X);Q=F!==void 0&&F.length===b.yj(F).length&&F[F.length-1]===ne}else{ne="/";const F=X.path;Q=F.length===1&&F.charCodeAt(F.length-1)===47}return!Q&&!$(X,ne)?X.with({path:X.path+"/"}):X}}const O=new H(()=>!1),y=new H(se=>se.scheme===l.lg.file?!j.IJ:!0),g=new H(se=>!0),C=O.isEqual.bind(O),m=O.isEqualOrParent.bind(O),i=O.getComparisonKey.bind(O),d=O.basenameOrAuthority.bind(O),_=O.basename.bind(O),v=O.extname.bind(O),p=O.dirname.bind(O),L=O.joinPath.bind(O),T=O.normalizePath.bind(O),M=O.relativePath.bind(O),I=O.resolvePath.bind(O),P=O.isAbsolutePath.bind(O),V=O.isEqualAuthority.bind(O),$=O.hasTrailingPathSeparator.bind(O),re=O.removeTrailingPathSeparator.bind(O),ae=O.addTrailingPathSeparator.bind(O);var ie;(function(se){se.META_DATA_LABEL="label",se.META_DATA_DESCRIPTION="description",se.META_DATA_SIZE="size",se.META_DATA_MIME="mime";function X(ne){const Q=new Map;ne.path.substring(ne.path.indexOf(";")+1,ne.path.lastIndexOf(";")).split(";").forEach(W=>{const[G,q]=W.split(":");G&&q&&Q.set(G,q)});const te=ne.path.substring(0,ne.path.indexOf(";"));return te&&Q.set(se.META_DATA_MIME,te),Q}se.parseMetaData=X})(ie||(ie={}))},76633:function(Yt,Ye,s){"use strict";s.d(Ye,{Rm:function(){return j}});var b=s(4669),l=s(5976);class z{constructor(C,m,i,d,_,v,p){this._forceIntegerValues=C,this._scrollStateBrand=void 0,this._forceIntegerValues&&(m=m|0,i=i|0,d=d|0,_=_|0,v=v|0,p=p|0),this.rawScrollLeft=d,this.rawScrollTop=p,m<0&&(m=0),d+m>i&&(d=i-m),d<0&&(d=0),_<0&&(_=0),p+_>v&&(p=v-_),p<0&&(p=0),this.width=m,this.scrollWidth=i,this.scrollLeft=d,this.height=_,this.scrollHeight=v,this.scrollTop=p}equals(C){return this.rawScrollLeft===C.rawScrollLeft&&this.rawScrollTop===C.rawScrollTop&&this.width===C.width&&this.scrollWidth===C.scrollWidth&&this.scrollLeft===C.scrollLeft&&this.height===C.height&&this.scrollHeight===C.scrollHeight&&this.scrollTop===C.scrollTop}withScrollDimensions(C,m){return new z(this._forceIntegerValues,typeof C.width<"u"?C.width:this.width,typeof C.scrollWidth<"u"?C.scrollWidth:this.scrollWidth,m?this.rawScrollLeft:this.scrollLeft,typeof C.height<"u"?C.height:this.height,typeof C.scrollHeight<"u"?C.scrollHeight:this.scrollHeight,m?this.rawScrollTop:this.scrollTop)}withScrollPosition(C){return new z(this._forceIntegerValues,this.width,this.scrollWidth,typeof C.scrollLeft<"u"?C.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof C.scrollTop<"u"?C.scrollTop:this.rawScrollTop)}createScrollEvent(C,m){const i=this.width!==C.width,d=this.scrollWidth!==C.scrollWidth,_=this.scrollLeft!==C.scrollLeft,v=this.height!==C.height,p=this.scrollHeight!==C.scrollHeight,L=this.scrollTop!==C.scrollTop;return{inSmoothScrolling:m,oldWidth:C.width,oldScrollWidth:C.scrollWidth,oldScrollLeft:C.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:C.height,oldScrollHeight:C.scrollHeight,oldScrollTop:C.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:d,scrollLeftChanged:_,heightChanged:v,scrollHeightChanged:p,scrollTopChanged:L}}}class j extends l.JT{constructor(C){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new b.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=C.smoothScrollDuration,this._scheduleAtNextAnimationFrame=C.scheduleAtNextAnimationFrame,this._state=new z(C.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(C){this._smoothScrollDuration=C}validateScrollPosition(C){return this._state.withScrollPosition(C)}getScrollDimensions(){return this._state}setScrollDimensions(C,m){var i;const d=this._state.withScrollDimensions(C,m);this._setState(d,!!this._smoothScrolling),(i=this._smoothScrolling)===null||i===void 0||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(C){const m=this._state.withScrollPosition(C);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(m,!1)}setScrollPositionSmooth(C,m){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(C);if(this._smoothScrolling){C={scrollLeft:typeof C.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:C.scrollLeft,scrollTop:typeof C.scrollTop>"u"?this._smoothScrolling.to.scrollTop:C.scrollTop};const i=this._state.withScrollPosition(C);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let d;m?d=new H(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):d=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=d}else{const i=this._state.withScrollPosition(C);this._smoothScrolling=H.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const C=this._smoothScrolling.tick(),m=this._state.withScrollPosition(C);if(this._setState(m,!0),!!this._smoothScrolling){if(C.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(C,m){const i=this._state;i.equals(C)||(this._state=C,this._onScroll.fire(this._state.createScrollEvent(i,m)))}}class E{constructor(C,m,i){this.scrollLeft=C,this.scrollTop=m,this.isDone=i}}function Z(g,C){const m=C-g;return function(i){return g+m*y(i)}}function B(g,C,m){return function(i){return i<m?g(i/m):C((i-m)/(1-m))}}class H{constructor(C,m,i,d){this.from=C,this.to=m,this.duration=d,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(C,m,i){if(Math.abs(C-m)>2.5*i){let _,v;return C<m?(_=C+.75*i,v=m-.75*i):(_=C-.75*i,v=m+.75*i),B(Z(C,_),Z(v,m),.33)}return Z(C,m)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(C){this.to=C.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(C){const m=(C-this.startTime)/this.duration;if(m<1){const i=this.scrollLeft(m),d=this.scrollTop(m);return new E(i,d,!1)}return new E(this.to.scrollLeft,this.to.scrollTop,!0)}combine(C,m,i){return H.start(C,m,i)}static start(C,m,i){i=i+10;const d=Date.now()-10;return new H(C,m,d,i)}}function O(g){return Math.pow(g,3)}function y(g){return 1-O(1-g)}},14603:function(Yt,Ye,s){"use strict";var b=s(97295),l;(function(z){z[z.Ignore=0]="Ignore",z[z.Info=1]="Info",z[z.Warning=2]="Warning",z[z.Error=3]="Error"})(l||(l={})),function(z){const j="error",E="warning",Z="warn",B="info",H="ignore";function O(g){return g?b.qq(j,g)?z.Error:b.qq(E,g)||b.qq(Z,g)?z.Warning:b.qq(B,g)?z.Info:z.Ignore:z.Ignore}z.fromValue=O;function y(g){switch(g){case z.Error:return j;case z.Warning:return E;case z.Info:return B;default:return H}}z.toString=y}(l||(l={})),Ye.Z=l},84013:function(Yt,Ye,s){"use strict";s.d(Ye,{G:function(){return z}});var b=s(1432);const l=b.li.performance&&typeof b.li.performance.now=="function";class z{constructor(E){this._highResolution=l&&E,this._startTime=this._now(),this._stopTime=-1}static create(E=!0){return new z(E)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?b.li.performance.now():Date.now()}}},97295:function(Yt,Ye,s){"use strict";s.d(Ye,{$i:function(){return Ae},B4:function(){return Mt},C8:function(){return pt},GF:function(){return i},HO:function(){return we},IO:function(){return d},J_:function(){return xe},K7:function(){return at},Kw:function(){return it},LC:function(){return p},Mh:function(){return X},P1:function(){return ne},PJ:function(){return pe},Qe:function(){return $e},R1:function(){return m},T5:function(){return $},TT:function(){return I},Ut:function(){return Ve},V8:function(){return L},W1:function(){return me},WU:function(){return Z},YK:function(){return F},YU:function(){return B},ZG:function(){return Q},ZH:function(){return W},ZK:function(){return ni},ab:function(){return je},c1:function(){return bt},df:function(){return ae},ec:function(){return H},fy:function(){return O},j3:function(){return y},j_:function(){return V},m5:function(){return j},mK:function(){return re},mr:function(){return _},oH:function(){return qt},oL:function(){return g},ok:function(){return se},ow:function(){return T},qq:function(){return ie},qu:function(){return M},rL:function(){return te},uS:function(){return We},un:function(){return C},uq:function(){return v},vH:function(){return w},vU:function(){return Gt},zY:function(){return P}});var b=s(701),l=s(79579),z;function j(Fe){return!Fe||typeof Fe!="string"?!0:Fe.trim().length===0}const E=/{(\d+)}/g;function Z(Fe,...Ge){return Ge.length===0?Fe:Fe.replace(E,function(Te,Ke){const ut=parseInt(Ke,10);return isNaN(ut)||ut<0||ut>=Ge.length?Te:Ge[ut]})}function B(Fe){return Fe.replace(/[<>&]/g,function(Ge){switch(Ge){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Ge}})}function H(Fe){return Fe.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function O(Fe,Ge=" "){const Te=y(Fe,Ge);return g(Te,Ge)}function y(Fe,Ge){if(!Fe||!Ge)return Fe;const Te=Ge.length;if(Te===0||Fe.length===0)return Fe;let Ke=0;for(;Fe.indexOf(Ge,Ke)===Ke;)Ke=Ke+Te;return Fe.substring(Ke)}function g(Fe,Ge){if(!Fe||!Ge)return Fe;const Te=Ge.length,Ke=Fe.length;if(Te===0||Ke===0)return Fe;let ut=Ke,Nt=-1;for(;Nt=Fe.lastIndexOf(Ge,ut-1),!(Nt===-1||Nt+Te!==ut);){if(Nt===0)return"";ut=Nt}return Fe.substring(0,ut)}function C(Fe){return Fe.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function m(Fe){return Fe.replace(/\*/g,"")}function i(Fe,Ge,Te={}){if(!Fe)throw new Error("Cannot create regex from empty string");Ge||(Fe=H(Fe)),Te.wholeWord&&(/\B/.test(Fe.charAt(0))||(Fe="\\b"+Fe),/\B/.test(Fe.charAt(Fe.length-1))||(Fe=Fe+"\\b"));let Ke="";return Te.global&&(Ke+="g"),Te.matchCase||(Ke+="i"),Te.multiline&&(Ke+="m"),Te.unicode&&(Ke+="u"),new RegExp(Fe,Ke)}function d(Fe){return Fe.source==="^"||Fe.source==="^$"||Fe.source==="$"||Fe.source==="^\\s*$"?!1:!!(Fe.exec("")&&Fe.lastIndex===0)}function _(Fe){return(Fe.global?"g":"")+(Fe.ignoreCase?"i":"")+(Fe.multiline?"m":"")+(Fe.unicode?"u":"")}function v(Fe){return Fe.split(/\r\n|\r|\n/)}function p(Fe){for(let Ge=0,Te=Fe.length;Ge<Te;Ge++){const Ke=Fe.charCodeAt(Ge);if(Ke!==32&&Ke!==9)return Ge}return-1}function L(Fe,Ge=0,Te=Fe.length){for(let Ke=Ge;Ke<Te;Ke++){const ut=Fe.charCodeAt(Ke);if(ut!==32&&ut!==9)return Fe.substring(Ge,Ke)}return Fe.substring(Ge,Te)}function T(Fe,Ge=Fe.length-1){for(let Te=Ge;Te>=0;Te--){const Ke=Fe.charCodeAt(Te);if(Ke!==32&&Ke!==9)return Te}return-1}function M(Fe,Ge){return Fe<Ge?-1:Fe>Ge?1:0}function I(Fe,Ge,Te=0,Ke=Fe.length,ut=0,Nt=Ge.length){for(;Te<Ke&&ut<Nt;Te++,ut++){const wt=Fe.charCodeAt(Te),$t=Ge.charCodeAt(ut);if(wt<$t)return-1;if(wt>$t)return 1}const Be=Ke-Te,Ze=Nt-ut;return Be<Ze?-1:Be>Ze?1:0}function P(Fe,Ge){return V(Fe,Ge,0,Fe.length,0,Ge.length)}function V(Fe,Ge,Te=0,Ke=Fe.length,ut=0,Nt=Ge.length){for(;Te<Ke&&ut<Nt;Te++,ut++){let wt=Fe.charCodeAt(Te),$t=Ge.charCodeAt(ut);if(wt===$t)continue;if(wt>=128||$t>=128)return I(Fe.toLowerCase(),Ge.toLowerCase(),Te,Ke,ut,Nt);re(wt)&&(wt-=32),re($t)&&($t-=32);const _t=wt-$t;if(_t!==0)return _t}const Be=Ke-Te,Ze=Nt-ut;return Be<Ze?-1:Be>Ze?1:0}function $(Fe){return Fe>=48&&Fe<=57}function re(Fe){return Fe>=97&&Fe<=122}function ae(Fe){return Fe>=65&&Fe<=90}function ie(Fe,Ge){return Fe.length===Ge.length&&V(Fe,Ge)===0}function se(Fe,Ge){const Te=Ge.length;return Ge.length>Fe.length?!1:V(Fe,Ge,0,Te)===0}function X(Fe,Ge){const Te=Math.min(Fe.length,Ge.length);let Ke;for(Ke=0;Ke<Te;Ke++)if(Fe.charCodeAt(Ke)!==Ge.charCodeAt(Ke))return Ke;return Te}function ne(Fe,Ge){const Te=Math.min(Fe.length,Ge.length);let Ke;const ut=Fe.length-1,Nt=Ge.length-1;for(Ke=0;Ke<Te;Ke++)if(Fe.charCodeAt(ut-Ke)!==Ge.charCodeAt(Nt-Ke))return Ke;return Te}function Q(Fe){return 55296<=Fe&&Fe<=56319}function F(Fe){return 56320<=Fe&&Fe<=57343}function te(Fe,Ge){return(Fe-55296<<10)+(Ge-56320)+65536}function W(Fe,Ge,Te){const Ke=Fe.charCodeAt(Te);if(Q(Ke)&&Te+1<Ge){const ut=Fe.charCodeAt(Te+1);if(F(ut))return te(Ke,ut)}return Ke}function G(Fe,Ge){const Te=Fe.charCodeAt(Ge-1);if(F(Te)&&Ge>1){const Ke=Fe.charCodeAt(Ge-2);if(Q(Ke))return te(Ke,Te)}return Te}class q{constructor(Ge,Te=0){this._str=Ge,this._len=Ge.length,this._offset=Te}get offset(){return this._offset}setOffset(Ge){this._offset=Ge}prevCodePoint(){const Ge=G(this._str,this._offset);return this._offset-=Ge>=65536?2:1,Ge}nextCodePoint(){const Ge=W(this._str,this._len,this._offset);return this._offset+=Ge>=65536?2:1,Ge}eol(){return this._offset>=this._len}}class me{constructor(Ge,Te=0){this._iterator=new q(Ge,Te)}get offset(){return this._iterator.offset}nextGraphemeLength(){const Ge=ft.getInstance(),Te=this._iterator,Ke=Te.offset;let ut=Ge.getGraphemeBreakType(Te.nextCodePoint());for(;!Te.eol();){const Nt=Te.offset,Be=Ge.getGraphemeBreakType(Te.nextCodePoint());if(ye(ut,Be)){Te.setOffset(Nt);break}ut=Be}return Te.offset-Ke}prevGraphemeLength(){const Ge=ft.getInstance(),Te=this._iterator,Ke=Te.offset;let ut=Ge.getGraphemeBreakType(Te.prevCodePoint());for(;Te.offset>0;){const Nt=Te.offset,Be=Ge.getGraphemeBreakType(Te.prevCodePoint());if(ye(Be,ut)){Te.setOffset(Nt);break}ut=Be}return Ke-Te.offset}eol(){return this._iterator.eol()}}function w(Fe,Ge){return new me(Fe,Ge).nextGraphemeLength()}function we(Fe,Ge){return new me(Fe,Ge).prevGraphemeLength()}function xe(Fe,Ge){Ge>0&&F(Fe.charCodeAt(Ge))&&Ge--;const Te=Ge+w(Fe,Ge);return[Te-we(Fe,Te),Te]}const Ne=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Ve(Fe){return Ne.test(Fe)}const Ce=/^[\t\n\r\x20-\x7E]*$/;function Ae(Fe){return Ce.test(Fe)}const $e=/[\u2028\u2029]/;function je(Fe){return $e.test(Fe)}function at(Fe){return Fe>=11904&&Fe<=55215||Fe>=63744&&Fe<=64255||Fe>=65281&&Fe<=65374}function pt(Fe){return Fe>=127462&&Fe<=127487||Fe===8986||Fe===8987||Fe===9200||Fe===9203||Fe>=9728&&Fe<=10175||Fe===11088||Fe===11093||Fe>=127744&&Fe<=128591||Fe>=128640&&Fe<=128764||Fe>=128992&&Fe<=129008||Fe>=129280&&Fe<=129535||Fe>=129648&&Fe<=129782}const bt="\uFEFF";function We(Fe){return!!(Fe&&Fe.length>0&&Fe.charCodeAt(0)===65279)}function it(Fe,Ge=!1){return Fe?(Ge&&(Fe=Fe.replace(/\\./g,"")),Fe.toLowerCase()!==Fe):!1}function pe(Fe){return Fe=Fe%(2*26),Fe<26?String.fromCharCode(97+Fe):String.fromCharCode(65+Fe-26)}function ye(Fe,Ge){return Fe===0?Ge!==5&&Ge!==7:Fe===2&&Ge===3?!1:Fe===4||Fe===2||Fe===3||Ge===4||Ge===2||Ge===3?!0:!(Fe===8&&(Ge===8||Ge===9||Ge===11||Ge===12)||(Fe===11||Fe===9)&&(Ge===9||Ge===10)||(Fe===12||Fe===10)&&Ge===10||Ge===5||Ge===13||Ge===7||Fe===1||Fe===13&&Ge===14||Fe===6&&Ge===6)}class ft{constructor(){this._data=Xt()}static getInstance(){return ft._INSTANCE||(ft._INSTANCE=new ft),ft._INSTANCE}getGraphemeBreakType(Ge){if(Ge<32)return Ge===10?3:Ge===13?2:4;if(Ge<127)return 0;const Te=this._data,Ke=Te.length/3;let ut=1;for(;ut<=Ke;)if(Ge<Te[3*ut])ut=2*ut;else if(Ge>Te[3*ut+1])ut=2*ut+1;else return Te[3*ut+2];return 0}}ft._INSTANCE=null;function Xt(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function qt(Fe,Ge){if(Fe===0)return 0;const Te=Ft(Fe,Ge);if(Te!==void 0)return Te;const Ke=new q(Ge,Fe);return Ke.prevCodePoint(),Ke.offset}function Ft(Fe,Ge){const Te=new q(Ge,Fe);let Ke=Te.prevCodePoint();for(;Ot(Ke)||Ke===65039||Ke===8419;){if(Te.offset===0)return;Ke=Te.prevCodePoint()}if(!pt(Ke))return;let ut=Te.offset;return ut>0&&Te.prevCodePoint()===8205&&(ut=Te.offset),ut}function Ot(Fe){return 127995<=Fe&&Fe<=127999}const Mt="\xA0";class ni{constructor(Ge){this.confusableDictionary=Ge}static getInstance(Ge){return ni.cache.get(Array.from(Ge))}static getLocales(){return ni._locales.getValue()}isAmbiguous(Ge){return this.confusableDictionary.has(Ge)}getPrimaryConfusable(Ge){return this.confusableDictionary.get(Ge)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}z=ni,ni.ambiguousCharacterData=new l.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),ni.cache=new b.t(Fe=>{function Ge($t){const _t=new Map;for(let Jt=0;Jt<$t.length;Jt+=2)_t.set($t[Jt],$t[Jt+1]);return _t}function Te($t,_t){const Jt=new Map($t);for(const[Zt,Xe]of _t)Jt.set(Zt,Xe);return Jt}function Ke($t,_t){if(!$t)return _t;const Jt=new Map;for(const[Zt,Xe]of $t)_t.has(Zt)&&Jt.set(Zt,Xe);return Jt}const ut=z.ambiguousCharacterData.getValue();let Nt=Fe.filter($t=>!$t.startsWith("_")&&$t in ut);Nt.length===0&&(Nt=["_default"]);let Be;for(const $t of Nt){const _t=Ge(ut[$t]);Be=Ke(Be,_t)}const Ze=Ge(ut._common),wt=Te(Ze,Be);return new ni(wt)}),ni._locales=new l.o(()=>Object.keys(ni.ambiguousCharacterData.getValue()).filter(Fe=>!Fe.startsWith("_")));class Gt{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Gt.getRawData())),this._data}static isInvisibleCharacter(Ge){return Gt.getData().has(Ge)}static get codePoints(){return Gt.getData()}}Gt._data=void 0},98401:function(Yt,Ye,s){"use strict";s.d(Ye,{$E:function(){return v},$K:function(){return O},D8:function(){return i},HD:function(){return l},IU:function(){return p},Jp:function(){return y},Kn:function(){return z},TW:function(){return Z},cW:function(){return C},f6:function(){return L},fU:function(){return j},hj:function(){return E},jn:function(){return B},kJ:function(){return b},mf:function(){return m},o8:function(){return H},p_:function(){return g},vE:function(){return T}});function b(M){return Array.isArray(M)}function l(M){return typeof M=="string"}function z(M){return typeof M=="object"&&M!==null&&!Array.isArray(M)&&!(M instanceof RegExp)&&!(M instanceof Date)}function j(M){const I=Object.getPrototypeOf(Uint8Array);return typeof M=="object"&&M instanceof I}function E(M){return typeof M=="number"&&!isNaN(M)}function Z(M){return!!M&&typeof M[Symbol.iterator]=="function"}function B(M){return M===!0||M===!1}function H(M){return typeof M>"u"}function O(M){return!y(M)}function y(M){return H(M)||M===null}function g(M,I){if(!M)throw new Error(I?`Unexpected type, expected '${I}'`:"Unexpected type")}function C(M){if(y(M))throw new Error("Assertion Failed: argument is undefined or null");return M}function m(M){return typeof M=="function"}function i(M,I){const P=Math.min(M.length,I.length);for(let V=0;V<P;V++)d(M[V],I[V])}function d(M,I){if(l(I)){if(typeof M!==I)throw new Error(`argument does not match constraint: typeof ${I}`)}else if(m(I)){try{if(M instanceof I)return}catch{}if(!y(M)&&M.constructor===I||I.length===1&&I.call(void 0,M)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function _(M){let I=[],P=Object.getPrototypeOf(M);for(;Object.prototype!==P;)I=I.concat(Object.getOwnPropertyNames(P)),P=Object.getPrototypeOf(P);return I}function v(M){const I=[];for(const P of _(M))typeof M[P]=="function"&&I.push(P);return I}function p(M,I){const P=$=>function(){const re=Array.prototype.slice.call(arguments,0);return I($,re)},V={};for(const $ of M)V[$]=P($);return V}function L(M){return M===null?void 0:M}function T(M,I="Unreachable"){throw new Error(I)}},85427:function(Yt,Ye,s){"use strict";s.d(Ye,{A:function(){return l},K:function(){return b}});function b(z){return z<0?0:z>255?255:z|0}function l(z){return z<0?0:z>4294967295?4294967295:z|0}},70666:function(Yt,Ye,s){"use strict";s.d(Ye,{o:function(){return C},q:function(){return p}});var b=s(55336),l=s(1432);const z=/^\w[\w\d+.-]*$/,j=/^\//,E=/^\/\//;function Z(P,V){if(!P.scheme&&V)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${P.authority}", path: "${P.path}", query: "${P.query}", fragment: "${P.fragment}"}`);if(P.scheme&&!z.test(P.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(P.path){if(P.authority){if(!j.test(P.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(E.test(P.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function B(P,V){return!P&&!V?"file":P}function H(P,V){switch(P){case"https":case"http":case"file":V?V[0]!==y&&(V=y+V):V=y;break}return V}const O="",y="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class C{constructor(V,$,re,ae,ie,se=!1){typeof V=="object"?(this.scheme=V.scheme||O,this.authority=V.authority||O,this.path=V.path||O,this.query=V.query||O,this.fragment=V.fragment||O):(this.scheme=B(V,se),this.authority=$||O,this.path=H(this.scheme,re||O),this.query=ae||O,this.fragment=ie||O,Z(this,se))}static isUri(V){return V instanceof C?!0:V?typeof V.authority=="string"&&typeof V.fragment=="string"&&typeof V.path=="string"&&typeof V.query=="string"&&typeof V.scheme=="string"&&typeof V.fsPath=="string"&&typeof V.with=="function"&&typeof V.toString=="function":!1}get fsPath(){return p(this,!1)}with(V){if(!V)return this;let{scheme:$,authority:re,path:ae,query:ie,fragment:se}=V;return $===void 0?$=this.scheme:$===null&&($=O),re===void 0?re=this.authority:re===null&&(re=O),ae===void 0?ae=this.path:ae===null&&(ae=O),ie===void 0?ie=this.query:ie===null&&(ie=O),se===void 0?se=this.fragment:se===null&&(se=O),$===this.scheme&&re===this.authority&&ae===this.path&&ie===this.query&&se===this.fragment?this:new i($,re,ae,ie,se)}static parse(V,$=!1){const re=g.exec(V);return re?new i(re[2]||O,I(re[4]||O),I(re[5]||O),I(re[7]||O),I(re[9]||O),$):new i(O,O,O,O,O)}static file(V){let $=O;if(l.ED&&(V=V.replace(/\\/g,y)),V[0]===y&&V[1]===y){const re=V.indexOf(y,2);re===-1?($=V.substring(2),V=y):($=V.substring(2,re),V=V.substring(re)||y)}return new i("file",$,V,O,O)}static from(V){const $=new i(V.scheme,V.authority,V.path,V.query,V.fragment);return Z($,!0),$}static joinPath(V,...$){if(!V.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let re;return l.ED&&V.scheme==="file"?re=C.file(b.Ku.join(p(V,!0),...$)).path:re=b.KR.join(V.path,...$),V.with({path:re})}toString(V=!1){return L(this,V)}toJSON(){return this}static revive(V){if(V){if(V instanceof C)return V;{const $=new i(V);return $._formatted=V.external,$._fsPath=V._sep===m?V.fsPath:null,$}}else return V}}const m=l.ED?1:void 0;class i extends C{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=p(this,!1)),this._fsPath}toString(V=!1){return V?L(this,!0):(this._formatted||(this._formatted=L(this,!1)),this._formatted)}toJSON(){const V={$mid:1};return this._fsPath&&(V.fsPath=this._fsPath,V._sep=m),this._formatted&&(V.external=this._formatted),this.path&&(V.path=this.path),this.scheme&&(V.scheme=this.scheme),this.authority&&(V.authority=this.authority),this.query&&(V.query=this.query),this.fragment&&(V.fragment=this.fragment),V}}const d={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function _(P,V){let $,re=-1;for(let ae=0;ae<P.length;ae++){const ie=P.charCodeAt(ae);if(ie>=97&&ie<=122||ie>=65&&ie<=90||ie>=48&&ie<=57||ie===45||ie===46||ie===95||ie===126||V&&ie===47)re!==-1&&($+=encodeURIComponent(P.substring(re,ae)),re=-1),$!==void 0&&($+=P.charAt(ae));else{$===void 0&&($=P.substr(0,ae));const se=d[ie];se!==void 0?(re!==-1&&($+=encodeURIComponent(P.substring(re,ae)),re=-1),$+=se):re===-1&&(re=ae)}}return re!==-1&&($+=encodeURIComponent(P.substring(re))),$!==void 0?$:P}function v(P){let V;for(let $=0;$<P.length;$++){const re=P.charCodeAt($);re===35||re===63?(V===void 0&&(V=P.substr(0,$)),V+=d[re]):V!==void 0&&(V+=P[$])}return V!==void 0?V:P}function p(P,V){let $;return P.authority&&P.path.length>1&&P.scheme==="file"?$=`//${P.authority}${P.path}`:P.path.charCodeAt(0)===47&&(P.path.charCodeAt(1)>=65&&P.path.charCodeAt(1)<=90||P.path.charCodeAt(1)>=97&&P.path.charCodeAt(1)<=122)&&P.path.charCodeAt(2)===58?V?$=P.path.substr(1):$=P.path[1].toLowerCase()+P.path.substr(2):$=P.path,l.ED&&($=$.replace(/\//g,"\\")),$}function L(P,V){const $=V?v:_;let re="",{scheme:ae,authority:ie,path:se,query:X,fragment:ne}=P;if(ae&&(re+=ae,re+=":"),(ie||ae==="file")&&(re+=y,re+=y),ie){let Q=ie.indexOf("@");if(Q!==-1){const F=ie.substr(0,Q);ie=ie.substr(Q+1),Q=F.indexOf(":"),Q===-1?re+=$(F,!1):(re+=$(F.substr(0,Q),!1),re+=":",re+=$(F.substr(Q+1),!1)),re+="@"}ie=ie.toLowerCase(),Q=ie.indexOf(":"),Q===-1?re+=$(ie,!1):(re+=$(ie.substr(0,Q),!1),re+=ie.substr(Q))}if(se){if(se.length>=3&&se.charCodeAt(0)===47&&se.charCodeAt(2)===58){const Q=se.charCodeAt(1);Q>=65&&Q<=90&&(se=`/${String.fromCharCode(Q+32)}:${se.substr(3)}`)}else if(se.length>=2&&se.charCodeAt(1)===58){const Q=se.charCodeAt(0);Q>=65&&Q<=90&&(se=`${String.fromCharCode(Q+32)}:${se.substr(2)}`)}re+=$(se,!0)}return X&&(re+="?",re+=$(X,!1)),ne&&(re+="#",re+=V?ne:_(ne,!1)),re}function T(P){try{return decodeURIComponent(P)}catch{return P.length>3?P.substr(0,3)+T(P.substr(3)):P}}const M=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function I(P){return P.match(M)?P.replace(M,V=>T(V)):P}},98e3:function(Yt,Ye,s){"use strict";s.d(Ye,{R:function(){return b}});const b=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let l;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?l=crypto.getRandomValues.bind(crypto):l=function(E){for(let Z=0;Z<E.length;Z++)E[Z]=Math.floor(Math.random()*256);return E};const z=new Uint8Array(16),j=[];for(let E=0;E<256;E++)j.push(E.toString(16).padStart(2,"0"));return function(){l(z),z[6]=z[6]&15|64,z[8]=z[8]&63|128;let Z=0,B="";return B+=j[z[Z++]],B+=j[z[Z++]],B+=j[z[Z++]],B+=j[z[Z++]],B+="-",B+=j[z[Z++]],B+=j[z[Z++]],B+="-",B+=j[z[Z++]],B+=j[z[Z++]],B+="-",B+=j[z[Z++]],B+=j[z[Z++]],B+="-",B+=j[z[Z++]],B+=j[z[Z++]],B+=j[z[Z++]],B+=j[z[Z++]],B+=j[z[Z++]],B+=j[z[Z++]],B}}()},67746:function(Yt,Ye,s){"use strict";s.d(Ye,{Jq:function(){return l},X5:function(){return b},jG:function(){return z}});const b={ctrlCmd:!1,alt:!1};var l;(function(Z){Z[Z.Blur=1]="Blur",Z[Z.Gesture=2]="Gesture",Z[Z.Other=3]="Other"})(l||(l={}));var z;(function(Z){Z[Z.NONE=0]="NONE",Z[Z.FIRST=1]="FIRST",Z[Z.SECOND=2]="SECOND",Z[Z.LAST=3]="LAST"})(z||(z={}));class j{constructor(B){this.options=B}}const E=new j},25552:function(Yt,Ye,s){"use strict";s.d(Ye,{H:function(){return m}});var b=s(50048);var l=Object.defineProperty,z=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,Z=(i,d,_,v)=>{if(d&&typeof d=="object"||typeof d=="function")for(let p of j(d))!E.call(i,p)&&p!==_&&l(i,p,{get:()=>d[p],enumerable:!(v=z(d,p))||v.enumerable});return i},B=(i,d,_)=>(Z(i,d,"default"),_&&Z(_,d,"default")),H={};B(H,b);var O={},y={},g=class{constructor(i){ms(this,"_languageId");ms(this,"_loadingTriggered");ms(this,"_lazyLoadPromise");ms(this,"_lazyLoadPromiseResolve");ms(this,"_lazyLoadPromiseReject");this._languageId=i,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((d,_)=>{this._lazyLoadPromiseResolve=d,this._lazyLoadPromiseReject=_})}static getOrCreate(i){return y[i]||(y[i]=new g(i)),y[i]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,O[this._languageId].loader().then(i=>this._lazyLoadPromiseResolve(i),i=>this._lazyLoadPromiseReject(i))),this._lazyLoadPromise}};async function C(i){await g.getOrCreate(i).load(),H.editor.createModel("",i).dispose()}function m(i){const d=i.id;O[d]=i,H.languages.register(i);const _=g.getOrCreate(d);H.languages.registerTokensProviderFactory(d,{create:async()=>(await _.load()).language}),H.languages.onLanguage(d,async()=>{const v=await _.load();H.languages.setLanguageConfiguration(d,v.conf)})}},43763:function(Yt,Ye,s){"use strict";s.r(Ye);var b=s(25552);(0,b.H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>s.e(1134).then(s.bind(s,41134))})},83187:function(Yt,Ye,s){"use strict";s.r(Ye);var b=s(25552);(0,b.H)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>s.e(7287).then(s.bind(s,37287))})},88307:function(Yt,Ye,s){"use strict";s.r(Ye);var b=s(25552);(0,b.H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>s.e(6717).then(s.bind(s,96717))})},52136:function(Yt,Ye,s){"use strict";s.d(Ye,{N:function(){return l}});var b=s(38626);function l(z,j){z instanceof b.Z?(z.setFontFamily(j.getMassagedFontFamily()),z.setFontWeight(j.fontWeight),z.setFontSize(j.fontSize),z.setFontFeatureSettings(j.fontFeatureSettings),z.setLineHeight(j.lineHeight),z.setLetterSpacing(j.letterSpacing)):(z.style.fontFamily=j.getMassagedFontFamily(),z.style.fontWeight=j.fontWeight,z.style.fontSize=j.fontSize+"px",z.style.fontFeatureSettings=j.fontFeatureSettings,z.style.lineHeight=j.lineHeight+"px",z.style.letterSpacing=j.letterSpacing+"px")}},54534:function(Yt,Ye,s){"use strict";s.d(Ye,{I:function(){return z}});var b=s(5976),l=s(4669);class z extends b.JT{constructor(E,Z){super(),this._onDidChange=this._register(new l.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=E,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,Z)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(E=>{E&&E[0]&&E[0].contentRect?this.observe({width:E[0].contentRect.width,height:E[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(E){this.measureReferenceDomElement(!0,E)}measureReferenceDomElement(E,Z){let B=0,H=0;Z?(B=Z.width,H=Z.height):this._referenceDomElement&&(B=this._referenceDomElement.clientWidth,H=this._referenceDomElement.clientHeight),B=Math.max(5,B),H=Math.max(5,H),(this._width!==B||this._height!==H)&&(this._width=B,this._height=H,E&&this._onDidChange.fire())}}},66059:function(Yt,Ye,s){"use strict";s.d(Ye,{g:function(){return C}});var b=s(30747),l=s(4669),z=s(5976),j=s(52136);class E{constructor(i,d){this.chr=i,this.type=d,this.width=0}fulfill(i){this.width=i}}class Z{constructor(i,d){this._bareFontInfo=i,this._requests=d,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const i=document.createElement("div");i.style.position="absolute",i.style.top="-50000px",i.style.width="50000px";const d=document.createElement("div");(0,j.N)(d,this._bareFontInfo),i.appendChild(d);const _=document.createElement("div");(0,j.N)(_,this._bareFontInfo),_.style.fontWeight="bold",i.appendChild(_);const v=document.createElement("div");(0,j.N)(v,this._bareFontInfo),v.style.fontStyle="italic",i.appendChild(v);const p=[];for(const L of this._requests){let T;L.type===0&&(T=d),L.type===2&&(T=_),L.type===1&&(T=v),T.appendChild(document.createElement("br"));const M=document.createElement("span");Z._render(M,L),T.appendChild(M),p.push(M)}this._container=i,this._testElements=p}static _render(i,d){if(d.chr===" "){let _="\xA0";for(let v=0;v<8;v++)_+=_;i.innerText=_}else{let _=d.chr;for(let v=0;v<8;v++)_+=_;i.textContent=_}}_readFromDomElements(){for(let i=0,d=this._requests.length;i<d;i++){const _=this._requests[i],v=this._testElements[i];_.fulfill(v.offsetWidth/256)}}}function B(m,i){new Z(m,i).read()}var H=s(64141),O=s(27374);class y extends z.JT{constructor(){super(),this._onDidChange=this._register(new l.Q5),this.onDidChange=this._onDidChange.event,this._cache=new g,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new g,this._onDidChange.fire()}_writeToCache(i,d){this._cache.put(i,d),!d.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const i=this._cache.getValues();let d=!1;for(const _ of i)_.isTrusted||(d=!0,this._cache.remove(_));d&&this._onDidChange.fire()}readFontInfo(i){if(!this._cache.has(i)){let d=this._actualReadFontInfo(i);(d.typicalHalfwidthCharacterWidth<=2||d.typicalFullwidthCharacterWidth<=2||d.spaceWidth<=2||d.maxDigitWidth<=2)&&(d=new O.pR({pixelRatio:b.PixelRatio.value,fontFamily:d.fontFamily,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFeatureSettings:d.fontFeatureSettings,lineHeight:d.lineHeight,letterSpacing:d.letterSpacing,isMonospace:d.isMonospace,typicalHalfwidthCharacterWidth:Math.max(d.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(d.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:d.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(d.spaceWidth,5),middotWidth:Math.max(d.middotWidth,5),wsmiddotWidth:Math.max(d.wsmiddotWidth,5),maxDigitWidth:Math.max(d.maxDigitWidth,5)},!1)),this._writeToCache(i,d)}return this._cache.get(i)}_createRequest(i,d,_,v){const p=new E(i,d);return _.push(p),v?.push(p),p}_actualReadFontInfo(i){const d=[],_=[],v=this._createRequest("n",0,d,_),p=this._createRequest("\uFF4D",0,d,null),L=this._createRequest(" ",0,d,_),T=this._createRequest("0",0,d,_),M=this._createRequest("1",0,d,_),I=this._createRequest("2",0,d,_),P=this._createRequest("3",0,d,_),V=this._createRequest("4",0,d,_),$=this._createRequest("5",0,d,_),re=this._createRequest("6",0,d,_),ae=this._createRequest("7",0,d,_),ie=this._createRequest("8",0,d,_),se=this._createRequest("9",0,d,_),X=this._createRequest("\u2192",0,d,_),ne=this._createRequest("\uFFEB",0,d,null),Q=this._createRequest("\xB7",0,d,_),F=this._createRequest("\u2E31",0,d,null),te="|/-_ilm%";for(let w=0,we=te.length;w<we;w++)this._createRequest(te.charAt(w),0,d,_),this._createRequest(te.charAt(w),1,d,_),this._createRequest(te.charAt(w),2,d,_);B(i,d);const W=Math.max(T.width,M.width,I.width,P.width,V.width,$.width,re.width,ae.width,ie.width,se.width);let G=i.fontFeatureSettings===H.n0.OFF;const q=_[0].width;for(let w=1,we=_.length;G&&w<we;w++){const xe=q-_[w].width;if(xe<-.001||xe>.001){G=!1;break}}let me=!0;return G&&ne.width!==q&&(me=!1),ne.width>X.width&&(me=!1),new O.pR({pixelRatio:b.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:G,typicalHalfwidthCharacterWidth:v.width,typicalFullwidthCharacterWidth:p.width,canUseHalfwidthRightwardsArrow:me,spaceWidth:L.width,middotWidth:Q.width,wsmiddotWidth:F.width,maxDigitWidth:W},!0)}}class g{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(i){const d=i.getId();return!!this._values[d]}get(i){const d=i.getId();return this._values[d]}put(i,d){const _=i.getId();this._keys[_]=i,this._values[_]=d}remove(i){const d=i.getId();delete this._keys[d],delete this._values[d]}getValues(){return Object.keys(this._keys).map(i=>this._values[i])}}const C=new y},37940:function(Yt,Ye,s){"use strict";s.d(Ye,{n:function(){return z}});var b=s(4669);class l{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new b.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(E){this._tabFocus!==E&&(this._tabFocus=E,this._onDidChangeTabFocus.fire(this._tabFocus))}}const z=new l},35715:function(Yt,Ye,s){"use strict";s.d(Ye,{Fz:function(){return d},Nl:function(){return m},RA:function(){return C},Tj:function(){return v},pd:function(){return g}});var b=s(30747),l=s(65321),z=s(59069),j=s(15393),E=s(4669),Z=s(5976),B=s(81170),H=s(97295),O=s(15887),y=s(3860),g;(function(p){p.Tap="-monaco-textarea-synthetic-tap"})(g||(g={}));const C={forceCopyWithSyntaxHighlighting:!1};class m{constructor(){this._lastState=null}set(L,T){this._lastState={lastCopiedValue:L,data:T}}get(L){return this._lastState&&this._lastState.lastCopiedValue===L?this._lastState.data:(this._lastState=null,null)}}m.INSTANCE=new m;class i{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(L){L=L||"";const T={text:L,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=L.length,T}}class d extends Z.JT{constructor(L,T,M,I){super(),this._host=L,this._textArea=T,this._OS=M,this._browser=I,this._onFocus=this._register(new E.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new E.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new E.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new E.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new E.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new E.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new E.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new E.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new E.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new E.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new E.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new j.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new j.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=O.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let P=null;this._register(this._textArea.onKeyDown(V=>{const $=new z.y(V);($.keyCode===109||this._currentComposition&&$.keyCode===1)&&$.stopPropagation(),$.equals(9)&&$.preventDefault(),P=$,this._onKeyDown.fire($)})),this._register(this._textArea.onKeyUp(V=>{const $=new z.y(V);this._onKeyUp.fire($)})),this._register(this._textArea.onCompositionStart(V=>{O.al&&console.log("[compositionstart]",V);const $=new i;if(this._currentComposition){this._currentComposition=$;return}if(this._currentComposition=$,this._OS===2&&P&&P.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===V.data&&(P.code==="ArrowRight"||P.code==="ArrowLeft")){O.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",V),$.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:V.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:V.data});return}this._onCompositionStart.fire({data:V.data})})),this._register(this._textArea.onCompositionUpdate(V=>{O.al&&console.log("[compositionupdate]",V);const $=this._currentComposition;if(!$)return;if(this._browser.isAndroid){const ae=O.un.readFromTextArea(this._textArea),ie=O.un.deduceAndroidCompositionInput(this._textAreaState,ae);this._textAreaState=ae,this._onType.fire(ie),this._onCompositionUpdate.fire(V);return}const re=$.handleCompositionUpdate(V.data);this._textAreaState=O.un.readFromTextArea(this._textArea),this._onType.fire(re),this._onCompositionUpdate.fire(V)})),this._register(this._textArea.onCompositionEnd(V=>{O.al&&console.log("[compositionend]",V);const $=this._currentComposition;if(!$)return;if(this._currentComposition=null,this._browser.isAndroid){const ae=O.un.readFromTextArea(this._textArea),ie=O.un.deduceAndroidCompositionInput(this._textAreaState,ae);this._textAreaState=ae,this._onType.fire(ie),this._onCompositionEnd.fire();return}const re=$.handleCompositionUpdate(V.data);this._textAreaState=O.un.readFromTextArea(this._textArea),this._onType.fire(re),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(V=>{if(O.al&&console.log("[input]",V),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const $=O.un.readFromTextArea(this._textArea),re=O.un.deduceInput(this._textAreaState,$,this._OS===2);re.replacePrevCharCnt===0&&re.text.length===1&&H.ZG(re.text.charCodeAt(0))||(this._textAreaState=$,(re.text!==""||re.replacePrevCharCnt!==0||re.replaceNextCharCnt!==0||re.positionDelta!==0)&&this._onType.fire(re))})),this._register(this._textArea.onCut(V=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(V),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(V=>{this._ensureClipboardGetsEditorSelection(V)})),this._register(this._textArea.onPaste(V=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),V.preventDefault(),!V.clipboardData)return;let[$,re]=_.getTextData(V.clipboardData);$&&(re=re||m.INSTANCE.get($),this._onPaste.fire({text:$,metadata:re}))})),this._register(this._textArea.onFocus(()=>{const V=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!V&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let L=0;return l.nm(document,"selectionchange",T=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const M=Date.now(),I=M-L;if(L=M,I<5)return;const P=M-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),P<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const V=this._textArea.getValue();if(this._textAreaState.value!==V)return;const $=this._textArea.getSelectionStart(),re=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===$&&this._textAreaState.selectionEnd===re)return;const ae=this._textAreaState.deduceEditorPosition($),ie=this._host.deduceModelPosition(ae[0],ae[1],ae[2]),se=this._textAreaState.deduceEditorPosition(re),X=this._host.deduceModelPosition(se[0],se[1],se[2]),ne=new y.Y(ie.lineNumber,ie.column,X.lineNumber,X.column);this._onSelectionChangeRequest.fire(ne)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(L){this._hasFocus!==L&&(this._hasFocus=L,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(L,T){this._hasFocus||(T=T.collapseSelection()),T.writeToTextArea(L,this._textArea,this._hasFocus),this._textAreaState=T}writeScreenReaderContent(L){this._currentComposition||this._setAndWriteTextAreaState(L,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(L){const T=this._host.getDataToCopy(),M={version:1,isFromEmptySelection:T.isFromEmptySelection,multicursorText:T.multicursorText,mode:T.mode};m.INSTANCE.set(this._browser.isFirefox?T.text.replace(/\r\n/g,`
`):T.text,M),L.preventDefault(),L.clipboardData&&_.setTextData(L.clipboardData,T.text,T.html,M)}}class _{static getTextData(L){const T=L.getData(B.v.text);let M=null;const I=L.getData("vscode-editor-data");if(typeof I=="string")try{M=JSON.parse(I),M.version!==1&&(M=null)}catch{}return T.length===0&&M===null&&L.files.length>0?[Array.prototype.slice.call(L.files,0).map(V=>V.name).join(`
`),null]:[T,M]}static setTextData(L,T,M,I){L.setData(B.v.text,T),typeof M=="string"&&L.setData("text/html",M),L.setData("vscode-editor-data",JSON.stringify(I))}}class v extends Z.JT{constructor(L){super(),this._actual=L,this.onKeyDown=this._register(l.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(l.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(l.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(l.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(l.IC(this._actual,"compositionend")).event,this.onInput=this._register(l.IC(this._actual,"input")).event,this.onCut=this._register(l.IC(this._actual,"cut")).event,this.onCopy=this._register(l.IC(this._actual,"copy")).event,this.onPaste=this._register(l.IC(this._actual,"paste")).event,this.onFocus=this._register(l.IC(this._actual,"focus")).event,this.onBlur=this._register(l.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new E.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(l.nm(this._actual,g.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const L=l.Ay(this._actual);return L?L.activeElement===this._actual:l.Uw(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(L){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(L,T){const M=this._actual;M.value!==T&&(this.setIgnoreSelectionChangeTime("setValue"),M.value=T)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(L,T,M){const I=this._actual;let P=null;const V=l.Ay(I);V?P=V.activeElement:P=document.activeElement;const $=P===I,re=I.selectionStart,ae=I.selectionEnd;if($&&re===T&&ae===M){b.isFirefox&&window.parent!==window&&I.focus();return}if($){this.setIgnoreSelectionChangeTime("setSelectionRange"),I.setSelectionRange(T,M),b.isFirefox&&window.parent!==window&&I.focus();return}try{const ie=l.vL(I);this.setIgnoreSelectionChangeTime("setSelectionRange"),I.focus(),I.setSelectionRange(T,M),l._0(I,ie)}catch{}}}},15887:function(Yt,Ye,s){"use strict";s.d(Ye,{al:function(){return j},ee:function(){return Z},un:function(){return E}});var b=s(97295),l=s(50187),z=s(24314);const j=!1;class E{constructor(H,O,y,g,C){this.value=H,this.selectionStart=O,this.selectionEnd=y,this.selectionStartPosition=g,this.selectionEndPosition=C}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(H){return new E(H.getValue(),H.getSelectionStart(),H.getSelectionEnd(),null,null)}collapseSelection(){return new E(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(H,O,y){j&&console.log(`writeToTextArea ${H}: ${this.toString()}`),O.setValue(H,this.value),y&&O.setSelectionRange(H,this.selectionStart,this.selectionEnd)}deduceEditorPosition(H){if(H<=this.selectionStart){const g=this.value.substring(H,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,g,-1)}if(H>=this.selectionEnd){const g=this.value.substring(this.selectionEnd,H);return this._finishDeduceEditorPosition(this.selectionEndPosition,g,1)}const O=this.value.substring(this.selectionStart,H);if(O.indexOf("\u2026")===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,O,1);const y=this.value.substring(H,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,y,-1)}_finishDeduceEditorPosition(H,O,y){let g=0,C=-1;for(;(C=O.indexOf(`
`,C+1))!==-1;)g++;return[H,y*O.length,g]}static deduceInput(H,O,y){if(!H)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};j&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${H.toString()}`),console.log(`CURRENT STATE: ${O.toString()}`));const g=Math.min(b.Mh(H.value,O.value),H.selectionStart,O.selectionStart),C=Math.min(b.P1(H.value,O.value),H.value.length-H.selectionEnd,O.value.length-O.selectionEnd),m=H.value.substring(g,H.value.length-C),i=O.value.substring(g,O.value.length-C),d=H.selectionStart-g,_=H.selectionEnd-g,v=O.selectionStart-g,p=O.selectionEnd-g;if(j&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${m}>, selectionStart: ${d}, selectionEnd: ${_}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${v}, selectionEnd: ${p}`)),v===p){const T=H.selectionStart-g;return j&&console.log(`REMOVE PREVIOUS: ${T} chars`),{text:i,replacePrevCharCnt:T,replaceNextCharCnt:0,positionDelta:0}}const L=_-d;return{text:i,replacePrevCharCnt:L,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(H,O){if(!H)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(j&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${H.toString()}`),console.log(`CURRENT STATE: ${O.toString()}`)),H.value===O.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:O.selectionEnd-H.selectionEnd};const y=Math.min(b.Mh(H.value,O.value),H.selectionEnd),g=Math.min(b.P1(H.value,O.value),H.value.length-H.selectionEnd),C=H.value.substring(y,H.value.length-g),m=O.value.substring(y,O.value.length-g),i=H.selectionStart-y,d=H.selectionEnd-y,_=O.selectionStart-y,v=O.selectionEnd-y;return j&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${C}>, selectionStart: ${i}, selectionEnd: ${d}`),console.log(`AFTER DIFFING CURRENT STATE: <${m}>, selectionStart: ${_}, selectionEnd: ${v}`)),{text:m,replacePrevCharCnt:d,replaceNextCharCnt:C.length-d,positionDelta:v-m.length}}}E.EMPTY=new E("",0,0,null,null);class Z{static _getPageOfLine(H,O){return Math.floor((H-1)/O)}static _getRangeForPage(H,O){const y=H*O,g=y+1,C=y+O;return new z.e(g,1,C+1,1)}static fromEditorSelection(H,O,y,g,C){const m=Z._getPageOfLine(y.startLineNumber,g),i=Z._getRangeForPage(m,g),d=Z._getPageOfLine(y.endLineNumber,g),_=Z._getRangeForPage(d,g),v=i.intersectRanges(new z.e(1,1,y.startLineNumber,y.startColumn));let p=O.getValueInRange(v,1);const L=O.getLineCount(),T=O.getLineMaxColumn(L),M=_.intersectRanges(new z.e(y.endLineNumber,y.endColumn,L,T));let I=O.getValueInRange(M,1),P;if(m===d||m+1===d)P=O.getValueInRange(y,1);else{const V=i.intersectRanges(y),$=_.intersectRanges(y);P=O.getValueInRange(V,1)+"\u2026"+O.getValueInRange($,1)}return C&&(p.length>500&&(p=p.substring(p.length-500,p.length)),I.length>500&&(I=I.substring(0,500)),P.length>2*500&&(P=P.substring(0,500)+"\u2026"+P.substring(P.length-500,P.length))),new E(p+P+I,p.length,p.length+P.length,new l.L(y.startLineNumber,y.startColumn),new l.L(y.endLineNumber,y.endColumn))}}},42549:function(Yt,Ye,s){"use strict";s.d(Ye,{wk:function(){return re},Ox:function(){return I}});var b=s(63580),l=s(30747),z=s(98401),j=s(35996),E=s(16830),Z=s(11640),B=s(55343),H=s(50187),O=s(24314);class y{static columnSelect(X,ne,Q,F,te,W){const G=Math.abs(te-Q)+1,q=Q>te,me=F>W,w=F<W,we=[];for(let xe=0;xe<G;xe++){const Ne=Q+(q?-xe:xe),Ve=X.columnFromVisibleColumn(ne,Ne,F),Ce=X.columnFromVisibleColumn(ne,Ne,W),Ae=X.visibleColumnFromColumn(ne,new H.L(Ne,Ve)),$e=X.visibleColumnFromColumn(ne,new H.L(Ne,Ce));w&&(Ae>W||$e<F)||me&&($e>F||Ae<W)||we.push(new B.rS(new O.e(Ne,Ve,Ne,Ve),0,new H.L(Ne,Ce),0))}if(we.length===0)for(let xe=0;xe<G;xe++){const Ne=Q+(q?-xe:xe),Ve=ne.getLineMaxColumn(Ne);we.push(new B.rS(new O.e(Ne,Ve,Ne,Ve),0,new H.L(Ne,Ve),0))}return{viewStates:we,reversed:q,fromLineNumber:Q,fromVisualColumn:F,toLineNumber:te,toVisualColumn:W}}static columnSelectLeft(X,ne,Q){let F=Q.toViewVisualColumn;return F>0&&F--,y.columnSelect(X,ne,Q.fromViewLineNumber,Q.fromViewVisualColumn,Q.toViewLineNumber,F)}static columnSelectRight(X,ne,Q){let F=0;const te=Math.min(Q.fromViewLineNumber,Q.toViewLineNumber),W=Math.max(Q.fromViewLineNumber,Q.toViewLineNumber);for(let q=te;q<=W;q++){const me=ne.getLineMaxColumn(q),w=X.visibleColumnFromColumn(ne,new H.L(q,me));F=Math.max(F,w)}let G=Q.toViewVisualColumn;return G<F&&G++,this.columnSelect(X,ne,Q.fromViewLineNumber,Q.fromViewVisualColumn,Q.toViewLineNumber,G)}static columnSelectUp(X,ne,Q,F){const te=F?X.pageSize:1,W=Math.max(1,Q.toViewLineNumber-te);return this.columnSelect(X,ne,Q.fromViewLineNumber,Q.fromViewVisualColumn,W,Q.toViewVisualColumn)}static columnSelectDown(X,ne,Q,F){const te=F?X.pageSize:1,W=Math.min(ne.getLineCount(),Q.toViewLineNumber+te);return this.columnSelect(X,ne,Q.fromViewLineNumber,Q.fromViewVisualColumn,W,Q.toViewVisualColumn)}}var g=s(29436),C=s(28108),m=s(94729),i=s(29102),d=s(38819),_=s(49989);const v=0;class p extends E._l{runEditorCommand(X,ne,Q){const F=ne._getViewModel();F&&this.runCoreEditorCommand(F,Q||{})}}var L;(function(se){const X=function(Q){if(!z.Kn(Q))return!1;const F=Q;return!(!z.HD(F.to)||!z.o8(F.by)&&!z.HD(F.by)||!z.o8(F.value)&&!z.hj(F.value)||!z.o8(F.revealCursor)&&!z.jn(F.revealCursor))};se.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:X,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},se.RawDirection={Up:"up",Down:"down"},se.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"};function ne(Q){let F;switch(Q.to){case se.RawDirection.Up:F=1;break;case se.RawDirection.Down:F=2;break;default:return null}let te;switch(Q.by){case se.RawUnit.Line:te=1;break;case se.RawUnit.WrappedLine:te=2;break;case se.RawUnit.Page:te=3;break;case se.RawUnit.HalfPage:te=4;break;case se.RawUnit.Editor:te=5;break;default:te=2}const W=Math.floor(Q.value||1),G=!!Q.revealCursor;return{direction:F,unit:te,value:W,revealCursor:G,select:!!Q.select}}se.parse=ne})(L||(L={}));var T;(function(se){const X=function(ne){if(!z.Kn(ne))return!1;const Q=ne;return!(!z.hj(Q.lineNumber)&&!z.HD(Q.lineNumber)||!z.o8(Q.at)&&!z.HD(Q.at))};se.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:X,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},se.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(T||(T={}));class M{constructor(X){X.addImplementation(1e4,"code-editor",(ne,Q)=>{const F=ne.get(Z.$).getFocusedCodeEditor();return F&&F.hasTextFocus()?this._runEditorCommand(ne,F,Q):!1}),X.addImplementation(1e3,"generic-dom-input-textarea",(ne,Q)=>{const F=document.activeElement;return F&&["input","textarea"].indexOf(F.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),X.addImplementation(0,"generic-dom",(ne,Q)=>{const F=ne.get(Z.$).getActiveCodeEditor();return F?(F.focus(),this._runEditorCommand(ne,F,Q)):!1})}_runEditorCommand(X,ne,Q){const F=this.runEditorCommand(X,ne,Q);return F||!0}}var I;(function(se){class X extends p{constructor(je){super(je),this._minimalReveal=je.minimalReveal,this._inSelectionMode=je.inSelectionMode}runCoreEditorCommand(je,at){je.model.pushStackElement(),je.setCursorStates(at.source,3,[C.P.moveTo(je,je.getPrimaryCursorState(),this._inSelectionMode,at.position,at.viewPosition)])&&je.revealPrimaryCursor(at.source,!0,this._minimalReveal)}}se.MoveTo=(0,E.fK)(new X({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),se.MoveToSelect=(0,E.fK)(new X({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class ne extends p{runCoreEditorCommand(je,at){je.model.pushStackElement();const pt=this._getColumnSelectResult(je,je.getPrimaryCursorState(),je.getCursorColumnSelectData(),at);je.setCursorStates(at.source,3,pt.viewStates.map(bt=>B.Vi.fromViewState(bt))),je.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:pt.fromLineNumber,fromViewVisualColumn:pt.fromVisualColumn,toViewLineNumber:pt.toLineNumber,toViewVisualColumn:pt.toVisualColumn}),pt.reversed?je.revealTopMostCursor(at.source):je.revealBottomMostCursor(at.source)}}se.ColumnSelect=(0,E.fK)(new class extends ne{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult($e,je,at,pt){const bt=$e.model.validatePosition(pt.position),We=$e.coordinatesConverter.validateViewPosition(new H.L(pt.viewPosition.lineNumber,pt.viewPosition.column),bt),it=pt.doColumnSelect?at.fromViewLineNumber:We.lineNumber,pe=pt.doColumnSelect?at.fromViewVisualColumn:pt.mouseColumn-1;return y.columnSelect($e.cursorConfig,$e,it,pe,We.lineNumber,pt.mouseColumn-1)}}),se.CursorColumnSelectLeft=(0,E.fK)(new class extends ne{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult($e,je,at,pt){return y.columnSelectLeft($e.cursorConfig,$e,at)}}),se.CursorColumnSelectRight=(0,E.fK)(new class extends ne{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult($e,je,at,pt){return y.columnSelectRight($e.cursorConfig,$e,at)}});class Q extends ne{constructor(je){super(je),this._isPaged=je.isPaged}_getColumnSelectResult(je,at,pt,bt){return y.columnSelectUp(je.cursorConfig,je,pt,this._isPaged)}}se.CursorColumnSelectUp=(0,E.fK)(new Q({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:3600,linux:{primary:0}}})),se.CursorColumnSelectPageUp=(0,E.fK)(new Q({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:3595,linux:{primary:0}}}));class F extends ne{constructor(je){super(je),this._isPaged=je.isPaged}_getColumnSelectResult(je,at,pt,bt){return y.columnSelectDown(je.cursorConfig,je,pt,this._isPaged)}}se.CursorColumnSelectDown=(0,E.fK)(new F({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:3602,linux:{primary:0}}})),se.CursorColumnSelectPageDown=(0,E.fK)(new F({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:3596,linux:{primary:0}}}));class te extends p{constructor(){super({id:"cursorMove",precondition:void 0,description:C.N.description})}runCoreEditorCommand(je,at){const pt=C.N.parse(at);pt&&this._runCursorMove(je,at.source,pt)}_runCursorMove(je,at,pt){je.model.pushStackElement(),je.setCursorStates(at,3,te._move(je,je.getCursorStates(),pt)),je.revealPrimaryCursor(at,!0)}static _move(je,at,pt){const bt=pt.select,We=pt.value;switch(pt.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return C.P.simpleMove(je,at,pt.direction,bt,We,pt.unit);case 11:case 13:case 12:case 14:return C.P.viewportMove(je,at,pt.direction,bt,We);default:return null}}}se.CursorMoveImpl=te,se.CursorMove=(0,E.fK)(new te);class W extends p{constructor(je){super(je),this._staticArgs=je.args}runCoreEditorCommand(je,at){let pt=this._staticArgs;this._staticArgs.value===-1&&(pt={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:at.pageSize||je.cursorConfig.pageSize}),je.model.pushStackElement(),je.setCursorStates(at.source,3,C.P.simpleMove(je,je.getCursorStates(),pt.direction,pt.select,pt.value,pt.unit)),je.revealPrimaryCursor(at.source,!0)}}se.CursorLeft=(0,E.fK)(new W({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),se.CursorLeftSelect=(0,E.fK)(new W({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:1039}})),se.CursorRight=(0,E.fK)(new W({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),se.CursorRightSelect=(0,E.fK)(new W({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:1041}})),se.CursorUp=(0,E.fK)(new W({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),se.CursorUpSelect=(0,E.fK)(new W({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),se.CursorPageUp=(0,E.fK)(new W({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:11}})),se.CursorPageUpSelect=(0,E.fK)(new W({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:1035}})),se.CursorDown=(0,E.fK)(new W({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),se.CursorDownSelect=(0,E.fK)(new W({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),se.CursorPageDown=(0,E.fK)(new W({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:12}})),se.CursorPageDownSelect=(0,E.fK)(new W({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:1036}})),se.CreateCursor=(0,E.fK)(new class extends p{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand($e,je){let at;je.wholeLine?at=C.P.line($e,$e.getPrimaryCursorState(),!1,je.position,je.viewPosition):at=C.P.moveTo($e,$e.getPrimaryCursorState(),!1,je.position,je.viewPosition);const pt=$e.getCursorStates();if(pt.length>1){const bt=at.modelState?at.modelState.position:null,We=at.viewState?at.viewState.position:null;for(let it=0,pe=pt.length;it<pe;it++){const ye=pt[it];if(!(bt&&!ye.modelState.selection.containsPosition(bt))&&!(We&&!ye.viewState.selection.containsPosition(We))){pt.splice(it,1),$e.model.pushStackElement(),$e.setCursorStates(je.source,3,pt);return}}}pt.push(at),$e.model.pushStackElement(),$e.setCursorStates(je.source,3,pt)}}),se.LastCursorMoveToSelect=(0,E.fK)(new class extends p{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand($e,je){const at=$e.getLastAddedCursorIndex(),pt=$e.getCursorStates(),bt=pt.slice(0);bt[at]=C.P.moveTo($e,pt[at],!0,je.position,je.viewPosition),$e.model.pushStackElement(),$e.setCursorStates(je.source,3,bt)}});class G extends p{constructor(je){super(je),this._inSelectionMode=je.inSelectionMode}runCoreEditorCommand(je,at){je.model.pushStackElement(),je.setCursorStates(at.source,3,C.P.moveToBeginningOfLine(je,je.getCursorStates(),this._inSelectionMode)),je.revealPrimaryCursor(at.source,!0)}}se.CursorHome=(0,E.fK)(new G({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),se.CursorHomeSelect=(0,E.fK)(new G({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class q extends p{constructor(je){super(je),this._inSelectionMode=je.inSelectionMode}runCoreEditorCommand(je,at){je.model.pushStackElement(),je.setCursorStates(at.source,3,this._exec(je.getCursorStates())),je.revealPrimaryCursor(at.source,!0)}_exec(je){const at=[];for(let pt=0,bt=je.length;pt<bt;pt++){const We=je[pt],it=We.modelState.position.lineNumber;at[pt]=B.Vi.fromModelState(We.modelState.move(this._inSelectionMode,it,1,0))}return at}}se.CursorLineStart=(0,E.fK)(new q({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:287}}})),se.CursorLineStartSelect=(0,E.fK)(new q({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:1311}}}));class me extends p{constructor(je){super(je),this._inSelectionMode=je.inSelectionMode}runCoreEditorCommand(je,at){je.model.pushStackElement(),je.setCursorStates(at.source,3,C.P.moveToEndOfLine(je,je.getCursorStates(),this._inSelectionMode,at.sticky||!1)),je.revealPrimaryCursor(at.source,!0)}}se.CursorEnd=(0,E.fK)(new me({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:v,kbExpr:i.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:b.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),se.CursorEndSelect=(0,E.fK)(new me({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:v,kbExpr:i.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:b.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class w extends p{constructor(je){super(je),this._inSelectionMode=je.inSelectionMode}runCoreEditorCommand(je,at){je.model.pushStackElement(),je.setCursorStates(at.source,3,this._exec(je,je.getCursorStates())),je.revealPrimaryCursor(at.source,!0)}_exec(je,at){const pt=[];for(let bt=0,We=at.length;bt<We;bt++){const it=at[bt],pe=it.modelState.position.lineNumber,ye=je.model.getLineMaxColumn(pe);pt[bt]=B.Vi.fromModelState(it.modelState.move(this._inSelectionMode,pe,ye,0))}return pt}}se.CursorLineEnd=(0,E.fK)(new w({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:291}}})),se.CursorLineEndSelect=(0,E.fK)(new w({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:1315}}}));class we extends p{constructor(je){super(je),this._inSelectionMode=je.inSelectionMode}runCoreEditorCommand(je,at){je.model.pushStackElement(),je.setCursorStates(at.source,3,C.P.moveToBeginningOfBuffer(je,je.getCursorStates(),this._inSelectionMode)),je.revealPrimaryCursor(at.source,!0)}}se.CursorTop=(0,E.fK)(new we({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:2062,mac:{primary:2064}}})),se.CursorTopSelect=(0,E.fK)(new we({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class xe extends p{constructor(je){super(je),this._inSelectionMode=je.inSelectionMode}runCoreEditorCommand(je,at){je.model.pushStackElement(),je.setCursorStates(at.source,3,C.P.moveToEndOfBuffer(je,je.getCursorStates(),this._inSelectionMode)),je.revealPrimaryCursor(at.source,!0)}}se.CursorBottom=(0,E.fK)(new xe({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:2061,mac:{primary:2066}}})),se.CursorBottomSelect=(0,E.fK)(new xe({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class Ne extends p{constructor(){super({id:"editorScroll",precondition:void 0,description:L.description})}runCoreEditorCommand(je,at){const pt=L.parse(at);pt&&this._runEditorScroll(je,at.source,pt)}_runEditorScroll(je,at,pt){const bt=this._computeDesiredScrollTop(je,pt);if(pt.revealCursor){const We=je.getCompletelyVisibleViewRangeAtScrollTop(bt);je.setCursorStates(at,3,[C.P.findPositionInViewportIfOutside(je,je.getPrimaryCursorState(),We,pt.select)])}je.viewLayout.setScrollPosition({scrollTop:bt},0)}_computeDesiredScrollTop(je,at){if(at.unit===1){const We=je.getCompletelyVisibleViewRange(),it=je.coordinatesConverter.convertViewRangeToModelRange(We);let pe;at.direction===1?pe=Math.max(1,it.startLineNumber-at.value):pe=Math.min(je.model.getLineCount(),it.startLineNumber+at.value);const ye=je.coordinatesConverter.convertModelPositionToViewPosition(new H.L(pe,1));return je.viewLayout.getVerticalOffsetForLineNumber(ye.lineNumber)}if(at.unit===5){let We=0;return at.direction===2&&(We=je.model.getLineCount()-je.cursorConfig.pageSize),je.viewLayout.getVerticalOffsetForLineNumber(We)}let pt;at.unit===3?pt=je.cursorConfig.pageSize*at.value:at.unit===4?pt=Math.round(je.cursorConfig.pageSize/2)*at.value:pt=at.value;const bt=(at.direction===1?-1:1)*pt;return je.viewLayout.getCurrentScrollTop()+bt*je.cursorConfig.lineHeight}}se.EditorScrollImpl=Ne,se.EditorScroll=(0,E.fK)(new Ne),se.ScrollLineUp=(0,E.fK)(new class extends p{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand($e,je){se.EditorScroll._runEditorScroll($e,je.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),se.ScrollPageUp=(0,E.fK)(new class extends p{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand($e,je){se.EditorScroll._runEditorScroll($e,je.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),se.ScrollEditorTop=(0,E.fK)(new class extends p{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand($e,je){se.EditorScroll._runEditorScroll($e,je.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),se.ScrollLineDown=(0,E.fK)(new class extends p{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand($e,je){se.EditorScroll._runEditorScroll($e,je.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),se.ScrollPageDown=(0,E.fK)(new class extends p{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand($e,je){se.EditorScroll._runEditorScroll($e,je.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),se.ScrollEditorBottom=(0,E.fK)(new class extends p{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand($e,je){se.EditorScroll._runEditorScroll($e,je.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class Ve extends p{constructor(je){super(je),this._inSelectionMode=je.inSelectionMode}runCoreEditorCommand(je,at){je.model.pushStackElement(),je.setCursorStates(at.source,3,[C.P.word(je,je.getPrimaryCursorState(),this._inSelectionMode,at.position)]),je.revealPrimaryCursor(at.source,!0)}}se.WordSelect=(0,E.fK)(new Ve({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),se.WordSelectDrag=(0,E.fK)(new Ve({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),se.LastCursorWordSelect=(0,E.fK)(new class extends p{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand($e,je){const at=$e.getLastAddedCursorIndex(),pt=$e.getCursorStates(),bt=pt.slice(0),We=pt[at];bt[at]=C.P.word($e,We,We.modelState.hasSelection(),je.position),$e.model.pushStackElement(),$e.setCursorStates(je.source,3,bt)}});class Ce extends p{constructor(je){super(je),this._inSelectionMode=je.inSelectionMode}runCoreEditorCommand(je,at){je.model.pushStackElement(),je.setCursorStates(at.source,3,[C.P.line(je,je.getPrimaryCursorState(),this._inSelectionMode,at.position,at.viewPosition)]),je.revealPrimaryCursor(at.source,!1)}}se.LineSelect=(0,E.fK)(new Ce({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),se.LineSelectDrag=(0,E.fK)(new Ce({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Ae extends p{constructor(je){super(je),this._inSelectionMode=je.inSelectionMode}runCoreEditorCommand(je,at){const pt=je.getLastAddedCursorIndex(),bt=je.getCursorStates(),We=bt.slice(0);We[pt]=C.P.line(je,bt[pt],this._inSelectionMode,at.position,at.viewPosition),je.model.pushStackElement(),je.setCursorStates(at.source,3,We)}}se.LastCursorLineSelect=(0,E.fK)(new Ae({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),se.LastCursorLineSelectDrag=(0,E.fK)(new Ae({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),se.CancelSelection=(0,E.fK)(new class extends p{constructor(){super({id:"cancelSelection",precondition:i.u.hasNonEmptySelection,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand($e,je){$e.model.pushStackElement(),$e.setCursorStates(je.source,3,[C.P.cancelSelection($e,$e.getPrimaryCursorState())]),$e.revealPrimaryCursor(je.source,!0)}}),se.RemoveSecondaryCursors=(0,E.fK)(new class extends p{constructor(){super({id:"removeSecondaryCursors",precondition:i.u.hasMultipleSelections,kbOpts:{weight:v+1,kbExpr:i.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand($e,je){$e.model.pushStackElement(),$e.setCursorStates(je.source,3,[$e.getPrimaryCursorState()]),$e.revealPrimaryCursor(je.source,!0),(0,j.i7)(b.NC("removedCursor","Removed secondary cursors"))}}),se.RevealLine=(0,E.fK)(new class extends p{constructor(){super({id:"revealLine",precondition:void 0,description:T.description})}runCoreEditorCommand($e,je){const at=je,pt=at.lineNumber||0;let bt=typeof pt=="number"?pt+1:parseInt(pt)+1;bt<1&&(bt=1);const We=$e.model.getLineCount();bt>We&&(bt=We);const it=new O.e(bt,1,bt,$e.model.getLineMaxColumn(bt));let pe=0;if(at.at)switch(at.at){case T.RawAtArgument.Top:pe=3;break;case T.RawAtArgument.Center:pe=1;break;case T.RawAtArgument.Bottom:pe=4;break;default:break}const ye=$e.coordinatesConverter.convertModelRangeToViewRange(it);$e.revealRange(je.source,!1,ye,pe,0)}}),se.SelectAll=new class extends M{constructor(){super(E.Sq)}runDOMCommand(){l.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand($e,je,at){const pt=je._getViewModel();pt&&this.runCoreEditorCommand(pt,at)}runCoreEditorCommand($e,je){$e.model.pushStackElement(),$e.setCursorStates("keyboard",3,[C.P.selectAll($e,$e.getPrimaryCursorState())])}},se.SetSelection=(0,E.fK)(new class extends p{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand($e,je){$e.model.pushStackElement(),$e.setCursorStates(je.source,3,[B.Vi.fromModelSelection(je.selection)])}})})(I||(I={}));const P=d.Ao.and(i.u.textInputFocus,i.u.columnSelection);function V(se,X){_.W.registerKeybindingRule({id:se,primary:X,when:P,weight:v+1})}V(I.CursorColumnSelectLeft.id,1039),V(I.CursorColumnSelectRight.id,1041),V(I.CursorColumnSelectUp.id,1040),V(I.CursorColumnSelectPageUp.id,1035),V(I.CursorColumnSelectDown.id,1042),V(I.CursorColumnSelectPageDown.id,1036);function $(se){return se.register(),se}var re;(function(se){class X extends E._l{runEditorCommand(Q,F,te){const W=F._getViewModel();W&&this.runCoreEditingCommand(F,W,te||{})}}se.CoreEditingCommand=X,se.LineBreakInsert=(0,E.fK)(new class extends X{constructor(){super({id:"lineBreakInsert",precondition:i.u.writable,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(ne,Q,F){ne.pushUndoStop(),ne.executeCommands(this.id,m.u6.lineBreakInsert(Q.cursorConfig,Q.model,Q.getCursorStates().map(te=>te.modelState.selection)))}}),se.Outdent=(0,E.fK)(new class extends X{constructor(){super({id:"outdent",precondition:i.u.writable,kbOpts:{weight:v,kbExpr:d.Ao.and(i.u.editorTextFocus,i.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(ne,Q,F){ne.pushUndoStop(),ne.executeCommands(this.id,m.u6.outdent(Q.cursorConfig,Q.model,Q.getCursorStates().map(te=>te.modelState.selection))),ne.pushUndoStop()}}),se.Tab=(0,E.fK)(new class extends X{constructor(){super({id:"tab",precondition:i.u.writable,kbOpts:{weight:v,kbExpr:d.Ao.and(i.u.editorTextFocus,i.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(ne,Q,F){ne.pushUndoStop(),ne.executeCommands(this.id,m.u6.tab(Q.cursorConfig,Q.model,Q.getCursorStates().map(te=>te.modelState.selection))),ne.pushUndoStop()}}),se.DeleteLeft=(0,E.fK)(new class extends X{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(ne,Q,F){const[te,W]=g.A.deleteLeft(Q.getPrevEditOperationType(),Q.cursorConfig,Q.model,Q.getCursorStates().map(G=>G.modelState.selection),Q.getCursorAutoClosedCharacters());te&&ne.pushUndoStop(),ne.executeCommands(this.id,W),Q.setPrevEditOperationType(2)}}),se.DeleteRight=(0,E.fK)(new class extends X{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:v,kbExpr:i.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(ne,Q,F){const[te,W]=g.A.deleteRight(Q.getPrevEditOperationType(),Q.cursorConfig,Q.model,Q.getCursorStates().map(G=>G.modelState.selection));te&&ne.pushUndoStop(),ne.executeCommands(this.id,W),Q.setPrevEditOperationType(3)}}),se.Undo=new class extends M{constructor(){super(E.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(ne,Q,F){if(!(!Q.hasModel()||Q.getOption(83)===!0))return Q.getModel().undo()}},se.Redo=new class extends M{constructor(){super(E.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(ne,Q,F){if(!(!Q.hasModel()||Q.getOption(83)===!0))return Q.getModel().redo()}}})(re||(re={}));class ae extends E.mY{constructor(X,ne,Q){super({id:X,precondition:void 0,description:Q}),this._handlerId=ne}runCommand(X,ne){const Q=X.get(Z.$).getFocusedCodeEditor();Q&&Q.trigger("keyboard",this._handlerId,ne)}}function ie(se,X){$(new ae("default:"+se,se)),$(new ae(se,se,X))}ie("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),ie("replacePreviousChar"),ie("compositionType"),ie("compositionStart"),ie("compositionEnd"),ie("paste"),ie("cut")},65520:function(Yt,Ye,s){"use strict";s.d(Ye,{CL:function(){return l},Pi:function(){return j},QI:function(){return z}});var b=s(96518);function l(E){return E&&typeof E.getEditorType=="function"?E.getEditorType()===b.g.ICodeEditor:!1}function z(E){return E&&typeof E.getEditorType=="function"?E.getEditorType()===b.g.IDiffEditor:!1}function j(E){return l(E)?E:z(E)?E.getModifiedEditor():null}},29994:function(Yt,Ye,s){"use strict";s.d(Ye,{AL:function(){return _},N5:function(){return i},Pp:function(){return C},YN:function(){return B},gy:function(){return m},kG:function(){return g},rU:function(){return H},t7:function(){return v},tC:function(){return d}});var b=s(65321),l=s(93911),z=s(7317),j=s(15393),E=s(5976),Z=s(73910);class B{constructor(M,I){this.x=M,this.y=I,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new H(this.x-b.DI.scrollX,this.y-b.DI.scrollY)}}class H{constructor(M,I){this.clientX=M,this.clientY=I,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new B(this.clientX+b.DI.scrollX,this.clientY+b.DI.scrollY)}}class O{constructor(M,I,P,V){this.x=M,this.y=I,this.width=P,this.height=V,this._editorPagePositionBrand=void 0}}class y{constructor(M,I){this.x=M,this.y=I,this._positionRelativeToEditorBrand=void 0}}function g(T){const M=b.i(T);return new O(M.left,M.top,M.width,M.height)}function C(T,M,I){const P=M.width/T.offsetWidth,V=M.height/T.offsetHeight,$=(I.x-M.x)/P,re=(I.y-M.y)/V;return new y($,re)}class m extends z.n{constructor(M,I,P){super(M),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=I,this.pos=new B(this.posx,this.posy),this.editorPos=g(P),this.relativePos=C(P,this.editorPos,this.pos)}}class i{constructor(M){this._editorViewDomNode=M}_create(M){return new m(M,!1,this._editorViewDomNode)}onContextMenu(M,I){return b.nm(M,"contextmenu",P=>{I(this._create(P))})}onMouseUp(M,I){return b.nm(M,"mouseup",P=>{I(this._create(P))})}onMouseDown(M,I){return b.nm(M,b.tw.MOUSE_DOWN,P=>{I(this._create(P))})}onPointerDown(M,I){return b.nm(M,b.tw.POINTER_DOWN,P=>{I(this._create(P),P.pointerId)})}onMouseLeave(M,I){return b.nm(M,b.tw.MOUSE_LEAVE,P=>{I(this._create(P))})}onMouseMove(M,I){return b.nm(M,"mousemove",P=>I(this._create(P)))}}class d{constructor(M){this._editorViewDomNode=M}_create(M){return new m(M,!1,this._editorViewDomNode)}onPointerUp(M,I){return b.nm(M,"pointerup",P=>{I(this._create(P))})}onPointerDown(M,I){return b.nm(M,b.tw.POINTER_DOWN,P=>{I(this._create(P),P.pointerId)})}onPointerLeave(M,I){return b.nm(M,b.tw.POINTER_LEAVE,P=>{I(this._create(P))})}onPointerMove(M,I){return b.nm(M,"pointermove",P=>I(this._create(P)))}}class _ extends E.JT{constructor(M){super(),this._editorViewDomNode=M,this._globalPointerMoveMonitor=this._register(new l.C),this._keydownListener=null}startMonitoring(M,I,P,V,$){this._keydownListener=b.mu(document,"keydown",re=>{re.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,re.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(M,I,P,re=>{V(new m(re,!0,this._editorViewDomNode))},re=>{this._keydownListener.dispose(),$(re)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class v{constructor(M){this._editor=M,this._instanceId=++v._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new j.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(M){const I=this.getOrCreateRule(M);return I.increaseRefCount(),{className:I.className,dispose:()=>{I.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(M){const I=this.computeUniqueKey(M);let P=this._rules.get(I);if(!P){const V=this._counter++;P=new p(I,`dyn-rule-${this._instanceId}-${V}`,b.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,M),this._rules.set(I,P)}return P}computeUniqueKey(M){return JSON.stringify(M)}garbageCollect(){for(const M of this._rules.values())M.hasReferences()||(this._rules.delete(M.key),M.dispose())}}v._idPool=0;class p{constructor(M,I,P,V){this.key=M,this.className=I,this.properties=V,this._referenceCount=0,this._styleElement=b.dS(P),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(M,I){let P=`.${M} {`;for(const V in I){const $=I[V];let re;typeof $=="object"?re=`var(${(0,Z.QO2)($.id)})`:re=$;const ae=L(V);P+=`
	${ae}: ${re};`}return P+=`
}`,P}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function L(T){return T.replace(/(^[A-Z])/,([M])=>M.toLowerCase()).replace(/([A-Z])/g,([M])=>`-${M.toLowerCase()}`)}},16830:function(Yt,Ye,s){"use strict";s.d(Ye,{AJ:function(){return v},QG:function(){return re},Qr:function(){return V},R6:function(){return T},Sq:function(){return te},Uc:function(){return ie},_K:function(){return ae},_l:function(){return L},fK:function(){return P},jY:function(){return M},kz:function(){return F},mY:function(){return _},n_:function(){return Q},rn:function(){return $},sb:function(){return I}});var b=s(63580),l=s(70666),z=s(11640),j=s(50187),E=s(73733),Z=s(88216),B=s(84144),H=s(94565),O=s(38819),y=s(72065),g=s(49989),C=s(89872),m=s(10829),i=s(98401),d=s(43557);class _{constructor(G){this.id=G.id,this.precondition=G.precondition,this._kbOpts=G.kbOpts,this._menuOpts=G.menuOpts,this._description=G.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const G=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const q of G){let me=q.kbExpr;this.precondition&&(me?me=O.Ao.and(me,this.precondition):me=this.precondition);const w={id:this.id,weight:q.weight,args:q.args,when:me,primary:q.primary,secondary:q.secondary,win:q.win,linux:q.linux,mac:q.mac};g.W.registerKeybindingRule(w)}}H.P0.registerCommand({id:this.id,handler:(G,q)=>this.runCommand(G,q),description:this._description})}_registerMenuItem(G){B.BH.appendMenuItem(G.menuId,{group:G.group,command:{id:this.id,title:G.title,icon:G.icon,precondition:this.precondition},when:G.when,order:G.order})}}class v extends _{constructor(){super(...arguments),this._implementations=[]}addImplementation(G,q,me){return this._implementations.push({priority:G,name:q,implementation:me}),this._implementations.sort((w,we)=>we.priority-w.priority),{dispose:()=>{for(let w=0;w<this._implementations.length;w++)if(this._implementations[w].implementation===me){this._implementations.splice(w,1);return}}}}runCommand(G,q){const me=G.get(d.VZ);me.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const w of this._implementations){const we=w.implementation(G,q);if(we)return me.trace(`Command '${this.id}' was handled by '${w.name}'.`),typeof we=="boolean"?void 0:we}me.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class p extends _{constructor(G,q){super(q),this.command=G}runCommand(G,q){return this.command.runCommand(G,q)}}class L extends _{static bindToContribution(G){return class extends L{constructor(me){super(me),this._callback=me.handler}runEditorCommand(me,w,we){const xe=G(w);xe&&this._callback(xe,we)}}}static runEditorCommand(G,q,me,w){const we=G.get(z.$),xe=we.getFocusedCodeEditor()||we.getActiveCodeEditor();if(xe)return xe.invokeWithinContext(Ne=>{if(Ne.get(O.i6).contextMatchesRules((0,i.f6)(me)))return w(Ne,xe,q)})}runCommand(G,q){return L.runEditorCommand(G,q,this.precondition,(me,w,we)=>this.runEditorCommand(me,w,we))}}class T extends L{constructor(G){super(T.convertOptions(G)),this.label=G.label,this.alias=G.alias}static convertOptions(G){let q;Array.isArray(G.menuOpts)?q=G.menuOpts:G.menuOpts?q=[G.menuOpts]:q=[];function me(w){return w.menuId||(w.menuId=B.eH.EditorContext),w.title||(w.title=G.label),w.when=O.Ao.and(G.precondition,w.when),w}return Array.isArray(G.contextMenuOpts)?q.push(...G.contextMenuOpts.map(me)):G.contextMenuOpts&&q.push(me(G.contextMenuOpts)),G.menuOpts=q,G}runEditorCommand(G,q,me){return this.reportTelemetry(G,q),this.run(G,q,me||{})}reportTelemetry(G,q){G.get(m.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class M extends T{constructor(){super(...arguments),this._implementations=[]}addImplementation(G,q){return this._implementations.push([G,q]),this._implementations.sort((me,w)=>w[0]-me[0]),{dispose:()=>{for(let me=0;me<this._implementations.length;me++)if(this._implementations[me][1]===q){this._implementations.splice(me,1);return}}}}run(G,q,me){for(const w of this._implementations){const we=w[1](G,q,me);if(we)return typeof we=="boolean"?void 0:we}}}function I(W,G){H.P0.registerCommand(W,function(q,...me){const w=q.get(y.TG),[we,xe]=me;(0,i.p_)(l.o.isUri(we)),(0,i.p_)(j.L.isIPosition(xe));const Ne=q.get(E.q).getModel(we);if(Ne){const Ve=j.L.lift(xe);return w.invokeFunction(G,Ne,Ve,...me.slice(2))}return q.get(Z.S).createModelReference(we).then(Ve=>new Promise((Ce,Ae)=>{try{const $e=w.invokeFunction(G,Ve.object.textEditorModel,j.L.lift(xe),me.slice(2));Ce($e)}catch($e){Ae($e)}}).finally(()=>{Ve.dispose()}))})}function P(W){return X.INSTANCE.registerEditorCommand(W),W}function V(W){const G=new W;return X.INSTANCE.registerEditorAction(G),G}function $(W){return X.INSTANCE.registerEditorAction(W),W}function re(W){X.INSTANCE.registerEditorAction(W)}function ae(W,G){X.INSTANCE.registerEditorContribution(W,G)}var ie;(function(W){function G(xe){return X.INSTANCE.getEditorCommand(xe)}W.getEditorCommand=G;function q(){return X.INSTANCE.getEditorActions()}W.getEditorActions=q;function me(){return X.INSTANCE.getEditorContributions()}W.getEditorContributions=me;function w(xe){return X.INSTANCE.getEditorContributions().filter(Ne=>xe.indexOf(Ne.id)>=0)}W.getSomeEditorContributions=w;function we(){return X.INSTANCE.getDiffEditorContributions()}W.getDiffEditorContributions=we})(ie||(ie={}));const se={EditorCommonContributions:"editor.contributions"};class X{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(G,q){this.editorContributions.push({id:G,ctor:q})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(G){G.register(),this.editorActions.push(G)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(G){G.register(),this.editorCommands[G.id]=G}getEditorCommand(G){return this.editorCommands[G]||null}}X.INSTANCE=new X,C.B.add(se.EditorCommonContributions,X.INSTANCE);function ne(W){return W.register(),W}const Q=ne(new v({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:B.eH.MenubarEditMenu,group:"1_do",title:b.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:B.eH.CommandPalette,group:"",title:b.NC("undo","Undo"),order:1}]}));ne(new p(Q,{id:"default:undo",precondition:void 0}));const F=ne(new v({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:B.eH.MenubarEditMenu,group:"1_do",title:b.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:B.eH.CommandPalette,group:"",title:b.NC("redo","Redo"),order:1}]}));ne(new p(F,{id:"default:redo",precondition:void 0}));const te=ne(new v({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:B.eH.MenubarSelectionMenu,group:"1_basic",title:b.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:B.eH.CommandPalette,group:"",title:b.NC("selectAll","Select All"),order:1}]}))},66007:function(Yt,Ye,s){"use strict";s.d(Ye,{Gl:function(){return Z},fo:function(){return E},vu:function(){return j}});var b=s(72065),l=s(70666),z=s(98401);const j=(0,b.yh)("IWorkspaceEditService");class E{constructor(O){this.metadata=O}static convert(O){return O.edits.map(y=>{if(Z.is(y))return Z.lift(y);if(B.is(y))return B.lift(y);throw new Error("Unsupported edit")})}}class Z extends E{constructor(O,y,g=void 0,C){super(C),this.resource=O,this.textEdit=y,this.versionId=g}static is(O){return O instanceof Z?!0:(0,z.Kn)(O)&&l.o.isUri(O.resource)&&(0,z.Kn)(O.textEdit)}static lift(O){return O instanceof Z?O:new Z(O.resource,O.textEdit,O.versionId,O.metadata)}}class B extends E{constructor(O,y,g={},C){super(C),this.oldResource=O,this.newResource=y,this.options=g}static is(O){return O instanceof B?!0:(0,z.Kn)(O)&&(!!O.newResource||!!O.oldResource)}static lift(O){return O instanceof B?O:new B(O.oldResource,O.newResource,O.options,O.metadata)}}},11640:function(Yt,Ye,s){"use strict";s.d(Ye,{$:function(){return l}});var b=s(72065);const l=(0,b.yh)("codeEditorService")},43407:function(Yt,Ye,s){"use strict";s.d(Ye,{Z:function(){return b}});class b{constructor(z,j,E){this._visiblePosition=z,this._visiblePositionScrollDelta=j,this._cursorPosition=E}static capture(z){let j=null,E=0;if(z.getScrollTop()!==0){const Z=z.getVisibleRanges();if(Z.length>0){j=Z[0].getStartPosition();const B=z.getTopForPosition(j.lineNumber,j.column);E=z.getScrollTop()-B}}return new b(j,E,z.getPosition())}restore(z){if(this._visiblePosition){const j=z.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);z.setScrollTop(j+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(z){const j=z.getPosition();if(!this._cursorPosition||!j)return;const E=z.getTopForLineNumber(j.lineNumber)-z.getTopForLineNumber(this._cursorPosition.lineNumber);z.setScrollTop(z.getScrollTop()+E)}}},69732:function(Yt,Ye,s){"use strict";s.d(Ye,{Gm:function(){return cr}});var b=s(36357),l=s(16830),z=function(Dt,e,o,f){var A=arguments.length,U=A<3?e:f===null?f=Object.getOwnPropertyDescriptor(e,o):f,de;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(Dt,e,o,f);else for(var Se=Dt.length-1;Se>=0;Se--)(de=Dt[Se])&&(U=(A<3?de(U):A>3?de(e,o,U):de(e,o))||U);return A>3&&U&&Object.defineProperty(e,o,U),U},j=function(Dt,e){return function(o,f){e(o,f,Dt)}};let E=class{constructor(e,o){}dispose(){}};E.ID="editor.contrib.markerDecorations",E=z([j(1,b.i)],E),(0,l._K)(E.ID,E);var Z=s(63580),B=s(65321),H=s(17301),O=s(4669),y=s(5976),g=s(66663),C=s(30747),m=s(9488),i=s(36248),d=s(1432),_=s(54534),v=s(66059);class p{constructor(e,o){this.key=e,this.migrate=o}apply(e){const o=p._read(e,this.key),f=U=>p._read(e,U),A=(U,de)=>p._write(e,U,de);this.migrate(o,f,A)}static _read(e,o){if(typeof e>"u")return;const f=o.indexOf(".");if(f>=0){const A=o.substring(0,f);return this._read(e[A],o.substring(f+1))}return e[o]}static _write(e,o,f){const A=o.indexOf(".");if(A>=0){const U=o.substring(0,A);e[U]=e[U]||{},this._write(e[U],o.substring(A+1),f);return}e[o]=f}}p.items=[];function L(Dt,e){p.items.push(new p(Dt,e))}function T(Dt,e){L(Dt,(o,f,A)=>{if(typeof o<"u"){for(const[U,de]of e)if(o===U){A(Dt,de);return}}})}function M(Dt){p.items.forEach(e=>e.apply(Dt))}T("wordWrap",[[!0,"on"],[!1,"off"]]),T("lineNumbers",[[!0,"on"],[!1,"off"]]),T("cursorBlinking",[["visible","solid"]]),T("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),T("renderLineHighlight",[[!0,"line"],[!1,"none"]]),T("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),T("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),T("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),T("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),T("autoIndent",[[!1,"advanced"],[!0,"full"]]),T("matchBrackets",[[!0,"always"],[!1,"never"]]),L("autoClosingBrackets",(Dt,e,o)=>{Dt===!1&&(o("autoClosingBrackets","never"),typeof e("autoClosingQuotes")>"u"&&o("autoClosingQuotes","never"),typeof e("autoSurround")>"u"&&o("autoSurround","never"))}),L("renderIndentGuides",(Dt,e,o)=>{typeof Dt<"u"&&(o("renderIndentGuides",void 0),typeof e("guides.indentation")>"u"&&o("guides.indentation",!!Dt))}),L("highlightActiveIndentGuide",(Dt,e,o)=>{typeof Dt<"u"&&(o("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")>"u"&&o("guides.highlightActiveIndentation",!!Dt))});const I={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};L("suggest.filteredTypes",(Dt,e,o)=>{if(Dt&&typeof Dt=="object"){for(const f of Object.entries(I))Dt[f[0]]===!1&&typeof e(`suggest.${f[1]}`)>"u"&&o(`suggest.${f[1]}`,!1);o("suggest.filteredTypes",void 0)}}),L("quickSuggestions",(Dt,e,o)=>{if(typeof Dt=="boolean"){const f=Dt?"on":"off";o("quickSuggestions",{comments:f,strings:f,other:f})}});var P=s(37940),V=s(64141),$=s(82334),re=s(27374),ae=s(31106),ie=function(Dt,e,o,f){var A=arguments.length,U=A<3?e:f===null?f=Object.getOwnPropertyDescriptor(e,o):f,de;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(Dt,e,o,f);else for(var Se=Dt.length-1;Se>=0;Se--)(de=Dt[Se])&&(U=(A<3?de(U):A>3?de(e,o,U):de(e,o))||U);return A>3&&U&&Object.defineProperty(e,o,U),U},se=function(Dt,e){return function(o,f){e(o,f,Dt)}};let X=class extends y.JT{constructor(e,o,f,A){super(),this._accessibilityService=A,this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new O.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new V.LJ,this.isSimpleWidget=e,this._containerObserver=this._register(new _.I(f,o.dimension)),this._rawOptions=G(o),this._validatedOptions=W.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register($.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(P.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(v.g.onDidChange(()=>this._recomputeOptions())),this._register(C.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),o=W.checkEquals(this.options,e);o!==null&&(this.options=e,this._onDidChangeFast.fire(o),this._onDidChange.fire(o))}_computeOptions(){const e=this._readEnvConfiguration(),o=re.E4.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),f=this._readFontInfo(o),A={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:f,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:P.n.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return W.computeOptions(this._validatedOptions,A)}_readEnvConfiguration(){return{extraEditorClassName:Q(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:C.isWebKit||C.isFirefox,pixelRatio:C.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return v.g.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const o=G(e);W.applyUpdate(this._rawOptions,o)&&(this._validatedOptions=W.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const o=ne(e);this._lineNumbersDigitCount!==o&&(this._lineNumbersDigitCount=o,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}};X=ie([se(3,ae.F)],X);function ne(Dt){let e=0;for(;Dt;)Dt=Math.floor(Dt/10),e++;return e||1}function Q(){let Dt="";return!C.isSafari&&!C.isWebkitWebView&&(Dt+="no-user-select "),C.isSafari&&(Dt+="no-minimap-shadow ",Dt+="enable-user-select "),d.dz&&(Dt+="mac "),Dt}class F{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,o){this._values[e]=o}}class te{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,o){this._values[e]=o}}class W{static validateOptions(e){const o=new F;for(const f of V.Bc){const A=f.name==="_never_"?void 0:e[f.name];o._write(f.id,f.validate(A))}return o}static computeOptions(e,o){const f=new te;for(const A of V.Bc)f._write(A.id,A.compute(o,f,e._read(A.id)));return f}static _deepEquals(e,o){if(typeof e!="object"||typeof o!="object"||!e||!o)return e===o;if(Array.isArray(e)||Array.isArray(o))return Array.isArray(e)&&Array.isArray(o)?m.fS(e,o):!1;if(Object.keys(e).length!==Object.keys(o).length)return!1;for(const f in e)if(!W._deepEquals(e[f],o[f]))return!1;return!0}static checkEquals(e,o){const f=[];let A=!1;for(const U of V.Bc){const de=!W._deepEquals(e._read(U.id),o._read(U.id));f[U.id]=de,de&&(A=!0)}return A?new V.Bb(f):null}static applyUpdate(e,o){let f=!1;for(const A of V.Bc)if(o.hasOwnProperty(A.name)){const U=A.applyUpdate(e[A.name],o[A.name]);e[A.name]=U.newValue,f=f||U.didChange}return f}}function G(Dt){const e=i.I8(Dt);return M(e),e}var q=s(11640),me=s(3860),w=s(38626),we=s(10553),xe=s(7317),Ne=s(15393),Ve=s(29994);class Ce extends y.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let o=!1;for(let f=0,A=e.length;f<A;f++){const U=e[f];switch(U.type){case 0:this.onCompositionStart(U)&&(o=!0);break;case 1:this.onCompositionEnd(U)&&(o=!0);break;case 2:this.onConfigurationChanged(U)&&(o=!0);break;case 3:this.onCursorStateChanged(U)&&(o=!0);break;case 4:this.onDecorationsChanged(U)&&(o=!0);break;case 5:this.onFlushed(U)&&(o=!0);break;case 6:this.onFocusChanged(U)&&(o=!0);break;case 7:this.onLanguageConfigurationChanged(U)&&(o=!0);break;case 8:this.onLineMappingChanged(U)&&(o=!0);break;case 9:this.onLinesChanged(U)&&(o=!0);break;case 10:this.onLinesDeleted(U)&&(o=!0);break;case 11:this.onLinesInserted(U)&&(o=!0);break;case 12:this.onRevealRangeRequest(U)&&(o=!0);break;case 13:this.onScrollChanged(U)&&(o=!0);break;case 15:this.onTokensChanged(U)&&(o=!0);break;case 14:this.onThemeChanged(U)&&(o=!0);break;case 16:this.onTokensColorsChanged(U)&&(o=!0);break;case 17:this.onZonesChanged(U)&&(o=!0);break;default:console.info("View received unknown event: "),console.info(U)}}o&&(this._shouldRender=!0)}}class Ae extends Ce{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class $e{static write(e,o){e.setAttribute("data-mprt",String(o))}static read(e){const o=e.getAttribute("data-mprt");return o===null?0:parseInt(o,10)}static collect(e,o){const f=[];let A=0;for(;e&&e!==document.body&&e!==o;)e.nodeType===e.ELEMENT_NODE&&(f[A++]=this.read(e)),e=e.parentElement;const U=new Uint8Array(A);for(let de=0;de<A;de++)U[de]=f[A-de-1];return U}}class je{constructor(e,o){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=o,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const f=this._viewLayout.getCurrentViewport();this.scrollTop=f.top,this.scrollLeft=f.left,this.viewportWidth=f.width,this.viewportHeight=f.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class at extends je{constructor(e,o,f){super(e,o),this._renderingContextBrand=void 0,this._viewLines=f}linesVisibleRangesForRange(e,o){return this._viewLines.linesVisibleRangesForRange(e,o)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class pt{constructor(e,o,f){this.outsideRenderedLine=e,this.lineNumber=o,this.ranges=f}}class bt{constructor(e,o){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(o)}static from(e){const o=new Array(e.length);for(let f=0,A=e.length;f<A;f++){const U=e[f];o[f]=new bt(U.left,U.width)}return o}toString(){return`[${this.left},${this.width}]`}}class We{constructor(e,o){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=o}toString(){return`[${this.left},${this.width}]`}static compare(e,o){return e.left-o.left}}class it{constructor(e,o){this.outsideRenderedLine=e,this.originalLeft=o,this.left=Math.round(this.originalLeft)}}class pe{constructor(e,o){this.outsideRenderedLine=e,this.ranges=o}}class ye{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,o){e.selectNodeContents(o)}static _readClientRects(e,o,f,A,U){const de=this._createRange();try{return de.setStart(e,o),de.setEnd(f,A),de.getClientRects()}catch{return null}finally{this._detachRange(de,U)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(We.compare);const o=[];let f=0,A=e[0];for(let U=1,de=e.length;U<de;U++){const Se=e[U];A.left+A.width+.9>=Se.left?A.width=Math.max(A.width,Se.left+Se.width-A.left):(o[f++]=A,A=Se)}return o[f++]=A,o}static _createHorizontalRangesFromClientRects(e,o,f){if(!e||e.length===0)return null;const A=[];for(let U=0,de=e.length;U<de;U++){const Se=e[U];A[U]=new We(Math.max(0,(Se.left-o)/f),Se.width/f)}return this._mergeAdjacentRanges(A)}static readHorizontalRanges(e,o,f,A,U,de,Se,He){const st=e.children.length-1;if(0>st)return null;if(o=Math.min(st,Math.max(0,o)),A=Math.min(st,Math.max(0,A)),o===A&&f===U&&f===0&&!e.children[o].firstChild){const ti=e.children[o].getClientRects();return this._createHorizontalRangesFromClientRects(ti,de,Se)}o!==A&&A>0&&U===0&&(A--,U=1073741824);let mt=e.children[o].firstChild,Pt=e.children[A].firstChild;if((!mt||!Pt)&&(!mt&&f===0&&o>0&&(mt=e.children[o-1].firstChild,f=1073741824),!Pt&&U===0&&A>0&&(Pt=e.children[A-1].firstChild,U=1073741824)),!mt||!Pt)return null;f=Math.min(mt.textContent.length,Math.max(0,f)),U=Math.min(Pt.textContent.length,Math.max(0,U));const At=this._readClientRects(mt,f,Pt,U,He);return this._createHorizontalRangesFromClientRects(At,de,Se)}}var ft=s(92550),Xt=s(72202),qt=s(92321);const Ft=function(){return d.tY?!0:!(d.IJ||C.isFirefox||C.isSafari)}();let Ot=!0;class Mt{constructor(e,o){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=o}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class ni{constructor(e,o){this.themeType=o;const f=e.options,A=f.get(46);this.renderWhitespace=f.get(90),this.renderControlCharacters=f.get(85),this.spaceWidth=A.spaceWidth,this.middotWidth=A.middotWidth,this.wsmiddotWidth=A.wsmiddotWidth,this.useMonospaceOptimizations=A.isMonospace&&!f.get(29),this.canUseHalfwidthRightwardsArrow=A.canUseHalfwidthRightwardsArrow,this.lineHeight=f.get(61),this.stopRenderingLineAfter=f.get(107),this.fontLigatures=f.get(47)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Gt{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,w.X)(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(0,qt.c3)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,o,f,A){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const U=f.getViewLineRenderingData(e),de=this._options,Se=ft.Kp.filter(U.inlineDecorations,e,U.minColumn,U.maxColumn);let He=null;if((0,qt.c3)(de.themeType)||this._options.renderWhitespace==="selection"){const Pt=f.selections;for(const At of Pt){if(At.endLineNumber<e||At.startLineNumber>e)continue;const ti=At.startLineNumber===e?At.startColumn:U.minColumn,gi=At.endLineNumber===e?At.endColumn:U.maxColumn;ti<gi&&((0,qt.c3)(de.themeType)||this._options.renderWhitespace!=="selection"?Se.push(new ft.Kp(ti,gi,"inline-selected-text",0)):(He||(He=[]),He.push(new Xt.zG(ti-1,gi-1))))}}const Qe=new Xt.IJ(de.useMonospaceOptimizations,de.canUseHalfwidthRightwardsArrow,U.content,U.continuesWithWrappedLine,U.isBasicASCII,U.containsRTL,U.minColumn-1,U.tokens,Se,U.tabSize,U.startVisibleColumn,de.spaceWidth,de.middotWidth,de.wsmiddotWidth,de.stopRenderingLineAfter,de.renderWhitespace,de.renderControlCharacters,de.fontLigatures!==V.n0.OFF,He);if(this._renderedViewLine&&this._renderedViewLine.input.equals(Qe))return!1;A.appendASCIIString('<div style="top:'),A.appendASCIIString(String(o)),A.appendASCIIString("px;height:"),A.appendASCIIString(String(this._options.lineHeight)),A.appendASCIIString('px;" class="'),A.appendASCIIString(Gt.CLASS_NAME),A.appendASCIIString('">');const st=(0,Xt.d1)(Qe,A);A.appendASCIIString("</div>");let mt=null;return Ot&&Ft&&U.isBasicASCII&&de.useMonospaceOptimizations&&st.containsForeignElements===0&&U.content.length<300&&Qe.lineTokens.getCount()<100&&(mt=new Fe(this._renderedViewLine?this._renderedViewLine.domNode:null,Qe,st.characterMapping)),mt||(mt=Ke(this._renderedViewLine?this._renderedViewLine.domNode:null,Qe,st.characterMapping,st.containsRTL,st.containsForeignElements)),this._renderedViewLine=mt,!0}layoutLine(e,o){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(o),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof Fe:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Fe?this._renderedViewLine.monospaceAssumptionsAreValid():Ot}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Fe&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,o,f,A){if(!this._renderedViewLine)return null;o=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,o)),f=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,f));const U=this._renderedViewLine.input.stopRenderingLineAfter;let de=!1;U!==-1&&o>U+1&&f>U+1&&(de=!0),U!==-1&&o>U+1&&(o=U+1),U!==-1&&f>U+1&&(f=U+1);const Se=this._renderedViewLine.getVisibleRangesForRange(e,o,f,A);return Se&&Se.length>0?new pe(de,Se):null}getColumnOfNodeOffset(e,o,f){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,o,f):1}}Gt.CLASS_NAME="view-line";class Fe{constructor(e,o,f){this.domNode=e,this.input=o,this._characterMapping=f,this._charWidth=o.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Ot;const e=this.getWidth(),o=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-o)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Ot=!1),Ot}toSlowRenderedLine(){return Ke(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,o,f,A){const U=this._getCharPosition(o),de=this._getCharPosition(f);return[new We(U,de-U)]}_getCharPosition(e){const o=this._characterMapping.getHorizontalOffset(e);return this._charWidth*o}getColumnOfNodeOffset(e,o,f){const A=o.textContent.length;let U=-1;for(;o;)o=o.previousSibling,U++;return this._characterMapping.getColumn(new Xt.Nd(U,f),A)}}class Ge{constructor(e,o,f,A,U){if(this.domNode=e,this.input=o,this._characterMapping=f,this._isWhitespaceOnly=/^\s*$/.test(o.lineContent),this._containsForeignElements=U,this._cachedWidth=-1,this._pixelOffsetCache=null,!A||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let de=0,Se=this._characterMapping.length;de<=Se;de++)this._pixelOffsetCache[de]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,o,f,A){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const U=this._readPixelOffset(this.domNode,e,o,A);if(U===-1)return null;const de=this._readPixelOffset(this.domNode,e,f,A);return de===-1?null:[new We(U,de-U)]}return this._readVisibleRangesForRange(this.domNode,e,o,f,A)}_readVisibleRangesForRange(e,o,f,A,U){if(f===A){const de=this._readPixelOffset(e,o,f,U);return de===-1?null:[new We(de,0)]}else return this._readRawVisibleRangesForRange(e,f,A,U)}_readPixelOffset(e,o,f,A){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const U=this._getReadingTarget(e);return U.firstChild?U.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const U=this._pixelOffsetCache[f];if(U!==-1)return U;const de=this._actualReadPixelOffset(e,o,f,A);return this._pixelOffsetCache[f]=de,de}return this._actualReadPixelOffset(e,o,f,A)}_actualReadPixelOffset(e,o,f,A){if(this._characterMapping.length===0){const He=ye.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,A.clientRectDeltaLeft,A.clientRectScale,A.endNode);return!He||He.length===0?-1:He[0].left}if(f===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const U=this._characterMapping.getDomPosition(f),de=ye.readHorizontalRanges(this._getReadingTarget(e),U.partIndex,U.charIndex,U.partIndex,U.charIndex,A.clientRectDeltaLeft,A.clientRectScale,A.endNode);if(!de||de.length===0)return-1;const Se=de[0].left;if(this.input.isBasicASCII){const He=this._characterMapping.getHorizontalOffset(f),Qe=Math.round(this.input.spaceWidth*He);if(Math.abs(Qe-Se)<=1)return Qe}return Se}_readRawVisibleRangesForRange(e,o,f,A){if(o===1&&f===this._characterMapping.length)return[new We(0,this.getWidth())];const U=this._characterMapping.getDomPosition(o),de=this._characterMapping.getDomPosition(f);return ye.readHorizontalRanges(this._getReadingTarget(e),U.partIndex,U.charIndex,de.partIndex,de.charIndex,A.clientRectDeltaLeft,A.clientRectScale,A.endNode)}getColumnOfNodeOffset(e,o,f){const A=o.textContent.length;let U=-1;for(;o;)o=o.previousSibling,U++;return this._characterMapping.getColumn(new Xt.Nd(U,f),A)}}class Te extends Ge{_readVisibleRangesForRange(e,o,f,A,U){const de=super._readVisibleRangesForRange(e,o,f,A,U);if(!de||de.length===0||f===A||f===1&&A===this._characterMapping.length)return de;if(!this.input.containsRTL){const Se=this._readPixelOffset(e,o,A,U);if(Se!==-1){const He=de[de.length-1];He.left<Se&&(He.width=Se-He.left)}}return de}}const Ke=function(){return C.isWebKit?ut:Nt}();function ut(Dt,e,o,f,A){return new Te(Dt,e,o,f,A)}function Nt(Dt,e,o,f,A){return new Ge(Dt,e,o,f,A)}var Be=s(50187),Ze=s(24314),wt=s(7988),$t=s(47128);class _t{constructor(e=null){this.hitTarget=e,this.type=0}}class Jt{constructor(e,o,f){this.position=e,this.spanNode=o,this.injectedText=f,this.type=1}}var Zt;(function(Dt){function e(o,f,A){const U=o.getPositionFromDOMInfo(f,A);return U?new Jt(U,f,null):new _t(f)}Dt.createFromDOMInfo=e})(Zt||(Zt={}));class Xe{constructor(e,o){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=o}}class Lt{static _deduceRage(e,o=null){return!o&&e?new Ze.e(e.lineNumber,e.column,e.lineNumber,e.column):o??null}static createUnknown(e,o,f){return{type:0,element:e,mouseColumn:o,position:f,range:this._deduceRage(f)}}static createTextarea(e,o){return{type:1,element:e,mouseColumn:o,position:null,range:null}}static createMargin(e,o,f,A,U,de){return{type:e,element:o,mouseColumn:f,position:A,range:U,detail:de}}static createViewZone(e,o,f,A,U){return{type:e,element:o,mouseColumn:f,position:A,range:this._deduceRage(A),detail:U}}static createContentText(e,o,f,A,U){return{type:6,element:e,mouseColumn:o,position:f,range:this._deduceRage(f,A),detail:U}}static createContentEmpty(e,o,f,A){return{type:7,element:e,mouseColumn:o,position:f,range:this._deduceRage(f),detail:A}}static createContentWidget(e,o,f){return{type:9,element:e,mouseColumn:o,position:null,range:null,detail:f}}static createScrollbar(e,o,f){return{type:11,element:e,mouseColumn:o,position:f,range:this._deduceRage(f)}}static createOverlayWidget(e,o,f){return{type:12,element:e,mouseColumn:o,position:null,range:null,detail:f}}static createOutsideEditor(e,o){return{type:13,element:null,mouseColumn:e,position:o,range:this._deduceRage(o)}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class mi{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class jt{constructor(e,o,f){this.viewModel=e.viewModel;const A=e.configuration.options;this.layoutInfo=A.get(133),this.viewDomNode=o.viewDomNode,this.lineHeight=A.get(61),this.stickyTabStops=A.get(106),this.typicalHalfwidthCharacterWidth=A.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=f,this._context=e,this._viewHelper=o}getZoneAtCoord(e){return jt.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,o){const f=e.viewLayout.getWhitespaceAtVerticalOffset(o);if(f){const A=f.verticalOffset+f.height/2,U=e.viewModel.getLineCount();let de=null,Se,He=null;return f.afterLineNumber!==U&&(He=new Be.L(f.afterLineNumber+1,1)),f.afterLineNumber>0&&(de=new Be.L(f.afterLineNumber,e.viewModel.getLineMaxColumn(f.afterLineNumber))),He===null?Se=de:de===null?Se=He:o<A?Se=de:Se=He,{viewZoneId:f.id,afterLineNumber:f.afterLineNumber,positionBefore:de,positionAfter:He,position:Se}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const A=this._context.viewModel.getLineCount(),U=this._context.viewModel.getLineMaxColumn(A);return{range:new Ze.e(A,U,A,U),isAfterLines:!0}}const o=this._context.viewLayout.getLineNumberAtVerticalOffset(e),f=this._context.viewModel.getLineMaxColumn(o);return{range:new Ze.e(o,1,o,f),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,o){return jt._findAttribute(e,o,this._viewHelper.viewDomNode)}static _findAttribute(e,o,f){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(o))return e.getAttribute(o);if(e===f)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,o){return this._viewHelper.visibleRangeForPosition(e,o)}getPositionFromDOMInfo(e,o){return this._viewHelper.getPositionFromDOMInfo(e,o)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class ki{constructor(e,o,f,A){this.editorPos=o,this.pos=f,this.relativePos=A,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,ii._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class Pi extends ki{constructor(e,o,f,A,U){super(e,o,f,A),this._ctx=e,U?(this.target=U,this.targetPath=$e.collect(U,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?wt.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return Lt.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return Lt.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,o,f,A){return Lt.createMargin(e,this.target,this._getMouseColumn(o),o,f,A)}fulfillViewZone(e,o,f){return Lt.createViewZone(e,this.target,this._getMouseColumn(o),o,f)}fulfillContentText(e,o,f){return Lt.createContentText(this.target,this._getMouseColumn(e),e,o,f)}fulfillContentEmpty(e,o){return Lt.createContentEmpty(this.target,this._getMouseColumn(e),e,o)}fulfillContentWidget(e){return Lt.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return Lt.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return Lt.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new Pi(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const gt={isAfterLines:!0};function St(Dt){return{isAfterLines:!1,horizontalDistanceToText:Dt}}class ii{constructor(e,o){this._context=e,this._viewHelper=o}mouseTargetIsWidget(e){const o=e.target,f=$e.collect(o,this._viewHelper.viewDomNode);return!!(mi.isChildOfContentWidgets(f)||mi.isChildOfOverflowingContentWidgets(f)||mi.isChildOfOverlayWidgets(f))}createMouseTarget(e,o,f,A,U){const de=new jt(this._context,this._viewHelper,e),Se=new Pi(de,o,f,A,U);try{return ii._createMouseTarget(de,Se,!1)}catch{return Se.fulfillUnknown()}}static _createMouseTarget(e,o,f){if(o.target===null){if(f)return o.fulfillUnknown();const de=ii._doHitTest(e,o);return de.type===1?ii.createMouseTargetFromHitTestPosition(e,o,de.spanNode,de.position,de.injectedText):this._createMouseTarget(e,o.withTarget(de.hitTarget),!0)}const A=o;let U=null;return U=U||ii._hitTestContentWidget(e,A),U=U||ii._hitTestOverlayWidget(e,A),U=U||ii._hitTestMinimap(e,A),U=U||ii._hitTestScrollbarSlider(e,A),U=U||ii._hitTestViewZone(e,A),U=U||ii._hitTestMargin(e,A),U=U||ii._hitTestViewCursor(e,A),U=U||ii._hitTestTextArea(e,A),U=U||ii._hitTestViewLines(e,A,f),U=U||ii._hitTestScrollbar(e,A),U||o.fulfillUnknown()}static _hitTestContentWidget(e,o){if(mi.isChildOfContentWidgets(o.targetPath)||mi.isChildOfOverflowingContentWidgets(o.targetPath)){const f=e.findAttribute(o.target,"widgetId");return f?o.fulfillContentWidget(f):o.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,o){if(mi.isChildOfOverlayWidgets(o.targetPath)){const f=e.findAttribute(o.target,"widgetId");return f?o.fulfillOverlayWidget(f):o.fulfillUnknown()}return null}static _hitTestViewCursor(e,o){if(o.target){const f=e.lastRenderData.lastViewCursorsRenderData;for(const A of f)if(o.target===A.domNode)return o.fulfillContentText(A.position,null,{mightBeForeignElement:!1,injectedText:null})}if(o.isInContentArea){const f=e.lastRenderData.lastViewCursorsRenderData,A=o.mouseContentHorizontalOffset,U=o.mouseVerticalOffset;for(const de of f){if(A<de.contentLeft||A>de.contentLeft+de.width)continue;const Se=e.getVerticalOffsetForLineNumber(de.position.lineNumber);if(Se<=U&&U<=Se+de.height)return o.fulfillContentText(de.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,o){const f=e.getZoneAtCoord(o.mouseVerticalOffset);if(f){const A=o.isInContentArea?8:5;return o.fulfillViewZone(A,f.position,f)}return null}static _hitTestTextArea(e,o){return mi.isTextArea(o.targetPath)?e.lastRenderData.lastTextareaPosition?o.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):o.fulfillTextarea():null}static _hitTestMargin(e,o){if(o.isInMarginArea){const f=e.getFullLineRangeAtCoord(o.mouseVerticalOffset),A=f.range.getStartPosition();let U=Math.abs(o.relativePos.x);const de={isAfterLines:f.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:U};return U-=e.layoutInfo.glyphMarginLeft,U<=e.layoutInfo.glyphMarginWidth?o.fulfillMargin(2,A,f.range,de):(U-=e.layoutInfo.glyphMarginWidth,U<=e.layoutInfo.lineNumbersWidth?o.fulfillMargin(3,A,f.range,de):(U-=e.layoutInfo.lineNumbersWidth,o.fulfillMargin(4,A,f.range,de)))}return null}static _hitTestViewLines(e,o,f){if(!mi.isChildOfViewLines(o.targetPath))return null;if(e.isInTopPadding(o.mouseVerticalOffset))return o.fulfillContentEmpty(new Be.L(1,1),gt);if(e.isAfterLines(o.mouseVerticalOffset)||e.isInBottomPadding(o.mouseVerticalOffset)){const U=e.viewModel.getLineCount(),de=e.viewModel.getLineMaxColumn(U);return o.fulfillContentEmpty(new Be.L(U,de),gt)}if(f){if(mi.isStrictChildOfViewLines(o.targetPath)){const U=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset);if(e.viewModel.getLineLength(U)===0){const Se=e.getLineWidth(U),He=St(o.mouseContentHorizontalOffset-Se);return o.fulfillContentEmpty(new Be.L(U,1),He)}const de=e.getLineWidth(U);if(o.mouseContentHorizontalOffset>=de){const Se=St(o.mouseContentHorizontalOffset-de),He=new Be.L(U,e.viewModel.getLineMaxColumn(U));return o.fulfillContentEmpty(He,Se)}}return o.fulfillUnknown()}const A=ii._doHitTest(e,o);return A.type===1?ii.createMouseTargetFromHitTestPosition(e,o,A.spanNode,A.position,A.injectedText):this._createMouseTarget(e,o.withTarget(A.hitTarget),!0)}static _hitTestMinimap(e,o){if(mi.isChildOfMinimap(o.targetPath)){const f=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),A=e.viewModel.getLineMaxColumn(f);return o.fulfillScrollbar(new Be.L(f,A))}return null}static _hitTestScrollbarSlider(e,o){if(mi.isChildOfScrollableElement(o.targetPath)&&o.target&&o.target.nodeType===1){const f=o.target.className;if(f&&/\b(slider|scrollbar)\b/.test(f)){const A=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),U=e.viewModel.getLineMaxColumn(A);return o.fulfillScrollbar(new Be.L(A,U))}}return null}static _hitTestScrollbar(e,o){if(mi.isChildOfScrollableElement(o.targetPath)){const f=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),A=e.viewModel.getLineMaxColumn(f);return o.fulfillScrollbar(new Be.L(f,A))}return null}getMouseColumn(e){const o=this._context.configuration.options,f=o.get(133),A=this._context.viewLayout.getCurrentScrollLeft()+e.x-f.contentLeft;return ii._getMouseColumn(A,o.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,o){return e<0?1:Math.round(e/o)+1}static createMouseTargetFromHitTestPosition(e,o,f,A,U){const de=A.lineNumber,Se=A.column,He=e.getLineWidth(de);if(o.mouseContentHorizontalOffset>He){const vi=St(o.mouseContentHorizontalOffset-He);return o.fulfillContentEmpty(A,vi)}const Qe=e.visibleRangeForPosition(de,Se);if(!Qe)return o.fulfillUnknown(A);const st=Qe.left;if(o.mouseContentHorizontalOffset===st)return o.fulfillContentText(A,null,{mightBeForeignElement:!!U,injectedText:U});const mt=[];if(mt.push({offset:Qe.left,column:Se}),Se>1){const vi=e.visibleRangeForPosition(de,Se-1);vi&&mt.push({offset:vi.left,column:Se-1})}const Pt=e.viewModel.getLineMaxColumn(de);if(Se<Pt){const vi=e.visibleRangeForPosition(de,Se+1);vi&&mt.push({offset:vi.left,column:Se+1})}mt.sort((vi,Li)=>vi.offset-Li.offset);const At=o.pos.toClientCoordinates(),ti=f.getBoundingClientRect(),gi=ti.left<=At.clientX&&At.clientX<=ti.right;for(let vi=1;vi<mt.length;vi++){const Li=mt[vi-1],Wi=mt[vi];if(Li.offset<=o.mouseContentHorizontalOffset&&o.mouseContentHorizontalOffset<=Wi.offset){const Mi=new Ze.e(de,Li.column,de,Wi.column),on=Math.abs(Li.offset-o.mouseContentHorizontalOffset),qi=Math.abs(Wi.offset-o.mouseContentHorizontalOffset),un=on<qi?new Be.L(de,Li.column):new Be.L(de,Wi.column);return o.fulfillContentText(un,Mi,{mightBeForeignElement:!gi||!!U,injectedText:U})}}return o.fulfillContentText(A,null,{mightBeForeignElement:!gi||!!U,injectedText:U})}static _doHitTestWithCaretRangeFromPoint(e,o){const f=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),U=e.getVerticalOffsetForLineNumber(f)+Math.floor(e.lineHeight/2);let de=o.pos.y+(U-o.mouseVerticalOffset);de<=o.editorPos.y&&(de=o.editorPos.y+1),de>=o.editorPos.y+o.editorPos.height&&(de=o.editorPos.y+o.editorPos.height-1);const Se=new Ve.YN(o.pos.x,de),He=this._actualDoHitTestWithCaretRangeFromPoint(e,Se.toClientCoordinates());return He.type===1?He:this._actualDoHitTestWithCaretRangeFromPoint(e,o.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,o){const f=B.Ay(e.viewDomNode);let A;if(f?typeof f.caretRangeFromPoint>"u"?A=Ri(f,o.clientX,o.clientY):A=f.caretRangeFromPoint(o.clientX,o.clientY):A=document.caretRangeFromPoint(o.clientX,o.clientY),!A||!A.startContainer)return new _t;const U=A.startContainer;if(U.nodeType===U.TEXT_NODE){const de=U.parentNode,Se=de?de.parentNode:null,He=Se?Se.parentNode:null;return(He&&He.nodeType===He.ELEMENT_NODE?He.className:null)===Gt.CLASS_NAME?Zt.createFromDOMInfo(e,de,A.startOffset):new _t(U.parentNode)}else if(U.nodeType===U.ELEMENT_NODE){const de=U.parentNode,Se=de?de.parentNode:null;return(Se&&Se.nodeType===Se.ELEMENT_NODE?Se.className:null)===Gt.CLASS_NAME?Zt.createFromDOMInfo(e,U,U.textContent.length):new _t(U)}return new _t}static _doHitTestWithCaretPositionFromPoint(e,o){const f=document.caretPositionFromPoint(o.clientX,o.clientY);if(f.offsetNode.nodeType===f.offsetNode.TEXT_NODE){const A=f.offsetNode.parentNode,U=A?A.parentNode:null,de=U?U.parentNode:null;return(de&&de.nodeType===de.ELEMENT_NODE?de.className:null)===Gt.CLASS_NAME?Zt.createFromDOMInfo(e,f.offsetNode.parentNode,f.offset):new _t(f.offsetNode.parentNode)}if(f.offsetNode.nodeType===f.offsetNode.ELEMENT_NODE){const A=f.offsetNode.parentNode,U=A&&A.nodeType===A.ELEMENT_NODE?A.className:null,de=A?A.parentNode:null,Se=de&&de.nodeType===de.ELEMENT_NODE?de.className:null;if(U===Gt.CLASS_NAME){const He=f.offsetNode.childNodes[Math.min(f.offset,f.offsetNode.childNodes.length-1)];if(He)return Zt.createFromDOMInfo(e,He,0)}else if(Se===Gt.CLASS_NAME)return Zt.createFromDOMInfo(e,f.offsetNode,0)}return new _t(f.offsetNode)}static _snapToSoftTabBoundary(e,o){const f=o.getLineContent(e.lineNumber),{tabSize:A}=o.model.getOptions(),U=$t.l.atomicPosition(f,e.column-1,A,2);return U!==-1?new Be.L(e.lineNumber,U+1):e}static _doHitTest(e,o){let f=new _t;if(typeof document.caretRangeFromPoint=="function"?f=this._doHitTestWithCaretRangeFromPoint(e,o):document.caretPositionFromPoint&&(f=this._doHitTestWithCaretPositionFromPoint(e,o.pos.toClientCoordinates())),f.type===1){const A=e.viewModel.getInjectedTextAt(f.position),U=e.viewModel.normalizePosition(f.position,2);(A||!U.equals(f.position))&&(f=new Jt(U,f.spanNode,A))}return f.type===1&&e.stickyTabStops&&(f=new Jt(this._snapToSoftTabBoundary(f.position,e.viewModel),f.spanNode,f.injectedText)),f}}function Ri(Dt,e,o){const f=document.createRange();let A=Dt.elementFromPoint(e,o);if(A!==null){for(;A&&A.firstChild&&A.firstChild.nodeType!==A.firstChild.TEXT_NODE&&A.lastChild&&A.lastChild.firstChild;)A=A.lastChild;const U=A.getBoundingClientRect(),de=window.getComputedStyle(A,null).getPropertyValue("font"),Se=A.innerText;let He=U.left,Qe=0,st;if(e>U.left+U.width)Qe=Se.length;else{const mt=Di.getInstance();for(let Pt=0;Pt<Se.length+1;Pt++){if(st=mt.getCharWidth(Se.charAt(Pt),de)/2,He+=st,e<He){Qe=Pt;break}He+=st}}f.setStart(A.firstChild,Qe),f.setEnd(A.firstChild,Qe)}return f}class Di{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Di._INSTANCE||(Di._INSTANCE=new Di),Di._INSTANCE}getCharWidth(e,o){const f=e+o;if(this._cache[f])return this._cache[f];const A=this._canvas.getContext("2d");A.font=o;const de=A.measureText(e).width;return this._cache[f]=de,de}}Di._INSTANCE=null;class Vi extends Ce{constructor(e,o,f){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=o,this.viewHelper=f,this.mouseTargetFactory=new ii(this._context,f),this._mouseDownOperation=this._register(new Ci(this._context,this.viewController,this.viewHelper,(Se,He)=>this._createMouseTarget(Se,He),Se=>this._getMouseColumn(Se))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const A=new Ve.N5(this.viewHelper.viewDomNode);this._register(A.onContextMenu(this.viewHelper.viewDomNode,Se=>this._onContextMenu(Se,!0))),this._register(A.onMouseMove(this.viewHelper.viewDomNode,Se=>{this._onMouseMove(Se),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=B.nm(document,"mousemove",He=>{this.viewHelper.viewDomNode.contains(He.target)||this._onMouseLeave(new Ve.gy(He,!1,this.viewHelper.viewDomNode))}))})),this._register(A.onMouseUp(this.viewHelper.viewDomNode,Se=>this._onMouseUp(Se))),this._register(A.onMouseLeave(this.viewHelper.viewDomNode,Se=>this._onMouseLeave(Se)));let U=0;this._register(A.onPointerDown(this.viewHelper.viewDomNode,(Se,He)=>{U=He})),this._register(B.nm(this.viewHelper.viewDomNode,B.tw.POINTER_UP,Se=>{this._mouseDownOperation.onPointerUp()})),this._register(A.onMouseDown(this.viewHelper.viewDomNode,Se=>this._onMouseDown(Se,U)));const de=Se=>{if(this.viewController.emitMouseWheel(Se),!this._context.configuration.options.get(70))return;const He=new xe.q(Se);if(d.dz?(Se.metaKey||Se.ctrlKey)&&!Se.shiftKey&&!Se.altKey:Se.ctrlKey&&!Se.metaKey&&!Se.shiftKey&&!Se.altKey){const st=$.C.getZoomLevel(),mt=He.deltaY>0?1:-1;$.C.setZoomLevel(st+mt),He.preventDefault(),He.stopPropagation()}};this._register(B.nm(this.viewHelper.viewDomNode,B.tw.MOUSE_WHEEL,de,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(133)){const o=this._context.configuration.options.get(133).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,o){const A=new Ve.rU(e,o).toPageCoordinates(),U=(0,Ve.kG)(this.viewHelper.viewDomNode);if(A.y<U.y||A.y>U.y+U.height||A.x<U.x||A.x>U.x+U.width)return null;const de=(0,Ve.Pp)(this.viewHelper.viewDomNode,U,A);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),U,A,de,null)}_createMouseTarget(e,o){let f=e.target;if(!this.viewHelper.viewDomNode.contains(f)){const A=B.Ay(this.viewHelper.viewDomNode);A&&(f=A.elementsFromPoint(e.posx,e.posy).find(U=>this.viewHelper.viewDomNode.contains(U)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,o?f:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,o){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,o)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,o){const f=this._createMouseTarget(e,!0),A=f.type===6||f.type===7,U=f.type===2||f.type===3||f.type===4,de=f.type===3,Se=this._context.configuration.options.get(100),He=f.type===8||f.type===5,Qe=f.type===9;let st=e.leftButton||e.middleButton;d.dz&&e.leftButton&&e.ctrlKey&&(st=!1);const mt=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(st&&(A||de&&Se))mt(),this._mouseDownOperation.start(f.type,e,o);else if(U)e.preventDefault();else if(He){const Pt=f.detail;st&&this.viewHelper.shouldSuppressMouseDownOnViewZone(Pt.viewZoneId)&&(mt(),this._mouseDownOperation.start(f.type,e,o),e.preventDefault())}else Qe&&this.viewHelper.shouldSuppressMouseDownOnWidget(f.detail)&&(mt(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:f})}}class Ci extends y.JT{constructor(e,o,f,A,U){super(),this._context=e,this._viewController=o,this._viewHelper=f,this._createMouseTarget=A,this._getMouseColumn=U,this._mouseMoveMonitor=this._register(new Ve.AL(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Ne._F),this._mouseState=new Wt,this._currentSelection=new me.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const o=this._findMousePosition(e,!1);o&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:o}):this._dispatchMouse(o,!0))}start(e,o,f){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const A=this._findMousePosition(o,!0);if(!A||!A.position)return;this._mouseState.trySetCount(o.detail,A.position),o.detail=this._mouseState.count;const U=this._context.configuration.options;if(!U.get(83)&&U.get(31)&&!U.get(18)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&A.type===6&&A.position&&this._currentSelection.containsPosition(A.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,f,o.buttons,de=>this._onMouseDownThenMove(de),de=>{const Se=this._findMousePosition(this._lastMouseEvent,!1);de&&de instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Se?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(A,o.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,f,o.buttons,de=>this._onMouseDownThenMove(de),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const o=e.editorPos,f=this._context.viewModel,A=this._context.viewLayout,U=this._getMouseColumn(e);if(e.posy<o.y){const Se=Math.max(A.getCurrentScrollTop()-(o.y-e.posy),0),He=jt.getZoneAtCoord(this._context,Se);if(He){const st=this._helpPositionJumpOverViewZone(He);if(st)return Lt.createOutsideEditor(U,st)}const Qe=A.getLineNumberAtVerticalOffset(Se);return Lt.createOutsideEditor(U,new Be.L(Qe,1))}if(e.posy>o.y+o.height){const Se=A.getCurrentScrollTop()+e.relativePos.y,He=jt.getZoneAtCoord(this._context,Se);if(He){const st=this._helpPositionJumpOverViewZone(He);if(st)return Lt.createOutsideEditor(U,st)}const Qe=A.getLineNumberAtVerticalOffset(Se);return Lt.createOutsideEditor(U,new Be.L(Qe,f.getLineMaxColumn(Qe)))}const de=A.getLineNumberAtVerticalOffset(A.getCurrentScrollTop()+e.relativePos.y);return e.posx<o.x?Lt.createOutsideEditor(U,new Be.L(de,1)):e.posx>o.x+o.width?Lt.createOutsideEditor(U,new Be.L(de,f.getLineMaxColumn(de))):null}_findMousePosition(e,o){const f=this._getPositionOutsideEditor(e);if(f)return f;const A=this._createMouseTarget(e,o);if(!A.position)return null;if(A.type===8||A.type===5){const de=this._helpPositionJumpOverViewZone(A.detail);if(de)return Lt.createViewZone(A.type,A.element,A.mouseColumn,de,A.detail)}return A}_helpPositionJumpOverViewZone(e){const o=new Be.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),f=e.positionBefore,A=e.positionAfter;return f&&A?f.isBefore(o)?f:A:null}_dispatchMouse(e,o){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class Wt{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,o){const f=new Date().getTime();f-this._lastSetMouseDownCountTime>Wt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=f,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}Wt.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var vt=s(10161),_e=s(35715);class Ee extends Vi{constructor(e,o,f){super(e,o,f),this._register(we.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(B.nm(this.viewHelper.linesContentDomNode,we.t.Tap,U=>this.onTap(U))),this._register(B.nm(this.viewHelper.linesContentDomNode,we.t.Change,U=>this.onChange(U))),this._register(B.nm(this.viewHelper.linesContentDomNode,we.t.Contextmenu,U=>this._onContextMenu(new Ve.gy(U,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(B.nm(this.viewHelper.linesContentDomNode,"pointerdown",U=>{const de=U.pointerType;if(de==="mouse"){this._lastPointerType="mouse";return}else de==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const A=new Ve.tC(this.viewHelper.viewDomNode);this._register(A.onPointerMove(this.viewHelper.viewDomNode,U=>this._onMouseMove(U))),this._register(A.onPointerUp(this.viewHelper.viewDomNode,U=>this._onMouseUp(U))),this._register(A.onPointerLeave(this.viewHelper.viewDomNode,U=>this._onMouseLeave(U))),this._register(A.onPointerDown(this.viewHelper.viewDomNode,(U,de)=>this._onMouseDown(U,de)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new Ve.gy(e,!1,this.viewHelper.viewDomNode),!1);o.position&&this.viewController.dispatchMouse({position:o.position,mouseColumn:o.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:o.type===6&&o.detail.injectedText!==null})}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,o){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,o)}}class Le extends Vi{constructor(e,o,f){super(e,o,f),this._register(we.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(B.nm(this.viewHelper.linesContentDomNode,we.t.Tap,A=>this.onTap(A))),this._register(B.nm(this.viewHelper.linesContentDomNode,we.t.Change,A=>this.onChange(A))),this._register(B.nm(this.viewHelper.linesContentDomNode,we.t.Contextmenu,A=>this._onContextMenu(new Ve.gy(A,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new Ve.gy(e,!1,this.viewHelper.viewDomNode),!1);if(o.position){const f=document.createEvent("CustomEvent");f.initEvent(_e.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(f),this.viewController.moveTo(o.position)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class oe extends y.JT{constructor(e,o,f){super(),d.gn&&vt.D.pointerEvents?this.handler=this._register(new Ee(e,o,f)):window.TouchEvent?this.handler=this._register(new Le(e,o,f)):this.handler=this._register(new Vi(e,o,f))}getTargetAtClientPoint(e,o){return this.handler.getTargetAtClientPoint(e,o)}}var he=s(97295),Me=s(52136),ke=s(15887);class Je extends Ce{}var ot=s(8625),ht=s(97781);class xt extends Je{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Be.L(1,1),this._lastCursorViewPosition=new Be.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(61);const o=e.get(62);this._renderLineNumbers=o.renderType,this._renderCustomLineNumbers=o.renderFn,this._renderFinalNewline=e.get(86);const f=e.get(133);this._lineNumbersLeft=f.lineNumbersLeft,this._lineNumbersWidth=f.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const o=e.selections[0].getPosition();this._lastCursorViewPosition=o,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(o);let f=!1;return this._activeLineNumber!==o.lineNumber&&(this._activeLineNumber=o.lineNumber,f=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(f=!0),f}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const o=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Be.L(e,1));if(o.column!==1)return"";const f=o.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(f):this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===f||f%10===0?String(f):"":String(f)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const o=d.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",f=e.visibleRange.startLineNumber,A=e.visibleRange.endLineNumber,U='<div class="'+xt.CLASS_NAME+o+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let de=null;if(this._renderLineNumbers===2){de=new Array(A-f+1),this._lastCursorViewPosition.lineNumber>=f&&this._lastCursorViewPosition.lineNumber<=A&&(de[this._lastCursorViewPosition.lineNumber-f]=this._lastCursorModelPosition.lineNumber);{let Qe=0;for(let st=this._lastCursorViewPosition.lineNumber+1;st<=A;st++){const Pt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Be.L(st,1)).column!==1;Pt||Qe++,st>=f&&(de[st-f]=Pt?0:Qe)}}{let Qe=0;for(let st=this._lastCursorViewPosition.lineNumber-1;st>=f;st--){const Pt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Be.L(st,1)).column!==1;Pt||Qe++,st<=A&&(de[st-f]=Pt?0:Qe)}}}const Se=this._context.viewModel.getLineCount(),He=[];for(let Qe=f;Qe<=A;Qe++){const st=Qe-f;if(!this._renderFinalNewline&&Qe===Se&&this._context.viewModel.getLineLength(Qe)===0){He[st]="";continue}let mt;if(de){const Pt=de[st];this._lastCursorViewPosition.lineNumber===Qe?mt=`<span class="relative-current-line-number">${Pt}</span>`:Pt?mt=String(Pt):mt=""}else mt=this._getLineRenderLineNumber(Qe);mt?Qe===this._activeLineNumber?He[st]='<div class="active-line-number '+xt.CLASS_NAME+o+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+mt+"</div>":He[st]=U+mt+"</div>":He[st]=""}this._renderResult=He}render(e,o){if(!this._renderResult)return"";const f=o-e;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}xt.CLASS_NAME="line-numbers",(0,ht.Ic)((Dt,e)=>{const o=Dt.getColor(ot.hw);o&&e.addRule(`.monaco-editor .line-numbers { color: ${o}; }`);const f=Dt.getColor(ot.DD);f&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${f}; }`)});class nt extends Ae{constructor(e){super(e);const o=this._context.configuration.options,f=o.get(133);this._canUseLayerHinting=!o.get(28),this._contentLeft=f.contentLeft,this._glyphMarginLeft=f.glyphMarginLeft,this._glyphMarginWidth=f.glyphMarginWidth,this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setClassName(nt.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,w.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(nt.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const o=this._context.configuration.options,f=o.get(133);return this._canUseLayerHinting=!o.get(28),this._contentLeft=f.contentLeft,this._glyphMarginLeft=f.glyphMarginLeft,this._glyphMarginWidth=f.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const o=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-o);const f=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(f),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(f)}}nt.CLASS_NAME="glyph-margin",nt.OUTER_CLASS_NAME="margin";var It=s(24929),Ht=s(49335),Qt=s(43155),ci=s(41264);class Fi{constructor(e,o,f,A,U){this._context=e,this.modelLineNumber=o,this.distanceToModelLineStart=f,this.widthOfHiddenLineTextBefore=A,this.distanceToModelLineEnd=U,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const o=new Be.L(this.modelLineNumber,this.distanceToModelLineStart+1),f=new Be.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(f),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const Ii=C.isFirefox;class Xi extends Ae{constructor(e,o,f){super(e),this._primaryCursorPosition=new Be.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=o,this._visibleRangeProvider=f,this._scrollLeft=0,this._scrollTop=0;const A=this._context.configuration.options,U=A.get(133);this._setAccessibilityOptions(A),this._contentLeft=U.contentLeft,this._contentWidth=U.contentWidth,this._contentHeight=U.height,this._fontInfo=A.get(46),this._lineHeight=A.get(61),this._emptySelectionClipboard=A.get(33),this._copyWithSyntaxHighlighting=A.get(21),this._visibleTextArea=null,this._selections=[new me.Y(1,1,1,1)],this._modelSelections=[new me.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,w.X)(document.createElement("textarea")),$e.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Ht.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(A)),this.textArea.setAttribute("tabindex",String(A.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",Z.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),A.get(30)&&A.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,w.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const de={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Qe=>this._context.viewModel.getLineMaxColumn(Qe),getValueInRange:(Qe,st)=>this._context.viewModel.getValueInRange(Qe,st)},Se={getDataToCopy:()=>{const Qe=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,d.ED),st=this._context.viewModel.model.getEOL(),mt=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),Pt=Array.isArray(Qe)?Qe:null,At=Array.isArray(Qe)?Qe.join(st):Qe;let ti,gi=null;if(_e.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&At.length<65536){const vi=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);vi&&(ti=vi.html,gi=vi.mode)}return{isFromEmptySelection:mt,multicursorText:Pt,text:At,html:ti,mode:gi}},getScreenReaderContent:Qe=>{if(this._accessibilitySupport===1){const st=this._selections[0];if(d.dz&&st.isEmpty()){const mt=st.getStartPosition();let Pt=this._getWordBeforePosition(mt);if(Pt.length===0&&(Pt=this._getCharacterBeforePosition(mt)),Pt.length>0)return new ke.un(Pt,Pt.length,Pt.length,mt,mt)}if(C.isSafari&&!st.isEmpty()){const mt="vscode-placeholder";return new ke.un(mt,0,mt.length,null,null)}return ke.un.EMPTY}if(C.isAndroid){const st=this._selections[0];if(st.isEmpty()){const mt=st.getStartPosition(),[Pt,At]=this._getAndroidWordAtPosition(mt);if(Pt.length>0)return new ke.un(Pt,At,At,mt,mt)}return ke.un.EMPTY}return ke.ee.fromEditorSelection(Qe,de,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(Qe,st,mt)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Qe,st,mt)},He=this._register(new _e.Tj(this.textArea.domNode));this._textAreaInput=this._register(new _e.Fz(Se,He,d.OS,C)),this._register(this._textAreaInput.onKeyDown(Qe=>{this._viewController.emitKeyDown(Qe)})),this._register(this._textAreaInput.onKeyUp(Qe=>{this._viewController.emitKeyUp(Qe)})),this._register(this._textAreaInput.onPaste(Qe=>{let st=!1,mt=null,Pt=null;Qe.metadata&&(st=this._emptySelectionClipboard&&!!Qe.metadata.isFromEmptySelection,mt=typeof Qe.metadata.multicursorText<"u"?Qe.metadata.multicursorText:null,Pt=Qe.metadata.mode),this._viewController.paste(Qe.text,st,mt,Pt)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Qe=>{Qe.replacePrevCharCnt||Qe.replaceNextCharCnt||Qe.positionDelta?(ke.al&&console.log(` => compositionType: <<${Qe.text}>>, ${Qe.replacePrevCharCnt}, ${Qe.replaceNextCharCnt}, ${Qe.positionDelta}`),this._viewController.compositionType(Qe.text,Qe.replacePrevCharCnt,Qe.replaceNextCharCnt,Qe.positionDelta)):(ke.al&&console.log(` => type: <<${Qe.text}>>`),this._viewController.type(Qe.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Qe=>{this._viewController.setSelection(Qe)})),this._register(this._textAreaInput.onCompositionStart(Qe=>{const st=this.textArea.domNode,mt=this._modelSelections[0],{distanceToModelLineStart:Pt,widthOfHiddenTextBefore:At}=(()=>{const gi=st.value.substring(0,Math.min(st.selectionStart,st.selectionEnd)),vi=gi.lastIndexOf(`
`),Li=gi.substring(vi+1),Wi=Li.lastIndexOf("	"),Mi=Li.length-Wi-1,on=mt.getStartPosition(),qi=Math.min(on.column-1,Mi),un=on.column-1-qi,fn=Li.substring(0,Li.length-qi),tn=zi(fn,this._fontInfo);return{distanceToModelLineStart:un,widthOfHiddenTextBefore:tn}})(),{distanceToModelLineEnd:ti}=(()=>{const gi=st.value.substring(Math.max(st.selectionStart,st.selectionEnd)),vi=gi.indexOf(`
`),Li=vi===-1?gi:gi.substring(0,vi),Wi=Li.indexOf("	"),Mi=Wi===-1?Li.length:Li.length-Wi-1,on=mt.getEndPosition(),qi=Math.min(this._context.viewModel.model.getLineMaxColumn(on.lineNumber)-on.column,Mi);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(on.lineNumber)-on.column-qi}})();this._context.viewModel.revealRange("keyboard",!0,Ze.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Fi(this._context,mt.startLineNumber,Pt,At,ti),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Ht.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Qe=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Ht.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const o='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',f=this._context.viewModel.getLineContent(e.lineNumber),A=(0,It.u)(o);let U=!0,de=e.column,Se=!0,He=e.column,Qe=0;for(;Qe<50&&(U||Se);){if(U&&de<=1&&(U=!1),U){const st=f.charCodeAt(de-2);A.get(st)!==0?U=!1:de--}if(Se&&He>f.length&&(Se=!1),Se){const st=f.charCodeAt(He-1);A.get(st)!==0?Se=!1:He++}Qe++}return[f.substring(de-1,He-1),e.column-de]}_getWordBeforePosition(e){const o=this._context.viewModel.getLineContent(e.lineNumber),f=(0,It.u)(this._context.configuration.options.get(119));let A=e.column,U=0;for(;A>1;){const de=o.charCodeAt(A-2);if(f.get(de)!==0||U>50)return o.substring(A-1,e.column-1);U++,A--}return o.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const f=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!he.ZG(f.charCodeAt(0)))return f}return""}_getAriaLabel(e){return e.get(2)===1?Z.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",d.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const o=e.get(3);this._accessibilitySupport===2&&o===V.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=o}onConfigurationChanged(e){const o=this._context.configuration.options,f=o.get(133);return this._setAccessibilityOptions(o),this._contentLeft=f.contentLeft,this._contentWidth=f.contentWidth,this._contentHeight=f.height,this._fontInfo=o.get(46),this._lineHeight=o.get(61),this._emptySelectionClipboard=o.get(33),this._copyWithSyntaxHighlighting=o.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("tabindex",String(o.get(114))),(e.hasChanged(30)||e.hasChanged(83))&&(o.get(30)&&o.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){var o;this._primaryCursorPosition=new Be.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(o=this._visibleTextArea)===null||o===void 0||o.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const f=this._visibleTextArea.visibleTextareaStart,A=this._visibleTextArea.visibleTextareaEnd,U=this._visibleTextArea.startPosition,de=this._visibleTextArea.endPosition;if(U&&de&&f&&A&&A.left>=this._scrollLeft&&f.left<=this._scrollLeft+this._contentWidth){const Se=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,He=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let Qe=this._visibleTextArea.widthOfHiddenLineTextBefore,st=this._contentLeft+f.left-this._scrollLeft,mt=A.left-f.left+1;if(st<this._contentLeft){const Li=this._contentLeft-st;st+=Li,Qe+=Li,mt-=Li}mt>this._contentWidth&&(mt=this._contentWidth);const Pt=this._context.viewModel.getViewLineData(U.lineNumber),At=Pt.tokens.findTokenIndexAtOffset(U.column-1),ti=Pt.tokens.findTokenIndexAtOffset(de.column-1),gi=At===ti,vi=this._visibleTextArea.definePresentation(gi?Pt.tokens.getPresentation(At):null);this.textArea.domNode.scrollTop=He*this._lineHeight,this.textArea.domNode.scrollLeft=Qe,this._doRender({lastRenderPosition:null,top:Se,left:st,width:mt,height:this._lineHeight,useCover:!1,color:(Qt.RW.getColorMap()||[])[vi.foreground],italic:vi.italic,bold:vi.bold,underline:vi.underline,strikethrough:vi.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const o=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(o<0||o>this._contentHeight){this._renderAtTopLeft();return}if(d.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:o,left:e,width:Ii?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const f=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=f*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:o,left:e,width:Ii?0:1,height:Ii?0:1,useCover:!1})}_newlinecount(e){let o=0,f=-1;do{if(f=e.indexOf(`
`,f+1),f===-1)break;o++}while(!0);return o}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:Ii?0:1,height:Ii?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const o=this.textArea,f=this.textAreaCover;(0,Me.N)(o,this._fontInfo),o.setTop(e.top),o.setLeft(e.left),o.setWidth(e.width),o.setHeight(e.height),o.setColor(e.color?ci.Il.Format.CSS.formatHex(e.color):""),o.setFontStyle(e.italic?"italic":""),e.bold&&o.setFontWeight("bold"),o.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),f.setTop(e.useCover?e.top:0),f.setLeft(e.useCover?e.left:0),f.setWidth(e.useCover?e.width:0),f.setHeight(e.useCover?e.height:0);const A=this._context.configuration.options;A.get(52)?f.setClassName("monaco-editor-background textAreaCover "+nt.OUTER_CLASS_NAME):A.get(62).renderType!==0?f.setClassName("monaco-editor-background textAreaCover "+xt.CLASS_NAME):f.setClassName("monaco-editor-background textAreaCover")}}function zi(Dt,e){if(Dt.length===0)return 0;const o=document.createElement("div");o.style.position="absolute",o.style.top="-50000px",o.style.width="50000px";const f=document.createElement("span");(0,Me.N)(f,e),f.style.whiteSpace="pre",f.append(Dt),o.appendChild(f),document.body.appendChild(o);const A=f.offsetWidth;return document.body.removeChild(o),A}var Si=s(42549);class Ji{constructor(e,o,f,A){this.configuration=e,this.viewModel=o,this.userInputEvents=f,this.commandDelegate=A}paste(e,o,f,A){this.commandDelegate.paste(e,o,f,A)}type(e){this.commandDelegate.type(e)}compositionType(e,o,f,A){this.commandDelegate.compositionType(e,o,f,A)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Si.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const o=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<o?new Be.L(e.lineNumber,o):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(72)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(72)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const o=this.configuration.options,f=d.IJ&&o.get(98),A=o.get(18);e.middleButton&&!f?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):A?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){Si.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){Si.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,o,f){e=this._validateViewColumn(e),Si.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:o,doColumnSelect:f})}_createCursor(e,o){e=this._validateViewColumn(e),Si.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:o})}_lastCursorMoveToSelect(e){Si.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){Si.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){Si.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){Si.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){Si.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){Si.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){Si.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){Si.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){Si.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class Zi{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var o;(o=this.onKeyDown)===null||o===void 0||o.call(this,e)}emitKeyUp(e){var o;(o=this.onKeyUp)===null||o===void 0||o.call(this,e)}emitContextMenu(e){var o;(o=this.onContextMenu)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var o;(o=this.onMouseMove)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var o;(o=this.onMouseLeave)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var o;(o=this.onMouseDown)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var o;(o=this.onMouseUp)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var o;(o=this.onMouseDrag)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var o;(o=this.onMouseDrop)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)===null||e===void 0||e.call(this)}emitMouseWheel(e){var o;(o=this.onMouseWheel)===null||o===void 0||o.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return Zi.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,o){const f=Object.assign({},e);return f.position&&(f.position=o.convertViewPositionToModelPosition(f.position)),f.range&&(f.range=o.convertViewRangeToModelRange(f.range)),f}}var Ui=s(50072),nn;class Dn{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,o){this._lines=o,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const o=e-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(e,o){if(this.getCount()===0)return null;const f=this.getStartLineNumber(),A=this.getEndLineNumber();if(o<f){const He=o-e+1;return this._rendLineNumberStart-=He,null}if(e>A)return null;let U=0,de=0;for(let He=f;He<=A;He++){const Qe=He-this._rendLineNumberStart;e<=He&&He<=o&&(de===0?(U=Qe,de=1):de++)}if(e<f){let He=0;o<f?He=o-e+1:He=f-e,this._rendLineNumberStart-=He}return this._lines.splice(U,de)}onLinesChanged(e,o){const f=e+o-1;if(this.getCount()===0)return!1;const A=this.getStartLineNumber(),U=this.getEndLineNumber();let de=!1;for(let Se=e;Se<=f;Se++)Se>=A&&Se<=U&&(this._lines[Se-this._rendLineNumberStart].onContentChanged(),de=!0);return de}onLinesInserted(e,o){if(this.getCount()===0)return null;const f=o-e+1,A=this.getStartLineNumber(),U=this.getEndLineNumber();if(e<=A)return this._rendLineNumberStart+=f,null;if(e>U)return null;if(f+e>U)return this._lines.splice(e-this._rendLineNumberStart,U-e+1);const de=[];for(let mt=0;mt<f;mt++)de[mt]=this._createLine();const Se=e-this._rendLineNumberStart,He=this._lines.slice(0,Se),Qe=this._lines.slice(Se,this._lines.length-f),st=this._lines.slice(this._lines.length-f,this._lines.length);return this._lines=He.concat(de).concat(Qe),st}onTokensChanged(e){if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),f=this.getEndLineNumber();let A=!1;for(let U=0,de=e.length;U<de;U++){const Se=e[U];if(Se.toLineNumber<o||Se.fromLineNumber>f)continue;const He=Math.max(o,Se.fromLineNumber),Qe=Math.min(f,Se.toLineNumber);for(let st=He;st<=Qe;st++){const mt=st-this._rendLineNumberStart;this._lines[mt].onTokensChanged(),A=!0}}return A}}class Cn{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new Dn(()=>this._host.createVisibleLine())}_createDomNode(){const e=(0,w.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(133)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const o=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(o)for(let f=0,A=o.length;f<A;f++){const U=o[f].getDomNode();U&&this.domNode.domNode.removeChild(U)}return!0}onLinesInserted(e){const o=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(o)for(let f=0,A=o.length;f<A;f++){const U=o[f].getDomNode();U&&this.domNode.domNode.removeChild(U)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const o=this._linesCollection._get(),f=new pi(this.domNode.domNode,this._host,e),A={rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},U=f.render(A,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(U.rendLineNumberStart,U.lines)}}class pi{constructor(e,o,f){this.domNode=e,this.host=o,this.viewportData=f}render(e,o,f,A){const U={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(U.rendLineNumberStart+U.linesLength-1<o||f<U.rendLineNumberStart){U.rendLineNumberStart=o,U.linesLength=f-o+1,U.lines=[];for(let de=o;de<=f;de++)U.lines[de-o]=this.host.createVisibleLine();return this._finishRendering(U,!0,A),U}if(this._renderUntouchedLines(U,Math.max(o-U.rendLineNumberStart,0),Math.min(f-U.rendLineNumberStart,U.linesLength-1),A,o),U.rendLineNumberStart>o){const de=o,Se=Math.min(f,U.rendLineNumberStart-1);de<=Se&&(this._insertLinesBefore(U,de,Se,A,o),U.linesLength+=Se-de+1)}else if(U.rendLineNumberStart<o){const de=Math.min(U.linesLength,o-U.rendLineNumberStart);de>0&&(this._removeLinesBefore(U,de),U.linesLength-=de)}if(U.rendLineNumberStart=o,U.rendLineNumberStart+U.linesLength-1<f){const de=U.rendLineNumberStart+U.linesLength,Se=f;de<=Se&&(this._insertLinesAfter(U,de,Se,A,o),U.linesLength+=Se-de+1)}else if(U.rendLineNumberStart+U.linesLength-1>f){const de=Math.max(0,f-U.rendLineNumberStart+1),He=U.linesLength-1-de+1;He>0&&(this._removeLinesAfter(U,He),U.linesLength-=He)}return this._finishRendering(U,!1,A),U}_renderUntouchedLines(e,o,f,A,U){const de=e.rendLineNumberStart,Se=e.lines;for(let He=o;He<=f;He++){const Qe=de+He;Se[He].layoutLine(Qe,A[Qe-U])}}_insertLinesBefore(e,o,f,A,U){const de=[];let Se=0;for(let He=o;He<=f;He++)de[Se++]=this.host.createVisibleLine();e.lines=de.concat(e.lines)}_removeLinesBefore(e,o){for(let f=0;f<o;f++){const A=e.lines[f].getDomNode();A&&this.domNode.removeChild(A)}e.lines.splice(0,o)}_insertLinesAfter(e,o,f,A,U){const de=[];let Se=0;for(let He=o;He<=f;He++)de[Se++]=this.host.createVisibleLine();e.lines=e.lines.concat(de)}_removeLinesAfter(e,o){const f=e.linesLength-o;for(let A=0;A<o;A++){const U=e.lines[f+A].getDomNode();U&&this.domNode.removeChild(U)}e.lines.splice(f,o)}_finishRenderingNewLines(e,o,f,A){pi._ttPolicy&&(f=pi._ttPolicy.createHTML(f));const U=this.domNode.lastChild;o||!U?this.domNode.innerHTML=f:U.insertAdjacentHTML("afterend",f);let de=this.domNode.lastChild;for(let Se=e.linesLength-1;Se>=0;Se--){const He=e.lines[Se];A[Se]&&(He.setDomNode(de),de=de.previousSibling)}}_finishRenderingInvalidLines(e,o,f){const A=document.createElement("div");pi._ttPolicy&&(o=pi._ttPolicy.createHTML(o)),A.innerHTML=o;for(let U=0;U<e.linesLength;U++){const de=e.lines[U];if(f[U]){const Se=A.firstChild,He=de.getDomNode();He.parentNode.replaceChild(Se,He),de.setDomNode(Se)}}}_finishRendering(e,o,f){const A=pi._sb,U=e.linesLength,de=e.lines,Se=e.rendLineNumberStart,He=[];{A.reset();let Qe=!1;for(let st=0;st<U;st++){const mt=de[st];He[st]=!1,!(mt.getDomNode()||!mt.renderLine(st+Se,f[st],this.viewportData,A))&&(He[st]=!0,Qe=!0)}Qe&&this._finishRenderingNewLines(e,o,A.build(),He)}{A.reset();let Qe=!1;const st=[];for(let mt=0;mt<U;mt++){const Pt=de[mt];st[mt]=!1,!(He[mt]||!Pt.renderLine(mt+Se,f[mt],this.viewportData,A))&&(st[mt]=!0,Qe=!0)}Qe&&this._finishRenderingInvalidLines(e,A.build(),st)}}}pi._ttPolicy=(nn=window.trustedTypes)===null||nn===void 0?void 0:nn.createPolicy("editorViewLayer",{createHTML:Dt=>Dt}),pi._sb=(0,Ui.l$)(1e5);class ze extends Ae{constructor(e){super(e),this._visibleLines=new Cn(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,o=this._dynamicOverlays.length;e<o;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,o=this._dynamicOverlays.length;e<o;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Ct(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const o=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();for(let A=o;A<=f;A++)this._visibleLines.getVisibleLine(A).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const o=this._dynamicOverlays.filter(f=>f.shouldRender());for(let f=0,A=o.length;f<A;f++){const U=o[f];U.prepareRender(e),U.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Ct{constructor(e,o){this._configuration=e,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,w.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(61)}renderLine(e,o,f,A){let U="";for(let de=0,Se=this._dynamicOverlays.length;de<Se;de++){const He=this._dynamicOverlays[de];U+=He.render(f.startLineNumber,e)}return this._renderedContent===U?!1:(this._renderedContent=U,A.appendASCIIString('<div style="position:absolute;top:'),A.appendASCIIString(String(o)),A.appendASCIIString("px;width:100%;height:"),A.appendASCIIString(String(this._lineHeight)),A.appendASCIIString('px;">'),A.appendASCIIString(U),A.appendASCIIString("</div>"),!0)}layoutLine(e,o){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(this._lineHeight))}}class kt extends ze{constructor(e){super(e);const f=this._context.configuration.options.get(133);this._contentWidth=f.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const f=this._context.configuration.options.get(133);return this._contentWidth=f.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class oi extends ze{constructor(e){super(e);const o=this._context.configuration.options,f=o.get(133);this._contentLeft=f.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,Me.N)(this.domNode,o.get(46))}onConfigurationChanged(e){const o=this._context.configuration.options;(0,Me.N)(this.domNode,o.get(46));const f=o.get(133);return this._contentLeft=f.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const o=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}class ai{constructor(e,o){this._coordinateBrand=void 0,this.top=e,this.left=o}}class bi extends Ae{constructor(e,o){super(e),this._viewDomNode=o,this._widgets={},this.domNode=(0,w.X)(document.createElement("div")),$e.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,w.X)(document.createElement("div")),$e.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const o=Object.keys(this._widgets);for(const f of o)this._widgets[f].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const o=Object.keys(this._widgets);for(const f of o)this._widgets[f].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const o=new xi(this._context,this._viewDomNode,e);this._widgets[o.id]=o,o.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(o.domNode):this.domNode.appendChild(o.domNode),this.setShouldRender()}setWidgetPosition(e,o,f,A){this._widgets[e.getId()].setPosition(o,f,A),this.setShouldRender()}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const f=this._widgets[o];delete this._widgets[o];const A=f.domNode.domNode;A.parentNode.removeChild(A),A.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const o=Object.keys(this._widgets);for(const f of o)this._widgets[f].onBeforeRender(e)}prepareRender(e){const o=Object.keys(this._widgets);for(const f of o)this._widgets[f].prepareRender(e)}render(e){const o=Object.keys(this._widgets);for(const f of o)this._widgets[f].render(e)}}class xi{constructor(e,o,f){this._context=e,this._viewDomNode=o,this._actual=f,this.domNode=(0,w.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const A=this._context.configuration.options,U=A.get(133);this._fixedOverflowWidgets=A.get(38),this._contentWidth=U.contentWidth,this._contentLeft=U.contentLeft,this._lineHeight=A.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const o=this._context.configuration.options;if(this._lineHeight=o.get(61),e.hasChanged(133)){const f=o.get(133);this._contentLeft=f.contentLeft,this._contentWidth=f.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range,this._affinity)}_setPosition(e,o){var f;if(this._range=e,this._viewRange=null,this._affinity=o,this._range){const A=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(A.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(A.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(A,(f=this._affinity)!==null&&f!==void 0?f:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,o,f){this._setPosition(e,f),this._preference=o,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,o,f,A,U){const de=e.top,Se=de,He=o.top+this._lineHeight,Qe=U.viewportHeight-He,st=de-A,mt=Se>=A,Pt=He,At=Qe>=A;let ti=e.left,gi=o.left;return ti+f>U.scrollLeft+U.viewportWidth&&(ti=U.scrollLeft+U.viewportWidth-f),gi+f>U.scrollLeft+U.viewportWidth&&(gi=U.scrollLeft+U.viewportWidth-f),ti<U.scrollLeft&&(ti=U.scrollLeft),gi<U.scrollLeft&&(gi=U.scrollLeft),{fitsAbove:mt,aboveTop:st,aboveLeft:ti,fitsBelow:At,belowTop:Pt,belowLeft:gi}}_layoutHorizontalSegmentInPage(e,o,f,A){const U=Math.max(0,o.left-A),de=Math.min(o.left+o.width+A,e.width);let Se=o.left+f-B.DI.scrollX;if(Se+A>de){const He=Se-(de-A);Se-=He,f-=He}if(Se<U){const He=Se-U;Se-=He,f-=He}return[f,Se]}_layoutBoxInPage(e,o,f,A,U){const de=e.top-A,Se=o.top+this._lineHeight,He=B.i(this._viewDomNode.domNode),Qe=He.top+de-B.DI.scrollY,st=He.top+Se-B.DI.scrollY,mt=B.D6(document.body),[Pt,At]=this._layoutHorizontalSegmentInPage(mt,He,e.left-U.scrollLeft+this._contentLeft,f),[ti,gi]=this._layoutHorizontalSegmentInPage(mt,He,o.left-U.scrollLeft+this._contentLeft,f),vi=22,Li=22,Wi=Qe>=vi,Mi=st+A<=mt.height-Li;return this._fixedOverflowWidgets?{fitsAbove:Wi,aboveTop:Math.max(Qe,vi),aboveLeft:At,fitsBelow:Mi,belowTop:st,belowLeft:gi}:{fitsAbove:Wi,aboveTop:de,aboveLeft:Pt,fitsBelow:Mi,belowTop:Se,belowLeft:ti}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new ai(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const o=e.linesVisibleRangesForRange(this._viewRange,!1);if(!o||o.length===0)return[null,null];let f=o[0],A=o[0];for(const mt of o)mt.lineNumber<f.lineNumber&&(f=mt),mt.lineNumber>A.lineNumber&&(A=mt);let U=1073741824;for(const mt of f.ranges)mt.left<U&&(U=mt.left);let de=1073741824;for(const mt of A.ranges)mt.left<de&&(de=mt.left);const Se=e.getVerticalOffsetForLineNumber(f.lineNumber)-e.scrollTop,He=new ai(Se,U),Qe=e.getVerticalOffsetForLineNumber(A.lineNumber)-e.scrollTop,st=new ai(Qe,de);return[He,st]}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const[o,f]=this._getTopAndBottomLeft(e);if(!o||!f)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let U=null;if(typeof this._actual.beforeRender=="function"&&(U=Ti(this._actual.beforeRender,this._actual)),U)this._cachedDomNodeOffsetWidth=U.width,this._cachedDomNodeOffsetHeight=U.height;else{const Se=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(Se.width),this._cachedDomNodeOffsetHeight=Math.round(Se.height)}}let A;this.allowEditorOverflow?A=this._layoutBoxInPage(o,f,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):A=this._layoutBoxInViewport(o,f,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let U=1;U<=2;U++)for(const de of this._preference)if(de===1){if(!A)return null;if(U===2||A.fitsAbove)return{coordinate:new ai(A.aboveTop,A.aboveLeft),position:1}}else if(de===2){if(!A)return null;if(U===2||A.fitsBelow)return{coordinate:new ai(A.belowTop,A.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(o),position:0}:{coordinate:o,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&Ti(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&Ti(this._actual.afterRender,this._actual,this._renderData.position)}}function Ti(Dt,e,...o){try{return Dt.call(e,...o)}catch{return null}}class ji extends Je{constructor(e){super(),this._context=e;const o=this._context.configuration.options,f=o.get(133);this._lineHeight=o.get(61),this._renderLineHighlight=o.get(87),this._renderLineHighlightOnlyWhenFocus=o.get(88),this._contentLeft=f.contentLeft,this._contentWidth=f.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new me.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const o=this._selections.map(A=>A.positionLineNumber);o.sort((A,U)=>A-U),m.fS(this._cursorLineNumbers,o)||(this._cursorLineNumbers=o,e=!0);const f=this._selections.every(A=>A.isEmpty());return this._selectionIsEmpty!==f&&(this._selectionIsEmpty=f,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const o=this._context.configuration.options,f=o.get(133);return this._lineHeight=o.get(61),this._renderLineHighlight=o.get(87),this._renderLineHighlightOnlyWhenFocus=o.get(88),this._contentLeft=f.contentLeft,this._contentWidth=f.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const o=this._renderOne(e),f=e.visibleRange.startLineNumber,A=e.visibleRange.endLineNumber,U=this._cursorLineNumbers.length;let de=0;const Se=[];for(let He=f;He<=A;He++){const Qe=He-f;for(;de<U&&this._cursorLineNumbers[de]<He;)de++;de<U&&this._cursorLineNumbers[de]===He?Se[Qe]=o:Se[Qe]=""}this._renderData=Se}render(e,o){if(!this._renderData)return"";const f=o-e;return f>=this._renderData.length?"":this._renderData[f]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Hi extends ji{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class rn extends ji{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,ht.Ic)((Dt,e)=>{const o=Dt.getColor(ot.Kh);if(o&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${o}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${o}; border: none; }`)),!o||o.isTransparent()||Dt.defines(ot.Mm)){const f=Dt.getColor(ot.Mm);f&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${f}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${f}; }`),(0,qt.c3)(Dt.type)&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class wi extends Je{constructor(e){super(),this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const o=e.getDecorationsInViewport();let f=[],A=0;for(let He=0,Qe=o.length;He<Qe;He++){const st=o[He];st.options.className&&(f[A++]=st)}f=f.sort((He,Qe)=>{if(He.options.zIndex<Qe.options.zIndex)return-1;if(He.options.zIndex>Qe.options.zIndex)return 1;const st=He.options.className,mt=Qe.options.className;return st<mt?-1:st>mt?1:Ze.e.compareRangesUsingStarts(He.range,Qe.range)});const U=e.visibleRange.startLineNumber,de=e.visibleRange.endLineNumber,Se=[];for(let He=U;He<=de;He++){const Qe=He-U;Se[Qe]=""}this._renderWholeLineDecorations(e,f,Se),this._renderNormalDecorations(e,f,Se),this._renderResult=Se}_renderWholeLineDecorations(e,o,f){const A=String(this._lineHeight),U=e.visibleRange.startLineNumber,de=e.visibleRange.endLineNumber;for(let Se=0,He=o.length;Se<He;Se++){const Qe=o[Se];if(!Qe.options.isWholeLine)continue;const st='<div class="cdr '+Qe.options.className+'" style="left:0;width:100%;height:'+A+'px;"></div>',mt=Math.max(Qe.range.startLineNumber,U),Pt=Math.min(Qe.range.endLineNumber,de);for(let At=mt;At<=Pt;At++){const ti=At-U;f[ti]+=st}}}_renderNormalDecorations(e,o,f){const A=String(this._lineHeight),U=e.visibleRange.startLineNumber;let de=null,Se=!1,He=null;for(let Qe=0,st=o.length;Qe<st;Qe++){const mt=o[Qe];if(mt.options.isWholeLine)continue;const Pt=mt.options.className,At=!!mt.options.showIfCollapsed;let ti=mt.range;if(At&&ti.endColumn===1&&ti.endLineNumber!==ti.startLineNumber&&(ti=new Ze.e(ti.startLineNumber,ti.startColumn,ti.endLineNumber-1,this._context.viewModel.getLineMaxColumn(ti.endLineNumber-1))),de===Pt&&Se===At&&Ze.e.areIntersectingOrTouching(He,ti)){He=Ze.e.plusRange(He,ti);continue}de!==null&&this._renderNormalDecoration(e,He,de,Se,A,U,f),de=Pt,Se=At,He=ti}de!==null&&this._renderNormalDecoration(e,He,de,Se,A,U,f)}_renderNormalDecoration(e,o,f,A,U,de,Se){const He=e.linesVisibleRangesForRange(o,f==="findMatch");if(He)for(let Qe=0,st=He.length;Qe<st;Qe++){const mt=He[Qe];if(mt.outsideRenderedLine)continue;const Pt=mt.lineNumber-de;if(A&&mt.ranges.length===1){const At=mt.ranges[0];if(At.width<this._typicalHalfwidthCharacterWidth){const ti=Math.round(At.left+At.width/2),gi=Math.max(0,Math.round(ti-this._typicalHalfwidthCharacterWidth/2));mt.ranges[0]=new bt(gi,this._typicalHalfwidthCharacterWidth)}}for(let At=0,ti=mt.ranges.length;At<ti;At++){const gi=mt.ranges[At],vi='<div class="cdr '+f+'" style="left:'+String(gi.left)+"px;width:"+String(gi.width)+"px;height:"+U+'px;"></div>';Se[Pt]+=vi}}}render(e,o){if(!this._renderResult)return"";const f=o-e;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}var et=s(13433),lt=s(73910);class Rt extends Ae{constructor(e,o,f,A){super(e);const U=this._context.configuration.options,de=U.get(94),Se=U.get(69),He=U.get(36),Qe=U.get(97),st={listenOnDomNode:f.domNode,className:"editor-scrollable "+(0,ht.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:de.vertical,horizontal:de.horizontal,verticalHasArrows:de.verticalHasArrows,horizontalHasArrows:de.horizontalHasArrows,verticalScrollbarSize:de.verticalScrollbarSize,verticalSliderSize:de.verticalSliderSize,horizontalScrollbarSize:de.horizontalScrollbarSize,horizontalSliderSize:de.horizontalSliderSize,handleMouseWheel:de.handleMouseWheel,alwaysConsumeMouseWheel:de.alwaysConsumeMouseWheel,arrowSize:de.arrowSize,mouseWheelScrollSensitivity:Se,fastScrollSensitivity:He,scrollPredominantAxis:Qe,scrollByPage:de.scrollByPage};this.scrollbar=this._register(new et.$Z(o.domNode,st,this._context.viewLayout.getScrollable())),$e.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,w.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const mt=(Pt,At,ti)=>{const gi={};if(At){const vi=Pt.scrollTop;vi&&(gi.scrollTop=this._context.viewLayout.getCurrentScrollTop()+vi,Pt.scrollTop=0)}if(ti){const vi=Pt.scrollLeft;vi&&(gi.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+vi,Pt.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(gi,1)};this._register(B.nm(f.domNode,"scroll",Pt=>mt(f.domNode,!0,!0))),this._register(B.nm(o.domNode,"scroll",Pt=>mt(o.domNode,!0,!1))),this._register(B.nm(A.domNode,"scroll",Pt=>mt(A.domNode,!0,!1))),this._register(B.nm(this.scrollbarDomNode.domNode,"scroll",Pt=>mt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,o=e.get(133);this.scrollbarDomNode.setLeft(o.contentLeft),e.get(67).side==="right"?this.scrollbarDomNode.setWidth(o.contentWidth+o.minimap.minimapWidth):this.scrollbarDomNode.setWidth(o.contentWidth),this.scrollbarDomNode.setHeight(o.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}onConfigurationChanged(e){if(e.hasChanged(94)||e.hasChanged(69)||e.hasChanged(36)){const o=this._context.configuration.options,f=o.get(94),A=o.get(69),U=o.get(36),de=o.get(97),Se={vertical:f.vertical,horizontal:f.horizontal,verticalScrollbarSize:f.verticalScrollbarSize,horizontalScrollbarSize:f.horizontalScrollbarSize,scrollByPage:f.scrollByPage,handleMouseWheel:f.handleMouseWheel,mouseWheelScrollSensitivity:A,fastScrollSensitivity:U,scrollPredominantAxis:de};this.scrollbar.updateOptions(Se)}return e.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,ht.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}(0,ht.Ic)((Dt,e)=>{const o=Dt.getColor(lt._wn);o&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${o} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${o} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${o} 6px 6px 6px -6px inset;
			}
		`);const f=Dt.getColor(lt.etL);f&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${f};
			}
		`);const A=Dt.getColor(lt.ABB);A&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${A};
			}
		`);const U=Dt.getColor(lt.ynu);U&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${U};
			}
		`)});class Ut{constructor(e,o,f){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+o,this.className=String(f)}}class ui extends Je{_render(e,o,f){const A=[];for(let Se=e;Se<=o;Se++){const He=Se-e;A[He]=[]}if(f.length===0)return A;f.sort((Se,He)=>Se.className===He.className?Se.startLineNumber===He.startLineNumber?Se.endLineNumber-He.endLineNumber:Se.startLineNumber-He.startLineNumber:Se.className<He.className?-1:1);let U=null,de=0;for(let Se=0,He=f.length;Se<He;Se++){const Qe=f[Se],st=Qe.className;let mt=Math.max(Qe.startLineNumber,e)-e;const Pt=Math.min(Qe.endLineNumber,o)-e;U===st?(mt=Math.max(de+1,mt),de=Math.max(de,Pt)):(U=st,de=Pt);for(let At=mt;At<=de;At++)A[At].push(U)}return A}}class ri extends ui{constructor(e){super(),this._context=e;const o=this._context.configuration.options,f=o.get(133);this._lineHeight=o.get(61),this._glyphMargin=o.get(52),this._glyphMarginLeft=f.glyphMarginLeft,this._glyphMarginWidth=f.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,f=o.get(133);return this._lineHeight=o.get(61),this._glyphMargin=o.get(52),this._glyphMarginLeft=f.glyphMarginLeft,this._glyphMarginWidth=f.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),f=[];let A=0;for(let U=0,de=o.length;U<de;U++){const Se=o[U],He=Se.options.glyphMarginClassName;He&&(f[A++]=new Ut(Se.range.startLineNumber,Se.range.endLineNumber,He))}return f}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,f=e.visibleRange.endLineNumber,A=this._render(o,f,this._getDecorations(e)),U=this._lineHeight.toString(),de=this._glyphMarginLeft.toString(),Se=this._glyphMarginWidth.toString(),He='" style="left:'+de+"px;width:"+Se+"px;height:"+U+'px;"></div>',Qe=[];for(let st=o;st<=f;st++){const mt=st-o,Pt=A[mt];Pt.length===0?Qe[mt]="":Qe[mt]='<div class="cgmr codicon '+Pt.join(" ")+He}this._renderResult=Qe}render(e,o){if(!this._renderResult)return"";const f=o-e;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}var _i=s(98401),Yi=s(1516),an=s(65094);class ei extends Je{constructor(e){super(),this._context=e,this._primaryPosition=null;const o=this._context.configuration.options,f=o.get(134),A=o.get(46);this._lineHeight=o.get(61),this._spaceWidth=A.spaceWidth,this._maxIndentLeft=f.wrappingColumn===-1?-1:f.wrappingColumn*A.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,f=o.get(134),A=o.get(46);return this._lineHeight=o.get(61),this._spaceWidth=A.spaceWidth,this._maxIndentLeft=f.wrappingColumn===-1?-1:f.wrappingColumn*A.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),!0}onCursorStateChanged(e){var o;const A=e.selections[0].getPosition();return!((o=this._primaryPosition)===null||o===void 0)&&o.equals(A)?!1:(this._primaryPosition=A,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var o,f,A,U;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const de=e.visibleRange.startLineNumber,Se=e.visibleRange.endLineNumber,He=e.scrollWidth,Qe=this._lineHeight,st=this._primaryPosition,mt=this.getGuidesByLine(de,Se,st),Pt=[];for(let At=de;At<=Se;At++){const ti=At-de,gi=mt[ti];let vi="";const Li=(f=(o=e.visibleRangeForPosition(new Be.L(At,1)))===null||o===void 0?void 0:o.left)!==null&&f!==void 0?f:0;for(const Wi of gi){const Mi=Wi.column===-1?Li+(Wi.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new Be.L(At,Wi.column)).left;if(Mi>He||this._maxIndentLeft>0&&Mi>this._maxIndentLeft)break;const on=Wi.horizontalLine?Wi.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",qi=Wi.horizontalLine?((U=(A=e.visibleRangeForPosition(new Be.L(At,Wi.horizontalLine.endColumn)))===null||A===void 0?void 0:A.left)!==null&&U!==void 0?U:Mi+this._spaceWidth)-Mi:this._spaceWidth;vi+=`<div class="core-guide ${Wi.className} ${on}" style="left:${Mi}px;height:${Qe}px;width:${qi}px"></div>`}Pt[ti]=vi}this._renderResult=Pt}getGuidesByLine(e,o,f){const A=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,o,f,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?an.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?an.s6.EnabledForActive:an.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,U=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,o):null;let de=0,Se=0,He=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&f){const mt=this._context.viewModel.getActiveIndentGuide(f.lineNumber,e,o);de=mt.startLineNumber,Se=mt.endLineNumber,He=mt.indent}const{indentSize:Qe}=this._context.viewModel.model.getOptions(),st=[];for(let mt=e;mt<=o;mt++){const Pt=new Array;st.push(Pt);const At=A?A[mt-e]:[],ti=new m.H9(At),gi=U?U[mt-e]:[];for(let vi=1;vi<=gi;vi++){const Li=(vi-1)*Qe+1,Wi=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||At.length===0)&&de<=mt&&mt<=Se&&vi===He;Pt.push(...ti.takeWhile(on=>on.visibleColumn<Li)||[]);const Mi=ti.peek();(!Mi||Mi.visibleColumn!==Li||Mi.horizontalLine)&&Pt.push(new an.UO(Li,-1,Wi?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}Pt.push(...ti.takeWhile(vi=>!0)||[])}return st}render(e,o){if(!this._renderResult)return"";const f=o-e;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}function Gi(Dt){if(!(Dt&&Dt.isTransparent()))return Dt}(0,ht.Ic)((Dt,e)=>{const o=Dt.getColor(ot.tR);o&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${o} inset; }`);const f=Dt.getColor(ot.Ym)||o;f&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${f} inset; }`);const A=[{bracketColor:ot.zJ,guideColor:ot.oV,guideColorActive:ot.Qb},{bracketColor:ot.Vs,guideColor:ot.m$,guideColorActive:ot.m3},{bracketColor:ot.CE,guideColor:ot.DS,guideColorActive:ot.To},{bracketColor:ot.UP,guideColor:ot.lS,guideColorActive:ot.L7},{bracketColor:ot.r0,guideColor:ot.Jn,guideColorActive:ot.HV},{bracketColor:ot.m1,guideColor:ot.YF,guideColorActive:ot.f9}],U=new Yi.W,de=A.map(Se=>{var He,Qe;const st=Dt.getColor(Se.bracketColor),mt=Dt.getColor(Se.guideColor),Pt=Dt.getColor(Se.guideColorActive),At=Gi((He=Gi(mt))!==null&&He!==void 0?He:st?.transparent(.3)),ti=Gi((Qe=Gi(Pt))!==null&&Qe!==void 0?Qe:st);if(!(!At||!ti))return{guideColor:At,guideColorActive:ti}}).filter(_i.$K);if(de.length>0){for(let Se=0;Se<30;Se++){const He=de[Se%de.length];e.addRule(`.monaco-editor .${U.getInlineClassNameOfLevel(Se).replace(/ /g,".")} { --guide-color: ${He.guideColor}; --guide-color-active: ${He.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${U.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${U.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${U.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class ln{constructor(){this._currentVisibleRange=new Ze.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class bn{constructor(e,o,f,A,U,de,Se){this.minimalReveal=e,this.lineNumber=o,this.startColumn=f,this.endColumn=A,this.startScrollTop=U,this.stopScrollTop=de,this.scrollType=Se,this.type="range",this.minLineNumber=o,this.maxLineNumber=o}}class Mn{constructor(e,o,f,A,U){this.minimalReveal=e,this.selections=o,this.startScrollTop=f,this.stopScrollTop=A,this.scrollType=U,this.type="selections";let de=o[0].startLineNumber,Se=o[0].endLineNumber;for(let He=1,Qe=o.length;He<Qe;He++){const st=o[He];de=Math.min(de,st.startLineNumber),Se=Math.max(Se,st.endLineNumber)}this.minLineNumber=de,this.maxLineNumber=Se}}class Nn extends Ae{constructor(e,o){super(e),this._linesContent=o,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Cn(this),this.domNode=this._visibleLines.domNode;const f=this._context.configuration,A=this._context.configuration.options,U=A.get(46),de=A.get(134),Se=A.get(133);this._lineHeight=A.get(61),this._typicalHalfwidthCharacterWidth=U.typicalHalfwidthCharacterWidth,this._isViewportWrapping=de.isViewportWrapping,this._revealHorizontalRightPadding=A.get(91),this._horizontalScrollbarHeight=Se.horizontalScrollbarHeight,this._cursorSurroundingLines=A.get(25),this._cursorSurroundingLinesStyle=A.get(26),this._canUseLayerHinting=!A.get(28),this._viewLineOptions=new ni(f,this._context.theme.type),$e.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Ht.S}`),(0,Me.N)(this.domNode,U),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Ne.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Ne.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new ln,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Gt(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(134)&&(this._maxLineWidth=0);const o=this._context.configuration.options,f=o.get(46),A=o.get(134),U=o.get(133);return this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=f.typicalHalfwidthCharacterWidth,this._isViewportWrapping=A.isViewportWrapping,this._revealHorizontalRightPadding=o.get(91),this._horizontalScrollbarHeight=U.horizontalScrollbarHeight,this._cursorSurroundingLines=o.get(25),this._cursorSurroundingLinesStyle=o.get(26),this._canUseLayerHinting=!o.get(28),(0,Me.N)(this.domNode,f),this._onOptionsMaybeChanged(),e.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,o=new ni(e,this._context.theme.type);if(!this._viewLineOptions.equals(o)){this._viewLineOptions=o;const f=this._visibleLines.getStartLineNumber(),A=this._visibleLines.getEndLineNumber();for(let U=f;U<=A;U++)this._visibleLines.getVisibleLine(U).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const o=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();let A=!1;for(let U=o;U<=f;U++)A=this._visibleLines.getVisibleLine(U).onSelectionChanged()||A;return A}onDecorationsChanged(e){{const o=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();for(let A=o;A<=f;A++)this._visibleLines.getVisibleLine(A).onDecorationsChanged()}return!0}onFlushed(e){const o=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,o}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const o=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(o===-1)return!1;let f=this._context.viewLayout.validateScrollPosition({scrollTop:o});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?f={scrollTop:f.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new bn(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),f.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new Mn(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),f.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const U=Math.abs(this._context.viewLayout.getCurrentScrollTop()-f.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(f,U),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const o=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),f=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<o||e.scrollTop>f)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,o){const f=this._getViewLineDomNode(e);if(f===null)return null;const A=this._getLineNumberFor(f);if(A===-1||A<1||A>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(A)===1)return new Be.L(A,1);const U=this._visibleLines.getStartLineNumber(),de=this._visibleLines.getEndLineNumber();if(A<U||A>de)return null;let Se=this._visibleLines.getVisibleLine(A).getColumnOfNodeOffset(A,e,o);const He=this._context.viewModel.getLineMinColumn(A);return Se<He&&(Se=He),new Be.L(A,Se)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Gt.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const o=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();for(let A=o;A<=f;A++){const U=this._visibleLines.getVisibleLine(A);if(e===U.getDomNode())return A}return-1}getLineWidth(e){const o=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();return e<o||e>f?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,o){if(this.shouldRender())return null;const f=e.endLineNumber,A=Ze.e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!A)return null;const U=[];let de=0;const Se=new Mt(this.domNode.domNode,this._textRangeRestingSpot);let He=0;o&&(He=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Be.L(A.startLineNumber,1)).lineNumber);const Qe=this._visibleLines.getStartLineNumber(),st=this._visibleLines.getEndLineNumber();for(let mt=A.startLineNumber;mt<=A.endLineNumber;mt++){if(mt<Qe||mt>st)continue;const Pt=mt===A.startLineNumber?A.startColumn:1,At=mt===A.endLineNumber?A.endColumn:this._context.viewModel.getLineMaxColumn(mt),ti=this._visibleLines.getVisibleLine(mt).getVisibleRangesForRange(mt,Pt,At,Se);if(ti){if(o&&mt<f){const gi=He;He=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Be.L(mt+1,1)).lineNumber,gi!==He&&(ti.ranges[ti.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}U[de++]=new pt(ti.outsideRenderedLine,mt,bt.from(ti.ranges))}}return de===0?null:U}_visibleRangesForLineRange(e,o,f){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,o,f,new Mt(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const o=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return o?new it(o.outsideRenderedLine,o.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const o=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();let A=1,U=!0;for(let de=o;de<=f;de++){const Se=this._visibleLines.getVisibleLine(de);if(e&&!Se.getWidthIsFast()){U=!1;continue}A=Math.max(A,Se.getWidth())}return U&&o===1&&f===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(A),U}_checkMonospaceFontAssumptions(){let e=-1,o=-1;const f=this._visibleLines.getStartLineNumber(),A=this._visibleLines.getEndLineNumber();for(let U=f;U<=A;U++){const de=this._visibleLines.getVisibleLine(U);if(de.needsMonospaceFontCheck()){const Se=de.getWidth();Se>o&&(o=Se,e=U)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let U=f;U<=A;U++)this._visibleLines.getVisibleLine(U).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const f=this._horizontalRevealRequest;if(e.startLineNumber<=f.minLineNumber&&f.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const A=this._computeScrollLeftToReveal(f);A&&(this._isViewportWrapping||this._ensureMaxLineWidth(A.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:A.scrollLeft},f.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),d.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const f=this._visibleLines.getStartLineNumber(),A=this._visibleLines.getEndLineNumber();for(let U=f;U<=A;U++)if(this._visibleLines.getVisibleLine(U).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const o=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-o),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const o=Math.ceil(e);this._maxLineWidth<o&&(this._maxLineWidth=o,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,o,f,A,U,de){const Se=e.top,He=e.height,Qe=Se+He;let st,mt,Pt;if(U&&U.length>0){let gi=U[0].startLineNumber,vi=U[0].endLineNumber;for(let Li=1,Wi=U.length;Li<Wi;Li++){const Mi=U[Li];gi=Math.min(gi,Mi.startLineNumber),vi=Math.max(vi,Mi.endLineNumber)}st=!1,mt=this._context.viewLayout.getVerticalOffsetForLineNumber(gi),Pt=this._context.viewLayout.getVerticalOffsetForLineNumber(vi)+this._lineHeight}else if(A)st=!0,mt=this._context.viewLayout.getVerticalOffsetForLineNumber(A.startLineNumber),Pt=this._context.viewLayout.getVerticalOffsetForLineNumber(A.endLineNumber)+this._lineHeight;else return-1;if((o==="mouse"||f)&&this._cursorSurroundingLinesStyle==="default")f||(mt-=this._lineHeight);else{const gi=Math.min(He/this._lineHeight/2,this._cursorSurroundingLines);mt-=gi*this._lineHeight,Pt+=Math.max(0,gi-1)*this._lineHeight}(de===0||de===4)&&(Pt+=f?this._horizontalScrollbarHeight:this._lineHeight);let ti;if(Pt-mt>He){if(!st)return-1;ti=mt}else if(de===5||de===6)if(de===6&&Se<=mt&&Pt<=Qe)ti=Se;else{const gi=Math.max(5*this._lineHeight,He*.2),vi=mt-gi,Li=Pt-He;ti=Math.max(Li,vi)}else if(de===1||de===2)if(de===2&&Se<=mt&&Pt<=Qe)ti=Se;else{const gi=(mt+Pt)/2;ti=Math.max(0,gi-He/2)}else ti=this._computeMinimumScrolling(Se,Qe,mt,Pt,de===3,de===4);return ti}_computeScrollLeftToReveal(e){const o=this._context.viewLayout.getCurrentViewport(),f=o.left,A=f+o.width;let U=1073741824,de=0;if(e.type==="range"){const He=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!He)return null;for(const Qe of He.ranges)U=Math.min(U,Math.round(Qe.left)),de=Math.max(de,Math.round(Qe.left+Qe.width))}else for(const He of e.selections){if(He.startLineNumber!==He.endLineNumber)return null;const Qe=this._visibleRangesForLineRange(He.startLineNumber,He.startColumn,He.endColumn);if(!Qe)return null;for(const st of Qe.ranges)U=Math.min(U,Math.round(st.left)),de=Math.max(de,Math.round(st.left+st.width))}return e.minimalReveal||(U=Math.max(0,U-Nn.HORIZONTAL_EXTRA_PX),de+=this._revealHorizontalRightPadding),e.type==="selections"&&de-U>o.width?null:{scrollLeft:this._computeMinimumScrolling(f,A,U,de),maxHorizontalOffset:de}}_computeMinimumScrolling(e,o,f,A,U,de){e=e|0,o=o|0,f=f|0,A=A|0,U=!!U,de=!!de;const Se=o-e;if(A-f<Se){if(U)return f;if(de)return Math.max(0,A-Se);if(f<e)return f;if(A>o)return Math.max(0,A-Se)}else return f;return e}}Nn.HORIZONTAL_EXTRA_PX=30;class yn extends ui{constructor(e){super(),this._context=e;const f=this._context.configuration.options.get(133);this._decorationsLeft=f.decorationsLeft,this._decorationsWidth=f.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const f=this._context.configuration.options.get(133);return this._decorationsLeft=f.decorationsLeft,this._decorationsWidth=f.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),f=[];let A=0;for(let U=0,de=o.length;U<de;U++){const Se=o[U],He=Se.options.linesDecorationsClassName;He&&(f[A++]=new Ut(Se.range.startLineNumber,Se.range.endLineNumber,He));const Qe=Se.options.firstLineDecorationClassName;Qe&&(f[A++]=new Ut(Se.range.startLineNumber,Se.range.startLineNumber,Qe))}return f}prepareRender(e){const o=e.visibleRange.startLineNumber,f=e.visibleRange.endLineNumber,A=this._render(o,f,this._getDecorations(e)),U=this._decorationsLeft.toString(),de=this._decorationsWidth.toString(),Se='" style="left:'+U+"px;width:"+de+'px;"></div>',He=[];for(let Qe=o;Qe<=f;Qe++){const st=Qe-o,mt=A[st];let Pt="";for(let At=0,ti=mt.length;At<ti;At++)Pt+='<div class="cldr '+mt[At]+Se;He[st]=Pt}this._renderResult=He}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}class An extends ui{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),f=[];let A=0;for(let U=0,de=o.length;U<de;U++){const Se=o[U],He=Se.options.marginClassName;He&&(f[A++]=new Ut(Se.range.startLineNumber,Se.range.endLineNumber,He))}return f}prepareRender(e){const o=e.visibleRange.startLineNumber,f=e.visibleRange.endLineNumber,A=this._render(o,f,this._getDecorations(e)),U=[];for(let de=o;de<=f;de++){const Se=de-o,He=A[Se];let Qe="";for(let st=0,mt=He.length;st<mt;st++)Qe+='<div class="cmdr '+He[st]+'" style=""></div>';U[Se]=Qe}this._renderResult=U}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}var Bn=s(93911);class sn{constructor(e,o,f,A){this._rgba8Brand=void 0,this.r=sn._clamp(e),this.g=sn._clamp(o),this.b=sn._clamp(f),this.a=sn._clamp(A)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}sn.Empty=new sn(0,0,0,0);class vn extends y.JT{constructor(){super(),this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Qt.RW.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,y.dk)(new vn)),this._INSTANCE}_updateColorMap(){const e=Qt.RW.getColorMap();if(!e){this._colors=[sn.Empty],this._backgroundIsLight=!0;return}this._colors=[sn.Empty];for(let f=1;f<e.length;f++){const A=e[f].rgba;this._colors[f]=new sn(A.r,A.g,A.b,Math.round(A.a*255))}const o=e[2].getRelativeLuminance();this._backgroundIsLight=o>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}vn._INSTANCE=null;var Kn=s(1118);const gn=(()=>{const Dt=[];for(let e=32;e<=126;e++)Dt.push(e);return Dt.push(65533),Dt})(),yi=(Dt,e)=>(Dt-=32,Dt<0||Dt>96?e<=2?(Dt+96)%96:95:Dt);var $i=s(85427);class en{constructor(e,o){this.scale=o,this._minimapCharRendererBrand=void 0,this.charDataNormal=en.soften(e,12/15),this.charDataLight=en.soften(e,50/60)}static soften(e,o){const f=new Uint8ClampedArray(e.length);for(let A=0,U=e.length;A<U;A++)f[A]=(0,$i.K)(e[A]*o);return f}renderChar(e,o,f,A,U,de,Se,He,Qe,st,mt){const Pt=1*this.scale,At=2*this.scale,ti=mt?1:At;if(o+Pt>e.width||f+ti>e.height){console.warn("bad render request outside image data");return}const gi=st?this.charDataLight:this.charDataNormal,vi=yi(A,Qe),Li=e.width*4,Wi=Se.r,Mi=Se.g,on=Se.b,qi=U.r-Wi,un=U.g-Mi,fn=U.b-on,tn=Math.max(de,He),wn=e.data;let Fn=vi*Pt*At,pn=f*Li+o*4;for(let as=0;as<ti;as++){let Yn=pn;for(let gs=0;gs<Pt;gs++){const Ln=gi[Fn++]/255*(de/255);wn[Yn++]=Wi+qi*Ln,wn[Yn++]=Mi+un*Ln,wn[Yn++]=on+fn*Ln,wn[Yn++]=tn}pn+=Li}}blockRenderChar(e,o,f,A,U,de,Se,He){const Qe=1*this.scale,st=2*this.scale,mt=He?1:st;if(o+Qe>e.width||f+mt>e.height){console.warn("bad render request outside image data");return}const Pt=e.width*4,At=.5*(U/255),ti=de.r,gi=de.g,vi=de.b,Li=A.r-ti,Wi=A.g-gi,Mi=A.b-vi,on=ti+Li*At,qi=gi+Wi*At,un=vi+Mi*At,fn=Math.max(U,Se),tn=e.data;let wn=f*Pt+o*4;for(let Fn=0;Fn<mt;Fn++){let pn=wn;for(let as=0;as<Qe;as++)tn[pn++]=on,tn[pn++]=qi,tn[pn++]=un,tn[pn++]=fn;wn+=Pt}}}var On=s(88289);const us={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},rs=Dt=>{const e=new Uint8ClampedArray(Dt.length/2);for(let o=0;o<Dt.length;o+=2)e[o>>1]=us[Dt[o]]<<4|us[Dt[o+1]]&15;return e},Et={1:(0,On.I)(()=>rs("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,On.I)(()=>rs("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class D{static create(e,o){if(this.lastCreated&&e===this.lastCreated.scale&&o===this.lastFontFamily)return this.lastCreated;let f;return Et[e]?f=new en(Et[e](),e):f=D.createFromSampleData(D.createSampleData(o).data,e),this.lastFontFamily=o,this.lastCreated=f,f}static createSampleData(e){const o=document.createElement("canvas"),f=o.getContext("2d");o.style.height="16px",o.height=16,o.width=96*10,o.style.width=96*10+"px",f.fillStyle="#ffffff",f.font=`bold 16px ${e}`,f.textBaseline="middle";let A=0;for(const U of gn)f.fillText(String.fromCharCode(U),A,16/2),A+=10;return f.getImageData(0,0,96*10,16)}static createFromSampleData(e,o){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const A=D._downsample(e,o);return new en(A,o)}static _downsampleChar(e,o,f,A,U){const de=1*U,Se=2*U;let He=A,Qe=0;for(let st=0;st<Se;st++){const mt=st/Se*16,Pt=(st+1)/Se*16;for(let At=0;At<de;At++){const ti=At/de*10,gi=(At+1)/de*10;let vi=0,Li=0;for(let Mi=mt;Mi<Pt;Mi++){const on=o+Math.floor(Mi)*3840,qi=1-(Mi-Math.floor(Mi));for(let un=ti;un<gi;un++){const fn=1-(un-Math.floor(un)),tn=on+Math.floor(un)*4,wn=fn*qi;Li+=wn,vi+=e[tn]*e[tn+3]/255*wn}}const Wi=vi/Li;Qe=Math.max(Qe,Wi),f[He++]=(0,$i.K)(Wi)}}return Qe}static _downsample(e,o){const f=2*o*1*o,A=f*96,U=new Uint8ClampedArray(A);let de=0,Se=0,He=0;for(let Qe=0;Qe<96;Qe++)He=Math.max(He,this._downsampleChar(e,Se,U,de,o)),de+=f,Se+=10*4;if(He>0){const Qe=255/He;for(let st=0;st<A;st++)U[st]*=Qe}return U}}var k=s(84973);const c=140,R=2;class Y{constructor(e,o,f){const A=e.options,U=A.get(131),de=A.get(133),Se=de.minimap,He=A.get(46),Qe=A.get(67);this.renderMinimap=Se.renderMinimap,this.size=Qe.size,this.minimapHeightIsEditorHeight=Se.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=A.get(96),this.showSlider=Qe.showSlider,this.autohide=Qe.autohide,this.pixelRatio=U,this.typicalHalfwidthCharacterWidth=He.typicalHalfwidthCharacterWidth,this.lineHeight=A.get(61),this.minimapLeft=Se.minimapLeft,this.minimapWidth=Se.minimapWidth,this.minimapHeight=de.height,this.canvasInnerWidth=Se.minimapCanvasInnerWidth,this.canvasInnerHeight=Se.minimapCanvasInnerHeight,this.canvasOuterWidth=Se.minimapCanvasOuterWidth,this.canvasOuterHeight=Se.minimapCanvasOuterHeight,this.isSampling=Se.minimapIsSampling,this.editorHeight=de.height,this.fontScale=Se.minimapScale,this.minimapLineHeight=Se.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,On.I)(()=>D.create(this.fontScale,He.fontFamily)),this.defaultBackgroundColor=f.getColor(2),this.backgroundColor=Y._getMinimapBackground(o,this.defaultBackgroundColor),this.foregroundAlpha=Y._getMinimapForegroundOpacity(o)}static _getMinimapBackground(e,o){const f=e.getColor(lt.kVY);return f?new sn(f.rgba.r,f.rgba.g,f.rgba.b,Math.round(255*f.rgba.a)):o}static _getMinimapForegroundOpacity(e){const o=e.getColor(lt.Itd);return o?sn._clamp(Math.round(255*o.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class ge{constructor(e,o,f,A,U,de,Se,He){this.scrollTop=e,this.scrollHeight=o,this.sliderNeeded=f,this._computedSliderRatio=A,this.sliderTop=U,this.sliderHeight=de,this.startLineNumber=Se,this.endLineNumber=He}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,o,f,A,U,de,Se,He,Qe,st,mt){const Pt=e.pixelRatio,At=e.minimapLineHeight,ti=Math.floor(e.canvasInnerHeight/At),gi=e.lineHeight;if(e.minimapHeightIsEditorHeight){const qi=He*e.lineHeight+(e.scrollBeyondLastLine?U-e.lineHeight:0),un=Math.max(1,Math.floor(U*U/qi)),fn=Math.max(0,e.minimapHeight-un),tn=fn/(st-U),wn=Qe*tn,Fn=fn>0,pn=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new ge(Qe,st,Fn,tn,wn,un,1,Math.min(Se,pn))}let vi;if(de&&f!==Se){const qi=f-o+1;vi=Math.floor(qi*At/Pt)}else{const qi=U/gi;vi=Math.floor(qi*At/Pt)}let Li;e.scrollBeyondLastLine?Li=(Se-1)*At/Pt:Li=Math.max(0,Se*At/Pt-vi),Li=Math.min(e.minimapHeight-vi,Li);const Wi=Li/(st-U),Mi=Qe*Wi;let on=0;if(e.scrollBeyondLastLine&&(on=U/gi-1),ti>=Se+on){const un=Se,fn=Li>0;return new ge(Qe,st,fn,Wi,Mi,vi,1,un)}else{let qi=Math.max(1,Math.floor(o-Mi*Pt/At));mt&&mt.scrollHeight===st&&(mt.scrollTop>Qe&&(qi=Math.min(qi,mt.startLineNumber)),mt.scrollTop<Qe&&(qi=Math.max(qi,mt.startLineNumber)));const un=Math.min(Se,qi+ti-1),fn=(Qe-A)/gi,tn=(o-qi+fn)*At/Pt;return new ge(Qe,st,!0,Wi,tn,vi,qi,un)}}}class Oe{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Oe.INVALID=new Oe(-1);class Ue{constructor(e,o,f){this.renderedLayout=e,this._imageData=o,this._renderedLines=new Dn(()=>Oe.INVALID),this._renderedLines._set(e.startLineNumber,f)}linesEquals(e){if(!this.scrollEquals(e))return!1;const f=this._renderedLines._get().lines;for(let A=0,U=f.length;A<U;A++)if(f[A].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,o){return this._renderedLines.onLinesChanged(e,o)}onLinesDeleted(e,o){this._renderedLines.onLinesDeleted(e,o)}onLinesInserted(e,o){this._renderedLines.onLinesInserted(e,o)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class rt{constructor(e,o,f,A){this._backgroundFillData=rt._createBackgroundFillData(o,f,A),this._buffers=[e.createImageData(o,f),e.createImageData(o,f)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,o,f){const A=f.r,U=f.g,de=f.b,Se=f.a,He=new Uint8ClampedArray(e*o*4);let Qe=0;for(let st=0;st<o;st++)for(let mt=0;mt<e;mt++)He[Qe]=A,He[Qe+1]=U,He[Qe+2]=de,He[Qe+3]=Se,Qe+=4;return He}}class ct{constructor(e,o){this.samplingRatio=e,this.minimapLines=o}static compute(e,o,f){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const A=e.pixelRatio,U=e.lineHeight,de=e.scrollBeyondLastLine,{minimapLineCount:Se}=V.gk.computeContainedMinimapLineCount({viewLineCount:o,scrollBeyondLastLine:de,height:e.editorHeight,lineHeight:U,pixelRatio:A}),He=o/Se,Qe=He/2;if(!f||f.minimapLines.length===0){const Mi=[];if(Mi[0]=1,Se>1){for(let on=0,qi=Se-1;on<qi;on++)Mi[on]=Math.round(on*He+Qe);Mi[Se-1]=o}return[new ct(He,Mi),[]]}const st=f.minimapLines,mt=st.length,Pt=[];let At=0,ti=0,gi=1;const vi=10;let Li=[],Wi=null;for(let Mi=0;Mi<Se;Mi++){const on=Math.max(gi,Math.round(Mi*He)),qi=Math.max(on,Math.round((Mi+1)*He));for(;At<mt&&st[At]<on;){if(Li.length<vi){const fn=At+1+ti;Wi&&Wi.type==="deleted"&&Wi._oldIndex===At-1?Wi.deleteToLineNumber++:(Wi={type:"deleted",_oldIndex:At,deleteFromLineNumber:fn,deleteToLineNumber:fn},Li.push(Wi)),ti--}At++}let un;if(At<mt&&st[At]<=qi)un=st[At],At++;else if(Mi===0?un=1:Mi+1===Se?un=o:un=Math.round(Mi*He+Qe),Li.length<vi){const fn=At+1+ti;Wi&&Wi.type==="inserted"&&Wi._i===Mi-1?Wi.insertToLineNumber++:(Wi={type:"inserted",_i:Mi,insertFromLineNumber:fn,insertToLineNumber:fn},Li.push(Wi)),ti++}Pt[Mi]=un,gi=un}if(Li.length<vi)for(;At<mt;){const Mi=At+1+ti;Wi&&Wi.type==="deleted"&&Wi._oldIndex===At-1?Wi.deleteToLineNumber++:(Wi={type:"deleted",_oldIndex:At,deleteFromLineNumber:Mi,deleteToLineNumber:Mi},Li.push(Wi)),ti--,At++}else Li=[{type:"flush"}];return[new ct(He,Pt),Li]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,o){let f=this.modelLineToMinimapLine(e)-1;for(;f>0&&this.minimapLines[f-1]>=e;)f--;let A=this.modelLineToMinimapLine(o)-1;for(;A+1<this.minimapLines.length&&this.minimapLines[A+1]<=o;)A++;if(f===A){const U=this.minimapLines[f];if(U<e||U>o)return null}return[f+1,A+1]}decorationLineRangeToMinimapLineRange(e,o){let f=this.modelLineToMinimapLine(e),A=this.modelLineToMinimapLine(o);return e!==o&&A===f&&(A===this.minimapLines.length?f>1&&f--:A++),[f,A]}onLinesDeleted(e){const o=e.toLineNumber-e.fromLineNumber+1;let f=this.minimapLines.length,A=0;for(let U=this.minimapLines.length-1;U>=0&&!(this.minimapLines[U]<e.fromLineNumber);U--)this.minimapLines[U]<=e.toLineNumber?(this.minimapLines[U]=Math.max(1,e.fromLineNumber-1),f=Math.min(f,U),A=Math.max(A,U)):this.minimapLines[U]-=o;return[f,A]}onLinesInserted(e){const o=e.toLineNumber-e.fromLineNumber+1;for(let f=this.minimapLines.length-1;f>=0&&!(this.minimapLines[f]<e.fromLineNumber);f--)this.minimapLines[f]+=o}}class Tt extends Ae{constructor(e){super(e),this.tokensColorTracker=vn.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Y(this._context.configuration,this._context.theme,this.tokensColorTracker);const[o]=ct.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=o,this._shouldCheckSampling=!1,this._actual=new Bt(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new Y(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const o=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return o?this._actual.onLinesChanged(o[0],o[1]-o[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[o,f]=this._samplingState.onLinesDeleted(e);return o<=f&&this._actual.onLinesChanged(o+1,f-o+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const o=[];for(const f of e.ranges){const A=this._samplingState.modelLineRangeToMinimapLineRange(f.fromLineNumber,f.toLineNumber);A&&o.push({fromLineNumber:A[0],toLineNumber:A[1]})}return o.length?this._actual.onTokensChanged(o):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let o=e.visibleRange.startLineNumber,f=e.visibleRange.endLineNumber;this._samplingState&&(o=this._samplingState.modelLineToMinimapLine(o),f=this._samplingState.modelLineToMinimapLine(f));const A={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:o,viewportEndLineNumber:f,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(o),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(A)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[o,f]=ct.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=o,e&&this._samplingState)for(const A of f)switch(A.type){case"deleted":this._actual.onLinesDeleted(A.deleteFromLineNumber,A.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(A.insertFromLineNumber,A.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,o,f){if(this._samplingState){const A=[];for(let U=0,de=o-e+1;U<de;U++)f[U]?A[U]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+U-1]):A[U]=null;return A}return this._context.viewModel.getMinimapLinesRenderingData(e,o,f).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[o,f]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new me.Y(o,e.startColumn,f,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,o){let f;if(this._samplingState){const U=this._samplingState.minimapLines[e-1],de=this._samplingState.minimapLines[o-1];f=new Ze.e(U,1,de,this._context.viewModel.getLineMaxColumn(de))}else f=new Ze.e(e,1,o,this._context.viewModel.getLineMaxColumn(o));const A=this._context.viewModel.getDecorationsInViewport(f);if(this._samplingState){const U=[];for(const de of A){if(!de.options.minimap)continue;const Se=de.range,He=this._samplingState.modelLineToMinimapLine(Se.startLineNumber),Qe=this._samplingState.modelLineToMinimapLine(Se.endLineNumber);U.push(new Kn.$l(new Ze.e(He,Se.startColumn,Qe,Se.endColumn),de.options))}return U}return A}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new Ze.e(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class Bt extends y.JT{constructor(e,o){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=o,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(lt.ov3),this._domNode=(0,w.X)(document.createElement("div")),$e.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,w.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,w.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,w.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,w.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,w.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=B.mu(this._domNode.domNode,B.tw.POINTER_DOWN,f=>{if(f.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(f.button===0&&this._lastRenderData){const Qe=B.i(this._slider.domNode),st=Qe.top+Qe.height/2;this._startSliderDragging(f,st,this._lastRenderData.renderedLayout)}return}const U=this._model.options.minimapLineHeight,de=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*f.offsetY;let He=Math.floor(de/U)+this._lastRenderData.renderedLayout.startLineNumber;He=Math.min(He,this._model.getLineCount()),this._model.revealLineNumber(He)}),this._sliderPointerMoveMonitor=new Bn.C,this._sliderPointerDownListener=B.mu(this._slider.domNode,B.tw.POINTER_DOWN,f=>{f.preventDefault(),f.stopPropagation(),f.button===0&&this._lastRenderData&&this._startSliderDragging(f,f.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=we.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=B.nm(this._domNode.domNode,we.t.Start,f=>{f.preventDefault(),f.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(f))},{passive:!1}),this._sliderTouchMoveListener=B.nm(this._domNode.domNode,we.t.Change,f=>{f.preventDefault(),f.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(f)},{passive:!1}),this._sliderTouchEndListener=B.mu(this._domNode.domNode,we.t.End,f=>{f.preventDefault(),f.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,o,f){if(!e.target||!(e.target instanceof Element))return;const A=e.pageX;this._slider.toggleClassName("active",!0);const U=(de,Se)=>{const He=Math.abs(Se-A);if(d.ED&&He>c){this._model.setScrollTop(f.scrollTop);return}const Qe=de-o;this._model.setScrollTop(f.getDesiredScrollTopFromDelta(Qe))};e.pageY!==o&&U(e.pageY,A),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,de=>U(de.pageY,de.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const o=this._domNode.domNode.getBoundingClientRect().top,f=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-o);this._model.setScrollTop(f)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new rt(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,o){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,o):!1}onLinesDeleted(e,o){var f;return(f=this._lastRenderData)===null||f===void 0||f.onLinesDeleted(e,o),!0}onLinesInserted(e,o){var f;return(f=this._lastRenderData)===null||f===void 0||f.onLinesInserted(e,o),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(lt.ov3),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const f=ge.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(f.sliderNeeded?"block":"none"),this._slider.setTop(f.sliderTop),this._slider.setHeight(f.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(f.sliderHeight),this.renderDecorations(f),this._lastRenderData=this.renderLines(f)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const o=this._model.getSelections();o.sort(Ze.e.compareRangesUsingStarts);const f=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);f.sort((Pt,At)=>(Pt.options.zIndex||0)-(At.options.zIndex||0));const{canvasInnerWidth:A,canvasInnerHeight:U}=this._model.options,de=this._model.options.minimapLineHeight,Se=this._model.options.minimapCharWidth,He=this._model.getOptions().tabSize,Qe=this._decorationsCanvas.domNode.getContext("2d");Qe.clearRect(0,0,A,U);const st=new Kt(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(Qe,o,st,e,de),this._renderDecorationsLineHighlights(Qe,f,st,e,de);const mt=new Kt(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(Qe,o,mt,e,de,He,Se,A),this._renderDecorationsHighlights(Qe,f,mt,e,de,He,Se,A)}}_renderSelectionLineHighlights(e,o,f,A,U){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let de=0,Se=0;for(const He of o){const Qe=Math.max(A.startLineNumber,He.startLineNumber),st=Math.min(A.endLineNumber,He.endLineNumber);if(Qe>st)continue;for(let At=Qe;At<=st;At++)f.set(At,!0);const mt=(Qe-A.startLineNumber)*U,Pt=(st-A.startLineNumber)*U+U;Se>=mt||(Se>de&&e.fillRect(V.y0,de,e.canvas.width,Se-de),de=mt),Se=Pt}Se>de&&e.fillRect(V.y0,de,e.canvas.width,Se-de)}_renderDecorationsLineHighlights(e,o,f,A,U){const de=new Map;for(let Se=o.length-1;Se>=0;Se--){const He=o[Se],Qe=He.options.minimap;if(!Qe||Qe.position!==k.F5.Inline)continue;const st=Math.max(A.startLineNumber,He.range.startLineNumber),mt=Math.min(A.endLineNumber,He.range.endLineNumber);if(st>mt)continue;const Pt=Qe.getColor(this._theme.value);if(!Pt||Pt.isTransparent())continue;let At=de.get(Pt.toString());At||(At=Pt.transparent(.5).toString(),de.set(Pt.toString(),At)),e.fillStyle=At;for(let ti=st;ti<=mt;ti++){if(f.has(ti))continue;f.set(ti,!0);const gi=(st-A.startLineNumber)*U;e.fillRect(V.y0,gi,e.canvas.width,U)}}}_renderSelectionsHighlights(e,o,f,A,U,de,Se,He){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const Qe of o){const st=Math.max(A.startLineNumber,Qe.startLineNumber),mt=Math.min(A.endLineNumber,Qe.endLineNumber);if(!(st>mt))for(let Pt=st;Pt<=mt;Pt++)this.renderDecorationOnLine(e,f,Qe,this._selectionColor,A,Pt,U,U,de,Se,He)}}_renderDecorationsHighlights(e,o,f,A,U,de,Se,He){for(const Qe of o){const st=Qe.options.minimap;if(!st)continue;const mt=Math.max(A.startLineNumber,Qe.range.startLineNumber),Pt=Math.min(A.endLineNumber,Qe.range.endLineNumber);if(mt>Pt)continue;const At=st.getColor(this._theme.value);if(!(!At||At.isTransparent()))for(let ti=mt;ti<=Pt;ti++)switch(st.position){case k.F5.Inline:this.renderDecorationOnLine(e,f,Qe.range,At,A,ti,U,U,de,Se,He);continue;case k.F5.Gutter:{const gi=(ti-A.startLineNumber)*U;this.renderDecoration(e,At,2,gi,R,U);continue}}}}renderDecorationOnLine(e,o,f,A,U,de,Se,He,Qe,st,mt){const Pt=(de-U.startLineNumber)*He;if(Pt+Se<0||Pt>this._model.options.canvasInnerHeight)return;const{startLineNumber:At,endLineNumber:ti}=f,gi=At===de?f.startColumn:1,vi=ti===de?f.endColumn:this._model.getLineMaxColumn(de),Li=this.getXOffsetForPosition(o,de,gi,Qe,st,mt),Wi=this.getXOffsetForPosition(o,de,vi,Qe,st,mt);this.renderDecoration(e,A,Li,Pt,Wi-Li,Se)}getXOffsetForPosition(e,o,f,A,U,de){if(f===1)return V.y0;if((f-1)*U>=de)return de;let He=e.get(o);if(!He){const Qe=this._model.getLineContent(o);He=[V.y0];let st=V.y0;for(let mt=1;mt<Qe.length+1;mt++){const Pt=Qe.charCodeAt(mt-1),At=Pt===9?A*U:he.K7(Pt)?2*U:U,ti=st+At;if(ti>=de){He[mt]=de;break}He[mt]=ti,st=ti}e.set(o,He)}return f-1<He.length?He[f-1]:de}renderDecoration(e,o,f,A,U,de){e.fillStyle=o&&o.toString()||"",e.fillRect(f,A,U,de)}renderLines(e){const o=e.startLineNumber,f=e.endLineNumber,A=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const Ln=this._lastRenderData._get();return new Ue(e,Ln.imageData,Ln.lines)}const U=this._getBuffer();if(!U)return null;const[de,Se,He]=Bt._renderUntouchedLines(U,o,f,A,this._lastRenderData),Qe=this._model.getMinimapLinesRenderingData(o,f,He),st=this._model.getOptions().tabSize,mt=this._model.options.defaultBackgroundColor,Pt=this._model.options.backgroundColor,At=this._model.options.foregroundAlpha,ti=this._model.tokensColorTracker,gi=ti.backgroundIsLight(),vi=this._model.options.renderMinimap,Li=this._model.options.charRenderer(),Wi=this._model.options.fontScale,Mi=this._model.options.minimapCharWidth,qi=(vi===1?2:3)*Wi,un=A>qi?Math.floor((A-qi)/2):0,fn=Pt.a/255,tn=new sn(Math.round((Pt.r-mt.r)*fn+mt.r),Math.round((Pt.g-mt.g)*fn+mt.g),Math.round((Pt.b-mt.b)*fn+mt.b),255);let wn=0;const Fn=[];for(let Ln=0,bs=f-o+1;Ln<bs;Ln++)He[Ln]&&Bt._renderLine(U,tn,Pt.a,gi,vi,Mi,ti,At,Li,wn,un,st,Qe[Ln],Wi,A),Fn[Ln]=new Oe(wn),wn+=A;const pn=de===-1?0:de,Yn=(Se===-1?U.height:Se)-pn;return this._canvas.domNode.getContext("2d").putImageData(U,0,0,0,pn,U.width,Yn),new Ue(e,U,Fn)}static _renderUntouchedLines(e,o,f,A,U){const de=[];if(!U){for(let tn=0,wn=f-o+1;tn<wn;tn++)de[tn]=!0;return[-1,-1,de]}const Se=U._get(),He=Se.imageData.data,Qe=Se.rendLineNumberStart,st=Se.lines,mt=st.length,Pt=e.width,At=e.data,ti=(f-o+1)*A*Pt*4;let gi=-1,vi=-1,Li=-1,Wi=-1,Mi=-1,on=-1,qi=0;for(let tn=o;tn<=f;tn++){const wn=tn-o,Fn=tn-Qe,pn=Fn>=0&&Fn<mt?st[Fn].dy:-1;if(pn===-1){de[wn]=!0,qi+=A;continue}const as=pn*Pt*4,Yn=(pn+A)*Pt*4,gs=qi*Pt*4,Ln=(qi+A)*Pt*4;Wi===as&&on===gs?(Wi=Yn,on=Ln):(Li!==-1&&(At.set(He.subarray(Li,Wi),Mi),gi===-1&&Li===0&&Li===Mi&&(gi=Wi),vi===-1&&Wi===ti&&Li===Mi&&(vi=Li)),Li=as,Wi=Yn,Mi=gs,on=Ln),de[wn]=!1,qi+=A}Li!==-1&&(At.set(He.subarray(Li,Wi),Mi),gi===-1&&Li===0&&Li===Mi&&(gi=Wi),vi===-1&&Wi===ti&&Li===Mi&&(vi=Li));const un=gi===-1?-1:gi/(Pt*4),fn=vi===-1?-1:vi/(Pt*4);return[un,fn,de]}static _renderLine(e,o,f,A,U,de,Se,He,Qe,st,mt,Pt,At,ti,gi){const vi=At.content,Li=At.tokens,Wi=e.width-de,Mi=gi===1;let on=V.y0,qi=0,un=0;for(let fn=0,tn=Li.getCount();fn<tn;fn++){const wn=Li.getEndOffset(fn),Fn=Li.getForeground(fn),pn=Se.getColor(Fn);for(;qi<wn;qi++){if(on>Wi)return;const as=vi.charCodeAt(qi);if(as===9){const Yn=Pt-(qi+un)%Pt;un+=Yn-1,on+=Yn*de}else if(as===32)on+=de;else{const Yn=he.K7(as)?2:1;for(let gs=0;gs<Yn;gs++)if(U===2?Qe.blockRenderChar(e,on,st+mt,pn,He,o,f,Mi):Qe.renderChar(e,on,st+mt,as,pn,He,o,f,ti,A,Mi),on+=de,on>Wi)return}}}}}class Kt{constructor(e,o,f){this._startLineNumber=e,this._endLineNumber=o,this._defaultValue=f,this._values=[];for(let A=0,U=this._endLineNumber-this._startLineNumber+1;A<U;A++)this._values[A]=f}has(e){return this.get(e)!==this._defaultValue}set(e,o){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=o)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}(0,ht.Ic)((Dt,e)=>{const o=Dt.getColor(lt.CA6);o&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${o}; }`);const f=Dt.getColor(lt.Xy4);f&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${f}; }`);const A=Dt.getColor(lt.brw);A&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${A}; }`);const U=Dt.getColor(lt._wn);U&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${U} -6px 0 6px -6px inset; }`)});class hi extends Ae{constructor(e){super(e);const f=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=f.verticalScrollbarWidth,this._minimapWidth=f.minimap.minimapWidth,this._horizontalScrollbarHeight=f.horizontalScrollbarHeight,this._editorHeight=f.height,this._editorWidth=f.width,this._domNode=(0,w.X)(document.createElement("div")),$e.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const f=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=f.verticalScrollbarWidth,this._minimapWidth=f.minimap.minimapWidth,this._horizontalScrollbarHeight=f.horizontalScrollbarHeight,this._editorHeight=f.height,this._editorWidth=f.width,!0}addWidget(e){const o=(0,w.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:o},o.setPosition("absolute"),o.setAttribute("widgetId",e.getId()),this._domNode.appendChild(o),this.setShouldRender()}setWidgetPosition(e,o){const f=this._widgets[e.getId()];return f.preference===o?!1:(f.preference=o,this.setShouldRender(),!0)}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const A=this._widgets[o].domNode.domNode;delete this._widgets[o],A.parentNode.removeChild(A),this.setShouldRender()}}_renderWidget(e){const o=e.domNode;if(e.preference===null){o.setTop("");return}if(e.preference===0)o.setTop(0),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const f=o.domNode.clientHeight;o.setTop(this._editorHeight-f-2*this._horizontalScrollbarHeight),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(o.setTop(0),o.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const o=Object.keys(this._widgets);for(let f=0,A=o.length;f<A;f++){const U=o[f];this._renderWidget(this._widgets[U])}}}class di{constructor(e,o){const f=e.options;this.lineHeight=f.get(61),this.pixelRatio=f.get(131),this.overviewRulerLanes=f.get(76),this.renderBorder=f.get(75);const A=o.getColor(ot.zw);this.borderColor=A?A.toString():null,this.hideCursor=f.get(54);const U=o.getColor(ot.n0);this.cursorColor=U?U.transparent(.7).toString():null,this.themeType=o.type;const de=f.get(67),Se=de.enabled,He=de.side,Qe=o.getColor(ot.e_),st=Qt.RW.getDefaultBackground();let mt=null;Qe!==void 0?mt=Qe:Se&&(mt=st),mt===null||He==="left"?this.backgroundColor=null:this.backgroundColor=ci.Il.Format.CSS.formatHex(mt);const At=f.get(133).overviewRuler;this.top=At.top,this.right=At.right,this.domWidth=At.width,this.domHeight=At.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[ti,gi]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=ti,this.w=gi}_initLanes(e,o,f){const A=o-e;if(f>=3){const U=Math.floor(A/3),de=Math.floor(A/3),Se=A-U-de,He=e,Qe=He+U,st=He+U+Se;return[[0,He,Qe,He,st,He,Qe,He],[0,U,Se,U+Se,de,U+Se+de,Se+de,U+Se+de]]}else if(f===2){const U=Math.floor(A/2),de=A-U,Se=e,He=Se+U;return[[0,Se,Se,Se,He,Se,Se,Se],[0,U,U,U,de,U+de,U+de,U+de]]}else{const U=e,de=A;return[[0,U,U,U,U,U,U,U],[0,de,de,de,de,de,de,de]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class fi extends Ae{constructor(e){super(e),this._domNode=(0,w.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Qt.RW.onDidChange(o=>{o.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const o=new di(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(o)?!1:(this._settings=o,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let o=0,f=e.selections.length;o<f;o++)this._cursorPositions[o]=e.selections[o].getPosition();return this._cursorPositions.sort(Be.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const e=this._settings.canvasWidth,o=this._settings.canvasHeight,f=this._settings.lineHeight,A=this._context.viewLayout,U=this._context.viewLayout.getScrollHeight(),de=o/U,Se=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),He=6*this._settings.pixelRatio|0,Qe=He/2|0,st=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?st.clearRect(0,0,e,o):(st.fillStyle=this._settings.backgroundColor,st.fillRect(0,0,e,o));const mt=this._settings.x,Pt=this._settings.w;Se.sort(Kn.SQ.cmp);for(const At of Se){const ti=At.color,gi=At.data;st.fillStyle=ti;let vi=0,Li=0,Wi=0;for(let Mi=0,on=gi.length/3;Mi<on;Mi++){const qi=gi[3*Mi],un=gi[3*Mi+1],fn=gi[3*Mi+2];let tn=A.getVerticalOffsetForLineNumber(un)*de|0,wn=(A.getVerticalOffsetForLineNumber(fn)+f)*de|0;if(wn-tn<He){let pn=(tn+wn)/2|0;pn<Qe?pn=Qe:pn+Qe>o&&(pn=o-Qe),tn=pn-Qe,wn=pn+Qe}tn>Wi+1||qi!==vi?(Mi!==0&&st.fillRect(mt[vi],Li,Pt[vi],Wi-Li),vi=qi,Li=tn,Wi=wn):wn>Wi&&(Wi=wn)}st.fillRect(mt[vi],Li,Pt[vi],Wi-Li)}if(!this._settings.hideCursor&&this._settings.cursorColor){const At=2*this._settings.pixelRatio|0,ti=At/2|0,gi=this._settings.x[7],vi=this._settings.w[7];st.fillStyle=this._settings.cursorColor;let Li=-100,Wi=-100;for(let Mi=0,on=this._cursorPositions.length;Mi<on;Mi++){const qi=this._cursorPositions[Mi];let un=A.getVerticalOffsetForLineNumber(qi.lineNumber)*de|0;un<ti?un=ti:un+ti>o&&(un=o-ti);const fn=un-ti,tn=fn+At;fn>Wi+1?(Mi!==0&&st.fillRect(gi,Li,vi,Wi-Li),Li=fn,Wi=tn):tn>Wi&&(Wi=tn)}st.fillRect(gi,Li,vi,Wi-Li)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(st.beginPath(),st.lineWidth=1,st.strokeStyle=this._settings.borderColor,st.moveTo(0,0),st.lineTo(0,o),st.stroke(),st.moveTo(0,0),st.lineTo(e,0),st.stroke())}}var Ei=s(30665);class Bi extends Ce{constructor(e,o){super(),this._context=e;const f=this._context.configuration.options;this._domNode=(0,w.X)(document.createElement("canvas")),this._domNode.setClassName(o),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Ei.Tj(A=>this._context.viewLayout.getVerticalOffsetForLineNumber(A)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(f.get(61)),this._zoneManager.setPixelRatio(f.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return e.hasChanged(61)&&(this._zoneManager.setLineHeight(o.get(61)),this._render()),e.hasChanged(131)&&(this._zoneManager.setPixelRatio(o.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let o=!1;o=this._zoneManager.setDOMWidth(e.width)||o,o=this._zoneManager.setDOMHeight(e.height)||o,o&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),o=this._zoneManager.getCanvasHeight(),f=this._zoneManager.resolveColorZones(),A=this._zoneManager.getId2Color(),U=this._domNode.domNode.getContext("2d");return U.clearRect(0,0,e,o),f.length>0&&this._renderOneLane(U,f,A,e),!0}_renderOneLane(e,o,f,A){let U=0,de=0,Se=0;for(const He of o){const Qe=He.colorId,st=He.from,mt=He.to;Qe!==U?(e.fillRect(0,de,A,Se-de),U=Qe,e.fillStyle=f[U],de=st,Se=mt):Se>=st?Se=Math.max(Se,mt):(e.fillRect(0,de,A,Se-de),de=st,Se=mt)}e.fillRect(0,de,A,Se-de)}}class Qi extends Ae{constructor(e){super(e),this.domNode=(0,w.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const o=this._context.configuration.options;this._rulers=o.get(93),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._rulers=o.get(93),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,o=this._rulers.length;if(e===o)return;if(e<o){const{tabSize:A}=this._context.viewModel.model.getOptions(),U=A;let de=o-e;for(;de>0;){const Se=(0,w.X)(document.createElement("div"));Se.setClassName("view-ruler"),Se.setWidth(U),this.domNode.appendChild(Se),this._renderedRulers.push(Se),de--}return}let f=e-o;for(;f>0;){const A=this._renderedRulers.pop();this.domNode.removeChild(A),f--}}render(e){this._ensureRulersCount();for(let o=0,f=this._rulers.length;o<f;o++){const A=this._renderedRulers[o],U=this._rulers[o];A.setBoxShadow(U.color?`1px 0 0 0 ${U.color} inset`:""),A.setHeight(Math.min(e.scrollHeight,1e6)),A.setLeft(U.column*this._typicalHalfwidthCharacterWidth)}}}(0,ht.Ic)((Dt,e)=>{const o=Dt.getColor(ot.zk);o&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${o} inset; }`)});class In extends Ae{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const f=this._context.configuration.options.get(94);this._useShadows=f.useShadows,this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const o=this._context.configuration.options.get(133);o.minimap.renderMinimap===0||o.minimap.minimapWidth>0&&o.minimap.minimapLeft===0?this._width=o.width:this._width=o.width-o.verticalScrollbarWidth}onConfigurationChanged(e){const f=this._context.configuration.options.get(94);return this._useShadows=f.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,ht.Ic)((Dt,e)=>{const o=Dt.getColor(lt._wn);o&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${o} 0 6px 6px -6px inset; }`)});class Gn{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class ts{constructor(e,o){this.lineNumber=e,this.ranges=o}}function Qn(Dt){return new Gn(Dt)}function ws(Dt){return new ts(Dt.lineNumber,Dt.ranges.map(Qn))}class mn extends Je{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(61),this._roundedSelection=o.get(92),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(61),this._roundedSelection=o.get(92),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let o=0,f=e.length;o<f;o++)if(e[o].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,o,f){const A=this._typicalHalfwidthCharacterWidth/4;let U=null,de=null;if(f&&f.length>0&&o.length>0){const Se=o[0].lineNumber;if(Se===e.startLineNumber)for(let Qe=0;!U&&Qe<f.length;Qe++)f[Qe].lineNumber===Se&&(U=f[Qe].ranges[0]);const He=o[o.length-1].lineNumber;if(He===e.endLineNumber)for(let Qe=f.length-1;!de&&Qe>=0;Qe--)f[Qe].lineNumber===He&&(de=f[Qe].ranges[0]);U&&!U.startStyle&&(U=null),de&&!de.startStyle&&(de=null)}for(let Se=0,He=o.length;Se<He;Se++){const Qe=o[Se].ranges[0],st=Qe.left,mt=Qe.left+Qe.width,Pt={top:0,bottom:0},At={top:0,bottom:0};if(Se>0){const ti=o[Se-1].ranges[0].left,gi=o[Se-1].ranges[0].left+o[Se-1].ranges[0].width;is(st-ti)<A?Pt.top=2:st>ti&&(Pt.top=1),is(mt-gi)<A?At.top=2:ti<mt&&mt<gi&&(At.top=1)}else U&&(Pt.top=U.startStyle.top,At.top=U.endStyle.top);if(Se+1<He){const ti=o[Se+1].ranges[0].left,gi=o[Se+1].ranges[0].left+o[Se+1].ranges[0].width;is(st-ti)<A?Pt.bottom=2:ti<st&&st<gi&&(Pt.bottom=1),is(mt-gi)<A?At.bottom=2:mt<gi&&(At.bottom=1)}else de&&(Pt.bottom=de.startStyle.bottom,At.bottom=de.endStyle.bottom);Qe.startStyle=Pt,Qe.endStyle=At}}_getVisibleRangesWithStyle(e,o,f){const U=(o.linesVisibleRangesForRange(e,!0)||[]).map(ws);return!this._visibleRangesHaveGaps(U)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(o.visibleRange,U,f),U}_createSelectionPiece(e,o,f,A,U){return'<div class="cslr '+f+'" style="top:'+e.toString()+"px;left:"+A.toString()+"px;width:"+U.toString()+"px;height:"+o+'px;"></div>'}_actualRenderOneSelection(e,o,f,A){if(A.length===0)return;const U=!!A[0].ranges[0].startStyle,de=this._lineHeight.toString(),Se=(this._lineHeight-1).toString(),He=A[0].lineNumber,Qe=A[A.length-1].lineNumber;for(let st=0,mt=A.length;st<mt;st++){const Pt=A[st],At=Pt.lineNumber,ti=At-o,gi=f&&(At===Qe||At===He)?Se:de,vi=f&&At===He?1:0;let Li="",Wi="";for(let Mi=0,on=Pt.ranges.length;Mi<on;Mi++){const qi=Pt.ranges[Mi];if(U){const fn=qi.startStyle,tn=qi.endStyle;if(fn.top===1||fn.bottom===1){Li+=this._createSelectionPiece(vi,gi,mn.SELECTION_CLASS_NAME,qi.left-mn.ROUNDED_PIECE_WIDTH,mn.ROUNDED_PIECE_WIDTH);let wn=mn.EDITOR_BACKGROUND_CLASS_NAME;fn.top===1&&(wn+=" "+mn.SELECTION_TOP_RIGHT),fn.bottom===1&&(wn+=" "+mn.SELECTION_BOTTOM_RIGHT),Li+=this._createSelectionPiece(vi,gi,wn,qi.left-mn.ROUNDED_PIECE_WIDTH,mn.ROUNDED_PIECE_WIDTH)}if(tn.top===1||tn.bottom===1){Li+=this._createSelectionPiece(vi,gi,mn.SELECTION_CLASS_NAME,qi.left+qi.width,mn.ROUNDED_PIECE_WIDTH);let wn=mn.EDITOR_BACKGROUND_CLASS_NAME;tn.top===1&&(wn+=" "+mn.SELECTION_TOP_LEFT),tn.bottom===1&&(wn+=" "+mn.SELECTION_BOTTOM_LEFT),Li+=this._createSelectionPiece(vi,gi,wn,qi.left+qi.width,mn.ROUNDED_PIECE_WIDTH)}}let un=mn.SELECTION_CLASS_NAME;if(U){const fn=qi.startStyle,tn=qi.endStyle;fn.top===0&&(un+=" "+mn.SELECTION_TOP_LEFT),fn.bottom===0&&(un+=" "+mn.SELECTION_BOTTOM_LEFT),tn.top===0&&(un+=" "+mn.SELECTION_TOP_RIGHT),tn.bottom===0&&(un+=" "+mn.SELECTION_BOTTOM_RIGHT)}Wi+=this._createSelectionPiece(vi,gi,un,qi.left,qi.width)}e[ti][0]+=Li,e[ti][1]+=Wi}}prepareRender(e){const o=[],f=e.visibleRange.startLineNumber,A=e.visibleRange.endLineNumber;for(let de=f;de<=A;de++){const Se=de-f;o[Se]=["",""]}const U=[];for(let de=0,Se=this._selections.length;de<Se;de++){const He=this._selections[de];if(He.isEmpty()){U[de]=null;continue}const Qe=this._getVisibleRangesWithStyle(He,e,this._previousFrameVisibleRangesWithStyle[de]);U[de]=Qe,this._actualRenderOneSelection(o,f,this._selections.length>1,Qe)}this._previousFrameVisibleRangesWithStyle=U,this._renderResult=o.map(([de,Se])=>de+Se)}render(e,o){if(!this._renderResult)return"";const f=o-e;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}mn.SELECTION_CLASS_NAME="selected-text",mn.SELECTION_TOP_LEFT="top-left-radius",mn.SELECTION_BOTTOM_LEFT="bottom-left-radius",mn.SELECTION_TOP_RIGHT="top-right-radius",mn.SELECTION_BOTTOM_RIGHT="bottom-right-radius",mn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",mn.ROUNDED_PIECE_WIDTH=10,(0,ht.Ic)((Dt,e)=>{const o=Dt.getColor(lt.hEj);o&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${o}; }`);const f=Dt.getColor(lt.ES4);f&&e.addRule(`.monaco-editor .selected-text { background-color: ${f}; }`);const A=Dt.getColor(lt.yb5);A&&!A.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${A}; }`)});function is(Dt){return Dt<0?-Dt:Dt}class Jn{constructor(e,o,f,A,U,de){this.top=e,this.left=o,this.width=f,this.height=A,this.textContent=U,this.textContentClassName=de}}class qn{constructor(e){this._context=e;const o=this._context.configuration.options,f=o.get(46);this._cursorStyle=o.get(24),this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=f.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${Ht.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,Me.N)(this._domNode,f),this._domNode.setDisplay("none"),this._position=new Be.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const o=this._context.configuration.options,f=o.get(46);return this._cursorStyle=o.get(24),this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=f.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),(0,Me.N)(this._domNode,f),!0}onCursorPositionChanged(e){return this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:o}=this._position,f=this._context.viewModel.getLineContent(e),[A,U]=he.J_(f,o-1);return[new Be.L(e,A+1),f.substring(A,U)]}_prepareRender(e){let o="";const[f,A]=this._getGraphemeAwarePosition();if(this._cursorStyle===V.d2.Line||this._cursorStyle===V.d2.LineThin){const Pt=e.visibleRangeForPosition(f);if(!Pt||Pt.outsideRenderedLine)return null;let At;this._cursorStyle===V.d2.Line?(At=B.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),At>2&&(o=A)):At=B.Uh(1);let ti=Pt.left;At>=2&&ti>=1&&(ti-=1);const gi=e.getVerticalOffsetForLineNumber(f.lineNumber)-e.bigNumbersDelta;return new Jn(gi,ti,At,this._lineHeight,o,"")}const U=e.linesVisibleRangesForRange(new Ze.e(f.lineNumber,f.column,f.lineNumber,f.column+A.length),!1);if(!U||U.length===0)return null;const de=U[0];if(de.outsideRenderedLine||de.ranges.length===0)return null;const Se=de.ranges[0],He=A==="	"?this._typicalHalfwidthCharacterWidth:Se.width<1?this._typicalHalfwidthCharacterWidth:Se.width;let Qe="";if(this._cursorStyle===V.d2.Block){const Pt=this._context.viewModel.getViewLineData(f.lineNumber);o=A;const At=Pt.tokens.findTokenIndexAtOffset(f.column-1);Qe=Pt.tokens.getClassName(At)}let st=e.getVerticalOffsetForLineNumber(f.lineNumber)-e.bigNumbersDelta,mt=this._lineHeight;return(this._cursorStyle===V.d2.Underline||this._cursorStyle===V.d2.UnderlineThin)&&(st+=this._lineHeight-2,mt=2),new Jn(st,Se.left,He,mt,o,Qe)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Ht.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class Zn extends Ae{constructor(e){super(e);const o=this._context.configuration.options;this._readOnly=o.get(83),this._cursorBlinking=o.get(22),this._cursorStyle=o.get(24),this._cursorSmoothCaretAnimation=o.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new qn(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Ne._F,this._cursorFlatBlinkInterval=new Ne.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const o=this._context.configuration.options;this._readOnly=o.get(83),this._cursorBlinking=o.get(22),this._cursorStyle=o.get(24),this._cursorSmoothCaretAnimation=o.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let f=0,A=this._secondaryCursors.length;f<A;f++)this._secondaryCursors[f].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,o){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<o.length){const f=o.length-this._secondaryCursors.length;for(let A=0;A<f;A++){const U=new qn(this._context);this._domNode.domNode.insertBefore(U.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(U)}}else if(this._secondaryCursors.length>o.length){const f=this._secondaryCursors.length-o.length;for(let A=0;A<f;A++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let f=0;f<o.length;f++)this._secondaryCursors[f].onCursorPositionChanged(o[f])}onCursorStateChanged(e){const o=[];for(let A=0,U=e.selections.length;A<U;A++)o[A]=e.selections[A].getPosition();this._onCursorPositionChanged(o[0],o.slice(1));const f=e.selections[0].isEmpty();return this._selectionIsEmpty!==f&&(this._selectionIsEmpty=f,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const o=f=>{for(let A=0,U=e.ranges.length;A<U;A++)if(e.ranges[A].fromLineNumber<=f.lineNumber&&f.lineNumber<=e.ranges[A].toLineNumber)return!0;return!1};if(o(this._primaryCursor.getPosition()))return!0;for(const f of this._secondaryCursors)if(o(f.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),o=e===0,f=e===5;o?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!o&&!f&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Zn.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Zn.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case V.d2.Line:e+=" cursor-line-style";break;case V.d2.Block:e+=" cursor-block-style";break;case V.d2.Underline:e+=" cursor-underline-style";break;case V.d2.LineThin:e+=" cursor-line-thin-style";break;case V.d2.BlockOutline:e+=" cursor-block-outline-style";break;case V.d2.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let o=0,f=this._secondaryCursors.length;o<f;o++)this._secondaryCursors[o].prepareRender(e)}render(e){const o=[];let f=0;const A=this._primaryCursor.render(e);A&&(o[f++]=A);for(let U=0,de=this._secondaryCursors.length;U<de;U++){const Se=this._secondaryCursors[U].render(e);Se&&(o[f++]=Se)}this._renderData=o}getLastRenderData(){return this._renderData}}Zn.BLINK_INTERVAL=500,(0,ht.Ic)((Dt,e)=>{const o=Dt.getColor(ot.n0);if(o){let f=Dt.getColor(ot.fY);f||(f=o.opposite()),e.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${o}; }`),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${o}; border-color: ${o}; color: ${f}; }`),(0,qt.c3)(Dt.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${f}; border-right: 1px solid ${f}; }`)}});const ls=()=>{throw new Error("Invalid change accessor")};class Wn extends Ae{constructor(e){super(e);const o=this._context.configuration.options,f=o.get(133);this._lineHeight=o.get(61),this._contentWidth=f.contentWidth,this._contentLeft=f.contentLeft,this.domNode=(0,w.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,w.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),o=new Map;for(const A of e)o.set(A.id,A);let f=!1;return this._context.viewModel.changeWhitespace(A=>{const U=Object.keys(this._zones);for(let de=0,Se=U.length;de<Se;de++){const He=U[de],Qe=this._zones[He],st=this._computeWhitespaceProps(Qe.delegate);Qe.isInHiddenArea=st.isInHiddenArea;const mt=o.get(He);mt&&(mt.afterLineNumber!==st.afterViewLineNumber||mt.height!==st.heightInPx)&&(A.changeOneWhitespace(He,st.afterViewLineNumber,st.heightInPx),this._safeCallOnComputedHeight(Qe.delegate,st.heightInPx),f=!0)}}),f}onConfigurationChanged(e){const o=this._context.configuration.options,f=o.get(133);return this._lineHeight=o.get(61),this._contentWidth=f.contentWidth,this._contentLeft=f.contentLeft,e.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn<"u"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let o;if(typeof e.afterColumn<"u")o=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const de=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;o=new Be.L(de,this._context.viewModel.model.getLineMaxColumn(de))}let f;o.column===this._context.viewModel.model.getLineMaxColumn(o.lineNumber)?f=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber+1,column:1}):f=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber,column:o.column+1});const A=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o,e.afterColumnAffinity),U=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(f);return{isInHiddenArea:!U,afterViewLineNumber:A.lineNumber,heightInPx:U?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let o=!1;return this._context.viewModel.changeWhitespace(f=>{const A={addZone:U=>(o=!0,this._addZone(f,U)),removeZone:U=>{U&&(o=this._removeZone(f,U)||o)},layoutZone:U=>{U&&(o=this._layoutZone(f,U)||o)}};Cs(e,A),A.addZone=ls,A.removeZone=ls,A.layoutZone=ls}),o}_addZone(e,o){const f=this._computeWhitespaceProps(o),U={whitespaceId:e.insertWhitespace(f.afterViewLineNumber,this._getZoneOrdinal(o),f.heightInPx,f.minWidthInPx),delegate:o,isInHiddenArea:f.isInHiddenArea,isVisible:!1,domNode:(0,w.X)(o.domNode),marginDomNode:o.marginDomNode?(0,w.X)(o.marginDomNode):null};return this._safeCallOnComputedHeight(U.delegate,f.heightInPx),U.domNode.setPosition("absolute"),U.domNode.domNode.style.width="100%",U.domNode.setDisplay("none"),U.domNode.setAttribute("monaco-view-zone",U.whitespaceId),this.domNode.appendChild(U.domNode),U.marginDomNode&&(U.marginDomNode.setPosition("absolute"),U.marginDomNode.domNode.style.width="100%",U.marginDomNode.setDisplay("none"),U.marginDomNode.setAttribute("monaco-view-zone",U.whitespaceId),this.marginDomNode.appendChild(U.marginDomNode)),this._zones[U.whitespaceId]=U,this.setShouldRender(),U.whitespaceId}_removeZone(e,o){if(this._zones.hasOwnProperty(o)){const f=this._zones[o];return delete this._zones[o],e.removeWhitespace(f.whitespaceId),f.domNode.removeAttribute("monaco-visible-view-zone"),f.domNode.removeAttribute("monaco-view-zone"),f.domNode.domNode.parentNode.removeChild(f.domNode.domNode),f.marginDomNode&&(f.marginDomNode.removeAttribute("monaco-visible-view-zone"),f.marginDomNode.removeAttribute("monaco-view-zone"),f.marginDomNode.domNode.parentNode.removeChild(f.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,o){if(this._zones.hasOwnProperty(o)){const f=this._zones[o],A=this._computeWhitespaceProps(f.delegate);return f.isInHiddenArea=A.isInHiddenArea,e.changeOneWhitespace(f.whitespaceId,A.afterViewLineNumber,A.heightInPx),this._safeCallOnComputedHeight(f.delegate,A.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,o){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(o)}catch(f){(0,H.dL)(f)}}_safeCallOnDomNodeTop(e,o){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(o)}catch(f){(0,H.dL)(f)}}prepareRender(e){}render(e){const o=e.viewportData.whitespaceViewportData,f={};let A=!1;for(const de of o)this._zones[de.id].isInHiddenArea||(f[de.id]=de,A=!0);const U=Object.keys(this._zones);for(let de=0,Se=U.length;de<Se;de++){const He=U[de],Qe=this._zones[He];let st=0,mt=0,Pt="none";f.hasOwnProperty(He)?(st=f[He].verticalOffset-e.bigNumbersDelta,mt=f[He].height,Pt="block",Qe.isVisible||(Qe.domNode.setAttribute("monaco-visible-view-zone","true"),Qe.isVisible=!0),this._safeCallOnDomNodeTop(Qe.delegate,e.getScrolledTopFromAbsoluteTop(f[He].verticalOffset))):(Qe.isVisible&&(Qe.domNode.removeAttribute("monaco-visible-view-zone"),Qe.isVisible=!1),this._safeCallOnDomNodeTop(Qe.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),Qe.domNode.setTop(st),Qe.domNode.setHeight(mt),Qe.domNode.setDisplay(Pt),Qe.marginDomNode&&(Qe.marginDomNode.setTop(st),Qe.marginDomNode.setHeight(mt),Qe.marginDomNode.setDisplay(Pt))}A&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function Cs(Dt,e){try{return Dt(e)}catch(o){(0,H.dL)(o)}}class _o{constructor(e){this._theme=e}get type(){return this._theme.type}get value(){return this._theme}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class Zr{constructor(e,o,f){this.configuration=e,this.theme=new _o(o),this.viewModel=f,this.viewLayout=f.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}class Yr{constructor(e,o,f,A){this.selections=e,this.startLineNumber=o.startLineNumber|0,this.endLineNumber=o.endLineNumber|0,this.relativeVerticalOffset=o.relativeVerticalOffset,this.bigNumbersDelta=o.bigNumbersDelta|0,this.whitespaceViewportData=f,this._model=A,this.visibleRange=new Ze.e(o.startLineNumber,this._model.getLineMinColumn(o.startLineNumber),o.endLineNumber,this._model.getLineMaxColumn(o.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Xr extends Ae{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.domNode=(0,w.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const f=this._context.configuration.options.get(133),A=f.contentWidth-f.verticalScrollbarWidth;return this.contentWidth!==A&&(this.contentWidth=A,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){let o=0;const f=e.getDecorationsInViewport();for(const A of f){if(!A.options.blockClassName)continue;let U=this.blocks[o];U||(U=this.blocks[o]=(0,w.X)(document.createElement("div")),this.domNode.appendChild(U));const de=e.getVerticalOffsetForLineNumber(A.range.startLineNumber),Se=e.getVerticalOffsetForLineNumber(A.range.endLineNumber+1);U.setClassName("blockDecorations-block "+A.options.blockClassName),U.setLeft(e.scrollLeft),U.setWidth(this.contentWidth),U.setTop(de),U.setHeight(Se-de),o++}for(let A=o;A<this.blocks.length;A++)this.blocks[A].domNode.remove();this.blocks.length=o}}class ao extends Ce{constructor(e,o,f,A,U,de){super(),this._selections=[new me.Y(1,1,1,1)],this._renderAnimationFrame=null;const Se=new Ji(o,A,U,e);this._context=new Zr(o,f,A),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new Xi(this._context,Se,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,w.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,w.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,w.X)(document.createElement("div")),$e.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Rt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Nn(this._context,this._linesContent),this._viewZones=new Wn(this._context),this._viewParts.push(this._viewZones);const He=new fi(this._context);this._viewParts.push(He);const Qe=new In(this._context);this._viewParts.push(Qe);const st=new kt(this._context);this._viewParts.push(st),st.addDynamicOverlay(new Hi(this._context)),st.addDynamicOverlay(new mn(this._context)),st.addDynamicOverlay(new ei(this._context)),st.addDynamicOverlay(new wi(this._context));const mt=new oi(this._context);this._viewParts.push(mt),mt.addDynamicOverlay(new rn(this._context)),mt.addDynamicOverlay(new ri(this._context)),mt.addDynamicOverlay(new An(this._context)),mt.addDynamicOverlay(new yn(this._context)),mt.addDynamicOverlay(new xt(this._context));const Pt=new nt(this._context);Pt.getDomNode().appendChild(this._viewZones.marginDomNode),Pt.getDomNode().appendChild(mt.getDomNode()),this._viewParts.push(Pt),this._contentWidgets=new bi(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Zn(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new hi(this._context),this._viewParts.push(this._overlayWidgets);const At=new Qi(this._context);this._viewParts.push(At);const ti=new Xr(this._context);this._viewParts.push(ti);const gi=new Tt(this._context);if(this._viewParts.push(gi),He){const vi=this._scrollbar.getOverviewRulerLayoutInfo();vi.parent.insertBefore(He.getDomNode(),vi.insertBefore)}this._linesContent.appendChild(st.getDomNode()),this._linesContent.appendChild(At.domNode),this._linesContent.appendChild(ti.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Pt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(Qe.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(gi.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),de?de.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new oe(this._context,Se,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],o=this._textAreaHandler.getLastRenderData();return new Xe(e,o)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,o)),visibleRangeForPosition:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Be.L(e,o))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const o=this._context.configuration.options.get(133);this.domNode.setWidth(o.width),this.domNode.setHeight(o.height),this._overflowGuardContainer.setWidth(o.width),this._overflowGuardContainer.setHeight(o.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,ht.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=B.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){cs(()=>this._actualRender())}_getViewPartsToRender(){const e=[];let o=0;for(const f of this._viewParts)f.shouldRender()&&(e[o++]=f);return e}_actualRender(){if(!B.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const o=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(o.startLineNumber,o.endLineNumber,o.centeredLineNumber);const f=new Yr(this._selections,o,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(f),this._viewLines.shouldRender()&&(this._viewLines.renderText(f),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const A=new at(this._context.viewLayout,f,this._viewLines);for(const U of e)U.prepareRender(A);for(const U of e)U.render(A),U.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,o){const f=this._context.viewModel.model.validatePosition({lineNumber:e,column:o}),A=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(f);this._flushAccumulatedAndRenderNow();const U=this._viewLines.visibleRangeForPosition(new Be.L(A.lineNumber,A.column));return U?U.left:-1}getTargetAtClientPoint(e,o){const f=this._pointerHandler.getTargetAtClientPoint(e,o);return f?Zi.convertViewToModelMouseTarget(f,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new Bi(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,o){if(o){this._viewLines.forceShouldRender();for(const f of this._viewParts)f.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var o,f;let A=e.position&&e.position.range||null;if(A===null){const de=e.position?e.position.position:null;de!==null&&(A=new Ze.e(de.lineNumber,de.column,de.lineNumber,de.column))}const U=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,A,U,(f=(o=e.position)===null||o===void 0?void 0:o.positionAffinity)!==null&&f!==void 0?f:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const o=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,o)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function cs(Dt){try{return Dt()}catch(e){(0,H.dL)(e)}}var jn=s(55343);class Bs{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new jn.rS(new Ze.e(1,1,1,1),0,new Be.L(1,1),0),new jn.rS(new Ze.e(1,1,1,1),0,new Be.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new jn.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const o=e.model._getTrackedRange(this._selTrackedRange);return me.Y.fromRange(o,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,o,f){this._setState(e,o,f)}static _validatePositionWithCache(e,o,f,A){return o.equals(f)?A:e.normalizePosition(o,2)}static _validateViewState(e,o){const f=o.position,A=o.selectionStart.getStartPosition(),U=o.selectionStart.getEndPosition(),de=e.normalizePosition(f,2),Se=this._validatePositionWithCache(e,A,f,de),He=this._validatePositionWithCache(e,U,A,Se);return f.equals(de)&&A.equals(Se)&&U.equals(He)?o:new jn.rS(Ze.e.fromPositions(Se,He),o.selectionStartLeftoverVisibleColumns+A.column-Se.column,de,o.leftoverVisibleColumns+f.column-de.column)}_setState(e,o,f){if(f&&(f=Bs._validateViewState(e.viewModel,f)),o){const A=e.model.validateRange(o.selectionStart),U=o.selectionStart.equalsRange(A)?o.selectionStartLeftoverVisibleColumns:0,de=e.model.validatePosition(o.position),Se=o.position.equals(de)?o.leftoverVisibleColumns:0;o=new jn.rS(A,U,de,Se)}else{if(!f)return;const A=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(f.selectionStart)),U=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(f.position));o=new jn.rS(A,f.selectionStartLeftoverVisibleColumns,U,f.leftoverVisibleColumns)}if(f){const A=e.coordinatesConverter.validateViewRange(f.selectionStart,o.selectionStart),U=e.coordinatesConverter.validateViewPosition(f.position,o.position);f=new jn.rS(A,o.selectionStartLeftoverVisibleColumns,U,o.leftoverVisibleColumns)}else{const A=e.coordinatesConverter.convertModelPositionToViewPosition(new Be.L(o.selectionStart.startLineNumber,o.selectionStart.startColumn)),U=e.coordinatesConverter.convertModelPositionToViewPosition(new Be.L(o.selectionStart.endLineNumber,o.selectionStart.endColumn)),de=new Ze.e(A.lineNumber,A.column,U.lineNumber,U.column),Se=e.coordinatesConverter.convertModelPositionToViewPosition(o.position);f=new jn.rS(de,o.selectionStartLeftoverVisibleColumns,Se,o.leftoverVisibleColumns)}this.modelState=o,this.viewState=f,this._updateTrackedRange(e)}}class yo{constructor(e){this.context=e,this.cursors=[new Bs(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return(0,m.VJ)(this.cursors,(0,m.tT)(e=>e.viewState.position,Be.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,m.jV)(this.cursors,(0,m.tT)(e=>e.viewState.position,Be.L.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(jn.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const o=this.cursors.length-1,f=e.length;if(o<f){const A=f-o;for(let U=0;U<A;U++)this._addSecondaryCursor()}else if(o>f){const A=o-f;for(let U=0;U<A;U++)this._removeSecondaryCursor(this.cursors.length-2)}for(let A=0;A<f;A++)this.cursors[A+1].setState(this.context,e[A].modelState,e[A].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Bs(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),o=[];for(let f=0,A=e.length;f<A;f++)o.push({index:f,selection:e[f].modelState.selection});o.sort((0,m.tT)(f=>f.selection,Ze.e.compareRangesUsingStarts));for(let f=0;f<o.length-1;f++){const A=o[f],U=o[f+1],de=A.selection,Se=U.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let He;if(Se.isEmpty()||de.isEmpty()?He=Se.getStartPosition().isBeforeOrEqual(de.getEndPosition()):He=Se.getStartPosition().isBefore(de.getEndPosition()),He){const Qe=A.index<U.index?f:f+1,st=A.index<U.index?f+1:f,mt=o[st].index,Pt=o[Qe].index,At=o[st].selection,ti=o[Qe].selection;if(!At.equalsSelection(ti)){const gi=At.plusRange(ti),vi=At.selectionStartLineNumber===At.startLineNumber&&At.selectionStartColumn===At.startColumn,Li=ti.selectionStartLineNumber===ti.startLineNumber&&ti.selectionStartColumn===ti.startColumn;let Wi;mt===this.lastAddedCursorIndex?(Wi=vi,this.lastAddedCursorIndex=Pt):Wi=Li;let Mi;Wi?Mi=new me.Y(gi.startLineNumber,gi.startColumn,gi.endLineNumber,gi.endColumn):Mi=new me.Y(gi.endLineNumber,gi.endColumn,gi.startLineNumber,gi.startColumn),o[Qe].selection=Mi;const on=jn.Vi.fromModelSelection(Mi);e[Pt].setState(this.context,on.modelState,on.viewState)}for(const gi of o)gi.index>mt&&gi.index--;e.splice(mt,1),o.splice(st,1),this._removeSecondaryCursor(mt-1),f--}}}}class vo{constructor(e,o,f,A){this._cursorContextBrand=void 0,this.model=e,this.viewModel=o,this.coordinatesConverter=f,this.cursorConfig=A}}var Lo=s(29436),ys=s(94729),Ws=s(14706);class lo{constructor(){this.type=0}}class Do{constructor(){this.type=1}}class Eo{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class Jr{constructor(e,o){this.type=3,this.selections=e,this.modelSelections=o}}class to{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class Wo{constructor(){this.type=5}}class Vs{constructor(e){this.type=6,this.isFocused=e}}class Hs{constructor(){this.type=7}}class Vo{constructor(){this.type=8}}class zs{constructor(e,o){this.fromLineNumber=e,this.count=o,this.type=9}}class nr{constructor(e,o){this.type=10,this.fromLineNumber=e,this.toLineNumber=o}}class Ho{constructor(e,o){this.type=11,this.fromLineNumber=e,this.toLineNumber=o}}class Ts{constructor(e,o,f,A,U,de,Se){this.source=e,this.minimalReveal=o,this.range=f,this.selections=A,this.verticalType=U,this.revealHorizontal=de,this.scrollType=Se,this.type=12}}class io{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Zs{constructor(e){this.theme=e,this.type=14}}class Sr{constructor(e){this.type=15,this.ranges=e}}class wr{constructor(){this.type=16}}class Ya{constructor(){this.type=17}}class Co extends y.JT{constructor(){super(),this._onEvent=this._register(new O.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let o=0,f=this._outgoingEvents.length;o<f;o++){const A=this._outgoingEvents[o].kind===e.kind?this._outgoingEvents[o].attemptToMerge(e):null;if(A){this._outgoingEvents[o]=A;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let o=0,f=this._eventHandlers.length;o<f;o++)this._eventHandlers[o]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let o=0;o<this._eventHandlers.length;o++)if(this._eventHandlers[o]===e){this._eventHandlers.splice(o,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Xa),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,o=this._collector.viewEvents;this._collector=null;for(const f of e)this._addOutgoingEvent(f);o.length>0&&this._emitMany(o)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const o=this._eventHandlers.slice(0);for(const f of o)f.handleEvents(e)}}}class Xa{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class Ks{constructor(e,o,f,A){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=o,this.contentWidth=f,this.contentHeight=A,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new Ks(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class yr{constructor(e,o){this.kind=1,this.oldHasFocus=e,this.hasFocus=o}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new yr(this.oldHasFocus,e.hasFocus)}}class Us{constructor(e,o,f,A,U,de,Se,He){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=o,this._oldScrollHeight=f,this._oldScrollTop=A,this.scrollWidth=U,this.scrollLeft=de,this.scrollHeight=Se,this.scrollTop=He,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new Us(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class zo{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Io{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Ys{constructor(e,o,f,A,U,de,Se){this.kind=6,this.oldSelections=e,this.selections=o,this.oldModelVersionId=f,this.modelVersionId=A,this.source=U,this.reason=de,this.reachedMaxCursorCount=Se}static _selectionsAreEqual(e,o){if(!e&&!o)return!0;if(!e||!o)return!1;const f=e.length,A=o.length;if(f!==A)return!1;for(let U=0;U<f;U++)if(!e[U].equalsSelection(o[U]))return!1;return!0}isNoOp(){return Ys._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new Ys(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class Ja{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Lr{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class $s{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class Rs{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class hn{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class bo{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class wa{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class So extends y.JT{constructor(e,o,f,A){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=o,this._coordinatesConverter=f,this.context=new vo(this._model,this._viewModel,this._coordinatesConverter,A),this._cursors=new yo(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,y.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new vo(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let o=0;o<this._autoClosedActions.length;o++){const f=this._autoClosedActions[o];f.isValid(e)||(f.dispose(),this._autoClosedActions.splice(o,1),o--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,o,f,A){let U=!1;A!==null&&A.length>So.MAX_CURSOR_COUNT&&(A=A.slice(0,So.MAX_CURSOR_COUNT),U=!0);const de=Ls.from(this._model,this);return this._cursors.setStates(A),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,o,f,de,U)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,o,f,A,U,de){const Se=this._cursors.getViewPositions();let He=null,Qe=null;Se.length>1?Qe=this._cursors.getViewSelections():He=Ze.e.fromPositions(Se[0],Se[0]),e.emitViewEvent(new Ts(o,f,He,Qe,A,U,de))}saveState(){const e=[],o=this._cursors.getSelections();for(let f=0,A=o.length;f<A;f++){const U=o[f];e.push({inSelectionMode:!U.isEmpty(),selectionStart:{lineNumber:U.selectionStartLineNumber,column:U.selectionStartColumn},position:{lineNumber:U.positionLineNumber,column:U.positionColumn}})}return e}restoreState(e,o){const f=[];for(let A=0,U=o.length;A<U;A++){const de=o[A];let Se=1,He=1;de.position&&de.position.lineNumber&&(Se=de.position.lineNumber),de.position&&de.position.column&&(He=de.position.column);let Qe=Se,st=He;de.selectionStart&&de.selectionStart.lineNumber&&(Qe=de.selectionStart.lineNumber),de.selectionStart&&de.selectionStart.column&&(st=de.selectionStart.column),f.push({selectionStartLineNumber:Qe,selectionStartColumn:st,positionLineNumber:Se,positionColumn:He})}this.setStates(e,"restoreState",0,jn.Vi.fromModelSelections(f)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,o){if(o instanceof Ws.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const f=o.rawContentChangedEvent;if(this._knownModelVersionId=f.versionId,this._isHandling)return;const A=f.containsEvent(1);if(this._prevEditOperationType=0,A)this._cursors.dispose(),this._cursors=new yo(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&f.resultingSelection&&f.resultingSelection.length>0){const U=jn.Vi.fromModelSelections(f.resultingSelection);this.setStates(e,"modelChange",f.isUndoing?5:f.isRedoing?6:2,U)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const U=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,jn.Vi.fromModelSelections(U))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),o=e.viewState.selectionStart.getStartPosition(),f=e.viewState.position;return{isReal:!1,fromViewLineNumber:o.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,o),toViewLineNumber:f.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,f)}}getSelections(){return this._cursors.getSelections()}setSelections(e,o,f,A){this.setStates(e,o,A,jn.Vi.fromModelSelections(f))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,o){const f=[],A=[];for(let Se=0,He=e.length;Se<He;Se++)f.push({range:e[Se],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),A.push({range:o[Se],options:{description:"auto-closed-enclosing",stickiness:1}});const U=this._model.deltaDecorations([],f),de=this._model.deltaDecorations([],A);this._autoClosedActions.push(new sr(this._model,U,de))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const o=Dr.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(o){this._interpretCommandResult(o);const f=[],A=[];for(let U=0;U<e.commands.length;U++){const de=e.commands[U];de instanceof ys.g_&&de.enclosingRange&&de.closeCharacterRange&&(f.push(de.closeCharacterRange),A.push(de.enclosingRange))}f.length>0&&this._pushAutoClosedAction(f,A),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,o,f,A,U){const de=Ls.from(this._model,this);if(de.equals(A))return!1;const Se=this._cursors.getSelections(),He=this._cursors.getViewSelections();if(e.emitViewEvent(new Jr(He,Se)),!A||A.cursorState.length!==de.cursorState.length||de.cursorState.some((Qe,st)=>!Qe.modelState.equals(A.cursorState[st].modelState))){const Qe=A?A.cursorState.map(mt=>mt.modelState.selection):null,st=A?A.modelVersionId:0;e.emitOutgoingEvent(new Ys(Qe,Se,st,de.modelVersionId,o||"keyboard",f,U))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const o=[];for(let f=0,A=e.length;f<A;f++){const U=e[f];if(!U.text||U.text.indexOf(`
`)>=0)return null;const de=U.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!de)return null;const Se=de[1],He=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Se);if(!He||He.length!==1)return null;const Qe=He[0].open,st=U.text.length-de[2].length-1,mt=U.text.lastIndexOf(Qe,st-1);if(mt===-1)return null;o.push([mt,st])}return o}executeEdits(e,o,f,A){let U=null;o==="snippet"&&(U=this._findAutoClosingPairs(f)),U&&(f[0]._isTracked=!0);const de=[],Se=[],He=this._model.pushEditOperations(this.getSelections(),f,Qe=>{if(U)for(let mt=0,Pt=U.length;mt<Pt;mt++){const[At,ti]=U[mt],gi=Qe[mt],vi=gi.range.startLineNumber,Li=gi.range.startColumn-1+At,Wi=gi.range.startColumn-1+ti;de.push(new Ze.e(vi,Wi+1,vi,Wi+2)),Se.push(new Ze.e(vi,Li+1,vi,Wi+2))}const st=A(Qe);return st&&(this._isHandling=!0),st});He&&(this._isHandling=!1,this.setSelections(e,o,He,0)),de.length>0&&this._pushAutoClosedAction(de,Se)}_executeEdit(e,o,f,A=0){if(this.context.cursorConfig.readOnly)return;const U=Ls.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(de){(0,H.dL)(de)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,f,A,U,!1)&&this.revealPrimary(o,f,!1,0,!0,0)}getAutoClosedCharacters(){return sr.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new Sn(this._model,this.getSelections())}endComposition(e,o){const f=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{o==="keyboard"&&this._executeEditOperation(ys.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,f,this.getSelections(),this.getAutoClosedCharacters()))},e,o)}type(e,o,f){this._executeEdit(()=>{if(f==="keyboard"){const A=o.length;let U=0;for(;U<A;){const de=he.vH(o,U),Se=o.substr(U,de);this._executeEditOperation(ys.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Se)),U+=de}}else this._executeEditOperation(ys.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o))},e,f)}compositionType(e,o,f,A,U,de){if(o.length===0&&f===0&&A===0){if(U!==0){const Se=this.getSelections().map(He=>{const Qe=He.getPosition();return new me.Y(Qe.lineNumber,Qe.column+U,Qe.lineNumber,Qe.column+U)});this.setSelections(e,de,Se,0)}return}this._executeEdit(()=>{this._executeEditOperation(ys.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o,f,A,U))},e,de)}paste(e,o,f,A,U){this._executeEdit(()=>{this._executeEditOperation(ys.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),o,f,A||[]))},e,U,4)}cut(e,o){this._executeEdit(()=>{this._executeEditOperation(Lo.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,o)}executeCommand(e,o,f){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new jn.Tp(0,[o],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,f)}executeCommands(e,o,f){this._executeEdit(()=>{this._executeEditOperation(new jn.Tp(0,o,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,f)}}So.MAX_CURSOR_COUNT=1e4;class Ls{constructor(e,o){this.modelVersionId=e,this.cursorState=o}static from(e,o){return new Ls(e.getVersionId(),o.getCursorStates())}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let o=0,f=this.cursorState.length;o<f;o++)if(!this.cursorState[o].equals(e.cursorState[o]))return!1;return!0}}class sr{constructor(e,o,f){this._model=e,this._autoClosedCharactersDecorations=o,this._autoClosedEnclosingDecorations=f}static getAllAutoClosedCharacters(e){let o=[];for(const f of e)o=o.concat(f.getAutoClosedCharactersRanges());return o}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let o=0;o<this._autoClosedCharactersDecorations.length;o++){const f=this._model.getDecorationRange(this._autoClosedCharactersDecorations[o]);f&&e.push(f)}return e}isValid(e){const o=[];for(let f=0;f<this._autoClosedEnclosingDecorations.length;f++){const A=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[f]);if(A&&(o.push(A),A.startLineNumber!==A.endLineNumber))return!1}o.sort(Ze.e.compareRangesUsingStarts),e.sort(Ze.e.compareRangesUsingStarts);for(let f=0;f<e.length;f++)if(f>=o.length||!o[f].strictContainsRange(e[f]))return!1;return!0}}class Dr{static executeCommands(e,o,f){const A={model:e,selectionsBefore:o,trackedRanges:[],trackedRangesDirection:[]},U=this._innerExecuteCommands(A,f);for(let de=0,Se=A.trackedRanges.length;de<Se;de++)A.model._setTrackedRange(A.trackedRanges[de],null,0);return U}static _innerExecuteCommands(e,o){if(this._arrayIsEmpty(o))return null;const f=this._getEditOperations(e,o);if(f.operations.length===0)return null;const A=f.operations,U=this._getLoserCursorMap(A);if(U.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const de=[];for(let Qe=0,st=A.length;Qe<st;Qe++)U.hasOwnProperty(A[Qe].identifier.major.toString())||de.push(A[Qe]);f.hadTrackedEditOperation&&de.length>0&&(de[0]._isTracked=!0);let Se=e.model.pushEditOperations(e.selectionsBefore,de,Qe=>{const st=[];for(let At=0;At<e.selectionsBefore.length;At++)st[At]=[];for(const At of Qe)At.identifier&&st[At.identifier.major].push(At);const mt=(At,ti)=>At.identifier.minor-ti.identifier.minor,Pt=[];for(let At=0;At<e.selectionsBefore.length;At++)st[At].length>0?(st[At].sort(mt),Pt[At]=o[At].computeCursorState(e.model,{getInverseEditOperations:()=>st[At],getTrackedSelection:ti=>{const gi=parseInt(ti,10),vi=e.model._getTrackedRange(e.trackedRanges[gi]);return e.trackedRangesDirection[gi]===0?new me.Y(vi.startLineNumber,vi.startColumn,vi.endLineNumber,vi.endColumn):new me.Y(vi.endLineNumber,vi.endColumn,vi.startLineNumber,vi.startColumn)}})):Pt[At]=e.selectionsBefore[At];return Pt});Se||(Se=e.selectionsBefore);const He=[];for(const Qe in U)U.hasOwnProperty(Qe)&&He.push(parseInt(Qe,10));He.sort((Qe,st)=>st-Qe);for(const Qe of He)Se.splice(Qe,1);return Se}static _arrayIsEmpty(e){for(let o=0,f=e.length;o<f;o++)if(e[o])return!1;return!0}static _getEditOperations(e,o){let f=[],A=!1;for(let U=0,de=o.length;U<de;U++){const Se=o[U];if(Se){const He=this._getEditOperationsFromCommand(e,U,Se);f=f.concat(He.operations),A=A||He.hadTrackedEditOperation}}return{operations:f,hadTrackedEditOperation:A}}static _getEditOperationsFromCommand(e,o,f){const A=[];let U=0;const de=(mt,Pt,At=!1)=>{Ze.e.isEmpty(mt)&&Pt===""||A.push({identifier:{major:o,minor:U++},range:mt,text:Pt,forceMoveMarkers:At,isAutoWhitespaceEdit:f.insertsAutoWhitespace})};let Se=!1;const st={addEditOperation:de,addTrackedEditOperation:(mt,Pt,At)=>{Se=!0,de(mt,Pt,At)},trackSelection:(mt,Pt)=>{const At=me.Y.liftSelection(mt);let ti;if(At.isEmpty())if(typeof Pt=="boolean")Pt?ti=2:ti=3;else{const Li=e.model.getLineMaxColumn(At.startLineNumber);At.startColumn===Li?ti=2:ti=3}else ti=1;const gi=e.trackedRanges.length,vi=e.model._setTrackedRange(null,At,ti);return e.trackedRanges[gi]=vi,e.trackedRangesDirection[gi]=At.getDirection(),gi.toString()}};try{f.getEditOperations(e.model,st)}catch(mt){return(0,H.dL)(mt),{operations:[],hadTrackedEditOperation:!1}}return{operations:A,hadTrackedEditOperation:Se}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((f,A)=>-Ze.e.compareRangesUsingEnds(f.range,A.range));const o={};for(let f=1;f<e.length;f++){const A=e[f-1],U=e[f];if(Ze.e.getStartPosition(A.range).isBefore(Ze.e.getEndPosition(U.range))){let de;A.identifier.major>U.identifier.major?de=A.identifier.major:de=U.identifier.major,o[de.toString()]=!0;for(let Se=0;Se<e.length;Se++)e[Se].identifier.major===de&&(e.splice(Se,1),Se<f&&f--,Se--);f>0&&f--}}return o}}class Uo{constructor(e,o,f){this.text=e,this.startSelection=o,this.endSelection=f}}class Sn{constructor(e,o){this._original=Sn._capture(e,o)}static _capture(e,o){const f=[];for(const A of o){if(A.startLineNumber!==A.endLineNumber)return null;f.push(new Uo(e.getLineContent(A.startLineNumber),A.startColumn-1,A.endColumn-1))}return f}deduceOutcome(e,o){if(!this._original)return null;const f=Sn._capture(e,o);if(!f||this._original.length!==f.length)return null;const A=[];for(let U=0,de=this._original.length;U<de;U++)A.push(Sn._deduceOutcome(this._original[U],f[U]));return A}static _deduceOutcome(e,o){const f=Math.min(e.startSelection,o.startSelection,he.Mh(e.text,o.text)),A=Math.min(e.text.length-e.endSelection,o.text.length-o.endSelection,he.P1(e.text,o.text)),U=e.text.substring(f,e.text.length-A),de=o.text.substring(f,o.text.length-A);return new ys.Nu(U,e.startSelection-f,e.endSelection-f,de,o.startSelection-f,o.endSelection-f)}}var Vn=s(30653),hs=s(96518),Tn=s(29102),ps=s(22529),Is=s(68801),Gs=s(81947),Er=s(76633);class qr{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const o=this._inserts,f=this._changes,A=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(o,f,A)}}class Ol{constructor(e,o,f,A,U){this.id=e,this.afterLineNumber=o,this.ordinal=f,this.height=A,this.minWidth=U,this.prefixSum=0}}class ns{constructor(e,o,f,A){this._instanceId=he.PJ(++ns.INSTANCE_COUNT),this._pendingChanges=new qr,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=o,this._paddingTop=f,this._paddingBottom=A}static findInsertionIndex(e,o,f){let A=0,U=e.length;for(;A<U;){const de=A+U>>>1;o===e[de].afterLineNumber?f<e[de].ordinal?U=de:A=de+1:o<e[de].afterLineNumber?U=de:A=de+1}return A}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,o){this._paddingTop=e,this._paddingBottom=o}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let o=!1;try{e({insertWhitespace:(A,U,de,Se)=>{o=!0,A=A|0,U=U|0,de=de|0,Se=Se|0;const He=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Ol(He,A,U,de,Se)),He},changeOneWhitespace:(A,U,de)=>{o=!0,U=U|0,de=de|0,this._pendingChanges.change({id:A,newAfterLineNumber:U,newHeight:de})},removeWhitespace:A=>{o=!0,this._pendingChanges.remove({id:A})}})}finally{this._pendingChanges.commit(this)}return o}_commitPendingChanges(e,o,f){if((e.length>0||f.length>0)&&(this._minWidth=-1),e.length+o.length+f.length<=1){for(const He of e)this._insertWhitespace(He);for(const He of o)this._changeOneWhitespace(He.id,He.newAfterLineNumber,He.newHeight);for(const He of f){const Qe=this._findWhitespaceIndex(He.id);Qe!==-1&&this._removeWhitespace(Qe)}return}const A=new Set;for(const He of f)A.add(He.id);const U=new Map;for(const He of o)U.set(He.id,He);const de=He=>{const Qe=[];for(const st of He)if(!A.has(st.id)){if(U.has(st.id)){const mt=U.get(st.id);st.afterLineNumber=mt.newAfterLineNumber,st.height=mt.newHeight}Qe.push(st)}return Qe},Se=de(this._arr).concat(de(e));Se.sort((He,Qe)=>He.afterLineNumber===Qe.afterLineNumber?He.ordinal-Qe.ordinal:He.afterLineNumber-Qe.afterLineNumber),this._arr=Se,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const o=ns.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(o,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,o-1)}_findWhitespaceIndex(e){const o=this._arr;for(let f=0,A=o.length;f<A;f++)if(o[f].id===e)return f;return-1}_changeOneWhitespace(e,o,f){const A=this._findWhitespaceIndex(e);if(A!==-1&&(this._arr[A].height!==f&&(this._arr[A].height=f,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,A-1)),this._arr[A].afterLineNumber!==o)){const U=this._arr[A];this._removeWhitespace(A),U.afterLineNumber=o,this._insertWhitespace(U)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount-=o-e+1;for(let f=0,A=this._arr.length;f<A;f++){const U=this._arr[f].afterLineNumber;e<=U&&U<=o?this._arr[f].afterLineNumber=e-1:U>o&&(this._arr[f].afterLineNumber-=o-e+1)}}onLinesInserted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount+=o-e+1;for(let f=0,A=this._arr.length;f<A;f++){const U=this._arr[f].afterLineNumber;e<=U&&(this._arr[f].afterLineNumber+=o-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let o=Math.max(0,this._prefixSumValidIndex+1);o===0&&(this._arr[0].prefixSum=this._arr[0].height,o++);for(let f=o;f<=e;f++)this._arr[f].prefixSum=this._arr[f-1].prefixSum+this._arr[f].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,o=this.getWhitespacesTotalHeight();return e+o+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const o=this._findLastWhitespaceBeforeLineNumber(e);return o===-1?0:this.getWhitespacesAccumulatedHeight(o)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const o=this._arr;let f=0,A=o.length-1;for(;f<=A;){const de=(A-f|0)/2|0,Se=f+de|0;if(o[Se].afterLineNumber<e){if(Se+1>=o.length||o[Se+1].afterLineNumber>=e)return Se;f=Se+1|0}else A=Se-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const f=this._findLastWhitespaceBeforeLineNumber(e)+1;return f<this._arr.length?f:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,o=!1){this._checkPendingChanges(),e=e|0;let f;e>1?f=this._lineHeight*(e-1):f=0;const A=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(o?1:0));return f+A+this._paddingTop}getVerticalOffsetAfterLineNumber(e,o=!1){this._checkPendingChanges(),e=e|0;const f=this._lineHeight*e,A=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(o?1:0));return f+A+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let o=0,f=this._arr.length;o<f;o++)e=Math.max(e,this._arr[o].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>o}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>=o-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const o=this._lineCount|0,f=this._lineHeight;let A=1,U=o;for(;A<U;){const de=(A+U)/2|0,Se=this.getVerticalOffsetForLineNumber(de)|0;if(e>=Se+f)A=de+1;else{if(e>=Se)return de;U=de}}return A>o?o:A}getLinesViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const f=this._lineHeight,A=this.getLineNumberAtOrAfterVerticalOffset(e)|0,U=this.getVerticalOffsetForLineNumber(A)|0;let de=this._lineCount|0,Se=this.getFirstWhitespaceIndexAfterLineNumber(A)|0;const He=this.getWhitespacesCount()|0;let Qe,st;Se===-1?(Se=He,st=de+1,Qe=0):(st=this.getAfterLineNumberForWhitespaceIndex(Se)|0,Qe=this.getHeightForWhitespaceIndex(Se)|0);let mt=U,Pt=mt;const At=5e5;let ti=0;U>=At&&(ti=Math.floor(U/At)*At,ti=Math.floor(ti/f)*f,Pt-=ti);const gi=[],vi=e+(o-e)/2;let Li=-1;for(let qi=A;qi<=de;qi++){if(Li===-1){const un=mt,fn=mt+f;(un<=vi&&vi<fn||un>vi)&&(Li=qi)}for(mt+=f,gi[qi-A]=Pt,Pt+=f;st===qi;)Pt+=Qe,mt+=Qe,Se++,Se>=He?st=de+1:(st=this.getAfterLineNumberForWhitespaceIndex(Se)|0,Qe=this.getHeightForWhitespaceIndex(Se)|0);if(mt>=o){de=qi;break}}Li===-1&&(Li=de);const Wi=this.getVerticalOffsetForLineNumber(de)|0;let Mi=A,on=de;return Mi<on&&U<e&&Mi++,Mi<on&&Wi+f>o&&on--,{bigNumbersDelta:ti,startLineNumber:A,endLineNumber:de,relativeVerticalOffset:gi,centeredLineNumber:Li,completelyVisibleStartLineNumber:Mi,completelyVisibleEndLineNumber:on}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const o=this.getAfterLineNumberForWhitespaceIndex(e);let f;o>=1?f=this._lineHeight*o:f=0;let A;return e>0?A=this.getWhitespacesAccumulatedHeight(e-1):A=0,f+A+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let o=0,f=this.getWhitespacesCount()-1;if(f<0)return-1;const A=this.getVerticalOffsetForWhitespaceIndex(f),U=this.getHeightForWhitespaceIndex(f);if(e>=A+U)return-1;for(;o<f;){const de=Math.floor((o+f)/2),Se=this.getVerticalOffsetForWhitespaceIndex(de),He=this.getHeightForWhitespaceIndex(de);if(e>=Se+He)o=de+1;else{if(e>=Se)return de;f=de}}return o}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const o=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(o<0||o>=this.getWhitespacesCount())return null;const f=this.getVerticalOffsetForWhitespaceIndex(o);if(f>e)return null;const A=this.getHeightForWhitespaceIndex(o),U=this.getIdForWhitespaceIndex(o),de=this.getAfterLineNumberForWhitespaceIndex(o);return{id:U,afterLineNumber:de,verticalOffset:f,height:A}}getWhitespaceViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const f=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),A=this.getWhitespacesCount()-1;if(f<0)return[];const U=[];for(let de=f;de<=A;de++){const Se=this.getVerticalOffsetForWhitespaceIndex(de),He=this.getHeightForWhitespaceIndex(de);if(Se>=o)break;U.push({id:this.getIdForWhitespaceIndex(de),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(de),verticalOffset:Se,height:He})}return U}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}ns.INSTANCE_COUNT=0;const Pl=125;class Ir{constructor(e,o,f,A){e=e|0,o=o|0,f=f|0,A=A|0,e<0&&(e=0),o<0&&(o=0),f<0&&(f=0),A<0&&(A=0),this.width=e,this.contentWidth=o,this.scrollWidth=Math.max(e,o),this.height=f,this.contentHeight=A,this.scrollHeight=Math.max(f,A)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class Fl extends y.JT{constructor(e,o){super(),this._onDidContentSizeChange=this._register(new O.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Ir(0,0,0,0),this._scrollable=this._register(new Er.Rm({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const o=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const f=o.contentWidth!==e.contentWidth,A=o.contentHeight!==e.contentHeight;(f||A)&&this._onDidContentSizeChange.fire(new Ks(o.contentWidth,o.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class qa extends y.JT{constructor(e,o,f){super(),this._configuration=e;const A=this._configuration.options,U=A.get(133),de=A.get(77);this._linesLayout=new ns(o,A.get(61),de.top,de.bottom),this._scrollable=this._register(new Fl(0,f)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Ir(U.contentWidth,0,U.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?Pl:0)}onConfigurationChanged(e){const o=this._configuration.options;if(e.hasChanged(61)&&this._linesLayout.setLineHeight(o.get(61)),e.hasChanged(77)){const f=o.get(77);this._linesLayout.setPadding(f.top,f.bottom)}if(e.hasChanged(133)){const f=o.get(133),A=f.contentWidth,U=f.height,de=this._scrollable.getScrollDimensions(),Se=de.contentWidth;this._scrollable.setScrollDimensions(new Ir(A,de.contentWidth,U,this._getContentHeight(A,U,Se)))}else this._updateHeight();e.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,o){this._linesLayout.onLinesDeleted(e,o)}onLinesInserted(e,o){this._linesLayout.onLinesInserted(e,o)}_getHorizontalScrollbarHeight(e,o){const A=this._configuration.options.get(94);return A.horizontal===2||e>=o?0:A.horizontalScrollbarSize}_getContentHeight(e,o,f){const A=this._configuration.options;let U=this._linesLayout.getLinesTotalHeight();return A.get(96)?U+=Math.max(0,o-A.get(61)-A.get(77).bottom):U+=this._getHorizontalScrollbarHeight(e,f),U}_updateHeight(){const e=this._scrollable.getScrollDimensions(),o=e.width,f=e.height,A=e.contentWidth;this._scrollable.setScrollDimensions(new Ir(o,e.contentWidth,f,this._getContentHeight(o,f,A)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new Kn.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new Kn.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}_computeContentWidth(e){const o=this._configuration.options,f=o.get(134),A=o.get(46),U=o.get(133);if(f.isViewportWrapping){const de=o.get(67);return e>U.contentWidth+A.typicalHalfwidthCharacterWidth&&de.enabled&&de.side==="right"?e+U.verticalScrollbarWidth:e}else{const de=o.get(95)*A.typicalHalfwidthCharacterWidth,Se=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+de+U.verticalScrollbarWidth,Se)}}setMaxLineWidth(e){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ir(o.width,this._computeContentWidth(e),o.height,o.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),o=e.scrollTop,f=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),A=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(f);return{scrollTop:o,scrollTopWithoutViewZones:o-A,scrollLeft:e.scrollLeft}}changeWhitespace(e){const o=this._linesLayout.changeWhitespace(e);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(e,o=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,o)}getVerticalOffsetAfterLineNumber(e,o=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,o)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const o=this._scrollable.getScrollDimensions();return e+o.height>o.scrollHeight&&(e=o.scrollHeight-o.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+o.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,o){o===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,o){const f=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:f.scrollLeft+e,scrollTop:f.scrollTop+o})}}var xr=s(30168),no=s(77378);function co(Dt,e){return Dt===null?e?or.INSTANCE:jo.INSTANCE:new ea(Dt,e)}class ea{constructor(e,o){this._projectionData=e,this._isVisible=o}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,o,f){this._assertVisible();const A=f>0?this._projectionData.breakOffsets[f-1]:0,U=this._projectionData.breakOffsets[f];let de;if(this._projectionData.injectionOffsets!==null){const Se=this._projectionData.injectionOffsets.map((Qe,st)=>new Ws.gk(0,0,Qe+1,this._projectionData.injectionOptions[st],0));de=Ws.gk.applyInjectedText(e.getLineContent(o),Se).substring(A,U)}else de=e.getValueInRange({startLineNumber:o,startColumn:A+1,endLineNumber:o,endColumn:U+1});return f>0&&(de=el(this._projectionData.wrappedTextIndentLength)+de),de}getViewLineLength(e,o,f){return this._assertVisible(),this._projectionData.getLineLength(f)}getViewLineMinColumn(e,o,f){return this._assertVisible(),this._projectionData.getMinOutputOffset(f)+1}getViewLineMaxColumn(e,o,f){return this._assertVisible(),this._projectionData.getMaxOutputOffset(f)+1}getViewLineData(e,o,f){const A=new Array;return this.getViewLinesData(e,o,f,1,0,[!0],A),A[0]}getViewLinesData(e,o,f,A,U,de,Se){this._assertVisible();const He=this._projectionData,Qe=He.injectionOffsets,st=He.injectionOptions;let mt=null;if(Qe){mt=[];let At=0,ti=0;for(let gi=0;gi<He.getOutputLineCount();gi++){const vi=new Array;mt[gi]=vi;const Li=gi>0?He.breakOffsets[gi-1]:0,Wi=He.breakOffsets[gi];for(;ti<Qe.length;){const Mi=st[ti].content.length,on=Qe[ti]+At,qi=on+Mi;if(on>Wi)break;if(Li<qi){const un=st[ti];if(un.inlineClassName){const fn=gi>0?He.wrappedTextIndentLength:0,tn=fn+Math.max(on-Li,0),wn=fn+Math.min(qi-Li,Wi);tn!==wn&&vi.push(new Kn.Wx(tn,wn,un.inlineClassName,un.inlineClassNameAffectsLetterSpacing))}}if(qi<=Wi)At+=Mi,ti++;else break}}}let Pt;Qe?Pt=e.tokenization.getLineTokens(o).withInserted(Qe.map((At,ti)=>({offset:At,text:st[ti].content,tokenMetadata:no.A.defaultTokenMetadata}))):Pt=e.tokenization.getLineTokens(o);for(let At=f;At<f+A;At++){const ti=U+At-f;if(!de[ti]){Se[ti]=null;continue}Se[ti]=this._getViewLineData(Pt,mt?mt[At]:null,At)}}_getViewLineData(e,o,f){this._assertVisible();const A=this._projectionData,U=f>0?A.wrappedTextIndentLength:0,de=f>0?A.breakOffsets[f-1]:0,Se=A.breakOffsets[f],He=e.sliceAndInflate(de,Se,U);let Qe=He.getLineContent();f>0&&(Qe=el(A.wrappedTextIndentLength)+Qe);const st=this._projectionData.getMinOutputOffset(f)+1,mt=Qe.length+1,Pt=f+1<this.getViewLineCount(),At=f===0?0:A.breakOffsetsVisibleColumn[f-1];return new Kn.IP(Qe,Pt,st,mt,At,He,o)}getModelColumnOfViewPosition(e,o){return this._assertVisible(),this._projectionData.translateToInputOffset(e,o-1)+1}getViewPositionOfModelPosition(e,o,f=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(o-1,f).toPosition(e)}getViewLineNumberOfModelPosition(e,o){this._assertVisible();const f=this._projectionData.translateToOutputPosition(o-1);return e+f.outputLineIndex}normalizePosition(e,o,f){const A=o.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,o.column-1,f).toPosition(A)}getInjectedTextAt(e,o){return this._projectionData.getInjectedText(e,o-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class or{constructor(){}isVisible(){return!0}setVisible(e){return e?this:jo.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,o,f){return e.getLineContent(o)}getViewLineLength(e,o,f){return e.getLineLength(o)}getViewLineMinColumn(e,o,f){return e.getLineMinColumn(o)}getViewLineMaxColumn(e,o,f){return e.getLineMaxColumn(o)}getViewLineData(e,o,f){const A=e.tokenization.getLineTokens(o),U=A.getLineContent();return new Kn.IP(U,!1,1,U.length+1,0,A.inflate(),null)}getViewLinesData(e,o,f,A,U,de,Se){if(!de[U]){Se[U]=null;return}Se[U]=this.getViewLineData(e,o,0)}getModelColumnOfViewPosition(e,o){return o}getViewPositionOfModelPosition(e,o){return new Be.L(e,o)}getViewLineNumberOfModelPosition(e,o){return e}normalizePosition(e,o,f){return o}getInjectedTextAt(e,o){return null}}or.INSTANCE=new or;class jo{constructor(){}isVisible(){return!1}setVisible(e){return e?or.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,o,f){throw new Error("Not supported")}getViewLineLength(e,o,f){throw new Error("Not supported")}getViewLineMinColumn(e,o,f){throw new Error("Not supported")}getViewLineMaxColumn(e,o,f){throw new Error("Not supported")}getViewLineData(e,o,f){throw new Error("Not supported")}getViewLinesData(e,o,f,A,U,de,Se){throw new Error("Not supported")}getModelColumnOfViewPosition(e,o){throw new Error("Not supported")}getViewPositionOfModelPosition(e,o){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,o){throw new Error("Not supported")}normalizePosition(e,o,f){throw new Error("Not supported")}getInjectedTextAt(e,o){throw new Error("Not supported")}}jo.INSTANCE=new jo;const rr=[""];function el(Dt){if(Dt>=rr.length)for(let e=1;e<=Dt;e++)rr[e]=tl(e);return rr[Dt]}function tl(Dt){return new Array(Dt+1).join(" ")}var uo=s(90310);class Bl{constructor(e,o,f,A,U,de,Se,He,Qe){this._editorId=e,this.model=o,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=f,this._monospaceLineBreaksComputerFactory=A,this.fontInfo=U,this.tabSize=de,this.wrappingStrategy=Se,this.wrappingColumn=He,this.wrappingIndent=Qe,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new ho(this)}_constructLines(e,o){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const f=this.model.getLinesContent(),A=this.model.getInjectedTextDecorations(this._editorId),U=f.length,de=this.createLineBreaksComputer(),Se=new m.H9(Ws.gk.fromDecorations(A));for(let gi=0;gi<U;gi++){const vi=Se.takeWhile(Li=>Li.lineNumber===gi+1);de.addRequest(f[gi],vi,o?o[gi]:null)}const He=de.finalize(),Qe=[],st=this.hiddenAreasDecorationIds.map(gi=>this.model.getDecorationRange(gi)).sort(Ze.e.compareRangesUsingStarts);let mt=1,Pt=0,At=-1,ti=At+1<st.length?Pt+1:U+2;for(let gi=0;gi<U;gi++){const vi=gi+1;vi===ti&&(At++,mt=st[At].startLineNumber,Pt=st[At].endLineNumber,ti=At+1<st.length?Pt+1:U+2);const Li=vi>=mt&&vi<=Pt,Wi=co(He[gi],!Li);Qe[gi]=Wi.getViewLineCount(),this.modelLineProjections[gi]=Wi}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new uo.Ck(Qe)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const o=e.map(Pt=>this.model.validateRange(Pt)),f=ya(o),A=this.hiddenAreasDecorationIds.map(Pt=>this.model.getDecorationRange(Pt)).sort(Ze.e.compareRangesUsingStarts);if(f.length===A.length){let Pt=!1;for(let At=0;At<f.length;At++)if(!f[At].equalsRange(A[At])){Pt=!0;break}if(!Pt)return!1}const U=f.map(Pt=>({range:Pt,options:ps.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,U);const de=f;let Se=1,He=0,Qe=-1,st=Qe+1<de.length?He+1:this.modelLineProjections.length+2,mt=!1;for(let Pt=0;Pt<this.modelLineProjections.length;Pt++){const At=Pt+1;At===st&&(Qe++,Se=de[Qe].startLineNumber,He=de[Qe].endLineNumber,st=Qe+1<de.length?He+1:this.modelLineProjections.length+2);let ti=!1;if(At>=Se&&At<=He?this.modelLineProjections[Pt].isVisible()&&(this.modelLineProjections[Pt]=this.modelLineProjections[Pt].setVisible(!1),ti=!0):(mt=!0,this.modelLineProjections[Pt].isVisible()||(this.modelLineProjections[Pt]=this.modelLineProjections[Pt].setVisible(!0),ti=!0)),ti){const gi=this.modelLineProjections[Pt].getViewLineCount();this.projectedModelLineLineCounts.setValue(Pt,gi)}}return mt||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,o){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,o,f,A){const U=this.fontInfo.equals(e),de=this.wrappingStrategy===o,Se=this.wrappingColumn===f,He=this.wrappingIndent===A;if(U&&de&&Se&&He)return!1;const Qe=U&&de&&!Se&&He;this.fontInfo=e,this.wrappingStrategy=o,this.wrappingColumn=f,this.wrappingIndent=A;let st=null;if(Qe){st=[];for(let mt=0,Pt=this.modelLineProjections.length;mt<Pt;mt++)st[mt]=this.modelLineProjections[mt].getProjectionData()}return this._constructLines(!1,st),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,o,f){if(!e||e<=this._validModelVersionId)return null;const A=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,U=this.projectedModelLineLineCounts.getPrefixSum(f);return this.modelLineProjections.splice(o-1,f-o+1),this.projectedModelLineLineCounts.removeValues(o-1,f-o+1),new nr(A,U)}onModelLinesInserted(e,o,f,A){if(!e||e<=this._validModelVersionId)return null;const U=o>2&&!this.modelLineProjections[o-2].isVisible(),de=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1;let Se=0;const He=[],Qe=[];for(let st=0,mt=A.length;st<mt;st++){const Pt=co(A[st],!U);He.push(Pt);const At=Pt.getViewLineCount();Se+=At,Qe[st]=At}return this.modelLineProjections=this.modelLineProjections.slice(0,o-1).concat(He).concat(this.modelLineProjections.slice(o-1)),this.projectedModelLineLineCounts.insertValues(o-1,Qe),new Ho(de,de+Se-1)}onModelLineChanged(e,o,f){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const A=o-1,U=this.modelLineProjections[A].getViewLineCount(),de=this.modelLineProjections[A].isVisible(),Se=co(f,de);this.modelLineProjections[A]=Se;const He=this.modelLineProjections[A].getViewLineCount();let Qe=!1,st=0,mt=-1,Pt=0,At=-1,ti=0,gi=-1;U>He?(st=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,mt=st+He-1,ti=mt+1,gi=ti+(U-He)-1,Qe=!0):U<He?(st=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,mt=st+U-1,Pt=mt+1,At=Pt+(He-U)-1,Qe=!0):(st=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,mt=st+He-1),this.projectedModelLineLineCounts.setValue(A,He);const vi=st<=mt?new zs(st,mt-st+1):null,Li=Pt<=At?new Ho(Pt,At):null,Wi=ti<=gi?new nr(ti,gi):null;return[Qe,vi,Li,Wi]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const o=this.getViewLineCount();return e>o?o:e|0}getActiveIndentGuide(e,o,f){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o),f=this._toValidViewLineNumber(f);const A=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),U=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),de=this.convertViewPositionToModelPosition(f,this.getViewLineMinColumn(f)),Se=this.model.guides.getActiveIndentGuide(A.lineNumber,U.lineNumber,de.lineNumber),He=this.convertModelPositionToViewPosition(Se.startLineNumber,1),Qe=this.convertModelPositionToViewPosition(Se.endLineNumber,this.model.getLineMaxColumn(Se.endLineNumber));return{startLineNumber:He.lineNumber,endLineNumber:Qe.lineNumber,indent:Se.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const o=this.projectedModelLineLineCounts.getIndexOf(e-1),f=o.index,A=o.remainder;return new La(f+1,A)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const o=this.modelLineProjections[e.modelLineNumber-1],f=o.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),A=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,f);return new Be.L(e.modelLineNumber,A)}getModelEndPositionOfViewLine(e){const o=this.modelLineProjections[e.modelLineNumber-1],f=o.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),A=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,f);return new Be.L(e.modelLineNumber,A)}getViewLineInfosGroupedByModelRanges(e,o){const f=this.getViewLineInfo(e),A=this.getViewLineInfo(o),U=new Array;let de=this.getModelStartPositionOfViewLine(f),Se=new Array;for(let He=f.modelLineNumber;He<=A.modelLineNumber;He++){const Qe=this.modelLineProjections[He-1];if(Qe.isVisible()){const st=He===f.modelLineNumber?f.modelLineWrappedLineIdx:0,mt=He===A.modelLineNumber?A.modelLineWrappedLineIdx+1:Qe.getViewLineCount();for(let Pt=st;Pt<mt;Pt++)Se.push(new La(He,Pt))}if(!Qe.isVisible()&&de){const st=new Be.L(He-1,this.model.getLineMaxColumn(He-1)+1),mt=Ze.e.fromPositions(de,st);U.push(new Nr(mt,Se)),Se=[],de=null}else Qe.isVisible()&&!de&&(de=new Be.L(He,1))}if(de){const He=Ze.e.fromPositions(de,this.getModelEndPositionOfViewLine(A));U.push(new Nr(He,Se))}return U}getViewLinesBracketGuides(e,o,f,A){const U=f?this.convertViewPositionToModelPosition(f.lineNumber,f.column):null,de=[];for(const Se of this.getViewLineInfosGroupedByModelRanges(e,o)){const He=Se.modelRange.startLineNumber,Qe=this.model.guides.getLinesBracketGuides(He,Se.modelRange.endLineNumber,U,A);for(const st of Se.viewLines){const Pt=Qe[st.modelLineNumber-He].map(At=>{if(At.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[st.modelLineNumber-1].getViewPositionOfModelPosition(0,At.forWrappedLinesAfterColumn).lineNumber>=st.modelLineWrappedLineIdx||At.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[st.modelLineNumber-1].getViewPositionOfModelPosition(0,At.forWrappedLinesBeforeOrAtColumn).lineNumber<st.modelLineWrappedLineIdx)return;if(!At.horizontalLine)return At;let ti=-1;if(At.column!==-1){const Li=this.modelLineProjections[st.modelLineNumber-1].getViewPositionOfModelPosition(0,At.column);if(Li.lineNumber===st.modelLineWrappedLineIdx)ti=Li.column;else if(Li.lineNumber<st.modelLineWrappedLineIdx)ti=this.getMinColumnOfViewLine(st);else if(Li.lineNumber>st.modelLineWrappedLineIdx)return}const gi=this.convertModelPositionToViewPosition(st.modelLineNumber,At.horizontalLine.endColumn),vi=this.modelLineProjections[st.modelLineNumber-1].getViewPositionOfModelPosition(0,At.horizontalLine.endColumn);return vi.lineNumber===st.modelLineWrappedLineIdx?new an.UO(At.visibleColumn,ti,At.className,new an.vW(At.horizontalLine.top,gi.column),-1,-1):vi.lineNumber<st.modelLineWrappedLineIdx||At.visibleColumn!==-1?void 0:new an.UO(At.visibleColumn,ti,At.className,new an.vW(At.horizontalLine.top,this.getMaxColumnOfViewLine(st)),-1,-1)});de.push(Pt.filter(At=>!!At))}}return de}getViewLinesIndentGuides(e,o){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const f=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),A=this.convertViewPositionToModelPosition(o,this.getViewLineMaxColumn(o));let U=[];const de=[],Se=[],He=f.lineNumber-1,Qe=A.lineNumber-1;let st=null;for(let ti=He;ti<=Qe;ti++){const gi=this.modelLineProjections[ti];if(gi.isVisible()){const vi=gi.getViewLineNumberOfModelPosition(0,ti===He?f.column:1),Li=gi.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(ti+1)),Wi=Li-vi+1;let Mi=0;Wi>1&&gi.getViewLineMinColumn(this.model,ti+1,Li)===1&&(Mi=vi===0?1:2),de.push(Wi),Se.push(Mi),st===null&&(st=new Be.L(ti+1,0))}else st!==null&&(U=U.concat(this.model.guides.getLinesIndentGuides(st.lineNumber,ti)),st=null)}st!==null&&(U=U.concat(this.model.guides.getLinesIndentGuides(st.lineNumber,A.lineNumber)),st=null);const mt=o-e+1,Pt=new Array(mt);let At=0;for(let ti=0,gi=U.length;ti<gi;ti++){let vi=U[ti];const Li=Math.min(mt-At,de[ti]),Wi=Se[ti];let Mi;Wi===2?Mi=0:Wi===1?Mi=1:Mi=Li;for(let on=0;on<Li;on++)on===Mi&&(vi=0),Pt[At++]=vi}return Pt}getViewLineContent(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineContent(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineLength(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineLength(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineData(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineData(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLinesData(e,o,f){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const A=this.projectedModelLineLineCounts.getIndexOf(e-1);let U=e;const de=A.index,Se=A.remainder,He=[];for(let Qe=de,st=this.model.getLineCount();Qe<st;Qe++){const mt=this.modelLineProjections[Qe];if(!mt.isVisible())continue;const Pt=Qe===de?Se:0;let At=mt.getViewLineCount()-Pt,ti=!1;if(U+At>o&&(ti=!0,At=o-U+1),mt.getViewLinesData(this.model,Qe+1,Pt,At,U-e,f,He),U+=At,ti)break}return He}validateViewPosition(e,o,f){e=this._toValidViewLineNumber(e);const A=this.projectedModelLineLineCounts.getIndexOf(e-1),U=A.index,de=A.remainder,Se=this.modelLineProjections[U],He=Se.getViewLineMinColumn(this.model,U+1,de),Qe=Se.getViewLineMaxColumn(this.model,U+1,de);o<He&&(o=He),o>Qe&&(o=Qe);const st=Se.getModelColumnOfViewPosition(de,o);return this.model.validatePosition(new Be.L(U+1,st)).equals(f)?new Be.L(e,o):this.convertModelPositionToViewPosition(f.lineNumber,f.column)}validateViewRange(e,o){const f=this.validateViewPosition(e.startLineNumber,e.startColumn,o.getStartPosition()),A=this.validateViewPosition(e.endLineNumber,e.endColumn,o.getEndPosition());return new Ze.e(f.lineNumber,f.column,A.lineNumber,A.column)}convertViewPositionToModelPosition(e,o){const f=this.getViewLineInfo(e),A=this.modelLineProjections[f.modelLineNumber-1].getModelColumnOfViewPosition(f.modelLineWrappedLineIdx,o);return this.model.validatePosition(new Be.L(f.modelLineNumber,A))}convertViewRangeToModelRange(e){const o=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),f=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Ze.e(o.lineNumber,o.column,f.lineNumber,f.column)}convertModelPositionToViewPosition(e,o,f=2){const A=this.model.validatePosition(new Be.L(e,o)),U=A.lineNumber,de=A.column;let Se=U-1,He=!1;for(;Se>0&&!this.modelLineProjections[Se].isVisible();)Se--,He=!0;if(Se===0&&!this.modelLineProjections[Se].isVisible())return new Be.L(1,1);const Qe=1+this.projectedModelLineLineCounts.getPrefixSum(Se);let st;return He?st=this.modelLineProjections[Se].getViewPositionOfModelPosition(Qe,this.model.getLineMaxColumn(Se+1),f):st=this.modelLineProjections[U-1].getViewPositionOfModelPosition(Qe,de,f),st}convertModelRangeToViewRange(e,o=0){if(e.isEmpty()){const f=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,o);return Ze.e.fromPositions(f)}else{const f=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),A=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Ze.e(f.lineNumber,f.column,A.lineNumber,A.column)}}getViewLineNumberOfModelPosition(e,o){let f=e-1;if(this.modelLineProjections[f].isVisible()){const U=1+this.projectedModelLineLineCounts.getPrefixSum(f);return this.modelLineProjections[f].getViewLineNumberOfModelPosition(U,o)}for(;f>0&&!this.modelLineProjections[f].isVisible();)f--;if(f===0&&!this.modelLineProjections[f].isVisible())return 1;const A=1+this.projectedModelLineLineCounts.getPrefixSum(f);return this.modelLineProjections[f].getViewLineNumberOfModelPosition(A,this.model.getLineMaxColumn(f+1))}getDecorationsInRange(e,o,f){const A=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),U=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(U.lineNumber-A.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Ze.e(A.lineNumber,1,U.lineNumber,U.column),o,f);let de=[];const Se=A.lineNumber-1,He=U.lineNumber-1;let Qe=null;for(let At=Se;At<=He;At++)if(this.modelLineProjections[At].isVisible())Qe===null&&(Qe=new Be.L(At+1,At===Se?A.column:1));else if(Qe!==null){const gi=this.model.getLineMaxColumn(At);de=de.concat(this.model.getDecorationsInRange(new Ze.e(Qe.lineNumber,Qe.column,At,gi),o,f)),Qe=null}Qe!==null&&(de=de.concat(this.model.getDecorationsInRange(new Ze.e(Qe.lineNumber,Qe.column,U.lineNumber,U.column),o,f)),Qe=null),de.sort((At,ti)=>{const gi=Ze.e.compareRangesUsingStarts(At.range,ti.range);return gi===0?At.id<ti.id?-1:At.id>ti.id?1:0:gi});const st=[];let mt=0,Pt=null;for(const At of de){const ti=At.id;Pt!==ti&&(Pt=ti,st[mt++]=At)}return st}getInjectedTextAt(e){const o=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[o.modelLineNumber-1].getInjectedTextAt(o.modelLineWrappedLineIdx,e.column)}normalizePosition(e,o){const f=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[f.modelLineNumber-1].normalizePosition(f.modelLineWrappedLineIdx,e,o)}getLineIndentColumn(e){const o=this.getViewLineInfo(e);return o.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(o.modelLineNumber):0}}function ya(Dt){if(Dt.length===0)return[];const e=Dt.slice();e.sort(Ze.e.compareRangesUsingStarts);const o=[];let f=e[0].startLineNumber,A=e[0].endLineNumber;for(let U=1,de=e.length;U<de;U++){const Se=e[U];Se.startLineNumber>A+1?(o.push(new Ze.e(f,1,A,1)),f=Se.startLineNumber,A=Se.endLineNumber):Se.endLineNumber>A&&(A=Se.endLineNumber)}return o.push(new Ze.e(f,1,A,1)),o}class La{constructor(e,o){this.modelLineNumber=e,this.modelLineWrappedLineIdx=o}}class Nr{constructor(e,o){this.modelRange=e,this.viewLines=o}}class ho{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,o){return this._lines.validateViewPosition(e.lineNumber,e.column,o)}validateViewRange(e,o){return this._lines.validateViewRange(e,o)}convertModelPositionToViewPosition(e,o){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,o)}convertModelRangeToViewRange(e,o){return this._lines.convertModelRangeToViewRange(e,o)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,o){return this._lines.getViewLineNumberOfModelPosition(e,o)}}class ta{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new il(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,o,f,A){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(o,f,A)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,o,f){return new nr(o,f)}onModelLinesInserted(e,o,f,A){return new Ho(o,f)}onModelLineChanged(e,o,f){return[!1,new zs(o,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,o,f){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,o,f){return new Array(o-e+1).fill([])}getViewLinesIndentGuides(e,o){const f=o-e+1,A=new Array(f);for(let U=0;U<f;U++)A[U]=0;return A}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const o=this.model.tokenization.getLineTokens(e),f=o.getLineContent();return new Kn.IP(f,!1,1,f.length+1,0,o.inflate(),null)}getViewLinesData(e,o,f){const A=this.model.getLineCount();e=Math.min(Math.max(1,e),A),o=Math.min(Math.max(1,o),A);const U=[];for(let de=e;de<=o;de++){const Se=de-e;U[Se]=f[Se]?this.getViewLineData(de):null}return U}getDecorationsInRange(e,o,f){return this.model.getDecorationsInRange(e,o,f)}normalizePosition(e,o){return this.model.normalizePosition(e,o)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class il{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,o){return this._validPosition(o)}validateViewRange(e,o){return this._validRange(o)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const o=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>o)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,o){return e}}const Wl=!0;class Tr extends y.JT{constructor(e,o,f,A,U,de,Se,He){if(super(),this.languageConfigurationService=Se,this._themeService=He,this._editorId=e,this._configuration=o,this.model=f,this._eventDispatcher=new Co,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new jn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new Ne.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new Ne.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=Ko.create(this.model),Wl&&this.model.isTooLargeForTokenization())this._lines=new ta(this.model);else{const Qe=this._configuration.options,st=Qe.get(46),mt=Qe.get(127),Pt=Qe.get(134),At=Qe.get(126);this._lines=new Bl(this._editorId,this.model,A,U,st,this.model.getOptions().tabSize,mt,Pt.wrappingColumn,At)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new So(f,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new qa(this._configuration,this.getLineCount(),de)),this._register(this.viewLayout.onDidScroll(Qe=>{Qe.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),Qe.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new io(Qe)),this._eventDispatcher.emitOutgoingEvent(new Us(Qe.oldScrollWidth,Qe.oldScrollLeft,Qe.oldScrollHeight,Qe.oldScrollTop,Qe.scrollWidth,Qe.scrollLeft,Qe.scrollHeight,Qe.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Qe=>{this._eventDispatcher.emitOutgoingEvent(Qe)})),this._decorations=new xr.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Qe=>{try{const st=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(st,Qe)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(vn.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new wr)})),this._register(this._themeService.onDidColorThemeChange(Qe=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Zs(Qe))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),o=new Ze.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),f=this._toModelVisibleRanges(o);for(const A of f)this.model.tokenization.tokenizeViewport(A.startLineNumber,A.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new Vs(e)),this._eventDispatcher.emitOutgoingEvent(new yr(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new lo)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Do)}_onConfigurationChanged(e,o){let f=null;if(this._viewportStart.isValid){const st=new Be.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));f=this.coordinatesConverter.convertViewPositionToModelPosition(st)}let A=!1;const U=this._configuration.options,de=U.get(46),Se=U.get(127),He=U.get(134),Qe=U.get(126);if(this._lines.setWrappingSettings(de,Se,He.wrappingColumn,Qe)&&(e.emitViewEvent(new Wo),e.emitViewEvent(new Vo),e.emitViewEvent(new to(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(A=!0),this._updateConfigurationViewLineCount.schedule()),o.hasChanged(83)&&(this._decorations.reset(),e.emitViewEvent(new to(null))),e.emitViewEvent(new Eo(o)),this.viewLayout.onConfigurationChanged(o),A&&f){const st=this.coordinatesConverter.convertModelPositionToViewPosition(f),mt=this.viewLayout.getVerticalOffsetForLineNumber(st.lineNumber);this.viewLayout.setScrollPosition({scrollTop:mt+this._viewportStart.startLineDelta},1)}jn.LM.shouldRecreate(o)&&(this.cursorConfig=new jn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const f=this._eventDispatcher.beginEmitViewEvents();let A=!1,U=!1;const de=e instanceof Ws.fV?e.rawContentChangedEvent.changes:e.changes,Se=e instanceof Ws.fV?e.rawContentChangedEvent.versionId:null,He=this._lines.createLineBreaksComputer();for(const mt of de)switch(mt.changeType){case 4:{for(let Pt=0;Pt<mt.detail.length;Pt++){const At=mt.detail[Pt];let ti=mt.injectedTexts[Pt];ti&&(ti=ti.filter(gi=>!gi.ownerId||gi.ownerId===this._editorId)),He.addRequest(At,ti,null)}break}case 2:{let Pt=null;mt.injectedText&&(Pt=mt.injectedText.filter(At=>!At.ownerId||At.ownerId===this._editorId)),He.addRequest(mt.detail,Pt,null);break}}const Qe=He.finalize(),st=new m.H9(Qe);for(const mt of de)switch(mt.changeType){case 1:{this._lines.onModelFlushed(),f.emitViewEvent(new Wo),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),A=!0;break}case 3:{const Pt=this._lines.onModelLinesDeleted(Se,mt.fromLineNumber,mt.toLineNumber);Pt!==null&&(f.emitViewEvent(Pt),this.viewLayout.onLinesDeleted(Pt.fromLineNumber,Pt.toLineNumber)),A=!0;break}case 4:{const Pt=st.takeCount(mt.detail.length),At=this._lines.onModelLinesInserted(Se,mt.fromLineNumber,mt.toLineNumber,Pt);At!==null&&(f.emitViewEvent(At),this.viewLayout.onLinesInserted(At.fromLineNumber,At.toLineNumber)),A=!0;break}case 2:{const Pt=st.dequeue(),[At,ti,gi,vi]=this._lines.onModelLineChanged(Se,mt.lineNumber,Pt);U=At,ti&&f.emitViewEvent(ti),gi&&(f.emitViewEvent(gi),this.viewLayout.onLinesInserted(gi.fromLineNumber,gi.toLineNumber)),vi&&(f.emitViewEvent(vi),this.viewLayout.onLinesDeleted(vi.fromLineNumber,vi.toLineNumber));break}case 5:break}Se!==null&&this._lines.acceptVersionId(Se),this.viewLayout.onHeightMaybeChanged(),!A&&U&&(f.emitViewEvent(new Vo),f.emitViewEvent(new to(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const o=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&o){const f=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(f){const A=this.coordinatesConverter.convertModelPositionToViewPosition(f.getStartPosition()),U=this.viewLayout.getVerticalOffsetForLineNumber(A.lineNumber);this.viewLayout.setScrollPosition({scrollTop:U+this._viewportStart.startLineDelta},1)}}try{const f=this._eventDispatcher.beginEmitViewEvents();e instanceof Ws.fV&&f.emitOutgoingEvent(new hn(e.contentChangedEvent)),this._cursor.onModelContentChanged(f,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(e=>{const o=[];for(let f=0,A=e.ranges.length;f<A;f++){const U=e.ranges[f],de=this.coordinatesConverter.convertModelPositionToViewPosition(new Be.L(U.fromLineNumber,1)).lineNumber,Se=this.coordinatesConverter.convertModelPositionToViewPosition(new Be.L(U.toLineNumber,this.model.getLineMaxColumn(U.toLineNumber))).lineNumber;o[f]={fromLineNumber:de,toLineNumber:Se}}this._eventDispatcher.emitSingleViewEvent(new Sr(o)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new wa(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new Hs),this.cursorConfig=new jn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Rs(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new jn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new $s(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const o=this._eventDispatcher.beginEmitViewEvents();o.emitViewEvent(new Wo),o.emitViewEvent(new Vo),o.emitViewEvent(new to(null)),this._cursor.onLineMappingChanged(o),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new jn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new bo(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new to(e)),this._eventDispatcher.emitOutgoingEvent(new Lr(e))}))}setHiddenAreas(e){let o=!1;try{const f=this._eventDispatcher.beginEmitViewEvents();o=this._lines.setHiddenAreas(e),o&&(f.emitViewEvent(new Wo),f.emitViewEvent(new Vo),f.emitViewEvent(new to(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),o&&this._eventDispatcher.emitOutgoingEvent(new Io)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(133),o=this._configuration.options.get(61),f=Math.max(20,Math.round(e.height/o)),A=this.viewLayout.getLinesViewportData(),U=Math.max(1,A.completelyVisibleStartLineNumber-f),de=Math.min(this.getLineCount(),A.completelyVisibleEndLineNumber+f);return this._toModelVisibleRanges(new Ze.e(U,this.getLineMinColumn(U),de,this.getLineMaxColumn(de)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const o=this.coordinatesConverter.convertViewRangeToModelRange(e),f=this._lines.getHiddenAreas();if(f.length===0)return[o];const A=[];let U=0,de=o.startLineNumber,Se=o.startColumn;const He=o.endLineNumber,Qe=o.endColumn;for(let st=0,mt=f.length;st<mt;st++){const Pt=f[st].startLineNumber,At=f[st].endLineNumber;At<de||Pt>He||(de<Pt&&(A[U++]=new Ze.e(de,Se,Pt-1,this.model.getLineMaxColumn(Pt-1))),de=At+1,Se=1)}return(de<He||de===He&&Se<Qe)&&(A[U++]=new Ze.e(de,Se,He,Qe)),A}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),o=e.completelyVisibleStartLineNumber,f=e.completelyVisibleEndLineNumber;return new Ze.e(o,this.getLineMinColumn(o),f,this.getLineMaxColumn(f))}getCompletelyVisibleViewRangeAtScrollTop(e){const o=this.viewLayout.getLinesViewportDataAtScrollTop(e),f=o.completelyVisibleStartLineNumber,A=o.completelyVisibleEndLineNumber;return new Ze.e(f,this.getLineMinColumn(f),A,this.getLineMaxColumn(A))}saveState(){const e=this.viewLayout.saveState(),o=e.scrollTop,f=this.viewLayout.getLineNumberAtVerticalOffset(o),A=this.coordinatesConverter.convertViewPositionToModelPosition(new Be.L(f,this.getLineMinColumn(f))),U=this.viewLayout.getVerticalOffsetForLineNumber(f)-o;return{scrollLeft:e.scrollLeft,firstPosition:A,firstPositionDeltaTop:U}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);const o=this.model.validatePosition(e.firstPosition),f=this.coordinatesConverter.convertModelPositionToViewPosition(o),A=this.viewLayout.getVerticalOffsetForLineNumber(f.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:A}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,o,f){this._viewportStart.update(this,e)}getActiveIndentGuide(e,o,f){return this._lines.getActiveIndentGuide(e,o,f)}getLinesIndentGuides(e,o){return this._lines.getViewLinesIndentGuides(e,o)}getBracketGuidesInRangeByLine(e,o,f,A){return this._lines.getViewLinesBracketGuides(e,o,f,A)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const o=he.LC(this.getLineContent(e));return o===-1?0:o+1}getLineLastNonWhitespaceColumn(e){const o=he.ow(this.getLineContent(e));return o===-1?0:o+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,o){const A=this._decorations.getDecorationsViewportData(e).inlineDecorations[o-e.startLineNumber];return this._getViewLineRenderingData(o,A)}getViewLineRenderingData(e){const o=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,o)}_getViewLineRenderingData(e,o){const f=this.model.mightContainRTL(),A=this.model.mightContainNonBasicASCII(),U=this.getTabSize(),de=this._lines.getViewLineData(e);return de.inlineDecorations&&(o=[...o,...de.inlineDecorations.map(Se=>Se.toInlineDecoration(e))]),new Kn.wA(de.minColumn,de.maxColumn,de.content,de.continuesWithWrappedLine,f,A,de.tokens,o,U,de.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,o,f){const A=this._lines.getViewLinesData(e,o,f);return new Kn.ud(this.getTabSize(),A)}getAllOverviewRulerDecorations(e){const o=this.model.getOverviewRulerDecorations(this._editorId,(0,V.$J)(this._configuration.options)),f=new xo;for(const A of o){const U=A.options,de=U.overviewRuler;if(!de)continue;const Se=de.position;if(Se===0)continue;const He=de.getColor(e.value),Qe=this.coordinatesConverter.getViewLineNumberOfModelPosition(A.range.startLineNumber,A.range.startColumn),st=this.coordinatesConverter.getViewLineNumberOfModelPosition(A.range.endLineNumber,A.range.endColumn);f.accept(He,U.zIndex,Qe,st,Se)}return f.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const o of e){const f=o.options.overviewRuler;f&&f.invalidateCachedColor();const A=o.options.minimap;A&&A.invalidateCachedColor()}}getValueInRange(e,o){const f=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(f,o)}deduceModelPositionRelativeToViewPosition(e,o,f){const A=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(o<0?o-=f:o+=f);const de=this.model.getOffsetAt(A)+o;return this.model.getPositionAt(de)}getPlainTextToCopy(e,o,f){const A=f?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(Ze.e.compareRangesUsingStarts);let U=!1,de=!1;for(const He of e)He.isEmpty()?U=!0:de=!0;if(!de){if(!o)return"";const He=e.map(st=>st.startLineNumber);let Qe="";for(let st=0;st<He.length;st++)st>0&&He[st-1]===He[st]||(Qe+=this.model.getLineContent(He[st])+A);return Qe}if(U&&o){const He=[];let Qe=0;for(const st of e){const mt=st.startLineNumber;st.isEmpty()?mt!==Qe&&He.push(this.model.getLineContent(mt)):He.push(this.model.getValueInRange(st,f?2:0)),Qe=mt}return He.length===1?He[0]:He}const Se=[];for(const He of e)He.isEmpty()||Se.push(this.model.getValueInRange(He,f?2:0));return Se.length===1?Se[0]:Se}getRichTextToCopy(e,o){const f=this.model.getLanguageId();if(f===Is.bd||e.length!==1)return null;let A=e[0];if(A.isEmpty()){if(!o)return null;const st=A.startLineNumber;A=new Ze.e(st,this.model.getLineMinColumn(st),st,this.model.getLineMaxColumn(st))}const U=this._configuration.options.get(46),de=this._getColorMap(),He=/[:;\\\/<>]/.test(U.fontFamily)||U.fontFamily===V.hL.fontFamily;let Qe;return He?Qe=V.hL.fontFamily:(Qe=U.fontFamily,Qe=Qe.replace(/"/g,"'"),/[,']/.test(Qe)||/[+ ]/.test(Qe)&&(Qe=`'${Qe}'`),Qe=`${Qe}, ${V.hL.fontFamily}`),{mode:f,html:`<div style="color: ${de[1]};background-color: ${de[2]};font-family: ${Qe};font-weight: ${U.fontWeight};font-size: ${U.fontSize}px;line-height: ${U.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(A,de)+"</div>"}}_getHTMLToCopy(e,o){const f=e.startLineNumber,A=e.startColumn,U=e.endLineNumber,de=e.endColumn,Se=this.getTabSize();let He="";for(let Qe=f;Qe<=U;Qe++){const st=this.model.tokenization.getLineTokens(Qe),mt=st.getLineContent(),Pt=Qe===f?A-1:0,At=Qe===U?de-1:mt.length;mt===""?He+="<br>":He+=(0,Gs.Fq)(mt,st.inflate(),o,Pt,At,Se,d.ED)}return He}_getColorMap(){const e=Qt.RW.getColorMap(),o=["#000000"];if(e)for(let f=1,A=e.length;f<A;f++)o[f]=ci.Il.Format.CSS.formatHex(e[f]);return o}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,o,f){return this._withViewEventsCollector(A=>this._cursor.setStates(A,e,o,f))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,o,f=0){this._withViewEventsCollector(A=>this._cursor.setSelections(A,e,o,f))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(o=>this._cursor.restoreState(o,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new Ja);return}this._withViewEventsCollector(e)}executeEdits(e,o,f){this._executeCursorEdit(A=>this._cursor.executeEdits(A,e,o,f))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(o=>this._cursor.endComposition(o,e))}type(e,o){this._executeCursorEdit(f=>this._cursor.type(f,e,o))}compositionType(e,o,f,A,U){this._executeCursorEdit(de=>this._cursor.compositionType(de,e,o,f,A,U))}paste(e,o,f,A){this._executeCursorEdit(U=>this._cursor.paste(U,e,o,f,A))}cut(e){this._executeCursorEdit(o=>this._cursor.cut(o,e))}executeCommand(e,o){this._executeCursorEdit(f=>this._cursor.executeCommand(f,e,o))}executeCommands(e,o){this._executeCursorEdit(f=>this._cursor.executeCommands(f,e,o))}revealPrimaryCursor(e,o,f=!1){this._withViewEventsCollector(A=>this._cursor.revealPrimary(A,e,f,0,o,0))}revealTopMostCursor(e){const o=this._cursor.getTopMostViewPosition(),f=new Ze.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(A=>A.emitViewEvent(new Ts(e,!1,f,null,0,!0,0)))}revealBottomMostCursor(e){const o=this._cursor.getBottomMostViewPosition(),f=new Ze.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(A=>A.emitViewEvent(new Ts(e,!1,f,null,0,!0,0)))}revealRange(e,o,f,A,U){this._withViewEventsCollector(de=>de.emitViewEvent(new Ts(e,!1,f,null,A,o,U)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Ya),this._eventDispatcher.emitOutgoingEvent(new zo))}_withViewEventsCollector(e){try{const o=this._eventDispatcher.beginEmitViewEvents();return e(o)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,o){return this._lines.normalizePosition(e,o)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class Ko{constructor(e,o,f,A,U){this._model=e,this._viewLineNumber=o,this._isValid=f,this._modelTrackedRange=A,this._startLineDelta=U}static create(e){const o=e._setTrackedRange(null,new Ze.e(1,1,1,1),1);return new Ko(e,1,!1,o,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,o){const f=e.coordinatesConverter.convertViewPositionToModelPosition(new Be.L(o,e.getLineMinColumn(o))),A=e.model._setTrackedRange(this._modelTrackedRange,new Ze.e(f.lineNumber,f.column,f.lineNumber,f.column),1),U=e.viewLayout.getVerticalOffsetForLineNumber(o),de=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=o,this._isValid=!0,this._modelTrackedRange=A,this._startLineDelta=de-U}invalidate(){this._isValid=!1}}class xo{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,o,f,A,U){const de=this._asMap[e];if(de){const Se=de.data,He=Se[Se.length-3],Qe=Se[Se.length-1];if(He===U&&Qe+1>=f){A>Qe&&(Se[Se.length-1]=A);return}Se.push(U,f,A)}else{const Se=new Kn.SQ(e,o,[U,f,A]);this._asMap[e]=Se,this.asArray.push(Se)}}}var Da=s(94565),No=s(38819),js=s(72065),ar=s(60972),nl=s(59422),Ea=s(44906);class Mr{constructor(e,o,f,A,U){this.injectionOffsets=e,this.injectionOptions=o,this.breakOffsets=f,this.breakOffsetsVisibleColumn=A,this.wrappedTextIndentLength=U}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const o=e>0?this.breakOffsets[e-1]:0;let A=this.breakOffsets[e]-o;return e>0&&(A+=this.wrappedTextIndentLength),A}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,o){e>0&&(o=Math.max(0,o-this.wrappedTextIndentLength));let A=e===0?o:this.breakOffsets[e-1]+o;if(this.injectionOffsets!==null)for(let U=0;U<this.injectionOffsets.length&&A>this.injectionOffsets[U];U++)A<this.injectionOffsets[U]+this.injectionOptions[U].content.length?A=this.injectionOffsets[U]:A-=this.injectionOptions[U].content.length;return A}translateToOutputPosition(e,o=2){let f=e;if(this.injectionOffsets!==null)for(let A=0;A<this.injectionOffsets.length&&!(e<this.injectionOffsets[A]||o!==1&&e===this.injectionOffsets[A]);A++)f+=this.injectionOptions[A].content.length;return this.offsetInInputWithInjectionsToOutputPosition(f,o)}offsetInInputWithInjectionsToOutputPosition(e,o=2){let f=0,A=this.breakOffsets.length-1,U=0,de=0;for(;f<=A;){U=f+(A-f)/2|0;const He=this.breakOffsets[U];if(de=U>0?this.breakOffsets[U-1]:0,o===0)if(e<=de)A=U-1;else if(e>He)f=U+1;else break;else if(e<de)A=U-1;else if(e>=He)f=U+1;else break}let Se=e-de;return U>0&&(Se+=this.wrappedTextIndentLength),new lr(U,Se)}normalizeOutputPosition(e,o,f){if(this.injectionOffsets!==null){const A=this.outputPositionToOffsetInInputWithInjections(e,o),U=this.normalizeOffsetInInputWithInjectionsAroundInjections(A,f);if(U!==A)return this.offsetInInputWithInjectionsToOutputPosition(U,f)}if(f===0){if(e>0&&o===this.getMinOutputOffset(e))return new lr(e-1,this.getMaxOutputOffset(e-1))}else if(f===1){const A=this.getOutputLineCount()-1;if(e<A&&o===this.getMaxOutputOffset(e))return new lr(e+1,this.getMinOutputOffset(e+1))}return new lr(e,o)}outputPositionToOffsetInInputWithInjections(e,o){return e>0&&(o=Math.max(0,o-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+o}normalizeOffsetInInputWithInjectionsAroundInjections(e,o){const f=this.getInjectedTextAtOffset(e);if(!f)return e;if(o===2){if(e===f.offsetInInputWithInjections+f.length&&so(this.injectionOptions[f.injectedTextIndex].cursorStops))return f.offsetInInputWithInjections+f.length;{let A=f.offsetInInputWithInjections;if(To(this.injectionOptions[f.injectedTextIndex].cursorStops))return A;let U=f.injectedTextIndex-1;for(;U>=0&&this.injectionOffsets[U]===this.injectionOffsets[f.injectedTextIndex]&&!(so(this.injectionOptions[U].cursorStops)||(A-=this.injectionOptions[U].content.length,To(this.injectionOptions[U].cursorStops)));)U--;return A}}else if(o===1||o===4){let A=f.offsetInInputWithInjections+f.length,U=f.injectedTextIndex;for(;U+1<this.injectionOffsets.length&&this.injectionOffsets[U+1]===this.injectionOffsets[U];)A+=this.injectionOptions[U+1].content.length,U++;return A}else if(o===0||o===3){let A=f.offsetInInputWithInjections,U=f.injectedTextIndex;for(;U-1>=0&&this.injectionOffsets[U-1]===this.injectionOffsets[U];)A-=this.injectionOptions[U-1].content.length,U--;return A}(0,_i.vE)(o)}getInjectedText(e,o){const f=this.outputPositionToOffsetInInputWithInjections(e,o),A=this.getInjectedTextAtOffset(f);return A?{options:this.injectionOptions[A.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const o=this.injectionOffsets,f=this.injectionOptions;if(o!==null){let A=0;for(let U=0;U<o.length;U++){const de=f[U].content.length,Se=o[U]+A,He=o[U]+A+de;if(Se>e)break;if(e<=He)return{injectedTextIndex:U,offsetInInputWithInjections:Se,length:de};A+=de}}}}function so(Dt){return Dt==null?!0:Dt===k.RM.Right||Dt===k.RM.Both}function To(Dt){return Dt==null?!0:Dt===k.RM.Left||Dt===k.RM.Both}class fo{constructor(e){this.options=e}}class lr{constructor(e,o){this.outputLineIndex=e,this.outputOffset=o}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new Be.L(e+this.outputLineIndex,this.outputOffset+1)}}class kr{constructor(e,o){this.classifier=new $o(e,o)}static create(e){return new kr(e.get(122),e.get(121))}createLineBreaksComputer(e,o,f,A){const U=[],de=[],Se=[];return{addRequest:(He,Qe,st)=>{U.push(He),de.push(Qe),Se.push(st)},finalize:()=>{const He=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,Qe=[];for(let st=0,mt=U.length;st<mt;st++){const Pt=de[st],At=Se[st];At&&!At.injectionOptions&&!Pt?Qe[st]=sl(this.classifier,At,U[st],o,f,He,A):Qe[st]=ia(this.classifier,U[st],Pt,o,f,He,A)}return Mo.length=0,Rr.length=0,Qe}}}}class $o extends Ea.N{constructor(e,o){super(0);for(let f=0;f<e.length;f++)this.set(e.charCodeAt(f),1);for(let f=0;f<o.length;f++)this.set(o.charCodeAt(f),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let Mo=[],Rr=[];function sl(Dt,e,o,f,A,U,de){if(A===-1)return null;const Se=o.length;if(Se<=1)return null;const He=e.breakOffsets,Qe=e.breakOffsetsVisibleColumn,st=na(o,f,A,U,de),mt=A-st,Pt=Mo,At=Rr;let ti=0,gi=0,vi=0,Li=A;const Wi=He.length;let Mi=0;if(Mi>=0){let on=Math.abs(Qe[Mi]-Li);for(;Mi+1<Wi;){const qi=Math.abs(Qe[Mi+1]-Li);if(qi>=on)break;on=qi,Mi++}}for(;Mi<Wi;){let on=Mi<0?0:He[Mi],qi=Mi<0?0:Qe[Mi];gi>on&&(on=gi,qi=vi);let un=0,fn=0,tn=0,wn=0;if(qi<=Li){let pn=qi,as=on===0?0:o.charCodeAt(on-1),Yn=on===0?0:Dt.get(as),gs=!0;for(let Ln=on;Ln<Se;Ln++){const bs=Ln,Ss=o.charCodeAt(Ln);let _s,As;if(he.ZG(Ss)?(Ln++,_s=0,As=2):(_s=Dt.get(Ss),As=Ar(Ss,pn,f,U)),bs>gi&&oo(as,Yn,Ss,_s)&&(un=bs,fn=pn),pn+=As,pn>Li){bs>gi?(tn=bs,wn=pn-As):(tn=Ln+1,wn=pn),pn-fn>mt&&(un=0),gs=!1;break}as=Ss,Yn=_s}if(gs){ti>0&&(Pt[ti]=He[He.length-1],At[ti]=Qe[He.length-1],ti++);break}}if(un===0){let pn=qi,as=o.charCodeAt(on),Yn=Dt.get(as),gs=!1;for(let Ln=on-1;Ln>=gi;Ln--){const bs=Ln+1,Ss=o.charCodeAt(Ln);if(Ss===9){gs=!0;break}let _s,As;if(he.YK(Ss)?(Ln--,_s=0,As=2):(_s=Dt.get(Ss),As=he.K7(Ss)?U:1),pn<=Li){if(tn===0&&(tn=bs,wn=pn),pn<=Li-mt)break;if(oo(Ss,_s,as,Yn)){un=bs,fn=pn;break}}pn-=As,as=Ss,Yn=_s}if(un!==0){const Ln=mt-(wn-fn);if(Ln<=f){const bs=o.charCodeAt(tn);let Ss;he.ZG(bs)?Ss=2:Ss=Ar(bs,wn,f,U),Ln-Ss<0&&(un=0)}}if(gs){Mi--;continue}}if(un===0&&(un=tn,fn=wn),un<=gi){const pn=o.charCodeAt(gi);he.ZG(pn)?(un=gi+2,fn=vi+2):(un=gi+1,fn=vi+Ar(pn,vi,f,U))}for(gi=un,Pt[ti]=un,vi=fn,At[ti]=fn,ti++,Li=fn+mt;Mi<0||Mi<Wi&&Qe[Mi]<fn;)Mi++;let Fn=Math.abs(Qe[Mi]-Li);for(;Mi+1<Wi;){const pn=Math.abs(Qe[Mi+1]-Li);if(pn>=Fn)break;Fn=pn,Mi++}}return ti===0?null:(Pt.length=ti,At.length=ti,Mo=e.breakOffsets,Rr=e.breakOffsetsVisibleColumn,e.breakOffsets=Pt,e.breakOffsetsVisibleColumn=At,e.wrappedTextIndentLength=st,e)}function ia(Dt,e,o,f,A,U,de){const Se=Ws.gk.applyInjectedText(e,o);let He,Qe;if(o&&o.length>0?(He=o.map(fn=>fn.options),Qe=o.map(fn=>fn.column-1)):(He=null,Qe=null),A===-1)return He?new Mr(Qe,He,[Se.length],[],0):null;const st=Se.length;if(st<=1)return He?new Mr(Qe,He,[Se.length],[],0):null;const mt=na(Se,f,A,U,de),Pt=A-mt,At=[],ti=[];let gi=0,vi=0,Li=0,Wi=A,Mi=Se.charCodeAt(0),on=Dt.get(Mi),qi=Ar(Mi,0,f,U),un=1;he.ZG(Mi)&&(qi+=1,Mi=Se.charCodeAt(1),on=Dt.get(Mi),un++);for(let fn=un;fn<st;fn++){const tn=fn,wn=Se.charCodeAt(fn);let Fn,pn;he.ZG(wn)?(fn++,Fn=0,pn=2):(Fn=Dt.get(wn),pn=Ar(wn,qi,f,U)),oo(Mi,on,wn,Fn)&&(vi=tn,Li=qi),qi+=pn,qi>Wi&&((vi===0||qi-Li>Pt)&&(vi=tn,Li=qi-pn),At[gi]=vi,ti[gi]=Li,gi++,Wi=Li+Pt,vi=0),Mi=wn,on=Fn}return gi===0&&(!o||o.length===0)?null:(At[gi]=st,ti[gi]=qi,new Mr(Qe,He,At,ti,mt))}function Ar(Dt,e,o,f){return Dt===9?o-e%o:he.K7(Dt)||Dt<32?f:1}function ol(Dt,e){return e-Dt%e}function oo(Dt,e,o,f){return o!==32&&(e===2&&f!==2||e!==1&&f===1||e===3&&f!==2||f===3&&e!==1)}function na(Dt,e,o,f,A){let U=0;if(A!==0){const de=he.LC(Dt);if(de!==-1){for(let He=0;He<de;He++){const Qe=Dt.charCodeAt(He)===9?ol(U,e):1;U+=Qe}const Se=A===3?2:A===2?1:0;for(let He=0;He<Se;He++){const Qe=ol(U,e);U+=Qe}U+f>o&&(U=0)}}return U}var Ia;const Go=(Ia=window.trustedTypes)===null||Ia===void 0?void 0:Ia.createPolicy("domLineBreaksComputer",{createHTML:Dt=>Dt});class Or{static create(){return new Or}constructor(){}createLineBreaksComputer(e,o,f,A){const U=[],de=[];return{addRequest:(Se,He,Qe)=>{U.push(Se),de.push(He)},finalize:()=>rl(U,e,o,f,A,de)}}}function rl(Dt,e,o,f,A,U){var de;function Se(tn){const wn=U[tn];if(wn){const Fn=Ws.gk.applyInjectedText(Dt[tn],wn),pn=wn.map(Yn=>Yn.options),as=wn.map(Yn=>Yn.column-1);return new Mr(as,pn,[Fn.length],[],0)}else return null}if(f===-1){const tn=[];for(let wn=0,Fn=Dt.length;wn<Fn;wn++)tn[wn]=Se(wn);return tn}const He=Math.round(f*e.typicalHalfwidthCharacterWidth),st=Math.round(o*(A===3?2:A===2?1:0)),mt=Math.ceil(e.spaceWidth*st),Pt=document.createElement("div");(0,Me.N)(Pt,e);const At=(0,Ui.l$)(1e4),ti=[],gi=[],vi=[],Li=[],Wi=[];for(let tn=0;tn<Dt.length;tn++){const wn=Ws.gk.applyInjectedText(Dt[tn],U[tn]);let Fn=0,pn=0,as=He;if(A!==0)if(Fn=he.LC(wn),Fn===-1)Fn=0;else{for(let bs=0;bs<Fn;bs++){const Ss=wn.charCodeAt(bs)===9?o-pn%o:1;pn+=Ss}const Ln=Math.ceil(e.spaceWidth*pn);Ln+e.typicalFullwidthCharacterWidth>He?(Fn=0,pn=0):as=He-Ln}const Yn=wn.substr(Fn),gs=sa(Yn,pn,o,as,At,mt);ti[tn]=Fn,gi[tn]=pn,vi[tn]=Yn,Li[tn]=gs[0],Wi[tn]=gs[1]}const Mi=At.build(),on=(de=Go?.createHTML(Mi))!==null&&de!==void 0?de:Mi;Pt.innerHTML=on,Pt.style.position="absolute",Pt.style.top="10000",Pt.style.wordWrap="break-word",document.body.appendChild(Pt);const qi=document.createRange(),un=Array.prototype.slice.call(Pt.children,0),fn=[];for(let tn=0;tn<Dt.length;tn++){const wn=un[tn],Fn=Qo(qi,wn,vi[tn],Li[tn]);if(Fn===null){fn[tn]=Se(tn);continue}const pn=ti[tn],as=gi[tn]+st,Yn=Wi[tn],gs=[];for(let _s=0,As=Fn.length;_s<As;_s++)gs[_s]=Yn[Fn[_s]];if(pn!==0)for(let _s=0,As=Fn.length;_s<As;_s++)Fn[_s]+=pn;let Ln,bs;const Ss=U[tn];Ss?(Ln=Ss.map(_s=>_s.options),bs=Ss.map(_s=>_s.column-1)):(Ln=null,bs=null),fn[tn]=new Mr(bs,Ln,Fn,gs,as)}return document.body.removeChild(Pt),fn}function sa(Dt,e,o,f,A,U){if(U!==0){const Pt=String(U);A.appendASCIIString('<div style="text-indent: -'),A.appendASCIIString(Pt),A.appendASCIIString("px; padding-left: "),A.appendASCIIString(Pt),A.appendASCIIString("px; box-sizing: border-box; width:")}else A.appendASCIIString('<div style="width:');A.appendASCIIString(String(f)),A.appendASCIIString('px;">');const de=Dt.length;let Se=e,He=0;const Qe=[],st=[];let mt=0<de?Dt.charCodeAt(0):0;A.appendASCIIString("<span>");for(let Pt=0;Pt<de;Pt++){Pt!==0&&Pt%16384===0&&A.appendASCIIString("</span><span>"),Qe[Pt]=He,st[Pt]=Se;const At=mt;mt=Pt+1<de?Dt.charCodeAt(Pt+1):0;let ti=1,gi=1;switch(At){case 9:ti=o-Se%o,gi=ti;for(let vi=1;vi<=ti;vi++)vi<ti?A.write1(160):A.appendASCII(32);break;case 32:mt===32?A.write1(160):A.appendASCII(32);break;case 60:A.appendASCIIString("&lt;");break;case 62:A.appendASCIIString("&gt;");break;case 38:A.appendASCIIString("&amp;");break;case 0:A.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:A.write1(65533);break;default:he.K7(At)&&gi++,At<32?A.write1(9216+At):A.write1(At)}He+=ti,Se+=gi}return A.appendASCIIString("</span>"),Qe[Dt.length]=He,st[Dt.length]=Se,A.appendASCIIString("</div>"),[Qe,st]}function Qo(Dt,e,o,f){if(o.length<=1)return null;const A=Array.prototype.slice.call(e.children,0),U=[];try{Pr(Dt,A,f,0,null,o.length-1,null,U)}catch(de){return console.log(de),null}return U.length===0?null:(U.push(o.length),U)}function Pr(Dt,e,o,f,A,U,de,Se){if(f===U||(A=A||Zo(Dt,e,o[f],o[f+1]),de=de||Zo(Dt,e,o[U],o[U+1]),Math.abs(A[0].top-de[0].top)<=.1))return;if(f+1===U){Se.push(U);return}const He=f+(U-f)/2|0,Qe=Zo(Dt,e,o[He],o[He+1]);Pr(Dt,e,o,f,A,He,Qe,Se),Pr(Dt,e,o,He,Qe,U,de,Se)}function Zo(Dt,e,o,f){return Dt.setStart(e[o/16384|0].firstChild,o%16384),Dt.setEnd(e[f/16384|0].firstChild,f%16384),Dt.getClientRects()}var Yo=s(92896),oa=s(4256),go=s(71922),ko=function(Dt,e,o,f){var A=arguments.length,U=A<3?e:f===null?f=Object.getOwnPropertyDescriptor(e,o):f,de;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(Dt,e,o,f);else for(var Se=Dt.length-1;Se>=0;Se--)(de=Dt[Se])&&(U=(A<3?de(U):A>3?de(e,o,U):de(e,o))||U);return A>3&&U&&Object.defineProperty(e,o,U),U},ds=function(Dt,e){return function(o,f){e(o,f,Dt)}},Fr=function(Dt,e,o,f){function A(U){return U instanceof o?U:new o(function(de){de(U)})}return new(o||(o=Promise))(function(U,de){function Se(st){try{Qe(f.next(st))}catch(mt){de(mt)}}function He(st){try{Qe(f.throw(st))}catch(mt){de(mt)}}function Qe(st){st.done?U(st.value):A(st.value).then(Se,He)}Qe((f=f.apply(Dt,e||[])).next())})};let zn=0;class Vl{constructor(e,o,f,A,U){this.model=e,this.viewModel=o,this.view=f,this.hasRealView=A,this.listenersToRemove=U}dispose(){(0,y.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let cr=class kl extends y.JT{constructor(e,o,f,A,U,de,Se,He,Qe,st,mt,Pt){super(),this.languageConfigurationService=mt,this._deliveryQueue=new O.F3,this._onDidDispose=this._register(new O.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new ra({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new ra({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const At=Object.assign({},o);this._domElement=e,this._overflowWidgetsDomNode=At.overflowWidgetsDomNode,delete At.overflowWidgetsDomNode,this._id=++zn,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=f.telemetryData,this._configuration=this._register(this._createConfiguration(f.isSimpleWidget||!1,At,st)),this._register(this._configuration.onDidChange(vi=>{this._onDidChangeConfiguration.fire(vi);const Li=this._configuration.options;if(vi.hasChanged(133)){const Wi=Li.get(133);this._onDidLayoutChange.fire(Wi)}})),this._contextKeyService=this._register(Se.createScoped(this._domElement)),this._notificationService=Qe,this._codeEditorService=U,this._commandService=de,this._themeService=He,this._register(new aa(this,this._contextKeyService)),this._register(new xa(this,this._contextKeyService,Pt)),this._instantiationService=A.createChild(new ar.y([No.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Hl(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let ti;Array.isArray(f.contributions)?ti=f.contributions:ti=l.Uc.getEditorContributions();for(const vi of ti){if(this._contributions[vi.id]){(0,H.dL)(new Error(`Cannot have two contributions with the same id ${vi.id}`));continue}try{const Li=this._instantiationService.createInstance(vi.ctor,this);this._contributions[vi.id]=Li}catch(Li){(0,H.dL)(Li)}}l.Uc.getEditorActions().forEach(vi=>{if(this._actions[vi.id]){(0,H.dL)(new Error(`Cannot have two actions with the same id ${vi.id}`));return}const Li=new Vn.p(vi.id,vi.label,vi.alias,(0,_i.f6)(vi.precondition),()=>this._instantiationService.invokeFunction(Wi=>Promise.resolve(vi.runEditorCommand(Wi,this,null))),this._contextKeyService);this._actions[Li.id]=Li});const gi=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new B.eg(this._domElement,{onDragEnter:()=>{},onDragOver:vi=>{if(!gi())return;const Li=this.getTargetAtClientPoint(vi.clientX,vi.clientY);Li?.position&&this.showDropIndicatorAt(Li.position)},onDrop:vi=>Fr(this,void 0,void 0,function*(){if(!gi()||(this.removeDropIndicator(),!vi.dataTransfer))return;const Li=this.getTargetAtClientPoint(vi.clientX,vi.clientY);Li?.position&&this._onDropIntoEditor.fire({position:Li.position,event:vi})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(e,o,f){return new X(e,o,this._domElement,f)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return hs.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let o=0,f=e.length;o<f;o++){const A=e[o];this._contributions[A].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Yo.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),e):null}getValue(e=null){if(!this._modelData)return"";const o=!!(e&&e.preserveBOM);let f=0;return e&&e.lineEnding&&e.lineEnding===`
`?f=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(f=2),this._modelData.model.getValue(f,o)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const o=e;if(this._modelData===null&&o===null||this._modelData&&this._modelData.model===o)return;const f=this.hasTextFocus(),A=this._detachModel();this._attachModel(o),f&&this.hasModel()&&this.focus();const U={oldModelUrl:A?A.uri:null,newModelUrl:o?o.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(U),this._postDetachModelCleanup(A)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const o=this._decorationTypeSubtypes[e];for(const f in o)this._removeDecorationType(e+"-"+f)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,o,f,A){const U=e.model.validatePosition({lineNumber:o,column:f}),de=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(U);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(de.lineNumber,A)}getTopForLineNumber(e,o=!1){return this._modelData?kl._getVerticalOffsetForPosition(this._modelData,e,1,o):-1}getTopForPosition(e,o){return this._modelData?kl._getVerticalOffsetForPosition(this._modelData,e,o,!1):-1}static _getVerticalOffsetForPosition(e,o,f,A=!1){const U=e.model.validatePosition({lineNumber:o,column:f}),de=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(U);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(de.lineNumber,A)}getBottomForLineNumber(e,o=!1){return this._modelData?kl._getVerticalOffsetAfterPosition(this._modelData,e,1,o):-1}setHiddenAreas(e){var o;(o=this._modelData)===null||o===void 0||o.viewModel.setHiddenAreas(e.map(f=>Ze.e.lift(f)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const o=this._modelData.model.validatePosition(e),f=this._modelData.model.getOptions().tabSize;return wt.i.visibleColumnFromColumn(this._modelData.model.getLineContent(o.lineNumber),o.column,f)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,o="api"){if(this._modelData){if(!Be.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,o,f,A){if(!this._modelData)return;if(!Ze.e.isIRange(e))throw new Error("Invalid arguments");const U=this._modelData.model.validateRange(e),de=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(U);this._modelData.viewModel.revealRange("api",f,de,o,A)}revealLine(e,o=0){this._revealLine(e,0,o)}revealLineInCenter(e,o=0){this._revealLine(e,1,o)}revealLineInCenterIfOutsideViewport(e,o=0){this._revealLine(e,2,o)}revealLineNearTop(e,o=0){this._revealLine(e,5,o)}_revealLine(e,o,f){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Ze.e(e,1,e,1),o,!1,f)}revealPosition(e,o=0){this._revealPosition(e,0,!0,o)}revealPositionInCenter(e,o=0){this._revealPosition(e,1,!0,o)}revealPositionInCenterIfOutsideViewport(e,o=0){this._revealPosition(e,2,!0,o)}revealPositionNearTop(e,o=0){this._revealPosition(e,5,!0,o)}_revealPosition(e,o,f,A){if(!Be.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Ze.e(e.lineNumber,e.column,e.lineNumber,e.column),o,f,A)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,o="api"){const f=me.Y.isISelection(e),A=Ze.e.isIRange(e);if(!f&&!A)throw new Error("Invalid arguments");if(f)this._setSelectionImpl(e,o);else if(A){const U={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(U,o)}}_setSelectionImpl(e,o){if(!this._modelData)return;const f=new me.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(o,[f])}revealLines(e,o,f=0){this._revealLines(e,o,0,f)}revealLinesInCenter(e,o,f=0){this._revealLines(e,o,1,f)}revealLinesInCenterIfOutsideViewport(e,o,f=0){this._revealLines(e,o,2,f)}revealLinesNearTop(e,o,f=0){this._revealLines(e,o,5,f)}_revealLines(e,o,f,A){if(typeof e!="number"||typeof o!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Ze.e(e,1,o,1),f,!1,A)}revealRange(e,o=0,f=!1,A=!0){this._revealRange(e,f?1:0,A,o)}revealRangeInCenter(e,o=0){this._revealRange(e,1,!0,o)}revealRangeInCenterIfOutsideViewport(e,o=0){this._revealRange(e,2,!0,o)}revealRangeNearTop(e,o=0){this._revealRange(e,5,!0,o)}revealRangeNearTopIfOutsideViewport(e,o=0){this._revealRange(e,6,!0,o)}revealRangeAtTop(e,o=0){this._revealRange(e,3,!0,o)}_revealRange(e,o,f,A){if(!Ze.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Ze.e.lift(e),o,f,A)}setSelections(e,o="api",f=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let A=0,U=e.length;A<U;A++)if(!me.Y.isISelection(e[A]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,e,f)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,o=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},o)}}setScrollTop(e,o=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},o)}}setScrollPosition(e,o=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,o)}saveViewState(){if(!this._modelData)return null;const e={},o=Object.keys(this._contributions);for(const U of o){const de=this._contributions[U];typeof de.saveViewState=="function"&&(e[U]=de.saveViewState())}const f=this._modelData.viewModel.saveCursorState(),A=this._modelData.viewModel.saveState();return{cursorState:f,viewState:A,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const o=e;if(o&&o.cursorState&&o.viewState){const f=o.cursorState;Array.isArray(f)?f.length>0&&this._modelData.viewModel.restoreCursorState(f):this._modelData.viewModel.restoreCursorState([f]);const A=o.contributionsState||{},U=Object.keys(this._contributions);for(let Se=0,He=U.length;Se<He;Se++){const Qe=U[Se],st=this._contributions[Qe];typeof st.restoreViewState=="function"&&st.restoreViewState(A[Qe])}const de=this._modelData.viewModel.reduceRestoreState(o.viewState);this._modelData.view.restoreState(de)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],o=Object.keys(this._actions);for(let f=0,A=o.length;f<A;f++){const U=o[f];e.push(this._actions[U])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(o=>o.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,o,f){switch(f=f||{},o){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const U=f;this._type(e,U.text||"");return}case"replacePreviousChar":{const U=f;this._compositionType(e,U.text||"",U.replaceCharCnt||0,0,0);return}case"compositionType":{const U=f;this._compositionType(e,U.text||"",U.replacePrevCharCnt||0,U.replaceNextCharCnt||0,U.positionDelta||0);return}case"paste":{const U=f;this._paste(e,U.text||"",U.pasteOnNewLine||!1,U.multicursorText||null,U.mode||null);return}case"cut":this._cut(e);return}const A=this.getAction(o);if(A){Promise.resolve(A.run()).then(void 0,H.dL);return}this._modelData&&(this._triggerEditorCommand(e,o,f)||this._triggerCommand(o,f))}_triggerCommand(e,o){this._commandService.executeCommand(e,o)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,o){!this._modelData||o.length===0||(e==="keyboard"&&this._onWillType.fire(o),this._modelData.viewModel.type(o,e),e==="keyboard"&&this._onDidType.fire(o))}_compositionType(e,o,f,A,U){this._modelData&&this._modelData.viewModel.compositionType(o,f,A,U,e)}_paste(e,o,f,A,U){if(!this._modelData||o.length===0)return;const de=this._modelData.viewModel,Se=de.getSelection().getStartPosition();de.paste(o,f,A,e);const He=de.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new Ze.e(Se.lineNumber,Se.column,He.lineNumber,He.column),languageId:U})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,o,f){const A=l.Uc.getEditorCommand(o);return A?(f=f||{},f.source=e,this._instantiationService.invokeFunction(U=>{Promise.resolve(A.runEditorCommand(U,this,f)).then(void 0,H.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,o,f){if(!this._modelData||this._configuration.options.get(83))return!1;let A;return f?Array.isArray(f)?A=()=>f:A=f:A=()=>null,this._modelData.viewModel.executeEdits(e,o,A),!0}executeCommand(e,o){this._modelData&&this._modelData.viewModel.executeCommand(o,e)}executeCommands(e,o){this._modelData&&this._modelData.viewModel.executeCommands(o,e)}createDecorationsCollection(e){return new al(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,V.$J)(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,(0,V.$J)(this._configuration.options)):null}deltaDecorations(e,o){return this._modelData?e.length===0&&o.length===0?e:this._modelData.model.deltaDecorations(e,o,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(o=>{o.deltaDecorations(e,[])})}removeDecorationsByType(e){const o=this._decorationTypeKeysToIds[e];o&&this.deltaDecorations(o,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const o={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(o)}layoutContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const f=this._contentWidgets[o];f.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(f)}}removeContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const f=this._contentWidgets[o];delete this._contentWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(f)}}addOverlayWidget(e){const o={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(o)}layoutOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const f=this._overlayWidgets[o];f.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(f)}}removeOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const f=this._overlayWidgets[o];delete this._overlayWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(f)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,o){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,o)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const o=this._modelData.model.validatePosition(e),f=this._configuration.options,A=f.get(133),U=kl._getVerticalOffsetForPosition(this._modelData,o.lineNumber,o.column)-this.getScrollTop(),de=this._modelData.view.getOffsetForColumn(o.lineNumber,o.column)+A.glyphMarginWidth+A.lineNumbersWidth+A.decorationsWidth-this.getScrollLeft();return{top:U,left:de,height:f.get(61)}}getOffsetForColumn(e,o){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,o)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){(0,Me.N)(e,this._configuration.options.get(46))}setBanner(e,o){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?o:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const o=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();const f=new Tr(this._id,this._configuration,e,Or.create(),kr.create(this._configuration.options),de=>B.jL(de),this.languageConfigurationService,this._themeService);o.push(e.onWillDispose(()=>this.setModel(null))),o.push(f.onEvent(de=>{switch(de.kind){case 0:this._onDidContentSizeChange.fire(de);break;case 1:this._editorTextFocus.setValue(de.hasFocus);break;case 2:this._onDidScrollChange.fire(de);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{de.reachedMaxCursorCount&&this._notificationService.warn(Z.NC("cursors.maximum","The number of cursors has been limited to {0}.",So.MAX_CURSOR_COUNT));const Se=[];for(let st=0,mt=de.selections.length;st<mt;st++)Se[st]=de.selections[st].getPosition();const He={position:Se[0],secondaryPositions:Se.slice(1),reason:de.reason,source:de.source};this._onDidChangeCursorPosition.fire(He);const Qe={selection:de.selections[0],secondarySelections:de.selections.slice(1),modelVersionId:de.modelVersionId,oldSelections:de.oldSelections,oldModelVersionId:de.oldModelVersionId,source:de.source,reason:de.reason};this._onDidChangeCursorSelection.fire(Qe);break}case 7:this._onDidChangeModelDecorations.fire(de.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(de.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(de.event);break;case 10:this._onDidChangeModelContent.fire(de.event);break;case 11:this._onDidChangeModelOptions.fire(de.event);break;case 12:this._onDidChangeModelTokens.fire(de.event);break}}));const[A,U]=this._createView(f);if(U){this._domElement.appendChild(A.domNode.domNode);let de=Object.keys(this._contentWidgets);for(let Se=0,He=de.length;Se<He;Se++){const Qe=de[Se];A.addContentWidget(this._contentWidgets[Qe])}de=Object.keys(this._overlayWidgets);for(let Se=0,He=de.length;Se<He;Se++){const Qe=de[Se];A.addOverlayWidget(this._overlayWidgets[Qe])}A.render(!1,!0),A.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Vl(e,f,A,U,o)}_createView(e){let o;this.isSimpleWidget?o={paste:(U,de,Se,He)=>{this._paste("keyboard",U,de,Se,He)},type:U=>{this._type("keyboard",U)},compositionType:(U,de,Se,He)=>{this._compositionType("keyboard",U,de,Se,He)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:o={paste:(U,de,Se,He)=>{const Qe={text:U,pasteOnNewLine:de,multicursorText:Se,mode:He};this._commandService.executeCommand("paste",Qe)},type:U=>{const de={text:U};this._commandService.executeCommand("type",de)},compositionType:(U,de,Se,He)=>{if(Se||He){const Qe={text:U,replacePrevCharCnt:de,replaceNextCharCnt:Se,positionDelta:He};this._commandService.executeCommand("compositionType",Qe)}else{const Qe={text:U,replaceCharCnt:de};this._commandService.executeCommand("replacePreviousChar",Qe)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const f=new Zi(e.coordinatesConverter);return f.onKeyDown=U=>this._onKeyDown.fire(U),f.onKeyUp=U=>this._onKeyUp.fire(U),f.onContextMenu=U=>this._onContextMenu.fire(U),f.onMouseMove=U=>this._onMouseMove.fire(U),f.onMouseLeave=U=>this._onMouseLeave.fire(U),f.onMouseDown=U=>this._onMouseDown.fire(U),f.onMouseUp=U=>this._onMouseUp.fire(U),f.onMouseDrag=U=>this._onMouseDrag.fire(U),f.onMouseDrop=U=>this._onMouseDrop.fire(U),f.onMouseDropCanceled=U=>this._onMouseDropCanceled.fire(U),f.onMouseWheel=U=>this._onMouseWheel.fire(U),[new ao(o,this._configuration,this._themeService.getColorTheme(),e,f,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,o=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),o&&this._domElement.contains(o)&&this._domElement.removeChild(o),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const o=[{range:new Ze.e(e.lineNumber,e.column,e.lineNumber,e.column),options:kl.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(o),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};cr.dropIntoEditorDecorationOptions=ps.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),cr=ko([ds(3,js.TG),ds(4,q.$),ds(5,Da.Hy),ds(6,No.i6),ds(7,ht.XE),ds(8,nl.lT),ds(9,ae.F),ds(10,oa.c_),ds(11,go.p)],cr);class ra extends y.JT{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new O.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new O.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const o=e?2:1;this._value!==o&&(this._value=o,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class aa extends y.JT{constructor(e,o){super(),this._editor=e,o.createKey("editorId",e.getId()),this._editorSimpleInput=Tn.u.editorSimpleInput.bindTo(o),this._editorFocus=Tn.u.focus.bindTo(o),this._textInputFocus=Tn.u.textInputFocus.bindTo(o),this._editorTextFocus=Tn.u.editorTextFocus.bindTo(o),this._editorTabMovesFocus=Tn.u.tabMovesFocus.bindTo(o),this._editorReadonly=Tn.u.readOnly.bindTo(o),this._inDiffEditor=Tn.u.inDiffEditor.bindTo(o),this._editorColumnSelection=Tn.u.columnSelection.bindTo(o),this._hasMultipleSelections=Tn.u.hasMultipleSelections.bindTo(o),this._hasNonEmptySelection=Tn.u.hasNonEmptySelection.bindTo(o),this._canUndo=Tn.u.canUndo.bindTo(o),this._canRedo=Tn.u.canRedo.bindTo(o),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(132)),this._editorReadonly.set(e.get(83)),this._inDiffEditor.set(e.get(56)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(o=>!o.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class xa extends y.JT{constructor(e,o,f){super(),this._editor=e,this._contextKeyService=o,this._languageFeaturesService=f,this._langId=Tn.u.languageId.bindTo(o),this._hasCompletionItemProvider=Tn.u.hasCompletionItemProvider.bindTo(o),this._hasCodeActionsProvider=Tn.u.hasCodeActionsProvider.bindTo(o),this._hasCodeLensProvider=Tn.u.hasCodeLensProvider.bindTo(o),this._hasDefinitionProvider=Tn.u.hasDefinitionProvider.bindTo(o),this._hasDeclarationProvider=Tn.u.hasDeclarationProvider.bindTo(o),this._hasImplementationProvider=Tn.u.hasImplementationProvider.bindTo(o),this._hasTypeDefinitionProvider=Tn.u.hasTypeDefinitionProvider.bindTo(o),this._hasHoverProvider=Tn.u.hasHoverProvider.bindTo(o),this._hasDocumentHighlightProvider=Tn.u.hasDocumentHighlightProvider.bindTo(o),this._hasDocumentSymbolProvider=Tn.u.hasDocumentSymbolProvider.bindTo(o),this._hasReferenceProvider=Tn.u.hasReferenceProvider.bindTo(o),this._hasRenameProvider=Tn.u.hasRenameProvider.bindTo(o),this._hasSignatureHelpProvider=Tn.u.hasSignatureHelpProvider.bindTo(o),this._hasInlayHintsProvider=Tn.u.hasInlayHintsProvider.bindTo(o),this._hasDocumentFormattingProvider=Tn.u.hasDocumentFormattingProvider.bindTo(o),this._hasDocumentSelectionFormattingProvider=Tn.u.hasDocumentSelectionFormattingProvider.bindTo(o),this._hasMultipleDocumentFormattingProvider=Tn.u.hasMultipleDocumentFormattingProvider.bindTo(o),this._hasMultipleDocumentSelectionFormattingProvider=Tn.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(o),this._isInWalkThrough=Tn.u.isInWalkThroughSnippet.bindTo(o);const A=()=>this._update();this._register(e.onDidChangeModel(A)),this._register(e.onDidChangeModelLanguage(A)),this._register(f.completionProvider.onDidChange(A)),this._register(f.codeActionProvider.onDidChange(A)),this._register(f.codeLensProvider.onDidChange(A)),this._register(f.definitionProvider.onDidChange(A)),this._register(f.declarationProvider.onDidChange(A)),this._register(f.implementationProvider.onDidChange(A)),this._register(f.typeDefinitionProvider.onDidChange(A)),this._register(f.hoverProvider.onDidChange(A)),this._register(f.documentHighlightProvider.onDidChange(A)),this._register(f.documentSymbolProvider.onDidChange(A)),this._register(f.referenceProvider.onDidChange(A)),this._register(f.renameProvider.onDidChange(A)),this._register(f.documentFormattingEditProvider.onDidChange(A)),this._register(f.documentRangeFormattingEditProvider.onDidChange(A)),this._register(f.signatureHelpProvider.onDidChange(A)),this._register(f.inlayHintsProvider.onDidChange(A)),A()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===g.lg.walkThroughSnippet)})}}class Hl extends y.JT{constructor(e){super(),this._onChange=this._register(new O.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(B.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class al{constructor(e,o){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(o)&&o.length>0&&this.set(o)}get length(){return this._decorationIds.length}onDidChange(e,o,f){return this._editor.onDidChangeModelDecorations(A=>{this._isChangingDecorations||e.call(o,A)},f)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),o=[];for(const f of this._decorationIds){const A=e.getDecorationRange(f);A&&o.push(A)}return o}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(o=>{this._decorationIds=o.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}}}const dr=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ll=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Ro(Dt){return dr+encodeURIComponent(Dt.toString())+ll}const cl=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),la=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Br(Dt){return cl+encodeURIComponent(Dt.toString())+la}(0,ht.Ic)((Dt,e)=>{const o=Dt.getColor(lt.b6y);o&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${o}; }`);const f=Dt.getColor(lt.lXJ);f&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Ro(f)}") repeat-x bottom left; }`);const A=Dt.getColor(lt.L_H);A&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${A}; }`);const U=Dt.getColor(lt.pW3);U&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${U}; }`);const de=Dt.getColor(lt.uoC);de&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Ro(de)}") repeat-x bottom left; }`);const Se=Dt.getColor(lt.gpD);Se&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${Se}; }`);const He=Dt.getColor(lt.T83);He&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${He}; }`);const Qe=Dt.getColor(lt.c63);Qe&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Ro(Qe)}") repeat-x bottom left; }`);const st=Dt.getColor(lt.few);st&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${st}; }`);const mt=Dt.getColor(lt.fEB);mt&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${mt}; }`);const Pt=Dt.getColor(lt.Dut);Pt&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Br(Pt)}") no-repeat bottom left; }`);const At=Dt.getColor(ot.zu);At&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${At.rgba.a}; }`);const ti=Dt.getColor(ot.kp);ti&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${ti}; }`);const gi=Dt.getColor(lt.NOs)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${gi}}`)})},92913:function(Yt,Ye,s){"use strict";s.d(Ye,{p:function(){return Ze}});var b=s(63580),l=s(65321),z=s(35146),j=s(38626),E=s(83080),Z=s(15393),B=s(4669),H=s(5976),O=s(52136),y=s(43407),g=s(11640),C=s(69732),m=s(90317),i=s(13433),d=s(74741),_=s(16830),v=s(64141),p=s(77378),L=s(50187),T=s(8625),M=s(72202),I=s(1118),P=s(38819),V=s(73910),$=s(97781),re=s(73046),ae=s(59554),ie=s(72042),se=function(vt,_e,Ee,Le){var oe=arguments.length,he=oe<3?_e:Le===null?Le=Object.getOwnPropertyDescriptor(_e,Ee):Le,Me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(vt,_e,Ee,Le);else for(var ke=vt.length-1;ke>=0;ke--)(Me=vt[ke])&&(he=(oe<3?Me(he):oe>3?Me(_e,Ee,he):Me(_e,Ee))||he);return oe>3&&he&&Object.defineProperty(_e,Ee,he),he},X=function(vt,_e){return function(Ee,Le){_e(Ee,Le,vt)}},ne=function(vt,_e,Ee,Le){function oe(he){return he instanceof Ee?he:new Ee(function(Me){Me(he)})}return new(Ee||(Ee=Promise))(function(he,Me){function ke(ht){try{ot(Le.next(ht))}catch(xt){Me(xt)}}function Je(ht){try{ot(Le.throw(ht))}catch(xt){Me(xt)}}function ot(ht){ht.done?he(ht.value):oe(ht.value).then(ke,Je)}ot((Le=Le.apply(vt,_e||[])).next())})},Q;const F=3;class te{constructor(_e,Ee,Le,oe){this.originalLineStart=_e,this.originalLineEnd=Ee,this.modifiedLineStart=Le,this.modifiedLineEnd=oe}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class W{constructor(_e){this.entries=_e}}const G=(0,ae.q5)("diff-review-insert",re.lA.add,b.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),q=(0,ae.q5)("diff-review-remove",re.lA.remove,b.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),me=(0,ae.q5)("diff-review-close",re.lA.close,b.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let w=class Qa extends H.JT{constructor(_e,Ee){super(),this._languageService=Ee,this._width=0,this._diffEditor=_e,this._isVisible=!1,this.shadow=(0,j.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,j.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new m.o(this.actionBarContainer.domNode)),this._actionBar.push(new d.aU("diffreview.close",b.NC("label.close","Close"),"close-diff-review "+$.kS.asClassName(me),!0,()=>ne(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,j.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,j.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new i.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(_e.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(_e.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(l.mu(this.domNode.domNode,"click",Le=>{Le.preventDefault();const oe=l.Fx(Le.target,"diff-review-row");oe&&this._goToRow(oe)})),this._register(l.mu(this.domNode.domNode,"keydown",Le=>{(Le.equals(18)||Le.equals(2066)||Le.equals(530))&&(Le.preventDefault(),this._goToRow(this._getNextRow())),(Le.equals(16)||Le.equals(2064)||Le.equals(528))&&(Le.preventDefault(),this._goToRow(this._getPrevRow())),(Le.equals(9)||Le.equals(2057)||Le.equals(521)||Le.equals(1033))&&(Le.preventDefault(),this.hide()),(Le.equals(10)||Le.equals(3))&&(Le.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let _e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let Le=-1;for(let oe=0,he=this._diffs.length;oe<he;oe++)if(this._diffs[oe]===this._currentDiff){Le=oe;break}_e=this._diffs.length+Le-1}else _e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;_e=_e%this._diffs.length;const Ee=this._diffs[_e].entries;this._diffEditor.setPosition(new L.L(Ee[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ee[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ee[Ee.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let _e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let Le=-1;for(let oe=0,he=this._diffs.length;oe<he;oe++)if(this._diffs[oe]===this._currentDiff){Le=oe;break}_e=Le+1}else _e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;_e=_e%this._diffs.length;const Ee=this._diffs[_e].entries;this._diffEditor.setPosition(new L.L(Ee[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ee[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ee[Ee.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let _e=-1;const Ee=this._getCurrentFocusedRow();if(Ee){const Le=parseInt(Ee.getAttribute("data-line"),10);isNaN(Le)||(_e=Le)}this.hide(),_e!==-1&&(this._diffEditor.setPosition(new L.L(_e,1)),this._diffEditor.revealPosition(new L.L(_e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const _e=this._getCurrentFocusedRow();return _e?_e.previousElementSibling?_e.previousElementSibling:_e:this._getFirstRow()}_getNextRow(){const _e=this._getCurrentFocusedRow();return _e?_e.nextElementSibling?_e.nextElementSibling:_e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const _e=document.activeElement;return _e&&/diff-review-row/.test(_e.className)?_e:null}_goToRow(_e){const Ee=this._getCurrentFocusedRow();_e.tabIndex=0,_e.focus(),Ee&&Ee!==_e&&(Ee.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(_e,Ee,Le){this._width=Ee,this.shadow.setTop(_e-6),this.shadow.setWidth(Ee),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(_e),this.domNode.setWidth(Ee),this.domNode.setHeight(Le),this._content.setHeight(Le),this._content.setWidth(Ee),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const _e=this._diffEditor.getLineChanges();if(!_e||_e.length===0)return[];const Ee=this._diffEditor.getOriginalEditor().getModel(),Le=this._diffEditor.getModifiedEditor().getModel();return!Ee||!Le?[]:Qa._mergeAdjacent(_e,Ee.getLineCount(),Le.getLineCount())}static _mergeAdjacent(_e,Ee,Le){if(!_e||_e.length===0)return[];const oe=[];let he=0;for(let ot=0,ht=_e.length;ot<ht;ot++){const xt=_e[ot],nt=xt.originalStartLineNumber,It=xt.originalEndLineNumber,Ht=xt.modifiedStartLineNumber,Qt=xt.modifiedEndLineNumber,ci=[];let Fi=0;{const Ii=It===0?nt:nt-1,Xi=Qt===0?Ht:Ht-1;let zi=1,Si=1;if(ot>0){const Ui=_e[ot-1];Ui.originalEndLineNumber===0?zi=Ui.originalStartLineNumber+1:zi=Ui.originalEndLineNumber+1,Ui.modifiedEndLineNumber===0?Si=Ui.modifiedStartLineNumber+1:Si=Ui.modifiedEndLineNumber+1}let Ji=Ii-F+1,Zi=Xi-F+1;if(Ji<zi){const Ui=zi-Ji;Ji=Ji+Ui,Zi=Zi+Ui}if(Zi<Si){const Ui=Si-Zi;Ji=Ji+Ui,Zi=Zi+Ui}ci[Fi++]=new te(Ji,Ii,Zi,Xi)}It!==0&&(ci[Fi++]=new te(nt,It,0,0)),Qt!==0&&(ci[Fi++]=new te(0,0,Ht,Qt));{const Ii=It===0?nt+1:It+1,Xi=Qt===0?Ht+1:Qt+1;let zi=Ee,Si=Le;if(ot+1<ht){const Ui=_e[ot+1];Ui.originalEndLineNumber===0?zi=Ui.originalStartLineNumber:zi=Ui.originalStartLineNumber-1,Ui.modifiedEndLineNumber===0?Si=Ui.modifiedStartLineNumber:Si=Ui.modifiedStartLineNumber-1}let Ji=Ii+F-1,Zi=Xi+F-1;if(Ji>zi){const Ui=zi-Ji;Ji=Ji+Ui,Zi=Zi+Ui}if(Zi>Si){const Ui=Si-Zi;Ji=Ji+Ui,Zi=Zi+Ui}ci[Fi++]=new te(Ii,Ji,Xi,Zi)}oe[he++]=new W(ci)}let Me=oe[0].entries;const ke=[];let Je=0;for(let ot=1,ht=oe.length;ot<ht;ot++){const xt=oe[ot].entries,nt=Me[Me.length-1],It=xt[0];if(nt.getType()===0&&It.getType()===0&&It.originalLineStart<=nt.originalLineEnd){Me[Me.length-1]=new te(nt.originalLineStart,It.originalLineEnd,nt.modifiedLineStart,It.modifiedLineEnd),Me=Me.concat(xt.slice(1));continue}ke[Je++]=new W(Me),Me=xt}return ke[Je++]=new W(Me),ke}_findDiffIndex(_e){const Ee=_e.lineNumber;for(let Le=0,oe=this._diffs.length;Le<oe;Le++){const he=this._diffs[Le].entries,Me=he[he.length-1].modifiedLineEnd;if(Ee<=Me)return Le}return 0}_render(){const _e=this._diffEditor.getOriginalEditor().getOptions(),Ee=this._diffEditor.getModifiedEditor().getOptions(),Le=this._diffEditor.getOriginalEditor().getModel(),oe=this._diffEditor.getModifiedEditor().getModel(),he=Le.getOptions(),Me=oe.getOptions();if(!this._isVisible||!Le||!oe){l.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const ke=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[ke]===this._currentDiff)return;this._currentDiff=this._diffs[ke];const Je=this._diffs[ke].entries,ot=document.createElement("div");ot.className="diff-review-table",ot.setAttribute("role","list"),ot.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,O.N)(ot,Ee.get(46));let ht=0,xt=0,nt=0,It=0;for(let Zi=0,Ui=Je.length;Zi<Ui;Zi++){const nn=Je[Zi],Dn=nn.originalLineStart,Cn=nn.originalLineEnd,pi=nn.modifiedLineStart,ze=nn.modifiedLineEnd;Dn!==0&&(ht===0||Dn<ht)&&(ht=Dn),Cn!==0&&(xt===0||Cn>xt)&&(xt=Cn),pi!==0&&(nt===0||pi<nt)&&(nt=pi),ze!==0&&(It===0||ze>It)&&(It=ze)}const Ht=document.createElement("div");Ht.className="diff-review-row";const Qt=document.createElement("div");Qt.className="diff-review-cell diff-review-summary";const ci=xt-ht+1,Fi=It-nt+1;Qt.appendChild(document.createTextNode(`${ke+1}/${this._diffs.length}: @@ -${ht},${ci} +${nt},${Fi} @@`)),Ht.setAttribute("data-line",String(nt));const Ii=Zi=>Zi===0?b.NC("no_lines_changed","no lines changed"):Zi===1?b.NC("one_line_changed","1 line changed"):b.NC("more_lines_changed","{0} lines changed",Zi),Xi=Ii(ci),zi=Ii(Fi);Ht.setAttribute("aria-label",b.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",ke+1,this._diffs.length,ht,Xi,nt,zi)),Ht.appendChild(Qt),Ht.setAttribute("role","listitem"),ot.appendChild(Ht);const Si=Ee.get(61);let Ji=nt;for(let Zi=0,Ui=Je.length;Zi<Ui;Zi++){const nn=Je[Zi];Qa._renderSection(ot,nn,Ji,Si,this._width,_e,Le,he,Ee,oe,Me,this._languageService.languageIdCodec),nn.modifiedLineStart!==0&&(Ji=nn.modifiedLineEnd)}l.PO(this._content.domNode),this._content.domNode.appendChild(ot),this.scrollbar.scanDomNode()}static _renderSection(_e,Ee,Le,oe,he,Me,ke,Je,ot,ht,xt,nt){const It=Ee.getType();let Ht="diff-review-row",Qt="";const ci="diff-review-spacer";let Fi=null;switch(It){case 1:Ht="diff-review-row line-insert",Qt=" char-insert",Fi=G;break;case 2:Ht="diff-review-row line-delete",Qt=" char-delete",Fi=q;break}const Ii=Ee.originalLineStart,Xi=Ee.originalLineEnd,zi=Ee.modifiedLineStart,Si=Ee.modifiedLineEnd,Ji=Math.max(Si-zi,Xi-Ii),Zi=Me.get(133),Ui=Zi.glyphMarginWidth+Zi.lineNumbersWidth,nn=ot.get(133),Dn=10+nn.glyphMarginWidth+nn.lineNumbersWidth;for(let Cn=0;Cn<=Ji;Cn++){const pi=Ii===0?0:Ii+Cn,ze=zi===0?0:zi+Cn,Ct=document.createElement("div");Ct.style.minWidth=he+"px",Ct.className=Ht,Ct.setAttribute("role","listitem"),ze!==0&&(Le=ze),Ct.setAttribute("data-line",String(Le));const kt=document.createElement("div");kt.className="diff-review-cell",kt.style.height=`${oe}px`,Ct.appendChild(kt);const oi=document.createElement("span");oi.style.width=Ui+"px",oi.style.minWidth=Ui+"px",oi.className="diff-review-line-number"+Qt,pi!==0?oi.appendChild(document.createTextNode(String(pi))):oi.innerText="\xA0",kt.appendChild(oi);const ai=document.createElement("span");ai.style.width=Dn+"px",ai.style.minWidth=Dn+"px",ai.style.paddingRight="10px",ai.className="diff-review-line-number"+Qt,ze!==0?ai.appendChild(document.createTextNode(String(ze))):ai.innerText="\xA0",kt.appendChild(ai);const bi=document.createElement("span");if(bi.className=ci,Fi){const ji=document.createElement("span");ji.className=$.kS.asClassName(Fi),ji.innerText="\xA0\xA0",bi.appendChild(ji)}else bi.innerText="\xA0\xA0";kt.appendChild(bi);let xi;if(ze!==0){let ji=this._renderLine(ht,ot,xt.tabSize,ze,nt);Qa._ttPolicy&&(ji=Qa._ttPolicy.createHTML(ji)),kt.insertAdjacentHTML("beforeend",ji),xi=ht.getLineContent(ze)}else{let ji=this._renderLine(ke,Me,Je.tabSize,pi,nt);Qa._ttPolicy&&(ji=Qa._ttPolicy.createHTML(ji)),kt.insertAdjacentHTML("beforeend",ji),xi=ke.getLineContent(pi)}xi.length===0&&(xi=b.NC("blankLine","blank"));let Ti="";switch(It){case 0:pi===ze?Ti=b.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",xi,pi):Ti=b.NC("equalLine","{0} original line {1} modified line {2}",xi,pi,ze);break;case 1:Ti=b.NC("insertLine","+ {0} modified line {1}",xi,ze);break;case 2:Ti=b.NC("deleteLine","- {0} original line {1}",xi,pi);break}Ct.setAttribute("aria-label",Ti),_e.appendChild(Ct)}}static _renderLine(_e,Ee,Le,oe,he){const Me=_e.getLineContent(oe),ke=Ee.get(46),Je=p.A.createEmpty(Me,he),ot=I.wA.isBasicASCII(Me,_e.mightContainNonBasicASCII()),ht=I.wA.containsRTL(Me,ot,_e.mightContainRTL());return(0,M.tF)(new M.IJ(ke.isMonospace&&!Ee.get(29),ke.canUseHalfwidthRightwardsArrow,Me,!1,ot,ht,0,Je,[],Le,0,ke.spaceWidth,ke.middotWidth,ke.wsmiddotWidth,Ee.get(107),Ee.get(90),Ee.get(85),Ee.get(47)!==v.n0.OFF,null)).html}};w._ttPolicy=(Q=window.trustedTypes)===null||Q===void 0?void 0:Q.createPolicy("diffReview",{createHTML:vt=>vt}),w=se([X(1,ie.O)],w),(0,$.Ic)((vt,_e)=>{const Ee=vt.getColor(T.hw);Ee&&_e.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Ee}; }`);const Le=vt.getColor(V._wn);Le&&_e.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${Le} 0 -6px 6px -6px inset; }`)});class we extends _.R6{constructor(){super({id:"editor.action.diffReview.next",label:b.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:P.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(_e,Ee){const Le=Ne(_e);Le&&Le.diffReviewNext()}}class xe extends _.R6{constructor(){super({id:"editor.action.diffReview.prev",label:b.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:P.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(_e,Ee){const Le=Ne(_e);Le&&Le.diffReviewPrev()}}function Ne(vt){const _e=vt.get(g.$),Ee=_e.listDiffEditors(),Le=_e.getActiveCodeEditor();if(!Le)return null;for(let oe=0,he=Ee.length;oe<he;oe++){const Me=Ee[oe];if(Me.getModifiedEditor().getId()===Le.getId()||Me.getOriginalEditor().getId()===Le.getId())return Me}return null}(0,_.Qr)(we),(0,_.Qr)(xe);var Ve=s(24314),Ce=s(50072),Ae=s(96518),$e=s(22529),je=s(85215),at=s(30665),pt=s(92550),bt=s(72065),We=s(60972),it=s(59422),pe=s(5606),ye=function(vt,_e,Ee,Le){function oe(he){return he instanceof Ee?he:new Ee(function(Me){Me(he)})}return new(Ee||(Ee=Promise))(function(he,Me){function ke(ht){try{ot(Le.next(ht))}catch(xt){Me(xt)}}function Je(ht){try{ot(Le.throw(ht))}catch(xt){Me(xt)}}function ot(ht){ht.done?he(ht.value):oe(ht.value).then(ke,Je)}ot((Le=Le.apply(vt,_e||[])).next())})};class ft extends H.JT{constructor(_e,Ee,Le,oe,he,Me){super(),this._viewZoneId=_e,this._marginDomNode=Ee,this.editor=Le,this.diff=oe,this._contextMenuService=he,this._clipboardService=Me,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=re.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const ke=Le.getOption(61),Je=Le.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${ke}px`,this._diffActions.style.lineHeight=`${ke}px`,this._marginDomNode.appendChild(this._diffActions);const ot=[],ht=oe.modifiedEndLineNumber===0;ot.push(new d.aU("diff.clipboard.copyDeletedContent",ht?oe.originalEndLineNumber>oe.modifiedStartLineNumber?b.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):b.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):oe.originalEndLineNumber>oe.modifiedStartLineNumber?b.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):b.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>ye(this,void 0,void 0,function*(){const Qt=new Ve.e(oe.originalStartLineNumber,1,oe.originalEndLineNumber+1,1),ci=oe.originalModel.getValueInRange(Qt);yield this._clipboardService.writeText(ci)})));let xt=0,nt;oe.originalEndLineNumber>oe.modifiedStartLineNumber&&(nt=new d.aU("diff.clipboard.copyDeletedLineContent",ht?b.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",oe.originalStartLineNumber):b.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",oe.originalStartLineNumber),void 0,!0,()=>ye(this,void 0,void 0,function*(){const Qt=oe.originalModel.getLineContent(oe.originalStartLineNumber+xt);if(Qt===""){const ci=oe.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(ci===0?`
`:`\r
`)}else yield this._clipboardService.writeText(Qt)})),ot.push(nt)),Le.getOption(83)||ot.push(new d.aU("diff.inline.revertChange",b.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>ye(this,void 0,void 0,function*(){const Qt=new Ve.e(oe.originalStartLineNumber,1,oe.originalEndLineNumber,oe.originalModel.getLineMaxColumn(oe.originalEndLineNumber)),ci=oe.originalModel.getValueInRange(Qt);if(oe.modifiedEndLineNumber===0){const Fi=Le.getModel().getLineMaxColumn(oe.modifiedStartLineNumber);Le.executeEdits("diffEditor",[{range:new Ve.e(oe.modifiedStartLineNumber,Fi,oe.modifiedStartLineNumber,Fi),text:Je+ci}])}else{const Fi=Le.getModel().getLineMaxColumn(oe.modifiedEndLineNumber);Le.executeEdits("diffEditor",[{range:new Ve.e(oe.modifiedStartLineNumber,1,oe.modifiedEndLineNumber,Fi),text:ci}])}})));const Ht=(Qt,ci)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:Qt,y:ci}),getActions:()=>(nt&&(nt.label=ht?b.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",oe.originalStartLineNumber+xt):b.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",oe.originalStartLineNumber+xt)),ot),autoSelectFirstItem:!0})};this._register(l.mu(this._diffActions,"mousedown",Qt=>{const{top:ci,height:Fi}=l.i(this._diffActions),Ii=Math.floor(ke/3);Qt.preventDefault(),Ht(Qt.posx,ci+Fi+Ii)})),this._register(Le.onMouseMove(Qt=>{Qt.target.type===8||Qt.target.type===5?Qt.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,xt=this._updateLightBulbPosition(this._marginDomNode,Qt.event.browserEvent.y,ke)):this.visibility=!1:this.visibility=!1})),this._register(Le.onMouseDown(Qt=>{Qt.event.rightButton&&(Qt.target.type===8||Qt.target.type===5)&&Qt.target.detail.viewZoneId===this._viewZoneId&&(Qt.event.preventDefault(),xt=this._updateLightBulbPosition(this._marginDomNode,Qt.event.browserEvent.y,ke),Ht(Qt.event.posx,Qt.event.posy+ke))}))}get visibility(){return this._visibility}set visibility(_e){this._visibility!==_e&&(this._visibility=_e,_e?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(_e,Ee,Le){const{top:oe}=l.i(_e),he=Ee-oe,Me=Math.floor(he/Le),ke=Me*Le;if(this._diffActions.style.top=`${ke}px`,this.diff.viewLineCounts){let Je=0;for(let ot=0;ot<this.diff.viewLineCounts.length;ot++)if(Je+=this.diff.viewLineCounts[ot],Me<Je)return ot}return Me}}var Xt=s(84972),qt=s(17301),Ft=s(90535),Ot=s(54534),Mt=s(49335),ni=s(92321),Gt=function(vt,_e,Ee,Le){var oe=arguments.length,he=oe<3?_e:Le===null?Le=Object.getOwnPropertyDescriptor(_e,Ee):Le,Me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(vt,_e,Ee,Le);else for(var ke=vt.length-1;ke>=0;ke--)(Me=vt[ke])&&(he=(oe<3?Me(he):oe>3?Me(_e,Ee,he):Me(_e,Ee))||he);return oe>3&&he&&Object.defineProperty(_e,Ee,he),he},Fe=function(vt,_e){return function(Ee,Le){_e(Ee,Le,vt)}},Ge;class Te{constructor(_e,Ee){this._contextMenuService=_e,this._clipboardService=Ee,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(_e){return _e.filter(Ee=>!this._zonesMap[String(Ee.id)])}clean(_e){this._zones.length>0&&_e.changeViewZones(Ee=>{for(const Le of this._zones)Ee.removeZone(Le)}),this._zones=[],this._zonesMap={},_e.changeDecorations(Ee=>{this._decorations=Ee.deltaDecorations(this._decorations,[])})}apply(_e,Ee,Le,oe){const he=oe?y.Z.capture(_e):null;_e.changeViewZones(Me=>{var ke;for(const Je of this._zones)Me.removeZone(Je);for(const Je of this._inlineDiffMargins)Je.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Je=0,ot=Le.zones.length;Je<ot;Je++){const ht=Le.zones[Je];ht.suppressMouseDown=!0;const xt=Me.addZone(ht);this._zones.push(xt),this._zonesMap[String(xt)]=!0,Le.zones[Je].diff&&ht.marginDomNode&&(ht.suppressMouseDown=!1,((ke=Le.zones[Je].diff)===null||ke===void 0?void 0:ke.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new ft(xt,ht.marginDomNode,_e,Le.zones[Je].diff,this._contextMenuService,this._clipboardService)))}}),he?.restore(_e),_e.changeDecorations(Me=>{this._decorations=Me.deltaDecorations(this._decorations,Le.decorations)}),Ee?.setZones(Le.overviewZones)}}let Ke=0;const ut=(0,ae.q5)("diff-insert",re.lA.add,b.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),Nt=(0,ae.q5)("diff-remove",re.lA.remove,b.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),Be=(Ge=window.trustedTypes)===null||Ge===void 0?void 0:Ge.createPolicy("diffEditorWidget",{createHTML:vt=>vt});let Ze=class Fs extends H.JT{constructor(_e,Ee,Le,oe,he,Me,ke,Je,ot,ht,xt,nt){super(),this._editorProgressService=nt,this._onDidDispose=this._register(new B.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new B.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new B.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=he,this._codeEditorService=Je,this._contextKeyService=this._register(Me.createScoped(_e)),this._instantiationService=ke.createChild(new We.y([P.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=ot,this._notificationService=ht,this._id=++Ke,this._state=0,this._updatingDiffProgress=null,this._domElement=_e,Ee=Ee||{},this._options=Ci(Ee,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof Ee.isInEmbeddedEditor<"u"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",Ee.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new Z.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Fs._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,j.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(l.mu(this._overviewDomElement,l.tw.POINTER_DOWN,Ht=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(Ht)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Te(xt,oe),this._modifiedEditorState=new Te(xt,oe),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Ot.I(this._containerDomElement,Ee.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Ee.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Ee,Le.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Ee,Le.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=ke.createInstance(w,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Xe(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new mi(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(ot.onDidColorThemeChange(Ht=>{this._strategy&&this._strategy.applyColors(Ht)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Fs._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const It=_.Uc.getDiffEditorContributions();for(const Ht of It)try{this._register(ke.createInstance(Ht.ctor,this))}catch(Qt){(0,qt.dL)(Qt)}this._codeEditorService.addDiffEditor(this)}_setState(_e){this._state!==_e&&(this._state=_e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(_e,Ee){let Le="monaco-diff-editor monaco-editor-background ";return Ee&&(Le+="side-by-side "),Le+=(0,$.m6)(_e.type),Le}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(z.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(_e,Ee){const Le=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(_e),Ee);this._register(Le.onDidScrollChange(he=>{this._isHandlingScrollEvent||!he.scrollTopChanged&&!he.scrollLeftChanged&&!he.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:he.scrollLeft,scrollTop:he.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Le.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Le.onDidChangeConfiguration(he=>{Le.getModel()&&(he.hasChanged(46)&&this._updateDecorationsRunner.schedule(),he.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Le.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Le.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const oe=this._contextKeyService.createKey("isInDiffLeftEditor",Le.hasWidgetFocus());return this._register(Le.onDidFocusEditorWidget(()=>oe.set(!0))),this._register(Le.onDidBlurEditorWidget(()=>oe.set(!1))),this._register(Le.onDidContentSizeChange(he=>{const Me=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Fs.ONE_OVERVIEW_WIDTH,ke=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ke,contentWidth:Me,contentHeightChanged:he.contentHeightChanged,contentWidthChanged:he.contentWidthChanged})})),Le}_createRightHandSideEditor(_e,Ee){const Le=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(_e),Ee);this._register(Le.onDidScrollChange(he=>{this._isHandlingScrollEvent||!he.scrollTopChanged&&!he.scrollLeftChanged&&!he.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:he.scrollLeft,scrollTop:he.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Le.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Le.onDidChangeConfiguration(he=>{Le.getModel()&&(he.hasChanged(46)&&this._updateDecorationsRunner.schedule(),he.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Le.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Le.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(Le.onDidChangeModelOptions(he=>{he.tabSize&&this._updateDecorationsRunner.schedule()}));const oe=this._contextKeyService.createKey("isInDiffRightEditor",Le.hasWidgetFocus());return this._register(Le.onDidFocusEditorWidget(()=>oe.set(!0))),this._register(Le.onDidBlurEditorWidget(()=>oe.set(!1))),this._register(Le.onDidContentSizeChange(he=>{const Me=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Fs.ONE_OVERVIEW_WIDTH,ke=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ke,contentWidth:Me,contentHeightChanged:he.contentHeightChanged,contentWidthChanged:he.contentWidthChanged})})),this._register(Le.onMouseDown(he=>{var Me,ke;if(!he.event.rightButton&&he.target.position&&(!((Me=he.target.element)===null||Me===void 0)&&Me.className.includes("arrow-revert-change"))){const Je=he.target.position.lineNumber,ot=(ke=this._diffComputationResult)===null||ke===void 0?void 0:ke.changes.find(ht=>ht.modifiedStartLineNumber===Je-1||ht.modifiedStartLineNumber===Je);ot&&this.revertChange(ot),he.event.stopPropagation(),this._updateDecorations();return}})),Le}revertChange(_e){const Ee=this._modifiedEditor,Le=this._originalEditor.getModel(),oe=this._modifiedEditor.getModel();if(!Le||!oe||!Ee)return;const he=_e.originalEndLineNumber>0?new Ve.e(_e.originalStartLineNumber,1,_e.originalEndLineNumber,Le.getLineMaxColumn(_e.originalEndLineNumber)):null,Me=he?Le.getValueInRange(he):null,ke=_e.modifiedEndLineNumber>0?new Ve.e(_e.modifiedStartLineNumber,1,_e.modifiedEndLineNumber,oe.getLineMaxColumn(_e.modifiedEndLineNumber)):null,Je=oe.getEOL();if(_e.originalEndLineNumber===0&&ke){let ot=ke;_e.modifiedStartLineNumber>1?ot=ke.setStartPosition(_e.modifiedStartLineNumber-1,oe.getLineMaxColumn(_e.modifiedStartLineNumber-1)):_e.modifiedEndLineNumber<oe.getLineCount()&&(ot=ke.setEndPosition(_e.modifiedEndLineNumber+1,1)),Ee.executeEdits("diffEditor",[{range:ot,text:""}])}else if(_e.modifiedEndLineNumber===0&&Me!==null){const ot=_e.modifiedStartLineNumber<oe.getLineCount()?new L.L(_e.modifiedStartLineNumber+1,1):new L.L(_e.modifiedStartLineNumber,oe.getLineMaxColumn(_e.modifiedStartLineNumber));Ee.executeEdits("diffEditor",[{range:Ve.e.fromPositions(ot,ot),text:_e.modifiedStartLineNumber<oe.getLineCount()?Me+Je:Je+Me}])}else ke&&Me!==null&&Ee.executeEdits("diffEditor",[{range:ke,text:Me}])}_createInnerEditor(_e,Ee,Le,oe){return _e.createInstance(C.Gm,Ee,Le,oe)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Ae.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(_e){const Ee=Ci(_e,this._options),Le=Wt(this._options,Ee);this._options=Ee;const oe=Le.ignoreTrimWhitespace||Le.renderIndicators||Le.renderMarginRevertIcon,he=this._isVisible&&(Le.maxComputationTime||Le.maxFileSize);oe?this._beginUpdateDecorations():he&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(_e)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(_e)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),Le.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Xe(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new mi(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Fs._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),Le.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(_e){if(_e&&(!_e.original||!_e.modified))throw new Error(_e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(_e?_e.original:null),this._modifiedEditor.setModel(_e?_e.modified:null),this._updateDecorationsRunner.cancel(),_e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),_e&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(_e){return this._modifiedEditor.getVisibleColumnFromPosition(_e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(_e,Ee="api"){this._modifiedEditor.setPosition(_e,Ee)}revealLine(_e,Ee=0){this._modifiedEditor.revealLine(_e,Ee)}revealLineInCenter(_e,Ee=0){this._modifiedEditor.revealLineInCenter(_e,Ee)}revealLineInCenterIfOutsideViewport(_e,Ee=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(_e,Ee)}revealLineNearTop(_e,Ee=0){this._modifiedEditor.revealLineNearTop(_e,Ee)}revealPosition(_e,Ee=0){this._modifiedEditor.revealPosition(_e,Ee)}revealPositionInCenter(_e,Ee=0){this._modifiedEditor.revealPositionInCenter(_e,Ee)}revealPositionInCenterIfOutsideViewport(_e,Ee=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(_e,Ee)}revealPositionNearTop(_e,Ee=0){this._modifiedEditor.revealPositionNearTop(_e,Ee)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(_e,Ee="api"){this._modifiedEditor.setSelection(_e,Ee)}setSelections(_e,Ee="api"){this._modifiedEditor.setSelections(_e,Ee)}revealLines(_e,Ee,Le=0){this._modifiedEditor.revealLines(_e,Ee,Le)}revealLinesInCenter(_e,Ee,Le=0){this._modifiedEditor.revealLinesInCenter(_e,Ee,Le)}revealLinesInCenterIfOutsideViewport(_e,Ee,Le=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(_e,Ee,Le)}revealLinesNearTop(_e,Ee,Le=0){this._modifiedEditor.revealLinesNearTop(_e,Ee,Le)}revealRange(_e,Ee=0,Le=!1,oe=!0){this._modifiedEditor.revealRange(_e,Ee,Le,oe)}revealRangeInCenter(_e,Ee=0){this._modifiedEditor.revealRangeInCenter(_e,Ee)}revealRangeInCenterIfOutsideViewport(_e,Ee=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(_e,Ee)}revealRangeNearTop(_e,Ee=0){this._modifiedEditor.revealRangeNearTop(_e,Ee)}revealRangeNearTopIfOutsideViewport(_e,Ee=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(_e,Ee)}revealRangeAtTop(_e,Ee=0){this._modifiedEditor.revealRangeAtTop(_e,Ee)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const _e=this._originalEditor.saveViewState(),Ee=this._modifiedEditor.saveViewState();return{original:_e,modified:Ee}}restoreViewState(_e){if(_e&&_e.original&&_e.modified){const Ee=_e;this._originalEditor.restoreViewState(Ee.original),this._modifiedEditor.restoreViewState(Ee.modified)}}layout(_e){this._elementSizeObserver.observe(_e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(_e,Ee,Le){this._modifiedEditor.trigger(_e,Ee,Le)}createDecorationsCollection(_e){return this._modifiedEditor.createDecorationsCollection(_e)}changeDecorations(_e){return this._modifiedEditor.changeDecorations(_e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const _e=this._elementSizeObserver.getHeight(),Ee=this._getReviewHeight(),Le=Fs.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Fs.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Fs.ONE_OVERVIEW_WIDTH,right:Le+Fs.ONE_OVERVIEW_WIDTH,height:_e-Ee}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Fs.ONE_OVERVIEW_WIDTH,height:_e-Ee}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Fs.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(_e,Ee){return!_e&&!Ee?!0:!_e||!Ee?!1:_e.toString()===Ee.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const _e=this._originalEditor.getModel(),Ee=this._modifiedEditor.getModel();if(!_e||!Ee)return;this._diffComputationToken++;const Le=this._diffComputationToken,oe=this._options.maxFileSize*1024*1024,he=Me=>{const ke=Me.getValueLength();return oe===0||ke<=oe};if(!he(_e)||!he(Ee)){(!Fs._equals(_e.uri,this._lastOriginalWarning)||!Fs._equals(Ee.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=_e.uri,this._lastModifiedWarning=Ee.uri,this._notificationService.warn(b.NC("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(_e.uri,Ee.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(Me=>{Le===this._diffComputationToken&&_e===this._originalEditor.getModel()&&Ee===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=Me,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},Me=>{Le===this._diffComputationToken&&_e===this._originalEditor.getModel()&&Ee===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const _e=this._diffComputationResult?this._diffComputationResult.changes:[],Ee=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),Le=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),oe=this._strategy.getEditorsDiffDecorations(_e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,Ee,Le);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,oe.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,oe.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(_e){const Ee=Object.assign({},_e);return Ee.inDiffEditor=!0,Ee.automaticLayout=!1,Ee.scrollbar=Object.assign({},Ee.scrollbar||{}),Ee.scrollbar.vertical="visible",Ee.folding=!1,Ee.codeLens=this._options.diffCodeLens,Ee.fixedOverflowWidgets=!0,Ee.minimap=Object.assign({},Ee.minimap||{}),Ee.minimap.enabled=!1,Ee}_adjustOptionsForLeftHandSide(_e){const Ee=this._adjustOptionsForSubEditor(_e);return this._options.renderSideBySide?Ee.wordWrapOverride1=this._options.diffWordWrap:(Ee.wordWrapOverride1="off",Ee.wordWrapOverride2="off"),_e.originalAriaLabel&&(Ee.ariaLabel=_e.originalAriaLabel),Ee.readOnly=!this._options.originalEditable,Ee.dropIntoEditor={enabled:!Ee.readOnly},Ee.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Ee),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(_e){const Ee=this._adjustOptionsForSubEditor(_e);return _e.modifiedAriaLabel&&(Ee.ariaLabel=_e.modifiedAriaLabel),Ee.wordWrapOverride1=this._options.diffWordWrap,Ee.revealHorizontalRightPadding=v.BH.revealHorizontalRightPadding.defaultValue+Fs.ENTIRE_DIFF_OVERVIEW_WIDTH,Ee.scrollbar.verticalHasArrows=!1,Ee.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Ee),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const _e=this._elementSizeObserver.getWidth(),Ee=this._elementSizeObserver.getHeight(),Le=this._getReviewHeight(),oe=this._strategy.layout();this._originalDomNode.style.width=oe+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=_e-oe+"px",this._modifiedDomNode.style.left=oe+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Ee-Le+"px",this._overviewDomElement.style.width=Fs.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=_e-Fs.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Fs.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:oe,height:Ee-Le}),this._modifiedEditor.layout({width:_e-oe-(this._options.renderOverviewRuler?Fs.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Ee-Le}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Ee-Le,_e,Le),this._layoutOverviewViewport()}_layoutOverviewViewport(){const _e=this._computeOverviewViewport();_e?(this._overviewViewportDomElement.setTop(_e.top),this._overviewViewportDomElement.setHeight(_e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const _e=this._modifiedEditor.getLayoutInfo();if(!_e)return null;const Ee=this._modifiedEditor.getScrollTop(),Le=this._modifiedEditor.getScrollHeight(),oe=Math.max(0,_e.height),he=Math.max(0,oe-2*0),Me=Le>0?he/Le:0,ke=Math.max(0,Math.floor(_e.height*Me)),Je=Math.floor(Ee*Me);return{height:ke,top:Je}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(_e){this._strategy&&this._strategy.dispose(),this._strategy=_e,_e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(_e,Ee){const Le=this._diffComputationResult?this._diffComputationResult.changes:[];if(Le.length===0||_e<Ee(Le[0]))return null;let oe=0,he=Le.length-1;for(;oe<he;){const Me=Math.floor((oe+he)/2),ke=Ee(Le[Me]),Je=Me+1<=he?Ee(Le[Me+1]):1073741824;_e<ke?he=Me-1:_e>=Je?oe=Me+1:(oe=Me,he=Me)}return Le[oe]}_getEquivalentLineForOriginalLineNumber(_e){const Ee=this._getLineChangeAtOrBeforeLineNumber(_e,Je=>Je.originalStartLineNumber);if(!Ee)return _e;const Le=Ee.originalStartLineNumber+(Ee.originalEndLineNumber>0?-1:0),oe=Ee.modifiedStartLineNumber+(Ee.modifiedEndLineNumber>0?-1:0),he=Ee.originalEndLineNumber>0?Ee.originalEndLineNumber-Ee.originalStartLineNumber+1:0,Me=Ee.modifiedEndLineNumber>0?Ee.modifiedEndLineNumber-Ee.modifiedStartLineNumber+1:0,ke=_e-Le;return ke<=he?oe+Math.min(ke,Me):oe+Me-he+ke}_getEquivalentLineForModifiedLineNumber(_e){const Ee=this._getLineChangeAtOrBeforeLineNumber(_e,Je=>Je.modifiedStartLineNumber);if(!Ee)return _e;const Le=Ee.originalStartLineNumber+(Ee.originalEndLineNumber>0?-1:0),oe=Ee.modifiedStartLineNumber+(Ee.modifiedEndLineNumber>0?-1:0),he=Ee.originalEndLineNumber>0?Ee.originalEndLineNumber-Ee.originalStartLineNumber+1:0,Me=Ee.modifiedEndLineNumber>0?Ee.modifiedEndLineNumber-Ee.modifiedStartLineNumber+1:0,ke=_e-oe;return ke<=Me?Le+Math.min(ke,he):Le+he-Me+ke}getDiffLineInformationForOriginal(_e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(_e)}:null}getDiffLineInformationForModified(_e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(_e)}:null}};Ze.ONE_OVERVIEW_WIDTH=15,Ze.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Ze.UPDATE_DIFF_DECORATIONS_DELAY=200,Ze=Gt([Fe(3,Xt.p),Fe(4,je.p),Fe(5,P.i6),Fe(6,bt.TG),Fe(7,g.$),Fe(8,$.XE),Fe(9,it.lT),Fe(10,pe.i),Fe(11,Ft.ek)],Ze);class wt extends H.JT{constructor(_e){super(),this._dataSource=_e,this._insertColor=null,this._removeColor=null}applyColors(_e){const Ee=_e.getColor(V.P6Y)||(_e.getColor(V.ypS)||V.CzK).transparent(2),Le=_e.getColor(V.F9q)||(_e.getColor(V.P4M)||V.keg).transparent(2),oe=!Ee.equals(this._insertColor)||!Le.equals(this._removeColor);return this._insertColor=Ee,this._removeColor=Le,oe}getEditorsDiffDecorations(_e,Ee,Le,oe,he,Me){Me=Me.sort((ht,xt)=>ht.afterLineNumber-xt.afterLineNumber),he=he.sort((ht,xt)=>ht.afterLineNumber-xt.afterLineNumber);const ke=this._getViewZones(_e,he,Me,Le),Je=this._getOriginalEditorDecorations(ke,_e,Ee,Le),ot=this._getModifiedEditorDecorations(ke,_e,Ee,Le,oe);return{original:{decorations:Je.decorations,overviewZones:Je.overviewZones,zones:ke.original},modified:{decorations:ot.decorations,overviewZones:ot.overviewZones,zones:ke.modified}}}}class $t{constructor(_e){this._source=_e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class _t{constructor(_e,Ee,Le,oe,he){this._lineChanges=_e,this._originalForeignVZ=Ee,this._modifiedForeignVZ=Le,this._originalEditor=oe,this._modifiedEditor=he}static _getViewLineCount(_e,Ee,Le){const oe=_e.getModel(),he=_e._getViewModel();if(oe&&he){const Me=Vi(oe,he,Ee,Le);return Me.endLineNumber-Me.startLineNumber+1}return Le-Ee+1}getViewZones(){const _e=this._originalEditor.getOption(61),Ee=this._modifiedEditor.getOption(61),Le=this._originalEditor.getOption(134).wrappingColumn!==-1,oe=this._modifiedEditor.getOption(134).wrappingColumn!==-1,he=Le||oe,Me=this._originalEditor.getModel(),ke=this._originalEditor._getViewModel().coordinatesConverter,Je=this._modifiedEditor._getViewModel().coordinatesConverter,ot={original:[],modified:[]};let ht=0,xt=0,nt=0,It=0,Ht=0,Qt=0;const ci=(Ji,Zi)=>Ji.afterLineNumber-Zi.afterLineNumber,Fi=(Ji,Zi)=>{if(Zi.domNode===null&&Ji.length>0){const Ui=Ji[Ji.length-1];if(Ui.afterLineNumber===Zi.afterLineNumber&&Ui.domNode===null){Ui.heightInLines+=Zi.heightInLines;return}}Ji.push(Zi)},Ii=new $t(this._modifiedForeignVZ),Xi=new $t(this._originalForeignVZ);let zi=1,Si=1;for(let Ji=0,Zi=this._lineChanges.length;Ji<=Zi;Ji++){const Ui=Ji<Zi?this._lineChanges[Ji]:null;Ui!==null?(nt=Ui.originalStartLineNumber+(Ui.originalEndLineNumber>0?-1:0),It=Ui.modifiedStartLineNumber+(Ui.modifiedEndLineNumber>0?-1:0),xt=Ui.originalEndLineNumber>0?_t._getViewLineCount(this._originalEditor,Ui.originalStartLineNumber,Ui.originalEndLineNumber):0,ht=Ui.modifiedEndLineNumber>0?_t._getViewLineCount(this._modifiedEditor,Ui.modifiedStartLineNumber,Ui.modifiedEndLineNumber):0,Ht=Math.max(Ui.originalStartLineNumber,Ui.originalEndLineNumber),Qt=Math.max(Ui.modifiedStartLineNumber,Ui.modifiedEndLineNumber)):(nt+=1e7+xt,It+=1e7+ht,Ht=nt,Qt=It);let nn=[],Dn=[];if(he){let ze;Ui?Ui.originalEndLineNumber>0?ze=Ui.originalStartLineNumber-zi:ze=Ui.modifiedStartLineNumber-Si:ze=Me.getLineCount()-zi+1;for(let Ct=0;Ct<ze;Ct++){const kt=zi+Ct,oi=Si+Ct,ai=ke.getModelLineViewLineCount(kt),bi=Je.getModelLineViewLineCount(oi);ai<bi?nn.push({afterLineNumber:kt,heightInLines:bi-ai,domNode:null,marginDomNode:null}):ai>bi&&Dn.push({afterLineNumber:oi,heightInLines:ai-bi,domNode:null,marginDomNode:null})}Ui&&(zi=(Ui.originalEndLineNumber>0?Ui.originalEndLineNumber:Ui.originalStartLineNumber)+1,Si=(Ui.modifiedEndLineNumber>0?Ui.modifiedEndLineNumber:Ui.modifiedStartLineNumber)+1)}for(;Ii.current&&Ii.current.afterLineNumber<=Qt;){let ze;Ii.current.afterLineNumber<=It?ze=nt-It+Ii.current.afterLineNumber:ze=Ht;let Ct=null;Ui&&Ui.modifiedStartLineNumber<=Ii.current.afterLineNumber&&Ii.current.afterLineNumber<=Ui.modifiedEndLineNumber&&(Ct=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),nn.push({afterLineNumber:ze,heightInLines:Ii.current.height/Ee,domNode:null,marginDomNode:Ct}),Ii.advance()}for(;Xi.current&&Xi.current.afterLineNumber<=Ht;){let ze;Xi.current.afterLineNumber<=nt?ze=It-nt+Xi.current.afterLineNumber:ze=Qt,Dn.push({afterLineNumber:ze,heightInLines:Xi.current.height/_e,domNode:null}),Xi.advance()}if(Ui!==null&&Pi(Ui)){const ze=this._produceOriginalFromDiff(Ui,xt,ht);ze&&nn.push(ze)}if(Ui!==null&&gt(Ui)){const ze=this._produceModifiedFromDiff(Ui,xt,ht);ze&&Dn.push(ze)}let Cn=0,pi=0;for(nn=nn.sort(ci),Dn=Dn.sort(ci);Cn<nn.length&&pi<Dn.length;){const ze=nn[Cn],Ct=Dn[pi],kt=ze.afterLineNumber-nt,oi=Ct.afterLineNumber-It;kt<oi?(Fi(ot.original,ze),Cn++):oi<kt?(Fi(ot.modified,Ct),pi++):ze.shouldNotShrink?(Fi(ot.original,ze),Cn++):Ct.shouldNotShrink?(Fi(ot.modified,Ct),pi++):ze.heightInLines>=Ct.heightInLines?(ze.heightInLines-=Ct.heightInLines,pi++):(Ct.heightInLines-=ze.heightInLines,Cn++)}for(;Cn<nn.length;)Fi(ot.original,nn[Cn]),Cn++;for(;pi<Dn.length;)Fi(ot.modified,Dn[pi]),pi++}return{original:_t._ensureDomNodes(ot.original),modified:_t._ensureDomNodes(ot.modified)}}static _ensureDomNodes(_e){return _e.map(Ee=>(Ee.domNode||(Ee.domNode=Ri()),Ee))}}function Jt(vt,_e,Ee,Le,oe){return{range:new Ve.e(vt,_e,Ee,Le),options:oe}}const Zt={arrowRevertChange:$e.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+$.kS.asClassName(re.lA.arrowRight)}),charDelete:$e.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:$e.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:$e.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:$e.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:$e.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:$e.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+$.kS.asClassName(ut),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:$e.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:$e.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+$.kS.asClassName(Nt),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:$e.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class Xe extends wt{constructor(_e,Ee){super(_e),this._disableSash=Ee===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new E.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(Le=>this._onSashDrag(Le)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(_e){const Ee=_e===!1;this._disableSash!==Ee&&(this._disableSash=Ee,this._sash.state=this._disableSash?0:3)}layout(_e=this._sashRatio){const Le=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Ze.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let oe=Math.floor((_e||.5)*Le);const he=Math.floor(.5*Le);return oe=this._disableSash?he:oe||he,Le>Xe.MINIMUM_EDITOR_WIDTH*2?(oe<Xe.MINIMUM_EDITOR_WIDTH&&(oe=Xe.MINIMUM_EDITOR_WIDTH),oe>Le-Xe.MINIMUM_EDITOR_WIDTH&&(oe=Le-Xe.MINIMUM_EDITOR_WIDTH)):oe=he,this._sashPosition!==oe&&(this._sashPosition=oe),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(_e){const Le=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Ze.ENTIRE_DIFF_OVERVIEW_WIDTH:0),oe=this.layout((this._startSashPosition+(_e.currentX-_e.startX))/Le);this._sashRatio=oe/Le,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(_e){return 0}getVerticalSashLeft(_e){return this._sashPosition}getVerticalSashHeight(_e){return this._dataSource.getHeight()}_getViewZones(_e,Ee,Le){const oe=this._dataSource.getOriginalEditor(),he=this._dataSource.getModifiedEditor();return new Lt(_e,Ee,Le,oe,he).getViewZones()}_getOriginalEditorDecorations(_e,Ee,Le,oe){const he=this._dataSource.getOriginalEditor(),Me=String(this._removeColor),ke={decorations:[],overviewZones:[]},Je=he.getModel(),ot=he._getViewModel();for(const ht of Ee)if(gt(ht)){ke.decorations.push({range:new Ve.e(ht.originalStartLineNumber,1,ht.originalEndLineNumber,1073741824),options:oe?Zt.lineDeleteWithSign:Zt.lineDelete}),(!Pi(ht)||!ht.charChanges)&&ke.decorations.push(Jt(ht.originalStartLineNumber,1,ht.originalEndLineNumber,1073741824,Zt.charDeleteWholeLine));const xt=Vi(Je,ot,ht.originalStartLineNumber,ht.originalEndLineNumber);if(ke.overviewZones.push(new at.EY(xt.startLineNumber,xt.endLineNumber,0,Me)),ht.charChanges){for(const nt of ht.charChanges)if(ii(nt))if(Le)for(let It=nt.originalStartLineNumber;It<=nt.originalEndLineNumber;It++){let Ht,Qt;It===nt.originalStartLineNumber?Ht=nt.originalStartColumn:Ht=Je.getLineFirstNonWhitespaceColumn(It),It===nt.originalEndLineNumber?Qt=nt.originalEndColumn:Qt=Je.getLineLastNonWhitespaceColumn(It),ke.decorations.push(Jt(It,Ht,It,Qt,Zt.charDelete))}else ke.decorations.push(Jt(nt.originalStartLineNumber,nt.originalStartColumn,nt.originalEndLineNumber,nt.originalEndColumn,Zt.charDelete))}}return ke}_getModifiedEditorDecorations(_e,Ee,Le,oe,he){const Me=this._dataSource.getModifiedEditor(),ke=String(this._insertColor),Je={decorations:[],overviewZones:[]},ot=Me.getModel(),ht=Me._getViewModel();for(const xt of Ee){if(he)if(xt.modifiedEndLineNumber>0)Je.decorations.push({range:new Ve.e(xt.modifiedStartLineNumber,1,xt.modifiedStartLineNumber,1),options:Zt.arrowRevertChange});else{const nt=_e.modified.find(It=>It.afterLineNumber===xt.modifiedStartLineNumber);nt&&(nt.marginDomNode=Di())}if(Pi(xt)){Je.decorations.push({range:new Ve.e(xt.modifiedStartLineNumber,1,xt.modifiedEndLineNumber,1073741824),options:oe?Zt.lineInsertWithSign:Zt.lineInsert}),(!gt(xt)||!xt.charChanges)&&Je.decorations.push(Jt(xt.modifiedStartLineNumber,1,xt.modifiedEndLineNumber,1073741824,Zt.charInsertWholeLine));const nt=Vi(ot,ht,xt.modifiedStartLineNumber,xt.modifiedEndLineNumber);if(Je.overviewZones.push(new at.EY(nt.startLineNumber,nt.endLineNumber,0,ke)),xt.charChanges){for(const It of xt.charChanges)if(St(It))if(Le)for(let Ht=It.modifiedStartLineNumber;Ht<=It.modifiedEndLineNumber;Ht++){let Qt,ci;Ht===It.modifiedStartLineNumber?Qt=It.modifiedStartColumn:Qt=ot.getLineFirstNonWhitespaceColumn(Ht),Ht===It.modifiedEndLineNumber?ci=It.modifiedEndColumn:ci=ot.getLineLastNonWhitespaceColumn(Ht),Je.decorations.push(Jt(Ht,Qt,Ht,ci,Zt.charInsert))}else Je.decorations.push(Jt(It.modifiedStartLineNumber,It.modifiedStartColumn,It.modifiedEndLineNumber,It.modifiedEndColumn,Zt.charInsert))}}}return Je}}Xe.MINIMUM_EDITOR_WIDTH=100;class Lt extends _t{constructor(_e,Ee,Le,oe,he){super(_e,Ee,Le,oe,he)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(_e,Ee,Le){return Le>Ee?{afterLineNumber:Math.max(_e.originalStartLineNumber,_e.originalEndLineNumber),heightInLines:Le-Ee,domNode:null}:null}_produceModifiedFromDiff(_e,Ee,Le){return Ee>Le?{afterLineNumber:Math.max(_e.modifiedStartLineNumber,_e.modifiedEndLineNumber),heightInLines:Ee-Le,domNode:null}:null}}class mi extends wt{constructor(_e,Ee){super(_e),this._decorationsLeft=_e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(_e.getOriginalEditor().onDidLayoutChange(Le=>{this._decorationsLeft!==Le.decorationsLeft&&(this._decorationsLeft=Le.decorationsLeft,_e.relayoutEditors())}))}setEnableSplitViewResizing(_e){}_getViewZones(_e,Ee,Le,oe){const he=this._dataSource.getOriginalEditor(),Me=this._dataSource.getModifiedEditor();return new jt(_e,Ee,Le,he,Me,oe).getViewZones()}_getOriginalEditorDecorations(_e,Ee,Le,oe){const he=String(this._removeColor),Me={decorations:[],overviewZones:[]},ke=this._dataSource.getOriginalEditor(),Je=ke.getModel(),ot=ke._getViewModel();let ht=0;for(const xt of Ee)if(gt(xt)){for(Me.decorations.push({range:new Ve.e(xt.originalStartLineNumber,1,xt.originalEndLineNumber,1073741824),options:Zt.lineDeleteMargin});ht<_e.modified.length;){const Ht=_e.modified[ht];if(Ht.diff&&Ht.diff.originalStartLineNumber>=xt.originalStartLineNumber)break;ht++}let nt=0;if(ht<_e.modified.length){const Ht=_e.modified[ht];Ht.diff&&Ht.diff.originalStartLineNumber===xt.originalStartLineNumber&&Ht.diff.originalEndLineNumber===xt.originalEndLineNumber&&Ht.diff.modifiedStartLineNumber===xt.modifiedStartLineNumber&&Ht.diff.modifiedEndLineNumber===xt.modifiedEndLineNumber&&(nt=Ht.heightInLines)}const It=Vi(Je,ot,xt.originalStartLineNumber,xt.originalEndLineNumber);Me.overviewZones.push(new at.EY(It.startLineNumber,It.endLineNumber,nt,he))}return Me}_getModifiedEditorDecorations(_e,Ee,Le,oe,he){const Me=this._dataSource.getModifiedEditor(),ke=String(this._insertColor),Je={decorations:[],overviewZones:[]},ot=Me.getModel(),ht=Me._getViewModel();for(const xt of Ee)if(Pi(xt)){Je.decorations.push({range:new Ve.e(xt.modifiedStartLineNumber,1,xt.modifiedEndLineNumber,1073741824),options:oe?Zt.lineInsertWithSign:Zt.lineInsert});const nt=Vi(ot,ht,xt.modifiedStartLineNumber,xt.modifiedEndLineNumber);if(Je.overviewZones.push(new at.EY(nt.startLineNumber,nt.endLineNumber,0,ke)),xt.charChanges){for(const It of xt.charChanges)if(St(It))if(Le)for(let Ht=It.modifiedStartLineNumber;Ht<=It.modifiedEndLineNumber;Ht++){let Qt,ci;Ht===It.modifiedStartLineNumber?Qt=It.modifiedStartColumn:Qt=ot.getLineFirstNonWhitespaceColumn(Ht),Ht===It.modifiedEndLineNumber?ci=It.modifiedEndColumn:ci=ot.getLineLastNonWhitespaceColumn(Ht),Je.decorations.push(Jt(Ht,Qt,Ht,ci,Zt.charInsert))}else Je.decorations.push(Jt(It.modifiedStartLineNumber,It.modifiedStartColumn,It.modifiedEndLineNumber,It.modifiedEndColumn,Zt.charInsert))}else Je.decorations.push(Jt(xt.modifiedStartLineNumber,1,xt.modifiedEndLineNumber,1073741824,Zt.charInsertWholeLine))}return Je}layout(){return Math.max(5,this._decorationsLeft)}}class jt extends _t{constructor(_e,Ee,Le,oe,he,Me){super(_e,Ee,Le,oe,he),this._originalModel=oe.getModel(),this._renderIndicators=Me,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const _e=super.getViewZones();return this._finalize(_e),_e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const _e=document.createElement("div");return _e.className="inline-added-margin-view-zone",_e}_produceOriginalFromDiff(_e,Ee,Le){const oe=document.createElement("div");return oe.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(_e.originalStartLineNumber,_e.originalEndLineNumber),heightInLines:Le,domNode:document.createElement("div"),marginDomNode:oe}}_produceModifiedFromDiff(_e,Ee,Le){const oe=document.createElement("div");oe.className=`view-lines line-delete ${Mt.S}`;const he=document.createElement("div");he.className="inline-deleted-margin-view-zone";const Me={shouldNotShrink:!0,afterLineNumber:_e.modifiedEndLineNumber===0?_e.modifiedStartLineNumber:_e.modifiedStartLineNumber-1,heightInLines:Ee,minWidthInPx:0,domNode:oe,marginDomNode:he,diff:{originalStartLineNumber:_e.originalStartLineNumber,originalEndLineNumber:_e.originalEndLineNumber,modifiedStartLineNumber:_e.modifiedStartLineNumber,modifiedEndLineNumber:_e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let ke=_e.originalStartLineNumber;ke<=_e.originalEndLineNumber;ke++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(ke),null,null);return this._pendingLineChange.push(_e),this._pendingViewZones.push(Me),Me}_finalize(_e){const Ee=this._modifiedEditor.getOptions(),Le=this._modifiedEditor.getModel().getOptions().tabSize,oe=Ee.get(46),he=Ee.get(29),Me=oe.typicalHalfwidthCharacterWidth,ke=Ee.get(95),Je=this._originalModel.mightContainNonBasicASCII(),ot=this._originalModel.mightContainRTL(),ht=Ee.get(61),nt=Ee.get(133).decorationsWidth,It=Ee.get(107),Ht=Ee.get(90),Qt=Ee.get(85),ci=Ee.get(47),Fi=this._lineBreaksComputer.finalize();let Ii=0;for(let Xi=0;Xi<this._pendingLineChange.length;Xi++){const zi=this._pendingLineChange[Xi],Si=this._pendingViewZones[Xi],Ji=Si.domNode;(0,O.N)(Ji,oe);const Zi=Si.marginDomNode;(0,O.N)(Zi,oe);const Ui=[];if(zi.charChanges)for(const oi of zi.charChanges)ii(oi)&&Ui.push(new I.$t(new Ve.e(oi.originalStartLineNumber,oi.originalStartColumn,oi.originalEndLineNumber,oi.originalEndColumn),"char-delete",0));const nn=Ui.length>0,Dn=(0,Ce.l$)(1e4);let Cn=0,pi=0,ze=null;for(let oi=zi.originalStartLineNumber;oi<=zi.originalEndLineNumber;oi++){const ai=oi-zi.originalStartLineNumber,bi=this._originalModel.tokenization.getLineTokens(oi),xi=bi.getLineContent(),Ti=Fi[Ii++],ji=pt.Kp.filter(Ui,oi,1,xi.length+1);if(Ti){let Hi=0;for(const wi of Ti.breakOffsets){const et=bi.sliceAndInflate(Hi,wi,0),lt=xi.substring(Hi,wi);Cn=Math.max(Cn,this._renderOriginalLine(pi++,lt,et,pt.Kp.extractWrapped(ji,Hi,wi),nn,Je,ot,oe,he,ht,nt,It,Ht,Qt,ci,Le,Dn,Zi)),Hi=wi}for(ze||(ze=[]);ze.length<ai;)ze[ze.length]=1;ze[ai]=Ti.breakOffsets.length,Si.heightInLines+=Ti.breakOffsets.length-1;const rn=document.createElement("div");rn.className="gutter-delete",_e.original.push({afterLineNumber:oi,afterColumn:0,heightInLines:Ti.breakOffsets.length-1,domNode:Ri(),marginDomNode:rn})}else Cn=Math.max(Cn,this._renderOriginalLine(pi++,xi,bi,ji,nn,Je,ot,oe,he,ht,nt,It,Ht,Qt,ci,Le,Dn,Zi))}Cn+=ke;const Ct=Dn.build(),kt=Be?Be.createHTML(Ct):Ct;if(Ji.innerHTML=kt,Si.minWidthInPx=Cn*Me,ze){const oi=zi.originalEndLineNumber-zi.originalStartLineNumber;for(;ze.length<=oi;)ze[ze.length]=1}Si.diff.viewLineCounts=ze}_e.original.sort((Xi,zi)=>Xi.afterLineNumber-zi.afterLineNumber)}_renderOriginalLine(_e,Ee,Le,oe,he,Me,ke,Je,ot,ht,xt,nt,It,Ht,Qt,ci,Fi,Ii){Fi.appendASCIIString('<div class="view-line'),he||Fi.appendASCIIString(" char-delete"),Fi.appendASCIIString('" style="top:'),Fi.appendASCIIString(String(_e*ht)),Fi.appendASCIIString('px;width:1000000px;">');const Xi=I.wA.isBasicASCII(Ee,Me),zi=I.wA.containsRTL(Ee,Xi,ke),Si=(0,M.d1)(new M.IJ(Je.isMonospace&&!ot,Je.canUseHalfwidthRightwardsArrow,Ee,!1,Xi,zi,0,Le,oe,ci,0,Je.spaceWidth,Je.middotWidth,Je.wsmiddotWidth,nt,It,Ht,Qt!==v.n0.OFF,null),Fi);if(Fi.appendASCIIString("</div>"),this._renderIndicators){const Ji=document.createElement("div");Ji.className=`delete-sign ${$.kS.asClassName(Nt)}`,Ji.setAttribute("style",`position:absolute;top:${_e*ht}px;width:${xt}px;height:${ht}px;right:0;`),Ii.appendChild(Ji)}return Si.characterMapping.getHorizontalOffset(Si.characterMapping.length)}}function ki(vt,_e){return(0,v.NY)(vt,_e,["off","on","inherit"])}function Pi(vt){return vt.modifiedEndLineNumber>0}function gt(vt){return vt.originalEndLineNumber>0}function St(vt){return vt.modifiedStartLineNumber===vt.modifiedEndLineNumber?vt.modifiedEndColumn-vt.modifiedStartColumn>0:vt.modifiedEndLineNumber-vt.modifiedStartLineNumber>0}function ii(vt){return vt.originalStartLineNumber===vt.originalEndLineNumber?vt.originalEndColumn-vt.originalStartColumn>0:vt.originalEndLineNumber-vt.originalStartLineNumber>0}function Ri(){const vt=document.createElement("div");return vt.className="diagonal-fill",vt}function Di(){const vt=document.createElement("div");return vt.className="arrow-revert-change "+$.kS.asClassName(re.lA.arrowRight),l.$("div",{},vt)}function Vi(vt,_e,Ee,Le){const oe=vt.getLineCount();return Ee=Math.min(oe,Math.max(1,Ee)),Le=Math.min(oe,Math.max(1,Le)),_e.coordinatesConverter.convertModelRangeToViewRange(new Ve.e(Ee,vt.getLineMinColumn(Ee),Le,vt.getLineMaxColumn(Le)))}function Ci(vt,_e){return{enableSplitViewResizing:(0,v.O7)(vt.enableSplitViewResizing,_e.enableSplitViewResizing),renderSideBySide:(0,v.O7)(vt.renderSideBySide,_e.renderSideBySide),renderMarginRevertIcon:(0,v.O7)(vt.renderMarginRevertIcon,_e.renderMarginRevertIcon),maxComputationTime:(0,v.Zc)(vt.maxComputationTime,_e.maxComputationTime,0,1073741824),maxFileSize:(0,v.Zc)(vt.maxFileSize,_e.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,v.O7)(vt.ignoreTrimWhitespace,_e.ignoreTrimWhitespace),renderIndicators:(0,v.O7)(vt.renderIndicators,_e.renderIndicators),originalEditable:(0,v.O7)(vt.originalEditable,_e.originalEditable),diffCodeLens:(0,v.O7)(vt.diffCodeLens,_e.diffCodeLens),renderOverviewRuler:(0,v.O7)(vt.renderOverviewRuler,_e.renderOverviewRuler),diffWordWrap:ki(vt.diffWordWrap,_e.diffWordWrap)}}function Wt(vt,_e){return{enableSplitViewResizing:vt.enableSplitViewResizing!==_e.enableSplitViewResizing,renderSideBySide:vt.renderSideBySide!==_e.renderSideBySide,renderMarginRevertIcon:vt.renderMarginRevertIcon!==_e.renderMarginRevertIcon,maxComputationTime:vt.maxComputationTime!==_e.maxComputationTime,maxFileSize:vt.maxFileSize!==_e.maxFileSize,ignoreTrimWhitespace:vt.ignoreTrimWhitespace!==_e.ignoreTrimWhitespace,renderIndicators:vt.renderIndicators!==_e.renderIndicators,originalEditable:vt.originalEditable!==_e.originalEditable,diffCodeLens:vt.diffCodeLens!==_e.diffCodeLens,renderOverviewRuler:vt.renderOverviewRuler!==_e.renderOverviewRuler,diffWordWrap:vt.diffWordWrap!==_e.diffWordWrap}}(0,$.Ic)((vt,_e)=>{const Ee=vt.getColor(V.ypS);Ee&&_e.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Ee}; }`);const Le=vt.getColor(V.hzo)||Ee;Le&&_e.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${Le}; }`);const oe=vt.getColor(V.j51)||Le;oe&&(_e.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${oe}; }`),_e.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${oe}; }`));const he=vt.getColor(V.P4M);he&&_e.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${he}; }`);const Me=vt.getColor(V.xi6)||he;Me&&_e.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${Me}; }`);const ke=vt.getColor(V.zOm)||Me;ke&&(_e.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${ke}; }`),_e.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${ke}; }`));const Je=vt.getColor(V.XL$);Je&&_e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,ni.c3)(vt.type)?"dashed":"solid"} ${Je}; }`);const ot=vt.getColor(V.mHy);ot&&_e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,ni.c3)(vt.type)?"dashed":"solid"} ${ot}; }`);const ht=vt.getColor(V._wn);ht&&_e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${ht}; }`);const xt=vt.getColor(V.LLc);xt&&_e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${xt}; }`);const nt=vt.getColor(V.etL);nt&&_e.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${nt};
			}
		`);const It=vt.getColor(V.ABB);It&&_e.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${It};
			}
		`);const Ht=vt.getColor(V.ynu);Ht&&_e.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Ht};
			}
		`);const Qt=vt.getColor(V.L_t);_e.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Qt} 12.5%,
			#0000 12.5%, #0000 50%,
			${Qt} 50%, ${Qt} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})},75623:function(Yt,Ye,s){"use strict";s.d(Ye,{F:function(){return B}});var b=s(35146),l=s(4669),z=s(5976),j=s(36248),E=s(24314);const Z={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class B extends z.JT{constructor(O,y={}){super(),this._onDidUpdate=this._register(new l.Q5),this._editor=O,this._options=j.jB(y,Z,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(g=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(g=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(O){this.ranges=[],O&&O.forEach(y=>{!this._options.ignoreCharChanges&&y.charChanges?y.charChanges.forEach(g=>{this.ranges.push({rhs:!0,range:new E.e(g.modifiedStartLineNumber,g.modifiedStartColumn,g.modifiedEndLineNumber,g.modifiedEndColumn)})}):y.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new E.e(y.modifiedStartLineNumber,1,y.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new E.e(y.modifiedStartLineNumber,1,y.modifiedEndLineNumber+1,1)})}),this.ranges.sort((y,g)=>E.e.compareRangesUsingStarts(y.range,g.range)),this._onDidUpdate.fire(this)}_initIdx(O){let y=!1;const g=this._editor.getPosition();if(!g){this.nextIdx=0;return}for(let C=0,m=this.ranges.length;C<m&&!y;C++){const i=this.ranges[C].range;g.isBeforeOrEqual(i.getStartPosition())&&(this.nextIdx=C+(O?0:-1),y=!0)}y||(this.nextIdx=O?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(O,y){if(b.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(O):O?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const g=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const C=g.range.getStartPosition();this._editor.setPosition(C),this._editor.revealRangeInCenter(g.range,y)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(O=0){this._move(!0,O)}previous(O=0){this._move(!1,O)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},84527:function(Yt,Ye,s){"use strict";s.d(Ye,{H:function(){return i}});var b=s(36248),l=s(11640),z=s(69732),j=s(94565),E=s(38819),Z=s(72065),B=s(59422),H=s(97781),O=s(31106),y=s(4256),g=s(71922),C=function(d,_,v,p){var L=arguments.length,T=L<3?_:p===null?p=Object.getOwnPropertyDescriptor(_,v):p,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(d,_,v,p);else for(var I=d.length-1;I>=0;I--)(M=d[I])&&(T=(L<3?M(T):L>3?M(_,v,T):M(_,v))||T);return L>3&&T&&Object.defineProperty(_,v,T),T},m=function(d,_){return function(v,p){_(v,p,d)}};let i=class extends z.Gm{constructor(_,v,p,L,T,M,I,P,V,$,re,ae){super(_,Object.assign(Object.assign({},p.getRawOptions()),{overflowWidgetsDomNode:p.getOverflowWidgetsDomNode()}),{},L,T,M,I,P,V,$,re,ae),this._parentEditor=p,this._overwriteOptions=v,super.updateOptions(this._overwriteOptions),this._register(p.onDidChangeConfiguration(ie=>this._onParentConfigurationChanged(ie)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(_){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(_){b.jB(this._overwriteOptions,_,!0),super.updateOptions(this._overwriteOptions)}};i=C([m(3,Z.TG),m(4,l.$),m(5,j.Hy),m(6,E.i6),m(7,H.XE),m(8,B.lT),m(9,O.F),m(10,y.c_),m(11,g.p)],i)},61329:function(Yt,Ye,s){"use strict";s.d(Ye,{OY:function(){return z},Sj:function(){return j},T4:function(){return l},Uo:function(){return E},hP:function(){return Z}});var b=s(3860);class l{constructor(H,O,y=!1){this._range=H,this._text=O,this.insertsAutoWhitespace=y}getEditOperations(H,O){O.addTrackedEditOperation(this._range,this._text)}computeCursorState(H,O){const g=O.getInverseEditOperations()[0].range;return b.Y.fromPositions(g.getEndPosition())}}class z{constructor(H,O){this._range=H,this._text=O}getEditOperations(H,O){O.addTrackedEditOperation(this._range,this._text)}computeCursorState(H,O){const g=O.getInverseEditOperations()[0].range;return b.Y.fromRange(g,0)}}class j{constructor(H,O,y=!1){this._range=H,this._text=O,this.insertsAutoWhitespace=y}getEditOperations(H,O){O.addTrackedEditOperation(this._range,this._text)}computeCursorState(H,O){const g=O.getInverseEditOperations()[0].range;return b.Y.fromPositions(g.getStartPosition())}}class E{constructor(H,O,y,g,C=!1){this._range=H,this._text=O,this._columnDeltaOffset=g,this._lineNumberDeltaOffset=y,this.insertsAutoWhitespace=C}getEditOperations(H,O){O.addTrackedEditOperation(this._range,this._text)}computeCursorState(H,O){const g=O.getInverseEditOperations()[0].range;return b.Y.fromPositions(g.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class Z{constructor(H,O,y,g=!1){this._range=H,this._text=O,this._initialSelection=y,this._forceMoveMarkers=g,this._selectionId=null}getEditOperations(H,O){O.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=O.trackSelection(this._initialSelection)}computeCursorState(H,O){return O.getTrackedSelection(this._selectionId)}}},10291:function(Yt,Ye,s){"use strict";s.d(Ye,{U:function(){return g}});var b=s(97295),l=s(7988),z=s(24314),j=s(3860),E=s(1615),Z=s(4256),B=function(C,m,i,d){var _=arguments.length,v=_<3?m:d===null?d=Object.getOwnPropertyDescriptor(m,i):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(C,m,i,d);else for(var L=C.length-1;L>=0;L--)(p=C[L])&&(v=(_<3?p(v):_>3?p(m,i,v):p(m,i))||v);return _>3&&v&&Object.defineProperty(m,i,v),v},H=function(C,m){return function(i,d){m(i,d,C)}};const O=Object.create(null);function y(C,m){if(m<=0)return"";O[C]||(O[C]=["",C]);const i=O[C];for(let d=i.length;d<=m;d++)i[d]=i[d-1]+C;return i[m]}let g=class oh{constructor(m,i,d){this._languageConfigurationService=d,this._opts=i,this._selection=m,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(m,i,d,_,v){const p=l.i.visibleColumnFromColumn(m,i,d);if(v){const L=y(" ",_),M=l.i.prevIndentTabStop(p,_)/_;return y(L,M)}else{const L="	",M=l.i.prevRenderTabStop(p,d)/d;return y(L,M)}}static shiftIndent(m,i,d,_,v){const p=l.i.visibleColumnFromColumn(m,i,d);if(v){const L=y(" ",_),M=l.i.nextIndentTabStop(p,_)/_;return y(L,M)}else{const L="	",M=l.i.nextRenderTabStop(p,d)/d;return y(L,M)}}_addEditOperation(m,i,d){this._useLastEditRangeForCursorEndPosition?m.addTrackedEditOperation(i,d):m.addEditOperation(i,d)}getEditOperations(m,i){const d=this._selection.startLineNumber;let _=this._selection.endLineNumber;this._selection.endColumn===1&&d!==_&&(_=_-1);const{tabSize:v,indentSize:p,insertSpaces:L}=this._opts,T=d===_;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(m.getLineContent(d))&&(this._useLastEditRangeForCursorEndPosition=!0);let M=0,I=0;for(let P=d;P<=_;P++,M=I){I=0;const V=m.getLineContent(P);let $=b.LC(V);if(this._opts.isUnshift&&(V.length===0||$===0)||!T&&!this._opts.isUnshift&&V.length===0)continue;if($===-1&&($=V.length),P>1&&l.i.visibleColumnFromColumn(V,$+1,v)%p!==0&&m.tokenization.isCheapToTokenize(P-1)){const ie=(0,E.A)(this._opts.autoIndent,m,new z.e(P-1,m.getLineMaxColumn(P-1),P-1,m.getLineMaxColumn(P-1)),this._languageConfigurationService);if(ie){if(I=M,ie.appendText)for(let se=0,X=ie.appendText.length;se<X&&I<p&&ie.appendText.charCodeAt(se)===32;se++)I++;ie.removeText&&(I=Math.max(0,I-ie.removeText));for(let se=0;se<I&&!($===0||V.charCodeAt($-1)!==32);se++)$--}}if(this._opts.isUnshift&&$===0)continue;let re;this._opts.isUnshift?re=oh.unshiftIndent(V,$+1,v,p,L):re=oh.shiftIndent(V,$+1,v,p,L),this._addEditOperation(i,new z.e(P,1,P,$+1),re),P===d&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=$+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&m.getLineLength(d)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const M=L?y(" ",p):"	";for(let I=d;I<=_;I++){const P=m.getLineContent(I);let V=b.LC(P);if(!(this._opts.isUnshift&&(P.length===0||V===0))&&!(!T&&!this._opts.isUnshift&&P.length===0)&&(V===-1&&(V=P.length),!(this._opts.isUnshift&&V===0)))if(this._opts.isUnshift){V=Math.min(V,p);for(let $=0;$<V;$++)if(P.charCodeAt($)===9){V=$+1;break}this._addEditOperation(i,new z.e(I,1,I,V+1),"")}else this._addEditOperation(i,new z.e(I,1,I,1),M),I===d&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=i.trackSelection(this._selection)}computeCursorState(m,i){if(this._useLastEditRangeForCursorEndPosition){const _=i.getInverseEditOperations()[0];return new j.Y(_.range.endLineNumber,_.range.endColumn,_.range.endLineNumber,_.range.endColumn)}const d=i.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const _=this._selection.startColumn;return d.startColumn<=_?d:d.getDirection()===0?new j.Y(d.startLineNumber,_,d.endLineNumber,d.endColumn):new j.Y(d.endLineNumber,d.endColumn,d.startLineNumber,_)}return d}};g=B([H(2,Z.c_)],g)},800:function(Yt,Ye,s){"use strict";s.d(Ye,{Pe:function(){return C},ei:function(){return g},wk:function(){return Z}});var b=s(64141),l=s(22075),z=s(63580),j=s(23193),E=s(89872);const Z=Object.freeze({id:"editor",order:5,type:"object",title:z.NC("editorConfigurationTitle","Editor"),scope:5}),B=Object.assign(Object.assign({},Z),{properties:{"editor.tabSize":{type:"number",default:l.D.tabSize,minimum:1,markdownDescription:z.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:l.D.insertSpaces,markdownDescription:z.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:l.D.detectIndentation,markdownDescription:z.NC("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:l.D.trimAutoWhitespace,description:z.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:l.D.largeFileOptimizations,description:z.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:z.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[z.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),z.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),z.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:z.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[z.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),z.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),z.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:z.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:z.NC("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:z.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:z.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:z.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:z.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:z.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:z.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:z.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:z.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:z.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:z.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:z.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:z.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:z.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:z.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[z.NC("wordWrap.off","Lines will never wrap."),z.NC("wordWrap.on","Lines will wrap at the viewport width."),z.NC("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function H(i){return typeof i.type<"u"||typeof i.anyOf<"u"}for(const i of b.Bc){const d=i.schema;if(typeof d<"u")if(H(d))B.properties[`editor.${i.name}`]=d;else for(const _ in d)Object.hasOwnProperty.call(d,_)&&(B.properties[_]=d[_])}let O=null;function y(){return O===null&&(O=Object.create(null),Object.keys(B.properties).forEach(i=>{O[i]=!0})),O}function g(i){return y()[`editor.${i}`]||!1}function C(i){return y()[`diffEditor.${i}`]||!1}E.B.as(j.IP.Configuration).registerConfiguration(B)},64141:function(Yt,Ye,s){"use strict";s.d(Ye,{$J:function(){return We},Av:function(){return ft},BH:function(){return Jt},Bb:function(){return H},Bc:function(){return $t},LJ:function(){return O},NY:function(){return M},O7:function(){return d},Zc:function(){return v},d2:function(){return ie},gk:function(){return w},hL:function(){return wt},n0:function(){return F},qt:function(){return Xt},rk:function(){return g},y0:function(){return B}});var b=s(63580),l=s(1432),z=s(270),j=s(9488),E=s(36248),Z=s(22075);const B=8;class H{constructor(Xe){this._values=Xe}hasChanged(Xe){return this._values[Xe]}}class O{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class y{constructor(Xe,Lt,mi,jt){this.id=Xe,this.name=Lt,this.defaultValue=mi,this.schema=jt}applyUpdate(Xe,Lt){return C(Xe,Lt)}compute(Xe,Lt,mi){return mi}}class g{constructor(Xe,Lt){this.newValue=Xe,this.didChange=Lt}}function C(Zt,Xe){if(typeof Zt!="object"||typeof Xe!="object"||!Zt||!Xe)return new g(Xe,Zt!==Xe);if(Array.isArray(Zt)||Array.isArray(Xe)){const mi=Array.isArray(Zt)&&Array.isArray(Xe)&&j.fS(Zt,Xe);return new g(Xe,!mi)}let Lt=!1;for(const mi in Xe)if(Xe.hasOwnProperty(mi)){const jt=C(Zt[mi],Xe[mi]);jt.didChange&&(Zt[mi]=jt.newValue,Lt=!0)}return new g(Zt,Lt)}class m{constructor(Xe){this.schema=void 0,this.id=Xe,this.name="_never_",this.defaultValue=void 0}applyUpdate(Xe,Lt){return C(Xe,Lt)}validate(Xe){return this.defaultValue}}class i{constructor(Xe,Lt,mi,jt){this.id=Xe,this.name=Lt,this.defaultValue=mi,this.schema=jt}applyUpdate(Xe,Lt){return C(Xe,Lt)}validate(Xe){return typeof Xe>"u"?this.defaultValue:Xe}compute(Xe,Lt,mi){return mi}}function d(Zt,Xe){return typeof Zt>"u"?Xe:Zt==="false"?!1:!!Zt}class _ extends i{constructor(Xe,Lt,mi,jt=void 0){typeof jt<"u"&&(jt.type="boolean",jt.default=mi),super(Xe,Lt,mi,jt)}validate(Xe){return d(Xe,this.defaultValue)}}function v(Zt,Xe,Lt,mi){if(typeof Zt>"u")return Xe;let jt=parseInt(Zt,10);return isNaN(jt)?Xe:(jt=Math.max(Lt,jt),jt=Math.min(mi,jt),jt|0)}class p extends i{constructor(Xe,Lt,mi,jt,ki,Pi=void 0){typeof Pi<"u"&&(Pi.type="integer",Pi.default=mi,Pi.minimum=jt,Pi.maximum=ki),super(Xe,Lt,mi,Pi),this.minimum=jt,this.maximum=ki}static clampedInt(Xe,Lt,mi,jt){return v(Xe,Lt,mi,jt)}validate(Xe){return p.clampedInt(Xe,this.defaultValue,this.minimum,this.maximum)}}class L extends i{constructor(Xe,Lt,mi,jt,ki){typeof ki<"u"&&(ki.type="number",ki.default=mi),super(Xe,Lt,mi,ki),this.validationFn=jt}static clamp(Xe,Lt,mi){return Xe<Lt?Lt:Xe>mi?mi:Xe}static float(Xe,Lt){if(typeof Xe=="number")return Xe;if(typeof Xe>"u")return Lt;const mi=parseFloat(Xe);return isNaN(mi)?Lt:mi}validate(Xe){return this.validationFn(L.float(Xe,this.defaultValue))}}class T extends i{static string(Xe,Lt){return typeof Xe!="string"?Lt:Xe}constructor(Xe,Lt,mi,jt=void 0){typeof jt<"u"&&(jt.type="string",jt.default=mi),super(Xe,Lt,mi,jt)}validate(Xe){return T.string(Xe,this.defaultValue)}}function M(Zt,Xe,Lt){return typeof Zt!="string"||Lt.indexOf(Zt)===-1?Xe:Zt}class I extends i{constructor(Xe,Lt,mi,jt,ki=void 0){typeof ki<"u"&&(ki.type="string",ki.enum=jt,ki.default=mi),super(Xe,Lt,mi,ki),this._allowedValues=jt}validate(Xe){return M(Xe,this.defaultValue,this._allowedValues)}}class P extends y{constructor(Xe,Lt,mi,jt,ki,Pi,gt=void 0){typeof gt<"u"&&(gt.type="string",gt.enum=ki,gt.default=jt),super(Xe,Lt,mi,gt),this._allowedValues=ki,this._convert=Pi}validate(Xe){return typeof Xe!="string"?this.defaultValue:this._allowedValues.indexOf(Xe)===-1?this.defaultValue:this._convert(Xe)}}function V(Zt){switch(Zt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class $ extends y{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[b.NC("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),b.NC("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),b.NC("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:b.NC("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(Xe){switch(Xe){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Xe,Lt,mi){return mi===0?Xe.accessibilitySupport:mi}}class re extends y{constructor(){const Xe={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",Xe,{"editor.comments.insertSpace":{type:"boolean",default:Xe.insertSpace,description:b.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Xe.ignoreEmptyLines,description:b.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{insertSpace:d(Lt.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:d(Lt.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function ae(Zt){switch(Zt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var ie;(function(Zt){Zt[Zt.Line=1]="Line",Zt[Zt.Block=2]="Block",Zt[Zt.Underline=3]="Underline",Zt[Zt.LineThin=4]="LineThin",Zt[Zt.BlockOutline=5]="BlockOutline",Zt[Zt.UnderlineThin=6]="UnderlineThin"})(ie||(ie={}));function se(Zt){switch(Zt){case"line":return ie.Line;case"block":return ie.Block;case"underline":return ie.Underline;case"line-thin":return ie.LineThin;case"block-outline":return ie.BlockOutline;case"underline-thin":return ie.UnderlineThin}}class X extends m{constructor(){super(130)}compute(Xe,Lt,mi){const jt=["monaco-editor"];return Lt.get(35)&&jt.push(Lt.get(35)),Xe.extraEditorClassName&&jt.push(Xe.extraEditorClassName),Lt.get(68)==="default"?jt.push("mouse-default"):Lt.get(68)==="copy"&&jt.push("mouse-copy"),Lt.get(102)&&jt.push("showUnused"),Lt.get(128)&&jt.push("showDeprecated"),jt.join(" ")}}class ne extends _{constructor(){super(33,"emptySelectionClipboard",!0,{description:b.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Xe,Lt,mi){return mi&&Xe.emptySelectionClipboard}}class Q extends y{constructor(){const Xe={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",Xe,{"editor.find.cursorMoveOnType":{type:"boolean",default:Xe.cursorMoveOnType,description:b.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Xe.seedSearchStringFromSelection,enumDescriptions:[b.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),b.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),b.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:b.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Xe.autoFindInSelection,enumDescriptions:[b.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),b.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),b.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:b.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Xe.globalFindClipboard,description:b.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:l.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Xe.addExtraSpaceOnTop,description:b.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Xe.loop,description:b.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{cursorMoveOnType:d(Lt.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Xe.seedSearchStringFromSelection=="boolean"?Xe.seedSearchStringFromSelection?"always":"never":M(Lt.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Xe.autoFindInSelection=="boolean"?Xe.autoFindInSelection?"always":"never":M(Lt.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:d(Lt.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:d(Lt.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:d(Lt.loop,this.defaultValue.loop)}}}class F extends y{constructor(){super(47,"fontLigatures",F.OFF,{anyOf:[{type:"boolean",description:b.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:b.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:b.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Xe){return typeof Xe>"u"?this.defaultValue:typeof Xe=="string"?Xe==="false"?F.OFF:Xe==="true"?F.ON:Xe:Xe?F.ON:F.OFF}}F.OFF='"liga" off, "calt" off',F.ON='"liga" on, "calt" on';class te extends m{constructor(){super(46)}compute(Xe,Lt,mi){return Xe.fontInfo}}class W extends i{constructor(){super(48,"fontSize",wt.fontSize,{type:"number",minimum:6,maximum:100,default:wt.fontSize,description:b.NC("fontSize","Controls the font size in pixels.")})}validate(Xe){const Lt=L.float(Xe,this.defaultValue);return Lt===0?wt.fontSize:L.clamp(Lt,6,100)}compute(Xe,Lt,mi){return Xe.fontInfo.fontSize}}class G extends y{constructor(){super(49,"fontWeight",wt.fontWeight,{anyOf:[{type:"number",minimum:G.MINIMUM_VALUE,maximum:G.MAXIMUM_VALUE,errorMessage:b.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:G.SUGGESTION_VALUES}],default:wt.fontWeight,description:b.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Xe){return Xe==="normal"||Xe==="bold"?Xe:String(p.clampedInt(Xe,wt.fontWeight,G.MINIMUM_VALUE,G.MAXIMUM_VALUE))}}G.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],G.MINIMUM_VALUE=1,G.MAXIMUM_VALUE=1e3;class q extends y{constructor(){const Xe={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Lt={type:"string",enum:["peek","gotoAndPeek","goto"],default:Xe.multiple,enumDescriptions:[b.NC("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),b.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),b.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},mi=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",Xe,{"editor.gotoLocation.multiple":{deprecationMessage:b.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:b.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Lt),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:b.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Lt),"editor.gotoLocation.multipleDeclarations":Object.assign({description:b.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Lt),"editor.gotoLocation.multipleImplementations":Object.assign({description:b.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Lt),"editor.gotoLocation.multipleReferences":Object.assign({description:b.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Lt),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Xe.alternativeDefinitionCommand,enum:mi,description:b.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Xe.alternativeTypeDefinitionCommand,enum:mi,description:b.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Xe.alternativeDeclarationCommand,enum:mi,description:b.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Xe.alternativeImplementationCommand,enum:mi,description:b.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Xe.alternativeReferenceCommand,enum:mi,description:b.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Xe){var Lt,mi,jt,ki,Pi;if(!Xe||typeof Xe!="object")return this.defaultValue;const gt=Xe;return{multiple:M(gt.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Lt=gt.multipleDefinitions)!==null&&Lt!==void 0?Lt:M(gt.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(mi=gt.multipleTypeDefinitions)!==null&&mi!==void 0?mi:M(gt.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(jt=gt.multipleDeclarations)!==null&&jt!==void 0?jt:M(gt.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(ki=gt.multipleImplementations)!==null&&ki!==void 0?ki:M(gt.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Pi=gt.multipleReferences)!==null&&Pi!==void 0?Pi:M(gt.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:T.string(gt.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:T.string(gt.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:T.string(gt.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:T.string(gt.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:T.string(gt.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class me extends y{constructor(){const Xe={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",Xe,{"editor.hover.enabled":{type:"boolean",default:Xe.enabled,description:b.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Xe.delay,minimum:0,maximum:1e4,description:b.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Xe.sticky,description:b.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Xe.above,description:b.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:d(Lt.enabled,this.defaultValue.enabled),delay:p.clampedInt(Lt.delay,this.defaultValue.delay,0,1e4),sticky:d(Lt.sticky,this.defaultValue.sticky),above:d(Lt.above,this.defaultValue.above)}}}class w extends m{constructor(){super(133)}compute(Xe,Lt,mi){return w.computeLayout(Lt,{memory:Xe.memory,outerWidth:Xe.outerWidth,outerHeight:Xe.outerHeight,isDominatedByLongLines:Xe.isDominatedByLongLines,lineHeight:Xe.fontInfo.lineHeight,viewLineCount:Xe.viewLineCount,lineNumbersDigitCount:Xe.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Xe.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Xe.fontInfo.maxDigitWidth,pixelRatio:Xe.pixelRatio})}static computeContainedMinimapLineCount(Xe){const Lt=Xe.height/Xe.lineHeight,mi=Xe.scrollBeyondLastLine?Lt-1:0,jt=(Xe.viewLineCount+mi)/(Xe.pixelRatio*Xe.height),ki=Math.floor(Xe.viewLineCount/jt);return{typicalViewportLineCount:Lt,extraLinesBeyondLastLine:mi,desiredRatio:jt,minimapLineCount:ki}}static _computeMinimapLayout(Xe,Lt){const mi=Xe.outerWidth,jt=Xe.outerHeight,ki=Xe.pixelRatio;if(!Xe.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ki*jt),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:jt};const Pi=Lt.stableMinimapLayoutInput,gt=Pi&&Xe.outerHeight===Pi.outerHeight&&Xe.lineHeight===Pi.lineHeight&&Xe.typicalHalfwidthCharacterWidth===Pi.typicalHalfwidthCharacterWidth&&Xe.pixelRatio===Pi.pixelRatio&&Xe.scrollBeyondLastLine===Pi.scrollBeyondLastLine&&Xe.minimap.enabled===Pi.minimap.enabled&&Xe.minimap.side===Pi.minimap.side&&Xe.minimap.size===Pi.minimap.size&&Xe.minimap.showSlider===Pi.minimap.showSlider&&Xe.minimap.renderCharacters===Pi.minimap.renderCharacters&&Xe.minimap.maxColumn===Pi.minimap.maxColumn&&Xe.minimap.scale===Pi.minimap.scale&&Xe.verticalScrollbarWidth===Pi.verticalScrollbarWidth&&Xe.isViewportWrapping===Pi.isViewportWrapping,St=Xe.lineHeight,ii=Xe.typicalHalfwidthCharacterWidth,Ri=Xe.scrollBeyondLastLine,Di=Xe.minimap.renderCharacters;let Vi=ki>=2?Math.round(Xe.minimap.scale*2):Xe.minimap.scale;const Ci=Xe.minimap.maxColumn,Wt=Xe.minimap.size,vt=Xe.minimap.side,_e=Xe.verticalScrollbarWidth,Ee=Xe.viewLineCount,Le=Xe.remainingWidth,oe=Xe.isViewportWrapping,he=Di?2:3;let Me=Math.floor(ki*jt);const ke=Me/ki;let Je=!1,ot=!1,ht=he*Vi,xt=Vi/ki,nt=1;if(Wt==="fill"||Wt==="fit"){const{typicalViewportLineCount:Xi,extraLinesBeyondLastLine:zi,desiredRatio:Si,minimapLineCount:Ji}=w.computeContainedMinimapLineCount({viewLineCount:Ee,scrollBeyondLastLine:Ri,height:jt,lineHeight:St,pixelRatio:ki});if(Ee/Ji>1)Je=!0,ot=!0,Vi=1,ht=1,xt=Vi/ki;else{let Ui=!1,nn=Vi+1;if(Wt==="fit"){const Dn=Math.ceil((Ee+zi)*ht);oe&&gt&&Le<=Lt.stableFitRemainingWidth?(Ui=!0,nn=Lt.stableFitMaxMinimapScale):Ui=Dn>Me}if(Wt==="fill"||Ui){Je=!0;const Dn=Vi;ht=Math.min(St*ki,Math.max(1,Math.floor(1/Si))),oe&&gt&&Le<=Lt.stableFitRemainingWidth&&(nn=Lt.stableFitMaxMinimapScale),Vi=Math.min(nn,Math.max(1,Math.floor(ht/he))),Vi>Dn&&(nt=Math.min(2,Vi/Dn)),xt=Vi/ki/nt,Me=Math.ceil(Math.max(Xi,Ee+zi)*ht),oe?(Lt.stableMinimapLayoutInput=Xe,Lt.stableFitRemainingWidth=Le,Lt.stableFitMaxMinimapScale=Vi):(Lt.stableMinimapLayoutInput=null,Lt.stableFitRemainingWidth=0)}}}const It=Math.floor(Ci*xt),Ht=Math.min(It,Math.max(0,Math.floor((Le-_e-2)*xt/(ii+xt)))+B);let Qt=Math.floor(ki*Ht);const ci=Qt/ki;Qt=Math.floor(Qt*nt);const Fi=Di?1:2,Ii=vt==="left"?0:mi-Ht-_e;return{renderMinimap:Fi,minimapLeft:Ii,minimapWidth:Ht,minimapHeightIsEditorHeight:Je,minimapIsSampling:ot,minimapScale:Vi,minimapLineHeight:ht,minimapCanvasInnerWidth:Qt,minimapCanvasInnerHeight:Me,minimapCanvasOuterWidth:ci,minimapCanvasOuterHeight:ke}}static computeLayout(Xe,Lt){const mi=Lt.outerWidth|0,jt=Lt.outerHeight|0,ki=Lt.lineHeight|0,Pi=Lt.lineNumbersDigitCount|0,gt=Lt.typicalHalfwidthCharacterWidth,St=Lt.maxDigitWidth,ii=Lt.pixelRatio,Ri=Lt.viewLineCount,Di=Xe.get(125),Vi=Di==="inherit"?Xe.get(124):Di,Ci=Vi==="inherit"?Xe.get(120):Vi,Wt=Xe.get(123),vt=Xe.get(2),_e=Lt.isDominatedByLongLines,Ee=Xe.get(52),Le=Xe.get(62).renderType!==0,oe=Xe.get(63),he=Xe.get(96),Me=Xe.get(67),ke=Xe.get(94),Je=ke.verticalScrollbarSize,ot=ke.verticalHasArrows,ht=ke.arrowSize,xt=ke.horizontalScrollbarSize,nt=Xe.get(60),It=Xe.get(39),Ht=Xe.get(101)!=="never";let Qt;if(typeof nt=="string"&&/^\d+(\.\d+)?ch$/.test(nt)){const Ct=parseFloat(nt.substr(0,nt.length-2));Qt=p.clampedInt(Ct*gt,0,0,1e3)}else Qt=p.clampedInt(nt,0,0,1e3);It&&Ht&&(Qt+=16);let ci=0;if(Le){const Ct=Math.max(Pi,oe);ci=Math.round(Ct*St)}let Fi=0;Ee&&(Fi=ki);let Ii=0,Xi=Ii+Fi,zi=Xi+ci,Si=zi+Qt;const Ji=mi-Fi-ci-Qt;let Zi=!1,Ui=!1,nn=-1;vt!==2&&(Vi==="inherit"&&_e?(Zi=!0,Ui=!0):Ci==="on"||Ci==="bounded"?Ui=!0:Ci==="wordWrapColumn"&&(nn=Wt));const Dn=w._computeMinimapLayout({outerWidth:mi,outerHeight:jt,lineHeight:ki,typicalHalfwidthCharacterWidth:gt,pixelRatio:ii,scrollBeyondLastLine:he,minimap:Me,verticalScrollbarWidth:Je,viewLineCount:Ri,remainingWidth:Ji,isViewportWrapping:Ui},Lt.memory||new O);Dn.renderMinimap!==0&&Dn.minimapLeft===0&&(Ii+=Dn.minimapWidth,Xi+=Dn.minimapWidth,zi+=Dn.minimapWidth,Si+=Dn.minimapWidth);const Cn=Ji-Dn.minimapWidth,pi=Math.max(1,Math.floor((Cn-Je-2)/gt)),ze=ot?ht:0;return Ui&&(nn=Math.max(1,pi),Ci==="bounded"&&(nn=Math.min(nn,Wt))),{width:mi,height:jt,glyphMarginLeft:Ii,glyphMarginWidth:Fi,lineNumbersLeft:Xi,lineNumbersWidth:ci,decorationsLeft:zi,decorationsWidth:Qt,contentLeft:Si,contentWidth:Cn,minimap:Dn,viewportColumn:pi,isWordWrapMinified:Zi,isViewportWrapping:Ui,wrappingColumn:nn,verticalScrollbarWidth:Je,horizontalScrollbarHeight:xt,overviewRuler:{top:ze,width:Je,height:jt-2*ze,right:0}}}}class we extends y{constructor(){const Xe={enabled:!0};super(59,"lightbulb",Xe,{"editor.lightbulb.enabled":{type:"boolean",default:Xe.enabled,description:b.NC("codeActions","Enables the code action lightbulb in the editor.")}})}validate(Xe){return!Xe||typeof Xe!="object"?this.defaultValue:{enabled:d(Xe.enabled,this.defaultValue.enabled)}}}class xe extends y{constructor(){const Xe={stickyScroll:{enabled:!1}};super(34,"experimental",Xe,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:Xe.stickyScroll.enabled,description:b.NC("editor.experimental.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")}})}validate(Xe){var Lt;return!Xe||typeof Xe!="object"?this.defaultValue:{stickyScroll:{enabled:d((Lt=Xe.stickyScroll)===null||Lt===void 0?void 0:Lt.enabled,this.defaultValue.stickyScroll.enabled)}}}}class Ne extends y{constructor(){const Xe={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",Xe,{"editor.inlayHints.enabled":{type:"string",default:Xe.enabled,description:b.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[b.NC("editor.inlayHints.on","Inlay hints are enabled"),b.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding `Ctrl+Alt`"),b.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding `Ctrl+Alt`"),b.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Xe.fontSize,markdownDescription:b.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Xe.fontFamily,markdownDescription:b.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Xe.padding,description:b.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return typeof Lt.enabled=="boolean"&&(Lt.enabled=Lt.enabled?"on":"off"),{enabled:M(Lt.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:p.clampedInt(Lt.fontSize,this.defaultValue.fontSize,0,100),fontFamily:T.string(Lt.fontFamily,this.defaultValue.fontFamily),padding:d(Lt.padding,this.defaultValue.padding)}}}class Ve extends L{constructor(){super(61,"lineHeight",wt.lineHeight,Xe=>L.clamp(Xe,0,150),{markdownDescription:b.NC("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Xe,Lt,mi){return Xe.fontInfo.lineHeight}}class Ce extends y{constructor(){const Xe={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",Xe,{"editor.minimap.enabled":{type:"boolean",default:Xe.enabled,description:b.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Xe.autohide,description:b.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[b.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),b.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),b.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Xe.size,description:b.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Xe.side,description:b.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Xe.showSlider,description:b.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Xe.scale,minimum:1,maximum:3,enum:[1,2,3],description:b.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Xe.renderCharacters,description:b.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Xe.maxColumn,description:b.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:d(Lt.enabled,this.defaultValue.enabled),autohide:d(Lt.autohide,this.defaultValue.autohide),size:M(Lt.size,this.defaultValue.size,["proportional","fill","fit"]),side:M(Lt.side,this.defaultValue.side,["right","left"]),showSlider:M(Lt.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:d(Lt.renderCharacters,this.defaultValue.renderCharacters),scale:p.clampedInt(Lt.scale,1,1,3),maxColumn:p.clampedInt(Lt.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Ae(Zt){return Zt==="ctrlCmd"?l.dz?"metaKey":"ctrlKey":"altKey"}class $e extends y{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:b.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:b.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{top:p.clampedInt(Lt.top,0,0,1e3),bottom:p.clampedInt(Lt.bottom,0,0,1e3)}}}class je extends y{constructor(){const Xe={enabled:!0,cycle:!1};super(78,"parameterHints",Xe,{"editor.parameterHints.enabled":{type:"boolean",default:Xe.enabled,description:b.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Xe.cycle,description:b.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:d(Lt.enabled,this.defaultValue.enabled),cycle:d(Lt.cycle,this.defaultValue.cycle)}}}class at extends m{constructor(){super(131)}compute(Xe,Lt,mi){return Xe.pixelRatio}}class pt extends y{constructor(){const Xe={other:"on",comments:"off",strings:"off"},Lt=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[b.NC("on","Quick suggestions show inside the suggest widget"),b.NC("inline","Quick suggestions show as ghost text"),b.NC("off","Quick suggestions are disabled")]}];super(81,"quickSuggestions",Xe,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Lt,default:Xe.strings,description:b.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:Lt,default:Xe.comments,description:b.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:Lt,default:Xe.other,description:b.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Xe,markdownDescription:b.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Xe}validate(Xe){if(typeof Xe=="boolean"){const ii=Xe?"on":"off";return{comments:ii,strings:ii,other:ii}}if(!Xe||typeof Xe!="object")return this.defaultValue;const{other:Lt,comments:mi,strings:jt}=Xe,ki=["on","inline","off"];let Pi,gt,St;return typeof Lt=="boolean"?Pi=Lt?"on":"off":Pi=M(Lt,this.defaultValue.other,ki),typeof mi=="boolean"?gt=mi?"on":"off":gt=M(mi,this.defaultValue.comments,ki),typeof jt=="boolean"?St=jt?"on":"off":St=M(jt,this.defaultValue.strings,ki),{other:Pi,comments:gt,strings:St}}}class bt extends y{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[b.NC("lineNumbers.off","Line numbers are not rendered."),b.NC("lineNumbers.on","Line numbers are rendered as absolute number."),b.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),b.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:b.NC("lineNumbers","Controls the display of line numbers.")})}validate(Xe){let Lt=this.defaultValue.renderType,mi=this.defaultValue.renderFn;return typeof Xe<"u"&&(typeof Xe=="function"?(Lt=4,mi=Xe):Xe==="interval"?Lt=3:Xe==="relative"?Lt=2:Xe==="on"?Lt=1:Lt=0),{renderType:Lt,renderFn:mi}}}function We(Zt){const Xe=Zt.get(89);return Xe==="editable"?Zt.get(83):Xe!=="on"}class it extends y{constructor(){const Xe=[],Lt={type:"number",description:b.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(93,"rulers",Xe,{type:"array",items:{anyOf:[Lt,{type:["object"],properties:{column:Lt,color:{type:"string",description:b.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Xe,description:b.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Xe){if(Array.isArray(Xe)){const Lt=[];for(const mi of Xe)if(typeof mi=="number")Lt.push({column:p.clampedInt(mi,0,0,1e4),color:null});else if(mi&&typeof mi=="object"){const jt=mi;Lt.push({column:p.clampedInt(jt.column,0,0,1e4),color:jt.color})}return Lt.sort((mi,jt)=>mi.column-jt.column),Lt}return this.defaultValue}}function pe(Zt,Xe){if(typeof Zt!="string")return Xe;switch(Zt){case"hidden":return 2;case"visible":return 3;default:return 1}}class ye extends y{constructor(){const Xe={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",Xe,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[b.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),b.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),b.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:b.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[b.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),b.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),b.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:b.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Xe.verticalScrollbarSize,description:b.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Xe.horizontalScrollbarSize,description:b.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Xe.scrollByPage,description:b.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe,mi=p.clampedInt(Lt.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),jt=p.clampedInt(Lt.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:p.clampedInt(Lt.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:pe(Lt.vertical,this.defaultValue.vertical),horizontal:pe(Lt.horizontal,this.defaultValue.horizontal),useShadows:d(Lt.useShadows,this.defaultValue.useShadows),verticalHasArrows:d(Lt.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:d(Lt.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:d(Lt.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:d(Lt.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:mi,horizontalSliderSize:p.clampedInt(Lt.horizontalSliderSize,mi,0,1e3),verticalScrollbarSize:jt,verticalSliderSize:p.clampedInt(Lt.verticalSliderSize,jt,0,1e3),scrollByPage:d(Lt.scrollByPage,this.defaultValue.scrollByPage)}}}const ft="inUntrustedWorkspace",Xt={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class qt extends y{constructor(){const Xe={nonBasicASCII:ft,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:ft,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",Xe,{[Xt.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ft],default:Xe.nonBasicASCII,description:b.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Xt.invisibleCharacters]:{restricted:!0,type:"boolean",default:Xe.invisibleCharacters,description:b.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Xt.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Xe.ambiguousCharacters,description:b.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Xt.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ft],default:Xe.includeComments,description:b.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Xt.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ft],default:Xe.includeStrings,description:b.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[Xt.allowedCharacters]:{restricted:!0,type:"object",default:Xe.allowedCharacters,description:b.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Xt.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Xe.allowedLocales,description:b.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Xe,Lt){let mi=!1;Lt.allowedCharacters&&Xe&&(E.fS(Xe.allowedCharacters,Lt.allowedCharacters)||(Xe=Object.assign(Object.assign({},Xe),{allowedCharacters:Lt.allowedCharacters}),mi=!0)),Lt.allowedLocales&&Xe&&(E.fS(Xe.allowedLocales,Lt.allowedLocales)||(Xe=Object.assign(Object.assign({},Xe),{allowedLocales:Lt.allowedLocales}),mi=!0));const jt=super.applyUpdate(Xe,Lt);return mi?new g(jt.newValue,!0):jt}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{nonBasicASCII:ni(Lt.nonBasicASCII,ft,[!0,!1,ft]),invisibleCharacters:d(Lt.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:d(Lt.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ni(Lt.includeComments,ft,[!0,!1,ft]),includeStrings:ni(Lt.includeStrings,ft,[!0,!1,ft]),allowedCharacters:this.validateBooleanMap(Xe.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Xe.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Xe,Lt){if(typeof Xe!="object"||!Xe)return Lt;const mi={};for(const[jt,ki]of Object.entries(Xe))ki===!0&&(mi[jt]=!0);return mi}}class Ft extends y{constructor(){const Xe={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",Xe,{"editor.inlineSuggest.enabled":{type:"boolean",default:Xe.enabled,description:b.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:d(Lt.enabled,this.defaultValue.enabled),mode:M(Lt.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class Ot extends y{constructor(){const Xe={enabled:Z.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:Z.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",Xe,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Xe.enabled,markdownDescription:b.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Xe.independentColorPoolPerBracketType,description:b.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:d(Lt.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:d(Lt.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class Mt extends y{constructor(){const Xe={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Xe,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[b.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),b.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),b.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Xe.bracketPairs,description:b.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[b.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),b.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),b.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Xe.bracketPairsHorizontal,description:b.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Xe.highlightActiveBracketPair,description:b.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Xe.indentation,description:b.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[b.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),b.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),b.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Xe.highlightActiveIndentation,description:b.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{bracketPairs:ni(Lt.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ni(Lt.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:d(Lt.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:d(Lt.indentation,this.defaultValue.indentation),highlightActiveIndentation:ni(Lt.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function ni(Zt,Xe,Lt){const mi=Lt.indexOf(Zt);return mi===-1?Xe:Lt[mi]}class Gt extends y{constructor(){const Xe={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",Xe,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[b.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),b.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Xe.insertMode,description:b.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Xe.filterGraceful,description:b.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Xe.localityBonus,description:b.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Xe.shareSuggestSelections,markdownDescription:b.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Xe.snippetsPreventQuickSuggestions,description:b.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Xe.showIcons,description:b.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Xe.showStatusBar,description:b.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Xe.preview,description:b.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Xe.showInlineDetails,description:b.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:b.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:b.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:b.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{insertMode:M(Lt.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:d(Lt.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:d(Lt.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:d(Lt.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:d(Lt.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:d(Lt.showIcons,this.defaultValue.showIcons),showStatusBar:d(Lt.showStatusBar,this.defaultValue.showStatusBar),preview:d(Lt.preview,this.defaultValue.preview),previewMode:M(Lt.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:d(Lt.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:d(Lt.showMethods,this.defaultValue.showMethods),showFunctions:d(Lt.showFunctions,this.defaultValue.showFunctions),showConstructors:d(Lt.showConstructors,this.defaultValue.showConstructors),showDeprecated:d(Lt.showDeprecated,this.defaultValue.showDeprecated),showFields:d(Lt.showFields,this.defaultValue.showFields),showVariables:d(Lt.showVariables,this.defaultValue.showVariables),showClasses:d(Lt.showClasses,this.defaultValue.showClasses),showStructs:d(Lt.showStructs,this.defaultValue.showStructs),showInterfaces:d(Lt.showInterfaces,this.defaultValue.showInterfaces),showModules:d(Lt.showModules,this.defaultValue.showModules),showProperties:d(Lt.showProperties,this.defaultValue.showProperties),showEvents:d(Lt.showEvents,this.defaultValue.showEvents),showOperators:d(Lt.showOperators,this.defaultValue.showOperators),showUnits:d(Lt.showUnits,this.defaultValue.showUnits),showValues:d(Lt.showValues,this.defaultValue.showValues),showConstants:d(Lt.showConstants,this.defaultValue.showConstants),showEnums:d(Lt.showEnums,this.defaultValue.showEnums),showEnumMembers:d(Lt.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:d(Lt.showKeywords,this.defaultValue.showKeywords),showWords:d(Lt.showWords,this.defaultValue.showWords),showColors:d(Lt.showColors,this.defaultValue.showColors),showFiles:d(Lt.showFiles,this.defaultValue.showFiles),showReferences:d(Lt.showReferences,this.defaultValue.showReferences),showFolders:d(Lt.showFolders,this.defaultValue.showFolders),showTypeParameters:d(Lt.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:d(Lt.showSnippets,this.defaultValue.showSnippets),showUsers:d(Lt.showUsers,this.defaultValue.showUsers),showIssues:d(Lt.showIssues,this.defaultValue.showIssues)}}}class Fe extends y{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:b.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Xe){return!Xe||typeof Xe!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:d(Xe.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Ge extends m{constructor(){super(132)}compute(Xe,Lt,mi){return Lt.get(83)?!0:Xe.tabFocusMode}}function Te(Zt){switch(Zt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Ke extends m{constructor(){super(134)}compute(Xe,Lt,mi){const jt=Lt.get(133);return{isDominatedByLongLines:Xe.isDominatedByLongLines,isWordWrapMinified:jt.isWordWrapMinified,isViewportWrapping:jt.isViewportWrapping,wrappingColumn:jt.wrappingColumn}}}class ut extends y{constructor(){const Xe={enabled:!0};super(32,"dropIntoEditor",Xe,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Xe.enabled,markdownDescription:b.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(Xe){return!Xe||typeof Xe!="object"?this.defaultValue:{enabled:d(Xe.enabled,this.defaultValue.enabled)}}}const wt={fontFamily:l.dz?"Menlo, Monaco, 'Courier New', monospace":l.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:l.dz?12:14,lineHeight:0,letterSpacing:0},$t=[];function _t(Zt){return $t[Zt.id]=Zt,Zt}const Jt={acceptSuggestionOnCommitCharacter:_t(new _(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:b.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:_t(new I(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",b.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:b.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:_t(new $),accessibilityPageSize:_t(new p(3,"accessibilityPageSize",10,1,1073741824,{description:b.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:_t(new T(4,"ariaLabel",b.NC("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:_t(new I(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",b.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),b.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:b.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:_t(new I(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",b.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:b.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:_t(new I(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",b.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:b.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:_t(new I(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",b.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),b.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:b.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:_t(new P(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],V,{enumDescriptions:[b.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),b.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),b.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),b.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),b.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:b.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:_t(new _(10,"automaticLayout",!1)),autoSurround:_t(new I(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[b.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),b.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),b.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:b.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:_t(new Ot),bracketPairGuides:_t(new Mt),stickyTabStops:_t(new _(106,"stickyTabStops",!1,{description:b.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:_t(new _(14,"codeLens",!0,{description:b.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:_t(new T(15,"codeLensFontFamily","",{description:b.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:_t(new p(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:b.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:_t(new _(17,"colorDecorators",!0,{description:b.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:_t(new _(18,"columnSelection",!1,{description:b.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:_t(new re),contextmenu:_t(new _(20,"contextmenu",!0)),copyWithSyntaxHighlighting:_t(new _(21,"copyWithSyntaxHighlighting",!0,{description:b.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:_t(new P(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],ae,{description:b.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:_t(new _(23,"cursorSmoothCaretAnimation",!1,{description:b.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:_t(new P(24,"cursorStyle",ie.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],se,{description:b.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:_t(new p(25,"cursorSurroundingLines",0,0,1073741824,{description:b.NC("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:_t(new I(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[b.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),b.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:b.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:_t(new p(27,"cursorWidth",0,0,1073741824,{markdownDescription:b.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:_t(new _(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:_t(new _(29,"disableMonospaceOptimizations",!1)),domReadOnly:_t(new _(30,"domReadOnly",!1)),dragAndDrop:_t(new _(31,"dragAndDrop",!0,{description:b.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:_t(new ne),dropIntoEditor:_t(new ut),experimental:_t(new xe),extraEditorClassName:_t(new T(35,"extraEditorClassName","")),fastScrollSensitivity:_t(new L(36,"fastScrollSensitivity",5,Zt=>Zt<=0?5:Zt,{markdownDescription:b.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:_t(new Q),fixedOverflowWidgets:_t(new _(38,"fixedOverflowWidgets",!1)),folding:_t(new _(39,"folding",!0,{description:b.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:_t(new I(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[b.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),b.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:b.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:_t(new _(41,"foldingHighlight",!0,{description:b.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:_t(new _(42,"foldingImportsByDefault",!1,{description:b.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:_t(new p(43,"foldingMaximumRegions",5e3,10,65e3,{description:b.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:_t(new _(44,"unfoldOnClickAfterEndOfLine",!1,{description:b.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:_t(new T(45,"fontFamily",wt.fontFamily,{description:b.NC("fontFamily","Controls the font family.")})),fontInfo:_t(new te),fontLigatures2:_t(new F),fontSize:_t(new W),fontWeight:_t(new G),formatOnPaste:_t(new _(50,"formatOnPaste",!1,{description:b.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:_t(new _(51,"formatOnType",!1,{description:b.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:_t(new _(52,"glyphMargin",!0,{description:b.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:_t(new q),hideCursorInOverviewRuler:_t(new _(54,"hideCursorInOverviewRuler",!1,{description:b.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:_t(new me),inDiffEditor:_t(new _(56,"inDiffEditor",!1)),letterSpacing:_t(new L(58,"letterSpacing",wt.letterSpacing,Zt=>L.clamp(Zt,-5,20),{description:b.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:_t(new we),lineDecorationsWidth:_t(new i(60,"lineDecorationsWidth",10)),lineHeight:_t(new Ve),lineNumbers:_t(new bt),lineNumbersMinChars:_t(new p(63,"lineNumbersMinChars",5,1,300)),linkedEditing:_t(new _(64,"linkedEditing",!1,{description:b.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:_t(new _(65,"links",!0,{description:b.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:_t(new I(66,"matchBrackets","always",["always","near","never"],{description:b.NC("matchBrackets","Highlight matching brackets.")})),minimap:_t(new Ce),mouseStyle:_t(new I(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:_t(new L(69,"mouseWheelScrollSensitivity",1,Zt=>Zt===0?1:Zt,{markdownDescription:b.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:_t(new _(70,"mouseWheelZoom",!1,{markdownDescription:b.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:_t(new _(71,"multiCursorMergeOverlapping",!0,{description:b.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:_t(new P(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Ae,{markdownEnumDescriptions:[b.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),b.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:b.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:_t(new I(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[b.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),b.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:b.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:_t(new _(74,"occurrencesHighlight",!0,{description:b.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:_t(new _(75,"overviewRulerBorder",!0,{description:b.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:_t(new p(76,"overviewRulerLanes",3,0,3)),padding:_t(new $e),parameterHints:_t(new je),peekWidgetDefaultFocus:_t(new I(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[b.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),b.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:b.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:_t(new _(80,"definitionLinkOpensInPeek",!1,{description:b.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:_t(new pt),quickSuggestionsDelay:_t(new p(82,"quickSuggestionsDelay",10,0,1073741824,{description:b.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:_t(new _(83,"readOnly",!1)),renameOnType:_t(new _(84,"renameOnType",!1,{description:b.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:b.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:_t(new _(85,"renderControlCharacters",!0,{description:b.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:_t(new _(86,"renderFinalNewline",!0,{description:b.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:_t(new I(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",b.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:b.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:_t(new _(88,"renderLineHighlightOnlyWhenFocus",!1,{description:b.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:_t(new I(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:_t(new I(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",b.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),b.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),b.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:b.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:_t(new p(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:_t(new _(92,"roundedSelection",!0,{description:b.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:_t(new it),scrollbar:_t(new ye),scrollBeyondLastColumn:_t(new p(95,"scrollBeyondLastColumn",4,0,1073741824,{description:b.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:_t(new _(96,"scrollBeyondLastLine",!0,{description:b.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:_t(new _(97,"scrollPredominantAxis",!0,{description:b.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:_t(new _(98,"selectionClipboard",!0,{description:b.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:l.IJ})),selectionHighlight:_t(new _(99,"selectionHighlight",!0,{description:b.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:_t(new _(100,"selectOnLineNumbers",!0)),showFoldingControls:_t(new I(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[b.NC("showFoldingControls.always","Always show the folding controls."),b.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),b.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:b.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:_t(new _(102,"showUnused",!0,{description:b.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:_t(new _(128,"showDeprecated",!0,{description:b.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:_t(new Ne),snippetSuggestions:_t(new I(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[b.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),b.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),b.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),b.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:b.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:_t(new Fe),smoothScrolling:_t(new _(105,"smoothScrolling",!1,{description:b.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:_t(new p(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:_t(new Gt),inlineSuggest:_t(new Ft),suggestFontSize:_t(new p(109,"suggestFontSize",0,0,1e3,{markdownDescription:b.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:_t(new p(110,"suggestLineHeight",0,0,1e3,{markdownDescription:b.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:_t(new _(111,"suggestOnTriggerCharacters",!0,{description:b.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:_t(new I(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[b.NC("suggestSelection.first","Always select the first suggestion."),b.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),b.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:b.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:_t(new I(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[b.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),b.NC("tabCompletion.off","Disable tab completions."),b.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:b.NC("tabCompletion","Enables tab completions.")})),tabIndex:_t(new p(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:_t(new qt),unusualLineTerminators:_t(new I(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[b.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),b.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),b.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:b.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:_t(new _(117,"useShadowDOM",!0)),useTabStops:_t(new _(118,"useTabStops",!0,{description:b.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:_t(new T(119,"wordSeparators",z.vu,{description:b.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:_t(new I(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[b.NC("wordWrap.off","Lines will never wrap."),b.NC("wordWrap.on","Lines will wrap at the viewport width."),b.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),b.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:b.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:_t(new T(121,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:_t(new T(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:_t(new p(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:b.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:_t(new I(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:_t(new I(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:_t(new P(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Te,{enumDescriptions:[b.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),b.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),b.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),b.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:b.NC("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:_t(new I(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[b.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),b.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:b.NC("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:_t(new X),pixelRatio:_t(new at),tabFocusMode:_t(new Ge),layoutInfo:_t(new w),wrappingInfo:_t(new Ke)}},82334:function(Yt,Ye,s){"use strict";s.d(Ye,{C:function(){return l}});var b=s(4669);const l=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new b.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(z){z=Math.min(Math.max(-5,z),20),this._zoomLevel!==z&&(this._zoomLevel=z,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},27374:function(Yt,Ye,s){"use strict";s.d(Ye,{E4:function(){return Z},pR:function(){return H}});var b=s(1432),l=s(64141),z=s(82334);const j=b.dz?1.5:1.35,E=8;class Z{constructor(y){this._bareFontInfoBrand=void 0,this.pixelRatio=y.pixelRatio,this.fontFamily=String(y.fontFamily),this.fontWeight=String(y.fontWeight),this.fontSize=y.fontSize,this.fontFeatureSettings=y.fontFeatureSettings,this.lineHeight=y.lineHeight|0,this.letterSpacing=y.letterSpacing}static createFromValidatedSettings(y,g,C){const m=y.get(45),i=y.get(49),d=y.get(48),_=y.get(47),v=y.get(61),p=y.get(58);return Z._create(m,i,d,_,v,p,g,C)}static _create(y,g,C,m,i,d,_,v){i===0?i=j*C:i<E&&(i=i*C),i=Math.round(i),i<E&&(i=E);const p=1+(v?0:z.C.getZoomLevel()*.1);return C*=p,i*=p,new Z({pixelRatio:_,fontFamily:y,fontWeight:g,fontSize:C,fontFeatureSettings:m,lineHeight:i,letterSpacing:d})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const y=l.hL.fontFamily,g=Z._wrapInQuotes(this.fontFamily);return y&&this.fontFamily!==y?`${g}, ${y}`:g}static _wrapInQuotes(y){return/[,"']/.test(y)?y:/[+ ]/.test(y)?`"${y}"`:y}}const B=1;class H extends Z{constructor(y,g){super(y),this._editorStylingBrand=void 0,this.version=B,this.isTrusted=g,this.isMonospace=y.isMonospace,this.typicalHalfwidthCharacterWidth=y.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=y.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=y.canUseHalfwidthRightwardsArrow,this.spaceWidth=y.spaceWidth,this.middotWidth=y.middotWidth,this.wsmiddotWidth=y.wsmiddotWidth,this.maxDigitWidth=y.maxDigitWidth}equals(y){return this.fontFamily===y.fontFamily&&this.fontWeight===y.fontWeight&&this.fontSize===y.fontSize&&this.fontFeatureSettings===y.fontFeatureSettings&&this.lineHeight===y.lineHeight&&this.letterSpacing===y.letterSpacing&&this.typicalHalfwidthCharacterWidth===y.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===y.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===y.canUseHalfwidthRightwardsArrow&&this.spaceWidth===y.spaceWidth&&this.middotWidth===y.middotWidth&&this.wsmiddotWidth===y.wsmiddotWidth&&this.maxDigitWidth===y.maxDigitWidth}}},44906:function(Yt,Ye,s){"use strict";s.d(Ye,{N:function(){return l},q:function(){return z}});var b=s(85427);class l{constructor(E){const Z=(0,b.K)(E);this._defaultValue=Z,this._asciiMap=l._createAsciiMap(Z),this._map=new Map}static _createAsciiMap(E){const Z=new Uint8Array(256);for(let B=0;B<256;B++)Z[B]=E;return Z}set(E,Z){const B=(0,b.K)(Z);E>=0&&E<256?this._asciiMap[E]=B:this._map.set(E,B)}get(E){return E>=0&&E<256?this._asciiMap[E]:this._map.get(E)||this._defaultValue}}class z{constructor(){this._actual=new l(0)}add(E){this._actual.set(E,1)}has(E){return this._actual.get(E)===1}}},7988:function(Yt,Ye,s){"use strict";s.d(Ye,{i:function(){return l}});var b=s(97295);class l{static _nextVisibleColumn(j,E,Z){return j===9?l.nextRenderTabStop(E,Z):b.K7(j)||b.C8(j)?E+2:E+1}static visibleColumnFromColumn(j,E,Z){const B=Math.min(E-1,j.length),H=j.substring(0,B),O=new b.W1(H);let y=0;for(;!O.eol();){const g=b.ZH(H,B,O.offset);O.nextGraphemeLength(),y=this._nextVisibleColumn(g,y,Z)}return y}static columnFromVisibleColumn(j,E,Z){if(E<=0)return 1;const B=j.length,H=new b.W1(j);let O=0,y=1;for(;!H.eol();){const g=b.ZH(j,B,H.offset);H.nextGraphemeLength();const C=this._nextVisibleColumn(g,O,Z),m=H.offset+1;if(C>=E){const i=E-O;return C-E<i?m:y}O=C,y=m}return B+1}static nextRenderTabStop(j,E){return j+E-j%E}static nextIndentTabStop(j,E){return j+E-j%E}static prevRenderTabStop(j,E){return Math.max(0,j-1-(j-1)%E)}static prevIndentTabStop(j,E){return Math.max(0,j-1-(j-1)%E)}}},69386:function(Yt,Ye,s){"use strict";s.d(Ye,{h:function(){return l}});var b=s(24314);class l{static insert(j,E){return{range:new b.e(j.lineNumber,j.column,j.lineNumber,j.column),text:E,forceMoveMarkers:!0}}static delete(j){return{range:j,text:null}}static replace(j,E){return{range:j,text:E}}static replaceMove(j,E){return{range:j,text:E,forceMoveMarkers:!0}}}},8625:function(Yt,Ye,s){"use strict";s.d(Ye,{CE:function(){return w},DD:function(){return L},DS:function(){return $e},Dl:function(){return P},HV:function(){return ye},IO:function(){return ne},Jn:function(){return at},Kh:function(){return Z},L7:function(){return pe},Mm:function(){return B},N5:function(){return X},Qb:function(){return bt},Re:function(){return W},TC:function(){return I},To:function(){return it},UP:function(){return we},Vs:function(){return me},YF:function(){return pt},Ym:function(){return _},eS:function(){return G},e_:function(){return $},f9:function(){return ft},fY:function(){return m},hw:function(){return v},kp:function(){return ae},lK:function(){return te},lS:function(){return je},m$:function(){return Ae},m1:function(){return Ne},m3:function(){return We},m9:function(){return F},n0:function(){return C},oV:function(){return Ce},r0:function(){return xe},tR:function(){return d},ts:function(){return Ve},x3:function(){return se},zJ:function(){return q},zk:function(){return T},zu:function(){return ie},zw:function(){return V}});var b=s(63580),l=s(41264),z=s(73910),j=s(97781),E=s(92321);const Z=(0,z.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),B=(0,z.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:z.lRK},b.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),H=(0,z.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},b.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),O=(0,z.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:z.xL1,hcLight:z.xL1},b.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),y=(0,z.P6G)("editor.symbolHighlightBackground",{dark:z.MUv,light:z.MUv,hcDark:null,hcLight:null},b.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),g=(0,z.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:z.xL1,hcLight:z.xL1},b.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),C=(0,z.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:l.Il.black,hcDark:l.Il.white,hcLight:"#0F4A85"},b.NC("caret","Color of the editor cursor.")),m=(0,z.P6G)("editorCursor.background",null,b.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),i=(0,z.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},b.NC("editorWhitespaces","Color of whitespace characters in the editor.")),d=(0,z.P6G)("editorIndentGuide.background",{dark:i,light:i,hcDark:i,hcLight:i},b.NC("editorIndentGuides","Color of the editor indentation guides.")),_=(0,z.P6G)("editorIndentGuide.activeBackground",{dark:i,light:i,hcDark:i,hcLight:i},b.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),v=(0,z.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:l.Il.white,hcLight:"#292929"},b.NC("editorLineNumbers","Color of editor line numbers.")),p=(0,z.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:z.xL1,hcLight:z.xL1},b.NC("editorActiveLineNumber","Color of editor active line number"),!1,b.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),L=(0,z.P6G)("editorLineNumber.activeForeground",{dark:p,light:p,hcDark:p,hcLight:p},b.NC("editorActiveLineNumber","Color of editor active line number")),T=(0,z.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:l.Il.lightgrey,hcDark:l.Il.white,hcLight:"#292929"},b.NC("editorRuler","Color of the editor rulers.")),M=(0,z.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},b.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),I=(0,z.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},b.NC("editorBracketMatchBackground","Background color behind matching brackets")),P=(0,z.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:z.lRK,hcLight:z.lRK},b.NC("editorBracketMatchBorder","Color for matching brackets boxes")),V=(0,z.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},b.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),$=(0,z.P6G)("editorOverviewRuler.background",null,b.NC("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),re=(0,z.P6G)("editorGutter.background",{dark:z.cvW,light:z.cvW,hcDark:z.cvW,hcLight:z.cvW},b.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),ae=(0,z.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:l.Il.fromHex("#fff").transparent(.8),hcLight:z.lRK},b.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),ie=(0,z.P6G)("editorUnnecessaryCode.opacity",{dark:l.Il.fromHex("#000a"),light:l.Il.fromHex("#0007"),hcDark:null,hcLight:null},b.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),se=(0,z.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:l.Il.fromHex("#fff").transparent(.8),hcLight:l.Il.fromHex("#292929").transparent(.8)},b.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),X=(0,z.P6G)("editorGhostText.foreground",{dark:l.Il.fromHex("#ffffff56"),light:l.Il.fromHex("#0007"),hcDark:null,hcLight:null},b.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),ne=(0,z.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),Q=new l.Il(new l.VS(0,122,204,.6)),F=(0,z.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:Q,light:Q,hcDark:Q,hcLight:Q},b.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),te=(0,z.P6G)("editorOverviewRuler.errorForeground",{dark:new l.Il(new l.VS(255,18,18,.7)),light:new l.Il(new l.VS(255,18,18,.7)),hcDark:new l.Il(new l.VS(255,50,50,1)),hcLight:"#B5200D"},b.NC("overviewRuleError","Overview ruler marker color for errors.")),W=(0,z.P6G)("editorOverviewRuler.warningForeground",{dark:z.uoC,light:z.uoC,hcDark:z.pW3,hcLight:z.pW3},b.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),G=(0,z.P6G)("editorOverviewRuler.infoForeground",{dark:z.c63,light:z.c63,hcDark:z.T83,hcLight:z.T83},b.NC("overviewRuleInfo","Overview ruler marker color for infos.")),q=(0,z.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},b.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),me=(0,z.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},b.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),w=(0,z.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},b.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),we=(0,z.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),xe=(0,z.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ne=(0,z.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Ve=(0,z.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new l.Il(new l.VS(255,18,18,.8)),light:new l.Il(new l.VS(255,18,18,.8)),hcDark:new l.Il(new l.VS(255,50,50,1)),hcLight:""},b.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Ce=(0,z.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Ae=(0,z.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),$e=(0,z.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),je=(0,z.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),at=(0,z.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),pt=(0,z.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),bt=(0,z.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),We=(0,z.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),it=(0,z.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),pe=(0,z.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),ye=(0,z.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),ft=(0,z.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},b.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),Xt=(0,z.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},b.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),qt=(0,z.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},b.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,j.Ic)((Ft,Ot)=>{const Mt=Ft.getColor(z.cvW);Mt&&Ot.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${Mt}; }`);const ni=Ft.getColor(Z),Gt=ni&&!ni.isTransparent()?ni:Mt;Gt&&Ot.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Gt}; }`);const Fe=Ft.getColor(z.NOs);Fe&&Ot.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Fe}; }`);const Ge=Ft.getColor(re);Ge&&Ot.addRule(`.monaco-editor .margin { background-color: ${Ge}; }`);const Te=Ft.getColor(H);Te&&Ot.addRule(`.monaco-editor .rangeHighlight { background-color: ${Te}; }`);const Ke=Ft.getColor(O);Ke&&Ot.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,E.c3)(Ft.type)?"dotted":"solid"} ${Ke}; }`);const ut=Ft.getColor(y);ut&&Ot.addRule(`.monaco-editor .symbolHighlight { background-color: ${ut}; }`);const Nt=Ft.getColor(g);Nt&&Ot.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,E.c3)(Ft.type)?"dotted":"solid"} ${Nt}; }`);const Be=Ft.getColor(i);Be&&(Ot.addRule(`.monaco-editor .mtkw { color: ${Be} !important; }`),Ot.addRule(`.monaco-editor .mtkz { color: ${Be} !important; }`))})},23795:function(Yt,Ye,s){"use strict";s.d(Ye,{Q:function(){return b}});function b(l){let z=0,j=0,E=0,Z=0;for(let B=0,H=l.length;B<H;B++){const O=l.charCodeAt(B);O===13?(z===0&&(j=B),z++,B+1<H&&l.charCodeAt(B+1)===10?(Z|=2,B++):Z|=3,E=B+1):O===10&&(Z|=1,z===0&&(j=B),z++,E=B+1)}return z===0&&(j=l.length),[z,j,l.length-E,Z]}},83158:function(Yt,Ye,s){"use strict";s.d(Ye,{x:function(){return j}});var b=s(97295),l=s(7988);function z(E,Z,B){let H=0;for(let y=0;y<E.length;y++)E.charAt(y)==="	"?H=l.i.nextIndentTabStop(H,Z):H++;let O="";if(!B){const y=Math.floor(H/Z);H=H%Z;for(let g=0;g<y;g++)O+="	"}for(let y=0;y<H;y++)O+=" ";return O}function j(E,Z,B){let H=b.LC(E);return H===-1&&(H=E.length),z(E.substring(0,H),Z,B)+E.substring(H)}},50187:function(Yt,Ye,s){"use strict";s.d(Ye,{L:function(){return b}});class b{constructor(z,j){this.lineNumber=z,this.column=j}with(z=this.lineNumber,j=this.column){return z===this.lineNumber&&j===this.column?this:new b(z,j)}delta(z=0,j=0){return this.with(this.lineNumber+z,this.column+j)}equals(z){return b.equals(this,z)}static equals(z,j){return!z&&!j?!0:!!z&&!!j&&z.lineNumber===j.lineNumber&&z.column===j.column}isBefore(z){return b.isBefore(this,z)}static isBefore(z,j){return z.lineNumber<j.lineNumber?!0:j.lineNumber<z.lineNumber?!1:z.column<j.column}isBeforeOrEqual(z){return b.isBeforeOrEqual(this,z)}static isBeforeOrEqual(z,j){return z.lineNumber<j.lineNumber?!0:j.lineNumber<z.lineNumber?!1:z.column<=j.column}static compare(z,j){const E=z.lineNumber|0,Z=j.lineNumber|0;if(E===Z){const B=z.column|0,H=j.column|0;return B-H}return E-Z}clone(){return new b(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(z){return new b(z.lineNumber,z.column)}static isIPosition(z){return z&&typeof z.lineNumber=="number"&&typeof z.column=="number"}}},24314:function(Yt,Ye,s){"use strict";s.d(Ye,{e:function(){return l}});var b=s(50187);class l{constructor(j,E,Z,B){j>Z||j===Z&&E>B?(this.startLineNumber=Z,this.startColumn=B,this.endLineNumber=j,this.endColumn=E):(this.startLineNumber=j,this.startColumn=E,this.endLineNumber=Z,this.endColumn=B)}isEmpty(){return l.isEmpty(this)}static isEmpty(j){return j.startLineNumber===j.endLineNumber&&j.startColumn===j.endColumn}containsPosition(j){return l.containsPosition(this,j)}static containsPosition(j,E){return!(E.lineNumber<j.startLineNumber||E.lineNumber>j.endLineNumber||E.lineNumber===j.startLineNumber&&E.column<j.startColumn||E.lineNumber===j.endLineNumber&&E.column>j.endColumn)}static strictContainsPosition(j,E){return!(E.lineNumber<j.startLineNumber||E.lineNumber>j.endLineNumber||E.lineNumber===j.startLineNumber&&E.column<=j.startColumn||E.lineNumber===j.endLineNumber&&E.column>=j.endColumn)}containsRange(j){return l.containsRange(this,j)}static containsRange(j,E){return!(E.startLineNumber<j.startLineNumber||E.endLineNumber<j.startLineNumber||E.startLineNumber>j.endLineNumber||E.endLineNumber>j.endLineNumber||E.startLineNumber===j.startLineNumber&&E.startColumn<j.startColumn||E.endLineNumber===j.endLineNumber&&E.endColumn>j.endColumn)}strictContainsRange(j){return l.strictContainsRange(this,j)}static strictContainsRange(j,E){return!(E.startLineNumber<j.startLineNumber||E.endLineNumber<j.startLineNumber||E.startLineNumber>j.endLineNumber||E.endLineNumber>j.endLineNumber||E.startLineNumber===j.startLineNumber&&E.startColumn<=j.startColumn||E.endLineNumber===j.endLineNumber&&E.endColumn>=j.endColumn)}plusRange(j){return l.plusRange(this,j)}static plusRange(j,E){let Z,B,H,O;return E.startLineNumber<j.startLineNumber?(Z=E.startLineNumber,B=E.startColumn):E.startLineNumber===j.startLineNumber?(Z=E.startLineNumber,B=Math.min(E.startColumn,j.startColumn)):(Z=j.startLineNumber,B=j.startColumn),E.endLineNumber>j.endLineNumber?(H=E.endLineNumber,O=E.endColumn):E.endLineNumber===j.endLineNumber?(H=E.endLineNumber,O=Math.max(E.endColumn,j.endColumn)):(H=j.endLineNumber,O=j.endColumn),new l(Z,B,H,O)}intersectRanges(j){return l.intersectRanges(this,j)}static intersectRanges(j,E){let Z=j.startLineNumber,B=j.startColumn,H=j.endLineNumber,O=j.endColumn;const y=E.startLineNumber,g=E.startColumn,C=E.endLineNumber,m=E.endColumn;return Z<y?(Z=y,B=g):Z===y&&(B=Math.max(B,g)),H>C?(H=C,O=m):H===C&&(O=Math.min(O,m)),Z>H||Z===H&&B>O?null:new l(Z,B,H,O)}equalsRange(j){return l.equalsRange(this,j)}static equalsRange(j,E){return!!j&&!!E&&j.startLineNumber===E.startLineNumber&&j.startColumn===E.startColumn&&j.endLineNumber===E.endLineNumber&&j.endColumn===E.endColumn}getEndPosition(){return l.getEndPosition(this)}static getEndPosition(j){return new b.L(j.endLineNumber,j.endColumn)}getStartPosition(){return l.getStartPosition(this)}static getStartPosition(j){return new b.L(j.startLineNumber,j.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(j,E){return new l(this.startLineNumber,this.startColumn,j,E)}setStartPosition(j,E){return new l(j,E,this.endLineNumber,this.endColumn)}collapseToStart(){return l.collapseToStart(this)}static collapseToStart(j){return new l(j.startLineNumber,j.startColumn,j.startLineNumber,j.startColumn)}static fromPositions(j,E=j){return new l(j.lineNumber,j.column,E.lineNumber,E.column)}static lift(j){return j?new l(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn):null}static isIRange(j){return j&&typeof j.startLineNumber=="number"&&typeof j.startColumn=="number"&&typeof j.endLineNumber=="number"&&typeof j.endColumn=="number"}static areIntersectingOrTouching(j,E){return!(j.endLineNumber<E.startLineNumber||j.endLineNumber===E.startLineNumber&&j.endColumn<E.startColumn||E.endLineNumber<j.startLineNumber||E.endLineNumber===j.startLineNumber&&E.endColumn<j.startColumn)}static areIntersecting(j,E){return!(j.endLineNumber<E.startLineNumber||j.endLineNumber===E.startLineNumber&&j.endColumn<=E.startColumn||E.endLineNumber<j.startLineNumber||E.endLineNumber===j.startLineNumber&&E.endColumn<=j.startColumn)}static compareRangesUsingStarts(j,E){if(j&&E){const H=j.startLineNumber|0,O=E.startLineNumber|0;if(H===O){const y=j.startColumn|0,g=E.startColumn|0;if(y===g){const C=j.endLineNumber|0,m=E.endLineNumber|0;if(C===m){const i=j.endColumn|0,d=E.endColumn|0;return i-d}return C-m}return y-g}return H-O}return(j?1:0)-(E?1:0)}static compareRangesUsingEnds(j,E){return j.endLineNumber===E.endLineNumber?j.endColumn===E.endColumn?j.startLineNumber===E.startLineNumber?j.startColumn-E.startColumn:j.startLineNumber-E.startLineNumber:j.endColumn-E.endColumn:j.endLineNumber-E.endLineNumber}static spansMultipleLines(j){return j.endLineNumber>j.startLineNumber}toJSON(){return this}}},3860:function(Yt,Ye,s){"use strict";s.d(Ye,{Y:function(){return z}});var b=s(50187),l=s(24314);class z extends l.e{constructor(E,Z,B,H){super(E,Z,B,H),this.selectionStartLineNumber=E,this.selectionStartColumn=Z,this.positionLineNumber=B,this.positionColumn=H}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(E){return z.selectionsEqual(this,E)}static selectionsEqual(E,Z){return E.selectionStartLineNumber===Z.selectionStartLineNumber&&E.selectionStartColumn===Z.selectionStartColumn&&E.positionLineNumber===Z.positionLineNumber&&E.positionColumn===Z.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(E,Z){return this.getDirection()===0?new z(this.startLineNumber,this.startColumn,E,Z):new z(E,Z,this.startLineNumber,this.startColumn)}getPosition(){return new b.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new b.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(E,Z){return this.getDirection()===0?new z(E,Z,this.endLineNumber,this.endColumn):new z(this.endLineNumber,this.endColumn,E,Z)}static fromPositions(E,Z=E){return new z(E.lineNumber,E.column,Z.lineNumber,Z.column)}static fromRange(E,Z){return Z===0?new z(E.startLineNumber,E.startColumn,E.endLineNumber,E.endColumn):new z(E.endLineNumber,E.endColumn,E.startLineNumber,E.startColumn)}static liftSelection(E){return new z(E.selectionStartLineNumber,E.selectionStartColumn,E.positionLineNumber,E.positionColumn)}static selectionsArrEqual(E,Z){if(E&&!Z||!E&&Z)return!1;if(!E&&!Z)return!0;if(E.length!==Z.length)return!1;for(let B=0,H=E.length;B<H;B++)if(!this.selectionsEqual(E[B],Z[B]))return!1;return!0}static isISelection(E){return E&&typeof E.selectionStartLineNumber=="number"&&typeof E.selectionStartColumn=="number"&&typeof E.positionLineNumber=="number"&&typeof E.positionColumn=="number"}static createWithDirection(E,Z,B,H,O){return O===0?new z(E,Z,B,H):new z(B,H,E,Z)}}},50072:function(Yt,Ye,s){"use strict";s.d(Ye,{kH:function(){return C},l$:function(){return g},lZ:function(){return y},oe:function(){return O}});var b=s(97295),l=s(1432),z=s(53060);let j;function E(){return j||(j=new TextDecoder("UTF-16LE")),j}let Z;function B(){return Z||(Z=new TextDecoder("UTF-16BE")),Z}let H;function O(){return H||(H=l.r()?E():B()),H}const y=typeof TextDecoder<"u";let g,C;y?(g=v=>new d(v),C=m):(g=v=>new _,C=i);function m(v,p,L){const T=new Uint16Array(v.buffer,p,L);return L>0&&(T[0]===65279||T[0]===65534)?i(v,p,L):E().decode(T)}function i(v,p,L){const T=[];let M=0;for(let I=0;I<L;I++){const P=z.mP(v,p);p+=2,T[M++]=String.fromCharCode(P)}return T.join("")}class d{constructor(p){this._capacity=p|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const p=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return O().decode(p)}_flushBuffer(){const p=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[p]:this._completedStrings[this._completedStrings.length]=p}write1(p){const L=this._capacity-this._bufferLength;L<=1&&(L===0||b.ZG(p))&&this._flushBuffer(),this._buffer[this._bufferLength++]=p}appendASCII(p){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=p}appendASCIIString(p){const L=p.length;if(this._bufferLength+L>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=p;return}for(let T=0;T<L;T++)this._buffer[this._bufferLength++]=p.charCodeAt(T)}}class _{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(p){this._pieces[this._piecesLen++]=String.fromCharCode(p)}appendASCII(p){this._pieces[this._piecesLen++]=String.fromCharCode(p)}appendASCIIString(p){this._pieces[this._piecesLen++]=p}}},93033:function(Yt,Ye,s){"use strict";s.d(Ye,{b:function(){return E},q:function(){return j}});var b=s(53060),l=s(50072);function z(B){return B.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class j{constructor(H,O,y,g){this.oldPosition=H,this.oldText=O,this.newPosition=y,this.newText=g}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${z(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${z(this.oldText)}")`:`(replace@${this.oldPosition} "${z(this.oldText)}" with "${z(this.newText)}")`}static _writeStringSize(H){return 4+2*H.length}static _writeString(H,O,y){const g=O.length;b.T4(H,g,y),y+=4;for(let C=0;C<g;C++)b.oq(H,O.charCodeAt(C),y),y+=2;return y}static _readString(H,O){const y=b.Ag(H,O);return O+=4,(0,l.kH)(H,O,y)}writeSize(){return 8+j._writeStringSize(this.oldText)+j._writeStringSize(this.newText)}write(H,O){return b.T4(H,this.oldPosition,O),O+=4,b.T4(H,this.newPosition,O),O+=4,O=j._writeString(H,this.oldText,O),O=j._writeString(H,this.newText,O),O}static read(H,O,y){const g=b.Ag(H,O);O+=4;const C=b.Ag(H,O);O+=4;const m=j._readString(H,O);O+=j._writeStringSize(m);const i=j._readString(H,O);return O+=j._writeStringSize(i),y.push(new j(g,m,C,i)),O}}function E(B,H){return B===null||B.length===0?H:new Z(B,H).compress()}class Z{constructor(H,O){this._prevEdits=H,this._currEdits=O,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let H=0,O=0,y=this._getPrev(H),g=this._getCurr(O);for(;H<this._prevLen||O<this._currLen;){if(y===null){this._acceptCurr(g),g=this._getCurr(++O);continue}if(g===null){this._acceptPrev(y),y=this._getPrev(++H);continue}if(g.oldEnd<=y.newPosition){this._acceptCurr(g),g=this._getCurr(++O);continue}if(y.newEnd<=g.oldPosition){this._acceptPrev(y),y=this._getPrev(++H);continue}if(g.oldPosition<y.newPosition){const[_,v]=Z._splitCurr(g,y.newPosition-g.oldPosition);this._acceptCurr(_),g=v;continue}if(y.newPosition<g.oldPosition){const[_,v]=Z._splitPrev(y,g.oldPosition-y.newPosition);this._acceptPrev(_),y=v;continue}let i,d;if(g.oldEnd===y.newEnd)i=y,d=g,y=this._getPrev(++H),g=this._getCurr(++O);else if(g.oldEnd<y.newEnd){const[_,v]=Z._splitPrev(y,g.oldLength);i=_,d=g,y=v,g=this._getCurr(++O)}else{const[_,v]=Z._splitCurr(g,y.newLength);i=y,d=_,y=this._getPrev(++H),g=v}this._result[this._resultLen++]=new j(i.oldPosition,i.oldText,d.newPosition,d.newText),this._prevDeltaOffset+=i.newLength-i.oldLength,this._currDeltaOffset+=d.newLength-d.oldLength}const C=Z._merge(this._result);return Z._removeNoOps(C)}_acceptCurr(H){this._result[this._resultLen++]=Z._rebaseCurr(this._prevDeltaOffset,H),this._currDeltaOffset+=H.newLength-H.oldLength}_getCurr(H){return H<this._currLen?this._currEdits[H]:null}_acceptPrev(H){this._result[this._resultLen++]=Z._rebasePrev(this._currDeltaOffset,H),this._prevDeltaOffset+=H.newLength-H.oldLength}_getPrev(H){return H<this._prevLen?this._prevEdits[H]:null}static _rebaseCurr(H,O){return new j(O.oldPosition-H,O.oldText,O.newPosition,O.newText)}static _rebasePrev(H,O){return new j(O.oldPosition,O.oldText,O.newPosition+H,O.newText)}static _splitPrev(H,O){const y=H.newText.substr(0,O),g=H.newText.substr(O);return[new j(H.oldPosition,H.oldText,H.newPosition,y),new j(H.oldEnd,"",H.newPosition+O,g)]}static _splitCurr(H,O){const y=H.oldText.substr(0,O),g=H.oldText.substr(O);return[new j(H.oldPosition,y,H.newPosition,H.newText),new j(H.oldPosition+O,g,H.newEnd,"")]}static _merge(H){if(H.length===0)return H;const O=[];let y=0,g=H[0];for(let C=1;C<H.length;C++){const m=H[C];g.oldEnd===m.oldPosition?g=new j(g.oldPosition,g.oldText+m.oldText,g.newPosition,g.newText+m.newText):(O[y++]=g,g=m)}return O[y++]=g,O}static _removeNoOps(H){if(H.length===0)return H;const O=[];let y=0;for(let g=0;g<H.length;g++){const C=H[g];C.oldText!==C.newText&&(O[y++]=C)}return O}}},22075:function(Yt,Ye,s){"use strict";s.d(Ye,{D:function(){return b}});const b={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},24929:function(Yt,Ye,s){"use strict";s.d(Ye,{u:function(){return j}});var b=s(44906);class l extends b.N{constructor(Z){super(0);for(let B=0,H=Z.length;B<H;B++)this.set(Z.charCodeAt(B),2);this.set(32,1),this.set(9,1)}}function z(E){const Z={};return B=>(Z.hasOwnProperty(B)||(Z[B]=E(B)),Z[B])}const j=z(E=>new l(E))},270:function(Yt,Ye,s){"use strict";s.d(Ye,{Af:function(){return E},eq:function(){return Z},t2:function(){return H},vu:function(){return z}});var b=s(53725),l=s(91741);const z="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function j(y=""){let g="(-?\\d*\\.\\d\\w*)|([^";for(const C of z)y.indexOf(C)>=0||(g+="\\"+C);return g+="\\s]+)",new RegExp(g,"g")}const E=j();function Z(y){let g=E;if(y&&y instanceof RegExp)if(y.global)g=y;else{let C="g";y.ignoreCase&&(C+="i"),y.multiline&&(C+="m"),y.unicode&&(C+="u"),g=new RegExp(y.source,C)}return g.lastIndex=0,g}const B=new l.S;B.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function H(y,g,C,m,i){if(i||(i=b.$.first(B)),C.length>i.maxLen){let L=y-i.maxLen/2;return L<0?L=0:m+=L,C=C.substring(L,y+i.maxLen/2),H(y,g,C,m,i)}const d=Date.now(),_=y-1-m;let v=-1,p=null;for(let L=1;!(Date.now()-d>=i.timeBudget);L++){const T=_-i.windowSize*L;g.lastIndex=Math.max(0,T);const M=O(g,C,_,v);if(!M&&p||(p=M,T<=0))break;v=T}if(p){const L={word:p[0],startColumn:m+1+p.index,endColumn:m+1+p.index+p[0].length};return g.lastIndex=0,L}return null}function O(y,g,C,m){let i;for(;i=y.exec(g);){const d=i.index||0;if(d<=C&&y.lastIndex>=C)return i;if(m>0&&d>m)return null}return null}},47128:function(Yt,Ye,s){"use strict";s.d(Ye,{l:function(){return l}});var b=s(7988);class l{static whitespaceVisibleColumn(j,E,Z){const B=j.length;let H=0,O=-1,y=-1;for(let g=0;g<B;g++){if(g===E)return[O,y,H];switch(H%Z===0&&(O=g,y=H),j.charCodeAt(g)){case 32:H+=1;break;case 9:H=b.i.nextRenderTabStop(H,Z);break;default:return[-1,-1,-1]}}return E===B?[O,y,H]:[-1,-1,-1]}static atomicPosition(j,E,Z,B){const H=j.length,[O,y,g]=l.whitespaceVisibleColumn(j,E,Z);if(g===-1)return-1;let C;switch(B){case 0:C=!0;break;case 1:C=!1;break;case 2:if(g%Z===0)return E;C=g%Z<=Z/2;break}if(C){if(O===-1)return-1;let d=y;for(let _=O;_<H;++_){if(d===y+Z)return O;switch(j.charCodeAt(_)){case 32:d+=1;break;case 9:d=b.i.nextRenderTabStop(d,Z);break;default:return-1}}return d===y+Z?O:-1}const m=b.i.nextRenderTabStop(g,Z);let i=g;for(let d=E;d<H;d++){if(i===m)return d;switch(j.charCodeAt(d)){case 32:i+=1;break;case 9:i=b.i.nextRenderTabStop(i,Z);break;default:return-1}}return i===m?H:-1}}},29436:function(Yt,Ye,s){"use strict";s.d(Ye,{A:function(){return H}});var b=s(97295),l=s(61329),z=s(55343),j=s(7988),E=s(10839),Z=s(24314),B=s(50187);class H{static deleteRight(y,g,C,m){const i=[];let d=y!==3;for(let _=0,v=m.length;_<v;_++){const p=m[_];let L=p;if(L.isEmpty()){const T=p.getPosition(),M=E.o.right(g,C,T);L=new Z.e(M.lineNumber,M.column,T.lineNumber,T.column)}if(L.isEmpty()){i[_]=null;continue}L.startLineNumber!==L.endLineNumber&&(d=!0),i[_]=new l.T4(L,"")}return[d,i]}static isAutoClosingPairDelete(y,g,C,m,i,d,_){if(g==="never"&&C==="never"||y==="never")return!1;for(let v=0,p=d.length;v<p;v++){const L=d[v],T=L.getPosition();if(!L.isEmpty())return!1;const M=i.getLineContent(T.lineNumber);if(T.column<2||T.column>=M.length+1)return!1;const I=M.charAt(T.column-2),P=m.get(I);if(!P)return!1;if((0,z.LN)(I)){if(C==="never")return!1}else if(g==="never")return!1;const V=M.charAt(T.column-1);let $=!1;for(const re of P)re.open===I&&re.close===V&&($=!0);if(!$)return!1;if(y==="auto"){let re=!1;for(let ae=0,ie=_.length;ae<ie;ae++){const se=_[ae];if(T.lineNumber===se.startLineNumber&&T.column===se.startColumn){re=!0;break}}if(!re)return!1}}return!0}static _runAutoClosingPairDelete(y,g,C){const m=[];for(let i=0,d=C.length;i<d;i++){const _=C[i].getPosition(),v=new Z.e(_.lineNumber,_.column-1,_.lineNumber,_.column+1);m[i]=new l.T4(v,"")}return[!0,m]}static deleteLeft(y,g,C,m,i){if(this.isAutoClosingPairDelete(g.autoClosingDelete,g.autoClosingBrackets,g.autoClosingQuotes,g.autoClosingPairs.autoClosingPairsOpenByEnd,C,m,i))return this._runAutoClosingPairDelete(g,C,m);const d=[];let _=y!==2;for(let v=0,p=m.length;v<p;v++){const L=H.getDeleteRange(m[v],C,g);if(L.isEmpty()){d[v]=null;continue}L.startLineNumber!==L.endLineNumber&&(_=!0),d[v]=new l.T4(L,"")}return[_,d]}static getDeleteRange(y,g,C){if(!y.isEmpty())return y;const m=y.getPosition();if(C.useTabStops&&m.column>1){const i=g.getLineContent(m.lineNumber),d=b.LC(i),_=d===-1?i.length+1:d+1;if(m.column<=_){const v=C.visibleColumnFromColumn(g,m),p=j.i.prevIndentTabStop(v,C.indentSize),L=C.columnFromVisibleColumn(g,m.lineNumber,p);return new Z.e(m.lineNumber,L,m.lineNumber,m.column)}}return Z.e.fromPositions(H.getPositionAfterDeleteLeft(m,g),m)}static getPositionAfterDeleteLeft(y,g){if(y.column>1){const C=b.oH(y.column-1,g.getLineContent(y.lineNumber));return y.with(void 0,C+1)}else if(y.lineNumber>1){const C=y.lineNumber-1;return new B.L(C,g.getLineMaxColumn(C))}else return y}static cut(y,g,C){const m=[];let i=null;C.sort((d,_)=>B.L.compare(d.getStartPosition(),_.getEndPosition()));for(let d=0,_=C.length;d<_;d++){const v=C[d];if(v.isEmpty())if(y.emptySelectionClipboard){const p=v.getPosition();let L,T,M,I;p.lineNumber<g.getLineCount()?(L=p.lineNumber,T=1,M=p.lineNumber+1,I=1):p.lineNumber>1&&i?.endLineNumber!==p.lineNumber?(L=p.lineNumber-1,T=g.getLineMaxColumn(p.lineNumber-1),M=p.lineNumber,I=g.getLineMaxColumn(p.lineNumber)):(L=p.lineNumber,T=1,M=p.lineNumber,I=g.getLineMaxColumn(p.lineNumber));const P=new Z.e(L,T,M,I);i=P,P.isEmpty()?m[d]=null:m[d]=new l.T4(P,"")}else m[d]=null;else m[d]=new l.T4(v,"")}return new z.Tp(0,m,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},28108:function(Yt,Ye,s){"use strict";s.d(Ye,{N:function(){return H},P:function(){return B}});var b=s(98401),l=s(55343),z=s(10839),j=s(92896),E=s(50187),Z=s(24314);class B{static addCursorDown(y,g,C){const m=[];let i=0;for(let d=0,_=g.length;d<_;d++){const v=g[d];m[i++]=new l.Vi(v.modelState,v.viewState),C?m[i++]=l.Vi.fromModelState(z.o.translateDown(y.cursorConfig,y.model,v.modelState)):m[i++]=l.Vi.fromViewState(z.o.translateDown(y.cursorConfig,y,v.viewState))}return m}static addCursorUp(y,g,C){const m=[];let i=0;for(let d=0,_=g.length;d<_;d++){const v=g[d];m[i++]=new l.Vi(v.modelState,v.viewState),C?m[i++]=l.Vi.fromModelState(z.o.translateUp(y.cursorConfig,y.model,v.modelState)):m[i++]=l.Vi.fromViewState(z.o.translateUp(y.cursorConfig,y,v.viewState))}return m}static moveToBeginningOfLine(y,g,C){const m=[];for(let i=0,d=g.length;i<d;i++){const _=g[i];m[i]=this._moveToLineStart(y,_,C)}return m}static _moveToLineStart(y,g,C){const m=g.viewState.position.column,i=g.modelState.position.column,d=m===i,_=g.viewState.position.lineNumber,v=y.getLineFirstNonWhitespaceColumn(_);return!d&&!(m===v)?this._moveToLineStartByView(y,g,C):this._moveToLineStartByModel(y,g,C)}static _moveToLineStartByView(y,g,C){return l.Vi.fromViewState(z.o.moveToBeginningOfLine(y.cursorConfig,y,g.viewState,C))}static _moveToLineStartByModel(y,g,C){return l.Vi.fromModelState(z.o.moveToBeginningOfLine(y.cursorConfig,y.model,g.modelState,C))}static moveToEndOfLine(y,g,C,m){const i=[];for(let d=0,_=g.length;d<_;d++){const v=g[d];i[d]=this._moveToLineEnd(y,v,C,m)}return i}static _moveToLineEnd(y,g,C,m){const i=g.viewState.position,d=y.getLineMaxColumn(i.lineNumber),_=i.column===d,v=g.modelState.position,p=y.model.getLineMaxColumn(v.lineNumber),L=d-i.column===p-v.column;return _||L?this._moveToLineEndByModel(y,g,C,m):this._moveToLineEndByView(y,g,C,m)}static _moveToLineEndByView(y,g,C,m){return l.Vi.fromViewState(z.o.moveToEndOfLine(y.cursorConfig,y,g.viewState,C,m))}static _moveToLineEndByModel(y,g,C,m){return l.Vi.fromModelState(z.o.moveToEndOfLine(y.cursorConfig,y.model,g.modelState,C,m))}static expandLineSelection(y,g){const C=[];for(let m=0,i=g.length;m<i;m++){const d=g[m],_=d.modelState.selection.startLineNumber,v=y.model.getLineCount();let p=d.modelState.selection.endLineNumber,L;p===v?L=y.model.getLineMaxColumn(v):(p++,L=1),C[m]=l.Vi.fromModelState(new l.rS(new Z.e(_,1,_,1),0,new E.L(p,L),0))}return C}static moveToBeginningOfBuffer(y,g,C){const m=[];for(let i=0,d=g.length;i<d;i++){const _=g[i];m[i]=l.Vi.fromModelState(z.o.moveToBeginningOfBuffer(y.cursorConfig,y.model,_.modelState,C))}return m}static moveToEndOfBuffer(y,g,C){const m=[];for(let i=0,d=g.length;i<d;i++){const _=g[i];m[i]=l.Vi.fromModelState(z.o.moveToEndOfBuffer(y.cursorConfig,y.model,_.modelState,C))}return m}static selectAll(y,g){const C=y.model.getLineCount(),m=y.model.getLineMaxColumn(C);return l.Vi.fromModelState(new l.rS(new Z.e(1,1,1,1),0,new E.L(C,m),0))}static line(y,g,C,m,i){const d=y.model.validatePosition(m),_=i?y.coordinatesConverter.validateViewPosition(new E.L(i.lineNumber,i.column),d):y.coordinatesConverter.convertModelPositionToViewPosition(d);if(!C||!g.modelState.hasSelection()){const p=y.model.getLineCount();let L=d.lineNumber+1,T=1;return L>p&&(L=p,T=y.model.getLineMaxColumn(L)),l.Vi.fromModelState(new l.rS(new Z.e(d.lineNumber,1,L,T),0,new E.L(L,T),0))}const v=g.modelState.selectionStart.getStartPosition().lineNumber;if(d.lineNumber<v)return l.Vi.fromViewState(g.viewState.move(g.modelState.hasSelection(),_.lineNumber,1,0));if(d.lineNumber>v){const p=y.getLineCount();let L=_.lineNumber+1,T=1;return L>p&&(L=p,T=y.getLineMaxColumn(L)),l.Vi.fromViewState(g.viewState.move(g.modelState.hasSelection(),L,T,0))}else{const p=g.modelState.selectionStart.getEndPosition();return l.Vi.fromModelState(g.modelState.move(g.modelState.hasSelection(),p.lineNumber,p.column,0))}}static word(y,g,C,m){const i=y.model.validatePosition(m);return l.Vi.fromModelState(j.w.word(y.cursorConfig,y.model,g.modelState,C,i))}static cancelSelection(y,g){if(!g.modelState.hasSelection())return new l.Vi(g.modelState,g.viewState);const C=g.viewState.position.lineNumber,m=g.viewState.position.column;return l.Vi.fromViewState(new l.rS(new Z.e(C,m,C,m),0,new E.L(C,m),0))}static moveTo(y,g,C,m,i){const d=y.model.validatePosition(m),_=i?y.coordinatesConverter.validateViewPosition(new E.L(i.lineNumber,i.column),d):y.coordinatesConverter.convertModelPositionToViewPosition(d);return l.Vi.fromViewState(g.viewState.move(C,_.lineNumber,_.column,0))}static simpleMove(y,g,C,m,i,d){switch(C){case 0:return d===4?this._moveHalfLineLeft(y,g,m):this._moveLeft(y,g,m,i);case 1:return d===4?this._moveHalfLineRight(y,g,m):this._moveRight(y,g,m,i);case 2:return d===2?this._moveUpByViewLines(y,g,m,i):this._moveUpByModelLines(y,g,m,i);case 3:return d===2?this._moveDownByViewLines(y,g,m,i):this._moveDownByModelLines(y,g,m,i);case 4:return d===2?g.map(_=>l.Vi.fromViewState(z.o.moveToPrevBlankLine(y.cursorConfig,y,_.viewState,m))):g.map(_=>l.Vi.fromModelState(z.o.moveToPrevBlankLine(y.cursorConfig,y.model,_.modelState,m)));case 5:return d===2?g.map(_=>l.Vi.fromViewState(z.o.moveToNextBlankLine(y.cursorConfig,y,_.viewState,m))):g.map(_=>l.Vi.fromModelState(z.o.moveToNextBlankLine(y.cursorConfig,y.model,_.modelState,m)));case 6:return this._moveToViewMinColumn(y,g,m);case 7:return this._moveToViewFirstNonWhitespaceColumn(y,g,m);case 8:return this._moveToViewCenterColumn(y,g,m);case 9:return this._moveToViewMaxColumn(y,g,m);case 10:return this._moveToViewLastNonWhitespaceColumn(y,g,m);default:return null}}static viewportMove(y,g,C,m,i){const d=y.getCompletelyVisibleViewRange(),_=y.coordinatesConverter.convertViewRangeToModelRange(d);switch(C){case 11:{const v=this._firstLineNumberInRange(y.model,_,i),p=y.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(y,g[0],m,v,p)]}case 13:{const v=this._lastLineNumberInRange(y.model,_,i),p=y.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(y,g[0],m,v,p)]}case 12:{const v=Math.round((_.startLineNumber+_.endLineNumber)/2),p=y.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(y,g[0],m,v,p)]}case 14:{const v=[];for(let p=0,L=g.length;p<L;p++){const T=g[p];v[p]=this.findPositionInViewportIfOutside(y,T,d,m)}return v}default:return null}}static findPositionInViewportIfOutside(y,g,C,m){const i=g.viewState.position.lineNumber;if(C.startLineNumber<=i&&i<=C.endLineNumber-1)return new l.Vi(g.modelState,g.viewState);{let d;i>C.endLineNumber-1?d=C.endLineNumber-1:i<C.startLineNumber?d=C.startLineNumber:d=i;const _=z.o.vertical(y.cursorConfig,y,i,g.viewState.position.column,g.viewState.leftoverVisibleColumns,d,!1);return l.Vi.fromViewState(g.viewState.move(m,_.lineNumber,_.column,_.leftoverVisibleColumns))}}static _firstLineNumberInRange(y,g,C){let m=g.startLineNumber;return g.startColumn!==y.getLineMinColumn(m)&&m++,Math.min(g.endLineNumber,m+C-1)}static _lastLineNumberInRange(y,g,C){let m=g.startLineNumber;return g.startColumn!==y.getLineMinColumn(m)&&m++,Math.max(m,g.endLineNumber-C+1)}static _moveLeft(y,g,C,m){return g.map(i=>l.Vi.fromViewState(z.o.moveLeft(y.cursorConfig,y,i.viewState,C,m)))}static _moveHalfLineLeft(y,g,C){const m=[];for(let i=0,d=g.length;i<d;i++){const _=g[i],v=_.viewState.position.lineNumber,p=Math.round(y.getLineContent(v).length/2);m[i]=l.Vi.fromViewState(z.o.moveLeft(y.cursorConfig,y,_.viewState,C,p))}return m}static _moveRight(y,g,C,m){return g.map(i=>l.Vi.fromViewState(z.o.moveRight(y.cursorConfig,y,i.viewState,C,m)))}static _moveHalfLineRight(y,g,C){const m=[];for(let i=0,d=g.length;i<d;i++){const _=g[i],v=_.viewState.position.lineNumber,p=Math.round(y.getLineContent(v).length/2);m[i]=l.Vi.fromViewState(z.o.moveRight(y.cursorConfig,y,_.viewState,C,p))}return m}static _moveDownByViewLines(y,g,C,m){const i=[];for(let d=0,_=g.length;d<_;d++){const v=g[d];i[d]=l.Vi.fromViewState(z.o.moveDown(y.cursorConfig,y,v.viewState,C,m))}return i}static _moveDownByModelLines(y,g,C,m){const i=[];for(let d=0,_=g.length;d<_;d++){const v=g[d];i[d]=l.Vi.fromModelState(z.o.moveDown(y.cursorConfig,y.model,v.modelState,C,m))}return i}static _moveUpByViewLines(y,g,C,m){const i=[];for(let d=0,_=g.length;d<_;d++){const v=g[d];i[d]=l.Vi.fromViewState(z.o.moveUp(y.cursorConfig,y,v.viewState,C,m))}return i}static _moveUpByModelLines(y,g,C,m){const i=[];for(let d=0,_=g.length;d<_;d++){const v=g[d];i[d]=l.Vi.fromModelState(z.o.moveUp(y.cursorConfig,y.model,v.modelState,C,m))}return i}static _moveToViewPosition(y,g,C,m,i){return l.Vi.fromViewState(g.viewState.move(C,m,i,0))}static _moveToModelPosition(y,g,C,m,i){return l.Vi.fromModelState(g.modelState.move(C,m,i,0))}static _moveToViewMinColumn(y,g,C){const m=[];for(let i=0,d=g.length;i<d;i++){const _=g[i],v=_.viewState.position.lineNumber,p=y.getLineMinColumn(v);m[i]=this._moveToViewPosition(y,_,C,v,p)}return m}static _moveToViewFirstNonWhitespaceColumn(y,g,C){const m=[];for(let i=0,d=g.length;i<d;i++){const _=g[i],v=_.viewState.position.lineNumber,p=y.getLineFirstNonWhitespaceColumn(v);m[i]=this._moveToViewPosition(y,_,C,v,p)}return m}static _moveToViewCenterColumn(y,g,C){const m=[];for(let i=0,d=g.length;i<d;i++){const _=g[i],v=_.viewState.position.lineNumber,p=Math.round((y.getLineMaxColumn(v)+y.getLineMinColumn(v))/2);m[i]=this._moveToViewPosition(y,_,C,v,p)}return m}static _moveToViewMaxColumn(y,g,C){const m=[];for(let i=0,d=g.length;i<d;i++){const _=g[i],v=_.viewState.position.lineNumber,p=y.getLineMaxColumn(v);m[i]=this._moveToViewPosition(y,_,C,v,p)}return m}static _moveToViewLastNonWhitespaceColumn(y,g,C){const m=[];for(let i=0,d=g.length;i<d;i++){const _=g[i],v=_.viewState.position.lineNumber,p=y.getLineLastNonWhitespaceColumn(v);m[i]=this._moveToViewPosition(y,_,C,v,p)}return m}}var H;(function(O){const y=function(C){if(!b.Kn(C))return!1;const m=C;return!(!b.HD(m.to)||!b.o8(m.select)&&!b.jn(m.select)||!b.o8(m.by)&&!b.HD(m.by)||!b.o8(m.value)&&!b.hj(m.value))};O.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:y,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},O.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},O.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function g(C){if(!C.to)return null;let m;switch(C.to){case O.RawDirection.Left:m=0;break;case O.RawDirection.Right:m=1;break;case O.RawDirection.Up:m=2;break;case O.RawDirection.Down:m=3;break;case O.RawDirection.PrevBlankLine:m=4;break;case O.RawDirection.NextBlankLine:m=5;break;case O.RawDirection.WrappedLineStart:m=6;break;case O.RawDirection.WrappedLineFirstNonWhitespaceCharacter:m=7;break;case O.RawDirection.WrappedLineColumnCenter:m=8;break;case O.RawDirection.WrappedLineEnd:m=9;break;case O.RawDirection.WrappedLineLastNonWhitespaceCharacter:m=10;break;case O.RawDirection.ViewPortTop:m=11;break;case O.RawDirection.ViewPortBottom:m=13;break;case O.RawDirection.ViewPortCenter:m=12;break;case O.RawDirection.ViewPortIfOutside:m=14;break;default:return null}let i=0;switch(C.by){case O.RawUnit.Line:i=1;break;case O.RawUnit.WrappedLine:i=2;break;case O.RawUnit.Character:i=3;break;case O.RawUnit.HalfLine:i=4;break}return{direction:m,unit:i,select:!!C.select,value:C.value||1}}O.parse=g})(H||(H={}))},10839:function(Yt,Ye,s){"use strict";s.d(Ye,{o:function(){return H}});var b=s(55343),l=s(7988),z=s(50187),j=s(24314),E=s(97295),Z=s(47128);class B{constructor(y,g,C){this._cursorPositionBrand=void 0,this.lineNumber=y,this.column=g,this.leftoverVisibleColumns=C}}class H{static leftPosition(y,g){if(g.column>y.getLineMinColumn(g.lineNumber))return g.delta(void 0,-E.HO(y.getLineContent(g.lineNumber),g.column-1));if(g.lineNumber>1){const C=g.lineNumber-1;return new z.L(C,y.getLineMaxColumn(C))}else return g}static leftPositionAtomicSoftTabs(y,g,C){if(g.column<=y.getLineIndentColumn(g.lineNumber)){const m=y.getLineMinColumn(g.lineNumber),i=y.getLineContent(g.lineNumber),d=Z.l.atomicPosition(i,g.column-1,C,0);if(d!==-1&&d+1>=m)return new z.L(g.lineNumber,d+1)}return this.leftPosition(y,g)}static left(y,g,C){const m=y.stickyTabStops?H.leftPositionAtomicSoftTabs(g,C,y.tabSize):H.leftPosition(g,C);return new B(m.lineNumber,m.column,0)}static moveLeft(y,g,C,m,i){let d,_;if(C.hasSelection()&&!m)d=C.selection.startLineNumber,_=C.selection.startColumn;else{const v=C.position.delta(void 0,-(i-1)),p=g.normalizePosition(H.clipPositionColumn(v,g),0),L=H.left(y,g,p);d=L.lineNumber,_=L.column}return C.move(m,d,_,0)}static clipPositionColumn(y,g){return new z.L(y.lineNumber,H.clipRange(y.column,g.getLineMinColumn(y.lineNumber),g.getLineMaxColumn(y.lineNumber)))}static clipRange(y,g,C){return y<g?g:y>C?C:y}static rightPosition(y,g,C){return C<y.getLineMaxColumn(g)?C=C+E.vH(y.getLineContent(g),C-1):g<y.getLineCount()&&(g=g+1,C=y.getLineMinColumn(g)),new z.L(g,C)}static rightPositionAtomicSoftTabs(y,g,C,m,i){if(C<y.getLineIndentColumn(g)){const d=y.getLineContent(g),_=Z.l.atomicPosition(d,C-1,m,1);if(_!==-1)return new z.L(g,_+1)}return this.rightPosition(y,g,C)}static right(y,g,C){const m=y.stickyTabStops?H.rightPositionAtomicSoftTabs(g,C.lineNumber,C.column,y.tabSize,y.indentSize):H.rightPosition(g,C.lineNumber,C.column);return new B(m.lineNumber,m.column,0)}static moveRight(y,g,C,m,i){let d,_;if(C.hasSelection()&&!m)d=C.selection.endLineNumber,_=C.selection.endColumn;else{const v=C.position.delta(void 0,i-1),p=g.normalizePosition(H.clipPositionColumn(v,g),1),L=H.right(y,g,p);d=L.lineNumber,_=L.column}return C.move(m,d,_,0)}static vertical(y,g,C,m,i,d,_,v){const p=l.i.visibleColumnFromColumn(g.getLineContent(C),m,y.tabSize)+i,L=g.getLineCount(),T=C===1&&m===1,M=C===L&&m===g.getLineMaxColumn(C),I=d<C?T:M;if(C=d,C<1?(C=1,_?m=g.getLineMinColumn(C):m=Math.min(g.getLineMaxColumn(C),m)):C>L?(C=L,_?m=g.getLineMaxColumn(C):m=Math.min(g.getLineMaxColumn(C),m)):m=y.columnFromVisibleColumn(g,C,p),I?i=0:i=p-l.i.visibleColumnFromColumn(g.getLineContent(C),m,y.tabSize),v!==void 0){const P=new z.L(C,m),V=g.normalizePosition(P,v);i=i+(m-V.column),C=V.lineNumber,m=V.column}return new B(C,m,i)}static down(y,g,C,m,i,d,_){return this.vertical(y,g,C,m,i,C+d,_,4)}static moveDown(y,g,C,m,i){let d,_;C.hasSelection()&&!m?(d=C.selection.endLineNumber,_=C.selection.endColumn):(d=C.position.lineNumber,_=C.position.column);const v=H.down(y,g,d,_,C.leftoverVisibleColumns,i,!0);return C.move(m,v.lineNumber,v.column,v.leftoverVisibleColumns)}static translateDown(y,g,C){const m=C.selection,i=H.down(y,g,m.selectionStartLineNumber,m.selectionStartColumn,C.selectionStartLeftoverVisibleColumns,1,!1),d=H.down(y,g,m.positionLineNumber,m.positionColumn,C.leftoverVisibleColumns,1,!1);return new b.rS(new j.e(i.lineNumber,i.column,i.lineNumber,i.column),i.leftoverVisibleColumns,new z.L(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(y,g,C,m,i,d,_){return this.vertical(y,g,C,m,i,C-d,_,3)}static moveUp(y,g,C,m,i){let d,_;C.hasSelection()&&!m?(d=C.selection.startLineNumber,_=C.selection.startColumn):(d=C.position.lineNumber,_=C.position.column);const v=H.up(y,g,d,_,C.leftoverVisibleColumns,i,!0);return C.move(m,v.lineNumber,v.column,v.leftoverVisibleColumns)}static translateUp(y,g,C){const m=C.selection,i=H.up(y,g,m.selectionStartLineNumber,m.selectionStartColumn,C.selectionStartLeftoverVisibleColumns,1,!1),d=H.up(y,g,m.positionLineNumber,m.positionColumn,C.leftoverVisibleColumns,1,!1);return new b.rS(new j.e(i.lineNumber,i.column,i.lineNumber,i.column),i.leftoverVisibleColumns,new z.L(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(y,g){return y.getLineFirstNonWhitespaceColumn(g)===0}static moveToPrevBlankLine(y,g,C,m){let i=C.position.lineNumber;for(;i>1&&this._isBlankLine(g,i);)i--;for(;i>1&&!this._isBlankLine(g,i);)i--;return C.move(m,i,g.getLineMinColumn(i),0)}static moveToNextBlankLine(y,g,C,m){const i=g.getLineCount();let d=C.position.lineNumber;for(;d<i&&this._isBlankLine(g,d);)d++;for(;d<i&&!this._isBlankLine(g,d);)d++;return C.move(m,d,g.getLineMinColumn(d),0)}static moveToBeginningOfLine(y,g,C,m){const i=C.position.lineNumber,d=g.getLineMinColumn(i),_=g.getLineFirstNonWhitespaceColumn(i)||d;let v;return C.position.column===_?v=d:v=_,C.move(m,i,v,0)}static moveToEndOfLine(y,g,C,m,i){const d=C.position.lineNumber,_=g.getLineMaxColumn(d);return C.move(m,d,_,i?1073741824-_:0)}static moveToBeginningOfBuffer(y,g,C,m){return C.move(m,1,1,0)}static moveToEndOfBuffer(y,g,C,m){const i=g.getLineCount(),d=g.getLineMaxColumn(i);return C.move(m,i,d,0)}}},94729:function(Yt,Ye,s){"use strict";s.d(Ye,{Nu:function(){return L},u6:function(){return v},g_:function(){return p}});var b=s(17301),l=s(97295),z=s(61329),j=s(10291),E=s(24314),Z=s(3860);class B{constructor($,re,ae){this._range=$,this._charBeforeSelection=re,this._charAfterSelection=ae}getEditOperations($,re){re.addTrackedEditOperation(new E.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),re.addTrackedEditOperation(new E.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState($,re){const ae=re.getInverseEditOperations(),ie=ae[0].range,se=ae[1].range;return new Z.Y(ie.endLineNumber,ie.endColumn,se.endLineNumber,se.endColumn-this._charAfterSelection.length)}}class H{constructor($,re,ae){this._position=$,this._text=re,this._charAfter=ae}getEditOperations($,re){re.addTrackedEditOperation(new E.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState($,re){const ie=re.getInverseEditOperations()[0].range;return new Z.Y(ie.endLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn-this._charAfter.length)}}var O=s(55343),y=s(24929),g=s(50187),C=s(49119),m=s(4256),i=s(19111),d=s(75383),_=s(1615);class v{static indent($,re,ae){if(re===null||ae===null)return[];const ie=[];for(let se=0,X=ae.length;se<X;se++)ie[se]=new j.U(ae[se],{isUnshift:!1,tabSize:$.tabSize,indentSize:$.indentSize,insertSpaces:$.insertSpaces,useTabStops:$.useTabStops,autoIndent:$.autoIndent},$.languageConfigurationService);return ie}static outdent($,re,ae){const ie=[];for(let se=0,X=ae.length;se<X;se++)ie[se]=new j.U(ae[se],{isUnshift:!0,tabSize:$.tabSize,indentSize:$.indentSize,insertSpaces:$.insertSpaces,useTabStops:$.useTabStops,autoIndent:$.autoIndent},$.languageConfigurationService);return ie}static shiftIndent($,re,ae){return ae=ae||1,j.U.shiftIndent(re,re.length+ae,$.tabSize,$.indentSize,$.insertSpaces)}static unshiftIndent($,re,ae){return ae=ae||1,j.U.unshiftIndent(re,re.length+ae,$.tabSize,$.indentSize,$.insertSpaces)}static _distributedPaste($,re,ae,ie){const se=[];for(let X=0,ne=ae.length;X<ne;X++)se[X]=new z.T4(ae[X],ie[X]);return new O.Tp(0,se,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste($,re,ae,ie,se){const X=[];for(let ne=0,Q=ae.length;ne<Q;ne++){const F=ae[ne],te=F.getPosition();if(se&&!F.isEmpty()&&(se=!1),se&&ie.indexOf(`
`)!==ie.length-1&&(se=!1),se){const W=new E.e(te.lineNumber,1,te.lineNumber,1);X[ne]=new z.hP(W,ie,F,!0)}else X[ne]=new z.T4(F,ie)}return new O.Tp(0,X,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors($,re,ae,ie,se){if(ie||re.length===1)return null;if(se&&se.length===re.length)return se;if($.multiCursorPaste==="spread"){ae.charCodeAt(ae.length-1)===10&&(ae=ae.substr(0,ae.length-1)),ae.charCodeAt(ae.length-1)===13&&(ae=ae.substr(0,ae.length-1));const X=l.uq(ae);if(X.length===re.length)return X}return null}static paste($,re,ae,ie,se,X){const ne=this._distributePasteToCursors($,ae,ie,se,X);return ne?(ae=ae.sort(E.e.compareRangesUsingStarts),this._distributedPaste($,re,ae,ne)):this._simplePaste($,re,ae,ie,se)}static _goodIndentForLine($,re,ae){let ie=null,se="";const X=(0,d.r7)($.autoIndent,re,ae,!1,$.languageConfigurationService);if(X)ie=X.action,se=X.indentation;else if(ae>1){let ne;for(ne=ae-1;ne>=1;ne--){const te=re.getLineContent(ne);if(l.ow(te)>=0)break}if(ne<1)return null;const Q=re.getLineMaxColumn(ne),F=(0,_.A)($.autoIndent,re,new E.e(ne,Q,ne,Q),$.languageConfigurationService);F&&(se=F.indentation+F.appendText)}return ie&&(ie===C.wU.Indent&&(se=v.shiftIndent($,se)),ie===C.wU.Outdent&&(se=v.unshiftIndent($,se)),se=$.normalizeIndentation(se)),se||null}static _replaceJumpToNextIndent($,re,ae,ie){let se="";const X=ae.getStartPosition();if($.insertSpaces){const ne=$.visibleColumnFromColumn(re,X),Q=$.indentSize,F=Q-ne%Q;for(let te=0;te<F;te++)se+=" "}else se="	";return new z.T4(ae,se,ie)}static tab($,re,ae){const ie=[];for(let se=0,X=ae.length;se<X;se++){const ne=ae[se];if(ne.isEmpty()){const Q=re.getLineContent(ne.startLineNumber);if(/^\s*$/.test(Q)&&re.tokenization.isCheapToTokenize(ne.startLineNumber)){let F=this._goodIndentForLine($,re,ne.startLineNumber);F=F||"	";const te=$.normalizeIndentation(F);if(!Q.startsWith(te)){ie[se]=new z.T4(new E.e(ne.startLineNumber,1,ne.startLineNumber,Q.length+1),te,!0);continue}}ie[se]=this._replaceJumpToNextIndent($,re,ne,!0)}else{if(ne.startLineNumber===ne.endLineNumber){const Q=re.getLineMaxColumn(ne.startLineNumber);if(ne.startColumn!==1||ne.endColumn!==Q){ie[se]=this._replaceJumpToNextIndent($,re,ne,!1);continue}}ie[se]=new j.U(ne,{isUnshift:!1,tabSize:$.tabSize,indentSize:$.indentSize,insertSpaces:$.insertSpaces,useTabStops:$.useTabStops,autoIndent:$.autoIndent},$.languageConfigurationService)}}return ie}static compositionType($,re,ae,ie,se,X,ne,Q){const F=ie.map(te=>this._compositionType(ae,te,se,X,ne,Q));return new O.Tp(4,F,{shouldPushStackElementBefore:M($,4),shouldPushStackElementAfter:!1})}static _compositionType($,re,ae,ie,se,X){if(!re.isEmpty())return null;const ne=re.getPosition(),Q=Math.max(1,ne.column-ie),F=Math.min($.getLineMaxColumn(ne.lineNumber),ne.column+se),te=new E.e(ne.lineNumber,Q,ne.lineNumber,F);return $.getValueInRange(te)===ae&&X===0?null:new z.Uo(te,ae,0,X)}static _typeCommand($,re,ae){return ae?new z.Sj($,re,!0):new z.T4($,re,!0)}static _enter($,re,ae,ie){if($.autoIndent===0)return v._typeCommand(ie,`
`,ae);if(!re.tokenization.isCheapToTokenize(ie.getStartPosition().lineNumber)||$.autoIndent===1){const Q=re.getLineContent(ie.startLineNumber),F=l.V8(Q).substring(0,ie.startColumn-1);return v._typeCommand(ie,`
`+$.normalizeIndentation(F),ae)}const se=(0,_.A)($.autoIndent,re,ie,$.languageConfigurationService);if(se){if(se.indentAction===C.wU.None)return v._typeCommand(ie,`
`+$.normalizeIndentation(se.indentation+se.appendText),ae);if(se.indentAction===C.wU.Indent)return v._typeCommand(ie,`
`+$.normalizeIndentation(se.indentation+se.appendText),ae);if(se.indentAction===C.wU.IndentOutdent){const Q=$.normalizeIndentation(se.indentation),F=$.normalizeIndentation(se.indentation+se.appendText),te=`
`+F+`
`+Q;return ae?new z.Sj(ie,te,!0):new z.Uo(ie,te,-1,F.length-Q.length,!0)}else if(se.indentAction===C.wU.Outdent){const Q=v.unshiftIndent($,se.indentation);return v._typeCommand(ie,`
`+$.normalizeIndentation(Q+se.appendText),ae)}}const X=re.getLineContent(ie.startLineNumber),ne=l.V8(X).substring(0,ie.startColumn-1);if($.autoIndent>=4){const Q=(0,d.UF)($.autoIndent,re,ie,{unshiftIndent:F=>v.unshiftIndent($,F),shiftIndent:F=>v.shiftIndent($,F),normalizeIndentation:F=>$.normalizeIndentation(F)},$.languageConfigurationService);if(Q){let F=$.visibleColumnFromColumn(re,ie.getEndPosition());const te=ie.endColumn,W=re.getLineContent(ie.endLineNumber),G=l.LC(W);if(G>=0?ie=ie.setEndPosition(ie.endLineNumber,Math.max(ie.endColumn,G+1)):ie=ie.setEndPosition(ie.endLineNumber,re.getLineMaxColumn(ie.endLineNumber)),ae)return new z.Sj(ie,`
`+$.normalizeIndentation(Q.afterEnter),!0);{let q=0;return te<=G+1&&($.insertSpaces||(F=Math.ceil(F/$.indentSize)),q=Math.min(F+1-$.normalizeIndentation(Q.afterEnter).length-1,0)),new z.Uo(ie,`
`+$.normalizeIndentation(Q.afterEnter),0,q,!0)}}}return v._typeCommand(ie,`
`+$.normalizeIndentation(ne),ae)}static _isAutoIndentType($,re,ae){if($.autoIndent<4)return!1;for(let ie=0,se=ae.length;ie<se;ie++)if(!re.tokenization.isCheapToTokenize(ae[ie].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType($,re,ae,ie){const se=(0,m.u0)(re,ae.startLineNumber,ae.startColumn),X=(0,d.$9)($.autoIndent,re,ae,ie,{shiftIndent:ne=>v.shiftIndent($,ne),unshiftIndent:ne=>v.unshiftIndent($,ne)},$.languageConfigurationService);if(X===null)return null;if(X!==$.normalizeIndentation(se)){const ne=re.getLineFirstNonWhitespaceColumn(ae.startLineNumber);return ne===0?v._typeCommand(new E.e(ae.startLineNumber,1,ae.endLineNumber,ae.endColumn),$.normalizeIndentation(X)+ie,!1):v._typeCommand(new E.e(ae.startLineNumber,1,ae.endLineNumber,ae.endColumn),$.normalizeIndentation(X)+re.getLineContent(ae.startLineNumber).substring(ne-1,ae.startColumn-1)+ie,!1)}return null}static _isAutoClosingOvertype($,re,ae,ie,se){if($.autoClosingOvertype==="never"||!$.autoClosingPairs.autoClosingPairsCloseSingleChar.has(se))return!1;for(let X=0,ne=ae.length;X<ne;X++){const Q=ae[X];if(!Q.isEmpty())return!1;const F=Q.getPosition(),te=re.getLineContent(F.lineNumber);if(te.charAt(F.column-1)!==se)return!1;const G=(0,O.LN)(se);if((F.column>2?te.charCodeAt(F.column-2):0)===92&&G)return!1;if($.autoClosingOvertype==="auto"){let me=!1;for(let w=0,we=ie.length;w<we;w++){const xe=ie[w];if(F.lineNumber===xe.startLineNumber&&F.column===xe.startColumn){me=!0;break}}if(!me)return!1}}return!0}static _runAutoClosingOvertype($,re,ae,ie,se){const X=[];for(let ne=0,Q=ie.length;ne<Q;ne++){const te=ie[ne].getPosition(),W=new E.e(te.lineNumber,te.column,te.lineNumber,te.column+1);X[ne]=new z.T4(W,se)}return new O.Tp(4,X,{shouldPushStackElementBefore:M($,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace($,re){const ae=re.charAt(0),ie=$.autoClosingPairs.autoClosingPairsOpenByStart.get(ae)||[],se=$.autoClosingPairs.autoClosingPairsCloseByStart.get(ae)||[],X=ie.some(Q=>re.startsWith(Q.open)),ne=se.some(Q=>re.startsWith(Q.close));return!X&&ne}static _findAutoClosingPairOpen($,re,ae,ie){const se=$.autoClosingPairs.autoClosingPairsOpenByEnd.get(ie);if(!se)return null;let X=null;for(const ne of se)if(X===null||ne.open.length>X.open.length){let Q=!0;for(const F of ae)if(re.getValueInRange(new E.e(F.lineNumber,F.column-ne.open.length+1,F.lineNumber,F.column))+ie!==ne.open){Q=!1;break}Q&&(X=ne)}return X}static _findContainedAutoClosingPair($,re){if(re.open.length<=1)return null;const ae=re.close.charAt(re.close.length-1),ie=$.autoClosingPairs.autoClosingPairsCloseByEnd.get(ae)||[];let se=null;for(const X of ie)X.open!==re.open&&re.open.includes(X.open)&&re.close.endsWith(X.close)&&(!se||X.open.length>se.open.length)&&(se=X);return se}static _getAutoClosingPairClose($,re,ae,ie,se){const X=(0,O.LN)(ie),ne=X?$.autoClosingQuotes:$.autoClosingBrackets,Q=X?$.shouldAutoCloseBefore.quote:$.shouldAutoCloseBefore.bracket;if(ne==="never")return null;for(const me of ae)if(!me.isEmpty())return null;const F=ae.map(me=>{const w=me.getPosition();return se?{lineNumber:w.lineNumber,beforeColumn:w.column-ie.length,afterColumn:w.column}:{lineNumber:w.lineNumber,beforeColumn:w.column,afterColumn:w.column}}),te=this._findAutoClosingPairOpen($,re,F.map(me=>new g.L(me.lineNumber,me.beforeColumn)),ie);if(!te)return null;const W=this._findContainedAutoClosingPair($,te),G=W?W.close:"";let q=!0;for(const me of F){const{lineNumber:w,beforeColumn:we,afterColumn:xe}=me,Ne=re.getLineContent(w),Ve=Ne.substring(0,we-1),Ce=Ne.substring(xe-1);if(Ce.startsWith(G)||(q=!1),Ce.length>0){const at=Ce.charAt(0);if(!v._isBeforeClosingBrace($,Ce)&&!Q(at))return null}if(te.open.length===1&&(ie==="'"||ie==='"')&&ne!=="always"){const at=(0,y.u)($.wordSeparators);if(Ve.length>0){const pt=Ve.charCodeAt(Ve.length-1);if(at.get(pt)===0)return null}}if(!re.tokenization.isCheapToTokenize(w))return null;re.tokenization.forceTokenization(w);const Ae=re.tokenization.getLineTokens(w),$e=(0,i.wH)(Ae,we-1);if(!te.shouldAutoClose($e,we-$e.firstCharOffset))return null;const je=te.findNeutralCharacter();if(je){const at=re.tokenization.getTokenTypeIfInsertingCharacter(w,we,je);if(!te.isOK(at))return null}}return q?te.close.substring(0,te.close.length-G.length):te.close}static _runAutoClosingOpenCharType($,re,ae,ie,se,X,ne){const Q=[];for(let F=0,te=ie.length;F<te;F++){const W=ie[F];Q[F]=new p(W,se,!X,ne)}return new O.Tp(4,Q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar($,re){return(0,O.LN)(re)?$.autoSurround==="quotes"||$.autoSurround==="languageDefined":$.autoSurround==="brackets"||$.autoSurround==="languageDefined"}static _isSurroundSelectionType($,re,ae,ie){if(!v._shouldSurroundChar($,ie)||!$.surroundingPairs.hasOwnProperty(ie))return!1;const se=(0,O.LN)(ie);for(const X of ae){if(X.isEmpty())return!1;let ne=!0;for(let Q=X.startLineNumber;Q<=X.endLineNumber;Q++){const F=re.getLineContent(Q),te=Q===X.startLineNumber?X.startColumn-1:0,W=Q===X.endLineNumber?X.endColumn-1:F.length,G=F.substring(te,W);if(/[^ \t]/.test(G)){ne=!1;break}}if(ne)return!1;if(se&&X.startLineNumber===X.endLineNumber&&X.startColumn+1===X.endColumn){const Q=re.getValueInRange(X);if((0,O.LN)(Q))return!1}}return!0}static _runSurroundSelectionType($,re,ae,ie,se){const X=[];for(let ne=0,Q=ie.length;ne<Q;ne++){const F=ie[ne],te=re.surroundingPairs[se];X[ne]=new B(F,se,te)}return new O.Tp(0,X,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar($,re,ae){return!!(ae.length===1&&re.tokenization.isCheapToTokenize(ae[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar($,re,ae,ie,se){if(!re.electricChars.hasOwnProperty(se)||!ie.isEmpty())return null;const X=ie.getPosition();ae.tokenization.forceTokenization(X.lineNumber);const ne=ae.tokenization.getLineTokens(X.lineNumber);let Q;try{Q=re.onElectricCharacter(se,ne,X.column)}catch(F){return(0,b.dL)(F),null}if(!Q)return null;if(Q.matchOpenBracket){const F=(ne.getLineContent()+se).lastIndexOf(Q.matchOpenBracket)+1,te=ae.bracketPairs.findMatchingBracketUp(Q.matchOpenBracket,{lineNumber:X.lineNumber,column:F},500);if(te){if(te.startLineNumber===X.lineNumber)return null;const W=ae.getLineContent(te.startLineNumber),G=l.V8(W),q=re.normalizeIndentation(G),me=ae.getLineContent(X.lineNumber),w=ae.getLineFirstNonWhitespaceColumn(X.lineNumber)||X.column,we=me.substring(w-1,X.column-1),xe=q+we+se,Ne=new E.e(X.lineNumber,1,X.lineNumber,X.column),Ve=new z.T4(Ne,xe);return new O.Tp(T(xe,$),[Ve],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors($,re,ae,ie,se,X){if(!ie)return null;let ne=null;for(const W of ie)if(ne===null)ne=W.insertedText;else if(ne!==W.insertedText)return null;if(!ne||ne.length!==1)return null;const Q=ne;let F=!1;for(const W of ie)if(W.deletedText.length!==0){F=!0;break}if(F){if(!v._shouldSurroundChar(re,Q)||!re.surroundingPairs.hasOwnProperty(Q))return null;const W=(0,O.LN)(Q);for(const me of ie)if(me.deletedSelectionStart!==0||me.deletedSelectionEnd!==me.deletedText.length||/^[ \t]+$/.test(me.deletedText)||W&&(0,O.LN)(me.deletedText))return null;const G=[];for(const me of se){if(!me.isEmpty())return null;G.push(me.getPosition())}if(G.length!==ie.length)return null;const q=[];for(let me=0,w=G.length;me<w;me++)q.push(new H(G[me],ie[me].deletedText,Q));return new O.Tp(4,q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(re,ae,se,X,Q)){const W=se.map(G=>new z.T4(new E.e(G.positionLineNumber,G.positionColumn,G.positionLineNumber,G.positionColumn+1),"",!1));return new O.Tp(4,W,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const te=this._getAutoClosingPairClose(re,ae,se,Q,!0);return te!==null?this._runAutoClosingOpenCharType($,re,ae,se,Q,!0,te):null}static typeWithInterceptors($,re,ae,ie,se,X,ne){if(!$&&ne===`
`){const te=[];for(let W=0,G=se.length;W<G;W++)te[W]=v._enter(ae,ie,!1,se[W]);return new O.Tp(4,te,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!$&&this._isAutoIndentType(ae,ie,se)){const te=[];let W=!1;for(let G=0,q=se.length;G<q;G++)if(te[G]=this._runAutoIndentType(ae,ie,se[G],ne),!te[G]){W=!0;break}if(!W)return new O.Tp(4,te,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(ae,ie,se,X,ne))return this._runAutoClosingOvertype(re,ae,ie,se,ne);if(!$){const te=this._getAutoClosingPairClose(ae,ie,se,ne,!1);if(te)return this._runAutoClosingOpenCharType(re,ae,ie,se,ne,!1,te)}if(!$&&this._isSurroundSelectionType(ae,ie,se,ne))return this._runSurroundSelectionType(re,ae,ie,se,ne);if(!$&&this._isTypeInterceptorElectricChar(ae,ie,se)){const te=this._typeInterceptorElectricChar(re,ae,ie,se[0],ne);if(te)return te}const Q=[];for(let te=0,W=se.length;te<W;te++)Q[te]=new z.T4(se[te],ne);const F=T(ne,re);return new O.Tp(F,Q,{shouldPushStackElementBefore:M(re,F),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors($,re,ae,ie,se){const X=[];for(let Q=0,F=ie.length;Q<F;Q++)X[Q]=new z.T4(ie[Q],se);const ne=T(se,$);return new O.Tp(ne,X,{shouldPushStackElementBefore:M($,ne),shouldPushStackElementAfter:!1})}static lineInsertBefore($,re,ae){if(re===null||ae===null)return[];const ie=[];for(let se=0,X=ae.length;se<X;se++){let ne=ae[se].positionLineNumber;if(ne===1)ie[se]=new z.Sj(new E.e(1,1,1,1),`
`);else{ne--;const Q=re.getLineMaxColumn(ne);ie[se]=this._enter($,re,!1,new E.e(ne,Q,ne,Q))}}return ie}static lineInsertAfter($,re,ae){if(re===null||ae===null)return[];const ie=[];for(let se=0,X=ae.length;se<X;se++){const ne=ae[se].positionLineNumber,Q=re.getLineMaxColumn(ne);ie[se]=this._enter($,re,!1,new E.e(ne,Q,ne,Q))}return ie}static lineBreakInsert($,re,ae){const ie=[];for(let se=0,X=ae.length;se<X;se++)ie[se]=this._enter($,re,!0,ae[se]);return ie}}class p extends z.Uo{constructor($,re,ae,ie){super($,(ae?re:"")+ie,0,-ie.length),this._openCharacter=re,this._closeCharacter=ie,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState($,re){const ie=re.getInverseEditOperations()[0].range;return this.closeCharacterRange=new E.e(ie.startLineNumber,ie.endColumn-this._closeCharacter.length,ie.endLineNumber,ie.endColumn),this.enclosingRange=new E.e(ie.startLineNumber,ie.endColumn-this._openCharacter.length-this._closeCharacter.length,ie.endLineNumber,ie.endColumn),super.computeCursorState($,re)}}class L{constructor($,re,ae,ie,se,X){this.deletedText=$,this.deletedSelectionStart=re,this.deletedSelectionEnd=ae,this.insertedText=ie,this.insertedSelectionStart=se,this.insertedSelectionEnd=X}}function T(V,$){return V===" "?$===5||$===6?6:5:4}function M(V,$){return P(V)&&!P($)?!0:V===5?!1:I(V)!==I($)}function I(V){return V===6||V===5?"space":V}function P(V){return V===4||V===5||V===6}},92896:function(Yt,Ye,s){"use strict";s.d(Ye,{L:function(){return H},w:function(){return B}});var b=s(97295),l=s(55343),z=s(29436),j=s(24929),E=s(50187),Z=s(24314);class B{static _createWord(g,C,m,i,d){return{start:i,end:d,wordType:C,nextCharClass:m}}static _findPreviousWordOnLine(g,C,m){const i=C.getLineContent(m.lineNumber);return this._doFindPreviousWordOnLine(i,g,m)}static _doFindPreviousWordOnLine(g,C,m){let i=0;for(let d=m.column-2;d>=0;d--){const _=g.charCodeAt(d),v=C.get(_);if(v===0){if(i===2)return this._createWord(g,i,v,d+1,this._findEndOfWord(g,C,i,d+1));i=1}else if(v===2){if(i===1)return this._createWord(g,i,v,d+1,this._findEndOfWord(g,C,i,d+1));i=2}else if(v===1&&i!==0)return this._createWord(g,i,v,d+1,this._findEndOfWord(g,C,i,d+1))}return i!==0?this._createWord(g,i,1,0,this._findEndOfWord(g,C,i,0)):null}static _findEndOfWord(g,C,m,i){const d=g.length;for(let _=i;_<d;_++){const v=g.charCodeAt(_),p=C.get(v);if(p===1||m===1&&p===2||m===2&&p===0)return _}return d}static _findNextWordOnLine(g,C,m){const i=C.getLineContent(m.lineNumber);return this._doFindNextWordOnLine(i,g,m)}static _doFindNextWordOnLine(g,C,m){let i=0;const d=g.length;for(let _=m.column-1;_<d;_++){const v=g.charCodeAt(_),p=C.get(v);if(p===0){if(i===2)return this._createWord(g,i,p,this._findStartOfWord(g,C,i,_-1),_);i=1}else if(p===2){if(i===1)return this._createWord(g,i,p,this._findStartOfWord(g,C,i,_-1),_);i=2}else if(p===1&&i!==0)return this._createWord(g,i,p,this._findStartOfWord(g,C,i,_-1),_)}return i!==0?this._createWord(g,i,1,this._findStartOfWord(g,C,i,d-1),d):null}static _findStartOfWord(g,C,m,i){for(let d=i;d>=0;d--){const _=g.charCodeAt(d),v=C.get(_);if(v===1||m===1&&v===2||m===2&&v===0)return d+1}return 0}static moveWordLeft(g,C,m,i){let d=m.lineNumber,_=m.column;_===1&&d>1&&(d=d-1,_=C.getLineMaxColumn(d));let v=B._findPreviousWordOnLine(g,C,new E.L(d,_));if(i===0)return new E.L(d,v?v.start+1:1);if(i===1)return v&&v.wordType===2&&v.end-v.start===1&&v.nextCharClass===0&&(v=B._findPreviousWordOnLine(g,C,new E.L(d,v.start+1))),new E.L(d,v?v.start+1:1);if(i===3){for(;v&&v.wordType===2;)v=B._findPreviousWordOnLine(g,C,new E.L(d,v.start+1));return new E.L(d,v?v.start+1:1)}return v&&_<=v.end+1&&(v=B._findPreviousWordOnLine(g,C,new E.L(d,v.start+1))),new E.L(d,v?v.end+1:1)}static _moveWordPartLeft(g,C){const m=C.lineNumber,i=g.getLineMaxColumn(m);if(C.column===1)return m>1?new E.L(m-1,g.getLineMaxColumn(m-1)):C;const d=g.getLineContent(m);for(let _=C.column-1;_>1;_--){const v=d.charCodeAt(_-2),p=d.charCodeAt(_-1);if(v===95&&p!==95)return new E.L(m,_);if((b.mK(v)||b.T5(v))&&b.df(p))return new E.L(m,_);if(b.df(v)&&b.df(p)&&_+1<i){const L=d.charCodeAt(_);if(b.mK(L)||b.T5(L))return new E.L(m,_)}}return new E.L(m,1)}static moveWordRight(g,C,m,i){let d=m.lineNumber,_=m.column,v=!1;_===C.getLineMaxColumn(d)&&d<C.getLineCount()&&(v=!0,d=d+1,_=1);let p=B._findNextWordOnLine(g,C,new E.L(d,_));if(i===2)p&&p.wordType===2&&p.end-p.start===1&&p.nextCharClass===0&&(p=B._findNextWordOnLine(g,C,new E.L(d,p.end+1))),p?_=p.end+1:_=C.getLineMaxColumn(d);else if(i===3){for(v&&(_=0);p&&(p.wordType===2||p.start+1<=_);)p=B._findNextWordOnLine(g,C,new E.L(d,p.end+1));p?_=p.start+1:_=C.getLineMaxColumn(d)}else p&&!v&&_>=p.start+1&&(p=B._findNextWordOnLine(g,C,new E.L(d,p.end+1))),p?_=p.start+1:_=C.getLineMaxColumn(d);return new E.L(d,_)}static _moveWordPartRight(g,C){const m=C.lineNumber,i=g.getLineMaxColumn(m);if(C.column===i)return m<g.getLineCount()?new E.L(m+1,1):C;const d=g.getLineContent(m);for(let _=C.column+1;_<i;_++){const v=d.charCodeAt(_-2),p=d.charCodeAt(_-1);if(v!==95&&p===95)return new E.L(m,_);if((b.mK(v)||b.T5(v))&&b.df(p))return new E.L(m,_);if(b.df(v)&&b.df(p)&&_+1<i){const L=d.charCodeAt(_);if(b.mK(L)||b.T5(L))return new E.L(m,_)}}return new E.L(m,i)}static _deleteWordLeftWhitespace(g,C){const m=g.getLineContent(C.lineNumber),i=C.column-2,d=b.ow(m,i);return d+1<i?new Z.e(C.lineNumber,d+2,C.lineNumber,C.column):null}static deleteWordLeft(g,C){const m=g.wordSeparators,i=g.model,d=g.selection,_=g.whitespaceHeuristics;if(!d.isEmpty())return d;if(z.A.isAutoClosingPairDelete(g.autoClosingDelete,g.autoClosingBrackets,g.autoClosingQuotes,g.autoClosingPairs.autoClosingPairsOpenByEnd,g.model,[g.selection],g.autoClosedCharacters)){const M=g.selection.getPosition();return new Z.e(M.lineNumber,M.column-1,M.lineNumber,M.column+1)}const v=new E.L(d.positionLineNumber,d.positionColumn);let p=v.lineNumber,L=v.column;if(p===1&&L===1)return null;if(_){const M=this._deleteWordLeftWhitespace(i,v);if(M)return M}let T=B._findPreviousWordOnLine(m,i,v);return C===0?T?L=T.start+1:L>1?L=1:(p--,L=i.getLineMaxColumn(p)):(T&&L<=T.end+1&&(T=B._findPreviousWordOnLine(m,i,new E.L(p,T.start+1))),T?L=T.end+1:L>1?L=1:(p--,L=i.getLineMaxColumn(p))),new Z.e(p,L,v.lineNumber,v.column)}static deleteInsideWord(g,C,m){if(!m.isEmpty())return m;const i=new E.L(m.positionLineNumber,m.positionColumn),d=this._deleteInsideWordWhitespace(C,i);return d||this._deleteInsideWordDetermineDeleteRange(g,C,i)}static _charAtIsWhitespace(g,C){const m=g.charCodeAt(C);return m===32||m===9}static _deleteInsideWordWhitespace(g,C){const m=g.getLineContent(C.lineNumber),i=m.length;if(i===0)return null;let d=Math.max(C.column-2,0);if(!this._charAtIsWhitespace(m,d))return null;let _=Math.min(C.column-1,i-1);if(!this._charAtIsWhitespace(m,_))return null;for(;d>0&&this._charAtIsWhitespace(m,d-1);)d--;for(;_+1<i&&this._charAtIsWhitespace(m,_+1);)_++;return new Z.e(C.lineNumber,d+1,C.lineNumber,_+2)}static _deleteInsideWordDetermineDeleteRange(g,C,m){const i=C.getLineContent(m.lineNumber),d=i.length;if(d===0)return m.lineNumber>1?new Z.e(m.lineNumber-1,C.getLineMaxColumn(m.lineNumber-1),m.lineNumber,1):m.lineNumber<C.getLineCount()?new Z.e(m.lineNumber,1,m.lineNumber+1,1):new Z.e(m.lineNumber,1,m.lineNumber,1);const _=M=>M.start+1<=m.column&&m.column<=M.end+1,v=(M,I)=>(M=Math.min(M,m.column),I=Math.max(I,m.column),new Z.e(m.lineNumber,M,m.lineNumber,I)),p=M=>{let I=M.start+1,P=M.end+1,V=!1;for(;P-1<d&&this._charAtIsWhitespace(i,P-1);)V=!0,P++;if(!V)for(;I>1&&this._charAtIsWhitespace(i,I-2);)I--;return v(I,P)},L=B._findPreviousWordOnLine(g,C,m);if(L&&_(L))return p(L);const T=B._findNextWordOnLine(g,C,m);return T&&_(T)?p(T):L&&T?v(L.end+1,T.start+1):L?v(L.start+1,L.end+1):T?v(T.start+1,T.end+1):v(1,d+1)}static _deleteWordPartLeft(g,C){if(!C.isEmpty())return C;const m=C.getPosition(),i=B._moveWordPartLeft(g,m);return new Z.e(m.lineNumber,m.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(g,C){const m=g.length;for(let i=C;i<m;i++){const d=g.charAt(i);if(d!==" "&&d!=="	")return i}return m}static _deleteWordRightWhitespace(g,C){const m=g.getLineContent(C.lineNumber),i=C.column-1,d=this._findFirstNonWhitespaceChar(m,i);return i+1<d?new Z.e(C.lineNumber,C.column,C.lineNumber,d+1):null}static deleteWordRight(g,C){const m=g.wordSeparators,i=g.model,d=g.selection,_=g.whitespaceHeuristics;if(!d.isEmpty())return d;const v=new E.L(d.positionLineNumber,d.positionColumn);let p=v.lineNumber,L=v.column;const T=i.getLineCount(),M=i.getLineMaxColumn(p);if(p===T&&L===M)return null;if(_){const P=this._deleteWordRightWhitespace(i,v);if(P)return P}let I=B._findNextWordOnLine(m,i,v);return C===2?I?L=I.end+1:L<M||p===T?L=M:(p++,I=B._findNextWordOnLine(m,i,new E.L(p,1)),I?L=I.start+1:L=i.getLineMaxColumn(p)):(I&&L>=I.start+1&&(I=B._findNextWordOnLine(m,i,new E.L(p,I.end+1))),I?L=I.start+1:L<M||p===T?L=M:(p++,I=B._findNextWordOnLine(m,i,new E.L(p,1)),I?L=I.start+1:L=i.getLineMaxColumn(p))),new Z.e(p,L,v.lineNumber,v.column)}static _deleteWordPartRight(g,C){if(!C.isEmpty())return C;const m=C.getPosition(),i=B._moveWordPartRight(g,m);return new Z.e(m.lineNumber,m.column,i.lineNumber,i.column)}static _createWordAtPosition(g,C,m){const i=new Z.e(C,m.start+1,C,m.end+1);return{word:g.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(g,C,m){const i=(0,j.u)(C),d=B._findPreviousWordOnLine(i,g,m);if(d&&d.wordType===1&&d.start<=m.column-1&&m.column-1<=d.end)return B._createWordAtPosition(g,m.lineNumber,d);const _=B._findNextWordOnLine(i,g,m);return _&&_.wordType===1&&_.start<=m.column-1&&m.column-1<=_.end?B._createWordAtPosition(g,m.lineNumber,_):null}static word(g,C,m,i,d){const _=(0,j.u)(g.wordSeparators),v=B._findPreviousWordOnLine(_,C,d),p=B._findNextWordOnLine(_,C,d);if(!i){let P,V;return v&&v.wordType===1&&v.start<=d.column-1&&d.column-1<=v.end?(P=v.start+1,V=v.end+1):p&&p.wordType===1&&p.start<=d.column-1&&d.column-1<=p.end?(P=p.start+1,V=p.end+1):(v?P=v.end+1:P=1,p?V=p.start+1:V=C.getLineMaxColumn(d.lineNumber)),new l.rS(new Z.e(d.lineNumber,P,d.lineNumber,V),0,new E.L(d.lineNumber,V),0)}let L,T;v&&v.wordType===1&&v.start<d.column-1&&d.column-1<v.end?(L=v.start+1,T=v.end+1):p&&p.wordType===1&&p.start<d.column-1&&d.column-1<p.end?(L=p.start+1,T=p.end+1):(L=d.column,T=d.column);const M=d.lineNumber;let I;if(m.selectionStart.containsPosition(d))I=m.selectionStart.endColumn;else if(d.isBeforeOrEqual(m.selectionStart.getStartPosition())){I=L;const P=new E.L(M,I);m.selectionStart.containsPosition(P)&&(I=m.selectionStart.endColumn)}else{I=T;const P=new E.L(M,I);m.selectionStart.containsPosition(P)&&(I=m.selectionStart.startColumn)}return m.move(!0,M,I,0)}}class H extends B{static deleteWordPartLeft(g){const C=O([B.deleteWordLeft(g,0),B.deleteWordLeft(g,2),B._deleteWordPartLeft(g.model,g.selection)]);return C.sort(Z.e.compareRangesUsingEnds),C[2]}static deleteWordPartRight(g){const C=O([B.deleteWordRight(g,0),B.deleteWordRight(g,2),B._deleteWordPartRight(g.model,g.selection)]);return C.sort(Z.e.compareRangesUsingStarts),C[0]}static moveWordPartLeft(g,C,m){const i=O([B.moveWordLeft(g,C,m,0),B.moveWordLeft(g,C,m,2),B._moveWordPartLeft(C,m)]);return i.sort(E.L.compare),i[2]}static moveWordPartRight(g,C,m){const i=O([B.moveWordRight(g,C,m,0),B.moveWordRight(g,C,m,2),B._moveWordPartRight(C,m)]);return i.sort(E.L.compare),i[0]}}function O(y){return y.filter(g=>!!g)}},55343:function(Yt,Ye,s){"use strict";s.d(Ye,{LM:function(){return y},LN:function(){return _},Tp:function(){return d},Vi:function(){return g},rS:function(){return i}});var b=s(50187),l=s(24314),z=s(3860),j=s(19111),E=s(7988),Z=s(83158);const B=()=>!0,H=()=>!1,O=v=>v===" "||v==="	";class y{constructor(p,L,T,M){this.languageConfigurationService=M,this._cursorMoveConfigurationBrand=void 0,this._languageId=p;const I=T.options,P=I.get(133);this.readOnly=I.get(83),this.tabSize=L.tabSize,this.indentSize=L.indentSize,this.insertSpaces=L.insertSpaces,this.stickyTabStops=I.get(106),this.lineHeight=I.get(61),this.pageSize=Math.max(1,Math.floor(P.height/this.lineHeight)-2),this.useTabStops=I.get(118),this.wordSeparators=I.get(119),this.emptySelectionClipboard=I.get(33),this.copyWithSyntaxHighlighting=I.get(21),this.multiCursorMergeOverlapping=I.get(71),this.multiCursorPaste=I.get(73),this.autoClosingBrackets=I.get(5),this.autoClosingQuotes=I.get(8),this.autoClosingDelete=I.get(6),this.autoClosingOvertype=I.get(7),this.autoSurround=I.get(11),this.autoIndent=I.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(p,this.autoClosingQuotes),bracket:this._getShouldAutoClose(p,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(p).getAutoClosingPairs();const V=this.languageConfigurationService.getLanguageConfiguration(p).getSurroundingPairs();if(V)for(const $ of V)this.surroundingPairs[$.open]=$.close}static shouldRecreate(p){return p.hasChanged(133)||p.hasChanged(119)||p.hasChanged(33)||p.hasChanged(71)||p.hasChanged(73)||p.hasChanged(5)||p.hasChanged(8)||p.hasChanged(6)||p.hasChanged(7)||p.hasChanged(11)||p.hasChanged(118)||p.hasChanged(61)||p.hasChanged(83)}get electricChars(){var p;if(!this._electricChars){this._electricChars={};const L=(p=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||p===void 0?void 0:p.getElectricCharacters();if(L)for(const T of L)this._electricChars[T]=!0}return this._electricChars}onElectricCharacter(p,L,T){const M=(0,j.wH)(L,T-1),I=this.languageConfigurationService.getLanguageConfiguration(M.languageId).electricCharacter;return I?I.onElectricCharacter(p,M,T-M.firstCharOffset):null}normalizeIndentation(p){return(0,Z.x)(p,this.indentSize,this.insertSpaces)}_getShouldAutoClose(p,L){switch(L){case"beforeWhitespace":return O;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(p);case"always":return B;case"never":return H}}_getLanguageDefinedShouldAutoClose(p){const L=this.languageConfigurationService.getLanguageConfiguration(p).getAutoCloseBeforeSet();return T=>L.indexOf(T)!==-1}visibleColumnFromColumn(p,L){return E.i.visibleColumnFromColumn(p.getLineContent(L.lineNumber),L.column,this.tabSize)}columnFromVisibleColumn(p,L,T){const M=E.i.columnFromVisibleColumn(p.getLineContent(L),T,this.tabSize),I=p.getLineMinColumn(L);if(M<I)return I;const P=p.getLineMaxColumn(L);return M>P?P:M}}class g{constructor(p,L){this._cursorStateBrand=void 0,this.modelState=p,this.viewState=L}static fromModelState(p){return new C(p)}static fromViewState(p){return new m(p)}static fromModelSelection(p){const L=z.Y.liftSelection(p),T=new i(l.e.fromPositions(L.getSelectionStart()),0,L.getPosition(),0);return g.fromModelState(T)}static fromModelSelections(p){const L=[];for(let T=0,M=p.length;T<M;T++)L[T]=this.fromModelSelection(p[T]);return L}equals(p){return this.viewState.equals(p.viewState)&&this.modelState.equals(p.modelState)}}class C{constructor(p){this.modelState=p,this.viewState=null}}class m{constructor(p){this.modelState=null,this.viewState=p}}class i{constructor(p,L,T,M){this._singleCursorStateBrand=void 0,this.selectionStart=p,this.selectionStartLeftoverVisibleColumns=L,this.position=T,this.leftoverVisibleColumns=M,this.selection=i._computeSelection(this.selectionStart,this.position)}equals(p){return this.selectionStartLeftoverVisibleColumns===p.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===p.leftoverVisibleColumns&&this.position.equals(p.position)&&this.selectionStart.equalsRange(p.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(p,L,T,M){return p?new i(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new b.L(L,T),M):new i(new l.e(L,T,L,T),M,new b.L(L,T),M)}static _computeSelection(p,L){return p.isEmpty()||!L.isBeforeOrEqual(p.getStartPosition())?z.Y.fromPositions(p.getStartPosition(),L):z.Y.fromPositions(p.getEndPosition(),L)}}class d{constructor(p,L,T){this._editOperationResultBrand=void 0,this.type=p,this.commands=L,this.shouldPushStackElementBefore=T.shouldPushStackElementBefore,this.shouldPushStackElementAfter=T.shouldPushStackElementAfter}}function _(v){return v==="'"||v==='"'||v==="`"}},30653:function(Yt,Ye,s){"use strict";s.d(Ye,{p:function(){return b}});class b{constructor(z,j,E,Z,B,H){this.id=z,this.label=j,this.alias=E,this._precondition=Z,this._run=B,this._contextKeyService=H}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},96518:function(Yt,Ye,s){"use strict";s.d(Ye,{g:function(){return b}});const b={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},29102:function(Yt,Ye,s){"use strict";s.d(Ye,{u:function(){return z}});var b=s(63580),l=s(38819),z;(function(j){j.editorSimpleInput=new l.uy("editorSimpleInput",!1,!0),j.editorTextFocus=new l.uy("editorTextFocus",!1,b.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),j.focus=new l.uy("editorFocus",!1,b.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),j.textInputFocus=new l.uy("textInputFocus",!1,b.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),j.readOnly=new l.uy("editorReadonly",!1,b.NC("editorReadonly","Whether the editor is read only")),j.inDiffEditor=new l.uy("inDiffEditor",!1,b.NC("inDiffEditor","Whether the context is a diff editor")),j.columnSelection=new l.uy("editorColumnSelection",!1,b.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),j.writable=j.readOnly.toNegated(),j.hasNonEmptySelection=new l.uy("editorHasSelection",!1,b.NC("editorHasSelection","Whether the editor has text selected")),j.hasOnlyEmptySelection=j.hasNonEmptySelection.toNegated(),j.hasMultipleSelections=new l.uy("editorHasMultipleSelections",!1,b.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),j.hasSingleSelection=j.hasMultipleSelections.toNegated(),j.tabMovesFocus=new l.uy("editorTabMovesFocus",!1,b.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),j.tabDoesNotMoveFocus=j.tabMovesFocus.toNegated(),j.isInWalkThroughSnippet=new l.uy("isInEmbeddedEditor",!1,!0),j.canUndo=new l.uy("canUndo",!1,!0),j.canRedo=new l.uy("canRedo",!1,!0),j.hoverVisible=new l.uy("editorHoverVisible",!1,b.NC("editorHoverVisible","Whether the editor hover is visible")),j.inCompositeEditor=new l.uy("inCompositeEditor",void 0,b.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),j.notInCompositeEditor=j.inCompositeEditor.toNegated(),j.languageId=new l.uy("editorLangId","",b.NC("editorLangId","The language identifier of the editor")),j.hasCompletionItemProvider=new l.uy("editorHasCompletionItemProvider",!1,b.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),j.hasCodeActionsProvider=new l.uy("editorHasCodeActionsProvider",!1,b.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),j.hasCodeLensProvider=new l.uy("editorHasCodeLensProvider",!1,b.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),j.hasDefinitionProvider=new l.uy("editorHasDefinitionProvider",!1,b.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),j.hasDeclarationProvider=new l.uy("editorHasDeclarationProvider",!1,b.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),j.hasImplementationProvider=new l.uy("editorHasImplementationProvider",!1,b.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),j.hasTypeDefinitionProvider=new l.uy("editorHasTypeDefinitionProvider",!1,b.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),j.hasHoverProvider=new l.uy("editorHasHoverProvider",!1,b.NC("editorHasHoverProvider","Whether the editor has a hover provider")),j.hasDocumentHighlightProvider=new l.uy("editorHasDocumentHighlightProvider",!1,b.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),j.hasDocumentSymbolProvider=new l.uy("editorHasDocumentSymbolProvider",!1,b.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),j.hasReferenceProvider=new l.uy("editorHasReferenceProvider",!1,b.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),j.hasRenameProvider=new l.uy("editorHasRenameProvider",!1,b.NC("editorHasRenameProvider","Whether the editor has a rename provider")),j.hasSignatureHelpProvider=new l.uy("editorHasSignatureHelpProvider",!1,b.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),j.hasInlayHintsProvider=new l.uy("editorHasInlayHintsProvider",!1,b.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),j.hasDocumentFormattingProvider=new l.uy("editorHasDocumentFormattingProvider",!1,b.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),j.hasDocumentSelectionFormattingProvider=new l.uy("editorHasDocumentSelectionFormattingProvider",!1,b.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),j.hasMultipleDocumentFormattingProvider=new l.uy("editorHasMultipleDocumentFormattingProvider",!1,b.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),j.hasMultipleDocumentSelectionFormattingProvider=new l.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,b.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(z||(z={}))},45797:function(Yt,Ye,s){"use strict";s.d(Ye,{N:function(){return b}});class b{static getLanguageId(z){return(z&255)>>>0}static getTokenType(z){return(z&768)>>>8}static containsBalancedBrackets(z){return(z&1024)!==0}static getFontStyle(z){return(z&30720)>>>11}static getForeground(z){return(z&16744448)>>>15}static getBackground(z){return(z&4278190080)>>>24}static getClassNameFromMetadata(z){let E="mtk"+this.getForeground(z);const Z=this.getFontStyle(z);return Z&1&&(E+=" mtki"),Z&2&&(E+=" mtkb"),Z&4&&(E+=" mtku"),Z&8&&(E+=" mtks"),E}static getInlineStyleFromMetadata(z,j){const E=this.getForeground(z),Z=this.getFontStyle(z);let B=`color: ${j[E]};`;Z&1&&(B+="font-style: italic;"),Z&2&&(B+="font-weight: bold;");let H="";return Z&4&&(H+=" underline"),Z&8&&(H+=" line-through"),H&&(B+=`text-decoration:${H};`),B}static getPresentationFromMetadata(z){const j=this.getForeground(z),E=this.getFontStyle(z);return{foreground:j,italic:!!(E&1),bold:!!(E&2),underline:!!(E&4),strikethrough:!!(E&8)}}}},43155:function(Yt,Ye,s){"use strict";s.d(Ye,{mY:function(){return L},gX:function(){return C},MY:function(){return d},DI:function(){return g},AD:function(){return p},gl:function(){return T},bw:function(){return m},WW:function(){return i},uZ:function(){return v},WU:function(){return O},RW:function(){return M},hG:function(){return y},vx:function(){return _}});var b=s(73046),l=s(70666),z=s(24314),j=s(4669),E=s(5976),Z=function(I,P,V,$){function re(ae){return ae instanceof V?ae:new V(function(ie){ie(ae)})}return new(V||(V=Promise))(function(ae,ie){function se(Q){try{ne($.next(Q))}catch(F){ie(F)}}function X(Q){try{ne($.throw(Q))}catch(F){ie(F)}}function ne(Q){Q.done?ae(Q.value):re(Q.value).then(se,X)}ne(($=$.apply(I,P||[])).next())})};class B{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new j.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(P){this._onDidChange.fire({changedLanguages:P,changedColorMap:!1})}register(P,V){return this._map.set(P,V),this.fire([P]),(0,E.OF)(()=>{this._map.get(P)===V&&(this._map.delete(P),this.fire([P]))})}registerFactory(P,V){var $;($=this._factories.get(P))===null||$===void 0||$.dispose();const re=new H(this,P,V);return this._factories.set(P,re),(0,E.OF)(()=>{const ae=this._factories.get(P);!ae||ae!==re||(this._factories.delete(P),ae.dispose())})}getOrCreate(P){return Z(this,void 0,void 0,function*(){const V=this.get(P);if(V)return V;const $=this._factories.get(P);return!$||$.isResolved?null:(yield $.resolve(),this.get(P))})}get(P){return this._map.get(P)||null}isResolved(P){if(this.get(P))return!0;const $=this._factories.get(P);return!!(!$||$.isResolved)}setColorMap(P){this._colorMap=P,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class H extends E.JT{constructor(P,V,$){super(),this._registry=P,this._languageId=V,this._factory=$,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Z(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Z(this,void 0,void 0,function*(){const P=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,P&&!this._isDisposed&&this._register(this._registry.register(this._languageId,P))})}}class O{constructor(P,V,$){this._tokenBrand=void 0,this.offset=P,this.type=V,this.language=$}toString(){return"("+this.offset+", "+this.type+")"}}class y{constructor(P,V){this._tokenizationResultBrand=void 0,this.tokens=P,this.endState=V}}class g{constructor(P,V){this._encodedTokenizationResultBrand=void 0,this.tokens=P,this.endState=V}}var C;(function(I){const P=new Map;P.set(0,b.lA.symbolMethod),P.set(1,b.lA.symbolFunction),P.set(2,b.lA.symbolConstructor),P.set(3,b.lA.symbolField),P.set(4,b.lA.symbolVariable),P.set(5,b.lA.symbolClass),P.set(6,b.lA.symbolStruct),P.set(7,b.lA.symbolInterface),P.set(8,b.lA.symbolModule),P.set(9,b.lA.symbolProperty),P.set(10,b.lA.symbolEvent),P.set(11,b.lA.symbolOperator),P.set(12,b.lA.symbolUnit),P.set(13,b.lA.symbolValue),P.set(15,b.lA.symbolEnum),P.set(14,b.lA.symbolConstant),P.set(15,b.lA.symbolEnum),P.set(16,b.lA.symbolEnumMember),P.set(17,b.lA.symbolKeyword),P.set(27,b.lA.symbolSnippet),P.set(18,b.lA.symbolText),P.set(19,b.lA.symbolColor),P.set(20,b.lA.symbolFile),P.set(21,b.lA.symbolReference),P.set(22,b.lA.symbolCustomColor),P.set(23,b.lA.symbolFolder),P.set(24,b.lA.symbolTypeParameter),P.set(25,b.lA.account),P.set(26,b.lA.issues);function V(ae){let ie=P.get(ae);return ie||(console.info("No codicon found for CompletionItemKind "+ae),ie=b.lA.symbolProperty),ie}I.toIcon=V;const $=new Map;$.set("method",0),$.set("function",1),$.set("constructor",2),$.set("field",3),$.set("variable",4),$.set("class",5),$.set("struct",6),$.set("interface",7),$.set("module",8),$.set("property",9),$.set("event",10),$.set("operator",11),$.set("unit",12),$.set("value",13),$.set("constant",14),$.set("enum",15),$.set("enum-member",16),$.set("enumMember",16),$.set("keyword",17),$.set("snippet",27),$.set("text",18),$.set("color",19),$.set("file",20),$.set("reference",21),$.set("customcolor",22),$.set("folder",23),$.set("type-parameter",24),$.set("typeParameter",24),$.set("account",25),$.set("issue",26);function re(ae,ie){let se=$.get(ae);return typeof se>"u"&&!ie&&(se=9),se}I.fromString=re})(C||(C={}));var m;(function(I){I[I.Automatic=0]="Automatic",I[I.Explicit=1]="Explicit"})(m||(m={}));var i;(function(I){I[I.Invoke=1]="Invoke",I[I.TriggerCharacter=2]="TriggerCharacter",I[I.ContentChange=3]="ContentChange"})(i||(i={}));var d;(function(I){I[I.Text=0]="Text",I[I.Read=1]="Read",I[I.Write=2]="Write"})(d||(d={}));function _(I){return I&&l.o.isUri(I.uri)&&z.e.isIRange(I.range)&&(z.e.isIRange(I.originSelectionRange)||z.e.isIRange(I.targetSelectionRange))}var v;(function(I){const P=new Map;P.set(0,b.lA.symbolFile),P.set(1,b.lA.symbolModule),P.set(2,b.lA.symbolNamespace),P.set(3,b.lA.symbolPackage),P.set(4,b.lA.symbolClass),P.set(5,b.lA.symbolMethod),P.set(6,b.lA.symbolProperty),P.set(7,b.lA.symbolField),P.set(8,b.lA.symbolConstructor),P.set(9,b.lA.symbolEnum),P.set(10,b.lA.symbolInterface),P.set(11,b.lA.symbolFunction),P.set(12,b.lA.symbolVariable),P.set(13,b.lA.symbolConstant),P.set(14,b.lA.symbolString),P.set(15,b.lA.symbolNumber),P.set(16,b.lA.symbolBoolean),P.set(17,b.lA.symbolArray),P.set(18,b.lA.symbolObject),P.set(19,b.lA.symbolKey),P.set(20,b.lA.symbolNull),P.set(21,b.lA.symbolEnumMember),P.set(22,b.lA.symbolStruct),P.set(23,b.lA.symbolEvent),P.set(24,b.lA.symbolOperator),P.set(25,b.lA.symbolTypeParameter);function V($){let re=P.get($);return re||(console.info("No codicon found for SymbolKind "+$),re=b.lA.symbolProperty),re}I.toIcon=V})(v||(v={}));class p{constructor(P){this.value=P}}p.Comment=new p("comment"),p.Imports=new p("imports"),p.Region=new p("region");var L;(function(I){function P(V){return!V||typeof V!="object"?!1:typeof V.id=="string"&&typeof V.title=="string"}I.is=P})(L||(L={}));var T;(function(I){I[I.Type=1]="Type",I[I.Parameter=2]="Parameter"})(T||(T={}));const M=new B},75383:function(Yt,Ye,s){"use strict";s.d(Ye,{$9:function(){return O},UF:function(){return H},n8:function(){return B},r7:function(){return Z},tI:function(){return y}});var b=s(97295),l=s(49119),z=s(19111),j=s(4256);function E(g,C,m){const i=g.tokenization.getLanguageIdAtPosition(C,0);if(C>1){let d,_=-1;for(d=C-1;d>=1;d--){if(g.tokenization.getLanguageIdAtPosition(d,0)!==i)return _;const v=g.getLineContent(d);if(m.shouldIgnore(v)||/^\s+$/.test(v)||v===""){_=d;continue}return d}}return-1}function Z(g,C,m,i=!0,d){if(g<4)return null;const _=d.getLanguageConfiguration(C.tokenization.getLanguageId()).indentRulesSupport;if(!_)return null;if(m<=1)return{indentation:"",action:null};const v=E(C,m,_);if(v<0)return null;if(v<1)return{indentation:"",action:null};const p=C.getLineContent(v);if(_.shouldIncrease(p)||_.shouldIndentNextLine(p))return{indentation:b.V8(p),action:l.wU.Indent,line:v};if(_.shouldDecrease(p))return{indentation:b.V8(p),action:null,line:v};{if(v===1)return{indentation:b.V8(C.getLineContent(v)),action:null,line:v};const L=v-1,T=_.getIndentMetadata(C.getLineContent(L));if(!(T&3)&&T&4){let M=0;for(let I=L-1;I>0;I--)if(!_.shouldIndentNextLine(C.getLineContent(I))){M=I;break}return{indentation:b.V8(C.getLineContent(M+1)),action:null,line:M+1}}if(i)return{indentation:b.V8(C.getLineContent(v)),action:null,line:v};for(let M=v;M>0;M--){const I=C.getLineContent(M);if(_.shouldIncrease(I))return{indentation:b.V8(I),action:l.wU.Indent,line:M};if(_.shouldIndentNextLine(I)){let P=0;for(let V=M-1;V>0;V--)if(!_.shouldIndentNextLine(C.getLineContent(M))){P=V;break}return{indentation:b.V8(C.getLineContent(P+1)),action:null,line:P+1}}else if(_.shouldDecrease(I))return{indentation:b.V8(I),action:null,line:M}}return{indentation:b.V8(C.getLineContent(1)),action:null,line:1}}}function B(g,C,m,i,d,_){if(g<4)return null;const v=_.getLanguageConfiguration(m);if(!v)return null;const p=_.getLanguageConfiguration(m).indentRulesSupport;if(!p)return null;const L=Z(g,C,i,void 0,_),T=C.getLineContent(i);if(L){const M=L.line;if(M!==void 0){const I=v.onEnter(g,"",C.getLineContent(M),"");if(I){let P=b.V8(C.getLineContent(M));return I.removeText&&(P=P.substring(0,P.length-I.removeText)),I.indentAction===l.wU.Indent||I.indentAction===l.wU.IndentOutdent?P=d.shiftIndent(P):I.indentAction===l.wU.Outdent&&(P=d.unshiftIndent(P)),p.shouldDecrease(T)&&(P=d.unshiftIndent(P)),I.appendText&&(P+=I.appendText),b.V8(P)}}return p.shouldDecrease(T)?L.action===l.wU.Indent?L.indentation:d.unshiftIndent(L.indentation):L.action===l.wU.Indent?d.shiftIndent(L.indentation):L.indentation}return null}function H(g,C,m,i,d){if(g<4)return null;C.tokenization.forceTokenization(m.startLineNumber);const _=C.tokenization.getLineTokens(m.startLineNumber),v=(0,z.wH)(_,m.startColumn-1),p=v.getLineContent();let L=!1,T;v.firstCharOffset>0&&_.getLanguageId(0)!==v.languageId?(L=!0,T=p.substr(0,m.startColumn-1-v.firstCharOffset)):T=_.getLineContent().substring(0,m.startColumn-1);let M;m.isEmpty()?M=p.substr(m.startColumn-1-v.firstCharOffset):M=(0,j.n2)(C,m.endLineNumber,m.endColumn).getLineContent().substr(m.endColumn-1-v.firstCharOffset);const I=d.getLanguageConfiguration(v.languageId).indentRulesSupport;if(!I)return null;const P=T,V=b.V8(T),$={tokenization:{getLineTokens:se=>C.tokenization.getLineTokens(se),getLanguageId:()=>C.getLanguageId(),getLanguageIdAtPosition:(se,X)=>C.getLanguageIdAtPosition(se,X)},getLineContent:se=>se===m.startLineNumber?P:C.getLineContent(se)},re=b.V8(_.getLineContent()),ae=Z(g,$,m.startLineNumber+1,void 0,d);if(!ae){const se=L?re:V;return{beforeEnter:se,afterEnter:se}}let ie=L?re:ae.indentation;return ae.action===l.wU.Indent&&(ie=i.shiftIndent(ie)),I.shouldDecrease(M)&&(ie=i.unshiftIndent(ie)),{beforeEnter:L?re:V,afterEnter:ie}}function O(g,C,m,i,d,_){if(g<4)return null;const v=(0,j.n2)(C,m.startLineNumber,m.startColumn);if(v.firstCharOffset)return null;const p=_.getLanguageConfiguration(v.languageId).indentRulesSupport;if(!p)return null;const L=v.getLineContent(),T=L.substr(0,m.startColumn-1-v.firstCharOffset);let M;if(m.isEmpty()?M=L.substr(m.startColumn-1-v.firstCharOffset):M=(0,j.n2)(C,m.endLineNumber,m.endColumn).getLineContent().substr(m.endColumn-1-v.firstCharOffset),!p.shouldDecrease(T+M)&&p.shouldDecrease(T+i+M)){const I=Z(g,C,m.startLineNumber,!1,_);if(!I)return null;let P=I.indentation;return I.action!==l.wU.Indent&&(P=d.unshiftIndent(P)),P}return null}function y(g,C,m){const i=m.getLanguageConfiguration(g.getLanguageId()).indentRulesSupport;return!i||C<1||C>g.getLineCount()?null:i.getIndentMetadata(g.getLineContent(C))}},1615:function(Yt,Ye,s){"use strict";s.d(Ye,{A:function(){return z}});var b=s(49119),l=s(4256);function z(j,E,Z,B){const H=(0,l.n2)(E,Z.startLineNumber,Z.startColumn),O=B.getLanguageConfiguration(H.languageId);if(!O)return null;const y=H.getLineContent(),g=y.substr(0,Z.startColumn-1-H.firstCharOffset);let C;Z.isEmpty()?C=y.substr(Z.startColumn-1-H.firstCharOffset):C=(0,l.n2)(E,Z.endLineNumber,Z.endColumn).getLineContent().substr(Z.endColumn-1-H.firstCharOffset);let m="";if(Z.startLineNumber>1&&H.firstCharOffset===0){const L=(0,l.n2)(E,Z.startLineNumber-1);L.languageId===H.languageId&&(m=L.getLineContent())}const i=O.onEnter(j,m,g,C);if(!i)return null;const d=i.indentAction;let _=i.appendText;const v=i.removeText||0;_?d===b.wU.Indent&&(_="	"+_):d===b.wU.Indent||d===b.wU.IndentOutdent?_="	":_="";let p=(0,l.u0)(E,Z.startLineNumber,Z.startColumn);return v&&(p=p.substring(0,p.length-v)),{indentAction:d,appendText:_,removeText:v,indentation:p}}},72042:function(Yt,Ye,s){"use strict";s.d(Ye,{O:function(){return l}});var b=s(72065);const l=(0,b.yh)("languageService")},49119:function(Yt,Ye,s){"use strict";s.d(Ye,{V6:function(){return l},c$:function(){return z},wU:function(){return b}});var b;(function(E){E[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent"})(b||(b={}));class l{constructor(Z){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=Z.open,this.close=Z.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(Z.notIn))for(let B=0,H=Z.notIn.length;B<H;B++)switch(Z.notIn[B]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(Z){switch(Z){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(Z,B){if(Z.getTokenCount()===0)return!0;const H=Z.findTokenIndexAtOffset(B-2),O=Z.getStandardTokenType(H);return this.isOK(O)}_findNeutralCharacterInRange(Z,B){for(let H=Z;H<=B;H++){const O=String.fromCharCode(H);if(!this.open.includes(O)&&!this.close.includes(O))return O}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class z{constructor(Z){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const B of Z)j(this.autoClosingPairsOpenByStart,B.open.charAt(0),B),j(this.autoClosingPairsOpenByEnd,B.open.charAt(B.open.length-1),B),j(this.autoClosingPairsCloseByStart,B.close.charAt(0),B),j(this.autoClosingPairsCloseByEnd,B.close.charAt(B.close.length-1),B),B.close.length===1&&B.open.length===1&&j(this.autoClosingPairsCloseSingleChar,B.close,B)}}function j(E,Z,B){E.has(Z)?E.get(Z).push(B):E.set(Z,[B])}},4256:function(Yt,Ye,s){"use strict";s.d(Ye,{c_:function(){return se},u0:function(){return W},n2:function(){return G}});var b=s(4669),l=s(5976),z=s(97295),j=s(270),E=s(49119),Z=s(19111);class B{constructor(Ce){if(Ce.autoClosingPairs?this._autoClosingPairs=Ce.autoClosingPairs.map(Ae=>new E.V6(Ae)):Ce.brackets?this._autoClosingPairs=Ce.brackets.map(Ae=>new E.V6({open:Ae[0],close:Ae[1]})):this._autoClosingPairs=[],Ce.__electricCharacterSupport&&Ce.__electricCharacterSupport.docComment){const Ae=Ce.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new E.V6({open:Ae.open,close:Ae.close||""}))}this._autoCloseBefore=typeof Ce.autoCloseBefore=="string"?Ce.autoCloseBefore:B.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=Ce.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}B.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;var H=s(9488),O=s(34302);class y{constructor(Ce){this._richEditBrackets=Ce}getElectricCharacters(){const Ce=[];if(this._richEditBrackets)for(const Ae of this._richEditBrackets.brackets)for(const $e of Ae.close){const je=$e.charAt($e.length-1);Ce.push(je)}return(0,H.EB)(Ce)}onElectricCharacter(Ce,Ae,$e){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const je=Ae.findTokenIndexAtOffset($e-1);if((0,Z.Bu)(Ae.getStandardTokenType(je)))return null;const at=this._richEditBrackets.reversedRegex,pt=Ae.getLineContent().substring(0,$e-1)+Ce,bt=O.Vr.findPrevBracketInRange(at,1,pt,0,pt.length);if(!bt)return null;const We=pt.substring(bt.startColumn-1,bt.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[We])return null;const pe=Ae.getActualLineContentBefore(bt.startColumn-1);return/^\s*$/.test(pe)?{matchOpenBracket:We}:null}}function g(Ve){return Ve.global&&(Ve.lastIndex=0),!0}class C{constructor(Ce){this._indentationRules=Ce}shouldIncrease(Ce){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&g(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(Ce))}shouldDecrease(Ce){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&g(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(Ce))}shouldIndentNextLine(Ce){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&g(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(Ce))}shouldIgnore(Ce){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&g(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(Ce))}getIndentMetadata(Ce){let Ae=0;return this.shouldIncrease(Ce)&&(Ae+=1),this.shouldDecrease(Ce)&&(Ae+=2),this.shouldIndentNextLine(Ce)&&(Ae+=4),this.shouldIgnore(Ce)&&(Ae+=8),Ae}}var m=s(17301);class i{constructor(Ce){Ce=Ce||{},Ce.brackets=Ce.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],Ce.brackets.forEach(Ae=>{const $e=i._createOpenBracketRegExp(Ae[0]),je=i._createCloseBracketRegExp(Ae[1]);$e&&je&&this._brackets.push({open:Ae[0],openRegExp:$e,close:Ae[1],closeRegExp:je})}),this._regExpRules=Ce.onEnterRules||[]}onEnter(Ce,Ae,$e,je){if(Ce>=3)for(let at=0,pt=this._regExpRules.length;at<pt;at++){const bt=this._regExpRules[at];if([{reg:bt.beforeText,text:$e},{reg:bt.afterText,text:je},{reg:bt.previousLineText,text:Ae}].every(it=>it.reg?(it.reg.lastIndex=0,it.reg.test(it.text)):!0))return bt.action}if(Ce>=2&&$e.length>0&&je.length>0)for(let at=0,pt=this._brackets.length;at<pt;at++){const bt=this._brackets[at];if(bt.openRegExp.test($e)&&bt.closeRegExp.test(je))return{indentAction:E.wU.IndentOutdent}}if(Ce>=2&&$e.length>0){for(let at=0,pt=this._brackets.length;at<pt;at++)if(this._brackets[at].openRegExp.test($e))return{indentAction:E.wU.Indent}}return null}static _createOpenBracketRegExp(Ce){let Ae=z.ec(Ce);return/\B/.test(Ae.charAt(0))||(Ae="\\b"+Ae),Ae+="\\s*$",i._safeRegExp(Ae)}static _createCloseBracketRegExp(Ce){let Ae=z.ec(Ce);return/\B/.test(Ae.charAt(Ae.length-1))||(Ae=Ae+"\\b"),Ae="^\\s*"+Ae,i._safeRegExp(Ae)}static _safeRegExp(Ce){try{return new RegExp(Ce)}catch(Ae){return(0,m.dL)(Ae),null}}}var d=s(72065),_=s(33108),v=s(72042),p=s(65026),L=s(68801),T=s(701);class M{constructor(Ce,Ae){this.languageId=Ce;let $e;Ae.colorizedBracketPairs?$e=I(Ae.colorizedBracketPairs.map(pt=>[pt[0],pt[1]])):Ae.brackets?$e=I(Ae.brackets.map(pt=>[pt[0],pt[1]]).filter(pt=>!(pt[0]==="<"&&pt[1]===">"))):$e=[];const je=new T.b(pt=>{const bt=new Set;return{info:new V(this,pt,bt),closing:bt}}),at=new T.b(pt=>{const bt=new Set;return{info:new $(this,pt,bt),opening:bt}});for(const[pt,bt]of $e){const We=je.get(pt),it=at.get(bt);We.closing.add(it.info),it.opening.add(We.info)}this._openingBrackets=new Map([...je.cachedValues].map(([pt,bt])=>[pt,bt.info])),this._closingBrackets=new Map([...at.cachedValues].map(([pt,bt])=>[pt,bt.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(Ce){return this._openingBrackets.get(Ce)}getClosingBracketInfo(Ce){return this._closingBrackets.get(Ce)}getBracketInfo(Ce){return this.getOpeningBracketInfo(Ce)||this.getClosingBracketInfo(Ce)}}function I(Ve){return Ve.filter(([Ce,Ae])=>Ce!==""&&Ae!=="")}class P{constructor(Ce,Ae){this.config=Ce,this.bracketText=Ae}get languageId(){return this.config.languageId}}class V extends P{constructor(Ce,Ae,$e){super(Ce,Ae),this.openedBrackets=$e,this.isOpeningBracket=!0}}class $ extends P{constructor(Ce,Ae,$e){super(Ce,Ae),this.closedBrackets=$e,this.isOpeningBracket=!1}closes(Ce){if(Ce.languageId===this.languageId&&Ce.config!==this.config)throw new m.he("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(Ce)}getClosedBrackets(){return[...this.closedBrackets]}}var re=function(Ve,Ce,Ae,$e){var je=arguments.length,at=je<3?Ce:$e===null?$e=Object.getOwnPropertyDescriptor(Ce,Ae):$e,pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(Ve,Ce,Ae,$e);else for(var bt=Ve.length-1;bt>=0;bt--)(pt=Ve[bt])&&(at=(je<3?pt(at):je>3?pt(Ce,Ae,at):pt(Ce,Ae))||at);return je>3&&at&&Object.defineProperty(Ce,Ae,at),at},ae=function(Ve,Ce){return function(Ae,$e){Ce(Ae,$e,Ve)}};class ie{constructor(Ce){this.languageId=Ce}affects(Ce){return this.languageId?this.languageId===Ce:!0}}const se=(0,d.yh)("languageConfigurationService");let X=class extends l.JT{constructor(Ce,Ae){super(),this.configurationService=Ce,this.languageService=Ae,this._registry=this._register(new xe),this.onDidChangeEmitter=this._register(new b.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const $e=new Set(Object.values(Q));this._register(this.configurationService.onDidChangeConfiguration(je=>{const at=je.change.keys.some(bt=>$e.has(bt)),pt=je.change.overrides.filter(([bt,We])=>We.some(it=>$e.has(it))).map(([bt])=>bt);if(at)this.configurations.clear(),this.onDidChangeEmitter.fire(new ie(void 0));else for(const bt of pt)this.languageService.isRegisteredLanguageId(bt)&&(this.configurations.delete(bt),this.onDidChangeEmitter.fire(new ie(bt)))})),this._register(this._registry.onDidChange(je=>{this.configurations.delete(je.languageId),this.onDidChangeEmitter.fire(new ie(je.languageId))}))}register(Ce,Ae,$e){return this._registry.register(Ce,Ae,$e)}getLanguageConfiguration(Ce){let Ae=this.configurations.get(Ce);return Ae||(Ae=ne(Ce,this._registry,this.configurationService,this.languageService),this.configurations.set(Ce,Ae)),Ae}};X=re([ae(0,_.Ui),ae(1,v.O)],X);function ne(Ve,Ce,Ae,$e){let je=Ce.getLanguageConfiguration(Ve);if(!je){if(!$e.isRegisteredLanguageId(Ve))throw new Error(`Language id "${Ve}" is not configured nor known`);je=new Ne(Ve,{})}const at=F(je.languageId,Ae),pt=me([je.underlyingConfig,at]);return new Ne(je.languageId,pt)}const Q={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function F(Ve,Ce){const Ae=Ce.getValue(Q.brackets,{overrideIdentifier:Ve}),$e=Ce.getValue(Q.colorizedBracketPairs,{overrideIdentifier:Ve});return{brackets:te(Ae),colorizedBracketPairs:te($e)}}function te(Ve){if(Array.isArray(Ve))return Ve.map(Ce=>{if(!(!Array.isArray(Ce)||Ce.length!==2))return[Ce[0],Ce[1]]}).filter(Ce=>!!Ce)}function W(Ve,Ce,Ae){const $e=Ve.getLineContent(Ce);let je=z.V8($e);return je.length>Ae-1&&(je=je.substring(0,Ae-1)),je}function G(Ve,Ce,Ae){Ve.tokenization.forceTokenization(Ce);const $e=Ve.tokenization.getLineTokens(Ce),je=typeof Ae>"u"?Ve.getLineMaxColumn(Ce)-1:Ae-1;return(0,Z.wH)($e,je)}class q{constructor(Ce){this.languageId=Ce,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(Ce,Ae){const $e=new w(Ce,Ae,++this._order);return this._entries.push($e),this._resolved=null,(0,l.OF)(()=>{for(let je=0;je<this._entries.length;je++)if(this._entries[je]===$e){this._entries.splice(je,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const Ce=this._resolve();Ce&&(this._resolved=new Ne(this.languageId,Ce))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(w.cmp),me(this._entries.map(Ce=>Ce.configuration)))}}function me(Ve){let Ce={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const Ae of Ve)Ce={comments:Ae.comments||Ce.comments,brackets:Ae.brackets||Ce.brackets,wordPattern:Ae.wordPattern||Ce.wordPattern,indentationRules:Ae.indentationRules||Ce.indentationRules,onEnterRules:Ae.onEnterRules||Ce.onEnterRules,autoClosingPairs:Ae.autoClosingPairs||Ce.autoClosingPairs,surroundingPairs:Ae.surroundingPairs||Ce.surroundingPairs,autoCloseBefore:Ae.autoCloseBefore||Ce.autoCloseBefore,folding:Ae.folding||Ce.folding,colorizedBracketPairs:Ae.colorizedBracketPairs||Ce.colorizedBracketPairs,__electricCharacterSupport:Ae.__electricCharacterSupport||Ce.__electricCharacterSupport};return Ce}class w{constructor(Ce,Ae,$e){this.configuration=Ce,this.priority=Ae,this.order=$e}static cmp(Ce,Ae){return Ce.priority===Ae.priority?Ce.order-Ae.order:Ce.priority-Ae.priority}}class we{constructor(Ce){this.languageId=Ce}}class xe extends l.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new b.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(L.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(Ce,Ae,$e=0){let je=this._entries.get(Ce);je||(je=new q(Ce),this._entries.set(Ce,je));const at=je.register(Ae,$e);return this._onDidChange.fire(new we(Ce)),(0,l.OF)(()=>{at.dispose(),this._onDidChange.fire(new we(Ce))})}getLanguageConfiguration(Ce){const Ae=this._entries.get(Ce);return Ae?.getResolvedConfiguration()||null}}class Ne{constructor(Ce,Ae){this.languageId=Ce,this.underlyingConfig=Ae,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i(this.underlyingConfig):null,this.comments=Ne._handleComments(this.underlyingConfig),this.characterPair=new B(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||j.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new C(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new M(Ce,this.underlyingConfig)}getWordDefinition(){return(0,j.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new O.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new y(this.brackets)),this._electricCharacter}onEnter(Ce,Ae,$e,je){return this._onEnterSupport?this._onEnterSupport.onEnter(Ce,Ae,$e,je):null}getAutoClosingPairs(){return new E.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(Ce){const Ae=Ce.comments;if(!Ae)return null;const $e={};if(Ae.lineComment&&($e.lineCommentToken=Ae.lineComment),Ae.blockComment){const[je,at]=Ae.blockComment;$e.blockCommentStartToken=je,$e.blockCommentEndToken=at}return $e}}(0,p.z)(se,X)},68801:function(Yt,Ye,s){"use strict";s.d(Ye,{bd:function(){return O},dQ:function(){return H}});var b=s(63580),l=s(4669),z=s(89872),j=s(81170),E=s(23193);const Z={ModesRegistry:"editor.modesRegistry"};class B{constructor(){this._onDidChangeLanguages=new l.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(C){return this._languages.push(C),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let m=0,i=this._languages.length;m<i;m++)if(this._languages[m]===C){this._languages.splice(m,1);return}}}}getLanguages(){return this._languages}}const H=new B;z.B.add(Z.ModesRegistry,H);const O="plaintext";H.registerLanguage({id:O,extensions:[".txt"],aliases:[b.NC("plainText.alias","Plain Text"),"text"],mimetypes:[j.v.text]}),z.B.as(E.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},276:function(Yt,Ye,s){"use strict";s.d(Ye,{Dy:function(){return j},Ri:function(){return z},TJ:function(){return l}});var b=s(43155);const l=new class{clone(){return this}equals(E){return this===E}};function z(E,Z){return new b.hG([new b.WU(0,"",E)],Z)}function j(E,Z){const B=new Uint32Array(2);return B[0]=0,B[1]=(E<<0|0|0|32768|2<<24)>>>0,new b.DI(B,Z===null?l:Z)}},19111:function(Yt,Ye,s){"use strict";s.d(Ye,{Bu:function(){return z},wH:function(){return b}});function b(j,E){const Z=j.getCount(),B=j.findTokenIndexAtOffset(E),H=j.getLanguageId(B);let O=B;for(;O+1<Z&&j.getLanguageId(O+1)===H;)O++;let y=B;for(;y>0&&j.getLanguageId(y-1)===H;)y--;return new l(j,H,y,O+1,j.getStartOffset(y),j.getEndOffset(O))}class l{constructor(E,Z,B,H,O,y){this._scopedLineTokensBrand=void 0,this._actual=E,this.languageId=Z,this._firstTokenIndex=B,this._lastTokenIndex=H,this.firstCharOffset=O,this._lastCharOffset=y}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(E){return this._actual.getLineContent().substring(0,this.firstCharOffset+E)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(E){return this._actual.findTokenIndexAtOffset(E+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(E){return this._actual.getStandardTokenType(E+this._firstTokenIndex)}}function z(j){return(j&3)!==0}},34302:function(Yt,Ye,s){"use strict";s.d(Ye,{EA:function(){return Z},Vr:function(){return v}});var b=s(97295),l=s(50072),z=s(24314);class j{constructor(L,T,M,I,P,V){this._richEditBracketBrand=void 0,this.languageId=L,this.index=T,this.open=M,this.close=I,this.forwardRegex=P,this.reversedRegex=V,this._openSet=j._toSet(this.open),this._closeSet=j._toSet(this.close)}isOpen(L){return this._openSet.has(L)}isClose(L){return this._closeSet.has(L)}static _toSet(L){const T=new Set;for(const M of L)T.add(M);return T}}function E(p){const L=p.length;p=p.map(V=>[V[0].toLowerCase(),V[1].toLowerCase()]);const T=[];for(let V=0;V<L;V++)T[V]=V;const M=(V,$)=>{const[re,ae]=V,[ie,se]=$;return re===ie||re===se||ae===ie||ae===se},I=(V,$)=>{const re=Math.min(V,$),ae=Math.max(V,$);for(let ie=0;ie<L;ie++)T[ie]===ae&&(T[ie]=re)};for(let V=0;V<L;V++){const $=p[V];for(let re=V+1;re<L;re++){const ae=p[re];M($,ae)&&I(T[V],T[re])}}const P=[];for(let V=0;V<L;V++){const $=[],re=[];for(let ae=0;ae<L;ae++)if(T[ae]===V){const[ie,se]=p[ae];$.push(ie),re.push(se)}$.length>0&&P.push({open:$,close:re})}return P}class Z{constructor(L,T){this._richEditBracketsBrand=void 0;const M=E(T);this.brackets=M.map((I,P)=>new j(L,P,I.open,I.close,y(I.open,I.close,M,P),g(I.open,I.close,M,P))),this.forwardRegex=C(this.brackets),this.reversedRegex=m(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const I of this.brackets){for(const P of I.open)this.textIsBracket[P]=I,this.textIsOpenBracket[P]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,P.length);for(const P of I.close)this.textIsBracket[P]=I,this.textIsOpenBracket[P]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,P.length)}}}function B(p,L,T,M){for(let I=0,P=L.length;I<P;I++){if(I===T)continue;const V=L[I];for(const $ of V.open)$.indexOf(p)>=0&&M.push($);for(const $ of V.close)$.indexOf(p)>=0&&M.push($)}}function H(p,L){return p.length-L.length}function O(p){if(p.length<=1)return p;const L=[],T=new Set;for(const M of p)T.has(M)||(L.push(M),T.add(M));return L}function y(p,L,T,M){let I=[];I=I.concat(p),I=I.concat(L);for(let P=0,V=I.length;P<V;P++)B(I[P],T,M,I);return I=O(I),I.sort(H),I.reverse(),d(I)}function g(p,L,T,M){let I=[];I=I.concat(p),I=I.concat(L);for(let P=0,V=I.length;P<V;P++)B(I[P],T,M,I);return I=O(I),I.sort(H),I.reverse(),d(I.map(_))}function C(p){let L=[];for(const T of p){for(const M of T.open)L.push(M);for(const M of T.close)L.push(M)}return L=O(L),d(L)}function m(p){let L=[];for(const T of p){for(const M of T.open)L.push(M);for(const M of T.close)L.push(M)}return L=O(L),d(L.map(_))}function i(p){const L=/^[\w ]+$/.test(p);return p=b.ec(p),L?`\\b${p}\\b`:p}function d(p){const L=`(${p.map(i).join(")|(")})`;return b.GF(L,!0)}const _=function(){function p(M){if(l.lZ){const I=new Uint16Array(M.length);let P=0;for(let V=M.length-1;V>=0;V--)I[P++]=M.charCodeAt(V);return l.oe().decode(I)}else{const I=[];let P=0;for(let V=M.length-1;V>=0;V--)I[P++]=M.charAt(V);return I.join("")}}let L=null,T=null;return function(I){return L!==I&&(L=I,T=p(L)),T}}();class v{static _findPrevBracketInText(L,T,M,I){const P=M.match(L);if(!P)return null;const V=M.length-(P.index||0),$=P[0].length,re=I+V;return new z.e(T,re-$+1,T,re+1)}static findPrevBracketInRange(L,T,M,I,P){const $=_(M).substring(M.length-P,M.length-I);return this._findPrevBracketInText(L,T,$,I)}static findNextBracketInText(L,T,M,I){const P=M.match(L);if(!P)return null;const V=P.index||0,$=P[0].length;if($===0)return null;const re=I+V;return new z.e(T,re+1,T,re+1+$)}static findNextBracketInRange(L,T,M,I,P){const V=M.substring(I,P);return this.findNextBracketInText(L,T,V,I)}}},81947:function(Yt,Ye,s){"use strict";s.d(Ye,{C2:function(){return B},Fq:function(){return H}});var b=s(97295),l=s(77378),z=s(43155),j=s(276),E=function(y,g,C,m){function i(d){return d instanceof C?d:new C(function(_){_(d)})}return new(C||(C=Promise))(function(d,_){function v(T){try{L(m.next(T))}catch(M){_(M)}}function p(T){try{L(m.throw(T))}catch(M){_(M)}}function L(T){T.done?d(T.value):i(T.value).then(v,p)}L((m=m.apply(y,g||[])).next())})};const Z={getInitialState:()=>j.TJ,tokenizeEncoded:(y,g,C)=>(0,j.Dy)(0,C)};function B(y,g,C){return E(this,void 0,void 0,function*(){if(!C)return O(g,y.languageIdCodec,Z);const m=yield z.RW.getOrCreate(C);return O(g,y.languageIdCodec,m||Z)})}function H(y,g,C,m,i,d,_){let v="<div>",p=m,L=0,T=!0;for(let M=0,I=g.getCount();M<I;M++){const P=g.getEndOffset(M);if(P<=m)continue;let V="";for(;p<P&&p<i;p++){const $=y.charCodeAt(p);switch($){case 9:{let re=d-(p+L)%d;for(L+=re-1;re>0;)_&&T?(V+="&#160;",T=!1):(V+=" ",T=!0),re--;break}case 60:V+="&lt;",T=!1;break;case 62:V+="&gt;",T=!1;break;case 38:V+="&amp;",T=!1;break;case 0:V+="&#00;",T=!1;break;case 65279:case 8232:case 8233:case 133:V+="\uFFFD",T=!1;break;case 13:V+="&#8203",T=!1;break;case 32:_&&T?(V+="&#160;",T=!1):(V+=" ",T=!0);break;default:V+=String.fromCharCode($),T=!1}}if(v+=`<span style="${g.getInlineStyle(M,C)}">${V}</span>`,P>i||p>=i)break}return v+="</div>",v}function O(y,g,C){let m='<div class="monaco-tokenized-source">';const i=b.uq(y);let d=C.getInitialState();for(let _=0,v=i.length;_<v;_++){const p=i[_];_>0&&(m+="<br/>");const L=C.tokenizeEncoded(p,!0,d);l.A.convertToEndOffset(L.tokens,p.length);const M=new l.A(L.tokens,p,g).inflate();let I=0;for(let P=0,V=M.getCount();P<V;P++){const $=M.getClassName(P),re=M.getEndOffset(P);m+=`<span class="${$}">${b.YU(p.substring(I,re))}</span>`,I=re}d=L.endState}return m+="</div>",m}},84973:function(Yt,Ye,s){"use strict";s.d(Ye,{F5:function(){return z},Hf:function(){return B},Qi:function(){return H},RM:function(){return j},Tx:function(){return O},dJ:function(){return E},je:function(){return y},pt:function(){return g},sh:function(){return l},tk:function(){return Z}});var b=s(36248),l;(function(C){C[C.Left=1]="Left",C[C.Center=2]="Center",C[C.Right=4]="Right",C[C.Full=7]="Full"})(l||(l={}));var z;(function(C){C[C.Inline=1]="Inline",C[C.Gutter=2]="Gutter"})(z||(z={}));var j;(function(C){C[C.Both=0]="Both",C[C.Right=1]="Right",C[C.Left=2]="Left",C[C.None=3]="None"})(j||(j={}));class E{constructor(m){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,m.tabSize|0),this.indentSize=m.tabSize|0,this.insertSpaces=!!m.insertSpaces,this.defaultEOL=m.defaultEOL|0,this.trimAutoWhitespace=!!m.trimAutoWhitespace,this.bracketPairColorizationOptions=m.bracketPairColorizationOptions}equals(m){return this.tabSize===m.tabSize&&this.indentSize===m.indentSize&&this.insertSpaces===m.insertSpaces&&this.defaultEOL===m.defaultEOL&&this.trimAutoWhitespace===m.trimAutoWhitespace&&(0,b.fS)(this.bracketPairColorizationOptions,m.bracketPairColorizationOptions)}createChangeEvent(m){return{tabSize:this.tabSize!==m.tabSize,indentSize:this.indentSize!==m.indentSize,insertSpaces:this.insertSpaces!==m.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==m.trimAutoWhitespace}}}class Z{constructor(m,i){this._findMatchBrand=void 0,this.range=m,this.matches=i}}function B(C){return C&&typeof C.read=="function"}class H{constructor(m,i,d,_,v,p){this.identifier=m,this.range=i,this.text=d,this.forceMoveMarkers=_,this.isAutoWhitespaceEdit=v,this._isTracked=p}}class O{constructor(m,i,d){this.regex=m,this.wordSeparators=i,this.simpleSearch=d}}class y{constructor(m,i,d){this.reverseEdits=m,this.changes=i,this.trimAutoWhitespaceLineNumbers=d}}function g(C){return!C.isTooLargeForSyncing()&&!C.isForSimpleWidget}},41720:function(Yt,Ye,s){"use strict";s.d(Ye,{BH:function(){return m},Dm:function(){return d},Kd:function(){return E},Y0:function(){return Z},n2:function(){return i}});var b=s(7988),l=s(45035),z=s(61761);class j{constructor(v){this._length=v}get length(){return this._length}}class E extends j{constructor(v,p,L,T,M){super(v),this.openingBracket=p,this.child=L,this.closingBracket=T,this.missingOpeningBracketIds=M}static create(v,p,L){let T=v.length;return p&&(T=(0,l.Ii)(T,p.length)),L&&(T=(0,l.Ii)(T,L.length)),new E(T,v,p,L,p?p.missingOpeningBracketIds:z.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(v){switch(v){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const v=new Array;return v.push(this.openingBracket),this.child&&v.push(this.child),this.closingBracket&&v.push(this.closingBracket),v}canBeReused(v){return!(this.closingBracket===null||v.intersects(this.missingOpeningBracketIds))}deepClone(){return new E(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(v,p){return this.child?this.child.computeMinIndentation((0,l.Ii)(v,this.openingBracket.length),p):Number.MAX_SAFE_INTEGER}}class Z extends j{constructor(v,p,L){super(v),this.listHeight=p,this._missingOpeningBracketIds=L,this.cachedMinIndentation=-1}static create23(v,p,L,T=!1){let M=v.length,I=v.missingOpeningBracketIds;if(v.listHeight!==p.listHeight)throw new Error("Invalid list heights");if(M=(0,l.Ii)(M,p.length),I=I.merge(p.missingOpeningBracketIds),L){if(v.listHeight!==L.listHeight)throw new Error("Invalid list heights");M=(0,l.Ii)(M,L.length),I=I.merge(L.missingOpeningBracketIds)}return T?new H(M,v.listHeight+1,v,p,L,I):new B(M,v.listHeight+1,v,p,L,I)}static getEmpty(){return new y(l.xl,0,[],z.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const v=this.childrenLength;if(v===0)return;const p=this.getChild(v-1),L=p.kind===4?p.toMutable():p;return p!==L&&this.setChild(v-1,L),L}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const p=this.getChild(0),L=p.kind===4?p.toMutable():p;return p!==L&&this.setChild(0,L),L}canBeReused(v){if(v.intersects(this.missingOpeningBracketIds))return!1;let p=this,L;for(;p.kind===4&&(L=p.childrenLength)>0;)p=p.getChild(L-1);return p.canBeReused(v)}handleChildrenChanged(){this.throwIfImmutable();const v=this.childrenLength;let p=this.getChild(0).length,L=this.getChild(0).missingOpeningBracketIds;for(let T=1;T<v;T++){const M=this.getChild(T);p=(0,l.Ii)(p,M.length),L=L.merge(M.missingOpeningBracketIds)}this._length=p,this._missingOpeningBracketIds=L,this.cachedMinIndentation=-1}computeMinIndentation(v,p){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let L=Number.MAX_SAFE_INTEGER,T=v;for(let M=0;M<this.childrenLength;M++){const I=this.getChild(M);I&&(L=Math.min(L,I.computeMinIndentation(T,p)),T=(0,l.Ii)(T,I.length))}return this.cachedMinIndentation=L,L}}class B extends Z{constructor(v,p,L,T,M,I){super(v,p,I),this._item1=L,this._item2=T,this._item3=M}get childrenLength(){return this._item3!==null?3:2}getChild(v){switch(v){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(v,p){switch(v){case 0:this._item1=p;return;case 1:this._item2=p;return;case 2:this._item3=p;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new B(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(v){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=v,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const v=this._item3;return this._item3=null,this.handleChildrenChanged(),v}prependChildOfSameHeight(v){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=v,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const v=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),v}toMutable(){return this}}class H extends B{toMutable(){return new B(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class O extends Z{constructor(v,p,L,T){super(v,p,T),this._children=L}get childrenLength(){return this._children.length}getChild(v){return this._children[v]}setChild(v,p){this._children[v]=p}get children(){return this._children}deepClone(){const v=new Array(this._children.length);for(let p=0;p<this._children.length;p++)v[p]=this._children[p].deepClone();return new O(this.length,this.listHeight,v,this.missingOpeningBracketIds)}appendChildOfSameHeight(v){this.throwIfImmutable(),this._children.push(v),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const v=this._children.pop();return this.handleChildrenChanged(),v}prependChildOfSameHeight(v){this.throwIfImmutable(),this._children.unshift(v),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const v=this._children.shift();return this.handleChildrenChanged(),v}toMutable(){return this}}class y extends O{toMutable(){return new O(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const g=[];class C extends j{get listHeight(){return 0}get childrenLength(){return 0}getChild(v){return null}get children(){return g}deepClone(){return this}}class m extends C{get kind(){return 0}get missingOpeningBracketIds(){return z.tS.getEmpty()}canBeReused(v){return!0}computeMinIndentation(v,p){const L=(0,l.Hw)(v),T=(L.columnCount===0?L.lineCount:L.lineCount+1)+1,M=(0,l.W9)((0,l.Ii)(v,this.length))+1;let I=Number.MAX_SAFE_INTEGER;for(let P=T;P<=M;P++){const V=p.getLineFirstNonWhitespaceColumn(P),$=p.getLineContent(P);if(V===0)continue;const re=b.i.visibleColumnFromColumn($,V,p.getOptions().tabSize);I=Math.min(I,re)}return I}}class i extends C{constructor(v,p,L){super(v),this.bracketInfo=p,this.bracketIds=L}static create(v,p,L){return new i(v,p,L)}get kind(){return 1}get missingOpeningBracketIds(){return z.tS.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(v){return!1}computeMinIndentation(v,p){return Number.MAX_SAFE_INTEGER}}class d extends C{constructor(v,p){super(p),this.missingOpeningBracketIds=v}get kind(){return 3}canBeReused(v){return!v.intersects(this.missingOpeningBracketIds)}computeMinIndentation(v,p){return Number.MAX_SAFE_INTEGER}}},2442:function(Yt,Ye,s){"use strict";s.d(Ye,{Q:function(){return l},Y:function(){return z}});var b=s(45035);class l{constructor(Z,B,H){this.startOffset=Z,this.endOffset=B,this.newLength=H}}class z{constructor(Z,B){this.documentLength=B,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=Z.map(H=>j.from(H))}getOffsetBeforeChange(Z){return this.adjustNextEdit(Z),this.translateCurToOld(Z)}getDistanceToNextChange(Z){this.adjustNextEdit(Z);const B=this.edits[this.nextEditIdx],H=B?this.translateOldToCur(B.offsetObj):this.documentLength;return(0,b.BE)(Z,H)}translateOldToCur(Z){return Z.lineCount===this.deltaLineIdxInOld?(0,b.Hg)(Z.lineCount+this.deltaOldToNewLineCount,Z.columnCount+this.deltaOldToNewColumnCount):(0,b.Hg)(Z.lineCount+this.deltaOldToNewLineCount,Z.columnCount)}translateCurToOld(Z){const B=(0,b.Hw)(Z);return B.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,b.Hg)(B.lineCount-this.deltaOldToNewLineCount,B.columnCount-this.deltaOldToNewColumnCount):(0,b.Hg)(B.lineCount-this.deltaOldToNewLineCount,B.columnCount)}adjustNextEdit(Z){for(;this.nextEditIdx<this.edits.length;){const B=this.edits[this.nextEditIdx],H=this.translateOldToCur(B.endOffsetAfterObj);if((0,b.By)(H,Z)){this.nextEditIdx++;const O=(0,b.Hw)(H),y=(0,b.Hw)(this.translateOldToCur(B.endOffsetBeforeObj)),g=O.lineCount-y.lineCount;this.deltaOldToNewLineCount+=g;const C=this.deltaLineIdxInOld===B.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,m=O.columnCount-y.columnCount;this.deltaOldToNewColumnCount=C+m,this.deltaLineIdxInOld=B.endOffsetBeforeObj.lineCount}else break}}}class j{constructor(Z,B,H){this.endOffsetBeforeObj=(0,b.Hw)(B),this.endOffsetAfterObj=(0,b.Hw)((0,b.Ii)(Z,H)),this.offsetObj=(0,b.Hw)(Z)}static from(Z){return new j(Z.startOffset,Z.endOffset,Z.newLength)}}},35382:function(Yt,Ye,s){"use strict";s.d(Ye,{Z:function(){return H}});var b=s(97295),l=s(41720),z=s(45035),j=s(61761),E=s(6735);class Z{constructor(y){this.map=y,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(y,g){function C(i){return g.getKey(`${i.languageId}:::${i.bracketText}`)}const m=new Map;for(const i of y.bracketsNew.openingBrackets){const d=(0,z.Hg)(0,i.bracketText.length),_=C(i),v=j.tS.getEmpty().add(_,j.Qw);m.set(i.bracketText,new E.WU(d,1,_,v,l.n2.create(d,i,v)))}for(const i of y.bracketsNew.closingBrackets){const d=(0,z.Hg)(0,i.bracketText.length);let _=j.tS.getEmpty();const v=i.getClosedBrackets();for(const p of v)_=_.add(C(p),j.Qw);m.set(i.bracketText,new E.WU(d,2,C(v[0]),_,l.n2.create(d,i,_)))}return new Z(m)}getRegExpStr(){if(this.isEmpty)return null;{const y=[...this.map.keys()];return y.sort(),y.reverse(),y.map(g=>B(g)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const y=this.getRegExpStr();this._regExpGlobal=y?new RegExp(y,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(y){return this.map.get(y.toLowerCase())}findClosingTokenText(y){for(const[g,C]of this.map)if(C.kind===2&&C.bracketIds.intersects(y))return g}get isEmpty(){return this.map.size===0}}function B(O){let y=(0,b.ec)(O);return/^[\w ]+/.test(O)&&(y=`\\b${y}`),/[\w ]+$/.test(O)&&(y=`${y}\\b`),y}class H{constructor(y,g){this.denseKeyProvider=y,this.getLanguageConfiguration=g,this.languageIdToBracketTokens=new Map}didLanguageChange(y){return this.languageIdToBracketTokens.has(y)}getSingleLanguageBracketTokens(y){let g=this.languageIdToBracketTokens.get(y);return g||(g=Z.createFromLanguage(this.getLanguageConfiguration(y),this.denseKeyProvider),this.languageIdToBracketTokens.set(y,g)),g}}},45035:function(Yt,Ye,s){"use strict";s.d(Ye,{BE:function(){return m},By:function(){return d},F_:function(){return g},Hg:function(){return H},Hw:function(){return O},Ii:function(){return C},PZ:function(){return v},Qw:function(){return p},VR:function(){return i},W9:function(){return y},Zq:function(){return _},av:function(){return j},oR:function(){return L},xd:function(){return Z},xl:function(){return E}});var b=s(97295),l=s(24314);class z{constructor(M,I){this.lineCount=M,this.columnCount=I}toString(){return`${this.lineCount},${this.columnCount}`}}z.zero=new z(0,0);function j(T,M,I,P){return T!==I?H(I-T,P):H(0,P-M)}const E=0;function Z(T){return T===0}const B=Math.pow(2,26);function H(T,M){return T*B+M}function O(T){const M=T,I=Math.floor(M/B),P=M-I*B;return new z(I,P)}function y(T){return Math.floor(T/B)}function g(T){return T}function C(T,M){return M<B?T+M:T-T%B+M}function m(T,M){const I=T,P=M;if(P-I<=0)return E;const $=Math.floor(I/B),re=Math.floor(P/B),ae=P-re*B;if($===re){const ie=I-$*B;return H(0,ae-ie)}else return H(re-$,ae)}function i(T,M){return T<M}function d(T,M){return T<=M}function _(T,M){return T>=M}function v(T){return H(T.lineNumber-1,T.column-1)}function p(T,M){const I=T,P=Math.floor(I/B),V=I-P*B,$=M,re=Math.floor($/B),ae=$-re*B;return new l.e(P+1,V+1,re+1,ae+1)}function L(T){const M=(0,b.uq)(T);return H(M.length-1,M[M.length-1].length)}},64837:function(Yt,Ye,s){"use strict";s.d(Ye,{w:function(){return i}});var b=s(41720),l=s(2442),z=s(61761),j=s(45035);function E(_){if(_.length===0)return null;if(_.length===1)return _[0];let v=0;function p(){if(v>=_.length)return null;const I=v,P=_[I].listHeight;for(v++;v<_.length&&_[v].listHeight===P;)v++;return v-I>=2?Z(I===0&&v===_.length?_:_.slice(I,v),!1):_[I]}let L=p(),T=p();if(!T)return L;for(let I=p();I;I=p())B(L,T)<=B(T,I)?(L=H(L,T),T=I):T=H(T,I);return H(L,T)}function Z(_,v=!1){if(_.length===0)return null;if(_.length===1)return _[0];let p=_.length;for(;p>3;){const L=p>>1;for(let T=0;T<L;T++){const M=T<<1;_[T]=b.Y0.create23(_[M],_[M+1],M+3===p?_[M+2]:null,v)}p=L}return b.Y0.create23(_[0],_[1],p>=3?_[2]:null,v)}function B(_,v){return Math.abs(_.listHeight-v.listHeight)}function H(_,v){return _.listHeight===v.listHeight?b.Y0.create23(_,v,null,!1):_.listHeight>v.listHeight?O(_,v):y(v,_)}function O(_,v){_=_.toMutable();let p=_;const L=new Array;let T;for(;;){if(v.listHeight===p.listHeight){T=v;break}if(p.kind!==4)throw new Error("unexpected");L.push(p),p=p.makeLastElementMutable()}for(let M=L.length-1;M>=0;M--){const I=L[M];T?I.childrenLength>=3?T=b.Y0.create23(I.unappendChild(),T,null,!1):(I.appendChildOfSameHeight(T),T=void 0):I.handleChildrenChanged()}return T?b.Y0.create23(_,T,null,!1):_}function y(_,v){_=_.toMutable();let p=_;const L=new Array;for(;v.listHeight!==p.listHeight;){if(p.kind!==4)throw new Error("unexpected");L.push(p),p=p.makeFirstElementMutable()}let T=v;for(let M=L.length-1;M>=0;M--){const I=L[M];T?I.childrenLength>=3?T=b.Y0.create23(T,I.unprependChild(),null,!1):(I.prependChildOfSameHeight(T),T=void 0):I.handleChildrenChanged()}return T?b.Y0.create23(T,_,null,!1):_}class g{constructor(v){this.lastOffset=j.xl,this.nextNodes=[v],this.offsets=[j.xl],this.idxs=[]}readLongestNodeAt(v,p){if((0,j.VR)(v,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=v;;){const L=m(this.nextNodes);if(!L)return;const T=m(this.offsets);if((0,j.VR)(v,T))return;if((0,j.VR)(T,v))if((0,j.Ii)(T,L.length)<=v)this.nextNodeAfterCurrent();else{const M=C(L);M!==-1?(this.nextNodes.push(L.getChild(M)),this.offsets.push(T),this.idxs.push(M)):this.nextNodeAfterCurrent()}else{if(p(L))return this.nextNodeAfterCurrent(),L;{const M=C(L);if(M===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(L.getChild(M)),this.offsets.push(T),this.idxs.push(M)}}}}nextNodeAfterCurrent(){for(;;){const v=m(this.offsets),p=m(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const L=m(this.nextNodes),T=C(L,this.idxs[this.idxs.length-1]);if(T!==-1){this.nextNodes.push(L.getChild(T)),this.offsets.push((0,j.Ii)(v,p.length)),this.idxs[this.idxs.length-1]=T;break}else this.idxs.pop()}}}function C(_,v=-1){for(;;){if(v++,v>=_.childrenLength)return-1;if(_.getChild(v))return v}}function m(_){return _.length>0?_[_.length-1]:void 0}function i(_,v,p,L){return new d(_,v,p,L).parseDocument()}class d{constructor(v,p,L,T){if(this.tokenizer=v,this.createImmutableLists=T,this._itemsConstructed=0,this._itemsFromCache=0,L&&T)throw new Error("Not supported");this.oldNodeReader=L?new g(L):void 0,this.positionMapper=new l.Y(p,v.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let v=this.parseList(z.tS.getEmpty());return v||(v=b.Y0.getEmpty()),v}parseList(v){const p=new Array;for(;;){const T=this.tokenizer.peek();if(!T||T.kind===2&&T.bracketIds.intersects(v))break;const M=this.parseChild(v);M.kind===4&&M.childrenLength===0||p.push(M)}return this.oldNodeReader?E(p):Z(p,this.createImmutableLists)}parseChild(v){if(this.oldNodeReader){const L=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,j.xd)(L)){const T=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),M=>(0,j.VR)(M.length,L)?M.canBeReused(v):!1);if(T)return this._itemsFromCache++,this.tokenizer.skip(T.length),T}}this._itemsConstructed++;const p=this.tokenizer.read();switch(p.kind){case 2:return new b.Dm(p.bracketIds,p.length);case 0:return p.astNode;case 1:{const L=v.merge(p.bracketIds),T=this.parseList(L),M=this.tokenizer.peek();return M&&M.kind===2&&(M.bracketId===p.bracketId||M.bracketIds.intersects(p.bracketIds))?(this.tokenizer.read(),b.Kd.create(p.astNode,T,M.astNode)):b.Kd.create(p.astNode,T,null)}default:throw new Error("unexpected")}}}},61761:function(Yt,Ye,s){"use strict";s.d(Ye,{FE:function(){return j},Qw:function(){return z},tS:function(){return l}});const b=new Array;class l{constructor(Z,B){this.items=Z,this.additionalItems=B}static create(Z,B){if(Z<=128&&B.length===0){let H=l.cache[Z];return H||(H=new l(Z,B),l.cache[Z]=H),H}return new l(Z,B)}static getEmpty(){return this.empty}add(Z,B){const H=B.getKey(Z);let O=H>>5;if(O===0){const g=1<<H|this.items;return g===this.items?this:l.create(g,this.additionalItems)}O--;const y=this.additionalItems.slice(0);for(;y.length<O;)y.push(0);return y[O]|=1<<(H&31),l.create(this.items,y)}merge(Z){const B=this.items|Z.items;if(this.additionalItems===b&&Z.additionalItems===b)return B===this.items?this:B===Z.items?Z:l.create(B,b);const H=new Array;for(let O=0;O<Math.max(this.additionalItems.length,Z.additionalItems.length);O++){const y=this.additionalItems[O]||0,g=Z.additionalItems[O]||0;H.push(y|g)}return l.create(B,H)}intersects(Z){if(this.items&Z.items)return!0;for(let B=0;B<Math.min(this.additionalItems.length,Z.additionalItems.length);B++)if(this.additionalItems[B]&Z.additionalItems[B])return!0;return!1}}l.cache=new Array(129),l.empty=l.create(0,b);const z={getKey(E){return E}};class j{constructor(){this.items=new Map}getKey(Z){let B=this.items.get(Z);return B===void 0&&(B=this.items.size,this.items.set(Z,B)),B}}},6735:function(Yt,Ye,s){"use strict";s.d(Ye,{WU:function(){return Z},g:function(){return O},xH:function(){return B}});var b=s(17301),l=s(45797),z=s(41720),j=s(45035),E=s(61761);class Z{constructor(g,C,m,i,d){this.length=g,this.kind=C,this.bracketId=m,this.bracketIds=i,this.astNode=d}}class B{constructor(g,C){this.textModel=g,this.bracketTokens=C,this.reader=new H(this.textModel,this.bracketTokens),this._offset=j.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=g.getLineCount(),this.textBufferLastLineLength=g.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,j.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(g){this.didPeek=!1,this._offset=(0,j.Ii)(this._offset,g);const C=(0,j.Hw)(this._offset);this.reader.setPosition(C.lineCount,C.columnCount)}read(){let g;return this.peeked?(this.didPeek=!1,g=this.peeked):g=this.reader.read(),g&&(this._offset=(0,j.Ii)(this._offset,g.length)),g}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class H{constructor(g,C){this.textModel=g,this.bracketTokens=C,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=g.getLineCount(),this.textBufferLastLineLength=g.getLineLength(this.textBufferLineCount)}setPosition(g,C){g===this.lineIdx?(this.lineCharOffset=C,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=g,this.lineCharOffset=C,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const d=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,j.F_)(d.length),d}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const g=this.lineIdx,C=this.lineCharOffset;let m=0;for(;;){const d=this.lineTokens,_=d.getCount();let v=null;if(this.lineTokenOffset<_){const p=d.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<_&&p===d.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const L=l.N.getTokenType(p)===0,T=l.N.containsBalancedBrackets(p),M=d.getEndOffset(this.lineTokenOffset);if(T&&L&&this.lineCharOffset<M){const I=d.getLanguageId(this.lineTokenOffset),P=this.line.substring(this.lineCharOffset,M),V=this.bracketTokens.getSingleLanguageBracketTokens(I),$=V.regExpGlobal;if($){$.lastIndex=0;const re=$.exec(P);re&&(v=V.getToken(re[0]),v&&(this.lineCharOffset+=re.index))}}if(m+=M-this.lineCharOffset,v)if(g!==this.lineIdx||C!==this.lineCharOffset){this.peekedToken=v;break}else return this.lineCharOffset+=(0,j.F_)(v.length),v;else this.lineTokenOffset++,this.lineCharOffset=M}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,m+=33,m>1e3))break;if(m>1500)break}const i=(0,j.av)(g,C,this.lineIdx,this.lineCharOffset);return new Z(i,0,-1,E.tS.getEmpty(),new z.BH(i))}}class O{constructor(g,C){this.text=g,this._offset=j.xl,this.idx=0;const m=C.getRegExpStr(),i=m?new RegExp(m+`|
`,"gi"):null,d=[];let _,v=0,p=0,L=0,T=0;const M=new Array;for(let V=0;V<60;V++)M.push(new Z((0,j.Hg)(0,V),0,-1,E.tS.getEmpty(),new z.BH((0,j.Hg)(0,V))));const I=new Array;for(let V=0;V<60;V++)I.push(new Z((0,j.Hg)(1,V),0,-1,E.tS.getEmpty(),new z.BH((0,j.Hg)(1,V))));if(i)for(i.lastIndex=0;(_=i.exec(g))!==null;){const V=_.index,$=_[0];if($===`
`)v++,p=V+1;else{if(L!==V){let re;if(T===v){const ae=V-L;if(ae<M.length)re=M[ae];else{const ie=(0,j.Hg)(0,ae);re=new Z(ie,0,-1,E.tS.getEmpty(),new z.BH(ie))}}else{const ae=v-T,ie=V-p;if(ae===1&&ie<I.length)re=I[ie];else{const se=(0,j.Hg)(ae,ie);re=new Z(se,0,-1,E.tS.getEmpty(),new z.BH(se))}}d.push(re)}d.push(C.getToken($)),L=V+$.length,T=v}}const P=g.length;if(L!==P){const V=T===v?(0,j.Hg)(0,P-L):(0,j.Hg)(v-T,P-p);d.push(new Z(V,0,-1,E.tS.getEmpty(),new z.BH(V)))}this.length=(0,j.Hg)(v,P-p),this.tokens=d}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(g){throw new b.B8}}},95215:function(Yt,Ye,s){"use strict";s.d(Ye,{NL:function(){return i},e9:function(){return m}});var b=s(63580),l=s(17301),z=s(3860),j=s(70666),E=s(93033),Z=s(53060),B=s(95935);function H(d){return d.toString()}class O{constructor(_,v,p,L,T,M,I){this.beforeVersionId=_,this.afterVersionId=v,this.beforeEOL=p,this.afterEOL=L,this.beforeCursorState=T,this.afterCursorState=M,this.changes=I}static create(_,v){const p=_.getAlternativeVersionId(),L=C(_);return new O(p,p,L,L,v,v,[])}append(_,v,p,L,T){v.length>0&&(this.changes=(0,E.b)(this.changes,v)),this.afterEOL=p,this.afterVersionId=L,this.afterCursorState=T}static _writeSelectionsSize(_){return 4+4*4*(_?_.length:0)}static _writeSelections(_,v,p){if(Z.T4(_,v?v.length:0,p),p+=4,v)for(const L of v)Z.T4(_,L.selectionStartLineNumber,p),p+=4,Z.T4(_,L.selectionStartColumn,p),p+=4,Z.T4(_,L.positionLineNumber,p),p+=4,Z.T4(_,L.positionColumn,p),p+=4;return p}static _readSelections(_,v,p){const L=Z.Ag(_,v);v+=4;for(let T=0;T<L;T++){const M=Z.Ag(_,v);v+=4;const I=Z.Ag(_,v);v+=4;const P=Z.Ag(_,v);v+=4;const V=Z.Ag(_,v);v+=4,p.push(new z.Y(M,I,P,V))}return v}serialize(){let _=10+O._writeSelectionsSize(this.beforeCursorState)+O._writeSelectionsSize(this.afterCursorState)+4;for(const L of this.changes)_+=L.writeSize();const v=new Uint8Array(_);let p=0;Z.T4(v,this.beforeVersionId,p),p+=4,Z.T4(v,this.afterVersionId,p),p+=4,Z.Cg(v,this.beforeEOL,p),p+=1,Z.Cg(v,this.afterEOL,p),p+=1,p=O._writeSelections(v,this.beforeCursorState,p),p=O._writeSelections(v,this.afterCursorState,p),Z.T4(v,this.changes.length,p),p+=4;for(const L of this.changes)p=L.write(v,p);return v.buffer}static deserialize(_){const v=new Uint8Array(_);let p=0;const L=Z.Ag(v,p);p+=4;const T=Z.Ag(v,p);p+=4;const M=Z.Q$(v,p);p+=1;const I=Z.Q$(v,p);p+=1;const P=[];p=O._readSelections(v,p,P);const V=[];p=O._readSelections(v,p,V);const $=Z.Ag(v,p);p+=4;const re=[];for(let ae=0;ae<$;ae++)p=E.q.read(v,p,re);return new O(L,T,M,I,P,V,re)}}class y{constructor(_,v,p,L){this.label=_,this.code=v,this.model=p,this._data=O.create(p,L)}get type(){return 0}get resource(){return j.o.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof O?this._data:O.deserialize(this._data)).changes.map(v=>v.toString()).join(", ")}matchesResource(_){return(j.o.isUri(this.model)?this.model:this.model.uri).toString()===_.toString()}setModel(_){this.model=_}canAppend(_){return this.model===_&&this._data instanceof O}append(_,v,p,L,T){this._data instanceof O&&this._data.append(_,v,p,L,T)}close(){this._data instanceof O&&(this._data=this._data.serialize())}open(){this._data instanceof O||(this._data=O.deserialize(this._data))}undo(){if(j.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof O&&(this._data=this._data.serialize());const _=O.deserialize(this._data);this.model._applyUndo(_.changes,_.beforeEOL,_.beforeVersionId,_.beforeCursorState)}redo(){if(j.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof O&&(this._data=this._data.serialize());const _=O.deserialize(this._data);this.model._applyRedo(_.changes,_.afterEOL,_.afterVersionId,_.afterCursorState)}heapSize(){return this._data instanceof O&&(this._data=this._data.serialize()),this._data.byteLength+168}}class g{constructor(_,v,p){this.label=_,this.code=v,this.type=1,this._isOpen=!0,this._editStackElementsArr=p.slice(0),this._editStackElementsMap=new Map;for(const L of this._editStackElementsArr){const T=H(L.resource);this._editStackElementsMap.set(T,L)}this._delegate=null}get resources(){return this._editStackElementsArr.map(_=>_.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(_){const v=H(_);return this._editStackElementsMap.has(v)}setModel(_){const v=H(j.o.isUri(_)?_:_.uri);this._editStackElementsMap.has(v)&&this._editStackElementsMap.get(v).setModel(_)}canAppend(_){if(!this._isOpen)return!1;const v=H(_.uri);return this._editStackElementsMap.has(v)?this._editStackElementsMap.get(v).canAppend(_):!1}append(_,v,p,L,T){const M=H(_.uri);this._editStackElementsMap.get(M).append(_,v,p,L,T)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const _ of this._editStackElementsArr)_.undo()}redo(){for(const _ of this._editStackElementsArr)_.redo()}heapSize(_){const v=H(_);return this._editStackElementsMap.has(v)?this._editStackElementsMap.get(v).heapSize():0}split(){return this._editStackElementsArr}toString(){const _=[];for(const v of this._editStackElementsArr)_.push(`${(0,B.EZ)(v.resource)}: ${v}`);return`{${_.join(", ")}}`}}function C(d){return d.getEOL()===`
`?0:1}function m(d){return d?d instanceof y||d instanceof g:!1}class i{constructor(_,v){this._model=_,this._undoRedoService=v}pushStackElement(){const _=this._undoRedoService.getLastElement(this._model.uri);m(_)&&_.close()}popStackElement(){const _=this._undoRedoService.getLastElement(this._model.uri);m(_)&&_.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(_){const v=this._undoRedoService.getLastElement(this._model.uri);if(m(v)&&v.canAppend(this._model))return v;const p=new y(b.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,_);return this._undoRedoService.pushElement(p),p}pushEOL(_){const v=this._getOrCreateEditStackElement(null);this._model.setEOL(_),v.append(this._model,[],C(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(_,v,p){const L=this._getOrCreateEditStackElement(_),T=this._model.applyEdits(v,!0),M=i._computeCursorState(p,T),I=T.map((P,V)=>({index:V,textChange:P.textChange}));return I.sort((P,V)=>P.textChange.oldPosition===V.textChange.oldPosition?P.index-V.index:P.textChange.oldPosition-V.textChange.oldPosition),L.append(this._model,I.map(P=>P.textChange),C(this._model),this._model.getAlternativeVersionId(),M),M}static _computeCursorState(_,v){try{return _?_(v):null}catch(p){return(0,l.dL)(p),null}}}},1516:function(Yt,Ye,s){"use strict";s.d(Ye,{W:function(){return O},l:function(){return H}});var b=s(9488),l=s(97295),z=s(7988),j=s(24314),E=s(94954),Z=s(59616),B=s(65094);class H extends E.U{constructor(g,C){super(),this.textModel=g,this.languageConfigurationService=C}getLanguageConfiguration(g){return this.languageConfigurationService.getLanguageConfiguration(g)}_computeIndentLevel(g){return(0,Z.q)(this.textModel.getLineContent(g+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(g,C,m){this.assertNotDisposed();const i=this.textModel.getLineCount();if(g<1||g>i)throw new Error("Illegal value for lineNumber");const d=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,_=!!(d&&d.offSide);let v=-2,p=-1,L=-2,T=-1;const M=F=>{if(v!==-1&&(v===-2||v>F-1)){v=-1,p=-1;for(let te=F-2;te>=0;te--){const W=this._computeIndentLevel(te);if(W>=0){v=te,p=W;break}}}if(L===-2){L=-1,T=-1;for(let te=F;te<i;te++){const W=this._computeIndentLevel(te);if(W>=0){L=te,T=W;break}}}};let I=-2,P=-1,V=-2,$=-1;const re=F=>{if(I===-2){I=-1,P=-1;for(let te=F-2;te>=0;te--){const W=this._computeIndentLevel(te);if(W>=0){I=te,P=W;break}}}if(V!==-1&&(V===-2||V<F-1)){V=-1,$=-1;for(let te=F;te<i;te++){const W=this._computeIndentLevel(te);if(W>=0){V=te,$=W;break}}}};let ae=0,ie=!0,se=0,X=!0,ne=0,Q=0;for(let F=0;ie||X;F++){const te=g-F,W=g+F;F>1&&(te<1||te<C)&&(ie=!1),F>1&&(W>i||W>m)&&(X=!1),F>5e4&&(ie=!1,X=!1);let G=-1;if(ie&&te>=1){const me=this._computeIndentLevel(te-1);me>=0?(L=te-1,T=me,G=Math.ceil(me/this.textModel.getOptions().indentSize)):(M(te),G=this._getIndentLevelForWhitespaceLine(_,p,T))}let q=-1;if(X&&W<=i){const me=this._computeIndentLevel(W-1);me>=0?(I=W-1,P=me,q=Math.ceil(me/this.textModel.getOptions().indentSize)):(re(W),q=this._getIndentLevelForWhitespaceLine(_,P,$))}if(F===0){Q=G;continue}if(F===1){if(W<=i&&q>=0&&Q+1===q){ie=!1,ae=W,se=W,ne=q;continue}if(te>=1&&G>=0&&G-1===Q){X=!1,ae=te,se=te,ne=G;continue}if(ae=g,se=g,ne=Q,ne===0)return{startLineNumber:ae,endLineNumber:se,indent:ne}}ie&&(G>=ne?ae=te:ie=!1),X&&(q>=ne?se=W:X=!1)}return{startLineNumber:ae,endLineNumber:se,indent:ne}}getLinesBracketGuides(g,C,m,i){var d;const _=[];for(let I=g;I<=C;I++)_.push([]);const v=!0,p=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new j.e(g,1,C,this.textModel.getLineMaxColumn(C)));let L;if(m&&p.length>0){const I=(g<=m.lineNumber&&m.lineNumber<=C?p:this.textModel.bracketPairs.getBracketPairsInRange(j.e.fromPositions(m))).filter(P=>j.e.strictContainsPosition(P.range,m));L=(d=(0,b.dF)(I,P=>v||P.range.startLineNumber!==P.range.endLineNumber))===null||d===void 0?void 0:d.range}const T=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,M=new O;for(const I of p){if(!I.closingBracketRange)continue;const P=L&&I.range.equalsRange(L);if(!P&&!i.includeInactive)continue;const V=M.getInlineClassName(I.nestingLevel,I.nestingLevelOfEqualBracketType,T)+(i.highlightActive&&P?" "+M.activeClassName:""),$=I.openingBracketRange.getStartPosition(),re=I.closingBracketRange.getStartPosition(),ae=i.horizontalGuides===B.s6.Enabled||i.horizontalGuides===B.s6.EnabledForActive&&P;if(I.range.startLineNumber===I.range.endLineNumber){v&&ae&&_[I.range.startLineNumber-g].push(new B.UO(-1,I.openingBracketRange.getEndPosition().column,V,new B.vW(!1,re.column),-1,-1));continue}const ie=this.getVisibleColumnFromPosition(re),se=this.getVisibleColumnFromPosition(I.openingBracketRange.getStartPosition()),X=Math.min(se,ie,I.minVisibleColumnIndentation+1);let ne=!1;l.LC(this.textModel.getLineContent(I.closingBracketRange.startLineNumber))<I.closingBracketRange.startColumn-1&&(ne=!0);const te=Math.max($.lineNumber,g),W=Math.min(re.lineNumber,C),G=ne?1:0;for(let q=te;q<W+G;q++)_[q-g].push(new B.UO(X,-1,V,null,q===$.lineNumber?$.column:-1,q===re.lineNumber?re.column:-1));ae&&($.lineNumber>=g&&se>X&&_[$.lineNumber-g].push(new B.UO(X,-1,V,new B.vW(!1,$.column),-1,-1)),re.lineNumber<=C&&ie>X&&_[re.lineNumber-g].push(new B.UO(X,-1,V,new B.vW(!ne,re.column),-1,-1)))}for(const I of _)I.sort((P,V)=>P.visibleColumn-V.visibleColumn);return _}getVisibleColumnFromPosition(g){return z.i.visibleColumnFromColumn(this.textModel.getLineContent(g.lineNumber),g.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(g,C){this.assertNotDisposed();const m=this.textModel.getLineCount();if(g<1||g>m)throw new Error("Illegal value for startLineNumber");if(C<1||C>m)throw new Error("Illegal value for endLineNumber");const i=this.textModel.getOptions(),d=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,_=!!(d&&d.offSide),v=new Array(C-g+1);let p=-2,L=-1,T=-2,M=-1;for(let I=g;I<=C;I++){const P=I-g,V=this._computeIndentLevel(I-1);if(V>=0){p=I-1,L=V,v[P]=Math.ceil(V/i.indentSize);continue}if(p===-2){p=-1,L=-1;for(let $=I-2;$>=0;$--){const re=this._computeIndentLevel($);if(re>=0){p=$,L=re;break}}}if(T!==-1&&(T===-2||T<I-1)){T=-1,M=-1;for(let $=I;$<m;$++){const re=this._computeIndentLevel($);if(re>=0){T=$,M=re;break}}}v[P]=this._getIndentLevelForWhitespaceLine(_,L,M)}return v}_getIndentLevelForWhitespaceLine(g,C,m){const i=this.textModel.getOptions();return C===-1||m===-1?0:C<m?1+Math.floor(C/i.indentSize):C===m||g?Math.ceil(m/i.indentSize):1+Math.floor(m/i.indentSize)}}class O{constructor(){this.activeClassName="indent-active"}getInlineClassName(g,C,m){return this.getInlineClassNameOfLevel(m?C:g)}getInlineClassNameOfLevel(g){return`bracket-indent-guide lvl-${g%30}`}}},90310:function(Yt,Ye,s){"use strict";s.d(Ye,{Ck:function(){return j},oQ:function(){return z}});var b=s(9488),l=s(85427);class z{constructor(B){this.values=B,this.prefixSum=new Uint32Array(B.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(B,H){B=(0,l.A)(B);const O=this.values,y=this.prefixSum,g=H.length;return g===0?!1:(this.values=new Uint32Array(O.length+g),this.values.set(O.subarray(0,B),0),this.values.set(O.subarray(B),B+g),this.values.set(H,B),B-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=B-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(y.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(B,H){return B=(0,l.A)(B),H=(0,l.A)(H),this.values[B]===H?!1:(this.values[B]=H,B-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=B-1),!0)}removeValues(B,H){B=(0,l.A)(B),H=(0,l.A)(H);const O=this.values,y=this.prefixSum;if(B>=O.length)return!1;const g=O.length-B;return H>=g&&(H=g),H===0?!1:(this.values=new Uint32Array(O.length-H),this.values.set(O.subarray(0,B),0),this.values.set(O.subarray(B+H),B),this.prefixSum=new Uint32Array(this.values.length),B-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=B-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(y.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(B){return B<0?0:(B=(0,l.A)(B),this._getPrefixSum(B))}_getPrefixSum(B){if(B<=this.prefixSumValidIndex[0])return this.prefixSum[B];let H=this.prefixSumValidIndex[0]+1;H===0&&(this.prefixSum[0]=this.values[0],H++),B>=this.values.length&&(B=this.values.length-1);for(let O=H;O<=B;O++)this.prefixSum[O]=this.prefixSum[O-1]+this.values[O];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],B),this.prefixSum[B]}getIndexOf(B){B=Math.floor(B),this.getTotalSum();let H=0,O=this.values.length-1,y=0,g=0,C=0;for(;H<=O;)if(y=H+(O-H)/2|0,g=this.prefixSum[y],C=g-this.values[y],B<C)O=y-1;else if(B>=g)H=y+1;else break;return new E(y,B-C)}}class j{constructor(B){this._values=B,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(B){return this._ensureValid(),B===0?0:this._prefixSum[B-1]}getIndexOf(B){this._ensureValid();const H=this._indexBySum[B],O=H>0?this._prefixSum[H-1]:0;return new E(H,B-O)}removeValues(B,H){this._values.splice(B,H),this._invalidate(B)}insertValues(B,H){this._values=(0,b.Zv)(this._values,B,H),this._invalidate(B)}_invalidate(B){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,B-1)}_ensureValid(){if(!this._isValid){for(let B=this._validEndIndex+1,H=this._values.length;B<H;B++){const O=this._values[B],y=B>0?this._prefixSum[B-1]:0;this._prefixSum[B]=y+O;for(let g=0;g<O;g++)this._indexBySum[y+g]=B}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(B,H){this._values[B]!==H&&(this._values[B]=H,this._invalidate(B))}}class E{constructor(B,H){this.index=B,this.remainder=H,this._prefixSumIndexOfResultBrand=void 0,this.index=B,this.remainder=H}}},22529:function(Yt,Ye,s){"use strict";s.d(Ye,{HS:function(){return yi},qx:function(){return $i},yO:function(){return Mn}});var b=s(9488),l=s(41264),z=s(17301),j=s(4669),E=s(5976),Z=s(97295),B=s(70666),H=s(23795),O=s(83158),y=s(50187),g=s(24314),C=s(3860),m=s(22075),i=s(72042),d=s(4256),_=s(84973);class v{constructor(D,k,c,R){this.range=D,this.nestingLevel=k,this.nestingLevelOfEqualBracketType=c,this.isInvalid=R}}class p{constructor(D,k,c,R,Y,ge){this.range=D,this.openingBracketRange=k,this.closingBracketRange=c,this.nestingLevel=R,this.nestingLevelOfEqualBracketType=Y,this.bracketPairNode=ge}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class L extends p{constructor(D,k,c,R,Y,ge,Oe){super(D,k,c,R,Y,ge),this.minVisibleColumnIndentation=Oe}}var T=s(2442),M=s(35382),I=s(45035),P=s(64837),V=s(61761),$=s(6735);class re extends E.JT{constructor(D,k){if(super(),this.textModel=D,this.getLanguageConfiguration=k,this.didChangeEmitter=new j.Q5,this.denseKeyProvider=new V.FE,this.brackets=new M.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,D.tokenization.backgroundTokenizationState===0){const c=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),R=new $.g(this.textModel.getValue(),c);this.initialAstWithoutTokens=(0,P.w)(R,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else D.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):D.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(D){return this.brackets.didLanguageChange(D)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const D=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,D||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:D}){const k=D.map(c=>new T.Q((0,I.Hg)(c.fromLineNumber-1,0),(0,I.Hg)(c.toLineNumber,0),(0,I.Hg)(c.toLineNumber-c.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(k,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(D){const k=D.changes.map(c=>{const R=g.e.lift(c.range);return new T.Q((0,I.PZ)(R.getStartPosition()),(0,I.PZ)(R.getEndPosition()),(0,I.oR)(c.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(k,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(k,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(D,k,c){const Y=k,ge=new $.xH(this.textModel,this.brackets);return(0,P.w)(ge,D,Y,c)}getBracketsInRange(D){const k=(0,I.Hg)(D.startLineNumber-1,D.startColumn-1),c=(0,I.Hg)(D.endLineNumber-1,D.endColumn-1),R=new Array,Y=this.initialAstWithoutTokens||this.astWithTokens;return se(Y,I.xl,Y.length,k,c,R,0,new Map),R}getBracketPairsInRange(D,k){const c=new Array,R=(0,I.PZ)(D.getStartPosition()),Y=(0,I.PZ)(D.getEndPosition()),ge=this.initialAstWithoutTokens||this.astWithTokens,Oe=new X(c,k,this.textModel);return ne(ge,I.xl,ge.length,R,Y,Oe,0,new Map),c}getFirstBracketAfter(D){const k=this.initialAstWithoutTokens||this.astWithTokens;return ie(k,I.xl,k.length,(0,I.PZ)(D))}getFirstBracketBefore(D){const k=this.initialAstWithoutTokens||this.astWithTokens;return ae(k,I.xl,k.length,(0,I.PZ)(D))}}function ae(Et,D,k,c){if(Et.kind===4||Et.kind===2){const R=[];for(const Y of Et.children)k=(0,I.Ii)(D,Y.length),R.push({nodeOffsetStart:D,nodeOffsetEnd:k}),D=k;for(let Y=R.length-1;Y>=0;Y--){const{nodeOffsetStart:ge,nodeOffsetEnd:Oe}=R[Y];if((0,I.VR)(ge,c)){const Ue=ae(Et.children[Y],ge,Oe,c);if(Ue)return Ue}}return null}else{if(Et.kind===3)return null;if(Et.kind===1){const R=(0,I.Qw)(D,k);return{bracketInfo:Et.bracketInfo,range:R}}}return null}function ie(Et,D,k,c){if(Et.kind===4||Et.kind===2){for(const R of Et.children){if(k=(0,I.Ii)(D,R.length),(0,I.VR)(c,k)){const Y=ie(R,D,k,c);if(Y)return Y}D=k}return null}else{if(Et.kind===3)return null;if(Et.kind===1){const R=(0,I.Qw)(D,k);return{bracketInfo:Et.bracketInfo,range:R}}}return null}function se(Et,D,k,c,R,Y,ge,Oe){if(!(ge>200)){if(Et.kind===4)for(const Ue of Et.children)k=(0,I.Ii)(D,Ue.length),(0,I.By)(D,R)&&(0,I.Zq)(k,c)&&se(Ue,D,k,c,R,Y,ge,Oe),D=k;else if(Et.kind===2){let Ue=0;if(Oe){let rt=Oe.get(Et.openingBracket.text);rt===void 0&&(rt=0),Ue=rt,rt++,Oe.set(Et.openingBracket.text,rt)}{const rt=Et.openingBracket;if(k=(0,I.Ii)(D,rt.length),(0,I.By)(D,R)&&(0,I.Zq)(k,c)){const ct=(0,I.Qw)(D,k);Y.push(new v(ct,ge,Ue,!Et.closingBracket))}D=k}if(Et.child){const rt=Et.child;k=(0,I.Ii)(D,rt.length),(0,I.By)(D,R)&&(0,I.Zq)(k,c)&&se(rt,D,k,c,R,Y,ge+1,Oe),D=k}if(Et.closingBracket){const rt=Et.closingBracket;if(k=(0,I.Ii)(D,rt.length),(0,I.By)(D,R)&&(0,I.Zq)(k,c)){const ct=(0,I.Qw)(D,k);Y.push(new v(ct,ge,Ue,!1))}D=k}Oe?.set(Et.openingBracket.text,Ue)}else if(Et.kind===3){const Ue=(0,I.Qw)(D,k);Y.push(new v(Ue,ge-1,0,!0))}else if(Et.kind===1){const Ue=(0,I.Qw)(D,k);Y.push(new v(Ue,ge-1,0,!1))}}}class X{constructor(D,k,c){this.result=D,this.includeMinIndentation=k,this.textModel=c}}function ne(Et,D,k,c,R,Y,ge,Oe){var Ue;if(!(ge>200))if(Et.kind===2){let rt=0;if(Oe){let Bt=Oe.get(Et.openingBracket.text);Bt===void 0&&(Bt=0),rt=Bt,Bt++,Oe.set(Et.openingBracket.text,Bt)}const ct=(0,I.Ii)(D,Et.openingBracket.length);let Tt=-1;if(Y.includeMinIndentation&&(Tt=Et.computeMinIndentation(D,Y.textModel)),Y.result.push(new L((0,I.Qw)(D,k),(0,I.Qw)(D,ct),Et.closingBracket?(0,I.Qw)((0,I.Ii)(ct,((Ue=Et.child)===null||Ue===void 0?void 0:Ue.length)||I.xl),k):void 0,ge,rt,Et,Tt)),D=ct,Et.child){const Bt=Et.child;k=(0,I.Ii)(D,Bt.length),(0,I.By)(D,R)&&(0,I.Zq)(k,c)&&ne(Bt,D,k,c,R,Y,ge+1,Oe)}Oe?.set(Et.openingBracket.text,rt)}else{let rt=D;for(const ct of Et.children){const Tt=rt;rt=(0,I.Ii)(rt,ct.length),(0,I.By)(Tt,R)&&(0,I.By)(c,rt)&&ne(ct,Tt,rt,c,R,Y,ge,Oe)}}}var Q=s(19111),F=s(34302);class te extends E.JT{constructor(D,k){super(),this.textModel=D,this.languageConfigurationService=k,this.bracketPairsTree=this._register(new E.XK),this.onDidChangeEmitter=new j.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(c=>{var R;(!c.languageId||!((R=this.bracketPairsTree.value)===null||R===void 0)&&R.object.didLanguageChange(c.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(D){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(D){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(D){var k;(k=this.bracketPairsTree.value)===null||k===void 0||k.object.handleContentChanged(D)}handleDidChangeBackgroundTokenizationState(){var D;(D=this.bracketPairsTree.value)===null||D===void 0||D.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(D){var k;(k=this.bracketPairsTree.value)===null||k===void 0||k.object.handleDidChangeTokens(D)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const D=new E.SL;this.bracketPairsTree.value=W(D.add(new re(this.textModel,k=>this.languageConfigurationService.getLanguageConfiguration(k))),D),D.add(this.bracketPairsTree.value.object.onDidChange(k=>this.onDidChangeEmitter.fire(k))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(D){var k;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((k=this.bracketPairsTree.value)===null||k===void 0?void 0:k.object.getBracketPairsInRange(D,!1))||[]}getBracketPairsInRangeWithMinIndentation(D){var k;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((k=this.bracketPairsTree.value)===null||k===void 0?void 0:k.object.getBracketPairsInRange(D,!0))||[]}getBracketsInRange(D){var k;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((k=this.bracketPairsTree.value)===null||k===void 0?void 0:k.object.getBracketsInRange(D))||[]}findMatchingBracketUp(D,k,c){const R=this.textModel.validatePosition(k),Y=this.textModel.getLanguageIdAtPosition(R.lineNumber,R.column);if(this.canBuildAST){const ge=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew.getClosingBracketInfo(D);if(!ge)return null;const Oe=(0,b.dF)(this.getBracketPairsInRange(g.e.fromPositions(k,k))||[],Ue=>ge.closes(Ue.openingBracketInfo));return Oe?Oe.openingBracketRange:null}else{const ge=D.toLowerCase(),Oe=this.languageConfigurationService.getLanguageConfiguration(Y).brackets;if(!Oe)return null;const Ue=Oe.textIsBracket[ge];return Ue?me(this._findMatchingBracketUp(Ue,R,G(c))):null}}matchBracket(D,k){if(this.canBuildAST){const c=(0,b.jV)(this.getBracketPairsInRange(g.e.fromPositions(D,D)).filter(R=>R.closingBracketRange!==void 0&&(R.openingBracketRange.containsPosition(D)||R.closingBracketRange.containsPosition(D))),(0,b.tT)(R=>R.openingBracketRange.containsPosition(D)?R.openingBracketRange:R.closingBracketRange,g.e.compareRangesUsingStarts));return c?[c.openingBracketRange,c.closingBracketRange]:null}else{const c=G(k);return this._matchBracket(this.textModel.validatePosition(D),c)}}_establishBracketSearchOffsets(D,k,c,R){const Y=k.getCount(),ge=k.getLanguageId(R);let Oe=Math.max(0,D.column-1-c.maxBracketLength);for(let rt=R-1;rt>=0;rt--){const ct=k.getEndOffset(rt);if(ct<=Oe)break;if((0,Q.Bu)(k.getStandardTokenType(rt))||k.getLanguageId(rt)!==ge){Oe=ct;break}}let Ue=Math.min(k.getLineContent().length,D.column-1+c.maxBracketLength);for(let rt=R+1;rt<Y;rt++){const ct=k.getStartOffset(rt);if(ct>=Ue)break;if((0,Q.Bu)(k.getStandardTokenType(rt))||k.getLanguageId(rt)!==ge){Ue=ct;break}}return{searchStartOffset:Oe,searchEndOffset:Ue}}_matchBracket(D,k){const c=D.lineNumber,R=this.textModel.tokenization.getLineTokens(c),Y=this.textModel.getLineContent(c),ge=R.findTokenIndexAtOffset(D.column-1);if(ge<0)return null;const Oe=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId(ge)).brackets;if(Oe&&!(0,Q.Bu)(R.getStandardTokenType(ge))){let{searchStartOffset:Ue,searchEndOffset:rt}=this._establishBracketSearchOffsets(D,R,Oe,ge),ct=null;for(;;){const Tt=F.Vr.findNextBracketInRange(Oe.forwardRegex,c,Y,Ue,rt);if(!Tt)break;if(Tt.startColumn<=D.column&&D.column<=Tt.endColumn){const Bt=Y.substring(Tt.startColumn-1,Tt.endColumn-1).toLowerCase(),Kt=this._matchFoundBracket(Tt,Oe.textIsBracket[Bt],Oe.textIsOpenBracket[Bt],k);if(Kt){if(Kt instanceof q)return null;ct=Kt}}Ue=Tt.endColumn-1}if(ct)return ct}if(ge>0&&R.getStartOffset(ge)===D.column-1){const Ue=ge-1,rt=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId(Ue)).brackets;if(rt&&!(0,Q.Bu)(R.getStandardTokenType(Ue))){const{searchStartOffset:ct,searchEndOffset:Tt}=this._establishBracketSearchOffsets(D,R,rt,Ue),Bt=F.Vr.findPrevBracketInRange(rt.reversedRegex,c,Y,ct,Tt);if(Bt&&Bt.startColumn<=D.column&&D.column<=Bt.endColumn){const Kt=Y.substring(Bt.startColumn-1,Bt.endColumn-1).toLowerCase(),hi=this._matchFoundBracket(Bt,rt.textIsBracket[Kt],rt.textIsOpenBracket[Kt],k);if(hi)return hi instanceof q?null:hi}}}return null}_matchFoundBracket(D,k,c,R){if(!k)return null;const Y=c?this._findMatchingBracketDown(k,D.getEndPosition(),R):this._findMatchingBracketUp(k,D.getStartPosition(),R);return Y?Y instanceof q?Y:[D,Y]:null}_findMatchingBracketUp(D,k,c){const R=D.languageId,Y=D.reversedRegex;let ge=-1,Oe=0;const Ue=(rt,ct,Tt,Bt)=>{for(;;){if(c&&++Oe%100===0&&!c())return q.INSTANCE;const Kt=F.Vr.findPrevBracketInRange(Y,rt,ct,Tt,Bt);if(!Kt)break;const hi=ct.substring(Kt.startColumn-1,Kt.endColumn-1).toLowerCase();if(D.isOpen(hi)?ge++:D.isClose(hi)&&ge--,ge===0)return Kt;Bt=Kt.startColumn-1}return null};for(let rt=k.lineNumber;rt>=1;rt--){const ct=this.textModel.tokenization.getLineTokens(rt),Tt=ct.getCount(),Bt=this.textModel.getLineContent(rt);let Kt=Tt-1,hi=Bt.length,di=Bt.length;rt===k.lineNumber&&(Kt=ct.findTokenIndexAtOffset(k.column-1),hi=k.column-1,di=k.column-1);let fi=!0;for(;Kt>=0;Kt--){const Ei=ct.getLanguageId(Kt)===R&&!(0,Q.Bu)(ct.getStandardTokenType(Kt));if(Ei)fi?hi=ct.getStartOffset(Kt):(hi=ct.getStartOffset(Kt),di=ct.getEndOffset(Kt));else if(fi&&hi!==di){const Bi=Ue(rt,Bt,hi,di);if(Bi)return Bi}fi=Ei}if(fi&&hi!==di){const Ei=Ue(rt,Bt,hi,di);if(Ei)return Ei}}return null}_findMatchingBracketDown(D,k,c){const R=D.languageId,Y=D.forwardRegex;let ge=1,Oe=0;const Ue=(ct,Tt,Bt,Kt)=>{for(;;){if(c&&++Oe%100===0&&!c())return q.INSTANCE;const hi=F.Vr.findNextBracketInRange(Y,ct,Tt,Bt,Kt);if(!hi)break;const di=Tt.substring(hi.startColumn-1,hi.endColumn-1).toLowerCase();if(D.isOpen(di)?ge++:D.isClose(di)&&ge--,ge===0)return hi;Bt=hi.endColumn-1}return null},rt=this.textModel.getLineCount();for(let ct=k.lineNumber;ct<=rt;ct++){const Tt=this.textModel.tokenization.getLineTokens(ct),Bt=Tt.getCount(),Kt=this.textModel.getLineContent(ct);let hi=0,di=0,fi=0;ct===k.lineNumber&&(hi=Tt.findTokenIndexAtOffset(k.column-1),di=k.column-1,fi=k.column-1);let Ei=!0;for(;hi<Bt;hi++){const Bi=Tt.getLanguageId(hi)===R&&!(0,Q.Bu)(Tt.getStandardTokenType(hi));if(Bi)Ei||(di=Tt.getStartOffset(hi)),fi=Tt.getEndOffset(hi);else if(Ei&&di!==fi){const Qi=Ue(ct,Kt,di,fi);if(Qi)return Qi}Ei=Bi}if(Ei&&di!==fi){const Bi=Ue(ct,Kt,di,fi);if(Bi)return Bi}}return null}findPrevBracket(D){var k;const c=this.textModel.validatePosition(D);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((k=this.bracketPairsTree.value)===null||k===void 0?void 0:k.object.getFirstBracketBefore(c))||null;let R=null,Y=null,ge=null;for(let Oe=c.lineNumber;Oe>=1;Oe--){const Ue=this.textModel.tokenization.getLineTokens(Oe),rt=Ue.getCount(),ct=this.textModel.getLineContent(Oe);let Tt=rt-1,Bt=ct.length,Kt=ct.length;if(Oe===c.lineNumber){Tt=Ue.findTokenIndexAtOffset(c.column-1),Bt=c.column-1,Kt=c.column-1;const di=Ue.getLanguageId(Tt);R!==di&&(R=di,Y=this.languageConfigurationService.getLanguageConfiguration(R).brackets,ge=this.languageConfigurationService.getLanguageConfiguration(R).bracketsNew)}let hi=!0;for(;Tt>=0;Tt--){const di=Ue.getLanguageId(Tt);if(R!==di){if(Y&&ge&&hi&&Bt!==Kt){const Ei=F.Vr.findPrevBracketInRange(Y.reversedRegex,Oe,ct,Bt,Kt);if(Ei)return this._toFoundBracket(ge,Ei);hi=!1}R=di,Y=this.languageConfigurationService.getLanguageConfiguration(R).brackets,ge=this.languageConfigurationService.getLanguageConfiguration(R).bracketsNew}const fi=!!Y&&!(0,Q.Bu)(Ue.getStandardTokenType(Tt));if(fi)hi?Bt=Ue.getStartOffset(Tt):(Bt=Ue.getStartOffset(Tt),Kt=Ue.getEndOffset(Tt));else if(ge&&Y&&hi&&Bt!==Kt){const Ei=F.Vr.findPrevBracketInRange(Y.reversedRegex,Oe,ct,Bt,Kt);if(Ei)return this._toFoundBracket(ge,Ei)}hi=fi}if(ge&&Y&&hi&&Bt!==Kt){const di=F.Vr.findPrevBracketInRange(Y.reversedRegex,Oe,ct,Bt,Kt);if(di)return this._toFoundBracket(ge,di)}}return null}findNextBracket(D){var k;const c=this.textModel.validatePosition(D);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((k=this.bracketPairsTree.value)===null||k===void 0?void 0:k.object.getFirstBracketAfter(c))||null;const R=this.textModel.getLineCount();let Y=null,ge=null,Oe=null;for(let Ue=c.lineNumber;Ue<=R;Ue++){const rt=this.textModel.tokenization.getLineTokens(Ue),ct=rt.getCount(),Tt=this.textModel.getLineContent(Ue);let Bt=0,Kt=0,hi=0;if(Ue===c.lineNumber){Bt=rt.findTokenIndexAtOffset(c.column-1),Kt=c.column-1,hi=c.column-1;const fi=rt.getLanguageId(Bt);Y!==fi&&(Y=fi,ge=this.languageConfigurationService.getLanguageConfiguration(Y).brackets,Oe=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew)}let di=!0;for(;Bt<ct;Bt++){const fi=rt.getLanguageId(Bt);if(Y!==fi){if(Oe&&ge&&di&&Kt!==hi){const Bi=F.Vr.findNextBracketInRange(ge.forwardRegex,Ue,Tt,Kt,hi);if(Bi)return this._toFoundBracket(Oe,Bi);di=!1}Y=fi,ge=this.languageConfigurationService.getLanguageConfiguration(Y).brackets,Oe=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew}const Ei=!!ge&&!(0,Q.Bu)(rt.getStandardTokenType(Bt));if(Ei)di||(Kt=rt.getStartOffset(Bt)),hi=rt.getEndOffset(Bt);else if(Oe&&ge&&di&&Kt!==hi){const Bi=F.Vr.findNextBracketInRange(ge.forwardRegex,Ue,Tt,Kt,hi);if(Bi)return this._toFoundBracket(Oe,Bi)}di=Ei}if(Oe&&ge&&di&&Kt!==hi){const fi=F.Vr.findNextBracketInRange(ge.forwardRegex,Ue,Tt,Kt,hi);if(fi)return this._toFoundBracket(Oe,fi)}}return null}findEnclosingBrackets(D,k){const c=this.textModel.validatePosition(D);if(this.canBuildAST){const Kt=g.e.fromPositions(c),hi=(0,b.dF)(this.getBracketPairsInRange(g.e.fromPositions(c,c)),di=>di.closingBracketRange!==void 0&&di.range.strictContainsRange(Kt));return hi?[hi.openingBracketRange,hi.closingBracketRange]:null}const R=G(k),Y=this.textModel.getLineCount(),ge=new Map;let Oe=[];const Ue=(Kt,hi)=>{if(!ge.has(Kt)){const di=[];for(let fi=0,Ei=hi?hi.brackets.length:0;fi<Ei;fi++)di[fi]=0;ge.set(Kt,di)}Oe=ge.get(Kt)};let rt=0;const ct=(Kt,hi,di,fi,Ei)=>{for(;;){if(R&&++rt%100===0&&!R())return q.INSTANCE;const Bi=F.Vr.findNextBracketInRange(Kt.forwardRegex,hi,di,fi,Ei);if(!Bi)break;const Qi=di.substring(Bi.startColumn-1,Bi.endColumn-1).toLowerCase(),In=Kt.textIsBracket[Qi];if(In&&(In.isOpen(Qi)?Oe[In.index]++:In.isClose(Qi)&&Oe[In.index]--,Oe[In.index]===-1))return this._matchFoundBracket(Bi,In,!1,R);fi=Bi.endColumn-1}return null};let Tt=null,Bt=null;for(let Kt=c.lineNumber;Kt<=Y;Kt++){const hi=this.textModel.tokenization.getLineTokens(Kt),di=hi.getCount(),fi=this.textModel.getLineContent(Kt);let Ei=0,Bi=0,Qi=0;if(Kt===c.lineNumber){Ei=hi.findTokenIndexAtOffset(c.column-1),Bi=c.column-1,Qi=c.column-1;const Gn=hi.getLanguageId(Ei);Tt!==Gn&&(Tt=Gn,Bt=this.languageConfigurationService.getLanguageConfiguration(Tt).brackets,Ue(Tt,Bt))}let In=!0;for(;Ei<di;Ei++){const Gn=hi.getLanguageId(Ei);if(Tt!==Gn){if(Bt&&In&&Bi!==Qi){const Qn=ct(Bt,Kt,fi,Bi,Qi);if(Qn)return me(Qn);In=!1}Tt=Gn,Bt=this.languageConfigurationService.getLanguageConfiguration(Tt).brackets,Ue(Tt,Bt)}const ts=!!Bt&&!(0,Q.Bu)(hi.getStandardTokenType(Ei));if(ts)In||(Bi=hi.getStartOffset(Ei)),Qi=hi.getEndOffset(Ei);else if(Bt&&In&&Bi!==Qi){const Qn=ct(Bt,Kt,fi,Bi,Qi);if(Qn)return me(Qn)}In=ts}if(Bt&&In&&Bi!==Qi){const Gn=ct(Bt,Kt,fi,Bi,Qi);if(Gn)return me(Gn)}}return null}_toFoundBracket(D,k){if(!k)return null;let c=this.textModel.getValueInRange(k);c=c.toLowerCase();const R=D.getBracketInfo(c);return R?{range:k,bracketInfo:R}:null}}function W(Et,D){return{object:Et,dispose:()=>D?.dispose()}}function G(Et){if(typeof Et>"u")return()=>!0;{const D=Date.now();return()=>Date.now()-D<=Et}}class q{constructor(){this._searchCanceledBrand=void 0}}q.INSTANCE=new q;function me(Et){return Et instanceof q?null:Et}var w=s(8625),we=s(97781);class xe extends E.JT{constructor(D){super(),this.textModel=D,this.colorProvider=new Ne,this.onDidChangeEmitter=new j.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=D.getOptions().bracketPairColorizationOptions,this._register(D.bracketPairs.onDidChange(k=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(D){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(D,k,c){if(k===void 0)return[];if(!this.colorizationOptions.enabled)return[];const R=new Array,Y=this.textModel.bracketPairs.getBracketsInRange(D);for(const ge of Y)R.push({id:`bracket${ge.range.toString()}-${ge.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(ge,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:ge.range});return R}getAllDecorations(D,k){return D===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new g.e(1,1,this.textModel.getLineCount(),1),D,k):[]}}class Ne{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(D,k){return D.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(k?D.nestingLevelOfEqualBracketType:D.nestingLevel)}getInlineClassNameOfLevel(D){return`bracket-highlighting-${D%30}`}}(0,we.Ic)((Et,D)=>{const k=[w.zJ,w.Vs,w.CE,w.UP,w.r0,w.m1],c=new Ne;D.addRule(`.monaco-editor .${c.unexpectedClosingBracketClassName} { color: ${Et.getColor(w.ts)}; }`);const R=k.map(Y=>Et.getColor(Y)).filter(Y=>!!Y).filter(Y=>!Y.isTransparent());for(let Y=0;Y<30;Y++){const ge=R[Y%R.length];D.addRule(`.monaco-editor .${c.getInlineClassNameOfLevel(Y)} { color: ${ge}; }`)}});var Ve=s(95215),Ce=s(1516);class Ae{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function $e(Et,D,k,c,R){R.spacesDiff=0,R.looksLikeAlignment=!1;let Y;for(Y=0;Y<D&&Y<c;Y++){const Bt=Et.charCodeAt(Y),Kt=k.charCodeAt(Y);if(Bt!==Kt)break}let ge=0,Oe=0;for(let Bt=Y;Bt<D;Bt++)Et.charCodeAt(Bt)===32?ge++:Oe++;let Ue=0,rt=0;for(let Bt=Y;Bt<c;Bt++)k.charCodeAt(Bt)===32?Ue++:rt++;if(ge>0&&Oe>0||Ue>0&&rt>0)return;const ct=Math.abs(Oe-rt),Tt=Math.abs(ge-Ue);if(ct===0){R.spacesDiff=Tt,Tt>0&&0<=Ue-1&&Ue-1<Et.length&&Ue<k.length&&k.charCodeAt(Ue)!==32&&Et.charCodeAt(Ue-1)===32&&Et.charCodeAt(Et.length-1)===44&&(R.looksLikeAlignment=!0);return}if(Tt%ct===0){R.spacesDiff=Tt/ct;return}}function je(Et,D,k){const c=Math.min(Et.getLineCount(),1e4);let R=0,Y=0,ge="",Oe=0;const Ue=[2,4,6,8,3,5,7],rt=8,ct=[0,0,0,0,0,0,0,0,0],Tt=new Ae;for(let hi=1;hi<=c;hi++){const di=Et.getLineLength(hi),fi=Et.getLineContent(hi),Ei=di<=65536;let Bi=!1,Qi=0,In=0,Gn=0;for(let Qn=0,ws=di;Qn<ws;Qn++){const mn=Ei?fi.charCodeAt(Qn):Et.getLineCharCode(hi,Qn);if(mn===9)Gn++;else if(mn===32)In++;else{Bi=!0,Qi=Qn;break}}if(!Bi||(Gn>0?R++:In>1&&Y++,$e(ge,Oe,fi,Qi,Tt),Tt.looksLikeAlignment&&!(k&&D===Tt.spacesDiff)))continue;const ts=Tt.spacesDiff;ts<=rt&&ct[ts]++,ge=fi,Oe=Qi}let Bt=k;R!==Y&&(Bt=R<Y);let Kt=D;if(Bt){let hi=Bt?0:.1*c;Ue.forEach(di=>{const fi=ct[di];fi>hi&&(hi=fi,Kt=di)}),Kt===4&&ct[4]>0&&ct[2]>0&&ct[2]>=ct[4]/2&&(Kt=2)}return{insertSpaces:Bt,tabSize:Kt}}function at(Et){return(Et.metadata&1)>>>0}function pt(Et,D){Et.metadata=Et.metadata&254|D<<0}function bt(Et){return(Et.metadata&2)>>>1===1}function We(Et,D){Et.metadata=Et.metadata&253|(D?1:0)<<1}function it(Et){return(Et.metadata&4)>>>2===1}function pe(Et,D){Et.metadata=Et.metadata&251|(D?1:0)<<2}function ye(Et){return(Et.metadata&24)>>>3}function ft(Et,D){Et.metadata=Et.metadata&231|D<<3}function Xt(Et){return(Et.metadata&32)>>>5===1}function qt(Et,D){Et.metadata=Et.metadata&223|(D?1:0)<<5}class Ft{constructor(D,k,c){this.metadata=0,this.parent=this,this.left=this,this.right=this,pt(this,1),this.start=k,this.end=c,this.delta=0,this.maxEnd=c,this.id=D,this.ownerId=0,this.options=null,pe(this,!1),ft(this,1),qt(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=k,this.cachedAbsoluteEnd=c,this.range=null,We(this,!1)}reset(D,k,c,R){this.start=k,this.end=c,this.maxEnd=c,this.cachedVersionId=D,this.cachedAbsoluteStart=k,this.cachedAbsoluteEnd=c,this.range=R}setOptions(D){this.options=D;const k=this.options.className;pe(this,k==="squiggly-error"||k==="squiggly-warning"||k==="squiggly-info"),ft(this,this.options.stickiness),qt(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(D,k,c){this.cachedVersionId!==c&&(this.range=null),this.cachedVersionId=c,this.cachedAbsoluteStart=D,this.cachedAbsoluteEnd=k}detach(){this.parent=null,this.left=null,this.right=null}}const Ot=new Ft(null,0,0);Ot.parent=Ot,Ot.left=Ot,Ot.right=Ot,pt(Ot,0);class Mt{constructor(){this.root=Ot,this.requestNormalizeDelta=!1}intervalSearch(D,k,c,R,Y){return this.root===Ot?[]:Be(this,D,k,c,R,Y)}search(D,k,c){return this.root===Ot?[]:Nt(this,D,k,c)}collectNodesFromOwner(D){return Ke(this,D)}collectNodesPostOrder(){return ut(this)}insert(D){Ze(this,D),this._normalizeDeltaIfNecessary()}delete(D){$t(this,D),this._normalizeDeltaIfNecessary()}resolveNode(D,k){const c=D;let R=0;for(;D!==this.root;)D===D.parent.right&&(R+=D.parent.delta),D=D.parent;const Y=c.start+R,ge=c.end+R;c.setCachedOffsets(Y,ge,k)}acceptReplace(D,k,c,R){const Y=Ge(this,D,D+k);for(let ge=0,Oe=Y.length;ge<Oe;ge++){const Ue=Y[ge];$t(this,Ue)}this._normalizeDeltaIfNecessary(),Te(this,D,D+k,c),this._normalizeDeltaIfNecessary();for(let ge=0,Oe=Y.length;ge<Oe;ge++){const Ue=Y[ge];Ue.start=Ue.cachedAbsoluteStart,Ue.end=Ue.cachedAbsoluteEnd,Fe(Ue,D,D+k,c,R),Ue.maxEnd=Ue.end,Ze(this,Ue)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,ni(this))}}function ni(Et){let D=Et.root,k=0;for(;D!==Ot;){if(D.left!==Ot&&!bt(D.left)){D=D.left;continue}if(D.right!==Ot&&!bt(D.right)){k+=D.delta,D=D.right;continue}D.start=k+D.start,D.end=k+D.end,D.delta=0,mi(D),We(D,!0),We(D.left,!1),We(D.right,!1),D===D.parent.right&&(k-=D.parent.delta),D=D.parent}We(Et.root,!1)}function Gt(Et,D,k,c){return Et<k?!0:Et>k||c===1?!1:c===2?!0:D}function Fe(Et,D,k,c,R){const Y=ye(Et),ge=Y===0||Y===2,Oe=Y===1||Y===2,Ue=k-D,rt=c,ct=Math.min(Ue,rt),Tt=Et.start;let Bt=!1;const Kt=Et.end;let hi=!1;D<=Tt&&Kt<=k&&Xt(Et)&&(Et.start=D,Bt=!0,Et.end=D,hi=!0);{const fi=R?1:Ue>0?2:0;!Bt&&Gt(Tt,ge,D,fi)&&(Bt=!0),!hi&&Gt(Kt,Oe,D,fi)&&(hi=!0)}if(ct>0&&!R){const fi=Ue>rt?2:0;!Bt&&Gt(Tt,ge,D+ct,fi)&&(Bt=!0),!hi&&Gt(Kt,Oe,D+ct,fi)&&(hi=!0)}{const fi=R?1:0;!Bt&&Gt(Tt,ge,k,fi)&&(Et.start=D+rt,Bt=!0),!hi&&Gt(Kt,Oe,k,fi)&&(Et.end=D+rt,hi=!0)}const di=rt-Ue;Bt||(Et.start=Math.max(0,Tt+di)),hi||(Et.end=Math.max(0,Kt+di)),Et.start>Et.end&&(Et.end=Et.start)}function Ge(Et,D,k){let c=Et.root,R=0,Y=0,ge=0,Oe=0;const Ue=[];let rt=0;for(;c!==Ot;){if(bt(c)){We(c.left,!1),We(c.right,!1),c===c.parent.right&&(R-=c.parent.delta),c=c.parent;continue}if(!bt(c.left)){if(Y=R+c.maxEnd,Y<D){We(c,!0);continue}if(c.left!==Ot){c=c.left;continue}}if(ge=R+c.start,ge>k){We(c,!0);continue}if(Oe=R+c.end,Oe>=D&&(c.setCachedOffsets(ge,Oe,0),Ue[rt++]=c),We(c,!0),c.right!==Ot&&!bt(c.right)){R+=c.delta,c=c.right;continue}}return We(Et.root,!1),Ue}function Te(Et,D,k,c){let R=Et.root,Y=0,ge=0,Oe=0;const Ue=c-(k-D);for(;R!==Ot;){if(bt(R)){We(R.left,!1),We(R.right,!1),R===R.parent.right&&(Y-=R.parent.delta),mi(R),R=R.parent;continue}if(!bt(R.left)){if(ge=Y+R.maxEnd,ge<D){We(R,!0);continue}if(R.left!==Ot){R=R.left;continue}}if(Oe=Y+R.start,Oe>k){R.start+=Ue,R.end+=Ue,R.delta+=Ue,(R.delta<-1073741824||R.delta>1073741824)&&(Et.requestNormalizeDelta=!0),We(R,!0);continue}if(We(R,!0),R.right!==Ot&&!bt(R.right)){Y+=R.delta,R=R.right;continue}}We(Et.root,!1)}function Ke(Et,D){let k=Et.root;const c=[];let R=0;for(;k!==Ot;){if(bt(k)){We(k.left,!1),We(k.right,!1),k=k.parent;continue}if(k.left!==Ot&&!bt(k.left)){k=k.left;continue}if(k.ownerId===D&&(c[R++]=k),We(k,!0),k.right!==Ot&&!bt(k.right)){k=k.right;continue}}return We(Et.root,!1),c}function ut(Et){let D=Et.root;const k=[];let c=0;for(;D!==Ot;){if(bt(D)){We(D.left,!1),We(D.right,!1),D=D.parent;continue}if(D.left!==Ot&&!bt(D.left)){D=D.left;continue}if(D.right!==Ot&&!bt(D.right)){D=D.right;continue}k[c++]=D,We(D,!0)}return We(Et.root,!1),k}function Nt(Et,D,k,c){let R=Et.root,Y=0,ge=0,Oe=0;const Ue=[];let rt=0;for(;R!==Ot;){if(bt(R)){We(R.left,!1),We(R.right,!1),R===R.parent.right&&(Y-=R.parent.delta),R=R.parent;continue}if(R.left!==Ot&&!bt(R.left)){R=R.left;continue}ge=Y+R.start,Oe=Y+R.end,R.setCachedOffsets(ge,Oe,c);let ct=!0;if(D&&R.ownerId&&R.ownerId!==D&&(ct=!1),k&&it(R)&&(ct=!1),ct&&(Ue[rt++]=R),We(R,!0),R.right!==Ot&&!bt(R.right)){Y+=R.delta,R=R.right;continue}}return We(Et.root,!1),Ue}function Be(Et,D,k,c,R,Y){let ge=Et.root,Oe=0,Ue=0,rt=0,ct=0;const Tt=[];let Bt=0;for(;ge!==Ot;){if(bt(ge)){We(ge.left,!1),We(ge.right,!1),ge===ge.parent.right&&(Oe-=ge.parent.delta),ge=ge.parent;continue}if(!bt(ge.left)){if(Ue=Oe+ge.maxEnd,Ue<D){We(ge,!0);continue}if(ge.left!==Ot){ge=ge.left;continue}}if(rt=Oe+ge.start,rt>k){We(ge,!0);continue}if(ct=Oe+ge.end,ct>=D){ge.setCachedOffsets(rt,ct,Y);let Kt=!0;c&&ge.ownerId&&ge.ownerId!==c&&(Kt=!1),R&&it(ge)&&(Kt=!1),Kt&&(Tt[Bt++]=ge)}if(We(ge,!0),ge.right!==Ot&&!bt(ge.right)){Oe+=ge.delta,ge=ge.right;continue}}return We(Et.root,!1),Tt}function Ze(Et,D){if(Et.root===Ot)return D.parent=Ot,D.left=Ot,D.right=Ot,pt(D,0),Et.root=D,Et.root;wt(Et,D),jt(D.parent);let k=D;for(;k!==Et.root&&at(k.parent)===1;)if(k.parent===k.parent.parent.left){const c=k.parent.parent.right;at(c)===1?(pt(k.parent,0),pt(c,0),pt(k.parent.parent,1),k=k.parent.parent):(k===k.parent.right&&(k=k.parent,Zt(Et,k)),pt(k.parent,0),pt(k.parent.parent,1),Xe(Et,k.parent.parent))}else{const c=k.parent.parent.left;at(c)===1?(pt(k.parent,0),pt(c,0),pt(k.parent.parent,1),k=k.parent.parent):(k===k.parent.left&&(k=k.parent,Xe(Et,k)),pt(k.parent,0),pt(k.parent.parent,1),Zt(Et,k.parent.parent))}return pt(Et.root,0),D}function wt(Et,D){let k=0,c=Et.root;const R=D.start,Y=D.end;for(;;)if(ki(R,Y,c.start+k,c.end+k)<0)if(c.left===Ot){D.start-=k,D.end-=k,D.maxEnd-=k,c.left=D;break}else c=c.left;else if(c.right===Ot){D.start-=k+c.delta,D.end-=k+c.delta,D.maxEnd-=k+c.delta,c.right=D;break}else k+=c.delta,c=c.right;D.parent=c,D.left=Ot,D.right=Ot,pt(D,1)}function $t(Et,D){let k,c;if(D.left===Ot?(k=D.right,c=D,k.delta+=D.delta,(k.delta<-1073741824||k.delta>1073741824)&&(Et.requestNormalizeDelta=!0),k.start+=D.delta,k.end+=D.delta):D.right===Ot?(k=D.left,c=D):(c=_t(D.right),k=c.right,k.start+=c.delta,k.end+=c.delta,k.delta+=c.delta,(k.delta<-1073741824||k.delta>1073741824)&&(Et.requestNormalizeDelta=!0),c.start+=D.delta,c.end+=D.delta,c.delta=D.delta,(c.delta<-1073741824||c.delta>1073741824)&&(Et.requestNormalizeDelta=!0)),c===Et.root){Et.root=k,pt(k,0),D.detach(),Jt(),mi(k),Et.root.parent=Ot;return}const R=at(c)===1;if(c===c.parent.left?c.parent.left=k:c.parent.right=k,c===D?k.parent=c.parent:(c.parent===D?k.parent=c:k.parent=c.parent,c.left=D.left,c.right=D.right,c.parent=D.parent,pt(c,at(D)),D===Et.root?Et.root=c:D===D.parent.left?D.parent.left=c:D.parent.right=c,c.left!==Ot&&(c.left.parent=c),c.right!==Ot&&(c.right.parent=c)),D.detach(),R){jt(k.parent),c!==D&&(jt(c),jt(c.parent)),Jt();return}jt(k),jt(k.parent),c!==D&&(jt(c),jt(c.parent));let Y;for(;k!==Et.root&&at(k)===0;)k===k.parent.left?(Y=k.parent.right,at(Y)===1&&(pt(Y,0),pt(k.parent,1),Zt(Et,k.parent),Y=k.parent.right),at(Y.left)===0&&at(Y.right)===0?(pt(Y,1),k=k.parent):(at(Y.right)===0&&(pt(Y.left,0),pt(Y,1),Xe(Et,Y),Y=k.parent.right),pt(Y,at(k.parent)),pt(k.parent,0),pt(Y.right,0),Zt(Et,k.parent),k=Et.root)):(Y=k.parent.left,at(Y)===1&&(pt(Y,0),pt(k.parent,1),Xe(Et,k.parent),Y=k.parent.left),at(Y.left)===0&&at(Y.right)===0?(pt(Y,1),k=k.parent):(at(Y.left)===0&&(pt(Y.right,0),pt(Y,1),Zt(Et,Y),Y=k.parent.left),pt(Y,at(k.parent)),pt(k.parent,0),pt(Y.left,0),Xe(Et,k.parent),k=Et.root));pt(k,0),Jt()}function _t(Et){for(;Et.left!==Ot;)Et=Et.left;return Et}function Jt(){Ot.parent=Ot,Ot.delta=0,Ot.start=0,Ot.end=0}function Zt(Et,D){const k=D.right;k.delta+=D.delta,(k.delta<-1073741824||k.delta>1073741824)&&(Et.requestNormalizeDelta=!0),k.start+=D.delta,k.end+=D.delta,D.right=k.left,k.left!==Ot&&(k.left.parent=D),k.parent=D.parent,D.parent===Ot?Et.root=k:D===D.parent.left?D.parent.left=k:D.parent.right=k,k.left=D,D.parent=k,mi(D),mi(k)}function Xe(Et,D){const k=D.left;D.delta-=k.delta,(D.delta<-1073741824||D.delta>1073741824)&&(Et.requestNormalizeDelta=!0),D.start-=k.delta,D.end-=k.delta,D.left=k.right,k.right!==Ot&&(k.right.parent=D),k.parent=D.parent,D.parent===Ot?Et.root=k:D===D.parent.right?D.parent.right=k:D.parent.left=k,k.right=D,D.parent=k,mi(D),mi(k)}function Lt(Et){let D=Et.end;if(Et.left!==Ot){const k=Et.left.maxEnd;k>D&&(D=k)}if(Et.right!==Ot){const k=Et.right.maxEnd+Et.delta;k>D&&(D=k)}return D}function mi(Et){Et.maxEnd=Lt(Et)}function jt(Et){for(;Et!==Ot;){const D=Lt(Et);if(Et.maxEnd===D)return;Et.maxEnd=D,Et=Et.parent}}function ki(Et,D,k,c){return Et===k?D-c:Et-k}class Pi{constructor(D,k){this.piece=D,this.color=k,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==gt)return St(this.right);let D=this;for(;D.parent!==gt&&D.parent.left!==D;)D=D.parent;return D.parent===gt?gt:D.parent}prev(){if(this.left!==gt)return ii(this.left);let D=this;for(;D.parent!==gt&&D.parent.right!==D;)D=D.parent;return D.parent===gt?gt:D.parent}detach(){this.parent=null,this.left=null,this.right=null}}const gt=new Pi(null,0);gt.parent=gt,gt.left=gt,gt.right=gt,gt.color=0;function St(Et){for(;Et.left!==gt;)Et=Et.left;return Et}function ii(Et){for(;Et.right!==gt;)Et=Et.right;return Et}function Ri(Et){return Et===gt?0:Et.size_left+Et.piece.length+Ri(Et.right)}function Di(Et){return Et===gt?0:Et.lf_left+Et.piece.lineFeedCnt+Di(Et.right)}function Vi(){gt.parent=gt}function Ci(Et,D){const k=D.right;k.size_left+=D.size_left+(D.piece?D.piece.length:0),k.lf_left+=D.lf_left+(D.piece?D.piece.lineFeedCnt:0),D.right=k.left,k.left!==gt&&(k.left.parent=D),k.parent=D.parent,D.parent===gt?Et.root=k:D.parent.left===D?D.parent.left=k:D.parent.right=k,k.left=D,D.parent=k}function Wt(Et,D){const k=D.left;D.left=k.right,k.right!==gt&&(k.right.parent=D),k.parent=D.parent,D.size_left-=k.size_left+(k.piece?k.piece.length:0),D.lf_left-=k.lf_left+(k.piece?k.piece.lineFeedCnt:0),D.parent===gt?Et.root=k:D===D.parent.right?D.parent.right=k:D.parent.left=k,k.right=D,D.parent=k}function vt(Et,D){let k,c;if(D.left===gt?(c=D,k=c.right):D.right===gt?(c=D,k=c.left):(c=St(D.right),k=c.right),c===Et.root){Et.root=k,k.color=0,D.detach(),Vi(),Et.root.parent=gt;return}const R=c.color===1;if(c===c.parent.left?c.parent.left=k:c.parent.right=k,c===D?(k.parent=c.parent,Le(Et,k)):(c.parent===D?k.parent=c:k.parent=c.parent,Le(Et,k),c.left=D.left,c.right=D.right,c.parent=D.parent,c.color=D.color,D===Et.root?Et.root=c:D===D.parent.left?D.parent.left=c:D.parent.right=c,c.left!==gt&&(c.left.parent=c),c.right!==gt&&(c.right.parent=c),c.size_left=D.size_left,c.lf_left=D.lf_left,Le(Et,c)),D.detach(),k.parent.left===k){const ge=Ri(k),Oe=Di(k);if(ge!==k.parent.size_left||Oe!==k.parent.lf_left){const Ue=ge-k.parent.size_left,rt=Oe-k.parent.lf_left;k.parent.size_left=ge,k.parent.lf_left=Oe,Ee(Et,k.parent,Ue,rt)}}if(Le(Et,k.parent),R){Vi();return}let Y;for(;k!==Et.root&&k.color===0;)k===k.parent.left?(Y=k.parent.right,Y.color===1&&(Y.color=0,k.parent.color=1,Ci(Et,k.parent),Y=k.parent.right),Y.left.color===0&&Y.right.color===0?(Y.color=1,k=k.parent):(Y.right.color===0&&(Y.left.color=0,Y.color=1,Wt(Et,Y),Y=k.parent.right),Y.color=k.parent.color,k.parent.color=0,Y.right.color=0,Ci(Et,k.parent),k=Et.root)):(Y=k.parent.left,Y.color===1&&(Y.color=0,k.parent.color=1,Wt(Et,k.parent),Y=k.parent.left),Y.left.color===0&&Y.right.color===0?(Y.color=1,k=k.parent):(Y.left.color===0&&(Y.right.color=0,Y.color=1,Ci(Et,Y),Y=k.parent.left),Y.color=k.parent.color,k.parent.color=0,Y.left.color=0,Wt(Et,k.parent),k=Et.root));k.color=0,Vi()}function _e(Et,D){for(Le(Et,D);D!==Et.root&&D.parent.color===1;)if(D.parent===D.parent.parent.left){const k=D.parent.parent.right;k.color===1?(D.parent.color=0,k.color=0,D.parent.parent.color=1,D=D.parent.parent):(D===D.parent.right&&(D=D.parent,Ci(Et,D)),D.parent.color=0,D.parent.parent.color=1,Wt(Et,D.parent.parent))}else{const k=D.parent.parent.left;k.color===1?(D.parent.color=0,k.color=0,D.parent.parent.color=1,D=D.parent.parent):(D===D.parent.left&&(D=D.parent,Wt(Et,D)),D.parent.color=0,D.parent.parent.color=1,Ci(Et,D.parent.parent))}Et.root.color=0}function Ee(Et,D,k,c){for(;D!==Et.root&&D!==gt;)D.parent.left===D&&(D.parent.size_left+=k,D.parent.lf_left+=c),D=D.parent}function Le(Et,D){let k=0,c=0;if(D!==Et.root){for(;D!==Et.root&&D===D.parent.right;)D=D.parent;if(D!==Et.root)for(D=D.parent,k=Ri(D.left)-D.size_left,c=Di(D.left)-D.lf_left,D.size_left+=k,D.lf_left+=c;D!==Et.root&&(k!==0||c!==0);)D.parent.left===D&&(D.parent.size_left+=k,D.parent.lf_left+=c),D=D.parent}}var oe=s(77277);const he=65535;function Me(Et){let D;return Et[Et.length-1]<65536?D=new Uint16Array(Et.length):D=new Uint32Array(Et.length),D.set(Et,0),D}class ke{constructor(D,k,c,R,Y){this.lineStarts=D,this.cr=k,this.lf=c,this.crlf=R,this.isBasicASCII=Y}}function Je(Et,D=!0){const k=[0];let c=1;for(let R=0,Y=Et.length;R<Y;R++){const ge=Et.charCodeAt(R);ge===13?R+1<Y&&Et.charCodeAt(R+1)===10?(k[c++]=R+2,R++):k[c++]=R+1:ge===10&&(k[c++]=R+1)}return D?Me(k):k}function ot(Et,D){Et.length=0,Et[0]=0;let k=1,c=0,R=0,Y=0,ge=!0;for(let Ue=0,rt=D.length;Ue<rt;Ue++){const ct=D.charCodeAt(Ue);ct===13?Ue+1<rt&&D.charCodeAt(Ue+1)===10?(Y++,Et[k++]=Ue+2,Ue++):(c++,Et[k++]=Ue+1):ct===10?(R++,Et[k++]=Ue+1):ge&&ct!==9&&(ct<32||ct>126)&&(ge=!1)}const Oe=new ke(Me(Et),c,R,Y,ge);return Et.length=0,Oe}class ht{constructor(D,k,c,R,Y){this.bufferIndex=D,this.start=k,this.end=c,this.lineFeedCnt=R,this.length=Y}}class xt{constructor(D,k){this.buffer=D,this.lineStarts=k}}class nt{constructor(D,k){this._pieces=[],this._tree=D,this._BOM=k,this._index=0,D.root!==gt&&D.iterate(D.root,c=>(c!==gt&&this._pieces.push(c.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class It{constructor(D){this._limit=D,this._cache=[]}get(D){for(let k=this._cache.length-1;k>=0;k--){const c=this._cache[k];if(c.nodeStartOffset<=D&&c.nodeStartOffset+c.node.piece.length>=D)return c}return null}get2(D){for(let k=this._cache.length-1;k>=0;k--){const c=this._cache[k];if(c.nodeStartLineNumber&&c.nodeStartLineNumber<D&&c.nodeStartLineNumber+c.node.piece.lineFeedCnt>=D)return c}return null}set(D){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(D)}validate(D){let k=!1;const c=this._cache;for(let R=0;R<c.length;R++){const Y=c[R];if(Y.node.parent===null||Y.nodeStartOffset>=D){c[R]=null,k=!0;continue}}if(k){const R=[];for(const Y of c)Y!==null&&R.push(Y);this._cache=R}}}class Ht{constructor(D,k,c){this.create(D,k,c)}create(D,k,c){this._buffers=[new xt("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=gt,this._lineCnt=1,this._length=0,this._EOL=k,this._EOLLength=k.length,this._EOLNormalized=c;let R=null;for(let Y=0,ge=D.length;Y<ge;Y++)if(D[Y].buffer.length>0){D[Y].lineStarts||(D[Y].lineStarts=Je(D[Y].buffer));const Oe=new ht(Y+1,{line:0,column:0},{line:D[Y].lineStarts.length-1,column:D[Y].buffer.length-D[Y].lineStarts[D[Y].lineStarts.length-1]},D[Y].lineStarts.length-1,D[Y].buffer.length);this._buffers.push(D[Y]),R=this.rbInsertRight(R,Oe)}this._searchCache=new It(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(D){const k=he,c=k-Math.floor(k/3),R=c*2;let Y="",ge=0;const Oe=[];if(this.iterate(this.root,Ue=>{const rt=this.getNodeContent(Ue),ct=rt.length;if(ge<=c||ge+ct<R)return Y+=rt,ge+=ct,!0;const Tt=Y.replace(/\r\n|\r|\n/g,D);return Oe.push(new xt(Tt,Je(Tt))),Y=rt,ge=ct,!0}),ge>0){const Ue=Y.replace(/\r\n|\r|\n/g,D);Oe.push(new xt(Ue,Je(Ue)))}this.create(Oe,D,!0)}getEOL(){return this._EOL}setEOL(D){this._EOL=D,this._EOLLength=this._EOL.length,this.normalizeEOL(D)}createSnapshot(D){return new nt(this,D)}getOffsetAt(D,k){let c=0,R=this.root;for(;R!==gt;)if(R.left!==gt&&R.lf_left+1>=D)R=R.left;else if(R.lf_left+R.piece.lineFeedCnt+1>=D){c+=R.size_left;const Y=this.getAccumulatedValue(R,D-R.lf_left-2);return c+=Y+k-1}else D-=R.lf_left+R.piece.lineFeedCnt,c+=R.size_left+R.piece.length,R=R.right;return c}getPositionAt(D){D=Math.floor(D),D=Math.max(0,D);let k=this.root,c=0;const R=D;for(;k!==gt;)if(k.size_left!==0&&k.size_left>=D)k=k.left;else if(k.size_left+k.piece.length>=D){const Y=this.getIndexOf(k,D-k.size_left);if(c+=k.lf_left+Y.index,Y.index===0){const ge=this.getOffsetAt(c+1,1),Oe=R-ge;return new y.L(c+1,Oe+1)}return new y.L(c+1,Y.remainder+1)}else if(D-=k.size_left+k.piece.length,c+=k.lf_left+k.piece.lineFeedCnt,k.right===gt){const Y=this.getOffsetAt(c+1,1),ge=R-D-Y;return new y.L(c+1,ge+1)}else k=k.right;return new y.L(1,1)}getValueInRange(D,k){if(D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn)return"";const c=this.nodeAt2(D.startLineNumber,D.startColumn),R=this.nodeAt2(D.endLineNumber,D.endColumn),Y=this.getValueInRange2(c,R);return k?k!==this._EOL||!this._EOLNormalized?Y.replace(/\r\n|\r|\n/g,k):k===this.getEOL()&&this._EOLNormalized?Y:Y.replace(/\r\n|\r|\n/g,k):Y}getValueInRange2(D,k){if(D.node===k.node){const Oe=D.node,Ue=this._buffers[Oe.piece.bufferIndex].buffer,rt=this.offsetInBuffer(Oe.piece.bufferIndex,Oe.piece.start);return Ue.substring(rt+D.remainder,rt+k.remainder)}let c=D.node;const R=this._buffers[c.piece.bufferIndex].buffer,Y=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);let ge=R.substring(Y+D.remainder,Y+c.piece.length);for(c=c.next();c!==gt;){const Oe=this._buffers[c.piece.bufferIndex].buffer,Ue=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);if(c===k.node){ge+=Oe.substring(Ue,Ue+k.remainder);break}else ge+=Oe.substr(Ue,c.piece.length);c=c.next()}return ge}getLinesContent(){const D=[];let k=0,c="",R=!1;return this.iterate(this.root,Y=>{if(Y===gt)return!0;const ge=Y.piece;let Oe=ge.length;if(Oe===0)return!0;const Ue=this._buffers[ge.bufferIndex].buffer,rt=this._buffers[ge.bufferIndex].lineStarts,ct=ge.start.line,Tt=ge.end.line;let Bt=rt[ct]+ge.start.column;if(R&&(Ue.charCodeAt(Bt)===10&&(Bt++,Oe--),D[k++]=c,c="",R=!1,Oe===0))return!0;if(ct===Tt)return!this._EOLNormalized&&Ue.charCodeAt(Bt+Oe-1)===13?(R=!0,c+=Ue.substr(Bt,Oe-1)):c+=Ue.substr(Bt,Oe),!0;c+=this._EOLNormalized?Ue.substring(Bt,Math.max(Bt,rt[ct+1]-this._EOLLength)):Ue.substring(Bt,rt[ct+1]).replace(/(\r\n|\r|\n)$/,""),D[k++]=c;for(let Kt=ct+1;Kt<Tt;Kt++)c=this._EOLNormalized?Ue.substring(rt[Kt],rt[Kt+1]-this._EOLLength):Ue.substring(rt[Kt],rt[Kt+1]).replace(/(\r\n|\r|\n)$/,""),D[k++]=c;return!this._EOLNormalized&&Ue.charCodeAt(rt[Tt]+ge.end.column-1)===13?(R=!0,ge.end.column===0?k--:c=Ue.substr(rt[Tt],ge.end.column-1)):c=Ue.substr(rt[Tt],ge.end.column),!0}),R&&(D[k++]=c,c=""),D[k++]=c,D}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(D){return this._lastVisitedLine.lineNumber===D?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=D,D===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(D):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(D,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(D).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(D){if(D.remainder===D.node.piece.length){const k=D.node.next();if(!k)return 0;const c=this._buffers[k.piece.bufferIndex],R=this.offsetInBuffer(k.piece.bufferIndex,k.piece.start);return c.buffer.charCodeAt(R)}else{const k=this._buffers[D.node.piece.bufferIndex],R=this.offsetInBuffer(D.node.piece.bufferIndex,D.node.piece.start)+D.remainder;return k.buffer.charCodeAt(R)}}getLineCharCode(D,k){const c=this.nodeAt2(D,k+1);return this._getCharCode(c)}getLineLength(D){if(D===this.getLineCount()){const k=this.getOffsetAt(D,1);return this.getLength()-k}return this.getOffsetAt(D+1,1)-this.getOffsetAt(D,1)-this._EOLLength}findMatchesInNode(D,k,c,R,Y,ge,Oe,Ue,rt,ct,Tt){const Bt=this._buffers[D.piece.bufferIndex],Kt=this.offsetInBuffer(D.piece.bufferIndex,D.piece.start),hi=this.offsetInBuffer(D.piece.bufferIndex,Y),di=this.offsetInBuffer(D.piece.bufferIndex,ge);let fi;const Ei={line:0,column:0};let Bi,Qi;k._wordSeparators?(Bi=Bt.buffer.substring(hi,di),Qi=In=>In+hi,k.reset(0)):(Bi=Bt.buffer,Qi=In=>In,k.reset(hi));do if(fi=k.next(Bi),fi){if(Qi(fi.index)>=di)return ct;this.positionInBuffer(D,Qi(fi.index)-Kt,Ei);const In=this.getLineFeedCnt(D.piece.bufferIndex,Y,Ei),Gn=Ei.line===Y.line?Ei.column-Y.column+R:Ei.column+1,ts=Gn+fi[0].length;if(Tt[ct++]=(0,oe.iE)(new g.e(c+In,Gn,c+In,ts),fi,Ue),Qi(fi.index)+fi[0].length>=di||ct>=rt)return ct}while(fi);return ct}findMatchesLineByLine(D,k,c,R){const Y=[];let ge=0;const Oe=new oe.sz(k.wordSeparators,k.regex);let Ue=this.nodeAt2(D.startLineNumber,D.startColumn);if(Ue===null)return[];const rt=this.nodeAt2(D.endLineNumber,D.endColumn);if(rt===null)return[];let ct=this.positionInBuffer(Ue.node,Ue.remainder);const Tt=this.positionInBuffer(rt.node,rt.remainder);if(Ue.node===rt.node)return this.findMatchesInNode(Ue.node,Oe,D.startLineNumber,D.startColumn,ct,Tt,k,c,R,ge,Y),Y;let Bt=D.startLineNumber,Kt=Ue.node;for(;Kt!==rt.node;){const di=this.getLineFeedCnt(Kt.piece.bufferIndex,ct,Kt.piece.end);if(di>=1){const Ei=this._buffers[Kt.piece.bufferIndex].lineStarts,Bi=this.offsetInBuffer(Kt.piece.bufferIndex,Kt.piece.start),Qi=Ei[ct.line+di],In=Bt===D.startLineNumber?D.startColumn:1;if(ge=this.findMatchesInNode(Kt,Oe,Bt,In,ct,this.positionInBuffer(Kt,Qi-Bi),k,c,R,ge,Y),ge>=R)return Y;Bt+=di}const fi=Bt===D.startLineNumber?D.startColumn-1:0;if(Bt===D.endLineNumber){const Ei=this.getLineContent(Bt).substring(fi,D.endColumn-1);return ge=this._findMatchesInLine(k,Oe,Ei,D.endLineNumber,fi,ge,Y,c,R),Y}if(ge=this._findMatchesInLine(k,Oe,this.getLineContent(Bt).substr(fi),Bt,fi,ge,Y,c,R),ge>=R)return Y;Bt++,Ue=this.nodeAt2(Bt,1),Kt=Ue.node,ct=this.positionInBuffer(Ue.node,Ue.remainder)}if(Bt===D.endLineNumber){const di=Bt===D.startLineNumber?D.startColumn-1:0,fi=this.getLineContent(Bt).substring(di,D.endColumn-1);return ge=this._findMatchesInLine(k,Oe,fi,D.endLineNumber,di,ge,Y,c,R),Y}const hi=Bt===D.startLineNumber?D.startColumn:1;return ge=this.findMatchesInNode(rt.node,Oe,Bt,hi,ct,Tt,k,c,R,ge,Y),Y}_findMatchesInLine(D,k,c,R,Y,ge,Oe,Ue,rt){const ct=D.wordSeparators;if(!Ue&&D.simpleSearch){const Bt=D.simpleSearch,Kt=Bt.length,hi=c.length;let di=-Kt;for(;(di=c.indexOf(Bt,di+Kt))!==-1;)if((!ct||(0,oe.cM)(ct,c,hi,di,Kt))&&(Oe[ge++]=new _.tk(new g.e(R,di+1+Y,R,di+1+Kt+Y),null),ge>=rt))return ge;return ge}let Tt;k.reset(0);do if(Tt=k.next(c),Tt&&(Oe[ge++]=(0,oe.iE)(new g.e(R,Tt.index+1+Y,R,Tt.index+1+Tt[0].length+Y),Tt,Ue),ge>=rt))return ge;while(Tt);return ge}insert(D,k,c=!1){if(this._EOLNormalized=this._EOLNormalized&&c,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==gt){const{node:R,remainder:Y,nodeStartOffset:ge}=this.nodeAt(D),Oe=R.piece,Ue=Oe.bufferIndex,rt=this.positionInBuffer(R,Y);if(R.piece.bufferIndex===0&&Oe.end.line===this._lastChangeBufferPos.line&&Oe.end.column===this._lastChangeBufferPos.column&&ge+Oe.length===D&&k.length<he){this.appendToNode(R,k),this.computeBufferMetadata();return}if(ge===D)this.insertContentToNodeLeft(k,R),this._searchCache.validate(D);else if(ge+R.piece.length>D){const ct=[];let Tt=new ht(Oe.bufferIndex,rt,Oe.end,this.getLineFeedCnt(Oe.bufferIndex,rt,Oe.end),this.offsetInBuffer(Ue,Oe.end)-this.offsetInBuffer(Ue,rt));if(this.shouldCheckCRLF()&&this.endWithCR(k)&&this.nodeCharCodeAt(R,Y)===10){const di={line:Tt.start.line+1,column:0};Tt=new ht(Tt.bufferIndex,di,Tt.end,this.getLineFeedCnt(Tt.bufferIndex,di,Tt.end),Tt.length-1),k+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(k))if(this.nodeCharCodeAt(R,Y-1)===13){const di=this.positionInBuffer(R,Y-1);this.deleteNodeTail(R,di),k="\r"+k,R.piece.length===0&&ct.push(R)}else this.deleteNodeTail(R,rt);else this.deleteNodeTail(R,rt);const Bt=this.createNewPieces(k);Tt.length>0&&this.rbInsertRight(R,Tt);let Kt=R;for(let hi=0;hi<Bt.length;hi++)Kt=this.rbInsertRight(Kt,Bt[hi]);this.deleteNodes(ct)}else this.insertContentToNodeRight(k,R)}else{const R=this.createNewPieces(k);let Y=this.rbInsertLeft(null,R[0]);for(let ge=1;ge<R.length;ge++)Y=this.rbInsertRight(Y,R[ge])}this.computeBufferMetadata()}delete(D,k){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",k<=0||this.root===gt)return;const c=this.nodeAt(D),R=this.nodeAt(D+k),Y=c.node,ge=R.node;if(Y===ge){const Bt=this.positionInBuffer(Y,c.remainder),Kt=this.positionInBuffer(Y,R.remainder);if(c.nodeStartOffset===D){if(k===Y.piece.length){const hi=Y.next();vt(this,Y),this.validateCRLFWithPrevNode(hi),this.computeBufferMetadata();return}this.deleteNodeHead(Y,Kt),this._searchCache.validate(D),this.validateCRLFWithPrevNode(Y),this.computeBufferMetadata();return}if(c.nodeStartOffset+Y.piece.length===D+k){this.deleteNodeTail(Y,Bt),this.validateCRLFWithNextNode(Y),this.computeBufferMetadata();return}this.shrinkNode(Y,Bt,Kt),this.computeBufferMetadata();return}const Oe=[],Ue=this.positionInBuffer(Y,c.remainder);this.deleteNodeTail(Y,Ue),this._searchCache.validate(D),Y.piece.length===0&&Oe.push(Y);const rt=this.positionInBuffer(ge,R.remainder);this.deleteNodeHead(ge,rt),ge.piece.length===0&&Oe.push(ge);const ct=Y.next();for(let Bt=ct;Bt!==gt&&Bt!==ge;Bt=Bt.next())Oe.push(Bt);const Tt=Y.piece.length===0?Y.prev():Y;this.deleteNodes(Oe),this.validateCRLFWithNextNode(Tt),this.computeBufferMetadata()}insertContentToNodeLeft(D,k){const c=[];if(this.shouldCheckCRLF()&&this.endWithCR(D)&&this.startWithLF(k)){const ge=k.piece,Oe={line:ge.start.line+1,column:0},Ue=new ht(ge.bufferIndex,Oe,ge.end,this.getLineFeedCnt(ge.bufferIndex,Oe,ge.end),ge.length-1);k.piece=Ue,D+=`
`,Ee(this,k,-1,-1),k.piece.length===0&&c.push(k)}const R=this.createNewPieces(D);let Y=this.rbInsertLeft(k,R[R.length-1]);for(let ge=R.length-2;ge>=0;ge--)Y=this.rbInsertLeft(Y,R[ge]);this.validateCRLFWithPrevNode(Y),this.deleteNodes(c)}insertContentToNodeRight(D,k){this.adjustCarriageReturnFromNext(D,k)&&(D+=`
`);const c=this.createNewPieces(D),R=this.rbInsertRight(k,c[0]);let Y=R;for(let ge=1;ge<c.length;ge++)Y=this.rbInsertRight(Y,c[ge]);this.validateCRLFWithPrevNode(R)}positionInBuffer(D,k,c){const R=D.piece,Y=D.piece.bufferIndex,ge=this._buffers[Y].lineStarts,Ue=ge[R.start.line]+R.start.column+k;let rt=R.start.line,ct=R.end.line,Tt=0,Bt=0,Kt=0;for(;rt<=ct&&(Tt=rt+(ct-rt)/2|0,Kt=ge[Tt],Tt!==ct);)if(Bt=ge[Tt+1],Ue<Kt)ct=Tt-1;else if(Ue>=Bt)rt=Tt+1;else break;return c?(c.line=Tt,c.column=Ue-Kt,null):{line:Tt,column:Ue-Kt}}getLineFeedCnt(D,k,c){if(c.column===0)return c.line-k.line;const R=this._buffers[D].lineStarts;if(c.line===R.length-1)return c.line-k.line;const Y=R[c.line+1],ge=R[c.line]+c.column;if(Y>ge+1)return c.line-k.line;const Oe=ge-1;return this._buffers[D].buffer.charCodeAt(Oe)===13?c.line-k.line+1:c.line-k.line}offsetInBuffer(D,k){return this._buffers[D].lineStarts[k.line]+k.column}deleteNodes(D){for(let k=0;k<D.length;k++)vt(this,D[k])}createNewPieces(D){if(D.length>he){const ct=[];for(;D.length>he;){const Bt=D.charCodeAt(he-1);let Kt;Bt===13||Bt>=55296&&Bt<=56319?(Kt=D.substring(0,he-1),D=D.substring(he-1)):(Kt=D.substring(0,he),D=D.substring(he));const hi=Je(Kt);ct.push(new ht(this._buffers.length,{line:0,column:0},{line:hi.length-1,column:Kt.length-hi[hi.length-1]},hi.length-1,Kt.length)),this._buffers.push(new xt(Kt,hi))}const Tt=Je(D);return ct.push(new ht(this._buffers.length,{line:0,column:0},{line:Tt.length-1,column:D.length-Tt[Tt.length-1]},Tt.length-1,D.length)),this._buffers.push(new xt(D,Tt)),ct}let k=this._buffers[0].buffer.length;const c=Je(D,!1);let R=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===k&&k!==0&&this.startWithLF(D)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},R=this._lastChangeBufferPos;for(let ct=0;ct<c.length;ct++)c[ct]+=k+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(c.slice(1)),this._buffers[0].buffer+="_"+D,k+=1}else{if(k!==0)for(let ct=0;ct<c.length;ct++)c[ct]+=k;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(c.slice(1)),this._buffers[0].buffer+=D}const Y=this._buffers[0].buffer.length,ge=this._buffers[0].lineStarts.length-1,Oe=Y-this._buffers[0].lineStarts[ge],Ue={line:ge,column:Oe},rt=new ht(0,R,Ue,this.getLineFeedCnt(0,R,Ue),Y-k);return this._lastChangeBufferPos=Ue,[rt]}getLineRawContent(D,k=0){let c=this.root,R="";const Y=this._searchCache.get2(D);if(Y){c=Y.node;const ge=this.getAccumulatedValue(c,D-Y.nodeStartLineNumber-1),Oe=this._buffers[c.piece.bufferIndex].buffer,Ue=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);if(Y.nodeStartLineNumber+c.piece.lineFeedCnt===D)R=Oe.substring(Ue+ge,Ue+c.piece.length);else{const rt=this.getAccumulatedValue(c,D-Y.nodeStartLineNumber);return Oe.substring(Ue+ge,Ue+rt-k)}}else{let ge=0;const Oe=D;for(;c!==gt;)if(c.left!==gt&&c.lf_left>=D-1)c=c.left;else if(c.lf_left+c.piece.lineFeedCnt>D-1){const Ue=this.getAccumulatedValue(c,D-c.lf_left-2),rt=this.getAccumulatedValue(c,D-c.lf_left-1),ct=this._buffers[c.piece.bufferIndex].buffer,Tt=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);return ge+=c.size_left,this._searchCache.set({node:c,nodeStartOffset:ge,nodeStartLineNumber:Oe-(D-1-c.lf_left)}),ct.substring(Tt+Ue,Tt+rt-k)}else if(c.lf_left+c.piece.lineFeedCnt===D-1){const Ue=this.getAccumulatedValue(c,D-c.lf_left-2),rt=this._buffers[c.piece.bufferIndex].buffer,ct=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);R=rt.substring(ct+Ue,ct+c.piece.length);break}else D-=c.lf_left+c.piece.lineFeedCnt,ge+=c.size_left+c.piece.length,c=c.right}for(c=c.next();c!==gt;){const ge=this._buffers[c.piece.bufferIndex].buffer;if(c.piece.lineFeedCnt>0){const Oe=this.getAccumulatedValue(c,0),Ue=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);return R+=ge.substring(Ue,Ue+Oe-k),R}else{const Oe=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);R+=ge.substr(Oe,c.piece.length)}c=c.next()}return R}computeBufferMetadata(){let D=this.root,k=1,c=0;for(;D!==gt;)k+=D.lf_left+D.piece.lineFeedCnt,c+=D.size_left+D.piece.length,D=D.right;this._lineCnt=k,this._length=c,this._searchCache.validate(this._length)}getIndexOf(D,k){const c=D.piece,R=this.positionInBuffer(D,k),Y=R.line-c.start.line;if(this.offsetInBuffer(c.bufferIndex,c.end)-this.offsetInBuffer(c.bufferIndex,c.start)===k){const ge=this.getLineFeedCnt(D.piece.bufferIndex,c.start,R);if(ge!==Y)return{index:ge,remainder:0}}return{index:Y,remainder:R.column}}getAccumulatedValue(D,k){if(k<0)return 0;const c=D.piece,R=this._buffers[c.bufferIndex].lineStarts,Y=c.start.line+k+1;return Y>c.end.line?R[c.end.line]+c.end.column-R[c.start.line]-c.start.column:R[Y]-R[c.start.line]-c.start.column}deleteNodeTail(D,k){const c=D.piece,R=c.lineFeedCnt,Y=this.offsetInBuffer(c.bufferIndex,c.end),ge=k,Oe=this.offsetInBuffer(c.bufferIndex,ge),Ue=this.getLineFeedCnt(c.bufferIndex,c.start,ge),rt=Ue-R,ct=Oe-Y,Tt=c.length+ct;D.piece=new ht(c.bufferIndex,c.start,ge,Ue,Tt),Ee(this,D,ct,rt)}deleteNodeHead(D,k){const c=D.piece,R=c.lineFeedCnt,Y=this.offsetInBuffer(c.bufferIndex,c.start),ge=k,Oe=this.getLineFeedCnt(c.bufferIndex,ge,c.end),Ue=this.offsetInBuffer(c.bufferIndex,ge),rt=Oe-R,ct=Y-Ue,Tt=c.length+ct;D.piece=new ht(c.bufferIndex,ge,c.end,Oe,Tt),Ee(this,D,ct,rt)}shrinkNode(D,k,c){const R=D.piece,Y=R.start,ge=R.end,Oe=R.length,Ue=R.lineFeedCnt,rt=k,ct=this.getLineFeedCnt(R.bufferIndex,R.start,rt),Tt=this.offsetInBuffer(R.bufferIndex,k)-this.offsetInBuffer(R.bufferIndex,Y);D.piece=new ht(R.bufferIndex,R.start,rt,ct,Tt),Ee(this,D,Tt-Oe,ct-Ue);const Bt=new ht(R.bufferIndex,c,ge,this.getLineFeedCnt(R.bufferIndex,c,ge),this.offsetInBuffer(R.bufferIndex,ge)-this.offsetInBuffer(R.bufferIndex,c)),Kt=this.rbInsertRight(D,Bt);this.validateCRLFWithPrevNode(Kt)}appendToNode(D,k){this.adjustCarriageReturnFromNext(k,D)&&(k+=`
`);const c=this.shouldCheckCRLF()&&this.startWithLF(k)&&this.endWithCR(D),R=this._buffers[0].buffer.length;this._buffers[0].buffer+=k;const Y=Je(k,!1);for(let Kt=0;Kt<Y.length;Kt++)Y[Kt]+=R;if(c){const Kt=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:R-Kt}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Y.slice(1));const ge=this._buffers[0].lineStarts.length-1,Oe=this._buffers[0].buffer.length-this._buffers[0].lineStarts[ge],Ue={line:ge,column:Oe},rt=D.piece.length+k.length,ct=D.piece.lineFeedCnt,Tt=this.getLineFeedCnt(0,D.piece.start,Ue),Bt=Tt-ct;D.piece=new ht(D.piece.bufferIndex,D.piece.start,Ue,Tt,rt),this._lastChangeBufferPos=Ue,Ee(this,D,k.length,Bt)}nodeAt(D){let k=this.root;const c=this._searchCache.get(D);if(c)return{node:c.node,nodeStartOffset:c.nodeStartOffset,remainder:D-c.nodeStartOffset};let R=0;for(;k!==gt;)if(k.size_left>D)k=k.left;else if(k.size_left+k.piece.length>=D){R+=k.size_left;const Y={node:k,remainder:D-k.size_left,nodeStartOffset:R};return this._searchCache.set(Y),Y}else D-=k.size_left+k.piece.length,R+=k.size_left+k.piece.length,k=k.right;return null}nodeAt2(D,k){let c=this.root,R=0;for(;c!==gt;)if(c.left!==gt&&c.lf_left>=D-1)c=c.left;else if(c.lf_left+c.piece.lineFeedCnt>D-1){const Y=this.getAccumulatedValue(c,D-c.lf_left-2),ge=this.getAccumulatedValue(c,D-c.lf_left-1);return R+=c.size_left,{node:c,remainder:Math.min(Y+k-1,ge),nodeStartOffset:R}}else if(c.lf_left+c.piece.lineFeedCnt===D-1){const Y=this.getAccumulatedValue(c,D-c.lf_left-2);if(Y+k-1<=c.piece.length)return{node:c,remainder:Y+k-1,nodeStartOffset:R};k-=c.piece.length-Y;break}else D-=c.lf_left+c.piece.lineFeedCnt,R+=c.size_left+c.piece.length,c=c.right;for(c=c.next();c!==gt;){if(c.piece.lineFeedCnt>0){const Y=this.getAccumulatedValue(c,0),ge=this.offsetOfNode(c);return{node:c,remainder:Math.min(k-1,Y),nodeStartOffset:ge}}else if(c.piece.length>=k-1){const Y=this.offsetOfNode(c);return{node:c,remainder:k-1,nodeStartOffset:Y}}else k-=c.piece.length;c=c.next()}return null}nodeCharCodeAt(D,k){if(D.piece.lineFeedCnt<1)return-1;const c=this._buffers[D.piece.bufferIndex],R=this.offsetInBuffer(D.piece.bufferIndex,D.piece.start)+k;return c.buffer.charCodeAt(R)}offsetOfNode(D){if(!D)return 0;let k=D.size_left;for(;D!==this.root;)D.parent.right===D&&(k+=D.parent.size_left+D.parent.piece.length),D=D.parent;return k}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(D){if(typeof D=="string")return D.charCodeAt(0)===10;if(D===gt||D.piece.lineFeedCnt===0)return!1;const k=D.piece,c=this._buffers[k.bufferIndex].lineStarts,R=k.start.line,Y=c[R]+k.start.column;return R===c.length-1||c[R+1]>Y+1?!1:this._buffers[k.bufferIndex].buffer.charCodeAt(Y)===10}endWithCR(D){return typeof D=="string"?D.charCodeAt(D.length-1)===13:D===gt||D.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(D,D.piece.length-1)===13}validateCRLFWithPrevNode(D){if(this.shouldCheckCRLF()&&this.startWithLF(D)){const k=D.prev();this.endWithCR(k)&&this.fixCRLF(k,D)}}validateCRLFWithNextNode(D){if(this.shouldCheckCRLF()&&this.endWithCR(D)){const k=D.next();this.startWithLF(k)&&this.fixCRLF(D,k)}}fixCRLF(D,k){const c=[],R=this._buffers[D.piece.bufferIndex].lineStarts;let Y;D.piece.end.column===0?Y={line:D.piece.end.line-1,column:R[D.piece.end.line]-R[D.piece.end.line-1]-1}:Y={line:D.piece.end.line,column:D.piece.end.column-1};const ge=D.piece.length-1,Oe=D.piece.lineFeedCnt-1;D.piece=new ht(D.piece.bufferIndex,D.piece.start,Y,Oe,ge),Ee(this,D,-1,-1),D.piece.length===0&&c.push(D);const Ue={line:k.piece.start.line+1,column:0},rt=k.piece.length-1,ct=this.getLineFeedCnt(k.piece.bufferIndex,Ue,k.piece.end);k.piece=new ht(k.piece.bufferIndex,Ue,k.piece.end,ct,rt),Ee(this,k,-1,-1),k.piece.length===0&&c.push(k);const Tt=this.createNewPieces(`\r
`);this.rbInsertRight(D,Tt[0]);for(let Bt=0;Bt<c.length;Bt++)vt(this,c[Bt])}adjustCarriageReturnFromNext(D,k){if(this.shouldCheckCRLF()&&this.endWithCR(D)){const c=k.next();if(this.startWithLF(c)){if(D+=`
`,c.piece.length===1)vt(this,c);else{const R=c.piece,Y={line:R.start.line+1,column:0},ge=R.length-1,Oe=this.getLineFeedCnt(R.bufferIndex,Y,R.end);c.piece=new ht(R.bufferIndex,Y,R.end,Oe,ge),Ee(this,c,-1,-1)}return!0}}return!1}iterate(D,k){if(D===gt)return k(gt);const c=this.iterate(D.left,k);return c&&k(D)&&this.iterate(D.right,k)}getNodeContent(D){if(D===gt)return"";const k=this._buffers[D.piece.bufferIndex],c=D.piece,R=this.offsetInBuffer(c.bufferIndex,c.start),Y=this.offsetInBuffer(c.bufferIndex,c.end);return k.buffer.substring(R,Y)}getPieceContent(D){const k=this._buffers[D.bufferIndex],c=this.offsetInBuffer(D.bufferIndex,D.start),R=this.offsetInBuffer(D.bufferIndex,D.end);return k.buffer.substring(c,R)}rbInsertRight(D,k){const c=new Pi(k,1);if(c.left=gt,c.right=gt,c.parent=gt,c.size_left=0,c.lf_left=0,this.root===gt)this.root=c,c.color=0;else if(D.right===gt)D.right=c,c.parent=D;else{const Y=St(D.right);Y.left=c,c.parent=Y}return _e(this,c),c}rbInsertLeft(D,k){const c=new Pi(k,1);if(c.left=gt,c.right=gt,c.parent=gt,c.size_left=0,c.lf_left=0,this.root===gt)this.root=c,c.color=0;else if(D.left===gt)D.left=c,c.parent=D;else{const R=ii(D.left);R.right=c,c.parent=R}return _e(this,c),c}}var Qt=s(93033);class ci extends E.JT{constructor(D,k,c,R,Y,ge,Oe){super(),this._onDidChangeContent=this._register(new j.Q5),this._BOM=k,this._mightContainNonBasicASCII=!ge,this._mightContainRTL=R,this._mightContainUnusualLineTerminators=Y,this._pieceTree=new Ht(D,c,Oe)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(D){return this._pieceTree.createSnapshot(D?this._BOM:"")}getOffsetAt(D,k){return this._pieceTree.getOffsetAt(D,k)}getPositionAt(D){return this._pieceTree.getPositionAt(D)}getRangeAt(D,k){const c=D+k,R=this.getPositionAt(D),Y=this.getPositionAt(c);return new g.e(R.lineNumber,R.column,Y.lineNumber,Y.column)}getValueInRange(D,k=0){if(D.isEmpty())return"";const c=this._getEndOfLine(k);return this._pieceTree.getValueInRange(D,c)}getValueLengthInRange(D,k=0){if(D.isEmpty())return 0;if(D.startLineNumber===D.endLineNumber)return D.endColumn-D.startColumn;const c=this.getOffsetAt(D.startLineNumber,D.startColumn);return this.getOffsetAt(D.endLineNumber,D.endColumn)-c}getCharacterCountInRange(D,k=0){if(this._mightContainNonBasicASCII){let c=0;const R=D.startLineNumber,Y=D.endLineNumber;for(let ge=R;ge<=Y;ge++){const Oe=this.getLineContent(ge),Ue=ge===R?D.startColumn-1:0,rt=ge===Y?D.endColumn-1:Oe.length;for(let ct=Ue;ct<rt;ct++)Z.ZG(Oe.charCodeAt(ct))?(c=c+1,ct=ct+1):c=c+1}return c+=this._getEndOfLine(k).length*(Y-R),c}return this.getValueLengthInRange(D,k)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(D){return this._pieceTree.getLineContent(D)}getLineCharCode(D,k){return this._pieceTree.getLineCharCode(D,k)}getLineLength(D){return this._pieceTree.getLineLength(D)}getLineFirstNonWhitespaceColumn(D){const k=Z.LC(this.getLineContent(D));return k===-1?0:k+1}getLineLastNonWhitespaceColumn(D){const k=Z.ow(this.getLineContent(D));return k===-1?0:k+2}_getEndOfLine(D){switch(D){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(D){this._pieceTree.setEOL(D)}applyEdits(D,k,c){let R=this._mightContainRTL,Y=this._mightContainUnusualLineTerminators,ge=this._mightContainNonBasicASCII,Oe=!0,Ue=[];for(let di=0;di<D.length;di++){const fi=D[di];Oe&&fi._isTracked&&(Oe=!1);const Ei=fi.range;if(fi.text){let ts=!0;ge||(ts=!Z.$i(fi.text),ge=ts),!R&&ts&&(R=Z.Ut(fi.text)),!Y&&ts&&(Y=Z.ab(fi.text))}let Bi="",Qi=0,In=0,Gn=0;if(fi.text){let ts;[Qi,In,Gn,ts]=(0,H.Q)(fi.text);const Qn=this.getEOL();ts===0||ts===(Qn===`\r
`?2:1)?Bi=fi.text:Bi=fi.text.replace(/\r\n|\r|\n/g,Qn)}Ue[di]={sortIndex:di,identifier:fi.identifier||null,range:Ei,rangeOffset:this.getOffsetAt(Ei.startLineNumber,Ei.startColumn),rangeLength:this.getValueLengthInRange(Ei),text:Bi,eolCount:Qi,firstLineLength:In,lastLineLength:Gn,forceMoveMarkers:!!fi.forceMoveMarkers,isAutoWhitespaceEdit:fi.isAutoWhitespaceEdit||!1}}Ue.sort(ci._sortOpsAscending);let rt=!1;for(let di=0,fi=Ue.length-1;di<fi;di++){const Ei=Ue[di].range.getEndPosition(),Bi=Ue[di+1].range.getStartPosition();if(Bi.isBeforeOrEqual(Ei)){if(Bi.isBefore(Ei))throw new Error("Overlapping ranges are not allowed!");rt=!0}}Oe&&(Ue=this._reduceOperations(Ue));const ct=c||k?ci._getInverseEditRanges(Ue):[],Tt=[];if(k)for(let di=0;di<Ue.length;di++){const fi=Ue[di],Ei=ct[di];if(fi.isAutoWhitespaceEdit&&fi.range.isEmpty())for(let Bi=Ei.startLineNumber;Bi<=Ei.endLineNumber;Bi++){let Qi="";Bi===Ei.startLineNumber&&(Qi=this.getLineContent(fi.range.startLineNumber),Z.LC(Qi)!==-1)||Tt.push({lineNumber:Bi,oldContent:Qi})}}let Bt=null;if(c){let di=0;Bt=[];for(let fi=0;fi<Ue.length;fi++){const Ei=Ue[fi],Bi=ct[fi],Qi=this.getValueInRange(Ei.range),In=Ei.rangeOffset+di;di+=Ei.text.length-Qi.length,Bt[fi]={sortIndex:Ei.sortIndex,identifier:Ei.identifier,range:Bi,text:Qi,textChange:new Qt.q(Ei.rangeOffset,Qi,In,Ei.text)}}rt||Bt.sort((fi,Ei)=>fi.sortIndex-Ei.sortIndex)}this._mightContainRTL=R,this._mightContainUnusualLineTerminators=Y,this._mightContainNonBasicASCII=ge;const Kt=this._doApplyEdits(Ue);let hi=null;if(k&&Tt.length>0){Tt.sort((di,fi)=>fi.lineNumber-di.lineNumber),hi=[];for(let di=0,fi=Tt.length;di<fi;di++){const Ei=Tt[di].lineNumber;if(di>0&&Tt[di-1].lineNumber===Ei)continue;const Bi=Tt[di].oldContent,Qi=this.getLineContent(Ei);Qi.length===0||Qi===Bi||Z.LC(Qi)!==-1||hi.push(Ei)}}return this._onDidChangeContent.fire(),new _.je(Bt,Kt,hi)}_reduceOperations(D){return D.length<1e3?D:[this._toSingleEditOperation(D)]}_toSingleEditOperation(D){let k=!1;const c=D[0].range,R=D[D.length-1].range,Y=new g.e(c.startLineNumber,c.startColumn,R.endLineNumber,R.endColumn);let ge=c.startLineNumber,Oe=c.startColumn;const Ue=[];for(let Kt=0,hi=D.length;Kt<hi;Kt++){const di=D[Kt],fi=di.range;k=k||di.forceMoveMarkers,Ue.push(this.getValueInRange(new g.e(ge,Oe,fi.startLineNumber,fi.startColumn))),di.text.length>0&&Ue.push(di.text),ge=fi.endLineNumber,Oe=fi.endColumn}const rt=Ue.join(""),[ct,Tt,Bt]=(0,H.Q)(rt);return{sortIndex:0,identifier:D[0].identifier,range:Y,rangeOffset:this.getOffsetAt(Y.startLineNumber,Y.startColumn),rangeLength:this.getValueLengthInRange(Y,0),text:rt,eolCount:ct,firstLineLength:Tt,lastLineLength:Bt,forceMoveMarkers:k,isAutoWhitespaceEdit:!1}}_doApplyEdits(D){D.sort(ci._sortOpsDescending);const k=[];for(let c=0;c<D.length;c++){const R=D[c],Y=R.range.startLineNumber,ge=R.range.startColumn,Oe=R.range.endLineNumber,Ue=R.range.endColumn;if(Y===Oe&&ge===Ue&&R.text.length===0)continue;R.text?(this._pieceTree.delete(R.rangeOffset,R.rangeLength),this._pieceTree.insert(R.rangeOffset,R.text,!0)):this._pieceTree.delete(R.rangeOffset,R.rangeLength);const rt=new g.e(Y,ge,Oe,Ue);k.push({range:rt,rangeLength:R.rangeLength,text:R.text,rangeOffset:R.rangeOffset,forceMoveMarkers:R.forceMoveMarkers})}return k}findMatchesLineByLine(D,k,c,R){return this._pieceTree.findMatchesLineByLine(D,k,c,R)}static _getInverseEditRanges(D){const k=[];let c=0,R=0,Y=null;for(let ge=0,Oe=D.length;ge<Oe;ge++){const Ue=D[ge];let rt,ct;Y?Y.range.endLineNumber===Ue.range.startLineNumber?(rt=c,ct=R+(Ue.range.startColumn-Y.range.endColumn)):(rt=c+(Ue.range.startLineNumber-Y.range.endLineNumber),ct=Ue.range.startColumn):(rt=Ue.range.startLineNumber,ct=Ue.range.startColumn);let Tt;if(Ue.text.length>0){const Bt=Ue.eolCount+1;Bt===1?Tt=new g.e(rt,ct,rt,ct+Ue.firstLineLength):Tt=new g.e(rt,ct,rt+Bt-1,Ue.lastLineLength+1)}else Tt=new g.e(rt,ct,rt,ct);c=Tt.endLineNumber,R=Tt.endColumn,k.push(Tt),Y=Ue}return k}static _sortOpsAscending(D,k){const c=g.e.compareRangesUsingEnds(D.range,k.range);return c===0?D.sortIndex-k.sortIndex:c}static _sortOpsDescending(D,k){const c=g.e.compareRangesUsingEnds(D.range,k.range);return c===0?k.sortIndex-D.sortIndex:-c}}class Fi{constructor(D,k,c,R,Y,ge,Oe,Ue,rt){this._chunks=D,this._bom=k,this._cr=c,this._lf=R,this._crlf=Y,this._containsRTL=ge,this._containsUnusualLineTerminators=Oe,this._isBasicASCII=Ue,this._normalizeEOL=rt}_getEOL(D){const k=this._cr+this._lf+this._crlf,c=this._cr+this._crlf;return k===0?D===1?`
`:`\r
`:c>k/2?`\r
`:`
`}create(D){const k=this._getEOL(D),c=this._chunks;if(this._normalizeEOL&&(k===`\r
`&&(this._cr>0||this._lf>0)||k===`
`&&(this._cr>0||this._crlf>0)))for(let Y=0,ge=c.length;Y<ge;Y++){const Oe=c[Y].buffer.replace(/\r\n|\r|\n/g,k),Ue=Je(Oe);c[Y]=new xt(Oe,Ue)}const R=new ci(c,this._bom,k,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:R,disposable:R}}}class Ii{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(D){if(D.length===0)return;this.chunks.length===0&&Z.uS(D)&&(this.BOM=Z.c1,D=D.substr(1));const k=D.charCodeAt(D.length-1);k===13||k>=55296&&k<=56319?(this._acceptChunk1(D.substr(0,D.length-1),!1),this._hasPreviousChar=!0,this._previousChar=k):(this._acceptChunk1(D,!1),this._hasPreviousChar=!1,this._previousChar=k)}_acceptChunk1(D,k){!k&&D.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+D):this._acceptChunk2(D))}_acceptChunk2(D){const k=ot(this._tmpLineStarts,D);this.chunks.push(new xt(D,k.lineStarts)),this.cr+=k.cr,this.lf+=k.lf,this.crlf+=k.crlf,this.isBasicASCII&&(this.isBasicASCII=k.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=Z.Ut(D)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=Z.ab(D))}finish(D=!0){return this._finish(),new Fi(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,D)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const D=this.chunks[this.chunks.length-1];D.buffer+=String.fromCharCode(this._previousChar);const k=Je(D.buffer);D.lineStarts=k,this._previousChar===13&&this.cr++}}}var Xi=s(270),zi=s(94954),Si=s(77378),Ji=s(43155),Zi=s(276),Ui=s(84013);class nn{constructor(D,k){this._startLineNumber=D,this._tokens=k}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(D){return this._tokens[D-this._startLineNumber]}appendLineTokens(D){this._tokens.push(D)}}class Dn{constructor(){this._tokens=[]}add(D,k){if(this._tokens.length>0){const c=this._tokens[this._tokens.length-1];if(c.endLineNumber+1===D){c.appendLineTokens(k);return}}this._tokens.push(new nn(D,[k]))}finalize(){return this._tokens}}var Cn=s(15393),pi=s(1432);class ze{constructor(D){this._default=D,this._store=[]}get(D){return D<this._store.length?this._store[D]:this._default}set(D,k){for(;D>=this._store.length;)this._store[this._store.length]=this._default;this._store[D]=k}delete(D,k){k===0||D>=this._store.length||this._store.splice(D,k)}insert(D,k){if(k===0||D>=this._store.length)return;const c=[];for(let R=0;R<k;R++)c[R]=this._default;this._store=b.Zv(this._store,D,c)}}class Ct{constructor(D,k){this.tokenizationSupport=D,this.initialState=k,this._lineBeginState=new ze(null),this._lineNeedsTokenization=new ze(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(D){this._lineNeedsTokenization.set(D,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,D)}getBeginState(D){return this._lineBeginState.get(D)}setEndState(D,k,c){if(this._lineNeedsTokenization.set(k,!1),this._firstLineNeedsTokenization=k+1,k===D-1)return;const R=this._lineBeginState.get(k+1);if(R===null||!c.equals(R)){this._lineBeginState.set(k+1,c),this.markMustBeTokenized(k+1);return}let Y=k+1;for(;Y<D&&!this._lineNeedsTokenization.get(Y);)Y++;this._firstLineNeedsTokenization=Y}applyEdits(D,k){this.markMustBeTokenized(D.startLineNumber-1),this._lineBeginState.delete(D.startLineNumber,D.endLineNumber-D.startLineNumber),this._lineNeedsTokenization.delete(D.startLineNumber,D.endLineNumber-D.startLineNumber),this._lineBeginState.insert(D.startLineNumber,k),this._lineNeedsTokenization.insert(D.startLineNumber,k)}}class kt extends E.JT{constructor(D,k,c){super(),this._textModel=D,this._tokenizationPart=k,this._languageIdCodec=c,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(Ji.RW.onDidChange(R=>{const Y=this._textModel.getLanguageId();R.changedLanguages.indexOf(Y)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(D){if(D.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let k=0,c=D.changes.length;k<c;k++){const R=D.changes[k],[Y]=(0,H.Q)(R.text);this._tokenizationStateStore.applyEdits(R.range,Y)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(D){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[D,k]=oi(this._textModel,this._tokenizationPart);D&&k?this._tokenizationStateStore=new Ct(D,k):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,Cn.To)(D=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(D)}))}_backgroundTokenizeWithDeadline(D){const k=Date.now()+D.timeRemaining(),c=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<k?(0,pi.fn)(c):this._beginBackgroundTokenization())};c()}_backgroundTokenizeForAtLeast1ms(){const D=this._textModel.getLineCount(),k=new Dn,c=Ui.G.create(!1);do if(c.elapsed()>1||this._tokenizeOneInvalidLine(k)>=D)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(k.finalize(),this._isTokenizationComplete())}tokenizeViewport(D,k){const c=new Dn;this._tokenizeViewport(c,D,k),this._tokenizationPart.setTokens(c.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(D){const k=new Dn;this._updateTokensUntilLine(k,D),this._tokenizationPart.setTokens(k.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(D,k){if(!this._tokenizationStateStore)return 0;this.forceTokenization(D.lineNumber);const c=this._tokenizationStateStore.getBeginState(D.lineNumber-1);if(!c)return 0;const R=this._textModel.getLanguageId(),Y=this._textModel.getLineContent(D.lineNumber),ge=Y.substring(0,D.column-1)+k+Y.substring(D.column-1),Oe=ai(this._languageIdCodec,R,this._tokenizationStateStore.tokenizationSupport,ge,!0,c),Ue=new Si.A(Oe.tokens,ge,this._languageIdCodec);if(Ue.getCount()===0)return 0;const rt=Ue.findTokenIndexAtOffset(D.column-1);return Ue.getStandardTokenType(rt)}tokenizeLineWithEdit(D,k,c){const R=D.lineNumber,Y=D.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(R);const ge=this._tokenizationStateStore.getBeginState(R-1);if(!ge)return null;const Oe=this._textModel.getLineContent(R),Ue=Oe.substring(0,Y-1)+c+Oe.substring(Y-1+k),rt=this._textModel.getLanguageIdAtPosition(R,0),ct=ai(this._languageIdCodec,rt,this._tokenizationStateStore.tokenizationSupport,Ue,!0,ge);return new Si.A(ct.tokens,Ue,this._languageIdCodec)}isCheapToTokenize(D){if(!this._tokenizationStateStore)return!0;const k=this._tokenizationStateStore.invalidLineStartIndex+1;return D>k?!1:D<k||this._textModel.getLineLength(D)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(D){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const k=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(D,k),k}_updateTokensUntilLine(D,k){if(!this._tokenizationStateStore)return;const c=this._textModel.getLanguageId(),R=this._textModel.getLineCount(),Y=k-1;for(let ge=this._tokenizationStateStore.invalidLineStartIndex;ge<=Y;ge++){const Oe=this._textModel.getLineContent(ge+1),Ue=this._tokenizationStateStore.getBeginState(ge),rt=ai(this._languageIdCodec,c,this._tokenizationStateStore.tokenizationSupport,Oe,!0,Ue);D.add(ge+1,rt.tokens),this._tokenizationStateStore.setEndState(R,ge,rt.endState),ge=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(D,k,c){if(!this._tokenizationStateStore||c<=this._tokenizationStateStore.invalidLineStartIndex)return;if(k<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(D,c);return}let R=this._textModel.getLineFirstNonWhitespaceColumn(k);const Y=[];let ge=null;for(let rt=k-1;R>1&&rt>=1;rt--){const ct=this._textModel.getLineFirstNonWhitespaceColumn(rt);if(ct!==0&&ct<R&&(Y.push(this._textModel.getLineContent(rt)),R=ct,ge=this._tokenizationStateStore.getBeginState(rt-1),ge))break}ge||(ge=this._tokenizationStateStore.initialState);const Oe=this._textModel.getLanguageId();let Ue=ge;for(let rt=Y.length-1;rt>=0;rt--)Ue=ai(this._languageIdCodec,Oe,this._tokenizationStateStore.tokenizationSupport,Y[rt],!1,Ue).endState;for(let rt=k;rt<=c;rt++){const ct=this._textModel.getLineContent(rt),Tt=ai(this._languageIdCodec,Oe,this._tokenizationStateStore.tokenizationSupport,ct,!0,Ue);D.add(rt,Tt.tokens),this._tokenizationStateStore.markMustBeTokenized(rt-1),Ue=Tt.endState}}}function oi(Et,D){if(Et.isTooLargeForTokenization())return[null,null];const k=Ji.RW.get(D.getLanguageId());if(!k)return[null,null];let c;try{c=k.getInitialState()}catch(R){return(0,z.dL)(R),[null,null]}return[k,c]}function ai(Et,D,k,c,R,Y){let ge=null;if(k)try{ge=k.tokenizeEncoded(c,R,Y.clone())}catch(Oe){(0,z.dL)(Oe)}return ge||(ge=(0,Zi.Dy)(Et.encodeLanguageId(D),Y)),Si.A.convertToEndOffset(ge.tokens,c.length),ge}const bi=new Uint32Array(0).buffer;class xi{static deleteBeginning(D,k){return D===null||D===bi?D:xi.delete(D,0,k)}static deleteEnding(D,k){if(D===null||D===bi)return D;const c=Ti(D),R=c[c.length-2];return xi.delete(D,k,R)}static delete(D,k,c){if(D===null||D===bi||k===c)return D;const R=Ti(D),Y=R.length>>>1;if(k===0&&R[R.length-2]===c)return bi;const ge=Si.A.findIndexInTokensArray(R,k),Oe=ge>0?R[ge-1<<1]:0,Ue=R[ge<<1];if(c<Ue){const Kt=c-k;for(let hi=ge;hi<Y;hi++)R[hi<<1]-=Kt;return D}let rt,ct;Oe!==k?(R[ge<<1]=k,rt=ge+1<<1,ct=k):(rt=ge<<1,ct=Oe);const Tt=c-k;for(let Kt=ge+1;Kt<Y;Kt++){const hi=R[Kt<<1]-Tt;hi>ct&&(R[rt++]=hi,R[rt++]=R[(Kt<<1)+1],ct=hi)}if(rt===R.length)return D;const Bt=new Uint32Array(rt);return Bt.set(R.subarray(0,rt),0),Bt.buffer}static append(D,k){if(k===bi)return D;if(D===bi)return k;if(D===null)return D;if(k===null)return null;const c=Ti(D),R=Ti(k),Y=R.length>>>1,ge=new Uint32Array(c.length+R.length);ge.set(c,0);let Oe=c.length;const Ue=c[c.length-2];for(let rt=0;rt<Y;rt++)ge[Oe++]=R[rt<<1]+Ue,ge[Oe++]=R[(rt<<1)+1];return ge.buffer}static insert(D,k,c){if(D===null||D===bi)return D;const R=Ti(D),Y=R.length>>>1;let ge=Si.A.findIndexInTokensArray(R,k);ge>0&&R[ge-1<<1]===k&&ge--;for(let Oe=ge;Oe<Y;Oe++)R[Oe<<1]+=c;return D}}function Ti(Et){return Et instanceof Uint32Array?Et:new Uint32Array(Et)}var ji=s(45797);class Hi{constructor(D){this._lineTokens=[],this._len=0,this._languageIdCodec=D}flush(){this._lineTokens=[],this._len=0}getTokens(D,k,c){let R=null;if(k<this._len&&(R=this._lineTokens[k]),R!==null&&R!==bi)return new Si.A(Ti(R),c,this._languageIdCodec);const Y=new Uint32Array(2);return Y[0]=c.length,Y[1]=rn(this._languageIdCodec.encodeLanguageId(D)),new Si.A(Y,c,this._languageIdCodec)}static _massageTokens(D,k,c){const R=c?Ti(c):null;if(k===0){let Y=!1;if(R&&R.length>1&&(Y=ji.N.getLanguageId(R[1])!==D),!Y)return bi}if(!R||R.length===0){const Y=new Uint32Array(2);return Y[0]=k,Y[1]=rn(D),Y.buffer}return R[R.length-2]=k,R.byteOffset===0&&R.byteLength===R.buffer.byteLength?R.buffer:R}_ensureLine(D){for(;D>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(D,k){k!==0&&(D+k>this._len&&(k=this._len-D),this._lineTokens.splice(D,k),this._len-=k)}_insertLines(D,k){if(k===0)return;const c=[];for(let R=0;R<k;R++)c[R]=null;this._lineTokens=b.Zv(this._lineTokens,D,c),this._len+=k}setTokens(D,k,c,R,Y){const ge=Hi._massageTokens(this._languageIdCodec.encodeLanguageId(D),c,R);this._ensureLine(k);const Oe=this._lineTokens[k];return this._lineTokens[k]=ge,Y?!Hi._equals(Oe,ge):!1}static _equals(D,k){if(!D||!k)return!D&&!k;const c=Ti(D),R=Ti(k);if(c.length!==R.length)return!1;for(let Y=0,ge=c.length;Y<ge;Y++)if(c[Y]!==R[Y])return!1;return!0}acceptEdit(D,k,c){this._acceptDeleteRange(D),this._acceptInsertText(new y.L(D.startLineNumber,D.startColumn),k,c)}_acceptDeleteRange(D){const k=D.startLineNumber-1;if(k>=this._len)return;if(D.startLineNumber===D.endLineNumber){if(D.startColumn===D.endColumn)return;this._lineTokens[k]=xi.delete(this._lineTokens[k],D.startColumn-1,D.endColumn-1);return}this._lineTokens[k]=xi.deleteEnding(this._lineTokens[k],D.startColumn-1);const c=D.endLineNumber-1;let R=null;c<this._len&&(R=xi.deleteBeginning(this._lineTokens[c],D.endColumn-1)),this._lineTokens[k]=xi.append(this._lineTokens[k],R),this._deleteLines(D.startLineNumber,D.endLineNumber-D.startLineNumber)}_acceptInsertText(D,k,c){if(k===0&&c===0)return;const R=D.lineNumber-1;if(!(R>=this._len)){if(k===0){this._lineTokens[R]=xi.insert(this._lineTokens[R],D.column-1,c);return}this._lineTokens[R]=xi.deleteEnding(this._lineTokens[R],D.column-1),this._lineTokens[R]=xi.insert(this._lineTokens[R],D.column-1,c),this._insertLines(D.lineNumber,k)}}}function rn(Et){return(Et<<0|0|0|32768|2<<24|1024)>>>0}class wi{constructor(D){this._pieces=[],this._isComplete=!1,this._languageIdCodec=D}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(D,k){this._pieces=D||[],this._isComplete=k}setPartial(D,k){let c=D;if(k.length>0){const Y=k[0].getRange(),ge=k[k.length-1].getRange();if(!Y||!ge)return D;c=D.plusRange(Y).plusRange(ge)}let R=null;for(let Y=0,ge=this._pieces.length;Y<ge;Y++){const Oe=this._pieces[Y];if(Oe.endLineNumber<c.startLineNumber)continue;if(Oe.startLineNumber>c.endLineNumber){R=R||{index:Y};break}if(Oe.removeTokens(c),Oe.isEmpty()){this._pieces.splice(Y,1),Y--,ge--;continue}if(Oe.endLineNumber<c.startLineNumber)continue;if(Oe.startLineNumber>c.endLineNumber){R=R||{index:Y};continue}const[Ue,rt]=Oe.split(c);if(Ue.isEmpty()){R=R||{index:Y};continue}rt.isEmpty()||(this._pieces.splice(Y,1,Ue,rt),Y++,ge++,R=R||{index:Y})}return R=R||{index:this._pieces.length},k.length>0&&(this._pieces=b.Zv(this._pieces,R.index,k)),c}isComplete(){return this._isComplete}addSparseTokens(D,k){if(k.getLineContent().length===0)return k;const c=this._pieces;if(c.length===0)return k;const R=wi._findFirstPieceWithLine(c,D),Y=c[R].getLineTokens(D);if(!Y)return k;const ge=k.getCount(),Oe=Y.getCount();let Ue=0;const rt=[];let ct=0,Tt=0;const Bt=(Kt,hi)=>{Kt!==Tt&&(Tt=Kt,rt[ct++]=Kt,rt[ct++]=hi)};for(let Kt=0;Kt<Oe;Kt++){const hi=Y.getStartCharacter(Kt),di=Y.getEndCharacter(Kt),fi=Y.getMetadata(Kt),Ei=((fi&1?2048:0)|(fi&2?4096:0)|(fi&4?8192:0)|(fi&8?16384:0)|(fi&16?16744448:0)|(fi&32?4278190080:0))>>>0,Bi=~Ei>>>0;for(;Ue<ge&&k.getEndOffset(Ue)<=hi;)Bt(k.getEndOffset(Ue),k.getMetadata(Ue)),Ue++;for(Ue<ge&&k.getStartOffset(Ue)<hi&&Bt(hi,k.getMetadata(Ue));Ue<ge&&k.getEndOffset(Ue)<di;)Bt(k.getEndOffset(Ue),k.getMetadata(Ue)&Bi|fi&Ei),Ue++;if(Ue<ge)Bt(di,k.getMetadata(Ue)&Bi|fi&Ei),k.getEndOffset(Ue)===di&&Ue++;else{const Qi=Math.min(Math.max(0,Ue-1),ge-1);Bt(di,k.getMetadata(Qi)&Bi|fi&Ei)}}for(;Ue<ge;)Bt(k.getEndOffset(Ue),k.getMetadata(Ue)),Ue++;return new Si.A(new Uint32Array(rt),k.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(D,k){let c=0,R=D.length-1;for(;c<R;){let Y=c+Math.floor((R-c)/2);if(D[Y].endLineNumber<k)c=Y+1;else if(D[Y].startLineNumber>k)R=Y-1;else{for(;Y>c&&D[Y-1].startLineNumber<=k&&k<=D[Y-1].endLineNumber;)Y--;return Y}}return c}acceptEdit(D,k,c,R,Y){for(const ge of this._pieces)ge.acceptEdit(D,k,c,R,Y)}}class et extends zi.U{constructor(D,k,c,R,Y){super(),this._languageService=D,this._languageConfigurationService=k,this._textModel=c,this.bracketPairsTextModelPart=R,this._languageId=Y,this._onDidChangeLanguage=this._register(new j.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new j.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new j.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new j.Q5),this._tokens=new Hi(this._languageService.languageIdCodec),this._semanticTokens=new wi(this._languageService.languageIdCodec),this._tokenization=new kt(c,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(ge=>{ge.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(D,k,c,R,Y){this._tokens.acceptEdit(D,c,R),this._semanticTokens.acceptEdit(D,c,R,Y,k.length>0?k.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(D){this._tokenization.handleDidChangeContent(D)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(D){if(this._backgroundTokenizationState===2)return;const k=D?2:1;this._backgroundTokenizationState!==k&&(this._backgroundTokenizationState=k,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(D,k=!1){if(D.length!==0){const c=[];for(let R=0,Y=D.length;R<Y;R++){const ge=D[R];let Oe=0,Ue=0,rt=!1;for(let ct=ge.startLineNumber;ct<=ge.endLineNumber;ct++)rt?(this._tokens.setTokens(this._languageId,ct-1,this._textModel.getLineLength(ct),ge.getLineTokens(ct),!1),Ue=ct):this._tokens.setTokens(this._languageId,ct-1,this._textModel.getLineLength(ct),ge.getLineTokens(ct),!0)&&(rt=!0,Oe=ct,Ue=ct);rt&&c.push({fromLineNumber:Oe,toLineNumber:Ue})}c.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:c})}this.handleTokenizationProgress(k)}setSemanticTokens(D,k){this._semanticTokens.set(D,k),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:D!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(D,k){if(this.hasCompleteSemanticTokens())return;const c=this._textModel.validateRange(this._semanticTokens.setPartial(D,k));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:c.startLineNumber,toLineNumber:c.endLineNumber}]})}tokenizeViewport(D,k){D=Math.max(1,D),k=Math.min(this._textModel.getLineCount(),k),this._tokenization.tokenizeViewport(D,k)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(D){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(D),this._onDidChangeTokens.fire(D))}resetTokenization(){this._tokenization.reset()}forceTokenization(D){if(D<1||D>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(D)}isCheapToTokenize(D){return this._tokenization.isCheapToTokenize(D)}tokenizeIfCheap(D){this.isCheapToTokenize(D)&&this.forceTokenization(D)}getLineTokens(D){if(D<1||D>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(D)}_getLineTokens(D){const k=this._textModel.getLineContent(D),c=this._tokens.getTokens(this._languageId,D-1,k);return this._semanticTokens.addSparseTokens(D,c)}getTokenTypeIfInsertingCharacter(D,k,c){const R=this._textModel.validatePosition(new y.L(D,k));return this._tokenization.getTokenTypeIfInsertingCharacter(R,c)}tokenizeLineWithEdit(D,k,c){const R=this._textModel.validatePosition(D);return this._tokenization.tokenizeLineWithEdit(R,k,c)}getLanguageConfiguration(D){return this._languageConfigurationService.getLanguageConfiguration(D)}getWordAtPosition(D){this.assertNotDisposed();const k=this._textModel.validatePosition(D),c=this._textModel.getLineContent(k.lineNumber),R=this._getLineTokens(k.lineNumber),Y=R.findTokenIndexAtOffset(k.column-1),[ge,Oe]=et._findLanguageBoundaries(R,Y),Ue=(0,Xi.t2)(k.column,this.getLanguageConfiguration(R.getLanguageId(Y)).getWordDefinition(),c.substring(ge,Oe),ge);if(Ue&&Ue.startColumn<=D.column&&D.column<=Ue.endColumn)return Ue;if(Y>0&&ge===k.column-1){const[rt,ct]=et._findLanguageBoundaries(R,Y-1),Tt=(0,Xi.t2)(k.column,this.getLanguageConfiguration(R.getLanguageId(Y-1)).getWordDefinition(),c.substring(rt,ct),rt);if(Tt&&Tt.startColumn<=D.column&&D.column<=Tt.endColumn)return Tt}return null}static _findLanguageBoundaries(D,k){const c=D.getLanguageId(k);let R=0;for(let ge=k;ge>=0&&D.getLanguageId(ge)===c;ge--)R=D.getStartOffset(ge);let Y=D.getLineContent().length;for(let ge=k,Oe=D.getCount();ge<Oe&&D.getLanguageId(ge)===c;ge++)Y=D.getEndOffset(ge);return[R,Y]}getWordUntilPosition(D){const k=this.getWordAtPosition(D);return k?{word:k.word.substr(0,D.column-k.startColumn),startColumn:k.startColumn,endColumn:D.column}:{word:"",startColumn:D.column,endColumn:D.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(D,k){const c=this._textModel.validatePosition(new y.L(D,k)),R=this.getLineTokens(c.lineNumber);return R.getLanguageId(R.findTokenIndexAtOffset(c.column-1))}setLanguageId(D){if(this._languageId===D)return;const k={oldLanguage:this._languageId,newLanguage:D};this._languageId=D,this.bracketPairsTextModelPart.handleDidChangeLanguage(k),this._tokenization.handleDidChangeLanguage(k),this._onDidChangeLanguage.fire(k),this._onDidChangeLanguageConfiguration.fire({})}}var lt=s(14706),Rt=s(64862),Ut=function(Et,D,k,c){var R=arguments.length,Y=R<3?D:c===null?c=Object.getOwnPropertyDescriptor(D,k):c,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(Et,D,k,c);else for(var Oe=Et.length-1;Oe>=0;Oe--)(ge=Et[Oe])&&(Y=(R<3?ge(Y):R>3?ge(D,k,Y):ge(D,k))||Y);return R>3&&Y&&Object.defineProperty(D,k,Y),Y},ui=function(Et,D){return function(k,c){D(k,c,Et)}};function ri(Et){const D=new Ii;return D.acceptChunk(Et),D.finish()}function _i(Et){const D=new Ii;let k;for(;typeof(k=Et.read())=="string";)D.acceptChunk(k);return D.finish()}function Yi(Et,D){let k;return typeof Et=="string"?k=ri(Et):_.Hf(Et)?k=_i(Et):k=Et,k.create(D)}let an=0;const ei=999,Gi=1e4;class ln{constructor(D){this._source=D,this._eos=!1}read(){if(this._eos)return null;const D=[];let k=0,c=0;do{const R=this._source.read();if(R===null)return this._eos=!0,k===0?null:D.join("");if(R.length>0&&(D[k++]=R,c+=R.length),c>=64*1024)return D.join("")}while(!0)}}const bn=()=>{throw new Error("Invalid change accessor")};let Mn=class Fc extends E.JT{constructor(D,k,c,R=null,Y,ge,Oe){super(),this._undoRedoService=Y,this._languageService=ge,this._languageConfigurationService=Oe,this._onWillDispose=this._register(new j.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new us(Bt=>this.handleBeforeFireDecorationsChangedEvent(Bt))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new j.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new j.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new j.Q5),this._eventEmitter=this._register(new rs),this._deltaDecorationCallCnt=0,an++,this.id="$model"+an,this.isForSimpleWidget=c.isForSimpleWidget,typeof R>"u"||R===null?this._associatedResource=B.o.parse("inmemory://model/"+an):this._associatedResource=R,this._attachedEditorCount=0;const{textBuffer:Ue,disposable:rt}=Yi(D,c.defaultEOL);this._buffer=Ue,this._bufferDisposable=rt,this._options=Fc.resolveOptions(this._buffer,c),this._bracketPairs=this._register(new te(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Ce.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new xe(this)),this._tokenizationTextModelPart=new et(this._languageService,this._languageConfigurationService,this,this._bracketPairs,k);const ct=this._buffer.getLineCount(),Tt=this._buffer.getValueLengthInRange(new g.e(1,1,ct,this._buffer.getLineLength(ct)+1),0);c.largeFileOptimizations?this._isTooLargeForTokenization=Tt>Fc.LARGE_FILE_SIZE_THRESHOLD||ct>Fc.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Tt>Fc.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=Z.PJ(an),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Bn,this._commandManager=new Ve.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(D,k){if(k.detectIndentation){const c=je(D,k.tabSize,k.insertSpaces);return new _.dJ({tabSize:c.tabSize,indentSize:c.tabSize,insertSpaces:c.insertSpaces,trimAutoWhitespace:k.trimAutoWhitespace,defaultEOL:k.defaultEOL,bracketPairColorizationOptions:k.bracketPairColorizationOptions})}return new _.dJ({tabSize:k.tabSize,indentSize:k.indentSize,insertSpaces:k.insertSpaces,trimAutoWhitespace:k.trimAutoWhitespace,defaultEOL:k.defaultEOL,bracketPairColorizationOptions:k.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(D){return this._eventEmitter.slowEvent(k=>D(k.contentChangedEvent))}onDidChangeContentOrInjectedText(D){return(0,E.F8)(this._eventEmitter.fastEvent(k=>D(k)),this._onDidChangeInjectedText.event(k=>D(k)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const D=new ci([],"",`
`,!1,!1,!0,!0);D.dispose(),this._buffer=D,this._bufferDisposable=E.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(D,k){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(k),this._bracketPairs.handleDidChangeContent(k),this._eventEmitter.fire(new lt.fV(D,k)))}setValue(D){if(this._assertNotDisposed(),D===null)return;const{textBuffer:k,disposable:c}=Yi(D,this._options.defaultEOL);this._setValueFromTextBuffer(k,c)}_createContentChanged2(D,k,c,R,Y,ge,Oe){return{changes:[{range:D,rangeOffset:k,rangeLength:c,text:R}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:Y,isRedoing:ge,isFlush:Oe}}_setValueFromTextBuffer(D,k){this._assertNotDisposed();const c=this.getFullModelRange(),R=this.getValueLengthInRange(c),Y=this.getLineCount(),ge=this.getLineMaxColumn(Y);this._buffer=D,this._bufferDisposable.dispose(),this._bufferDisposable=k,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new Bn,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new lt.dQ([new lt.Jx],this._versionId,!1,!1),this._createContentChanged2(new g.e(1,1,Y,ge),0,R,this.getValue(),!1,!1,!0))}setEOL(D){this._assertNotDisposed();const k=D===1?`\r
`:`
`;if(this._buffer.getEOL()===k)return;const c=this.getFullModelRange(),R=this.getValueLengthInRange(c),Y=this.getLineCount(),ge=this.getLineMaxColumn(Y);this._onBeforeEOLChange(),this._buffer.setEOL(k),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new lt.dQ([new lt.CZ],this._versionId,!1,!1),this._createContentChanged2(new g.e(1,1,Y,ge),0,R,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const D=this.getVersionId(),k=this._decorationsTree.collectNodesPostOrder();for(let c=0,R=k.length;c<R;c++){const Y=k[c],ge=Y.range,Oe=Y.cachedAbsoluteStart-Y.start,Ue=this._buffer.getOffsetAt(ge.startLineNumber,ge.startColumn),rt=this._buffer.getOffsetAt(ge.endLineNumber,ge.endColumn);Y.cachedAbsoluteStart=Ue,Y.cachedAbsoluteEnd=rt,Y.cachedVersionId=D,Y.start=Ue-Oe,Y.end=rt-Oe,mi(Y)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let D=0,k=0;const c=this._buffer.getLineCount();for(let R=1;R<=c;R++){const Y=this._buffer.getLineLength(R);Y>=Gi?k+=Y:D+=Y}return k>D}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(D){this._assertNotDisposed();const k=typeof D.tabSize<"u"?D.tabSize:this._options.tabSize,c=typeof D.indentSize<"u"?D.indentSize:this._options.indentSize,R=typeof D.insertSpaces<"u"?D.insertSpaces:this._options.insertSpaces,Y=typeof D.trimAutoWhitespace<"u"?D.trimAutoWhitespace:this._options.trimAutoWhitespace,ge=typeof D.bracketColorizationOptions<"u"?D.bracketColorizationOptions:this._options.bracketPairColorizationOptions,Oe=new _.dJ({tabSize:k,indentSize:c,insertSpaces:R,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Y,bracketPairColorizationOptions:ge});if(this._options.equals(Oe))return;const Ue=this._options.createChangeEvent(Oe);this._options=Oe,this._bracketPairs.handleDidChangeOptions(Ue),this._decorationProvider.handleDidChangeOptions(Ue),this._onDidChangeOptions.fire(Ue)}detectIndentation(D,k){this._assertNotDisposed();const c=je(this._buffer,k,D);this.updateOptions({insertSpaces:c.insertSpaces,tabSize:c.tabSize,indentSize:c.tabSize})}normalizeIndentation(D){return this._assertNotDisposed(),(0,O.x)(D,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(D=null){const k=this.findMatches(Z.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(D,k.map(c=>({range:c.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(D){this._assertNotDisposed();const k=this._validatePosition(D.lineNumber,D.column,0);return this._buffer.getOffsetAt(k.lineNumber,k.column)}getPositionAt(D){this._assertNotDisposed();const k=Math.min(this._buffer.getLength(),Math.max(0,D));return this._buffer.getPositionAt(k)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(D){this._versionId=D}_overwriteAlternativeVersionId(D){this._alternativeVersionId=D}_overwriteInitialUndoRedoSnapshot(D){this._initialUndoRedoSnapshot=D}getValue(D,k=!1){this._assertNotDisposed();const c=this.getFullModelRange(),R=this.getValueInRange(c,D);return k?this._buffer.getBOM()+R:R}createSnapshot(D=!1){return new ln(this._buffer.createSnapshot(D))}getValueLength(D,k=!1){this._assertNotDisposed();const c=this.getFullModelRange(),R=this.getValueLengthInRange(c,D);return k?this._buffer.getBOM().length+R:R}getValueInRange(D,k=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(D),k)}getValueLengthInRange(D,k=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(D),k)}getCharacterCountInRange(D,k=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(D),k)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(D){if(this._assertNotDisposed(),D<1||D>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(D)}getLineLength(D){if(this._assertNotDisposed(),D<1||D>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(D)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(D){return this._assertNotDisposed(),1}getLineMaxColumn(D){if(this._assertNotDisposed(),D<1||D>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(D)+1}getLineFirstNonWhitespaceColumn(D){if(this._assertNotDisposed(),D<1||D>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(D)}getLineLastNonWhitespaceColumn(D){if(this._assertNotDisposed(),D<1||D>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(D)}_validateRangeRelaxedNoAllocations(D){const k=this._buffer.getLineCount(),c=D.startLineNumber,R=D.startColumn;let Y=Math.floor(typeof c=="number"&&!isNaN(c)?c:1),ge=Math.floor(typeof R=="number"&&!isNaN(R)?R:1);if(Y<1)Y=1,ge=1;else if(Y>k)Y=k,ge=this.getLineMaxColumn(Y);else if(ge<=1)ge=1;else{const Tt=this.getLineMaxColumn(Y);ge>=Tt&&(ge=Tt)}const Oe=D.endLineNumber,Ue=D.endColumn;let rt=Math.floor(typeof Oe=="number"&&!isNaN(Oe)?Oe:1),ct=Math.floor(typeof Ue=="number"&&!isNaN(Ue)?Ue:1);if(rt<1)rt=1,ct=1;else if(rt>k)rt=k,ct=this.getLineMaxColumn(rt);else if(ct<=1)ct=1;else{const Tt=this.getLineMaxColumn(rt);ct>=Tt&&(ct=Tt)}return c===Y&&R===ge&&Oe===rt&&Ue===ct&&D instanceof g.e&&!(D instanceof C.Y)?D:new g.e(Y,ge,rt,ct)}_isValidPosition(D,k,c){if(typeof D!="number"||typeof k!="number"||isNaN(D)||isNaN(k)||D<1||k<1||(D|0)!==D||(k|0)!==k)return!1;const R=this._buffer.getLineCount();if(D>R)return!1;if(k===1)return!0;const Y=this.getLineMaxColumn(D);if(k>Y)return!1;if(c===1){const ge=this._buffer.getLineCharCode(D,k-2);if(Z.ZG(ge))return!1}return!0}_validatePosition(D,k,c){const R=Math.floor(typeof D=="number"&&!isNaN(D)?D:1),Y=Math.floor(typeof k=="number"&&!isNaN(k)?k:1),ge=this._buffer.getLineCount();if(R<1)return new y.L(1,1);if(R>ge)return new y.L(ge,this.getLineMaxColumn(ge));if(Y<=1)return new y.L(R,1);const Oe=this.getLineMaxColumn(R);if(Y>=Oe)return new y.L(R,Oe);if(c===1){const Ue=this._buffer.getLineCharCode(R,Y-2);if(Z.ZG(Ue))return new y.L(R,Y-1)}return new y.L(R,Y)}validatePosition(D){return this._assertNotDisposed(),D instanceof y.L&&this._isValidPosition(D.lineNumber,D.column,1)?D:this._validatePosition(D.lineNumber,D.column,1)}_isValidRange(D,k){const c=D.startLineNumber,R=D.startColumn,Y=D.endLineNumber,ge=D.endColumn;if(!this._isValidPosition(c,R,0)||!this._isValidPosition(Y,ge,0))return!1;if(k===1){const Oe=R>1?this._buffer.getLineCharCode(c,R-2):0,Ue=ge>1&&ge<=this._buffer.getLineLength(Y)?this._buffer.getLineCharCode(Y,ge-2):0,rt=Z.ZG(Oe),ct=Z.ZG(Ue);return!rt&&!ct}return!0}validateRange(D){if(this._assertNotDisposed(),D instanceof g.e&&!(D instanceof C.Y)&&this._isValidRange(D,1))return D;const c=this._validatePosition(D.startLineNumber,D.startColumn,0),R=this._validatePosition(D.endLineNumber,D.endColumn,0),Y=c.lineNumber,ge=c.column,Oe=R.lineNumber,Ue=R.column;{const rt=ge>1?this._buffer.getLineCharCode(Y,ge-2):0,ct=Ue>1&&Ue<=this._buffer.getLineLength(Oe)?this._buffer.getLineCharCode(Oe,Ue-2):0,Tt=Z.ZG(rt),Bt=Z.ZG(ct);return!Tt&&!Bt?new g.e(Y,ge,Oe,Ue):Y===Oe&&ge===Ue?new g.e(Y,ge-1,Oe,Ue-1):Tt&&Bt?new g.e(Y,ge-1,Oe,Ue+1):Tt?new g.e(Y,ge-1,Oe,Ue):new g.e(Y,ge,Oe,Ue+1)}return new g.e(Y,ge,Oe,Ue)}modifyPosition(D,k){this._assertNotDisposed();const c=this.getOffsetAt(D)+k;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,c)))}getFullModelRange(){this._assertNotDisposed();const D=this.getLineCount();return new g.e(1,1,D,this.getLineMaxColumn(D))}findMatchesLineByLine(D,k,c,R){return this._buffer.findMatchesLineByLine(D,k,c,R)}findMatches(D,k,c,R,Y,ge,Oe=ei){this._assertNotDisposed();let Ue=null;k!==null&&(Array.isArray(k)||(k=[k]),k.every(Tt=>g.e.isIRange(Tt))&&(Ue=k.map(Tt=>this.validateRange(Tt)))),Ue===null&&(Ue=[this.getFullModelRange()]),Ue=Ue.sort((Tt,Bt)=>Tt.startLineNumber-Bt.startLineNumber||Tt.startColumn-Bt.startColumn);const rt=[];rt.push(Ue.reduce((Tt,Bt)=>g.e.areIntersecting(Tt,Bt)?Tt.plusRange(Bt):(rt.push(Tt),Bt)));let ct;if(!c&&D.indexOf(`
`)<0){const Bt=new oe.bc(D,c,R,Y).parseSearchRequest();if(!Bt)return[];ct=Kt=>this.findMatchesLineByLine(Kt,Bt,ge,Oe)}else ct=Tt=>oe.pM.findMatches(this,new oe.bc(D,c,R,Y),Tt,ge,Oe);return rt.map(ct).reduce((Tt,Bt)=>Tt.concat(Bt),[])}findNextMatch(D,k,c,R,Y,ge){this._assertNotDisposed();const Oe=this.validatePosition(k);if(!c&&D.indexOf(`
`)<0){const rt=new oe.bc(D,c,R,Y).parseSearchRequest();if(!rt)return null;const ct=this.getLineCount();let Tt=new g.e(Oe.lineNumber,Oe.column,ct,this.getLineMaxColumn(ct)),Bt=this.findMatchesLineByLine(Tt,rt,ge,1);return oe.pM.findNextMatch(this,new oe.bc(D,c,R,Y),Oe,ge),Bt.length>0||(Tt=new g.e(1,1,Oe.lineNumber,this.getLineMaxColumn(Oe.lineNumber)),Bt=this.findMatchesLineByLine(Tt,rt,ge,1),Bt.length>0)?Bt[0]:null}return oe.pM.findNextMatch(this,new oe.bc(D,c,R,Y),Oe,ge)}findPreviousMatch(D,k,c,R,Y,ge){this._assertNotDisposed();const Oe=this.validatePosition(k);return oe.pM.findPreviousMatch(this,new oe.bc(D,c,R,Y),Oe,ge)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(D){if((this.getEOL()===`
`?0:1)!==D)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(D)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(D){return D instanceof _.Qi?D:new _.Qi(D.identifier||null,this.validateRange(D.range),D.text,D.forceMoveMarkers||!1,D.isAutoWhitespaceEdit||!1,D._isTracked||!1)}_validateEditOperations(D){const k=[];for(let c=0,R=D.length;c<R;c++)k[c]=this._validateEditOperation(D[c]);return k}pushEditOperations(D,k,c){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(D,this._validateEditOperations(k),c)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(D,k,c){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const R=k.map(ge=>({range:this.validateRange(ge.range),text:ge.text}));let Y=!0;if(D)for(let ge=0,Oe=D.length;ge<Oe;ge++){const Ue=D[ge];let rt=!1;for(let ct=0,Tt=R.length;ct<Tt;ct++){const Bt=R[ct].range,Kt=Bt.startLineNumber>Ue.endLineNumber,hi=Ue.startLineNumber>Bt.endLineNumber;if(!Kt&&!hi){rt=!0;break}}if(!rt){Y=!1;break}}if(Y)for(let ge=0,Oe=this._trimAutoWhitespaceLines.length;ge<Oe;ge++){const Ue=this._trimAutoWhitespaceLines[ge],rt=this.getLineMaxColumn(Ue);let ct=!0;for(let Tt=0,Bt=R.length;Tt<Bt;Tt++){const Kt=R[Tt].range,hi=R[Tt].text;if(!(Ue<Kt.startLineNumber||Ue>Kt.endLineNumber)&&!(Ue===Kt.startLineNumber&&Kt.startColumn===rt&&Kt.isEmpty()&&hi&&hi.length>0&&hi.charAt(0)===`
`)&&!(Ue===Kt.startLineNumber&&Kt.startColumn===1&&Kt.isEmpty()&&hi&&hi.length>0&&hi.charAt(hi.length-1)===`
`)){ct=!1;break}}if(ct){const Tt=new g.e(Ue,1,Ue,rt);k.push(new _.Qi(null,Tt,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(D,k,c)}_applyUndo(D,k,c,R){const Y=D.map(ge=>{const Oe=this.getPositionAt(ge.newPosition),Ue=this.getPositionAt(ge.newEnd);return{range:new g.e(Oe.lineNumber,Oe.column,Ue.lineNumber,Ue.column),text:ge.oldText}});this._applyUndoRedoEdits(Y,k,!0,!1,c,R)}_applyRedo(D,k,c,R){const Y=D.map(ge=>{const Oe=this.getPositionAt(ge.oldPosition),Ue=this.getPositionAt(ge.oldEnd);return{range:new g.e(Oe.lineNumber,Oe.column,Ue.lineNumber,Ue.column),text:ge.newText}});this._applyUndoRedoEdits(Y,k,!1,!0,c,R)}_applyUndoRedoEdits(D,k,c,R,Y,ge){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=c,this._isRedoing=R,this.applyEdits(D,!1),this.setEOL(k),this._overwriteAlternativeVersionId(Y)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ge),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(D,k=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const c=this._validateEditOperations(D);return this._doApplyEdits(c,k)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(D,k){const c=this._buffer.getLineCount(),R=this._buffer.applyEdits(D,this._options.trimAutoWhitespace,k),Y=this._buffer.getLineCount(),ge=R.changes;if(this._trimAutoWhitespaceLines=R.trimAutoWhitespaceLineNumbers,ge.length!==0){for(let rt=0,ct=ge.length;rt<ct;rt++){const Tt=ge[rt],[Bt,Kt,hi]=(0,H.Q)(Tt.text);this._tokenizationTextModelPart.acceptEdit(Tt.range,Tt.text,Bt,Kt,hi),this._decorationsTree.acceptReplace(Tt.rangeOffset,Tt.rangeLength,Tt.text.length,Tt.forceMoveMarkers)}const Oe=[];this._increaseVersionId();let Ue=c;for(let rt=0,ct=ge.length;rt<ct;rt++){const Tt=ge[rt],[Bt]=(0,H.Q)(Tt.text);this._onDidChangeDecorations.fire();const Kt=Tt.range.startLineNumber,hi=Tt.range.endLineNumber,di=hi-Kt,fi=Bt,Ei=Math.min(di,fi),Bi=fi-di,Qi=Y-Ue-Bi+Kt,In=Qi,Gn=Qi+fi,ts=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new y.L(In,1)),this.getOffsetAt(new y.L(Gn,this.getLineMaxColumn(Gn))),0),Qn=lt.gk.fromDecorations(ts),ws=new b.H9(Qn);for(let mn=Ei;mn>=0;mn--){const is=Kt+mn,Jn=Qi+mn;ws.takeFromEndWhile(Zn=>Zn.lineNumber>Jn);const qn=ws.takeFromEndWhile(Zn=>Zn.lineNumber===Jn);Oe.push(new lt.rU(is,this.getLineContent(Jn),qn))}if(Ei<di){const mn=Kt+Ei;Oe.push(new lt.lN(mn+1,hi))}if(Ei<fi){const mn=new b.H9(Qn),is=Kt+Ei,Jn=fi-Ei,qn=Y-Ue-Jn+is+1,Zn=[],ls=[];for(let Wn=0;Wn<Jn;Wn++){const Cs=qn+Wn;ls[Wn]=this.getLineContent(Cs),mn.takeWhile(_o=>_o.lineNumber<Cs),Zn[Wn]=mn.takeWhile(_o=>_o.lineNumber===Cs)}Oe.push(new lt.Tx(is+1,Kt+fi,ls,Zn))}Ue+=Bi}this._emitContentChangedEvent(new lt.dQ(Oe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ge,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return R.reverseEdits===null?void 0:R.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(D){if(D===null||D.size===0)return;const c=Array.from(D).map(R=>new lt.rU(R,this.getLineContent(R),this._getInjectedTextInLine(R)));this._onDidChangeInjectedText.fire(new lt.D8(c))}changeDecorations(D,k=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(k,D)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(D,k){const c={addDecoration:(Y,ge)=>this._deltaDecorationsImpl(D,[],[{range:Y,options:ge}])[0],changeDecoration:(Y,ge)=>{this._changeDecorationImpl(Y,ge)},changeDecorationOptions:(Y,ge)=>{this._changeDecorationOptionsImpl(Y,On(ge))},removeDecoration:Y=>{this._deltaDecorationsImpl(D,[Y],[])},deltaDecorations:(Y,ge)=>Y.length===0&&ge.length===0?[]:this._deltaDecorationsImpl(D,Y,ge)};let R=null;try{R=k(c)}catch(Y){(0,z.dL)(Y)}return c.addDecoration=bn,c.changeDecoration=bn,c.changeDecorationOptions=bn,c.removeDecoration=bn,c.deltaDecorations=bn,R}deltaDecorations(D,k,c=0){if(this._assertNotDisposed(),D||(D=[]),D.length===0&&k.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,z.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(c,D,k)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(D){return this.getDecorationRange(D)}_setTrackedRange(D,k,c){const R=D?this._decorations[D]:null;if(!R)return k?this._deltaDecorationsImpl(0,[],[{range:k,options:en[c]}])[0]:null;if(!k)return this._decorationsTree.delete(R),delete this._decorations[R.id],null;const Y=this._validateRangeRelaxedNoAllocations(k),ge=this._buffer.getOffsetAt(Y.startLineNumber,Y.startColumn),Oe=this._buffer.getOffsetAt(Y.endLineNumber,Y.endColumn);return this._decorationsTree.delete(R),R.reset(this.getVersionId(),ge,Oe,Y),R.setOptions(en[c]),this._decorationsTree.insert(R),R.id}removeAllDecorationsWithOwnerId(D){if(this._isDisposed)return;const k=this._decorationsTree.collectNodesFromOwner(D);for(let c=0,R=k.length;c<R;c++){const Y=k[c];this._decorationsTree.delete(Y),delete this._decorations[Y.id]}}getDecorationOptions(D){const k=this._decorations[D];return k?k.options:null}getDecorationRange(D){const k=this._decorations[D];return k?this._decorationsTree.getNodeRange(this,k):null}getLineDecorations(D,k=0,c=!1){return D<1||D>this.getLineCount()?[]:this.getLinesDecorations(D,D,k,c)}getLinesDecorations(D,k,c=0,R=!1){const Y=this.getLineCount(),ge=Math.min(Y,Math.max(1,D)),Oe=Math.min(Y,Math.max(1,k)),Ue=this.getLineMaxColumn(Oe),rt=new g.e(ge,1,Oe,Ue),ct=this._getDecorationsInRange(rt,c,R);return(0,b.vA)(ct,this._decorationProvider.getDecorationsInRange(rt,c,R)),ct}getDecorationsInRange(D,k=0,c=!1){const R=this.validateRange(D),Y=this._getDecorationsInRange(R,k,c);return(0,b.vA)(Y,this._decorationProvider.getDecorationsInRange(R,k,c)),Y}getOverviewRulerDecorations(D=0,k=!1){return this._decorationsTree.getAll(this,D,k,!0)}getInjectedTextDecorations(D=0){return this._decorationsTree.getAllInjectedText(this,D)}_getInjectedTextInLine(D){const k=this._buffer.getOffsetAt(D,1),c=k+this._buffer.getLineLength(D),R=this._decorationsTree.getInjectedTextInInterval(this,k,c,0);return lt.gk.fromDecorations(R).filter(Y=>Y.lineNumber===D)}getAllDecorations(D=0,k=!1){let c=this._decorationsTree.getAll(this,D,k,!1);return c=c.concat(this._decorationProvider.getAllDecorations(D,k)),c}_getDecorationsInRange(D,k,c){const R=this._buffer.getOffsetAt(D.startLineNumber,D.startColumn),Y=this._buffer.getOffsetAt(D.endLineNumber,D.endColumn);return this._decorationsTree.getAllInInterval(this,R,Y,k,c)}getRangeAt(D,k){return this._buffer.getRangeAt(D,k-D)}_changeDecorationImpl(D,k){const c=this._decorations[D];if(!c)return;if(c.options.after){const Oe=this.getDecorationRange(D);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Oe.endLineNumber)}if(c.options.before){const Oe=this.getDecorationRange(D);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Oe.startLineNumber)}const R=this._validateRangeRelaxedNoAllocations(k),Y=this._buffer.getOffsetAt(R.startLineNumber,R.startColumn),ge=this._buffer.getOffsetAt(R.endLineNumber,R.endColumn);this._decorationsTree.delete(c),c.reset(this.getVersionId(),Y,ge,R),this._decorationsTree.insert(c),this._onDidChangeDecorations.checkAffectedAndFire(c.options),c.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(R.endLineNumber),c.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(R.startLineNumber)}_changeDecorationOptionsImpl(D,k){const c=this._decorations[D];if(!c)return;const R=!!(c.options.overviewRuler&&c.options.overviewRuler.color),Y=!!(k.overviewRuler&&k.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(c.options),this._onDidChangeDecorations.checkAffectedAndFire(k),c.options.after||k.after){const ge=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.endLineNumber)}if(c.options.before||k.before){const ge=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.startLineNumber)}R!==Y?(this._decorationsTree.delete(c),c.setOptions(k),this._decorationsTree.insert(c)):c.setOptions(k)}_deltaDecorationsImpl(D,k,c){const R=this.getVersionId(),Y=k.length;let ge=0;const Oe=c.length;let Ue=0;const rt=new Array(Oe);for(;ge<Y||Ue<Oe;){let ct=null;if(ge<Y){do ct=this._decorations[k[ge++]];while(!ct&&ge<Y);if(ct){if(ct.options.after){const Tt=this._decorationsTree.getNodeRange(this,ct);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Tt.endLineNumber)}if(ct.options.before){const Tt=this._decorationsTree.getNodeRange(this,ct);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Tt.startLineNumber)}this._decorationsTree.delete(ct),this._onDidChangeDecorations.checkAffectedAndFire(ct.options)}}if(Ue<Oe){if(!ct){const fi=++this._lastDecorationId,Ei=`${this._instanceId};${fi}`;ct=new Ft(Ei,0,0),this._decorations[Ei]=ct}const Tt=c[Ue],Bt=this._validateRangeRelaxedNoAllocations(Tt.range),Kt=On(Tt.options),hi=this._buffer.getOffsetAt(Bt.startLineNumber,Bt.startColumn),di=this._buffer.getOffsetAt(Bt.endLineNumber,Bt.endColumn);ct.ownerId=D,ct.reset(R,hi,di,Bt),ct.setOptions(Kt),ct.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Bt.endLineNumber),ct.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Bt.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(Kt),this._decorationsTree.insert(ct),rt[Ue]=ct.id,Ue++}else ct&&delete this._decorations[ct.id]}return rt}getLanguageId(){return this.tokenization.getLanguageId()}setMode(D){this.tokenization.setLanguageId(D)}getLanguageIdAtPosition(D,k){return this.tokenization.getLanguageIdAtPosition(D,k)}getWordAtPosition(D){return this._tokenizationTextModelPart.getWordAtPosition(D)}getWordUntilPosition(D){return this._tokenizationTextModelPart.getWordUntilPosition(D)}normalizePosition(D,k){return D}getLineIndentColumn(D){return Nn(this.getLineContent(D))+1}};Mn.MODEL_SYNC_LIMIT=50*1024*1024,Mn.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,Mn.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,Mn.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:m.D.tabSize,indentSize:m.D.indentSize,insertSpaces:m.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:m.D.trimAutoWhitespace,largeFileOptimizations:m.D.largeFileOptimizations,bracketPairColorizationOptions:m.D.bracketPairColorizationOptions},Mn=Ut([ui(4,Rt.tJ),ui(5,i.O),ui(6,d.c_)],Mn);function Nn(Et){let D=0;for(const k of Et)if(k===" "||k==="	")D++;else break;return D}function yn(Et){return!!(Et.options.overviewRuler&&Et.options.overviewRuler.color)}function An(Et){return!!Et.options.after||!!Et.options.before}class Bn{constructor(){this._decorationsTree0=new Mt,this._decorationsTree1=new Mt,this._injectedTextDecorationsTree=new Mt}ensureAllNodesHaveRanges(D){this.getAll(D,0,!1,!1)}_ensureNodesHaveRanges(D,k){for(const c of k)c.range===null&&(c.range=D.getRangeAt(c.cachedAbsoluteStart,c.cachedAbsoluteEnd));return k}getAllInInterval(D,k,c,R,Y){const ge=D.getVersionId(),Oe=this._intervalSearch(k,c,R,Y,ge);return this._ensureNodesHaveRanges(D,Oe)}_intervalSearch(D,k,c,R,Y){const ge=this._decorationsTree0.intervalSearch(D,k,c,R,Y),Oe=this._decorationsTree1.intervalSearch(D,k,c,R,Y),Ue=this._injectedTextDecorationsTree.intervalSearch(D,k,c,R,Y);return ge.concat(Oe).concat(Ue)}getInjectedTextInInterval(D,k,c,R){const Y=D.getVersionId(),ge=this._injectedTextDecorationsTree.intervalSearch(k,c,R,!1,Y);return this._ensureNodesHaveRanges(D,ge).filter(Oe=>Oe.options.showIfCollapsed||!Oe.range.isEmpty())}getAllInjectedText(D,k){const c=D.getVersionId(),R=this._injectedTextDecorationsTree.search(k,!1,c);return this._ensureNodesHaveRanges(D,R).filter(Y=>Y.options.showIfCollapsed||!Y.range.isEmpty())}getAll(D,k,c,R){const Y=D.getVersionId(),ge=this._search(k,c,R,Y);return this._ensureNodesHaveRanges(D,ge)}_search(D,k,c,R){if(c)return this._decorationsTree1.search(D,k,R);{const Y=this._decorationsTree0.search(D,k,R),ge=this._decorationsTree1.search(D,k,R),Oe=this._injectedTextDecorationsTree.search(D,k,R);return Y.concat(ge).concat(Oe)}}collectNodesFromOwner(D){const k=this._decorationsTree0.collectNodesFromOwner(D),c=this._decorationsTree1.collectNodesFromOwner(D),R=this._injectedTextDecorationsTree.collectNodesFromOwner(D);return k.concat(c).concat(R)}collectNodesPostOrder(){const D=this._decorationsTree0.collectNodesPostOrder(),k=this._decorationsTree1.collectNodesPostOrder(),c=this._injectedTextDecorationsTree.collectNodesPostOrder();return D.concat(k).concat(c)}insert(D){An(D)?this._injectedTextDecorationsTree.insert(D):yn(D)?this._decorationsTree1.insert(D):this._decorationsTree0.insert(D)}delete(D){An(D)?this._injectedTextDecorationsTree.delete(D):yn(D)?this._decorationsTree1.delete(D):this._decorationsTree0.delete(D)}getNodeRange(D,k){const c=D.getVersionId();return k.cachedVersionId!==c&&this._resolveNode(k,c),k.range===null&&(k.range=D.getRangeAt(k.cachedAbsoluteStart,k.cachedAbsoluteEnd)),k.range}_resolveNode(D,k){An(D)?this._injectedTextDecorationsTree.resolveNode(D,k):yn(D)?this._decorationsTree1.resolveNode(D,k):this._decorationsTree0.resolveNode(D,k)}acceptReplace(D,k,c,R){this._decorationsTree0.acceptReplace(D,k,c,R),this._decorationsTree1.acceptReplace(D,k,c,R),this._injectedTextDecorationsTree.acceptReplace(D,k,c,R)}}function sn(Et){return Et.replace(/[^a-z0-9\-_]/gi," ")}class vn{constructor(D){this.color=D.color||"",this.darkColor=D.darkColor||""}}class Kn extends vn{constructor(D){super(D),this._resolvedColor=null,this.position=typeof D.position=="number"?D.position:_.sh.Center}getColor(D){return this._resolvedColor||(D.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,D):this._resolvedColor=this._resolveColor(this.color,D)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(D,k){if(typeof D=="string")return D;const c=D?k.getColor(D.id):null;return c?c.toString():""}}class gn extends vn{constructor(D){super(D),this.position=D.position}getColor(D){return this._resolvedColor||(D.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,D):this._resolvedColor=this._resolveColor(this.color,D)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(D,k){return typeof D=="string"?l.Il.fromHex(D):k.getColor(D.id)}}class yi{constructor(D){this.content=D.content||"",this.inlineClassName=D.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=D.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=D.attachedData||null,this.cursorStops=D.cursorStops||null}static from(D){return D instanceof yi?D:new yi(D)}}class $i{constructor(D){var k,c;this.description=D.description,this.blockClassName=D.blockClassName?sn(D.blockClassName):null,this.stickiness=D.stickiness||0,this.zIndex=D.zIndex||0,this.className=D.className?sn(D.className):null,this.hoverMessage=D.hoverMessage||null,this.glyphMarginHoverMessage=D.glyphMarginHoverMessage||null,this.isWholeLine=D.isWholeLine||!1,this.showIfCollapsed=D.showIfCollapsed||!1,this.collapseOnReplaceEdit=D.collapseOnReplaceEdit||!1,this.overviewRuler=D.overviewRuler?new Kn(D.overviewRuler):null,this.minimap=D.minimap?new gn(D.minimap):null,this.glyphMarginClassName=D.glyphMarginClassName?sn(D.glyphMarginClassName):null,this.linesDecorationsClassName=D.linesDecorationsClassName?sn(D.linesDecorationsClassName):null,this.firstLineDecorationClassName=D.firstLineDecorationClassName?sn(D.firstLineDecorationClassName):null,this.marginClassName=D.marginClassName?sn(D.marginClassName):null,this.inlineClassName=D.inlineClassName?sn(D.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=D.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=D.beforeContentClassName?sn(D.beforeContentClassName):null,this.afterContentClassName=D.afterContentClassName?sn(D.afterContentClassName):null,this.after=D.after?yi.from(D.after):null,this.before=D.before?yi.from(D.before):null,this.hideInCommentTokens=(k=D.hideInCommentTokens)!==null&&k!==void 0?k:!1,this.hideInStringTokens=(c=D.hideInStringTokens)!==null&&c!==void 0?c:!1}static register(D){return new $i(D)}static createDynamic(D){return new $i(D)}}$i.EMPTY=$i.register({description:"empty"});const en=[$i.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),$i.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),$i.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),$i.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function On(Et){return Et instanceof $i?Et:$i.createDynamic(Et)}class us extends E.JT{constructor(D){super(),this.handleBeforeFire=D,this._actual=this._register(new j.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var D;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const k={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(k)}(D=this._affectedInjectedTextLines)===null||D===void 0||D.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(D){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(D)}checkAffectedAndFire(D){this._affectsMinimap||(this._affectsMinimap=!!(D.minimap&&D.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(D.overviewRuler&&D.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class rs extends E.JT{constructor(){super(),this._fastEmitter=this._register(new j.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new j.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(D=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=D;const k=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(k),this._slowEmitter.fire(k)}}fire(D){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(D):this._deferredEvent=D;return}this._fastEmitter.fire(D),this._slowEmitter.fire(D)}}},94954:function(Yt,Ye,s){"use strict";s.d(Ye,{U:function(){return l}});var b=s(5976);class l extends b.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},77277:function(Yt,Ye,s){"use strict";s.d(Ye,{bc:function(){return B},cM:function(){return i},iE:function(){return O},pM:function(){return g},sz:function(){return d}});var b=s(97295),l=s(24929),z=s(50187),j=s(24314),E=s(84973);const Z=999;class B{constructor(v,p,L,T){this.searchString=v,this.isRegex=p,this.matchCase=L,this.wordSeparators=T}parseSearchRequest(){if(this.searchString==="")return null;let v;this.isRegex?v=H(this.searchString):v=this.searchString.indexOf(`
`)>=0;let p=null;try{p=b.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:v,global:!0,unicode:!0})}catch{return null}if(!p)return null;let L=!this.isRegex&&!v;return L&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(L=this.matchCase),new E.Tx(p,this.wordSeparators?(0,l.u)(this.wordSeparators):null,L?this.searchString:null)}}function H(_){if(!_||_.length===0)return!1;for(let v=0,p=_.length;v<p;v++){const L=_.charCodeAt(v);if(L===10)return!0;if(L===92){if(v++,v>=p)break;const T=_.charCodeAt(v);if(T===110||T===114||T===87)return!0}}return!1}function O(_,v,p){if(!p)return new E.tk(_,null);const L=[];for(let T=0,M=v.length;T<M;T++)L[T]=v[T];return new E.tk(_,L)}class y{constructor(v){const p=[];let L=0;for(let T=0,M=v.length;T<M;T++)v.charCodeAt(T)===10&&(p[L++]=T);this._lineFeedsOffsets=p}findLineFeedCountBeforeOffset(v){const p=this._lineFeedsOffsets;let L=0,T=p.length-1;if(T===-1||v<=p[0])return 0;for(;L<T;){const M=L+((T-L)/2>>0);p[M]>=v?T=M-1:p[M+1]>=v?(L=M,T=M):L=M+1}return L+1}}class g{static findMatches(v,p,L,T,M){const I=p.parseSearchRequest();return I?I.regex.multiline?this._doFindMatchesMultiline(v,L,new d(I.wordSeparators,I.regex),T,M):this._doFindMatchesLineByLine(v,L,I,T,M):[]}static _getMultilineMatchRange(v,p,L,T,M,I){let P,V=0;T?(V=T.findLineFeedCountBeforeOffset(M),P=p+M+V):P=p+M;let $;if(T){const se=T.findLineFeedCountBeforeOffset(M+I.length)-V;$=P+I.length+se}else $=P+I.length;const re=v.getPositionAt(P),ae=v.getPositionAt($);return new j.e(re.lineNumber,re.column,ae.lineNumber,ae.column)}static _doFindMatchesMultiline(v,p,L,T,M){const I=v.getOffsetAt(p.getStartPosition()),P=v.getValueInRange(p,1),V=v.getEOL()===`\r
`?new y(P):null,$=[];let re=0,ae;for(L.reset(0);ae=L.next(P);)if($[re++]=O(this._getMultilineMatchRange(v,I,P,V,ae.index,ae[0]),ae,T),re>=M)return $;return $}static _doFindMatchesLineByLine(v,p,L,T,M){const I=[];let P=0;if(p.startLineNumber===p.endLineNumber){const $=v.getLineContent(p.startLineNumber).substring(p.startColumn-1,p.endColumn-1);return P=this._findMatchesInLine(L,$,p.startLineNumber,p.startColumn-1,P,I,T,M),I}const V=v.getLineContent(p.startLineNumber).substring(p.startColumn-1);P=this._findMatchesInLine(L,V,p.startLineNumber,p.startColumn-1,P,I,T,M);for(let $=p.startLineNumber+1;$<p.endLineNumber&&P<M;$++)P=this._findMatchesInLine(L,v.getLineContent($),$,0,P,I,T,M);if(P<M){const $=v.getLineContent(p.endLineNumber).substring(0,p.endColumn-1);P=this._findMatchesInLine(L,$,p.endLineNumber,0,P,I,T,M)}return I}static _findMatchesInLine(v,p,L,T,M,I,P,V){const $=v.wordSeparators;if(!P&&v.simpleSearch){const ie=v.simpleSearch,se=ie.length,X=p.length;let ne=-se;for(;(ne=p.indexOf(ie,ne+se))!==-1;)if((!$||i($,p,X,ne,se))&&(I[M++]=new E.tk(new j.e(L,ne+1+T,L,ne+1+se+T),null),M>=V))return M;return M}const re=new d(v.wordSeparators,v.regex);let ae;re.reset(0);do if(ae=re.next(p),ae&&(I[M++]=O(new j.e(L,ae.index+1+T,L,ae.index+1+ae[0].length+T),ae,P),M>=V))return M;while(ae);return M}static findNextMatch(v,p,L,T){const M=p.parseSearchRequest();if(!M)return null;const I=new d(M.wordSeparators,M.regex);return M.regex.multiline?this._doFindNextMatchMultiline(v,L,I,T):this._doFindNextMatchLineByLine(v,L,I,T)}static _doFindNextMatchMultiline(v,p,L,T){const M=new z.L(p.lineNumber,1),I=v.getOffsetAt(M),P=v.getLineCount(),V=v.getValueInRange(new j.e(M.lineNumber,M.column,P,v.getLineMaxColumn(P)),1),$=v.getEOL()===`\r
`?new y(V):null;L.reset(p.column-1);const re=L.next(V);return re?O(this._getMultilineMatchRange(v,I,V,$,re.index,re[0]),re,T):p.lineNumber!==1||p.column!==1?this._doFindNextMatchMultiline(v,new z.L(1,1),L,T):null}static _doFindNextMatchLineByLine(v,p,L,T){const M=v.getLineCount(),I=p.lineNumber,P=v.getLineContent(I),V=this._findFirstMatchInLine(L,P,I,p.column,T);if(V)return V;for(let $=1;$<=M;$++){const re=(I+$-1)%M,ae=v.getLineContent(re+1),ie=this._findFirstMatchInLine(L,ae,re+1,1,T);if(ie)return ie}return null}static _findFirstMatchInLine(v,p,L,T,M){v.reset(T-1);const I=v.next(p);return I?O(new j.e(L,I.index+1,L,I.index+1+I[0].length),I,M):null}static findPreviousMatch(v,p,L,T){const M=p.parseSearchRequest();if(!M)return null;const I=new d(M.wordSeparators,M.regex);return M.regex.multiline?this._doFindPreviousMatchMultiline(v,L,I,T):this._doFindPreviousMatchLineByLine(v,L,I,T)}static _doFindPreviousMatchMultiline(v,p,L,T){const M=this._doFindMatchesMultiline(v,new j.e(1,1,p.lineNumber,p.column),L,T,10*Z);if(M.length>0)return M[M.length-1];const I=v.getLineCount();return p.lineNumber!==I||p.column!==v.getLineMaxColumn(I)?this._doFindPreviousMatchMultiline(v,new z.L(I,v.getLineMaxColumn(I)),L,T):null}static _doFindPreviousMatchLineByLine(v,p,L,T){const M=v.getLineCount(),I=p.lineNumber,P=v.getLineContent(I).substring(0,p.column-1),V=this._findLastMatchInLine(L,P,I,T);if(V)return V;for(let $=1;$<=M;$++){const re=(M+I-$-1)%M,ae=v.getLineContent(re+1),ie=this._findLastMatchInLine(L,ae,re+1,T);if(ie)return ie}return null}static _findLastMatchInLine(v,p,L,T){let M=null,I;for(v.reset(0);I=v.next(p);)M=O(new j.e(L,I.index+1,L,I.index+1+I[0].length),I,T);return M}}function C(_,v,p,L,T){if(L===0)return!0;const M=v.charCodeAt(L-1);if(_.get(M)!==0||M===13||M===10)return!0;if(T>0){const I=v.charCodeAt(L);if(_.get(I)!==0)return!0}return!1}function m(_,v,p,L,T){if(L+T===p)return!0;const M=v.charCodeAt(L+T);if(_.get(M)!==0||M===13||M===10)return!0;if(T>0){const I=v.charCodeAt(L+T-1);if(_.get(I)!==0)return!0}return!1}function i(_,v,p,L,T){return C(_,v,p,L,T)&&m(_,v,p,L,T)}class d{constructor(v,p){this._wordSeparators=v,this._searchRegex=p,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(v){this._searchRegex.lastIndex=v,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(v){const p=v.length;let L;do{if(this._prevMatchStartIndex+this._prevMatchLength===p||(L=this._searchRegex.exec(v),!L))return null;const T=L.index,M=L[0].length;if(T===this._prevMatchStartIndex&&M===this._prevMatchLength){if(M===0){b.ZH(v,p,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=T,this._prevMatchLength=M,!this._wordSeparators||i(this._wordSeparators,v,p,T,M))return L}while(L);return null}}},59616:function(Yt,Ye,s){"use strict";s.d(Ye,{q:function(){return b}});function b(l,z){let j=0,E=0;const Z=l.length;for(;E<Z;){const B=l.charCodeAt(E);if(B===32)j++;else if(B===9)j=j-j%z+z;else break;E++}return E===Z?-1:j}},85215:function(Yt,Ye,s){"use strict";s.d(Ye,{p:function(){return z}});var b=s(72065);const z=(0,b.yh)("editorWorkerService")},32670:function(Yt,Ye,s){"use strict";s.d(Ye,{OG:function(){return re},ML:function(){return M},KO:function(){return V},Jc:function(){return L},Vl:function(){return _},Vj:function(){return v}});var b=s(71050),l=s(17301),z=s(70666),j=s(73733),E=s(94565),Z=s(98401),B=s(53060),H=s(1432);function O(ae){for(let ie=0,se=ae.length;ie<se;ie+=4){const X=ae[ie+0],ne=ae[ie+1],Q=ae[ie+2],F=ae[ie+3];ae[ie+0]=F,ae[ie+1]=Q,ae[ie+2]=ne,ae[ie+3]=X}}function y(ae){const ie=new Uint8Array(ae.buffer,ae.byteOffset,ae.length*4);return H.r()||O(ie),B.KN.wrap(ie)}function g(ae){const ie=new Uint32Array(C(ae));let se=0;if(ie[se++]=ae.id,ae.type==="full")ie[se++]=1,ie[se++]=ae.data.length,ie.set(ae.data,se),se+=ae.data.length;else{ie[se++]=2,ie[se++]=ae.deltas.length;for(const X of ae.deltas)ie[se++]=X.start,ie[se++]=X.deleteCount,X.data?(ie[se++]=X.data.length,ie.set(X.data,se),se+=X.data.length):ie[se++]=0}return y(ie)}function C(ae){let ie=0;if(ie+=2,ae.type==="full")ie+=1+ae.data.length;else{ie+=1,ie+=3*ae.deltas.length;for(const se of ae.deltas)se.data&&(ie+=se.data.length)}return ie}var m=s(24314),i=s(71922),d=function(ae,ie,se,X){function ne(Q){return Q instanceof se?Q:new se(function(F){F(Q)})}return new(se||(se=Promise))(function(Q,F){function te(q){try{G(X.next(q))}catch(me){F(me)}}function W(q){try{G(X.throw(q))}catch(me){F(me)}}function G(q){q.done?Q(q.value):ne(q.value).then(te,W)}G((X=X.apply(ae,ie||[])).next())})};function _(ae){return ae&&!!ae.data}function v(ae){return ae&&Array.isArray(ae.edits)}class p{constructor(ie,se,X){this.provider=ie,this.tokens=se,this.error=X}}function L(ae,ie){return ae.has(ie)}function T(ae,ie){const se=ae.orderedGroups(ie);return se.length>0?se[0]:[]}function M(ae,ie,se,X,ne){return d(this,void 0,void 0,function*(){const Q=T(ae,ie),F=yield Promise.all(Q.map(te=>d(this,void 0,void 0,function*(){let W,G=null;try{W=yield te.provideDocumentSemanticTokens(ie,te===se?X:null,ne)}catch(q){G=q,W=null}return(!W||!_(W)&&!v(W))&&(W=null),new p(te,W,G)})));for(const te of F){if(te.error)throw te.error;if(te.tokens)return te}return F.length>0?F[0]:null})}function I(ae,ie){const se=ae.orderedGroups(ie);return se.length>0?se[0]:null}class P{constructor(ie,se){this.provider=ie,this.tokens=se}}function V(ae,ie){return ae.has(ie)}function $(ae,ie){const se=ae.orderedGroups(ie);return se.length>0?se[0]:[]}function re(ae,ie,se,X){return d(this,void 0,void 0,function*(){const ne=$(ae,ie),Q=yield Promise.all(ne.map(F=>d(this,void 0,void 0,function*(){let te;try{te=yield F.provideDocumentRangeSemanticTokens(ie,se,X)}catch(W){(0,l.Cp)(W),te=null}return(!te||!_(te))&&(te=null),new P(F,te)})));for(const F of Q)if(F.tokens)return F;return Q.length>0?Q[0]:null})}E.P0.registerCommand("_provideDocumentSemanticTokensLegend",(ae,...ie)=>d(void 0,void 0,void 0,function*(){const[se]=ie;(0,Z.p_)(se instanceof z.o);const X=ae.get(j.q).getModel(se);if(!X)return;const{documentSemanticTokensProvider:ne}=ae.get(i.p),Q=I(ne,X);return Q?Q[0].getLegend():ae.get(E.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",se)})),E.P0.registerCommand("_provideDocumentSemanticTokens",(ae,...ie)=>d(void 0,void 0,void 0,function*(){const[se]=ie;(0,Z.p_)(se instanceof z.o);const X=ae.get(j.q).getModel(se);if(!X)return;const{documentSemanticTokensProvider:ne}=ae.get(i.p);if(!L(ne,X))return ae.get(E.Hy).executeCommand("_provideDocumentRangeSemanticTokens",se,X.getFullModelRange());const Q=yield M(ne,X,null,null,b.T.None);if(!Q)return;const{provider:F,tokens:te}=Q;if(!te||!_(te))return;const W=g({id:0,type:"full",data:te.data});return te.resultId&&F.releaseDocumentSemanticTokens(te.resultId),W})),E.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(ae,...ie)=>d(void 0,void 0,void 0,function*(){const[se,X]=ie;(0,Z.p_)(se instanceof z.o);const ne=ae.get(j.q).getModel(se);if(!ne)return;const{documentRangeSemanticTokensProvider:Q}=ae.get(i.p),F=$(Q,ne);if(F.length===0)return;if(F.length===1)return F[0].getLegend();if(!X||!m.e.isIRange(X))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),F[0].getLegend();const te=yield re(Q,ne,m.e.lift(X),b.T.None);if(te)return te.provider.getLegend()})),E.P0.registerCommand("_provideDocumentRangeSemanticTokens",(ae,...ie)=>d(void 0,void 0,void 0,function*(){const[se,X]=ie;(0,Z.p_)(se instanceof z.o),(0,Z.p_)(m.e.isIRange(X));const ne=ae.get(j.q).getModel(se);if(!ne)return;const{documentRangeSemanticTokensProvider:Q}=ae.get(i.p),F=yield re(Q,ne,m.e.lift(X),b.T.None);if(!(!F||!F.tokens))return g({id:0,type:"full",data:F.tokens.data})}))},88191:function(Yt,Ye,s){"use strict";s.d(Ye,{A:function(){return y}});var b=s(89954),l=s(43702),z=s(59870),j=s(65026),E=s(72065),Z=s(43557),B=s(50988),H=function(i,d,_,v){var p=arguments.length,L=p<3?d:v===null?v=Object.getOwnPropertyDescriptor(d,_):v,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(i,d,_,v);else for(var M=i.length-1;M>=0;M--)(T=i[M])&&(L=(p<3?T(L):p>3?T(d,_,L):T(d,_))||L);return p>3&&L&&Object.defineProperty(d,_,L),L},O=function(i,d){return function(_,v){d(_,v,i)}};const y=(0,E.yh)("ILanguageFeatureDebounceService");var g;(function(i){const d=new WeakMap;let _=0;function v(p){let L=d.get(p);return L===void 0&&(L=++_,d.set(p,L)),L}i.of=v})(g||(g={}));class C{constructor(d,_,v,p,L,T){this._logService=d,this._name=_,this._registry=v,this._default=p,this._min=L,this._max=T,this._cache=new l.z6(50,.7)}_key(d){return d.id+this._registry.all(d).reduce((_,v)=>(0,b.SP)(g.of(v),_),0)}get(d){const _=this._key(d),v=this._cache.get(_);return v?(0,z.uZ)(v.value,this._min,this._max):this.default()}update(d,_){const v=this._key(d);let p=this._cache.get(v);p||(p=new z.N(6),this._cache.set(v,p));const L=(0,z.uZ)(p.update(_),this._min,this._max);return(0,B.xn)(d.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${d.uri.toString()} is ${L}ms`),L}_overall(){const d=new z.nM;for(const[,_]of this._cache)d.update(_.value);return d.value}default(){const d=this._overall()|0||this._default;return(0,z.uZ)(d,this._min,this._max)}}let m=class{constructor(d){this._logService=d,this._data=new Map}for(d,_,v){var p,L,T;const M=(p=v?.min)!==null&&p!==void 0?p:50,I=(L=v?.max)!==null&&L!==void 0?L:Math.pow(M,2),P=(T=v?.key)!==null&&T!==void 0?T:void 0,V=`${g.of(d)},${M}${P?","+P:""}`;let $=this._data.get(V);return $||($=new C(this._logService,_,d,this._overallAverage()|0||M*1.5,M,I),this._data.set(V,$)),$}_overallAverage(){const d=new z.nM;for(const _ of this._data.values())d.update(_.default());return d.value}};m=H([O(0,Z.VZ)],m),(0,j.z)(y,m,!0)},71922:function(Yt,Ye,s){"use strict";s.d(Ye,{p:function(){return l}});var b=s(72065);const l=(0,b.yh)("ILanguageFeaturesService")},36357:function(Yt,Ye,s){"use strict";s.d(Ye,{i:function(){return l}});var b=s(72065);const l=(0,b.yh)("markerDecorationsService")},73733:function(Yt,Ye,s){"use strict";s.d(Ye,{q:function(){return l}});var b=s(72065);const l=(0,b.yh)("modelService")},51200:function(Yt,Ye,s){"use strict";s.d(Ye,{b$:function(){return te},e3:function(){return W},tw:function(){return G}});var b=s(4669),l=s(5976),z=s(1432),j=s(17301),E=s(22529),Z=s(22075),B=s(68801),H=s(72042),O=s(73733),y=s(71765),g=s(33108),C=s(15393),m=s(71050),i=s(97781),d=s(43557),_=s(64862),v=s(89954),p=s(95215),L=s(66663),T=s(68997),M=s(32670),I=s(36248),P=s(4256),V=s(88191),$=s(84013),re=s(71922),ae=function(xe,Ne,Ve,Ce){var Ae=arguments.length,$e=Ae<3?Ne:Ce===null?Ce=Object.getOwnPropertyDescriptor(Ne,Ve):Ce,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$e=Reflect.decorate(xe,Ne,Ve,Ce);else for(var at=xe.length-1;at>=0;at--)(je=xe[at])&&($e=(Ae<3?je($e):Ae>3?je(Ne,Ve,$e):je(Ne,Ve))||$e);return Ae>3&&$e&&Object.defineProperty(Ne,Ve,$e),$e},ie=function(xe,Ne){return function(Ve,Ce){Ne(Ve,Ce,xe)}};function se(xe){return xe.toString()}function X(xe){const Ne=new v.yP,Ve=xe.createSnapshot();let Ce;for(;Ce=Ve.read();)Ne.update(Ce);return Ne.digest()}class ne{constructor(Ne,Ve,Ce){this._modelEventListeners=new l.SL,this.model=Ne,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(Ne.onWillDispose(()=>Ve(Ne))),this._modelEventListeners.add(Ne.onDidChangeLanguage(Ae=>Ce(Ne,Ae)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(Ne){this._disposeLanguageSelection(),this._languageSelection=Ne,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(Ne.languageId)),this.model.setMode(Ne.languageId)}}const Q=z.IJ||z.dz?1:2;class F{constructor(Ne,Ve,Ce,Ae,$e,je,at,pt){this.uri=Ne,this.initialUndoRedoSnapshot=Ve,this.time=Ce,this.sharesUndoRedoStack=Ae,this.heapSize=$e,this.sha1=je,this.versionId=at,this.alternativeVersionId=pt}}let te=class Bc extends l.JT{constructor(Ne,Ve,Ce,Ae,$e,je,at,pt,bt){super(),this._configurationService=Ne,this._resourcePropertiesService=Ve,this._themeService=Ce,this._logService=Ae,this._undoRedoService=$e,this._languageService=je,this._languageConfigurationService=at,this._languageFeatureDebounceService=pt,this._onModelAdded=this._register(new b.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new b.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new b.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new me(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new q(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,bt))}static _readModelOptions(Ne,Ve){var Ce;let Ae=Z.D.tabSize;if(Ne.editor&&typeof Ne.editor.tabSize<"u"){const ye=parseInt(Ne.editor.tabSize,10);isNaN(ye)||(Ae=ye),Ae<1&&(Ae=1)}let $e=Ae;if(Ne.editor&&typeof Ne.editor.indentSize<"u"&&Ne.editor.indentSize!=="tabSize"){const ye=parseInt(Ne.editor.indentSize,10);isNaN(ye)||($e=ye),$e<1&&($e=1)}let je=Z.D.insertSpaces;Ne.editor&&typeof Ne.editor.insertSpaces<"u"&&(je=Ne.editor.insertSpaces==="false"?!1:!!Ne.editor.insertSpaces);let at=Q;const pt=Ne.eol;pt===`\r
`?at=2:pt===`
`&&(at=1);let bt=Z.D.trimAutoWhitespace;Ne.editor&&typeof Ne.editor.trimAutoWhitespace<"u"&&(bt=Ne.editor.trimAutoWhitespace==="false"?!1:!!Ne.editor.trimAutoWhitespace);let We=Z.D.detectIndentation;Ne.editor&&typeof Ne.editor.detectIndentation<"u"&&(We=Ne.editor.detectIndentation==="false"?!1:!!Ne.editor.detectIndentation);let it=Z.D.largeFileOptimizations;Ne.editor&&typeof Ne.editor.largeFileOptimizations<"u"&&(it=Ne.editor.largeFileOptimizations==="false"?!1:!!Ne.editor.largeFileOptimizations);let pe=Z.D.bracketPairColorizationOptions;return!((Ce=Ne.editor)===null||Ce===void 0)&&Ce.bracketPairColorization&&typeof Ne.editor.bracketPairColorization=="object"&&(pe={enabled:!!Ne.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!Ne.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:Ve,tabSize:Ae,indentSize:$e,insertSpaces:je,detectIndentation:We,defaultEOL:at,trimAutoWhitespace:bt,largeFileOptimizations:it,bracketPairColorizationOptions:pe}}_getEOL(Ne,Ve){if(Ne)return this._resourcePropertiesService.getEOL(Ne,Ve);const Ce=this._configurationService.getValue("files.eol",{overrideIdentifier:Ve});return Ce&&typeof Ce=="string"&&Ce!=="auto"?Ce:z.OS===3||z.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const Ne=this._configurationService.getValue("files.restoreUndoStack");return typeof Ne=="boolean"?Ne:!0}getCreationOptions(Ne,Ve,Ce){let Ae=this._modelCreationOptionsByLanguageAndResource[Ne+Ve];if(!Ae){const $e=this._configurationService.getValue("editor",{overrideIdentifier:Ne,resource:Ve}),je=this._getEOL(Ve,Ne);Ae=Bc._readModelOptions({editor:$e,eol:je},Ce),this._modelCreationOptionsByLanguageAndResource[Ne+Ve]=Ae}return Ae}_updateModelOptions(){const Ne=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Ve=Object.keys(this._models);for(let Ce=0,Ae=Ve.length;Ce<Ae;Ce++){const $e=Ve[Ce],je=this._models[$e],at=je.model.getLanguageId(),pt=je.model.uri,bt=Ne[at+pt],We=this.getCreationOptions(at,pt,je.model.isForSimpleWidget);Bc._setModelOptionsForModel(je.model,We,bt)}}static _setModelOptionsForModel(Ne,Ve,Ce){Ce&&Ce.defaultEOL!==Ve.defaultEOL&&Ne.getLineCount()===1&&Ne.setEOL(Ve.defaultEOL===1?0:1),!(Ce&&Ce.detectIndentation===Ve.detectIndentation&&Ce.insertSpaces===Ve.insertSpaces&&Ce.tabSize===Ve.tabSize&&Ce.indentSize===Ve.indentSize&&Ce.trimAutoWhitespace===Ve.trimAutoWhitespace&&(0,I.fS)(Ce.bracketPairColorizationOptions,Ve.bracketPairColorizationOptions))&&(Ve.detectIndentation?(Ne.detectIndentation(Ve.insertSpaces,Ve.tabSize),Ne.updateOptions({trimAutoWhitespace:Ve.trimAutoWhitespace,bracketColorizationOptions:Ve.bracketPairColorizationOptions})):Ne.updateOptions({insertSpaces:Ve.insertSpaces,tabSize:Ve.tabSize,indentSize:Ve.indentSize,trimAutoWhitespace:Ve.trimAutoWhitespace,bracketColorizationOptions:Ve.bracketPairColorizationOptions}))}_insertDisposedModel(Ne){this._disposedModels.set(se(Ne.uri),Ne),this._disposedModelsHeapSize+=Ne.heapSize}_removeDisposedModel(Ne){const Ve=this._disposedModels.get(se(Ne));return Ve&&(this._disposedModelsHeapSize-=Ve.heapSize),this._disposedModels.delete(se(Ne)),Ve}_ensureDisposedModelsHeapSize(Ne){if(this._disposedModelsHeapSize>Ne){const Ve=[];for(this._disposedModels.forEach(Ce=>{Ce.sharesUndoRedoStack||Ve.push(Ce)}),Ve.sort((Ce,Ae)=>Ce.time-Ae.time);Ve.length>0&&this._disposedModelsHeapSize>Ne;){const Ce=Ve.shift();this._removeDisposedModel(Ce.uri),Ce.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Ce.initialUndoRedoSnapshot)}}}_createModelData(Ne,Ve,Ce,Ae){const $e=this.getCreationOptions(Ve,Ce,Ae),je=new E.yO(Ne,Ve,$e,Ce,this._undoRedoService,this._languageService,this._languageConfigurationService);if(Ce&&this._disposedModels.has(se(Ce))){const bt=this._removeDisposedModel(Ce),We=this._undoRedoService.getElements(Ce),it=X(je)===bt.sha1;if(it||bt.sharesUndoRedoStack){for(const pe of We.past)(0,p.e9)(pe)&&pe.matchesResource(Ce)&&pe.setModel(je);for(const pe of We.future)(0,p.e9)(pe)&&pe.matchesResource(Ce)&&pe.setModel(je);this._undoRedoService.setElementsValidFlag(Ce,!0,pe=>(0,p.e9)(pe)&&pe.matchesResource(Ce)),it&&(je._overwriteVersionId(bt.versionId),je._overwriteAlternativeVersionId(bt.alternativeVersionId),je._overwriteInitialUndoRedoSnapshot(bt.initialUndoRedoSnapshot))}else bt.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(bt.initialUndoRedoSnapshot)}const at=se(je.uri);if(this._models[at])throw new Error("ModelService: Cannot add model because it already exists!");const pt=new ne(je,bt=>this._onWillDispose(bt),(bt,We)=>this._onDidChangeLanguage(bt,We));return this._models[at]=pt,pt}createModel(Ne,Ve,Ce,Ae=!1){let $e;return Ve?($e=this._createModelData(Ne,Ve.languageId,Ce,Ae),this.setMode($e.model,Ve)):$e=this._createModelData(Ne,B.bd,Ce,Ae),this._onModelAdded.fire($e.model),$e.model}setMode(Ne,Ve){if(!Ve)return;const Ce=this._models[se(Ne.uri)];Ce&&Ce.setLanguage(Ve)}getModels(){const Ne=[],Ve=Object.keys(this._models);for(let Ce=0,Ae=Ve.length;Ce<Ae;Ce++){const $e=Ve[Ce];Ne.push(this._models[$e].model)}return Ne}getModel(Ne){const Ve=se(Ne),Ce=this._models[Ve];return Ce?Ce.model:null}getSemanticTokensProviderStyling(Ne){return this._semanticStyling.get(Ne)}_schemaShouldMaintainUndoRedoElements(Ne){return Ne.scheme===L.lg.file||Ne.scheme===L.lg.vscodeRemote||Ne.scheme===L.lg.vscodeUserData||Ne.scheme===L.lg.vscodeNotebookCell||Ne.scheme==="fake-fs"}_onWillDispose(Ne){const Ve=se(Ne.uri),Ce=this._models[Ve],Ae=this._undoRedoService.getUriComparisonKey(Ne.uri)!==Ne.uri.toString();let $e=!1,je=0;if(Ae||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(Ne.uri)){const pt=this._undoRedoService.getElements(Ne.uri);if(pt.past.length>0||pt.future.length>0){for(const bt of pt.past)(0,p.e9)(bt)&&bt.matchesResource(Ne.uri)&&($e=!0,je+=bt.heapSize(Ne.uri),bt.setModel(Ne.uri));for(const bt of pt.future)(0,p.e9)(bt)&&bt.matchesResource(Ne.uri)&&($e=!0,je+=bt.heapSize(Ne.uri),bt.setModel(Ne.uri))}}const at=Bc.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if($e)if(!Ae&&je>at){const pt=Ce.model.getInitialUndoRedoSnapshot();pt!==null&&this._undoRedoService.restoreSnapshot(pt)}else this._ensureDisposedModelsHeapSize(at-je),this._undoRedoService.setElementsValidFlag(Ne.uri,!1,pt=>(0,p.e9)(pt)&&pt.matchesResource(Ne.uri)),this._insertDisposedModel(new F(Ne.uri,Ce.model.getInitialUndoRedoSnapshot(),Date.now(),Ae,je,X(Ne),Ne.getVersionId(),Ne.getAlternativeVersionId()));else if(!Ae){const pt=Ce.model.getInitialUndoRedoSnapshot();pt!==null&&this._undoRedoService.restoreSnapshot(pt)}delete this._models[Ve],Ce.dispose(),delete this._modelCreationOptionsByLanguageAndResource[Ne.getLanguageId()+Ne.uri],this._onModelRemoved.fire(Ne)}_onDidChangeLanguage(Ne,Ve){const Ce=Ve.oldLanguage,Ae=Ne.getLanguageId(),$e=this.getCreationOptions(Ce,Ne.uri,Ne.isForSimpleWidget),je=this.getCreationOptions(Ae,Ne.uri,Ne.isForSimpleWidget);Bc._setModelOptionsForModel(Ne,je,$e),this._onModelModeChanged.fire({model:Ne,oldLanguageId:Ce})}};te.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,te=ae([ie(0,g.Ui),ie(1,y.y),ie(2,i.XE),ie(3,d.VZ),ie(4,_.tJ),ie(5,H.O),ie(6,P.c_),ie(7,V.A),ie(8,re.p)],te);const W="editor.semanticHighlighting";function G(xe,Ne,Ve){var Ce;const Ae=(Ce=Ve.getValue(W,{overrideIdentifier:xe.getLanguageId(),resource:xe.uri}))===null||Ce===void 0?void 0:Ce.enabled;return typeof Ae=="boolean"?Ae:Ne.getColorTheme().semanticHighlighting}let q=class extends l.JT{constructor(Ne,Ve,Ce,Ae,$e,je){super(),this._watchers=Object.create(null),this._semanticStyling=Ne;const at=We=>{this._watchers[We.uri.toString()]=new we(We,this._semanticStyling,Ce,$e,je)},pt=(We,it)=>{it.dispose(),delete this._watchers[We.uri.toString()]},bt=()=>{for(const We of Ve.getModels()){const it=this._watchers[We.uri.toString()];G(We,Ce,Ae)?it||at(We):it&&pt(We,it)}};this._register(Ve.onModelAdded(We=>{G(We,Ce,Ae)&&at(We)})),this._register(Ve.onModelRemoved(We=>{const it=this._watchers[We.uri.toString()];it&&pt(We,it)})),this._register(Ae.onDidChangeConfiguration(We=>{We.affectsConfiguration(W)&&bt()})),this._register(Ce.onDidColorThemeChange(bt))}dispose(){for(const Ne of Object.values(this._watchers))Ne.dispose();super.dispose()}};q=ae([ie(1,O.q),ie(2,i.XE),ie(3,g.Ui),ie(4,V.A),ie(5,re.p)],q);class me extends l.JT{constructor(Ne,Ve,Ce){super(),this._themeService=Ne,this._languageService=Ve,this._logService=Ce,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(Ne){return this._caches.has(Ne)||this._caches.set(Ne,new T.$(Ne.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(Ne)}}class w{constructor(Ne,Ve,Ce){this.provider=Ne,this.resultId=Ve,this.data=Ce}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let we=class Za extends l.JT{constructor(Ne,Ve,Ce,Ae,$e){super(),this._isDisposed=!1,this._model=Ne,this._semanticStyling=Ve,this._provider=$e.documentSemanticTokensProvider,this._debounceInformation=Ae.for(this._provider,"DocumentSemanticTokens",{min:Za.REQUEST_MIN_DELAY,max:Za.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new C.pY(()=>this._fetchDocumentSemanticTokensNow(),Za.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const je=()=>{(0,l.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const at of this._provider.all(Ne))typeof at.onDidChange=="function"&&this._documentProvidersChangeListeners.push(at.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};je(),this._register(this._provider.onDidChange(()=>{je(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(Ce.onDidColorThemeChange(at=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,M.Jc)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const Ne=new m.A,Ve=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,Ce=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,Ae=(0,M.ML)(this._provider,this._model,Ve,Ce,Ne.token);this._currentDocumentRequestCancellationTokenSource=Ne;const $e=[],je=this._model.onDidChangeContent(pt=>{$e.push(pt)}),at=new $.G(!1);Ae.then(pt=>{if(this._debounceInformation.update(this._model,at.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,je.dispose(),!pt)this._setDocumentSemanticTokens(null,null,null,$e);else{const{provider:bt,tokens:We}=pt,it=this._semanticStyling.get(bt);this._setDocumentSemanticTokens(bt,We||null,it,$e)}},pt=>{pt&&(j.n2(pt)||typeof pt.message=="string"&&pt.message.indexOf("busy")!==-1)||j.dL(pt),this._currentDocumentRequestCancellationTokenSource=null,je.dispose(),$e.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(Ne,Ve,Ce,Ae,$e){$e=Math.min($e,Ce.length-Ae,Ne.length-Ve);for(let je=0;je<$e;je++)Ce[Ae+je]=Ne[Ve+je]}_setDocumentSemanticTokens(Ne,Ve,Ce,Ae){const $e=this._currentDocumentResponse,je=()=>{Ae.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){Ne&&Ve&&Ne.releaseDocumentSemanticTokens(Ve.resultId);return}if(!Ne||!Ce){this._model.tokenization.setSemanticTokens(null,!1);return}if(!Ve){this._model.tokenization.setSemanticTokens(null,!0),je();return}if((0,M.Vj)(Ve)){if(!$e){this._model.tokenization.setSemanticTokens(null,!0);return}if(Ve.edits.length===0)Ve={resultId:Ve.resultId,data:$e.data};else{let at=0;for(const pe of Ve.edits)at+=(pe.data?pe.data.length:0)-pe.deleteCount;const pt=$e.data,bt=new Uint32Array(pt.length+at);let We=pt.length,it=bt.length;for(let pe=Ve.edits.length-1;pe>=0;pe--){const ye=Ve.edits[pe];if(ye.start>pt.length){Ce.warnInvalidEditStart($e.resultId,Ve.resultId,pe,ye.start,pt.length),this._model.tokenization.setSemanticTokens(null,!0);return}const ft=We-(ye.start+ye.deleteCount);ft>0&&(Za._copy(pt,We-ft,bt,it-ft,ft),it-=ft),ye.data&&(Za._copy(ye.data,0,bt,it-ye.data.length,ye.data.length),it-=ye.data.length),We=ye.start}We>0&&Za._copy(pt,0,bt,0,We),Ve={resultId:Ve.resultId,data:bt}}}if((0,M.Vl)(Ve)){this._currentDocumentResponse=new w(Ne,Ve.resultId,Ve.data);const at=(0,T.h)(Ve,Ce,this._model.getLanguageId());if(Ae.length>0)for(const pt of Ae)for(const bt of at)for(const We of pt.changes)bt.applyEdit(We.range,We.text);this._model.tokenization.setSemanticTokens(at,!0)}else this._model.tokenization.setSemanticTokens(null,!0);je()}};we.REQUEST_MIN_DELAY=300,we.REQUEST_MAX_DELAY=2e3,we=ae([ie(2,i.XE),ie(3,V.A),ie(4,re.p)],we)},88216:function(Yt,Ye,s){"use strict";s.d(Ye,{S:function(){return l}});var b=s(72065);const l=(0,b.yh)("textModelService")},68997:function(Yt,Ye,s){"use strict";s.d(Ye,{$:function(){return m},h:function(){return i}});var b=s(45797),l=s(97781),z=s(43557),j=s(50187),E=s(24314),Z=s(23795);class B{constructor(p,L){this._startLineNumber=p,this._tokens=L,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(p,L){return new B(p,new H(L))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(p){return this._startLineNumber<=p&&p<=this._endLineNumber?this._tokens.getLineTokens(p-this._startLineNumber):null}getRange(){const p=this._tokens.getRange();return p&&new E.e(this._startLineNumber+p.startLineNumber,p.startColumn,this._startLineNumber+p.endLineNumber,p.endColumn)}removeTokens(p){const L=p.startLineNumber-this._startLineNumber,T=p.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(L,p.startColumn-1,T,p.endColumn-1),this._updateEndLineNumber()}split(p){const L=p.startLineNumber-this._startLineNumber,T=p.endLineNumber-this._startLineNumber,[M,I,P]=this._tokens.split(L,p.startColumn-1,T,p.endColumn-1);return[new B(this._startLineNumber,M),new B(this._startLineNumber+P,I)]}applyEdit(p,L){const[T,M,I]=(0,Z.Q)(L);this.acceptEdit(p,T,M,I,L.length>0?L.charCodeAt(0):0)}acceptEdit(p,L,T,M,I){this._acceptDeleteRange(p),this._acceptInsertText(new j.L(p.startLineNumber,p.startColumn),L,T,M,I),this._updateEndLineNumber()}_acceptDeleteRange(p){if(p.startLineNumber===p.endLineNumber&&p.startColumn===p.endColumn)return;const L=p.startLineNumber-this._startLineNumber,T=p.endLineNumber-this._startLineNumber;if(T<0){const I=T-L;this._startLineNumber-=I;return}const M=this._tokens.getMaxDeltaLine();if(!(L>=M+1)){if(L<0&&T>=M+1){this._startLineNumber=0,this._tokens.clear();return}if(L<0){const I=-L;this._startLineNumber-=I,this._tokens.acceptDeleteRange(p.startColumn-1,0,0,T,p.endColumn-1)}else this._tokens.acceptDeleteRange(0,L,p.startColumn-1,T,p.endColumn-1)}}_acceptInsertText(p,L,T,M,I){if(L===0&&T===0)return;const P=p.lineNumber-this._startLineNumber;if(P<0){this._startLineNumber+=L;return}const V=this._tokens.getMaxDeltaLine();P>=V+1||this._tokens.acceptInsertText(P,p.column-1,L,T,M,I)}}class H{constructor(p){this._tokens=p,this._tokenCount=p.length/4}toString(p){const L=[];for(let T=0;T<this._tokenCount;T++)L.push(`(${this._getDeltaLine(T)+p},${this._getStartCharacter(T)}-${this._getEndCharacter(T)})`);return`[${L.join(",")}]`}getMaxDeltaLine(){const p=this._getTokenCount();return p===0?-1:this._getDeltaLine(p-1)}getRange(){const p=this._getTokenCount();if(p===0)return null;const L=this._getStartCharacter(0),T=this._getDeltaLine(p-1),M=this._getEndCharacter(p-1);return new E.e(0,L+1,T,M+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(p){return this._tokens[4*p]}_getStartCharacter(p){return this._tokens[4*p+1]}_getEndCharacter(p){return this._tokens[4*p+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(p){let L=0,T=this._getTokenCount()-1;for(;L<T;){const M=L+Math.floor((T-L)/2),I=this._getDeltaLine(M);if(I<p)L=M+1;else if(I>p)T=M-1;else{let P=M;for(;P>L&&this._getDeltaLine(P-1)===p;)P--;let V=M;for(;V<T&&this._getDeltaLine(V+1)===p;)V++;return new O(this._tokens.subarray(4*P,4*V+4))}}return this._getDeltaLine(L)===p?new O(this._tokens.subarray(4*L,4*L+4)):null}clear(){this._tokenCount=0}removeTokens(p,L,T,M){const I=this._tokens,P=this._tokenCount;let V=0,$=!1,re=0;for(let ae=0;ae<P;ae++){const ie=4*ae,se=I[ie],X=I[ie+1],ne=I[ie+2],Q=I[ie+3];if((se>p||se===p&&ne>=L)&&(se<T||se===T&&X<=M))$=!0;else{if(V===0&&(re=se),$){const F=4*V;I[F]=se-re,I[F+1]=X,I[F+2]=ne,I[F+3]=Q}V++}}return this._tokenCount=V,re}split(p,L,T,M){const I=this._tokens,P=this._tokenCount,V=[],$=[];let re=V,ae=0,ie=0;for(let se=0;se<P;se++){const X=4*se,ne=I[X],Q=I[X+1],F=I[X+2],te=I[X+3];if(ne>p||ne===p&&F>=L){if(ne<T||ne===T&&Q<=M)continue;re!==$&&(re=$,ae=0,ie=ne)}re[ae++]=ne-ie,re[ae++]=Q,re[ae++]=F,re[ae++]=te}return[new H(new Uint32Array(V)),new H(new Uint32Array($)),ie]}acceptDeleteRange(p,L,T,M,I){const P=this._tokens,V=this._tokenCount,$=M-L;let re=0,ae=!1;for(let ie=0;ie<V;ie++){const se=4*ie;let X=P[se],ne=P[se+1],Q=P[se+2];const F=P[se+3];if(X<L||X===L&&Q<=T){re++;continue}else if(X===L&&ne<T)X===M&&Q>I?Q-=I-T:Q=T;else if(X===L&&ne===T)if(X===M&&Q>I)Q-=I-T;else{ae=!0;continue}else if(X<M||X===M&&ne<I)if(X===M&&Q>I)X===L?(ne=T,Q=ne+(Q-I)):(ne=0,Q=ne+(Q-I));else{ae=!0;continue}else if(X>M){if($===0&&!ae){re=V;break}X-=$}else if(X===M&&ne>=I)p&&X===0&&(ne+=p,Q+=p),X-=$,ne-=I-T,Q-=I-T;else throw new Error("Not possible!");const te=4*re;P[te]=X,P[te+1]=ne,P[te+2]=Q,P[te+3]=F,re++}this._tokenCount=re}acceptInsertText(p,L,T,M,I,P){const V=T===0&&M===1&&(P>=48&&P<=57||P>=65&&P<=90||P>=97&&P<=122),$=this._tokens,re=this._tokenCount;for(let ae=0;ae<re;ae++){const ie=4*ae;let se=$[ie],X=$[ie+1],ne=$[ie+2];if(!(se<p||se===p&&ne<L)){if(se===p&&ne===L)if(V)ne+=1;else continue;else if(se===p&&X<L&&L<ne)T===0?ne+=M:ne=L;else{if(se===p&&X===L&&V)continue;if(se===p)if(se+=T,T===0)X+=M,ne+=M;else{const Q=ne-X;X=I+(X-L),ne=X+Q}else se+=T}$[ie]=se,$[ie+1]=X,$[ie+2]=ne}}}}class O{constructor(p){this._tokens=p}getCount(){return this._tokens.length/4}getStartCharacter(p){return this._tokens[4*p+1]}getEndCharacter(p){return this._tokens[4*p+2]}getMetadata(p){return this._tokens[4*p+3]}}var y=s(72042),g=function(v,p,L,T){var M=arguments.length,I=M<3?p:T===null?T=Object.getOwnPropertyDescriptor(p,L):T,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(v,p,L,T);else for(var V=v.length-1;V>=0;V--)(P=v[V])&&(I=(M<3?P(I):M>3?P(p,L,I):P(p,L))||I);return M>3&&I&&Object.defineProperty(p,L,I),I},C=function(v,p){return function(L,T){p(L,T,v)}};let m=class{constructor(p,L,T,M){this._legend=p,this._themeService=L,this._languageService=T,this._logService=M,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new _}getMetadata(p,L,T){const M=this._languageService.languageIdCodec.encodeLanguageId(T),I=this._hashTable.get(p,L,M);let P;if(I)P=I.metadata,this._logService.getLevel()===z.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${p} / ${L}: foreground ${b.N.getForeground(P)}, fontStyle ${b.N.getFontStyle(P).toString(2)}`);else{let V=this._legend.tokenTypes[p];const $=[];if(V){let re=L;for(let ie=0;re>0&&ie<this._legend.tokenModifiers.length;ie++)re&1&&$.push(this._legend.tokenModifiers[ie]),re=re>>1;re>0&&this._logService.getLevel()===z.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${L.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),$.push("not-in-legend"));const ae=this._themeService.getColorTheme().getTokenStyleMetadata(V,$,T);if(typeof ae>"u")P=2147483647;else{if(P=0,typeof ae.italic<"u"){const ie=(ae.italic?1:0)<<11;P|=ie|1}if(typeof ae.bold<"u"){const ie=(ae.bold?2:0)<<11;P|=ie|2}if(typeof ae.underline<"u"){const ie=(ae.underline?4:0)<<11;P|=ie|4}if(typeof ae.strikethrough<"u"){const ie=(ae.strikethrough?8:0)<<11;P|=ie|8}if(ae.foreground){const ie=ae.foreground<<15;P|=ie|16}P===0&&(P=2147483647)}}else this._logService.getLevel()===z.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${p} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),P=2147483647,V="not-in-legend";this._hashTable.add(p,L,M,P),this._logService.getLevel()===z.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${p} (${V}) / ${L} (${$.join(" ")}): foreground ${b.N.getForeground(P)}, fontStyle ${b.N.getFontStyle(P).toString(2)}`)}return P}warnOverlappingSemanticTokens(p,L){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${p}, column ${L}`))}warnInvalidLengthSemanticTokens(p,L){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${p}, column ${L}`))}warnInvalidEditStart(p,L,T,M,I){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${p}, resultId: ${L}) at edit #${T}: The provided start offset ${M} is outside the previous data (length ${I}).`))}};m=g([C(1,l.XE),C(2,y.O),C(3,z.VZ)],m);function i(v,p,L){const T=v.data,M=v.data.length/5|0,I=Math.max(Math.ceil(M/1024),400),P=[];let V=0,$=1,re=0;for(;V<M;){const ae=V;let ie=Math.min(ae+I,M);if(ie<M){let W=ie;for(;W-1>ae&&T[5*W]===0;)W--;if(W-1===ae){let G=ie;for(;G+1<M&&T[5*G]===0;)G++;ie=G}else ie=W}let se=new Uint32Array((ie-ae)*4),X=0,ne=0,Q=0,F=0;for(;V<ie;){const W=5*V,G=T[W],q=T[W+1],me=$+G|0,w=G===0?re+q|0:q,we=T[W+2],xe=w+we|0,Ne=T[W+3],Ve=T[W+4];if(xe<=w)p.warnInvalidLengthSemanticTokens(me,w+1);else if(Q===me&&F>w)p.warnOverlappingSemanticTokens(me,w+1);else{const Ce=p.getMetadata(Ne,Ve,L);Ce!==2147483647&&(ne===0&&(ne=me),se[X]=me-ne,se[X+1]=w,se[X+2]=xe,se[X+3]=Ce,X+=4,Q=me,F=xe)}$=me,re=w,V++}X!==se.length&&(se=se.subarray(0,X));const te=B.create(ne,se);P.push(te)}return P}class d{constructor(p,L,T,M){this.tokenTypeIndex=p,this.tokenModifierSet=L,this.languageId=T,this.metadata=M,this.next=null}}class _{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=_._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<_._SIZES.length?2/3*this._currentLength:0),this._elements=[],_._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(p,L){for(let T=0;T<L;T++)p[T]=null}_hash2(p,L){return(p<<5)-p+L|0}_hashFunc(p,L,T){return this._hash2(this._hash2(p,L),T)%this._currentLength}get(p,L,T){const M=this._hashFunc(p,L,T);let I=this._elements[M];for(;I;){if(I.tokenTypeIndex===p&&I.tokenModifierSet===L&&I.languageId===T)return I;I=I.next}return null}add(p,L,T,M){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const I=this._elements;this._currentLengthIndex++,this._currentLength=_._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<_._SIZES.length?2/3*this._currentLength:0),this._elements=[],_._nullOutEntries(this._elements,this._currentLength);for(const P of I){let V=P;for(;V;){const $=V.next;V.next=null,this._add(V),V=$}}}this._add(new d(p,L,T,M))}_add(p){const L=this._hashFunc(p.tokenTypeIndex,p.tokenModifierSet,p.languageId);p.next=this._elements[L],this._elements[L]=p}}_._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},71765:function(Yt,Ye,s){"use strict";s.d(Ye,{V:function(){return l},y:function(){return z}});var b=s(72065);const l=(0,b.yh)("textResourceConfigurationService"),z=(0,b.yh)("textResourcePropertiesService")},31446:function(Yt,Ye,s){"use strict";s.d(Ye,{a:function(){return Z}});var b=s(24314),l=s(77277),z=s(97295),j=s(98401),E=s(270);class Z{static computeUnicodeHighlights(g,C,m){const i=m?m.startLineNumber:1,d=m?m.endLineNumber:g.getLineCount(),_=new H(C),v=_.getCandidateCodePoints();let p;v==="allNonBasicAscii"?p=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):p=new RegExp(`${B(Array.from(v))}`,"g");const L=new l.sz(null,p),T=[];let M=!1,I,P=0,V=0,$=0;e:for(let re=i,ae=d;re<=ae;re++){const ie=g.getLineContent(re),se=ie.length;L.reset(0);do if(I=L.next(ie),I){let X=I.index,ne=I.index+I[0].length;if(X>0){const W=ie.charCodeAt(X-1);z.ZG(W)&&X--}if(ne+1<se){const W=ie.charCodeAt(ne-1);z.ZG(W)&&ne++}const Q=ie.substring(X,ne),F=(0,E.t2)(X+1,E.Af,ie,0),te=_.shouldHighlightNonBasicASCII(Q,F?F.word:null);if(te!==0){if(te===3?P++:te===2?V++:te===1?$++:(0,j.vE)(te),T.length>=1e3){M=!0;break e}T.push(new b.e(re,X+1,re,ne+1))}}while(I)}return{ranges:T,hasMore:M,ambiguousCharacterCount:P,invisibleCharacterCount:V,nonBasicAsciiCharacterCount:$}}static computeUnicodeHighlightReason(g,C){const m=new H(C);switch(m.shouldHighlightNonBasicASCII(g,null)){case 0:return null;case 2:return{kind:1};case 3:{const d=g.codePointAt(0),_=m.ambiguousCharacters.getPrimaryConfusable(d),v=z.ZK.getLocales().filter(p=>!z.ZK.getInstance(new Set([...C.allowedLocales,p])).isAmbiguous(d));return{kind:0,confusableWith:String.fromCodePoint(_),notAmbiguousInLocales:v}}case 1:return{kind:2}}}}function B(y,g){return`[${z.ec(y.map(m=>String.fromCodePoint(m)).join(""))}]`}class H{constructor(g){this.options=g,this.allowedCodePoints=new Set(g.allowedCodePoints),this.ambiguousCharacters=z.ZK.getInstance(new Set(g.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const g=new Set;if(this.options.invisibleCharacters)for(const C of z.vU.codePoints)O(String.fromCodePoint(C))||g.add(C);if(this.options.ambiguousCharacters)for(const C of this.ambiguousCharacters.getConfusableCodePoints())g.add(C);for(const C of this.allowedCodePoints)g.delete(C);return g}shouldHighlightNonBasicASCII(g,C){const m=g.codePointAt(0);if(this.allowedCodePoints.has(m))return 0;if(this.options.nonBasicASCII)return 1;let i=!1,d=!1;if(C)for(const _ of C){const v=_.codePointAt(0),p=z.$i(_);i=i||p,!p&&!this.ambiguousCharacters.isAmbiguous(v)&&!z.vU.isInvisibleCharacter(v)&&(d=!0)}return!i&&d?0:this.options.invisibleCharacters&&!O(g)&&z.vU.isInvisibleCharacter(m)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(m)?3:0}}function O(y){return y===" "||y===`
`||y==="	"}},70902:function(Yt,Ye,s){"use strict";s.d(Ye,{E$:function(){return V},F5:function(){return I},Ij:function(){return Z},In:function(){return W},Lu:function(){return ae},MG:function(){return P},MY:function(){return y},OI:function(){return q},RM:function(){return _},VD:function(){return L},Vi:function(){return H},WW:function(){return Q},ZL:function(){return T},_x:function(){return O},a$:function(){return ne},a7:function(){return z},ao:function(){return b},bw:function(){return p},cR:function(){return F},cm:function(){return j},d2:function(){return G},eB:function(){return M},g4:function(){return se},g_:function(){return X},gl:function(){return v},gm:function(){return m},jl:function(){return i},np:function(){return l},py:function(){return re},r3:function(){return B},r4:function(){return te},rf:function(){return g},sh:function(){return $},up:function(){return me},vQ:function(){return ie},wT:function(){return C},wU:function(){return d},we:function(){return E}});var b;(function(w){w[w.Unknown=0]="Unknown",w[w.Disabled=1]="Disabled",w[w.Enabled=2]="Enabled"})(b||(b={}));var l;(function(w){w[w.Invoke=1]="Invoke",w[w.Auto=2]="Auto"})(l||(l={}));var z;(function(w){w[w.KeepWhitespace=1]="KeepWhitespace",w[w.InsertAsSnippet=4]="InsertAsSnippet"})(z||(z={}));var j;(function(w){w[w.Method=0]="Method",w[w.Function=1]="Function",w[w.Constructor=2]="Constructor",w[w.Field=3]="Field",w[w.Variable=4]="Variable",w[w.Class=5]="Class",w[w.Struct=6]="Struct",w[w.Interface=7]="Interface",w[w.Module=8]="Module",w[w.Property=9]="Property",w[w.Event=10]="Event",w[w.Operator=11]="Operator",w[w.Unit=12]="Unit",w[w.Value=13]="Value",w[w.Constant=14]="Constant",w[w.Enum=15]="Enum",w[w.EnumMember=16]="EnumMember",w[w.Keyword=17]="Keyword",w[w.Text=18]="Text",w[w.Color=19]="Color",w[w.File=20]="File",w[w.Reference=21]="Reference",w[w.Customcolor=22]="Customcolor",w[w.Folder=23]="Folder",w[w.TypeParameter=24]="TypeParameter",w[w.User=25]="User",w[w.Issue=26]="Issue",w[w.Snippet=27]="Snippet"})(j||(j={}));var E;(function(w){w[w.Deprecated=1]="Deprecated"})(E||(E={}));var Z;(function(w){w[w.Invoke=0]="Invoke",w[w.TriggerCharacter=1]="TriggerCharacter",w[w.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(Z||(Z={}));var B;(function(w){w[w.EXACT=0]="EXACT",w[w.ABOVE=1]="ABOVE",w[w.BELOW=2]="BELOW"})(B||(B={}));var H;(function(w){w[w.NotSet=0]="NotSet",w[w.ContentFlush=1]="ContentFlush",w[w.RecoverFromMarkers=2]="RecoverFromMarkers",w[w.Explicit=3]="Explicit",w[w.Paste=4]="Paste",w[w.Undo=5]="Undo",w[w.Redo=6]="Redo"})(H||(H={}));var O;(function(w){w[w.LF=1]="LF",w[w.CRLF=2]="CRLF"})(O||(O={}));var y;(function(w){w[w.Text=0]="Text",w[w.Read=1]="Read",w[w.Write=2]="Write"})(y||(y={}));var g;(function(w){w[w.None=0]="None",w[w.Keep=1]="Keep",w[w.Brackets=2]="Brackets",w[w.Advanced=3]="Advanced",w[w.Full=4]="Full"})(g||(g={}));var C;(function(w){w[w.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",w[w.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",w[w.accessibilitySupport=2]="accessibilitySupport",w[w.accessibilityPageSize=3]="accessibilityPageSize",w[w.ariaLabel=4]="ariaLabel",w[w.autoClosingBrackets=5]="autoClosingBrackets",w[w.autoClosingDelete=6]="autoClosingDelete",w[w.autoClosingOvertype=7]="autoClosingOvertype",w[w.autoClosingQuotes=8]="autoClosingQuotes",w[w.autoIndent=9]="autoIndent",w[w.automaticLayout=10]="automaticLayout",w[w.autoSurround=11]="autoSurround",w[w.bracketPairColorization=12]="bracketPairColorization",w[w.guides=13]="guides",w[w.codeLens=14]="codeLens",w[w.codeLensFontFamily=15]="codeLensFontFamily",w[w.codeLensFontSize=16]="codeLensFontSize",w[w.colorDecorators=17]="colorDecorators",w[w.columnSelection=18]="columnSelection",w[w.comments=19]="comments",w[w.contextmenu=20]="contextmenu",w[w.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",w[w.cursorBlinking=22]="cursorBlinking",w[w.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",w[w.cursorStyle=24]="cursorStyle",w[w.cursorSurroundingLines=25]="cursorSurroundingLines",w[w.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",w[w.cursorWidth=27]="cursorWidth",w[w.disableLayerHinting=28]="disableLayerHinting",w[w.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",w[w.domReadOnly=30]="domReadOnly",w[w.dragAndDrop=31]="dragAndDrop",w[w.dropIntoEditor=32]="dropIntoEditor",w[w.emptySelectionClipboard=33]="emptySelectionClipboard",w[w.experimental=34]="experimental",w[w.extraEditorClassName=35]="extraEditorClassName",w[w.fastScrollSensitivity=36]="fastScrollSensitivity",w[w.find=37]="find",w[w.fixedOverflowWidgets=38]="fixedOverflowWidgets",w[w.folding=39]="folding",w[w.foldingStrategy=40]="foldingStrategy",w[w.foldingHighlight=41]="foldingHighlight",w[w.foldingImportsByDefault=42]="foldingImportsByDefault",w[w.foldingMaximumRegions=43]="foldingMaximumRegions",w[w.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",w[w.fontFamily=45]="fontFamily",w[w.fontInfo=46]="fontInfo",w[w.fontLigatures=47]="fontLigatures",w[w.fontSize=48]="fontSize",w[w.fontWeight=49]="fontWeight",w[w.formatOnPaste=50]="formatOnPaste",w[w.formatOnType=51]="formatOnType",w[w.glyphMargin=52]="glyphMargin",w[w.gotoLocation=53]="gotoLocation",w[w.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",w[w.hover=55]="hover",w[w.inDiffEditor=56]="inDiffEditor",w[w.inlineSuggest=57]="inlineSuggest",w[w.letterSpacing=58]="letterSpacing",w[w.lightbulb=59]="lightbulb",w[w.lineDecorationsWidth=60]="lineDecorationsWidth",w[w.lineHeight=61]="lineHeight",w[w.lineNumbers=62]="lineNumbers",w[w.lineNumbersMinChars=63]="lineNumbersMinChars",w[w.linkedEditing=64]="linkedEditing",w[w.links=65]="links",w[w.matchBrackets=66]="matchBrackets",w[w.minimap=67]="minimap",w[w.mouseStyle=68]="mouseStyle",w[w.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",w[w.mouseWheelZoom=70]="mouseWheelZoom",w[w.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",w[w.multiCursorModifier=72]="multiCursorModifier",w[w.multiCursorPaste=73]="multiCursorPaste",w[w.occurrencesHighlight=74]="occurrencesHighlight",w[w.overviewRulerBorder=75]="overviewRulerBorder",w[w.overviewRulerLanes=76]="overviewRulerLanes",w[w.padding=77]="padding",w[w.parameterHints=78]="parameterHints",w[w.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",w[w.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",w[w.quickSuggestions=81]="quickSuggestions",w[w.quickSuggestionsDelay=82]="quickSuggestionsDelay",w[w.readOnly=83]="readOnly",w[w.renameOnType=84]="renameOnType",w[w.renderControlCharacters=85]="renderControlCharacters",w[w.renderFinalNewline=86]="renderFinalNewline",w[w.renderLineHighlight=87]="renderLineHighlight",w[w.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",w[w.renderValidationDecorations=89]="renderValidationDecorations",w[w.renderWhitespace=90]="renderWhitespace",w[w.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",w[w.roundedSelection=92]="roundedSelection",w[w.rulers=93]="rulers",w[w.scrollbar=94]="scrollbar",w[w.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",w[w.scrollBeyondLastLine=96]="scrollBeyondLastLine",w[w.scrollPredominantAxis=97]="scrollPredominantAxis",w[w.selectionClipboard=98]="selectionClipboard",w[w.selectionHighlight=99]="selectionHighlight",w[w.selectOnLineNumbers=100]="selectOnLineNumbers",w[w.showFoldingControls=101]="showFoldingControls",w[w.showUnused=102]="showUnused",w[w.snippetSuggestions=103]="snippetSuggestions",w[w.smartSelect=104]="smartSelect",w[w.smoothScrolling=105]="smoothScrolling",w[w.stickyTabStops=106]="stickyTabStops",w[w.stopRenderingLineAfter=107]="stopRenderingLineAfter",w[w.suggest=108]="suggest",w[w.suggestFontSize=109]="suggestFontSize",w[w.suggestLineHeight=110]="suggestLineHeight",w[w.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",w[w.suggestSelection=112]="suggestSelection",w[w.tabCompletion=113]="tabCompletion",w[w.tabIndex=114]="tabIndex",w[w.unicodeHighlighting=115]="unicodeHighlighting",w[w.unusualLineTerminators=116]="unusualLineTerminators",w[w.useShadowDOM=117]="useShadowDOM",w[w.useTabStops=118]="useTabStops",w[w.wordSeparators=119]="wordSeparators",w[w.wordWrap=120]="wordWrap",w[w.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",w[w.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",w[w.wordWrapColumn=123]="wordWrapColumn",w[w.wordWrapOverride1=124]="wordWrapOverride1",w[w.wordWrapOverride2=125]="wordWrapOverride2",w[w.wrappingIndent=126]="wrappingIndent",w[w.wrappingStrategy=127]="wrappingStrategy",w[w.showDeprecated=128]="showDeprecated",w[w.inlayHints=129]="inlayHints",w[w.editorClassName=130]="editorClassName",w[w.pixelRatio=131]="pixelRatio",w[w.tabFocusMode=132]="tabFocusMode",w[w.layoutInfo=133]="layoutInfo",w[w.wrappingInfo=134]="wrappingInfo"})(C||(C={}));var m;(function(w){w[w.TextDefined=0]="TextDefined",w[w.LF=1]="LF",w[w.CRLF=2]="CRLF"})(m||(m={}));var i;(function(w){w[w.LF=0]="LF",w[w.CRLF=1]="CRLF"})(i||(i={}));var d;(function(w){w[w.None=0]="None",w[w.Indent=1]="Indent",w[w.IndentOutdent=2]="IndentOutdent",w[w.Outdent=3]="Outdent"})(d||(d={}));var _;(function(w){w[w.Both=0]="Both",w[w.Right=1]="Right",w[w.Left=2]="Left",w[w.None=3]="None"})(_||(_={}));var v;(function(w){w[w.Type=1]="Type",w[w.Parameter=2]="Parameter"})(v||(v={}));var p;(function(w){w[w.Automatic=0]="Automatic",w[w.Explicit=1]="Explicit"})(p||(p={}));var L;(function(w){w[w.DependsOnKbLayout=-1]="DependsOnKbLayout",w[w.Unknown=0]="Unknown",w[w.Backspace=1]="Backspace",w[w.Tab=2]="Tab",w[w.Enter=3]="Enter",w[w.Shift=4]="Shift",w[w.Ctrl=5]="Ctrl",w[w.Alt=6]="Alt",w[w.PauseBreak=7]="PauseBreak",w[w.CapsLock=8]="CapsLock",w[w.Escape=9]="Escape",w[w.Space=10]="Space",w[w.PageUp=11]="PageUp",w[w.PageDown=12]="PageDown",w[w.End=13]="End",w[w.Home=14]="Home",w[w.LeftArrow=15]="LeftArrow",w[w.UpArrow=16]="UpArrow",w[w.RightArrow=17]="RightArrow",w[w.DownArrow=18]="DownArrow",w[w.Insert=19]="Insert",w[w.Delete=20]="Delete",w[w.Digit0=21]="Digit0",w[w.Digit1=22]="Digit1",w[w.Digit2=23]="Digit2",w[w.Digit3=24]="Digit3",w[w.Digit4=25]="Digit4",w[w.Digit5=26]="Digit5",w[w.Digit6=27]="Digit6",w[w.Digit7=28]="Digit7",w[w.Digit8=29]="Digit8",w[w.Digit9=30]="Digit9",w[w.KeyA=31]="KeyA",w[w.KeyB=32]="KeyB",w[w.KeyC=33]="KeyC",w[w.KeyD=34]="KeyD",w[w.KeyE=35]="KeyE",w[w.KeyF=36]="KeyF",w[w.KeyG=37]="KeyG",w[w.KeyH=38]="KeyH",w[w.KeyI=39]="KeyI",w[w.KeyJ=40]="KeyJ",w[w.KeyK=41]="KeyK",w[w.KeyL=42]="KeyL",w[w.KeyM=43]="KeyM",w[w.KeyN=44]="KeyN",w[w.KeyO=45]="KeyO",w[w.KeyP=46]="KeyP",w[w.KeyQ=47]="KeyQ",w[w.KeyR=48]="KeyR",w[w.KeyS=49]="KeyS",w[w.KeyT=50]="KeyT",w[w.KeyU=51]="KeyU",w[w.KeyV=52]="KeyV",w[w.KeyW=53]="KeyW",w[w.KeyX=54]="KeyX",w[w.KeyY=55]="KeyY",w[w.KeyZ=56]="KeyZ",w[w.Meta=57]="Meta",w[w.ContextMenu=58]="ContextMenu",w[w.F1=59]="F1",w[w.F2=60]="F2",w[w.F3=61]="F3",w[w.F4=62]="F4",w[w.F5=63]="F5",w[w.F6=64]="F6",w[w.F7=65]="F7",w[w.F8=66]="F8",w[w.F9=67]="F9",w[w.F10=68]="F10",w[w.F11=69]="F11",w[w.F12=70]="F12",w[w.F13=71]="F13",w[w.F14=72]="F14",w[w.F15=73]="F15",w[w.F16=74]="F16",w[w.F17=75]="F17",w[w.F18=76]="F18",w[w.F19=77]="F19",w[w.NumLock=78]="NumLock",w[w.ScrollLock=79]="ScrollLock",w[w.Semicolon=80]="Semicolon",w[w.Equal=81]="Equal",w[w.Comma=82]="Comma",w[w.Minus=83]="Minus",w[w.Period=84]="Period",w[w.Slash=85]="Slash",w[w.Backquote=86]="Backquote",w[w.BracketLeft=87]="BracketLeft",w[w.Backslash=88]="Backslash",w[w.BracketRight=89]="BracketRight",w[w.Quote=90]="Quote",w[w.OEM_8=91]="OEM_8",w[w.IntlBackslash=92]="IntlBackslash",w[w.Numpad0=93]="Numpad0",w[w.Numpad1=94]="Numpad1",w[w.Numpad2=95]="Numpad2",w[w.Numpad3=96]="Numpad3",w[w.Numpad4=97]="Numpad4",w[w.Numpad5=98]="Numpad5",w[w.Numpad6=99]="Numpad6",w[w.Numpad7=100]="Numpad7",w[w.Numpad8=101]="Numpad8",w[w.Numpad9=102]="Numpad9",w[w.NumpadMultiply=103]="NumpadMultiply",w[w.NumpadAdd=104]="NumpadAdd",w[w.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",w[w.NumpadSubtract=106]="NumpadSubtract",w[w.NumpadDecimal=107]="NumpadDecimal",w[w.NumpadDivide=108]="NumpadDivide",w[w.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",w[w.ABNT_C1=110]="ABNT_C1",w[w.ABNT_C2=111]="ABNT_C2",w[w.AudioVolumeMute=112]="AudioVolumeMute",w[w.AudioVolumeUp=113]="AudioVolumeUp",w[w.AudioVolumeDown=114]="AudioVolumeDown",w[w.BrowserSearch=115]="BrowserSearch",w[w.BrowserHome=116]="BrowserHome",w[w.BrowserBack=117]="BrowserBack",w[w.BrowserForward=118]="BrowserForward",w[w.MediaTrackNext=119]="MediaTrackNext",w[w.MediaTrackPrevious=120]="MediaTrackPrevious",w[w.MediaStop=121]="MediaStop",w[w.MediaPlayPause=122]="MediaPlayPause",w[w.LaunchMediaPlayer=123]="LaunchMediaPlayer",w[w.LaunchMail=124]="LaunchMail",w[w.LaunchApp2=125]="LaunchApp2",w[w.Clear=126]="Clear",w[w.MAX_VALUE=127]="MAX_VALUE"})(L||(L={}));var T;(function(w){w[w.Hint=1]="Hint",w[w.Info=2]="Info",w[w.Warning=4]="Warning",w[w.Error=8]="Error"})(T||(T={}));var M;(function(w){w[w.Unnecessary=1]="Unnecessary",w[w.Deprecated=2]="Deprecated"})(M||(M={}));var I;(function(w){w[w.Inline=1]="Inline",w[w.Gutter=2]="Gutter"})(I||(I={}));var P;(function(w){w[w.UNKNOWN=0]="UNKNOWN",w[w.TEXTAREA=1]="TEXTAREA",w[w.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",w[w.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",w[w.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",w[w.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",w[w.CONTENT_TEXT=6]="CONTENT_TEXT",w[w.CONTENT_EMPTY=7]="CONTENT_EMPTY",w[w.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",w[w.CONTENT_WIDGET=9]="CONTENT_WIDGET",w[w.OVERVIEW_RULER=10]="OVERVIEW_RULER",w[w.SCROLLBAR=11]="SCROLLBAR",w[w.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",w[w.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(P||(P={}));var V;(function(w){w[w.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",w[w.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",w[w.TOP_CENTER=2]="TOP_CENTER"})(V||(V={}));var $;(function(w){w[w.Left=1]="Left",w[w.Center=2]="Center",w[w.Right=4]="Right",w[w.Full=7]="Full"})($||($={}));var re;(function(w){w[w.Left=0]="Left",w[w.Right=1]="Right",w[w.None=2]="None",w[w.LeftOfInjectedText=3]="LeftOfInjectedText",w[w.RightOfInjectedText=4]="RightOfInjectedText"})(re||(re={}));var ae;(function(w){w[w.Off=0]="Off",w[w.On=1]="On",w[w.Relative=2]="Relative",w[w.Interval=3]="Interval",w[w.Custom=4]="Custom"})(ae||(ae={}));var ie;(function(w){w[w.None=0]="None",w[w.Text=1]="Text",w[w.Blocks=2]="Blocks"})(ie||(ie={}));var se;(function(w){w[w.Smooth=0]="Smooth",w[w.Immediate=1]="Immediate"})(se||(se={}));var X;(function(w){w[w.Auto=1]="Auto",w[w.Hidden=2]="Hidden",w[w.Visible=3]="Visible"})(X||(X={}));var ne;(function(w){w[w.LTR=0]="LTR",w[w.RTL=1]="RTL"})(ne||(ne={}));var Q;(function(w){w[w.Invoke=1]="Invoke",w[w.TriggerCharacter=2]="TriggerCharacter",w[w.ContentChange=3]="ContentChange"})(Q||(Q={}));var F;(function(w){w[w.File=0]="File",w[w.Module=1]="Module",w[w.Namespace=2]="Namespace",w[w.Package=3]="Package",w[w.Class=4]="Class",w[w.Method=5]="Method",w[w.Property=6]="Property",w[w.Field=7]="Field",w[w.Constructor=8]="Constructor",w[w.Enum=9]="Enum",w[w.Interface=10]="Interface",w[w.Function=11]="Function",w[w.Variable=12]="Variable",w[w.Constant=13]="Constant",w[w.String=14]="String",w[w.Number=15]="Number",w[w.Boolean=16]="Boolean",w[w.Array=17]="Array",w[w.Object=18]="Object",w[w.Key=19]="Key",w[w.Null=20]="Null",w[w.EnumMember=21]="EnumMember",w[w.Struct=22]="Struct",w[w.Event=23]="Event",w[w.Operator=24]="Operator",w[w.TypeParameter=25]="TypeParameter"})(F||(F={}));var te;(function(w){w[w.Deprecated=1]="Deprecated"})(te||(te={}));var W;(function(w){w[w.Hidden=0]="Hidden",w[w.Blink=1]="Blink",w[w.Smooth=2]="Smooth",w[w.Phase=3]="Phase",w[w.Expand=4]="Expand",w[w.Solid=5]="Solid"})(W||(W={}));var G;(function(w){w[w.Line=1]="Line",w[w.Block=2]="Block",w[w.Underline=3]="Underline",w[w.LineThin=4]="LineThin",w[w.BlockOutline=5]="BlockOutline",w[w.UnderlineThin=6]="UnderlineThin"})(G||(G={}));var q;(function(w){w[w.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",w[w.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",w[w.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",w[w.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(q||(q={}));var me;(function(w){w[w.None=0]="None",w[w.Same=1]="Same",w[w.Indent=2]="Indent",w[w.DeepIndent=3]="DeepIndent"})(me||(me={}))},20913:function(Yt,Ye,s){"use strict";s.d(Ye,{B8:function(){return H},Oe:function(){return l},UX:function(){return Z},aq:function(){return B},iN:function(){return y},ld:function(){return E},qq:function(){return j},ug:function(){return z},xi:function(){return O}});var b=s(63580),l;(function(g){g.noSelection=b.NC("noSelection","No selection"),g.singleSelectionRange=b.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),g.singleSelection=b.NC("singleSelection","Line {0}, Column {1}"),g.multiSelectionRange=b.NC("multiSelectionRange","{0} selections ({1} characters selected)"),g.multiSelection=b.NC("multiSelection","{0} selections"),g.emergencyConfOn=b.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),g.openingDocs=b.NC("openingDocs","Now opening the Editor Accessibility documentation page."),g.readonlyDiffEditor=b.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),g.editableDiffEditor=b.NC("editableDiffEditor"," in a pane of a diff editor."),g.readonlyEditor=b.NC("readonlyEditor"," in a read-only code editor"),g.editableEditor=b.NC("editableEditor"," in a code editor"),g.changeConfigToOnMac=b.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),g.changeConfigToOnWinLinux=b.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),g.auto_on=b.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),g.auto_off=b.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),g.tabFocusModeOnMsg=b.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),g.tabFocusModeOnMsgNoKb=b.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),g.tabFocusModeOffMsg=b.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),g.tabFocusModeOffMsgNoKb=b.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),g.openDocMac=b.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),g.openDocWinLinux=b.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),g.outroMsg=b.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),g.showAccessibilityHelpAction=b.NC("showAccessibilityHelpAction","Show Accessibility Help")})(l||(l={}));var z;(function(g){g.inspectTokensAction=b.NC("inspectTokens","Developer: Inspect Tokens")})(z||(z={}));var j;(function(g){g.gotoLineActionLabel=b.NC("gotoLineActionLabel","Go to Line/Column...")})(j||(j={}));var E;(function(g){g.helpQuickAccessActionLabel=b.NC("helpQuickAccess","Show all Quick Access Providers")})(E||(E={}));var Z;(function(g){g.quickCommandActionLabel=b.NC("quickCommandActionLabel","Command Palette"),g.quickCommandHelp=b.NC("quickCommandActionHelp","Show And Run Commands")})(Z||(Z={}));var B;(function(g){g.quickOutlineActionLabel=b.NC("quickOutlineActionLabel","Go to Symbol..."),g.quickOutlineByCategoryActionLabel=b.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(B||(B={}));var H;(function(g){g.editorViewAccessibleLabel=b.NC("editorViewAccessibleLabel","Editor content"),g.accessibilityHelpMessage=b.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(H||(H={}));var O;(function(g){g.toggleHighContrast=b.NC("toggleHighContrast","Toggle High Contrast Theme")})(O||(O={}));var y;(function(g){g.bulkEditServiceSummary=b.NC("bulkEditServiceSummary","Made {0} edits in {1} files")})(y||(y={}))},14706:function(Yt,Ye,s){"use strict";s.d(Ye,{CZ:function(){return Z},D8:function(){return H},Jx:function(){return b},Tx:function(){return E},dQ:function(){return B},fV:function(){return O},gk:function(){return l},lN:function(){return j},rU:function(){return z}});class b{constructor(){this.changeType=1}}class l{constructor(g,C,m,i,d){this.ownerId=g,this.lineNumber=C,this.column=m,this.options=i,this.order=d}static applyInjectedText(g,C){if(!C||C.length===0)return g;let m="",i=0;for(const d of C)m+=g.substring(i,d.column-1),i=d.column-1,m+=d.options.content;return m+=g.substring(i),m}static fromDecorations(g){const C=[];for(const m of g)m.options.before&&m.options.before.content.length>0&&C.push(new l(m.ownerId,m.range.startLineNumber,m.range.startColumn,m.options.before,0)),m.options.after&&m.options.after.content.length>0&&C.push(new l(m.ownerId,m.range.endLineNumber,m.range.endColumn,m.options.after,1));return C.sort((m,i)=>m.lineNumber===i.lineNumber?m.column===i.column?m.order-i.order:m.column-i.column:m.lineNumber-i.lineNumber),C}}class z{constructor(g,C,m){this.changeType=2,this.lineNumber=g,this.detail=C,this.injectedText=m}}class j{constructor(g,C){this.changeType=3,this.fromLineNumber=g,this.toLineNumber=C}}class E{constructor(g,C,m,i){this.changeType=4,this.injectedTexts=i,this.fromLineNumber=g,this.toLineNumber=C,this.detail=m}}class Z{constructor(){this.changeType=5}}class B{constructor(g,C,m,i){this.changes=g,this.versionId=C,this.isUndoing=m,this.isRedoing=i,this.resultingSelection=null}containsEvent(g){for(let C=0,m=this.changes.length;C<m;C++)if(this.changes[C].changeType===g)return!0;return!1}static merge(g,C){const m=[].concat(g.changes).concat(C.changes),i=C.versionId,d=g.isUndoing||C.isUndoing,_=g.isRedoing||C.isRedoing;return new B(m,i,d,_)}}class H{constructor(g){this.changes=g}}class O{constructor(g,C){this.rawContentChangedEvent=g,this.contentChangedEvent=C}merge(g){const C=B.merge(this.rawContentChangedEvent,g.rawContentChangedEvent),m=O._mergeChangeEvents(this.contentChangedEvent,g.contentChangedEvent);return new O(C,m)}static _mergeChangeEvents(g,C){const m=[].concat(g.changes).concat(C.changes),i=C.eol,d=C.versionId,_=g.isUndoing||C.isUndoing,v=g.isRedoing||C.isRedoing,p=g.isFlush||C.isFlush;return{changes:m,eol:i,versionId:d,isUndoing:_,isRedoing:v,isFlush:p}}}},65094:function(Yt,Ye,s){"use strict";s.d(Ye,{UO:function(){return l},s6:function(){return b},vW:function(){return z}});var b;(function(j){j[j.Disabled=0]="Disabled",j[j.EnabledForActive=1]="EnabledForActive",j[j.Enabled=2]="Enabled"})(b||(b={}));class l{constructor(E,Z,B,H,O,y){if(this.visibleColumn=E,this.column=Z,this.className=B,this.horizontalLine=H,this.forWrappedLinesAfterColumn=O,this.forWrappedLinesBeforeOrAtColumn=y,E!==-1==(Z!==-1))throw new Error}}class z{constructor(E,Z){this.top=E,this.endColumn=Z}}},77378:function(Yt,Ye,s){"use strict";s.d(Ye,{A:function(){return l}});var b=s(45797);class l{constructor(E,Z,B){this._lineTokensBrand=void 0,this._tokens=E,this._tokensCount=this._tokens.length>>>1,this._text=Z,this._languageIdCodec=B}static createEmpty(E,Z){const B=l.defaultTokenMetadata,H=new Uint32Array(2);return H[0]=E.length,H[1]=B,new l(H,E,Z)}equals(E){return E instanceof l?this.slicedEquals(E,0,this._tokensCount):!1}slicedEquals(E,Z,B){if(this._text!==E._text||this._tokensCount!==E._tokensCount)return!1;const H=Z<<1,O=H+(B<<1);for(let y=H;y<O;y++)if(this._tokens[y]!==E._tokens[y])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(E){return E>0?this._tokens[E-1<<1]:0}getMetadata(E){return this._tokens[(E<<1)+1]}getLanguageId(E){const Z=this._tokens[(E<<1)+1],B=b.N.getLanguageId(Z);return this._languageIdCodec.decodeLanguageId(B)}getStandardTokenType(E){const Z=this._tokens[(E<<1)+1];return b.N.getTokenType(Z)}getForeground(E){const Z=this._tokens[(E<<1)+1];return b.N.getForeground(Z)}getClassName(E){const Z=this._tokens[(E<<1)+1];return b.N.getClassNameFromMetadata(Z)}getInlineStyle(E,Z){const B=this._tokens[(E<<1)+1];return b.N.getInlineStyleFromMetadata(B,Z)}getPresentation(E){const Z=this._tokens[(E<<1)+1];return b.N.getPresentationFromMetadata(Z)}getEndOffset(E){return this._tokens[E<<1]}findTokenIndexAtOffset(E){return l.findIndexInTokensArray(this._tokens,E)}inflate(){return this}sliceAndInflate(E,Z,B){return new z(this,E,Z,B)}static convertToEndOffset(E,Z){const H=(E.length>>>1)-1;for(let O=0;O<H;O++)E[O<<1]=E[O+1<<1];E[H<<1]=Z}static findIndexInTokensArray(E,Z){if(E.length<=2)return 0;let B=0,H=(E.length>>>1)-1;for(;B<H;){const O=B+Math.floor((H-B)/2),y=E[O<<1];if(y===Z)return O+1;y<Z?B=O+1:y>Z&&(H=O)}return B}withInserted(E){if(E.length===0)return this;let Z=0,B=0,H="";const O=new Array;let y=0;for(;;){const g=Z<this._tokensCount?this._tokens[Z<<1]:-1,C=B<E.length?E[B]:null;if(g!==-1&&(C===null||g<=C.offset)){H+=this._text.substring(y,g);const m=this._tokens[(Z<<1)+1];O.push(H.length,m),Z++,y=g}else if(C){if(C.offset>y){H+=this._text.substring(y,C.offset);const m=this._tokens[(Z<<1)+1];O.push(H.length,m),y=C.offset}H+=C.text,O.push(H.length,C.tokenMetadata),B++}else break}return new l(new Uint32Array(O),H,this._languageIdCodec)}}l.defaultTokenMetadata=(32768|2<<24)>>>0;class z{constructor(E,Z,B,H){this._source=E,this._startOffset=Z,this._endOffset=B,this._deltaOffset=H,this._firstTokenIndex=E.findTokenIndexAtOffset(Z),this._tokensCount=0;for(let O=this._firstTokenIndex,y=E.getCount();O<y&&!(E.getStartOffset(O)>=B);O++)this._tokensCount++}getMetadata(E){return this._source.getMetadata(this._firstTokenIndex+E)}getLanguageId(E){return this._source.getLanguageId(this._firstTokenIndex+E)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(E){return E instanceof z?this._startOffset===E._startOffset&&this._endOffset===E._endOffset&&this._deltaOffset===E._deltaOffset&&this._source.slicedEquals(E._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(E){return this._source.getForeground(this._firstTokenIndex+E)}getEndOffset(E){const Z=this._source.getEndOffset(this._firstTokenIndex+E);return Math.min(this._endOffset,Z)-this._startOffset+this._deltaOffset}getClassName(E){return this._source.getClassName(this._firstTokenIndex+E)}getInlineStyle(E,Z){return this._source.getInlineStyle(this._firstTokenIndex+E,Z)}getPresentation(E){return this._source.getPresentation(this._firstTokenIndex+E)}findTokenIndexAtOffset(E){return this._source.findTokenIndexAtOffset(E+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},92550:function(Yt,Ye,s){"use strict";s.d(Ye,{Kp:function(){return l},k:function(){return E}});var b=s(97295);class l{constructor(B,H,O,y){this.startColumn=B,this.endColumn=H,this.className=O,this.type=y,this._lineDecorationBrand=void 0}static _equals(B,H){return B.startColumn===H.startColumn&&B.endColumn===H.endColumn&&B.className===H.className&&B.type===H.type}static equalsArr(B,H){const O=B.length,y=H.length;if(O!==y)return!1;for(let g=0;g<O;g++)if(!l._equals(B[g],H[g]))return!1;return!0}static extractWrapped(B,H,O){if(B.length===0)return B;const y=H+1,g=O+1,C=O-H,m=[];let i=0;for(const d of B)d.endColumn<=y||d.startColumn>=g||(m[i++]=new l(Math.max(1,d.startColumn-y+1),Math.min(C+1,d.endColumn-y+1),d.className,d.type));return m}static filter(B,H,O,y){if(B.length===0)return[];const g=[];let C=0;for(let m=0,i=B.length;m<i;m++){const d=B[m],_=d.range;if(_.endLineNumber<H||_.startLineNumber>H||_.isEmpty()&&(d.type===0||d.type===3))continue;const v=_.startLineNumber===H?_.startColumn:O,p=_.endLineNumber===H?_.endColumn:y;g[C++]=new l(v,p,d.inlineClassName,d.type)}return g}static _typeCompare(B,H){const O=[2,0,1,3];return O[B]-O[H]}static compare(B,H){if(B.startColumn!==H.startColumn)return B.startColumn-H.startColumn;if(B.endColumn!==H.endColumn)return B.endColumn-H.endColumn;const O=l._typeCompare(B.type,H.type);return O!==0?O:B.className!==H.className?B.className<H.className?-1:1:0}}class z{constructor(B,H,O,y){this.startOffset=B,this.endOffset=H,this.className=O,this.metadata=y}}class j{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(B){let H=0;for(let O=0,y=B.length;O<y;O++)H|=B[O];return H}consumeLowerThan(B,H,O){for(;this.count>0&&this.stopOffsets[0]<B;){let y=0;for(;y+1<this.count&&this.stopOffsets[y]===this.stopOffsets[y+1];)y++;O.push(new z(H,this.stopOffsets[y],this.classNames.join(" "),j._metadata(this.metadata))),H=this.stopOffsets[y]+1,this.stopOffsets.splice(0,y+1),this.classNames.splice(0,y+1),this.metadata.splice(0,y+1),this.count-=y+1}return this.count>0&&H<B&&(O.push(new z(H,B-1,this.classNames.join(" "),j._metadata(this.metadata))),H=B),H}insert(B,H,O){if(this.count===0||this.stopOffsets[this.count-1]<=B)this.stopOffsets.push(B),this.classNames.push(H),this.metadata.push(O);else for(let y=0;y<this.count;y++)if(this.stopOffsets[y]>=B){this.stopOffsets.splice(y,0,B),this.classNames.splice(y,0,H),this.metadata.splice(y,0,O);break}this.count++}}class E{static normalize(B,H){if(H.length===0)return[];const O=[],y=new j;let g=0;for(let C=0,m=H.length;C<m;C++){const i=H[C];let d=i.startColumn,_=i.endColumn;const v=i.className,p=i.type===1?2:i.type===2?4:0;if(d>1){const M=B.charCodeAt(d-2);b.ZG(M)&&d--}if(_>1){const M=B.charCodeAt(_-2);b.ZG(M)&&_--}const L=d-1,T=_-2;g=y.consumeLowerThan(L,g,O),y.count===0&&(g=L),y.insert(T,v,p)}return y.consumeLowerThan(1073741824,g,O),O}}},72202:function(Yt,Ye,s){"use strict";s.d(Ye,{Nd:function(){return B},zG:function(){return E},IJ:function(){return Z},d1:function(){return y},tF:function(){return C}});var b=s(97295),l=s(50072),z=s(92550);class j{constructor(V,$,re,ae){this.endIndex=V,this.type=$,this.metadata=re,this.containsRTL=ae,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class E{constructor(V,$){this.startOffset=V,this.endOffset=$}equals(V){return this.startOffset===V.startOffset&&this.endOffset===V.endOffset}}class Z{constructor(V,$,re,ae,ie,se,X,ne,Q,F,te,W,G,q,me,w,we,xe,Ne){this.useMonospaceOptimizations=V,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=re,this.continuesWithWrappedLine=ae,this.isBasicASCII=ie,this.containsRTL=se,this.fauxIndentLength=X,this.lineTokens=ne,this.lineDecorations=Q.sort(z.Kp.compare),this.tabSize=F,this.startVisibleColumn=te,this.spaceWidth=W,this.stopRenderingLineAfter=me,this.renderWhitespace=w==="all"?4:w==="boundary"?1:w==="selection"?2:w==="trailing"?3:0,this.renderControlCharacters=we,this.fontLigatures=xe,this.selectionsOnLine=Ne&&Ne.sort((Ae,$e)=>Ae.startOffset<$e.startOffset?-1:1);const Ve=Math.abs(q-W),Ce=Math.abs(G-W);Ve<Ce?(this.renderSpaceWidth=q,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=G,this.renderSpaceCharCode=183)}sameSelection(V){if(this.selectionsOnLine===null)return V===null;if(V===null||V.length!==this.selectionsOnLine.length)return!1;for(let $=0;$<this.selectionsOnLine.length;$++)if(!this.selectionsOnLine[$].equals(V[$]))return!1;return!0}equals(V){return this.useMonospaceOptimizations===V.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===V.canUseHalfwidthRightwardsArrow&&this.lineContent===V.lineContent&&this.continuesWithWrappedLine===V.continuesWithWrappedLine&&this.isBasicASCII===V.isBasicASCII&&this.containsRTL===V.containsRTL&&this.fauxIndentLength===V.fauxIndentLength&&this.tabSize===V.tabSize&&this.startVisibleColumn===V.startVisibleColumn&&this.spaceWidth===V.spaceWidth&&this.renderSpaceWidth===V.renderSpaceWidth&&this.renderSpaceCharCode===V.renderSpaceCharCode&&this.stopRenderingLineAfter===V.stopRenderingLineAfter&&this.renderWhitespace===V.renderWhitespace&&this.renderControlCharacters===V.renderControlCharacters&&this.fontLigatures===V.fontLigatures&&z.Kp.equalsArr(this.lineDecorations,V.lineDecorations)&&this.lineTokens.equals(V.lineTokens)&&this.sameSelection(V.selectionsOnLine)}}class B{constructor(V,$){this.partIndex=V,this.charIndex=$}}class H{constructor(V,$){this.length=V,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(V){return(V&4294901760)>>>16}static getCharIndex(V){return(V&65535)>>>0}setColumnInfo(V,$,re,ae){const ie=($<<16|re<<0)>>>0;this._data[V-1]=ie,this._horizontalOffset[V-1]=ae}getHorizontalOffset(V){return this._horizontalOffset.length===0?0:this._horizontalOffset[V-1]}charOffsetToPartData(V){return this.length===0?0:V<0?this._data[0]:V>=this.length?this._data[this.length-1]:this._data[V]}getDomPosition(V){const $=this.charOffsetToPartData(V-1),re=H.getPartIndex($),ae=H.getCharIndex($);return new B(re,ae)}getColumn(V,$){return this.partDataToCharOffset(V.partIndex,$,V.charIndex)+1}partDataToCharOffset(V,$,re){if(this.length===0)return 0;const ae=(V<<16|re<<0)>>>0;let ie=0,se=this.length-1;for(;ie+1<se;){const me=ie+se>>>1,w=this._data[me];if(w===ae)return me;w>ae?se=me:ie=me}if(ie===se)return ie;const X=this._data[ie],ne=this._data[se];if(X===ae)return ie;if(ne===ae)return se;const Q=H.getPartIndex(X),F=H.getCharIndex(X),te=H.getPartIndex(ne);let W;Q!==te?W=$:W=H.getCharIndex(ne);const G=re-F,q=W-re;return G<=q?ie:se}}class O{constructor(V,$,re){this._renderLineOutputBrand=void 0,this.characterMapping=V,this.containsRTL=$,this.containsForeignElements=re}}function y(P,V){if(P.lineContent.length===0){if(P.lineDecorations.length>0){V.appendASCIIString("<span>");let $=0,re=0,ae=0;for(const se of P.lineDecorations)(se.type===1||se.type===2)&&(V.appendASCIIString('<span class="'),V.appendASCIIString(se.className),V.appendASCIIString('"></span>'),se.type===1&&(ae|=1,$++),se.type===2&&(ae|=2,re++));V.appendASCIIString("</span>");const ie=new H(1,$+re);return ie.setColumnInfo(1,$,0,0),new O(ie,!1,ae)}return V.appendASCIIString("<span><span></span></span>"),new O(new H(0,0),!1,0)}return M(i(P),V)}class g{constructor(V,$,re,ae){this.characterMapping=V,this.html=$,this.containsRTL=re,this.containsForeignElements=ae}}function C(P){const V=(0,l.l$)(1e4),$=y(P,V);return new g($.characterMapping,V.build(),$.containsRTL,$.containsForeignElements)}class m{constructor(V,$,re,ae,ie,se,X,ne,Q,F,te,W,G,q,me){this.fontIsMonospace=V,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=re,this.len=ae,this.isOverflowing=ie,this.parts=se,this.containsForeignElements=X,this.fauxIndentLength=ne,this.tabSize=Q,this.startVisibleColumn=F,this.containsRTL=te,this.spaceWidth=W,this.renderSpaceCharCode=G,this.renderWhitespace=q,this.renderControlCharacters=me}}function i(P){const V=P.lineContent;let $,re;P.stopRenderingLineAfter!==-1&&P.stopRenderingLineAfter<V.length?($=!0,re=P.stopRenderingLineAfter):($=!1,re=V.length);let ae=d(V,P.containsRTL,P.lineTokens,P.fauxIndentLength,re);P.renderControlCharacters&&!P.isBasicASCII&&(ae=p(V,ae)),(P.renderWhitespace===4||P.renderWhitespace===1||P.renderWhitespace===2&&P.selectionsOnLine||P.renderWhitespace===3)&&(ae=L(P,V,re,ae));let ie=0;if(P.lineDecorations.length>0){for(let se=0,X=P.lineDecorations.length;se<X;se++){const ne=P.lineDecorations[se];ne.type===3||ne.type===1?ie|=1:ne.type===2&&(ie|=2)}ae=T(V,re,ae,P.lineDecorations)}return P.containsRTL||(ae=_(V,ae,!P.isBasicASCII||P.fontLigatures)),new m(P.useMonospaceOptimizations,P.canUseHalfwidthRightwardsArrow,V,re,$,ae,ie,P.fauxIndentLength,P.tabSize,P.startVisibleColumn,P.containsRTL,P.spaceWidth,P.renderSpaceCharCode,P.renderWhitespace,P.renderControlCharacters)}function d(P,V,$,re,ae){const ie=[];let se=0;re>0&&(ie[se++]=new j(re,"",0,!1));let X=re;for(let ne=0,Q=$.getCount();ne<Q;ne++){const F=$.getEndOffset(ne);if(F<=re)continue;const te=$.getClassName(ne);if(F>=ae){const G=V?b.Ut(P.substring(X,ae)):!1;ie[se++]=new j(ae,te,0,G);break}const W=V?b.Ut(P.substring(X,F)):!1;ie[se++]=new j(F,te,0,W),X=F}return ie}function _(P,V,$){let re=0;const ae=[];let ie=0;if($)for(let se=0,X=V.length;se<X;se++){const ne=V[se],Q=ne.endIndex;if(re+50<Q){const F=ne.type,te=ne.metadata,W=ne.containsRTL;let G=-1,q=re;for(let me=re;me<Q;me++)P.charCodeAt(me)===32&&(G=me),G!==-1&&me-q>=50&&(ae[ie++]=new j(G+1,F,te,W),q=G+1,G=-1);q!==Q&&(ae[ie++]=new j(Q,F,te,W))}else ae[ie++]=ne;re=Q}else for(let se=0,X=V.length;se<X;se++){const ne=V[se],Q=ne.endIndex,F=Q-re;if(F>50){const te=ne.type,W=ne.metadata,G=ne.containsRTL,q=Math.ceil(F/50);for(let me=1;me<q;me++){const w=re+me*50;ae[ie++]=new j(w,te,W,G)}ae[ie++]=new j(Q,te,W,G)}else ae[ie++]=ne;re=Q}return ae}function v(P){return P<32?P!==9:P===127||P>=8234&&P<=8238||P>=8294&&P<=8297||P>=8206&&P<=8207||P===1564}function p(P,V){const $=[];let re=new j(0,"",0,!1),ae=0;for(const ie of V){const se=ie.endIndex;for(;ae<se;ae++){const X=P.charCodeAt(ae);v(X)&&(ae>re.endIndex&&(re=new j(ae,ie.type,ie.metadata,ie.containsRTL),$.push(re)),re=new j(ae+1,"mtkcontrol",ie.metadata,!1),$.push(re))}ae>re.endIndex&&(re=new j(se,ie.type,ie.metadata,ie.containsRTL),$.push(re))}return $}function L(P,V,$,re){const ae=P.continuesWithWrappedLine,ie=P.fauxIndentLength,se=P.tabSize,X=P.startVisibleColumn,ne=P.useMonospaceOptimizations,Q=P.selectionsOnLine,F=P.renderWhitespace===1,te=P.renderWhitespace===3,W=P.renderSpaceWidth!==P.spaceWidth,G=[];let q=0,me=0,w=re[me].type,we=re[me].containsRTL,xe=re[me].endIndex;const Ne=re.length;let Ve=!1,Ce=b.LC(V),Ae;Ce===-1?(Ve=!0,Ce=$,Ae=$):Ae=b.ow(V);let $e=!1,je=0,at=Q&&Q[je],pt=X%se;for(let We=ie;We<$;We++){const it=V.charCodeAt(We);at&&We>=at.endOffset&&(je++,at=Q&&Q[je]);let pe;if(We<Ce||We>Ae)pe=!0;else if(it===9)pe=!0;else if(it===32)if(F)if($e)pe=!0;else{const ye=We+1<$?V.charCodeAt(We+1):0;pe=ye===32||ye===9}else pe=!0;else pe=!1;if(pe&&Q&&(pe=!!at&&at.startOffset<=We&&at.endOffset>We),pe&&te&&(pe=Ve||We>Ae),pe&&we&&We>=Ce&&We<=Ae&&(pe=!1),$e){if(!pe||!ne&&pt>=se){if(W){const ye=q>0?G[q-1].endIndex:ie;for(let ft=ye+1;ft<=We;ft++)G[q++]=new j(ft,"mtkw",1,!1)}else G[q++]=new j(We,"mtkw",1,!1);pt=pt%se}}else(We===xe||pe&&We>ie)&&(G[q++]=new j(We,w,0,we),pt=pt%se);for(it===9?pt=se:b.K7(it)?pt+=2:pt++,$e=pe;We===xe&&(me++,me<Ne);)w=re[me].type,we=re[me].containsRTL,xe=re[me].endIndex}let bt=!1;if($e)if(ae&&F){const We=$>0?V.charCodeAt($-1):0,it=$>1?V.charCodeAt($-2):0;We===32&&it!==32&&it!==9||(bt=!0)}else bt=!0;if(bt)if(W){const We=q>0?G[q-1].endIndex:ie;for(let it=We+1;it<=$;it++)G[q++]=new j(it,"mtkw",1,!1)}else G[q++]=new j($,"mtkw",1,!1);else G[q++]=new j($,w,0,we);return G}function T(P,V,$,re){re.sort(z.Kp.compare);const ae=z.k.normalize(P,re),ie=ae.length;let se=0;const X=[];let ne=0,Q=0;for(let te=0,W=$.length;te<W;te++){const G=$[te],q=G.endIndex,me=G.type,w=G.metadata,we=G.containsRTL;for(;se<ie&&ae[se].startOffset<q;){const xe=ae[se];if(xe.startOffset>Q&&(Q=xe.startOffset,X[ne++]=new j(Q,me,w,we)),xe.endOffset+1<=q)Q=xe.endOffset+1,X[ne++]=new j(Q,me+" "+xe.className,w|xe.metadata,we),se++;else{Q=q,X[ne++]=new j(Q,me+" "+xe.className,w|xe.metadata,we);break}}q>Q&&(Q=q,X[ne++]=new j(Q,me,w,we))}const F=$[$.length-1].endIndex;if(se<ie&&ae[se].startOffset===F)for(;se<ie&&ae[se].startOffset===F;){const te=ae[se];X[ne++]=new j(Q,te.className,te.metadata,!1),se++}return X}function M(P,V){const $=P.fontIsMonospace,re=P.canUseHalfwidthRightwardsArrow,ae=P.containsForeignElements,ie=P.lineContent,se=P.len,X=P.isOverflowing,ne=P.parts,Q=P.fauxIndentLength,F=P.tabSize,te=P.startVisibleColumn,W=P.containsRTL,G=P.spaceWidth,q=P.renderSpaceCharCode,me=P.renderWhitespace,w=P.renderControlCharacters,we=new H(se+1,ne.length);let xe=!1,Ne=0,Ve=te,Ce=0,Ae=0,$e=0;W?V.appendASCIIString('<span dir="ltr">'):V.appendASCIIString("<span>");for(let je=0,at=ne.length;je<at;je++){const pt=ne[je],bt=pt.endIndex,We=pt.type,it=pt.containsRTL,pe=me!==0&&pt.isWhitespace(),ye=pe&&!$&&(We==="mtkw"||!ae),ft=Ne===bt&&pt.isPseudoAfter();if(Ce=0,V.appendASCIIString("<span "),it&&V.appendASCIIString('style="unicode-bidi:isolate" '),V.appendASCIIString('class="'),V.appendASCIIString(ye?"mtkz":We),V.appendASCII(34),pe){let Xt=0;{let qt=Ne,Ft=Ve;for(;qt<bt;qt++){const Mt=(ie.charCodeAt(qt)===9?F-Ft%F:1)|0;Xt+=Mt,qt>=Q&&(Ft+=Mt)}}for(ye&&(V.appendASCIIString(' style="width:'),V.appendASCIIString(String(G*Xt)),V.appendASCIIString('px"')),V.appendASCII(62);Ne<bt;Ne++){we.setColumnInfo(Ne+1,je-$e,Ce,Ae),$e=0;const qt=ie.charCodeAt(Ne);let Ft,Ot;if(qt===9){Ft=F-Ve%F|0,Ot=Ft,!re||Ot>1?V.write1(8594):V.write1(65515);for(let Mt=2;Mt<=Ot;Mt++)V.write1(160)}else Ft=2,Ot=1,V.write1(q),V.write1(8204);Ce+=Ft,Ae+=Ot,Ne>=Q&&(Ve+=Ot)}}else for(V.appendASCII(62);Ne<bt;Ne++){we.setColumnInfo(Ne+1,je-$e,Ce,Ae),$e=0;const Xt=ie.charCodeAt(Ne);let qt=1,Ft=1;switch(Xt){case 9:qt=F-Ve%F,Ft=qt;for(let Ot=1;Ot<=qt;Ot++)V.write1(160);break;case 32:V.write1(160);break;case 60:V.appendASCIIString("&lt;");break;case 62:V.appendASCIIString("&gt;");break;case 38:V.appendASCIIString("&amp;");break;case 0:w?V.write1(9216):V.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:V.write1(65533);break;default:b.K7(Xt)&&Ft++,w&&Xt<32?V.write1(9216+Xt):w&&Xt===127?V.write1(9249):w&&v(Xt)?(V.appendASCIIString("[U+"),V.appendASCIIString(I(Xt)),V.appendASCIIString("]"),qt=8,Ft=qt):V.write1(Xt)}Ce+=qt,Ae+=Ft,Ne>=Q&&(Ve+=Ft)}ft?$e++:$e=0,Ne>=se&&!xe&&pt.isPseudoAfter()&&(xe=!0,we.setColumnInfo(Ne+1,je,Ce,Ae)),V.appendASCIIString("</span>")}return xe||we.setColumnInfo(se+1,ne.length-1,Ce,Ae),X&&V.appendASCIIString("<span>&hellip;</span>"),V.appendASCIIString("</span>"),new O(we,W,ae)}function I(P){return P.toString(16).toUpperCase().padStart(4,"0")}},1118:function(Yt,Ye,s){"use strict";s.d(Ye,{$l:function(){return O},$t:function(){return B},IP:function(){return E},SQ:function(){return y},Wx:function(){return H},l_:function(){return z},ud:function(){return j},wA:function(){return Z}});var b=s(97295),l=s(24314);class z{constructor(C,m,i,d){this._viewportBrand=void 0,this.top=C|0,this.left=m|0,this.width=i|0,this.height=d|0}}class j{constructor(C,m){this.tabSize=C,this.data=m}}class E{constructor(C,m,i,d,_,v,p){this._viewLineDataBrand=void 0,this.content=C,this.continuesWithWrappedLine=m,this.minColumn=i,this.maxColumn=d,this.startVisibleColumn=_,this.tokens=v,this.inlineDecorations=p}}class Z{constructor(C,m,i,d,_,v,p,L,T,M){this.minColumn=C,this.maxColumn=m,this.content=i,this.continuesWithWrappedLine=d,this.isBasicASCII=Z.isBasicASCII(i,v),this.containsRTL=Z.containsRTL(i,this.isBasicASCII,_),this.tokens=p,this.inlineDecorations=L,this.tabSize=T,this.startVisibleColumn=M}static isBasicASCII(C,m){return m?b.$i(C):!0}static containsRTL(C,m,i){return!m&&i?b.Ut(C):!1}}class B{constructor(C,m,i){this.range=C,this.inlineClassName=m,this.type=i}}class H{constructor(C,m,i,d){this.startOffset=C,this.endOffset=m,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=d}toInlineDecoration(C){return new B(new l.e(C,this.startOffset+1,C,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class O{constructor(C,m){this._viewModelDecorationBrand=void 0,this.range=C,this.options=m}}class y{constructor(C,m,i){this.color=C,this.zIndex=m,this.data=i}static cmp(C,m){return C.zIndex===m.zIndex?C.color<m.color?-1:C.color>m.color?1:0:C.zIndex-m.zIndex}}},30665:function(Yt,Ye,s){"use strict";s.d(Ye,{EY:function(){return l},Tj:function(){return z}});class b{constructor(E,Z,B){this._colorZoneBrand=void 0,this.from=E|0,this.to=Z|0,this.colorId=B|0}static compare(E,Z){return E.colorId===Z.colorId?E.from===Z.from?E.to-Z.to:E.from-Z.from:E.colorId-Z.colorId}}class l{constructor(E,Z,B,H){this._overviewRulerZoneBrand=void 0,this.startLineNumber=E,this.endLineNumber=Z,this.heightInLines=B,this.color=H,this._colorZone=null}static compare(E,Z){return E.color===Z.color?E.startLineNumber===Z.startLineNumber?E.heightInLines===Z.heightInLines?E.endLineNumber-Z.endLineNumber:E.heightInLines-Z.heightInLines:E.startLineNumber-Z.startLineNumber:E.color<Z.color?-1:1}setColorZone(E){this._colorZone=E}getColorZones(){return this._colorZone}}class z{constructor(E){this._getVerticalOffsetForLine=E,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(E){this._zones=E,this._zones.sort(l.compare)}setLineHeight(E){return this._lineHeight===E?!1:(this._lineHeight=E,this._colorZonesInvalid=!0,!0)}setPixelRatio(E){this._pixelRatio=E,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(E){return this._domWidth===E?!1:(this._domWidth=E,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(E){return this._domHeight===E?!1:(this._domHeight=E,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(E){return this._outerHeight===E?!1:(this._outerHeight=E,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const E=this._colorZonesInvalid,Z=Math.floor(this._lineHeight),B=Math.floor(this.getCanvasHeight()),H=Math.floor(this._outerHeight),O=B/H,y=Math.floor(4*this._pixelRatio/2),g=[];for(let C=0,m=this._zones.length;C<m;C++){const i=this._zones[C];if(!E){const V=i.getColorZones();if(V){g.push(V);continue}}const d=this._getVerticalOffsetForLine(i.startLineNumber),_=i.heightInLines===0?this._getVerticalOffsetForLine(i.endLineNumber)+Z:d+i.heightInLines*Z,v=Math.floor(O*d),p=Math.floor(O*_);let L=Math.floor((v+p)/2),T=p-L;T<y&&(T=y),L-T<0&&(L=T),L+T>B&&(L=B-T);const M=i.color;let I=this._color2Id[M];I||(I=++this._lastAssignedId,this._color2Id[M]=I,this._id2Color[I]=M);const P=new b(L-T,L+T,I);i.setColorZone(P),g.push(P)}return this._colorZonesInvalid=!1,g.sort(b.compare),g}}},30168:function(Yt,Ye,s){"use strict";s.d(Ye,{$t:function(){return B},CU:function(){return E},Fd:function(){return Z},zg:function(){return H}});var b=s(50187),l=s(24314),z=s(1118),j=s(64141);class E{constructor(g,C,m,i,d){this.editorId=g,this.model=C,this.configuration=m,this._linesCollection=i,this._coordinatesConverter=d,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(g){const C=g.id;let m=this._decorationsCache[C];if(!m){const i=g.range,d=g.options;let _;if(d.isWholeLine){const v=this._coordinatesConverter.convertModelPositionToViewPosition(new b.L(i.startLineNumber,1),0),p=this._coordinatesConverter.convertModelPositionToViewPosition(new b.L(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)),1);_=new l.e(v.lineNumber,v.column,p.lineNumber,p.column)}else _=this._coordinatesConverter.convertModelRangeToViewRange(i,1);m=new z.$l(_,d),this._decorationsCache[C]=m}return m}getDecorationsViewportData(g){let C=this._cachedModelDecorationsResolver!==null;return C=C&&g.equalsRange(this._cachedModelDecorationsResolverViewRange),C||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(g),this._cachedModelDecorationsResolverViewRange=g),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(g){const C=new l.e(g,this._linesCollection.getViewLineMinColumn(g),g,this._linesCollection.getViewLineMaxColumn(g));return this._getDecorationsInRange(C).inlineDecorations[0]}_getDecorationsInRange(g){const C=this._linesCollection.getDecorationsInRange(g,this.editorId,(0,j.$J)(this.configuration.options)),m=g.startLineNumber,i=g.endLineNumber,d=[];let _=0;const v=[];for(let p=m;p<=i;p++)v[p-m]=[];for(let p=0,L=C.length;p<L;p++){const T=C[p],M=T.options;if(!Z(this.model,T))continue;const I=this._getOrCreateViewModelDecoration(T),P=I.range;if(d[_++]=I,M.inlineClassName){const V=new z.$t(P,M.inlineClassName,M.inlineClassNameAffectsLetterSpacing?3:0),$=Math.max(m,P.startLineNumber),re=Math.min(i,P.endLineNumber);for(let ae=$;ae<=re;ae++)v[ae-m].push(V)}if(M.beforeContentClassName&&m<=P.startLineNumber&&P.startLineNumber<=i){const V=new z.$t(new l.e(P.startLineNumber,P.startColumn,P.startLineNumber,P.startColumn),M.beforeContentClassName,1);v[P.startLineNumber-m].push(V)}if(M.afterContentClassName&&m<=P.endLineNumber&&P.endLineNumber<=i){const V=new z.$t(new l.e(P.endLineNumber,P.endColumn,P.endLineNumber,P.endColumn),M.afterContentClassName,2);v[P.endLineNumber-m].push(V)}}return{decorations:d,inlineDecorations:v}}}function Z(y,g){return!(g.options.hideInCommentTokens&&B(y,g)||g.options.hideInStringTokens&&H(y,g))}function B(y,g){return O(y,g.range,C=>C===1)}function H(y,g){return O(y,g.range,C=>C===2)}function O(y,g,C){for(let m=g.startLineNumber;m<=g.endLineNumber;m++){const i=y.tokenization.getLineTokens(m),d=m===g.startLineNumber,_=m===g.endLineNumber;let v=d?i.findTokenIndexAtOffset(g.startColumn-1):0;for(;v<i.getCount()&&!(_&&i.getStartOffset(v)>g.endColumn-1);){if(!C(i.getStandardTokenType(v)))return!1;v++}}return!0}},13468:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{BracketMatchingController:function(){return L}});var b=s(15393),l=s(5976),z=s(16830),j=s(50187),E=s(24314),Z=s(3860),B=s(29102),H=s(84973),O=s(22529),y=s(8625),g=s(63580),C=s(84144),m=s(73910),i=s(97781);const d=(0,m.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},g.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class _ extends z.R6{constructor(){super({id:"editor.action.jumpToBracket",label:g.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:B.u.editorTextFocus,primary:3160,weight:100}})}run(M,I){var P;(P=L.get(I))===null||P===void 0||P.jumpToBracket()}}class v extends z.R6{constructor(){super({id:"editor.action.selectToBracket",label:g.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(M,I,P){var V;let $=!0;P&&P.selectBrackets===!1&&($=!1),(V=L.get(I))===null||V===void 0||V.selectToBracket($)}}class p{constructor(M,I,P){this.position=M,this.brackets=I,this.options=P}}class L extends l.JT{constructor(M){super(),this._editor=M,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new b.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register(M.onDidChangeCursorPosition(I=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(M.onDidChangeModelContent(I=>{this._updateBracketsSoon.schedule()})),this._register(M.onDidChangeModel(I=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(M.onDidChangeModelLanguageConfiguration(I=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(M.onDidChangeConfiguration(I=>{I.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(M.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(M.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(M){return M.getContribution(L.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const M=this._editor.getModel(),I=this._editor.getSelections().map(P=>{const V=P.getStartPosition(),$=M.bracketPairs.matchBracket(V);let re=null;if($)$[0].containsPosition(V)&&!$[1].containsPosition(V)?re=$[1].getStartPosition():$[1].containsPosition(V)&&(re=$[0].getStartPosition());else{const ae=M.bracketPairs.findEnclosingBrackets(V);if(ae)re=ae[1].getStartPosition();else{const ie=M.bracketPairs.findNextBracket(V);ie&&ie.range&&(re=ie.range.getStartPosition())}}return re?new Z.Y(re.lineNumber,re.column,re.lineNumber,re.column):new Z.Y(V.lineNumber,V.column,V.lineNumber,V.column)});this._editor.setSelections(I),this._editor.revealRange(I[0])}selectToBracket(M){if(!this._editor.hasModel())return;const I=this._editor.getModel(),P=[];this._editor.getSelections().forEach(V=>{const $=V.getStartPosition();let re=I.bracketPairs.matchBracket($);if(!re&&(re=I.bracketPairs.findEnclosingBrackets($),!re)){const se=I.bracketPairs.findNextBracket($);se&&se.range&&(re=I.bracketPairs.matchBracket(se.range.getStartPosition()))}let ae=null,ie=null;if(re){re.sort(E.e.compareRangesUsingStarts);const[se,X]=re;if(ae=M?se.getStartPosition():se.getEndPosition(),ie=M?X.getEndPosition():X.getStartPosition(),X.containsPosition($)){const ne=ae;ae=ie,ie=ne}}ae&&ie&&P.push(new Z.Y(ae.lineNumber,ae.column,ie.lineNumber,ie.column))}),P.length>0&&(this._editor.setSelections(P),this._editor.revealRange(P[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const M=[];let I=0;for(const P of this._lastBracketsData){const V=P.brackets;V&&(M[I++]={range:V[0],options:P.options},M[I++]={range:V[1],options:P.options})}this._decorations.set(M)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const M=this._editor.getSelections();if(M.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const I=this._editor.getModel(),P=I.getVersionId();let V=[];this._lastVersionId===P&&(V=this._lastBracketsData);const $=[];let re=0;for(let ne=0,Q=M.length;ne<Q;ne++){const F=M[ne];F.isEmpty()&&($[re++]=F.getStartPosition())}$.length>1&&$.sort(j.L.compare);const ae=[];let ie=0,se=0;const X=V.length;for(let ne=0,Q=$.length;ne<Q;ne++){const F=$[ne];for(;se<X&&V[se].position.isBefore(F);)se++;if(se<X&&V[se].position.equals(F))ae[ie++]=V[se];else{let te=I.bracketPairs.matchBracket(F,20),W=L._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!te&&this._matchBrackets==="always"&&(te=I.bracketPairs.findEnclosingBrackets(F,20),W=L._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),ae[ie++]=new p(F,te,W)}}this._lastBracketsData=ae,this._lastVersionId=P}}L.ID="editor.contrib.bracketMatchingController",L._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=O.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,i.EN)(d),position:H.sh.Center}}),L._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=O.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,z._K)(L.ID,L),(0,z.Qr)(v),(0,z.Qr)(_),(0,i.Ic)((T,M)=>{const I=T.getColor(y.TC);I&&M.addRule(`.monaco-editor .bracket-match { background-color: ${I}; }`);const P=T.getColor(y.Dl);P&&M.addRule(`.monaco-editor .bracket-match { border: 1px solid ${P}; }`)}),C.BH.appendMenuItem(C.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:g.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},55833:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{CopyAction:function(){return v},CutAction:function(){return _},PasteAction:function(){return p}});var b=s(30747),l=s(1432),z=s(35715),j=s(16830),E=s(11640),Z=s(29102),B=s(63580),H=s(84144),O=s(84972),y=function(M,I,P,V){function $(re){return re instanceof P?re:new P(function(ae){ae(re)})}return new(P||(P=Promise))(function(re,ae){function ie(ne){try{X(V.next(ne))}catch(Q){ae(Q)}}function se(ne){try{X(V.throw(ne))}catch(Q){ae(Q)}}function X(ne){ne.done?re(ne.value):$(ne.value).then(ie,se)}X((V=V.apply(M,I||[])).next())})};const g="9_cutcopypaste",C=l.tY||document.queryCommandSupported("cut"),m=l.tY||document.queryCommandSupported("copy"),i=typeof navigator.clipboard>"u"||b.isFirefox?document.queryCommandSupported("paste"):!0;function d(M){return M.register(),M}const _=C?d(new j.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:l.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:H.eH.MenubarEditMenu,group:"2_ccp",title:B.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:H.eH.EditorContext,group:g,title:B.NC("actions.clipboard.cutLabel","Cut"),when:Z.u.writable,order:1},{menuId:H.eH.CommandPalette,group:"",title:B.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:H.eH.SimpleEditorContext,group:g,title:B.NC("actions.clipboard.cutLabel","Cut"),when:Z.u.writable,order:1}]})):void 0,v=m?d(new j.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:l.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:H.eH.MenubarEditMenu,group:"2_ccp",title:B.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:H.eH.EditorContext,group:g,title:B.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:H.eH.CommandPalette,group:"",title:B.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:H.eH.SimpleEditorContext,group:g,title:B.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;H.BH.appendMenuItem(H.eH.MenubarEditMenu,{submenu:H.eH.MenubarCopy,title:{value:B.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),H.BH.appendMenuItem(H.eH.EditorContext,{submenu:H.eH.EditorContextCopy,title:{value:B.NC("copy as","Copy As"),original:"Copy As"},group:g,order:3}),H.BH.appendMenuItem(H.eH.EditorContext,{submenu:H.eH.EditorContextShare,title:{value:B.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const p=i?d(new j.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:l.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:H.eH.MenubarEditMenu,group:"2_ccp",title:B.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:H.eH.EditorContext,group:g,title:B.NC("actions.clipboard.pasteLabel","Paste"),when:Z.u.writable,order:4},{menuId:H.eH.CommandPalette,group:"",title:B.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:H.eH.SimpleEditorContext,group:g,title:B.NC("actions.clipboard.pasteLabel","Paste"),when:Z.u.writable,order:4}]})):void 0;class L extends j.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:B.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:Z.u.textInputFocus,primary:0,weight:100}})}run(I,P){!P.hasModel()||!P.getOption(33)&&P.getSelection().isEmpty()||(z.RA.forceCopyWithSyntaxHighlighting=!0,P.focus(),document.execCommand("copy"),z.RA.forceCopyWithSyntaxHighlighting=!1)}}function T(M,I){M&&(M.addImplementation(1e4,"code-editor",(P,V)=>{const $=P.get(E.$).getFocusedCodeEditor();if($&&$.hasTextFocus()){const re=$.getOption(33),ae=$.getSelection();return ae&&ae.isEmpty()&&!re||document.execCommand(I),!0}return!1}),M.addImplementation(0,"generic-dom",(P,V)=>(document.execCommand(I),!0)))}T(_,"cut"),T(v,"copy"),p&&(p.addImplementation(1e4,"code-editor",(M,I)=>{const P=M.get(E.$),V=M.get(O.p),$=P.getFocusedCodeEditor();return $&&$.hasTextFocus()?!document.execCommand("paste")&&l.$L?y(void 0,void 0,void 0,function*(){const ae=yield V.readText();if(ae!==""){const ie=z.Nl.INSTANCE.get(ae);let se=!1,X=null,ne=null;ie&&(se=$.getOption(33)&&!!ie.isFromEmptySelection,X=typeof ie.multicursorText<"u"?ie.multicursorText:null,ne=ie.mode),$.trigger("keyboard","paste",{text:ae,pasteOnNewLine:se,multicursorText:X,mode:ne})}}):!0:!1}),p.addImplementation(0,"generic-dom",(M,I)=>(document.execCommand("paste"),!0))),m&&(0,j.Qr)(L)},75396:function(Yt,Ye,s){"use strict";s.d(Ye,{Bb:function(){return _},MN:function(){return p},RB:function(){return d},TM:function(){return T},aI:function(){return V},bA:function(){return M},sh:function(){return v},uH:function(){return L}});var b=s(9488),l=s(71050),z=s(17301),j=s(5976),E=s(70666),Z=s(14410),B=s(24314),H=s(3860),O=s(73733),y=s(94565),g=s(90535),C=s(76014),m=s(71922),i=function(ae,ie,se,X){function ne(Q){return Q instanceof se?Q:new se(function(F){F(Q)})}return new(se||(se=Promise))(function(Q,F){function te(q){try{G(X.next(q))}catch(me){F(me)}}function W(q){try{G(X.throw(q))}catch(me){F(me)}}function G(q){q.done?Q(q.value):ne(q.value).then(te,W)}G((X=X.apply(ae,ie||[])).next())})};const d="editor.action.codeAction",_="editor.action.refactor",v="editor.action.refactor.preview",p="editor.action.sourceAction",L="editor.action.organizeImports",T="editor.action.fixAll";class M{constructor(ie,se){this.action=ie,this.provider=se}resolve(ie){var se;return i(this,void 0,void 0,function*(){if(!((se=this.provider)===null||se===void 0)&&se.resolveCodeAction&&!this.action.edit){let X;try{X=yield this.provider.resolveCodeAction(this.action,ie)}catch(ne){(0,z.Cp)(ne)}X&&(this.action.edit=X.edit)}return this})}}class I extends j.JT{constructor(ie,se,X){super(),this.documentation=se,this._register(X),this.allActions=[...ie].sort(I.codeActionsComparator),this.validActions=this.allActions.filter(({action:ne})=>!ne.disabled)}static codeActionsComparator({action:ie},{action:se}){return ie.isPreferred&&!se.isPreferred?-1:!ie.isPreferred&&se.isPreferred?1:(0,b.Of)(ie.diagnostics)?(0,b.Of)(se.diagnostics)?ie.diagnostics[0].message.localeCompare(se.diagnostics[0].message):-1:(0,b.Of)(se.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:ie})=>!!ie.kind&&C.yN.QuickFix.contains(new C.yN(ie.kind))&&!!ie.isPreferred)}}const P={actions:[],documentation:void 0};function V(ae,ie,se,X,ne,Q){var F;const te=X.filter||{},W={only:(F=te.include)===null||F===void 0?void 0:F.value,trigger:X.type},G=new Z.YQ(ie,Q),q=$(ae,ie,te),me=new j.SL,w=q.map(xe=>i(this,void 0,void 0,function*(){try{ne.report(xe);const Ne=yield xe.provideCodeActions(ie,se,W,G.token);if(Ne&&me.add(Ne),G.token.isCancellationRequested)return P;const Ve=(Ne?.actions||[]).filter(Ae=>Ae&&(0,C.Yl)(te,Ae)),Ce=re(xe,Ve,te.include);return{actions:Ve.map(Ae=>new M(Ae,xe)),documentation:Ce}}catch(Ne){if((0,z.n2)(Ne))throw Ne;return(0,z.Cp)(Ne),P}})),we=ae.onDidChange(()=>{const xe=ae.all(ie);(0,b.fS)(xe,q)||G.cancel()});return Promise.all(w).then(xe=>{const Ne=xe.map(Ce=>Ce.actions).flat(),Ve=(0,b.kX)(xe.map(Ce=>Ce.documentation));return new I(Ne,Ve,me)}).finally(()=>{we.dispose(),G.dispose()})}function $(ae,ie,se){return ae.all(ie).filter(X=>X.providedCodeActionKinds?X.providedCodeActionKinds.some(ne=>(0,C.EU)(se,new C.yN(ne))):!0)}function re(ae,ie,se){if(!ae.documentation)return;const X=ae.documentation.map(ne=>({kind:new C.yN(ne.kind),command:ne.command}));if(se){let ne;for(const Q of X)Q.kind.contains(se)&&(ne?ne.kind.contains(Q.kind)&&(ne=Q):ne=Q);if(ne)return ne?.command}for(const ne of ie)if(ne.kind){for(const Q of X)if(Q.kind.contains(new C.yN(ne.kind)))return Q.command}}y.P0.registerCommand("_executeCodeActionProvider",function(ae,ie,se,X,ne){return i(this,void 0,void 0,function*(){if(!(ie instanceof E.o))throw(0,z.b1)();const{codeActionProvider:Q}=ae.get(m.p),F=ae.get(O.q).getModel(ie);if(!F)throw(0,z.b1)();const te=H.Y.isISelection(se)?H.Y.liftSelection(se):B.e.isIRange(se)?F.validateRange(se):void 0;if(!te)throw(0,z.b1)();const W=typeof X=="string"?new C.yN(X):void 0,G=yield V(Q,F,te,{type:1,triggerAction:C.aQ.Default,filter:{includeSourceActions:!0,include:W}},g.Ex.None,l.T.None),q=[],me=Math.min(G.validActions.length,typeof ne=="number"?ne:0);for(let w=0;w<me;w++)q.push(G.validActions[w].resolve(l.T.None));try{return yield Promise.all(q),G.validActions.map(w=>w.action)}finally{setTimeout(()=>G.dispose(),100)}})})},3141:function(Yt,Ye,s){"use strict";s.d(Ye,{S5:function(){return Ri},dW:function(){return jt},Hv:function(){return ii},o$:function(){return St},E7:function(){return mi},pY:function(){return _t},Eb:function(){return ki},UG:function(){return Pi},VQ:function(){return gt}});var b=s(71050),l=s(79579),z=s(5976),j=s(97295),E=s(16830),Z=s(66007),B=s(29102),H=s(71922),O=s(75396),y=s(17301),g=s(27863),C=s(72065),m=s(65321),i=s(69047),d=s(74741),_=s(50187),v=s(76014),p=s(63580),L=s(33108),T=s(38819),M=s(5606),I=s(91847),P=s(10829),V=s(97781),$=function(Ci,Wt,vt,_e){var Ee=arguments.length,Le=Ee<3?Wt:_e===null?_e=Object.getOwnPropertyDescriptor(Wt,vt):_e,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Le=Reflect.decorate(Ci,Wt,vt,_e);else for(var he=Ci.length-1;he>=0;he--)(oe=Ci[he])&&(Le=(Ee<3?oe(Le):Ee>3?oe(Wt,vt,Le):oe(Wt,vt))||Le);return Ee>3&&Le&&Object.defineProperty(Wt,vt,Le),Le},re=function(Ci,Wt){return function(vt,_e){Wt(vt,_e,Ci)}},ae=function(Ci,Wt,vt,_e){function Ee(Le){return Le instanceof vt?Le:new vt(function(oe){oe(Le)})}return new(vt||(vt=Promise))(function(Le,oe){function he(Je){try{ke(_e.next(Je))}catch(ot){oe(ot)}}function Me(Je){try{ke(_e.throw(Je))}catch(ot){oe(ot)}}function ke(Je){Je.done?Le(Je.value):Ee(Je.value).then(he,Me)}ke((_e=_e.apply(Ci,Wt||[])).next())})};const ie={Visible:new T.uy("CodeActionMenuVisible",!1,(0,p.NC)("CodeActionMenuVisible","Whether the code action list widget is visible"))};class se extends d.aU{constructor(Wt,vt){super(Wt.command?Wt.command.id:Wt.title,X(Wt.title),void 0,!Wt.disabled,vt),this.action=Wt}}function X(Ci){return Ci.replace(/\r\n|\r|\n/g," ")}const ne="codeActionWidget",Q=26;let F=class{constructor(Wt,vt){this.acceptKeybindings=Wt,this.keybindingService=vt}get templateId(){return ne}renderTemplate(Wt){const vt=Object.create(null);return vt.disposables=[],vt.root=Wt,vt.text=document.createElement("span"),Wt.append(vt.text),vt}renderElement(Wt,vt,_e){const Ee=_e,Le=Wt.title,oe=Wt.isEnabled,he=Wt.isSeparator,Me=Wt.isDocumentation;Ee.text.textContent=Le,oe?Ee.root.classList.remove("option-disabled"):(Ee.root.classList.add("option-disabled"),Ee.root.style.backgroundColor="transparent !important"),he&&(Ee.root.classList.add("separator"),Ee.root.style.height="10px"),Me||(()=>{var Je,ot;const[ht,xt]=this.acceptKeybindings;Ee.root.title=(0,p.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",(Je=this.keybindingService.lookupKeybinding(ht))===null||Je===void 0?void 0:Je.getLabel(),(ot=this.keybindingService.lookupKeybinding(xt))===null||ot===void 0?void 0:ot.getLabel())})()}disposeTemplate(Wt){Wt.disposables=(0,z.B9)(Wt.disposables)}};F=$([re(1,I.d)],F);let te=class rh extends z.JT{constructor(Wt,vt,_e,Ee,Le,oe,he,Me,ke,Je){super(),this._editor=Wt,this._delegate=vt,this._contextMenuService=_e,this._languageFeaturesService=Le,this._telemetryService=oe,this._configurationService=Me,this._contextViewService=ke,this._contextKeyService=Je,this._showingActions=this._register(new z.XK),this.codeActionList=this._register(new z.XK),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new W({getKeybindings:()=>Ee.getKeybindings()}),this._ctxMenuWidgetVisible=ie.Visible.bindTo(this._contextKeyService),this.listRenderer=new F(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],Ee)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(Wt){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:Wt.uri})}_onListSelection(Wt){Wt.elements.length&&Wt.elements.forEach(vt=>{vt.isEnabled&&(vt.action.run(),this.hideCodeActionWidget())})}_onListHover(Wt){var vt,_e,Ee,Le;Wt.element?!((_e=Wt.element)===null||_e===void 0)&&_e.isEnabled?((Ee=this.codeActionList.value)===null||Ee===void 0||Ee.setFocus([Wt.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(Wt.element),this.currSelectedItem=Wt.element.index):(this.currSelectedItem=void 0,(Le=this.codeActionList.value)===null||Le===void 0||Le.setFocus([Wt.element.index])):(this.currSelectedItem=void 0,(vt=this.codeActionList.value)===null||vt===void 0||vt.setFocus([]))}renderCodeActionMenuList(Wt,vt){var _e;const Ee=new z.SL,Le=document.createElement("div"),oe=document.createElement("div");this.block=Wt.appendChild(oe),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",Ee.add(m.nm(this.block,m.tw.MOUSE_DOWN,ht=>ht.stopPropagation())),Le.id="codeActionMenuWidget",Le.classList.add("codeActionMenuWidget"),Wt.appendChild(Le),this.codeActionList.value=new i.aV("codeActionWidget",Le,{getHeight(ht){return ht.isSeparator?10:Q},getTemplateId(ht){return"codeActionWidget"}},[this.listRenderer],{keyboardSupport:!1}),Ee.add(this.codeActionList.value.onMouseOver(ht=>this._onListHover(ht))),Ee.add(this.codeActionList.value.onDidChangeFocus(ht=>{var xt;return(xt=this.codeActionList.value)===null||xt===void 0?void 0:xt.domFocus()})),Ee.add(this.codeActionList.value.onDidChangeSelection(ht=>this._onListSelection(ht))),Ee.add(this._editor.onDidLayoutChange(ht=>this.hideCodeActionWidget())),vt.forEach((ht,xt)=>{const nt=ht.class==="separator";let It=!1;ht instanceof se&&(It=ht.action.kind===rh.documentationID),nt&&(this.hasSeperator=!0);const Ht={title:ht.label,detail:ht.tooltip,action:vt[xt],isEnabled:ht.enabled,isSeparator:nt,index:xt,isDocumentation:It};ht.enabled&&this.viewItems.push(Ht),this.options.push(Ht)}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const he=this.hasSeperator?(vt.length-1)*Q+10:vt.length*Q;Le.style.height=String(he)+"px",this.codeActionList.value.layout(he);const Me=[];this.options.forEach((ht,xt)=>{var nt,It;if(!this.codeActionList.value)return;const Ht=(It=document.getElementById((nt=this.codeActionList.value)===null||nt===void 0?void 0:nt.getElementID(xt)))===null||It===void 0?void 0:It.getElementsByTagName("span")[0].offsetWidth;Me.push(Number(Ht))});const ke=Math.max(...Me);Le.style.width=ke+52+"px",(_e=this.codeActionList.value)===null||_e===void 0||_e.layout(he,ke),this.viewItems.length<1||this.viewItems.every(ht=>ht.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const Je=m.go(Wt),ot=Je.onDidBlur(()=>{this.hideCodeActionWidget()});return Ee.add(ot),Ee.add(Je),this._ctxMenuWidgetVisible.set(!0),Ee}focusPrevious(){var Wt;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const vt=this.focusedEnabledItem;let _e;do this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),_e=this.viewItems[this.focusedEnabledItem],(Wt=this.codeActionList.value)===null||Wt===void 0||Wt.setFocus([_e.index]),this.currSelectedItem=_e.index;while(this.focusedEnabledItem!==vt&&(!_e.isEnabled||_e.action.id===d.Z0.ID));return!0}focusNext(){var Wt;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const vt=this.focusedEnabledItem;let _e;do this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,_e=this.viewItems[this.focusedEnabledItem],(Wt=this.codeActionList.value)===null||Wt===void 0||Wt.setFocus([_e.index]),this.currSelectedItem=_e.index;while(this.focusedEnabledItem!==vt&&(!_e.isEnabled||_e.action.id===d.Z0.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var Wt;typeof this.currSelectedItem=="number"&&((Wt=this.codeActionList.value)===null||Wt===void 0||Wt.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(Wt,vt,_e){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:Wt,validCodeActions:_e.validActions.length,cancelled:vt})}show(Wt,vt,_e,Ee){return ae(this,void 0,void 0,function*(){const Le=this._editor.getModel();if(!Le)return;const oe=Ee.includeDisabledActions?vt.allActions:vt.validActions;if(!oe.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,y.F0)();this._visible=!0,this._showingActions.value=vt;const he=this.getMenuActions(Wt,oe,vt.documentation),Me=_.L.isIPosition(_e)?this._toCoords(_e):_e||{x:0,y:0},ke=this._keybindingResolver.getResolver(),Je=this._editor.getOption(117);this.isCodeActionWidgetEnabled(Le)?this._contextViewService.showContextView({getAnchor:()=>Me,render:ot=>this.renderCodeActionMenuList(ot,he),onHide:ot=>{const ht=Ee.fromLightbulb?v.aQ.Lightbulb:Wt.triggerAction;this.codeActionTelemetry(ht,ot,vt),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:Je?this._editor.getDomNode():void 0,getAnchor:()=>Me,getActions:()=>he,onHide:ot=>{const ht=Ee.fromLightbulb?v.aQ.Lightbulb:Wt.triggerAction;this.codeActionTelemetry(ht,ot,vt),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:ot=>ot instanceof se?ke(ot.action):void 0})})}getMenuActions(Wt,vt,_e){var Ee,Le;const oe=Je=>new se(Je.action,()=>this._delegate.onSelectCodeAction(Je,Wt)),he=vt.map(oe),Me=[..._e],ke=this._editor.getModel();if(ke&&he.length)for(const Je of this._languageFeaturesService.codeActionProvider.all(ke))Je._getAdditionalMenuItems&&Me.push(...Je._getAdditionalMenuItems({trigger:Wt.type,only:(Le=(Ee=Wt.filter)===null||Ee===void 0?void 0:Ee.include)===null||Le===void 0?void 0:Le.value},vt.map(ot=>ot.action)));return Me.length&&he.push(new d.Z0,...Me.map(Je=>oe(new O.bA({title:Je.title,command:Je,kind:rh.documentationID},void 0)))),he}_toCoords(Wt){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Wt,1),this._editor.render();const vt=this._editor.getScrolledVisiblePosition(Wt),_e=m.i(this._editor.getDomNode()),Ee=_e.left+vt.left,Le=_e.top+vt.top+vt.height;return{x:Ee,y:Le}}};te.documentationID="_documentation",te=$([re(2,M.i),re(3,I.d),re(4,H.p),re(5,P.b),re(6,V.XE),re(7,L.Ui),re(8,M.u),re(9,T.i6)],te);class W{constructor(Wt){this._keybindingProvider=Wt}getResolver(){const Wt=new l.o(()=>this._keybindingProvider.getKeybindings().filter(vt=>W.codeActionCommands.indexOf(vt.command)>=0).filter(vt=>vt.resolvedKeybinding).map(vt=>{let _e=vt.commandArgs;return vt.command===O.uH?_e={kind:v.yN.SourceOrganizeImports.value}:vt.command===O.TM&&(_e={kind:v.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:vt.resolvedKeybinding},v.wZ.fromUser(_e,{kind:v.yN.None,apply:"never"}))}));return vt=>{if(vt.kind){const _e=this.bestKeybindingForCodeAction(vt,Wt.getValue());return _e?.resolvedKeybinding}}}bestKeybindingForCodeAction(Wt,vt){if(!Wt.kind)return;const _e=new v.yN(Wt.kind);return vt.filter(Ee=>Ee.kind.contains(_e)).filter(Ee=>Ee.preferred?Wt.isPreferred:!0).reduceRight((Ee,Le)=>Ee?Ee.kind.contains(Le.kind)?Le:Ee:Le,void 0)}}W.codeActionCommands=[O.Bb,O.RB,O.MN,O.uH,O.TM];var G=s(10553),q=s(73046),me=s(4669),w=s(59616),we=s(73910),xe=function(Ci,Wt,vt,_e){var Ee=arguments.length,Le=Ee<3?Wt:_e===null?_e=Object.getOwnPropertyDescriptor(Wt,vt):_e,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Le=Reflect.decorate(Ci,Wt,vt,_e);else for(var he=Ci.length-1;he>=0;he--)(oe=Ci[he])&&(Le=(Ee<3?oe(Le):Ee>3?oe(Wt,vt,Le):oe(Wt,vt))||Le);return Ee>3&&Le&&Object.defineProperty(Wt,vt,Le),Le},Ne=function(Ci,Wt){return function(vt,_e){Wt(vt,_e,Ci)}},Ve;(function(Ci){Ci.Hidden={type:0};class Wt{constructor(_e,Ee,Le,oe){this.actions=_e,this.trigger=Ee,this.editorPosition=Le,this.widgetPosition=oe,this.type=1}}Ci.Showing=Wt})(Ve||(Ve={}));let Ce=class Vh extends z.JT{constructor(Wt,vt,_e,Ee){super(),this._editor=Wt,this._quickFixActionId=vt,this._preferredFixActionId=_e,this._keybindingService=Ee,this._onClick=this._register(new me.Q5),this.onClick=this._onClick.event,this._state=Ve.Hidden,this._domNode=document.createElement("div"),this._domNode.className=q.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(Le=>{const oe=this._editor.getModel();(this.state.type!==1||!oe||this.state.editorPosition.lineNumber>=oe.getLineCount())&&this.hide()})),G.o.ignoreTarget(this._domNode),this._register(m.GQ(this._domNode,Le=>{if(this.state.type!==1)return;this._editor.focus(),Le.preventDefault();const{top:oe,height:he}=m.i(this._domNode),Me=this._editor.getOption(61);let ke=Math.floor(Me/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(ke+=Me),this._onClick.fire({x:Le.posx,y:oe+he+ke,actions:this.state.actions,trigger:this.state.trigger})})),this._register(m.nm(this._domNode,"mouseenter",Le=>{(Le.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(Le=>{Le.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(Wt,vt,_e){if(Wt.validActions.length<=0)return this.hide();const Ee=this._editor.getOptions();if(!Ee.get(59).enabled)return this.hide();const Le=this._editor.getModel();if(!Le)return this.hide();const{lineNumber:oe,column:he}=Le.validatePosition(_e),Me=Le.getOptions().tabSize,ke=Ee.get(46),Je=Le.getLineContent(oe),ot=(0,w.q)(Je,Me),ht=ke.spaceWidth*ot>22,xt=It=>It>2&&this._editor.getTopForLineNumber(It)===this._editor.getTopForLineNumber(It-1);let nt=oe;if(!ht){if(oe>1&&!xt(oe-1))nt-=1;else if(!xt(oe+1))nt+=1;else if(he*ke.spaceWidth<22)return this.hide()}this.state=new Ve.Showing(Wt,vt,_e,{position:{lineNumber:nt,column:1},preference:Vh._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Ve.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(Wt){this._state=Wt,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...q.lA.lightBulb.classNamesArray),this._domNode.classList.add(...q.lA.lightbulbAutofix.classNamesArray);const vt=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(vt){this.title=p.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",vt.getLabel());return}}this._domNode.classList.remove(...q.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...q.lA.lightBulb.classNamesArray);const Wt=this._keybindingService.lookupKeybinding(this._quickFixActionId);Wt?this.title=p.NC("codeActionWithKb","Show Code Actions ({0})",Wt.getLabel()):this.title=p.NC("codeAction","Show Code Actions")}set title(Wt){this._domNode.title=Wt}};Ce._posPref=[0],Ce=xe([Ne(3,I.d)],Ce),(0,V.Ic)((Ci,Wt)=>{var vt;const _e=(vt=Ci.getColor(we.cvW))===null||vt===void 0?void 0:vt.transparent(.7),Ee=Ci.getColor(we.Fu1);Ee&&Wt.addRule(`
		.monaco-editor .contentWidgets ${q.lA.lightBulb.cssSelector} {
			color: ${Ee};
			background-color: ${_e};
		}`);const Le=Ci.getColor(we.sKV);Le&&Wt.addRule(`
		.monaco-editor .contentWidgets ${q.lA.lightbulbAutofix.cssSelector} {
			color: ${Le};
			background-color: ${_e};
		}`)});var Ae=function(Ci,Wt,vt,_e){var Ee=arguments.length,Le=Ee<3?Wt:_e===null?_e=Object.getOwnPropertyDescriptor(Wt,vt):_e,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Le=Reflect.decorate(Ci,Wt,vt,_e);else for(var he=Ci.length-1;he>=0;he--)(oe=Ci[he])&&(Le=(Ee<3?oe(Le):Ee>3?oe(Wt,vt,Le):oe(Wt,vt))||Le);return Ee>3&&Le&&Object.defineProperty(Wt,vt,Le),Le},$e=function(Ci,Wt){return function(vt,_e){Wt(vt,_e,Ci)}},je=function(Ci,Wt,vt,_e){function Ee(Le){return Le instanceof vt?Le:new vt(function(oe){oe(Le)})}return new(vt||(vt=Promise))(function(Le,oe){function he(Je){try{ke(_e.next(Je))}catch(ot){oe(ot)}}function Me(Je){try{ke(_e.throw(Je))}catch(ot){oe(ot)}}function ke(Je){Je.done?Le(Je.value):Ee(Je.value).then(he,Me)}ke((_e=_e.apply(Ci,Wt||[])).next())})},at=function(Ci,Wt,vt,_e,Ee){if(_e==="m")throw new TypeError("Private method is not writable");if(_e==="a"&&!Ee)throw new TypeError("Private accessor was defined without a setter");if(typeof Wt=="function"?Ci!==Wt||!Ee:!Wt.has(Ci))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _e==="a"?Ee.call(Ci,vt):Ee?Ee.value=vt:Wt.set(Ci,vt),vt},pt=function(Ci,Wt,vt,_e){if(vt==="a"&&!_e)throw new TypeError("Private accessor was defined without a getter");if(typeof Wt=="function"?Ci!==Wt||!_e:!Wt.has(Ci))throw new TypeError("Cannot read private member from an object whose class did not declare it");return vt==="m"?_e:vt==="a"?_e.call(Ci):_e?_e.value:Wt.get(Ci)},bt;let We=class extends z.JT{constructor(Wt,vt,_e,Ee,Le){super(),this._editor=Wt,this.delegate=Ee,this._activeCodeActions=this._register(new z.XK),this.previewOn=!1,bt.set(this,!1),this._codeActionWidget=new l.o(()=>this._register(Le.createInstance(te,this._editor,{onSelectCodeAction:(oe,he)=>je(this,void 0,void 0,function*(){this.previewOn?this.delegate.applyCodeAction(oe,!0,!!this.previewOn):this.delegate.applyCodeAction(oe,!0,!!he.preview),this.previewOn=!1})}))),this._lightBulbWidget=new l.o(()=>{const oe=this._register(Le.createInstance(Ce,this._editor,vt,_e));return this._register(oe.onClick(he=>this.showCodeActionList(he.trigger,he.actions,he,{includeDisabledActions:!1,fromLightbulb:!0}))),oe})}dispose(){at(this,bt,!0,"f"),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(Wt){this._codeActionWidget.hasValue()&&(Wt?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(Wt){var vt,_e,Ee,Le,oe;return je(this,void 0,void 0,function*(){if(Wt.type!==1){(vt=this._lightBulbWidget.rawValue)===null||vt===void 0||vt.hide();return}let he;try{he=yield Wt.actions}catch(Me){(0,y.dL)(Me);return}if(!pt(this,bt,"f"))if(this._lightBulbWidget.getValue().update(he,Wt.trigger,Wt.position),Wt.trigger.type===1){if(!((_e=Wt.trigger.filter)===null||_e===void 0)&&_e.include){const ke=this.tryGetValidActionToApply(Wt.trigger,he);if(ke){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(ke,!1,!1)}finally{he.dispose()}return}if(Wt.trigger.context){const Je=this.getInvalidActionThatWouldHaveBeenApplied(Wt.trigger,he);if(Je&&Je.action.disabled){(Ee=g.O.get(this._editor))===null||Ee===void 0||Ee.showMessage(Je.action.disabled,Wt.trigger.context.position),he.dispose();return}}}const Me=!!(!((Le=Wt.trigger.filter)===null||Le===void 0)&&Le.include);if(Wt.trigger.context&&(!he.allActions.length||!Me&&!he.validActions.length)){(oe=g.O.get(this._editor))===null||oe===void 0||oe.showMessage(Wt.trigger.context.notAvailableMessage,Wt.trigger.context.position),this._activeCodeActions.value=he,he.dispose();return}this._activeCodeActions.value=he,this._codeActionWidget.getValue().show(Wt.trigger,he,Wt.position,{includeDisabledActions:Me,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?he.dispose():this._activeCodeActions.value=he})}getInvalidActionThatWouldHaveBeenApplied(Wt,vt){if(vt.allActions.length&&(Wt.autoApply==="first"&&vt.validActions.length===0||Wt.autoApply==="ifSingle"&&vt.allActions.length===1))return vt.allActions.find(({action:_e})=>_e.disabled)}tryGetValidActionToApply(Wt,vt){if(vt.validActions.length&&(Wt.autoApply==="first"&&vt.validActions.length>0||Wt.autoApply==="ifSingle"&&vt.validActions.length===1))return vt.validActions[0]}showCodeActionList(Wt,vt,_e,Ee){return je(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(Wt,vt,_e,Ee)})}};bt=new WeakMap,We=Ae([$e(4,C.TG)],We);var it=s(94565),pe=s(98674),ye=s(90535),ft=s(59422),Xt=s(15393),qt=s(95935),Ft=s(24314),Ot=function(Ci,Wt,vt,_e){if(vt==="a"&&!_e)throw new TypeError("Private accessor was defined without a getter");if(typeof Wt=="function"?Ci!==Wt||!_e:!Wt.has(Ci))throw new TypeError("Cannot read private member from an object whose class did not declare it");return vt==="m"?_e:vt==="a"?_e.call(Ci):_e?_e.value:Wt.get(Ci)},Mt=function(Ci,Wt,vt,_e,Ee){if(_e==="m")throw new TypeError("Private method is not writable");if(_e==="a"&&!Ee)throw new TypeError("Private accessor was defined without a setter");if(typeof Wt=="function"?Ci!==Wt||!Ee:!Wt.has(Ci))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _e==="a"?Ee.call(Ci,vt):Ee?Ee.value=vt:Wt.set(Ci,vt),vt},ni;const Gt=new T.uy("supportedCodeAction","");class Fe extends z.JT{constructor(Wt,vt,_e,Ee=250){super(),this._editor=Wt,this._markerService=vt,this._signalChange=_e,this._delay=Ee,this._autoTriggerTimer=this._register(new Xt._F),this._register(this._markerService.onMarkerChanged(Le=>this._onMarkerChanges(Le))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(Wt){const vt=this._getRangeOfSelectionUnlessWhitespaceEnclosed(Wt);return this._createEventAndSignalChange(Wt,vt)}_onMarkerChanges(Wt){const vt=this._editor.getModel();vt&&Wt.some(_e=>(0,qt.Xy)(_e,vt.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:v.aQ.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:v.aQ.Default})},this._delay)}_getRangeOfMarker(Wt){const vt=this._editor.getModel();if(vt)for(const _e of this._markerService.read({resource:vt.uri})){const Ee=vt.validateRange(_e);if(Ft.e.intersectRanges(Ee,Wt))return Ft.e.lift(Ee)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(Wt){if(!this._editor.hasModel())return;const vt=this._editor.getModel(),_e=this._editor.getSelection();if(_e.isEmpty()&&Wt.type===2){const{lineNumber:Ee,column:Le}=_e.getPosition(),oe=vt.getLineContent(Ee);if(oe.length===0)return;if(Le===1){if(/\s/.test(oe[0]))return}else if(Le===vt.getLineMaxColumn(Ee)){if(/\s/.test(oe[oe.length-1]))return}else if(/\s/.test(oe[Le-2])&&/\s/.test(oe[Le-1]))return}return _e}_createEventAndSignalChange(Wt,vt){const _e=this._editor.getModel();if(!vt||!_e){this._signalChange(void 0);return}const Ee=this._getRangeOfMarker(vt),Le=Ee?Ee.getStartPosition():vt.getStartPosition(),oe={trigger:Wt,selection:vt,position:Le};return this._signalChange(oe),oe}}var Ge;(function(Ci){Ci.Empty={type:0};class Wt{constructor(_e,Ee,Le,oe){this.trigger=_e,this.rangeOrSelection=Ee,this.position=Le,this._cancellablePromise=oe,this.type=1,this.actions=oe.catch(he=>{if((0,y.n2)(he))return Te;throw he})}cancel(){this._cancellablePromise.cancel()}}Ci.Triggered=Wt})(Ge||(Ge={}));const Te={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class Ke extends z.JT{constructor(Wt,vt,_e,Ee,Le){super(),this._editor=Wt,this._registry=vt,this._markerService=_e,this._progressService=Le,this._codeActionOracle=this._register(new z.XK),this._state=Ge.Empty,this._onDidChangeState=this._register(new me.Q5),this.onDidChangeState=this._onDidChangeState.event,ni.set(this,!1),this._supportedCodeActions=Gt.bindTo(Ee),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Ot(this,ni,"f")||(Mt(this,ni,!0,"f"),super.dispose(),this.setState(Ge.Empty,!0))}_update(){if(Ot(this,ni,"f"))return;this._codeActionOracle.value=void 0,this.setState(Ge.Empty);const Wt=this._editor.getModel();if(Wt&&this._registry.has(Wt)&&!this._editor.getOption(83)){const vt=[];for(const _e of this._registry.all(Wt))Array.isArray(_e.providedCodeActionKinds)&&vt.push(..._e.providedCodeActionKinds);this._supportedCodeActions.set(vt.join(" ")),this._codeActionOracle.value=new Fe(this._editor,this._markerService,_e=>{var Ee;if(!_e){this.setState(Ge.Empty);return}const Le=(0,Xt.PG)(oe=>(0,O.aI)(this._registry,Wt,_e.selection,_e.trigger,ye.Ex.None,oe));_e.trigger.type===1&&((Ee=this._progressService)===null||Ee===void 0||Ee.showWhile(Le,250)),this.setState(new Ge.Triggered(_e.trigger,_e.selection,_e.position,Le))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:v.aQ.Default})}else this._supportedCodeActions.reset()}trigger(Wt){var vt;(vt=this._codeActionOracle.value)===null||vt===void 0||vt.trigger(Wt)}setState(Wt,vt){Wt!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=Wt,!vt&&!Ot(this,ni,"f")&&this._onDidChangeState.fire(Wt))}}ni=new WeakMap;var ut=function(Ci,Wt,vt,_e){var Ee=arguments.length,Le=Ee<3?Wt:_e===null?_e=Object.getOwnPropertyDescriptor(Wt,vt):_e,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Le=Reflect.decorate(Ci,Wt,vt,_e);else for(var he=Ci.length-1;he>=0;he--)(oe=Ci[he])&&(Le=(Ee<3?oe(Le):Ee>3?oe(Wt,vt,Le):oe(Wt,vt))||Le);return Ee>3&&Le&&Object.defineProperty(Wt,vt,Le),Le},Nt=function(Ci,Wt){return function(vt,_e){Wt(vt,_e,Ci)}},Be=function(Ci,Wt,vt,_e){function Ee(Le){return Le instanceof vt?Le:new vt(function(oe){oe(Le)})}return new(vt||(vt=Promise))(function(Le,oe){function he(Je){try{ke(_e.next(Je))}catch(ot){oe(ot)}}function Me(Je){try{ke(_e.throw(Je))}catch(ot){oe(ot)}}function ke(Je){Je.done?Le(Je.value):Ee(Je.value).then(he,Me)}ke((_e=_e.apply(Ci,Wt||[])).next())})};function Ze(Ci){return T.Ao.regex(Gt.keys()[0],new RegExp("(\\s|^)"+(0,j.ec)(Ci.value)+"\\b"))}function wt(Ci,Wt,vt,_e){const Ee=v.wZ.fromUser(Wt,{kind:v.yN.Refactor,apply:"never"});return Lt(Ci,typeof Wt?.kind=="string"?Ee.preferred?p.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",Wt.kind):p.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",Wt.kind):Ee.preferred?p.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):p.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:v.yN.Refactor.contains(Ee.kind)?Ee.kind:v.yN.None,onlyIncludePreferredActions:Ee.preferred},Ee.apply,vt,_e)}const $t={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:p.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:p.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[p.NC("args.schema.apply.first","Always apply the first returned code action."),p.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),p.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:p.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let _t=class Hh extends z.JT{constructor(Wt,vt,_e,Ee,Le,oe){super(),this._instantiationService=Le,this._editor=Wt,this._model=this._register(new Ke(this._editor,oe.codeActionProvider,vt,_e,Ee)),this._register(this._model.onDidChangeState(he=>this.update(he))),this._ui=new l.o(()=>this._register(new We(Wt,mi.Id,Ri.Id,{applyCodeAction:(he,Me,ke)=>Be(this,void 0,void 0,function*(){try{yield this._applyCodeAction(he,ke)}finally{Me&&this._trigger({type:2,triggerAction:v.aQ.QuickFix,filter:{}})}})},this._instantiationService)))}static get(Wt){return Wt.getContribution(Hh.ID)}update(Wt){this._ui.getValue().update(Wt)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(Wt){this._ui.hasValue()&&this._ui.getValue().navigateList(Wt)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(Wt,vt,_e){return this._ui.getValue().showCodeActionList(Wt,vt,_e,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(Wt,vt,_e,Ee,Le){var oe;if(!this._editor.hasModel())return;(oe=g.O.get(this._editor))===null||oe===void 0||oe.closeMessage();const he=this._editor.getPosition();this._trigger({type:1,triggerAction:vt,filter:_e,autoApply:Ee,context:{notAvailableMessage:Wt,position:he},preview:Le})}_trigger(Wt){return this._model.trigger(Wt)}_applyCodeAction(Wt,vt){return this._instantiationService.invokeFunction(Zt,Wt,Jt.FromCodeActions,{preview:vt,editor:this._editor})}};_t.ID="editor.contrib.quickFixController",_t=ut([Nt(1,pe.lT),Nt(2,T.i6),Nt(3,ye.ek),Nt(4,C.TG),Nt(5,H.p)],_t);var Jt;(function(Ci){Ci.OnSave="onSave",Ci.FromProblemsView="fromProblemsView",Ci.FromCodeActions="fromCodeActions"})(Jt||(Jt={}));function Zt(Ci,Wt,vt,_e){return Be(this,void 0,void 0,function*(){const Ee=Ci.get(Z.vu),Le=Ci.get(it.Hy),oe=Ci.get(P.b),he=Ci.get(ft.lT);if(oe.publicLog2("codeAction.applyCodeAction",{codeActionTitle:Wt.action.title,codeActionKind:Wt.action.kind,codeActionIsPreferred:!!Wt.action.isPreferred,reason:vt}),yield Wt.resolve(b.T.None),Wt.action.edit&&(yield Ee.apply(Z.fo.convert(Wt.action.edit),{editor:_e?.editor,label:Wt.action.title,quotableLabel:Wt.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:_e?.preview})),Wt.action.command)try{yield Le.executeCommand(Wt.action.command.id,...Wt.action.command.arguments||[])}catch(Me){const ke=Xe(Me);he.error(typeof ke=="string"?ke:p.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Xe(Ci){return typeof Ci=="string"?Ci:Ci instanceof Error&&typeof Ci.message=="string"?Ci.message:void 0}function Lt(Ci,Wt,vt,_e,Ee=!1,Le=v.aQ.Default){if(Ci.hasModel()){const oe=_t.get(Ci);oe?.manualTriggerAtCurrentPosition(Wt,Le,vt,_e,Ee)}}class mi extends E.R6{constructor(){super({id:mi.Id,label:p.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:T.Ao.and(B.u.writable,B.u.hasCodeActionsProvider),kbOpts:{kbExpr:B.u.editorTextFocus,primary:2132,weight:100}})}run(Wt,vt){return Lt(vt,p.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,v.aQ.QuickFix)}}mi.Id="editor.action.quickFix";class jt extends E._l{constructor(){super({id:O.RB,precondition:T.Ao.and(B.u.writable,B.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:$t}]}})}runEditorCommand(Wt,vt,_e){const Ee=v.wZ.fromUser(_e,{kind:v.yN.Empty,apply:"ifSingle"});return Lt(vt,typeof _e?.kind=="string"?Ee.preferred?p.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",_e.kind):p.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",_e.kind):Ee.preferred?p.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):p.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:Ee.kind,includeSourceActions:!0,onlyIncludePreferredActions:Ee.preferred},Ee.apply)}}class ki extends E.R6{constructor(){super({id:O.Bb,label:p.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:T.Ao.and(B.u.writable,B.u.hasCodeActionsProvider),kbOpts:{kbExpr:B.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:T.Ao.and(B.u.writable,Ze(v.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:$t}]}})}run(Wt,vt,_e){return wt(vt,_e,!1,v.aQ.Refactor)}}class Pi extends E.R6{constructor(){super({id:O.sh,label:p.NC("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:T.Ao.and(B.u.writable,B.u.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:$t}]}})}run(Wt,vt,_e){return wt(vt,_e,!0,v.aQ.RefactorPreview)}}class gt extends E.R6{constructor(){super({id:O.MN,label:p.NC("source.label","Source Action..."),alias:"Source Action...",precondition:T.Ao.and(B.u.writable,B.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:T.Ao.and(B.u.writable,Ze(v.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:$t}]}})}run(Wt,vt,_e){const Ee=v.wZ.fromUser(_e,{kind:v.yN.Source,apply:"never"});return Lt(vt,typeof _e?.kind=="string"?Ee.preferred?p.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",_e.kind):p.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",_e.kind):Ee.preferred?p.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):p.NC("editor.action.source.noneMessage","No source actions available"),{include:v.yN.Source.contains(Ee.kind)?Ee.kind:v.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:Ee.preferred},Ee.apply,void 0,v.aQ.SourceAction)}}class St extends E.R6{constructor(){super({id:O.uH,label:p.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:T.Ao.and(B.u.writable,Ze(v.yN.SourceOrganizeImports)),kbOpts:{kbExpr:B.u.editorTextFocus,primary:1581,weight:100}})}run(Wt,vt){return Lt(vt,p.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:v.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,v.aQ.OrganizeImports)}}class ii extends E.R6{constructor(){super({id:O.TM,label:p.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:T.Ao.and(B.u.writable,Ze(v.yN.SourceFixAll))})}run(Wt,vt){return Lt(vt,p.NC("fixAll.noneMessage","No fix all action available"),{include:v.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,v.aQ.FixAll)}}class Ri extends E.R6{constructor(){super({id:Ri.Id,label:p.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:T.Ao.and(B.u.writable,Ze(v.yN.QuickFix)),kbOpts:{kbExpr:B.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(Wt,vt){return Lt(vt,p.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:v.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,v.aQ.AutoFix)}}Ri.Id="editor.action.autoFix";const Di=E._l.bindToContribution(_t.get),Vi=190;(0,E.fK)(new Di({id:"hideCodeActionMenuWidget",precondition:ie.Visible,handler(Ci){Ci.hideCodeActionMenu()},kbOpts:{weight:Vi,primary:9,secondary:[1033]}})),(0,E.fK)(new Di({id:"focusPreviousCodeAction",precondition:ie.Visible,handler(Ci){Ci.navigateCodeActionList(!0)},kbOpts:{weight:Vi+1e5,primary:16,secondary:[2064]}})),(0,E.fK)(new Di({id:"focusNextCodeAction",precondition:ie.Visible,handler(Ci){Ci.navigateCodeActionList(!1)},kbOpts:{weight:Vi+1e5,primary:18,secondary:[2066]}})),(0,E.fK)(new Di({id:"onEnterSelectCodeAction",precondition:ie.Visible,handler(Ci){Ci.selectedOption()},kbOpts:{weight:Vi+1e5,primary:3,secondary:[1026]}})),(0,E.fK)(new Di({id:"onEnterSelectCodeActionWithPreview",precondition:ie.Visible,handler(Ci){Ci.selectedOptionWithPreview()},kbOpts:{weight:Vi+1e5,primary:2051}}))},76014:function(Yt,Ye,s){"use strict";s.d(Ye,{EU:function(){return z},Yl:function(){return j},aQ:function(){return l},wZ:function(){return Z},yN:function(){return b}});class b{constructor(H){this.value=H}equals(H){return this.value===H.value}contains(H){return this.equals(H)||this.value===""||H.value.startsWith(this.value+b.sep)}intersects(H){return this.contains(H)||H.contains(this)}append(H){return new b(this.value+b.sep+H)}}b.sep=".",b.None=new b("@@none@@"),b.Empty=new b(""),b.QuickFix=new b("quickfix"),b.Refactor=new b("refactor"),b.Source=new b("source"),b.SourceOrganizeImports=b.Source.append("organizeImports"),b.SourceFixAll=b.Source.append("fixAll");var l;(function(B){B.Refactor="refactor",B.RefactorPreview="refactor preview",B.Lightbulb="lightbulb",B.Default="other (default)",B.SourceAction="source action",B.QuickFix="quick fix action",B.FixAll="fix all",B.OrganizeImports="organize imports",B.AutoFix="auto fix",B.QuickFixHover="quick fix hover window",B.OnSave="save participants",B.ProblemsView="problems view"})(l||(l={}));function z(B,H){return!(B.include&&!B.include.intersects(H)||B.excludes&&B.excludes.some(O=>E(H,O,B.include))||!B.includeSourceActions&&b.Source.contains(H))}function j(B,H){const O=H.kind?new b(H.kind):void 0;return!(B.include&&(!O||!B.include.contains(O))||B.excludes&&O&&B.excludes.some(y=>E(O,y,B.include))||!B.includeSourceActions&&O&&b.Source.contains(O)||B.onlyIncludePreferredActions&&!H.isPreferred)}function E(B,H,O){return!(!H.contains(B)||O&&H.contains(O))}class Z{constructor(H,O,y){this.kind=H,this.apply=O,this.preferred=y}static fromUser(H,O){return!H||typeof H!="object"?new Z(O.kind,O.apply,!1):new Z(Z.getKindFromUser(H,O.kind),Z.getApplyFromUser(H,O.apply),Z.getPreferredUser(H))}static getApplyFromUser(H,O){switch(typeof H.apply=="string"?H.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return O}}static getKindFromUser(H,O){return typeof H.kind=="string"?new b(H.kind):O}static getPreferredUser(H){return typeof H.preferred=="boolean"?H.preferred:!1}}},14410:function(Yt,Ye,s){"use strict";s.d(Ye,{yy:function(){return i},Dl:function(){return d},YQ:function(){return _}});var b=s(97295),l=s(24314),z=s(71050),j=s(5976),E=s(16830),Z=s(38819),B=s(91741),H=s(72065),O=s(65026),y=s(63580);const g=(0,H.yh)("IEditorCancelService"),C=new Z.uy("cancellableOperation",!1,(0,y.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,O.z)(g,class{constructor(){this._tokens=new WeakMap}add(v,p){let L=this._tokens.get(v);L||(L=v.invokeWithinContext(M=>{const I=C.bindTo(M.get(Z.i6)),P=new B.S;return{key:I,tokens:P}}),this._tokens.set(v,L));let T;return L.key.set(!0),T=L.tokens.push(p),()=>{T&&(T(),L.key.set(!L.tokens.isEmpty()),T=void 0)}}cancel(v){const p=this._tokens.get(v);if(!p)return;const L=p.tokens.pop();L&&(L.cancel(),p.key.set(!p.tokens.isEmpty()))}},!0);class m extends z.A{constructor(p,L){super(L),this.editor=p,this._unregister=p.invokeWithinContext(T=>T.get(g).add(p,this))}dispose(){this._unregister(),super.dispose()}}(0,E.fK)(new class extends E._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:C})}runEditorCommand(v,p){v.get(g).cancel(p)}});class i{constructor(p,L){if(this.flags=L,this.flags&1){const T=p.getModel();this.modelVersionId=T?b.WU("{0}#{1}",T.uri.toString(),T.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=p.getPosition():this.position=null,this.flags&2?this.selection=p.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=p.getScrollLeft(),this.scrollTop=p.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(p){if(!(p instanceof i))return!1;const L=p;return!(this.modelVersionId!==L.modelVersionId||this.scrollLeft!==L.scrollLeft||this.scrollTop!==L.scrollTop||!this.position&&L.position||this.position&&!L.position||this.position&&L.position&&!this.position.equals(L.position)||!this.selection&&L.selection||this.selection&&!L.selection||this.selection&&L.selection&&!this.selection.equalsRange(L.selection))}validate(p){return this._equals(new i(p,this.flags))}}class d extends m{constructor(p,L,T,M){super(p,M),this._listener=new j.SL,L&4&&this._listener.add(p.onDidChangeCursorPosition(I=>{(!T||!l.e.containsPosition(T,I.position))&&this.cancel()})),L&2&&this._listener.add(p.onDidChangeCursorSelection(I=>{(!T||!l.e.containsRange(T,I.selection))&&this.cancel()})),L&8&&this._listener.add(p.onDidScrollChange(I=>this.cancel())),L&1&&(this._listener.add(p.onDidChangeModel(I=>this.cancel())),this._listener.add(p.onDidChangeModelContent(I=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class _ extends z.A{constructor(p,L){super(L),this._listener=p.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},27002:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{CommonFindController:function(){return Ht},FindController:function(){return Qt},MatchFindAction:function(){return zi},NextMatchFindAction:function(){return Si},NextSelectionMatchFindAction:function(){return Ui},PreviousMatchFindAction:function(){return Ji},PreviousSelectionMatchFindAction:function(){return nn},SelectionMatchFindAction:function(){return Zi},StartFindAction:function(){return ci},StartFindReplaceAction:function(){return Dn},StartFindWithArgsAction:function(){return Ii},StartFindWithSelectionAction:function(){return Xi},getSelectionSearchString:function(){return It}});var b=s(15393),l=s(5976),z=s(97295),j=s(16830),E=s(29102),Z=s(9488),B=s(61329),H=s(50187),O=s(24314),y=s(3860),g=s(77277),C=s(84973),m=s(22529),i=s(73910),d=s(97781);class _{constructor(ze){this._editor=ze,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const ze=this._findScopeDecorationIds.map(Ct=>this._editor.getModel().getDecorationRange(Ct)).filter(Ct=>!!Ct);if(ze.length)return ze}return null}getStartPosition(){return this._startPosition}setStartPosition(ze){this._startPosition=ze,this.setCurrentFindMatch(null)}_getDecorationIndex(ze){const Ct=this._decorations.indexOf(ze);return Ct>=0?Ct+1:1}getCurrentMatchesPosition(ze){const Ct=this._editor.getModel().getDecorationsInRange(ze);for(const kt of Ct){const oi=kt.options;if(oi===_._FIND_MATCH_DECORATION||oi===_._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(kt.id)}return 0}setCurrentFindMatch(ze){let Ct=null,kt=0;if(ze)for(let oi=0,ai=this._decorations.length;oi<ai;oi++){const bi=this._editor.getModel().getDecorationRange(this._decorations[oi]);if(ze.equalsRange(bi)){Ct=this._decorations[oi],kt=oi+1;break}}return(this._highlightedDecorationId!==null||Ct!==null)&&this._editor.changeDecorations(oi=>{if(this._highlightedDecorationId!==null&&(oi.changeDecorationOptions(this._highlightedDecorationId,_._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),Ct!==null&&(this._highlightedDecorationId=Ct,oi.changeDecorationOptions(this._highlightedDecorationId,_._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(oi.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),Ct!==null){let ai=this._editor.getModel().getDecorationRange(Ct);if(ai.startLineNumber!==ai.endLineNumber&&ai.endColumn===1){const bi=ai.endLineNumber-1,xi=this._editor.getModel().getLineMaxColumn(bi);ai=new O.e(ai.startLineNumber,ai.startColumn,bi,xi)}this._rangeHighlightDecorationId=oi.addDecoration(ai,_._RANGE_HIGHLIGHT_DECORATION)}}),kt}set(ze,Ct){this._editor.changeDecorations(kt=>{let oi=_._FIND_MATCH_DECORATION;const ai=[];if(ze.length>1e3){oi=_._FIND_MATCH_NO_OVERVIEW_DECORATION;const xi=this._editor.getModel().getLineCount(),ji=this._editor.getLayoutInfo().height/xi,Hi=Math.max(2,Math.ceil(3/ji));let rn=ze[0].range.startLineNumber,wi=ze[0].range.endLineNumber;for(let et=1,lt=ze.length;et<lt;et++){const Rt=ze[et].range;wi+Hi>=Rt.startLineNumber?Rt.endLineNumber>wi&&(wi=Rt.endLineNumber):(ai.push({range:new O.e(rn,1,wi,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),rn=Rt.startLineNumber,wi=Rt.endLineNumber)}ai.push({range:new O.e(rn,1,wi,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const bi=new Array(ze.length);for(let xi=0,Ti=ze.length;xi<Ti;xi++)bi[xi]={range:ze[xi].range,options:oi};this._decorations=kt.deltaDecorations(this._decorations,bi),this._overviewRulerApproximateDecorations=kt.deltaDecorations(this._overviewRulerApproximateDecorations,ai),this._rangeHighlightDecorationId&&(kt.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(xi=>kt.removeDecoration(xi)),this._findScopeDecorationIds=[]),Ct?.length&&(this._findScopeDecorationIds=Ct.map(xi=>kt.addDecoration(xi,_._FIND_SCOPE_DECORATION)))})}matchBeforePosition(ze){if(this._decorations.length===0)return null;for(let Ct=this._decorations.length-1;Ct>=0;Ct--){const kt=this._decorations[Ct],oi=this._editor.getModel().getDecorationRange(kt);if(!(!oi||oi.endLineNumber>ze.lineNumber)){if(oi.endLineNumber<ze.lineNumber)return oi;if(!(oi.endColumn>ze.column))return oi}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(ze){if(this._decorations.length===0)return null;for(let Ct=0,kt=this._decorations.length;Ct<kt;Ct++){const oi=this._decorations[Ct],ai=this._editor.getModel().getDecorationRange(oi);if(!(!ai||ai.startLineNumber<ze.lineNumber)){if(ai.startLineNumber>ze.lineNumber)return ai;if(!(ai.startColumn<ze.column))return ai}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let ze=[];return ze=ze.concat(this._decorations),ze=ze.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&ze.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&ze.push(this._rangeHighlightDecorationId),ze}}_._CURRENT_FIND_MATCH_DECORATION=m.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,d.EN)(i.Fm_),position:C.sh.Center},minimap:{color:(0,d.EN)(i.SUY),position:C.F5.Inline}}),_._FIND_MATCH_DECORATION=m.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,d.EN)(i.Fm_),position:C.sh.Center},minimap:{color:(0,d.EN)(i.SUY),position:C.F5.Inline}}),_._FIND_MATCH_NO_OVERVIEW_DECORATION=m.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),_._FIND_MATCH_ONLY_OVERVIEW_DECORATION=m.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,d.EN)(i.Fm_),position:C.sh.Center}}),_._RANGE_HIGHLIGHT_DECORATION=m.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),_._FIND_SCOPE_DECORATION=m.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class v{constructor(ze,Ct,kt){this._editorSelection=ze,this._ranges=Ct,this._replaceStrings=kt,this._trackedEditorSelectionId=null}getEditOperations(ze,Ct){if(this._ranges.length>0){const kt=[];for(let bi=0;bi<this._ranges.length;bi++)kt.push({range:this._ranges[bi],text:this._replaceStrings[bi]});kt.sort((bi,xi)=>O.e.compareRangesUsingStarts(bi.range,xi.range));const oi=[];let ai=kt[0];for(let bi=1;bi<kt.length;bi++)ai.range.endLineNumber===kt[bi].range.startLineNumber&&ai.range.endColumn===kt[bi].range.startColumn?(ai.range=ai.range.plusRange(kt[bi].range),ai.text=ai.text+kt[bi].text):(oi.push(ai),ai=kt[bi]);oi.push(ai);for(const bi of oi)Ct.addEditOperation(bi.range,bi.text)}this._trackedEditorSelectionId=Ct.trackSelection(this._editorSelection)}computeCursorState(ze,Ct){return Ct.getTrackedSelection(this._trackedEditorSelectionId)}}function p(pi,ze){if(pi&&pi[0]!==""){const Ct=L(pi,ze,"-"),kt=L(pi,ze,"_");return Ct&&!kt?T(pi,ze,"-"):!Ct&&kt?T(pi,ze,"_"):pi[0].toUpperCase()===pi[0]?ze.toUpperCase():pi[0].toLowerCase()===pi[0]?ze.toLowerCase():z.Kw(pi[0][0])&&ze.length>0?ze[0].toUpperCase()+ze.substr(1):pi[0][0].toUpperCase()!==pi[0][0]&&ze.length>0?ze[0].toLowerCase()+ze.substr(1):ze}else return ze}function L(pi,ze,Ct){return pi[0].indexOf(Ct)!==-1&&ze.indexOf(Ct)!==-1&&pi[0].split(Ct).length===ze.split(Ct).length}function T(pi,ze,Ct){const kt=ze.split(Ct),oi=pi[0].split(Ct);let ai="";return kt.forEach((bi,xi)=>{ai+=p([oi[xi]],bi)+Ct}),ai.slice(0,-1)}class M{constructor(ze){this.staticValue=ze,this.kind=0}}class I{constructor(ze){this.pieces=ze,this.kind=1}}class P{constructor(ze){!ze||ze.length===0?this._state=new M(""):ze.length===1&&ze[0].staticValue!==null?this._state=new M(ze[0].staticValue):this._state=new I(ze)}static fromStaticValue(ze){return new P([V.staticValue(ze)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(ze,Ct){if(this._state.kind===0)return Ct?p(ze,this._state.staticValue):this._state.staticValue;let kt="";for(let oi=0,ai=this._state.pieces.length;oi<ai;oi++){const bi=this._state.pieces[oi];if(bi.staticValue!==null){kt+=bi.staticValue;continue}let xi=P._substitute(bi.matchIndex,ze);if(bi.caseOps!==null&&bi.caseOps.length>0){const Ti=[],ji=bi.caseOps.length;let Hi=0;for(let rn=0,wi=xi.length;rn<wi;rn++){if(Hi>=ji){Ti.push(xi.slice(rn));break}switch(bi.caseOps[Hi]){case"U":Ti.push(xi[rn].toUpperCase());break;case"u":Ti.push(xi[rn].toUpperCase()),Hi++;break;case"L":Ti.push(xi[rn].toLowerCase());break;case"l":Ti.push(xi[rn].toLowerCase()),Hi++;break;default:Ti.push(xi[rn])}}xi=Ti.join("")}kt+=xi}return kt}static _substitute(ze,Ct){if(Ct===null)return"";if(ze===0)return Ct[0];let kt="";for(;ze>0;){if(ze<Ct.length)return(Ct[ze]||"")+kt;kt=String(ze%10)+kt,ze=Math.floor(ze/10)}return"$"+kt}}class V{constructor(ze,Ct,kt){this.staticValue=ze,this.matchIndex=Ct,!kt||kt.length===0?this.caseOps=null:this.caseOps=kt.slice(0)}static staticValue(ze){return new V(ze,-1,null)}static caseOps(ze,Ct){return new V(null,ze,Ct)}}class ${constructor(ze){this._source=ze,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(ze){this._emitStatic(this._source.substring(this._lastCharIndex,ze)),this._lastCharIndex=ze}emitStatic(ze,Ct){this._emitStatic(ze),this._lastCharIndex=Ct}_emitStatic(ze){ze.length!==0&&(this._currentStaticPiece+=ze)}emitMatchIndex(ze,Ct,kt){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=V.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=V.caseOps(ze,kt),this._lastCharIndex=Ct}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=V.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new P(this._result)}}function re(pi){if(!pi||pi.length===0)return new P(null);const ze=[],Ct=new $(pi);for(let kt=0,oi=pi.length;kt<oi;kt++){const ai=pi.charCodeAt(kt);if(ai===92){if(kt++,kt>=oi)break;const bi=pi.charCodeAt(kt);switch(bi){case 92:Ct.emitUnchanged(kt-1),Ct.emitStatic("\\",kt+1);break;case 110:Ct.emitUnchanged(kt-1),Ct.emitStatic(`
`,kt+1);break;case 116:Ct.emitUnchanged(kt-1),Ct.emitStatic("	",kt+1);break;case 117:case 85:case 108:case 76:Ct.emitUnchanged(kt-1),Ct.emitStatic("",kt+1),ze.push(String.fromCharCode(bi));break}continue}if(ai===36){if(kt++,kt>=oi)break;const bi=pi.charCodeAt(kt);if(bi===36){Ct.emitUnchanged(kt-1),Ct.emitStatic("$",kt+1);continue}if(bi===48||bi===38){Ct.emitUnchanged(kt-1),Ct.emitMatchIndex(0,kt+1,ze),ze.length=0;continue}if(49<=bi&&bi<=57){let xi=bi-48;if(kt+1<oi){const Ti=pi.charCodeAt(kt+1);if(48<=Ti&&Ti<=57){kt++,xi=xi*10+(Ti-48),Ct.emitUnchanged(kt-2),Ct.emitMatchIndex(xi,kt+1,ze),ze.length=0;continue}}Ct.emitUnchanged(kt-1),Ct.emitMatchIndex(xi,kt+1,ze),ze.length=0;continue}}}return Ct.finalize()}var ae=s(38819);const ie=new ae.uy("findWidgetVisible",!1),se=ie.toNegated(),X=new ae.uy("findInputFocussed",!1),ne=new ae.uy("replaceInputFocussed",!1),Q={primary:545,mac:{primary:2593}},F={primary:565,mac:{primary:2613}},te={primary:560,mac:{primary:2608}},W={primary:554,mac:{primary:2602}},G={primary:558,mac:{primary:2606}},q={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},me=19999,w=240;class we{constructor(ze,Ct){this._toDispose=new l.SL,this._editor=ze,this._state=Ct,this._isDisposed=!1,this._startSearchingTimer=new b._F,this._decorations=new _(ze),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new b.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(kt=>{(kt.reason===3||kt.reason===5||kt.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(kt=>{this._ignoreModelContentChanged||(kt.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(kt=>this._onStateChanged(kt))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,l.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(ze){this._isDisposed||this._editor.hasModel()&&(ze.searchString||ze.isReplaceRevealed||ze.isRegex||ze.wholeWord||ze.matchCase||ze.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{ze.searchScope?this.research(ze.moveCursor,this._state.searchScope):this.research(ze.moveCursor)},w)):ze.searchScope?this.research(ze.moveCursor,this._state.searchScope):this.research(ze.moveCursor))}static _getSearchRange(ze,Ct){return Ct||ze.getFullModelRange()}research(ze,Ct){let kt=null;typeof Ct<"u"?Ct!==null&&(Array.isArray(Ct)?kt=Ct:kt=[Ct]):kt=this._decorations.getFindScopes(),kt!==null&&(kt=kt.map(xi=>{if(xi.startLineNumber!==xi.endLineNumber){let Ti=xi.endLineNumber;return xi.endColumn===1&&(Ti=Ti-1),new O.e(xi.startLineNumber,1,Ti,this._editor.getModel().getLineMaxColumn(Ti))}return xi}));const oi=this._findMatches(kt,!1,me);this._decorations.set(oi,kt);const ai=this._editor.getSelection();let bi=this._decorations.getCurrentMatchesPosition(ai);if(bi===0&&oi.length>0){const xi=(0,Z.lG)(oi.map(Ti=>Ti.range),Ti=>O.e.compareRangesUsingStarts(Ti,ai)>=0);bi=xi>0?xi-1+1:bi}this._state.changeMatchInfo(bi,this._decorations.getCount(),void 0),ze&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const ze=this._decorations.getFindScope();return ze&&this._editor.revealRangeInCenterIfOutsideViewport(ze,0),!0}return!1}_setCurrentFindMatch(ze){const Ct=this._decorations.setCurrentFindMatch(ze);this._state.changeMatchInfo(Ct,this._decorations.getCount(),ze),this._editor.setSelection(ze),this._editor.revealRangeInCenterIfOutsideViewport(ze,0)}_prevSearchPosition(ze){const Ct=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:kt,column:oi}=ze;const ai=this._editor.getModel();return Ct||oi===1?(kt===1?kt=ai.getLineCount():kt--,oi=ai.getLineMaxColumn(kt)):oi--,new H.L(kt,oi)}_moveToPrevMatch(ze,Ct=!1){if(!this._state.canNavigateBack()){const Hi=this._decorations.matchAfterPosition(ze);Hi&&this._setCurrentFindMatch(Hi);return}if(this._decorations.getCount()<me){let Hi=this._decorations.matchBeforePosition(ze);Hi&&Hi.isEmpty()&&Hi.getStartPosition().equals(ze)&&(ze=this._prevSearchPosition(ze),Hi=this._decorations.matchBeforePosition(ze)),Hi&&this._setCurrentFindMatch(Hi);return}if(this._cannotFind())return;const kt=this._decorations.getFindScope(),oi=we._getSearchRange(this._editor.getModel(),kt);oi.getEndPosition().isBefore(ze)&&(ze=oi.getEndPosition()),ze.isBefore(oi.getStartPosition())&&(ze=oi.getEndPosition());const{lineNumber:ai,column:bi}=ze,xi=this._editor.getModel();let Ti=new H.L(ai,bi),ji=xi.findPreviousMatch(this._state.searchString,Ti,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(ji&&ji.range.isEmpty()&&ji.range.getStartPosition().equals(Ti)&&(Ti=this._prevSearchPosition(Ti),ji=xi.findPreviousMatch(this._state.searchString,Ti,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),!!ji){if(!Ct&&!oi.containsRange(ji.range))return this._moveToPrevMatch(ji.range.getStartPosition(),!0);this._setCurrentFindMatch(ji.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(ze){const Ct=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:kt,column:oi}=ze;const ai=this._editor.getModel();return Ct||oi===ai.getLineMaxColumn(kt)?(kt===ai.getLineCount()?kt=1:kt++,oi=1):oi++,new H.L(kt,oi)}_moveToNextMatch(ze){if(!this._state.canNavigateForward()){const kt=this._decorations.matchBeforePosition(ze);kt&&this._setCurrentFindMatch(kt);return}if(this._decorations.getCount()<me){let kt=this._decorations.matchAfterPosition(ze);kt&&kt.isEmpty()&&kt.getStartPosition().equals(ze)&&(ze=this._nextSearchPosition(ze),kt=this._decorations.matchAfterPosition(ze)),kt&&this._setCurrentFindMatch(kt);return}const Ct=this._getNextMatch(ze,!1,!0);Ct&&this._setCurrentFindMatch(Ct.range)}_getNextMatch(ze,Ct,kt,oi=!1){if(this._cannotFind())return null;const ai=this._decorations.getFindScope(),bi=we._getSearchRange(this._editor.getModel(),ai);bi.getEndPosition().isBefore(ze)&&(ze=bi.getStartPosition()),ze.isBefore(bi.getStartPosition())&&(ze=bi.getStartPosition());const{lineNumber:xi,column:Ti}=ze,ji=this._editor.getModel();let Hi=new H.L(xi,Ti),rn=ji.findNextMatch(this._state.searchString,Hi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,Ct);return kt&&rn&&rn.range.isEmpty()&&rn.range.getStartPosition().equals(Hi)&&(Hi=this._nextSearchPosition(Hi),rn=ji.findNextMatch(this._state.searchString,Hi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,Ct)),rn?!oi&&!bi.containsRange(rn.range)?this._getNextMatch(rn.range.getEndPosition(),Ct,kt,!0):rn:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?re(this._state.replaceString):P.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const ze=this._getReplacePattern(),Ct=this._editor.getSelection(),kt=this._getNextMatch(Ct.getStartPosition(),!0,!1);if(kt)if(Ct.equalsRange(kt.range)){const oi=ze.buildReplaceString(kt.matches,this._state.preserveCase),ai=new B.T4(Ct,oi);this._executeEditorCommand("replace",ai),this._decorations.setStartPosition(new H.L(Ct.startLineNumber,Ct.startColumn+oi.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(kt.range)}_findMatches(ze,Ct,kt){const oi=(ze||[null]).map(ai=>we._getSearchRange(this._editor.getModel(),ai));return this._editor.getModel().findMatches(this._state.searchString,oi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,Ct,kt)}replaceAll(){if(!this._hasMatches())return;const ze=this._decorations.getFindScopes();ze===null&&this._state.matchesCount>=me?this._largeReplaceAll():this._regularReplaceAll(ze),this.research(!1)}_largeReplaceAll(){const Ct=new g.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!Ct)return;let kt=Ct.regex;if(!kt.multiline){let rn="mu";kt.ignoreCase&&(rn+="i"),kt.global&&(rn+="g"),kt=new RegExp(kt.source,rn)}const oi=this._editor.getModel(),ai=oi.getValue(1),bi=oi.getFullModelRange(),xi=this._getReplacePattern();let Ti;const ji=this._state.preserveCase;xi.hasReplacementPatterns||ji?Ti=ai.replace(kt,function(){return xi.buildReplaceString(arguments,ji)}):Ti=ai.replace(kt,xi.buildReplaceString(null,ji));const Hi=new B.hP(bi,Ti,this._editor.getSelection());this._executeEditorCommand("replaceAll",Hi)}_regularReplaceAll(ze){const Ct=this._getReplacePattern(),kt=this._findMatches(ze,Ct.hasReplacementPatterns||this._state.preserveCase,1073741824),oi=[];for(let bi=0,xi=kt.length;bi<xi;bi++)oi[bi]=Ct.buildReplaceString(kt[bi].matches,this._state.preserveCase);const ai=new v(this._editor.getSelection(),kt.map(bi=>bi.range),oi);this._executeEditorCommand("replaceAll",ai)}selectAllMatches(){if(!this._hasMatches())return;const ze=this._decorations.getFindScopes();let kt=this._findMatches(ze,!1,1073741824).map(ai=>new y.Y(ai.range.startLineNumber,ai.range.startColumn,ai.range.endLineNumber,ai.range.endColumn));const oi=this._editor.getSelection();for(let ai=0,bi=kt.length;ai<bi;ai++)if(kt[ai].equalsRange(oi)){kt=[oi].concat(kt.slice(0,ai)).concat(kt.slice(ai+1));break}this._editor.setSelections(kt)}_executeEditorCommand(ze,Ct){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(ze,Ct),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var xe=s(65321),Ne=s(51307),Ve=s(93794);class Ce extends Ve.${constructor(ze,Ct,kt,oi){super(),this._hideSoon=this._register(new b.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=ze,this._state=Ct,this._keybindingService=kt,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const ai=oi.getColorTheme().getColor(i.PRb),bi=oi.getColorTheme().getColor(i.Pvw),xi=oi.getColorTheme().getColor(i.XEs);this.caseSensitive=this._register(new Ne.rk({appendTitle:this._keybindingLabelFor(q.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:ai,inputActiveOptionForeground:bi,inputActiveOptionBackground:xi})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Ne.Qx({appendTitle:this._keybindingLabelFor(q.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:ai,inputActiveOptionForeground:bi,inputActiveOptionBackground:xi})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Ne.eH({appendTitle:this._keybindingLabelFor(q.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:ai,inputActiveOptionForeground:bi,inputActiveOptionBackground:xi})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(Ti=>{let ji=!1;Ti.isRegex&&(this.regex.checked=this._state.isRegex,ji=!0),Ti.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,ji=!0),Ti.matchCase&&(this.caseSensitive.checked=this._state.matchCase,ji=!0),!this._state.isRevealed&&ji&&this._revealTemporarily()})),this._register(xe.nm(this._domNode,xe.tw.MOUSE_LEAVE,Ti=>this._onMouseLeave())),this._register(xe.nm(this._domNode,"mouseover",Ti=>this._onMouseOver())),this._applyTheme(oi.getColorTheme()),this._register(oi.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(ze){const Ct=this._keybindingService.lookupKeybinding(ze);return Ct?` (${Ct.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Ce.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(ze){const Ct={inputActiveOptionBorder:ze.getColor(i.PRb),inputActiveOptionForeground:ze.getColor(i.Pvw),inputActiveOptionBackground:ze.getColor(i.XEs)};this.caseSensitive.style(Ct),this.wholeWords.style(Ct),this.regex.style(Ct)}}Ce.ID="editor.contrib.findOptionsWidget",(0,d.Ic)((pi,ze)=>{const Ct=pi.getColor(i.D0T);Ct&&ze.addRule(`.monaco-editor .findOptionsWidget { background-color: ${Ct}; }`);const kt=pi.getColor(i.Hfx);kt&&ze.addRule(`.monaco-editor .findOptionsWidget { color: ${kt}; }`);const oi=pi.getColor(i.rh);oi&&ze.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${oi}; }`);const ai=pi.getColor(i.lRK);ai&&ze.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${ai}; }`)});var Ae=s(4669);function $e(pi,ze){return pi===1?!0:pi===2?!1:ze}class je extends l.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new Ae.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return $e(this._isRegexOverride,this._isRegex)}get wholeWord(){return $e(this._wholeWordOverride,this._wholeWord)}get matchCase(){return $e(this._matchCaseOverride,this._matchCase)}get preserveCase(){return $e(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(ze,Ct,kt){const oi={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let ai=!1;Ct===0&&(ze=0),ze>Ct&&(ze=Ct),this._matchesPosition!==ze&&(this._matchesPosition=ze,oi.matchesPosition=!0,ai=!0),this._matchesCount!==Ct&&(this._matchesCount=Ct,oi.matchesCount=!0,ai=!0),typeof kt<"u"&&(O.e.equalsRange(this._currentMatch,kt)||(this._currentMatch=kt,oi.currentMatch=!0,ai=!0)),ai&&this._onFindReplaceStateChange.fire(oi)}change(ze,Ct,kt=!0){var oi;const ai={moveCursor:Ct,updateHistory:kt,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let bi=!1;const xi=this.isRegex,Ti=this.wholeWord,ji=this.matchCase,Hi=this.preserveCase;typeof ze.searchString<"u"&&this._searchString!==ze.searchString&&(this._searchString=ze.searchString,ai.searchString=!0,bi=!0),typeof ze.replaceString<"u"&&this._replaceString!==ze.replaceString&&(this._replaceString=ze.replaceString,ai.replaceString=!0,bi=!0),typeof ze.isRevealed<"u"&&this._isRevealed!==ze.isRevealed&&(this._isRevealed=ze.isRevealed,ai.isRevealed=!0,bi=!0),typeof ze.isReplaceRevealed<"u"&&this._isReplaceRevealed!==ze.isReplaceRevealed&&(this._isReplaceRevealed=ze.isReplaceRevealed,ai.isReplaceRevealed=!0,bi=!0),typeof ze.isRegex<"u"&&(this._isRegex=ze.isRegex),typeof ze.wholeWord<"u"&&(this._wholeWord=ze.wholeWord),typeof ze.matchCase<"u"&&(this._matchCase=ze.matchCase),typeof ze.preserveCase<"u"&&(this._preserveCase=ze.preserveCase),typeof ze.searchScope<"u"&&(!((oi=ze.searchScope)===null||oi===void 0)&&oi.every(rn=>{var wi;return(wi=this._searchScope)===null||wi===void 0?void 0:wi.some(et=>!O.e.equalsRange(et,rn))})||(this._searchScope=ze.searchScope,ai.searchScope=!0,bi=!0)),typeof ze.loop<"u"&&this._loop!==ze.loop&&(this._loop=ze.loop,ai.loop=!0,bi=!0),typeof ze.isSearching<"u"&&this._isSearching!==ze.isSearching&&(this._isSearching=ze.isSearching,ai.isSearching=!0,bi=!0),typeof ze.filters<"u"&&(this._filters?this._filters.update(ze.filters):this._filters=ze.filters,ai.filters=!0,bi=!0),this._isRegexOverride=typeof ze.isRegexOverride<"u"?ze.isRegexOverride:0,this._wholeWordOverride=typeof ze.wholeWordOverride<"u"?ze.wholeWordOverride:0,this._matchCaseOverride=typeof ze.matchCaseOverride<"u"?ze.matchCaseOverride:0,this._preserveCaseOverride=typeof ze.preserveCaseOverride<"u"?ze.preserveCaseOverride:0,xi!==this.isRegex&&(bi=!0,ai.isRegex=!0),Ti!==this.wholeWord&&(bi=!0,ai.wholeWord=!0),ji!==this.matchCase&&(bi=!0,ai.matchCase=!0),Hi!==this.preserveCase&&(bi=!0,ai.preserveCase=!0),bi&&this._onFindReplaceStateChange.fire(ai)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=me}}var at=s(35996),pt=s(40032),bt=s(83080),We=s(73046),it=s(17301),pe=s(1432),ye=s(63580),ft=s(37726);function Xt(pi){var ze,Ct;return((ze=pi.lookupKeybinding("history.showPrevious"))===null||ze===void 0?void 0:ze.getElectronAccelerator())==="Up"&&((Ct=pi.lookupKeybinding("history.showNext"))===null||Ct===void 0?void 0:Ct.getElectronAccelerator())==="Down"}var qt=s(59554),Ft=s(92321),Ot=function(pi,ze,Ct,kt){function oi(ai){return ai instanceof Ct?ai:new Ct(function(bi){bi(ai)})}return new(Ct||(Ct=Promise))(function(ai,bi){function xi(Hi){try{ji(kt.next(Hi))}catch(rn){bi(rn)}}function Ti(Hi){try{ji(kt.throw(Hi))}catch(rn){bi(rn)}}function ji(Hi){Hi.done?ai(Hi.value):oi(Hi.value).then(xi,Ti)}ji((kt=kt.apply(pi,ze||[])).next())})};const Mt=(0,qt.q5)("find-selection",We.lA.selection,ye.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),ni=(0,qt.q5)("find-collapsed",We.lA.chevronRight,ye.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Gt=(0,qt.q5)("find-expanded",We.lA.chevronDown,ye.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Fe=(0,qt.q5)("find-replace",We.lA.replace,ye.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Ge=(0,qt.q5)("find-replace-all",We.lA.replaceAll,ye.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Te=(0,qt.q5)("find-previous-match",We.lA.arrowUp,ye.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Ke=(0,qt.q5)("find-next-match",We.lA.arrowDown,ye.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),ut=ye.NC("label.find","Find"),Nt=ye.NC("placeholder.find","Find"),Be=ye.NC("label.previousMatchButton","Previous Match"),Ze=ye.NC("label.nextMatchButton","Next Match"),wt=ye.NC("label.toggleSelectionFind","Find in Selection"),$t=ye.NC("label.closeButton","Close"),_t=ye.NC("label.replace","Replace"),Jt=ye.NC("placeholder.replace","Replace"),Zt=ye.NC("label.replaceButton","Replace"),Xe=ye.NC("label.replaceAllButton","Replace All"),Lt=ye.NC("label.toggleReplaceButton","Toggle Replace"),mi=ye.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",me),jt=ye.NC("label.matchesLocation","{0} of {1}"),ki=ye.NC("label.noResults","No results"),Pi=419,St=275-54;let ii=69;const Ri=33,Di="ctrlEnterReplaceAll.windows.donotask",Vi=pe.dz?256:2048;class Ci{constructor(ze){this.afterLineNumber=ze,this.heightInPx=Ri,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Wt(pi,ze,Ct){const kt=!!ze.match(/\n/);if(Ct&&kt&&Ct.selectionStart>0){pi.stopPropagation();return}}function vt(pi,ze,Ct){const kt=!!ze.match(/\n/);if(Ct&&kt&&Ct.selectionEnd<Ct.value.length){pi.stopPropagation();return}}class _e extends Ve.${constructor(ze,Ct,kt,oi,ai,bi,xi,Ti,ji){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=ze,this._controller=Ct,this._state=kt,this._contextViewProvider=oi,this._keybindingService=ai,this._contextKeyService=bi,this._storageService=Ti,this._notificationService=ji,this._ctrlEnterReplaceAllWarningPrompted=!!Ti.getBoolean(Di,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new b.vp(500),this._register((0,l.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Hi=>this._onStateChanged(Hi))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Hi=>{if(Hi.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Hi.hasChanged(133)&&this._tryUpdateWidgetWidth(),Hi.hasChanged(2)&&this.updateAccessibilitySupport(),Hi.hasChanged(37)){const rn=this._codeEditor.getOption(37).addExtraSpaceOnTop;rn&&!this._viewZone&&(this._viewZone=new Ci(0),this._showViewZone()),!rn&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Ot(this,void 0,void 0,function*(){if(this._isVisible){const Hi=yield this._controller.getGlobalBufferTerm();Hi&&Hi!==this._state.searchString&&(this._state.change({searchString:Hi},!1),this._findInput.select())}}))),this._findInputFocused=X.bindTo(bi),this._findFocusTracker=this._register(xe.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=ne.bindTo(bi),this._replaceFocusTracker=this._register(xe.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new Ci(0)),this._applyTheme(xi.getColorTheme()),this._register(xi.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Hi=>{if(Hi.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return _e.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(ze){if(ze.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(ze.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),ze.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),ze.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(83)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=xe.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(ze.isRevealed||ze.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),ze.isRegex&&this._findInput.setRegex(this._state.isRegex),ze.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),ze.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),ze.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),ze.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),ze.searchString||ze.matchesCount||ze.matchesPosition){const Ct=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",Ct),this._updateMatchesCount(),this._updateButtons()}(ze.searchString||ze.currentMatch)&&this._layoutViewZone(),ze.updateHistory&&this._delayedUpdateHistory(),ze.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,it.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=ii+"px",this._state.matchesCount>=me?this._matchesCount.title=mi:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let ze;if(this._state.matchesCount>0){let Ct=String(this._state.matchesCount);this._state.matchesCount>=me&&(Ct+="+");let kt=String(this._state.matchesPosition);kt==="0"&&(kt="?"),ze=z.WU(jt,kt,Ct)}else ze=ki;this._matchesCount.appendChild(document.createTextNode(ze)),(0,at.Z9)(this._getAriaLabel(ze,this._state.currentMatch,this._state.searchString)),ii=Math.max(ii,this._matchesCount.clientWidth)}_getAriaLabel(ze,Ct,kt){if(ze===ki)return kt===""?ye.NC("ariaSearchNoResultEmpty","{0} found",ze):ye.NC("ariaSearchNoResult","{0} found for '{1}'",ze,kt);if(Ct){const oi=ye.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",ze,kt,Ct.startLineNumber+":"+Ct.startColumn),ai=this._codeEditor.getModel();return ai&&Ct.startLineNumber<=ai.getLineCount()&&Ct.startLineNumber>=1?`${ai.getLineContent(Ct.startLineNumber)}, ${oi}`:oi}return ye.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",ze,kt)}_updateToggleSelectionFindButton(){const ze=this._codeEditor.getSelection(),Ct=ze?ze.startLineNumber!==ze.endLineNumber||ze.startColumn!==ze.endColumn:!1,kt=this._toggleSelectionFind.checked;this._isVisible&&(kt||Ct)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const ze=this._state.searchString.length>0,Ct=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&ze&&Ct&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&ze&&Ct&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ze),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ze),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const kt=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&kt)}_reveal(){if(this._revealTimeouts.forEach(ze=>{clearTimeout(ze)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const ze=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const kt=!!ze&&ze.startLineNumber!==ze.endLineNumber;this._toggleSelectionFind.checked=kt;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let Ct=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&ze){const kt=this._codeEditor.getDomNode();if(kt){const oi=xe.i(kt),ai=this._codeEditor.getScrolledVisiblePosition(ze.getStartPosition()),bi=oi.left+(ai?ai.left:0),xi=ai?ai.top:0;if(this._viewZone&&xi<this._viewZone.heightInPx){ze.endLineNumber>ze.startLineNumber&&(Ct=!1);const Ti=xe.xQ(this._domNode).left;bi>Ti&&(Ct=!1);const ji=this._codeEditor.getScrolledVisiblePosition(ze.getEndPosition());oi.left+(ji?ji.left:0)>Ti&&(Ct=!1)}}}this._showViewZone(Ct)}}_hide(ze){this._revealTimeouts.forEach(Ct=>{clearTimeout(Ct)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),ze&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(ze){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const kt=this._viewZone;this._viewZoneId!==void 0||!kt||this._codeEditor.changeViewZones(oi=>{kt.heightInPx=this._getHeight(),this._viewZoneId=oi.addZone(kt),this._codeEditor.setScrollTop(ze||this._codeEditor.getScrollTop()+kt.heightInPx)})}_showViewZone(ze=!0){if(!this._isVisible||!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Ci(0));const kt=this._viewZone;this._codeEditor.changeViewZones(oi=>{if(this._viewZoneId!==void 0){const ai=this._getHeight();if(ai===kt.heightInPx)return;const bi=ai-kt.heightInPx;kt.heightInPx=ai,oi.layoutZone(this._viewZoneId),ze&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+bi);return}else{let ai=this._getHeight();if(ai-=this._codeEditor.getOption(77).top,ai<=0)return;kt.heightInPx=ai,this._viewZoneId=oi.addZone(kt),ze&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ai)}})}_removeViewZone(){this._codeEditor.changeViewZones(ze=>{this._viewZoneId!==void 0&&(ze.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(ze){const Ct={inputActiveOptionBorder:ze.getColor(i.PRb),inputActiveOptionBackground:ze.getColor(i.XEs),inputActiveOptionForeground:ze.getColor(i.Pvw),inputBackground:ze.getColor(i.sEe),inputForeground:ze.getColor(i.zJb),inputBorder:ze.getColor(i.dt_),inputValidationInfoBackground:ze.getColor(i._lC),inputValidationInfoForeground:ze.getColor(i.YI3),inputValidationInfoBorder:ze.getColor(i.EPQ),inputValidationWarningBackground:ze.getColor(i.RV_),inputValidationWarningForeground:ze.getColor(i.SUG),inputValidationWarningBorder:ze.getColor(i.C3g),inputValidationErrorBackground:ze.getColor(i.paE),inputValidationErrorForeground:ze.getColor(i._t9),inputValidationErrorBorder:ze.getColor(i.OZR)};this._findInput.style(Ct),this._replaceInput.style(Ct),this._toggleSelectionFind.style(Ct)}_tryUpdateWidgetWidth(){if(!this._isVisible||!xe.Uw(this._domNode))return;const ze=this._codeEditor.getLayoutInfo();if(ze.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const kt=ze.width,oi=ze.minimap.minimapWidth;let ai=!1,bi=!1,xi=!1;if(this._resized&&xe.w(this._domNode)>Pi){this._domNode.style.maxWidth=`${kt-28-oi-15}px`,this._replaceInput.width=xe.w(this._findInput.domNode);return}if(Pi+28+oi>=kt&&(bi=!0),Pi+28+oi-ii>=kt&&(xi=!0),Pi+28+oi-ii>=kt+50&&(ai=!0),this._domNode.classList.toggle("collapsed-find-widget",ai),this._domNode.classList.toggle("narrow-find-widget",xi),this._domNode.classList.toggle("reduced-find-widget",bi),!xi&&!ai&&(this._domNode.style.maxWidth=`${kt-28-oi-15}px`),this._resized){this._findInput.inputBox.layout();const Ti=this._findInput.inputBox.element.clientWidth;Ti>0&&(this._replaceInput.width=Ti)}else this._isReplaceVisible&&(this._replaceInput.width=xe.w(this._findInput.domNode))}_getHeight(){let ze=0;return ze+=4,ze+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(ze+=4,ze+=this._replaceInput.inputBox.height+2),ze+=4,ze}_tryUpdateHeight(){const ze=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===ze?!1:(this._cachedHeight=ze,this._domNode.style.height=`${ze}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const ze=this._codeEditor.getSelections();ze.map(Ct=>{Ct.endColumn===1&&Ct.endLineNumber>Ct.startLineNumber&&(Ct=Ct.setEndPosition(Ct.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Ct.endLineNumber-1)));const kt=this._state.currentMatch;return Ct.startLineNumber!==Ct.endLineNumber&&!O.e.equalsRange(Ct,kt)?Ct:null}).filter(Ct=>!!Ct),ze.length&&this._state.change({searchScope:ze},!0)}}_onFindInputMouseDown(ze){ze.middleButton&&ze.stopPropagation()}_onFindInputKeyDown(ze){if(ze.equals(Vi|3))if(this._keybindingService.dispatchEvent(ze,ze.target)){ze.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),ze.preventDefault();return}if(ze.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),ze.preventDefault();return}if(ze.equals(2066)){this._codeEditor.focus(),ze.preventDefault();return}if(ze.equals(16))return Wt(ze,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(ze.equals(18))return vt(ze,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(ze){if(ze.equals(Vi|3))if(this._keybindingService.dispatchEvent(ze,ze.target)){ze.preventDefault();return}else{pe.ED&&pe.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(ye.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Di,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),ze.preventDefault();return}if(ze.equals(2)){this._findInput.focusOnCaseSensitive(),ze.preventDefault();return}if(ze.equals(1026)){this._findInput.focus(),ze.preventDefault();return}if(ze.equals(2066)){this._codeEditor.focus(),ze.preventDefault();return}if(ze.equals(16))return Wt(ze,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(ze.equals(18))return vt(ze,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(ze){return 0}_keybindingLabelFor(ze){const Ct=this._keybindingService.lookupKeybinding(ze);return Ct?` (${Ct.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new ft.Yb(null,this._contextViewProvider,{width:St,label:ut,placeholder:Nt,appendCaseSensitiveLabel:this._keybindingLabelFor(q.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(q.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(q.ToggleRegexCommand),validation:Ti=>{if(Ti.length===0||!this._findInput.getRegex())return null;try{return new RegExp(Ti,"gu"),null}catch(ji){return{content:ji.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>Xt(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Ti=>this._onFindInputKeyDown(Ti))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Ti=>{Ti.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),Ti.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Ti=>{Ti.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Ti.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Ti=>{this._tryUpdateHeight()&&this._showViewZone()})),pe.IJ&&this._register(this._findInput.onMouseDown(Ti=>this._onFindInputMouseDown(Ti))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Ee({label:Be+this._keybindingLabelFor(q.PreviousMatchFindAction),icon:Te,onTrigger:()=>{this._codeEditor.getAction(q.PreviousMatchFindAction).run().then(void 0,it.dL)}})),this._nextBtn=this._register(new Ee({label:Ze+this._keybindingLabelFor(q.NextMatchFindAction),icon:Ke,onTrigger:()=>{this._codeEditor.getAction(q.NextMatchFindAction).run().then(void 0,it.dL)}}));const kt=document.createElement("div");kt.className="find-part",kt.appendChild(this._findInput.domNode);const oi=document.createElement("div");oi.className="find-actions",kt.appendChild(oi),oi.appendChild(this._matchesCount),oi.appendChild(this._prevBtn.domNode),oi.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new pt.Z({icon:Mt,title:wt+this._keybindingLabelFor(q.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const Ti=this._codeEditor.getSelections();Ti.map(ji=>(ji.endColumn===1&&ji.endLineNumber>ji.startLineNumber&&(ji=ji.setEndPosition(ji.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ji.endLineNumber-1))),ji.isEmpty()?null:ji)).filter(ji=>!!ji),Ti.length&&this._state.change({searchScope:Ti},!0)}}else this._state.change({searchScope:null},!0)})),oi.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Ee({label:$t+this._keybindingLabelFor(q.CloseFindWidgetCommand),icon:qt.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Ti=>{Ti.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Ti.preventDefault())}})),oi.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new ft.Nq(null,void 0,{label:_t,placeholder:Jt,appendPreserveCaseLabel:this._keybindingLabelFor(q.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>Xt(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Ti=>this._onReplaceInputKeyDown(Ti))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Ti=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Ti=>{Ti.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Ti.preventDefault())})),this._replaceBtn=this._register(new Ee({label:Zt+this._keybindingLabelFor(q.ReplaceOneAction),icon:Fe,onTrigger:()=>{this._controller.replace()},onKeyDown:Ti=>{Ti.equals(1026)&&(this._closeBtn.focus(),Ti.preventDefault())}})),this._replaceAllBtn=this._register(new Ee({label:Xe+this._keybindingLabelFor(q.ReplaceAllAction),icon:Ge,onTrigger:()=>{this._controller.replaceAll()}}));const ai=document.createElement("div");ai.className="replace-part",ai.appendChild(this._replaceInput.domNode);const bi=document.createElement("div");bi.className="replace-actions",ai.appendChild(bi),bi.appendChild(this._replaceBtn.domNode),bi.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Ee({label:Lt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=xe.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${Pi}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(kt),this._domNode.appendChild(ai),this._resizeSash=new bt.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let xi=Pi;this._register(this._resizeSash.onDidStart(()=>{xi=xe.w(this._domNode)})),this._register(this._resizeSash.onDidChange(Ti=>{this._resized=!0;const ji=xi+Ti.startX-Ti.currentX;if(ji<Pi)return;const Hi=parseFloat(xe.Dx(this._domNode).maxWidth)||0;ji>Hi||(this._domNode.style.width=`${ji}px`,this._isReplaceVisible&&(this._replaceInput.width=xe.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Ti=xe.w(this._domNode);if(Ti<Pi)return;let ji=Pi;if(!this._resized||Ti===Pi){const Hi=this._codeEditor.getLayoutInfo();ji=Hi.width-28-Hi.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${ji}px`,this._isReplaceVisible&&(this._replaceInput.width=xe.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const ze=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(ze!==2)}}_e.ID="editor.contrib.findWidget";class Ee extends Ve.${constructor(ze){super(),this._opts=ze;let Ct="button";this._opts.className&&(Ct=Ct+" "+this._opts.className),this._opts.icon&&(Ct=Ct+" "+d.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=Ct,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,kt=>{this._opts.onTrigger(),kt.preventDefault()}),this.onkeydown(this._domNode,kt=>{var oi,ai;if(kt.equals(10)||kt.equals(3)){this._opts.onTrigger(),kt.preventDefault();return}(ai=(oi=this._opts).onKeyDown)===null||ai===void 0||ai.call(oi,kt)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(ze){this._domNode.classList.toggle("disabled",!ze),this._domNode.setAttribute("aria-disabled",String(!ze)),this._domNode.tabIndex=ze?0:-1}setExpanded(ze){this._domNode.setAttribute("aria-expanded",String(!!ze)),ze?(this._domNode.classList.remove(...d.kS.asClassNameArray(ni)),this._domNode.classList.add(...d.kS.asClassNameArray(Gt))):(this._domNode.classList.remove(...d.kS.asClassNameArray(Gt)),this._domNode.classList.add(...d.kS.asClassNameArray(ni)))}}(0,d.Ic)((pi,ze)=>{const Ct=(lt,Rt)=>{Rt&&ze.addRule(`.monaco-editor ${lt} { background-color: ${Rt}; }`)};Ct(".findMatch",pi.getColor(i.MUv)),Ct(".currentFindMatch",pi.getColor(i.nyM)),Ct(".findScope",pi.getColor(i.jUe));const kt=pi.getColor(i.D0T);Ct(".find-widget",kt);const oi=pi.getColor(i.rh);oi&&ze.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${oi}; }`);const ai=pi.getColor(i.EiJ);ai&&ze.addRule(`.monaco-editor .findMatch { border: 1px ${(0,Ft.c3)(pi.type)?"dotted":"solid"} ${ai}; box-sizing: border-box; }`);const bi=pi.getColor(i.pnM);bi&&ze.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${bi}; padding: 1px; box-sizing: border-box; }`);const xi=pi.getColor(i.gkn);xi&&ze.addRule(`.monaco-editor .findScope { border: 1px ${(0,Ft.c3)(pi.type)?"dashed":"solid"} ${xi}; }`);const Ti=pi.getColor(i.lRK);Ti&&ze.addRule(`.monaco-editor .find-widget { border: 1px solid ${Ti}; }`);const ji=pi.getColor(i.Hfx);ji&&ze.addRule(`.monaco-editor .find-widget { color: ${ji}; }`);const Hi=pi.getColor(i.Ido);Hi&&ze.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Hi}; }`);const rn=pi.getColor(i.Ng6);if(rn)ze.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${rn}; }`);else{const lt=pi.getColor(i.D1_);lt&&ze.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${lt}; }`)}const wi=pi.getColor(i.lUq);wi&&ze.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${wi} !important;
		}
	`);const et=pi.getColor(i.R80);et&&ze.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${et}; }`)});var Le=s(84144),oe=s(84972),he=s(5606),Me=s(91847),ke=s(59422),Je=s(87060),ot=function(pi,ze,Ct,kt){var oi=arguments.length,ai=oi<3?ze:kt===null?kt=Object.getOwnPropertyDescriptor(ze,Ct):kt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ai=Reflect.decorate(pi,ze,Ct,kt);else for(var xi=pi.length-1;xi>=0;xi--)(bi=pi[xi])&&(ai=(oi<3?bi(ai):oi>3?bi(ze,Ct,ai):bi(ze,Ct))||ai);return oi>3&&ai&&Object.defineProperty(ze,Ct,ai),ai},ht=function(pi,ze){return function(Ct,kt){ze(Ct,kt,pi)}},xt=function(pi,ze,Ct,kt){function oi(ai){return ai instanceof Ct?ai:new Ct(function(bi){bi(ai)})}return new(Ct||(Ct=Promise))(function(ai,bi){function xi(Hi){try{ji(kt.next(Hi))}catch(rn){bi(rn)}}function Ti(Hi){try{ji(kt.throw(Hi))}catch(rn){bi(rn)}}function ji(Hi){Hi.done?ai(Hi.value):oi(Hi.value).then(xi,Ti)}ji((kt=kt.apply(pi,ze||[])).next())})};const nt=524288;function It(pi,ze="single",Ct=!1){if(!pi.hasModel())return null;const kt=pi.getSelection();if(ze==="single"&&kt.startLineNumber===kt.endLineNumber||ze==="multiple"){if(kt.isEmpty()){const oi=pi.getConfiguredWordAtPosition(kt.getStartPosition());if(oi&&Ct===!1)return oi.word}else if(pi.getModel().getValueLengthInRange(kt)<nt)return pi.getModel().getValueInRange(kt)}return null}let Ht=class zh extends l.JT{constructor(ze,Ct,kt,oi){super(),this._editor=ze,this._findWidgetVisible=ie.bindTo(Ct),this._contextKeyService=Ct,this._storageService=kt,this._clipboardService=oi,this._updateHistoryDelayer=new b.vp(500),this._state=this._register(new je),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(ai=>this._onStateChanged(ai))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const ai=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),ai&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})}))}get editor(){return this._editor}static get(ze){return ze.getContribution(zh.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(ze){this.saveQueryState(ze),ze.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),ze.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(ze){ze.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),ze.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),ze.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),ze.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!X.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const ze=this._editor.getSelections();ze.map(Ct=>(Ct.endColumn===1&&Ct.endLineNumber>Ct.startLineNumber&&(Ct=Ct.setEndPosition(Ct.endLineNumber-1,this._editor.getModel().getLineMaxColumn(Ct.endLineNumber-1))),Ct.isEmpty()?null:Ct)).filter(Ct=>!!Ct),ze.length&&this._state.change({searchScope:ze},!0)}}setSearchString(ze){this._state.isRegex&&(ze=z.ec(ze)),this._state.change({searchString:ze},!1)}highlightFindOptions(ze=!1){}_start(ze,Ct){return xt(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const kt=Object.assign(Object.assign({},Ct),{isRevealed:!0});if(ze.seedSearchStringFromSelection==="single"){const oi=It(this._editor,ze.seedSearchStringFromSelection,ze.seedSearchStringFromNonEmptySelection);oi&&(this._state.isRegex?kt.searchString=z.ec(oi):kt.searchString=oi)}else if(ze.seedSearchStringFromSelection==="multiple"&&!ze.updateSearchScope){const oi=It(this._editor,ze.seedSearchStringFromSelection);oi&&(kt.searchString=oi)}if(!kt.searchString&&ze.seedSearchStringFromGlobalClipboard){const oi=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;oi&&(kt.searchString=oi)}if(ze.forceRevealReplace||kt.isReplaceRevealed?kt.isReplaceRevealed=!0:this._findWidgetVisible.get()||(kt.isReplaceRevealed=!1),ze.updateSearchScope){const oi=this._editor.getSelections();oi.some(ai=>!ai.isEmpty())&&(kt.searchScope=oi)}kt.loop=ze.loop,this._state.change(kt,!1),this._model||(this._model=new we(this._editor,this._state))})}start(ze,Ct){return this._start(ze,Ct)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return xt(this,void 0,void 0,function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(ze){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(ze)}};Ht.ID="editor.contrib.findController",Ht=ot([ht(1,ae.i6),ht(2,Je.Uy),ht(3,oe.p)],Ht);let Qt=class extends Ht{constructor(ze,Ct,kt,oi,ai,bi,xi,Ti){super(ze,kt,xi,Ti),this._contextViewService=Ct,this._keybindingService=oi,this._themeService=ai,this._notificationService=bi,this._widget=null,this._findOptionsWidget=null}_start(ze,Ct){const kt=Object.create(null,{_start:{get:()=>super._start}});return xt(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const oi=this._editor.getSelection();let ai=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":ai=!0;break;case"never":ai=!1;break;case"multiline":{ai=!!oi&&oi.startLineNumber!==oi.endLineNumber;break}default:break}ze.updateSearchScope=ze.updateSearchScope||ai,yield kt._start.call(this,ze,Ct),this._widget&&(ze.shouldFocus===2?this._widget.focusReplaceInput():ze.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(ze=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!ze?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new _e(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Ce(this._editor,this._state,this._keybindingService,this._themeService))}};Qt=ot([ht(1,he.u),ht(2,ae.i6),ht(3,Me.d),ht(4,d.XE),ht(5,ke.lT),ht(6,Je.Uy),ht(7,oe.p)],Qt);const ci=(0,j.rn)(new j.jY({id:q.StartFindAction,label:ye.NC("startFindAction","Find"),alias:"Find",precondition:ae.Ao.or(E.u.focus,ae.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Le.eH.MenubarEditMenu,group:"3_find",title:ye.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));ci.addImplementation(0,(pi,ze,Ct)=>{const kt=Ht.get(ze);return kt?kt.start({forceRevealReplace:!1,seedSearchStringFromSelection:ze.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ze.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:ze.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:ze.getOption(37).loop}):!1});const Fi={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:ye.NC("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:ye.NC("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:ye.NC("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:ye.NC("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class Ii extends j.R6{constructor(){super({id:q.StartFindWithArgs,label:ye.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:Fi})}run(ze,Ct,kt){return xt(this,void 0,void 0,function*(){const oi=Ht.get(Ct);if(oi){const ai=kt?{searchString:kt.searchString,replaceString:kt.replaceString,isReplaceRevealed:kt.replaceString!==void 0,isRegex:kt.isRegex,wholeWord:kt.matchWholeWord,matchCase:kt.isCaseSensitive,preserveCase:kt.preserveCase}:{};yield oi.start({forceRevealReplace:!1,seedSearchStringFromSelection:oi.getState().searchString.length===0&&Ct.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:Ct.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:kt?.findInSelection||!1,loop:Ct.getOption(37).loop},ai),oi.setGlobalBufferTerm(oi.getState().searchString)}})}}class Xi extends j.R6{constructor(){super({id:q.StartFindWithSelection,label:ye.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(ze,Ct){return xt(this,void 0,void 0,function*(){const kt=Ht.get(Ct);kt&&(yield kt.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Ct.getOption(37).loop}),kt.setGlobalBufferTerm(kt.getState().searchString))})}}class zi extends j.R6{run(ze,Ct){return xt(this,void 0,void 0,function*(){const kt=Ht.get(Ct);kt&&!this._run(kt)&&(yield kt.start({forceRevealReplace:!1,seedSearchStringFromSelection:kt.getState().searchString.length===0&&Ct.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:Ct.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Ct.getOption(37).loop}),this._run(kt))})}}class Si extends zi{constructor(){super({id:q.NextMatchFindAction,label:ye.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:E.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:ae.Ao.and(E.u.focus,X),primary:3,weight:100}]})}_run(ze){return ze.moveToNextMatch()?(ze.editor.pushUndoStop(),!0):!1}}class Ji extends zi{constructor(){super({id:q.PreviousMatchFindAction,label:ye.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:E.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:ae.Ao.and(E.u.focus,X),primary:1027,weight:100}]})}_run(ze){return ze.moveToPrevMatch()}}class Zi extends j.R6{run(ze,Ct){return xt(this,void 0,void 0,function*(){const kt=Ht.get(Ct);if(!kt)return;const oi=Ct.getOption(37).seedSearchStringFromSelection==="selection";let ai=null;Ct.getOption(37).seedSearchStringFromSelection!=="never"&&(ai=It(Ct,"single",oi)),ai&&kt.setSearchString(ai),this._run(kt)||(yield kt.start({forceRevealReplace:!1,seedSearchStringFromSelection:Ct.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:oi,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Ct.getOption(37).loop}),this._run(kt))})}}class Ui extends Zi{constructor(){super({id:q.NextSelectionMatchFindAction,label:ye.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:E.u.focus,primary:2109,weight:100}})}_run(ze){return ze.moveToNextMatch()}}class nn extends Zi{constructor(){super({id:q.PreviousSelectionMatchFindAction,label:ye.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:E.u.focus,primary:3133,weight:100}})}_run(ze){return ze.moveToPrevMatch()}}const Dn=(0,j.rn)(new j.jY({id:q.StartFindReplaceAction,label:ye.NC("startReplace","Replace"),alias:"Replace",precondition:ae.Ao.or(E.u.focus,ae.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Le.eH.MenubarEditMenu,group:"3_find",title:ye.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Dn.addImplementation(0,(pi,ze,Ct)=>{if(!ze.hasModel()||ze.getOption(83))return!1;const kt=Ht.get(ze);if(!kt)return!1;const oi=ze.getSelection(),ai=kt.isFindInputFocused(),bi=!oi.isEmpty()&&oi.startLineNumber===oi.endLineNumber&&ze.getOption(37).seedSearchStringFromSelection!=="never"&&!ai,xi=ai||bi?2:1;return kt.start({forceRevealReplace:!0,seedSearchStringFromSelection:bi?"single":"none",seedSearchStringFromNonEmptySelection:ze.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:ze.getOption(37).seedSearchStringFromSelection!=="never",shouldFocus:xi,shouldAnimate:!0,updateSearchScope:!1,loop:ze.getOption(37).loop})}),(0,j._K)(Ht.ID,Qt),(0,j.Qr)(Ii),(0,j.Qr)(Xi),(0,j.Qr)(Si),(0,j.Qr)(Ji),(0,j.Qr)(Ui),(0,j.Qr)(nn);const Cn=j._l.bindToContribution(Ht.get);(0,j.fK)(new Cn({id:q.CloseFindWidgetCommand,precondition:ie,handler:pi=>pi.closeFindWidget(),kbOpts:{weight:105,kbExpr:ae.Ao.and(E.u.focus,ae.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,j.fK)(new Cn({id:q.ToggleCaseSensitiveCommand,precondition:void 0,handler:pi=>pi.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:E.u.focus,primary:Q.primary,mac:Q.mac,win:Q.win,linux:Q.linux}})),(0,j.fK)(new Cn({id:q.ToggleWholeWordCommand,precondition:void 0,handler:pi=>pi.toggleWholeWords(),kbOpts:{weight:105,kbExpr:E.u.focus,primary:F.primary,mac:F.mac,win:F.win,linux:F.linux}})),(0,j.fK)(new Cn({id:q.ToggleRegexCommand,precondition:void 0,handler:pi=>pi.toggleRegex(),kbOpts:{weight:105,kbExpr:E.u.focus,primary:te.primary,mac:te.mac,win:te.win,linux:te.linux}})),(0,j.fK)(new Cn({id:q.ToggleSearchScopeCommand,precondition:void 0,handler:pi=>pi.toggleSearchScope(),kbOpts:{weight:105,kbExpr:E.u.focus,primary:W.primary,mac:W.mac,win:W.win,linux:W.linux}})),(0,j.fK)(new Cn({id:q.TogglePreserveCaseCommand,precondition:void 0,handler:pi=>pi.togglePreserveCase(),kbOpts:{weight:105,kbExpr:E.u.focus,primary:G.primary,mac:G.mac,win:G.win,linux:G.linux}})),(0,j.fK)(new Cn({id:q.ReplaceOneAction,precondition:ie,handler:pi=>pi.replace(),kbOpts:{weight:105,kbExpr:E.u.focus,primary:3094}})),(0,j.fK)(new Cn({id:q.ReplaceOneAction,precondition:ie,handler:pi=>pi.replace(),kbOpts:{weight:105,kbExpr:ae.Ao.and(E.u.focus,ne),primary:3}})),(0,j.fK)(new Cn({id:q.ReplaceAllAction,precondition:ie,handler:pi=>pi.replaceAll(),kbOpts:{weight:105,kbExpr:E.u.focus,primary:2563}})),(0,j.fK)(new Cn({id:q.ReplaceAllAction,precondition:ie,handler:pi=>pi.replaceAll(),kbOpts:{weight:105,kbExpr:ae.Ao.and(E.u.focus,ne),primary:void 0,mac:{primary:2051}}})),(0,j.fK)(new Cn({id:q.SelectAllMatchesAction,precondition:ie,handler:pi=>pi.selectAllMatches(),kbOpts:{weight:105,kbExpr:E.u.focus,primary:515}}))},64340:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{FoldingController:function(){return Ze},editorFoldForeground:function(){return Ee},foldBackgroundBackground:function(){return _e}});var b=s(15393),l=s(17301),z=s(22258),j=s(5976),E=s(97295),Z=s(98401),B=s(43407),H=s(16830),O=s(29102),y=s(43155),g=s(4256),C=s(4669);const m=65535,i=16777215,d=4278190080;class _{constructor(oe){const he=Math.ceil(oe/32);this._states=new Uint32Array(he)}get(oe){const he=oe/32|0,Me=oe%32;return(this._states[he]&1<<Me)!==0}set(oe,he){const Me=oe/32|0,ke=oe%32,Je=this._states[Me];he?this._states[Me]=Je|1<<ke:this._states[Me]=Je&~(1<<ke)}}class v{constructor(oe,he,Me){if(this.sourceAbbr={0:" ",1:"u",2:"r"},oe.length!==he.length||oe.length>m)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=oe,this._endIndexes=he,this._collapseStates=new _(oe.length),this._userDefinedStates=new _(oe.length),this._recoveredStates=new _(oe.length),this._types=Me,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const oe=[],he=(Me,ke)=>{const Je=oe[oe.length-1];return this.getStartLineNumber(Je)<=Me&&this.getEndLineNumber(Je)>=ke};for(let Me=0,ke=this._startIndexes.length;Me<ke;Me++){const Je=this._startIndexes[Me],ot=this._endIndexes[Me];if(Je>i||ot>i)throw new Error("startLineNumber or endLineNumber must not exceed "+i);for(;oe.length>0&&!he(Je,ot);)oe.pop();const ht=oe.length>0?oe[oe.length-1]:-1;oe.push(Me),this._startIndexes[Me]=Je+((ht&255)<<24),this._endIndexes[Me]=ot+((ht&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(oe){return this._startIndexes[oe]&i}getEndLineNumber(oe){return this._endIndexes[oe]&i}getType(oe){return this._types?this._types[oe]:void 0}hasTypes(){return!!this._types}isCollapsed(oe){return this._collapseStates.get(oe)}setCollapsed(oe,he){this._collapseStates.set(oe,he)}isUserDefined(oe){return this._userDefinedStates.get(oe)}setUserDefined(oe,he){return this._userDefinedStates.set(oe,he)}isRecovered(oe){return this._recoveredStates.get(oe)}setRecovered(oe,he){return this._recoveredStates.set(oe,he)}getSource(oe){return this.isUserDefined(oe)?1:this.isRecovered(oe)?2:0}setSource(oe,he){he===1?(this.setUserDefined(oe,!0),this.setRecovered(oe,!1)):he===2?(this.setUserDefined(oe,!1),this.setRecovered(oe,!0)):(this.setUserDefined(oe,!1),this.setRecovered(oe,!1))}setCollapsedAllOfType(oe,he){let Me=!1;if(this._types)for(let ke=0;ke<this._types.length;ke++)this._types[ke]===oe&&(this.setCollapsed(ke,he),Me=!0);return Me}toRegion(oe){return new p(this,oe)}getParentIndex(oe){this.ensureParentIndices();const he=((this._startIndexes[oe]&d)>>>24)+((this._endIndexes[oe]&d)>>>16);return he===m?-1:he}contains(oe,he){return this.getStartLineNumber(oe)<=he&&this.getEndLineNumber(oe)>=he}findIndex(oe){let he=0,Me=this._startIndexes.length;if(Me===0)return-1;for(;he<Me;){const ke=Math.floor((he+Me)/2);oe<this.getStartLineNumber(ke)?Me=ke:he=ke+1}return he-1}findRange(oe){let he=this.findIndex(oe);if(he>=0){if(this.getEndLineNumber(he)>=oe)return he;for(he=this.getParentIndex(he);he!==-1;){if(this.contains(he,oe))return he;he=this.getParentIndex(he)}}return-1}toString(){const oe=[];for(let he=0;he<this.length;he++)oe[he]=`[${this.sourceAbbr[this.getSource(he)]}${this.isCollapsed(he)?"+":"-"}] ${this.getStartLineNumber(he)}/${this.getEndLineNumber(he)}`;return oe.join(", ")}toFoldRange(oe){return{startLineNumber:this._startIndexes[oe]&i,endLineNumber:this._endIndexes[oe]&i,type:this._types?this._types[oe]:void 0,isCollapsed:this.isCollapsed(oe),source:this.getSource(oe)}}static fromFoldRanges(oe){const he=oe.length,Me=new Uint32Array(he),ke=new Uint32Array(he);let Je=[],ot=!1;for(let xt=0;xt<he;xt++){const nt=oe[xt];Me[xt]=nt.startLineNumber,ke[xt]=nt.endLineNumber,Je.push(nt.type),nt.type&&(ot=!0)}ot||(Je=void 0);const ht=new v(Me,ke,Je);for(let xt=0;xt<he;xt++)oe[xt].isCollapsed&&ht.setCollapsed(xt,!0),ht.setSource(xt,oe[xt].source);return ht}static sanitizeAndMerge(oe,he,Me){Me=Me??Number.MAX_VALUE;const ke=(Ii,Xi)=>Array.isArray(Ii)?zi=>zi<Xi?Ii[zi]:void 0:zi=>zi<Xi?Ii.toFoldRange(zi):void 0,Je=ke(oe,oe.length),ot=ke(he,he.length);let ht=0,xt=0,nt=Je(0),It=ot(0);const Ht=[];let Qt,ci=0;const Fi=[];for(;nt||It;){let Ii;if(It&&(!nt||nt.startLineNumber>=It.startLineNumber))nt&&nt.startLineNumber===It.startLineNumber?(It.source===1?Ii=It:(Ii=nt,Ii.isCollapsed=It.isCollapsed&&nt.endLineNumber===It.endLineNumber,Ii.source=0),nt=Je(++ht)):(Ii=It,It.isCollapsed&&It.source===0&&(Ii.source=2)),It=ot(++xt);else{let Xi=xt,zi=It;for(;;){if(!zi||zi.startLineNumber>nt.endLineNumber){Ii=nt;break}if(zi.source===1&&zi.endLineNumber>nt.endLineNumber)break;zi=ot(++Xi)}nt=Je(++ht)}if(Ii){for(;Qt&&Qt.endLineNumber<Ii.startLineNumber;)Qt=Ht.pop();Ii.endLineNumber>Ii.startLineNumber&&Ii.startLineNumber>ci&&Ii.endLineNumber<=Me&&(!Qt||Qt.endLineNumber>=Ii.endLineNumber)&&(Fi.push(Ii),ci=Ii.startLineNumber,Qt&&Ht.push(Qt),Qt=Ii)}}return Fi}}class p{constructor(oe,he){this.ranges=oe,this.index=he}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(oe){return oe.startLineNumber<=this.startLineNumber&&oe.endLineNumber>=this.endLineNumber}containsLine(oe){return this.startLineNumber<=oe&&oe<=this.endLineNumber}}var L=s(89954);class T{constructor(oe,he){this._updateEventEmitter=new C.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=oe,this._decorationProvider=he,this._regions=new v(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(oe){if(!oe.length)return;oe=oe.sort((Me,ke)=>Me.regionIndex-ke.regionIndex);const he={};this._decorationProvider.changeDecorations(Me=>{let ke=0,Je=-1,ot=-1;const ht=xt=>{for(;ke<xt;){const nt=this._regions.getEndLineNumber(ke),It=this._regions.isCollapsed(ke);if(nt<=Je){const Ht=this.regions.getSource(ke)!==0;Me.changeDecorationOptions(this._editorDecorationIds[ke],this._decorationProvider.getDecorationOption(It,nt<=ot,Ht))}It&&nt>ot&&(ot=nt),ke++}};for(const xt of oe){const nt=xt.regionIndex,It=this._editorDecorationIds[nt];if(It&&!he[It]){he[It]=!0,ht(nt);const Ht=!this._regions.isCollapsed(nt);this._regions.setCollapsed(nt,Ht),Je=Math.max(Je,this._regions.getEndLineNumber(nt))}}ht(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:oe})}removeManualRanges(oe){const he=new Array,Me=ke=>{for(const Je of oe)if(!(Je.startLineNumber>ke.endLineNumber||ke.startLineNumber>Je.endLineNumber))return!0;return!1};for(let ke=0;ke<this._regions.length;ke++){const Je=this._regions.toFoldRange(ke);(Je.source===0||!Me(Je))&&he.push(Je)}this.updatePost(v.fromFoldRanges(he))}update(oe,he=[]){const Me=this._currentFoldedOrManualRanges(he),ke=v.sanitizeAndMerge(oe,Me,this._textModel.getLineCount());this.updatePost(v.fromFoldRanges(ke))}updatePost(oe){const he=[];let Me=-1;for(let ke=0,Je=oe.length;ke<Je;ke++){const ot=oe.getStartLineNumber(ke),ht=oe.getEndLineNumber(ke),xt=oe.isCollapsed(ke),nt=oe.getSource(ke)!==0,It={startLineNumber:ot,startColumn:this._textModel.getLineMaxColumn(ot),endLineNumber:ht,endColumn:this._textModel.getLineMaxColumn(ht)+1};he.push({range:It,options:this._decorationProvider.getDecorationOption(xt,ht<=Me,nt)}),xt&&ht>Me&&(Me=ht)}this._decorationProvider.changeDecorations(ke=>this._editorDecorationIds=ke.deltaDecorations(this._editorDecorationIds,he)),this._regions=oe,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(oe=[]){const he=(ke,Je)=>{for(const ot of oe)if(ke<ot&&ot<=Je)return!0;return!1},Me=[];for(let ke=0,Je=this._regions.length;ke<Je;ke++){let ot=this.regions.isCollapsed(ke);const ht=this.regions.getSource(ke);if(ot||ht!==0){const xt=this._regions.toFoldRange(ke),nt=this._textModel.getDecorationRange(this._editorDecorationIds[ke]);nt&&(ot&&(he(nt.startLineNumber,nt.endLineNumber)||nt.endLineNumber-nt.startLineNumber!==xt.endLineNumber-xt.startLineNumber)&&(ot=!1),Me.push({startLineNumber:nt.startLineNumber,endLineNumber:nt.endLineNumber,type:xt.type,isCollapsed:ot,source:ht}))}}return Me}getMemento(){const oe=this._currentFoldedOrManualRanges(),he=[];for(let Me=0,ke=oe.length;Me<ke;Me++){const Je=oe[Me],ot=this._getLinesChecksum(Je.startLineNumber+1,Je.endLineNumber);he.push({startLineNumber:Je.startLineNumber,endLineNumber:Je.endLineNumber,isCollapsed:Je.isCollapsed,source:Je.source,checksum:ot})}return he.length>0?he:void 0}applyMemento(oe){var he,Me;if(!Array.isArray(oe))return;const ke=[],Je=this._textModel.getLineCount();for(const ht of oe){if(ht.startLineNumber>=ht.endLineNumber||ht.startLineNumber<1||ht.endLineNumber>Je)continue;const xt=this._getLinesChecksum(ht.startLineNumber+1,ht.endLineNumber);(!ht.checksum||xt===ht.checksum)&&ke.push({startLineNumber:ht.startLineNumber,endLineNumber:ht.endLineNumber,type:void 0,isCollapsed:(he=ht.isCollapsed)!==null&&he!==void 0?he:!0,source:(Me=ht.source)!==null&&Me!==void 0?Me:0})}const ot=v.sanitizeAndMerge(this._regions,ke,Je);this.updatePost(v.fromFoldRanges(ot))}_getLinesChecksum(oe,he){return(0,L.vp)(this._textModel.getLineContent(oe)+this._textModel.getLineContent(he))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(oe,he){const Me=[];if(this._regions){let ke=this._regions.findRange(oe),Je=1;for(;ke>=0;){const ot=this._regions.toRegion(ke);(!he||he(ot,Je))&&Me.push(ot),Je++,ke=ot.parentIndex}}return Me}getRegionAtLine(oe){if(this._regions){const he=this._regions.findRange(oe);if(he>=0)return this._regions.toRegion(he)}return null}getRegionsInside(oe,he){const Me=[],ke=oe?oe.regionIndex+1:0,Je=oe?oe.endLineNumber:Number.MAX_VALUE;if(he&&he.length===2){const ot=[];for(let ht=ke,xt=this._regions.length;ht<xt;ht++){const nt=this._regions.toRegion(ht);if(this._regions.getStartLineNumber(ht)<Je){for(;ot.length>0&&!nt.containedBy(ot[ot.length-1]);)ot.pop();ot.push(nt),he(nt,ot.length)&&Me.push(nt)}else break}}else for(let ot=ke,ht=this._regions.length;ot<ht;ot++){const xt=this._regions.toRegion(ot);if(this._regions.getStartLineNumber(ot)<Je)(!he||he(xt))&&Me.push(xt);else break}return Me}}function M(Le,oe,he){const Me=[];for(const ke of he){const Je=Le.getRegionAtLine(ke);if(Je){const ot=!Je.isCollapsed;if(Me.push(Je),oe>1){const ht=Le.getRegionsInside(Je,(xt,nt)=>xt.isCollapsed!==ot&&nt<oe);Me.push(...ht)}}}Le.toggleCollapseState(Me)}function I(Le,oe,he=Number.MAX_VALUE,Me){const ke=[];if(Me&&Me.length>0)for(const Je of Me){const ot=Le.getRegionAtLine(Je);if(ot&&(ot.isCollapsed!==oe&&ke.push(ot),he>1)){const ht=Le.getRegionsInside(ot,(xt,nt)=>xt.isCollapsed!==oe&&nt<he);ke.push(...ht)}}else{const Je=Le.getRegionsInside(null,(ot,ht)=>ot.isCollapsed!==oe&&ht<he);ke.push(...Je)}Le.toggleCollapseState(ke)}function P(Le,oe,he,Me){const ke=[];for(const Je of Me){const ot=Le.getAllRegionsAtLine(Je,(ht,xt)=>ht.isCollapsed!==oe&&xt<=he);ke.push(...ot)}Le.toggleCollapseState(ke)}function V(Le,oe,he){const Me=[];for(const ke of he){const Je=Le.getAllRegionsAtLine(ke,ot=>ot.isCollapsed!==oe);Je.length>0&&Me.push(Je[0])}Le.toggleCollapseState(Me)}function $(Le,oe,he,Me){const ke=(ot,ht)=>ht===oe&&ot.isCollapsed!==he&&!Me.some(xt=>ot.containsLine(xt)),Je=Le.getRegionsInside(null,ke);Le.toggleCollapseState(Je)}function re(Le,oe,he){const Me=[];for(const ot of he){const ht=Le.getAllRegionsAtLine(ot,void 0);ht.length>0&&Me.push(ht[0])}const ke=ot=>Me.every(ht=>!ht.containedBy(ot)&&!ot.containedBy(ht))&&ot.isCollapsed!==oe,Je=Le.getRegionsInside(null,ke);Le.toggleCollapseState(Je)}function ae(Le,oe,he){const Me=Le.textModel,ke=Le.regions,Je=[];for(let ot=ke.length-1;ot>=0;ot--)if(he!==ke.isCollapsed(ot)){const ht=ke.getStartLineNumber(ot);oe.test(Me.getLineContent(ht))&&Je.push(ke.toRegion(ot))}Le.toggleCollapseState(Je)}function ie(Le,oe,he){const Me=Le.regions,ke=[];for(let Je=Me.length-1;Je>=0;Je--)he!==Me.isCollapsed(Je)&&oe===Me.getType(Je)&&ke.push(Me.toRegion(Je));Le.toggleCollapseState(ke)}function se(Le,oe){let he=null;const Me=oe.getRegionAtLine(Le);if(Me!==null&&(he=Me.startLineNumber,Le===he)){const ke=Me.parentIndex;ke!==-1?he=oe.regions.getStartLineNumber(ke):he=null}return he}function X(Le,oe){let he=oe.getRegionAtLine(Le);if(he!==null&&he.startLineNumber===Le){if(Le!==he.startLineNumber)return he.startLineNumber;{const Me=he.parentIndex;let ke=0;for(Me!==-1&&(ke=oe.regions.getStartLineNumber(he.parentIndex));he!==null;)if(he.regionIndex>0){if(he=oe.regions.toRegion(he.regionIndex-1),he.startLineNumber<=ke)return null;if(he.parentIndex===Me)return he.startLineNumber}else return null}}else if(oe.regions.length>0)for(he=oe.regions.toRegion(oe.regions.length-1);he!==null;){if(he.startLineNumber<Le)return he.startLineNumber;he.regionIndex>0?he=oe.regions.toRegion(he.regionIndex-1):he=null}return null}function ne(Le,oe){let he=oe.getRegionAtLine(Le);if(he!==null&&he.startLineNumber===Le){const Me=he.parentIndex;let ke=0;if(Me!==-1)ke=oe.regions.getEndLineNumber(he.parentIndex);else{if(oe.regions.length===0)return null;ke=oe.regions.getEndLineNumber(oe.regions.length-1)}for(;he!==null;)if(he.regionIndex<oe.regions.length){if(he=oe.regions.toRegion(he.regionIndex+1),he.startLineNumber>=ke)return null;if(he.parentIndex===Me)return he.startLineNumber}else return null}else if(oe.regions.length>0)for(he=oe.regions.toRegion(0);he!==null;){if(he.startLineNumber>Le)return he.startLineNumber;he.regionIndex<oe.regions.length?he=oe.regions.toRegion(he.regionIndex+1):he=null}return null}var Q=s(9488),F=s(24314),te=s(23795);class W{constructor(oe){this._updateEventEmitter=new C.Q5,this._hasLineChanges=!1,this._foldingModel=oe,this._foldingModelListener=oe.onDidChange(he=>this.updateHiddenRanges()),this._hiddenRanges=[],oe.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(oe){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=oe.changes.some(he=>he.range.endLineNumber!==he.range.startLineNumber||(0,te.Q)(he.text)[0]!==0))}updateHiddenRanges(){let oe=!1;const he=[];let Me=0,ke=0,Je=Number.MAX_VALUE,ot=-1;const ht=this._foldingModel.regions;for(;Me<ht.length;Me++){if(!ht.isCollapsed(Me))continue;const xt=ht.getStartLineNumber(Me)+1,nt=ht.getEndLineNumber(Me);Je<=xt&&nt<=ot||(!oe&&ke<this._hiddenRanges.length&&this._hiddenRanges[ke].startLineNumber===xt&&this._hiddenRanges[ke].endLineNumber===nt?(he.push(this._hiddenRanges[ke]),ke++):(oe=!0,he.push(new F.e(xt,1,nt,1))),Je=xt,ot=nt)}(this._hasLineChanges||oe||ke<this._hiddenRanges.length)&&this.applyHiddenRanges(he)}applyHiddenRanges(oe){this._hiddenRanges=oe,this._hasLineChanges=!1,this._updateEventEmitter.fire(oe)}hasRanges(){return this._hiddenRanges.length>0}isHidden(oe){return q(this._hiddenRanges,oe)!==null}adjustSelections(oe){let he=!1;const Me=this._foldingModel.textModel;let ke=null;const Je=ot=>((!ke||!G(ot,ke))&&(ke=q(this._hiddenRanges,ot)),ke?ke.startLineNumber-1:null);for(let ot=0,ht=oe.length;ot<ht;ot++){let xt=oe[ot];const nt=Je(xt.startLineNumber);nt&&(xt=xt.setStartPosition(nt,Me.getLineMaxColumn(nt)),he=!0);const It=Je(xt.endLineNumber);It&&(xt=xt.setEndPosition(It,Me.getLineMaxColumn(It)),he=!0),oe[ot]=xt}return he}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function G(Le,oe){return Le>=oe.startLineNumber&&Le<=oe.endLineNumber}function q(Le,oe){const he=(0,Q.lG)(Le,Me=>oe<Me.startLineNumber)-1;return he>=0&&Le[he].endLineNumber>=oe?Le[he]:null}var me=s(59616);const w=5e3,we="indent";class xe{constructor(oe,he,Me){this.editorModel=oe,this.languageConfigurationService=he,this.maxFoldingRegions=Me,this.id=we}dispose(){}compute(oe,he){const Me=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,ke=Me&&!!Me.offSide,Je=Me&&Me.markers;return Promise.resolve(Ve(this.editorModel,ke,Je,this.maxFoldingRegions,he))}}class Ne{constructor(oe,he){this._notifyTooManyRegions=he,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=oe}insertFirst(oe,he,Me){if(oe>i||he>i)return;const ke=this._length;this._startIndexes[ke]=oe,this._endIndexes[ke]=he,this._length++,Me<1e3&&(this._indentOccurrences[Me]=(this._indentOccurrences[Me]||0)+1)}toIndentRanges(oe){var he;if(this._length<=this._foldingRangesLimit){const Me=new Uint32Array(this._length),ke=new Uint32Array(this._length);for(let Je=this._length-1,ot=0;Je>=0;Je--,ot++)Me[ot]=this._startIndexes[Je],ke[ot]=this._endIndexes[Je];return new v(Me,ke)}else{(he=this._notifyTooManyRegions)===null||he===void 0||he.call(this,this._foldingRangesLimit);let Me=0,ke=this._indentOccurrences.length;for(let xt=0;xt<this._indentOccurrences.length;xt++){const nt=this._indentOccurrences[xt];if(nt){if(nt+Me>this._foldingRangesLimit){ke=xt;break}Me+=nt}}const Je=oe.getOptions().tabSize,ot=new Uint32Array(this._foldingRangesLimit),ht=new Uint32Array(this._foldingRangesLimit);for(let xt=this._length-1,nt=0;xt>=0;xt--){const It=this._startIndexes[xt],Ht=oe.getLineContent(It),Qt=(0,me.q)(Ht,Je);(Qt<ke||Qt===ke&&Me++<this._foldingRangesLimit)&&(ot[nt]=It,ht[nt]=this._endIndexes[xt],nt++)}return new v(ot,ht)}}}function Ve(Le,oe,he,Me,ke){const Je=Le.getOptions().tabSize;Me=Me??w;const ot=new Ne(Me,ke);let ht;he&&(ht=new RegExp(`(${he.start.source})|(?:${he.end.source})`));const xt=[],nt=Le.getLineCount()+1;xt.push({indent:-1,endAbove:nt,line:nt});for(let It=Le.getLineCount();It>0;It--){const Ht=Le.getLineContent(It),Qt=(0,me.q)(Ht,Je);let ci=xt[xt.length-1];if(Qt===-1){oe&&(ci.endAbove=It);continue}let Fi;if(ht&&(Fi=Ht.match(ht)))if(Fi[1]){let Ii=xt.length-1;for(;Ii>0&&xt[Ii].indent!==-2;)Ii--;if(Ii>0){xt.length=Ii+1,ci=xt[Ii],ot.insertFirst(It,ci.line,Qt),ci.line=It,ci.indent=Qt,ci.endAbove=It;continue}}else{xt.push({indent:-2,endAbove:It,line:It});continue}if(ci.indent>Qt){do xt.pop(),ci=xt[xt.length-1];while(ci.indent>Qt);const Ii=ci.endAbove-1;Ii-It>=1&&ot.insertFirst(It,Ii,Qt)}ci.indent===Qt?ci.endAbove=It:xt.push({indent:Qt,endAbove:It,line:It})}return ot.toIndentRanges(Le)}var Ce=s(63580),Ae=s(38819),$e=s(73910),je=s(97781),at=s(73046),pt=s(22529),bt=s(59554);const We=(0,bt.q5)("folding-expanded",at.lA.chevronDown,(0,Ce.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),it=(0,bt.q5)("folding-collapsed",at.lA.chevronRight,(0,Ce.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),pe=(0,bt.q5)("folding-manual-collapsed",it,(0,Ce.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),ye=(0,bt.q5)("folding-manual-expanded",We,(0,Ce.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin."));class ft{constructor(oe){this.editor=oe,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(oe,he,Me){return he||this.showFoldingControls==="never"?ft.HIDDEN_RANGE_DECORATION:oe?Me?this.showFoldingHighlights?ft.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:ft.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?ft.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:ft.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?Me?ft.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:ft.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Me?ft.MANUALLY_EXPANDED_VISUAL_DECORATION:ft.EXPANDED_VISUAL_DECORATION}changeDecorations(oe){return this.editor.changeDecorations(oe)}removeDecorations(oe){this.editor.removeDecorations(oe)}}ft.COLLAPSED_VISUAL_DECORATION=pt.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:je.kS.asClassName(it)}),ft.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=pt.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:je.kS.asClassName(it)}),ft.MANUALLY_COLLAPSED_VISUAL_DECORATION=pt.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+je.kS.asClassName(We)}),ft.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=pt.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:je.kS.asClassName(pe)}),ft.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=pt.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:je.kS.asClassName(We)}),ft.EXPANDED_VISUAL_DECORATION=pt.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+je.kS.asClassName(We)}),ft.MANUALLY_EXPANDED_VISUAL_DECORATION=pt.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+je.kS.asClassName(ye)}),ft.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=pt.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:je.kS.asClassName(ye)}),ft.HIDDEN_RANGE_DECORATION=pt.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const Xt={},qt="syntax";class Ft{constructor(oe,he,Me,ke){this.editorModel=oe,this.providers=he,this.limit=ke,this.id=qt;for(const Je of he)typeof Je.onDidChange=="function"&&(this.disposables||(this.disposables=new j.SL),this.disposables.add(Je.onDidChange(Me)))}compute(oe,he){return Ot(this.providers,this.editorModel,oe).then(Me=>Me?ni(Me,this.limit,he):null)}dispose(){var oe;(oe=this.disposables)===null||oe===void 0||oe.dispose()}}function Ot(Le,oe,he){let Me=null;const ke=Le.map((Je,ot)=>Promise.resolve(Je.provideFoldingRanges(oe,Xt,he)).then(ht=>{if(!he.isCancellationRequested&&Array.isArray(ht)){Array.isArray(Me)||(Me=[]);const xt=oe.getLineCount();for(const nt of ht)nt.start>0&&nt.end>nt.start&&nt.end<=xt&&Me.push({start:nt.start,end:nt.end,rank:ot,kind:nt.kind})}},l.Cp));return Promise.all(ke).then(Je=>Me)}class Mt{constructor(oe,he){this._notifyTooManyRegions=he,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=oe}add(oe,he,Me,ke){if(oe>i||he>i)return;const Je=this._length;this._startIndexes[Je]=oe,this._endIndexes[Je]=he,this._nestingLevels[Je]=ke,this._types[Je]=Me,this._length++,ke<30&&(this._nestingLevelCounts[ke]=(this._nestingLevelCounts[ke]||0)+1)}toIndentRanges(){var oe;if(this._length<=this._foldingRangesLimit){const he=new Uint32Array(this._length),Me=new Uint32Array(this._length);for(let ke=0;ke<this._length;ke++)he[ke]=this._startIndexes[ke],Me[ke]=this._endIndexes[ke];return new v(he,Me,this._types)}else{(oe=this._notifyTooManyRegions)===null||oe===void 0||oe.call(this,this._foldingRangesLimit);let he=0,Me=this._nestingLevelCounts.length;for(let ht=0;ht<this._nestingLevelCounts.length;ht++){const xt=this._nestingLevelCounts[ht];if(xt){if(xt+he>this._foldingRangesLimit){Me=ht;break}he+=xt}}const ke=new Uint32Array(this._foldingRangesLimit),Je=new Uint32Array(this._foldingRangesLimit),ot=[];for(let ht=0,xt=0;ht<this._length;ht++){const nt=this._nestingLevels[ht];(nt<Me||nt===Me&&he++<this._foldingRangesLimit)&&(ke[xt]=this._startIndexes[ht],Je[xt]=this._endIndexes[ht],ot[xt]=this._types[ht],xt++)}return new v(ke,Je,ot)}}}function ni(Le,oe,he){const Me=Le.sort((ht,xt)=>{let nt=ht.start-xt.start;return nt===0&&(nt=ht.rank-xt.rank),nt}),ke=new Mt(oe,he);let Je;const ot=[];for(const ht of Me)if(!Je)Je=ht,ke.add(ht.start,ht.end,ht.kind&&ht.kind.value,ot.length);else if(ht.start>Je.start)if(ht.end<=Je.end)ot.push(Je),Je=ht,ke.add(ht.start,ht.end,ht.kind&&ht.kind.value,ot.length);else{if(ht.start>Je.end){do Je=ot.pop();while(Je&&ht.start>Je.end);Je&&ot.push(Je),Je=ht}ke.add(ht.start,ht.end,ht.kind&&ht.kind.value,ot.length)}return ke.toIndentRanges()}var Gt=s(59422),Fe=s(14603),Ge=s(88191),Te=s(84013),Ke=s(71922),ut=function(Le,oe,he,Me){var ke=arguments.length,Je=ke<3?oe:Me===null?Me=Object.getOwnPropertyDescriptor(oe,he):Me,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Je=Reflect.decorate(Le,oe,he,Me);else for(var ht=Le.length-1;ht>=0;ht--)(ot=Le[ht])&&(Je=(ke<3?ot(Je):ke>3?ot(oe,he,Je):ot(oe,he))||Je);return ke>3&&Je&&Object.defineProperty(oe,he,Je),Je},Nt=function(Le,oe){return function(he,Me){oe(he,Me,Le)}};const Be=new Ae.uy("foldingEnabled",!1);let Ze=class Uh extends j.JT{constructor(oe,he,Me,ke,Je,ot){super(),this.contextKeyService=he,this.languageConfigurationService=Me,this.languageFeaturesService=ot,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new j.SL),this.editor=oe;const ht=this.editor.getOptions();this._isEnabled=ht.get(39),this._useFoldingProviders=ht.get(40)!=="indentation",this._unfoldOnClickAfterEndOfLine=ht.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=ht.get(42),this._maxFoldingRegions=ht.get(43),this.updateDebounceInfo=Je.for(ot.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new ft(oe),this.foldingDecorationProvider.showFoldingControls=ht.get(101),this.foldingDecorationProvider.showFoldingHighlights=ht.get(41),this.foldingEnabled=Be.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=xt=>{this._tooManyRegionsNotified||(ke.notify({severity:Fe.Z.Warning,sticky:!0,message:Ce.NC("maximum fold ranges",`The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?["editor.foldingMaximumRegions"]) to enable more.`,xt)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(xt=>{if(xt.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),xt.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),xt.hasChanged(101)||xt.hasChanged(41)){const nt=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=nt.get(101),this.foldingDecorationProvider.showFoldingHighlights=nt.get(41),this.triggerFoldingModelChanged()}xt.hasChanged(40)&&(this._useFoldingProviders=this.editor.getOptions().get(40)!=="indentation",this.onFoldingStrategyChanged()),xt.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),xt.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))})),this.onModelChanged()}static get(oe){return oe.getContribution(Uh.ID)}saveViewState(){const oe=this.editor.getModel();if(!oe||!this._isEnabled||oe.isTooLargeForTokenization())return{};if(this.foldingModel){const he=this.foldingModel.getMemento(),Me=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:he,lineCount:oe.getLineCount(),provider:Me,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(oe){const he=this.editor.getModel();if(!(!he||!this._isEnabled||he.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!oe||oe.lineCount!==he.getLineCount())&&(this._currentModelHasFoldedImports=!!oe.foldedImports,oe.collapsedRegions&&oe.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(oe.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const oe=this.editor.getModel();!this._isEnabled||!oe||oe.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new T(oe,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new W(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(he=>this.onHiddenRangesChanges(he))),this.updateScheduler=new b.vp(this.updateDebounceInfo.get(oe)),this.cursorChangedScheduler=new b.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(he=>this.onDidChangeModelContent(he))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(he=>this.onEditorMouseDown(he))),this.localToDispose.add(this.editor.onMouseUp(he=>this.onEditorMouseUp(he))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(oe){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new xe(oe,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const he=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);he.length>0&&(this.rangeProvider=new Ft(oe,he,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(oe){var he;(he=this.hiddenRangeModel)===null||he===void 0||he.notifyChangeModelContent(oe),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const oe=this.foldingModel;if(!oe)return null;const he=new Te.G(!0),Me=this.getRangeProvider(oe.textModel),ke=this.foldingRegionPromise=(0,b.PG)(Je=>Me.compute(Je,this._notifyTooManyRegions));return ke.then(Je=>{if(Je&&ke===this.foldingRegionPromise){let ot;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const It=Je.setCollapsedAllOfType(y.AD.Imports.value,!0);It&&(ot=B.Z.capture(this.editor),this._currentModelHasFoldedImports=It)}const ht=this.editor.getSelections(),xt=ht?ht.map(It=>It.startLineNumber):[];oe.update(Je,xt),ot?.restore(this.editor);const nt=this.updateDebounceInfo.update(oe.textModel,he.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=nt)}return oe})}).then(void 0,oe=>((0,l.dL)(oe),null)))}onHiddenRangesChanges(oe){if(this.hiddenRangeModel&&oe.length&&!this._restoringViewState){const he=this.editor.getSelections();he&&this.hiddenRangeModel.adjustSelections(he)&&this.editor.setSelections(he)}this.editor.setHiddenAreas(oe)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const oe=this.getFoldingModel();oe&&oe.then(he=>{if(he){const Me=this.editor.getSelections();if(Me&&Me.length>0){const ke=[];for(const Je of Me){const ot=Je.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(ot)&&ke.push(...he.getAllRegionsAtLine(ot,ht=>ht.isCollapsed&&ot>ht.startLineNumber))}ke.length&&(he.toggleCollapseState(ke),this.reveal(Me[0].getPosition()))}}}).then(void 0,l.dL)}onEditorMouseDown(oe){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!oe.target||!oe.target.range||!oe.event.leftButton&&!oe.event.middleButton)return;const he=oe.target.range;let Me=!1;switch(oe.target.type){case 4:{const ke=oe.target.detail,Je=oe.target.element.offsetLeft;if(ke.offsetX-Je<5)return;Me=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!oe.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const ke=this.editor.getModel();if(ke&&he.startColumn===ke.getLineMaxColumn(he.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:he.startLineNumber,iconClicked:Me}}onEditorMouseUp(oe){const he=this.foldingModel;if(!he||!this.mouseDownInfo||!oe.target)return;const Me=this.mouseDownInfo.lineNumber,ke=this.mouseDownInfo.iconClicked,Je=oe.target.range;if(!Je||Je.startLineNumber!==Me)return;if(ke){if(oe.target.type!==4)return}else{const ht=this.editor.getModel();if(!ht||Je.startColumn!==ht.getLineMaxColumn(Me))return}const ot=he.getRegionAtLine(Me);if(ot&&ot.startLineNumber===Me){const ht=ot.isCollapsed;if(ke||ht){const xt=oe.event.altKey;let nt=[];if(xt){const It=Qt=>!Qt.containedBy(ot)&&!ot.containedBy(Qt),Ht=he.getRegionsInside(null,It);for(const Qt of Ht)Qt.isCollapsed&&nt.push(Qt);nt.length===0&&(nt=Ht)}else{const It=oe.event.middleButton||oe.event.shiftKey;if(It)for(const Ht of he.getRegionsInside(ot))Ht.isCollapsed===ht&&nt.push(Ht);(ht||!It||nt.length===0)&&nt.push(ot)}he.toggleCollapseState(nt),this.reveal({lineNumber:Me,column:1})}}}reveal(oe){this.editor.revealPositionInCenterIfOutsideViewport(oe,0)}};Ze.ID="editor.contrib.folding",Ze=ut([Nt(1,Ae.i6),Nt(2,g.c_),Nt(3,Gt.lT),Nt(4,Ge.A),Nt(5,Ke.p)],Ze);class wt extends H.R6{runEditorCommand(oe,he,Me){const ke=oe.get(g.c_),Je=Ze.get(he);if(!Je)return;const ot=Je.getFoldingModel();if(ot)return this.reportTelemetry(oe,he),ot.then(ht=>{if(ht){this.invoke(Je,ht,he,Me,ke);const xt=he.getSelection();xt&&Je.reveal(xt.getStartPosition())}})}getSelectedLines(oe){const he=oe.getSelections();return he?he.map(Me=>Me.startLineNumber):[]}getLineNumbers(oe,he){return oe&&oe.selectionLines?oe.selectionLines.map(Me=>Me+1):this.getSelectedLines(he)}run(oe,he){}}function $t(Le){if(!Z.o8(Le)){if(!Z.Kn(Le))return!1;const oe=Le;if(!Z.o8(oe.levels)&&!Z.hj(oe.levels)||!Z.o8(oe.direction)&&!Z.HD(oe.direction)||!Z.o8(oe.selectionLines)&&(!Z.kJ(oe.selectionLines)||!oe.selectionLines.every(Z.hj)))return!1}return!0}class _t extends wt{constructor(){super({id:"editor.unfold",label:Ce.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:$t,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(oe,he,Me,ke){const Je=ke&&ke.levels||1,ot=this.getLineNumbers(ke,Me);ke&&ke.direction==="up"?P(he,!1,Je,ot):I(he,!1,Je,ot)}}class Jt extends wt{constructor(){super({id:"editor.unfoldRecursively",label:Ce.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2137),weight:100}})}invoke(oe,he,Me,ke){I(he,!1,Number.MAX_VALUE,this.getSelectedLines(Me))}}class Zt extends wt{constructor(){super({id:"editor.fold",label:Ce.NC("foldAction.label","Fold"),alias:"Fold",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:$t,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(oe,he,Me,ke){const Je=this.getLineNumbers(ke,Me),ot=ke&&ke.levels,ht=ke&&ke.direction;typeof ot!="number"&&typeof ht!="string"?V(he,!0,Je):ht==="up"?P(he,!0,ot||1,Je):I(he,!0,ot||1,Je)}}class Xe extends wt{constructor(){super({id:"editor.toggleFold",label:Ce.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2090),weight:100}})}invoke(oe,he,Me){const ke=this.getSelectedLines(Me);M(he,1,ke)}}class Lt extends wt{constructor(){super({id:"editor.foldRecursively",label:Ce.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2135),weight:100}})}invoke(oe,he,Me){const ke=this.getSelectedLines(Me);I(he,!0,Number.MAX_VALUE,ke)}}class mi extends wt{constructor(){super({id:"editor.foldAllBlockComments",label:Ce.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2133),weight:100}})}invoke(oe,he,Me,ke,Je){if(he.regions.hasTypes())ie(he,y.AD.Comment.value,!0);else{const ot=Me.getModel();if(!ot)return;const ht=Je.getLanguageConfiguration(ot.getLanguageId()).comments;if(ht&&ht.blockCommentStartToken){const xt=new RegExp("^\\s*"+(0,E.ec)(ht.blockCommentStartToken));ae(he,xt,!0)}}}}class jt extends wt{constructor(){super({id:"editor.foldAllMarkerRegions",label:Ce.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2077),weight:100}})}invoke(oe,he,Me,ke,Je){if(he.regions.hasTypes())ie(he,y.AD.Region.value,!0);else{const ot=Me.getModel();if(!ot)return;const ht=Je.getLanguageConfiguration(ot.getLanguageId()).foldingRules;if(ht&&ht.markers&&ht.markers.start){const xt=new RegExp(ht.markers.start);ae(he,xt,!0)}}}}class ki extends wt{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:Ce.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2078),weight:100}})}invoke(oe,he,Me,ke,Je){if(he.regions.hasTypes())ie(he,y.AD.Region.value,!1);else{const ot=Me.getModel();if(!ot)return;const ht=Je.getLanguageConfiguration(ot.getLanguageId()).foldingRules;if(ht&&ht.markers&&ht.markers.start){const xt=new RegExp(ht.markers.start);ae(he,xt,!1)}}}}class Pi extends wt{constructor(){super({id:"editor.foldAllExcept",label:Ce.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2131),weight:100}})}invoke(oe,he,Me){const ke=this.getSelectedLines(Me);re(he,!0,ke)}}class gt extends wt{constructor(){super({id:"editor.unfoldAllExcept",label:Ce.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2129),weight:100}})}invoke(oe,he,Me){const ke=this.getSelectedLines(Me);re(he,!1,ke)}}class St extends wt{constructor(){super({id:"editor.foldAll",label:Ce.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2069),weight:100}})}invoke(oe,he,Me){I(he,!0)}}class ii extends wt{constructor(){super({id:"editor.unfoldAll",label:Ce.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2088),weight:100}})}invoke(oe,he,Me){I(he,!1)}}class Ri extends wt{getFoldingLevel(){return parseInt(this.id.substr(Ri.ID_PREFIX.length))}invoke(oe,he,Me){$(he,this.getFoldingLevel(),!0,this.getSelectedLines(Me))}}Ri.ID_PREFIX="editor.foldLevel",Ri.ID=Le=>Ri.ID_PREFIX+Le;class Di extends wt{constructor(){super({id:"editor.gotoParentFold",label:Ce.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(oe,he,Me){const ke=this.getSelectedLines(Me);if(ke.length>0){const Je=se(ke[0],he);Je!==null&&Me.setSelection({startLineNumber:Je,startColumn:1,endLineNumber:Je,endColumn:1})}}}class Vi extends wt{constructor(){super({id:"editor.gotoPreviousFold",label:Ce.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(oe,he,Me){const ke=this.getSelectedLines(Me);if(ke.length>0){const Je=X(ke[0],he);Je!==null&&Me.setSelection({startLineNumber:Je,startColumn:1,endLineNumber:Je,endColumn:1})}}}class Ci extends wt{constructor(){super({id:"editor.gotoNextFold",label:Ce.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(oe,he,Me){const ke=this.getSelectedLines(Me);if(ke.length>0){const Je=ne(ke[0],he);Je!==null&&Me.setSelection({startLineNumber:Je,startColumn:1,endLineNumber:Je,endColumn:1})}}}class Wt extends wt{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:Ce.NC("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2130),weight:100}})}invoke(oe,he,Me){var ke;const Je=[],ot=Me.getSelections();if(ot){for(const ht of ot){let xt=ht.endLineNumber;ht.endColumn===1&&--xt,xt>ht.startLineNumber&&(Je.push({startLineNumber:ht.startLineNumber,endLineNumber:xt,type:void 0,isCollapsed:!0,source:1}),Me.setSelection({startLineNumber:ht.startLineNumber,startColumn:1,endLineNumber:ht.startLineNumber,endColumn:1}))}if(Je.length>0){Je.sort((xt,nt)=>xt.startLineNumber-nt.startLineNumber);const ht=v.sanitizeAndMerge(he.regions,Je,(ke=Me.getModel())===null||ke===void 0?void 0:ke.getLineCount());he.updatePost(v.fromFoldRanges(ht))}}}}class vt extends wt{constructor(){super({id:"editor.removeManualFoldingRanges",label:Ce.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2132),weight:100}})}invoke(oe,he,Me){const ke=Me.getSelections();if(ke){const Je=[];for(const ot of ke){const{startLineNumber:ht,endLineNumber:xt}=ot;Je.push(xt>=ht?{startLineNumber:ht,endLineNumber:xt}:{endLineNumber:xt,startLineNumber:ht})}he.removeManualRanges(Je),oe.triggerFoldingModelChanged()}}}(0,H._K)(Ze.ID,Ze),(0,H.Qr)(_t),(0,H.Qr)(Jt),(0,H.Qr)(Zt),(0,H.Qr)(Lt),(0,H.Qr)(St),(0,H.Qr)(ii),(0,H.Qr)(mi),(0,H.Qr)(jt),(0,H.Qr)(ki),(0,H.Qr)(Pi),(0,H.Qr)(gt),(0,H.Qr)(Xe),(0,H.Qr)(Di),(0,H.Qr)(Vi),(0,H.Qr)(Ci),(0,H.Qr)(Wt),(0,H.Qr)(vt);for(let Le=1;Le<=7;Le++)(0,H.QG)(new Ri({id:Ri.ID(Le),label:Ce.NC("foldLevelAction.label","Fold Level {0}",Le),alias:`Fold Level ${Le}`,precondition:Be,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,z.gx)(2089,2048|21+Le),weight:100}}));const _e=(0,$e.P6G)("editor.foldBackground",{light:(0,$e.ZnX)($e.hEj,.3),dark:(0,$e.ZnX)($e.hEj,.3),hcDark:null,hcLight:null},Ce.NC("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Ee=(0,$e.P6G)("editorGutter.foldingControlForeground",{dark:$e.XZx,light:$e.XZx,hcDark:$e.XZx,hcLight:$e.XZx},Ce.NC("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,je.Ic)((Le,oe)=>{const he=Le.getColor(_e);he&&oe.addRule(`.monaco-editor .folded-background { background-color: ${he}; }`);const Me=Le.getColor(Ee);Me&&oe.addRule(`
		.monaco-editor .cldr${je.kS.asCSSSelector(We)},
		.monaco-editor .cldr${je.kS.asCSSSelector(it)},
		.monaco-editor .cldr${je.kS.asCSSSelector(ye)},
		.monaco-editor .cldr${je.kS.asCSSSelector(pe)} {
			color: ${Me} !important;
		}
		`)})},71373:function(Yt,Ye,s){"use strict";s.d(Ye,{xC:function(){return $},Zg:function(){return P},x$:function(){return re},Qq:function(){return ie},Qs:function(){return Q}});var b=s(35996),l=s(9488),z=s(71050),j=s(17301),E=s(53725),Z=s(91741),B=s(98401),H=s(70666),O=s(14410),y=s(65520),g=s(50187),C=s(24314),m=s(3860),i=s(85215),d=s(88216),_=s(35120),v=s(63580),p=s(94565);class L{constructor(te){this.value=te,this._lower=te.toLowerCase()}static toKey(te){return typeof te=="string"?te.toLowerCase():te._lower}}var T=s(72065),M=s(71922),I=function(F,te,W,G){function q(me){return me instanceof W?me:new W(function(w){w(me)})}return new(W||(W=Promise))(function(me,w){function we(Ve){try{Ne(G.next(Ve))}catch(Ce){w(Ce)}}function xe(Ve){try{Ne(G.throw(Ve))}catch(Ce){w(Ce)}}function Ne(Ve){Ve.done?me(Ve.value):q(Ve.value).then(we,xe)}Ne((G=G.apply(F,te||[])).next())})};function P(F){if(F=F.filter(q=>q.range),!F.length)return;let{range:te}=F[0];for(let q=1;q<F.length;q++)te=C.e.plusRange(te,F[q].range);const{startLineNumber:W,endLineNumber:G}=te;W===G?F.length===1?(0,b.Z9)(v.NC("hint11","Made 1 formatting edit on line {0}",W)):(0,b.Z9)(v.NC("hintn1","Made {0} formatting edits on line {1}",F.length,W)):F.length===1?(0,b.Z9)(v.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",W,G)):(0,b.Z9)(v.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",F.length,W,G))}function V(F,te,W){const G=[],q=new Set,me=F.ordered(W);for(const we of me)G.push(we),we.extensionId&&q.add(L.toKey(we.extensionId));const w=te.ordered(W);for(const we of w){if(we.extensionId){if(q.has(L.toKey(we.extensionId)))continue;q.add(L.toKey(we.extensionId))}G.push({displayName:we.displayName,extensionId:we.extensionId,provideDocumentFormattingEdits(xe,Ne,Ve){return we.provideDocumentRangeFormattingEdits(xe,xe.getFullModelRange(),Ne,Ve)}})}return G}class ${static setFormatterSelector(te){return{dispose:$._selectors.unshift(te)}}static select(te,W,G){return I(this,void 0,void 0,function*(){if(te.length===0)return;const q=E.$.first($._selectors);if(q)return yield q(te,W,G)})}}$._selectors=new Z.S;function re(F,te,W,G,q,me){return I(this,void 0,void 0,function*(){const w=F.get(T.TG),{documentRangeFormattingEditProvider:we}=F.get(M.p),xe=(0,y.CL)(te)?te.getModel():te,Ne=we.ordered(xe),Ve=yield $.select(Ne,xe,G);Ve&&(q.report(Ve),yield w.invokeFunction(ae,Ve,te,W,me))})}function ae(F,te,W,G,q){return I(this,void 0,void 0,function*(){const me=F.get(i.p);let w,we;(0,y.CL)(W)?(w=W.getModel(),we=new O.Dl(W,5,void 0,q)):(w=W,we=new O.YQ(W,q));const xe=[];let Ne=0;for(const je of(0,l._2)(G).sort(C.e.compareRangesUsingStarts))Ne>0&&C.e.areIntersectingOrTouching(xe[Ne-1],je)?xe[Ne-1]=C.e.fromPositions(xe[Ne-1].getStartPosition(),je.getEndPosition()):Ne=xe.push(je);const Ve=je=>I(this,void 0,void 0,function*(){return(yield te.provideDocumentRangeFormattingEdits(w,je,w.getFormattingOptions(),we.token))||[]}),Ce=(je,at)=>{if(!je.length||!at.length)return!1;const pt=je.reduce((bt,We)=>C.e.plusRange(bt,We.range),je[0].range);if(!at.some(bt=>C.e.intersectRanges(pt,bt.range)))return!1;for(const bt of je)for(const We of at)if(C.e.intersectRanges(bt.range,We.range))return!0;return!1},Ae=[],$e=[];try{for(const je of xe){if(we.token.isCancellationRequested)return!0;$e.push(yield Ve(je))}for(let je=0;je<xe.length;++je)for(let at=je+1;at<xe.length;++at){if(we.token.isCancellationRequested)return!0;if(Ce($e[je],$e[at])){const pt=C.e.plusRange(xe[je],xe[at]),bt=yield Ve(pt);xe.splice(at,1),xe.splice(je,1),xe.push(pt),$e.splice(at,1),$e.splice(je,1),$e.push(bt),je=0,at=0}}for(const je of $e){if(we.token.isCancellationRequested)return!0;const at=yield me.computeMoreMinimalEdits(w.uri,je);at&&Ae.push(...at)}}finally{we.dispose()}if(Ae.length===0)return!1;if((0,y.CL)(W))_.V.execute(W,Ae,!0),P(Ae),W.revealPositionInCenterIfOutsideViewport(W.getPosition(),1);else{const[{range:je}]=Ae,at=new m.Y(je.startLineNumber,je.startColumn,je.endLineNumber,je.endColumn);w.pushEditOperations([at],Ae.map(pt=>({text:pt.text,range:C.e.lift(pt.range),forceMoveMarkers:!0})),pt=>{for(const{range:bt}of pt)if(C.e.areIntersectingOrTouching(bt,at))return[new m.Y(bt.startLineNumber,bt.startColumn,bt.endLineNumber,bt.endColumn)];return null})}return!0})}function ie(F,te,W,G,q){return I(this,void 0,void 0,function*(){const me=F.get(T.TG),w=F.get(M.p),we=(0,y.CL)(te)?te.getModel():te,xe=V(w.documentFormattingEditProvider,w.documentRangeFormattingEditProvider,we),Ne=yield $.select(xe,we,W);Ne&&(G.report(Ne),yield me.invokeFunction(se,Ne,te,W,q))})}function se(F,te,W,G,q){return I(this,void 0,void 0,function*(){const me=F.get(i.p);let w,we;(0,y.CL)(W)?(w=W.getModel(),we=new O.Dl(W,5,void 0,q)):(w=W,we=new O.YQ(W,q));let xe;try{const Ne=yield te.provideDocumentFormattingEdits(w,w.getFormattingOptions(),we.token);if(xe=yield me.computeMoreMinimalEdits(w.uri,Ne),we.token.isCancellationRequested)return!0}finally{we.dispose()}if(!xe||xe.length===0)return!1;if((0,y.CL)(W))_.V.execute(W,xe,G!==2),G!==2&&(P(xe),W.revealPositionInCenterIfOutsideViewport(W.getPosition(),1));else{const[{range:Ne}]=xe,Ve=new m.Y(Ne.startLineNumber,Ne.startColumn,Ne.endLineNumber,Ne.endColumn);w.pushEditOperations([Ve],xe.map(Ce=>({text:Ce.text,range:C.e.lift(Ce.range),forceMoveMarkers:!0})),Ce=>{for(const{range:Ae}of Ce)if(C.e.areIntersectingOrTouching(Ae,Ve))return[new m.Y(Ae.startLineNumber,Ae.startColumn,Ae.endLineNumber,Ae.endColumn)];return null})}return!0})}function X(F,te,W,G,q,me){return I(this,void 0,void 0,function*(){const w=te.documentRangeFormattingEditProvider.ordered(W);for(const we of w){const xe=yield Promise.resolve(we.provideDocumentRangeFormattingEdits(W,G,q,me)).catch(j.Cp);if((0,l.Of)(xe))return yield F.computeMoreMinimalEdits(W.uri,xe)}})}function ne(F,te,W,G,q){return I(this,void 0,void 0,function*(){const me=V(te.documentFormattingEditProvider,te.documentRangeFormattingEditProvider,W);for(const w of me){const we=yield Promise.resolve(w.provideDocumentFormattingEdits(W,G,q)).catch(j.Cp);if((0,l.Of)(we))return yield F.computeMoreMinimalEdits(W.uri,we)}})}function Q(F,te,W,G,q,me,w){const we=te.onTypeFormattingEditProvider.ordered(W);return we.length===0||we[0].autoFormatTriggerCharacters.indexOf(q)<0?Promise.resolve(void 0):Promise.resolve(we[0].provideOnTypeFormattingEdits(W,G,q,me,w)).catch(j.Cp).then(xe=>F.computeMoreMinimalEdits(W.uri,xe))}p.P0.registerCommand("_executeFormatRangeProvider",function(F,...te){return I(this,void 0,void 0,function*(){const[W,G,q]=te;(0,B.p_)(H.o.isUri(W)),(0,B.p_)(C.e.isIRange(G));const me=F.get(d.S),w=F.get(i.p),we=F.get(M.p),xe=yield me.createModelReference(W);try{return X(w,we,xe.object.textEditorModel,C.e.lift(G),q,z.T.None)}finally{xe.dispose()}})}),p.P0.registerCommand("_executeFormatDocumentProvider",function(F,...te){return I(this,void 0,void 0,function*(){const[W,G]=te;(0,B.p_)(H.o.isUri(W));const q=F.get(d.S),me=F.get(i.p),w=F.get(M.p),we=yield q.createModelReference(W);try{return ne(me,w,we.object.textEditorModel,G,z.T.None)}finally{we.dispose()}})}),p.P0.registerCommand("_executeFormatOnTypeProvider",function(F,...te){return I(this,void 0,void 0,function*(){const[W,G,q,me]=te;(0,B.p_)(H.o.isUri(W)),(0,B.p_)(g.L.isIPosition(G)),(0,B.p_)(typeof q=="string");const w=F.get(d.S),we=F.get(i.p),xe=F.get(M.p),Ne=yield w.createModelReference(W);try{return Q(we,xe,Ne.object.textEditorModel,g.L.lift(G),q,me,z.T.None)}finally{Ne.dispose()}})})},35120:function(Yt,Ye,s){"use strict";s.d(Ye,{V:function(){return z}});var b=s(69386),l=s(24314);class z{static _handleEolEdits(E,Z){let B;const H=[];for(const O of Z)typeof O.eol=="number"&&(B=O.eol),O.range&&typeof O.text=="string"&&H.push(O);return typeof B=="number"&&E.hasModel()&&E.getModel().pushEOL(B),H}static _isFullModelReplaceEdit(E,Z){if(!E.hasModel())return!1;const B=E.getModel(),H=B.validateRange(Z.range);return B.getFullModelRange().equalsRange(H)}static execute(E,Z,B){B&&E.pushUndoStop();const H=z._handleEolEdits(E,Z);H.length===1&&z._isFullModelReplaceEdit(E,H[0])?E.executeEdits("formatEditsCommand",H.map(O=>b.h.replace(l.e.lift(O.range),O.text))):E.executeEdits("formatEditsCommand",H.map(O=>b.h.replaceMove(l.e.lift(O.range),O.text))),B&&E.pushUndoStop()}}},20347:function(Yt,Ye,s){"use strict";s.d(Ye,{c:function(){return Xt},v:function(){return Ft}});var b=s(73046),l=s(5976),z=s(16830),j=s(11640),E=s(50187),Z=s(24314),B=s(29102),H=s(9488),O=s(4669),y=s(91741),g=s(97295),C=s(70666),m=s(65026),i=s(72065),d=s(98674),_=s(33108),v=function(Ge,Te,Ke,ut){var Nt=arguments.length,Be=Nt<3?Te:ut===null?ut=Object.getOwnPropertyDescriptor(Te,Ke):ut,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(Ge,Te,Ke,ut);else for(var wt=Ge.length-1;wt>=0;wt--)(Ze=Ge[wt])&&(Be=(Nt<3?Ze(Be):Nt>3?Ze(Te,Ke,Be):Ze(Te,Ke))||Be);return Nt>3&&Be&&Object.defineProperty(Te,Ke,Be),Be},p=function(Ge,Te){return function(Ke,ut){Te(Ke,ut,Ge)}};class L{constructor(Te,Ke,ut){this.marker=Te,this.index=Ke,this.total=ut}}let T=class{constructor(Te,Ke,ut){this._markerService=Ke,this._configService=ut,this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new l.SL,this._markers=[],this._nextIdx=-1,C.o.isUri(Te)?this._resourceFilter=wt=>wt.toString()===Te.toString():Te&&(this._resourceFilter=Te);const Nt=this._configService.getValue("problems.sortOrder"),Be=(wt,$t)=>{let _t=(0,g.qu)(wt.resource.toString(),$t.resource.toString());return _t===0&&(Nt==="position"?_t=Z.e.compareRangesUsingStarts(wt,$t)||d.ZL.compare(wt.severity,$t.severity):_t=d.ZL.compare(wt.severity,$t.severity)||Z.e.compareRangesUsingStarts(wt,$t)),_t},Ze=()=>{this._markers=this._markerService.read({resource:C.o.isUri(Te)?Te:void 0,severities:d.ZL.Error|d.ZL.Warning|d.ZL.Info}),typeof Te=="function"&&(this._markers=this._markers.filter(wt=>this._resourceFilter(wt.resource))),this._markers.sort(Be)};Ze(),this._dispoables.add(Ke.onMarkerChanged(wt=>{(!this._resourceFilter||wt.some($t=>this._resourceFilter($t)))&&(Ze(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(Te){return!this._resourceFilter&&!Te?!0:!this._resourceFilter||!Te?!1:this._resourceFilter(Te)}get selected(){const Te=this._markers[this._nextIdx];return Te&&new L(Te,this._nextIdx+1,this._markers.length)}_initIdx(Te,Ke,ut){let Nt=!1,Be=this._markers.findIndex(Ze=>Ze.resource.toString()===Te.uri.toString());Be<0&&(Be=(0,H.ry)(this._markers,{resource:Te.uri},(Ze,wt)=>(0,g.qu)(Ze.resource.toString(),wt.resource.toString())),Be<0&&(Be=~Be));for(let Ze=Be;Ze<this._markers.length;Ze++){let wt=Z.e.lift(this._markers[Ze]);if(wt.isEmpty()){const $t=Te.getWordAtPosition(wt.getStartPosition());$t&&(wt=new Z.e(wt.startLineNumber,$t.startColumn,wt.startLineNumber,$t.endColumn))}if(Ke&&(wt.containsPosition(Ke)||Ke.isBeforeOrEqual(wt.getStartPosition()))){this._nextIdx=Ze,Nt=!0;break}if(this._markers[Ze].resource.toString()!==Te.uri.toString())break}Nt||(this._nextIdx=ut?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(Te,Ke,ut){if(this._markers.length===0)return!1;const Nt=this._nextIdx;return this._nextIdx===-1?this._initIdx(Ke,ut,Te):Te?this._nextIdx=(this._nextIdx+1)%this._markers.length:Te||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),Nt!==this._nextIdx}find(Te,Ke){let ut=this._markers.findIndex(Nt=>Nt.resource.toString()===Te.toString());if(!(ut<0)){for(;ut<this._markers.length;ut++)if(Z.e.containsPosition(this._markers[ut],Ke))return new L(this._markers[ut],ut+1,this._markers.length)}}};T=v([p(1,d.lT),p(2,_.Ui)],T);const M=(0,i.yh)("IMarkerNavigationService");let I=class{constructor(Te,Ke){this._markerService=Te,this._configService=Ke,this._provider=new y.S}getMarkerList(Te){for(const Ke of this._provider){const ut=Ke.getMarkerList(Te);if(ut)return ut}return new T(Te,this._markerService,this._configService)}};I=v([p(0,d.lT),p(1,_.Ui)],I),(0,m.z)(M,I,!0);var P=s(63580),V=s(84144),$=s(38819),re=s(59554),ae=s(65321),ie=s(13433),se=s(41264),X=s(95935),ne=s(60865),Q=s(42499),F=s(44349),te=s(50988),W=s(14603),G=s(73910),q=s(97781),me;(function(Ge){function Te(Ke){switch(Ke){case W.Z.Ignore:return"severity-ignore "+b.lA.info.classNames;case W.Z.Info:return b.lA.info.classNames;case W.Z.Warning:return b.lA.warning.classNames;case W.Z.Error:return b.lA.error.classNames;default:return""}}Ge.className=Te})(me||(me={})),(0,q.Ic)((Ge,Te)=>{const Ke=Ge.getColor(G.JpG);if(Ke){const Be=b.lA.error.cssSelector;Te.addRule(`
			.monaco-editor .zone-widget ${Be},
			.markers-panel .marker-icon${Be},
			.text-search-provider-messages .providerMessage ${Be},
			.extensions-viewlet > .extensions ${Be} {
				color: ${Ke};
			}
		`)}const ut=Ge.getColor(G.BOY);if(ut){const Be=b.lA.warning.cssSelector;Te.addRule(`
			.monaco-editor .zone-widget ${Be},
			.markers-panel .marker-icon${Be},
			.extensions-viewlet > .extensions ${Be},
			.extension-editor ${Be},
			.text-search-provider-messages .providerMessage ${Be},
			.preferences-editor ${Be} {
				color: ${ut};
			}
		`)}const Nt=Ge.getColor(G.OLZ);if(Nt){const Be=b.lA.info.cssSelector;Te.addRule(`
			.monaco-editor .zone-widget ${Be},
			.markers-panel .marker-icon${Be},
			.extensions-viewlet > .extensions ${Be},
			.text-search-provider-messages .providerMessage ${Be},
			.extension-editor ${Be} {
				color: ${Nt};
			}
		`)}});var w=function(Ge,Te,Ke,ut){var Nt=arguments.length,Be=Nt<3?Te:ut===null?ut=Object.getOwnPropertyDescriptor(Te,Ke):ut,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(Ge,Te,Ke,ut);else for(var wt=Ge.length-1;wt>=0;wt--)(Ze=Ge[wt])&&(Be=(Nt<3?Ze(Be):Nt>3?Ze(Te,Ke,Be):Ze(Te,Ke))||Be);return Nt>3&&Be&&Object.defineProperty(Te,Ke,Be),Be},we=function(Ge,Te){return function(Ke,ut){Te(Ke,ut,Ge)}};class xe{constructor(Te,Ke,ut,Nt,Be){this._openerService=Nt,this._labelService=Be,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new l.SL,this._editor=Ke;const Ze=document.createElement("div");Ze.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),Ze.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),Ze.appendChild(this._relatedBlock),this._disposables.add(ae.mu(this._relatedBlock,"click",wt=>{wt.preventDefault();const $t=this._relatedDiagnostics.get(wt.target);$t&&ut($t)})),this._scrollable=new ie.NB(Ze,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),Te.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(wt=>{Ze.style.left=`-${wt.scrollLeft}px`,Ze.style.top=`-${wt.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,l.B9)(this._disposables)}update(Te){const{source:Ke,message:ut,relatedInformation:Nt,code:Be}=Te;let Ze=(Ke?.length||0)+2;Be&&(typeof Be=="string"?Ze+=Be.length:Ze+=Be.value.length);const wt=(0,g.uq)(ut);this._lines=wt.length,this._longestLineLength=0;for(const Xe of wt)this._longestLineLength=Math.max(Xe.length+Ze,this._longestLineLength);ae.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(Te)),this._editor.applyFontInfo(this._messageBlock);let $t=this._messageBlock;for(const Xe of wt)$t=document.createElement("div"),$t.innerText=Xe,Xe===""&&($t.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild($t);if(Ke||Be){const Xe=document.createElement("span");if(Xe.classList.add("details"),$t.appendChild(Xe),Ke){const Lt=document.createElement("span");Lt.innerText=Ke,Lt.classList.add("source"),Xe.appendChild(Lt)}if(Be)if(typeof Be=="string"){const Lt=document.createElement("span");Lt.innerText=`(${Be})`,Lt.classList.add("code"),Xe.appendChild(Lt)}else{this._codeLink=ae.$("a.code-link"),this._codeLink.setAttribute("href",`${Be.target.toString()}`),this._codeLink.onclick=mi=>{this._openerService.open(Be.target,{allowCommands:!0}),mi.preventDefault(),mi.stopPropagation()};const Lt=ae.R3(this._codeLink,ae.$("span"));Lt.innerText=Be.value,Xe.appendChild(this._codeLink)}}if(ae.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,H.Of)(Nt)){const Xe=this._relatedBlock.appendChild(document.createElement("div"));Xe.style.paddingTop=`${Math.floor(this._editor.getOption(61)*.66)}px`,this._lines+=1;for(const Lt of Nt){const mi=document.createElement("div"),jt=document.createElement("a");jt.classList.add("filename"),jt.innerText=`${this._labelService.getUriBasenameLabel(Lt.resource)}(${Lt.startLineNumber}, ${Lt.startColumn}): `,jt.title=this._labelService.getUriLabel(Lt.resource),this._relatedDiagnostics.set(jt,Lt);const ki=document.createElement("span");ki.innerText=Lt.message,mi.appendChild(jt),mi.appendChild(ki),this._lines+=1,Xe.appendChild(mi)}}const _t=this._editor.getOption(46),Jt=Math.ceil(_t.typicalFullwidthCharacterWidth*this._longestLineLength*.75),Zt=_t.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Jt,scrollHeight:Zt})}layout(Te,Ke){this._scrollable.getDomNode().style.height=`${Te}px`,this._scrollable.getDomNode().style.width=`${Ke}px`,this._scrollable.setScrollDimensions({width:Ke,height:Te})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(Te){let Ke="";switch(Te.severity){case d.ZL.Error:Ke=P.NC("Error","Error");break;case d.ZL.Warning:Ke=P.NC("Warning","Warning");break;case d.ZL.Info:Ke=P.NC("Info","Info");break;case d.ZL.Hint:Ke=P.NC("Hint","Hint");break}let ut=P.NC("marker aria","{0} at {1}. ",Ke,Te.startLineNumber+":"+Te.startColumn);const Nt=this._editor.getModel();return Nt&&Te.startLineNumber<=Nt.getLineCount()&&Te.startLineNumber>=1&&(ut=`${Nt.getLineContent(Te.startLineNumber)}, ${ut}`),ut}}let Ne=class jh extends ne.vk{constructor(Te,Ke,ut,Nt,Be,Ze,wt){super(Te,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},Be),this._themeService=Ke,this._openerService=ut,this._menuService=Nt,this._contextKeyService=Ze,this._labelService=wt,this._callOnDispose=new l.SL,this._onDidSelectRelatedInformation=new O.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=d.ZL.Warning,this._backgroundColor=se.Il.white,this._applyTheme(Ke.getColorTheme()),this._callOnDispose.add(Ke.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(Te){this._backgroundColor=Te.getColor(it);let Ke=$e,ut=je;this._severity===d.ZL.Warning?(Ke=at,ut=pt):this._severity===d.ZL.Info&&(Ke=bt,ut=We);const Nt=Te.getColor(Ke),Be=Te.getColor(ut);this.style({arrowColor:Nt,frameColor:Nt,headerBackgroundColor:Be,primaryHeadingColor:Te.getColor(ne.IH),secondaryHeadingColor:Te.getColor(ne.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(Te){super._fillHead(Te),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(Nt=>this.editor.focus()));const Ke=[],ut=this._menuService.createMenu(jh.TitleMenu,this._contextKeyService);(0,Q.vr)(ut,void 0,Ke),this._actionbarWidget.push(Ke,{label:!1,icon:!0,index:0}),ut.dispose()}_fillTitleIcon(Te){this._icon=ae.R3(Te,ae.$(""))}_fillBody(Te){this._parentContainer=Te,Te.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),Te.appendChild(this._container),this._message=new xe(this._container,this.editor,Ke=>this._onDidSelectRelatedInformation.fire(Ke),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(Te,Ke,ut){this._container.classList.remove("stale"),this._message.update(Te),this._severity=Te.severity,this._applyTheme(this._themeService.getColorTheme());const Nt=Z.e.lift(Te),Be=this.editor.getPosition(),Ze=Be&&Nt.containsPosition(Be)?Be:Nt.getStartPosition();super.show(Ze,this.computeRequiredHeight());const wt=this.editor.getModel();if(wt){const $t=ut>1?P.NC("problems","{0} of {1} problems",Ke,ut):P.NC("change","{0} of {1} problem",Ke,ut);this.setTitle((0,X.EZ)(wt.uri),$t)}this._icon.className=`codicon ${me.className(d.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(Ze,0),this.editor.focus()}updateMarker(Te){this._container.classList.remove("stale"),this._message.update(Te)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(Te,Ke){super._doLayoutBody(Te,Ke),this._heightInPixel=Te,this._message.layout(Te,Ke),this._container.style.height=`${Te}px`}_onWidth(Te){this._message.layout(this._heightInPixel,Te)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Ne.TitleMenu=new V.eH("gotoErrorTitleMenu"),Ne=w([we(1,q.XE),we(2,te.v4),we(3,V.co),we(4,i.TG),we(5,$.i6),we(6,F.e)],Ne);const Ve=(0,G.kwl)(G.lXJ,G.b6y),Ce=(0,G.kwl)(G.uoC,G.pW3),Ae=(0,G.kwl)(G.c63,G.T83),$e=(0,G.P6G)("editorMarkerNavigationError.background",{dark:Ve,light:Ve,hcDark:G.lRK,hcLight:G.lRK},P.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),je=(0,G.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,G.ZnX)($e,.1),light:(0,G.ZnX)($e,.1),hcDark:null,hcLight:null},P.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),at=(0,G.P6G)("editorMarkerNavigationWarning.background",{dark:Ce,light:Ce,hcDark:G.lRK,hcLight:G.lRK},P.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),pt=(0,G.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,G.ZnX)(at,.1),light:(0,G.ZnX)(at,.1),hcDark:"#0C141F",hcLight:(0,G.ZnX)(at,.2)},P.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),bt=(0,G.P6G)("editorMarkerNavigationInfo.background",{dark:Ae,light:Ae,hcDark:G.lRK,hcLight:G.lRK},P.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),We=(0,G.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,G.ZnX)(bt,.1),light:(0,G.ZnX)(bt,.1),hcDark:null,hcLight:null},P.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),it=(0,G.P6G)("editorMarkerNavigation.background",{dark:G.cvW,light:G.cvW,hcDark:G.cvW,hcLight:G.cvW},P.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var pe=function(Ge,Te,Ke,ut){var Nt=arguments.length,Be=Nt<3?Te:ut===null?ut=Object.getOwnPropertyDescriptor(Te,Ke):ut,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(Ge,Te,Ke,ut);else for(var wt=Ge.length-1;wt>=0;wt--)(Ze=Ge[wt])&&(Be=(Nt<3?Ze(Be):Nt>3?Ze(Te,Ke,Be):Ze(Te,Ke))||Be);return Nt>3&&Be&&Object.defineProperty(Te,Ke,Be),Be},ye=function(Ge,Te){return function(Ke,ut){Te(Ke,ut,Ge)}},ft=function(Ge,Te,Ke,ut){function Nt(Be){return Be instanceof Ke?Be:new Ke(function(Ze){Ze(Be)})}return new(Ke||(Ke=Promise))(function(Be,Ze){function wt(Jt){try{_t(ut.next(Jt))}catch(Zt){Ze(Zt)}}function $t(Jt){try{_t(ut.throw(Jt))}catch(Zt){Ze(Zt)}}function _t(Jt){Jt.done?Be(Jt.value):Nt(Jt.value).then(wt,$t)}_t((ut=ut.apply(Ge,Te||[])).next())})};let Xt=class xd{constructor(Te,Ke,ut,Nt,Be){this._markerNavigationService=Ke,this._contextKeyService=ut,this._editorService=Nt,this._instantiationService=Be,this._sessionDispoables=new l.SL,this._editor=Te,this._widgetVisible=Gt.bindTo(this._contextKeyService)}static get(Te){return Te.getContribution(xd.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(Te){if(this._model&&this._model.matches(Te))return this._model;let Ke=!1;return this._model&&(Ke=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(Te),Ke&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Ne,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(ut=>{var Nt,Be,Ze;(!(!((Nt=this._model)===null||Nt===void 0)&&Nt.selected)||!Z.e.containsPosition((Be=this._model)===null||Be===void 0?void 0:Be.selected.marker,ut.position))&&((Ze=this._model)===null||Ze===void 0||Ze.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const ut=this._model.find(this._editor.getModel().uri,this._widget.position);ut?this._widget.updateMarker(ut.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(ut=>{this._editorService.openCodeEditor({resource:ut.resource,options:{pinned:!0,revealIfOpened:!0,selection:Z.e.lift(ut).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(Te=!0){this._cleanUp(),Te&&this._editor.focus()}showAtMarker(Te){if(this._editor.hasModel()){const Ke=this._getOrCreateModel(this._editor.getModel().uri);Ke.resetIndex(),Ke.move(!0,this._editor.getModel(),new E.L(Te.startLineNumber,Te.startColumn)),Ke.selected&&this._widget.showAtMarker(Ke.selected.marker,Ke.selected.index,Ke.selected.total)}}nagivate(Te,Ke){var ut,Nt;return ft(this,void 0,void 0,function*(){if(this._editor.hasModel()){const Be=this._getOrCreateModel(Ke?void 0:this._editor.getModel().uri);if(Be.move(Te,this._editor.getModel(),this._editor.getPosition()),!Be.selected)return;if(Be.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const Ze=yield this._editorService.openCodeEditor({resource:Be.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:Be.selected.marker}},this._editor);Ze&&((ut=xd.get(Ze))===null||ut===void 0||ut.close(),(Nt=xd.get(Ze))===null||Nt===void 0||Nt.nagivate(Te,Ke))}else this._widget.showAtMarker(Be.selected.marker,Be.selected.index,Be.selected.total)}})}};Xt.ID="editor.contrib.markerController",Xt=pe([ye(1,M),ye(2,$.i6),ye(3,j.$),ye(4,i.TG)],Xt);class qt extends z.R6{constructor(Te,Ke,ut){super(ut),this._next=Te,this._multiFile=Ke}run(Te,Ke){var ut;return ft(this,void 0,void 0,function*(){Ke.hasModel()&&((ut=Xt.get(Ke))===null||ut===void 0||ut.nagivate(this._next,this._multiFile))})}}class Ft extends qt{constructor(){super(!0,!1,{id:Ft.ID,label:Ft.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:B.u.focus,primary:578,weight:100},menuOpts:{menuId:Ne.TitleMenu,title:Ft.LABEL,icon:(0,re.q5)("marker-navigation-next",b.lA.arrowDown,P.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Ft.ID="editor.action.marker.next",Ft.LABEL=P.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Ot extends qt{constructor(){super(!1,!1,{id:Ot.ID,label:Ot.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:B.u.focus,primary:1602,weight:100},menuOpts:{menuId:Ne.TitleMenu,title:Ot.LABEL,icon:(0,re.q5)("marker-navigation-previous",b.lA.arrowUp,P.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Ot.ID="editor.action.marker.prev",Ot.LABEL=P.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class Mt extends qt{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:P.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:B.u.focus,primary:66,weight:100},menuOpts:{menuId:V.eH.MenubarGoMenu,title:P.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class ni extends qt{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:P.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:B.u.focus,primary:1090,weight:100},menuOpts:{menuId:V.eH.MenubarGoMenu,title:P.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,z._K)(Xt.ID,Xt),(0,z.Qr)(Ft),(0,z.Qr)(Ot),(0,z.Qr)(Mt),(0,z.Qr)(ni);const Gt=new $.uy("markersNavigationVisible",!1),Fe=z._l.bindToContribution(Xt.get);(0,z.fK)(new Fe({id:"closeMarkersNavigation",precondition:Gt,handler:Ge=>Ge.close(),kbOpts:{weight:150,kbExpr:B.u.focus,primary:9,secondary:[1033]}}))},95817:function(Yt,Ye,s){"use strict";s.d(Ye,{BT:function(){return ft},Bj:function(){return ye},_k:function(){return pe}});var b=s(30747),l=s(35996),z=s(15393),j=s(22258),E=s(1432),Z=s(98401),B=s(70666),H=s(14410),O=s(65520),y=s(16830),g=s(11640),C=s(84527),m=s(50187),i=s(24314),d=s(29102),_=s(43155),v=s(2444),p=s(1293),L=s(4669),T=s(5976),M=s(95935),I=s(63580),P=s(38819),V=s(65026),$=s(72065),re=s(91847),ae=s(49989),ie=s(59422),se=function(Gt,Fe,Ge,Te){var Ke=arguments.length,ut=Ke<3?Fe:Te===null?Te=Object.getOwnPropertyDescriptor(Fe,Ge):Te,Nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(Gt,Fe,Ge,Te);else for(var Be=Gt.length-1;Be>=0;Be--)(Nt=Gt[Be])&&(ut=(Ke<3?Nt(ut):Ke>3?Nt(Fe,Ge,ut):Nt(Fe,Ge))||ut);return Ke>3&&ut&&Object.defineProperty(Fe,Ge,ut),ut},X=function(Gt,Fe){return function(Ge,Te){Fe(Ge,Te,Gt)}};const ne=new P.uy("hasSymbols",!1,(0,I.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Q=(0,$.yh)("ISymbolNavigationService");let F=class{constructor(Fe,Ge,Te,Ke){this._editorService=Ge,this._notificationService=Te,this._keybindingService=Ke,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=ne.bindTo(Fe)}reset(){var Fe,Ge;this._ctxHasSymbols.reset(),(Fe=this._currentState)===null||Fe===void 0||Fe.dispose(),(Ge=this._currentMessage)===null||Ge===void 0||Ge.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(Fe){const Ge=Fe.parent.parent;if(Ge.references.length<=1){this.reset();return}this._currentModel=Ge,this._currentIdx=Ge.references.indexOf(Fe),this._ctxHasSymbols.set(!0),this._showMessage();const Te=new te(this._editorService),Ke=Te.onDidChange(ut=>{if(this._ignoreEditorChange)return;const Nt=this._editorService.getActiveCodeEditor();if(!Nt)return;const Be=Nt.getModel(),Ze=Nt.getPosition();if(!Be||!Ze)return;let wt=!1,$t=!1;for(const _t of Ge.references)if((0,M.Xy)(_t.uri,Be.uri))wt=!0,$t=$t||i.e.containsPosition(_t.range,Ze);else if(wt)break;(!wt||!$t)&&this.reset()});this._currentState=(0,T.F8)(Te,Ke)}revealNext(Fe){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const Ge=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:Ge.uri,options:{selection:i.e.collapseToStart(Ge.range),selectionRevealType:3}},Fe).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var Fe;(Fe=this._currentMessage)===null||Fe===void 0||Fe.dispose();const Ge=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),Te=Ge?(0,I.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,Ge.getLabel()):(0,I.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(Te)}};F=se([X(0,P.i6),X(1,g.$),X(2,ie.lT),X(3,re.d)],F),(0,V.z)(Q,F,!0),(0,y.fK)(new class extends y._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:ne,kbOpts:{weight:100,primary:70}})}runEditorCommand(Gt,Fe){return Gt.get(Q).revealNext(Fe)}}),ae.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:ne,primary:9,handler(Gt){Gt.get(Q).reset()}});let te=class{constructor(Fe){this._listener=new Map,this._disposables=new T.SL,this._onDidChange=new L.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(Fe.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(Fe.onCodeEditorAdd(this._onDidAddEditor,this)),Fe.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,T.B9)(this._listener.values())}_onDidAddEditor(Fe){this._listener.set(Fe,(0,T.F8)(Fe.onDidChangeCursorPosition(Ge=>this._onDidChange.fire({editor:Fe})),Fe.onDidChangeModelContent(Ge=>this._onDidChange.fire({editor:Fe}))))}_onDidRemoveEditor(Fe){var Ge;(Ge=this._listener.get(Fe))===null||Ge===void 0||Ge.dispose(),this._listener.delete(Fe)}};te=se([X(0,g.$)],te);var W=s(27863),G=s(60865),q=s(84144),me=s(94565),w=s(90535),we=s(40184),xe=s(71922),Ne=function(Gt,Fe,Ge,Te){function Ke(ut){return ut instanceof Ge?ut:new Ge(function(Nt){Nt(ut)})}return new(Ge||(Ge=Promise))(function(ut,Nt){function Be($t){try{wt(Te.next($t))}catch(_t){Nt(_t)}}function Ze($t){try{wt(Te.throw($t))}catch(_t){Nt(_t)}}function wt($t){$t.done?ut($t.value):Ke($t.value).then(Be,Ze)}wt((Te=Te.apply(Gt,Fe||[])).next())})},Ve,Ce,Ae,$e,je,at,pt,bt;q.BH.appendMenuItem(q.eH.EditorContext,{submenu:q.eH.EditorContextPeek,title:I.NC("peek.submenu","Peek"),group:"navigation",order:100});const We=new Set;function it(Gt){const Fe=new Gt;return(0,y.QG)(Fe),We.add(Fe.id),Fe}class pe{constructor(Fe,Ge){this.model=Fe,this.position=Ge}static is(Fe){return!Fe||typeof Fe!="object"?!1:!!(Fe instanceof pe||m.L.isIPosition(Fe.position)&&Fe.model)}}class ye extends y.R6{constructor(Fe,Ge){super(Ge),this.configuration=Fe}run(Fe,Ge,Te){if(!Ge.hasModel())return Promise.resolve(void 0);const Ke=Fe.get(ie.lT),ut=Fe.get(g.$),Nt=Fe.get(w.ek),Be=Fe.get(Q),Ze=Fe.get(xe.p),wt=Ge.getModel(),$t=Ge.getPosition(),_t=pe.is(Te)?Te:new pe(wt,$t),Jt=new H.Dl(Ge,5),Zt=(0,z.eP)(this._getLocationModel(Ze,_t.model,_t.position,Jt.token),Jt.token).then(Xe=>Ne(this,void 0,void 0,function*(){var Lt;if(!Xe||Jt.token.isCancellationRequested)return;(0,l.Z9)(Xe.ariaMessage);let mi;if(Xe.referenceAt(wt.uri,$t)){const ki=this._getAlternativeCommand(Ge);!ye._activeAlternativeCommands.has(ki)&&We.has(ki)&&(mi=Ge.getAction(ki))}const jt=Xe.references.length;if(jt===0){if(!this.configuration.muteMessage){const ki=wt.getWordAtPosition($t);(Lt=W.O.get(Ge))===null||Lt===void 0||Lt.showMessage(this._getNoResultFoundMessage(ki),$t)}}else if(jt===1&&mi)ye._activeAlternativeCommands.add(this.id),mi.run().finally(()=>{ye._activeAlternativeCommands.delete(this.id)});else return this._onResult(ut,Be,Ge,Xe)}),Xe=>{Ke.error(Xe)}).finally(()=>{Jt.dispose()});return Nt.showWhile(Zt,250),Zt}_onResult(Fe,Ge,Te,Ke){return Ne(this,void 0,void 0,function*(){const ut=this._getGoToPreference(Te);if(!(Te instanceof C.H)&&(this.configuration.openInPeek||ut==="peek"&&Ke.references.length>1))this._openInPeek(Te,Ke);else{const Nt=Ke.firstReference(),Be=Ke.references.length>1&&ut==="gotoAndPeek",Ze=yield this._openReference(Te,Fe,Nt,this.configuration.openToSide,!Be);Be&&Ze?this._openInPeek(Ze,Ke):Ke.dispose(),ut==="goto"&&Ge.put(Nt)}})}_openReference(Fe,Ge,Te,Ke,ut){return Ne(this,void 0,void 0,function*(){let Nt;if((0,_.vx)(Te)&&(Nt=Te.targetSelectionRange),Nt||(Nt=Te.range),!Nt)return;const Be=yield Ge.openCodeEditor({resource:Te.uri,options:{selection:i.e.collapseToStart(Nt),selectionRevealType:3,selectionSource:"code.jump"}},Fe,Ke);if(Be){if(ut){const Ze=Be.getModel(),wt=Be.createDecorationsCollection([{range:Nt,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{Be.getModel()===Ze&&wt.clear()},350)}return Be}})}_openInPeek(Fe,Ge){const Te=v.J.get(Fe);Te&&Fe.hasModel()?Te.toggleWidget(Fe.getSelection(),(0,z.PG)(Ke=>Promise.resolve(Ge)),this.configuration.openInPeek):Ge.dispose()}}ye._activeAlternativeCommands=new Set;class ft extends ye{_getLocationModel(Fe,Ge,Te,Ke){return Ne(this,void 0,void 0,function*(){return new p.oQ(yield(0,we.nD)(Fe.definitionProvider,Ge,Te,Ke),I.NC("def.title","Definitions"))})}_getNoResultFoundMessage(Fe){return Fe&&Fe.word?I.NC("noResultWord","No definition found for '{0}'",Fe.word):I.NC("generic.noResults","No definition found")}_getAlternativeCommand(Fe){return Fe.getOption(53).alternativeDefinitionCommand}_getGoToPreference(Fe){return Fe.getOption(53).multipleDefinitions}}const Xt=E.$L&&!(0,b.isStandalone)()?2118:70;it((Ve=class ah extends ft{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ah.id,label:I.NC("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:P.Ao.and(d.u.hasDefinitionProvider,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:Xt,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),me.P0.registerCommandAlias("editor.action.goToDeclaration",ah.id)}},Ve.id="editor.action.revealDefinition",Ve)),it((Ce=class lh extends ft{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:lh.id,label:I.NC("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:P.Ao.and(d.u.hasDefinitionProvider,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:(0,j.gx)(2089,Xt),weight:100}}),me.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",lh.id)}},Ce.id="editor.action.revealDefinitionAside",Ce)),it((Ae=class ch extends ft{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ch.id,label:I.NC("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:P.Ao.and(d.u.hasDefinitionProvider,G.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:q.eH.EditorContextPeek,group:"peek",order:2}}),me.P0.registerCommandAlias("editor.action.previewDeclaration",ch.id)}},Ae.id="editor.action.peekDefinition",Ae));class qt extends ye{_getLocationModel(Fe,Ge,Te,Ke){return Ne(this,void 0,void 0,function*(){return new p.oQ(yield(0,we.zq)(Fe.declarationProvider,Ge,Te,Ke),I.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(Fe){return Fe&&Fe.word?I.NC("decl.noResultWord","No declaration found for '{0}'",Fe.word):I.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(Fe){return Fe.getOption(53).alternativeDeclarationCommand}_getGoToPreference(Fe){return Fe.getOption(53).multipleDeclarations}}it(($e=class Kh extends qt{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Kh.id,label:I.NC("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:P.Ao.and(d.u.hasDeclarationProvider,d.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(Fe){return Fe&&Fe.word?I.NC("decl.noResultWord","No declaration found for '{0}'",Fe.word):I.NC("decl.generic.noResults","No declaration found")}},$e.id="editor.action.revealDeclaration",$e)),it(class extends qt{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:I.NC("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:P.Ao.and(d.u.hasDeclarationProvider,G.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:q.eH.EditorContextPeek,group:"peek",order:3}})}});class Ft extends ye{_getLocationModel(Fe,Ge,Te,Ke){return Ne(this,void 0,void 0,function*(){return new p.oQ(yield(0,we.L3)(Fe.typeDefinitionProvider,Ge,Te,Ke),I.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(Fe){return Fe&&Fe.word?I.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",Fe.word):I.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(Fe){return Fe.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(Fe){return Fe.getOption(53).multipleTypeDefinitions}}it((je=class $h extends Ft{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:$h.ID,label:I.NC("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:P.Ao.and(d.u.hasTypeDefinitionProvider,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},je.ID="editor.action.goToTypeDefinition",je)),it((at=class Gh extends Ft{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Gh.ID,label:I.NC("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:P.Ao.and(d.u.hasTypeDefinitionProvider,G.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:q.eH.EditorContextPeek,group:"peek",order:4}})}},at.ID="editor.action.peekTypeDefinition",at));class Ot extends ye{_getLocationModel(Fe,Ge,Te,Ke){return Ne(this,void 0,void 0,function*(){return new p.oQ(yield(0,we.f4)(Fe.implementationProvider,Ge,Te,Ke),I.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(Fe){return Fe&&Fe.word?I.NC("goToImplementation.noResultWord","No implementation found for '{0}'",Fe.word):I.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(Fe){return Fe.getOption(53).alternativeImplementationCommand}_getGoToPreference(Fe){return Fe.getOption(53).multipleImplementations}}it((pt=class Qh extends Ot{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Qh.ID,label:I.NC("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:P.Ao.and(d.u.hasImplementationProvider,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},pt.ID="editor.action.goToImplementation",pt)),it((bt=class Zh extends Ot{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Zh.ID,label:I.NC("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:P.Ao.and(d.u.hasImplementationProvider,G.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:q.eH.EditorContextPeek,group:"peek",order:5}})}},bt.ID="editor.action.peekImplementation",bt));class Mt extends ye{_getNoResultFoundMessage(Fe){return Fe?I.NC("references.no","No references found for '{0}'",Fe.word):I.NC("references.noGeneric","No references found")}_getAlternativeCommand(Fe){return Fe.getOption(53).alternativeReferenceCommand}_getGoToPreference(Fe){return Fe.getOption(53).multipleReferences}}it(class extends Mt{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:I.NC("goToReferences.label","Go to References"),alias:"Go to References",precondition:P.Ao.and(d.u.hasReferenceProvider,G.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(Fe,Ge,Te,Ke){return Ne(this,void 0,void 0,function*(){return new p.oQ(yield(0,we.aA)(Fe.referenceProvider,Ge,Te,!0,Ke),I.NC("ref.title","References"))})}}),it(class extends Mt{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:I.NC("references.action.label","Peek References"),alias:"Peek References",precondition:P.Ao.and(d.u.hasReferenceProvider,G.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:q.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(Fe,Ge,Te,Ke){return Ne(this,void 0,void 0,function*(){return new p.oQ(yield(0,we.aA)(Fe.referenceProvider,Ge,Te,!1,Ke),I.NC("ref.title","References"))})}});class ni extends ye{constructor(Fe,Ge,Te){super(Fe,{id:"editor.action.goToLocation",label:I.NC("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:P.Ao.and(G.Jy.notInPeekEditor,d.u.isInWalkThroughSnippet.toNegated())}),this._references=Ge,this._gotoMultipleBehaviour=Te}_getLocationModel(Fe,Ge,Te,Ke){return Ne(this,void 0,void 0,function*(){return new p.oQ(this._references,I.NC("generic.title","Locations"))})}_getNoResultFoundMessage(Fe){return Fe&&I.NC("generic.noResult","No results for '{0}'",Fe.word)||""}_getGoToPreference(Fe){var Ge;return(Ge=this._gotoMultipleBehaviour)!==null&&Ge!==void 0?Ge:Fe.getOption(53).multipleReferences}_getAlternativeCommand(){return""}}me.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:B.o},{name:"position",description:"The position at which to start",constraint:m.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Gt,Fe,Ge,Te,Ke,ut,Nt)=>Ne(void 0,void 0,void 0,function*(){(0,Z.p_)(B.o.isUri(Fe)),(0,Z.p_)(m.L.isIPosition(Ge)),(0,Z.p_)(Array.isArray(Te)),(0,Z.p_)(typeof Ke>"u"||typeof Ke=="string"),(0,Z.p_)(typeof Nt>"u"||typeof Nt=="boolean");const Be=Gt.get(g.$),Ze=yield Be.openCodeEditor({resource:Fe},Be.getFocusedCodeEditor());if((0,O.CL)(Ze))return Ze.setPosition(Ge),Ze.revealPositionInCenterIfOutsideViewport(Ge,0),Ze.invokeWithinContext(wt=>{const $t=new class extends ni{_getNoResultFoundMessage(_t){return ut||super._getNoResultFoundMessage(_t)}}({muteMessage:!ut,openInPeek:!!Nt,openToSide:!1},Te,Ke);wt.get($.TG).invokeFunction($t.run.bind($t),Ze)})})}),me.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:B.o},{name:"position",description:"The position at which to start",constraint:m.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Gt,Fe,Ge,Te,Ke)=>Ne(void 0,void 0,void 0,function*(){Gt.get(me.Hy).executeCommand("editor.action.goToLocations",Fe,Ge,Te,Ke,void 0,!0)})}),me.P0.registerCommand({id:"editor.action.findReferences",handler:(Gt,Fe,Ge)=>{(0,Z.p_)(B.o.isUri(Fe)),(0,Z.p_)(m.L.isIPosition(Ge));const Te=Gt.get(xe.p),Ke=Gt.get(g.$);return Ke.openCodeEditor({resource:Fe},Ke.getFocusedCodeEditor()).then(ut=>{if(!(0,O.CL)(ut)||!ut.hasModel())return;const Nt=v.J.get(ut);if(!Nt)return;const Be=(0,z.PG)(wt=>(0,we.aA)(Te.referenceProvider,ut.getModel(),m.L.lift(Ge),!1,wt).then($t=>new p.oQ($t,I.NC("ref.title","References")))),Ze=new i.e(Ge.lineNumber,Ge.column,Ge.lineNumber,Ge.column);return Promise.resolve(Nt.toggleWidget(Ze,Be,!1))})}}),me.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),q.BH.appendMenuItems([{id:q.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:I.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:q.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:I.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:q.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:I.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:q.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:I.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:q.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:I.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}])},40184:function(Yt,Ye,s){"use strict";s.d(Ye,{L3:function(){return g},aA:function(){return C},f4:function(){return y},nD:function(){return H},zq:function(){return O}});var b=s(71050),l=s(17301),z=s(16830),j=s(1293),E=s(71922),Z=function(i,d,_,v){function p(L){return L instanceof _?L:new _(function(T){T(L)})}return new(_||(_=Promise))(function(L,T){function M(V){try{P(v.next(V))}catch($){T($)}}function I(V){try{P(v.throw(V))}catch($){T($)}}function P(V){V.done?L(V.value):p(V.value).then(M,I)}P((v=v.apply(i,d||[])).next())})};function B(i,d,_,v){const L=_.ordered(i).map(T=>Promise.resolve(v(T,i,d)).then(void 0,M=>{(0,l.Cp)(M)}));return Promise.all(L).then(T=>{const M=[];for(const I of T)Array.isArray(I)?M.push(...I):I&&M.push(I);return M})}function H(i,d,_,v){return B(d,_,i,(p,L,T)=>p.provideDefinition(L,T,v))}function O(i,d,_,v){return B(d,_,i,(p,L,T)=>p.provideDeclaration(L,T,v))}function y(i,d,_,v){return B(d,_,i,(p,L,T)=>p.provideImplementation(L,T,v))}function g(i,d,_,v){return B(d,_,i,(p,L,T)=>p.provideTypeDefinition(L,T,v))}function C(i,d,_,v,p){return B(d,_,i,(L,T,M)=>Z(this,void 0,void 0,function*(){const I=yield L.provideReferences(T,M,{includeDeclaration:!0},p);if(!v||!I||I.length!==2)return I;const P=yield L.provideReferences(T,M,{includeDeclaration:!1},p);return P&&P.length===1?P:I}))}function m(i){return Z(this,void 0,void 0,function*(){const d=yield i(),_=new j.oQ(d,""),v=_.references.map(p=>p.link);return _.dispose(),v})}(0,z.sb)("_executeDefinitionProvider",(i,d,_)=>{const v=i.get(E.p),p=H(v.definitionProvider,d,_,b.T.None);return m(()=>p)}),(0,z.sb)("_executeTypeDefinitionProvider",(i,d,_)=>{const v=i.get(E.p),p=g(v.typeDefinitionProvider,d,_,b.T.None);return m(()=>p)}),(0,z.sb)("_executeDeclarationProvider",(i,d,_)=>{const v=i.get(E.p),p=O(v.declarationProvider,d,_,b.T.None);return m(()=>p)}),(0,z.sb)("_executeReferenceProvider",(i,d,_)=>{const v=i.get(E.p),p=C(v.referenceProvider,d,_,!1,b.T.None);return m(()=>p)}),(0,z.sb)("_executeImplementationProvider",(i,d,_)=>{const v=i.get(E.p),p=y(v.implementationProvider,d,_,b.T.None);return m(()=>p)})},82005:function(Yt,Ye,s){"use strict";s.d(Ye,{yN:function(){return O}});var b=s(4669),l=s(5976),z=s(1432);function j(y,g){return!!y[g]}class E{constructor(g,C){this.target=g.target,this.hasTriggerModifier=j(g.event,C.triggerModifier),this.hasSideBySideModifier=j(g.event,C.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=g.event.detail<=1}}class Z{constructor(g,C){this.keyCodeIsTriggerKey=g.keyCode===C.triggerKey,this.keyCodeIsSideBySideKey=g.keyCode===C.triggerSideBySideKey,this.hasTriggerModifier=j(g,C.triggerModifier)}}class B{constructor(g,C,m,i){this.triggerKey=g,this.triggerModifier=C,this.triggerSideBySideKey=m,this.triggerSideBySideModifier=i}equals(g){return this.triggerKey===g.triggerKey&&this.triggerModifier===g.triggerModifier&&this.triggerSideBySideKey===g.triggerSideBySideKey&&this.triggerSideBySideModifier===g.triggerSideBySideModifier}}function H(y){return y==="altKey"?z.dz?new B(57,"metaKey",6,"altKey"):new B(5,"ctrlKey",6,"altKey"):z.dz?new B(6,"altKey",57,"metaKey"):new B(6,"altKey",5,"ctrlKey")}class O extends l.JT{constructor(g){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new b.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new b.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new b.Q5),this.onCancel=this._onCancel.event,this._editor=g,this._opts=H(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(C=>{if(C.hasChanged(72)){const m=H(this._editor.getOption(72));if(this._opts.equals(m))return;this._opts=m,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(C=>this._onEditorMouseMove(new E(C,this._opts)))),this._register(this._editor.onMouseDown(C=>this._onEditorMouseDown(new E(C,this._opts)))),this._register(this._editor.onMouseUp(C=>this._onEditorMouseUp(new E(C,this._opts)))),this._register(this._editor.onKeyDown(C=>this._onEditorKeyDown(new Z(C,this._opts)))),this._register(this._editor.onKeyUp(C=>this._onEditorKeyUp(new Z(C,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(C=>this._onDidChangeCursorSelection(C))),this._register(this._editor.onDidChangeModel(C=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(C=>{(C.scrollTopChanged||C.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(g){g.selection&&g.selection.startColumn!==g.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(g){this._lastMouseMoveEvent=g,this._onMouseMoveOrRelevantKeyDown.fire([g,null])}_onEditorMouseDown(g){this._hasTriggerKeyOnMouseDown=g.hasTriggerModifier,this._lineNumberOnMouseDown=g.target.position?g.target.position.lineNumber:0}_onEditorMouseUp(g){const C=g.target.position?g.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===C&&this._onExecute.fire(g)}_onEditorKeyDown(g){this._lastMouseMoveEvent&&(g.keyCodeIsTriggerKey||g.keyCodeIsSideBySideKey&&g.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,g]):g.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(g){g.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},56334:function(Yt,Ye,s){"use strict";s.d(Ye,{S:function(){return I}});var b=s(15393),l=s(17301),z=s(59365),j=s(5976),E=s(98401),Z=s(14410),B=s(16830),H=s(24314),O=s(72042),y=s(88216),g=s(82005),C=s(60865),m=s(63580),i=s(38819),d=s(73910),_=s(97781),v=s(95817),p=s(40184),L=s(71922),T=function(P,V,$,re){var ae=arguments.length,ie=ae<3?V:re===null?re=Object.getOwnPropertyDescriptor(V,$):re,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(P,V,$,re);else for(var X=P.length-1;X>=0;X--)(se=P[X])&&(ie=(ae<3?se(ie):ae>3?se(V,$,ie):se(V,$))||ie);return ae>3&&ie&&Object.defineProperty(V,$,ie),ie},M=function(P,V){return function($,re){V($,re,P)}};let I=class Nd{constructor(V,$,re,ae){this.textModelResolverService=$,this.languageService=re,this.languageFeaturesService=ae,this.toUnhook=new j.SL,this.toUnhookForKeyboard=new j.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=V,this.linkDecorations=this.editor.createDecorationsCollection();const ie=new g.yN(V);this.toUnhook.add(ie),this.toUnhook.add(ie.onMouseMoveOrRelevantKeyDown(([se,X])=>{this.startFindDefinitionFromMouse(se,(0,E.f6)(X))})),this.toUnhook.add(ie.onExecute(se=>{this.isEnabled(se)&&this.gotoDefinition(se.target.position,se.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},X=>{this.removeLinkDecorations(),(0,l.dL)(X)})})),this.toUnhook.add(ie.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(V){return V.getContribution(Nd.ID)}startFindDefinitionFromCursor(V){return this.startFindDefinition(V).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown($=>{$&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(V,$){if(V.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(V,$)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const re=V.target.position;this.startFindDefinition(re)}startFindDefinition(V){var $;this.toUnhookForKeyboard.clear();const re=V?($=this.editor.getModel())===null||$===void 0?void 0:$.getWordAtPosition(V):null;if(!re)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===re.startColumn&&this.currentWordAtPosition.endColumn===re.endColumn&&this.currentWordAtPosition.word===re.word)return Promise.resolve(0);this.currentWordAtPosition=re;const ae=new Z.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,b.PG)(ie=>this.findDefinition(V,ie)),this.previousPromise.then(ie=>{if(!ie||!ie.length||!ae.validate(this.editor)){this.removeLinkDecorations();return}if(ie.length>1)this.addDecoration(new H.e(V.lineNumber,re.startColumn,V.lineNumber,re.endColumn),new z.W5().appendText(m.NC("multipleResults","Click to show {0} definitions.",ie.length)));else{const se=ie[0];if(!se.uri)return;this.textModelResolverService.createModelReference(se.uri).then(X=>{if(!X.object||!X.object.textEditorModel){X.dispose();return}const{object:{textEditorModel:ne}}=X,{startLineNumber:Q}=se.range;if(Q<1||Q>ne.getLineCount()){X.dispose();return}const F=this.getPreviewValue(ne,Q,se);let te;se.originSelectionRange?te=H.e.lift(se.originSelectionRange):te=new H.e(V.lineNumber,re.startColumn,V.lineNumber,re.endColumn);const W=this.languageService.guessLanguageIdByFilepathOrFirstLine(ne.uri);this.addDecoration(te,new z.W5().appendCodeblock(W||"",F)),X.dispose()})}}).then(void 0,l.dL)}getPreviewValue(V,$,re){let ae=re.range;return ae.endLineNumber-ae.startLineNumber>=Nd.MAX_SOURCE_PREVIEW_LINES&&(ae=this.getPreviewRangeBasedOnIndentation(V,$)),this.stripIndentationFromPreviewRange(V,$,ae)}stripIndentationFromPreviewRange(V,$,re){let ie=V.getLineFirstNonWhitespaceColumn($);for(let X=$+1;X<re.endLineNumber;X++){const ne=V.getLineFirstNonWhitespaceColumn(X);ie=Math.min(ie,ne)}return V.getValueInRange(re).replace(new RegExp(`^\\s{${ie-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(V,$){const re=V.getLineFirstNonWhitespaceColumn($),ae=Math.min(V.getLineCount(),$+Nd.MAX_SOURCE_PREVIEW_LINES);let ie=$+1;for(;ie<ae;ie++){const se=V.getLineFirstNonWhitespaceColumn(ie);if(re===se)break}return new H.e($,1,ie+1,1)}addDecoration(V,$){const re={range:V,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:$}};this.linkDecorations.set([re])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(V,$){return this.editor.hasModel()&&V.isNoneOrSingleMouseDown&&V.target.type===6&&(V.hasTriggerModifier||($?$.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(V,$){const re=this.editor.getModel();return re?(0,p.nD)(this.languageFeaturesService.definitionProvider,re,V,$):Promise.resolve(null)}gotoDefinition(V,$){return this.editor.setPosition(V),this.editor.invokeWithinContext(re=>{const ae=!$&&this.editor.getOption(80)&&!this.isInPeekEditor(re);return new v.BT({openToSide:$,openInPeek:ae,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(re,this.editor)})}isInPeekEditor(V){const $=V.get(i.i6);return C.Jy.inPeekEditor.getValue($)}dispose(){this.toUnhook.dispose()}};I.ID="editor.contrib.gotodefinitionatposition",I.MAX_SOURCE_PREVIEW_LINES=8,I=T([M(1,y.S),M(2,O.O),M(3,L.p)],I),(0,B._K)(I.ID,I),(0,_.Ic)((P,V)=>{const $=P.getColor(d._Yy);$&&V.addRule(`.monaco-editor .goto-definition-link { color: ${$} !important; }`)})},2444:function(Yt,Ye,s){"use strict";s.d(Ye,{J:function(){return Gt}});var b=s(15393),l=s(17301),z=s(22258),j=s(5976),E=s(11640),Z=s(50187),B=s(24314),H=s(60865),O=s(63580),y=s(94565),g=s(33108),C=s(38819),m=s(72065),i=s(49989),d=s(62077),_=s(59422),v=s(87060),p=s(1293),L=s(65321),T=s(33225),M=s(41264),I=s(4669),P=s(66663),V=s(95935),$=s(84527),re=s(22529),ae=s(4256),ie=s(68801),se=s(72042),X=s(88216),ne=s(85207),Q=s(34650),F=s(93923),te=s(75392),W=s(91847),G=s(44349),q=s(88810),me=s(97781),w=function(Ge,Te,Ke,ut){var Nt=arguments.length,Be=Nt<3?Te:ut===null?ut=Object.getOwnPropertyDescriptor(Te,Ke):ut,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(Ge,Te,Ke,ut);else for(var wt=Ge.length-1;wt>=0;wt--)(Ze=Ge[wt])&&(Be=(Nt<3?Ze(Be):Nt>3?Ze(Te,Ke,Be):Ze(Te,Ke))||Be);return Nt>3&&Be&&Object.defineProperty(Te,Ke,Be),Be},we=function(Ge,Te){return function(Ke,ut){Te(Ke,ut,Ge)}};let xe=class{constructor(Te){this._resolverService=Te}hasChildren(Te){return Te instanceof p.oQ||Te instanceof p.F2}getChildren(Te){if(Te instanceof p.oQ)return Te.groups;if(Te instanceof p.F2)return Te.resolve(this._resolverService).then(Ke=>Ke.children);throw new Error("bad tree")}};xe=w([we(0,X.S)],xe);class Ne{getHeight(){return 23}getTemplateId(Te){return Te instanceof p.F2?$e.id:at.id}}let Ve=class{constructor(Te){this._keybindingService=Te}getKeyboardNavigationLabel(Te){var Ke;if(Te instanceof p.WX){const ut=(Ke=Te.parent.getPreview(Te))===null||Ke===void 0?void 0:Ke.preview(Te.range);if(ut)return ut.value}return(0,V.EZ)(Te.uri)}};Ve=w([we(0,W.d)],Ve);class Ce{getId(Te){return Te instanceof p.WX?Te.id:Te.uri}}let Ae=class extends j.JT{constructor(Te,Ke,ut){super(),this._labelService=Ke;const Nt=document.createElement("div");Nt.classList.add("reference-file"),this.file=this._register(new F.g(Nt,{supportHighlights:!0})),this.badge=new ne.Z(L.R3(Nt,L.$(".count"))),this._register((0,q.WZ)(this.badge,ut)),Te.appendChild(Nt)}set(Te,Ke){const ut=(0,V.XX)(Te.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(Te.uri),this._labelService.getUriLabel(ut,{relative:!0}),{title:this._labelService.getUriLabel(Te.uri),matches:Ke});const Nt=Te.children.length;this.badge.setCount(Nt),Nt>1?this.badge.setTitleFormat((0,O.NC)("referencesCount","{0} references",Nt)):this.badge.setTitleFormat((0,O.NC)("referenceCount","{0} reference",Nt))}};Ae=w([we(1,G.e),we(2,me.XE)],Ae);let $e=class Yh{constructor(Te){this._instantiationService=Te,this.templateId=Yh.id}renderTemplate(Te){return this._instantiationService.createInstance(Ae,Te)}renderElement(Te,Ke,ut){ut.set(Te.element,(0,te.mB)(Te.filterData))}disposeTemplate(Te){Te.dispose()}};$e.id="FileReferencesRenderer",$e=w([we(0,m.TG)],$e);class je{constructor(Te){this.label=new Q.q(Te)}set(Te,Ke){var ut;const Nt=(ut=Te.parent.getPreview(Te))===null||ut===void 0?void 0:ut.preview(Te.range);if(!Nt||!Nt.value)this.label.set(`${(0,V.EZ)(Te.uri)}:${Te.range.startLineNumber+1}:${Te.range.startColumn+1}`);else{const{value:Be,highlight:Ze}=Nt;Ke&&!te.CL.isDefault(Ke)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(Be,(0,te.mB)(Ke))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(Be,[Ze]))}}}class at{constructor(){this.templateId=at.id}renderTemplate(Te){return new je(Te)}renderElement(Te,Ke,ut){ut.set(Te.element,Te.filterData)}disposeTemplate(){}}at.id="OneReferenceRenderer";class pt{getWidgetAriaLabel(){return(0,O.NC)("treeAriaLabel","References")}getAriaLabel(Te){return Te.ariaMessage}}var bt=s(64862),We=function(Ge,Te,Ke,ut){var Nt=arguments.length,Be=Nt<3?Te:ut===null?ut=Object.getOwnPropertyDescriptor(Te,Ke):ut,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(Ge,Te,Ke,ut);else for(var wt=Ge.length-1;wt>=0;wt--)(Ze=Ge[wt])&&(Be=(Nt<3?Ze(Be):Nt>3?Ze(Te,Ke,Be):Ze(Te,Ke))||Be);return Nt>3&&Be&&Object.defineProperty(Te,Ke,Be),Be},it=function(Ge,Te){return function(Ke,ut){Te(Ke,ut,Ge)}},pe=function(Ge,Te,Ke,ut){function Nt(Be){return Be instanceof Ke?Be:new Ke(function(Ze){Ze(Be)})}return new(Ke||(Ke=Promise))(function(Be,Ze){function wt(Jt){try{_t(ut.next(Jt))}catch(Zt){Ze(Zt)}}function $t(Jt){try{_t(ut.throw(Jt))}catch(Zt){Ze(Zt)}}function _t(Jt){Jt.done?Be(Jt.value):Nt(Jt.value).then(wt,$t)}_t((ut=ut.apply(Ge,Te||[])).next())})};class ye{constructor(Te,Ke){this._editor=Te,this._model=Ke,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new j.SL,this._callOnModelChange=new j.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const Te=this._editor.getModel();if(Te){for(const Ke of this._model.references)if(Ke.uri.toString()===Te.uri.toString()){this._addDecorations(Ke.parent);return}}}_addDecorations(Te){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const Ke=[],ut=[];for(let Nt=0,Be=Te.children.length;Nt<Be;Nt++){const Ze=Te.children[Nt];this._decorationIgnoreSet.has(Ze.id)||Ze.uri.toString()===this._editor.getModel().uri.toString()&&(Ke.push({range:Ze.range,options:ye.DecorationOptions}),ut.push(Nt))}this._editor.changeDecorations(Nt=>{const Be=Nt.deltaDecorations([],Ke);for(let Ze=0;Ze<Be.length;Ze++)this._decorations.set(Be[Ze],Te.children[ut[Ze]])})}_onDecorationChanged(){const Te=[],Ke=this._editor.getModel();if(Ke){for(const[ut,Nt]of this._decorations){const Be=Ke.getDecorationRange(ut);if(!Be)continue;let Ze=!1;if(!B.e.equalsRange(Be,Nt.range)){if(B.e.spansMultipleLines(Be))Ze=!0;else{const wt=Nt.range.endColumn-Nt.range.startColumn,$t=Be.endColumn-Be.startColumn;wt!==$t&&(Ze=!0)}Ze?(this._decorationIgnoreSet.add(Nt.id),Te.push(ut)):Nt.range=Be}}for(let ut=0,Nt=Te.length;ut<Nt;ut++)this._decorations.delete(Te[ut]);this._editor.removeDecorations(Te)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}ye.DecorationOptions=re.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class ft{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(Te){let Ke,ut;try{const Nt=JSON.parse(Te);Ke=Nt.ratio,ut=Nt.heightInLines}catch{}return{ratio:Ke||.7,heightInLines:ut||18}}}class Xt extends d.ls{}let qt=class extends H.vk{constructor(Te,Ke,ut,Nt,Be,Ze,wt,$t,_t,Jt,Zt,Xe){super(Te,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},Ze),this._defaultTreeKeyboardSupport=Ke,this.layoutData=ut,this._textModelResolverService=Be,this._instantiationService=Ze,this._peekViewService=wt,this._uriLabel=$t,this._undoRedoService=_t,this._keybindingService=Jt,this._languageService=Zt,this._languageConfigurationService=Xe,this._disposeOnNewModel=new j.SL,this._callOnDispose=new j.SL,this._onDidSelectReference=new I.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new L.Ro(0,0),this._applyTheme(Nt.getColorTheme()),this._callOnDispose.add(Nt.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(Te,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,j.B9)(this._preview),(0,j.B9)(this._previewNotAvailableMessage),(0,j.B9)(this._tree),(0,j.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(Te){const Ke=Te.getColor(H.SC)||M.Il.transparent;this.style({arrowColor:Ke,frameColor:Ke,headerBackgroundColor:Te.getColor(H.KY)||M.Il.transparent,primaryHeadingColor:Te.getColor(H.IH),secondaryHeadingColor:Te.getColor(H.R7)})}show(Te){super.show(Te,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(Te){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:Te.ctrlKey||Te.metaKey||Te.altKey?"side":"open",source:"title"})}_fillBody(Te){this.setCssClass("reference-zone-widget"),this._messageContainer=L.R3(Te,L.$("div.messages")),L.Cp(this._messageContainer),this._splitView=new T.z(Te,{orientation:1}),this._previewContainer=L.R3(Te,L.$("div.preview.inline"));const Ke={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance($.H,this._previewContainer,Ke,this.editor),L.Cp(this._previewContainer),this._previewNotAvailableMessage=new re.yO(O.NC("missingPreviewMessage","no preview available"),ie.bd,re.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=L.R3(Te,L.$("div.ref-tree.inline"));const ut={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new pt,keyboardNavigationLabelProvider:this._instantiationService.createInstance(Ve),identityProvider:new Ce,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:H.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(L.mu(this._treeContainer,"keydown",Be=>{Be.equals(9)&&(this._keybindingService.dispatchEvent(Be,Be.target),Be.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Xt,"ReferencesWidget",this._treeContainer,new Ne,[this._instantiationService.createInstance($e),this._instantiationService.createInstance(at)],this._instantiationService.createInstance(xe),ut),this._splitView.addView({onDidChange:I.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:Be=>{this._preview.layout({height:this._dim.height,width:Be})}},T.M.Distribute),this._splitView.addView({onDidChange:I.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:Be=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${Be}px`,this._tree.layout(this._dim.height,Be)}},T.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const Nt=(Be,Ze)=>{Be instanceof p.WX&&(Ze==="show"&&this._revealReference(Be,!1),this._onDidSelectReference.fire({element:Be,kind:Ze,source:"tree"}))};this._tree.onDidOpen(Be=>{Be.sideBySide?Nt(Be.element,"side"):Be.editorOptions.pinned?Nt(Be.element,"goto"):Nt(Be.element,"show")}),L.Cp(this._treeContainer)}_onWidth(Te){this._dim&&this._doLayoutBody(this._dim.height,Te)}_doLayoutBody(Te,Ke){super._doLayoutBody(Te,Ke),this._dim=new L.Ro(Ke,Te),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(Ke),this._splitView.resizeView(0,Ke*this.layoutData.ratio)}setSelection(Te){return this._revealReference(Te,!0).then(()=>{this._model&&(this._tree.setSelection([Te]),this._tree.setFocus([Te]))})}setModel(Te){return this._disposeOnNewModel.clear(),this._model=Te,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=O.NC("noResults","No results"),L.$Z(this._messageContainer),Promise.resolve(void 0)):(L.Cp(this._messageContainer),this._decorationsManager=new ye(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(Te=>this._tree.rerender(Te))),this._disposeOnNewModel.add(this._preview.onMouseDown(Te=>{const{event:Ke,target:ut}=Te;if(Ke.detail!==2)return;const Nt=this._getFocusedReference();Nt&&this._onDidSelectReference.fire({element:{uri:Nt.uri,range:ut.range},kind:Ke.ctrlKey||Ke.metaKey||Ke.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),L.$Z(this._treeContainer),L.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[Te]=this._tree.getFocus();if(Te instanceof p.WX)return Te;if(Te instanceof p.F2&&Te.children.length>0)return Te.children[0]}revealReference(Te){return pe(this,void 0,void 0,function*(){yield this._revealReference(Te,!1),this._onDidSelectReference.fire({element:Te,kind:"goto",source:"tree"})})}_revealReference(Te,Ke){return pe(this,void 0,void 0,function*(){if(this._revealedReference===Te)return;this._revealedReference=Te,Te.uri.scheme!==P.lg.inMemory?this.setTitle((0,V.Hx)(Te.uri),this._uriLabel.getUriLabel((0,V.XX)(Te.uri))):this.setTitle(O.NC("peekView.alternateTitle","References"));const ut=this._textModelResolverService.createModelReference(Te.uri);this._tree.getInput()===Te.parent?this._tree.reveal(Te):(Ke&&this._tree.reveal(Te.parent),yield this._tree.expand(Te.parent),this._tree.reveal(Te));const Nt=yield ut;if(!this._model){Nt.dispose();return}(0,j.B9)(this._previewModelReference);const Be=Nt.object;if(Be){const Ze=this._preview.getModel()===Be.textEditorModel?0:1,wt=B.e.lift(Te.range).collapseToStart();this._previewModelReference=Nt,this._preview.setModel(Be.textEditorModel),this._preview.setSelection(wt),this._preview.revealRangeInCenter(wt,Ze)}else this._preview.setModel(this._previewNotAvailableMessage),Nt.dispose()})}};qt=We([it(3,me.XE),it(4,X.S),it(5,m.TG),it(6,H.Fw),it(7,G.e),it(8,bt.tJ),it(9,W.d),it(10,se.O),it(11,ae.c_)],qt);var Ft=function(Ge,Te,Ke,ut){var Nt=arguments.length,Be=Nt<3?Te:ut===null?ut=Object.getOwnPropertyDescriptor(Te,Ke):ut,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(Ge,Te,Ke,ut);else for(var wt=Ge.length-1;wt>=0;wt--)(Ze=Ge[wt])&&(Be=(Nt<3?Ze(Be):Nt>3?Ze(Te,Ke,Be):Ze(Te,Ke))||Be);return Nt>3&&Be&&Object.defineProperty(Te,Ke,Be),Be},Ot=function(Ge,Te){return function(Ke,ut){Te(Ke,ut,Ge)}},Mt=function(Ge,Te,Ke,ut){function Nt(Be){return Be instanceof Ke?Be:new Ke(function(Ze){Ze(Be)})}return new(Ke||(Ke=Promise))(function(Be,Ze){function wt(Jt){try{_t(ut.next(Jt))}catch(Zt){Ze(Zt)}}function $t(Jt){try{_t(ut.throw(Jt))}catch(Zt){Ze(Zt)}}function _t(Jt){Jt.done?Be(Jt.value):Nt(Jt.value).then(wt,$t)}_t((ut=ut.apply(Ge,Te||[])).next())})};const ni=new C.uy("referenceSearchVisible",!1,O.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Gt=class dh{constructor(Te,Ke,ut,Nt,Be,Ze,wt,$t){this._defaultTreeKeyboardSupport=Te,this._editor=Ke,this._editorService=Nt,this._notificationService=Be,this._instantiationService=Ze,this._storageService=wt,this._configurationService=$t,this._disposables=new j.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ni.bindTo(ut)}static get(Te){return Te.getContribution(dh.ID)}dispose(){var Te,Ke;this._referenceSearchVisible.reset(),this._disposables.dispose(),(Te=this._widget)===null||Te===void 0||Te.dispose(),(Ke=this._model)===null||Ke===void 0||Ke.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(Te,Ke,ut){let Nt;if(this._widget&&(Nt=this._widget.position),this.closeWidget(),Nt&&Te.containsPosition(Nt))return;this._peekMode=ut,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const Be="peekViewLayout",Ze=ft.fromJSON(this._storageService.get(Be,0,"{}"));this._widget=this._instantiationService.createInstance(qt,this._editor,this._defaultTreeKeyboardSupport,Ze),this._widget.setTitle(O.NC("labelLoading","Loading...")),this._widget.show(Te),this._disposables.add(this._widget.onDidClose(()=>{Ke.cancel(),this._widget&&(this._storageService.store(Be,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference($t=>{const{element:_t,kind:Jt}=$t;if(_t)switch(Jt){case"open":($t.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(_t,!1,!1);break;case"side":this.openReference(_t,!0,!1);break;case"goto":ut?this._gotoReference(_t):this.openReference(_t,!1,!0);break}}));const wt=++this._requestIdPool;Ke.then($t=>{var _t;if(wt!==this._requestIdPool||!this._widget){$t.dispose();return}return(_t=this._model)===null||_t===void 0||_t.dispose(),this._model=$t,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(O.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const Jt=this._editor.getModel().uri,Zt=new Z.L(Te.startLineNumber,Te.startColumn),Xe=this._model.nearestReference(Jt,Zt);if(Xe)return this._widget.setSelection(Xe).then(()=>{this._widget&&this._editor.getOption(79)==="editor"&&this._widget.focusOnPreviewEditor()})}})},$t=>{this._notificationService.error($t)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(Te){return Mt(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const Ke=this._widget.position;if(!Ke)return;const ut=this._model.nearestReference(this._editor.getModel().uri,Ke);if(!ut)return;const Nt=this._model.nextOrPreviousReference(ut,Te),Be=this._editor.hasTextFocus(),Ze=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(Nt),yield this._gotoReference(Nt),Be?this._editor.focus():this._widget&&Ze&&this._widget.focusOnPreviewEditor()})}revealReference(Te){return Mt(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(Te))})}closeWidget(Te=!0){var Ke,ut;(Ke=this._widget)===null||Ke===void 0||Ke.dispose(),(ut=this._model)===null||ut===void 0||ut.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,Te&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(Te){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const Ke=B.e.lift(Te.range).collapseToStart();return this._editorService.openCodeEditor({resource:Te.uri,options:{selection:Ke,selectionSource:"code.jump"}},this._editor).then(ut=>{var Nt;if(this._ignoreModelChangeEvent=!1,!ut||!this._widget){this.closeWidget();return}if(this._editor===ut)this._widget.show(Ke),this._widget.focusOnReferenceTree();else{const Be=dh.get(ut),Ze=this._model.clone();this.closeWidget(),ut.focus(),Be?.toggleWidget(Ke,(0,b.PG)(wt=>Promise.resolve(Ze)),(Nt=this._peekMode)!==null&&Nt!==void 0?Nt:!1)}},ut=>{this._ignoreModelChangeEvent=!1,(0,l.dL)(ut)})}openReference(Te,Ke,ut){Ke||this.closeWidget();const{uri:Nt,range:Be}=Te;this._editorService.openCodeEditor({resource:Nt,options:{selection:Be,selectionSource:"code.jump",pinned:ut}},this._editor,Ke)}};Gt.ID="editor.contrib.referencesController",Gt=Ft([Ot(2,C.i6),Ot(3,E.$),Ot(4,_.lT),Ot(5,m.TG),Ot(6,v.Uy),Ot(7,g.Ui)],Gt);function Fe(Ge,Te){const Ke=(0,H.rc)(Ge);if(!Ke)return;const ut=Gt.get(Ke);ut&&Te(ut)}i.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,z.gx)(2089,60),when:C.Ao.or(ni,H.Jy.inPeekEditor),handler(Ge){Fe(Ge,Te=>{Te.changeFocusBetweenPreviewAndReferences()})}}),i.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:C.Ao.or(ni,H.Jy.inPeekEditor),handler(Ge){Fe(Ge,Te=>{Te.goToNextOrPreviousReference(!0)})}}),i.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:C.Ao.or(ni,H.Jy.inPeekEditor),handler(Ge){Fe(Ge,Te=>{Te.goToNextOrPreviousReference(!1)})}}),y.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),y.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),y.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),y.P0.registerCommand("closeReferenceSearch",Ge=>Fe(Ge,Te=>Te.closeWidget())),i.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:C.Ao.and(H.Jy.inPeekEditor,C.Ao.not("config.editor.stablePeek"))}),i.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:C.Ao.and(ni,C.Ao.not("config.editor.stablePeek"))}),i.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:C.Ao.and(ni,d.CQ,d.PS.negate(),d.uJ.negate()),handler(Ge){var Te;const ut=(Te=Ge.get(d.Lw).lastFocusedList)===null||Te===void 0?void 0:Te.getFocus();Array.isArray(ut)&&ut[0]instanceof p.WX&&Fe(Ge,Nt=>Nt.revealReference(ut[0]))}}),i.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:C.Ao.and(ni,d.CQ,d.PS.negate(),d.uJ.negate()),handler(Ge){var Te;const ut=(Te=Ge.get(d.Lw).lastFocusedList)===null||Te===void 0?void 0:Te.getFocus();Array.isArray(ut)&&ut[0]instanceof p.WX&&Fe(Ge,Nt=>Nt.openReference(ut[0],!0,!0))}}),y.P0.registerCommand("openReference",Ge=>{var Te;const ut=(Te=Ge.get(d.Lw).lastFocusedList)===null||Te===void 0?void 0:Te.getFocus();Array.isArray(ut)&&ut[0]instanceof p.WX&&Fe(Ge,Nt=>Nt.openReference(ut[0],!1,!0))})},1293:function(Yt,Ye,s){"use strict";s.d(Ye,{F2:function(){return m},WX:function(){return g},oQ:function(){return i}});var b=s(17301),l=s(4669),z=s(44742),j=s(5976),E=s(43702),Z=s(95935),B=s(97295),H=s(24314),O=s(63580),y=function(d,_,v,p){function L(T){return T instanceof v?T:new v(function(M){M(T)})}return new(v||(v=Promise))(function(T,M){function I($){try{V(p.next($))}catch(re){M(re)}}function P($){try{V(p.throw($))}catch(re){M(re)}}function V($){$.done?T($.value):L($.value).then(I,P)}V((p=p.apply(d,_||[])).next())})};class g{constructor(_,v,p,L){this.isProviderFirst=_,this.parent=v,this.link=p,this._rangeCallback=L,this.id=z.a.nextId()}get uri(){return this.link.uri}get range(){var _,v;return(v=(_=this._range)!==null&&_!==void 0?_:this.link.targetSelectionRange)!==null&&v!==void 0?v:this.link.range}set range(_){this._range=_,this._rangeCallback(this)}get ariaMessage(){var _;const v=(_=this.parent.getPreview(this))===null||_===void 0?void 0:_.preview(this.range);return v?(0,O.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,Z.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,v.value):(0,O.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,Z.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class C{constructor(_){this._modelReference=_}dispose(){this._modelReference.dispose()}preview(_,v=8){const p=this._modelReference.object.textEditorModel;if(!p)return;const{startLineNumber:L,startColumn:T,endLineNumber:M,endColumn:I}=_,P=p.getWordUntilPosition({lineNumber:L,column:T-v}),V=new H.e(L,P.startColumn,L,T),$=new H.e(M,I,M,1073741824),re=p.getValueInRange(V).replace(/^\s+/,""),ae=p.getValueInRange(_),ie=p.getValueInRange($).replace(/\s+$/,"");return{value:re+ae+ie,highlight:{start:re.length,end:re.length+ae.length}}}}class m{constructor(_,v){this.parent=_,this.uri=v,this.children=[],this._previews=new E.Y9}dispose(){(0,j.B9)(this._previews.values()),this._previews.clear()}getPreview(_){return this._previews.get(_.uri)}get ariaMessage(){const _=this.children.length;return _===1?(0,O.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,Z.EZ)(this.uri),this.uri.fsPath):(0,O.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",_,(0,Z.EZ)(this.uri),this.uri.fsPath)}resolve(_){return y(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const v of this.children)if(!this._previews.has(v.uri))try{const p=yield _.createModelReference(v.uri);this._previews.set(v.uri,new C(p))}catch(p){(0,b.dL)(p)}return this})}}class i{constructor(_,v){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new l.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=_,this._title=v;const[p]=_;_.sort(i._compareReferences);let L;for(const T of _)if((!L||!Z.SF.isEqual(L.uri,T.uri,!0))&&(L=new m(this,T.uri),this.groups.push(L)),L.children.length===0||i._compareReferences(T,L.children[L.children.length-1])!==0){const M=new g(p===T,L,T,I=>this._onDidChangeReferenceRange.fire(I));this.references.push(M),L.children.push(M)}}dispose(){(0,j.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new i(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,O.NC)("aria.result.0","No results found"):this.references.length===1?(0,O.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,O.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,O.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(_,v){const{parent:p}=_;let L=p.children.indexOf(_);const T=p.children.length,M=p.parent.groups.length;return M===1||v&&L+1<T||!v&&L>0?(v?L=(L+1)%T:L=(L+T-1)%T,p.children[L]):(L=p.parent.groups.indexOf(p),v?(L=(L+1)%M,p.parent.groups[L].children[0]):(L=(L+M-1)%M,p.parent.groups[L].children[p.parent.groups[L].children.length-1]))}nearestReference(_,v){const p=this.references.map((L,T)=>({idx:T,prefixLen:B.Mh(L.uri.toString(),_.toString()),offsetDist:Math.abs(L.range.startLineNumber-v.lineNumber)*100+Math.abs(L.range.startColumn-v.column)})).sort((L,T)=>L.prefixLen>T.prefixLen?-1:L.prefixLen<T.prefixLen?1:L.offsetDist<T.offsetDist?-1:L.offsetDist>T.offsetDist?1:0)[0];if(p)return this.references[p.idx]}referenceAt(_,v){for(const p of this.references)if(p.uri.toString()===_.toString()&&H.e.containsPosition(p.range,v))return p}firstReference(){for(const _ of this.references)if(_.isProviderFirst)return _;return this.references[0]}static _compareReferences(_,v){return Z.SF.compare(_.uri,v.uri)||H.e.compareRangesUsingStarts(_.range,v.range)}}},41095:function(Yt,Ye,s){"use strict";s.d(Ye,{R8:function(){return O}});var b=s(15393),l=s(71050),z=s(17301),j=s(16830),E=s(71922),Z=function(C,m,i,d){function _(v){return v instanceof i?v:new i(function(p){p(v)})}return new(i||(i=Promise))(function(v,p){function L(I){try{M(d.next(I))}catch(P){p(P)}}function T(I){try{M(d.throw(I))}catch(P){p(P)}}function M(I){I.done?v(I.value):_(I.value).then(L,T)}M((d=d.apply(C,m||[])).next())})};class B{constructor(m,i,d){this.provider=m,this.hover=i,this.ordinal=d}}function H(C,m,i,d,_){return Z(this,void 0,void 0,function*(){try{const v=yield Promise.resolve(C.provideHover(i,d,_));if(v&&g(v))return new B(C,v,m)}catch(v){(0,z.Cp)(v)}})}function O(C,m,i,d){const v=C.ordered(m).map((p,L)=>H(p,L,m,i,d));return b.Aq.fromPromises(v).coalesce()}function y(C,m,i,d){return O(C,m,i,d).map(_=>_.hover).toPromise()}(0,j.sb)("_executeHoverProvider",(C,m,i)=>{const d=C.get(E.p);return y(d.hoverProvider,m,i,l.T.None)});function g(C){const m=typeof C.range<"u",i=typeof C.contents<"u"&&C.contents&&C.contents.length>0;return m&&i}},78182:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{ModesHoverController:function(){return Te}});var b=s(22258),l=s(5976),z=s(16830),j=s(24314),E=s(29102),Z=s(72042),B=s(56334),H=s(65321),O=s(59069),y=s(13433);const g=H.$;class C extends l.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new y.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class m extends l.JT{constructor(Be,Ze,wt){super(),this.actionContainer=H.R3(Be,g("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=H.R3(this.actionContainer,g("a.action")),this.action.setAttribute("role","button"),Ze.iconClass&&H.R3(this.action,g(`span.icon.${Ze.iconClass}`));const $t=H.R3(this.action,g("span"));$t.textContent=wt?`${Ze.label} (${wt})`:Ze.label,this._register(H.nm(this.actionContainer,H.tw.CLICK,_t=>{_t.stopPropagation(),_t.preventDefault(),Ze.run(this.actionContainer)})),this._register(H.nm(this.actionContainer,H.tw.KEY_UP,_t=>{new O.y(_t).equals(3)&&(_t.stopPropagation(),_t.preventDefault(),Ze.run(this.actionContainer))})),this.setEnabled(!0)}static render(Be,Ze,wt){return new m(Be,Ze,wt)}setEnabled(Be){Be?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var i=s(9488),d=s(50187),_=s(22529),v=s(43155),p=s(15393),L=s(17301),T=s(4669),M=function(Nt,Be,Ze,wt){function $t(_t){return _t instanceof Ze?_t:new Ze(function(Jt){Jt(_t)})}return new(Ze||(Ze=Promise))(function(_t,Jt){function Zt(mi){try{Lt(wt.next(mi))}catch(jt){Jt(jt)}}function Xe(mi){try{Lt(wt.throw(mi))}catch(jt){Jt(jt)}}function Lt(mi){mi.done?_t(mi.value):$t(mi.value).then(Zt,Xe)}Lt((wt=wt.apply(Nt,Be||[])).next())})},I=function(Nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be=Nt[Symbol.asyncIterator],Ze;return Be?Be.call(Nt):(Nt=typeof __values=="function"?__values(Nt):Nt[Symbol.iterator](),Ze={},wt("next"),wt("throw"),wt("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function wt(_t){Ze[_t]=Nt[_t]&&function(Jt){return new Promise(function(Zt,Xe){Jt=Nt[_t](Jt),$t(Zt,Xe,Jt.done,Jt.value)})}}function $t(_t,Jt,Zt,Xe){Promise.resolve(Xe).then(function(Lt){_t({value:Lt,done:Zt})},Jt)}};class P{constructor(Be,Ze,wt){this.value=Be,this.isComplete=Ze,this.hasLoadingMessage=wt}}class V extends l.JT{constructor(Be,Ze){super(),this._editor=Be,this._computer=Ze,this._onResult=this._register(new T.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new p.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new p.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new p.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(Be,Ze=!0){this._state=Be,Ze&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,p.zS)(Be=>this._computer.computeAsync(Be)),M(this,void 0,void 0,function*(){var Be,Ze;try{try{for(var wt=I(this._asyncIterable),$t;$t=yield wt.next(),!$t.done;){const _t=$t.value;_t&&(this._result.push(_t),this._fireResult())}}catch(_t){Be={error:_t}}finally{try{$t&&!$t.done&&(Ze=wt.return)&&(yield Ze.call(wt))}finally{if(Be)throw Be.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(_t){(0,L.dL)(_t)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const Be=this._state===0,Ze=this._state===4;this._onResult.fire(new P(this._result.slice(0),Be,Ze))}start(Be){if(Be===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var $=s(66520),re=s(38819),ae=s(72065),ie=s(91847),se=s(55621),X=function(Nt,Be,Ze,wt){var $t=arguments.length,_t=$t<3?Be:wt===null?wt=Object.getOwnPropertyDescriptor(Be,Ze):wt,Jt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(Nt,Be,Ze,wt);else for(var Zt=Nt.length-1;Zt>=0;Zt--)(Jt=Nt[Zt])&&(_t=($t<3?Jt(_t):$t>3?Jt(Be,Ze,_t):Jt(Be,Ze))||_t);return $t>3&&_t&&Object.defineProperty(Be,Ze,_t),_t},ne=function(Nt,Be){return function(Ze,wt){Be(Ze,wt,Nt)}};const Q=H.$;let F=class uh extends l.JT{constructor(Be,Ze,wt){super(),this._editor=Be,this._instantiationService=Ze,this._keybindingService=wt,this._widget=this._register(this._instantiationService.createInstance(W,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const $t of $.Ae.getAll())this._participants.push(this._instantiationService.createInstance($t,this._editor));this._participants.sort(($t,_t)=>$t.hoverOrdinal-_t.hoverOrdinal),this._computer=new q(this._editor,this._participants),this._hoverOperation=this._register(new V(this._editor,this._computer)),this._register(this._hoverOperation.onResult($t=>{this._withResult($t.value,$t.isComplete,$t.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(H.mu(this._widget.getDomNode(),"keydown",$t=>{$t.equals(9)&&this.hide()})),this._register(v.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(Be){const Ze=[];for(const $t of this._participants)if($t.suggestHoverAnchor){const _t=$t.suggestHoverAnchor(Be);_t&&Ze.push(_t)}const wt=Be.target;if(wt.type===6&&Ze.push(new $.Qj(0,wt.range)),wt.type===7){const $t=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!wt.detail.isAfterLines&&typeof wt.detail.horizontalDistanceToText=="number"&&wt.detail.horizontalDistanceToText<$t&&Ze.push(new $.Qj(0,wt.range))}return Ze.length===0?!1:(Ze.sort(($t,_t)=>_t.priority-$t.priority),this._startShowingAt(Ze[0],0,!1),!0)}startShowingAtRange(Be,Ze,wt){this._startShowingAt(new $.Qj(0,Be),Ze,wt)}_startShowingAt(Be,Ze,wt){if(!(this._computer.anchor&&this._computer.anchor.equals(Be))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!Be.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const $t=this._messages.filter(_t=>_t.isValidForHoverAnchor(Be));if($t.length===0)this.hide();else{if($t.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(Be,$t)}}this._computer.anchor=Be,this._computer.shouldFocus=wt,this._hoverOperation.start(Ze)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(Be){return this._widget.getDomNode().contains(Be)}_addLoadingMessage(Be){if(this._computer.anchor){for(const Ze of this._participants)if(Ze.createLoadingMessage){const wt=Ze.createLoadingMessage(this._computer.anchor);if(wt)return Be.slice(0).concat([wt])}}return Be}_withResult(Be,Ze,wt){this._messages=wt?this._addLoadingMessage(Be):Be,this._messagesAreComplete=Ze,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):Ze&&this.hide()}_renderMessages(Be,Ze){const{showAtPosition:wt,showAtRange:$t,highlightRange:_t}=uh.computeHoverRanges(Be.range,Ze),Jt=new l.SL,Zt=Jt.add(new G(this._keybindingService)),Xe=document.createDocumentFragment();let Lt=null;const mi={fragment:Xe,statusBar:Zt,setColorPicker:jt=>Lt=jt,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const jt of this._participants){const ki=Ze.filter(Pi=>Pi.owner===jt);ki.length>0&&Jt.add(jt.renderHoverParts(mi,ki))}if(Zt.hasContent&&Xe.appendChild(Zt.hoverElement),Xe.hasChildNodes()){if(_t){const jt=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,jt.set([{range:_t,options:uh._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}Jt.add((0,l.OF)(()=>{try{this._isChangingDecorations=!0,jt.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(Xe,new te(Lt,wt,$t,this._editor.getOption(55).above,this._computer.shouldFocus,Jt))}else Jt.dispose()}static computeHoverRanges(Be,Ze){const wt=Be.startLineNumber;let $t=Be.startColumn,_t=Be.endColumn,Jt=Ze[0].range,Zt=null;for(const Xe of Ze)Jt=j.e.plusRange(Jt,Xe.range),Xe.range.startLineNumber===wt&&Xe.range.endLineNumber===wt&&($t=Math.min($t,Xe.range.startColumn),_t=Math.max(_t,Xe.range.endColumn)),Xe.forceShowAtRange&&(Zt=Xe.range);return{showAtPosition:Zt?Zt.getStartPosition():new d.L(Be.startLineNumber,$t),showAtRange:Zt||new j.e(wt,$t,wt,_t),highlightRange:Jt}}};F._DECORATION_OPTIONS=_.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),F=X([ne(1,ae.TG),ne(2,ie.d)],F);class te{constructor(Be,Ze,wt,$t,_t,Jt){this.colorPicker=Be,this.showAtPosition=Ze,this.showAtRange=wt,this.preferAbove=$t,this.stoleFocus=_t,this.disposables=Jt}}let W=class Xh extends l.JT{constructor(Be,Ze){super(),this._editor=Be,this._contextKeyService=Ze,this.allowEditorOverflow=!0,this._hoverVisibleKey=E.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new C),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(wt=>{wt.hasChanged(46)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var Be,Ze;return(Ze=(Be=this._visibleData)===null||Be===void 0?void 0:Be.showAtPosition)!==null&&Ze!==void 0?Ze:null}get isColorPickerVisible(){var Be;return!!(!((Be=this._visibleData)===null||Be===void 0)&&Be.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return Xh.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let Be=this._visibleData.preferAbove;return!Be&&this._contextKeyService.getContextKeyValue(se._y.Visible.key)&&(Be=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:Be?[1,2]:[2,1]}}_setVisibleData(Be){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=Be,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const Be=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:Ze,lineHeight:wt}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${Ze}px`,this._hover.contentsDomNode.style.lineHeight=`${wt/Ze}`,this._hover.contentsDomNode.style.maxHeight=`${Be}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Ze=>this._editor.applyFontInfo(Ze))}showAt(Be,Ze){this._setVisibleData(Ze),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(Be),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),Ze.stoleFocus&&this._hover.containerDomNode.focus(),Ze.colorPicker&&Ze.colorPicker.layout()}hide(){if(this._visibleData){const Be=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),Be&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const Be=this._hover.scrollbar.getScrollDimensions();if(Be.scrollWidth>Be.width){const wt=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==wt&&(this._hover.contentsDomNode.style.paddingBottom=wt,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};W.ID="editor.contrib.contentHoverWidget",W=X([ne(1,re.i6)],W);let G=class extends l.JT{constructor(Be){super(),this._keybindingService=Be,this._hasContent=!1,this.hoverElement=Q("div.hover-row.status-bar"),this.actionsElement=H.R3(this.hoverElement,Q("div.actions"))}get hasContent(){return this._hasContent}addAction(Be){const Ze=this._keybindingService.lookupKeybinding(Be.commandId),wt=Ze?Ze.getLabel():null;return this._hasContent=!0,this._register(m.render(this.actionsElement,Be,wt))}append(Be){const Ze=H.R3(this.actionsElement,Be);return this._hasContent=!0,Ze}};G=X([ne(0,ie.d)],G);class q{constructor(Be,Ze){this._editor=Be,this._participants=Ze,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(Be){this._anchor=Be}get shouldFocus(){return this._shouldFocus}set shouldFocus(Be){this._shouldFocus=Be}static _getLineDecorations(Be,Ze){if(Ze.type!==1)return[];const wt=Be.getModel(),$t=Ze.range.startLineNumber;if($t>wt.getLineCount())return[];const _t=wt.getLineMaxColumn($t);return Be.getLineDecorations($t).filter(Jt=>{if(Jt.options.isWholeLine)return!0;const Zt=Jt.range.startLineNumber===$t?Jt.range.startColumn:1,Xe=Jt.range.endLineNumber===$t?Jt.range.endColumn:_t;if(Jt.options.showIfCollapsed){if(Zt>Ze.range.startColumn+1||Ze.range.endColumn-1>Xe)return!1}else if(Zt>Ze.range.startColumn||Ze.range.endColumn>Xe)return!1;return!0})}computeAsync(Be){const Ze=this._anchor;if(!this._editor.hasModel()||!Ze)return p.Aq.EMPTY;const wt=q._getLineDecorations(this._editor,Ze);return p.Aq.merge(this._participants.map($t=>$t.computeAsync?$t.computeAsync(Ze,wt,Be):p.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const Be=q._getLineDecorations(this._editor,this._anchor);let Ze=[];for(const wt of this._participants)Ze=Ze.concat(wt.computeSync(this._anchor,Be));return(0,i.kX)(Ze)}}var me=s(59365),w=s(51318),we=s(50988);const xe=H.$;class Ne extends l.JT{constructor(Be,Ze,wt=we.SW){super(),this._renderDisposeables=this._register(new l.SL),this._editor=Be,this._isVisible=!1,this._messages=[],this._hover=this._register(new C),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new w.$({editor:this._editor},Ze,wt)),this._computer=new Ve(this._editor),this._hoverOperation=this._register(new V(this._editor,this._computer)),this._register(this._hoverOperation.onResult($t=>{this._withResult($t.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration($t=>{$t.hasChanged(46)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Ne.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Ze=>this._editor.applyFontInfo(Ze))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(Be){this._computer.lineNumber!==Be&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=Be,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(Be){this._messages=Be,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(Be,Ze){this._renderDisposeables.clear();const wt=document.createDocumentFragment();for(const $t of Ze){const _t=xe("div.hover-row.markdown-hover"),Jt=H.R3(_t,xe("div.hover-contents")),Zt=this._renderDisposeables.add(this._markdownRenderer.render($t.value));Jt.appendChild(Zt.element),wt.appendChild(_t)}this._updateContents(wt),this._showAt(Be)}_updateContents(Be){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(Be),this._updateFont()}_showAt(Be){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const Ze=this._editor.getLayoutInfo(),wt=this._editor.getTopForLineNumber(Be),$t=this._editor.getScrollTop(),_t=this._editor.getOption(61),Jt=this._hover.containerDomNode.clientHeight,Zt=wt-$t-(Jt-_t)/2;this._hover.containerDomNode.style.left=`${Ze.glyphMarginLeft+Ze.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(Zt),0)}px`}}Ne.ID="editor.contrib.modesGlyphHoverWidget";class Ve{constructor(Be){this._editor=Be,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(Be){this._lineNumber=Be}computeSync(){const Be=$t=>({value:$t}),Ze=this._editor.getLineDecorations(this._lineNumber),wt=[];if(!Ze)return wt;for(const $t of Ze){if(!$t.options.glyphMarginClassName)continue;const _t=$t.options.glyphMarginHoverMessage;!_t||(0,me.CP)(_t)||wt.push(...(0,i._2)(_t).map(Be))}return wt}}var Ce=s(63580),Ae=s(73910),$e=s(97781),je=s(22374),at=s(95935),pt=s(36357),bt=s(75396),We=s(3141),it=s(76014),pe=s(20347),ye=s(98674),ft=s(90535),Xt=s(71922),qt=function(Nt,Be,Ze,wt){var $t=arguments.length,_t=$t<3?Be:wt===null?wt=Object.getOwnPropertyDescriptor(Be,Ze):wt,Jt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(Nt,Be,Ze,wt);else for(var Zt=Nt.length-1;Zt>=0;Zt--)(Jt=Nt[Zt])&&(_t=($t<3?Jt(_t):$t>3?Jt(Be,Ze,_t):Jt(Be,Ze))||_t);return $t>3&&_t&&Object.defineProperty(Be,Ze,_t),_t},Ft=function(Nt,Be){return function(Ze,wt){Be(Ze,wt,Nt)}};const Ot=H.$;class Mt{constructor(Be,Ze,wt){this.owner=Be,this.range=Ze,this.marker=wt}isValidForHoverAnchor(Be){return Be.type===1&&this.range.startColumn<=Be.range.startColumn&&this.range.endColumn>=Be.range.endColumn}}const ni={type:1,filter:{include:it.yN.QuickFix},triggerAction:it.aQ.QuickFixHover};let Gt=class{constructor(Be,Ze,wt,$t){this._editor=Be,this._markerDecorationsService=Ze,this._openerService=wt,this._languageFeaturesService=$t,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(Be,Ze){if(!this._editor.hasModel()||Be.type!==1)return[];const wt=this._editor.getModel(),$t=Be.range.startLineNumber,_t=wt.getLineMaxColumn($t),Jt=[];for(const Zt of Ze){const Xe=Zt.range.startLineNumber===$t?Zt.range.startColumn:1,Lt=Zt.range.endLineNumber===$t?Zt.range.endColumn:_t,mi=this._markerDecorationsService.getMarker(wt.uri,Zt);if(!mi)continue;const jt=new j.e(Be.range.startLineNumber,Xe,Be.range.startLineNumber,Lt);Jt.push(new Mt(this,jt,mi))}return Jt}renderHoverParts(Be,Ze){if(!Ze.length)return l.JT.None;const wt=new l.SL;Ze.forEach(_t=>Be.fragment.appendChild(this.renderMarkerHover(_t,wt)));const $t=Ze.length===1?Ze[0]:Ze.sort((_t,Jt)=>ye.ZL.compare(_t.marker.severity,Jt.marker.severity))[0];return this.renderMarkerStatusbar(Be,$t,wt),wt}renderMarkerHover(Be,Ze){const wt=Ot("div.hover-row"),$t=H.R3(wt,Ot("div.marker.hover-contents")),{source:_t,message:Jt,code:Zt,relatedInformation:Xe}=Be.marker;this._editor.applyFontInfo($t);const Lt=H.R3($t,Ot("span"));if(Lt.style.whiteSpace="pre-wrap",Lt.innerText=Jt,_t||Zt)if(Zt&&typeof Zt!="string"){const mi=Ot("span");if(_t){const gt=H.R3(mi,Ot("span"));gt.innerText=_t}const jt=H.R3(mi,Ot("a.code-link"));jt.setAttribute("href",Zt.target.toString()),Ze.add(H.nm(jt,"click",gt=>{this._openerService.open(Zt.target,{allowCommands:!0}),gt.preventDefault(),gt.stopPropagation()}));const ki=H.R3(jt,Ot("span"));ki.innerText=Zt.value;const Pi=H.R3($t,mi);Pi.style.opacity="0.6",Pi.style.paddingLeft="6px"}else{const mi=H.R3($t,Ot("span"));mi.style.opacity="0.6",mi.style.paddingLeft="6px",mi.innerText=_t&&Zt?`${_t}(${Zt})`:_t||`(${Zt})`}if((0,i.Of)(Xe))for(const{message:mi,resource:jt,startLineNumber:ki,startColumn:Pi}of Xe){const gt=H.R3($t,Ot("div"));gt.style.marginTop="8px";const St=H.R3(gt,Ot("a"));St.innerText=`${(0,at.EZ)(jt)}(${ki}, ${Pi}): `,St.style.cursor="pointer",Ze.add(H.nm(St,"click",Ri=>{Ri.stopPropagation(),Ri.preventDefault(),this._openerService&&this._openerService.open(jt,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:ki,startColumn:Pi}}}).catch(L.dL)}));const ii=H.R3(gt,Ot("span"));ii.innerText=mi,this._editor.applyFontInfo(ii)}return wt}renderMarkerStatusbar(Be,Ze,wt){if((Ze.marker.severity===ye.ZL.Error||Ze.marker.severity===ye.ZL.Warning||Ze.marker.severity===ye.ZL.Info)&&Be.statusBar.addAction({label:Ce.NC("view problem","View Problem"),commandId:pe.v.ID,run:()=>{var $t;Be.hide(),($t=pe.c.get(this._editor))===null||$t===void 0||$t.showAtMarker(Ze.marker),this._editor.focus()}}),!this._editor.getOption(83)){const $t=Be.statusBar.append(Ot("div"));this.recentMarkerCodeActionsInfo&&(ye.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===ye.H0.makeKey(Ze.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||($t.textContent=Ce.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const _t=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?l.JT.None:wt.add((0,p.Vg)(()=>$t.textContent=Ce.NC("checkingForQuickFixes","Checking for quick fixes..."),200));$t.textContent||($t.textContent="\xA0");const Jt=this.getCodeActions(Ze.marker);wt.add((0,l.OF)(()=>Jt.cancel())),Jt.then(Zt=>{if(_t.dispose(),this.recentMarkerCodeActionsInfo={marker:Ze.marker,hasCodeActions:Zt.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){Zt.dispose(),$t.textContent=Ce.NC("noQuickFixes","No quick fixes available");return}$t.style.display="none";let Xe=!1;wt.add((0,l.OF)(()=>{Xe||Zt.dispose()})),Be.statusBar.addAction({label:Ce.NC("quick fixes","Quick Fix..."),commandId:We.E7.Id,run:Lt=>{Xe=!0;const mi=We.pY.get(this._editor),jt=H.i(Lt);Be.hide(),mi?.showCodeActions(ni,Zt,{x:jt.left+6,y:jt.top+jt.height+6,width:jt.width,height:jt.height})}})},L.dL)}}getCodeActions(Be){return(0,p.PG)(Ze=>(0,bt.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new j.e(Be.startLineNumber,Be.startColumn,Be.endLineNumber,Be.endColumn),ni,ft.Ex.None,Ze))}};Gt=qt([Ft(1,pt.i),Ft(2,we.v4),Ft(3,Xt.p)],Gt),(0,$e.Ic)((Nt,Be)=>{const Ze=Nt.getColor(Ae.url);Ze&&Be.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${Ze}; }`);const wt=Nt.getColor(Ae.sgC);wt&&Be.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${wt}; }`)});var Fe=function(Nt,Be,Ze,wt){var $t=arguments.length,_t=$t<3?Be:wt===null?wt=Object.getOwnPropertyDescriptor(Be,Ze):wt,Jt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(Nt,Be,Ze,wt);else for(var Zt=Nt.length-1;Zt>=0;Zt--)(Jt=Nt[Zt])&&(_t=($t<3?Jt(_t):$t>3?Jt(Be,Ze,_t):Jt(Be,Ze))||_t);return $t>3&&_t&&Object.defineProperty(Be,Ze,_t),_t},Ge=function(Nt,Be){return function(Ze,wt){Be(Ze,wt,Nt)}};let Te=class Jh{constructor(Be,Ze,wt,$t,_t){this._editor=Be,this._instantiationService=Ze,this._openerService=wt,this._languageService=$t,this._toUnhook=new l.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(Jt=>{Jt.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())})}static get(Be){return Be.getContribution(Jh.ID)}_hookEvents(){const Be=()=>this._hideWidgets(),Ze=this._editor.getOption(55);this._isHoverEnabled=Ze.enabled,this._isHoverSticky=Ze.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(wt=>this._onEditorMouseDown(wt))),this._toUnhook.add(this._editor.onMouseUp(wt=>this._onEditorMouseUp(wt))),this._toUnhook.add(this._editor.onMouseMove(wt=>this._onEditorMouseMove(wt))),this._toUnhook.add(this._editor.onKeyDown(wt=>this._onKeyDown(wt)))):(this._toUnhook.add(this._editor.onMouseMove(wt=>this._onEditorMouseMove(wt))),this._toUnhook.add(this._editor.onKeyDown(wt=>this._onKeyDown(wt)))),this._toUnhook.add(this._editor.onMouseLeave(wt=>this._onEditorMouseLeave(wt))),this._toUnhook.add(this._editor.onDidChangeModel(Be)),this._toUnhook.add(this._editor.onDidScrollChange(wt=>this._onEditorScrollChanged(wt)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(Be){(Be.scrollTopChanged||Be.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(Be){this._isMouseDown=!0;const Ze=Be.target;if(Ze.type===9&&Ze.detail===W.ID){this._hoverClicked=!0;return}Ze.type===12&&Ze.detail===Ne.ID||(Ze.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(Be){this._isMouseDown=!1}_onEditorMouseLeave(Be){var Ze;const wt=Be.event.browserEvent.relatedTarget;!((Ze=this._contentWidget)===null||Ze===void 0)&&Ze.containsNode(wt)||this._hideWidgets()}_onEditorMouseMove(Be){var Ze,wt,$t,_t,Jt;const Zt=Be.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&Zt.type===9&&Zt.detail===W.ID||this._isHoverSticky&&!(!((wt=(Ze=Be.event.browserEvent.view)===null||Ze===void 0?void 0:Ze.getSelection())===null||wt===void 0)&&wt.isCollapsed)||!this._isHoverSticky&&Zt.type===9&&Zt.detail===W.ID&&(!(($t=this._contentWidget)===null||$t===void 0)&&$t.isColorPickerVisible())||this._isHoverSticky&&Zt.type===12&&Zt.detail===Ne.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(Be)){(_t=this._glyphWidget)===null||_t===void 0||_t.hide();return}if(Zt.type===2&&Zt.position){(Jt=this._contentWidget)===null||Jt===void 0||Jt.hide(),this._glyphWidget||(this._glyphWidget=new Ne(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(Zt.position.lineNumber);return}this._hideWidgets()}_onKeyDown(Be){Be.keyCode!==5&&Be.keyCode!==6&&Be.keyCode!==57&&Be.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var Be,Ze,wt;this._isMouseDown&&this._hoverClicked&&(!((Be=this._contentWidget)===null||Be===void 0)&&Be.isColorPickerVisible())||(this._hoverClicked=!1,(Ze=this._glyphWidget)===null||Ze===void 0||Ze.hide(),(wt=this._contentWidget)===null||wt===void 0||wt.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(F,this._editor)),this._contentWidget}isColorPickerVisible(){var Be;return((Be=this._contentWidget)===null||Be===void 0?void 0:Be.isColorPickerVisible())||!1}showContentHover(Be,Ze,wt){this._getOrCreateContentWidget().startShowingAtRange(Be,Ze,wt)}dispose(){var Be,Ze;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(Be=this._glyphWidget)===null||Be===void 0||Be.dispose(),(Ze=this._contentWidget)===null||Ze===void 0||Ze.dispose()}};Te.ID="editor.contrib.hover",Te=Fe([Ge(1,ae.TG),Ge(2,we.v4),Ge(3,Z.O),Ge(4,re.i6)],Te);class Ke extends z.R6{constructor(){super({id:"editor.action.showHover",label:Ce.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:(0,b.gx)(2089,2087),weight:100}})}run(Be,Ze){if(!Ze.hasModel())return;const wt=Te.get(Ze);if(!wt)return;const $t=Ze.getPosition(),_t=new j.e($t.lineNumber,$t.column,$t.lineNumber,$t.column),Jt=Ze.getOption(2)===2;wt.showContentHover(_t,1,Jt)}}class ut extends z.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:Ce.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(Be,Ze){const wt=Te.get(Ze);if(!wt)return;const $t=Ze.getPosition();if(!$t)return;const _t=new j.e($t.lineNumber,$t.column,$t.lineNumber,$t.column),Jt=B.S.get(Ze);if(!Jt)return;Jt.startFindDefinitionFromCursor($t).then(()=>{wt.showContentHover(_t,1,!0)})}}(0,z._K)(Te.ID,Te),(0,z.Qr)(Ke),(0,z.Qr)(ut),$.Ae.register(je.D5),$.Ae.register(Gt),(0,$e.Ic)((Nt,Be)=>{const Ze=Nt.getColor(Ae.ptc);Ze&&Be.addRule(`.monaco-editor .hoverHighlight { background-color: ${Ze}; }`);const wt=Nt.getColor(Ae.yJx);wt&&Be.addRule(`.monaco-editor .monaco-hover { background-color: ${wt}; }`);const $t=Nt.getColor(Ae.CNo);$t&&(Be.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${$t}; }`),Be.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${$t.transparent(.5)}; }`),Be.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${$t.transparent(.5)}; }`),Be.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${$t.transparent(.5)}; }`));const _t=Nt.getColor(Ae.url);_t&&Be.addRule(`.monaco-editor .monaco-hover a { color: ${_t}; }`);const Jt=Nt.getColor(Ae.sgC);Jt&&Be.addRule(`.monaco-editor .monaco-hover a:hover { color: ${Jt}; }`);const Zt=Nt.getColor(Ae.Sbf);Zt&&Be.addRule(`.monaco-editor .monaco-hover { color: ${Zt}; }`);const Xe=Nt.getColor(Ae.LoV);Xe&&Be.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${Xe}; }`);const Lt=Nt.getColor(Ae.SwI);Lt&&Be.addRule(`.monaco-editor .monaco-hover code { background-color: ${Lt}; }`)})},66520:function(Yt,Ye,s){"use strict";s.d(Ye,{Ae:function(){return z},Qj:function(){return b},YM:function(){return l}});class b{constructor(E,Z){this.priority=E,this.range=Z,this.type=1}equals(E){return E.type===1&&this.range.equalsRange(E.range)}canAdoptVisibleHover(E,Z){return E.type===1&&Z.lineNumber===this.range.startLineNumber}}class l{constructor(E,Z,B){this.priority=E,this.owner=Z,this.range=B,this.type=2}equals(E){return E.type===2&&this.owner===E.owner}canAdoptVisibleHover(E,Z){return E.type===2&&this.owner===E.owner}}const z=new class{constructor(){this._participants=[]}register(E){this._participants.push(E)}getAll(){return this._participants}}},22374:function(Yt,Ye,s){"use strict";s.d(Ye,{D5:function(){return L},c:function(){return T},hU:function(){return p}});var b=s(65321),l=s(9488),z=s(15393),j=s(59365),E=s(5976),Z=s(51318),B=s(50187),H=s(24314),O=s(72042),y=s(41095),g=s(63580),C=s(33108),m=s(50988),i=s(71922),d=function(M,I,P,V){var $=arguments.length,re=$<3?I:V===null?V=Object.getOwnPropertyDescriptor(I,P):V,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(M,I,P,V);else for(var ie=M.length-1;ie>=0;ie--)(ae=M[ie])&&(re=($<3?ae(re):$>3?ae(I,P,re):ae(I,P))||re);return $>3&&re&&Object.defineProperty(I,P,re),re},_=function(M,I){return function(P,V){I(P,V,M)}};const v=b.$;class p{constructor(I,P,V,$){this.owner=I,this.range=P,this.contents=V,this.ordinal=$}isValidForHoverAnchor(I){return I.type===1&&this.range.startColumn<=I.range.startColumn&&this.range.endColumn>=I.range.endColumn}}let L=class{constructor(I,P,V,$,re){this._editor=I,this._languageService=P,this._openerService=V,this._configurationService=$,this._languageFeaturesService=re,this.hoverOrdinal=2}createLoadingMessage(I){return new p(this,I.range,[new j.W5().appendText(g.NC("modesContentHover.loading","Loading..."))],2e3)}computeSync(I,P){if(!this._editor.hasModel()||I.type!==1)return[];const V=this._editor.getModel(),$=I.range.startLineNumber,re=V.getLineMaxColumn($),ae=[];let ie=1e3;const se=V.getLineLength($),X=V.getLanguageIdAtPosition(I.range.startLineNumber,I.range.startColumn),ne=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:X});typeof ne=="number"&&se>=ne&&ae.push(new p(this,I.range,[{value:g.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],ie++));for(const Q of P){const F=Q.range.startLineNumber===$?Q.range.startColumn:1,te=Q.range.endLineNumber===$?Q.range.endColumn:re,W=Q.options.hoverMessage;if(!W||(0,j.CP)(W))continue;const G=new H.e(I.range.startLineNumber,F,I.range.startLineNumber,te);ae.push(new p(this,G,(0,l._2)(W),ie++))}return ae}computeAsync(I,P,V){if(!this._editor.hasModel()||I.type!==1)return z.Aq.EMPTY;const $=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has($))return z.Aq.EMPTY;const re=new B.L(I.range.startLineNumber,I.range.startColumn);return(0,y.R8)(this._languageFeaturesService.hoverProvider,$,re,V).filter(ae=>!(0,j.CP)(ae.hover.contents)).map(ae=>{const ie=ae.hover.range?H.e.lift(ae.hover.range):I.range;return new p(this,ie,ae.hover.contents,ae.ordinal)})}renderHoverParts(I,P){return T(I,P,this._editor,this._languageService,this._openerService)}};L=d([_(1,O.O),_(2,m.v4),_(3,C.Ui),_(4,i.p)],L);function T(M,I,P,V,$){I.sort((ae,ie)=>ae.ordinal-ie.ordinal);const re=new E.SL;for(const ae of I)for(const ie of ae.contents){if((0,j.CP)(ie))continue;const se=v("div.hover-row.markdown-hover"),X=b.R3(se,v("div.hover-contents")),ne=re.add(new Z.$({editor:P},V,$));re.add(ne.onDidRenderAsync(()=>{X.className="hover-contents code-hover-contents",M.onContentsChanged()}));const Q=re.add(ne.render(ie));X.appendChild(Q.element),M.fragment.appendChild(se)}return re}},60468:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{LinkDetector:function(){return F}});var b=s(15393),l=s(71050),z=s(17301),j=s(59365),E=s(5976),Z=s(66663),B=s(1432),H=s(95935),O=s(84013),y=s(70666),g=s(16830),C=s(22529),m=s(88191),i=s(71922),d=s(82005),_=s(9488),v=s(98401),p=s(24314),L=s(73733),T=s(94565),M=function(me,w,we,xe){function Ne(Ve){return Ve instanceof we?Ve:new we(function(Ce){Ce(Ve)})}return new(we||(we=Promise))(function(Ve,Ce){function Ae(at){try{je(xe.next(at))}catch(pt){Ce(pt)}}function $e(at){try{je(xe.throw(at))}catch(pt){Ce(pt)}}function je(at){at.done?Ve(at.value):Ne(at.value).then(Ae,$e)}je((xe=xe.apply(me,w||[])).next())})};class I{constructor(w,we){this._link=w,this._provider=we}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(w){return M(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,w)).then(we=>(this._link=we||this._link,this._link.url?this.resolve(w):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class P{constructor(w){this._disposables=new E.SL;let we=[];for(const[xe,Ne]of w){const Ve=xe.links.map(Ce=>new I(Ce,Ne));we=P._union(we,Ve),(0,E.Wf)(xe)&&this._disposables.add(xe)}this.links=we}dispose(){this._disposables.dispose(),this.links.length=0}static _union(w,we){const xe=[];let Ne,Ve,Ce,Ae;for(Ne=0,Ce=0,Ve=w.length,Ae=we.length;Ne<Ve&&Ce<Ae;){const $e=w[Ne],je=we[Ce];if(p.e.areIntersectingOrTouching($e.range,je.range)){Ne++;continue}p.e.compareRangesUsingStarts($e.range,je.range)<0?(xe.push($e),Ne++):(xe.push(je),Ce++)}for(;Ne<Ve;Ne++)xe.push(w[Ne]);for(;Ce<Ae;Ce++)xe.push(we[Ce]);return xe}}function V(me,w,we){const xe=[],Ne=me.ordered(w).reverse().map((Ve,Ce)=>Promise.resolve(Ve.provideLinks(w,we)).then(Ae=>{Ae&&(xe[Ce]=[Ae,Ve])},z.Cp));return Promise.all(Ne).then(()=>{const Ve=new P((0,_.kX)(xe));return we.isCancellationRequested?(Ve.dispose(),new P([])):Ve})}T.P0.registerCommand("_executeLinkProvider",(me,...w)=>M(void 0,void 0,void 0,function*(){let[we,xe]=w;(0,v.p_)(we instanceof y.o),typeof xe!="number"&&(xe=0);const{linkProvider:Ne}=me.get(i.p),Ve=me.get(L.q).getModel(we);if(!Ve)return[];const Ce=yield V(Ne,Ve,l.T.None);if(!Ce)return[];for(let $e=0;$e<Math.min(xe,Ce.links.length);$e++)yield Ce.links[$e].resolve(l.T.None);const Ae=Ce.links.slice(0);return Ce.dispose(),Ae}));var $=s(63580),re=s(59422),ae=s(50988),ie=s(73910),se=s(97781),X=function(me,w,we,xe){var Ne=arguments.length,Ve=Ne<3?w:xe===null?xe=Object.getOwnPropertyDescriptor(w,we):xe,Ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ve=Reflect.decorate(me,w,we,xe);else for(var Ae=me.length-1;Ae>=0;Ae--)(Ce=me[Ae])&&(Ve=(Ne<3?Ce(Ve):Ne>3?Ce(w,we,Ve):Ce(w,we))||Ve);return Ne>3&&Ve&&Object.defineProperty(w,we,Ve),Ve},ne=function(me,w){return function(we,xe){w(we,xe,me)}},Q=function(me,w,we,xe){function Ne(Ve){return Ve instanceof we?Ve:new we(function(Ce){Ce(Ve)})}return new(we||(we=Promise))(function(Ve,Ce){function Ae(at){try{je(xe.next(at))}catch(pt){Ce(pt)}}function $e(at){try{je(xe.throw(at))}catch(pt){Ce(pt)}}function je(at){at.done?Ve(at.value):Ne(at.value).then(Ae,$e)}je((xe=xe.apply(me,w||[])).next())})};let F=class qh extends E.JT{constructor(w,we,xe,Ne,Ve){super(),this.editor=w,this.openerService=we,this.notificationService=xe,this.languageFeaturesService=Ne,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=Ve.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new b.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const Ce=this._register(new d.yN(w));this._register(Ce.onMouseMoveOrRelevantKeyDown(([Ae,$e])=>{this._onEditorMouseMove(Ae,$e)})),this._register(Ce.onExecute(Ae=>{this.onEditorMouseUp(Ae)})),this._register(Ce.onCancel(Ae=>{this.cleanUpActiveLinkDecoration()})),this._register(w.onDidChangeConfiguration(Ae=>{Ae.hasChanged(65)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(w.onDidChangeModelContent(Ae=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(w.onDidChangeModel(Ae=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(w.onDidChangeModelLanguage(Ae=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(Ae=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(w){return w.getContribution(qh.ID)}computeLinksNow(){return Q(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;const w=this.editor.getModel();if(this.providers.has(w)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,b.PG)(we=>V(this.providers,w,we));try{const we=new O.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(w,we.elapsed()),w.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(we){(0,z.dL)(we)}finally{this.computePromise=null}}})}updateDecorations(w){const we=this.editor.getOption(72)==="altKey",xe=[],Ne=Object.keys(this.currentOccurrences);for(const Ce of Ne){const Ae=this.currentOccurrences[Ce];xe.push(Ae.decorationId)}const Ve=[];if(w)for(const Ce of w)Ve.push(W.decoration(Ce,we));this.editor.changeDecorations(Ce=>{const Ae=Ce.deltaDecorations(xe,Ve);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let $e=0,je=Ae.length;$e<je;$e++){const at=new W(w[$e],Ae[$e]);this.currentOccurrences[at.decorationId]=at}})}_onEditorMouseMove(w,we){const xe=this.editor.getOption(72)==="altKey";if(this.isEnabled(w,we)){this.cleanUpActiveLinkDecoration();const Ne=this.getLinkOccurrence(w.target.position);Ne&&this.editor.changeDecorations(Ve=>{Ne.activate(Ve,xe),this.activeLinkDecorationId=Ne.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const w=this.editor.getOption(72)==="altKey";if(this.activeLinkDecorationId){const we=this.currentOccurrences[this.activeLinkDecorationId];we&&this.editor.changeDecorations(xe=>{we.deactivate(xe,w)}),this.activeLinkDecorationId=null}}onEditorMouseUp(w){if(!this.isEnabled(w))return;const we=this.getLinkOccurrence(w.target.position);we&&this.openLinkOccurrence(we,w.hasSideBySideModifier,!0)}openLinkOccurrence(w,we,xe=!1){if(!this.openerService)return;const{link:Ne}=w;Ne.resolve(l.T.None).then(Ve=>{if(typeof Ve=="string"&&this.editor.hasModel()){const Ce=this.editor.getModel().uri;if(Ce.scheme===Z.lg.file&&Ve.startsWith(`${Z.lg.file}:`)){const Ae=y.o.parse(Ve);if(Ae.scheme===Z.lg.file){const $e=H.z_(Ae);let je=null;$e.startsWith("/./")?je=`.${$e.substr(1)}`:$e.startsWith("//./")&&(je=`.${$e.substr(2)}`),je&&(Ve=H.Vo(Ce,je))}}}return this.openerService.open(Ve,{openToSide:we,fromUserGesture:xe,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},Ve=>{const Ce=Ve instanceof Error?Ve.message:Ve;Ce==="invalid"?this.notificationService.warn($.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",Ne.url.toString())):Ce==="missing"?this.notificationService.warn($.NC("missing.url","Failed to open this link because its target is missing.")):(0,z.dL)(Ve)})}getLinkOccurrence(w){if(!this.editor.hasModel()||!w)return null;const we=this.editor.getModel().getDecorationsInRange({startLineNumber:w.lineNumber,startColumn:w.column,endLineNumber:w.lineNumber,endColumn:w.column},0,!0);for(const xe of we){const Ne=this.currentOccurrences[xe.id];if(Ne)return Ne}return null}isEnabled(w,we){return!!(w.target.type===6&&(w.hasTriggerModifier||we&&we.keyCodeIsTriggerKey))}stop(){var w;this.computeLinks.cancel(),this.activeLinksList&&((w=this.activeLinksList)===null||w===void 0||w.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};F.ID="editor.linkDetector",F=X([ne(1,ae.v4),ne(2,re.lT),ne(3,i.p),ne(4,m.A)],F);const te={general:C.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:C.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class W{constructor(w,we){this.link=w,this.decorationId=we}static decoration(w,we){return{range:w.range,options:W._getOptions(w,we,!1)}}static _getOptions(w,we,xe){const Ne=Object.assign({},xe?te.active:te.general);return Ne.hoverMessage=G(w,we),Ne}activate(w,we){w.changeDecorationOptions(this.decorationId,W._getOptions(this.link,we,!0))}deactivate(w,we){w.changeDecorationOptions(this.decorationId,W._getOptions(this.link,we,!1))}}function G(me,w){const we=me.url&&/^command:/i.test(me.url.toString()),xe=me.tooltip?me.tooltip:we?$.NC("links.navigate.executeCmd","Execute command"):$.NC("links.navigate.follow","Follow link"),Ne=w?B.dz?$.NC("links.navigate.kb.meta.mac","cmd + click"):$.NC("links.navigate.kb.meta","ctrl + click"):B.dz?$.NC("links.navigate.kb.alt.mac","option + click"):$.NC("links.navigate.kb.alt","alt + click");if(me.url){let Ve="";if(/^command:/i.test(me.url.toString())){const Ae=me.url.toString().match(/^command:([^?#]+)/);if(Ae){const $e=Ae[1];Ve=$.NC("tooltip.explanation","Execute command {0}",$e)}}return new j.W5("",!0).appendLink(me.url.toString(!0).replace(/ /g,"%20"),xe,Ve).appendMarkdown(` (${Ne})`)}else return new j.W5().appendText(`${xe} (${Ne})`)}class q extends g.R6{constructor(){super({id:"editor.action.openLink",label:$.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(w,we){const xe=F.get(we);if(!xe||!we.hasModel())return;const Ne=we.getSelections();for(const Ve of Ne){const Ce=xe.getLinkOccurrence(Ve.getEndPosition());Ce&&xe.openLinkOccurrence(Ce,!1)}}}(0,g._K)(F.ID,F),(0,g.Qr)(q),(0,se.Ic)((me,w)=>{const we=me.getColor(ie._Yy);we&&w.addRule(`.monaco-editor .detected-link-active { color: ${we} !important; }`)})},51318:function(Yt,Ye,s){"use strict";s.d(Ye,{$:function(){return te}});var b=s(65321),l=s(70921),z=s(4850),j=s(94079),E=s(7317),Z=s(56811),B=s(17301),H=s(4669),O=s(59365),y=s(21212),g=s(44742),C=s(5976);let m={};(function(){function W(G,q){q(m)}W.amd=!0,function(G,q){typeof Fd=="object"?q(Fd):typeof W=="function"&&W.amd?W(["exports"],q):(G=typeof globalThis<"u"?globalThis:G||self,q(G.marked={}))}(this,function(G){"use strict";function q(_e,Ee){for(var Le=0;Le<Ee.length;Le++){var oe=Ee[Le];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(_e,oe.key,oe)}}function me(_e,Ee,Le){return Ee&&q(_e.prototype,Ee),Le&&q(_e,Le),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function w(_e,Ee){if(_e){if(typeof _e=="string")return we(_e,Ee);var Le=Object.prototype.toString.call(_e).slice(8,-1);if(Le==="Object"&&_e.constructor&&(Le=_e.constructor.name),Le==="Map"||Le==="Set")return Array.from(_e);if(Le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le))return we(_e,Ee)}}function we(_e,Ee){(Ee==null||Ee>_e.length)&&(Ee=_e.length);for(var Le=0,oe=new Array(Ee);Le<Ee;Le++)oe[Le]=_e[Le];return oe}function xe(_e,Ee){var Le=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(Le)return(Le=Le.call(_e)).next.bind(Le);if(Array.isArray(_e)||(Le=w(_e))||Ee&&_e&&typeof _e.length=="number"){Le&&(_e=Le);var oe=0;return function(){return oe>=_e.length?{done:!0}:{done:!1,value:_e[oe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ne(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}G.defaults=Ne();function Ve(_e){G.defaults=_e}var Ce=/[&<>"']/,Ae=/[&<>"']/g,$e=/[<>"']|&(?!#?\w+;)/,je=/[<>"']|&(?!#?\w+;)/g,at={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pt=function(Ee){return at[Ee]};function bt(_e,Ee){if(Ee){if(Ce.test(_e))return _e.replace(Ae,pt)}else if($e.test(_e))return _e.replace(je,pt);return _e}var We=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function it(_e){return _e.replace(We,function(Ee,Le){return Le=Le.toLowerCase(),Le==="colon"?":":Le.charAt(0)==="#"?Le.charAt(1)==="x"?String.fromCharCode(parseInt(Le.substring(2),16)):String.fromCharCode(+Le.substring(1)):""})}var pe=/(^|[^\[])\^/g;function ye(_e,Ee){_e=typeof _e=="string"?_e:_e.source,Ee=Ee||"";var Le={replace:function(he,Me){return Me=Me.source||Me,Me=Me.replace(pe,"$1"),_e=_e.replace(he,Me),Le},getRegex:function(){return new RegExp(_e,Ee)}};return Le}var ft=/[^\w:]/g,Xt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function qt(_e,Ee,Le){if(_e){var oe;try{oe=decodeURIComponent(it(Le)).replace(ft,"").toLowerCase()}catch{return null}if(oe.indexOf("javascript:")===0||oe.indexOf("vbscript:")===0||oe.indexOf("data:")===0)return null}Ee&&!Xt.test(Le)&&(Le=Gt(Ee,Le));try{Le=encodeURI(Le).replace(/%25/g,"%")}catch{return null}return Le}var Ft={},Ot=/^[^:]+:\/*[^/]*$/,Mt=/^([^:]+:)[\s\S]*$/,ni=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Gt(_e,Ee){Ft[" "+_e]||(Ot.test(_e)?Ft[" "+_e]=_e+"/":Ft[" "+_e]=Ke(_e,"/",!0)),_e=Ft[" "+_e];var Le=_e.indexOf(":")===-1;return Ee.substring(0,2)==="//"?Le?Ee:_e.replace(Mt,"$1")+Ee:Ee.charAt(0)==="/"?Le?Ee:_e.replace(ni,"$1")+Ee:_e+Ee}var Fe={exec:function(){}};function Ge(_e){for(var Ee=1,Le,oe;Ee<arguments.length;Ee++){Le=arguments[Ee];for(oe in Le)Object.prototype.hasOwnProperty.call(Le,oe)&&(_e[oe]=Le[oe])}return _e}function Te(_e,Ee){var Le=_e.replace(/\|/g,function(Me,ke,Je){for(var ot=!1,ht=ke;--ht>=0&&Je[ht]==="\\";)ot=!ot;return ot?"|":" |"}),oe=Le.split(/ \|/),he=0;if(oe[0].trim()||oe.shift(),oe.length>0&&!oe[oe.length-1].trim()&&oe.pop(),oe.length>Ee)oe.splice(Ee);else for(;oe.length<Ee;)oe.push("");for(;he<oe.length;he++)oe[he]=oe[he].trim().replace(/\\\|/g,"|");return oe}function Ke(_e,Ee,Le){var oe=_e.length;if(oe===0)return"";for(var he=0;he<oe;){var Me=_e.charAt(oe-he-1);if(Me===Ee&&!Le)he++;else if(Me!==Ee&&Le)he++;else break}return _e.slice(0,oe-he)}function ut(_e,Ee){if(_e.indexOf(Ee[1])===-1)return-1;for(var Le=_e.length,oe=0,he=0;he<Le;he++)if(_e[he]==="\\")he++;else if(_e[he]===Ee[0])oe++;else if(_e[he]===Ee[1]&&(oe--,oe<0))return he;return-1}function Nt(_e){_e&&_e.sanitize&&!_e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Be(_e,Ee){if(Ee<1)return"";for(var Le="";Ee>1;)Ee&1&&(Le+=_e),Ee>>=1,_e+=_e;return Le+_e}function Ze(_e,Ee,Le,oe){var he=Ee.href,Me=Ee.title?bt(Ee.title):null,ke=_e[1].replace(/\\([\[\]])/g,"$1");if(_e[0].charAt(0)!=="!"){oe.state.inLink=!0;var Je={type:"link",raw:Le,href:he,title:Me,text:ke,tokens:oe.inlineTokens(ke,[])};return oe.state.inLink=!1,Je}return{type:"image",raw:Le,href:he,title:Me,text:bt(ke)}}function wt(_e,Ee){var Le=_e.match(/^(\s+)(?:```)/);if(Le===null)return Ee;var oe=Le[1];return Ee.split(`
`).map(function(he){var Me=he.match(/^\s+/);if(Me===null)return he;var ke=Me[0];return ke.length>=oe.length?he.slice(oe.length):he}).join(`
`)}var $t=function(){function _e(Le){this.options=Le||G.defaults}var Ee=_e.prototype;return Ee.space=function(oe){var he=this.rules.block.newline.exec(oe);if(he&&he[0].length>0)return{type:"space",raw:he[0]}},Ee.code=function(oe){var he=this.rules.block.code.exec(oe);if(he){var Me=he[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:he[0],codeBlockStyle:"indented",text:this.options.pedantic?Me:Ke(Me,`
`)}}},Ee.fences=function(oe){var he=this.rules.block.fences.exec(oe);if(he){var Me=he[0],ke=wt(Me,he[3]||"");return{type:"code",raw:Me,lang:he[2]?he[2].trim():he[2],text:ke}}},Ee.heading=function(oe){var he=this.rules.block.heading.exec(oe);if(he){var Me=he[2].trim();if(/#$/.test(Me)){var ke=Ke(Me,"#");(this.options.pedantic||!ke||/ $/.test(ke))&&(Me=ke.trim())}var Je={type:"heading",raw:he[0],depth:he[1].length,text:Me,tokens:[]};return this.lexer.inline(Je.text,Je.tokens),Je}},Ee.hr=function(oe){var he=this.rules.block.hr.exec(oe);if(he)return{type:"hr",raw:he[0]}},Ee.blockquote=function(oe){var he=this.rules.block.blockquote.exec(oe);if(he){var Me=he[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:he[0],tokens:this.lexer.blockTokens(Me,[]),text:Me}}},Ee.list=function(oe){var he=this.rules.block.list.exec(oe);if(he){var Me,ke,Je,ot,ht,xt,nt,It,Ht,Qt,ci,Fi,Ii=he[1].trim(),Xi=Ii.length>1,zi={type:"list",raw:"",ordered:Xi,start:Xi?+Ii.slice(0,-1):"",loose:!1,items:[]};Ii=Xi?"\\d{1,9}\\"+Ii.slice(-1):"\\"+Ii,this.options.pedantic&&(Ii=Xi?Ii:"[*+-]");for(var Si=new RegExp("^( {0,3}"+Ii+")((?:[	 ][^\\n]*)?(?:\\n|$))");oe&&(Fi=!1,!(!(he=Si.exec(oe))||this.rules.block.hr.test(oe)));){if(Me=he[0],oe=oe.substring(Me.length),It=he[2].split(`
`,1)[0],Ht=oe.split(`
`,1)[0],this.options.pedantic?(ot=2,ci=It.trimLeft()):(ot=he[2].search(/[^ ]/),ot=ot>4?1:ot,ci=It.slice(ot),ot+=he[1].length),xt=!1,!It&&/^ *$/.test(Ht)&&(Me+=Ht+`
`,oe=oe.substring(Ht.length+1),Fi=!0),!Fi)for(var Ji=new RegExp("^ {0,"+Math.min(3,ot-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Zi=new RegExp("^ {0,"+Math.min(3,ot-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");oe&&(Qt=oe.split(`
`,1)[0],It=Qt,this.options.pedantic&&(It=It.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ji.test(It)||Zi.test(oe)));){if(It.search(/[^ ]/)>=ot||!It.trim())ci+=`
`+It.slice(ot);else if(!xt)ci+=`
`+It;else break;!xt&&!It.trim()&&(xt=!0),Me+=Qt+`
`,oe=oe.substring(Qt.length+1)}zi.loose||(nt?zi.loose=!0:/\n *\n *$/.test(Me)&&(nt=!0)),this.options.gfm&&(ke=/^\[[ xX]\] /.exec(ci),ke&&(Je=ke[0]!=="[ ] ",ci=ci.replace(/^\[[ xX]\] +/,""))),zi.items.push({type:"list_item",raw:Me,task:!!ke,checked:Je,loose:!1,text:ci}),zi.raw+=Me}zi.items[zi.items.length-1].raw=Me.trimRight(),zi.items[zi.items.length-1].text=ci.trimRight(),zi.raw=zi.raw.trimRight();var Ui=zi.items.length;for(ht=0;ht<Ui;ht++){this.lexer.state.top=!1,zi.items[ht].tokens=this.lexer.blockTokens(zi.items[ht].text,[]);var nn=zi.items[ht].tokens.filter(function(Cn){return Cn.type==="space"}),Dn=nn.every(function(Cn){for(var pi=Cn.raw.split(""),ze=0,Ct=xe(pi),kt;!(kt=Ct()).done;){var oi=kt.value;if(oi===`
`&&(ze+=1),ze>1)return!0}return!1});!zi.loose&&nn.length&&Dn&&(zi.loose=!0,zi.items[ht].loose=!0)}return zi}},Ee.html=function(oe){var he=this.rules.block.html.exec(oe);if(he){var Me={type:"html",raw:he[0],pre:!this.options.sanitizer&&(he[1]==="pre"||he[1]==="script"||he[1]==="style"),text:he[0]};return this.options.sanitize&&(Me.type="paragraph",Me.text=this.options.sanitizer?this.options.sanitizer(he[0]):bt(he[0]),Me.tokens=[],this.lexer.inline(Me.text,Me.tokens)),Me}},Ee.def=function(oe){var he=this.rules.block.def.exec(oe);if(he){he[3]&&(he[3]=he[3].substring(1,he[3].length-1));var Me=he[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Me,raw:he[0],href:he[2],title:he[3]}}},Ee.table=function(oe){var he=this.rules.block.table.exec(oe);if(he){var Me={type:"table",header:Te(he[1]).map(function(nt){return{text:nt}}),align:he[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:he[3]&&he[3].trim()?he[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Me.header.length===Me.align.length){Me.raw=he[0];var ke=Me.align.length,Je,ot,ht,xt;for(Je=0;Je<ke;Je++)/^ *-+: *$/.test(Me.align[Je])?Me.align[Je]="right":/^ *:-+: *$/.test(Me.align[Je])?Me.align[Je]="center":/^ *:-+ *$/.test(Me.align[Je])?Me.align[Je]="left":Me.align[Je]=null;for(ke=Me.rows.length,Je=0;Je<ke;Je++)Me.rows[Je]=Te(Me.rows[Je],Me.header.length).map(function(nt){return{text:nt}});for(ke=Me.header.length,ot=0;ot<ke;ot++)Me.header[ot].tokens=[],this.lexer.inline(Me.header[ot].text,Me.header[ot].tokens);for(ke=Me.rows.length,ot=0;ot<ke;ot++)for(xt=Me.rows[ot],ht=0;ht<xt.length;ht++)xt[ht].tokens=[],this.lexer.inline(xt[ht].text,xt[ht].tokens);return Me}}},Ee.lheading=function(oe){var he=this.rules.block.lheading.exec(oe);if(he){var Me={type:"heading",raw:he[0],depth:he[2].charAt(0)==="="?1:2,text:he[1],tokens:[]};return this.lexer.inline(Me.text,Me.tokens),Me}},Ee.paragraph=function(oe){var he=this.rules.block.paragraph.exec(oe);if(he){var Me={type:"paragraph",raw:he[0],text:he[1].charAt(he[1].length-1)===`
`?he[1].slice(0,-1):he[1],tokens:[]};return this.lexer.inline(Me.text,Me.tokens),Me}},Ee.text=function(oe){var he=this.rules.block.text.exec(oe);if(he){var Me={type:"text",raw:he[0],text:he[0],tokens:[]};return this.lexer.inline(Me.text,Me.tokens),Me}},Ee.escape=function(oe){var he=this.rules.inline.escape.exec(oe);if(he)return{type:"escape",raw:he[0],text:bt(he[1])}},Ee.tag=function(oe){var he=this.rules.inline.tag.exec(oe);if(he)return!this.lexer.state.inLink&&/^<a /i.test(he[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(he[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(he[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(he[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:he[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(he[0]):bt(he[0]):he[0]}},Ee.link=function(oe){var he=this.rules.inline.link.exec(oe);if(he){var Me=he[2].trim();if(!this.options.pedantic&&/^</.test(Me)){if(!/>$/.test(Me))return;var ke=Ke(Me.slice(0,-1),"\\");if((Me.length-ke.length)%2===0)return}else{var Je=ut(he[2],"()");if(Je>-1){var ot=he[0].indexOf("!")===0?5:4,ht=ot+he[1].length+Je;he[2]=he[2].substring(0,Je),he[0]=he[0].substring(0,ht).trim(),he[3]=""}}var xt=he[2],nt="";if(this.options.pedantic){var It=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(xt);It&&(xt=It[1],nt=It[3])}else nt=he[3]?he[3].slice(1,-1):"";return xt=xt.trim(),/^</.test(xt)&&(this.options.pedantic&&!/>$/.test(Me)?xt=xt.slice(1):xt=xt.slice(1,-1)),Ze(he,{href:xt&&xt.replace(this.rules.inline._escapes,"$1"),title:nt&&nt.replace(this.rules.inline._escapes,"$1")},he[0],this.lexer)}},Ee.reflink=function(oe,he){var Me;if((Me=this.rules.inline.reflink.exec(oe))||(Me=this.rules.inline.nolink.exec(oe))){var ke=(Me[2]||Me[1]).replace(/\s+/g," ");if(ke=he[ke.toLowerCase()],!ke||!ke.href){var Je=Me[0].charAt(0);return{type:"text",raw:Je,text:Je}}return Ze(Me,ke,Me[0],this.lexer)}},Ee.emStrong=function(oe,he,Me){Me===void 0&&(Me="");var ke=this.rules.inline.emStrong.lDelim.exec(oe);if(ke&&!(ke[3]&&Me.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Je=ke[1]||ke[2]||"";if(!Je||Je&&(Me===""||this.rules.inline.punctuation.exec(Me))){var ot=ke[0].length-1,ht,xt,nt=ot,It=0,Ht=ke[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ht.lastIndex=0,he=he.slice(-1*oe.length+ot);(ke=Ht.exec(he))!=null;)if(ht=ke[1]||ke[2]||ke[3]||ke[4]||ke[5]||ke[6],!!ht){if(xt=ht.length,ke[3]||ke[4]){nt+=xt;continue}else if((ke[5]||ke[6])&&ot%3&&!((ot+xt)%3)){It+=xt;continue}if(nt-=xt,!(nt>0)){if(xt=Math.min(xt,xt+nt+It),Math.min(ot,xt)%2){var Qt=oe.slice(1,ot+ke.index+xt);return{type:"em",raw:oe.slice(0,ot+ke.index+xt+1),text:Qt,tokens:this.lexer.inlineTokens(Qt,[])}}var ci=oe.slice(2,ot+ke.index+xt-1);return{type:"strong",raw:oe.slice(0,ot+ke.index+xt+1),text:ci,tokens:this.lexer.inlineTokens(ci,[])}}}}}},Ee.codespan=function(oe){var he=this.rules.inline.code.exec(oe);if(he){var Me=he[2].replace(/\n/g," "),ke=/[^ ]/.test(Me),Je=/^ /.test(Me)&&/ $/.test(Me);return ke&&Je&&(Me=Me.substring(1,Me.length-1)),Me=bt(Me,!0),{type:"codespan",raw:he[0],text:Me}}},Ee.br=function(oe){var he=this.rules.inline.br.exec(oe);if(he)return{type:"br",raw:he[0]}},Ee.del=function(oe){var he=this.rules.inline.del.exec(oe);if(he)return{type:"del",raw:he[0],text:he[2],tokens:this.lexer.inlineTokens(he[2],[])}},Ee.autolink=function(oe,he){var Me=this.rules.inline.autolink.exec(oe);if(Me){var ke,Je;return Me[2]==="@"?(ke=bt(this.options.mangle?he(Me[1]):Me[1]),Je="mailto:"+ke):(ke=bt(Me[1]),Je=ke),{type:"link",raw:Me[0],text:ke,href:Je,tokens:[{type:"text",raw:ke,text:ke}]}}},Ee.url=function(oe,he){var Me;if(Me=this.rules.inline.url.exec(oe)){var ke,Je;if(Me[2]==="@")ke=bt(this.options.mangle?he(Me[0]):Me[0]),Je="mailto:"+ke;else{var ot;do ot=Me[0],Me[0]=this.rules.inline._backpedal.exec(Me[0])[0];while(ot!==Me[0]);ke=bt(Me[0]),Me[1]==="www."?Je="http://"+ke:Je=ke}return{type:"link",raw:Me[0],text:ke,href:Je,tokens:[{type:"text",raw:ke,text:ke}]}}},Ee.inlineText=function(oe,he){var Me=this.rules.inline.text.exec(oe);if(Me){var ke;return this.lexer.state.inRawBlock?ke=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Me[0]):bt(Me[0]):Me[0]:ke=bt(this.options.smartypants?he(Me[0]):Me[0]),{type:"text",raw:Me[0],text:ke}}},_e}(),_t={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Fe,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};_t._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,_t._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,_t.def=ye(_t.def).replace("label",_t._label).replace("title",_t._title).getRegex(),_t.bullet=/(?:[*+-]|\d{1,9}[.)])/,_t.listItemStart=ye(/^( *)(bull) */).replace("bull",_t.bullet).getRegex(),_t.list=ye(_t.list).replace(/bull/g,_t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+_t.def.source+")").getRegex(),_t._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_t._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,_t.html=ye(_t.html,"i").replace("comment",_t._comment).replace("tag",_t._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_t.paragraph=ye(_t._paragraph).replace("hr",_t.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t._tag).getRegex(),_t.blockquote=ye(_t.blockquote).replace("paragraph",_t.paragraph).getRegex(),_t.normal=Ge({},_t),_t.gfm=Ge({},_t.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),_t.gfm.table=ye(_t.gfm.table).replace("hr",_t.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t._tag).getRegex(),_t.gfm.paragraph=ye(_t._paragraph).replace("hr",_t.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",_t.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t._tag).getRegex(),_t.pedantic=Ge({},_t.normal,{html:ye(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_t._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Fe,paragraph:ye(_t.normal._paragraph).replace("hr",_t.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_t.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Jt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Fe,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Fe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Jt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Jt.punctuation=ye(Jt.punctuation).replace(/punctuation/g,Jt._punctuation).getRegex(),Jt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Jt.escapedEmSt=/\\\*|\\_/g,Jt._comment=ye(_t._comment).replace("(?:-->|$)","-->").getRegex(),Jt.emStrong.lDelim=ye(Jt.emStrong.lDelim).replace(/punct/g,Jt._punctuation).getRegex(),Jt.emStrong.rDelimAst=ye(Jt.emStrong.rDelimAst,"g").replace(/punct/g,Jt._punctuation).getRegex(),Jt.emStrong.rDelimUnd=ye(Jt.emStrong.rDelimUnd,"g").replace(/punct/g,Jt._punctuation).getRegex(),Jt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Jt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Jt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Jt.autolink=ye(Jt.autolink).replace("scheme",Jt._scheme).replace("email",Jt._email).getRegex(),Jt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Jt.tag=ye(Jt.tag).replace("comment",Jt._comment).replace("attribute",Jt._attribute).getRegex(),Jt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Jt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Jt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Jt.link=ye(Jt.link).replace("label",Jt._label).replace("href",Jt._href).replace("title",Jt._title).getRegex(),Jt.reflink=ye(Jt.reflink).replace("label",Jt._label).replace("ref",_t._label).getRegex(),Jt.nolink=ye(Jt.nolink).replace("ref",_t._label).getRegex(),Jt.reflinkSearch=ye(Jt.reflinkSearch,"g").replace("reflink",Jt.reflink).replace("nolink",Jt.nolink).getRegex(),Jt.normal=Ge({},Jt),Jt.pedantic=Ge({},Jt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ye(/^!?\[(label)\]\((.*?)\)/).replace("label",Jt._label).getRegex(),reflink:ye(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Jt._label).getRegex()}),Jt.gfm=Ge({},Jt.normal,{escape:ye(Jt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Jt.gfm.url=ye(Jt.gfm.url,"i").replace("email",Jt.gfm._extended_email).getRegex(),Jt.breaks=Ge({},Jt.gfm,{br:ye(Jt.br).replace("{2,}","*").getRegex(),text:ye(Jt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Zt(_e){return _e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Xe(_e){var Ee="",Le,oe,he=_e.length;for(Le=0;Le<he;Le++)oe=_e.charCodeAt(Le),Math.random()>.5&&(oe="x"+oe.toString(16)),Ee+="&#"+oe+";";return Ee}var Lt=function(){function _e(Le){this.tokens=[],this.tokens.links=Object.create(null),this.options=Le||G.defaults,this.options.tokenizer=this.options.tokenizer||new $t,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var oe={block:_t.normal,inline:Jt.normal};this.options.pedantic?(oe.block=_t.pedantic,oe.inline=Jt.pedantic):this.options.gfm&&(oe.block=_t.gfm,this.options.breaks?oe.inline=Jt.breaks:oe.inline=Jt.gfm),this.tokenizer.rules=oe}_e.lex=function(oe,he){var Me=new _e(he);return Me.lex(oe)},_e.lexInline=function(oe,he){var Me=new _e(he);return Me.inlineTokens(oe)};var Ee=_e.prototype;return Ee.lex=function(oe){oe=oe.replace(/\r\n|\r/g,`
`),this.blockTokens(oe,this.tokens);for(var he;he=this.inlineQueue.shift();)this.inlineTokens(he.src,he.tokens);return this.tokens},Ee.blockTokens=function(oe,he){var Me=this;he===void 0&&(he=[]),this.options.pedantic?oe=oe.replace(/\t/g,"    ").replace(/^ +$/gm,""):oe=oe.replace(/^( *)(\t+)/gm,function(nt,It,Ht){return It+"    ".repeat(Ht.length)});for(var ke,Je,ot,ht;oe;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(nt){return(ke=nt.call({lexer:Me},oe,he))?(oe=oe.substring(ke.raw.length),he.push(ke),!0):!1}))){if(ke=this.tokenizer.space(oe)){oe=oe.substring(ke.raw.length),ke.raw.length===1&&he.length>0?he[he.length-1].raw+=`
`:he.push(ke);continue}if(ke=this.tokenizer.code(oe)){oe=oe.substring(ke.raw.length),Je=he[he.length-1],Je&&(Je.type==="paragraph"||Je.type==="text")?(Je.raw+=`
`+ke.raw,Je.text+=`
`+ke.text,this.inlineQueue[this.inlineQueue.length-1].src=Je.text):he.push(ke);continue}if(ke=this.tokenizer.fences(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.heading(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.hr(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.blockquote(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.list(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.html(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.def(oe)){oe=oe.substring(ke.raw.length),Je=he[he.length-1],Je&&(Je.type==="paragraph"||Je.type==="text")?(Je.raw+=`
`+ke.raw,Je.text+=`
`+ke.raw,this.inlineQueue[this.inlineQueue.length-1].src=Je.text):this.tokens.links[ke.tag]||(this.tokens.links[ke.tag]={href:ke.href,title:ke.title});continue}if(ke=this.tokenizer.table(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.lheading(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ot=oe,this.options.extensions&&this.options.extensions.startBlock&&function(){var nt=1/0,It=oe.slice(1),Ht=void 0;Me.options.extensions.startBlock.forEach(function(Qt){Ht=Qt.call({lexer:this},It),typeof Ht=="number"&&Ht>=0&&(nt=Math.min(nt,Ht))}),nt<1/0&&nt>=0&&(ot=oe.substring(0,nt+1))}(),this.state.top&&(ke=this.tokenizer.paragraph(ot))){Je=he[he.length-1],ht&&Je.type==="paragraph"?(Je.raw+=`
`+ke.raw,Je.text+=`
`+ke.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Je.text):he.push(ke),ht=ot.length!==oe.length,oe=oe.substring(ke.raw.length);continue}if(ke=this.tokenizer.text(oe)){oe=oe.substring(ke.raw.length),Je=he[he.length-1],Je&&Je.type==="text"?(Je.raw+=`
`+ke.raw,Je.text+=`
`+ke.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Je.text):he.push(ke);continue}if(oe){var xt="Infinite loop on byte: "+oe.charCodeAt(0);if(this.options.silent){console.error(xt);break}else throw new Error(xt)}}return this.state.top=!0,he},Ee.inline=function(oe,he){this.inlineQueue.push({src:oe,tokens:he})},Ee.inlineTokens=function(oe,he){var Me=this;he===void 0&&(he=[]);var ke,Je,ot,ht=oe,xt,nt,It;if(this.tokens.links){var Ht=Object.keys(this.tokens.links);if(Ht.length>0)for(;(xt=this.tokenizer.rules.inline.reflinkSearch.exec(ht))!=null;)Ht.includes(xt[0].slice(xt[0].lastIndexOf("[")+1,-1))&&(ht=ht.slice(0,xt.index)+"["+Be("a",xt[0].length-2)+"]"+ht.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(xt=this.tokenizer.rules.inline.blockSkip.exec(ht))!=null;)ht=ht.slice(0,xt.index)+"["+Be("a",xt[0].length-2)+"]"+ht.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(xt=this.tokenizer.rules.inline.escapedEmSt.exec(ht))!=null;)ht=ht.slice(0,xt.index)+"++"+ht.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;oe;)if(nt||(It=""),nt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ci){return(ke=ci.call({lexer:Me},oe,he))?(oe=oe.substring(ke.raw.length),he.push(ke),!0):!1}))){if(ke=this.tokenizer.escape(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.tag(oe)){oe=oe.substring(ke.raw.length),Je=he[he.length-1],Je&&ke.type==="text"&&Je.type==="text"?(Je.raw+=ke.raw,Je.text+=ke.text):he.push(ke);continue}if(ke=this.tokenizer.link(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.reflink(oe,this.tokens.links)){oe=oe.substring(ke.raw.length),Je=he[he.length-1],Je&&ke.type==="text"&&Je.type==="text"?(Je.raw+=ke.raw,Je.text+=ke.text):he.push(ke);continue}if(ke=this.tokenizer.emStrong(oe,ht,It)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.codespan(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.br(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.del(oe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ke=this.tokenizer.autolink(oe,Xe)){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(!this.state.inLink&&(ke=this.tokenizer.url(oe,Xe))){oe=oe.substring(ke.raw.length),he.push(ke);continue}if(ot=oe,this.options.extensions&&this.options.extensions.startInline&&function(){var ci=1/0,Fi=oe.slice(1),Ii=void 0;Me.options.extensions.startInline.forEach(function(Xi){Ii=Xi.call({lexer:this},Fi),typeof Ii=="number"&&Ii>=0&&(ci=Math.min(ci,Ii))}),ci<1/0&&ci>=0&&(ot=oe.substring(0,ci+1))}(),ke=this.tokenizer.inlineText(ot,Zt)){oe=oe.substring(ke.raw.length),ke.raw.slice(-1)!=="_"&&(It=ke.raw.slice(-1)),nt=!0,Je=he[he.length-1],Je&&Je.type==="text"?(Je.raw+=ke.raw,Je.text+=ke.text):he.push(ke);continue}if(oe){var Qt="Infinite loop on byte: "+oe.charCodeAt(0);if(this.options.silent){console.error(Qt);break}else throw new Error(Qt)}}return he},me(_e,null,[{key:"rules",get:function(){return{block:_t,inline:Jt}}}]),_e}(),mi=function(){function _e(Le){this.options=Le||G.defaults}var Ee=_e.prototype;return Ee.code=function(oe,he,Me){var ke=(he||"").match(/\S*/)[0];if(this.options.highlight){var Je=this.options.highlight(oe,ke);Je!=null&&Je!==oe&&(Me=!0,oe=Je)}return oe=oe.replace(/\n$/,"")+`
`,ke?'<pre><code class="'+this.options.langPrefix+bt(ke,!0)+'">'+(Me?oe:bt(oe,!0))+`</code></pre>
`:"<pre><code>"+(Me?oe:bt(oe,!0))+`</code></pre>
`},Ee.blockquote=function(oe){return`<blockquote>
`+oe+`</blockquote>
`},Ee.html=function(oe){return oe},Ee.heading=function(oe,he,Me,ke){if(this.options.headerIds){var Je=this.options.headerPrefix+ke.slug(Me);return"<h"+he+' id="'+Je+'">'+oe+"</h"+he+`>
`}return"<h"+he+">"+oe+"</h"+he+`>
`},Ee.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ee.list=function(oe,he,Me){var ke=he?"ol":"ul",Je=he&&Me!==1?' start="'+Me+'"':"";return"<"+ke+Je+`>
`+oe+"</"+ke+`>
`},Ee.listitem=function(oe){return"<li>"+oe+`</li>
`},Ee.checkbox=function(oe){return"<input "+(oe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ee.paragraph=function(oe){return"<p>"+oe+`</p>
`},Ee.table=function(oe,he){return he&&(he="<tbody>"+he+"</tbody>"),`<table>
<thead>
`+oe+`</thead>
`+he+`</table>
`},Ee.tablerow=function(oe){return`<tr>
`+oe+`</tr>
`},Ee.tablecell=function(oe,he){var Me=he.header?"th":"td",ke=he.align?"<"+Me+' align="'+he.align+'">':"<"+Me+">";return ke+oe+("</"+Me+`>
`)},Ee.strong=function(oe){return"<strong>"+oe+"</strong>"},Ee.em=function(oe){return"<em>"+oe+"</em>"},Ee.codespan=function(oe){return"<code>"+oe+"</code>"},Ee.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ee.del=function(oe){return"<del>"+oe+"</del>"},Ee.link=function(oe,he,Me){if(oe=qt(this.options.sanitize,this.options.baseUrl,oe),oe===null)return Me;var ke='<a href="'+bt(oe)+'"';return he&&(ke+=' title="'+he+'"'),ke+=">"+Me+"</a>",ke},Ee.image=function(oe,he,Me){if(oe=qt(this.options.sanitize,this.options.baseUrl,oe),oe===null)return Me;var ke='<img src="'+oe+'" alt="'+Me+'"';return he&&(ke+=' title="'+he+'"'),ke+=this.options.xhtml?"/>":">",ke},Ee.text=function(oe){return oe},_e}(),jt=function(){function _e(){}var Ee=_e.prototype;return Ee.strong=function(oe){return oe},Ee.em=function(oe){return oe},Ee.codespan=function(oe){return oe},Ee.del=function(oe){return oe},Ee.html=function(oe){return oe},Ee.text=function(oe){return oe},Ee.link=function(oe,he,Me){return""+Me},Ee.image=function(oe,he,Me){return""+Me},Ee.br=function(){return""},_e}(),ki=function(){function _e(){this.seen={}}var Ee=_e.prototype;return Ee.serialize=function(oe){return oe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ee.getNextSafeSlug=function(oe,he){var Me=oe,ke=0;if(this.seen.hasOwnProperty(Me)){ke=this.seen[oe];do ke++,Me=oe+"-"+ke;while(this.seen.hasOwnProperty(Me))}return he||(this.seen[oe]=ke,this.seen[Me]=0),Me},Ee.slug=function(oe,he){he===void 0&&(he={});var Me=this.serialize(oe);return this.getNextSafeSlug(Me,he.dryrun)},_e}(),Pi=function(){function _e(Le){this.options=Le||G.defaults,this.options.renderer=this.options.renderer||new mi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new jt,this.slugger=new ki}_e.parse=function(oe,he){var Me=new _e(he);return Me.parse(oe)},_e.parseInline=function(oe,he){var Me=new _e(he);return Me.parseInline(oe)};var Ee=_e.prototype;return Ee.parse=function(oe,he){he===void 0&&(he=!0);var Me="",ke,Je,ot,ht,xt,nt,It,Ht,Qt,ci,Fi,Ii,Xi,zi,Si,Ji,Zi,Ui,nn,Dn=oe.length;for(ke=0;ke<Dn;ke++){if(ci=oe[ke],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ci.type]&&(nn=this.options.extensions.renderers[ci.type].call({parser:this},ci),nn!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ci.type))){Me+=nn||"";continue}switch(ci.type){case"space":continue;case"hr":{Me+=this.renderer.hr();continue}case"heading":{Me+=this.renderer.heading(this.parseInline(ci.tokens),ci.depth,it(this.parseInline(ci.tokens,this.textRenderer)),this.slugger);continue}case"code":{Me+=this.renderer.code(ci.text,ci.lang,ci.escaped);continue}case"table":{for(Ht="",It="",ht=ci.header.length,Je=0;Je<ht;Je++)It+=this.renderer.tablecell(this.parseInline(ci.header[Je].tokens),{header:!0,align:ci.align[Je]});for(Ht+=this.renderer.tablerow(It),Qt="",ht=ci.rows.length,Je=0;Je<ht;Je++){for(nt=ci.rows[Je],It="",xt=nt.length,ot=0;ot<xt;ot++)It+=this.renderer.tablecell(this.parseInline(nt[ot].tokens),{header:!1,align:ci.align[ot]});Qt+=this.renderer.tablerow(It)}Me+=this.renderer.table(Ht,Qt);continue}case"blockquote":{Qt=this.parse(ci.tokens),Me+=this.renderer.blockquote(Qt);continue}case"list":{for(Fi=ci.ordered,Ii=ci.start,Xi=ci.loose,ht=ci.items.length,Qt="",Je=0;Je<ht;Je++)Si=ci.items[Je],Ji=Si.checked,Zi=Si.task,zi="",Si.task&&(Ui=this.renderer.checkbox(Ji),Xi?Si.tokens.length>0&&Si.tokens[0].type==="paragraph"?(Si.tokens[0].text=Ui+" "+Si.tokens[0].text,Si.tokens[0].tokens&&Si.tokens[0].tokens.length>0&&Si.tokens[0].tokens[0].type==="text"&&(Si.tokens[0].tokens[0].text=Ui+" "+Si.tokens[0].tokens[0].text)):Si.tokens.unshift({type:"text",text:Ui}):zi+=Ui),zi+=this.parse(Si.tokens,Xi),Qt+=this.renderer.listitem(zi,Zi,Ji);Me+=this.renderer.list(Qt,Fi,Ii);continue}case"html":{Me+=this.renderer.html(ci.text);continue}case"paragraph":{Me+=this.renderer.paragraph(this.parseInline(ci.tokens));continue}case"text":{for(Qt=ci.tokens?this.parseInline(ci.tokens):ci.text;ke+1<Dn&&oe[ke+1].type==="text";)ci=oe[++ke],Qt+=`
`+(ci.tokens?this.parseInline(ci.tokens):ci.text);Me+=he?this.renderer.paragraph(Qt):Qt;continue}default:{var Cn='Token with "'+ci.type+'" type was not found.';if(this.options.silent){console.error(Cn);return}else throw new Error(Cn)}}}return Me},Ee.parseInline=function(oe,he){he=he||this.renderer;var Me="",ke,Je,ot,ht=oe.length;for(ke=0;ke<ht;ke++){if(Je=oe[ke],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Je.type]&&(ot=this.options.extensions.renderers[Je.type].call({parser:this},Je),ot!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Je.type))){Me+=ot||"";continue}switch(Je.type){case"escape":{Me+=he.text(Je.text);break}case"html":{Me+=he.html(Je.text);break}case"link":{Me+=he.link(Je.href,Je.title,this.parseInline(Je.tokens,he));break}case"image":{Me+=he.image(Je.href,Je.title,Je.text);break}case"strong":{Me+=he.strong(this.parseInline(Je.tokens,he));break}case"em":{Me+=he.em(this.parseInline(Je.tokens,he));break}case"codespan":{Me+=he.codespan(Je.text);break}case"br":{Me+=he.br();break}case"del":{Me+=he.del(this.parseInline(Je.tokens,he));break}case"text":{Me+=he.text(Je.text);break}default:{var xt='Token with "'+Je.type+'" type was not found.';if(this.options.silent){console.error(xt);return}else throw new Error(xt)}}}return Me},_e}();function gt(_e,Ee,Le){if(typeof _e>"u"||_e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof _e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(_e)+", string expected");if(typeof Ee=="function"&&(Le=Ee,Ee=null),Ee=Ge({},gt.defaults,Ee||{}),Nt(Ee),Le){var oe=Ee.highlight,he;try{he=Lt.lex(_e,Ee)}catch(ot){return Le(ot)}var Me=function(ht){var xt;if(!ht)try{Ee.walkTokens&&gt.walkTokens(he,Ee.walkTokens),xt=Pi.parse(he,Ee)}catch(nt){ht=nt}return Ee.highlight=oe,ht?Le(ht):Le(null,xt)};if(!oe||oe.length<3||(delete Ee.highlight,!he.length))return Me();var ke=0;gt.walkTokens(he,function(ot){ot.type==="code"&&(ke++,setTimeout(function(){oe(ot.text,ot.lang,function(ht,xt){if(ht)return Me(ht);xt!=null&&xt!==ot.text&&(ot.text=xt,ot.escaped=!0),ke--,ke===0&&Me()})},0))}),ke===0&&Me();return}try{var Je=Lt.lex(_e,Ee);return Ee.walkTokens&&gt.walkTokens(Je,Ee.walkTokens),Pi.parse(Je,Ee)}catch(ot){if(ot.message+=`
Please report this to https://github.com/markedjs/marked.`,Ee.silent)return"<p>An error occurred:</p><pre>"+bt(ot.message+"",!0)+"</pre>";throw ot}}gt.options=gt.setOptions=function(_e){return Ge(gt.defaults,_e),Ve(gt.defaults),gt},gt.getDefaults=Ne,gt.defaults=G.defaults,gt.use=function(){for(var _e=arguments.length,Ee=new Array(_e),Le=0;Le<_e;Le++)Ee[Le]=arguments[Le];var oe=Ge.apply(void 0,[{}].concat(Ee)),he=gt.defaults.extensions||{renderers:{},childTokens:{}},Me;Ee.forEach(function(ke){if(ke.extensions&&(Me=!0,ke.extensions.forEach(function(ot){if(!ot.name)throw new Error("extension name required");if(ot.renderer){var ht=he.renderers?he.renderers[ot.name]:null;ht?he.renderers[ot.name]=function(){for(var xt=arguments.length,nt=new Array(xt),It=0;It<xt;It++)nt[It]=arguments[It];var Ht=ot.renderer.apply(this,nt);return Ht===!1&&(Ht=ht.apply(this,nt)),Ht}:he.renderers[ot.name]=ot.renderer}if(ot.tokenizer){if(!ot.level||ot.level!=="block"&&ot.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");he[ot.level]?he[ot.level].unshift(ot.tokenizer):he[ot.level]=[ot.tokenizer],ot.start&&(ot.level==="block"?he.startBlock?he.startBlock.push(ot.start):he.startBlock=[ot.start]:ot.level==="inline"&&(he.startInline?he.startInline.push(ot.start):he.startInline=[ot.start]))}ot.childTokens&&(he.childTokens[ot.name]=ot.childTokens)})),ke.renderer&&function(){var ot=gt.defaults.renderer||new mi,ht=function(It){var Ht=ot[It];ot[It]=function(){for(var Qt=arguments.length,ci=new Array(Qt),Fi=0;Fi<Qt;Fi++)ci[Fi]=arguments[Fi];var Ii=ke.renderer[It].apply(ot,ci);return Ii===!1&&(Ii=Ht.apply(ot,ci)),Ii}};for(var xt in ke.renderer)ht(xt);oe.renderer=ot}(),ke.tokenizer&&function(){var ot=gt.defaults.tokenizer||new $t,ht=function(It){var Ht=ot[It];ot[It]=function(){for(var Qt=arguments.length,ci=new Array(Qt),Fi=0;Fi<Qt;Fi++)ci[Fi]=arguments[Fi];var Ii=ke.tokenizer[It].apply(ot,ci);return Ii===!1&&(Ii=Ht.apply(ot,ci)),Ii}};for(var xt in ke.tokenizer)ht(xt);oe.tokenizer=ot}(),ke.walkTokens){var Je=gt.defaults.walkTokens;oe.walkTokens=function(ot){ke.walkTokens.call(this,ot),Je&&Je.call(this,ot)}}Me&&(oe.extensions=he),gt.setOptions(oe)})},gt.walkTokens=function(_e,Ee){for(var Le=function(){var ke=he.value;switch(Ee.call(gt,ke),ke.type){case"table":{for(var Je=xe(ke.header),ot;!(ot=Je()).done;){var ht=ot.value;gt.walkTokens(ht.tokens,Ee)}for(var xt=xe(ke.rows),nt;!(nt=xt()).done;)for(var It=nt.value,Ht=xe(It),Qt;!(Qt=Ht()).done;){var ci=Qt.value;gt.walkTokens(ci.tokens,Ee)}break}case"list":{gt.walkTokens(ke.items,Ee);break}default:gt.defaults.extensions&&gt.defaults.extensions.childTokens&&gt.defaults.extensions.childTokens[ke.type]?gt.defaults.extensions.childTokens[ke.type].forEach(function(Fi){gt.walkTokens(ke[Fi],Ee)}):ke.tokens&&gt.walkTokens(ke.tokens,Ee)}},oe=xe(_e),he;!(he=oe()).done;)Le()},gt.parseInline=function(_e,Ee){if(typeof _e>"u"||_e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof _e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(_e)+", string expected");Ee=Ge({},gt.defaults,Ee||{}),Nt(Ee);try{var Le=Lt.lexInline(_e,Ee);return Ee.walkTokens&&gt.walkTokens(Le,Ee.walkTokens),Pi.parseInline(Le,Ee)}catch(oe){if(oe.message+=`
Please report this to https://github.com/markedjs/marked.`,Ee.silent)return"<p>An error occurred:</p><pre>"+bt(oe.message+"",!0)+"</pre>";throw oe}},gt.Parser=Pi,gt.parser=Pi.parse,gt.Renderer=mi,gt.TextRenderer=jt,gt.Lexer=Lt,gt.lexer=Lt.lex,gt.Tokenizer=$t,gt.Slugger=ki,gt.parse=gt;var St=gt.options,ii=gt.setOptions,Ri=gt.use,Di=gt.walkTokens,Vi=gt.parseInline,Ci=gt,Wt=Pi.parse,vt=Lt.lex;G.Lexer=Lt,G.Parser=Pi,G.Renderer=mi,G.Slugger=ki,G.TextRenderer=jt,G.Tokenizer=$t,G.getDefaults=Ne,G.lexer=vt,G.marked=gt,G.options=St,G.parse=Ci,G.parseInline=Vi,G.parser=Wt,G.setOptions=ii,G.use=Ri,G.walkTokens=Di,Object.defineProperty(G,"__esModule",{value:!0})})})();var i=m||Fd,d=s(23897),_=s(66663),v=s(36248),p=s(95935),L=s(97295),T=s(70666);function M(W,G={},q={}){var me;const w=new C.SL;let we=!1;const xe=(0,j.az)(G),Ne=function(bt){let We;try{We=(0,d.Q)(decodeURIComponent(bt))}catch{}return We?(We=(0,v.rs)(We,it=>{if(W.uris&&W.uris[it])return T.o.revive(W.uris[it])}),encodeURIComponent(JSON.stringify(We))):bt},Ve=function(bt,We){const it=W.uris&&W.uris[bt];let pe=T.o.revive(it);return We?bt.startsWith(_.lg.data+":")?bt:(pe||(pe=T.o.parse(bt)),_.Gi.asBrowserUri(pe).toString(!0)):!pe||T.o.parse(bt).toString()===pe.toString()?bt:(pe.query&&(pe=pe.with({query:Ne(pe.query)})),pe.toString())},Ce=new i.Renderer;Ce.image=(bt,We,it)=>{let pe=[],ye=[];return bt&&({href:bt,dimensions:pe}=(0,O.v1)(bt),ye.push(`src="${(0,O.d9)(bt)}"`)),it&&ye.push(`alt="${(0,O.d9)(it)}"`),We&&ye.push(`title="${(0,O.d9)(We)}"`),pe.length&&(ye=ye.concat(pe)),"<img "+ye.join(" ")+">"},Ce.link=(bt,We,it)=>typeof bt!="string"?"":(bt===it&&(it=(0,O.oR)(it)),We=typeof We=="string"?(0,O.d9)((0,O.oR)(We)):"",bt=(0,O.oR)(bt),bt=bt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${bt}" title="${We||bt}">${it}</a>`),Ce.paragraph=bt=>`<p>${bt}</p>`;const Ae=[];if(G.codeBlockRenderer&&(Ce.code=(bt,We)=>{const it=g.a.nextId(),pe=G.codeBlockRenderer(We??"",bt);return Ae.push(pe.then(ye=>[it,ye])),`<div class="code" data-code="${it}">${(0,L.YU)(bt)}</div>`}),G.actionHandler){const bt=G.actionHandler.disposables.add(new z.Y(xe,"click")),We=G.actionHandler.disposables.add(new z.Y(xe,"auxclick"));G.actionHandler.disposables.add(H.ju.any(bt.event,We.event)(it=>{const pe=new E.n(it);if(!pe.leftButton&&!pe.middleButton)return;let ye=pe.target;if(!(ye.tagName!=="A"&&(ye=ye.parentElement,!ye||ye.tagName!=="A")))try{let ft=ye.dataset.href;ft&&(W.baseUri&&(ft=I(T.o.from(W.baseUri),ft)),G.actionHandler.callback(ft,pe))}catch(ft){(0,B.dL)(ft)}finally{pe.preventDefault()}}))}W.supportHtml||(q.sanitizer=bt=>(W.isTrusted?bt.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?bt:"",q.sanitize=!0,q.silent=!0),q.renderer=Ce;let $e=(me=W.value)!==null&&me!==void 0?me:"";$e.length>1e5&&($e=`${$e.substr(0,1e5)}\u2026`),W.supportThemeIcons&&($e=(0,y.f$)($e));let je=i.parse($e,q);W.supportThemeIcons&&(je=(0,Z.T)(je).map(We=>typeof We=="string"?We:We.outerHTML).join(""));const pt=new DOMParser().parseFromString(P(W,je),"text/html");if(pt.body.querySelectorAll("img").forEach(bt=>{const We=bt.getAttribute("src");if(We){let it=We;try{W.baseUri&&(it=I(T.o.from(W.baseUri),it))}catch{}bt.src=Ve(it,!0)}}),pt.body.querySelectorAll("a").forEach(bt=>{const We=bt.getAttribute("href");if(bt.setAttribute("href",""),!We||/^data:|javascript:/i.test(We)||/^command:/i.test(We)&&!W.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(We))bt.replaceWith(...bt.childNodes);else{let it=Ve(We,!1);W.baseUri&&(it=I(T.o.from(W.baseUri),We)),bt.dataset.href=it}}),xe.innerHTML=P(W,pt.body.innerHTML),Ae.length>0&&Promise.all(Ae).then(bt=>{var We,it;if(we)return;const pe=new Map(bt),ye=xe.querySelectorAll("div[data-code]");for(const ft of ye){const Xt=pe.get((We=ft.dataset.code)!==null&&We!==void 0?We:"");Xt&&b.mc(ft,Xt)}(it=G.asyncRenderCallback)===null||it===void 0||it.call(G)}),G.asyncRenderCallback)for(const bt of xe.getElementsByTagName("img")){const We=w.add(b.nm(bt,"load",()=>{We.dispose(),G.asyncRenderCallback()}))}return{element:xe,dispose:()=>{we=!0,w.dispose()}}}function I(W,G){return/^\w[\w\d+.-]*:/.test(G)?G:W.path.endsWith("/")?(0,p.i3)(W,G).toString():(0,p.i3)((0,p.XX)(W),G).toString()}function P(W,G){const{config:q,allowedSchemes:me}=V(W);l.v5("uponSanitizeAttribute",(we,xe)=>{if(xe.attrName==="style"||xe.attrName==="class"){if(we.tagName==="SPAN"){if(xe.attrName==="style"){xe.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(xe.attrValue);return}else if(xe.attrName==="class"){xe.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(xe.attrValue);return}}xe.keepAttr=!1;return}});const w=b._F(me);try{return l.Nw(G,Object.assign(Object.assign({},q),{RETURN_TRUSTED_TYPE:!0}))}finally{l.ok("uponSanitizeAttribute"),w.dispose()}}function V(W){const G=[_.lg.http,_.lg.https,_.lg.mailto,_.lg.data,_.lg.file,_.lg.vscodeFileResource,_.lg.vscodeRemote,_.lg.vscodeRemoteResource];return W.isTrusted&&G.push(_.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:G}}var $=s(50988),re=s(72042),ae=s(81947),ie=s(52136),se=s(68801),X=function(W,G,q,me){var w=arguments.length,we=w<3?G:me===null?me=Object.getOwnPropertyDescriptor(G,q):me,xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(W,G,q,me);else for(var Ne=W.length-1;Ne>=0;Ne--)(xe=W[Ne])&&(we=(w<3?xe(we):w>3?xe(G,q,we):xe(G,q))||we);return w>3&&we&&Object.defineProperty(G,q,we),we},ne=function(W,G){return function(q,me){G(q,me,W)}},Q=function(W,G,q,me){function w(we){return we instanceof q?we:new q(function(xe){xe(we)})}return new(q||(q=Promise))(function(we,xe){function Ne(Ae){try{Ce(me.next(Ae))}catch($e){xe($e)}}function Ve(Ae){try{Ce(me.throw(Ae))}catch($e){xe($e)}}function Ce(Ae){Ae.done?we(Ae.value):w(Ae.value).then(Ne,Ve)}Ce((me=me.apply(W,G||[])).next())})},F;let te=class ef{constructor(G,q,me){this._options=G,this._languageService=q,this._openerService=me,this._onDidRenderAsync=new H.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(G,q,me){if(!G)return{element:document.createElement("span"),dispose:()=>{}};const w=new C.SL;return{element:w.add(M(G,Object.assign(Object.assign({},this._getRenderOptions(G,w)),q),me)).element,dispose:()=>w.dispose()}}_getRenderOptions(G,q){return{codeBlockRenderer:(me,w)=>Q(this,void 0,void 0,function*(){var we,xe,Ne;let Ve;me?Ve=this._languageService.getLanguageIdByLanguageName(me):this._options.editor&&(Ve=(we=this._options.editor.getModel())===null||we===void 0?void 0:we.getLanguageId()),Ve||(Ve=se.bd);const Ce=yield(0,ae.C2)(this._languageService,w,Ve),Ae=document.createElement("span");if(Ae.innerHTML=(Ne=(xe=ef._ttpTokenizer)===null||xe===void 0?void 0:xe.createHTML(Ce))!==null&&Ne!==void 0?Ne:Ce,this._options.editor){const $e=this._options.editor.getOption(46);(0,ie.N)(Ae,$e)}else this._options.codeBlockFontFamily&&(Ae.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(Ae.style.fontSize=this._options.codeBlockFontSize),Ae}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:me=>this._openerService.open(me,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:G.isTrusted}).catch(B.dL),disposables:q}}}};te._ttpTokenizer=(F=window.trustedTypes)===null||F===void 0?void 0:F.createPolicy("tokenizeToString",{createHTML(W){return W}}),te=X([ne(1,re.O),ne(2,$.v4)],te)},27863:function(Yt,Ye,s){"use strict";s.d(Ye,{O:function(){return y}});var b=s(35996),l=s(15393),z=s(5976),j=s(16830),E=s(24314),Z=s(63580),B=s(38819),H=function(m,i,d,_){var v=arguments.length,p=v<3?i:_===null?_=Object.getOwnPropertyDescriptor(i,d):_,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,i,d,_);else for(var T=m.length-1;T>=0;T--)(L=m[T])&&(p=(v<3?L(p):v>3?L(i,d,p):L(i,d))||p);return v>3&&p&&Object.defineProperty(i,d,p),p},O=function(m,i){return function(d,_){i(d,_,m)}};let y=class hh{constructor(i,d){this._messageWidget=new z.XK,this._messageListeners=new z.SL,this._editor=i,this._visible=hh.MESSAGE_VISIBLE.bindTo(d)}static get(i){return i.getContribution(hh.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(i,d){(0,b.Z9)(i),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new C(this._editor,d,i),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new l._F(()=>this.closeMessage(),3e3));let _;this._messageListeners.add(this._editor.onMouseMove(v=>{v.target.position&&(_?_.containsPosition(v.target.position)||this.closeMessage():_=new E.e(d.lineNumber-3,1,v.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(C.fadeOut(this._messageWidget.value))}};y.ID="editor.contrib.messageController",y.MESSAGE_VISIBLE=new B.uy("messageVisible",!1,Z.NC("messageVisible","Whether the editor is currently showing an inline message")),y=H([O(1,B.i6)],y);const g=j._l.bindToContribution(y.get);(0,j.fK)(new g({id:"leaveEditorMessage",precondition:y.MESSAGE_VISIBLE,handler:m=>m.closeMessage(),kbOpts:{weight:130,primary:9}}));class C{constructor(i,{lineNumber:d,column:_},v){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=i,this._editor.revealLinesInCenterIfOutsideViewport(d,d,0),this._position={lineNumber:d,column:_},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const p=document.createElement("div");p.classList.add("anchor","top"),this._domNode.appendChild(p);const L=document.createElement("div");L.classList.add("message"),L.textContent=v,this._domNode.appendChild(L);const T=document.createElement("div");T.classList.add("anchor","below"),this._domNode.appendChild(T),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(i){const d=()=>{i.dispose(),clearTimeout(_),i.getDomNode().removeEventListener("animationend",d)},_=setTimeout(d,110);return i.getDomNode().addEventListener("animationend",d),i.getDomNode().classList.add("fadeOut"),{dispose:d}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(i){this._domNode.classList.toggle("below",i===2)}}(0,j._K)(y.ID,y)},60865:function(Yt,Ye,s){"use strict";s.d(Ye,{Fw:function(){return ne},Jy:function(){return Q},vk:function(){return G},rc:function(){return te},SC:function(){return we},M8:function(){return xe},KY:function(){return q},IH:function(){return me},R7:function(){return w}});var b=s(65321),l=s(90317),z=s(74741),j=s(73046),E=s(41264),Z=s(4669),B=s(36248),H=s(16830),O=s(11640),y=s(84527),g=s(83080),C=s(44742),m=s(5976),i=s(24314),d=s(22529);const _=new E.Il(new E.VS(0,122,204)),v={showArrow:!0,showFrame:!0,className:"",frameColor:_,arrowColor:_,keepEditorSelection:!1},p="vs.editor.contrib.zoneWidget";class L{constructor(it,pe,ye,ft,Xt,qt){this.id="",this.domNode=it,this.afterLineNumber=pe,this.afterColumn=ye,this.heightInLines=ft,this._onDomNodeTop=Xt,this._onComputedHeight=qt}onDomNodeTop(it){this._onDomNodeTop(it)}onComputedHeight(it){this._onComputedHeight(it)}}class T{constructor(it,pe){this._id=it,this._domNode=pe}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class M{constructor(it){this._editor=it,this._ruleName=M._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),b.uN(this._ruleName)}set color(it){this._color!==it&&(this._color=it,this._updateStyle())}set height(it){this._height!==it&&(this._height=it,this._updateStyle())}_updateStyle(){b.uN(this._ruleName),b.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(it){it.column===1&&(it={lineNumber:it.lineNumber,column:2}),this._decorations.set([{range:i.e.fromPositions(it),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}M._IdGenerator=new C.R(".arrow-decoration-");class I{constructor(it,pe={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new m.SL,this.container=null,this._isShowing=!1,this.editor=it,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=B.I8(pe),B.jB(this.options,v,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(ye=>{const ft=this._getWidth(ye);this.domNode.style.width=ft+"px",this.domNode.style.left=this._getLeft(ye)+"px",this._onWidth(ft)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(it=>{this._viewZone&&it.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new M(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(it){it.frameColor&&(this.options.frameColor=it.frameColor),it.arrowColor&&(this.options.arrowColor=it.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const it=this.options.frameColor.toString();this.container.style.borderTopColor=it,this.container.style.borderBottomColor=it}if(this._arrow&&this.options.arrowColor){const it=this.options.arrowColor.toString();this._arrow.color=it}}_getWidth(it){return it.width-it.minimap.minimapWidth-it.verticalScrollbarWidth}_getLeft(it){return it.minimap.minimapWidth>0&&it.minimap.minimapLeft===0?it.minimap.minimapWidth:0}_onViewZoneTop(it){this.domNode.style.top=it+"px"}_onViewZoneHeight(it){if(this.domNode.style.height=`${it}px`,this.container){const pe=it-this._decoratingElementsHeight();this.container.style.height=`${pe}px`;const ye=this.editor.getLayoutInfo();this._doLayout(pe,this._getWidth(ye))}this._resizeSash&&this._resizeSash.layout()}get position(){const it=this._positionMarkerId.getRange(0);if(it)return it.getStartPosition()}show(it,pe){const ye=i.e.isIRange(it)?i.e.lift(it):i.e.fromPositions(it);this._isShowing=!0,this._showImpl(ye,pe),this._isShowing=!1,this._positionMarkerId.set([{range:ye,options:d.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(it=>{this._viewZone&&it.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const it=this.editor.getOption(61);let pe=0;if(this.options.showArrow){const ye=Math.round(it/3);pe+=2*ye}if(this.options.showFrame){const ye=Math.round(it/9);pe+=2*ye}return pe}_showImpl(it,pe){const ye=it.getStartPosition(),ft=this.editor.getLayoutInfo(),Xt=this._getWidth(ft);this.domNode.style.width=`${Xt}px`,this.domNode.style.left=this._getLeft(ft)+"px";const qt=document.createElement("div");qt.style.overflow="hidden";const Ft=this.editor.getOption(61),Ot=Math.max(12,this.editor.getLayoutInfo().height/Ft*.8);pe=Math.min(pe,Ot);let Mt=0,ni=0;if(this._arrow&&this.options.showArrow&&(Mt=Math.round(Ft/3),this._arrow.height=Mt,this._arrow.show(ye)),this.options.showFrame&&(ni=Math.round(Ft/9)),this.editor.changeViewZones(Ge=>{this._viewZone&&Ge.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new L(qt,ye.lineNumber,ye.column,pe,Te=>this._onViewZoneTop(Te),Te=>this._onViewZoneHeight(Te)),this._viewZone.id=Ge.addZone(this._viewZone),this._overlayWidget=new T(p+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Ge=this.options.frameWidth?this.options.frameWidth:ni;this.container.style.borderTopWidth=Ge+"px",this.container.style.borderBottomWidth=Ge+"px"}const Gt=pe*Ft-this._decoratingElementsHeight();this.container&&(this.container.style.top=Mt+"px",this.container.style.height=Gt+"px",this.container.style.overflow="hidden"),this._doLayout(Gt,Xt),this.options.keepEditorSelection||this.editor.setSelection(it);const Fe=this.editor.getModel();if(Fe){const Ge=it.endLineNumber+1;Ge<=Fe.getLineCount()?this.revealLine(Ge,!1):this.revealLine(Fe.getLineCount(),!0)}}revealLine(it,pe){pe?this.editor.revealLineInCenter(it,0):this.editor.revealLine(it,0)}setCssClass(it,pe){this.container&&(pe&&this.container.classList.remove(pe),this.container.classList.add(it))}_onWidth(it){}_doLayout(it,pe){}_relayout(it){this._viewZone&&this._viewZone.heightInLines!==it&&this.editor.changeViewZones(pe=>{this._viewZone&&(this._viewZone.heightInLines=it,pe.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new g.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let it;this._disposables.add(this._resizeSash.onDidStart(pe=>{this._viewZone&&(it={startY:pe.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{it=void 0})),this._disposables.add(this._resizeSash.onDidChange(pe=>{if(it){const ye=(pe.currentY-it.startY)/this.editor.getOption(61),ft=ye<0?Math.ceil(ye):Math.floor(ye),Xt=it.heightInLines+ft;Xt>5&&Xt<35&&this._relayout(Xt)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const it=this.editor.getLayoutInfo();return it.width-it.minimap.minimapWidth}}var P=s(63580),V=s(42499),$=s(38819),re=s(65026),ae=s(72065),ie=s(73910),se=function(We,it,pe,ye){var ft=arguments.length,Xt=ft<3?it:ye===null?ye=Object.getOwnPropertyDescriptor(it,pe):ye,qt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Xt=Reflect.decorate(We,it,pe,ye);else for(var Ft=We.length-1;Ft>=0;Ft--)(qt=We[Ft])&&(Xt=(ft<3?qt(Xt):ft>3?qt(it,pe,Xt):qt(it,pe))||Xt);return ft>3&&Xt&&Object.defineProperty(it,pe,Xt),Xt},X=function(We,it){return function(pe,ye){it(pe,ye,We)}};const ne=(0,ae.yh)("IPeekViewService");(0,re.z)(ne,class{constructor(){this._widgets=new Map}addExclusiveWidget(We,it){const pe=this._widgets.get(We);pe&&(pe.listener.dispose(),pe.widget.dispose());const ye=()=>{const ft=this._widgets.get(We);ft&&ft.widget===it&&(ft.listener.dispose(),this._widgets.delete(We))};this._widgets.set(We,{widget:it,listener:it.onDidClose(ye)})}});var Q;(function(We){We.inPeekEditor=new $.uy("inReferenceSearchEditor",!0,P.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),We.notInPeekEditor=We.inPeekEditor.toNegated()})(Q||(Q={}));let F=class{constructor(it,pe){it instanceof y.H&&Q.inPeekEditor.bindTo(pe)}dispose(){}};F.ID="editor.contrib.referenceController",F=se([X(1,$.i6)],F),(0,H._K)(F.ID,F);function te(We){const it=We.get(O.$).getFocusedCodeEditor();return it instanceof y.H?it.getParentEditor():it}const W={headerBackgroundColor:E.Il.white,primaryHeadingColor:E.Il.fromHex("#333333"),secondaryHeadingColor:E.Il.fromHex("#6c6c6cb3")};let G=class extends I{constructor(it,pe,ye){super(it,pe),this.instantiationService=ye,this._onDidClose=new Z.Q5,this.onDidClose=this._onDidClose.event,B.jB(this.options,W,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(it){const pe=this.options;it.headerBackgroundColor&&(pe.headerBackgroundColor=it.headerBackgroundColor),it.primaryHeadingColor&&(pe.primaryHeadingColor=it.primaryHeadingColor),it.secondaryHeadingColor&&(pe.secondaryHeadingColor=it.secondaryHeadingColor),super.style(it)}_applyStyles(){super._applyStyles();const it=this.options;this._headElement&&it.headerBackgroundColor&&(this._headElement.style.backgroundColor=it.headerBackgroundColor.toString()),this._primaryHeading&&it.primaryHeadingColor&&(this._primaryHeading.style.color=it.primaryHeadingColor.toString()),this._secondaryHeading&&it.secondaryHeadingColor&&(this._secondaryHeading.style.color=it.secondaryHeadingColor.toString()),this._bodyElement&&it.frameColor&&(this._bodyElement.style.borderColor=it.frameColor.toString())}_fillContainer(it){this.setCssClass("peekview-widget"),this._headElement=b.$(".head"),this._bodyElement=b.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),it.appendChild(this._headElement),it.appendChild(this._bodyElement)}_fillHead(it,pe){const ye=b.$(".peekview-title");this.options.supportOnTitleClick&&(ye.classList.add("clickable"),b.mu(ye,"click",qt=>this._onTitleClick(qt))),b.R3(this._headElement,ye),this._fillTitleIcon(ye),this._primaryHeading=b.$("span.filename"),this._secondaryHeading=b.$("span.dirname"),this._metaHeading=b.$("span.meta"),b.R3(ye,this._primaryHeading,this._secondaryHeading,this._metaHeading);const ft=b.$(".peekview-actions");b.R3(this._headElement,ft);const Xt=this._getActionBarOptions();this._actionbarWidget=new l.o(ft,Xt),this._disposables.add(this._actionbarWidget),pe||this._actionbarWidget.push(new z.aU("peekview.close",P.NC("label.close","Close"),j.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(it){}_getActionBarOptions(){return{actionViewItemProvider:V.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(it){}setTitle(it,pe){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=it,this._primaryHeading.setAttribute("title",it),pe?this._secondaryHeading.innerText=pe:b.PO(this._secondaryHeading))}setMetaTitle(it){this._metaHeading&&(it?(this._metaHeading.innerText=it,b.$Z(this._metaHeading)):b.Cp(this._metaHeading))}_doLayout(it,pe){if(!this._isShowing&&it<0){this.dispose();return}const ye=Math.ceil(this.editor.getOption(61)*1.2),ft=Math.round(it-(ye+2));this._doLayoutHead(ye,pe),this._doLayoutBody(ft,pe)}_doLayoutHead(it,pe){this._headElement&&(this._headElement.style.height=`${it}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(it,pe){this._bodyElement&&(this._bodyElement.style.height=`${it}px`)}};G=se([X(2,ae.TG)],G);const q=(0,ie.P6G)("peekViewTitle.background",{dark:(0,ie.ZnX)(ie.c63,.1),light:(0,ie.ZnX)(ie.c63,.1),hcDark:null,hcLight:null},P.NC("peekViewTitleBackground","Background color of the peek view title area.")),me=(0,ie.P6G)("peekViewTitleLabel.foreground",{dark:E.Il.white,light:E.Il.black,hcDark:E.Il.white,hcLight:ie.NOs},P.NC("peekViewTitleForeground","Color of the peek view title.")),w=(0,ie.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},P.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),we=(0,ie.P6G)("peekView.border",{dark:ie.c63,light:ie.c63,hcDark:ie.lRK,hcLight:ie.lRK},P.NC("peekViewBorder","Color of the peek view borders and arrow.")),xe=(0,ie.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:E.Il.black,hcLight:E.Il.white},P.NC("peekViewResultsBackground","Background color of the peek view result list.")),Ne=(0,ie.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:E.Il.white,hcLight:ie.NOs},P.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Ve=(0,ie.P6G)("peekViewResult.fileForeground",{dark:E.Il.white,light:"#1E1E1E",hcDark:E.Il.white,hcLight:ie.NOs},P.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),Ce=(0,ie.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},P.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),Ae=(0,ie.P6G)("peekViewResult.selectionForeground",{dark:E.Il.white,light:"#6C6C6C",hcDark:E.Il.white,hcLight:ie.NOs},P.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),$e=(0,ie.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:E.Il.black,hcLight:E.Il.white},P.NC("peekViewEditorBackground","Background color of the peek view editor.")),je=(0,ie.P6G)("peekViewEditorGutter.background",{dark:$e,light:$e,hcDark:$e,hcLight:$e},P.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),at=(0,ie.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},P.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),pt=(0,ie.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},P.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),bt=(0,ie.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:ie.xL1,hcLight:ie.xL1},P.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},79694:function(Yt,Ye,s){"use strict";s.d(Ye,{x:function(){return E}});var b=s(91741),l=s(50187),z=s(24314),j=function(Z,B,H,O){function y(g){return g instanceof H?g:new H(function(C){C(g)})}return new(H||(H=Promise))(function(g,C){function m(_){try{d(O.next(_))}catch(v){C(v)}}function i(_){try{d(O.throw(_))}catch(v){C(v)}}function d(_){_.done?g(_.value):y(_.value).then(m,i)}d((O=O.apply(Z,B||[])).next())})};class E{provideSelectionRanges(B,H){return j(this,void 0,void 0,function*(){const O=[];for(const y of H){const g=[];O.push(g);const C=new Map;yield new Promise(m=>E._bracketsRightYield(m,0,B,y,C)),yield new Promise(m=>E._bracketsLeftYield(m,0,B,y,C,g))}return O})}static _bracketsRightYield(B,H,O,y,g){const C=new Map,m=Date.now();for(;;){if(H>=E._maxRounds){B();break}if(!y){B();break}const i=O.bracketPairs.findNextBracket(y);if(!i){B();break}if(Date.now()-m>E._maxDuration){setTimeout(()=>E._bracketsRightYield(B,H+1,O,y,g));break}if(i.bracketInfo.isOpeningBracket){const _=i.bracketInfo.bracketText,v=C.has(_)?C.get(_):0;C.set(_,v+1)}else{const _=i.bracketInfo.getClosedBrackets()[0].bracketText;let v=C.has(_)?C.get(_):0;if(v-=1,C.set(_,Math.max(0,v)),v<0){let p=g.get(_);p||(p=new b.S,g.set(_,p)),p.push(i.range)}}y=i.range.getEndPosition()}}static _bracketsLeftYield(B,H,O,y,g,C){const m=new Map,i=Date.now();for(;;){if(H>=E._maxRounds&&g.size===0){B();break}if(!y){B();break}const d=O.bracketPairs.findPrevBracket(y);if(!d){B();break}if(Date.now()-i>E._maxDuration){setTimeout(()=>E._bracketsLeftYield(B,H+1,O,y,g,C));break}if(d.bracketInfo.isOpeningBracket){const v=d.bracketInfo.bracketText;let p=m.has(v)?m.get(v):0;if(p-=1,m.set(v,Math.max(0,p)),p<0){const L=g.get(v);if(L){const T=L.shift();L.size===0&&g.delete(v);const M=z.e.fromPositions(d.range.getEndPosition(),T.getStartPosition()),I=z.e.fromPositions(d.range.getStartPosition(),T.getEndPosition());C.push({range:M}),C.push({range:I}),E._addBracketLeading(O,I,C)}}}else{const v=d.bracketInfo.getClosedBrackets()[0].bracketText,p=m.has(v)?m.get(v):0;m.set(v,p+1)}y=d.range.getStartPosition()}}static _addBracketLeading(B,H,O){if(H.startLineNumber===H.endLineNumber)return;const y=H.startLineNumber,g=B.getLineFirstNonWhitespaceColumn(y);g!==0&&g!==H.startColumn&&(O.push({range:z.e.fromPositions(new l.L(y,g),H.getEndPosition())}),O.push({range:z.e.fromPositions(new l.L(y,1),H.getEndPosition())}));const C=y-1;if(C>0){const m=B.getLineFirstNonWhitespaceColumn(C);m===H.startColumn&&m!==B.getLineLastNonWhitespaceColumn(C)&&(O.push({range:z.e.fromPositions(new l.L(C,m),H.getEndPosition())}),O.push({range:z.e.fromPositions(new l.L(C,1),H.getEndPosition())}))}}}E._maxDuration=30,E._maxRounds=2},98762:function(Yt,Ye,s){"use strict";s.d(Ye,{f:function(){return v},z:function(){return L}});var b=s(5976),l=s(98401),z=s(16830),j=s(50187),E=s(3860),Z=s(29102),B=s(4256),H=s(71922),O=s(55621),y=s(63580),g=s(38819),C=s(43557),m=s(3461),i=function(T,M,I,P){var V=arguments.length,$=V<3?M:P===null?P=Object.getOwnPropertyDescriptor(M,I):P,re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(T,M,I,P);else for(var ae=T.length-1;ae>=0;ae--)(re=T[ae])&&($=(V<3?re($):V>3?re(M,I,$):re(M,I))||$);return V>3&&$&&Object.defineProperty(M,I,$),$},d=function(T,M){return function(I,P){M(I,P,T)}};const _={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let v=class Wc{constructor(M,I,P,V,$){this._editor=M,this._logService=I,this._languageFeaturesService=P,this._languageConfigurationService=$,this._snippetListener=new b.SL,this._modelVersionId=-1,this._inSnippet=Wc.InSnippetMode.bindTo(V),this._hasNextTabstop=Wc.HasNextTabstop.bindTo(V),this._hasPrevTabstop=Wc.HasPrevTabstop.bindTo(V)}static get(M){return M.getContribution(Wc.ID)}dispose(){var M;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(M=this._session)===null||M===void 0||M.dispose(),this._snippetListener.dispose()}apply(M,I){try{this._doInsert(M,typeof I>"u"?_:Object.assign(Object.assign({},_),I))}catch(P){this.cancel(),this._logService.error(P),this._logService.error("snippet_error"),this._logService.error("insert_edits=",M),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(M,I){try{this._doInsert(M,typeof I>"u"?_:Object.assign(Object.assign({},_),I))}catch(P){this.cancel(),this._logService.error(P),this._logService.error("snippet_error"),this._logService.error("insert_template=",M),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(M,I){var P;if(this._editor.hasModel()){if(this._snippetListener.clear(),I.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof M!="string"&&this.cancel(),this._session?((0,l.p_)(typeof M=="string"),this._session.merge(M,I)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new m.l(this._editor,M,I,this._languageConfigurationService),this._session.insert()),I.undoStopAfter&&this._editor.getModel().pushStackElement(),!((P=this._session)===null||P===void 0)&&P.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:($,re)=>{if(!this._session||$!==this._editor.getModel()||!j.L.equals(this._editor.getPosition(),re))return;const{activeChoice:ae}=this._session;if(!ae||ae.choice.options.length===0)return;const ie=$.getValueInRange(ae.range),se=!!ae.choice.options.find(ne=>ne.value===ie),X=[];for(let ne=0;ne<ae.choice.options.length;ne++){const Q=ae.choice.options[ne];X.push({kind:13,label:Q.value,insertText:Q.value,sortText:"a".repeat(ne+1),range:ae.range,filterText:se?`${ie}_${Q.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,y.NC)("next","Go to next placeholder...")}})}return{suggestions:X}}};const V=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(V)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(V=>V.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:M}=this._session;if(!M||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==M.choice&&(this._currentChoice=M.choice,queueMicrotask(()=>{(0,O.i5)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(M=!1){var I;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(I=this._session)===null||I===void 0||I.dispose(),this._session=void 0,this._modelVersionId=-1,M&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};v.ID="snippetController2",v.InSnippetMode=new g.uy("inSnippetMode",!1,(0,y.NC)("inSnippetMode","Whether the editor in current in snippet mode")),v.HasNextTabstop=new g.uy("hasNextTabstop",!1,(0,y.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),v.HasPrevTabstop=new g.uy("hasPrevTabstop",!1,(0,y.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),v=i([d(1,C.VZ),d(2,H.p),d(3,g.i6),d(4,B.c_)],v),(0,z._K)(v.ID,v);const p=z._l.bindToContribution(v.get);(0,z.fK)(new p({id:"jumpToNextSnippetPlaceholder",precondition:g.Ao.and(v.InSnippetMode,v.HasNextTabstop),handler:T=>T.next(),kbOpts:{weight:130,kbExpr:Z.u.editorTextFocus,primary:2}})),(0,z.fK)(new p({id:"jumpToPrevSnippetPlaceholder",precondition:g.Ao.and(v.InSnippetMode,v.HasPrevTabstop),handler:T=>T.prev(),kbOpts:{weight:130,kbExpr:Z.u.editorTextFocus,primary:1026}})),(0,z.fK)(new p({id:"leaveSnippet",precondition:v.InSnippetMode,handler:T=>T.cancel(!0),kbOpts:{weight:130,kbExpr:Z.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,z.fK)(new p({id:"acceptSnippet",precondition:v.InSnippetMode,handler:T=>T.finish()}));function L(T,M,I){const P=v.get(T);return P?(T.focus(),P.apply(I.map(V=>({range:E.Y.liftSelection(V),template:M}))),P.isInSnippet()):!1}},35084:function(Yt,Ye,s){"use strict";s.d(Ye,{Lv:function(){return Z},Vm:function(){return E},Yj:function(){return C},xv:function(){return z},y1:function(){return g}});class b{constructor(){this.value="",this.pos=0}static isDigitCharacter(i){return i>=48&&i<=57}static isVariableCharacter(i){return i===95||i>=97&&i<=122||i>=65&&i<=90}text(i){this.value=i,this.pos=0}tokenText(i){return this.value.substr(i.pos,i.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const i=this.pos;let d=0,_=this.value.charCodeAt(i),v;if(v=b._table[_],typeof v=="number")return this.pos+=1,{type:v,pos:i,len:1};if(b.isDigitCharacter(_)){v=8;do d+=1,_=this.value.charCodeAt(i+d);while(b.isDigitCharacter(_));return this.pos+=d,{type:v,pos:i,len:d}}if(b.isVariableCharacter(_)){v=9;do _=this.value.charCodeAt(i+ ++d);while(b.isVariableCharacter(_)||b.isDigitCharacter(_));return this.pos+=d,{type:v,pos:i,len:d}}v=10;do d+=1,_=this.value.charCodeAt(i+d);while(!isNaN(_)&&typeof b._table[_]>"u"&&!b.isDigitCharacter(_)&&!b.isVariableCharacter(_));return this.pos+=d,{type:v,pos:i,len:d}}}b._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class l{constructor(){this._children=[]}appendChild(i){return i instanceof z&&this._children[this._children.length-1]instanceof z?this._children[this._children.length-1].value+=i.value:(i.parent=this,this._children.push(i)),this}replace(i,d){const{parent:_}=i,v=_.children.indexOf(i),p=_.children.slice(0);p.splice(v,1,...d),_._children=p,function L(T,M){for(const I of T)I.parent=M,L(I.children,I)}(d,_)}get children(){return this._children}get snippet(){let i=this;for(;;){if(!i)return;if(i instanceof g)return i;i=i.parent}}toString(){return this.children.reduce((i,d)=>i+d.toString(),"")}len(){return 0}}class z extends l{constructor(i){super(),this.value=i}toString(){return this.value}len(){return this.value.length}clone(){return new z(this.value)}}class j extends l{}class E extends j{constructor(i){super(),this.index=i}static compareByIndex(i,d){return i.index===d.index?0:i.isFinalTabstop?1:d.isFinalTabstop||i.index<d.index?-1:i.index>d.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof Z?this._children[0]:void 0}clone(){const i=new E(this.index);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(d=>d.clone()),i}}class Z extends l{constructor(){super(...arguments),this.options=[]}appendChild(i){return i instanceof z&&(i.parent=this,this.options.push(i)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const i=new Z;return this.options.forEach(i.appendChild,i),i}}class B extends l{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(i){const d=this;let _=!1,v=i.replace(this.regexp,function(){return _=!0,d._replace(Array.prototype.slice.call(arguments,0,-2))});return!_&&this._children.some(p=>p instanceof H&&!!p.elseValue)&&(v=this._replace([])),v}_replace(i){let d="";for(const _ of this._children)if(_ instanceof H){let v=i[_.index]||"";v=_.resolve(v),d+=v}else d+=_.toString();return d}toString(){return""}clone(){const i=new B;return i.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),i._children=this.children.map(d=>d.clone()),i}}class H extends l{constructor(i,d,_,v){super(),this.index=i,this.shorthandName=d,this.ifValue=_,this.elseValue=v}resolve(i){return this.shorthandName==="upcase"?i?i.toLocaleUpperCase():"":this.shorthandName==="downcase"?i?i.toLocaleLowerCase():"":this.shorthandName==="capitalize"?i?i[0].toLocaleUpperCase()+i.substr(1):"":this.shorthandName==="pascalcase"?i?this._toPascalCase(i):"":this.shorthandName==="camelcase"?i?this._toCamelCase(i):"":i&&typeof this.ifValue=="string"?this.ifValue:!i&&typeof this.elseValue=="string"?this.elseValue:i||""}_toPascalCase(i){const d=i.match(/[a-z0-9]+/gi);return d?d.map(_=>_.charAt(0).toUpperCase()+_.substr(1)).join(""):i}_toCamelCase(i){const d=i.match(/[a-z0-9]+/gi);return d?d.map((_,v)=>v===0?_.charAt(0).toLowerCase()+_.substr(1):_.charAt(0).toUpperCase()+_.substr(1)).join(""):i}clone(){return new H(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class O extends j{constructor(i){super(),this.name=i}resolve(i){let d=i.resolve(this);return this.transform&&(d=this.transform.resolve(d||"")),d!==void 0?(this._children=[new z(d)],!0):!1}clone(){const i=new O(this.name);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(d=>d.clone()),i}}function y(m,i){const d=[...m];for(;d.length>0;){const _=d.shift();if(!i(_))break;d.unshift(..._.children)}}class g extends l{get placeholderInfo(){if(!this._placeholders){const i=[];let d;this.walk(function(_){return _ instanceof E&&(i.push(_),d=!d||d.index<_.index?_:d),!0}),this._placeholders={all:i,last:d}}return this._placeholders}get placeholders(){const{all:i}=this.placeholderInfo;return i}offset(i){let d=0,_=!1;return this.walk(v=>v===i?(_=!0,!1):(d+=v.len(),!0)),_?d:-1}fullLen(i){let d=0;return y([i],_=>(d+=_.len(),!0)),d}enclosingPlaceholders(i){const d=[];let{parent:_}=i;for(;_;)_ instanceof E&&d.push(_),_=_.parent;return d}resolveVariables(i){return this.walk(d=>(d instanceof O&&d.resolve(i)&&(this._placeholders=void 0),!0)),this}appendChild(i){return this._placeholders=void 0,super.appendChild(i)}replace(i,d){return this._placeholders=void 0,super.replace(i,d)}clone(){const i=new g;return this._children=this.children.map(d=>d.clone()),i}walk(i){y(this.children,i)}}class C{constructor(){this._scanner=new b,this._token={type:14,pos:0,len:0}}static escape(i){return i.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(i){return/\${?CLIPBOARD/.test(i)}parse(i,d,_){const v=new g;return this.parseFragment(i,v),this.ensureFinalTabstop(v,_??!1,d??!1),v}parseFragment(i,d){const _=d.children.length;for(this._scanner.text(i),this._token=this._scanner.next();this._parse(d););const v=new Map,p=[];d.walk(L=>(L instanceof E&&(L.isFinalTabstop?v.set(0,void 0):!v.has(L.index)&&L.children.length>0?v.set(L.index,L.children):p.push(L)),!0));for(const L of p){const T=v.get(L.index);if(T){const M=new E(L.index);M.transform=L.transform;for(const I of T)M.appendChild(I.clone());d.replace(L,[M])}}return d.children.slice(_)}ensureFinalTabstop(i,d,_){(d||_&&i.placeholders.length>0)&&(i.placeholders.find(p=>p.index===0)||i.appendChild(new E(0)))}_accept(i,d){if(i===void 0||this._token.type===i){const _=d?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),_}return!1}_backTo(i){return this._scanner.pos=i.pos+i.len,this._token=i,!1}_until(i){const d=this._token;for(;this._token.type!==i;){if(this._token.type===14)return!1;if(this._token.type===5){const v=this._scanner.next();if(v.type!==0&&v.type!==4&&v.type!==5)return!1}this._token=this._scanner.next()}const _=this._scanner.value.substring(d.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),_}_parse(i){return this._parseEscaped(i)||this._parseTabstopOrVariableName(i)||this._parseComplexPlaceholder(i)||this._parseComplexVariable(i)||this._parseAnything(i)}_parseEscaped(i){let d;return(d=this._accept(5,!0))?(d=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||d,i.appendChild(new z(d)),!0):!1}_parseTabstopOrVariableName(i){let d;const _=this._token;return this._accept(0)&&(d=this._accept(9,!0)||this._accept(8,!0))?(i.appendChild(/^\d+$/.test(d)?new E(Number(d)):new O(d)),!0):this._backTo(_)}_parseComplexPlaceholder(i){let d;const _=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(8,!0))))return this._backTo(_);const p=new E(Number(d));if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(p),!0;if(!this._parse(p))return i.appendChild(new z("${"+d+":")),p.children.forEach(i.appendChild,i),!0}else if(p.index>0&&this._accept(7)){const L=new Z;for(;;){if(this._parseChoiceElement(L)){if(this._accept(2))continue;if(this._accept(7)&&(p.appendChild(L),this._accept(4)))return i.appendChild(p),!0}return this._backTo(_),!1}}else return this._accept(6)?this._parseTransform(p)?(i.appendChild(p),!0):(this._backTo(_),!1):this._accept(4)?(i.appendChild(p),!0):this._backTo(_)}_parseChoiceElement(i){const d=this._token,_=[];for(;!(this._token.type===2||this._token.type===7);){let v;if((v=this._accept(5,!0))?v=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||v:v=this._accept(void 0,!0),!v)return this._backTo(d),!1;_.push(v)}return _.length===0?(this._backTo(d),!1):(i.appendChild(new z(_.join(""))),!0)}_parseComplexVariable(i){let d;const _=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(9,!0))))return this._backTo(_);const p=new O(d);if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(p),!0;if(!this._parse(p))return i.appendChild(new z("${"+d+":")),p.children.forEach(i.appendChild,i),!0}else return this._accept(6)?this._parseTransform(p)?(i.appendChild(p),!0):(this._backTo(_),!1):this._accept(4)?(i.appendChild(p),!0):this._backTo(_)}_parseTransform(i){const d=new B;let _="",v="";for(;!this._accept(6);){let p;if(p=this._accept(5,!0)){p=this._accept(6,!0)||p,_+=p;continue}if(this._token.type!==14){_+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let p;if(p=this._accept(5,!0)){p=this._accept(5,!0)||this._accept(6,!0)||p,d.appendChild(new z(p));continue}if(!(this._parseFormatString(d)||this._parseAnything(d)))return!1}for(;!this._accept(4);){if(this._token.type!==14){v+=this._accept(void 0,!0);continue}return!1}try{d.regexp=new RegExp(_,v)}catch{return!1}return i.transform=d,!0}_parseFormatString(i){const d=this._token;if(!this._accept(0))return!1;let _=!1;this._accept(3)&&(_=!0);const v=this._accept(8,!0);if(v)if(_){if(this._accept(4))return i.appendChild(new H(Number(v))),!0;if(!this._accept(1))return this._backTo(d),!1}else return i.appendChild(new H(Number(v))),!0;else return this._backTo(d),!1;if(this._accept(6)){const p=this._accept(9,!0);return!p||!this._accept(4)?(this._backTo(d),!1):(i.appendChild(new H(Number(v),p)),!0)}else if(this._accept(11)){const p=this._until(4);if(p)return i.appendChild(new H(Number(v),void 0,p,void 0)),!0}else if(this._accept(12)){const p=this._until(4);if(p)return i.appendChild(new H(Number(v),void 0,void 0,p)),!0}else if(this._accept(13)){const p=this._until(1);if(p){const L=this._until(4);if(L)return i.appendChild(new H(Number(v),void 0,p,L)),!0}}else{const p=this._until(4);if(p)return i.appendChild(new H(Number(v),void 0,void 0,p)),!0}return this._backTo(d),!1}_parseAnything(i){return this._token.type!==14?(i.appendChild(new z(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},3461:function(Yt,Ye,s){"use strict";s.d(Ye,{l:function(){return W}});var b=s(9488),l=s(5976),z=s(97295),j=s(69386),E=s(24314),Z=s(3860),B=s(4256),H=s(22529),O=s(44349),y=s(40382),g=s(35084),C=s(15527),m=s(1432);function i(G,q=m.ED){return(0,C.oP)(G,q)?G.charAt(0).toUpperCase()+G.slice(1):G}let d=Object.create(null);var _=s(55336),v=s(95935),p=s(98e3),L=s(63580),T=function(G,q,me,w){var we=arguments.length,xe=we<3?q:w===null?w=Object.getOwnPropertyDescriptor(q,me):w,Ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(G,q,me,w);else for(var Ve=G.length-1;Ve>=0;Ve--)(Ne=G[Ve])&&(xe=(we<3?Ne(xe):we>3?Ne(q,me,xe):Ne(q,me))||xe);return we>3&&xe&&Object.defineProperty(q,me,xe),xe},M=function(G,q){return function(me,w){q(me,w,G)}};const I=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class P{constructor(q){this._delegates=q}resolve(q){for(const me of this._delegates){const w=me.resolve(q);if(w!==void 0)return w}}}class V{constructor(q,me,w,we){this._model=q,this._selection=me,this._selectionIdx=w,this._overtypingCapturer=we}resolve(q){const{name:me}=q;if(me==="SELECTION"||me==="TM_SELECTED_TEXT"){let w=this._model.getValueInRange(this._selection)||void 0,we=this._selection.startLineNumber!==this._selection.endLineNumber;if(!w&&this._overtypingCapturer){const xe=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);xe&&(w=xe.value,we=xe.multiline)}if(w&&we&&q.snippet){const xe=this._model.getLineContent(this._selection.startLineNumber),Ne=(0,z.V8)(xe,0,this._selection.startColumn-1);let Ve=Ne;q.snippet.walk(Ae=>Ae===q?!1:(Ae instanceof g.xv&&(Ve=(0,z.V8)((0,z.uq)(Ae.value).pop())),!0));const Ce=(0,z.Mh)(Ve,Ne);w=w.replace(/(\r\n|\r|\n)(.*)/g,(Ae,$e,je)=>`${$e}${Ve.substr(Ce)}${je}`)}return w}else{if(me==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(me==="TM_CURRENT_WORD"){const w=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return w&&w.word||void 0}else{if(me==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(me==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(me==="CURSOR_INDEX")return String(this._selectionIdx);if(me==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class ${constructor(q,me){this._labelService=q,this._model=me}resolve(q){const{name:me}=q;if(me==="TM_FILENAME")return _.EZ(this._model.uri.fsPath);if(me==="TM_FILENAME_BASE"){const w=_.EZ(this._model.uri.fsPath),we=w.lastIndexOf(".");return we<=0?w:w.slice(0,we)}else{if(me==="TM_DIRECTORY")return _.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,v.XX)(this._model.uri));if(me==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(me==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class re{constructor(q,me,w,we){this._readClipboardText=q,this._selectionIdx=me,this._selectionCount=w,this._spread=we}resolve(q){if(q.name!=="CLIPBOARD")return;const me=this._readClipboardText();if(me){if(this._spread){const w=me.split(/\r\n|\n|\r/).filter(we=>!(0,z.m5)(we));if(w.length===this._selectionCount)return w[this._selectionIdx]}return me}}}let ae=class{constructor(q,me,w){this._model=q,this._selection=me,this._languageConfigurationService=w}resolve(q){const{name:me}=q,w=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),we=this._languageConfigurationService.getLanguageConfiguration(w).comments;if(we){if(me==="LINE_COMMENT")return we.lineCommentToken||void 0;if(me==="BLOCK_COMMENT_START")return we.blockCommentStartToken||void 0;if(me==="BLOCK_COMMENT_END")return we.blockCommentEndToken||void 0}}};ae=T([M(2,B.c_)],ae);class ie{constructor(){this._date=new Date}resolve(q){const{name:me}=q;if(me==="CURRENT_YEAR")return String(this._date.getFullYear());if(me==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(me==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(me==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(me==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(me==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(me==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(me==="CURRENT_DAY_NAME")return ie.dayNames[this._date.getDay()];if(me==="CURRENT_DAY_NAME_SHORT")return ie.dayNamesShort[this._date.getDay()];if(me==="CURRENT_MONTH_NAME")return ie.monthNames[this._date.getMonth()];if(me==="CURRENT_MONTH_NAME_SHORT")return ie.monthNamesShort[this._date.getMonth()];if(me==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}ie.dayNames=[L.NC("Sunday","Sunday"),L.NC("Monday","Monday"),L.NC("Tuesday","Tuesday"),L.NC("Wednesday","Wednesday"),L.NC("Thursday","Thursday"),L.NC("Friday","Friday"),L.NC("Saturday","Saturday")],ie.dayNamesShort=[L.NC("SundayShort","Sun"),L.NC("MondayShort","Mon"),L.NC("TuesdayShort","Tue"),L.NC("WednesdayShort","Wed"),L.NC("ThursdayShort","Thu"),L.NC("FridayShort","Fri"),L.NC("SaturdayShort","Sat")],ie.monthNames=[L.NC("January","January"),L.NC("February","February"),L.NC("March","March"),L.NC("April","April"),L.NC("May","May"),L.NC("June","June"),L.NC("July","July"),L.NC("August","August"),L.NC("September","September"),L.NC("October","October"),L.NC("November","November"),L.NC("December","December")],ie.monthNamesShort=[L.NC("JanuaryShort","Jan"),L.NC("FebruaryShort","Feb"),L.NC("MarchShort","Mar"),L.NC("AprilShort","Apr"),L.NC("MayShort","May"),L.NC("JuneShort","Jun"),L.NC("JulyShort","Jul"),L.NC("AugustShort","Aug"),L.NC("SeptemberShort","Sep"),L.NC("OctoberShort","Oct"),L.NC("NovemberShort","Nov"),L.NC("DecemberShort","Dec")];class se{constructor(q){this._workspaceService=q}resolve(q){if(!this._workspaceService)return;const me=(0,y.uT)(this._workspaceService.getWorkspace());if(me){if(q.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(me);if(q.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(me)}}_resolveWorkspaceName(q){if((0,y.eb)(q))return _.EZ(q.uri.path);let me=_.EZ(q.configPath.path);return me.endsWith(y.A6)&&(me=me.substr(0,me.length-y.A6.length-1)),me}_resoveWorkspacePath(q){if((0,y.eb)(q))return i(q.uri.fsPath);const me=_.EZ(q.configPath.path);let w=q.configPath.fsPath;return w.endsWith(me)&&(w=w.substr(0,w.length-me.length-1)),w?i(w):"/"}}class X{resolve(q){const{name:me}=q;if(me==="RANDOM")return Math.random().toString().slice(-6);if(me==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(me==="UUID")return(0,p.R)()}}var ne=function(G,q,me,w){var we=arguments.length,xe=we<3?q:w===null?w=Object.getOwnPropertyDescriptor(q,me):w,Ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(G,q,me,w);else for(var Ve=G.length-1;Ve>=0;Ve--)(Ne=G[Ve])&&(xe=(we<3?Ne(xe):we>3?Ne(q,me,xe):Ne(q,me))||xe);return we>3&&xe&&Object.defineProperty(q,me,xe),xe},Q=function(G,q){return function(me,w){q(me,w,G)}};class F{constructor(q,me,w){this._editor=q,this._snippet=me,this._snippetLineLeadingWhitespace=w,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,b.vM)(me.placeholders,g.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(q){this._offset=q.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const q=this._editor.getModel();this._editor.changeDecorations(me=>{for(const w of this._snippet.placeholders){const we=this._snippet.offset(w),xe=this._snippet.fullLen(w),Ne=E.e.fromPositions(q.getPositionAt(this._offset+we),q.getPositionAt(this._offset+we+xe)),Ve=w.isFinalTabstop?F._decor.inactiveFinal:F._decor.inactive,Ce=me.addDecoration(Ne,Ve);this._placeholderDecorations.set(w,Ce)}})}move(q){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const we=[];for(const xe of this._placeholderGroups[this._placeholderGroupsIdx])if(xe.transform){const Ne=this._placeholderDecorations.get(xe),Ve=this._editor.getModel().getDecorationRange(Ne),Ce=this._editor.getModel().getValueInRange(Ve),Ae=xe.transform.resolve(Ce).split(/\r\n|\r|\n/);for(let $e=1;$e<Ae.length;$e++)Ae[$e]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+Ae[$e]);we.push(j.h.replace(Ve,Ae.join(this._editor.getModel().getEOL())))}we.length>0&&this._editor.executeEdits("snippet.placeholderTransform",we)}let me=!1;q===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,me=!0):q===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,me=!0);const w=this._editor.getModel().changeDecorations(we=>{const xe=new Set,Ne=[];for(const Ve of this._placeholderGroups[this._placeholderGroupsIdx]){const Ce=this._placeholderDecorations.get(Ve),Ae=this._editor.getModel().getDecorationRange(Ce);Ne.push(new Z.Y(Ae.startLineNumber,Ae.startColumn,Ae.endLineNumber,Ae.endColumn)),me=me&&this._hasPlaceholderBeenCollapsed(Ve),we.changeDecorationOptions(Ce,Ve.isFinalTabstop?F._decor.activeFinal:F._decor.active),xe.add(Ve);for(const $e of this._snippet.enclosingPlaceholders(Ve)){const je=this._placeholderDecorations.get($e);we.changeDecorationOptions(je,$e.isFinalTabstop?F._decor.activeFinal:F._decor.active),xe.add($e)}}for(const[Ve,Ce]of this._placeholderDecorations)xe.has(Ve)||we.changeDecorationOptions(Ce,Ve.isFinalTabstop?F._decor.inactiveFinal:F._decor.inactive);return Ne});return me?this.move(q):w??[]}_hasPlaceholderBeenCollapsed(q){let me=q;for(;me;){if(me instanceof g.Vm){const w=this._placeholderDecorations.get(me);if(this._editor.getModel().getDecorationRange(w).isEmpty()&&me.toString().length>0)return!0}me=me.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const q=new Map;for(const me of this._placeholderGroups){let w;for(const we of me){if(we.isFinalTabstop)break;w||(w=[],q.set(we.index,w));const xe=this._placeholderDecorations.get(we),Ne=this._editor.getModel().getDecorationRange(xe);if(!Ne){q.delete(we.index);break}w.push(Ne)}}return q}get activeChoice(){if(!this._placeholderDecorations)return;const q=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!q?.choice)return;const me=this._placeholderDecorations.get(q);if(!me)return;const w=this._editor.getModel().getDecorationRange(me);if(w)return{range:w,choice:q.choice}}get hasChoice(){let q=!1;return this._snippet.walk(me=>(q=me instanceof g.Lv,!q)),q}merge(q){const me=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(w=>{for(const we of this._placeholderGroups[this._placeholderGroupsIdx]){const xe=q.shift();console.assert(xe._offset!==-1),console.assert(!xe._placeholderDecorations);const Ne=xe._snippet.placeholderInfo.last.index;for(const Ce of xe._snippet.placeholderInfo.all)Ce.isFinalTabstop?Ce.index=we.index+(Ne+1)/this._nestingLevel:Ce.index=we.index+Ce.index/this._nestingLevel;this._snippet.replace(we,xe._snippet.children);const Ve=this._placeholderDecorations.get(we);w.removeDecoration(Ve),this._placeholderDecorations.delete(we);for(const Ce of xe._snippet.placeholders){const Ae=xe._snippet.offset(Ce),$e=xe._snippet.fullLen(Ce),je=E.e.fromPositions(me.getPositionAt(xe._offset+Ae),me.getPositionAt(xe._offset+Ae+$e)),at=w.addDecoration(je,F._decor.inactive);this._placeholderDecorations.set(Ce,at)}}this._placeholderGroups=(0,b.vM)(this._snippet.placeholders,g.Vm.compareByIndex)})}}F._decor={active:H.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:H.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:H.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:H.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const te={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let W=class Qr{constructor(q,me,w=te,we){this._editor=q,this._template=me,this._options=w,this._languageConfigurationService=we,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(q,me,w,we,xe){const Ne=q.getLineContent(me.lineNumber),Ve=(0,z.V8)(Ne,0,me.column-1);let Ce;return w.walk(Ae=>{if(!(Ae instanceof g.xv)||Ae.parent instanceof g.Lv)return!0;const $e=Ae.value.split(/\r\n|\r|\n/);if(we){const at=w.offset(Ae);if(at===0)$e[0]=q.normalizeIndentation($e[0]);else{Ce=Ce??w.toString();const pt=Ce.charCodeAt(at-1);(pt===10||pt===13)&&($e[0]=q.normalizeIndentation(Ve+$e[0]))}for(let pt=1;pt<$e.length;pt++)$e[pt]=q.normalizeIndentation(Ve+$e[pt])}const je=$e.join(q.getEOL());return je!==Ae.value&&(Ae.parent.replace(Ae,[new g.xv(je)]),Ce=void 0),!0}),Ve}static adjustSelection(q,me,w,we){if(w!==0||we!==0){const{positionLineNumber:xe,positionColumn:Ne}=me,Ve=Ne-w,Ce=Ne+we,Ae=q.validateRange({startLineNumber:xe,startColumn:Ve,endLineNumber:xe,endColumn:Ce});me=Z.Y.createWithDirection(Ae.startLineNumber,Ae.startColumn,Ae.endLineNumber,Ae.endColumn,me.getDirection())}return me}static createEditsAndSnippetsFromSelections(q,me,w,we,xe,Ne,Ve,Ce,Ae){const $e=[],je=[];if(!q.hasModel())return{edits:$e,snippets:je};const at=q.getModel(),pt=q.invokeWithinContext(Xt=>Xt.get(y.ec)),bt=q.invokeWithinContext(Xt=>new $(Xt.get(O.e),at)),We=()=>Ve,it=at.getValueInRange(Qr.adjustSelection(at,q.getSelection(),w,0)),pe=at.getValueInRange(Qr.adjustSelection(at,q.getSelection(),0,we)),ye=at.getLineFirstNonWhitespaceColumn(q.getSelection().positionLineNumber),ft=q.getSelections().map((Xt,qt)=>({selection:Xt,idx:qt})).sort((Xt,qt)=>E.e.compareRangesUsingStarts(Xt.selection,qt.selection));for(const{selection:Xt,idx:qt}of ft){let Ft=Qr.adjustSelection(at,Xt,w,0),Ot=Qr.adjustSelection(at,Xt,0,we);it!==at.getValueInRange(Ft)&&(Ft=Xt),pe!==at.getValueInRange(Ot)&&(Ot=Xt);const Mt=Xt.setStartPosition(Ft.startLineNumber,Ft.startColumn).setEndPosition(Ot.endLineNumber,Ot.endColumn),ni=new g.Yj().parse(me,!0,xe),Gt=Mt.getStartPosition(),Fe=Qr.adjustWhitespace(at,Gt,ni,Ne||qt>0&&ye!==at.getLineFirstNonWhitespaceColumn(Xt.positionLineNumber),!0);ni.resolveVariables(new P([bt,new re(We,qt,ft.length,q.getOption(73)==="spread"),new V(at,Xt,qt,Ce),new ae(at,Xt,Ae),new ie,new se(pt),new X])),$e[qt]=j.h.replace(Mt,ni.toString()),$e[qt].identifier={major:qt,minor:0},$e[qt]._isTracked=!0,je[qt]=new F(q,ni,Fe)}return{edits:$e,snippets:je}}static createEditsAndSnippetsFromEdits(q,me,w,we,xe,Ne,Ve){if(!q.hasModel()||me.length===0)return{edits:[],snippets:[]};const Ce=[],Ae=q.getModel(),$e=new g.Yj,je=new g.y1,at=new P([q.invokeWithinContext(bt=>new $(bt.get(O.e),Ae)),new re(()=>xe,0,q.getSelections().length,q.getOption(73)==="spread"),new V(Ae,q.getSelection(),0,Ne),new ae(Ae,q.getSelection(),Ve),new ie,new se(q.invokeWithinContext(bt=>bt.get(y.ec))),new X]);me=me.sort((bt,We)=>E.e.compareRangesUsingStarts(bt.range,We.range));let pt=0;for(let bt=0;bt<me.length;bt++){const{range:We,template:it}=me[bt];if(bt>0){const Xt=me[bt-1].range,qt=E.e.fromPositions(Xt.getEndPosition(),We.getStartPosition()),Ft=new g.xv(Ae.getValueInRange(qt));je.appendChild(Ft),pt+=Ft.value.length}$e.parseFragment(it,je),je.resolveVariables(at);const pe=je.toString(),ye=pe.slice(pt);pt=pe.length;const ft=j.h.replace(We,ye);ft.identifier={major:bt,minor:0},ft._isTracked=!0,Ce.push(ft)}return $e.ensureFinalTabstop(je,w,!0),{edits:Ce,snippets:[new F(q,je,"")]}}dispose(){(0,l.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:q,snippets:me}=typeof this._template=="string"?Qr.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):Qr.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=me,this._editor.executeEdits("snippet",q,w=>{const we=w.filter(xe=>!!xe.identifier);for(let xe=0;xe<me.length;xe++)me[xe].initialize(we[xe].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):we.map(xe=>Z.Y.fromPositions(xe.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(q,me=te){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,q]);const{edits:w,snippets:we}=Qr.createEditsAndSnippetsFromSelections(this._editor,q,me.overwriteBefore,me.overwriteAfter,!0,me.adjustWhitespace,me.clipboardText,me.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",w,xe=>{const Ne=xe.filter(Ce=>!!Ce.identifier);for(let Ce=0;Ce<we.length;Ce++)we[Ce].initialize(Ne[Ce].textChange);const Ve=we[0].isTrivialSnippet;if(!Ve){for(const Ce of this._snippets)Ce.merge(we);console.assert(we.length===0)}return this._snippets[0].hasPlaceholder&&!Ve?this._move(void 0):Ne.map(Ce=>Z.Y.fromPositions(Ce.range.getEndPosition()))})}next(){const q=this._move(!0);this._editor.setSelections(q),this._editor.revealPositionInCenterIfOutsideViewport(q[0].getPosition())}prev(){const q=this._move(!1);this._editor.setSelections(q),this._editor.revealPositionInCenterIfOutsideViewport(q[0].getPosition())}_move(q){const me=[];for(const w of this._snippets){const we=w.move(q);me.push(...we)}return me}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const q=this._editor.getSelections();if(q.length<this._snippets.length)return!1;const me=new Map;for(const w of this._snippets){const we=w.computePossibleSelections();if(me.size===0)for(const[xe,Ne]of we){Ne.sort(E.e.compareRangesUsingStarts);for(const Ve of q)if(Ne[0].containsRange(Ve)){me.set(xe,[]);break}}if(me.size===0)return!1;me.forEach((xe,Ne)=>{xe.push(...we.get(Ne))})}q.sort(E.e.compareRangesUsingStarts);for(const[w,we]of me){if(we.length!==q.length){me.delete(w);continue}we.sort(E.e.compareRangesUsingStarts);for(let xe=0;xe<we.length;xe++)if(!we[xe].containsRange(q[xe])){me.delete(w);continue}}return me.size>0}};W=ne([Q(3,B.c_)],W)},74961:function(Yt,Ye,s){"use strict";s.d(Ye,{_:function(){return E},t:function(){return j}});var b=s(9488),l=s(75392),z=s(97295);class j{constructor(B,H){this.leadingLineContent=B,this.characterCountDelta=H}}class E{constructor(B,H,O,y,g,C,m=l.mX.default,i=void 0){this.clipboardText=i,this._snippetCompareFn=E._compareCompletionItems,this._items=B,this._column=H,this._wordDistance=y,this._options=g,this._refilterKind=1,this._lineContext=O,this._fuzzyScoreOptions=m,C==="top"?this._snippetCompareFn=E._compareCompletionItemsSnippetsUp:C==="bottom"&&(this._snippetCompareFn=E._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(B){(this._lineContext.leadingLineContent!==B.leadingLineContent||this._lineContext.characterCountDelta!==B.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<B.characterCountDelta&&this._filteredItems?2:1,this._lineContext=B)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const B=new Set;for(const[H,O]of this._providerInfo)O&&B.add(H);return B}adopt(B){const H=[];for(let O=0;O<this._items.length;)B.has(this._items[O].provider)?O++:(H.push(this._items[O]),this._items[O]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,H}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const B=[],{leadingLineContent:H,characterCountDelta:O}=this._lineContext;let y="",g="";const C=this._refilterKind===1?this._items:this._filteredItems,m=[],i=!this._options.filterGraceful||C.length>2e3?l.EW:l.l7;for(let d=0;d<C.length;d++){const _=C[d];if(_.isInvalid)continue;this._providerInfo.set(_.provider,!!_.container.incomplete);const v=_.position.column-_.editStart.column,p=v+O-(_.position.column-this._column);if(y.length!==p&&(y=p===0?"":H.slice(-p),g=y.toLowerCase()),_.word=y,p===0)_.score=l.CL.Default;else{let L=0;for(;L<v;){const T=y.charCodeAt(L);if(T===32||T===9)L+=1;else break}if(L>=p)_.score=l.CL.Default;else if(typeof _.completion.filterText=="string"){const T=i(y,g,L,_.completion.filterText,_.filterTextLow,0,this._fuzzyScoreOptions);if(!T)continue;(0,z.zY)(_.completion.filterText,_.textLabel)===0?_.score=T:(_.score=(0,l.jB)(y,g,L,_.textLabel,_.labelLow,0),_.score[0]=T[0])}else{const T=i(y,g,L,_.textLabel,_.labelLow,0,this._fuzzyScoreOptions);if(!T)continue;_.score=T}}_.idx=d,_.distance=this._wordDistance.distance(_.position,_.completion),m.push(_),B.push(_.textLabel.length)}this._filteredItems=m.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:B.length?(0,b.HW)(B.length-.85,B,(d,_)=>d-_):0}}static _compareCompletionItems(B,H){return B.score[0]>H.score[0]?-1:B.score[0]<H.score[0]?1:B.distance<H.distance?-1:B.distance>H.distance?1:B.idx<H.idx?-1:B.idx>H.idx?1:0}static _compareCompletionItemsSnippetsDown(B,H){if(B.completion.kind!==H.completion.kind){if(B.completion.kind===27)return 1;if(H.completion.kind===27)return-1}return E._compareCompletionItems(B,H)}static _compareCompletionItemsSnippetsUp(B,H){if(B.completion.kind!==H.completion.kind){if(B.completion.kind===27)return-1;if(H.completion.kind===27)return 1}return E._compareCompletionItems(B,H)}}},55621:function(Yt,Ye,s){"use strict";s.d(Ye,{A9:function(){return I},GI:function(){return T},ZJ:function(){return V},_y:function(){return L},i5:function(){return Q},kL:function(){return re},tG:function(){return F},wg:function(){return ne}});var b=s(71050),l=s(17301),z=s(75392),j=s(5976),E=s(84013),Z=s(98401),B=s(70666),H=s(50187),O=s(24314),y=s(88216),g=s(35084),C=s(63580),m=s(84144),i=s(94565),d=s(38819),_=s(71922),v=s(37726),p=function(te,W,G,q){function me(w){return w instanceof G?w:new G(function(we){we(w)})}return new(G||(G=Promise))(function(w,we){function xe(Ce){try{Ve(q.next(Ce))}catch(Ae){we(Ae)}}function Ne(Ce){try{Ve(q.throw(Ce))}catch(Ae){we(Ae)}}function Ve(Ce){Ce.done?w(Ce.value):me(Ce.value).then(xe,Ne)}Ve((q=q.apply(te,W||[])).next())})};const L={Visible:v.iX,HasFocusedSuggestion:new d.uy("suggestWidgetHasFocusedSuggestion",!1,(0,C.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new d.uy("suggestWidgetDetailsVisible",!1,(0,C.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new d.uy("suggestWidgetMultipleSuggestions",!1,(0,C.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new d.uy("suggestionMakesTextEdit",!0,(0,C.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new d.uy("acceptSuggestionOnEnter",!0,(0,C.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new d.uy("suggestionHasInsertAndReplaceRange",!1,(0,C.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new d.uy("suggestionInsertMode",void 0,{type:"string",description:(0,C.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new d.uy("suggestionCanResolve",!1,(0,C.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},T=new m.eH("suggestWidgetStatusBar");class M{constructor(W,G,q,me){this.position=W,this.completion=G,this.container=q,this.provider=me,this.isInvalid=!1,this.score=z.CL.Default,this.distance=0,this.textLabel=typeof G.label=="string"?G.label:G.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=G.sortText&&G.sortText.toLowerCase(),this.filterTextLow=G.filterText&&G.filterText.toLowerCase(),this.extensionId=G.extensionId,O.e.isIRange(G.range)?(this.editStart=new H.L(G.range.startLineNumber,G.range.startColumn),this.editInsertEnd=new H.L(G.range.endLineNumber,G.range.endColumn),this.editReplaceEnd=new H.L(G.range.endLineNumber,G.range.endColumn),this.isInvalid=this.isInvalid||O.e.spansMultipleLines(G.range)||G.range.startLineNumber!==W.lineNumber):(this.editStart=new H.L(G.range.insert.startLineNumber,G.range.insert.startColumn),this.editInsertEnd=new H.L(G.range.insert.endLineNumber,G.range.insert.endColumn),this.editReplaceEnd=new H.L(G.range.replace.endLineNumber,G.range.replace.endColumn),this.isInvalid=this.isInvalid||O.e.spansMultipleLines(G.range.insert)||O.e.spansMultipleLines(G.range.replace)||G.range.insert.startLineNumber!==W.lineNumber||G.range.replace.startLineNumber!==W.lineNumber||G.range.insert.startColumn!==G.range.replace.startColumn),typeof me.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(W){return p(this,void 0,void 0,function*(){if(!this._resolveCache){const G=W.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,W)).then(q=>{Object.assign(this.completion,q),this._isResolved=!0,G.dispose()},q=>{(0,l.n2)(q)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class I{constructor(W=2,G=new Set,q=new Set,me=!0){this.snippetSortOrder=W,this.kindFilter=G,this.providerFilter=q,this.showDeprecated=me}}I.default=new I;let P;function V(){return P}class ${constructor(W,G,q,me){this.items=W,this.needsClipboard=G,this.durations=q,this.disposable=me}}function re(te,W,G,q=I.default,me={triggerKind:0},w=b.T.None){return p(this,void 0,void 0,function*(){const we=new E.G(!0);G=G.clone();const xe=W.getWordAtPosition(G),Ne=xe?new O.e(G.lineNumber,xe.startColumn,G.lineNumber,xe.endColumn):O.e.fromPositions(G),Ve={replace:Ne,insert:Ne.setEndPosition(G.lineNumber,G.column)},Ce=[],Ae=new j.SL,$e=[];let je=!1;const at=(bt,We,it)=>{var pe,ye,ft;let Xt=!1;if(!We)return Xt;for(const qt of We.suggestions)if(!q.kindFilter.has(qt.kind)){if(!q.showDeprecated&&(!((pe=qt?.tags)===null||pe===void 0)&&pe.includes(1)))continue;qt.range||(qt.range=Ve),qt.sortText||(qt.sortText=typeof qt.label=="string"?qt.label:qt.label.label),!je&&qt.insertTextRules&&qt.insertTextRules&4&&(je=g.Yj.guessNeedsClipboard(qt.insertText)),Ce.push(new M(G,qt,We,bt)),Xt=!0}return(0,j.Wf)(We)&&Ae.add(We),$e.push({providerName:(ye=bt._debugDisplayName)!==null&&ye!==void 0?ye:"unknown_provider",elapsedProvider:(ft=We.duration)!==null&&ft!==void 0?ft:-1,elapsedOverall:it.elapsed()}),Xt},pt=p(this,void 0,void 0,function*(){if(!P||q.kindFilter.has(27)||q.providerFilter.size>0&&!q.providerFilter.has(P))return;const bt=new E.G(!0),We=yield P.provideCompletionItems(W,G,me,w);at(P,We,bt)});for(const bt of te.orderedGroups(W)){let We=!1;if(yield Promise.all(bt.map(it=>p(this,void 0,void 0,function*(){if(!(q.providerFilter.size>0&&!q.providerFilter.has(it)))try{const pe=new E.G(!0),ye=yield it.provideCompletionItems(W,G,me,w);We=at(it,ye,pe)||We}catch(pe){(0,l.Cp)(pe)}}))),We||w.isCancellationRequested)break}return yield pt,w.isCancellationRequested?(Ae.dispose(),Promise.reject(new l.FU)):new $(Ce.sort(ne(q.snippetSortOrder)),je,{entries:$e,elapsed:we.elapsed()},Ae)})}function ae(te,W){if(te.sortTextLow&&W.sortTextLow){if(te.sortTextLow<W.sortTextLow)return-1;if(te.sortTextLow>W.sortTextLow)return 1}return te.textLabel<W.textLabel?-1:te.textLabel>W.textLabel?1:te.completion.kind-W.completion.kind}function ie(te,W){if(te.completion.kind!==W.completion.kind){if(te.completion.kind===27)return-1;if(W.completion.kind===27)return 1}return ae(te,W)}function se(te,W){if(te.completion.kind!==W.completion.kind){if(te.completion.kind===27)return 1;if(W.completion.kind===27)return-1}return ae(te,W)}const X=new Map;X.set(0,ie),X.set(2,se),X.set(1,ae);function ne(te){return X.get(te)}i.P0.registerCommand("_executeCompletionItemProvider",(te,...W)=>p(void 0,void 0,void 0,function*(){const[G,q,me,w]=W;(0,Z.p_)(B.o.isUri(G)),(0,Z.p_)(H.L.isIPosition(q)),(0,Z.p_)(typeof me=="string"||!me),(0,Z.p_)(typeof w=="number"||!w);const{completionProvider:we}=te.get(_.p),xe=yield te.get(y.S).createModelReference(G);try{const Ne={incomplete:!1,suggestions:[]},Ve=[],Ce=yield re(we,xe.object.textEditorModel,H.L.lift(q),void 0,{triggerCharacter:me,triggerKind:me?1:0});for(const Ae of Ce.items)Ve.length<(w??0)&&Ve.push(Ae.resolve(b.T.None)),Ne.incomplete=Ne.incomplete||Ae.container.incomplete,Ne.suggestions.push(Ae.completion);try{return yield Promise.all(Ve),Ne}finally{setTimeout(()=>Ce.disposable.dispose(),100)}}finally{xe.dispose()}}));function Q(te,W){var G;(G=te.getContribution("editor.contrib.suggestController"))===null||G===void 0||G.triggerSuggest(new Set().add(W),void 0,!0)}class F{static isAllOff(W){return W.other==="off"&&W.comments==="off"&&W.strings==="off"}static isAllOn(W){return W.other==="on"&&W.comments==="on"&&W.strings==="on"}static valueFor(W,G){switch(G){case 1:return W.comments;case 2:return W.strings;default:return W.other}}}},43587:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{SuggestController:function(){return xi},TriggerSuggestAction:function(){return ji}});var b=s(35996),l=s(9488),z=s(15393),j=s(71050),E=s(17301),Z=s(4669),B=s(8313),H=s(5976),O=s(1432),y=s(84013),g=s(98401),C=s(43407),m=s(16830),i=s(69386),d=s(50187),_=s(24314),v=s(29102),p=s(98762),L=s(35084),T=s(80378),M=s(38819),I=function(wi,et,lt,Rt){var Ut=arguments.length,ui=Ut<3?et:Rt===null?Rt=Object.getOwnPropertyDescriptor(et,lt):Rt,ri;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ui=Reflect.decorate(wi,et,lt,Rt);else for(var _i=wi.length-1;_i>=0;_i--)(ri=wi[_i])&&(ui=(Ut<3?ri(ui):Ut>3?ri(et,lt,ui):ri(et,lt))||ui);return Ut>3&&ui&&Object.defineProperty(et,lt,ui),ui},P=function(wi,et){return function(lt,Rt){et(lt,Rt,wi)}};let V=class tf{constructor(et,lt){this._editor=et,this._enabled=!1,this._ckAtEnd=tf.AtEnd.bindTo(lt),this._configListener=this._editor.onDidChangeConfiguration(Rt=>Rt.hasChanged(113)&&this._update()),this._update()}dispose(){var et;this._configListener.dispose(),(et=this._selectionListener)===null||et===void 0||et.dispose(),this._ckAtEnd.reset()}_update(){const et=this._editor.getOption(113)==="on";if(this._enabled!==et)if(this._enabled=et,this._enabled){const lt=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const Rt=this._editor.getModel(),Ut=this._editor.getSelection(),ui=Rt.getWordAtPosition(Ut.getStartPosition());if(!ui){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(ui.endColumn===Ut.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(lt),lt()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};V.AtEnd=new M.uy("atEndOfWord",!1),V=I([P(1,M.i6)],V);var $=s(63580),re=s(94565),ae=s(72065),ie=s(43557),se=s(55621),X=function(wi,et,lt,Rt){var Ut=arguments.length,ui=Ut<3?et:Rt===null?Rt=Object.getOwnPropertyDescriptor(et,lt):Rt,ri;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ui=Reflect.decorate(wi,et,lt,Rt);else for(var _i=wi.length-1;_i>=0;_i--)(ri=wi[_i])&&(ui=(Ut<3?ri(ui):Ut>3?ri(et,lt,ui):ri(et,lt))||ui);return Ut>3&&ui&&Object.defineProperty(et,lt,ui),ui},ne=function(wi,et){return function(lt,Rt){et(lt,Rt,wi)}};let Q=class Td{constructor(et,lt){this._editor=et,this._index=0,this._ckOtherSuggestions=Td.OtherSuggestions.bindTo(lt)}dispose(){this.reset()}reset(){var et;this._ckOtherSuggestions.reset(),(et=this._listener)===null||et===void 0||et.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:et,index:lt},Rt){if(et.items.length===0){this.reset();return}if(Td._moveIndex(!0,et,lt)===lt){this.reset();return}this._acceptNext=Rt,this._model=et,this._index=lt,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(et,lt,Rt){let Ut=Rt;for(;Ut=(Ut+lt.items.length+(et?1:-1))%lt.items.length,!(Ut===Rt||!lt.items[Ut].completion.additionalTextEdits););return Ut}next(){this._move(!0)}prev(){this._move(!1)}_move(et){if(this._model)try{this._ignore=!0,this._index=Td._moveIndex(et,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Q.OtherSuggestions=new M.uy("hasOtherSuggestions",!1),Q=X([ne(1,M.i6)],Q);var F=s(44906);class te{constructor(et,lt,Rt){this._disposables=new H.SL,this._disposables.add(lt.onDidShow(()=>this._onItem(lt.getFocusedItem()))),this._disposables.add(lt.onDidFocus(this._onItem,this)),this._disposables.add(lt.onDidHide(this.reset,this)),this._disposables.add(et.onWillType(Ut=>{if(this._active&&!lt.isFrozen()){const ui=Ut.charCodeAt(Ut.length-1);this._active.acceptCharacters.has(ui)&&et.getOption(0)&&Rt(this._active.item)}}))}_onItem(et){if(!et||!(0,l.Of)(et.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===et.item)return;const lt=new F.q;for(const Rt of et.item.completion.commitCharacters)Rt.length>0&&lt.add(Rt.charCodeAt(0));this._active={acceptCharacters:lt,item:et}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var W=s(97295),G=s(3860),q=s(85215),me=s(24477),w=s(84972),we=s(33108),xe=s(10829),Ne=s(74961),Ve=s(71922),Ce=function(wi,et,lt,Rt){var Ut=arguments.length,ui=Ut<3?et:Rt===null?Rt=Object.getOwnPropertyDescriptor(et,lt):Rt,ri;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ui=Reflect.decorate(wi,et,lt,Rt);else for(var _i=wi.length-1;_i>=0;_i--)(ri=wi[_i])&&(ui=(Ut<3?ri(ui):Ut>3?ri(et,lt,ui):ri(et,lt))||ui);return Ut>3&&ui&&Object.defineProperty(et,lt,ui),ui},Ae=function(wi,et){return function(lt,Rt){et(lt,Rt,wi)}},$e=function(wi,et,lt,Rt){function Ut(ui){return ui instanceof lt?ui:new lt(function(ri){ri(ui)})}return new(lt||(lt=Promise))(function(ui,ri){function _i(ei){try{an(Rt.next(ei))}catch(Gi){ri(Gi)}}function Yi(ei){try{an(Rt.throw(ei))}catch(Gi){ri(Gi)}}function an(ei){ei.done?ui(ei.value):Ut(ei.value).then(_i,Yi)}an((Rt=Rt.apply(wi,et||[])).next())})};class je{constructor(et,lt,Rt,Ut,ui){this.leadingLineContent=et.getLineContent(lt.lineNumber).substr(0,lt.column-1),this.leadingWord=et.getWordUntilPosition(lt),this.lineNumber=lt.lineNumber,this.column=lt.column,this.auto=Rt,this.shy=Ut,this.noSelect=ui}static shouldAutoTrigger(et){if(!et.hasModel())return!1;const lt=et.getModel(),Rt=et.getPosition();lt.tokenization.tokenizeIfCheap(Rt.lineNumber);const Ut=lt.getWordAtPosition(Rt);return!(!Ut||Ut.endColumn!==Rt.column||!isNaN(Number(Ut.word)))}}function at(wi){return wi.getOption(108).preview}function pt(wi,et,lt){if(!et.getContextKeyValue("inlineSuggestionVisible"))return!0;const Rt=lt.getValue("editor.inlineSuggest.allowQuickSuggestions");return Rt!==void 0?!!Rt:!1}function bt(wi,et,lt){if(!et.getContextKeyValue("inlineSuggestionVisible"))return!0;const Rt=lt.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return Rt!==void 0?!!Rt:!1}let We=class nf{constructor(et,lt,Rt,Ut,ui,ri,_i,Yi){this._editor=et,this._editorWorkerService=lt,this._clipboardService=Rt,this._telemetryService=Ut,this._logService=ui,this._contextKeyService=ri,this._configurationService=_i,this._languageFeaturesService=Yi,this._toDispose=new H.SL,this._triggerCharacterListener=new H.SL,this._triggerQuickSuggest=new z._F,this._state=0,this._completionDisposables=new H.SL,this._onDidCancel=new Z.Q5,this._onDidTrigger=new Z.Q5,this._onDidSuggest=new Z.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new G.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let an=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{an=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{an=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(ei=>{an||this._onCursorChange(ei)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{an||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,H.B9)(this._triggerCharacterListener),(0,H.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;const et=new Map;for(const Rt of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const Ut of Rt.triggerCharacters||[]){let ui=et.get(Ut);ui||(ui=new Set,ui.add((0,se.ZJ)()),et.set(Ut,ui)),ui.add(Rt)}const lt=Rt=>{if(!bt(this._editor,this._contextKeyService,this._configurationService)||je.shouldAutoTrigger(this._editor))return;if(!Rt){const ri=this._editor.getPosition();Rt=this._editor.getModel().getLineContent(ri.lineNumber).substr(0,ri.column-1)}let Ut="";(0,W.YK)(Rt.charCodeAt(Rt.length-1))?(0,W.ZG)(Rt.charCodeAt(Rt.length-2))&&(Ut=Rt.substr(Rt.length-2)):Ut=Rt.charAt(Rt.length-1);const ui=et.get(Ut);if(ui){const ri=this._completionModel?{items:this._completionModel.adopt(ui),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:Ut},!!this._completionModel,ui,ri)}};this._triggerCharacterListener.add(this._editor.onDidType(lt)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>lt()))}get state(){return this._state}cancel(et=!1){var lt;this._state!==0&&(this._triggerQuickSuggest.cancel(),(lt=this._requestToken)===null||lt===void 0||lt.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:et}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1,noSelect:!1},!0))}_onCursorChange(et){if(!this._editor.hasModel())return;const lt=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!et.selection.isEmpty()||et.reason!==0&&et.reason!==3||et.source!=="keyboard"&&et.source!=="deleteLeft"){this.cancel();return}this._state===0&&et.reason===0?(lt.containsRange(this._currentSelection)||lt.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&et.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var et;se.tG.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&(!((et=p.f.get(this._editor))===null||et===void 0)&&et.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!je.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const lt=this._editor.getModel(),Rt=this._editor.getPosition(),Ut=this._editor.getOption(81);if(!se.tG.isAllOff(Ut)){if(!se.tG.isAllOn(Ut)){lt.tokenization.tokenizeIfCheap(Rt.lineNumber);const ui=lt.tokenization.getLineTokens(Rt.lineNumber),ri=ui.getStandardTokenType(ui.findTokenIndexAtOffset(Math.max(Rt.column-1-1,0)));if(se.tG.valueFor(Ut,ri)!=="on")return}pt(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(lt)&&this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const et=this._editor.getModel(),lt=this._editor.getPosition(),Rt=new je(et,lt,this._state===2,!1,!1);this._onNewContext(Rt)})}trigger(et,lt=!1,Rt,Ut,ui){var ri;if(!this._editor.hasModel())return;const _i=this._editor.getModel(),Yi=et.auto,an=new je(_i,this._editor.getPosition(),Yi,et.shy,et.noSelect);this.cancel(lt),this._state=Yi?2:1,this._onDidTrigger.fire({auto:Yi,shy:et.shy,position:this._editor.getPosition()}),this._context=an;let ei={triggerKind:(ri=et.triggerKind)!==null&&ri!==void 0?ri:0};et.triggerCharacter&&(ei={triggerKind:1,triggerCharacter:et.triggerCharacter}),this._requestToken=new j.A;const Gi=this._editor.getOption(103);let ln=1;switch(Gi){case"top":ln=0;break;case"bottom":ln=2;break}const{itemKind:bn,showDeprecated:Mn}=nf._createSuggestFilter(this._editor),Nn=new se.A9(ln,ui?new Set:bn,Rt,Mn),yn=me.K.create(this._editorWorkerService,this._editor),An=(0,se.kL)(this._languageFeaturesService.completionProvider,_i,this._editor.getPosition(),Nn,ei,this._requestToken.token);Promise.all([An,yn]).then(([Bn,sn])=>$e(this,void 0,void 0,function*(){var vn;if((vn=this._requestToken)===null||vn===void 0||vn.dispose(),!this._editor.hasModel())return;let Kn=Ut?.clipboardText;if(!Kn&&Bn.needsClipboard&&(Kn=yield this._clipboardService.readText()),this._state===0)return;const gn=this._editor.getModel();let yi=Bn.items;if(Ut){const en=(0,se.wg)(ln);yi=yi.concat(Ut.items).sort(en)}const $i=new je(gn,this._editor.getPosition(),Yi,et.shy,et.noSelect);this._completionModel=new Ne._(yi,this._context.column,{leadingLineContent:$i.leadingLineContent,characterCountDelta:$i.column-this._context.column},sn,this._editor.getOption(108),this._editor.getOption(103),void 0,Kn),this._completionDisposables.add(Bn.disposable),this._onNewContext($i),this._reportDurationsTelemetry(Bn.durations)})).catch(E.dL)}_reportDurationsTelemetry(et){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(et)}),this._logService.debug("suggest.durations.json",et)})}static _createSuggestFilter(et){const lt=new Set;et.getOption(103)==="none"&&lt.add(27);const Ut=et.getOption(108);return Ut.showMethods||lt.add(0),Ut.showFunctions||lt.add(1),Ut.showConstructors||lt.add(2),Ut.showFields||lt.add(3),Ut.showVariables||lt.add(4),Ut.showClasses||lt.add(5),Ut.showStructs||lt.add(6),Ut.showInterfaces||lt.add(7),Ut.showModules||lt.add(8),Ut.showProperties||lt.add(9),Ut.showEvents||lt.add(10),Ut.showOperators||lt.add(11),Ut.showUnits||lt.add(12),Ut.showValues||lt.add(13),Ut.showConstants||lt.add(14),Ut.showEnums||lt.add(15),Ut.showEnumMembers||lt.add(16),Ut.showKeywords||lt.add(17),Ut.showWords||lt.add(18),Ut.showColors||lt.add(19),Ut.showFiles||lt.add(20),Ut.showReferences||lt.add(21),Ut.showColors||lt.add(22),Ut.showFolders||lt.add(23),Ut.showTypeParameters||lt.add(24),Ut.showSnippets||lt.add(27),Ut.showUsers||lt.add(25),Ut.showIssues||lt.add(26),{itemKind:lt,showDeprecated:Ut.showDeprecated}}_onNewContext(et){if(this._context){if(et.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,W.V8)(et.leadingLineContent)!==(0,W.V8)(this._context.leadingLineContent)){this.cancel();return}if(et.column<this._context.column){et.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel();return}if(this._completionModel){if(et.leadingWord.word.length!==0&&et.leadingWord.startColumn>this._context.leadingWord.startColumn){const lt=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const Ut of this._completionModel.allProvider)lt.delete(Ut);const Rt=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,lt,{items:Rt,clipboardText:this._completionModel.clipboardText});return}if(et.column>this._context.column&&this._completionModel.incomplete.size>0&&et.leadingWord.word.length!==0){const{incomplete:lt}=this._completionModel,Rt=this._completionModel.adopt(lt);this.trigger({auto:this._state===2,shy:!1,noSelect:!1,triggerKind:2},!0,lt,{items:Rt,clipboardText:this._completionModel.clipboardText})}else{const lt=this._completionModel.lineContext;let Rt=!1;if(this._completionModel.lineContext={leadingLineContent:et.leadingLineContent,characterCountDelta:et.column-this._context.column},this._completionModel.items.length===0){if(je.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<et.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=lt,Rt=this._completionModel.items.length>0,Rt&&et.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:Rt})}}}}};We=Ce([Ae(1,q.p),Ae(2,w.p),Ae(3,xe.b),Ae(4,ie.VZ),Ae(5,M.i6),Ae(6,we.Ui),Ae(7,Ve.p)],We);class it{constructor(et,lt){this._disposables=new H.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(et.onWillType(()=>{if(!this._empty||!et.hasModel())return;const Rt=et.getSelections(),Ut=Rt.length;let ui=!1;for(let _i=0;_i<Ut;_i++)if(!Rt[_i].isEmpty()){ui=!0;break}if(!ui)return;this._lastOvertyped=[];const ri=et.getModel();for(let _i=0;_i<Ut;_i++){const Yi=Rt[_i];if(ri.getValueLengthInRange(Yi)>it._maxSelectionLength)return;this._lastOvertyped[_i]={value:ri.getValueInRange(Yi),multiline:Yi.startLineNumber!==Yi.endLineNumber}}this._empty=!1})),this._disposables.add(lt.onDidCancel(Rt=>{!this._empty&&!Rt.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(et){if(!this._empty&&et>=0&&et<this._lastOvertyped.length)return this._lastOvertyped[et]}dispose(){this._disposables.dispose()}}it._maxSelectionLength=51200;var pe=s(65321),ye=s(15375),ft=s(69047),Xt=s(59870),qt=s(84527),Ft=s(90317),Ot=s(42499),Mt=s(84144),ni=function(wi,et,lt,Rt){var Ut=arguments.length,ui=Ut<3?et:Rt===null?Rt=Object.getOwnPropertyDescriptor(et,lt):Rt,ri;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ui=Reflect.decorate(wi,et,lt,Rt);else for(var _i=wi.length-1;_i>=0;_i--)(ri=wi[_i])&&(ui=(Ut<3?ri(ui):Ut>3?ri(et,lt,ui):ri(et,lt))||ui);return Ut>3&&ui&&Object.defineProperty(et,lt,ui),ui},Gt=function(wi,et){return function(lt,Rt){et(lt,Rt,wi)}};class Fe extends Ot.Mm{updateLabel(){const et=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!et)return super.updateLabel();this.label&&(this.label.textContent=(0,$.NC)("ddd","{0} ({1})",this._action.label,Fe.symbolPrintEnter(et)))}static symbolPrintEnter(et){var lt;return(lt=et.getLabel())===null||lt===void 0?void 0:lt.replace(/\benter\b/gi,"\u23CE")}}let Ge=class{constructor(et,lt,Rt,Ut){this._menuService=Rt,this._contextKeyService=Ut,this._menuDisposables=new H.SL,this.element=pe.R3(et,pe.$(".suggest-status-bar"));const ui=ri=>ri instanceof Mt.U8?lt.createInstance(Fe,ri,void 0):void 0;this._leftActions=new Ft.o(this.element,{actionViewItemProvider:ui}),this._rightActions=new Ft.o(this.element,{actionViewItemProvider:ui}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const et=this._menuService.createMenu(se.GI,this._contextKeyService),lt=()=>{const Rt=[],Ut=[];for(const[ui,ri]of et.getActions())ui==="left"?Rt.push(...ri):Ut.push(...ri);this._leftActions.clear(),this._leftActions.push(Rt),this._rightActions.clear(),this._rightActions.push(Ut)};this._menuDisposables.add(et.onDidChange(()=>lt())),this._menuDisposables.add(et)}hide(){this._menuDisposables.clear()}};Ge=ni([Gt(1,ae.TG),Gt(2,Mt.co),Gt(3,M.i6)],Ge);var Te=s(71713),Ke=s(87060),ut=s(73910),Nt=s(88810),Be=s(92321),Ze=s(97781),wt=s(83080);class $t{constructor(){this._onDidWillResize=new Z.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new Z.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new H.SL,this._size=new pe.Ro(0,0),this._minSize=new pe.Ro(0,0),this._maxSize=new pe.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new wt.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new wt.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new wt.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:wt.l.North}),this._southSash=new wt.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:wt.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let et,lt=0,Rt=0;this._sashListener.add(Z.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{et===void 0&&(this._onDidWillResize.fire(),et=this._size,lt=0,Rt=0)})),this._sashListener.add(Z.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{et!==void 0&&(et=void 0,lt=0,Rt=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(Ut=>{et&&(Rt=Ut.currentX-Ut.startX,this.layout(et.height+lt,et.width+Rt),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(Ut=>{et&&(Rt=-(Ut.currentX-Ut.startX),this.layout(et.height+lt,et.width+Rt),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(Ut=>{et&&(lt=-(Ut.currentY-Ut.startY),this.layout(et.height+lt,et.width+Rt),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(Ut=>{et&&(lt=Ut.currentY-Ut.startY,this.layout(et.height+lt,et.width+Rt),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(Z.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(Ut=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(Z.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(Ut=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(et,lt,Rt,Ut){this._northSash.state=et?3:0,this._eastSash.state=lt?3:0,this._southSash.state=Rt?3:0,this._westSash.state=Ut?3:0}layout(et=this.size.height,lt=this.size.width){const{height:Rt,width:Ut}=this._minSize,{height:ui,width:ri}=this._maxSize;et=Math.max(Rt,Math.min(ui,et)),lt=Math.max(Ut,Math.min(ri,lt));const _i=new pe.Ro(lt,et);pe.Ro.equals(_i,this._size)||(this.domNode.style.height=et+"px",this.domNode.style.width=lt+"px",this._size=_i,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(et){this._maxSize=et}get maxSize(){return this._maxSize}set minSize(et){this._minSize=et}get minSize(){return this._minSize}set preferredSize(et){this._preferredSize=et}get preferredSize(){return this._preferredSize}}var _t=s(13433),Jt=s(73046),Zt=s(59365),Xe=s(51318),Lt=function(wi,et,lt,Rt){var Ut=arguments.length,ui=Ut<3?et:Rt===null?Rt=Object.getOwnPropertyDescriptor(et,lt):Rt,ri;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ui=Reflect.decorate(wi,et,lt,Rt);else for(var _i=wi.length-1;_i>=0;_i--)(ri=wi[_i])&&(ui=(Ut<3?ri(ui):Ut>3?ri(et,lt,ui):ri(et,lt))||ui);return Ut>3&&ui&&Object.defineProperty(et,lt,ui),ui},mi=function(wi,et){return function(lt,Rt){et(lt,Rt,wi)}};function jt(wi){return!!wi&&!!(wi.completion.documentation||wi.completion.detail&&wi.completion.detail!==wi.completion.label)}let ki=class{constructor(et,lt){this._editor=et,this._onDidClose=new Z.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new Z.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new H.SL,this._renderDisposeable=new H.SL,this._borderWidth=1,this._size=new pe.Ro(330,0),this.domNode=pe.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=lt.createInstance(Xe.$,{editor:et}),this._body=pe.$(".body"),this._scrollbar=new _t.s$(this._body,{alwaysConsumeMouseWheel:!0}),pe.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=pe.R3(this._body,pe.$(".header")),this._close=pe.R3(this._header,pe.$("span"+Jt.lA.close.cssSelector)),this._close.title=$.NC("details.close","Close"),this._type=pe.R3(this._header,pe.$("p.type")),this._docs=pe.R3(this._body,pe.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(Rt=>{Rt.hasChanged(46)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const et=this._editor.getOptions(),lt=et.get(46),Rt=lt.getMassagedFontFamily(),Ut=et.get(109)||lt.fontSize,ui=et.get(110)||lt.lineHeight,ri=lt.fontWeight,_i=`${Ut}px`,Yi=`${ui}px`;this.domNode.style.fontSize=_i,this.domNode.style.lineHeight=`${ui/Ut}`,this.domNode.style.fontWeight=ri,this.domNode.style.fontFeatureSettings=lt.fontFeatureSettings,this._type.style.fontFamily=Rt,this._close.style.height=Yi,this._close.style.width=Yi}getLayoutInfo(){const et=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,lt=this._borderWidth,Rt=lt*2;return{lineHeight:et,borderWidth:lt,borderHeight:Rt,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=$.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(et,lt){var Rt,Ut;this._renderDisposeable.clear();let{detail:ui,documentation:ri}=et.completion;if(lt){let _i="";_i+=`score: ${et.score[0]}
`,_i+=`prefix: ${(Rt=et.word)!==null&&Rt!==void 0?Rt:"(no prefix)"}
`,_i+=`word: ${et.completion.filterText?et.completion.filterText+" (filterText)":et.textLabel}
`,_i+=`distance: ${et.distance} (localityBonus-setting)
`,_i+=`index: ${et.idx}, based on ${et.completion.sortText&&`sortText: "${et.completion.sortText}"`||"label"}
`,_i+=`commit_chars: ${(Ut=et.completion.commitCharacters)===null||Ut===void 0?void 0:Ut.join("")}
`,ri=new Zt.W5().appendCodeblock("empty",_i),ui=`Provider: ${et.provider._debugDisplayName}`}if(!lt&&!jt(et)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),ui){const _i=ui.length>1e5?`${ui.substr(0,1e5)}\u2026`:ui;this._type.textContent=_i,this._type.title=_i,pe.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(_i))}else pe.PO(this._type),this._type.title="",pe.Cp(this._type),this.domNode.classList.add("no-type");if(pe.PO(this._docs),typeof ri=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=ri;else if(ri){this._docs.classList.add("markdown-docs"),pe.PO(this._docs);const _i=this._markdownRenderer.render(ri);this._docs.appendChild(_i.element),this._renderDisposeable.add(_i),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=_i=>{_i.preventDefault(),_i.stopPropagation()},this._close.onclick=_i=>{_i.preventDefault(),_i.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(et,lt){const Rt=new pe.Ro(et,lt);pe.Ro.equals(Rt,this._size)||(this._size=Rt,pe.dp(this.domNode,et,lt)),this._scrollbar.scanDomNode()}scrollDown(et=8){this._body.scrollTop+=et}scrollUp(et=8){this._body.scrollTop-=et}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(et){this._borderWidth=et}get borderWidth(){return this._borderWidth}};ki=Lt([mi(1,ae.TG)],ki);class Pi{constructor(et,lt){this.widget=et,this._editor=lt,this._disposables=new H.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new $t,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(et.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Rt,Ut,ui=0,ri=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Rt=this._topLeft,Ut=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(_i=>{if(Rt&&Ut){this.widget.layout(_i.dimension.width,_i.dimension.height);let Yi=!1;_i.west&&(ri=Ut.width-_i.dimension.width,Yi=!0),_i.north&&(ui=Ut.height-_i.dimension.height,Yi=!0),Yi&&this._applyTopLeft({top:Rt.top+ui,left:Rt.left+ri})}_i.done&&(Rt=void 0,Ut=void 0,ui=0,ri=0,this._userSize=_i.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var _i;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(_i=this._userSize)!==null&&_i!==void 0?_i:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(et=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),et&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(et,lt){var Rt;const Ut=et.getBoundingClientRect();this._anchorBox=Ut,this._preferAlignAtTop=lt,this._placeAtAnchor(this._anchorBox,(Rt=this._userSize)!==null&&Rt!==void 0?Rt:this.widget.size,lt)}_placeAtAnchor(et,lt,Rt){var Ut;const ui=pe.D6(document.body),ri=this.widget.getLayoutInfo(),_i=new pe.Ro(220,2*ri.lineHeight),Yi=et.top,an=function(){const sn=ui.width-(et.left+et.width+ri.borderWidth+ri.horizontalPadding),vn=-ri.borderWidth+et.left+et.width,Kn=new pe.Ro(sn,ui.height-et.top-ri.borderHeight-ri.verticalPadding),gn=Kn.with(void 0,et.top+et.height-ri.borderHeight-ri.verticalPadding);return{top:Yi,left:vn,fit:sn-lt.width,maxSizeTop:Kn,maxSizeBottom:gn,minSize:_i.with(Math.min(sn,_i.width))}}(),ei=function(){const sn=et.left-ri.borderWidth-ri.horizontalPadding,vn=Math.max(ri.horizontalPadding,et.left-lt.width-ri.borderWidth),Kn=new pe.Ro(sn,ui.height-et.top-ri.borderHeight-ri.verticalPadding),gn=Kn.with(void 0,et.top+et.height-ri.borderHeight-ri.verticalPadding);return{top:Yi,left:vn,fit:sn-lt.width,maxSizeTop:Kn,maxSizeBottom:gn,minSize:_i.with(Math.min(sn,_i.width))}}(),Gi=function(){const sn=et.left,vn=-ri.borderWidth+et.top+et.height,Kn=new pe.Ro(et.width-ri.borderHeight,ui.height-et.top-et.height-ri.verticalPadding);return{top:vn,left:sn,fit:Kn.height-lt.height,maxSizeBottom:Kn,maxSizeTop:Kn,minSize:_i.with(Kn.width)}}(),ln=[an,ei,Gi],bn=(Ut=ln.find(sn=>sn.fit>=0))!==null&&Ut!==void 0?Ut:ln.sort((sn,vn)=>vn.fit-sn.fit)[0],Mn=et.top+et.height-ri.borderHeight;let Nn,yn=lt.height;const An=Math.max(bn.maxSizeTop.height,bn.maxSizeBottom.height);yn>An&&(yn=An);let Bn;Rt?yn<=bn.maxSizeTop.height?(Nn=!0,Bn=bn.maxSizeTop):(Nn=!1,Bn=bn.maxSizeBottom):yn<=bn.maxSizeBottom.height?(Nn=!1,Bn=bn.maxSizeBottom):(Nn=!0,Bn=bn.maxSizeTop),this._applyTopLeft({left:bn.left,top:Nn?bn.top:Mn-yn}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!Nn,bn===an,Nn,bn!==an),this._resizable.minSize=bn.minSize,this._resizable.maxSize=Bn,this._resizable.layout(yn,Math.min(Bn.width,lt.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(et){this._topLeft=et,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var gt=s(93923),St=s(75392),ii=s(70666),Ri=s(43155),Di=s(66663),Vi=s(95935),Ci=s(68801),Wt;(function(wi){wi[wi.FILE=0]="FILE",wi[wi.FOLDER=1]="FOLDER",wi[wi.ROOT_FOLDER=2]="ROOT_FOLDER"})(Wt||(Wt={}));const vt=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function _e(wi,et,lt,Rt){const Ut=Rt===Wt.ROOT_FOLDER?["rootfolder-icon"]:Rt===Wt.FOLDER?["folder-icon"]:["file-icon"];if(lt){let ui;if(lt.scheme===Di.lg.data)ui=Vi.Vb.parseMetaData(lt).get(Vi.Vb.META_DATA_LABEL);else{const ri=lt.path.match(vt);ri?(ui=Le(ri[2].toLowerCase()),ri[1]&&Ut.push(`${Le(ri[1].toLowerCase())}-name-dir-icon`)):ui=Le(lt.authority.toLowerCase())}if(Rt===Wt.FOLDER)Ut.push(`${ui}-name-folder-icon`);else{if(ui){if(Ut.push(`${ui}-name-file-icon`),Ut.push("name-file-icon"),ui.length<=255){const _i=ui.split(".");for(let Yi=1;Yi<_i.length;Yi++)Ut.push(`${_i.slice(Yi).join(".")}-ext-file-icon`)}Ut.push("ext-file-icon")}const ri=Ee(wi,et,lt);ri&&Ut.push(`${Le(ri)}-lang-file-icon`)}}return Ut}function Ee(wi,et,lt){if(!lt)return null;let Rt=null;if(lt.scheme===Di.lg.data){const ui=Vi.Vb.parseMetaData(lt).get(Vi.Vb.META_DATA_MIME);ui&&(Rt=et.getLanguageIdByMimeType(ui))}else{const Ut=wi.getModel(lt);Ut&&(Rt=Ut.getLanguageId())}return Rt&&Rt!==Ci.bd?Rt:et.guessLanguageIdByFilepathOrFirstLine(lt)}function Le(wi){return wi.replace(/[\11\12\14\15\40]/g,"/")}var oe=s(73733),he=s(72042),Me=s(59554),ke=function(wi,et,lt,Rt){var Ut=arguments.length,ui=Ut<3?et:Rt===null?Rt=Object.getOwnPropertyDescriptor(et,lt):Rt,ri;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ui=Reflect.decorate(wi,et,lt,Rt);else for(var _i=wi.length-1;_i>=0;_i--)(ri=wi[_i])&&(ui=(Ut<3?ri(ui):Ut>3?ri(et,lt,ui):ri(et,lt))||ui);return Ut>3&&ui&&Object.defineProperty(et,lt,ui),ui},Je=function(wi,et){return function(lt,Rt){et(lt,Rt,wi)}},ot;function ht(wi){return`suggest-aria-id:${wi}`}const xt=(0,Me.q5)("suggest-more-info",Jt.lA.chevronRight,$.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),nt=new(ot=class Md{extract(et,lt){if(et.textLabel.match(Md._regexStrict))return lt[0]=et.textLabel,!0;if(et.completion.detail&&et.completion.detail.match(Md._regexStrict))return lt[0]=et.completion.detail,!0;if(typeof et.completion.documentation=="string"){const Rt=Md._regexRelaxed.exec(et.completion.documentation);if(Rt&&(Rt.index===0||Rt.index+Rt[0].length===et.completion.documentation.length))return lt[0]=Rt[0],!0}return!1}},ot._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,ot._regexStrict=new RegExp(`^${ot._regexRelaxed.source}$`,"i"),ot);let It=class{constructor(et,lt,Rt,Ut){this._editor=et,this._modelService=lt,this._languageService=Rt,this._themeService=Ut,this._onDidToggleDetails=new Z.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(et){const lt=Object.create(null);lt.disposables=new H.SL,lt.root=et,lt.root.classList.add("show-file-icons"),lt.icon=(0,pe.R3)(et,(0,pe.$)(".icon")),lt.colorspan=(0,pe.R3)(lt.icon,(0,pe.$)("span.colorspan"));const Rt=(0,pe.R3)(et,(0,pe.$)(".contents")),Ut=(0,pe.R3)(Rt,(0,pe.$)(".main"));lt.iconContainer=(0,pe.R3)(Ut,(0,pe.$)(".icon-label.codicon")),lt.left=(0,pe.R3)(Ut,(0,pe.$)("span.left")),lt.right=(0,pe.R3)(Ut,(0,pe.$)("span.right")),lt.iconLabel=new gt.g(lt.left,{supportHighlights:!0,supportIcons:!0}),lt.disposables.add(lt.iconLabel),lt.parametersLabel=(0,pe.R3)(lt.left,(0,pe.$)("span.signature-label")),lt.qualifierLabel=(0,pe.R3)(lt.left,(0,pe.$)("span.qualifier-label")),lt.detailsLabel=(0,pe.R3)(lt.right,(0,pe.$)("span.details-label")),lt.readMore=(0,pe.R3)(lt.right,(0,pe.$)("span.readMore"+Ze.kS.asCSSSelector(xt))),lt.readMore.title=$.NC("readMore","Read More");const ui=()=>{const ri=this._editor.getOptions(),_i=ri.get(46),Yi=_i.getMassagedFontFamily(),an=_i.fontFeatureSettings,ei=ri.get(109)||_i.fontSize,Gi=ri.get(110)||_i.lineHeight,ln=_i.fontWeight,bn=_i.letterSpacing,Mn=`${ei}px`,Nn=`${Gi}px`,yn=`${bn}px`;lt.root.style.fontSize=Mn,lt.root.style.fontWeight=ln,lt.root.style.letterSpacing=yn,Ut.style.fontFamily=Yi,Ut.style.fontFeatureSettings=an,Ut.style.lineHeight=Nn,lt.icon.style.height=Nn,lt.icon.style.width=Nn,lt.readMore.style.height=Nn,lt.readMore.style.width=Nn};return ui(),lt.disposables.add(this._editor.onDidChangeConfiguration(ri=>{(ri.hasChanged(46)||ri.hasChanged(109)||ri.hasChanged(110))&&ui()})),lt}renderElement(et,lt,Rt){const{completion:Ut}=et;Rt.root.id=ht(lt),Rt.colorspan.style.backgroundColor="";const ui={labelEscapeNewLines:!0,matches:(0,St.mB)(et.score)},ri=[];if(Ut.kind===19&&nt.extract(et,ri))Rt.icon.className="icon customcolor",Rt.iconContainer.className="icon hide",Rt.colorspan.style.backgroundColor=ri[0];else if(Ut.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){Rt.icon.className="icon hide",Rt.iconContainer.className="icon hide";const _i=_e(this._modelService,this._languageService,ii.o.from({scheme:"fake",path:et.textLabel}),Wt.FILE),Yi=_e(this._modelService,this._languageService,ii.o.from({scheme:"fake",path:Ut.detail}),Wt.FILE);ui.extraClasses=_i.length>Yi.length?_i:Yi}else Ut.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(Rt.icon.className="icon hide",Rt.iconContainer.className="icon hide",ui.extraClasses=[_e(this._modelService,this._languageService,ii.o.from({scheme:"fake",path:et.textLabel}),Wt.FOLDER),_e(this._modelService,this._languageService,ii.o.from({scheme:"fake",path:Ut.detail}),Wt.FOLDER)].flat()):(Rt.icon.className="icon hide",Rt.iconContainer.className="",Rt.iconContainer.classList.add("suggest-icon",...Jt.dT.asClassNameArray(Ri.gX.toIcon(Ut.kind))));Ut.tags&&Ut.tags.indexOf(1)>=0&&(ui.extraClasses=(ui.extraClasses||[]).concat(["deprecated"]),ui.matches=[]),Rt.iconLabel.setLabel(et.textLabel,void 0,ui),typeof Ut.label=="string"?(Rt.parametersLabel.textContent="",Rt.detailsLabel.textContent=Ht(Ut.detail||""),Rt.root.classList.add("string-label")):(Rt.parametersLabel.textContent=Ht(Ut.label.detail||""),Rt.detailsLabel.textContent=Ht(Ut.label.description||""),Rt.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,pe.$Z)(Rt.detailsLabel):(0,pe.Cp)(Rt.detailsLabel),jt(et)?(Rt.right.classList.add("can-expand-details"),(0,pe.$Z)(Rt.readMore),Rt.readMore.onmousedown=_i=>{_i.stopPropagation(),_i.preventDefault()},Rt.readMore.onclick=_i=>{_i.stopPropagation(),_i.preventDefault(),this._onDidToggleDetails.fire()}):(Rt.right.classList.remove("can-expand-details"),(0,pe.Cp)(Rt.readMore),Rt.readMore.onmousedown=null,Rt.readMore.onclick=null)}disposeTemplate(et){et.disposables.dispose()}};It=ke([Je(1,oe.q),Je(2,he.O),Je(3,Ze.XE)],It);function Ht(wi){return wi.replace(/\r\n|\r|\n/g,"")}var Qt=function(wi,et,lt,Rt){var Ut=arguments.length,ui=Ut<3?et:Rt===null?Rt=Object.getOwnPropertyDescriptor(et,lt):Rt,ri;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ui=Reflect.decorate(wi,et,lt,Rt);else for(var _i=wi.length-1;_i>=0;_i--)(ri=wi[_i])&&(ui=(Ut<3?ri(ui):Ut>3?ri(et,lt,ui):ri(et,lt))||ui);return Ut>3&&ui&&Object.defineProperty(et,lt,ui),ui},ci=function(wi,et){return function(lt,Rt){et(lt,Rt,wi)}},Fi=function(wi,et,lt,Rt){function Ut(ui){return ui instanceof lt?ui:new lt(function(ri){ri(ui)})}return new(lt||(lt=Promise))(function(ui,ri){function _i(ei){try{an(Rt.next(ei))}catch(Gi){ri(Gi)}}function Yi(ei){try{an(Rt.throw(ei))}catch(Gi){ri(Gi)}}function an(ei){ei.done?ui(ei.value):Ut(ei.value).then(_i,Yi)}an((Rt=Rt.apply(wi,et||[])).next())})};const Ii=(0,ut.P6G)("editorSuggestWidget.background",{dark:ut.D0T,light:ut.D0T,hcDark:ut.D0T,hcLight:ut.D0T},$.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),Xi=(0,ut.P6G)("editorSuggestWidget.border",{dark:ut.D1_,light:ut.D1_,hcDark:ut.D1_,hcLight:ut.D1_},$.NC("editorSuggestWidgetBorder","Border color of the suggest widget.")),zi=(0,ut.P6G)("editorSuggestWidget.foreground",{dark:ut.NOs,light:ut.NOs,hcDark:ut.NOs,hcLight:ut.NOs},$.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Si=(0,ut.P6G)("editorSuggestWidget.selectedForeground",{dark:ut.NPS,light:ut.NPS,hcDark:ut.NPS,hcLight:ut.NPS},$.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Ji=(0,ut.P6G)("editorSuggestWidget.selectedIconForeground",{dark:ut.cbQ,light:ut.cbQ,hcDark:ut.cbQ,hcLight:ut.cbQ},$.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),Zi=(0,ut.P6G)("editorSuggestWidget.selectedBackground",{dark:ut.Vqd,light:ut.Vqd,hcDark:ut.Vqd,hcLight:ut.Vqd},$.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),Ui=(0,ut.P6G)("editorSuggestWidget.highlightForeground",{dark:ut.Gwp,light:ut.Gwp,hcDark:ut.Gwp,hcLight:ut.Gwp},$.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),nn=(0,ut.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:ut.PX0,light:ut.PX0,hcDark:ut.PX0,hcLight:ut.PX0},$.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),Dn=(0,ut.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,ut.ZnX)(zi,.5),light:(0,ut.ZnX)(zi,.5),hcDark:(0,ut.ZnX)(zi,.5),hcLight:(0,ut.ZnX)(zi,.5)},$.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Cn{constructor(et,lt){this._service=et,this._key=`suggestWidget.size/${lt.getEditorType()}/${lt instanceof qt.H}`}restore(){var et;const lt=(et=this._service.get(this._key,0))!==null&&et!==void 0?et:"";try{const Rt=JSON.parse(lt);if(pe.Ro.is(Rt))return pe.Ro.lift(Rt)}catch{}}store(et){this._service.store(this._key,JSON.stringify(et),0,1)}reset(){this._service.remove(this._key,0)}}let pi=class fh{constructor(et,lt,Rt,Ut,ui){this.editor=et,this._storageService=lt,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new z._F,this._disposables=new H.SL,this._onDidSelect=new Z.Q5,this._onDidFocus=new Z.Q5,this._onDidHide=new Z.Q5,this._onDidShow=new Z.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new Z.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new $t,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new ze(this,et),this._persistedSize=new Cn(lt,et);class ri{constructor(bn,Mn,Nn=!1,yn=!1){this.persistedSize=bn,this.currentSize=Mn,this.persistHeight=Nn,this.persistWidth=yn}}let _i;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),_i=new ri(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(ln=>{var bn,Mn,Nn,yn;if(this._resize(ln.dimension.width,ln.dimension.height),_i&&(_i.persistHeight=_i.persistHeight||!!ln.north||!!ln.south,_i.persistWidth=_i.persistWidth||!!ln.east||!!ln.west),!!ln.done){if(_i){const{itemHeight:An,defaultSize:Bn}=this.getLayoutInfo(),sn=Math.round(An/2);let{width:vn,height:Kn}=this.element.size;(!_i.persistHeight||Math.abs(_i.currentSize.height-Kn)<=sn)&&(Kn=(Mn=(bn=_i.persistedSize)===null||bn===void 0?void 0:bn.height)!==null&&Mn!==void 0?Mn:Bn.height),(!_i.persistWidth||Math.abs(_i.currentSize.width-vn)<=sn)&&(vn=(yn=(Nn=_i.persistedSize)===null||Nn===void 0?void 0:Nn.width)!==null&&yn!==void 0?yn:Bn.width),this._persistedSize.store(new pe.Ro(vn,Kn))}this._contentWidget.unlockPreference(),_i=void 0}})),this._messageElement=pe.R3(this.element.domNode,pe.$(".message")),this._listElement=pe.R3(this.element.domNode,pe.$(".tree"));const Yi=ui.createInstance(ki,this.editor);Yi.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Pi(Yi,this.editor);const an=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);an();const ei=ui.createInstance(It,this.editor);this._disposables.add(ei),this._disposables.add(ei.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ft.aV("SuggestWidget",this._listElement,{getHeight:ln=>this.getLayoutInfo().itemHeight,getTemplateId:ln=>"suggestion"},[ei],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>$.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:ln=>{let bn=ln.textLabel;if(typeof ln.completion.label!="string"){const{detail:An,description:Bn}=ln.completion.label;An&&Bn?bn=$.NC("label.full","{0}{1}, {2}",bn,An,Bn):An?bn=$.NC("label.detail","{0}{1}",bn,An):Bn&&(bn=$.NC("label.desc","{0}, {1}",bn,Bn))}if(!ln.isResolved||!this._isDetailsVisible())return bn;const{documentation:Mn,detail:Nn}=ln.completion,yn=W.WU("{0}{1}",Nn||"",Mn?typeof Mn=="string"?Mn:Mn.value:"");return $.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",bn,yn)}}}),this._status=ui.createInstance(Ge,this.element.domNode);const Gi=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);Gi(),this._disposables.add((0,Nt.Jl)(this._list,Ut,{listInactiveFocusBackground:Zi,listInactiveFocusOutline:ut.xL1})),this._disposables.add(Ut.onDidColorThemeChange(ln=>this._onThemeChange(ln))),this._onThemeChange(Ut.getColorTheme()),this._disposables.add(this._list.onMouseDown(ln=>this._onListMouseDownOrTap(ln))),this._disposables.add(this._list.onTap(ln=>this._onListMouseDownOrTap(ln))),this._disposables.add(this._list.onDidChangeSelection(ln=>this._onListSelection(ln))),this._disposables.add(this._list.onDidChangeFocus(ln=>this._onListFocus(ln))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(ln=>{ln.hasChanged(108)&&(Gi(),an())})),this._ctxSuggestWidgetVisible=se._y.Visible.bindTo(Rt),this._ctxSuggestWidgetDetailsVisible=se._y.DetailsVisible.bindTo(Rt),this._ctxSuggestWidgetMultipleSuggestions=se._y.MultipleSuggestions.bindTo(Rt),this._ctxSuggestWidgetHasFocusedSuggestion=se._y.HasFocusedSuggestion.bindTo(Rt),this._disposables.add(pe.mu(this._details.widget.domNode,"keydown",ln=>{this._onDetailsKeydown.fire(ln)})),this._disposables.add(this.editor.onMouseDown(ln=>this._onEditorMouseDown(ln)))}dispose(){var et;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(et=this._loadingTimeout)===null||et===void 0||et.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(et){this._details.widget.domNode.contains(et.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(et.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(et){typeof et.element>"u"||typeof et.index>"u"||(et.browserEvent.preventDefault(),et.browserEvent.stopPropagation(),this._select(et.element,et.index))}_onListSelection(et){et.elements.length&&this._select(et.elements[0],et.indexes[0])}_select(et,lt){const Rt=this._completionModel;Rt&&(this._onDidSelect.fire({item:et,index:lt,model:Rt}),this.editor.focus())}_onThemeChange(et){this._details.widget.borderWidth=(0,Be.c3)(et.type)?2:1}_onListFocus(et){var lt;if(this._ignoreFocusEvents)return;if(!et.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const Rt=et.elements[0],Ut=et.indexes[0];Rt!==this._focusedItem&&((lt=this._currentSuggestionDetails)===null||lt===void 0||lt.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Rt,this._list.reveal(Ut),this._currentSuggestionDetails=(0,z.PG)(ui=>Fi(this,void 0,void 0,function*(){const ri=(0,z.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),_i=ui.onCancellationRequested(()=>ri.dispose()),Yi=yield Rt.resolve(ui);return ri.dispose(),_i.dispose(),Yi})),this._currentSuggestionDetails.then(()=>{Ut>=this._list.length||Rt!==this._list.element(Ut)||(this._ignoreFocusEvents=!0,this._list.splice(Ut,1,[Rt]),this._list.setFocus([Ut]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:ht(Ut)}))}).catch(E.dL)),this._onDidFocus.fire({item:Rt,index:Ut,model:this._completionModel})}_setState(et){if(this._state!==et)switch(this._state=et,this.element.domNode.classList.toggle("frozen",et===4),this.element.domNode.classList.remove("message"),et){case 0:pe.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=fh.LOADING_MESSAGE,pe.Cp(this._listElement,this._status.element),pe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=fh.NO_SUGGESTIONS_MESSAGE,pe.Cp(this._listElement,this._status.element),pe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:pe.Cp(this._messageElement),pe.$Z(this._listElement,this._status.element),this._show();break;case 4:pe.Cp(this._messageElement),pe.$Z(this._listElement,this._status.element),this._show();break;case 5:pe.Cp(this._messageElement),pe.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(et,lt){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!et,this._isAuto||(this._loadingTimeout=(0,z.Vg)(()=>this._setState(1),lt)))}showSuggestions(et,lt,Rt,Ut){var ui,ri;if(this._contentWidget.setPosition(this.editor.getPosition()),(ui=this._loadingTimeout)===null||ui===void 0||ui.dispose(),(ri=this._currentSuggestionDetails)===null||ri===void 0||ri.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==et&&(this._completionModel=et),Rt&&this._state!==2&&this._state!==0){this._setState(4);return}const _i=this._completionModel.items.length,Yi=_i===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(_i>1),Yi){this._setState(Ut?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Rt?4:3),lt>=0&&(this._list.reveal(lt,0),this._list.setFocus([lt])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(jt(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(et){this._details.show(),et?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var et;(et=this._loadingTimeout)===null||et===void 0||et.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const lt=this._persistedSize.restore(),Rt=Math.ceil(this.getLayoutInfo().itemHeight*4.3);lt&&lt.height<Rt&&this._persistedSize.store(lt.with(void 0,Rt))}isFrozen(){return this._state===4}_afterRender(et){if(et===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(et){var lt,Rt,Ut;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const ui=pe.D6(document.body),ri=this.getLayoutInfo();et||(et=ri.defaultSize);let _i=et.height,Yi=et.width;if(this._status.element.style.lineHeight=`${ri.itemHeight}px`,this._state===2||this._state===1)_i=ri.itemHeight+ri.borderHeight,Yi=ri.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new pe.Ro(Yi,_i),this._contentWidget.setPreference(2);else{const an=ui.width-ri.borderHeight-2*ri.horizontalPadding;Yi>an&&(Yi=an);const ei=this._completionModel?this._completionModel.stats.pLabelLen*ri.typicalHalfwidthCharacterWidth:Yi,Gi=ri.statusBarHeight+this._list.contentHeight+ri.borderHeight,ln=ri.itemHeight+ri.statusBarHeight,bn=pe.i(this.editor.getDomNode()),Mn=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Nn=bn.top+Mn.top+Mn.height,yn=Math.min(ui.height-Nn-ri.verticalPadding,Gi),An=bn.top+Mn.top-ri.verticalPadding,Bn=Math.min(An,Gi);let sn=Math.min(Math.max(Bn,yn)+ri.borderHeight,Gi);_i===((lt=this._cappedHeight)===null||lt===void 0?void 0:lt.capped)&&(_i=this._cappedHeight.wanted),_i<ln&&(_i=ln),_i>sn&&(_i=sn),_i>yn||this._forceRenderingAbove&&An>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),sn=Bn):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),sn=yn),this.element.preferredSize=new pe.Ro(ei,ri.defaultSize.height),this.element.maxSize=new pe.Ro(an,sn),this.element.minSize=new pe.Ro(220,ln),this._cappedHeight=_i===Gi?{wanted:(Ut=(Rt=this._cappedHeight)===null||Rt===void 0?void 0:Rt.wanted)!==null&&Ut!==void 0?Ut:et.height,capped:_i}:void 0}this._resize(Yi,_i)}_resize(et,lt){const{width:Rt,height:Ut}=this.element.maxSize;et=Math.min(Rt,et),lt=Math.min(Ut,lt);const{statusBarHeight:ui}=this.getLayoutInfo();this._list.layout(lt-ui,et),this._listElement.style.height=`${lt-ui}px`,this.element.layout(lt,et),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var et;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((et=this._contentWidget.getPosition())===null||et===void 0?void 0:et.preference[0])===2)}getLayoutInfo(){const et=this.editor.getOption(46),lt=(0,Xt.uZ)(this.editor.getOption(110)||et.lineHeight,8,1e3),Rt=!this.editor.getOption(108).showStatusBar||this._state===2||this._state===1?0:lt,Ut=this._details.widget.borderWidth,ui=2*Ut;return{itemHeight:lt,statusBarHeight:Rt,borderWidth:Ut,borderHeight:ui,typicalHalfwidthCharacterWidth:et.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new pe.Ro(430,Rt+12*lt+ui)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(et){this._storageService.store("expandSuggestionDocs",et,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};pi.LOADING_MESSAGE=$.NC("suggestWidget.loading","Loading..."),pi.NO_SUGGESTIONS_MESSAGE=$.NC("suggestWidget.noSuggestions","No suggestions."),pi=Qt([ci(1,Ke.Uy),ci(2,M.i6),ci(3,Ze.XE),ci(4,ae.TG)],pi);class ze{constructor(et,lt){this._widget=et,this._editor=lt,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:et,width:lt}=this._widget.element.size,{borderWidth:Rt,horizontalPadding:Ut}=this._widget.getLayoutInfo();return new pe.Ro(lt+2*Rt+Ut,et+2*Rt)}afterRender(et){this._widget._afterRender(et)}setPreference(et){this._preferenceLocked||(this._preference=et)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(et){this._position=et}}var Ct=s(89954),kt=function(wi,et,lt,Rt){var Ut=arguments.length,ui=Ut<3?et:Rt===null?Rt=Object.getOwnPropertyDescriptor(et,lt):Rt,ri;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ui=Reflect.decorate(wi,et,lt,Rt);else for(var _i=wi.length-1;_i>=0;_i--)(ri=wi[_i])&&(ui=(Ut<3?ri(ui):Ut>3?ri(et,lt,ui):ri(et,lt))||ui);return Ut>3&&ui&&Object.defineProperty(et,lt,ui),ui},oi=function(wi,et){return function(lt,Rt){et(lt,Rt,wi)}};const ai=!1;class bi{constructor(et,lt){if(this._model=et,this._position=lt,et.getLineMaxColumn(lt.lineNumber)!==lt.column){const Ut=et.getOffsetAt(lt),ui=et.getPositionAt(Ut+1);this._marker=et.deltaDecorations([],[{range:_.e.fromPositions(lt,ui),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(et){if(this._model.isDisposed()||this._position.lineNumber!==et.lineNumber)return 0;if(this._marker){const lt=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(lt.getStartPosition())-this._model.getOffsetAt(et)}else return this._model.getLineMaxColumn(et.lineNumber)-et.column}}let xi=class sf{constructor(et,lt,Rt,Ut,ui,ri,_i){this._memoryService=lt,this._commandService=Rt,this._contextKeyService=Ut,this._instantiationService=ui,this._logService=ri,this._telemetryService=_i,this._lineSuffix=new H.XK,this._toDispose=new H.SL,this._selectors=new Ti(Gi=>Gi.priority),this._telemetryGate=0,this.editor=et,this.model=ui.createInstance(We,this.editor);const Yi=se._y.InsertMode.bindTo(Ut);Yi.set(et.getOption(108).insertMode),this.model.onDidTrigger(()=>Yi.set(et.getOption(108).insertMode)),this.widget=this._toDispose.add(new z.Ue(()=>{const Gi=this._instantiationService.createInstance(pi,this.editor);this._toDispose.add(Gi),this._toDispose.add(Gi.onDidSelect(yn=>this._insertSuggestion(yn,0),this));const ln=new te(this.editor,Gi,yn=>this._insertSuggestion(yn,2));this._toDispose.add(ln),this._toDispose.add(this.model.onDidSuggest(yn=>{yn.completionModel.items.length===0&&ln.reset()}));const bn=se._y.MakesTextEdit.bindTo(this._contextKeyService),Mn=se._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Nn=se._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,H.OF)(()=>{bn.reset(),Mn.reset(),Nn.reset()})),this._toDispose.add(Gi.onDidFocus(({item:yn})=>{const An=this.editor.getPosition(),Bn=yn.editStart.column,sn=An.column;let vn=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!yn.completion.additionalTextEdits&&!(yn.completion.insertTextRules&4)&&sn-Bn===yn.completion.insertText.length&&(vn=this.editor.getModel().getValueInRange({startLineNumber:An.lineNumber,startColumn:Bn,endLineNumber:An.lineNumber,endColumn:sn})!==yn.completion.insertText),bn.set(vn),Mn.set(!d.L.equals(yn.editInsertEnd,yn.editReplaceEnd)),Nn.set(!!yn.provider.resolveCompletionItem||!!yn.completion.documentation||yn.completion.detail!==yn.completion.label)})),this._toDispose.add(Gi.onDetailsKeyDown(yn=>{if(yn.toKeybinding().equals(new B.QC(!0,!1,!1,!1,33))||O.dz&&yn.toKeybinding().equals(new B.QC(!1,!1,!1,!0,33))){yn.stopPropagation();return}yn.toKeybinding().isModifierKey()||this.editor.focus()})),Gi})),this._overtypingCapturer=this._toDispose.add(new z.Ue(()=>this._toDispose.add(new it(this.editor,this.model)))),this._alternatives=this._toDispose.add(new z.Ue(()=>this._toDispose.add(new Q(this.editor,this._contextKeyService)))),this._toDispose.add(ui.createInstance(V,et)),this._toDispose.add(this.model.onDidTrigger(Gi=>{this.widget.value.showTriggered(Gi.auto,Gi.shy?250:50),this._lineSuffix.value=new bi(this.editor.getModel(),Gi.position)})),this._toDispose.add(this.model.onDidSuggest(Gi=>{if(Gi.shy)return;let ln=-1;if(!Gi.noSelect){for(const bn of this._selectors.itemsOrderedByPriorityDesc)if(ln=bn.select(this.editor.getModel(),this.editor.getPosition(),Gi.completionModel.items),ln!==-1)break;ln===-1&&(ln=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Gi.completionModel.items))}this.widget.value.showSuggestions(Gi.completionModel,ln,Gi.isFrozen,Gi.auto)})),this._toDispose.add(this.model.onDidCancel(Gi=>{Gi.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{ai||(this.model.cancel(),this.model.clear())}));const an=se._y.AcceptSuggestionsOnEnter.bindTo(Ut),ei=()=>{const Gi=this.editor.getOption(1);an.set(Gi==="on"||Gi==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>ei())),ei()}static get(et){return et.getContribution(sf.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(et,lt){if(!et||!et.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Rt=p.f.get(this.editor);if(!Rt)return;const Ut=this.editor.getModel(),ui=Ut.getAlternativeVersionId(),{item:ri}=et,_i=[],Yi=new j.A;lt&1||this.editor.pushUndoStop();const an=this.getOverwriteInfo(ri,!!(lt&8));if(this._memoryService.memorize(Ut,this.editor.getPosition(),ri),Array.isArray(ri.completion.additionalTextEdits)){const Gi=C.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",ri.completion.additionalTextEdits.map(ln=>i.h.replaceMove(_.e.lift(ln.range),ln.text))),Gi.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!ri.isResolved){const Gi=new y.G(!0);let ln;const bn=Ut.onDidChangeContent(An=>{if(An.isFlush){Yi.cancel(),bn.dispose();return}for(const Bn of An.changes){const sn=_.e.getEndPosition(Bn.range);(!ln||d.L.isBefore(sn,ln))&&(ln=sn)}}),Mn=lt;lt|=2;let Nn=!1;const yn=this.editor.onWillType(()=>{yn.dispose(),Nn=!0,Mn&2||this.editor.pushUndoStop()});_i.push(ri.resolve(Yi.token).then(()=>{if(!ri.completion.additionalTextEdits||Yi.token.isCancellationRequested||ln&&ri.completion.additionalTextEdits.some(Bn=>d.L.isBefore(ln,_.e.getStartPosition(Bn.range))))return!1;Nn&&this.editor.pushUndoStop();const An=C.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",ri.completion.additionalTextEdits.map(Bn=>i.h.replaceMove(_.e.lift(Bn.range),Bn.text))),An.restoreRelativeVerticalPositionOfCursor(this.editor),(Nn||!(Mn&2))&&this.editor.pushUndoStop(),!0}).then(An=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Gi.elapsed(),An),bn.dispose(),yn.dispose()}))}let{insertText:ei}=ri.completion;ri.completion.insertTextRules&4||(ei=L.Yj.escape(ei)),Rt.insert(ei,{overwriteBefore:an.overwriteBefore,overwriteAfter:an.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(ri.completion.insertTextRules&1),clipboardText:et.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),lt&2||this.editor.pushUndoStop(),ri.completion.command?ri.completion.command.id===ji.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(_i.push(this._commandService.executeCommand(ri.completion.command.id,...ri.completion.command.arguments?[...ri.completion.command.arguments]:[]).catch(E.dL)),this.model.cancel()):this.model.cancel(),lt&4&&this._alternatives.value.set(et,Gi=>{for(Yi.cancel();Ut.canUndo();){ui!==Ut.getAlternativeVersionId()&&Ut.undo(),this._insertSuggestion(Gi,3|(lt&8?8:0));break}}),this._alertCompletionItem(ri),Promise.all(_i).finally(()=>{this._reportSuggestionAcceptedTelemetry(ri,Ut,et),this.model.clear(),Yi.dispose()})}_reportSuggestionAcceptedTelemetry(et,lt,Rt){var Ut;if(this._telemetryGate++%100!==0)return;const ui=et.extensionId?et.extensionId.value:((Ut=Rt.item.provider._debugDisplayName)!==null&&Ut!==void 0?Ut:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:ui,kind:et.completion.kind,basenameHash:(0,Ct.vp)((0,Vi.EZ)(lt.uri)).toString(16),languageId:lt.getLanguageId(),fileExtension:(0,Vi.DZ)(lt.uri)})}getOverwriteInfo(et,lt){(0,g.p_)(this.editor.hasModel());let Rt=this.editor.getOption(108).insertMode==="replace";lt&&(Rt=!Rt);const Ut=et.position.column-et.editStart.column,ui=(Rt?et.editReplaceEnd.column:et.editInsertEnd.column)-et.position.column,ri=this.editor.getPosition().column-et.position.column,_i=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:Ut+ri,overwriteAfter:ui+_i}}_alertCompletionItem(et){if((0,l.Of)(et.completion.additionalTextEdits)){const lt=$.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",et.textLabel,et.completion.additionalTextEdits.length);(0,b.Z9)(lt)}}triggerSuggest(et,lt,Rt,Ut){this.editor.hasModel()&&(this.model.trigger({auto:lt??!1,shy:!1,noSelect:Ut??!1},!1,et,void 0,Rt),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(et){if(!this.editor.hasModel())return;const lt=this.editor.getPosition(),Rt=()=>{lt.equals(this.editor.getPosition())&&this._commandService.executeCommand(et.fallback)},Ut=ui=>{if(ui.completion.insertTextRules&4||ui.completion.additionalTextEdits)return!0;const ri=this.editor.getPosition(),_i=ui.editStart.column,Yi=ri.column;return Yi-_i!==ui.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ri.lineNumber,startColumn:_i,endLineNumber:ri.lineNumber,endColumn:Yi})!==ui.completion.insertText};Z.ju.once(this.model.onDidTrigger)(ui=>{const ri=[];Z.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,H.B9)(ri),Rt()},void 0,ri),this.model.onDidSuggest(({completionModel:_i})=>{if((0,H.B9)(ri),_i.items.length===0){Rt();return}const Yi=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),_i.items),an=_i.items[Yi];if(!Ut(an)){Rt();return}this.editor.pushUndoStop(),this._insertSuggestion({index:Yi,item:an,model:_i},7)},void 0,ri)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(lt,0),this.editor.focus()}acceptSelectedSuggestion(et,lt){const Rt=this.widget.value.getFocusedItem();let Ut=0;et&&(Ut|=4),lt&&(Ut|=8),this._insertSuggestion(Rt,Ut)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(et){return this._selectors.register(et)}};xi.ID="editor.contrib.suggestController",xi=kt([oi(1,T.Fh),oi(2,re.Hy),oi(3,M.i6),oi(4,ae.TG),oi(5,ie.VZ),oi(6,xe.b)],xi);class Ti{constructor(et){this.prioritySelector=et,this._items=new Array}register(et){if(this._items.indexOf(et)!==-1)throw new Error("Value is already registered");return this._items.push(et),this._items.sort((lt,Rt)=>this.prioritySelector(Rt)-this.prioritySelector(lt)),{dispose:()=>{const lt=this._items.indexOf(et);lt>=0&&this._items.splice(lt,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class ji extends m.R6{constructor(){super({id:ji.id,label:$.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:M.Ao.and(v.u.writable,v.u.hasCompletionItemProvider),kbOpts:{kbExpr:v.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(et,lt,Rt){const Ut=xi.get(lt);if(!Ut)return;let ui,ri;Rt&&typeof Rt=="object"&&(Rt.auto===!0&&(ui=!0),Rt.noSelection===!0&&(ri=!0)),Ut.triggerSuggest(void 0,ui,void 0,ri)}}ji.id="editor.action.triggerSuggest",(0,m._K)(xi.ID,xi),(0,m.Qr)(ji);const Hi=190,rn=m._l.bindToContribution(xi.get);(0,m.fK)(new rn({id:"acceptSelectedSuggestion",precondition:M.Ao.and(se._y.Visible,se._y.HasFocusedSuggestion),handler(wi){wi.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:M.Ao.and(se._y.Visible,v.u.textInputFocus),weight:Hi},{primary:3,kbExpr:M.Ao.and(se._y.Visible,v.u.textInputFocus,se._y.AcceptSuggestionsOnEnter,se._y.MakesTextEdit),weight:Hi}],menuOpts:[{menuId:se.GI,title:$.NC("accept.insert","Insert"),group:"left",order:1,when:se._y.HasInsertAndReplaceRange.toNegated()},{menuId:se.GI,title:$.NC("accept.insert","Insert"),group:"left",order:1,when:M.Ao.and(se._y.HasInsertAndReplaceRange,se._y.InsertMode.isEqualTo("insert"))},{menuId:se.GI,title:$.NC("accept.replace","Replace"),group:"left",order:1,when:M.Ao.and(se._y.HasInsertAndReplaceRange,se._y.InsertMode.isEqualTo("replace"))}]})),(0,m.fK)(new rn({id:"acceptAlternativeSelectedSuggestion",precondition:M.Ao.and(se._y.Visible,v.u.textInputFocus,se._y.HasFocusedSuggestion),kbOpts:{weight:Hi,kbExpr:v.u.textInputFocus,primary:1027,secondary:[1026]},handler(wi){wi.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:se.GI,group:"left",order:2,when:M.Ao.and(se._y.HasInsertAndReplaceRange,se._y.InsertMode.isEqualTo("insert")),title:$.NC("accept.replace","Replace")},{menuId:se.GI,group:"left",order:2,when:M.Ao.and(se._y.HasInsertAndReplaceRange,se._y.InsertMode.isEqualTo("replace")),title:$.NC("accept.insert","Insert")}]})),re.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,m.fK)(new rn({id:"hideSuggestWidget",precondition:se._y.Visible,handler:wi=>wi.cancelSuggestWidget(),kbOpts:{weight:Hi,kbExpr:v.u.textInputFocus,primary:9,secondary:[1033]}})),(0,m.fK)(new rn({id:"selectNextSuggestion",precondition:M.Ao.and(se._y.Visible,se._y.MultipleSuggestions),handler:wi=>wi.selectNextSuggestion(),kbOpts:{weight:Hi,kbExpr:v.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,m.fK)(new rn({id:"selectNextPageSuggestion",precondition:M.Ao.and(se._y.Visible,se._y.MultipleSuggestions),handler:wi=>wi.selectNextPageSuggestion(),kbOpts:{weight:Hi,kbExpr:v.u.textInputFocus,primary:12,secondary:[2060]}})),(0,m.fK)(new rn({id:"selectLastSuggestion",precondition:M.Ao.and(se._y.Visible,se._y.MultipleSuggestions),handler:wi=>wi.selectLastSuggestion()})),(0,m.fK)(new rn({id:"selectPrevSuggestion",precondition:M.Ao.and(se._y.Visible,se._y.MultipleSuggestions),handler:wi=>wi.selectPrevSuggestion(),kbOpts:{weight:Hi,kbExpr:v.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,m.fK)(new rn({id:"selectPrevPageSuggestion",precondition:M.Ao.and(se._y.Visible,se._y.MultipleSuggestions),handler:wi=>wi.selectPrevPageSuggestion(),kbOpts:{weight:Hi,kbExpr:v.u.textInputFocus,primary:11,secondary:[2059]}})),(0,m.fK)(new rn({id:"selectFirstSuggestion",precondition:M.Ao.and(se._y.Visible,se._y.MultipleSuggestions),handler:wi=>wi.selectFirstSuggestion()})),(0,m.fK)(new rn({id:"toggleSuggestionDetails",precondition:se._y.Visible,handler:wi=>wi.toggleSuggestionDetails(),kbOpts:{weight:Hi,kbExpr:v.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:se.GI,group:"right",order:1,when:M.Ao.and(se._y.DetailsVisible,se._y.CanResolve),title:$.NC("detail.more","show less")},{menuId:se.GI,group:"right",order:1,when:M.Ao.and(se._y.DetailsVisible.toNegated(),se._y.CanResolve),title:$.NC("detail.less","show more")}]})),(0,m.fK)(new rn({id:"toggleExplainMode",precondition:se._y.Visible,handler:wi=>wi.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,m.fK)(new rn({id:"toggleSuggestionFocus",precondition:se._y.Visible,handler:wi=>wi.toggleSuggestionFocus(),kbOpts:{weight:Hi,kbExpr:v.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,m.fK)(new rn({id:"insertBestCompletion",precondition:M.Ao.and(v.u.textInputFocus,M.Ao.equals("config.editor.tabCompletion","on"),V.AtEnd,se._y.Visible.toNegated(),Q.OtherSuggestions.toNegated(),p.f.InSnippetMode.toNegated()),handler:(wi,et)=>{wi.triggerSuggestAndAcceptBest((0,g.Kn)(et)?Object.assign({fallback:"tab"},et):{fallback:"tab"})},kbOpts:{weight:Hi,primary:2}})),(0,m.fK)(new rn({id:"insertNextSuggestion",precondition:M.Ao.and(v.u.textInputFocus,M.Ao.equals("config.editor.tabCompletion","on"),Q.OtherSuggestions,se._y.Visible.toNegated(),p.f.InSnippetMode.toNegated()),handler:wi=>wi.acceptNextSuggestion(),kbOpts:{weight:Hi,kbExpr:v.u.textInputFocus,primary:2}})),(0,m.fK)(new rn({id:"insertPrevSuggestion",precondition:M.Ao.and(v.u.textInputFocus,M.Ao.equals("config.editor.tabCompletion","on"),Q.OtherSuggestions,se._y.Visible.toNegated(),p.f.InSnippetMode.toNegated()),handler:wi=>wi.acceptPrevSuggestion(),kbOpts:{weight:Hi,kbExpr:v.u.textInputFocus,primary:1026}})),(0,m.Qr)(class extends m.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:$.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(wi,et){var lt;(lt=xi.get(et))===null||lt===void 0||lt.resetWidgetSize()}})},88088:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{SuggestInlineCompletions:function(){return M}});var b=s(71050),l=s(75392),z=s(53725),j=s(5976),E=s(16830),Z=s(11640),B=s(24314),H=s(71922),O=s(70902),y=s(74961),g=s(55621),C=s(80378),m=s(24477),i=s(84972),d=s(72065),_=function(P,V,$,re){var ae=arguments.length,ie=ae<3?V:re===null?re=Object.getOwnPropertyDescriptor(V,$):re,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(P,V,$,re);else for(var X=P.length-1;X>=0;X--)(se=P[X])&&(ie=(ae<3?se(ie):ae>3?se(V,$,ie):se(V,$))||ie);return ae>3&&ie&&Object.defineProperty(V,$,ie),ie},v=function(P,V){return function($,re){V($,re,P)}},p=function(P,V,$,re){function ae(ie){return ie instanceof $?ie:new $(function(se){se(ie)})}return new($||($=Promise))(function(ie,se){function X(F){try{Q(re.next(F))}catch(te){se(te)}}function ne(F){try{Q(re.throw(F))}catch(te){se(te)}}function Q(F){F.done?ie(F.value):ae(F.value).then(X,ne)}Q((re=re.apply(P,V||[])).next())})};class L{constructor(V,$,re,ae,ie,se){this.range=V,this.insertText=$,this.filterText=re,this.additionalTextEdits=ae,this.command=ie,this.completion=se}}let T=class extends j.L6{constructor(V,$,re,ae,ie,se){super(ie.disposable),this.model=V,this.line=$,this.word=re,this.completionModel=ae,this._suggestMemoryService=se}canBeReused(V,$,re){return this.model===V&&this.line===$&&this.word.word.length>0&&this.word.startColumn===re.startColumn&&this.word.endColumn<re.endColumn&&this.completionModel.incomplete.size===0}get items(){var V;const $=[],{items:re}=this.completionModel,ae=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},re),ie=z.$.slice(re,ae),se=z.$.slice(re,0,ae);let X=5;for(const ne of z.$.concat(ie,se)){if(ne.score===l.CL.Default)continue;const Q=new B.e(ne.editStart.lineNumber,ne.editStart.column,ne.editInsertEnd.lineNumber,ne.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),F=ne.completion.insertTextRules&&ne.completion.insertTextRules&O.a7.InsertAsSnippet?{snippet:ne.completion.insertText}:ne.completion.insertText;$.push(new L(Q,F,(V=ne.filterTextLow)!==null&&V!==void 0?V:ne.labelLow,ne.completion.additionalTextEdits,ne.completion.command,ne)),X-->=0&&ne.resolve(b.T.None)}return $}};T=_([v(5,C.Fh)],T);let M=class{constructor(V,$,re,ae){this._getEditorOption=V,this._languageFeatureService=$,this._clipboardService=re,this._suggestMemoryService=ae}provideInlineCompletions(V,$,re,ae){var ie;return p(this,void 0,void 0,function*(){if(re.selectedSuggestionInfo)return;const se=this._getEditorOption(81,V);if(g.tG.isAllOff(se))return;V.tokenization.tokenizeIfCheap($.lineNumber);const X=V.tokenization.getLineTokens($.lineNumber),ne=X.getStandardTokenType(X.findTokenIndexAtOffset(Math.max($.column-1-1,0)));if(g.tG.valueFor(se,ne)!=="inline")return;let Q=V.getWordAtPosition($),F;if(Q?.word||(F=this._getTriggerCharacterInfo(V,$)),!Q?.word&&!F||(Q||(Q=V.getWordUntilPosition($)),Q.endColumn!==$.column))return;let te;const W=V.getValueInRange(new B.e($.lineNumber,1,$.lineNumber,$.column));if(!F&&(!((ie=this._lastResult)===null||ie===void 0)&&ie.canBeReused(V,$.lineNumber,Q))){const G=new y.t(W,$.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=G,this._lastResult.acquire(),te=this._lastResult}else{const G=yield(0,g.kL)(this._languageFeatureService.completionProvider,V,$,new g.A9(void 0,void 0,F?.providers),F&&{triggerKind:1,triggerCharacter:F.ch},ae);let q;G.needsClipboard&&(q=yield this._clipboardService.readText());const me=new y._(G.items,$.column,new y.t(W,0),m.K.None,this._getEditorOption(108,V),this._getEditorOption(103,V),{boostFullMatch:!1,firstMatchCanBeWeak:!1},q);te=new T(V,$.lineNumber,Q,me,G,this._suggestMemoryService)}return this._lastResult=te,te})}handleItemDidShow(V,$){$.completion.resolve(b.T.None)}freeInlineCompletions(V){V.release()}_getTriggerCharacterInfo(V,$){var re;const ae=V.getValueInRange(B.e.fromPositions({lineNumber:$.lineNumber,column:$.column-1},$)),ie=new Set;for(const se of this._languageFeatureService.completionProvider.all(V))!((re=se.triggerCharacters)===null||re===void 0)&&re.includes(ae)&&ie.add(se);if(ie.size!==0)return{providers:ie,ch:ae}}};M=_([v(1,H.p),v(2,i.p),v(3,C.Fh)],M);let I=class Rl{constructor(V,$,re,ae){if(++Rl._counter===1){const ie=ae.createInstance(M,(se,X)=>{var ne;return((ne=re.listCodeEditors().find(F=>F.getModel()===X))!==null&&ne!==void 0?ne:V).getOption(se)});Rl._disposable=$.inlineCompletionsProvider.register("*",ie)}}dispose(){var V;--Rl._counter===0&&((V=Rl._disposable)===null||V===void 0||V.dispose(),Rl._disposable=void 0)}};I._counter=0,I=_([v(1,H.p),v(2,Z.$),v(3,d.TG)],I),(0,E._K)("suggest.inlineCompletionsProvider",I)},80378:function(Yt,Ye,s){"use strict";s.d(Ye,{Fh:function(){return _}});var b=s(15393),l=s(5976),z=s(43702),j=s(43155),E=s(33108),Z=s(65026),B=s(72065),H=s(87060),O=function(v,p,L,T){var M=arguments.length,I=M<3?p:T===null?T=Object.getOwnPropertyDescriptor(p,L):T,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(v,p,L,T);else for(var V=v.length-1;V>=0;V--)(P=v[V])&&(I=(M<3?P(I):M>3?P(p,L,I):P(p,L))||I);return M>3&&I&&Object.defineProperty(p,L,I),I},y=function(v,p){return function(L,T){p(L,T,v)}};class g{constructor(p){this.name=p}select(p,L,T){if(T.length===0)return 0;const M=T[0].score[0];for(let I=0;I<T.length;I++){const{score:P,completion:V}=T[I];if(P[0]!==M)break;if(V.preselect)return I}return 0}}class C extends g{constructor(){super("first")}memorize(p,L,T){}toJSON(){}fromJSON(){}}class m extends g{constructor(){super("recentlyUsed"),this._cache=new z.z6(300,.66),this._seq=0}memorize(p,L,T){const M=`${p.getLanguageId()}/${T.textLabel}`;this._cache.set(M,{touch:this._seq++,type:T.completion.kind,insertText:T.completion.insertText})}select(p,L,T){if(T.length===0)return 0;const M=p.getLineContent(L.lineNumber).substr(L.column-10,L.column-1);if(/\s$/.test(M))return super.select(p,L,T);const I=T[0].score[0];let P=-1,V=-1,$=-1;for(let re=0;re<T.length&&T[re].score[0]===I;re++){const ae=`${p.getLanguageId()}/${T[re].textLabel}`,ie=this._cache.peek(ae);if(ie&&ie.touch>$&&ie.type===T[re].completion.kind&&ie.insertText===T[re].completion.insertText&&($=ie.touch,V=re),T[re].completion.preselect&&P===-1)return P=re}return V!==-1?V:P!==-1?P:0}toJSON(){return this._cache.toJSON()}fromJSON(p){this._cache.clear();const L=0;for(const[T,M]of p)M.touch=L,M.type=typeof M.type=="number"?M.type:j.gX.fromString(M.type),this._cache.set(T,M);this._seq=this._cache.size}}class i extends g{constructor(){super("recentlyUsedByPrefix"),this._trie=z.Id.forStrings(),this._seq=0}memorize(p,L,T){const{word:M}=p.getWordUntilPosition(L),I=`${p.getLanguageId()}/${M}`;this._trie.set(I,{type:T.completion.kind,insertText:T.completion.insertText,touch:this._seq++})}select(p,L,T){const{word:M}=p.getWordUntilPosition(L);if(!M)return super.select(p,L,T);const I=`${p.getLanguageId()}/${M}`;let P=this._trie.get(I);if(P||(P=this._trie.findSubstr(I)),P)for(let V=0;V<T.length;V++){const{kind:$,insertText:re}=T[V].completion;if($===P.type&&re===P.insertText)return V}return super.select(p,L,T)}toJSON(){const p=[];return this._trie.forEach((L,T)=>p.push([T,L])),p.sort((L,T)=>-(L[1].touch-T[1].touch)).forEach((L,T)=>L[1].touch=T),p.slice(0,200)}fromJSON(p){if(this._trie.clear(),p.length>0){this._seq=p[0][1].touch+1;for(const[L,T]of p)T.type=typeof T.type=="number"?T.type:j.gX.fromString(T.type),this._trie.set(L,T)}}}let d=class kd{constructor(p,L){this._storageService=p,this._configService=L,this._disposables=new l.SL,this._persistSoon=new b.pY(()=>this._saveState(),500),this._disposables.add(p.onWillSaveState(T=>{T.reason===H.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(p,L,T){this._withStrategy(p,L).memorize(p,L,T),this._persistSoon.schedule()}select(p,L,T){return this._withStrategy(p,L).select(p,L,T)}_withStrategy(p,L){var T;const M=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:p.getLanguageIdAtPosition(L.lineNumber,L.column),resource:p.uri});if(((T=this._strategy)===null||T===void 0?void 0:T.name)!==M){this._saveState();const I=kd._strategyCtors.get(M)||C;this._strategy=new I;try{const V=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,$=this._storageService.get(`${kd._storagePrefix}/${M}`,V);$&&this._strategy.fromJSON(JSON.parse($))}catch{}}return this._strategy}_saveState(){if(this._strategy){const L=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,T=JSON.stringify(this._strategy);this._storageService.store(`${kd._storagePrefix}/${this._strategy.name}`,T,L,1)}}};d._strategyCtors=new Map([["recentlyUsedByPrefix",i],["recentlyUsed",m],["first",C]]),d._storagePrefix="suggest/memories",d=O([y(0,H.Uy),y(1,E.Ui)],d);const _=(0,B.yh)("ISuggestMemories");(0,Z.z)(_,d,!0)},24477:function(Yt,Ye,s){"use strict";s.d(Ye,{K:function(){return E}});var b=s(9488),l=s(24314),z=s(79694),j=function(Z,B,H,O){function y(g){return g instanceof H?g:new H(function(C){C(g)})}return new(H||(H=Promise))(function(g,C){function m(_){try{d(O.next(_))}catch(v){C(v)}}function i(_){try{d(O.throw(_))}catch(v){C(v)}}function d(_){_.done?g(_.value):y(_.value).then(m,i)}d((O=O.apply(Z,B||[])).next())})};class E{static create(B,H){return j(this,void 0,void 0,function*(){if(!H.getOption(108).localityBonus||!H.hasModel())return E.None;const O=H.getModel(),y=H.getPosition();if(!B.canComputeWordRanges(O.uri))return E.None;const[g]=yield new z.x().provideSelectionRanges(O,[y]);if(g.length===0)return E.None;const C=yield B.computeWordRanges(O.uri,g[0].range);if(!C)return E.None;const m=O.getWordUntilPosition(y);return delete C[m.word],new class extends E{distance(i,d){if(!y.equals(H.getPosition()))return 0;if(d.kind===17)return 2<<20;const _=typeof d.label=="string"?d.label:d.label.label,v=C[_];if((0,b.XY)(v))return 2<<20;const p=(0,b.ry)(v,l.e.fromPositions(i),l.e.compareRangesUsingStarts),L=p>=0?v[p]:v[Math.max(0,~p-1)];let T=g.length;for(const M of g){if(!l.e.containsRange(M.range,L))break;T-=1}return T}}})}}E.None=new class extends E{distance(){return 0}}},71713:function(Yt,Ye,s){"use strict";var b=s(73046),l=s(63580),z=s(73910),j=s(97781);const E=(0,z.P6G)("symbolIcon.arrayForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z=(0,z.P6G)("symbolIcon.booleanForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B=(0,z.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,l.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H=(0,z.P6G)("symbolIcon.colorForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,z.P6G)("symbolIcon.constantForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,z.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,l.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,z.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,l.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,z.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,l.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,z.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,l.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i=(0,z.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,l.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,z.P6G)("symbolIcon.fileForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,z.P6G)("symbolIcon.folderForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,z.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,l.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,z.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,l.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,z.P6G)("symbolIcon.keyForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,z.P6G)("symbolIcon.keywordForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,z.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,l.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,z.P6G)("symbolIcon.moduleForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,z.P6G)("symbolIcon.namespaceForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V=(0,z.P6G)("symbolIcon.nullForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,z.P6G)("symbolIcon.numberForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),re=(0,z.P6G)("symbolIcon.objectForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ae=(0,z.P6G)("symbolIcon.operatorForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ie=(0,z.P6G)("symbolIcon.packageForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),se=(0,z.P6G)("symbolIcon.propertyForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),X=(0,z.P6G)("symbolIcon.referenceForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ne=(0,z.P6G)("symbolIcon.snippetForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Q=(0,z.P6G)("symbolIcon.stringForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,z.P6G)("symbolIcon.structForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),te=(0,z.P6G)("symbolIcon.textForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W=(0,z.P6G)("symbolIcon.typeParameterForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G=(0,z.P6G)("symbolIcon.unitForeground",{dark:z.dRz,light:z.dRz,hcDark:z.dRz,hcLight:z.dRz},(0,l.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q=(0,z.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,l.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,j.Ic)((me,w)=>{const we=me.getColor(E);we&&w.addRule(`${b.lA.symbolArray.cssSelector} { color: ${we}; }`);const xe=me.getColor(Z);xe&&w.addRule(`${b.lA.symbolBoolean.cssSelector} { color: ${xe}; }`);const Ne=me.getColor(B);Ne&&w.addRule(`${b.lA.symbolClass.cssSelector} { color: ${Ne}; }`);const Ve=me.getColor(M);Ve&&w.addRule(`${b.lA.symbolMethod.cssSelector} { color: ${Ve}; }`);const Ce=me.getColor(H);Ce&&w.addRule(`${b.lA.symbolColor.cssSelector} { color: ${Ce}; }`);const Ae=me.getColor(O);Ae&&w.addRule(`${b.lA.symbolConstant.cssSelector} { color: ${Ae}; }`);const $e=me.getColor(y);$e&&w.addRule(`${b.lA.symbolConstructor.cssSelector} { color: ${$e}; }`);const je=me.getColor(g);je&&w.addRule(`
			${b.lA.symbolValue.cssSelector},${b.lA.symbolEnum.cssSelector} { color: ${je}; }`);const at=me.getColor(C);at&&w.addRule(`${b.lA.symbolEnumMember.cssSelector} { color: ${at}; }`);const pt=me.getColor(m);pt&&w.addRule(`${b.lA.symbolEvent.cssSelector} { color: ${pt}; }`);const bt=me.getColor(i);bt&&w.addRule(`${b.lA.symbolField.cssSelector} { color: ${bt}; }`);const We=me.getColor(d);We&&w.addRule(`${b.lA.symbolFile.cssSelector} { color: ${We}; }`);const it=me.getColor(_);it&&w.addRule(`${b.lA.symbolFolder.cssSelector} { color: ${it}; }`);const pe=me.getColor(v);pe&&w.addRule(`${b.lA.symbolFunction.cssSelector} { color: ${pe}; }`);const ye=me.getColor(p);ye&&w.addRule(`${b.lA.symbolInterface.cssSelector} { color: ${ye}; }`);const ft=me.getColor(L);ft&&w.addRule(`${b.lA.symbolKey.cssSelector} { color: ${ft}; }`);const Xt=me.getColor(T);Xt&&w.addRule(`${b.lA.symbolKeyword.cssSelector} { color: ${Xt}; }`);const qt=me.getColor(I);qt&&w.addRule(`${b.lA.symbolModule.cssSelector} { color: ${qt}; }`);const Ft=me.getColor(P);Ft&&w.addRule(`${b.lA.symbolNamespace.cssSelector} { color: ${Ft}; }`);const Ot=me.getColor(V);Ot&&w.addRule(`${b.lA.symbolNull.cssSelector} { color: ${Ot}; }`);const Mt=me.getColor($);Mt&&w.addRule(`${b.lA.symbolNumber.cssSelector} { color: ${Mt}; }`);const ni=me.getColor(re);ni&&w.addRule(`${b.lA.symbolObject.cssSelector} { color: ${ni}; }`);const Gt=me.getColor(ae);Gt&&w.addRule(`${b.lA.symbolOperator.cssSelector} { color: ${Gt}; }`);const Fe=me.getColor(ie);Fe&&w.addRule(`${b.lA.symbolPackage.cssSelector} { color: ${Fe}; }`);const Ge=me.getColor(se);Ge&&w.addRule(`${b.lA.symbolProperty.cssSelector} { color: ${Ge}; }`);const Te=me.getColor(X);Te&&w.addRule(`${b.lA.symbolReference.cssSelector} { color: ${Te}; }`);const Ke=me.getColor(ne);Ke&&w.addRule(`${b.lA.symbolSnippet.cssSelector} { color: ${Ke}; }`);const ut=me.getColor(Q);ut&&w.addRule(`${b.lA.symbolString.cssSelector} { color: ${ut}; }`);const Nt=me.getColor(F);Nt&&w.addRule(`${b.lA.symbolStruct.cssSelector} { color: ${Nt}; }`);const Be=me.getColor(te);Be&&w.addRule(`${b.lA.symbolText.cssSelector} { color: ${Be}; }`);const Ze=me.getColor(W);Ze&&w.addRule(`${b.lA.symbolTypeParameter.cssSelector} { color: ${Ze}; }`);const wt=me.getColor(G);wt&&w.addRule(`${b.lA.symbolUnit.cssSelector} { color: ${wt}; }`);const $t=me.getColor(q);$t&&w.addRule(`${b.lA.symbolVariable.cssSelector} { color: ${$t}; }`)})},64662:function(Yt,Ye,s){"use strict";s.d(Ye,{R:function(){return E}});var b=s(35996),l=s(37940),z=s(16830),j=s(63580);class E extends z.R6{constructor(){super({id:E.ID,label:j.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(B,H){const y=!l.n.getTabFocusMode();l.n.setTabFocusMode(y),y?(0,b.Z9)(j.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,b.Z9)(j.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}E.ID="editor.action.toggleTabFocusMode",(0,z.Qr)(E)},70943:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{getOccurrencesAtPosition:function(){return ie}});var b=s(35996),l=s(9488),z=s(15393),j=s(71050),E=s(17301),Z=s(5976),B=s(16830),H=s(24314),O=s(29102),y=s(84973),g=s(22529),C=s(43155),m=s(63580),i=s(38819),d=s(73910),_=s(97781),v=s(71922),p=s(92321),L=function(w,we,xe,Ne){var Ve=arguments.length,Ce=Ve<3?we:Ne===null?Ne=Object.getOwnPropertyDescriptor(we,xe):Ne,Ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(w,we,xe,Ne);else for(var $e=w.length-1;$e>=0;$e--)(Ae=w[$e])&&(Ce=(Ve<3?Ae(Ce):Ve>3?Ae(we,xe,Ce):Ae(we,xe))||Ce);return Ve>3&&Ce&&Object.defineProperty(we,xe,Ce),Ce},T=function(w,we){return function(xe,Ne){we(xe,Ne,w)}};const M=(0,d.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},m.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),I=(0,d.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},m.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),P=(0,d.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:d.xL1,hcLight:d.xL1},m.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),V=(0,d.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:d.xL1,hcLight:d.xL1},m.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),$=(0,d.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},m.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),re=(0,d.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},m.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ae=new i.uy("hasWordHighlights",!1);function ie(w,we,xe,Ne){const Ve=w.ordered(we);return(0,z.Ps)(Ve.map(Ce=>()=>Promise.resolve(Ce.provideDocumentHighlights(we,xe,Ne)).then(void 0,E.Cp)),l.Of)}class se{constructor(we,xe,Ne){this._model=we,this._selection=xe,this._wordSeparators=Ne,this._wordRange=this._getCurrentWordRange(we,xe),this._result=null}get result(){return this._result||(this._result=(0,z.PG)(we=>this._compute(this._model,this._selection,this._wordSeparators,we))),this._result}_getCurrentWordRange(we,xe){const Ne=we.getWordAtPosition(xe.getPosition());return Ne?new H.e(xe.startLineNumber,Ne.startColumn,xe.startLineNumber,Ne.endColumn):null}isValid(we,xe,Ne){const Ve=xe.startLineNumber,Ce=xe.startColumn,Ae=xe.endColumn,$e=this._getCurrentWordRange(we,xe);let je=!!(this._wordRange&&this._wordRange.equalsRange($e));for(let at=0,pt=Ne.length;!je&&at<pt;at++){const bt=Ne.getRange(at);bt&&bt.startLineNumber===Ve&&bt.startColumn<=Ce&&bt.endColumn>=Ae&&(je=!0)}return je}cancel(){this.result.cancel()}}class X extends se{constructor(we,xe,Ne,Ve){super(we,xe,Ne),this._providers=Ve}_compute(we,xe,Ne,Ve){return ie(this._providers,we,xe.getPosition(),Ve).then(Ce=>Ce||[])}}class ne extends se{constructor(we,xe,Ne){super(we,xe,Ne),this._selectionIsEmpty=xe.isEmpty()}_compute(we,xe,Ne,Ve){return(0,z.Vs)(250,Ve).then(()=>{if(!xe.isEmpty())return[];const Ce=we.getWordAtPosition(xe.getPosition());return!Ce||Ce.word.length>1e3?[]:we.findMatches(Ce.word,!0,!1,!0,Ne,!1).map($e=>({range:$e.range,kind:C.MY.Text}))})}isValid(we,xe,Ne){const Ve=xe.isEmpty();return this._selectionIsEmpty!==Ve?!1:super.isValid(we,xe,Ne)}}function Q(w,we,xe,Ne){return w.has(we)?new X(we,xe,Ne,w):new ne(we,xe,Ne)}(0,B.sb)("_executeDocumentHighlights",(w,we,xe)=>{const Ne=w.get(v.p);return ie(Ne.documentHighlightProvider,we,xe,j.T.None)});class F{constructor(we,xe,Ne){this.toUnhook=new Z.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=we,this.providers=xe,this._hasWordHighlights=ae.bindTo(Ne),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(we.onDidChangeCursorPosition(Ve=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(Ve)})),this.toUnhook.add(we.onDidChangeModelContent(Ve=>{this._stopAll()})),this.toUnhook.add(we.onDidChangeConfiguration(Ve=>{const Ce=this.editor.getOption(74);this.occurrencesHighlight!==Ce&&(this.occurrencesHighlight=Ce,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(H.e.compareRangesUsingStarts)}moveNext(){const we=this._getSortedHighlights(),Ne=(we.findIndex(Ce=>Ce.containsPosition(this.editor.getPosition()))+1)%we.length,Ve=we[Ne];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(Ve.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(Ve);const Ce=this._getWord();if(Ce){const Ae=this.editor.getModel().getLineContent(Ve.startLineNumber);(0,b.Z9)(`${Ae}, ${Ne+1} of ${we.length} for '${Ce.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const we=this._getSortedHighlights(),Ne=(we.findIndex(Ce=>Ce.containsPosition(this.editor.getPosition()))-1+we.length)%we.length,Ve=we[Ne];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(Ve.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(Ve);const Ce=this._getWord();if(Ce){const Ae=this.editor.getModel().getLineContent(Ve.startLineNumber);(0,b.Z9)(`${Ae}, ${Ne+1} of ${we.length} for '${Ce.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(we){if(!this.occurrencesHighlight){this._stopAll();return}if(we.reason!==3){this._stopAll();return}this._run()}_getWord(){const we=this.editor.getSelection(),xe=we.startLineNumber,Ne=we.startColumn;return this.model.getWordAtPosition({lineNumber:xe,column:Ne})}_run(){const we=this.editor.getSelection();if(we.startLineNumber!==we.endLineNumber){this._stopAll();return}const xe=we.startColumn,Ne=we.endColumn,Ve=this._getWord();if(!Ve||Ve.startColumn>xe||Ve.endColumn<Ne){this._stopAll();return}const Ce=this.workerRequest&&this.workerRequest.isValid(this.model,we,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),Ce)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const Ae=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=Q(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then($e=>{Ae===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=$e||[],this._beginRenderDecorations())},E.dL)}}_beginRenderDecorations(){const we=new Date().getTime(),xe=this.lastCursorPositionChangeTime+250;we>=xe?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},xe-we)}renderDecorations(){this.renderDecorationsTimer=-1;const we=[];for(const xe of this.workerRequestValue)xe.range&&we.push({range:xe.range,options:F._getDecorationOptions(xe.kind)});this.decorations.set(we),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(we){return we===C.MY.Write?this._WRITE_OPTIONS:we===C.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}F._WRITE_OPTIONS=g.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,_.EN)(re),position:y.sh.Center},minimap:{color:(0,_.EN)(d.IYc),position:y.F5.Inline}}),F._TEXT_OPTIONS=g.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,_.EN)(d.SPM),position:y.sh.Center},minimap:{color:(0,_.EN)(d.IYc),position:y.F5.Inline}}),F._REGULAR_OPTIONS=g.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,_.EN)($),position:y.sh.Center},minimap:{color:(0,_.EN)(d.IYc),position:y.F5.Inline}});let te=class of extends Z.JT{constructor(we,xe,Ne){super(),this.wordHighlighter=null;const Ve=()=>{we.hasModel()&&(this.wordHighlighter=new F(we,Ne.documentHighlightProvider,xe))};this._register(we.onDidChangeModel(Ce=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),Ve()})),Ve()}static get(we){return we.getContribution(of.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(we){this.wordHighlighter&&we&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};te.ID="editor.contrib.wordHighlighter",te=L([T(1,i.i6),T(2,v.p)],te);class W extends B.R6{constructor(we,xe){super(xe),this._isNext=we}run(we,xe){const Ne=te.get(xe);Ne&&(this._isNext?Ne.moveNext():Ne.moveBack())}}class G extends W{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:m.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:ae,kbOpts:{kbExpr:O.u.editorTextFocus,primary:65,weight:100}})}}class q extends W{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:m.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:ae,kbOpts:{kbExpr:O.u.editorTextFocus,primary:1089,weight:100}})}}class me extends B.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:m.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:ae.toNegated(),kbOpts:{kbExpr:O.u.editorTextFocus,primary:0,weight:100}})}run(we,xe,Ne){const Ve=te.get(xe);Ve&&Ve.restoreViewState(!0)}}(0,B._K)(te.ID,te),(0,B.Qr)(G),(0,B.Qr)(q),(0,B.Qr)(me),(0,_.Ic)((w,we)=>{const xe=w.getColor(d.Rzx);xe&&(we.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${xe}; }`),we.addRule(`.monaco-editor .selectionHighlight { background-color: ${xe.transparent(.5)}; }`));const Ne=w.getColor(M);Ne&&we.addRule(`.monaco-editor .wordHighlight { background-color: ${Ne}; }`);const Ve=w.getColor(I);Ve&&we.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${Ve}; }`);const Ce=w.getColor(d.g_n);Ce&&we.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,p.c3)(w.type)?"dotted":"solid"} ${Ce}; box-sizing: border-box; }`);const Ae=w.getColor(P);Ae&&we.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,p.c3)(w.type)?"dashed":"solid"} ${Ae}; box-sizing: border-box; }`);const $e=w.getColor(V);$e&&we.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,p.c3)(w.type)?"dashed":"solid"} ${$e}; box-sizing: border-box; }`)})},16269:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{CancellationTokenSource:function(){return Ou},Emitter:function(){return Cd},KeyCode:function(){return El},KeyMod:function(){return Pu},MarkerSeverity:function(){return ja},MarkerTag:function(){return Bu},Position:function(){return Fu},Range:function(){return Cr},Selection:function(){return _a},SelectionDirection:function(){return va},Token:function(){return Vu},Uri:function(){return Wu},editor:function(){return Ic},languages:function(){return Hu}});var b=s(64141),l=s(71050),z=s(4669),j=s(22258),E=s(70666),Z=s(50187),B=s(24314),H=s(3860),O=s(43155),y=s(70902);class g{static chord(t,r){return(0,j.gx)(t,r)}}g.CtrlCmd=2048,g.Shift=1024,g.Alt=512,g.WinCtrl=256;function C(){return{editor:void 0,languages:void 0,CancellationTokenSource:l.A,Emitter:z.Q5,KeyCode:y.VD,KeyMod:g,Position:Z.L,Range:B.e,Selection:H.Y,SelectionDirection:y.a$,MarkerSeverity:y.ZL,MarkerTag:y.eB,Uri:E.o,Token:O.WU}}var m=s(5976),i=s(97295),d=s(66059),_=s(11640),v=s(75623),p=s(27374),L=s(96518),T=s(84973),M=s(4256),I=s(276),P=s(72042),V=s(73733),$=s(15393),re=s(17301),ae=s(1432),ie=s(98401);const se="$initialize";let X=!1;function ne(ve){ae.$L&&(X||(X=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(ve.message))}class Q{constructor(t,r,S,K){this.vsWorker=t,this.req=r,this.method=S,this.args=K,this.type=0}}class F{constructor(t,r,S,K){this.vsWorker=t,this.seq=r,this.res=S,this.err=K,this.type=1}}class te{constructor(t,r,S,K){this.vsWorker=t,this.req=r,this.eventName=S,this.arg=K,this.type=2}}class W{constructor(t,r,S){this.vsWorker=t,this.req=r,this.event=S,this.type=3}}class G{constructor(t,r){this.vsWorker=t,this.req=r,this.type=4}}class q{constructor(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(t){this._workerId=t}sendMessage(t,r){const S=String(++this._lastSentReq);return new Promise((K,J)=>{this._pendingReplies[S]={resolve:K,reject:J},this._send(new Q(this._workerId,S,t,r))})}listen(t,r){let S=null;const K=new z.Q5({onFirstListenerAdd:()=>{S=String(++this._lastSentReq),this._pendingEmitters.set(S,K),this._send(new te(this._workerId,S,t,r))},onLastListenerRemove:()=>{this._pendingEmitters.delete(S),this._send(new G(this._workerId,S)),S=null}});return K.event}handleMessage(t){!t||!t.vsWorker||this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t)}_handleMessage(t){switch(t.type){case 1:return this._handleReplyMessage(t);case 0:return this._handleRequestMessage(t);case 2:return this._handleSubscribeEventMessage(t);case 3:return this._handleEventMessage(t);case 4:return this._handleUnsubscribeEventMessage(t)}}_handleReplyMessage(t){if(!this._pendingReplies[t.seq]){console.warn("Got reply to unknown seq");return}const r=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let S=t.err;t.err.$isError&&(S=new Error,S.name=t.err.name,S.message=t.err.message,S.stack=t.err.stack),r.reject(S);return}r.resolve(t.res)}_handleRequestMessage(t){const r=t.req;this._handler.handleMessage(t.method,t.args).then(K=>{this._send(new F(this._workerId,r,K,void 0))},K=>{K.detail instanceof Error&&(K.detail=(0,re.ri)(K.detail)),this._send(new F(this._workerId,r,void 0,(0,re.ri)(K)))})}_handleSubscribeEventMessage(t){const r=t.req,S=this._handler.handleEvent(t.eventName,t.arg)(K=>{this._send(new W(this._workerId,r,K))});this._pendingEvents.set(r,S)}_handleEventMessage(t){if(!this._pendingEmitters.has(t.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(t.req).fire(t.event)}_handleUnsubscribeEventMessage(t){if(!this._pendingEvents.has(t.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(t.req).dispose(),this._pendingEvents.delete(t.req)}_send(t){const r=[];if(t.type===0)for(let S=0;S<t.args.length;S++)t.args[S]instanceof ArrayBuffer&&r.push(t.args[S]);else t.type===1&&t.res instanceof ArrayBuffer&&r.push(t.res);this._handler.sendMessage(t,r)}}class me extends m.JT{constructor(t,r,S){super();let K=null;this._worker=this._register(t.create("vs/base/common/worker/simpleWorker",dt=>{this._protocol.handleMessage(dt)},dt=>{K?.(dt)})),this._protocol=new q({sendMessage:(dt,yt)=>{this._worker.postMessage(dt,yt)},handleMessage:(dt,yt)=>{if(typeof S[dt]!="function")return Promise.reject(new Error("Missing method "+dt+" on main thread host."));try{return Promise.resolve(S[dt].apply(S,yt))}catch(zt){return Promise.reject(zt)}},handleEvent:(dt,yt)=>{if(we(dt)){const zt=S[dt].call(S,yt);if(typeof zt!="function")throw new Error(`Missing dynamic event ${dt} on main thread host.`);return zt}if(w(dt)){const zt=S[dt];if(typeof zt!="function")throw new Error(`Missing event ${dt} on main thread host.`);return zt}throw new Error(`Malformed event name ${dt}`)}}),this._protocol.setWorkerId(this._worker.getId());let J=null;typeof ae.li.require<"u"&&typeof ae.li.require.getConfig=="function"?J=ae.li.require.getConfig():typeof ae.li.requirejs<"u"&&(J=ae.li.requirejs.s.contexts._.config);const fe=ie.$E(S);this._onModuleLoaded=this._protocol.sendMessage(se,[this._worker.getId(),JSON.parse(JSON.stringify(J)),r,fe]);const be=(dt,yt)=>this._request(dt,yt),qe=(dt,yt)=>this._protocol.listen(dt,yt);this._lazyProxy=new Promise((dt,yt)=>{K=yt,this._onModuleLoaded.then(zt=>{dt(xe(zt,be,qe))},zt=>{yt(zt),this._onError("Worker failed to load "+r,zt)})})}getProxyObject(){return this._lazyProxy}_request(t,r){return new Promise((S,K)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(t,r).then(S,K)},K)})}_onError(t,r){console.error(t),console.info(r)}}function w(ve){return ve[0]==="o"&&ve[1]==="n"&&i.df(ve.charCodeAt(2))}function we(ve){return/^onDynamic/.test(ve)&&i.df(ve.charCodeAt(9))}function xe(ve,t,r){const S=fe=>function(){const be=Array.prototype.slice.call(arguments,0);return t(fe,be)},K=fe=>function(be){return r(fe,be)},J={};for(const fe of ve){if(we(fe)){J[fe]=K(fe);continue}if(w(fe)){J[fe]=r(fe,void 0);continue}J[fe]=S(fe)}return J}class Ne{constructor(t,r){this._requestHandlerFactory=r,this._requestHandler=null,this._protocol=new q({sendMessage:(S,K)=>{t(S,K)},handleMessage:(S,K)=>this._handleMessage(S,K),handleEvent:(S,K)=>this._handleEvent(S,K)})}onmessage(t){this._protocol.handleMessage(t)}_handleMessage(t,r){if(t===se)return this.initialize(r[0],r[1],r[2],r[3]);if(!this._requestHandler||typeof this._requestHandler[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._requestHandler[t].apply(this._requestHandler,r))}catch(S){return Promise.reject(S)}}_handleEvent(t,r){if(!this._requestHandler)throw new Error("Missing requestHandler");if(we(t)){const S=this._requestHandler[t].call(this._requestHandler,r);if(typeof S!="function")throw new Error(`Missing dynamic event ${t} on request handler.`);return S}if(w(t)){const S=this._requestHandler[t];if(typeof S!="function")throw new Error(`Missing event ${t} on request handler.`);return S}throw new Error(`Malformed event name ${t}`)}initialize(t,r,S,K){this._protocol.setWorkerId(t);const be=xe(K,(qe,dt)=>this._protocol.sendMessage(qe,dt),(qe,dt)=>this._protocol.listen(qe,dt));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(be),Promise.resolve(types.getAllMethodNames(this._requestHandler))):(r&&(typeof r.baseUrl<"u"&&delete r.baseUrl,typeof r.paths<"u"&&typeof r.paths.vs<"u"&&delete r.paths.vs,typeof r.trustedTypesPolicy!==void 0&&delete r.trustedTypesPolicy,r.catchError=!0,globals.require.config(r)),new Promise((qe,dt)=>{const yt=globals.require;yt([S],zt=>{if(this._requestHandler=zt.create(be),!this._requestHandler){dt(new Error("No RequestHandler!"));return}qe(types.getAllMethodNames(this._requestHandler))},dt)}))}}function Ve(ve){return new Ne(ve,null)}var Ce;const Ae=(Ce=window.trustedTypes)===null||Ce===void 0?void 0:Ce.createPolicy("defaultWorkerFactory",{createScriptURL:ve=>ve});function $e(ve){if(ae.li.MonacoEnvironment){if(typeof ae.li.MonacoEnvironment.getWorker=="function")return ae.li.MonacoEnvironment.getWorker("workerMain.js",ve);if(typeof ae.li.MonacoEnvironment.getWorkerUrl=="function"){const t=ae.li.MonacoEnvironment.getWorkerUrl("workerMain.js",ve);return new Worker(Ae?Ae.createScriptURL(t):t,{name:ve})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function je(ve){return typeof ve.then=="function"}class at{constructor(t,r,S,K,J){this.id=r;const fe=$e(S);je(fe)?this.worker=fe:this.worker=Promise.resolve(fe),this.postMessage(t,[]),this.worker.then(be=>{be.onmessage=function(qe){K(qe.data)},be.onmessageerror=J,typeof be.addEventListener=="function"&&be.addEventListener("error",J)})}getId(){return this.id}postMessage(t,r){var S;(S=this.worker)===null||S===void 0||S.then(K=>K.postMessage(t,r))}dispose(){var t;(t=this.worker)===null||t===void 0||t.then(r=>r.terminate()),this.worker=null}}class pt{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,r,S){const K=++pt.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new at(t,K,this._label||"anonymous"+K,r,J=>{ne(J),this._webWorkerFailedBeforeError=J,S(J)})}}pt.LAST_WORKER_ID=0;var bt=s(22571);const We=3;function it(ve,t,r,S){return new bt.Hs(ve,t,r).ComputeDiff(S)}class pe{constructor(t){const r=[],S=[];for(let K=0,J=t.length;K<J;K++)r[K]=Ot(t[K],1),S[K]=Mt(t[K],1);this.lines=t,this._startColumns=r,this._endColumns=S}getElements(){const t=[];for(let r=0,S=this.lines.length;r<S;r++)t[r]=this.lines[r].substring(this._startColumns[r]-1,this._endColumns[r]-1);return t}getStrictElement(t){return this.lines[t]}getStartLineNumber(t){return t+1}getEndLineNumber(t){return t+1}createCharSequence(t,r,S){const K=[],J=[],fe=[];let be=0;for(let qe=r;qe<=S;qe++){const dt=this.lines[qe],yt=t?this._startColumns[qe]:1,zt=t?this._endColumns[qe]:dt.length+1;for(let Ai=yt;Ai<zt;Ai++)K[be]=dt.charCodeAt(Ai-1),J[be]=qe+1,fe[be]=Ai,be++;!t&&qe<S&&(K[be]=10,J[be]=qe+1,fe[be]=dt.length+1,be++)}return new ye(K,J,fe)}}class ye{constructor(t,r,S){this._charCodes=t,this._lineNumbers=r,this._columns=S}toString(){return"["+this._charCodes.map((t,r)=>(t===10?"\\n":String.fromCharCode(t))+`-(${this._lineNumbers[r]},${this._columns[r]})`).join(", ")+"]"}_assertIndex(t,r){if(t<0||t>=r.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(t){return t>0&&t===this._lineNumbers.length?this.getEndLineNumber(t-1):(this._assertIndex(t,this._lineNumbers),this._lineNumbers[t])}getEndLineNumber(t){return t===-1?this.getStartLineNumber(t+1):(this._assertIndex(t,this._lineNumbers),this._charCodes[t]===10?this._lineNumbers[t]+1:this._lineNumbers[t])}getStartColumn(t){return t>0&&t===this._columns.length?this.getEndColumn(t-1):(this._assertIndex(t,this._columns),this._columns[t])}getEndColumn(t){return t===-1?this.getStartColumn(t+1):(this._assertIndex(t,this._columns),this._charCodes[t]===10?1:this._columns[t]+1)}}class ft{constructor(t,r,S,K,J,fe,be,qe){this.originalStartLineNumber=t,this.originalStartColumn=r,this.originalEndLineNumber=S,this.originalEndColumn=K,this.modifiedStartLineNumber=J,this.modifiedStartColumn=fe,this.modifiedEndLineNumber=be,this.modifiedEndColumn=qe}static createFromDiffChange(t,r,S){const K=r.getStartLineNumber(t.originalStart),J=r.getStartColumn(t.originalStart),fe=r.getEndLineNumber(t.originalStart+t.originalLength-1),be=r.getEndColumn(t.originalStart+t.originalLength-1),qe=S.getStartLineNumber(t.modifiedStart),dt=S.getStartColumn(t.modifiedStart),yt=S.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),zt=S.getEndColumn(t.modifiedStart+t.modifiedLength-1);return new ft(K,J,fe,be,qe,dt,yt,zt)}}function Xt(ve){if(ve.length<=1)return ve;const t=[ve[0]];let r=t[0];for(let S=1,K=ve.length;S<K;S++){const J=ve[S],fe=J.originalStart-(r.originalStart+r.originalLength),be=J.modifiedStart-(r.modifiedStart+r.modifiedLength);Math.min(fe,be)<We?(r.originalLength=J.originalStart+J.originalLength-r.originalStart,r.modifiedLength=J.modifiedStart+J.modifiedLength-r.modifiedStart):(t.push(J),r=J)}return t}class qt{constructor(t,r,S,K,J){this.originalStartLineNumber=t,this.originalEndLineNumber=r,this.modifiedStartLineNumber=S,this.modifiedEndLineNumber=K,this.charChanges=J}static createFromDiffResult(t,r,S,K,J,fe,be){let qe,dt,yt,zt,Ai;if(r.originalLength===0?(qe=S.getStartLineNumber(r.originalStart)-1,dt=0):(qe=S.getStartLineNumber(r.originalStart),dt=S.getEndLineNumber(r.originalStart+r.originalLength-1)),r.modifiedLength===0?(yt=K.getStartLineNumber(r.modifiedStart)-1,zt=0):(yt=K.getStartLineNumber(r.modifiedStart),zt=K.getEndLineNumber(r.modifiedStart+r.modifiedLength-1)),fe&&r.originalLength>0&&r.originalLength<20&&r.modifiedLength>0&&r.modifiedLength<20&&J()){const Ki=S.createCharSequence(t,r.originalStart,r.originalStart+r.originalLength-1),cn=K.createCharSequence(t,r.modifiedStart,r.modifiedStart+r.modifiedLength-1);if(Ki.getElements().length>0&&cn.getElements().length>0){let En=it(Ki,cn,J,!0).changes;be&&(En=Xt(En)),Ai=[];for(let Rn=0,$n=En.length;Rn<$n;Rn++)Ai.push(ft.createFromDiffChange(En[Rn],Ki,cn))}}return new qt(qe,dt,yt,zt,Ai)}}class Ft{constructor(t,r,S){this.shouldComputeCharChanges=S.shouldComputeCharChanges,this.shouldPostProcessCharChanges=S.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=S.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=S.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=r,this.original=new pe(t),this.modified=new pe(r),this.continueLineDiff=ni(S.maxComputationTime),this.continueCharDiff=ni(S.maxComputationTime===0?0:Math.min(S.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const t=it(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),r=t.changes,S=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){const be=[];for(let qe=0,dt=r.length;qe<dt;qe++)be.push(qt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,r[qe],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:S,changes:be}}const K=[];let J=0,fe=0;for(let be=-1,qe=r.length;be<qe;be++){const dt=be+1<qe?r[be+1]:null,yt=dt?dt.originalStart:this.originalLines.length,zt=dt?dt.modifiedStart:this.modifiedLines.length;for(;J<yt&&fe<zt;){const Ai=this.originalLines[J],Ki=this.modifiedLines[fe];if(Ai!==Ki){{let cn=Ot(Ai,1),En=Ot(Ki,1);for(;cn>1&&En>1;){const Rn=Ai.charCodeAt(cn-2),$n=Ki.charCodeAt(En-2);if(Rn!==$n)break;cn--,En--}(cn>1||En>1)&&this._pushTrimWhitespaceCharChange(K,J+1,1,cn,fe+1,1,En)}{let cn=Mt(Ai,1),En=Mt(Ki,1);const Rn=Ai.length+1,$n=Ki.length+1;for(;cn<Rn&&En<$n;){const Hn=Ai.charCodeAt(cn-1),xn=Ai.charCodeAt(En-1);if(Hn!==xn)break;cn++,En++}(cn<Rn||En<$n)&&this._pushTrimWhitespaceCharChange(K,J+1,cn,Rn,fe+1,En,$n)}}J++,fe++}dt&&(K.push(qt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,dt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),J+=dt.originalLength,fe+=dt.modifiedLength)}return{quitEarly:S,changes:K}}_pushTrimWhitespaceCharChange(t,r,S,K,J,fe,be){if(this._mergeTrimWhitespaceCharChange(t,r,S,K,J,fe,be))return;let qe;this.shouldComputeCharChanges&&(qe=[new ft(r,S,r,K,J,fe,J,be)]),t.push(new qt(r,r,J,J,qe))}_mergeTrimWhitespaceCharChange(t,r,S,K,J,fe,be){const qe=t.length;if(qe===0)return!1;const dt=t[qe-1];return dt.originalEndLineNumber===0||dt.modifiedEndLineNumber===0?!1:dt.originalEndLineNumber+1===r&&dt.modifiedEndLineNumber+1===J?(dt.originalEndLineNumber=r,dt.modifiedEndLineNumber=J,this.shouldComputeCharChanges&&dt.charChanges&&dt.charChanges.push(new ft(r,S,r,K,J,fe,J,be)),!0):!1}}function Ot(ve,t){const r=i.LC(ve);return r===-1?t:r+1}function Mt(ve,t){const r=i.ow(ve);return r===-1?t:r+2}function ni(ve){if(ve===0)return()=>!0;const t=Date.now();return()=>Date.now()-t<ve}var Gt=s(90310);class Fe{constructor(t,r,S,K){this._uri=t,this._lines=r,this._eol=S,this._versionId=K,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);const r=t.changes;for(const S of r)this._acceptDeleteRange(S.range),this._acceptInsertText(new Z.L(S.range.startLineNumber,S.range.startColumn),S.text);this._versionId=t.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const t=this._eol.length,r=this._lines.length,S=new Uint32Array(r);for(let K=0;K<r;K++)S[K]=this._lines[K].length+t;this._lineStarts=new Gt.oQ(S)}}_setLineText(t,r){this._lines[t]=r,this._lineStarts&&this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1));return}this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,r){if(r.length===0)return;const S=(0,i.uq)(r);if(S.length===1){this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+S[0]+this._lines[t.lineNumber-1].substring(t.column-1));return}S[S.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+S[0]);const K=new Uint32Array(S.length-1);for(let J=1;J<S.length;J++)this._lines.splice(t.lineNumber+J-1,0,S[J]),K[J-1]=S[J].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,K)}}var Ge=s(270),Te=s(44906);class Ke{constructor(t,r,S){const K=new Uint8Array(t*r);for(let J=0,fe=t*r;J<fe;J++)K[J]=S;this._data=K,this.rows=t,this.cols=r}get(t,r){return this._data[t*this.cols+r]}set(t,r,S){this._data[t*this.cols+r]=S}}class ut{constructor(t){let r=0,S=0;for(let J=0,fe=t.length;J<fe;J++){const[be,qe,dt]=t[J];qe>r&&(r=qe),be>S&&(S=be),dt>S&&(S=dt)}r++,S++;const K=new Ke(S,r,0);for(let J=0,fe=t.length;J<fe;J++){const[be,qe,dt]=t[J];K.set(be,qe,dt)}this._states=K,this._maxCharCode=r}nextState(t,r){return r<0||r>=this._maxCharCode?0:this._states.get(t,r)}}let Nt=null;function Be(){return Nt===null&&(Nt=new ut([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Nt}let Ze=null;function wt(){if(Ze===null){Ze=new Te.N(0);const ve=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let r=0;r<ve.length;r++)Ze.set(ve.charCodeAt(r),1);const t=".,;:";for(let r=0;r<t.length;r++)Ze.set(t.charCodeAt(r),2)}return Ze}class $t{static _createLink(t,r,S,K,J){let fe=J-1;do{const be=r.charCodeAt(fe);if(t.get(be)!==2)break;fe--}while(fe>K);if(K>0){const be=r.charCodeAt(K-1),qe=r.charCodeAt(fe);(be===40&&qe===41||be===91&&qe===93||be===123&&qe===125)&&fe--}return{range:{startLineNumber:S,startColumn:K+1,endLineNumber:S,endColumn:fe+2},url:r.substring(K,fe+1)}}static computeLinks(t,r=Be()){const S=wt(),K=[];for(let J=1,fe=t.getLineCount();J<=fe;J++){const be=t.getLineContent(J),qe=be.length;let dt=0,yt=0,zt=0,Ai=1,Ki=!1,cn=!1,En=!1,Rn=!1;for(;dt<qe;){let $n=!1;const Hn=be.charCodeAt(dt);if(Ai===13){let xn;switch(Hn){case 40:Ki=!0,xn=0;break;case 41:xn=Ki?0:1;break;case 91:En=!0,cn=!0,xn=0;break;case 93:En=!1,xn=cn?0:1;break;case 123:Rn=!0,xn=0;break;case 125:xn=Rn?0:1;break;case 39:xn=zt===39?1:0;break;case 34:xn=zt===34?1:0;break;case 96:xn=zt===96?1:0;break;case 42:xn=zt===42?1:0;break;case 124:xn=zt===124?1:0;break;case 32:xn=En?0:1;break;default:xn=S.get(Hn)}xn===1&&(K.push($t._createLink(S,be,J,yt,dt)),$n=!0)}else if(Ai===12){let xn;Hn===91?(cn=!0,xn=0):xn=S.get(Hn),xn===1?$n=!0:Ai=13}else Ai=r.nextState(Ai,Hn),Ai===0&&($n=!0);$n&&(Ai=1,Ki=!1,cn=!1,Rn=!1,yt=dt+1,zt=Hn),dt++}Ai===13&&K.push($t._createLink(S,be,J,yt,qe))}return K}}function _t(ve){return!ve||typeof ve.getLineCount!="function"||typeof ve.getLineContent!="function"?[]:$t.computeLinks(ve)}class Jt{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(t,r,S,K,J){if(t&&r){const fe=this.doNavigateValueSet(r,J);if(fe)return{range:t,value:fe}}if(S&&K){const fe=this.doNavigateValueSet(K,J);if(fe)return{range:S,value:fe}}return null}doNavigateValueSet(t,r){const S=this.numberReplace(t,r);return S!==null?S:this.textReplace(t,r)}numberReplace(t,r){const S=Math.pow(10,t.length-(t.lastIndexOf(".")+1));let K=Number(t);const J=parseFloat(t);return!isNaN(K)&&!isNaN(J)&&K===J?K===0&&!r?null:(K=Math.floor(K*S),K+=r?S:-S,String(K/S)):null}textReplace(t,r){return this.valueSetsReplace(this._defaultValueSet,t,r)}valueSetsReplace(t,r,S){let K=null;for(let J=0,fe=t.length;K===null&&J<fe;J++)K=this.valueSetReplace(t[J],r,S);return K}valueSetReplace(t,r,S){let K=t.indexOf(r);return K>=0?(K+=S?1:-1,K<0?K=t.length-1:K%=t.length,t[K]):null}}Jt.INSTANCE=new Jt;var Zt=s(84013),Xe=s(31446),Lt=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};class mi extends Fe{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,r){const S=(0,Ge.t2)(t.column,(0,Ge.eq)(r),this._lines[t.lineNumber-1],0);return S?new B.e(t.lineNumber,S.startColumn,t.lineNumber,S.endColumn):null}words(t){const r=this._lines,S=this._wordenize.bind(this);let K=0,J="",fe=0,be=[];return{*[Symbol.iterator](){for(;;)if(fe<be.length){const qe=J.substring(be[fe].start,be[fe].end);fe+=1,yield qe}else if(K<r.length)J=r[K],be=S(J,t),fe=0,K+=1;else break}}}getLineWords(t,r){const S=this._lines[t-1],K=this._wordenize(S,r),J=[];for(const fe of K)J.push({word:S.substring(fe.start,fe.end),startColumn:fe.start+1,endColumn:fe.end+1});return J}_wordenize(t,r){const S=[];let K;for(r.lastIndex=0;(K=r.exec(t))&&K[0].length!==0;)S.push({start:K.index,end:K.index+K[0].length});return S}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);const r=this._eol,S=t.startLineNumber-1,K=t.endLineNumber-1,J=[];J.push(this._lines[S].substring(t.startColumn-1));for(let fe=S+1;fe<K;fe++)J.push(this._lines[fe]);return J.push(this._lines[K].substring(0,t.endColumn-1)),J.join(r)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();const r=this._lineStarts.getIndexOf(t),S=this._lines[r.index].length;return{lineNumber:1+r.index,column:1+Math.min(r.remainder,S)}}_validateRange(t){const r=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),S=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return r.lineNumber!==t.startLineNumber||r.column!==t.startColumn||S.lineNumber!==t.endLineNumber||S.column!==t.endColumn?{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:S.lineNumber,endColumn:S.column}:t}_validatePosition(t){if(!Z.L.isIPosition(t))throw new Error("bad position");let{lineNumber:r,column:S}=t,K=!1;if(r<1)r=1,S=1,K=!0;else if(r>this._lines.length)r=this._lines.length,S=this._lines[r-1].length+1,K=!0;else{const J=this._lines[r-1].length+1;S<1?(S=1,K=!0):S>J&&(S=J,K=!0)}return K?{lineNumber:r,column:S}:t}}class jt{constructor(t,r){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=r,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){const t=[];return Object.keys(this._models).forEach(r=>t.push(this._models[r])),t}acceptNewModel(t){this._models[t.url]=new mi(E.o.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,r){if(!this._models[t])return;this._models[t].onEvents(r)}acceptRemovedModel(t){this._models[t]&&delete this._models[t]}computeUnicodeHighlights(t,r,S){return Lt(this,void 0,void 0,function*(){const K=this._getModel(t);return K?Xe.a.computeUnicodeHighlights(K,r,S):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(t,r,S,K){return Lt(this,void 0,void 0,function*(){const J=this._getModel(t),fe=this._getModel(r);return!J||!fe?null:jt.computeDiff(J,fe,S,K)})}static computeDiff(t,r,S,K){const J=t.getLinesContent(),fe=r.getLinesContent(),qe=new Ft(J,fe,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:S,shouldMakePrettyDiff:!0,maxComputationTime:K}).computeDiff(),dt=qe.changes.length>0?!1:this._modelsAreIdentical(t,r);return{quitEarly:qe.quitEarly,identical:dt,changes:qe.changes}}static _modelsAreIdentical(t,r){const S=t.getLineCount(),K=r.getLineCount();if(S!==K)return!1;for(let J=1;J<=S;J++){const fe=t.getLineContent(J),be=r.getLineContent(J);if(fe!==be)return!1}return!0}computeMoreMinimalEdits(t,r){return Lt(this,void 0,void 0,function*(){const S=this._getModel(t);if(!S)return r;const K=[];let J;r=r.slice(0).sort((fe,be)=>{if(fe.range&&be.range)return B.e.compareRangesUsingStarts(fe.range,be.range);const qe=fe.range?0:1,dt=be.range?0:1;return qe-dt});for(let{range:fe,text:be,eol:qe}of r){if(typeof qe=="number"&&(J=qe),B.e.isEmpty(fe)&&!be)continue;const dt=S.getValueInRange(fe);if(be=be.replace(/\r\n|\n|\r/g,S.eol),dt===be)continue;if(Math.max(be.length,dt.length)>jt._diffLimit){K.push({range:fe,text:be});continue}const yt=(0,bt.a$)(dt,be,!1),zt=S.offsetAt(B.e.lift(fe).getStartPosition());for(const Ai of yt){const Ki=S.positionAt(zt+Ai.originalStart),cn=S.positionAt(zt+Ai.originalStart+Ai.originalLength),En={text:be.substr(Ai.modifiedStart,Ai.modifiedLength),range:{startLineNumber:Ki.lineNumber,startColumn:Ki.column,endLineNumber:cn.lineNumber,endColumn:cn.column}};S.getValueInRange(En.range)!==En.text&&K.push(En)}}return typeof J=="number"&&K.push({eol:J,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),K})}computeLinks(t){return Lt(this,void 0,void 0,function*(){const r=this._getModel(t);return r?_t(r):null})}textualSuggest(t,r,S,K){return Lt(this,void 0,void 0,function*(){const J=new Zt.G(!0),fe=new RegExp(S,K),be=new Set;e:for(const qe of t){const dt=this._getModel(qe);if(dt){for(const yt of dt.words(fe))if(!(yt===r||!isNaN(Number(yt)))&&(be.add(yt),be.size>jt._suggestionsLimit))break e}}return{words:Array.from(be),duration:J.elapsed()}})}computeWordRanges(t,r,S,K){return Lt(this,void 0,void 0,function*(){const J=this._getModel(t);if(!J)return Object.create(null);const fe=new RegExp(S,K),be=Object.create(null);for(let qe=r.startLineNumber;qe<r.endLineNumber;qe++){const dt=J.getLineWords(qe,fe);for(const yt of dt){if(!isNaN(Number(yt.word)))continue;let zt=be[yt.word];zt||(zt=[],be[yt.word]=zt),zt.push({startLineNumber:qe,startColumn:yt.startColumn,endLineNumber:qe,endColumn:yt.endColumn})}}return be})}navigateValueSet(t,r,S,K,J){return Lt(this,void 0,void 0,function*(){const fe=this._getModel(t);if(!fe)return null;const be=new RegExp(K,J);r.startColumn===r.endColumn&&(r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.endColumn+1});const qe=fe.getValueInRange(r),dt=fe.getWordAtPosition({lineNumber:r.startLineNumber,column:r.startColumn},be);if(!dt)return null;const yt=fe.getValueInRange(dt);return Jt.INSTANCE.navigateValueSet(r,qe,dt,yt,S)})}loadForeignModule(t,r,S){const K=(be,qe)=>this._host.fhr(be,qe),fe={host:ie.IU(S,K),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(fe,r),Promise.resolve(ie.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(t,r){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,r))}catch(S){return Promise.reject(S)}}}jt._diffLimit=1e5,jt._suggestionsLimit=1e4;function ki(ve){return new jt(ve,null)}typeof importScripts=="function"&&(ae.li.monaco=C());var Pi=s(71765),gt=s(9488),St=s(43557),ii=s(71922),Ri=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Di=function(ve,t){return function(r,S){t(r,S,ve)}},Vi=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};const Ci=60*1e3,Wt=5*60*1e3;function vt(ve,t){const r=ve.getModel(t);return!(!r||r.isTooLargeForSyncing())}let _e=class extends m.JT{constructor(t,r,S,K,J){super(),this._modelService=t,this._workerManager=this._register(new Le(this._modelService,K)),this._logService=S,this._register(J.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(fe,be)=>vt(this._modelService,fe.uri)?this._workerManager.withWorker().then(qe=>qe.computeLinks(fe.uri)).then(qe=>qe&&{links:qe}):Promise.resolve({links:[]})})),this._register(J.completionProvider.register("*",new Ee(this._workerManager,r,this._modelService,K)))}dispose(){super.dispose()}canComputeUnicodeHighlights(t){return vt(this._modelService,t)}computedUnicodeHighlights(t,r,S){return this._workerManager.withWorker().then(K=>K.computedUnicodeHighlights(t,r,S))}computeDiff(t,r,S,K){return this._workerManager.withWorker().then(J=>J.computeDiff(t,r,S,K))}computeMoreMinimalEdits(t,r){if((0,gt.Of)(r)){if(!vt(this._modelService,t))return Promise.resolve(r);const S=Zt.G.create(!0),K=this._workerManager.withWorker().then(J=>J.computeMoreMinimalEdits(t,r));return K.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),S.elapsed())),Promise.race([K,(0,$.Vs)(1e3).then(()=>r)])}else return Promise.resolve(void 0)}canNavigateValueSet(t){return vt(this._modelService,t)}navigateValueSet(t,r,S){return this._workerManager.withWorker().then(K=>K.navigateValueSet(t,r,S))}canComputeWordRanges(t){return vt(this._modelService,t)}computeWordRanges(t,r){return this._workerManager.withWorker().then(S=>S.computeWordRanges(t,r))}};_e=Ri([Di(0,V.q),Di(1,Pi.V),Di(2,St.VZ),Di(3,M.c_),Di(4,ii.p)],_e);class Ee{constructor(t,r,S,K){this.languageConfigurationService=K,this._debugDisplayName="wordbasedCompletions",this._workerManager=t,this._configurationService=r,this._modelService=S}provideCompletionItems(t,r){return Vi(this,void 0,void 0,function*(){const S=this._configurationService.getValue(t.uri,r,"editor");if(!S.wordBasedSuggestions)return;const K=[];if(S.wordBasedSuggestionsMode==="currentDocument")vt(this._modelService,t.uri)&&K.push(t.uri);else for(const zt of this._modelService.getModels())vt(this._modelService,zt.uri)&&(zt===t?K.unshift(zt.uri):(S.wordBasedSuggestionsMode==="allDocuments"||zt.getLanguageId()===t.getLanguageId())&&K.push(zt.uri));if(K.length===0)return;const J=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition(),fe=t.getWordAtPosition(r),be=fe?new B.e(r.lineNumber,fe.startColumn,r.lineNumber,fe.endColumn):B.e.fromPositions(r),qe=be.setEndPosition(r.lineNumber,r.column),yt=yield(yield this._workerManager.withWorker()).textualSuggest(K,fe?.word,J);if(yt)return{duration:yt.duration,suggestions:yt.words.map(zt=>({kind:18,label:zt,insertText:zt,range:{insert:qe,replace:be}}))}})}}class Le extends m.JT{constructor(t,r){super(),this.languageConfigurationService=r,this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new $.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Wt/2)),this._register(this._modelService.onModelRemoved(K=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>Wt&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new ke(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class oe extends m.JT{constructor(t,r,S){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=t,this._modelService=r,!S){const K=new $.zh;K.cancelAndSet(()=>this._checkStopModelSync(),Math.round(Ci/2)),this._register(K)}}dispose(){for(const t in this._syncedModels)(0,m.B9)(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(t,r){for(const S of t){const K=S.toString();this._syncedModels[K]||this._beginModelSync(S,r),this._syncedModels[K]&&(this._syncedModelsLastUsedTime[K]=new Date().getTime())}}_checkStopModelSync(){const t=new Date().getTime(),r=[];for(const S in this._syncedModelsLastUsedTime)t-this._syncedModelsLastUsedTime[S]>Ci&&r.push(S);for(const S of r)this._stopModelSync(S)}_beginModelSync(t,r){const S=this._modelService.getModel(t);if(!S||!r&&S.isTooLargeForSyncing())return;const K=t.toString();this._proxy.acceptNewModel({url:S.uri.toString(),lines:S.getLinesContent(),EOL:S.getEOL(),versionId:S.getVersionId()});const J=new m.SL;J.add(S.onDidChangeContent(fe=>{this._proxy.acceptModelChanged(K.toString(),fe)})),J.add(S.onWillDispose(()=>{this._stopModelSync(K)})),J.add((0,m.OF)(()=>{this._proxy.acceptRemovedModel(K)})),this._syncedModels[K]=J}_stopModelSync(t){const r=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],(0,m.B9)(r)}}class he{constructor(t){this._instance=t,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Me{constructor(t){this._workerClient=t}fhr(t,r){return this._workerClient.fhr(t,r)}}class ke extends m.JT{constructor(t,r,S,K){super(),this.languageConfigurationService=K,this._disposed=!1,this._modelService=t,this._keepIdleModels=r,this._workerFactory=new pt(S),this._worker=null,this._modelManager=null}fhr(t,r){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new me(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Me(this)))}catch(t){ne(t),this._worker=new he(new jt(new Me(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,t=>(ne(t),this._worker=new he(new jt(new Me(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(t){return this._modelManager||(this._modelManager=this._register(new oe(t,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(t,r=!1){return Vi(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,re.F0)()):this._getProxy().then(S=>(this._getOrCreateModelManager(S).ensureSyncedResources(t,r),S))})}computedUnicodeHighlights(t,r,S){return this._withSyncedResources([t]).then(K=>K.computeUnicodeHighlights(t.toString(),r,S))}computeDiff(t,r,S,K){return this._withSyncedResources([t,r],!0).then(J=>J.computeDiff(t.toString(),r.toString(),S,K))}computeMoreMinimalEdits(t,r){return this._withSyncedResources([t]).then(S=>S.computeMoreMinimalEdits(t.toString(),r))}computeLinks(t){return this._withSyncedResources([t]).then(r=>r.computeLinks(t.toString()))}textualSuggest(t,r,S){return Vi(this,void 0,void 0,function*(){const K=yield this._withSyncedResources(t),J=S.source,fe=(0,i.mr)(S);return K.textualSuggest(t.map(be=>be.toString()),r,J,fe)})}computeWordRanges(t,r){return this._withSyncedResources([t]).then(S=>{const K=this._modelService.getModel(t);if(!K)return Promise.resolve(null);const J=this.languageConfigurationService.getLanguageConfiguration(K.getLanguageId()).getWordDefinition(),fe=J.source,be=(0,i.mr)(J);return S.computeWordRanges(t.toString(),r,fe,be)})}navigateValueSet(t,r,S){return this._withSyncedResources([t]).then(K=>{const J=this._modelService.getModel(t);if(!J)return null;const fe=this.languageConfigurationService.getLanguageConfiguration(J.getLanguageId()).getWordDefinition(),be=fe.source,qe=(0,i.mr)(fe);return K.navigateValueSet(t.toString(),r,S,be,qe)})}dispose(){super.dispose(),this._disposed=!0}}function Je(ve,t,r){return new ot(ve,t,r)}class ot extends ke{constructor(t,r,S){super(t,S.keepIdleModels||!1,S.label,r),this._foreignModuleId=S.moduleId,this._foreignModuleCreateData=S.createData||null,this._foreignModuleHost=S.host||null,this._foreignProxy=null}fhr(t,r){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,r))}catch(S){return Promise.reject(S)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(t=>{const r=this._foreignModuleHost?ie.$E(this._foreignModuleHost):[];return t.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,r).then(S=>{this._foreignModuleCreateData=null;const K=(be,qe)=>t.fmr(be,qe),J=(be,qe)=>function(){const dt=Array.prototype.slice.call(arguments,0);return qe(be,dt)},fe={};for(const be of S)fe[be]=J(be,K);return fe})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(t){return this._withSyncedResources(t).then(r=>this.getProxy())}}var ht=s(77378),xt=s(72202),nt=s(1118);function It(ve){return Array.isArray(ve)}function Ht(ve){return!It(ve)}function Qt(ve){return typeof ve=="string"}function ci(ve){return!Qt(ve)}function Fi(ve){return!ve}function Ii(ve,t){return ve.ignoreCase&&t?t.toLowerCase():t}function Xi(ve){return ve.replace(/[&<>'"_]/g,"-")}function zi(ve,t){console.log(`${ve.languageId}: ${t}`)}function Si(ve,t){return new Error(`${ve.languageId}: ${t}`)}function Ji(ve,t,r,S,K){const J=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let fe=null;return t.replace(J,function(be,qe,dt,yt,zt,Ai,Ki,cn,En){return Fi(dt)?Fi(yt)?!Fi(zt)&&zt<S.length?Ii(ve,S[zt]):!Fi(Ki)&&ve&&typeof ve[Ki]=="string"?ve[Ki]:(fe===null&&(fe=K.split("."),fe.unshift(K)),!Fi(Ai)&&Ai<fe.length?Ii(ve,fe[Ai]):""):Ii(ve,r):"$"})}function Zi(ve,t){let r=t;for(;r&&r.length>0;){const S=ve.tokenizer[r];if(S)return S;const K=r.lastIndexOf(".");K<0?r=null:r=r.substr(0,K)}return null}function Ui(ve,t){let r=t;for(;r&&r.length>0;){if(ve.stateNames[r])return!0;const K=r.lastIndexOf(".");K<0?r=null:r=r.substr(0,K)}return!1}var nn=s(33108),Dn=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Cn=function(ve,t){return function(r,S){t(r,S,ve)}};const pi=5;class ze{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,r){return this._INSTANCE.create(t,r)}create(t,r){if(t!==null&&t.depth>=this._maxCacheDepth)return new Ct(t,r);let S=Ct.getStackElementId(t);S.length>0&&(S+="|"),S+=r;let K=this._entries[S];return K||(K=new Ct(t,r),this._entries[S]=K,K)}}ze._INSTANCE=new ze(pi);class Ct{constructor(t,r){this.parent=t,this.state=r,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(t){let r="";for(;t!==null;)r.length>0&&(r+="|"),r+=t.state,t=t.parent;return r}static _equals(t,r){for(;t!==null&&r!==null;){if(t===r)return!0;if(t.state!==r.state)return!1;t=t.parent,r=r.parent}return t===null&&r===null}equals(t){return Ct._equals(this,t)}push(t){return ze.create(this,t)}pop(){return this.parent}popall(){let t=this;for(;t.parent;)t=t.parent;return t}switchTo(t){return ze.create(this.parent,t)}}class kt{constructor(t,r){this.languageId=t,this.state=r}equals(t){return this.languageId===t.languageId&&this.state.equals(t.state)}clone(){return this.state.clone()===this.state?this:new kt(this.languageId,this.state)}}class oi{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,r){return this._INSTANCE.create(t,r)}create(t,r){if(r!==null)return new ai(t,r);if(t!==null&&t.depth>=this._maxCacheDepth)return new ai(t,r);const S=Ct.getStackElementId(t);let K=this._entries[S];return K||(K=new ai(t,null),this._entries[S]=K,K)}}oi._INSTANCE=new oi(pi);class ai{constructor(t,r){this.stack=t,this.embeddedLanguageData=r}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:oi.create(this.stack,this.embeddedLanguageData)}equals(t){return!(t instanceof ai)||!this.stack.equals(t.stack)?!1:this.embeddedLanguageData===null&&t.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||t.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(t.embeddedLanguageData)}}class bi{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(t){this._languageId=t}emit(t,r){this._lastTokenType===r&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=r,this._lastTokenLanguage=this._languageId,this._tokens.push(new O.WU(t,r,this._languageId)))}nestedLanguageTokenize(t,r,S,K){const J=S.languageId,fe=S.state,be=O.RW.get(J);if(!be)return this.enterLanguage(J),this.emit(K,""),fe;const qe=be.tokenize(t,r,fe);if(K!==0)for(const dt of qe.tokens)this._tokens.push(new O.WU(dt.offset+K,dt.type,dt.language));else this._tokens=this._tokens.concat(qe.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,qe.endState}finalize(t){return new O.hG(this._tokens,t)}}class xi{constructor(t,r){this._languageService=t,this._theme=r,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(t){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(t)}emit(t,r){const S=this._theme.match(this._currentLanguageId,r);this._lastTokenMetadata!==S&&(this._lastTokenMetadata=S,this._tokens.push(t),this._tokens.push(S))}static _merge(t,r,S){const K=t!==null?t.length:0,J=r.length,fe=S!==null?S.length:0;if(K===0&&J===0&&fe===0)return new Uint32Array(0);if(K===0&&J===0)return S;if(J===0&&fe===0)return t;const be=new Uint32Array(K+J+fe);t!==null&&be.set(t);for(let qe=0;qe<J;qe++)be[K+qe]=r[qe];return S!==null&&be.set(S,K+J),be}nestedLanguageTokenize(t,r,S,K){const J=S.languageId,fe=S.state,be=O.RW.get(J);if(!be)return this.enterLanguage(J),this.emit(K,""),fe;const qe=be.tokenizeEncoded(t,r,fe);if(K!==0)for(let dt=0,yt=qe.tokens.length;dt<yt;dt+=2)qe.tokens[dt]+=K;return this._prependTokens=xi._merge(this._prependTokens,this._tokens,qe.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,qe.endState}finalize(t){return new O.DI(xi._merge(this._prependTokens,this._tokens,null),t)}}let Ti=class rf{constructor(t,r,S,K,J){this._configurationService=J,this._languageService=t,this._standaloneThemeService=r,this._languageId=S,this._lexer=K,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let fe=!1;this._tokenizationRegistryListener=O.RW.onDidChange(be=>{if(fe)return;let qe=!1;for(let dt=0,yt=be.changedLanguages.length;dt<yt;dt++){const zt=be.changedLanguages[dt];if(this._embeddedLanguages[zt]){qe=!0;break}}qe&&(fe=!0,O.RW.fire([this._languageId]),fe=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(be=>{be.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const t=[];for(const r in this._embeddedLanguages){const S=O.RW.get(r);if(S){if(S instanceof rf){const K=S.getLoadStatus();K.loaded===!1&&t.push(K.promise)}continue}O.RW.isResolved(r)||t.push(O.RW.getOrCreate(r))}return t.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then(r=>{})}}getInitialState(){const t=ze.create(null,this._lexer.start);return oi.create(t,null)}tokenize(t,r,S){if(t.length>=this._maxTokenizationLineLength)return(0,I.Ri)(this._languageId,S);const K=new bi,J=this._tokenize(t,r,S,K);return K.finalize(J)}tokenizeEncoded(t,r,S){if(t.length>=this._maxTokenizationLineLength)return(0,I.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),S);const K=new xi(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),J=this._tokenize(t,r,S,K);return K.finalize(J)}_tokenize(t,r,S,K){return S.embeddedLanguageData?this._nestedTokenize(t,r,S,0,K):this._myTokenize(t,r,S,0,K)}_findLeavingNestedLanguageOffset(t,r){let S=this._lexer.tokenizer[r.stack.state];if(!S&&(S=Zi(this._lexer,r.stack.state),!S))throw Si(this._lexer,"tokenizer state is not defined: "+r.stack.state);let K=-1,J=!1;for(const fe of S){if(!ci(fe.action)||fe.action.nextEmbedded!=="@pop")continue;J=!0;let be=fe.regex;const qe=fe.regex.source;if(qe.substr(0,4)==="^(?:"&&qe.substr(qe.length-1,1)===")"){const yt=(be.ignoreCase?"i":"")+(be.unicode?"u":"");be=new RegExp(qe.substr(4,qe.length-5),yt)}const dt=t.search(be);dt===-1||dt!==0&&fe.matchOnlyAtLineStart||(K===-1||dt<K)&&(K=dt)}if(!J)throw Si(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+r.stack.state);return K}_nestedTokenize(t,r,S,K,J){const fe=this._findLeavingNestedLanguageOffset(t,S);if(fe===-1){const dt=J.nestedLanguageTokenize(t,r,S.embeddedLanguageData,K);return oi.create(S.stack,new kt(S.embeddedLanguageData.languageId,dt))}const be=t.substring(0,fe);be.length>0&&J.nestedLanguageTokenize(be,!1,S.embeddedLanguageData,K);const qe=t.substring(fe);return this._myTokenize(qe,r,S,K+fe,J)}_safeRuleName(t){return t?t.name:"(unknown)"}_myTokenize(t,r,S,K,J){J.enterLanguage(this._languageId);const fe=t.length,be=r&&this._lexer.includeLF?t+`
`:t,qe=be.length;let dt=S.embeddedLanguageData,yt=S.stack,zt=0,Ai=null,Ki=!0;for(;Ki||zt<qe;){const cn=zt,En=yt.depth,Rn=Ai?Ai.groups.length:0,$n=yt.state;let Hn=null,xn=null,Un=null,eo=null,$r=null;if(Ai){Hn=Ai.matches;const es=Ai.groups.shift();xn=es.matched,Un=es.action,eo=Ai.rule,Ai.groups.length===0&&(Ai=null)}else{if(!Ki&&zt>=qe)break;Ki=!1;let es=this._lexer.tokenizer[$n];if(!es&&(es=Zi(this._lexer,$n),!es))throw Si(this._lexer,"tokenizer state is not defined: "+$n);const Pn=be.substr(zt);for(const xs of es)if((zt===0||!xs.matchOnlyAtLineStart)&&(Hn=Pn.match(xs.regex),Hn)){xn=Hn[0],Un=xs.action;break}}if(Hn||(Hn=[""],xn=""),Un||(zt<qe&&(Hn=[be.charAt(zt)],xn=Hn[0]),Un=this._lexer.defaultToken),xn===null)break;for(zt+=xn.length;Ht(Un)&&ci(Un)&&Un.test;)Un=Un.test(xn,Hn,$n,zt===qe);let vs=null;if(typeof Un=="string"||Array.isArray(Un))vs=Un;else if(Un.group)vs=Un.group;else if(Un.token!==null&&Un.token!==void 0){if(Un.tokenSubst?vs=Ji(this._lexer,Un.token,xn,Hn,$n):vs=Un.token,Un.nextEmbedded)if(Un.nextEmbedded==="@pop"){if(!dt)throw Si(this._lexer,"cannot pop embedded language if not inside one");dt=null}else{if(dt)throw Si(this._lexer,"cannot enter embedded language from within an embedded language");$r=Ji(this._lexer,Un.nextEmbedded,xn,Hn,$n)}if(Un.goBack&&(zt=Math.max(0,zt-Un.goBack)),Un.switchTo&&typeof Un.switchTo=="string"){let es=Ji(this._lexer,Un.switchTo,xn,Hn,$n);if(es[0]==="@"&&(es=es.substr(1)),Zi(this._lexer,es))yt=yt.switchTo(es);else throw Si(this._lexer,"trying to switch to a state '"+es+"' that is undefined in rule: "+this._safeRuleName(eo))}else{if(Un.transform&&typeof Un.transform=="function")throw Si(this._lexer,"action.transform not supported");if(Un.next)if(Un.next==="@push"){if(yt.depth>=this._lexer.maxStack)throw Si(this._lexer,"maximum tokenizer stack size reached: ["+yt.state+","+yt.parent.state+",...]");yt=yt.push($n)}else if(Un.next==="@pop"){if(yt.depth<=1)throw Si(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(eo));yt=yt.pop()}else if(Un.next==="@popall")yt=yt.popall();else{let es=Ji(this._lexer,Un.next,xn,Hn,$n);if(es[0]==="@"&&(es=es.substr(1)),Zi(this._lexer,es))yt=yt.push(es);else throw Si(this._lexer,"trying to set a next state '"+es+"' that is undefined in rule: "+this._safeRuleName(eo))}}Un.log&&typeof Un.log=="string"&&zi(this._lexer,this._lexer.languageId+": "+Ji(this._lexer,Un.log,xn,Hn,$n))}if(vs===null)throw Si(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(eo));const Ka=es=>{const Pn=this._languageService.getLanguageIdByLanguageName(es)||this._languageService.getLanguageIdByMimeType(es)||es,xs=this._getNestedEmbeddedLanguageData(Pn);if(zt<qe){const Ca=t.substr(zt);return this._nestedTokenize(Ca,r,oi.create(yt,xs),K+zt,J)}else return oi.create(yt,xs)};if(Array.isArray(vs)){if(Ai&&Ai.groups.length>0)throw Si(this._lexer,"groups cannot be nested: "+this._safeRuleName(eo));if(Hn.length!==vs.length+1)throw Si(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(eo));let es=0;for(let Pn=1;Pn<Hn.length;Pn++)es+=Hn[Pn].length;if(es!==xn.length)throw Si(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(eo));Ai={rule:eo,matches:Hn,groups:[]};for(let Pn=0;Pn<vs.length;Pn++)Ai.groups[Pn]={action:vs[Pn],matched:Hn[Pn+1]};zt-=xn.length;continue}else{if(vs==="@rematch"&&(zt-=xn.length,xn="",Hn=null,vs="",$r!==null))return Ka($r);if(xn.length===0){if(qe===0||En!==yt.depth||$n!==yt.state||(Ai?Ai.groups.length:0)!==Rn)continue;throw Si(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(eo))}let es=null;if(Qt(vs)&&vs.indexOf("@brackets")===0){const Pn=vs.substr(9),xs=ji(this._lexer,xn);if(!xs)throw Si(this._lexer,"@brackets token returned but no bracket defined as: "+xn);es=Xi(xs.token+Pn)}else{const Pn=vs===""?"":vs+this._lexer.tokenPostfix;es=Xi(Pn)}cn<fe&&J.emit(cn+K,es)}if($r!==null)return Ka($r)}return oi.create(yt,dt)}_getNestedEmbeddedLanguageData(t){if(!this._languageService.isRegisteredLanguageId(t))return new kt(t,I.TJ);t!==this._languageId&&(O.RW.getOrCreate(t),this._embeddedLanguages[t]=!0);const r=O.RW.get(t);return r?new kt(t,r.getInitialState()):new kt(t,I.TJ)}};Ti=Dn([Cn(4,nn.Ui)],Ti);function ji(ve,t){if(!t)return null;t=Ii(ve,t);const r=ve.brackets;for(const S of r){if(S.open===t)return{token:S.token,bracketType:1};if(S.close===t)return{token:S.token,bracketType:-1}}return null}var Hi=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})},rn;const wi=(rn=window.trustedTypes)===null||rn===void 0?void 0:rn.createPolicy("standaloneColorizer",{createHTML:ve=>ve});class et{static colorizeElement(t,r,S,K){K=K||{};const J=K.theme||"vs",fe=K.mimeType||S.getAttribute("lang")||S.getAttribute("data-lang");if(!fe)return console.error("Mode not detected"),Promise.resolve();const be=r.getLanguageIdByMimeType(fe)||fe;t.setTheme(J);const qe=S.firstChild?S.firstChild.nodeValue:"";S.className+=" "+J;const dt=yt=>{var zt;const Ai=(zt=wi?.createHTML(yt))!==null&&zt!==void 0?zt:yt;S.innerHTML=Ai};return this.colorize(r,qe||"",be,K).then(dt,yt=>console.error(yt))}static colorize(t,r,S,K){return Hi(this,void 0,void 0,function*(){const J=t.languageIdCodec;let fe=4;K&&typeof K.tabSize=="number"&&(fe=K.tabSize),i.uS(r)&&(r=r.substr(1));const be=i.uq(r);if(!t.isRegisteredLanguageId(S))return Rt(be,fe,J);const qe=yield O.RW.getOrCreate(S);return qe?lt(be,fe,qe,J):Rt(be,fe,J)})}static colorizeLine(t,r,S,K,J=4){const fe=nt.wA.isBasicASCII(t,r),be=nt.wA.containsRTL(t,fe,S);return(0,xt.tF)(new xt.IJ(!1,!0,t,!1,fe,be,0,K,[],J,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(t,r,S=4){const K=t.getLineContent(r);t.tokenization.forceTokenization(r);const fe=t.tokenization.getLineTokens(r).inflate();return this.colorizeLine(K,t.mightContainNonBasicASCII(),t.mightContainRTL(),fe,S)}}function lt(ve,t,r,S){return new Promise((K,J)=>{const fe=()=>{const be=Ut(ve,t,r,S);if(r instanceof Ti){const qe=r.getLoadStatus();if(qe.loaded===!1){qe.promise.then(fe,J);return}}K(be)};fe()})}function Rt(ve,t,r){let S=[];const J=new Uint32Array(2);J[0]=0,J[1]=33587200;for(let fe=0,be=ve.length;fe<be;fe++){const qe=ve[fe];J[0]=qe.length;const dt=new ht.A(J,qe,r),yt=nt.wA.isBasicASCII(qe,!0),zt=nt.wA.containsRTL(qe,yt,!0),Ai=(0,xt.tF)(new xt.IJ(!1,!0,qe,!1,yt,zt,0,dt,[],t,0,0,0,0,-1,"none",!1,!1,null));S=S.concat(Ai.html),S.push("<br/>")}return S.join("")}function Ut(ve,t,r,S){let K=[],J=r.getInitialState();for(let fe=0,be=ve.length;fe<be;fe++){const qe=ve[fe],dt=r.tokenizeEncoded(qe,!0,J);ht.A.convertToEndOffset(dt.tokens,qe.length);const yt=new ht.A(dt.tokens,qe,S),zt=nt.wA.isBasicASCII(qe,!0),Ai=nt.wA.containsRTL(qe,zt,!0),Ki=(0,xt.tF)(new xt.IJ(!1,!0,qe,!1,zt,Ai,0,yt.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));K=K.concat(Ki.html),K.push("<br/>"),J=dt.endState}return K.join("")}var ui=s(35996),ri=s(69732),_i=s(92913),Yi=s(30653),an=s(85215),ei=s(65321),Gi=s(66663),ln=s(91741),bn=s(97781),Mn=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Nn=function(ve,t){return function(r,S){t(r,S,ve)}},yn=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};let An=class extends m.JT{constructor(t){super(),this._themeService=t,this._onCodeEditorAdd=this._register(new z.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new z.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new z.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new z.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new ln.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)}removeCodeEditor(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)}listCodeEditors(){return Object.keys(this._codeEditors).map(t=>this._codeEditors[t])}addDiffEditor(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)}removeDiffEditor(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)}listDiffEditors(){return Object.keys(this._diffEditors).map(t=>this._diffEditors[t])}getFocusedCodeEditor(){let t=null;const r=this.listCodeEditors();for(const S of r){if(S.hasTextFocus())return S;S.hasWidgetFocus()&&(t=S)}return t}removeDecorationType(t){const r=this._decorationOptionProviders.get(t);r&&(r.refCount--,r.refCount<=0&&(this._decorationOptionProviders.delete(t),r.dispose(),this.listCodeEditors().forEach(S=>S.removeDecorationsByType(t))))}setModelProperty(t,r,S){const K=t.toString();let J;this._modelProperties.has(K)?J=this._modelProperties.get(K):(J=new Map,this._modelProperties.set(K,J)),J.set(r,S)}getModelProperty(t,r){const S=t.toString();if(this._modelProperties.has(S))return this._modelProperties.get(S).get(r)}openCodeEditor(t,r,S){return yn(this,void 0,void 0,function*(){for(const K of this._codeEditorOpenHandlers){const J=yield K(t,r,S);if(J!==null)return J}return null})}registerCodeEditorOpenHandler(t){const r=this._codeEditorOpenHandlers.unshift(t);return(0,m.OF)(r)}};An=Mn([Nn(0,bn.XE)],An);class Bn{constructor(t){this._styleSheet=t}}var sn=s(38819),vn=s(65026),Kn=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},gn=function(ve,t){return function(r,S){t(r,S,ve)}},yi=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};let $i=class extends An{constructor(t,r){super(r),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((S,K,J)=>yi(this,void 0,void 0,function*(){return K?this.doOpenEditor(K,S):null}))}_checkContextKey(){let t=!1;for(const r of this.listCodeEditors())if(!r.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(t,r){if(!this.findModel(t,r.resource)){if(r.resource){const J=r.resource.scheme;if(J===Gi.lg.http||J===Gi.lg.https)return(0,ei.V3)(r.resource.toString()),t}return null}const K=r.options?r.options.selection:null;if(K)if(typeof K.endLineNumber=="number"&&typeof K.endColumn=="number")t.setSelection(K),t.revealRangeInCenter(K,1);else{const J={lineNumber:K.startLineNumber,column:K.startColumn};t.setPosition(J),t.revealPositionInCenter(J,1)}return t}findModel(t,r){const S=t.getModel();return S&&S.uri.toString()!==r.toString()?null:S}};$i=Kn([gn(0,sn.i6),gn(1,bn.XE)],$i),(0,vn.z)(_.$,$i);var en=s(72065);const On=(0,en.yh)("layoutService");var us=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},rs=function(ve,t){return function(r,S){t(r,S,ve)}};let Et=class{constructor(t){this._codeEditorService=t,this.onDidLayout=z.ju.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=ei.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var t;(t=this._codeEditorService.getFocusedCodeEditor())===null||t===void 0||t.focus()}};Et=us([rs(0,_.$)],Et);let D=class extends Et{constructor(t,r){super(r),this._container=t}get hasContainer(){return!1}get container(){return this._container}};D=us([rs(1,_.$)],D),(0,vn.z)(On,Et);var k=s(14603),c=s(63580),R=s(28820),Y=s(59422),ge=s(64862),Oe=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Ue=function(ve,t){return function(r,S){t(r,S,ve)}},rt=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};const ct=!1;function Tt(ve){return ve.scheme===Gi.lg.file?ve.fsPath:ve.path}let Bt=0;class Kt{constructor(t,r,S,K,J,fe,be){this.id=++Bt,this.type=0,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabel=r,this.strResource=S,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=K,this.groupOrder=J,this.sourceId=fe,this.sourceOrder=be,this.isValid=!0}setValid(t){this.isValid=t}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class hi{constructor(t,r){this.resourceLabel=t,this.reason=r}}class di{constructor(){this.elements=new Map}createMessage(){const t=[],r=[];for(const[,K]of this.elements)(K.reason===0?t:r).push(K.resourceLabel);const S=[];return t.length>0&&S.push(c.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",t.join(", "))),r.length>0&&S.push(c.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",r.join(", "))),S.join(`
`)}get size(){return this.elements.size}has(t){return this.elements.has(t)}set(t,r){this.elements.set(t,r)}delete(t){return this.elements.delete(t)}}class fi{constructor(t,r,S,K,J,fe,be){this.id=++Bt,this.type=1,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabels=r,this.strResources=S,this.groupId=K,this.groupOrder=J,this.sourceId=fe,this.sourceOrder=be,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(t,r,S){this.removedResources||(this.removedResources=new di),this.removedResources.has(r)||this.removedResources.set(r,new hi(t,S))}setValid(t,r,S){S?this.invalidatedResources&&(this.invalidatedResources.delete(r),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new di),this.invalidatedResources.has(r)||this.invalidatedResources.set(r,new hi(t,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Ei{constructor(t,r){this.resourceLabel=t,this.strResource=r,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const t of this._past)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const t=[];t.push(`* ${this.strResource}:`);for(let r=0;r<this._past.length;r++)t.push(`   * [UNDO] ${this._past[r]}`);for(let r=this._future.length-1;r>=0;r--)t.push(`   * [REDO] ${this._future[r]}`);return t.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(t,r){t.type===1?t.setValid(this.resourceLabel,this.strResource,r):t.setValid(r)}setElementsValidFlag(t,r){for(const S of this._past)r(S.actual)&&this._setElementValidFlag(S,t);for(const S of this._future)r(S.actual)&&this._setElementValidFlag(S,t)}pushElement(t){for(const r of this._future)r.type===1&&r.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(t),this.versionId++}createSnapshot(t){const r=[];for(let S=0,K=this._past.length;S<K;S++)r.push(this._past[S].id);for(let S=this._future.length-1;S>=0;S--)r.push(this._future[S].id);return new ge.YO(t,r)}restoreSnapshot(t){const r=t.elements.length;let S=!0,K=0,J=-1;for(let be=0,qe=this._past.length;be<qe;be++,K++){const dt=this._past[be];S&&(K>=r||dt.id!==t.elements[K])&&(S=!1,J=0),!S&&dt.type===1&&dt.removeResource(this.resourceLabel,this.strResource,0)}let fe=-1;for(let be=this._future.length-1;be>=0;be--,K++){const qe=this._future[be];S&&(K>=r||qe.id!==t.elements[K])&&(S=!1,fe=be),!S&&qe.type===1&&qe.removeResource(this.resourceLabel,this.strResource,0)}J!==-1&&(this._past=this._past.slice(0,J)),fe!==-1&&(this._future=this._future.slice(fe+1)),this.versionId++}getElements(){const t=[],r=[];for(const S of this._past)t.push(S.actual);for(const S of this._future)r.push(S.actual);return{past:t,future:r}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(t,r){for(let S=this._past.length-1;S>=0;S--)if(this._past[S]===t){r.has(this.strResource)?this._past[S]=r.get(this.strResource):this._past.splice(S,1);break}this.versionId++}splitFutureWorkspaceElement(t,r){for(let S=this._future.length-1;S>=0;S--)if(this._future[S]===t){r.has(this.strResource)?this._future[S]=r.get(this.strResource):this._future.splice(S,1);break}this.versionId++}moveBackward(t){this._past.pop(),this._future.push(t),this.versionId++}moveForward(t){this._future.pop(),this._past.push(t),this.versionId++}}class Bi{constructor(t){this.editStacks=t,this._versionIds=[];for(let r=0,S=this.editStacks.length;r<S;r++)this._versionIds[r]=this.editStacks[r].versionId}isValid(){for(let t=0,r=this.editStacks.length;t<r;t++)if(this._versionIds[t]!==this.editStacks[t].versionId)return!1;return!0}}const Qi=new Ei("","");Qi.locked=!0;let In=class{constructor(t,r){this._dialogService=t,this._notificationService=r,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(t){for(const r of this._uriComparisonKeyComputers)if(r[0]===t.scheme)return r[1].getComparisonKey(t);return t.toString()}_print(t){console.log("------------------------------------"),console.log(`AFTER ${t}: `);const r=[];for(const S of this._editStacks)r.push(S[1].toString());console.log(r.join(`
`))}pushElement(t,r=ge.Xt.None,S=ge.gJ.None){if(t.type===0){const K=Tt(t.resource),J=this.getUriComparisonKey(t.resource);this._pushElement(new Kt(t,K,J,r.id,r.nextOrder(),S.id,S.nextOrder()))}else{const K=new Set,J=[],fe=[];for(const be of t.resources){const qe=Tt(be),dt=this.getUriComparisonKey(be);K.has(dt)||(K.add(dt),J.push(qe),fe.push(dt))}J.length===1?this._pushElement(new Kt(t,J[0],fe[0],r.id,r.nextOrder(),S.id,S.nextOrder())):this._pushElement(new fi(t,J,fe,r.id,r.nextOrder(),S.id,S.nextOrder()))}ct&&this._print("pushElement")}_pushElement(t){for(let r=0,S=t.strResources.length;r<S;r++){const K=t.resourceLabels[r],J=t.strResources[r];let fe;this._editStacks.has(J)?fe=this._editStacks.get(J):(fe=new Ei(K,J),this._editStacks.set(J,fe)),fe.pushElement(t)}}getLastElement(t){const r=this.getUriComparisonKey(t);if(this._editStacks.has(r)){const S=this._editStacks.get(r);if(S.hasFutureElements())return null;const K=S.getClosestPastElement();return K?K.actual:null}return null}_splitPastWorkspaceElement(t,r){const S=t.actual.split(),K=new Map;for(const J of S){const fe=Tt(J.resource),be=this.getUriComparisonKey(J.resource),qe=new Kt(J,fe,be,0,0,0,0);K.set(qe.strResource,qe)}for(const J of t.strResources){if(r&&r.has(J))continue;this._editStacks.get(J).splitPastWorkspaceElement(t,K)}}_splitFutureWorkspaceElement(t,r){const S=t.actual.split(),K=new Map;for(const J of S){const fe=Tt(J.resource),be=this.getUriComparisonKey(J.resource),qe=new Kt(J,fe,be,0,0,0,0);K.set(qe.strResource,qe)}for(const J of t.strResources){if(r&&r.has(J))continue;this._editStacks.get(J).splitFutureWorkspaceElement(t,K)}}removeElements(t){const r=typeof t=="string"?t:this.getUriComparisonKey(t);this._editStacks.has(r)&&(this._editStacks.get(r).dispose(),this._editStacks.delete(r)),ct&&this._print("removeElements")}setElementsValidFlag(t,r,S){const K=this.getUriComparisonKey(t);this._editStacks.has(K)&&this._editStacks.get(K).setElementsValidFlag(r,S),ct&&this._print("setElementsValidFlag")}createSnapshot(t){const r=this.getUriComparisonKey(t);return this._editStacks.has(r)?this._editStacks.get(r).createSnapshot(t):new ge.YO(t,[])}restoreSnapshot(t){const r=this.getUriComparisonKey(t.resource);if(this._editStacks.has(r)){const S=this._editStacks.get(r);S.restoreSnapshot(t),!S.hasPastElements()&&!S.hasFutureElements()&&(S.dispose(),this._editStacks.delete(r))}ct&&this._print("restoreSnapshot")}getElements(t){const r=this.getUriComparisonKey(t);return this._editStacks.has(r)?this._editStacks.get(r).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(t){if(!t)return[null,null];let r=null,S=null;for(const[K,J]of this._editStacks){const fe=J.getClosestPastElement();fe&&fe.sourceId===t&&(!r||fe.sourceOrder>r.sourceOrder)&&(r=fe,S=K)}return[r,S]}canUndo(t){if(t instanceof ge.gJ){const[,S]=this._findClosestUndoElementWithSource(t.id);return!!S}const r=this.getUriComparisonKey(t);return this._editStacks.has(r)?this._editStacks.get(r).hasPastElements():!1}_onError(t,r){(0,re.dL)(t);for(const S of r.strResources)this.removeElements(S);this._notificationService.error(t)}_acquireLocks(t){for(const r of t.editStacks)if(r.locked)throw new Error("Cannot acquire edit stack lock");for(const r of t.editStacks)r.locked=!0;return()=>{for(const r of t.editStacks)r.locked=!1}}_safeInvokeWithLocks(t,r,S,K,J){const fe=this._acquireLocks(S);let be;try{be=r()}catch(qe){return fe(),K.dispose(),this._onError(qe,t)}return be?be.then(()=>(fe(),K.dispose(),J()),qe=>(fe(),K.dispose(),this._onError(qe,t))):(fe(),K.dispose(),J())}_invokeWorkspacePrepare(t){return rt(this,void 0,void 0,function*(){if(typeof t.actual.prepareUndoRedo>"u")return m.JT.None;const r=t.actual.prepareUndoRedo();return typeof r>"u"?m.JT.None:r})}_invokeResourcePrepare(t,r){if(t.actual.type!==1||typeof t.actual.prepareUndoRedo>"u")return r(m.JT.None);const S=t.actual.prepareUndoRedo();return S?(0,m.Wf)(S)?r(S):S.then(K=>r(K)):r(m.JT.None)}_getAffectedEditStacks(t){const r=[];for(const S of t.strResources)r.push(this._editStacks.get(S)||Qi);return new Bi(r)}_tryToSplitAndUndo(t,r,S,K){if(r.canSplit())return this._splitPastWorkspaceElement(r,S),this._notificationService.warn(K),new Gn(this._undo(t,0,!0));for(const J of r.strResources)this.removeElements(J);return this._notificationService.warn(K),new Gn}_checkWorkspaceUndo(t,r,S,K){if(r.removedResources)return this._tryToSplitAndUndo(t,r,r.removedResources,c.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",r.label,r.removedResources.createMessage()));if(K&&r.invalidatedResources)return this._tryToSplitAndUndo(t,r,r.invalidatedResources,c.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",r.label,r.invalidatedResources.createMessage()));const J=[];for(const be of S.editStacks)be.getClosestPastElement()!==r&&J.push(be.resourceLabel);if(J.length>0)return this._tryToSplitAndUndo(t,r,null,c.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",r.label,J.join(", ")));const fe=[];for(const be of S.editStacks)be.locked&&fe.push(be.resourceLabel);return fe.length>0?this._tryToSplitAndUndo(t,r,null,c.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",r.label,fe.join(", "))):S.isValid()?null:this._tryToSplitAndUndo(t,r,null,c.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",r.label))}_workspaceUndo(t,r,S){const K=this._getAffectedEditStacks(r),J=this._checkWorkspaceUndo(t,r,K,!1);return J?J.returnValue:this._confirmAndExecuteWorkspaceUndo(t,r,K,S)}_isPartOfUndoGroup(t){if(!t.groupId)return!1;for(const[,r]of this._editStacks){const S=r.getClosestPastElement();if(S){if(S===t){const K=r.getSecondClosestPastElement();if(K&&K.groupId===t.groupId)return!0}if(S.groupId===t.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(t,r,S,K){return rt(this,void 0,void 0,function*(){if(r.canSplit()&&!this._isPartOfUndoGroup(r)){const be=yield this._dialogService.show(k.Z.Info,c.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",r.label),[c.NC({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",S.editStacks.length),c.NC("nok","Undo this File"),c.NC("cancel","Cancel")],{cancelId:2});if(be.choice===2)return;if(be.choice===1)return this._splitPastWorkspaceElement(r,null),this._undo(t,0,!0);const qe=this._checkWorkspaceUndo(t,r,S,!1);if(qe)return qe.returnValue;K=!0}let J;try{J=yield this._invokeWorkspacePrepare(r)}catch(be){return this._onError(be,r)}const fe=this._checkWorkspaceUndo(t,r,S,!0);if(fe)return J.dispose(),fe.returnValue;for(const be of S.editStacks)be.moveBackward(r);return this._safeInvokeWithLocks(r,()=>r.actual.undo(),S,J,()=>this._continueUndoInGroup(r.groupId,K))})}_resourceUndo(t,r,S){if(!r.isValid){t.flushAllElements();return}if(t.locked){const K=c.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",r.label);this._notificationService.warn(K);return}return this._invokeResourcePrepare(r,K=>(t.moveBackward(r),this._safeInvokeWithLocks(r,()=>r.actual.undo(),new Bi([t]),K,()=>this._continueUndoInGroup(r.groupId,S))))}_findClosestUndoElementInGroup(t){if(!t)return[null,null];let r=null,S=null;for(const[K,J]of this._editStacks){const fe=J.getClosestPastElement();fe&&fe.groupId===t&&(!r||fe.groupOrder>r.groupOrder)&&(r=fe,S=K)}return[r,S]}_continueUndoInGroup(t,r){if(!t)return;const[,S]=this._findClosestUndoElementInGroup(t);if(S)return this._undo(S,0,r)}undo(t){if(t instanceof ge.gJ){const[,r]=this._findClosestUndoElementWithSource(t.id);return r?this._undo(r,t.id,!1):void 0}return typeof t=="string"?this._undo(t,0,!1):this._undo(this.getUriComparisonKey(t),0,!1)}_undo(t,r=0,S){if(!this._editStacks.has(t))return;const K=this._editStacks.get(t),J=K.getClosestPastElement();if(!J)return;if(J.groupId){const[be,qe]=this._findClosestUndoElementInGroup(J.groupId);if(J!==be&&qe)return this._undo(qe,r,S)}if((J.sourceId!==r||J.confirmBeforeUndo)&&!S)return this._confirmAndContinueUndo(t,r,J);try{return J.type===1?this._workspaceUndo(t,J,S):this._resourceUndo(K,J,S)}finally{ct&&this._print("undo")}}_confirmAndContinueUndo(t,r,S){return rt(this,void 0,void 0,function*(){if((yield this._dialogService.show(k.Z.Info,c.NC("confirmDifferentSource","Would you like to undo '{0}'?",S.label),[c.NC("confirmDifferentSource.yes","Yes"),c.NC("confirmDifferentSource.no","No")],{cancelId:1})).choice!==1)return this._undo(t,r,!0)})}_findClosestRedoElementWithSource(t){if(!t)return[null,null];let r=null,S=null;for(const[K,J]of this._editStacks){const fe=J.getClosestFutureElement();fe&&fe.sourceId===t&&(!r||fe.sourceOrder<r.sourceOrder)&&(r=fe,S=K)}return[r,S]}canRedo(t){if(t instanceof ge.gJ){const[,S]=this._findClosestRedoElementWithSource(t.id);return!!S}const r=this.getUriComparisonKey(t);return this._editStacks.has(r)?this._editStacks.get(r).hasFutureElements():!1}_tryToSplitAndRedo(t,r,S,K){if(r.canSplit())return this._splitFutureWorkspaceElement(r,S),this._notificationService.warn(K),new Gn(this._redo(t));for(const J of r.strResources)this.removeElements(J);return this._notificationService.warn(K),new Gn}_checkWorkspaceRedo(t,r,S,K){if(r.removedResources)return this._tryToSplitAndRedo(t,r,r.removedResources,c.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",r.label,r.removedResources.createMessage()));if(K&&r.invalidatedResources)return this._tryToSplitAndRedo(t,r,r.invalidatedResources,c.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",r.label,r.invalidatedResources.createMessage()));const J=[];for(const be of S.editStacks)be.getClosestFutureElement()!==r&&J.push(be.resourceLabel);if(J.length>0)return this._tryToSplitAndRedo(t,r,null,c.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",r.label,J.join(", ")));const fe=[];for(const be of S.editStacks)be.locked&&fe.push(be.resourceLabel);return fe.length>0?this._tryToSplitAndRedo(t,r,null,c.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",r.label,fe.join(", "))):S.isValid()?null:this._tryToSplitAndRedo(t,r,null,c.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",r.label))}_workspaceRedo(t,r){const S=this._getAffectedEditStacks(r),K=this._checkWorkspaceRedo(t,r,S,!1);return K?K.returnValue:this._executeWorkspaceRedo(t,r,S)}_executeWorkspaceRedo(t,r,S){return rt(this,void 0,void 0,function*(){let K;try{K=yield this._invokeWorkspacePrepare(r)}catch(fe){return this._onError(fe,r)}const J=this._checkWorkspaceRedo(t,r,S,!0);if(J)return K.dispose(),J.returnValue;for(const fe of S.editStacks)fe.moveForward(r);return this._safeInvokeWithLocks(r,()=>r.actual.redo(),S,K,()=>this._continueRedoInGroup(r.groupId))})}_resourceRedo(t,r){if(!r.isValid){t.flushAllElements();return}if(t.locked){const S=c.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",r.label);this._notificationService.warn(S);return}return this._invokeResourcePrepare(r,S=>(t.moveForward(r),this._safeInvokeWithLocks(r,()=>r.actual.redo(),new Bi([t]),S,()=>this._continueRedoInGroup(r.groupId))))}_findClosestRedoElementInGroup(t){if(!t)return[null,null];let r=null,S=null;for(const[K,J]of this._editStacks){const fe=J.getClosestFutureElement();fe&&fe.groupId===t&&(!r||fe.groupOrder<r.groupOrder)&&(r=fe,S=K)}return[r,S]}_continueRedoInGroup(t){if(!t)return;const[,r]=this._findClosestRedoElementInGroup(t);if(r)return this._redo(r)}redo(t){if(t instanceof ge.gJ){const[,r]=this._findClosestRedoElementWithSource(t.id);return r?this._redo(r):void 0}return typeof t=="string"?this._redo(t):this._redo(this.getUriComparisonKey(t))}_redo(t){if(!this._editStacks.has(t))return;const r=this._editStacks.get(t),S=r.getClosestFutureElement();if(S){if(S.groupId){const[K,J]=this._findClosestRedoElementInGroup(S.groupId);if(S!==K&&J)return this._redo(J)}try{return S.type===1?this._workspaceRedo(t,S):this._resourceRedo(r,S)}finally{ct&&this._print("redo")}}}};In=Oe([Ue(0,R.S),Ue(1,Y.lT)],In);class Gn{constructor(t){this.returnValue=t}}(0,vn.z)(ge.tJ,In);var ts=s(88191),Qn=s(59069),ws=s(8313),mn=s(66007),is=s(800),Jn=s(69386),qn=s(88216),Zn=s(94565),ls=s(43702),Wn=s(36248);class Cs{constructor(t={},r=[],S=[]){this._contents=t,this._keys=r,this._overrides=S,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(t){return t?(0,nn.Mt)(this.contents,t):this.contents}getOverrideValue(t,r){const S=this.getContentsForOverrideIdentifer(r);return S?t?(0,nn.Mt)(S,t):S:void 0}override(t){let r=this.overrideConfigurations.get(t);return r||(r=this.createOverrideConfigurationModel(t),this.overrideConfigurations.set(t,r)),r}merge(...t){const r=Wn.I8(this.contents),S=Wn.I8(this.overrides),K=[...this.keys];for(const J of t)if(!J.isEmpty()){this.mergeContents(r,J.contents);for(const fe of J.overrides){const[be]=S.filter(qe=>gt.fS(qe.identifiers,fe.identifiers));be?(this.mergeContents(be.contents,fe.contents),be.keys.push(...fe.keys),be.keys=gt.EB(be.keys)):S.push(Wn.I8(fe))}for(const fe of J.keys)K.indexOf(fe)===-1&&K.push(fe)}return new Cs(r,K,S)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(t){const r=this.getContentsForOverrideIdentifer(t);if(!r||typeof r!="object"||!Object.keys(r).length)return this;const S={};for(const K of gt.EB([...Object.keys(this.contents),...Object.keys(r)])){let J=this.contents[K];const fe=r[K];fe&&(typeof J=="object"&&typeof fe=="object"?(J=Wn.I8(J),this.mergeContents(J,fe)):J=fe),S[K]=J}return new Cs(S,this.keys,this.overrides)}mergeContents(t,r){for(const S of Object.keys(r)){if(S in t&&ie.Kn(t[S])&&ie.Kn(r[S])){this.mergeContents(t[S],r[S]);continue}t[S]=Wn.I8(r[S])}}checkAndFreeze(t){return this.frozen&&!Object.isFrozen(t)?Wn._A(t):t}getContentsForOverrideIdentifer(t){let r=null,S=null;const K=J=>{J&&(S?this.mergeContents(S,J):S=Wn.I8(J))};for(const J of this.overrides)gt.fS(J.identifiers,[t])?r=J.contents:J.identifiers.includes(t)&&K(J.contents);return K(r),S}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(t,r){this.addKey(t),(0,nn.KV)(this.contents,t,r,S=>{throw new Error(S)})}removeValue(t){this.removeKey(t)&&(0,nn.xL)(this.contents,t)}addKey(t){let r=this.keys.length;for(let S=0;S<r;S++)t.indexOf(this.keys[S])===0&&(r=S);this.keys.splice(r,1,t)}removeKey(t){const r=this.keys.indexOf(t);return r!==-1?(this.keys.splice(r,1),!0):!1}}class _o{constructor(t,r,S,K,J=new Cs,fe=new Cs,be=new ls.Y9,qe=new Cs,dt=new ls.Y9,yt=!0){this._defaultConfiguration=t,this._policyConfiguration=r,this._applicationConfiguration=S,this._localUserConfiguration=K,this._remoteUserConfiguration=J,this._workspaceConfiguration=fe,this._folderConfigurations=be,this._memoryConfiguration=qe,this._memoryConfigurationByResource=dt,this._freeze=yt,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new ls.Y9,this._userConfiguration=null}getValue(t,r,S){return this.getConsolidatedConfigurationModel(t,r,S).getValue(t)}updateValue(t,r,S={}){let K;S.resource?(K=this._memoryConfigurationByResource.get(S.resource),K||(K=new Cs,this._memoryConfigurationByResource.set(S.resource,K))):K=this._memoryConfiguration,r===void 0?K.removeValue(t):K.setValue(t,r),S.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(t,r,S){const K=this.getConsolidatedConfigurationModel(t,r,S),J=this.getFolderConfigurationModelForResource(r.resource,S),fe=r.resource?this._memoryConfigurationByResource.get(r.resource)||this._memoryConfiguration:this._memoryConfiguration,be=r.overrideIdentifier?this._defaultConfiguration.freeze().override(r.overrideIdentifier).getValue(t):this._defaultConfiguration.freeze().getValue(t),qe=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(t),dt=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(t),yt=r.overrideIdentifier?this.userConfiguration.freeze().override(r.overrideIdentifier).getValue(t):this.userConfiguration.freeze().getValue(t),zt=r.overrideIdentifier?this.localUserConfiguration.freeze().override(r.overrideIdentifier).getValue(t):this.localUserConfiguration.freeze().getValue(t),Ai=r.overrideIdentifier?this.remoteUserConfiguration.freeze().override(r.overrideIdentifier).getValue(t):this.remoteUserConfiguration.freeze().getValue(t),Ki=S?r.overrideIdentifier?this._workspaceConfiguration.freeze().override(r.overrideIdentifier).getValue(t):this._workspaceConfiguration.freeze().getValue(t):void 0,cn=J?r.overrideIdentifier?J.freeze().override(r.overrideIdentifier).getValue(t):J.freeze().getValue(t):void 0,En=r.overrideIdentifier?fe.override(r.overrideIdentifier).getValue(t):fe.getValue(t),Rn=K.getValue(t),$n=gt.EB(K.overrides.map(Hn=>Hn.identifiers).flat()).filter(Hn=>K.getOverrideValue(t,Hn)!==void 0);return{defaultValue:be,policyValue:qe,applicationValue:dt,userValue:yt,userLocalValue:zt,userRemoteValue:Ai,workspaceValue:Ki,workspaceFolderValue:cn,memoryValue:En,value:Rn,default:be!==void 0?{value:this._defaultConfiguration.freeze().getValue(t),override:r.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,policy:qe!==void 0?{value:qe}:void 0,application:dt!==void 0?{value:dt,override:r.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,user:yt!==void 0?{value:this.userConfiguration.freeze().getValue(t),override:r.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,userLocal:zt!==void 0?{value:this.localUserConfiguration.freeze().getValue(t),override:r.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,userRemote:Ai!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(t),override:r.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,workspace:Ki!==void 0?{value:this._workspaceConfiguration.freeze().getValue(t),override:r.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,workspaceFolder:cn!==void 0?{value:J?.freeze().getValue(t),override:r.overrideIdentifier?J?.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,memory:En!==void 0?{value:fe.getValue(t),override:r.overrideIdentifier?fe.getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,overrideIdentifiers:$n.length?$n:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(t,r,S){let K=this.getConsolidatedConfigurationModelForResource(r,S);return r.overrideIdentifier&&(K=K.override(r.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(t)!==void 0&&(K=K.merge(this._policyConfiguration)),K}getConsolidatedConfigurationModelForResource({resource:t},r){let S=this.getWorkspaceConsolidatedConfiguration();if(r&&t){const K=r.getFolder(t);K&&(S=this.getFolderConsolidatedConfiguration(K.uri)||S);const J=this._memoryConfigurationByResource.get(t);J&&(S=S.merge(J))}return S}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(t){let r=this._foldersConsolidatedConfigurations.get(t);if(!r){const S=this.getWorkspaceConsolidatedConfiguration(),K=this._folderConfigurations.get(t);K?(r=S.merge(K),this._freeze&&(r=r.freeze()),this._foldersConsolidatedConfigurations.set(t,r)):r=S}return r}getFolderConfigurationModelForResource(t,r){if(r&&t){const S=r.getFolder(t);if(S)return this._folderConfigurations.get(S.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((t,r)=>{const{contents:S,overrides:K,keys:J}=this._folderConfigurations.get(r);return t.push([r,{contents:S,overrides:K,keys:J}]),t},[])}}static parse(t){const r=this.parseConfigurationModel(t.defaults),S=this.parseConfigurationModel(t.policy),K=this.parseConfigurationModel(t.application),J=this.parseConfigurationModel(t.user),fe=this.parseConfigurationModel(t.workspace),be=t.folders.reduce((qe,dt)=>(qe.set(E.o.revive(dt[0]),this.parseConfigurationModel(dt[1])),qe),new ls.Y9);return new _o(r,S,K,J,new Cs,fe,be,new Cs,new ls.Y9,!1)}static parseConfigurationModel(t){return new Cs(t.contents,t.keys,t.overrides).freeze()}}class Zr{constructor(t,r,S,K){this.change=t,this.previous=r,this.currentConfiguraiton=S,this.currentWorkspace=K,this._previousConfiguration=void 0;const J=new Set;t.keys.forEach(be=>J.add(be)),t.overrides.forEach(([,be])=>be.forEach(qe=>J.add(qe))),this.affectedKeys=[...J.values()];const fe=new Cs;this.affectedKeys.forEach(be=>fe.setValue(be,{})),this.affectedKeysTree=fe.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=_o.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(t,r){var S;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,t)){if(r){const K=this.previousConfiguration?this.previousConfiguration.getValue(t,r,(S=this.previous)===null||S===void 0?void 0:S.workspace):void 0,J=this.currentConfiguraiton.getValue(t,r,this.currentWorkspace);return!Wn.fS(K,J)}return!0}return!1}doesAffectedKeysTreeContains(t,r){let S=(0,nn.Od)({[r]:!0},()=>{}),K;for(;typeof S=="object"&&(K=Object.keys(S)[0]);){if(t=t[K],!t)return!1;S=S[K]}return!0}}const Yr=/^(cursor|delete)/;class Xr extends m.JT{constructor(t,r,S,K,J){super(),this._contextKeyService=t,this._commandService=r,this._telemetryService=S,this._notificationService=K,this._logService=J,this._onDidUpdateKeybindings=this._register(new z.Q5),this._currentChord=null,this._currentChordChecker=new $.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=ao.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new $._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:z.ju.None}dispose(){super.dispose()}_log(t){this._logging&&this._logService.info(`[KeybindingService]: ${t}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(t,r){const S=this._getResolver().lookupPrimaryKeybinding(t,r||this._contextKeyService);if(S)return S.resolvedKeybinding}dispatchEvent(t,r){return this._dispatch(t,r)}softDispatch(t,r){this._log("/ Soft dispatching keyboard event");const S=this.resolveKeyboardEvent(t);if(S.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[K]=S.getDispatchParts();if(K===null)return this._log("\\ Keyboard event cannot be dispatched"),null;const J=this._contextKeyService.getContext(r),fe=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(J,fe,K)}_enterChordMode(t,r){this._currentChord={keypress:t,label:r},this._currentChordStatusMessage=this._notificationService.status(c.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",r));const S=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-S>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(t,r){return this._doDispatch(this.resolveKeyboardEvent(t),r,!1)}_singleModifierDispatch(t,r){const S=this.resolveKeyboardEvent(t),[K]=S.getSingleModifierDispatchParts();if(K)return this._ignoreSingleModifiers.has(K)?(this._log(`+ Ignoring single modifier ${K} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=ao.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=ao.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${K}.`),this._currentSingleModifier=K,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):K===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${K} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(S,r,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[J]=S.getParts();return this._ignoreSingleModifiers=new ao(J),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(t,r,S=!1){let K=!1;if(t.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let J=null,fe=null;if(S){const[yt]=t.getSingleModifierDispatchParts();J=yt,fe=yt}else[J]=t.getDispatchParts(),fe=this._currentChord?this._currentChord.keypress:null;if(J===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),K;const be=this._contextKeyService.getContext(r),qe=t.getLabel(),dt=this._getResolver().resolve(be,fe,J);return this._logService.trace("KeybindingService#dispatch",qe,dt?.commandId),dt&&dt.enterChord?(K=!0,this._enterChordMode(J,qe),this._log("+ Entering chord mode..."),K):(this._currentChord&&(!dt||!dt.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${qe}".`),this._notificationService.status(c.NC("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,qe),{hideAfter:10*1e3}),K=!0),this._leaveChordMode(),dt&&dt.commandId&&(dt.bubble||(K=!0),this._log(`+ Invoking command ${dt.commandId}.`),typeof dt.commandArgs>"u"?this._commandService.executeCommand(dt.commandId).then(void 0,yt=>this._notificationService.warn(yt)):this._commandService.executeCommand(dt.commandId,dt.commandArgs).then(void 0,yt=>this._notificationService.warn(yt)),Yr.test(dt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:dt.commandId,from:"keybinding"})),K)}mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30}}class ao{constructor(t){this._ctrlKey=t?t.ctrlKey:!1,this._shiftKey=t?t.shiftKey:!1,this._altKey=t?t.altKey:!1,this._metaKey=t?t.metaKey:!1}has(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}ao.EMPTY=new ao(null);var cs=s(91847);class jn{constructor(t,r,S){this._log=S,this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(const K of t){const J=K.command;J&&J.charAt(0)!=="-"&&this._defaultBoundCommands.set(J,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=jn.handleRemovals([].concat(t).concat(r));for(let K=0,J=this._keybindings.length;K<J;K++){const fe=this._keybindings[K];fe.keypressParts.length!==0&&(fe.when&&fe.when.type===0||this._addKeyPress(fe.keypressParts[0],fe))}}static _isTargetedForRemoval(t,r,S,K){return!(r&&t.keypressParts[0]!==r||S&&t.keypressParts[1]!==S||K&&(!t.when||!(0,sn.Fb)(K,t.when)))}static handleRemovals(t){const r=new Map;for(let K=0,J=t.length;K<J;K++){const fe=t[K];if(fe.command&&fe.command.charAt(0)==="-"){const be=fe.command.substring(1);r.has(be)?r.get(be).push(fe):r.set(be,[fe])}}if(r.size===0)return t;const S=[];for(let K=0,J=t.length;K<J;K++){const fe=t[K];if(!fe.command||fe.command.length===0){S.push(fe);continue}if(fe.command.charAt(0)==="-")continue;const be=r.get(fe.command);if(!be||!fe.isDefault){S.push(fe);continue}let qe=!1;for(const dt of be){const yt=dt.keypressParts[0],zt=dt.keypressParts[1],Ai=dt.when;if(this._isTargetedForRemoval(fe,yt,zt,Ai)){qe=!0;break}}if(!qe){S.push(fe);continue}}return S}_addKeyPress(t,r){const S=this._map.get(t);if(typeof S>"u"){this._map.set(t,[r]),this._addToLookupMap(r);return}for(let K=S.length-1;K>=0;K--){const J=S[K];if(J.command===r.command)continue;const fe=J.keypressParts.length>1,be=r.keypressParts.length>1;fe&&be&&J.keypressParts[1]!==r.keypressParts[1]||jn.whenIsEntirelyIncluded(J.when,r.when)&&this._removeFromLookupMap(J)}S.push(r),this._addToLookupMap(r)}_addToLookupMap(t){if(!t.command)return;let r=this._lookupMap.get(t.command);typeof r>"u"?(r=[t],this._lookupMap.set(t.command,r)):r.push(t)}_removeFromLookupMap(t){if(!t.command)return;const r=this._lookupMap.get(t.command);if(!(typeof r>"u")){for(let S=0,K=r.length;S<K;S++)if(r[S]===t){r.splice(S,1);return}}}static whenIsEntirelyIncluded(t,r){return!r||r.type===1?!0:!t||t.type===1?!1:(0,sn.K8)(t,r)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(t,r){const S=this._lookupMap.get(t);if(typeof S>"u"||S.length===0)return null;if(S.length===1)return S[0];for(let K=S.length-1;K>=0;K--){const J=S[K];if(r.contextMatchesRules(J.when))return J}return S[S.length-1]}resolve(t,r,S){this._log(`| Resolving ${S}${r?` chorded from ${r}`:""}`);let K=null;if(r!==null){const fe=this._map.get(r);if(typeof fe>"u")return this._log("\\ No keybinding entries."),null;K=[];for(let be=0,qe=fe.length;be<qe;be++){const dt=fe[be];dt.keypressParts[1]===S&&K.push(dt)}}else{const fe=this._map.get(S);if(typeof fe>"u")return this._log("\\ No keybinding entries."),null;K=fe}const J=this._findCommand(t,K);return J?r===null&&J.keypressParts.length>1&&J.keypressParts[1]!==null?(this._log(`\\ From ${K.length} keybinding entries, matched chord, when: ${Bs(J.when)}, source: ${yo(J)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${K.length} keybinding entries, matched ${J.command}, when: ${Bs(J.when)}, source: ${yo(J)}.`),{enterChord:!1,leaveChord:J.keypressParts.length>1,commandId:J.command,commandArgs:J.commandArgs,bubble:J.bubble}):(this._log(`\\ From ${K.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(t,r){for(let S=r.length-1;S>=0;S--){const K=r[S];if(jn._contextMatchesRules(t,K.when))return K}return null}static _contextMatchesRules(t,r){return r?r.evaluate(t):!0}}function Bs(ve){return ve?`${ve.serialize()}`:"no when condition"}function yo(ve){return ve.extensionId?ve.isBuiltinExtension?`built-in extension ${ve.extensionId}`:`user extension ${ve.extensionId}`:ve.isDefault?"built-in":"user"}var vo=s(49989);class Lo{constructor(t,r,S,K,J,fe,be){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=t,this.keypressParts=t?ys(t.getDispatchParts()):[],t&&this.keypressParts.length===0&&(this.keypressParts=ys(t.getSingleModifierDispatchParts())),this.bubble=r?r.charCodeAt(0)===94:!1,this.command=this.bubble?r.substr(1):r,this.commandArgs=S,this.when=K,this.isDefault=J,this.extensionId=fe,this.isBuiltinExtension=be}}function ys(ve){const t=[];for(let r=0,S=ve.length;r<S;r++){const K=ve[r];if(!K)return t;t.push(K)}return t}var Ws=s(8030);class lo extends ws.f1{constructor(t,r){if(super(),r.length===0)throw(0,re.b1)("parts");this._os=t,this._parts=r}getLabel(){return Ws.xo.toLabel(this._os,this._parts,t=>this._getLabel(t))}getAriaLabel(){return Ws.X4.toLabel(this._os,this._parts,t=>this._getAriaLabel(t))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:Ws.jC.toLabel(this._os,this._parts,t=>this._getElectronAccelerator(t))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(t=>this._getPart(t))}_getPart(t){return new ws.BQ(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))}getDispatchParts(){return this._parts.map(t=>this._getDispatchPart(t))}getSingleModifierDispatchParts(){return this._parts.map(t=>this._getSingleModifierDispatchPart(t))}}class Do extends lo{constructor(t,r){super(r,t.parts)}_keyCodeToUILabel(t){if(this._os===2)switch(t){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return j.kL.toString(t)}_getLabel(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)}_getAriaLabel(t){return t.isDuplicateModifierCase()?"":j.kL.toString(t.keyCode)}_getElectronAccelerator(t){return j.kL.toElectronAccelerator(t.keyCode)}_getDispatchPart(t){return Do.getDispatchStr(t)}static getDispatchStr(t){if(t.isModifierKey())return null;let r="";return t.ctrlKey&&(r+="ctrl+"),t.shiftKey&&(r+="shift+"),t.altKey&&(r+="alt+"),t.metaKey&&(r+="meta+"),r+=j.kL.toString(t.keyCode),r}_getSingleModifierDispatchPart(t){return t.keyCode===5&&!t.shiftKey&&!t.altKey&&!t.metaKey?"ctrl":t.keyCode===4&&!t.ctrlKey&&!t.altKey&&!t.metaKey?"shift":t.keyCode===6&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey?"alt":t.keyCode===57&&!t.ctrlKey&&!t.shiftKey&&!t.altKey?"meta":null}static _scanCodeToKeyCode(t){const r=j.Vd[t];if(r!==-1)return r;switch(t){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(t){if(!t)return null;if(t instanceof ws.QC)return t;const r=this._scanCodeToKeyCode(t.scanCode);return r===0?null:new ws.QC(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,r)}static resolveUserBinding(t,r){const S=ys(t.map(K=>this._resolveSimpleUserBinding(K)));return S.length>0?[new Do(new ws.X_(S),r)]:[]}}var Eo=s(44349),Jr=s(90535),to=s(10829),Wo=s(40382),Vs=s(20913),Hs=s(95935),Vo=s(22737),zs=s(5606),nr=s(10161),Ho=s(61134),Ts;(function(ve){ve[ve.AVOID=0]="AVOID",ve[ve.ALIGN=1]="ALIGN"})(Ts||(Ts={}));function io(ve,t,r){const S=r.mode===Ts.ALIGN?r.offset:r.offset+r.size,K=r.mode===Ts.ALIGN?r.offset+r.size:r.offset;return r.position===0?t<=ve-S?S:t<=K?K-t:Math.max(ve-t,0):t<=K?K-t:t<=ve-S?S:0}class Zs extends m.JT{constructor(t,r){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=m.JT.None,this.toDisposeOnSetContainer=m.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ei.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,ei.Cp(this.view),this.setContainer(t,r),this._register((0,m.OF)(()=>this.setContainer(null,1)))}setContainer(t,r){var S;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(S=this.shadowRootHostElement)===null||S===void 0||S.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=r!==1,this.useShadowDOM=r===3,this.useShadowDOM){this.shadowRootHostElement=ei.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const J=document.createElement("style");J.textContent=Sr,this.shadowRoot.appendChild(J),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ei.$("slot"))}else this.container.appendChild(this.view);const K=new m.SL;Zs.BUBBLE_UP_EVENTS.forEach(J=>{K.add(ei.mu(this.container,J,fe=>{this.onDOMEvent(fe,!1)}))}),Zs.BUBBLE_DOWN_EVENTS.forEach(J=>{K.add(ei.mu(this.container,J,fe=>{this.onDOMEvent(fe,!0)},!0))}),this.toDisposeOnSetContainer=K}}show(t){var r,S;this.isVisible()&&this.hide(),ei.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ei.$Z(this.view),this.toDisposeOnClean=t.render(this.view)||m.JT.None,this.delegate=t,this.doLayout(),(S=(r=this.delegate).focus)===null||S===void 0||S.call(r)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(ae.gn&&nr.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const t=this.delegate.getAnchor();let r;if(ei.Re(t)){const zt=ei.i(t),Ai=ei.I8(t);r={top:zt.top*Ai,left:zt.left*Ai,width:zt.width*Ai,height:zt.height*Ai}}else r={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const S=ei.w(this.view),K=ei.wn(this.view),J=this.delegate.anchorPosition||0,fe=this.delegate.anchorAlignment||0,be=this.delegate.anchorAxisAlignment||0;let qe,dt;if(be===0){const zt={offset:r.top-window.pageYOffset,size:r.height,position:J===0?0:1},Ai={offset:r.left,size:r.width,position:fe===0?0:1,mode:Ts.ALIGN};qe=io(window.innerHeight,K,zt)+window.pageYOffset,Ho.e.intersects({start:qe,end:qe+K},{start:zt.offset,end:zt.offset+zt.size})&&(Ai.mode=Ts.AVOID),dt=io(window.innerWidth,S,Ai)}else{const zt={offset:r.left,size:r.width,position:fe===0?0:1},Ai={offset:r.top,size:r.height,position:J===0?0:1,mode:Ts.ALIGN};dt=io(window.innerWidth,S,zt),Ho.e.intersects({start:dt,end:dt+S},{start:zt.offset,end:zt.offset+zt.size})&&(Ai.mode=Ts.AVOID),qe=io(window.innerHeight,K,Ai)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(J===0?"bottom":"top"),this.view.classList.add(fe===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const yt=ei.i(this.container);this.view.style.top=`${qe-(this.useFixedPosition?ei.i(this.view).top:yt.top)}px`,this.view.style.left=`${dt-(this.useFixedPosition?ei.i(this.view).left:yt.left)}px`,this.view.style.width="initial"}hide(t){const r=this.delegate;this.delegate=null,r?.onHide&&r.onHide(t),this.toDisposeOnClean.dispose(),ei.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,r){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):r&&!ei.jg(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Zs.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Zs.BUBBLE_DOWN_EVENTS=["click"];const Sr=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var wr=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Ya=function(ve,t){return function(r,S){t(r,S,ve)}};let Co=class extends m.JT{constructor(t){super(),this.layoutService=t,this.currentViewDisposable=m.JT.None,this.container=t.hasContainer?t.container:null,this.contextView=this._register(new Zs(this.container,1)),this.layout(),this._register(t.onDidLayout(()=>this.layout()))}setContainer(t,r){this.contextView.setContainer(t,r||1)}showContextView(t,r,S){r?(r!==this.container||this.shadowRoot!==S)&&(this.container=r,this.setContainer(r,S?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=S,this.contextView.show(t);const K=(0,m.OF)(()=>{this.currentViewDisposable===K&&this.hideContextView()});return this.currentViewDisposable=K,K}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(t){this.contextView.hide(t)}};Co=wr([Ya(0,On)],Co);var Xa=s(15527),Ks=s(55336),yr=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};const Us="**",zo="/",Io="[/\\\\]",Ys="[^/\\\\]",Ja=/\//g;function Lr(ve,t){switch(ve){case 0:return"";case 1:return`${Ys}*?`;default:return`(?:${Io}|${Ys}+${Io}${t?`|${Io}${Ys}+`:""})*?`}}function $s(ve,t){if(!ve)return[];const r=[];let S=!1,K=!1,J="";for(const fe of ve){switch(fe){case t:if(!S&&!K){r.push(J),J="";continue}break;case"{":S=!0;break;case"}":S=!1;break;case"[":K=!0;break;case"]":K=!1;break}J+=fe}return J&&r.push(J),r}function Rs(ve){if(!ve)return"";let t="";const r=$s(ve,zo);if(r.every(S=>S===Us))t=".*";else{let S=!1;r.forEach((K,J)=>{if(K===Us){if(S)return;t+=Lr(2,J===r.length-1)}else{let fe=!1,be="",qe=!1,dt="";for(const yt of K){if(yt!=="}"&&fe){be+=yt;continue}if(qe&&(yt!=="]"||!dt)){let zt;yt==="-"?zt=yt:(yt==="^"||yt==="!")&&!dt?zt="^":yt===zo?zt="":zt=(0,i.ec)(yt),dt+=zt;continue}switch(yt){case"{":fe=!0;continue;case"[":qe=!0;continue;case"}":{const Ai=`(?:${$s(be,",").map(Ki=>Rs(Ki)).join("|")})`;t+=Ai,fe=!1,be="";break}case"]":{t+="["+dt+"]",qe=!1,dt="";break}case"?":t+=Ys;continue;case"*":t+=Lr(1);continue;default:t+=(0,i.ec)(yt)}}J<r.length-1&&(r[J+1]!==Us||J+2<r.length)&&(t+=Io)}S=K===Us})}return t}const hn=/^\*\*\/\*\.[\w\.-]+$/,bo=/^\*\*\/([\w\.-]+)\/?$/,wa=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,So=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Ls=/^\*\*((\/[\w\.-]+)+)\/?$/,sr=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Dr=new ls.z6(1e4),Uo=function(){return!1},Sn=function(){return null};function Vn(ve,t){if(!ve)return Sn;let r;typeof ve!="string"?r=ve.pattern:r=ve,r=r.trim();const S=`${r}_${!!t.trimForExclusions}`;let K=Dr.get(S);if(K)return hs(K,ve);let J;return hn.test(r)?K=ps(r.substr(4),r):(J=bo.exec(Tn(r,t)))?K=Is(J[1],r):(t.trimForExclusions?So:wa).test(r)?K=Gs(r,t):(J=Ls.exec(Tn(r,t)))?K=Er(J[1].substr(1),r,!0):(J=sr.exec(Tn(r,t)))?K=Er(J[1],r,!1):K=qr(r),Dr.set(S,K),hs(K,ve)}function hs(ve,t){if(typeof t=="string")return ve;const r=function(S,K){return(0,Xa.KM)(S,t.base,!ae.IJ)?ve(S.substr(t.base.length+1),K):null};return r.allBasenames=ve.allBasenames,r.allPaths=ve.allPaths,r.basenames=ve.basenames,r.patterns=ve.patterns,r}function Tn(ve,t){return t.trimForExclusions&&ve.endsWith("/**")?ve.substr(0,ve.length-2):ve}function ps(ve,t){return function(r,S){return typeof r=="string"&&r.endsWith(ve)?t:null}}function Is(ve,t){const r=`/${ve}`,S=`\\${ve}`,K=function(fe,be){return typeof fe!="string"?null:be?be===ve?t:null:fe===ve||fe.endsWith(r)||fe.endsWith(S)?t:null},J=[ve];return K.basenames=J,K.patterns=[t],K.allBasenames=J,K}function Gs(ve,t){const r=qa(ve.slice(1,-1).split(",").map(be=>Vn(be,t)).filter(be=>be!==Sn),ve),S=r.length;if(!S)return Sn;if(S===1)return r[0];const K=function(be,qe){for(let dt=0,yt=r.length;dt<yt;dt++)if(r[dt](be,qe))return ve;return null},J=r.find(be=>!!be.allBasenames);J&&(K.allBasenames=J.allBasenames);const fe=r.reduce((be,qe)=>qe.allPaths?be.concat(qe.allPaths):be,[]);return fe.length&&(K.allPaths=fe),K}function Er(ve,t,r){const S=Ks.ir===Ks.KR.sep,K=S?ve:ve.replace(Ja,Ks.ir),J=Ks.ir+K,fe=Ks.KR.sep+ve;let be;return r?be=function(qe,dt){return typeof qe=="string"&&(qe===K||qe.endsWith(J)||!S&&(qe===ve||qe.endsWith(fe)))?t:null}:be=function(qe,dt){return typeof qe=="string"&&(qe===K||!S&&qe===ve)?t:null},be.allPaths=[(r?"*/":"./")+ve],be}function qr(ve){try{const t=new RegExp(`^${Rs(ve)}$`);return function(r){return t.lastIndex=0,typeof r=="string"&&t.test(r)?ve:null}}catch{return Sn}}function Ol(ve,t,r){return!ve||typeof t!="string"?!1:ns(ve)(t,void 0,r)}function ns(ve,t={}){if(!ve)return Uo;if(typeof ve=="string"||Pl(ve)){const r=Vn(ve,t);if(r===Sn)return Uo;const S=function(K,J){return!!r(K,J)};return r.allBasenames&&(S.allBasenames=r.allBasenames),r.allPaths&&(S.allPaths=r.allPaths),S}return Ir(ve,t)}function Pl(ve){const t=ve;return t?typeof t.base=="string"&&typeof t.pattern=="string":!1}function Ir(ve,t){const r=qa(Object.getOwnPropertyNames(ve).map(be=>Fl(be,ve[be],t)).filter(be=>be!==Sn)),S=r.length;if(!S)return Sn;if(!r.some(be=>!!be.requiresSiblings)){if(S===1)return r[0];const be=function(yt,zt){let Ai;for(let Ki=0,cn=r.length;Ki<cn;Ki++){const En=r[Ki](yt,zt);if(typeof En=="string")return En;(0,$.J8)(En)&&(Ai||(Ai=[]),Ai.push(En))}return Ai?yr(this,void 0,void 0,function*(){for(const Ki of Ai){const cn=yield Ki;if(typeof cn=="string")return cn}return null}):null},qe=r.find(yt=>!!yt.allBasenames);qe&&(be.allBasenames=qe.allBasenames);const dt=r.reduce((yt,zt)=>zt.allPaths?yt.concat(zt.allPaths):yt,[]);return dt.length&&(be.allPaths=dt),be}const K=function(be,qe,dt){let yt,zt;for(let Ai=0,Ki=r.length;Ai<Ki;Ai++){const cn=r[Ai];cn.requiresSiblings&&dt&&(qe||(qe=(0,Ks.EZ)(be)),yt||(yt=qe.substr(0,qe.length-(0,Ks.DZ)(be).length)));const En=cn(be,qe,yt,dt);if(typeof En=="string")return En;(0,$.J8)(En)&&(zt||(zt=[]),zt.push(En))}return zt?yr(this,void 0,void 0,function*(){for(const Ai of zt){const Ki=yield Ai;if(typeof Ki=="string")return Ki}return null}):null},J=r.find(be=>!!be.allBasenames);J&&(K.allBasenames=J.allBasenames);const fe=r.reduce((be,qe)=>qe.allPaths?be.concat(qe.allPaths):be,[]);return fe.length&&(K.allPaths=fe),K}function Fl(ve,t,r){if(t===!1)return Sn;const S=Vn(ve,r);if(S===Sn)return Sn;if(typeof t=="boolean")return S;if(t){const K=t.when;if(typeof K=="string"){const J=(fe,be,qe,dt)=>{if(!dt||!S(fe,be))return null;const yt=K.replace("$(basename)",qe),zt=dt(yt);return(0,$.J8)(zt)?zt.then(Ai=>Ai?ve:null):zt?ve:null};return J.requiresSiblings=!0,J}}return S}function qa(ve,t){const r=ve.filter(be=>!!be.basenames);if(r.length<2)return ve;const S=r.reduce((be,qe)=>{const dt=qe.basenames;return dt?be.concat(dt):be},[]);let K;if(t){K=[];for(let be=0,qe=S.length;be<qe;be++)K.push(t)}else K=r.reduce((be,qe)=>{const dt=qe.patterns;return dt?be.concat(dt):be},[]);const J=function(be,qe){if(typeof be!="string")return null;if(!qe){let yt;for(yt=be.length;yt>0;yt--){const zt=be.charCodeAt(yt-1);if(zt===47||zt===92)break}qe=be.substr(yt)}const dt=S.indexOf(qe);return dt!==-1?K[dt]:null};J.basenames=S,J.patterns=K,J.allBasenames=S;const fe=ve.filter(be=>!be.basenames);return fe.push(J),fe}var xr=s(81170),no=s(68801);let co=[],ea=[],or=[];function jo(ve,t=!1){rr(ve,!1,t)}function rr(ve,t,r){const S=el(ve,t);co.push(S),S.userConfigured?or.push(S):ea.push(S),r&&!S.userConfigured&&co.forEach(K=>{K.mime===S.mime||K.userConfigured||(S.extension&&K.extension===S.extension&&console.warn(`Overwriting extension <<${S.extension}>> to now point to mime <<${S.mime}>>`),S.filename&&K.filename===S.filename&&console.warn(`Overwriting filename <<${S.filename}>> to now point to mime <<${S.mime}>>`),S.filepattern&&K.filepattern===S.filepattern&&console.warn(`Overwriting filepattern <<${S.filepattern}>> to now point to mime <<${S.mime}>>`),S.firstline&&K.firstline===S.firstline&&console.warn(`Overwriting firstline <<${S.firstline}>> to now point to mime <<${S.mime}>>`))})}function el(ve,t){return{id:ve.id,mime:ve.mime,filename:ve.filename,extension:ve.extension,filepattern:ve.filepattern,firstline:ve.firstline,userConfigured:t,filenameLowercase:ve.filename?ve.filename.toLowerCase():void 0,extensionLowercase:ve.extension?ve.extension.toLowerCase():void 0,filepatternLowercase:ve.filepattern?ns(ve.filepattern.toLowerCase()):void 0,filepatternOnPath:ve.filepattern?ve.filepattern.indexOf(Ks.KR.sep)>=0:!1}}function tl(){co=co.filter(ve=>ve.userConfigured),ea=[]}function uo(ve,t){return Bl(ve,t).map(r=>r.id)}function Bl(ve,t){let r;if(ve)switch(ve.scheme){case Gi.lg.file:r=ve.fsPath;break;case Gi.lg.data:{r=Hs.Vb.parseMetaData(ve).get(Hs.Vb.META_DATA_LABEL);break}case Gi.lg.vscodeNotebookCell:r=void 0;break;default:r=ve.path}if(!r)return[{id:"unknown",mime:xr.v.unknown}];r=r.toLowerCase();const S=(0,Ks.EZ)(r),K=ya(r,S,or);if(K)return[K,{id:no.bd,mime:xr.v.text}];const J=ya(r,S,ea);if(J)return[J,{id:no.bd,mime:xr.v.text}];if(t){const fe=La(t);if(fe)return[fe,{id:no.bd,mime:xr.v.text}]}return[{id:"unknown",mime:xr.v.unknown}]}function ya(ve,t,r){var S;let K,J,fe;for(let be=r.length-1;be>=0;be--){const qe=r[be];if(t===qe.filenameLowercase){K=qe;break}if(qe.filepattern&&(!J||qe.filepattern.length>J.filepattern.length)){const dt=qe.filepatternOnPath?ve:t;!((S=qe.filepatternLowercase)===null||S===void 0)&&S.call(qe,dt)&&(J=qe)}qe.extension&&(!fe||qe.extension.length>fe.extension.length)&&t.endsWith(qe.extensionLowercase)&&(fe=qe)}if(K)return K;if(J)return J;if(fe)return fe}function La(ve){if((0,i.uS)(ve)&&(ve=ve.substr(1)),ve.length>0)for(let t=co.length-1;t>=0;t--){const r=co[t];if(!r.firstline)continue;const S=ve.match(r.firstline);if(S&&S.length>0)return r}}var Nr=s(23193),ho=s(89872);const ta=Object.prototype.hasOwnProperty,il="vs.editor.nullLanguage";class Wl{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(il,0),this._register(no.bd,1),this._nextLanguageId=2}_register(t,r){this._languageIdToLanguage[r]=t,this._languageToLanguageId.set(t,r)}register(t){if(this._languageToLanguageId.has(t))return;const r=this._nextLanguageId++;this._register(t,r)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||il}}class Tr extends m.JT{constructor(t=!0,r=!1){super(),this._onDidChange=this._register(new z.Q5),this.onDidChange=this._onDidChange.event,Tr.instanceCount++,this._warnOnOverwrite=r,this.languageIdCodec=new Wl,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(no.dQ.onDidChangeLanguages(S=>{this._initializeFromRegistry()})))}dispose(){Tr.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},tl();const t=[].concat(no.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const r of t)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{const S=this._languages[r];S.name&&(this._nameMap[S.name]=S.identifier),S.aliases.forEach(K=>{this._lowercaseNameMap[K.toLowerCase()]=S.identifier}),S.mimetypes.forEach(K=>{this._mimeTypesMap[K]=S.identifier})}),ho.B.as(Nr.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const r=t.id;let S;ta.call(this._languages,r)?S=this._languages[r]:(this.languageIdCodec.register(r),S={identifier:r,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[r]=S),this._mergeLanguage(S,t)}_mergeLanguage(t,r){const S=r.id;let K=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(t.mimetypes.push(...r.mimetypes),K=r.mimetypes[0]),K||(K=`text/x-${S}`,t.mimetypes.push(K)),Array.isArray(r.extensions)){r.configuration?t.extensions=r.extensions.concat(t.extensions):t.extensions=t.extensions.concat(r.extensions);for(const be of r.extensions)jo({id:S,mime:K,extension:be},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(const be of r.filenames)jo({id:S,mime:K,filename:be},this._warnOnOverwrite),t.filenames.push(be);if(Array.isArray(r.filenamePatterns))for(const be of r.filenamePatterns)jo({id:S,mime:K,filepattern:be},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let be=r.firstLine;be.charAt(0)!=="^"&&(be="^"+be);try{const qe=new RegExp(be);(0,i.IO)(qe)||jo({id:S,mime:K,firstline:qe},this._warnOnOverwrite)}catch(qe){(0,re.dL)(qe)}}t.aliases.push(S);let J=null;if(typeof r.aliases<"u"&&Array.isArray(r.aliases)&&(r.aliases.length===0?J=[null]:J=r.aliases),J!==null)for(const be of J)!be||be.length===0||t.aliases.push(be);const fe=J!==null&&J.length>0;if(!(fe&&J[0]===null)){const be=(fe?J[0]:null)||S;(fe||!t.name)&&(t.name=be)}r.configuration&&t.configurationFiles.push(r.configuration),r.icon&&t.icons.push(r.icon)}isRegisteredLanguageId(t){return t?ta.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const r=t.toLowerCase();return ta.call(this._lowercaseNameMap,r)?this._lowercaseNameMap[r]:null}getLanguageIdByMimeType(t){return t&&ta.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,r){return!t&&!r?[]:uo(t,r)}}Tr.instanceCount=0;class Ko extends m.JT{constructor(t=!1){super(),this._onDidEncounterLanguage=this._register(new z.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new z.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,Ko.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Tr(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Ko.instanceCount--,super.dispose()}isRegisteredLanguageId(t){return this._registry.isRegisteredLanguageId(t)}getLanguageIdByLanguageName(t){return this._registry.getLanguageIdByLanguageName(t)}getLanguageIdByMimeType(t){return this._registry.getLanguageIdByMimeType(t)}guessLanguageIdByFilepathOrFirstLine(t,r){const S=this._registry.guessLanguageIdByFilepathOrFirstLine(t,r);return(0,gt.Xh)(S,null)}createById(t){return new xo(this.onDidChange,()=>this._createAndGetLanguageIdentifier(t))}createByFilepathOrFirstLine(t,r){return new xo(this.onDidChange,()=>{const S=this.guessLanguageIdByFilepathOrFirstLine(t,r);return this._createAndGetLanguageIdentifier(S)})}_createAndGetLanguageIdentifier(t){return(!t||!this.isRegisteredLanguageId(t))&&(t=no.bd),this._encounteredLanguages.has(t)||(this._encounteredLanguages.add(t),O.RW.getOrCreate(t),this._onDidEncounterLanguage.fire(t)),t}}Ko.instanceCount=0;class xo{constructor(t,r){this._onDidChangeLanguages=t,this._selector=r,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new z.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var t;const r=this._selector();r!==this.languageId&&(this.languageId=r,(t=this._emitter)===null||t===void 0||t.fire(this.languageId))}}var Da=s(7317),No=s(30747),js=s(10553),ar=s(90317),nl=s(76033),Ea=s(15375),Mr=s(13433),so=s(74741),To=s(73046),fo=s(21212);const lr=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,kr=/(&amp;)?(&amp;)([^\s&])/g;var $o;(function(ve){ve[ve.Right=0]="Right",ve[ve.Left=1]="Left"})($o||($o={}));class Mo extends ar.o{constructor(t,r,S={}){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const K=document.createElement("div");K.classList.add("monaco-menu"),K.setAttribute("role","presentation"),super(K,{orientation:1,actionViewItemProvider:be=>this.doGetActionViewItem(be,S,J),context:S.context,actionRunner:S.actionRunner,ariaLabel:S.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...ae.dz||ae.IJ?[10]:[]],keyDown:!0}}),this.menuElement=K,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new m.SL),this.initializeOrUpdateStyleSheet(t,{}),this._register(js.o.addTarget(K)),(0,ei.nm)(K,ei.tw.KEY_DOWN,be=>{new Qn.y(be).equals(2)&&be.preventDefault()}),S.enableMnemonics&&this.menuDisposables.add((0,ei.nm)(K,ei.tw.KEY_DOWN,be=>{const qe=be.key.toLocaleLowerCase();if(this.mnemonics.has(qe)){ei.zB.stop(be,!0);const dt=this.mnemonics.get(qe);if(dt.length===1&&(dt[0]instanceof sl&&dt[0].container&&this.focusItemByElement(dt[0].container),dt[0].onClick(be)),dt.length>1){const yt=dt.shift();yt&&yt.container&&(this.focusItemByElement(yt.container),dt.push(yt)),this.mnemonics.set(qe,dt)}}})),ae.IJ&&this._register((0,ei.nm)(K,ei.tw.KEY_DOWN,be=>{const qe=new Qn.y(be);qe.equals(14)||qe.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ei.zB.stop(be,!0)):(qe.equals(13)||qe.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ei.zB.stop(be,!0))})),this._register((0,ei.nm)(this.domNode,ei.tw.MOUSE_OUT,be=>{const qe=be.relatedTarget;(0,ei.jg)(qe,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),be.stopPropagation())})),this._register((0,ei.nm)(this.actionsList,ei.tw.MOUSE_OVER,be=>{let qe=be.target;if(!(!qe||!(0,ei.jg)(qe,this.actionsList)||qe===this.actionsList)){for(;qe.parentElement!==this.actionsList&&qe.parentElement!==null;)qe=qe.parentElement;if(qe.classList.contains("action-item")){const dt=this.focusedItem;this.setFocusedItem(qe),dt!==this.focusedItem&&this.updateFocus()}}})),this._register(js.o.addTarget(this.actionsList)),this._register((0,ei.nm)(this.actionsList,js.t.Tap,be=>{let qe=be.initialTarget;if(!(!qe||!(0,ei.jg)(qe,this.actionsList)||qe===this.actionsList)){for(;qe.parentElement!==this.actionsList&&qe.parentElement!==null;)qe=qe.parentElement;if(qe.classList.contains("action-item")){const dt=this.focusedItem;this.setFocusedItem(qe),dt!==this.focusedItem&&this.updateFocus()}}}));const J={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Mr.s$(K,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const fe=this.scrollableElement.getDomNode();fe.style.position="",this._register((0,ei.nm)(K,js.t.Change,be=>{ei.zB.stop(be,!0);const qe=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:qe-be.translationY})})),this._register((0,ei.nm)(fe,ei.tw.MOUSE_UP,be=>{be.preventDefault()})),K.style.maxHeight=`${Math.max(10,window.innerHeight-t.getBoundingClientRect().top-35)}px`,r=r.filter(be=>{var qe;return!((qe=S.submenuIds)===null||qe===void 0)&&qe.has(be.id)?(console.warn(`Found submenu cycle: ${be.id}`),!1):!0}),this.push(r,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(be=>!(be instanceof ia)).forEach((be,qe,dt)=>{be.updatePositionInSet(qe+1,dt.length)})}initializeOrUpdateStyleSheet(t,r){this.styleSheet||((0,ei.OO)(t)?this.styleSheet=(0,ei.dS)(t):(Mo.globalStyleSheet||(Mo.globalStyleSheet=(0,ei.dS)()),this.styleSheet=Mo.globalStyleSheet)),this.styleSheet.textContent=ol(r,(0,ei.OO)(t))}style(t){const r=this.getContainer();this.initializeOrUpdateStyleSheet(r,t);const S=t.foregroundColor?`${t.foregroundColor}`:"",K=t.backgroundColor?`${t.backgroundColor}`:"",J=t.borderColor?`1px solid ${t.borderColor}`:"",fe="5px",be=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";r.style.outline=J,r.style.borderRadius=fe,r.style.color=S,r.style.backgroundColor=K,r.style.boxShadow=be,this.viewItems&&this.viewItems.forEach(qe=>{(qe instanceof Rr||qe instanceof ia)&&qe.style(t)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const r=this.focusedItem;this.setFocusedItem(t),r!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let r=0;r<this.actionsList.children.length;r++){const S=this.actionsList.children[r];if(t===S){this.focusedItem=r;break}}}updateFocus(t){super.updateFocus(t,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,r,S){if(t instanceof so.Z0)return new ia(r.context,t,{icon:!0});if(t instanceof so.wY){const K=new sl(t,t.actions,S,Object.assign(Object.assign({},r),{submenuIds:new Set([...r.submenuIds||[],t.id])}));if(r.enableMnemonics){const J=K.getMnemonic();if(J&&K.isEnabled()){let fe=[];this.mnemonics.has(J)&&(fe=this.mnemonics.get(J)),fe.push(K),this.mnemonics.set(J,fe)}}return K}else{const K={enableMnemonics:r.enableMnemonics,useEventAsContext:r.useEventAsContext};if(r.getKeyBinding){const fe=r.getKeyBinding(t);if(fe){const be=fe.getLabel();be&&(K.keybinding=be)}}const J=new Rr(r.context,t,K);if(r.enableMnemonics){const fe=J.getMnemonic();if(fe&&J.isEnabled()){let be=[];this.mnemonics.has(fe)&&(be=this.mnemonics.get(fe)),be.push(J),this.mnemonics.set(fe,be)}}return J}}}class Rr extends nl.Y{constructor(t,r,S={}){if(S.isMenu=!0,super(r,r,S),this.options=S,this.options.icon=S.icon!==void 0?S.icon:!1,this.options.label=S.label!==void 0?S.label:!0,this.cssClass="",this.options.label&&S.enableMnemonics){const K=this.getAction().label;if(K){const J=lr.exec(K);J&&(this.mnemonic=(J[1]?J[1]:J[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new $.pY(()=>{this.element&&(this._register((0,ei.nm)(this.element,ei.tw.MOUSE_UP,K=>{if(ei.zB.stop(K,!0),No.isFirefox){if(new Da.n(K).rightButton)return;this.onClick(K)}else setTimeout(()=>{this.onClick(K)},0)})),this._register((0,ei.nm)(this.element,ei.tw.CONTEXT_MENU,K=>{ei.zB.stop(K,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=(0,ei.R3)(this.element,(0,ei.$)("a.action-menu-item")),this._action.id===so.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,ei.R3)(this.item,(0,ei.$)("span.menu-item-check"+To.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,ei.R3)(this.item,(0,ei.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,ei.R3)(this.item,(0,ei.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(t,r){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${r}`))}updateLabel(){var t;if(this.label&&this.options.label){(0,ei.PO)(this.label);let r=(0,fo.x$)(this.getAction().label);if(r){const S=Ar(r);this.options.enableMnemonics||(r=S),this.label.setAttribute("aria-label",S.replace(/&&/g,"&"));const K=lr.exec(r);if(K){r=i.YU(r),kr.lastIndex=0;let J=kr.exec(r);for(;J&&J[1];)J=kr.exec(r);const fe=be=>be.replace(/&amp;&amp;/g,"&amp;");J?this.label.append(i.j3(fe(r.substr(0,J.index))," "),(0,ei.$)("u",{"aria-hidden":"true"},J[3]),i.oL(fe(r.substr(J.index+J[0].length))," ")):this.label.innerText=fe(r).trim(),(t=this.item)===null||t===void 0||t.setAttribute("aria-keyshortcuts",(K[1]?K[1]:K[3]).toLocaleLowerCase())}else this.label.innerText=r.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.getAction().checked;this.item.classList.toggle("checked",!!t),t!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused"),r=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,S=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,K=t&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",J=t&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=r?r.toString():"",this.item.style.backgroundColor=S?S.toString():"",this.item.style.outline=K,this.item.style.outlineOffset=J),this.check&&(this.check.style.color=r?r.toString():"")}style(t){this.menuStyle=t,this.applyStyle()}}class sl extends Rr{constructor(t,r,S,K){super(t,t,K),this.submenuActions=r,this.parentData=S,this.submenuOptions=K,this.mysubmenu=null,this.submenuDisposables=this._register(new m.SL),this.mouseOver=!1,this.expandDirection=K&&K.expandDirection!==void 0?K.expandDirection:$o.Right,this.showScheduler=new $.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new $.pY(()=>{this.element&&!(0,ei.jg)((0,ei.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,ei.R3)(this.item,(0,ei.$)("span.submenu-indicator"+To.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,ei.nm)(this.element,ei.tw.KEY_UP,r=>{const S=new Qn.y(r);(S.equals(17)||S.equals(3))&&(ei.zB.stop(r,!0),this.createSubmenu(!0))})),this._register((0,ei.nm)(this.element,ei.tw.KEY_DOWN,r=>{const S=new Qn.y(r);(0,ei.vY)()===this.item&&(S.equals(17)||S.equals(3))&&ei.zB.stop(r,!0)})),this._register((0,ei.nm)(this.element,ei.tw.MOUSE_OVER,r=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,ei.nm)(this.element,ei.tw.MOUSE_LEAVE,r=>{this.mouseOver=!1})),this._register((0,ei.nm)(this.element,ei.tw.FOCUS_OUT,r=>{this.element&&!(0,ei.jg)((0,ei.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(t){ei.zB.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,r,S,K){const J={top:0,left:0};return J.left=io(t.width,r.width,{position:K===$o.Right?0:1,offset:S.left,size:S.width}),J.left>=S.left&&J.left<S.left+S.width&&(S.left+10+r.width<=t.width&&(J.left=S.left+10),S.top+=10,S.height=0),J.top=io(t.height,r.height,{position:0,offset:S.top,size:0}),J.top+r.height===S.top&&J.top+S.height+r.height<=t.height&&(J.top+=S.height),J}createSubmenu(t=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,ei.R3)(this.element,(0,ei.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const r=getComputedStyle(this.parentData.parent.domNode),S=parseFloat(r.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Mo(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new so.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const K=this.element.getBoundingClientRect(),J={top:K.top-S,left:K.left,height:K.height+2*S,width:K.width},fe=this.submenuContainer.getBoundingClientRect(),{top:be,left:qe}=this.calculateSubmenuMenuLayout(new ei.Ro(window.innerWidth,window.innerHeight),ei.Ro.lift(fe),J,this.expandDirection);this.submenuContainer.style.left=`${qe-fe.left}px`,this.submenuContainer.style.top=`${be-fe.top}px`,this.submenuDisposables.add((0,ei.nm)(this.submenuContainer,ei.tw.KEY_UP,dt=>{new Qn.y(dt).equals(15)&&(ei.zB.stop(dt,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,ei.nm)(this.submenuContainer,ei.tw.KEY_DOWN,dt=>{new Qn.y(dt).equals(15)&&ei.zB.stop(dt,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){var r;this.item&&((r=this.item)===null||r===void 0||r.setAttribute("aria-expanded",t))}applyStyle(){var t;if(super.applyStyle(),!this.menuStyle)return;const S=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=S?`${S}`:""),(t=this.parentData.submenu)===null||t===void 0||t.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class ia extends nl.g{style(t){this.label&&(this.label.style.borderBottomColor=t.separatorColor?`${t.separatorColor}`:"")}}function Ar(ve){const t=lr,r=t.exec(ve);if(!r)return ve;const S=!r[1];return ve.replace(t,S?"$2$3":"").trim()}function ol(ve,t){let r=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${(0,Ea.a)(To.lA.menuSelection)}
${(0,Ea.a)(To.lA.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .6em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(t){r+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const S=ve.scrollbarShadow;S&&(r+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${S} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${S} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${S} 6px 6px 6px -6px inset;
				}
			`);const K=ve.scrollbarSliderBackground;K&&(r+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${K};
				}
			`);const J=ve.scrollbarSliderHoverBackground;J&&(r+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${J};
				}
			`);const fe=ve.scrollbarSliderActiveBackground;fe&&(r+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${fe};
				}
			`)}return r}var oo=s(88810);class na{constructor(t,r,S,K,J){this.contextViewService=t,this.telemetryService=r,this.notificationService=S,this.keybindingService=K,this.themeService=J,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const r=t.getActions();if(!r.length)return;this.focusToReturn=document.activeElement;let S;const K=(0,ei.Re)(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:J=>{const fe=t.getMenuClassName?t.getMenuClassName():"";fe&&(J.className+=" "+fe),this.options.blockMouse&&(this.block=J.appendChild((0,ei.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,ei.nm)(this.block,ei.tw.MOUSE_DOWN,dt=>dt.stopPropagation()));const be=new m.SL,qe=t.actionRunner||new so.Wi;return qe.onBeforeRun(this.onActionRun,this,be),qe.onDidRun(this.onDidActionRun,this,be),S=new Mo(J,r,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:qe,getKeyBinding:t.getKeyBinding?t.getKeyBinding:dt=>this.keybindingService.lookupKeybinding(dt.id)}),be.add((0,oo.tj)(S,this.themeService)),S.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,be),S.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,be),be.add((0,ei.nm)(window,ei.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),be.add((0,ei.nm)(window,ei.tw.MOUSE_DOWN,dt=>{if(dt.defaultPrevented)return;const yt=new Da.n(dt);let zt=yt.target;if(!yt.rightButton){for(;zt;){if(zt===J)return;zt=zt.parentElement}this.contextViewService.hideContextView(!0)}})),(0,m.F8)(be,S)},focus:()=>{S?.focus(!!t.autoSelectFirstItem)},onHide:J=>{var fe;(fe=t.onHide)===null||fe===void 0||fe.call(t,!!J),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},K,!!K)}onActionRun(t){this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(t){t.error&&!(0,re.n2)(t.error)&&this.notificationService.error(t.error)}}var Ia=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Go=function(ve,t){return function(r,S){t(r,S,ve)}};let Or=class extends m.JT{constructor(t,r,S,K,J){super(),this._onDidShowContextMenu=new z.Q5,this._onDidHideContextMenu=new z.Q5,this.contextMenuHandler=new na(S,t,r,K,J)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},t),{onHide:r=>{var S;(S=t.onHide)===null||S===void 0||S.call(t,r),this._onDidHideContextMenu.fire()}})),ei._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Or=Ia([Go(0,to.b),Go(1,Y.lT),Go(2,zs.u),Go(3,cs.d),Go(4,bn.XE)],Or);var rl=s(23897),sa;(function(ve){ve[ve.API=0]="API",ve[ve.USER=1]="USER"})(sa||(sa={}));var Qo=s(50988),Pr=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Zo=function(ve,t){return function(r,S){t(r,S,ve)}},Yo=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};let oa=class{constructor(t){this._commandService=t}open(t,r){return Yo(this,void 0,void 0,function*(){if(!(0,Qo.xn)(t,Gi.lg.command))return!1;if(!r?.allowCommands)return!0;typeof t=="string"&&(t=E.o.parse(t));let S=[];try{S=(0,rl.Q)(decodeURIComponent(t.query))}catch{try{S=(0,rl.Q)(t.query)}catch{}}return Array.isArray(S)||(S=[S]),yield this._commandService.executeCommand(t.path,...S),!0})}};oa=Pr([Zo(0,Zn.Hy)],oa);let go=class{constructor(t){this._editorService=t}open(t,r){return Yo(this,void 0,void 0,function*(){typeof t=="string"&&(t=E.o.parse(t));const{selection:S,uri:K}=(0,Qo.xI)(t);return t=K,t.scheme===Gi.lg.file&&(t=(0,Hs.AH)(t)),yield this._editorService.openCodeEditor({resource:t,options:Object.assign({selection:S,source:r?.fromUserGesture?sa.USER:sa.API},r?.editorOptions)},this._editorService.getFocusedCodeEditor(),r?.openToSide),!0})}};go=Pr([Zo(0,_.$)],go);let ko=class{constructor(t,r){this._openers=new ln.S,this._validators=new ln.S,this._resolvers=new ln.S,this._resolvedUriTargets=new ls.Y9(S=>S.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new ln.S,this._defaultExternalOpener={openExternal:S=>Yo(this,void 0,void 0,function*(){return(0,Qo.Gs)(S,Gi.lg.http,Gi.lg.https)?ei.V3(S):window.location.href=S,!0})},this._openers.push({open:(S,K)=>Yo(this,void 0,void 0,function*(){return K?.openExternal||(0,Qo.Gs)(S,Gi.lg.mailto,Gi.lg.http,Gi.lg.https,Gi.lg.vsls)?(yield this._doOpenExternal(S,K),!0):!1})}),this._openers.push(new oa(r)),this._openers.push(new go(t))}registerOpener(t){return{dispose:this._openers.unshift(t)}}registerValidator(t){return{dispose:this._validators.push(t)}}registerExternalUriResolver(t){return{dispose:this._resolvers.push(t)}}setDefaultExternalOpener(t){this._defaultExternalOpener=t}registerExternalOpener(t){return{dispose:this._externalOpeners.push(t)}}open(t,r){var S;return Yo(this,void 0,void 0,function*(){const K=typeof t=="string"?E.o.parse(t):t,J=(S=this._resolvedUriTargets.get(K))!==null&&S!==void 0?S:t;for(const fe of this._validators)if(!(yield fe.shouldOpen(J,r)))return!1;for(const fe of this._openers)if(yield fe.open(t,r))return!0;return!1})}resolveExternalUri(t,r){return Yo(this,void 0,void 0,function*(){for(const S of this._resolvers)try{const K=yield S.resolveExternalUri(t,r);if(K)return this._resolvedUriTargets.has(K.resolved)||this._resolvedUriTargets.set(K.resolved,t),K}catch{}throw new Error("Could not resolve external URI: "+t.toString())})}_doOpenExternal(t,r){return Yo(this,void 0,void 0,function*(){const S=typeof t=="string"?E.o.parse(t):t;let K;try{K=(yield this.resolveExternalUri(S,r)).resolved}catch{K=S}let J;if(typeof t=="string"&&S.toString()===K.toString()?J=t:J=encodeURI(K.toString(!0)),r?.allowContributedOpeners){const fe=typeof r?.allowContributedOpeners=="string"?r?.allowContributedOpeners:void 0;for(const be of this._externalOpeners)if(yield be.openExternal(J,{sourceUri:S,preferredOpenerId:fe},l.T.None))return!0}return this._defaultExternalOpener.openExternal(J,{sourceUri:S},l.T.None)})}dispose(){this._validators.clear()}};ko=Pr([Zo(0,_.$),Zo(1,Zn.Hy)],ko);var ds=s(98674),Fr=s(8625),zn=s(73910),Vl=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},cr=function(ve,t){return function(r,S){t(r,S,ve)}};class ra extends m.JT{constructor(t){super(),this.model=t,this._markersData=new Map,this._register((0,m.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(t,r){const S=[...this._markersData.keys()];this._markersData.clear();const K=this.model.deltaDecorations(S,r);for(let J=0;J<K.length;J++)this._markersData.set(K[J],t[J]);return S.length!==0||K.length!==0}getMarker(t){return this._markersData.get(t.id)}}let aa=class extends m.JT{constructor(t,r){super(),this._markerService=r,this._onDidChangeMarker=this._register(new z.Q5),this._markerDecorations=new ls.Y9,t.getModels().forEach(S=>this._onModelAdded(S)),this._register(t.onModelAdded(this._onModelAdded,this)),this._register(t.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(t=>t.dispose()),this._markerDecorations.clear()}getMarker(t,r){const S=this._markerDecorations.get(t);return S&&S.getMarker(r)||null}_handleMarkerChange(t){t.forEach(r=>{const S=this._markerDecorations.get(r);S&&this._updateDecorations(S)})}_onModelAdded(t){const r=new ra(t);this._markerDecorations.set(t.uri,r),this._updateDecorations(r)}_onModelRemoved(t){var r;const S=this._markerDecorations.get(t.uri);S&&(S.dispose(),this._markerDecorations.delete(t.uri)),(t.uri.scheme===Gi.lg.inMemory||t.uri.scheme===Gi.lg.internal||t.uri.scheme===Gi.lg.vscode)&&((r=this._markerService)===null||r===void 0||r.read({resource:t.uri}).map(K=>K.owner).forEach(K=>this._markerService.remove(K,[t.uri])))}_updateDecorations(t){const r=this._markerService.read({resource:t.model.uri,take:500}),S=r.map(K=>({range:this._createDecorationRange(t.model,K),options:this._createDecorationOption(K)}));t.update(r,S)&&this._onDidChangeMarker.fire(t.model)}_createDecorationRange(t,r){let S=B.e.lift(r);if(r.severity===ds.ZL.Hint&&!this._hasMarkerTag(r,1)&&!this._hasMarkerTag(r,2)&&(S=S.setEndPosition(S.startLineNumber,S.startColumn+2)),S=t.validateRange(S),S.isEmpty()){const K=t.getLineLastNonWhitespaceColumn(S.startLineNumber)||t.getLineMaxColumn(S.startLineNumber);if(K===1||S.endColumn>=K)return S;const J=t.getWordAtPosition(S.getStartPosition());J&&(S=new B.e(S.startLineNumber,J.startColumn,S.endLineNumber,J.endColumn))}else if(r.endColumn===Number.MAX_VALUE&&r.startColumn===1&&S.startLineNumber===S.endLineNumber){const K=t.getLineFirstNonWhitespaceColumn(r.startLineNumber);K<S.endColumn&&(S=new B.e(S.startLineNumber,K,S.endLineNumber,S.endColumn),r.startColumn=K)}return S}_createDecorationOption(t){let r,S,K,J,fe;switch(t.severity){case ds.ZL.Hint:this._hasMarkerTag(t,2)?r=void 0:this._hasMarkerTag(t,1)?r="squiggly-unnecessary":r="squiggly-hint",K=0;break;case ds.ZL.Warning:r="squiggly-warning",S=(0,bn.EN)(Fr.Re),K=20,fe={color:(0,bn.EN)(zn.Ivo),position:T.F5.Inline};break;case ds.ZL.Info:r="squiggly-info",S=(0,bn.EN)(Fr.eS),K=10;break;case ds.ZL.Error:default:r="squiggly-error",S=(0,bn.EN)(Fr.lK),K=30,fe={color:(0,bn.EN)(zn.Gj_),position:T.F5.Inline};break}return t.tags&&(t.tags.indexOf(1)!==-1&&(J="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(J="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:r,showIfCollapsed:!0,overviewRuler:{color:S,position:T.sh.Right},minimap:fe,zIndex:K,inlineClassName:J}}_hasMarkerTag(t,r){return t.tags?t.tags.indexOf(r)>=0:!1}};aa=Vl([cr(0,V.q),cr(1,ds.lT)],aa);var xa=s(36357),Hl=s(51200),al=s(16830),dr=s(31106),ll=s(56811),Ro=s(41264);const cl={buttonBackground:Ro.Il.fromHex("#0E639C"),buttonHoverBackground:Ro.Il.fromHex("#006BB3"),buttonSeparator:Ro.Il.white,buttonForeground:Ro.Il.white};class la extends m.JT{constructor(t,r){super(),this._onDidClick=this._register(new z.Q5),this.options=r||Object.create(null),(0,Wn.jB)(this.options,cl,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(js.o.addTarget(this._element)),[ei.tw.CLICK,js.t.Tap].forEach(S=>{this._register((0,ei.nm)(this._element,S,K=>{if(!this.enabled){ei.zB.stop(K);return}this._onDidClick.fire(K)}))}),this._register((0,ei.nm)(this._element,ei.tw.KEY_DOWN,S=>{const K=new Qn.y(S);let J=!1;this.enabled&&(K.equals(3)||K.equals(10))?(this._onDidClick.fire(S),J=!0):K.equals(9)&&(this._element.blur(),J=!0),J&&ei.zB.stop(K,!0)})),this._register((0,ei.nm)(this._element,ei.tw.MOUSE_OVER,S=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,ei.nm)(this._element,ei.tw.MOUSE_OUT,S=>{this.applyStyles()})),this.focusTracker=this._register((0,ei.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,r;this.options.secondary?(r=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(r=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const S=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=r,this._element.style.backgroundColor=t,this._element.style.borderWidth=S?"1px":"",this._element.style.borderStyle=S?"solid":"",this._element.style.borderColor=S}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,ei.mc)(this._element,...(0,ll.T)(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var Br=s(85207);const Dt="done",e="active",o="infinite",f="infinite-long-running",A="discrete",U={progressBarBackground:Ro.Il.fromHex("#0E70C0")};class de extends m.JT{constructor(t,r){super(),this.options=r||Object.create(null),(0,Wn.jB)(this.options,U,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new $.pY(()=>(0,ei.$Z)(this.element),0)),this.longRunningScheduler=this._register(new $.pY(()=>this.infiniteLongRunning(),de.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(t)}create(t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(e,o,f,A),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(t){return this.element.classList.add(Dt),this.element.classList.contains(o)?(this.bit.style.opacity="0",t?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",t?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(A,Dt,f),this.element.classList.add(e,o),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(f)}getContainer(){return this.element}style(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const t=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=t}}}de.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var Se=s(44742);const He={},Qe=new Se.R("quick-input-button-icon-");function st(ve){if(!ve)return;let t;const r=ve.dark.toString();return He[r]?t=He[r]:(t=Qe.nextId(),ei.fk(`.${t}, .hc-light .${t}`,`background-image: ${ei.wY(ve.light||ve.dark)}`),ei.fk(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${ei.wY(ve.dark)}`),He[r]=t),t}var mt=s(67746),Pt=s(97862);const At=ei.$;class ti extends m.JT{constructor(t){super(),this.parent=t,this.onKeyDown=r=>ei.nm(this.inputBox.inputElement,ei.tw.KEY_DOWN,S=>{r(new Qn.y(S))}),this.onMouseDown=r=>ei.nm(this.inputBox.inputElement,ei.tw.MOUSE_DOWN,S=>{r(new Da.n(S))}),this.onDidChange=r=>this.inputBox.onDidChange(r),this.container=ei.R3(this.parent,At(".quick-input-box")),this.inputBox=this._register(new Pt.W(this.container,void 0))}get value(){return this.inputBox.value}set value(t){this.inputBox.value=t}select(t=null){this.inputBox.select(t)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(t){this.inputBox.setAriaLabel(t)}get password(){return this.inputBox.inputElement.type==="password"}set password(t){this.inputBox.inputElement.type=t?"password":"text"}setAttribute(t,r){this.inputBox.inputElement.setAttribute(t,r)}removeAttribute(t){this.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===k.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:t===k.Z.Info?1:t===k.Z.Warning?2:3,content:""})}stylesForType(t){return this.inputBox.stylesForType(t===k.Z.Info?1:t===k.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(t){this.inputBox.style(t)}}var gi=s(93923);const vi=ei.$;class Li{constructor(t,r,S){this.os=r,this.keyElements=new Set,this.options=S||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=ei.R3(t,vi(".monaco-keybinding")),this.didEverRender=!1,t.appendChild(this.domNode)}get element(){return this.domNode}set(t,r){this.didEverRender&&this.keybinding===t&&Li.areSame(this.matches,r)||(this.keybinding=t,this.matches=r,this.render())}render(){if(this.clear(),this.keybinding){const[t,r]=this.keybinding.getParts();t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),r&&(ei.R3(this.domNode,vi("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,r,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){ei.PO(this.domNode),this.keyElements.clear()}renderPart(t,r,S){const K=Ws.xo.modifierLabels[this.os];r.ctrlKey&&this.renderKey(t,K.ctrlKey,!!S?.ctrlKey,K.separator),r.shiftKey&&this.renderKey(t,K.shiftKey,!!S?.shiftKey,K.separator),r.altKey&&this.renderKey(t,K.altKey,!!S?.altKey,K.separator),r.metaKey&&this.renderKey(t,K.metaKey,!!S?.metaKey,K.separator);const J=r.keyLabel;J&&this.renderKey(t,J,!!S?.keyCode,"")}renderKey(t,r,S,K){ei.R3(t,this.createKeyElement(r,S?".highlight":"")),K&&ei.R3(t,vi("span.monaco-keybinding-key-separator",void 0,K))}renderUnbound(t){ei.R3(t,this.createKeyElement((0,c.NC)("unbound","Unbound")))}createKeyElement(t,r=""){const S=vi("span.monaco-keybinding-key"+r,void 0,t);return this.keyElements.add(S),S}style(t){this.labelBackground=t.keybindingLabelBackground,this.labelForeground=t.keybindingLabelForeground,this.labelBorder=t.keybindingLabelBorder,this.labelBottomBorder=t.keybindingLabelBottomBorder,this.labelShadow=t.keybindingLabelShadow,this.applyStyles()}applyStyles(){var t;if(this.element){for(const r of this.keyElements)this.labelBackground&&(r.style.backgroundColor=(t=this.labelBackground)===null||t===void 0?void 0:t.toString()),this.labelBorder&&(r.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(r.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(r.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(t,r){return t===r||!t&&!r?!0:!!t&&!!r&&(0,Wn.fS)(t.firstPart,r.firstPart)&&(0,Wn.fS)(t.chordPart,r.chordPart)}}const Wi=new $.Ue(()=>{const ve=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:ve,collatorIsNumeric:ve.resolvedOptions().numeric}}),Mi=new $.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),on=new $.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function qi(ve,t,r=!1){const S=ve||"",K=t||"",J=Wi.value.collator.compare(S,K);return Wi.value.collatorIsNumeric&&J===0&&S!==K?S<K?-1:1:J}function un(ve,t,r){const S=ve.toLowerCase(),K=t.toLowerCase(),J=fn(ve,t,r);if(J)return J;const fe=S.endsWith(r),be=K.endsWith(r);if(fe!==be)return fe?-1:1;const qe=qi(S,K);return qe!==0?qe:S.localeCompare(K)}function fn(ve,t,r){const S=ve.toLowerCase(),K=t.toLowerCase(),J=S.startsWith(r),fe=K.startsWith(r);if(J!==fe)return J?-1:1;if(J&&fe){if(S.length<K.length)return-1;if(S.length>K.length)return 1}return 0}var tn=s(49898),wn=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Fn=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};const pn=ei.$;class as{constructor(t){this.hidden=!1,this._onChecked=new z.Q5,this.onChecked=this._onChecked.event,Object.assign(this,t)}get checked(){return!!this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire(t))}dispose(){this._onChecked.dispose()}}class Yn{get templateId(){return Yn.ID}renderTemplate(t){const r=Object.create(null);r.toDisposeElement=[],r.toDisposeTemplate=[],r.entry=ei.R3(t,pn(".quick-input-list-entry"));const S=ei.R3(r.entry,pn("label.quick-input-list-label"));r.toDisposeTemplate.push(ei.mu(S,ei.tw.CLICK,dt=>{r.checkbox.offsetParent||dt.preventDefault()})),r.checkbox=ei.R3(S,pn("input.quick-input-list-checkbox")),r.checkbox.type="checkbox",r.toDisposeTemplate.push(ei.mu(r.checkbox,ei.tw.CHANGE,dt=>{r.element.checked=r.checkbox.checked}));const K=ei.R3(S,pn(".quick-input-list-rows")),J=ei.R3(K,pn(".quick-input-list-row")),fe=ei.R3(K,pn(".quick-input-list-row"));r.label=new gi.g(J,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const be=ei.R3(J,pn(".quick-input-list-entry-keybinding"));r.keybinding=new Li(be,ae.OS);const qe=ei.R3(fe,pn(".quick-input-list-label-meta"));return r.detail=new gi.g(qe,{supportHighlights:!0,supportIcons:!0}),r.separator=ei.R3(r.entry,pn(".quick-input-list-separator")),r.actionBar=new ar.o(r.entry),r.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),r.toDisposeTemplate.push(r.actionBar),r}renderElement(t,r,S){S.toDisposeElement=(0,m.B9)(S.toDisposeElement),S.element=t,S.checkbox.checked=t.checked,S.toDisposeElement.push(t.onChecked(dt=>S.checkbox.checked=dt));const{labelHighlights:K,descriptionHighlights:J,detailHighlights:fe}=t,be=Object.create(null);be.matches=K||[],be.descriptionTitle=t.saneDescription,be.descriptionMatches=J||[],be.extraClasses=t.item.iconClasses,be.italic=t.item.italic,be.strikethrough=t.item.strikethrough,S.label.setLabel(t.saneLabel,t.saneDescription,be),S.keybinding.set(t.item.keybinding),t.saneDetail&&S.detail.setLabel(t.saneDetail,void 0,{matches:fe,title:t.saneDetail}),t.separator&&t.separator.label?(S.separator.textContent=t.separator.label,S.separator.style.display=""):S.separator.style.display="none",S.entry.classList.toggle("quick-input-list-separator-border",!!t.separator),S.actionBar.clear();const qe=t.item.buttons;qe&&qe.length?(S.actionBar.push(qe.map((dt,yt)=>{let zt=dt.iconClass||(dt.iconPath?st(dt.iconPath):void 0);dt.alwaysVisible&&(zt=zt?`${zt} always-visible`:"always-visible");const Ai=new so.aU(`id-${yt}`,"",zt,!0,()=>Fn(this,void 0,void 0,function*(){t.fireButtonTriggered({button:dt,item:t.item})}));return Ai.tooltip=dt.tooltip||"",Ai}),{icon:!0,label:!1}),S.entry.classList.add("has-actions")):S.entry.classList.remove("has-actions")}disposeElement(t,r,S){S.toDisposeElement=(0,m.B9)(S.toDisposeElement)}disposeTemplate(t){t.toDisposeElement=(0,m.B9)(t.toDisposeElement),t.toDisposeTemplate=(0,m.B9)(t.toDisposeTemplate)}}Yn.ID="listelement";class gs{getHeight(t){return t.saneDetail?44:22}getTemplateId(t){return Yn.ID}}var Ln;(function(ve){ve[ve.First=1]="First",ve[ve.Second=2]="Second",ve[ve.Last=3]="Last",ve[ve.Next=4]="Next",ve[ve.Previous=5]="Previous",ve[ve.NextPage=6]="NextPage",ve[ve.PreviousPage=7]="PreviousPage"})(Ln||(Ln={}));class bs{constructor(t,r,S){this.parent=t,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new z.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new z.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new z.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new z.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new z.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new z.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new z.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=r,this.container=ei.R3(this.parent,pn(".quick-input-list"));const K=new gs,J=new Hc;this.list=S.createList("QuickInput",this.container,K,[new Yn],{identityProvider:{getId:fe=>fe.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:J}),this.list.getHTMLElement().id=r,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(fe=>{const be=new Qn.y(fe);switch(be.keyCode){case 10:this.toggleCheckbox();break;case 31:(ae.dz?fe.metaKey:fe.ctrlKey)&&this.list.setFocus((0,gt.w6)(this.list.length));break;case 16:{const qe=this.list.getFocus();qe.length===1&&qe[0]===0&&this._onLeave.fire();break}case 18:{const qe=this.list.getFocus();qe.length===1&&qe[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(be)})),this.disposables.push(this.list.onMouseDown(fe=>{fe.browserEvent.button!==2&&fe.browserEvent.preventDefault()})),this.disposables.push(ei.nm(this.container,ei.tw.CLICK,fe=>{(fe.x||fe.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(fe=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(fe=>{typeof fe.index=="number"&&(fe.browserEvent.preventDefault(),this.list.setSelection([fe.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return z.ju.map(this.list.onDidChangeFocus,t=>t.elements.map(r=>r.item))}get onDidChangeSelection(){return z.ju.map(this.list.onDidChangeSelection,t=>({items:t.elements.map(r=>r.item),event:t.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(t,r=!0){for(let S=0,K=t.length;S<K;S++){const J=t[S];if(!J.hidden)if(J.checked)r=!0;else return!1}return r}getCheckedCount(){let t=0;const r=this.elements;for(let S=0,K=r.length;S<K;S++)r[S].checked&&t++;return t}getVisibleCount(){let t=0;const r=this.elements;for(let S=0,K=r.length;S<K;S++)r[S].hidden||t++;return t}setAllVisibleChecked(t){try{this._fireCheckedEvents=!1,this.elements.forEach(r=>{r.hidden||(r.checked=t)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(t){this.elementDisposables=(0,m.B9)(this.elementDisposables);const r=S=>this.fireButtonTriggered(S);this.inputElements=t,this.elements=t.reduce((S,K,J)=>{var fe,be,qe;if(K.type!=="separator"){const dt=J&&t[J-1],yt=K.label&&K.label.replace(/\r?\n/g," "),zt=(0,fo.Ho)(yt).text.trim(),Ai=K.meta&&K.meta.replace(/\r?\n/g," "),Ki=K.description&&K.description.replace(/\r?\n/g," "),cn=K.detail&&K.detail.replace(/\r?\n/g," "),En=K.ariaLabel||[yt,Ki,cn].map($n=>(0,To.JL)($n)).filter($n=>!!$n).join(", "),Rn=this.parent.classList.contains("show-checkboxes");S.push(new as({hasCheckbox:Rn,index:J,item:K,saneLabel:yt,saneSortLabel:zt,saneMeta:Ai,saneAriaLabel:En,saneDescription:Ki,saneDetail:cn,labelHighlights:(fe=K.highlights)===null||fe===void 0?void 0:fe.label,descriptionHighlights:(be=K.highlights)===null||be===void 0?void 0:be.description,detailHighlights:(qe=K.highlights)===null||qe===void 0?void 0:qe.detail,checked:!1,separator:dt&&dt.type==="separator"?dt:void 0,fireButtonTriggered:r}))}return S},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(S=>S.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((S,K,J)=>(S.set(K.item,J),S),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(t=>t.item)}setFocusedElements(t){if(this.list.setFocus(t.filter(r=>this.elementsToIndexes.has(r)).map(r=>this.elementsToIndexes.get(r))),t.length>0){const r=this.list.getFocus()[0];typeof r=="number"&&this.list.reveal(r)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){this.list.setSelection(t.filter(r=>this.elementsToIndexes.has(r)).map(r=>this.elementsToIndexes.get(r)))}getCheckedElements(){return this.elements.filter(t=>t.checked).map(t=>t.item)}setCheckedElements(t){try{this._fireCheckedEvents=!1;const r=new Set;for(const S of t)r.add(S);for(const S of this.elements)S.checked=r.has(S.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(t){this.list.getHTMLElement().style.pointerEvents=t?"":"none"}focus(t){if(!this.list.length)return;switch(t===Ln.Next&&this.list.getFocus()[0]===this.list.length-1&&(t=Ln.First),t===Ln.Previous&&this.list.getFocus()[0]===0&&(t=Ln.Last),t===Ln.Second&&this.list.length<2&&(t=Ln.First),t){case Ln.First:this.list.focusFirst();break;case Ln.Second:this.list.focusNth(1);break;case Ln.Last:this.list.focusLast();break;case Ln.Next:this.list.focusNext();break;case Ln.Previous:this.list.focusPrevious();break;case Ln.NextPage:this.list.focusNextPage();break;case Ln.PreviousPage:this.list.focusPreviousPage();break}const r=this.list.getFocus()[0];typeof r=="number"&&this.list.reveal(r)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(t){this.list.getHTMLElement().style.maxHeight=t?`calc(${Math.floor(t/44)*44}px)`:"",this.list.layout()}filter(t){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const r=t;if(t=t.trim(),!t||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(K=>{K.labelHighlights=void 0,K.descriptionHighlights=void 0,K.detailHighlights=void 0,K.hidden=!1;const J=K.index&&this.inputElements[K.index-1];K.separator=J&&J.type==="separator"?J:void 0});else{let K;this.elements.forEach(J=>{let fe;this.matchOnLabelMode==="fuzzy"?fe=this.matchOnLabel?(0,ie.f6)((0,fo.Gt)(t,(0,fo.Ho)(J.saneLabel))):void 0:fe=this.matchOnLabel?(0,ie.f6)(Ss(r,(0,fo.Ho)(J.saneLabel))):void 0;const be=this.matchOnDescription?(0,ie.f6)((0,fo.Gt)(t,(0,fo.Ho)(J.saneDescription||""))):void 0,qe=this.matchOnDetail?(0,ie.f6)((0,fo.Gt)(t,(0,fo.Ho)(J.saneDetail||""))):void 0,dt=this.matchOnMeta?(0,ie.f6)((0,fo.Gt)(t,(0,fo.Ho)(J.saneMeta||""))):void 0;if(fe||be||qe||dt?(J.labelHighlights=fe,J.descriptionHighlights=be,J.detailHighlights=qe,J.hidden=!1):(J.labelHighlights=void 0,J.descriptionHighlights=void 0,J.detailHighlights=void 0,J.hidden=!J.item.alwaysShow),J.separator=void 0,!this.sortByLabel){const yt=J.index&&this.inputElements[J.index-1];K=yt&&yt.type==="separator"?yt:K,K&&!J.hidden&&(J.separator=K,K=void 0)}})}const S=this.elements.filter(K=>!K.hidden);if(this.sortByLabel&&t){const K=t.toLowerCase();S.sort((J,fe)=>As(J,fe,K))}return this.elementsToIndexes=S.reduce((K,J,fe)=>(K.set(J.item,fe),K),new Map),this.list.splice(0,this.list.length,S),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(S.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const t=this.list.getFocusedElements(),r=this.allVisibleChecked(t);for(const S of t)S.checked=!r}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(t){this.container.style.display=t?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,m.B9)(this.elementDisposables),this.disposables=(0,m.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(t){this._onButtonTriggered.fire(t)}style(t){this.list.style(t)}}wn([tn.H],bs.prototype,"onDidChangeFocus",null),wn([tn.H],bs.prototype,"onDidChangeSelection",null);function Ss(ve,t){const{text:r,iconOffsets:S}=t;if(!S||S.length===0)return _s(ve,r);const K=(0,i.j3)(r," "),J=r.length-K.length,fe=_s(ve,K);if(fe)for(const be of fe){const qe=S[be.start+J]+J;be.start+=qe,be.end+=qe}return fe}function _s(ve,t){const r=t.toLowerCase().indexOf(ve.toLowerCase());return r!==-1?[{start:r,end:r+ve.length}]:null}function As(ve,t,r){const S=ve.labelHighlights||[],K=t.labelHighlights||[];return S.length&&!K.length?-1:!S.length&&K.length?1:S.length===0&&K.length===0?0:un(ve.saneSortLabel,t.saneSortLabel,r)}class Hc{getWidgetAriaLabel(){return(0,c.NC)("quickInput","Quick Input")}getAriaLabel(t){var r;return!((r=t.separator)===null||r===void 0)&&r.label?`${t.saneAriaLabel}, ${t.separator.label}`:t.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(t){return t.hasCheckbox?"checkbox":"option"}isChecked(t){if(t.hasCheckbox)return{value:t.checked,onDidChange:t.onChecked}}}var zc=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};const Xs=ei.$,zl={iconClass:To.lA.quickInputBack.classNames,tooltip:(0,c.NC)("quickInput.back","Back"),handle:-1};class dl extends m.JT{constructor(t){super(),this.ui=t,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=dl.noPromptMessage,this._severity=k.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new z.Q5),this.onDidHideEmitter=this._register(new z.Q5),this.onDisposeEmitter=this._register(new z.Q5),this.visibleDisposables=this._register(new m.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){const r=this._ignoreFocusOut!==t&&!ae.gn;this._ignoreFocusOut=t&&!ae.gn,r&&this.update()}get buttons(){return this._buttons}set buttons(t){this._buttons=t,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{this.buttons.indexOf(t)!==-1&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(t=mt.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}update(){if(!this.visible)return;const t=this.getTitle();t&&this.ui.title.textContent!==t?this.ui.title.textContent=t:!t&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const r=this.getDescription();if(this.ui.description1.textContent!==r&&(this.ui.description1.textContent=r),this.ui.description2.textContent!==r&&(this.ui.description2.textContent=r),this.busy&&!this.busyDelay&&(this.busyDelay=new $._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const K=this.buttons.filter(fe=>fe===zl);this.ui.leftActionBar.push(K.map((fe,be)=>{const qe=new so.aU(`id-${be}`,"",fe.iconClass||st(fe.iconPath),!0,()=>zc(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(fe)}));return qe.tooltip=fe.tooltip||"",qe}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const J=this.buttons.filter(fe=>fe!==zl);this.ui.rightActionBar.push(J.map((fe,be)=>{const qe=new so.aU(`id-${be}`,"",fe.iconClass||st(fe.iconPath),!0,()=>zc(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(fe)}));return qe.tooltip=fe.tooltip||"",qe}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const S=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==S&&(this._lastValidationMessage=S,ei.mc(this.ui.message,...(0,ll.T)(S))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,c.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==k.Z.Ignore){const r=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=r.foreground?`${r.foreground}`:"",this.ui.message.style.backgroundColor=r.background?`${r.background}`:"",this.ui.message.style.border=r.border?`1px solid ${r.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}dl.noPromptMessage=(0,c.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class ur extends dl{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new z.Q5),this.onWillAcceptEmitter=this._register(new z.Q5),this.onDidAcceptEmitter=this._register(new z.Q5),this.onDidCustomEmitter=this._register(new z.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?mt.jG.NONE:mt.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new z.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new z.Q5),this.onDidTriggerItemButtonEmitter=this._register(new z.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=t=>t,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(t){this._quickNavigate=t,this.update()}get value(){return this._value}set value(t){this.doSetValue(t)}doSetValue(t,r){this._value!==t&&(this._value=t,r||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(t){this._ariaLabel=t,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(t){this.ui.list.scrollTop=t}set items(t){this._items=t,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(t){this._canSelectMany=t,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(t){this._canAcceptInBackground=t}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(t){this._matchOnLabelMode=t,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(t){this._autoFocusOnList=t,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(t){this._keepScrollPosition=t}get itemActivation(){return this._itemActivation}set itemActivation(t){this._itemActivation=t}get activeItems(){return this._activeItems}set activeItems(t){this._activeItems=t,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(t){this._selectedItems=t,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?mt.X5:this.ui.keyMods}set valueSelection(t){this._valueSelection=t,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(t){this._customButton=t,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(t){this._customButtonLabel=t,this.update()}get customHover(){return this._customButtonHover}set customHover(t){this._customButtonHover=t,this.update()}get ok(){return this._ok}set ok(t){this._ok=t,this.update()}get hideInput(){return!!this._hideInput}set hideInput(t){this._hideInput=t,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Ln.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{this.doSetValue(t,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(t=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(t=>{switch(t.keyCode){case 18:this.ui.list.focus(Ln.Next),this.canSelectMany&&this.ui.list.domFocus(),ei.zB.stop(t,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Ln.Previous):this.ui.list.focus(Ln.Last),this.canSelectMany&&this.ui.list.domFocus(),ei.zB.stop(t,!0);break;case 12:this.ui.list.focus(Ln.NextPage),this.canSelectMany&&this.ui.list.domFocus(),ei.zB.stop(t,!0);break;case 11:this.ui.list.focus(Ln.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),ei.zB.stop(t,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(Ln.First),ei.zB.stop(t,!0));break;case 13:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(Ln.Last),ei.zB.stop(t,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(t=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,gt.fS)(t,this._activeItems,(r,S)=>r===S)||(this._activeItems=t,this.onDidChangeActiveEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:t,event:r})=>{if(this.canSelectMany){t.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,gt.fS)(t,this._selectedItems,(S,K)=>S===K)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t),t.length&&this.handleAccept(r instanceof MouseEvent&&r.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(t=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,gt.fS)(t,this._selectedItems,(r,S)=>r===S)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(t=>this.onDidTriggerItemButtonEmitter.fire(t))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(t){let r=!1;this.onWillAcceptEmitter.fire({veto:()=>r=!0}),r||this.onDidAcceptEmitter.fire({inBackground:t})}registerQuickNavigation(){return ei.nm(this.ui.container,ei.tw.KEY_UP,t=>{if(this.canSelectMany||!this._quickNavigate)return;const r=new Qn.y(t),S=r.keyCode;this._quickNavigate.keybindings.some(fe=>{const[be,qe]=fe.getParts();return qe?!1:be.shiftKey&&S===4?!(r.ctrlKey||r.altKey||r.metaKey):!!(be.altKey&&S===6||be.ctrlKey&&S===5||be.metaKey&&S===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const t=this.keepScrollPosition?this.scrollTop:0,r=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",r&&!this.description);const S={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!r,progressBar:!r,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(S),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let K=this.ariaLabel;if(K||(K=this.placeholder||ur.DEFAULT_ARIA_LABEL,this.title&&(K+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==K&&(this.ui.inputBox.ariaLabel=K),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case mt.jG.NONE:this._itemActivation=mt.jG.FIRST;break;case mt.jG.SECOND:this.ui.list.focus(Ln.Second),this._itemActivation=mt.jG.FIRST;break;case mt.jG.LAST:this.ui.list.focus(Ln.Last),this._itemActivation=mt.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),S.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Ln.First)),this.keepScrollPosition&&(this.scrollTop=t)}}ur.DEFAULT_ARIA_LABEL=(0,c.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class Na extends m.JT{constructor(t){super(),this.options=t,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new z.Q5),this.onDidCustomEmitter=this._register(new z.Q5),this.onDidTriggerButtonEmitter=this._register(new z.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new z.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new z.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=t.idPrefix,this.parentElement=t.container,this.styles=t.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const t=r=>{this.keyMods.ctrlCmd=r.ctrlKey||r.metaKey,this.keyMods.alt=r.altKey};this._register(ei.nm(window,ei.tw.KEY_DOWN,t,!0)),this._register(ei.nm(window,ei.tw.KEY_UP,t,!0)),this._register(ei.nm(window,ei.tw.MOUSE_DOWN,t,!0))}getUI(){if(this.ui)return this.ui;const t=ei.R3(this.parentElement,Xs(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const r=ei.dS(t),S=ei.R3(t,Xs(".quick-input-titlebar")),K=this._register(new ar.o(S));K.domNode.classList.add("quick-input-left-action-bar");const J=ei.R3(S,Xs(".quick-input-title")),fe=this._register(new ar.o(S));fe.domNode.classList.add("quick-input-right-action-bar");const be=ei.R3(t,Xs(".quick-input-description")),qe=ei.R3(t,Xs(".quick-input-header")),dt=ei.R3(qe,Xs("input.quick-input-check-all"));dt.type="checkbox",dt.setAttribute("aria-label",(0,c.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(ei.mu(dt,ei.tw.CHANGE,Pn=>{const xs=dt.checked;vs.setAllVisibleChecked(xs)})),this._register(ei.nm(dt,ei.tw.CLICK,Pn=>{(Pn.x||Pn.y)&&Ki.setFocus()}));const yt=ei.R3(qe,Xs(".quick-input-description")),zt=ei.R3(qe,Xs(".quick-input-and-message")),Ai=ei.R3(zt,Xs(".quick-input-filter")),Ki=this._register(new ti(Ai));Ki.setAttribute("aria-describedby",`${this.idPrefix}message`);const cn=ei.R3(Ai,Xs(".quick-input-visible-count"));cn.setAttribute("aria-live","polite"),cn.setAttribute("aria-atomic","true");const En=new Br.Z(cn,{countFormat:(0,c.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),Rn=ei.R3(Ai,Xs(".quick-input-count"));Rn.setAttribute("aria-live","polite");const $n=new Br.Z(Rn,{countFormat:(0,c.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),Hn=ei.R3(qe,Xs(".quick-input-action")),xn=new la(Hn);xn.label=(0,c.NC)("ok","OK"),this._register(xn.onDidClick(Pn=>{this.onDidAcceptEmitter.fire()}));const Un=ei.R3(qe,Xs(".quick-input-action")),eo=new la(Un);eo.label=(0,c.NC)("custom","Custom"),this._register(eo.onDidClick(Pn=>{this.onDidCustomEmitter.fire()}));const $r=ei.R3(zt,Xs(`#${this.idPrefix}message.quick-input-message`)),vs=this._register(new bs(t,this.idPrefix+"list",this.options));this._register(vs.onChangedAllVisibleChecked(Pn=>{dt.checked=Pn})),this._register(vs.onChangedVisibleCount(Pn=>{En.setCount(Pn)})),this._register(vs.onChangedCheckedCount(Pn=>{$n.setCount(Pn)})),this._register(vs.onLeave(()=>{setTimeout(()=>{Ki.setFocus(),this.controller instanceof ur&&this.controller.canSelectMany&&vs.clearFocus()},0)})),this._register(vs.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Ka=new de(t);Ka.getContainer().classList.add("quick-input-progress");const es=ei.go(t);return this._register(es),this._register(ei.nm(t,ei.tw.FOCUS,Pn=>{this.previousFocusElement=Pn.relatedTarget instanceof HTMLElement?Pn.relatedTarget:void 0},!0)),this._register(es.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(mt.Jq.Blur),this.previousFocusElement=void 0})),this._register(ei.nm(t,ei.tw.FOCUS,Pn=>{Ki.setFocus()})),this._register(ei.nm(t,ei.tw.KEY_DOWN,Pn=>{const xs=new Qn.y(Pn);switch(xs.keyCode){case 3:ei.zB.stop(Pn,!0),this.onDidAcceptEmitter.fire();break;case 9:ei.zB.stop(Pn,!0),this.hide(mt.Jq.Gesture);break;case 2:if(!xs.altKey&&!xs.ctrlKey&&!xs.metaKey){const Ca=[".action-label.codicon"];t.classList.contains("show-checkboxes")?Ca.push("input"):Ca.push("input[type=text]"),this.getUI().list.isDisplayed()&&Ca.push(".monaco-list");const ba=t.querySelectorAll(Ca.join(", "));xs.shiftKey&&xs.target===ba[0]?(ei.zB.stop(Pn,!0),ba[ba.length-1].focus()):!xs.shiftKey&&xs.target===ba[ba.length-1]&&(ei.zB.stop(Pn,!0),ba[0].focus())}break}})),this.ui={container:t,styleSheet:r,leftActionBar:K,titleBar:S,title:J,description1:be,description2:yt,rightActionBar:fe,checkAll:dt,filterContainer:Ai,inputBox:Ki,visibleCountContainer:cn,visibleCount:En,countContainer:Rn,count:$n,okContainer:Hn,ok:xn,message:$r,customButtonContainer:Un,customButton:eo,list:vs,progressBar:Ka,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Pn=>this.show(Pn),hide:()=>this.hide(),setVisibilities:Pn=>this.setVisibilities(Pn),setComboboxAccessibility:Pn=>this.setComboboxAccessibility(Pn),setEnabled:Pn=>this.setEnabled(Pn),setContextKey:Pn=>this.options.setContextKey(Pn)},this.updateStyles(),this.ui}pick(t,r={},S=l.T.None){return new Promise((K,J)=>{let fe=yt=>{var zt;fe=K,(zt=r.onKeyMods)===null||zt===void 0||zt.call(r,be.keyMods),K(yt)};if(S.isCancellationRequested){fe(void 0);return}const be=this.createQuickPick();let qe;const dt=[be,be.onDidAccept(()=>{if(be.canSelectMany)fe(be.selectedItems.slice()),be.hide();else{const yt=be.activeItems[0];yt&&(fe(yt),be.hide())}}),be.onDidChangeActive(yt=>{const zt=yt[0];zt&&r.onDidFocus&&r.onDidFocus(zt)}),be.onDidChangeSelection(yt=>{if(!be.canSelectMany){const zt=yt[0];zt&&(fe(zt),be.hide())}}),be.onDidTriggerItemButton(yt=>r.onDidTriggerItemButton&&r.onDidTriggerItemButton(Object.assign(Object.assign({},yt),{removeItem:()=>{const zt=be.items.indexOf(yt.item);if(zt!==-1){const Ai=be.items.slice(),Ki=Ai.splice(zt,1),cn=be.activeItems.filter(Rn=>Rn!==Ki[0]),En=be.keepScrollPosition;be.keepScrollPosition=!0,be.items=Ai,cn&&(be.activeItems=cn),be.keepScrollPosition=En}}}))),be.onDidChangeValue(yt=>{qe&&!yt&&(be.activeItems.length!==1||be.activeItems[0]!==qe)&&(be.activeItems=[qe])}),S.onCancellationRequested(()=>{be.hide()}),be.onDidHide(()=>{(0,m.B9)(dt),fe(void 0)})];be.title=r.title,be.canSelectMany=!!r.canPickMany,be.placeholder=r.placeHolder,be.ignoreFocusOut=!!r.ignoreFocusLost,be.matchOnDescription=!!r.matchOnDescription,be.matchOnDetail=!!r.matchOnDetail,be.matchOnLabel=r.matchOnLabel===void 0||r.matchOnLabel,be.autoFocusOnList=r.autoFocusOnList===void 0||r.autoFocusOnList,be.quickNavigate=r.quickNavigate,be.hideInput=!!r.hideInput,be.contextKey=r.contextKey,be.busy=!0,Promise.all([t,r.activeItem]).then(([yt,zt])=>{qe=zt,be.busy=!1,be.items=yt,be.canSelectMany&&(be.selectedItems=yt.filter(Ai=>Ai.type!=="separator"&&Ai.picked)),qe&&(be.activeItems=[qe])}),be.show(),Promise.resolve(t).then(void 0,yt=>{J(yt),be.hide()})})}createQuickPick(){const t=this.getUI();return new ur(t)}show(t){const r=this.getUI();this.onShowEmitter.fire();const S=this.controller;this.controller=t,S&&S.didHide(),this.setEnabled(!0),r.leftActionBar.clear(),r.title.textContent="",r.description1.textContent="",r.description2.textContent="",r.rightActionBar.clear(),r.checkAll.checked=!1,r.inputBox.placeholder="",r.inputBox.password=!1,r.inputBox.showDecoration(k.Z.Ignore),r.visibleCount.setCount(0),r.count.setCount(0),ei.mc(r.message),r.progressBar.stop(),r.list.setElements([]),r.list.matchOnDescription=!1,r.list.matchOnDetail=!1,r.list.matchOnLabel=!0,r.list.sortByLabel=!0,r.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),r.inputBox.ariaLabel="";const K=this.options.backKeybindingLabel();zl.tooltip=K?(0,c.NC)("quickInput.backWithKeybinding","Back ({0})",K):(0,c.NC)("quickInput.back","Back"),r.container.style.display="",this.updateLayout(),r.inputBox.setFocus()}setVisibilities(t){const r=this.getUI();r.title.style.display=t.title?"":"none",r.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",r.description2.style.display=t.description&&!(t.inputBox||t.checkAll)?"":"none",r.checkAll.style.display=t.checkAll?"":"none",r.filterContainer.style.display=t.inputBox?"":"none",r.visibleCountContainer.style.display=t.visibleCount?"":"none",r.countContainer.style.display=t.count?"":"none",r.okContainer.style.display=t.ok?"":"none",r.customButtonContainer.style.display=t.customButton?"":"none",r.message.style.display=t.message?"":"none",r.progressBar.getContainer().style.display=t.progressBar?"":"none",r.list.display(!!t.list),r.container.classList[t.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(t){if(t!==this.comboboxAccessibility){const r=this.getUI();this.comboboxAccessibility=t,this.comboboxAccessibility?(r.inputBox.setAttribute("role","combobox"),r.inputBox.setAttribute("aria-haspopup","true"),r.inputBox.setAttribute("aria-autocomplete","list"),r.inputBox.setAttribute("aria-activedescendant",r.list.getActiveDescendant()||"")):(r.inputBox.removeAttribute("role"),r.inputBox.removeAttribute("aria-haspopup"),r.inputBox.removeAttribute("aria-autocomplete"),r.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(const r of this.getUI().leftActionBar.viewItems)r.getAction().enabled=t;for(const r of this.getUI().rightActionBar.viewItems)r.getAction().enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){var r;const S=this.controller;if(S){const K=!(!((r=this.ui)===null||r===void 0)&&r.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!K){let J=this.previousFocusElement;for(;J&&!J.offsetParent;)J=(0,ie.f6)(J.parentElement);J?.offsetParent?(J.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}S.didHide(t)}}layout(t,r){this.dimension=t,this.titleBarOffset=r,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const t=this.ui.container.style,r=Math.min(this.dimension.width*.62,Na.MAX_WIDTH);t.width=r+"px",t.marginLeft="-"+r/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:r,quickInputForeground:S,contrastBorder:K,widgetShadow:J}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t?t.toString():"",this.ui.container.style.backgroundColor=r?r.toString():"",this.ui.container.style.color=S?S.toString():"",this.ui.container.style.border=K?`1px solid ${K}`:"",this.ui.container.style.boxShadow=J?`0 0 8px 2px ${J}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const fe=[];this.styles.list.pickerGroupBorder&&fe.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&fe.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(fe.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&fe.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&fe.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&fe.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&fe.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&fe.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),fe.push("}"));const be=fe.join(`
`);be!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=be)}}}Na.MAX_WIDTH=600;var Ta=s(62077),Wr=s(88289),Uc=s(90725),Ul=s(41157),Ma=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},jc=function(ve,t){return function(r,S){t(r,S,ve)}};let jl=class extends m.JT{constructor(t,r){super(),this.quickInputService=t,this.instantiationService=r,this.registry=ho.B.as(Uc.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(t="",r){this.doShowOrPick(t,!1,r)}doShowOrPick(t,r,S){var K;const[J,fe]=this.getOrInstantiateProvider(t),be=this.visibleQuickAccess,qe=be?.descriptor;if(be&&fe&&qe===fe){t!==fe.prefix&&!S?.preserveValue&&(be.picker.value=t),this.adjustValueSelection(be.picker,fe,S);return}if(fe&&!S?.preserveValue){let Ki;if(be&&qe&&qe!==fe){const cn=be.value.substr(qe.prefix.length);cn&&(Ki=`${fe.prefix}${cn}`)}if(!Ki){const cn=J?.defaultFilterValue;cn===Uc.Ry.LAST?Ki=this.lastAcceptedPickerValues.get(fe):typeof cn=="string"&&(Ki=`${fe.prefix}${cn}`)}typeof Ki=="string"&&(t=Ki)}const dt=new m.SL,yt=dt.add(this.quickInputService.createQuickPick());yt.value=t,this.adjustValueSelection(yt,fe,S),yt.placeholder=fe?.placeholder,yt.quickNavigate=S?.quickNavigateConfiguration,yt.hideInput=!!yt.quickNavigate&&!be,(typeof S?.itemActivation=="number"||S?.quickNavigateConfiguration)&&(yt.itemActivation=(K=S?.itemActivation)!==null&&K!==void 0?K:Ul.jG.SECOND),yt.contextKey=fe?.contextKey,yt.filterValue=Ki=>Ki.substring(fe?fe.prefix.length:0),fe?.placeholder&&(yt.ariaLabel=fe?.placeholder);let zt;r&&(zt=new $.CR,dt.add((0,Wr.I)(yt.onWillAccept)(Ki=>{Ki.veto(),yt.hide()}))),dt.add(this.registerPickerListeners(yt,J,fe,t));const Ai=dt.add(new l.A);if(J&&dt.add(J.provide(yt,Ai.token)),(0,Wr.I)(yt.onDidHide)(()=>{yt.selectedItems.length===0&&Ai.cancel(),dt.dispose(),zt?.complete(yt.selectedItems.slice(0))}),yt.show(),r)return zt?.p}adjustValueSelection(t,r,S){var K;let J;S?.preserveValue?J=[t.value.length,t.value.length]:J=[(K=r?.prefix.length)!==null&&K!==void 0?K:0,t.value.length],t.valueSelection=J}registerPickerListeners(t,r,S,K){const J=new m.SL,fe=this.visibleQuickAccess={picker:t,descriptor:S,value:K};return J.add((0,m.OF)(()=>{fe===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),J.add(t.onDidChangeValue(be=>{const[qe]=this.getOrInstantiateProvider(be);qe!==r?this.show(be,{preserveValue:!0}):fe.value=be})),S&&J.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(S,t.value)})),J}getOrInstantiateProvider(t){const r=this.registry.getQuickAccessProvider(t);if(!r)return[void 0,void 0];let S=this.mapProviderToDescriptor.get(r);return S||(S=this.instantiationService.createInstance(r.ctor),this.mapProviderToDescriptor.set(r,S)),[S,r]}};jl=Ma([jc(0,Ul.eJ),jc(1,en.TG)],jl);var Bd=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Ao=function(ve,t){return function(r,S){t(r,S,ve)}};let hr=class extends bn.bB{constructor(t,r,S,K,J){super(S),this.instantiationService=t,this.contextKeyService=r,this.accessibilityService=K,this.layoutService=J,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(jl))),this._quickAccess}createController(t=this.layoutService,r){const S={idPrefix:"quickInput_",container:t.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:J=>this.setContextKey(J),returnFocus:()=>t.focus(),createList:(J,fe,be,qe,dt)=>this.instantiationService.createInstance(Ta.ev,J,fe,be,qe,dt),styles:this.computeStyles()},K=this._register(new Na(Object.assign(Object.assign({},S),r)));return K.layout(t.dimension,t.offset.quickPickTop),this._register(t.onDidLayout(J=>K.layout(J,t.offset.quickPickTop))),this._register(K.onShow(()=>this.resetContextKeys())),this._register(K.onHide(()=>this.resetContextKeys())),K}setContextKey(t){let r;t&&(r=this.contexts.get(t),r||(r=new sn.uy(t,!1).bindTo(this.contextKeyService),this.contexts.set(t,r))),!(r&&r.get())&&(this.resetContextKeys(),r?.set(!0))}resetContextKeys(){this.contexts.forEach(t=>{t.get()&&t.reset()})}pick(t,r={},S=l.T.None){return this.controller.pick(t,r,S)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,oo.o)(this.theme,{quickInputBackground:zn.zKr,quickInputForeground:zn.tZ6,quickInputTitleBackground:zn.loF,contrastBorder:zn.lRK,widgetShadow:zn.rh})),inputBox:(0,oo.o)(this.theme,{inputForeground:zn.zJb,inputBackground:zn.sEe,inputBorder:zn.dt_,inputValidationInfoBackground:zn._lC,inputValidationInfoForeground:zn.YI3,inputValidationInfoBorder:zn.EPQ,inputValidationWarningBackground:zn.RV_,inputValidationWarningForeground:zn.SUG,inputValidationWarningBorder:zn.C3g,inputValidationErrorBackground:zn.paE,inputValidationErrorForeground:zn._t9,inputValidationErrorBorder:zn.OZR}),countBadge:(0,oo.o)(this.theme,{badgeBackground:zn.g8u,badgeForeground:zn.qeD,badgeBorder:zn.lRK}),button:(0,oo.o)(this.theme,{buttonForeground:zn.j5u,buttonBackground:zn.b7$,buttonHoverBackground:zn.GO4,buttonBorder:zn.lRK}),progressBar:(0,oo.o)(this.theme,{progressBarBackground:zn.zRJ}),keybindingLabel:(0,oo.o)(this.theme,{keybindingLabelBackground:zn.oQ$,keybindingLabelForeground:zn.lWp,keybindingLabelBorder:zn.AWI,keybindingLabelBottomBorder:zn.K19,keybindingLabelShadow:zn.rh}),list:(0,oo.o)(this.theme,{listBackground:zn.zKr,listInactiveFocusForeground:zn.NPS,listInactiveSelectionIconForeground:zn.cbQ,listInactiveFocusBackground:zn.Vqd,listFocusOutline:zn.xL1,listInactiveFocusOutline:zn.xL1,pickerGroupBorder:zn.opG,pickerGroupForeground:zn.kJk})}}};hr=Bd([Ao(0,en.TG),Ao(1,sn.i6),Ao(2,bn.XE),Ao(3,dr.F),Ao(4,On)],hr);var ka=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},fr=function(ve,t){return function(r,S){t(r,S,ve)}};let Ra=class extends hr{constructor(t,r,S,K,J,fe){super(r,S,K,J,new D(t.getContainerDomNode(),fe)),this.host=void 0;const be=mo.get(t);if(be){const qe=be.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return qe.getDomNode()},get dimension(){return t.getLayoutInfo()},get onDidLayout(){return t.onDidLayoutChange},focus:()=>t.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};Ra=ka([fr(1,en.TG),fr(2,sn.i6),fr(3,bn.XE),fr(4,dr.F),fr(5,_.$)],Ra);let Kl=class{constructor(t,r){this.instantiationService=t,this.codeEditorService=r,this.mapEditorToService=new Map}get activeService(){const t=this.codeEditorService.getFocusedCodeEditor();if(!t)throw new Error("Quick input service needs a focused editor to work.");let r=this.mapEditorToService.get(t);if(!r){const S=r=this.instantiationService.createInstance(Ra,t);this.mapEditorToService.set(t,r),(0,Wr.I)(t.onDidDispose)(()=>{S.dispose(),this.mapEditorToService.delete(t)})}return r}get quickAccess(){return this.activeService.quickAccess}pick(t,r={},S=l.T.None){return this.activeService.pick(t,r,S)}createQuickPick(){return this.activeService.createQuickPick()}};Kl=ka([fr(0,en.TG),fr(1,_.$)],Kl);class mo{constructor(t){this.editor=t,this.widget=new ul(this.editor)}static get(t){return t.getContribution(mo.ID)}dispose(){this.widget.dispose()}}mo.ID="editor.controller.quickInput";class ul{constructor(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return ul.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}ul.ID="editor.contrib.quickInputWidget",(0,al._K)(mo.ID,mo);var Wd=s(88542),Ms=s(44156),Vd=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Vr=function(ve,t){return function(r,S){t(r,S,ve)}};let hl=class extends m.JT{constructor(t,r,S){super(),this._contextKeyService=t,this._layoutService=r,this._configurationService=S,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new z.Q5,this._onDidChangeReducedMotion=new z.Q5,this._accessibilityModeEnabledContext=dr.U.bindTo(this._contextKeyService);const K=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(fe=>{fe.affectsConfiguration("editor.accessibilitySupport")&&(K(),this._onDidChangeScreenReaderOptimized.fire()),fe.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),K(),this._register(this.onDidChangeScreenReaderOptimized(()=>K()));const J=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=J.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(J)}initReducedMotionListeners(t){if(!this._layoutService.hasContainer)return;this._register((0,ei.nm)(t,"change",()=>{this._systemMotionReduced=t.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const r=()=>{const S=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",S),this._layoutService.container.classList.toggle("enable-motion",!S)};r(),this._register(this.onDidChangeReducedMotion(()=>r()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const t=this._configurationService.getValue("editor.accessibilitySupport");return t==="on"||t==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const t=this._configMotionReduced;return t==="on"||t==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};hl=Vd([Vr(0,sn.i6),Vr(1,On),Vr(2,nn.Ui)],hl);var Qs=s(84144),Aa=s(87060),Oa=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},ca=function(ve,t){return function(r,S){t(r,S,ve)}};let $l=class{constructor(t,r){this._commandService=t,this._hiddenStates=new fl(r)}createMenu(t,r,S){return new Oo(t,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},S),this._commandService,r,this)}};$l=Oa([ca(0,Zn.Hy),ca(1,Aa.Uy)],$l);let fl=class Vc{constructor(t){this._storageService=t,this._disposables=new m.SL,this._onDidChange=new z.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const r=t.get(Vc._key,0,"{}");this._data=JSON.parse(r)}catch{this._data=Object.create(null)}this._disposables.add(t.onDidChangeValue(r=>{if(r.key===Vc._key){if(!this._ignoreChangeEvent)try{const S=t.get(Vc._key,0,"{}");this._data=JSON.parse(S)}catch(S){console.log("FAILED to read storage after UPDATE",S)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(t,r){var S,K;return(K=(S=this._data[t.id])===null||S===void 0?void 0:S.includes(r))!==null&&K!==void 0?K:!1}updateHidden(t,r,S){const K=this._data[t.id];if(S)K?K.indexOf(r)<0&&K.push(r):this._data[t.id]=[r];else if(K){const J=K.indexOf(r);J>=0&&(0,gt.LS)(K,J),K.length===0&&delete this._data[t.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const t=JSON.stringify(this._data);this._storageService.store(Vc._key,t,0,0)}finally{this._ignoreChangeEvent=!1}}};fl._key="menu.hiddenCommands",fl=Oa([ca(0,Aa.Uy)],fl);let Oo=class Al{constructor(t,r,S,K,J,fe){this._id=t,this._hiddenStates=r,this._options=S,this._commandService=K,this._contextKeyService=J,this._menuService=fe,this._disposables=new m.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const be=new $.pY(()=>{this._build(),this._onDidChange.fire(this)},S.eventDebounceDelay);this._disposables.add(be),this._disposables.add(Qs.BH.onDidChangeMenu(yt=>{yt.has(t)&&be.schedule()}));const qe=this._disposables.add(new m.SL),dt=()=>{const yt=new $.pY(()=>this._onDidChange.fire(this),S.eventDebounceDelay);qe.add(yt),qe.add(J.onDidChangeContext(zt=>{zt.affectsSome(this._contextKeys)&&yt.schedule()})),qe.add(r.onDidChange(()=>{yt.schedule()}))};this._onDidChange=new z.Q5({onFirstListenerAdd:dt,onLastListenerRemove:qe.clear.bind(qe)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=Qs.BH.getMenuItems(this._id);let r;t.sort(Al._compareMenuItems);for(const S of t){const K=S.group||"";(!r||r[0]!==K)&&(r=[K,[]],this._menuGroups.push(r)),r[1].push(S),this._collectContextKeys(S)}}_collectContextKeys(t){if(Al._fillInKbExprKeys(t.when,this._contextKeys),(0,Qs.vr)(t)){if(t.command.precondition&&Al._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const r=t.command.toggled.condition||t.command.toggled;Al._fillInKbExprKeys(r,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&Qs.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(t){const r=[],S=[];for(const K of this._menuGroups){const[J,fe]=K,be=[],qe=[];for(const dt of fe)if(this._contextKeyService.contextMatchesRules(dt.when)){let yt;if((0,Qs.vr)(dt)){const Ai=Hd(this._id,dt.command,this._hiddenStates);yt=new Qs.U8(dt.command,dt.alt,t,Ai,this._contextKeyService,this._commandService)}else yt=new Qs.NZ(dt,this._menuService,this._contextKeyService,t),yt.actions.length===0&&(yt.dispose(),yt=void 0);yt&&qe.push(yt)}qe.length>0&&r.push([J,qe]),be.length>0&&S.push(be)}return r}static _fillInKbExprKeys(t,r){if(t)for(const S of t.keys())r.add(S)}static _compareMenuItems(t,r){const S=t.group,K=r.group;if(S!==K){if(S){if(!K)return-1}else return 1;if(S==="navigation")return-1;if(K==="navigation")return 1;const be=S.localeCompare(K);if(be!==0)return be}const J=t.order||0,fe=r.order||0;return J<fe?-1:J>fe?1:Al._compareTitles((0,Qs.vr)(t)?t.command.title:t.title,(0,Qs.vr)(r)?r.command.title:r.title)}static _compareTitles(t,r){const S=typeof t=="string"?t:t.original,K=typeof r=="string"?r:r.original;return S.localeCompare(K)}};Oo=Oa([ca(3,Zn.Hy),ca(4,sn.i6),ca(5,Qs.co)],Oo);function Hd(ve,t,r){const S=`${ve.id}/${t.id}`,K=typeof t.title=="string"?t.title:t.title.value,J=(0,so.xw)({id:S,label:(0,c.NC)("hide.label","Hide '{0}'",K),run(){r.updateHidden(ve,t.id,!0)}}),fe=(0,so.xw)({id:S,label:K,get checked(){return!r.isHidden(ve,t.id)},run(){const be=!r.isHidden(ve,t.id);r.updateHidden(ve,t.id,be)}});return{hide:J,toggle:fe,get isHidden(){return!fe.checked}}}var zd=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},gl=function(ve,t){return function(r,S){t(r,S,ve)}},da=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};let Gl=class extends m.JT{constructor(t,r){super(),this.layoutService=t,this.logService=r,this.mapTextToType=new Map,this.findText="",this.resources=[],(No.isSafari||No.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const t=()=>{const r=new $.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=r,navigator.clipboard.write([new ClipboardItem({"text/plain":r.p})]).catch(S=>da(this,void 0,void 0,function*(){(!(S instanceof Error)||S.name!=="NotAllowedError"||!r.isRejected)&&this.logService.error(S)}))};this.layoutService.hasContainer&&(this._register((0,ei.nm)(this.layoutService.container,"click",t)),this._register((0,ei.nm)(this.layoutService.container,"keydown",t)))}writeText(t,r){return da(this,void 0,void 0,function*(){if(r){this.mapTextToType.set(r,t);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(t);try{return yield navigator.clipboard.writeText(t)}catch(J){console.error(J)}const S=document.activeElement,K=document.body.appendChild((0,ei.$)("textarea",{"aria-hidden":!0}));K.style.height="1px",K.style.width="1px",K.style.position="absolute",K.value=t,K.focus(),K.select(),document.execCommand("copy"),S instanceof HTMLElement&&S.focus(),document.body.removeChild(K)})}readText(t){return da(this,void 0,void 0,function*(){if(t)return this.mapTextToType.get(t)||"";try{return yield navigator.clipboard.readText()}catch(r){return console.error(r),""}})}readFindText(){return da(this,void 0,void 0,function*(){return this.findText})}writeFindText(t){return da(this,void 0,void 0,function*(){this.findText=t})}readResources(){return da(this,void 0,void 0,function*(){return this.resources})}};Gl=zd([gl(0,On),gl(1,St.VZ)],Gl);var Kc=s(84972),Xo=s(53725),$c=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},ml=function(ve,t){return function(r,S){t(r,S,ve)}};const Hr="data-keybinding-context";class Ql{constructor(t,r){this._id=t,this._parent=r,this._value=Object.create(null),this._value._contextId=t}get value(){return Object.assign({},this._value)}setValue(t,r){return this._value[t]!==r?(this._value[t]=r,!0):!1}removeValue(t){return t in this._value?(delete this._value[t],!0):!1}getValue(t){const r=this._value[t];return typeof r>"u"&&this._parent?this._parent.getValue(t):r}}class ua extends Ql{constructor(){super(-1,null)}setValue(t,r){return!1}removeValue(t){return!1}getValue(t){}}ua.INSTANCE=new ua;class zr extends Ql{constructor(t,r,S){super(t,null),this._configurationService=r,this._values=ls.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(K=>{if(K.source===7){const J=Array.from(Xo.$.map(this._values,([fe])=>fe));this._values.clear(),S.fire(new Gc(J))}else{const J=[];for(const fe of K.affectedKeys){const be=`config.${fe}`,qe=this._values.findSuperstr(be);qe!==void 0&&(J.push(...Xo.$.map(qe,([dt])=>dt)),this._values.deleteSuperstr(be)),this._values.has(be)&&(J.push(be),this._values.delete(be))}S.fire(new Gc(J))}})}dispose(){this._listener.dispose()}getValue(t){if(t.indexOf(zr._keyPrefix)!==0)return super.getValue(t);if(this._values.has(t))return this._values.get(t);const r=t.substr(zr._keyPrefix.length),S=this._configurationService.getValue(r);let K;switch(typeof S){case"number":case"boolean":case"string":K=S;break;default:Array.isArray(S)?K=JSON.stringify(S):K=S}return this._values.set(t,K),K}setValue(t,r){return super.setValue(t,r)}removeValue(t){return super.removeValue(t)}}zr._keyPrefix="config.";class gr{constructor(t,r,S){this._service=t,this._key=r,this._defaultValue=S,this.reset()}set(t){this._service.setContext(this._key,t)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Zl{constructor(t){this.key=t}affectsSome(t){return t.has(this.key)}allKeysContainedIn(t){return this.affectsSome(t)}}class Gc{constructor(t){this.keys=t}affectsSome(t){for(const r of this.keys)if(t.has(r))return!0;return!1}allKeysContainedIn(t){return this.keys.every(r=>t.has(r))}}class Qc{constructor(t){this.events=t}affectsSome(t){for(const r of this.events)if(r.affectsSome(t))return!0;return!1}allKeysContainedIn(t){return this.events.every(r=>r.allKeysContainedIn(t))}}function Ud(ve,t){return ve.allKeysContainedIn(new Set(Object.keys(t)))}class Zc{constructor(t){this._onDidChangeContext=new z.K3({merge:r=>new Qc(r)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=t}createKey(t,r){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new gr(this,t,r)}bufferChangeEvents(t){this._onDidChangeContext.pause();try{t()}finally{this._onDidChangeContext.resume()}}createScoped(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Yc(this,t)}contextMatchesRules(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const r=this.getContextValuesContainer(this._myContextId);return t?t.evaluate(r):!0}getContextKeyValue(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)}setContext(t,r){if(this._isDisposed)return;const S=this.getContextValuesContainer(this._myContextId);S&&S.setValue(t,r)&&this._onDidChangeContext.fire(new Zl(t))}removeContext(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContext.fire(new Zl(t))}getContext(t){return this._isDisposed?ua.INSTANCE:this.getContextValuesContainer(jd(t))}}let Yl=class extends Zc{constructor(t){super(0),this._contexts=new Map,this._toDispose=new m.SL,this._lastContextId=0;const r=new zr(this._myContextId,t,this._onDidChangeContext);this._contexts.set(this._myContextId,r),this._toDispose.add(r)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(t){return this._isDisposed?ua.INSTANCE:this._contexts.get(t)||ua.INSTANCE}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const r=++this._lastContextId;return this._contexts.set(r,new Ql(r,this.getContextValuesContainer(t))),r}disposeContext(t){this._isDisposed||this._contexts.delete(t)}};Yl=$c([ml(0,nn.Ui)],Yl);class Yc extends Zc{constructor(t,r){if(super(t.createChildContext()),this._parentChangeListener=new m.XK,this._parent=t,this._updateParentChangeListener(),this._domNode=r,this._domNode.hasAttribute(Hr)){let S="";this._domNode.classList&&(S=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${S?": "+S:""}`)}this._domNode.setAttribute(Hr,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(t=>{const S=this._parent.getContextValuesContainer(this._myContextId).value;Ud(t,S)||this._onDidChangeContext.fire(t)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(Hr),this._isDisposed=!0)}getContextValuesContainer(t){return this._isDisposed?ua.INSTANCE:this._parent.getContextValuesContainer(t)}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)}disposeContext(t){this._isDisposed||this._parent.disposeContext(t)}}function jd(ve){for(;ve;){if(ve.hasAttribute(Hr)){const t=ve.getAttribute(Hr);return t?parseInt(t,10):NaN}ve=ve.parentElement}return 0}function Kd(ve,t,r){ve.get(sn.i6).createKey(String(t),Xc(r))}function Xc(ve){return(0,Wn.rs)(ve,t=>{if(typeof t=="object"&&t.$mid===1)return E.o.revive(t).toString();if(t instanceof E.o)return t.toString()})}Zn.P0.registerCommand(sn.Eq,Kd),Zn.P0.registerCommand({id:"getContextKeyInfo",handler(){return[...sn.uy.all()].sort((ve,t)=>ve.key.localeCompare(t.key))},description:{description:(0,c.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),Zn.P0.registerCommand("_generateContextKeyInfo",function(){const ve=[],t=new Set;for(const r of sn.uy.all())t.has(r.key)||(t.add(r.key),ve.push(r));ve.sort((r,S)=>r.key.localeCompare(S.key)),console.log(JSON.stringify(ve,void 0,2))});var mr=s(97108);class $d{constructor(t){this.incoming=new Map,this.outgoing=new Map,this.data=t}}class Gd{constructor(t){this._hashFn=t,this._nodes=new Map}roots(){const t=[];for(const r of this._nodes.values())r.outgoing.size===0&&t.push(r);return t}insertEdge(t,r){const S=this.lookupOrInsertNode(t),K=this.lookupOrInsertNode(r);S.outgoing.set(this._hashFn(r),K),K.incoming.set(this._hashFn(t),S)}removeNode(t){const r=this._hashFn(t);this._nodes.delete(r);for(const S of this._nodes.values())S.outgoing.delete(r),S.incoming.delete(r)}lookupOrInsertNode(t){const r=this._hashFn(t);let S=this._nodes.get(r);return S||(S=new $d(t),this._nodes.set(r,S)),S}isEmpty(){return this._nodes.size===0}toString(){const t=[];for(const[r,S]of this._nodes)t.push(`${r}, (incoming)[${[...S.incoming.keys()].join(", ")}], (outgoing)[${[...S.outgoing.keys()].join(",")}]`);return t.join(`
`)}findCycleSlow(){for(const[t,r]of this._nodes){const S=new Set([t]),K=this._findCycle(r,S);if(K)return K}}_findCycle(t,r){for(const[S,K]of t.outgoing){if(r.has(S))return[...r,S].join(" -> ");r.add(S);const J=this._findCycle(K,r);if(J)return J;r.delete(S)}}}var Pa=s(60972);const Jc=!1;class qc extends Error{constructor(t){var r;super("cyclic dependency between services"),this.message=(r=t.findCycleSlow())!==null&&r!==void 0?r:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class Xl{constructor(t=new Pa.y,r=!1,S){this._activeInstantiations=new Set,this._services=t,this._strict=r,this._parent=S,this._services.set(en.TG,this)}createChild(t){return new Xl(t,this._strict,this)}invokeFunction(t,...r){const S=Js.traceInvocation(t);let K=!1;try{return t({get:fe=>{if(K)throw(0,re.L6)("service accessor is only valid during the invocation of its target method");const be=this._getOrCreateServiceInstance(fe,S);if(!be)throw new Error(`[invokeFunction] unknown service '${fe}'`);return be}},...r)}finally{K=!0,S.stop()}}createInstance(t,...r){let S,K;return t instanceof mr.M?(S=Js.traceCreation(t.ctor),K=this._createInstance(t.ctor,t.staticArguments.concat(r),S)):(S=Js.traceCreation(t),K=this._createInstance(t,r,S)),S.stop(),K}_createInstance(t,r=[],S){const K=en.I8.getServiceDependencies(t).sort((be,qe)=>be.index-qe.index),J=[];for(const be of K){const qe=this._getOrCreateServiceInstance(be.id,S);qe||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${be.id}.`,!1),J.push(qe)}const fe=K.length>0?K[0].index:r.length;if(r.length!==fe){console.trace(`[createInstance] First service dependency of ${t.name} at position ${fe+1} conflicts with ${r.length} static arguments`);const be=fe-r.length;be>0?r=r.concat(new Array(be)):r=r.slice(0,fe)}return new t(...r,...J)}_setServiceInstance(t,r){if(this._services.get(t)instanceof mr.M)this._services.set(t,r);else if(this._parent)this._parent._setServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){const r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){const S=this._getServiceInstanceOrDescriptor(t);return S instanceof mr.M?this._safeCreateAndCacheServiceInstance(t,S,r.branch(t,!0)):(r.branch(t,!1),S)}_safeCreateAndCacheServiceInstance(t,r,S){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,S)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,S){const K=new Gd(be=>be.id.toString());let J=0;const fe=[{id:t,desc:r,_trace:S}];for(;fe.length;){const be=fe.pop();if(K.lookupOrInsertNode(be),J++>1e3)throw new qc(K);for(const qe of en.I8.getServiceDependencies(be.desc.ctor)){const dt=this._getServiceInstanceOrDescriptor(qe.id);if(dt||this._throwIfStrict(`[createInstance] ${t} depends on ${qe.id} which is NOT registered.`,!0),dt instanceof mr.M){const yt={id:qe.id,desc:dt,_trace:be._trace.branch(qe.id,!0)};K.insertEdge(be,yt),fe.push(yt)}}}for(;;){const be=K.roots();if(be.length===0){if(!K.isEmpty())throw new qc(K);break}for(const{data:qe}of be){if(this._getServiceInstanceOrDescriptor(qe.id)instanceof mr.M){const yt=this._createServiceInstanceWithOwner(qe.id,qe.desc.ctor,qe.desc.staticArguments,qe.desc.supportsDelayedInstantiation,qe._trace);this._setServiceInstance(qe.id,yt)}K.removeNode(qe)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,S=[],K,J){if(this._services.get(t)instanceof mr.M)return this._createServiceInstance(r,S,K,J);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,S,K,J);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r=[],S,K){if(S){const J=new $.Ue(()=>this._createInstance(t,r,K));return new Proxy(Object.create(null),{get(fe,be){if(be in fe)return fe[be];const qe=J.value;let dt=qe[be];return typeof dt!="function"||(dt=dt.bind(qe),fe[be]=dt),dt},set(fe,be,qe){return J.value[be]=qe,!0}})}else return this._createInstance(t,r,K)}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}}class Js{constructor(t,r){this.type=t,this.name=r,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return Jc?new Js(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):Js._None}static traceCreation(t){return Jc?new Js(0,t.name):Js._None}branch(t,r){const S=new Js(2,t.toString());return this._dep.push([t,r,S]),S}stop(){const t=Date.now()-this._start;Js._totals+=t;let r=!1;function S(J,fe){const be=[],qe=new Array(J+1).join("	");for(const[dt,yt,zt]of fe._dep)if(yt&&zt){r=!0,be.push(`${qe}CREATES -> ${dt}`);const Ai=S(J+1,zt);Ai&&be.push(Ai)}else be.push(`${qe}uses -> ${dt}`);return be.join(`
`)}const K=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${S(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${Js._totals.toFixed(2)}ms)`];(t>2||r)&&console.log(K.join(`
`))}}Js._None=new class extends Js{constructor(){super(-1,null)}stop(){}branch(){return this}},Js._totals=0;class Qd{constructor(){this._byResource=new ls.Y9,this._byOwner=new Map}set(t,r,S){let K=this._byResource.get(t);K||(K=new Map,this._byResource.set(t,K)),K.set(r,S);let J=this._byOwner.get(r);J||(J=new ls.Y9,this._byOwner.set(r,J)),J.set(t,S)}get(t,r){const S=this._byResource.get(t);return S?.get(r)}delete(t,r){let S=!1,K=!1;const J=this._byResource.get(t);J&&(S=J.delete(r));const fe=this._byOwner.get(r);if(fe&&(K=fe.delete(t)),S!==K)throw new Error("illegal state");return S&&K}values(t){var r,S,K,J;return typeof t=="string"?(S=(r=this._byOwner.get(t))===null||r===void 0?void 0:r.values())!==null&&S!==void 0?S:Xo.$.empty():E.o.isUri(t)?(J=(K=this._byResource.get(t))===null||K===void 0?void 0:K.values())!==null&&J!==void 0?J:Xo.$.empty():Xo.$.map(Xo.$.concat(...this._byOwner.values()),fe=>fe[1])}}class ed{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new ls.Y9,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const r of t){const S=this._data.get(r);S&&this._substract(S);const K=this._resourceStats(r);this._add(K),this._data.set(r,K)}}_resourceStats(t){const r={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===Gi.lg.inMemory||t.scheme===Gi.lg.walkThrough||t.scheme===Gi.lg.walkThroughSnippet||t.scheme===Gi.lg.vscodeSourceControl)return r;for(const{severity:S}of this._service.read({resource:t}))S===ds.ZL.Error?r.errors+=1:S===ds.ZL.Warning?r.warnings+=1:S===ds.ZL.Info?r.infos+=1:r.unknowns+=1;return r}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class pr{constructor(){this._onMarkerChanged=new z.D0({delay:0,merge:pr._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Qd,this._stats=new ed(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,r){for(const S of r||[])this.changeOne(t,S,[])}changeOne(t,r,S){if((0,gt.XY)(S))this._data.delete(r,t)&&this._onMarkerChanged.fire([r]);else{const K=[];for(const J of S){const fe=pr._toMarker(t,r,J);fe&&K.push(fe)}this._data.set(r,t,K),this._onMarkerChanged.fire([r])}}static _toMarker(t,r,S){let{code:K,severity:J,message:fe,source:be,startLineNumber:qe,startColumn:dt,endLineNumber:yt,endColumn:zt,relatedInformation:Ai,tags:Ki}=S;if(fe)return qe=qe>0?qe:1,dt=dt>0?dt:1,yt=yt>=qe?yt:qe,zt=zt>0?zt:dt,{resource:r,owner:t,code:K,severity:J,message:fe,source:be,startLineNumber:qe,startColumn:dt,endLineNumber:yt,endColumn:zt,relatedInformation:Ai,tags:Ki}}changeAll(t,r){const S=[],K=this._data.values(t);if(K)for(const J of K){const fe=Xo.$.first(J);fe&&(S.push(fe.resource),this._data.delete(fe.resource,t))}if((0,gt.Of)(r)){const J=new ls.Y9;for(const{resource:fe,marker:be}of r){const qe=pr._toMarker(t,fe,be);if(!qe)continue;const dt=J.get(fe);dt?dt.push(qe):(J.set(fe,[qe]),S.push(fe))}for(const[fe,be]of J)this._data.set(fe,t,be)}S.length>0&&this._onMarkerChanged.fire(S)}read(t=Object.create(null)){let{owner:r,resource:S,severities:K,take:J}=t;if((!J||J<0)&&(J=-1),r&&S){const fe=this._data.get(S,r);if(fe){const be=[];for(const qe of fe)if(pr._accept(qe,K)){const dt=be.push(qe);if(J>0&&dt===J)break}return be}else return[]}else if(!r&&!S){const fe=[];for(const be of this._data.values())for(const qe of be)if(pr._accept(qe,K)){const dt=fe.push(qe);if(J>0&&dt===J)return fe}return fe}else{const fe=this._data.values(S??r),be=[];for(const qe of fe)for(const dt of qe)if(pr._accept(dt,K)){const yt=be.push(dt);if(J>0&&yt===J)return be}return be}}static _accept(t,r){return r===void 0||(r&t.severity)===t.severity}static _merge(t){const r=new ls.Y9;for(const S of t)for(const K of S)r.set(K,!0);return Array.from(r.keys())}}function td(ve,t,r,S,K,J){if(Array.isArray(ve)){let fe=0;for(const be of ve){const qe=td(be,t,r,S,K,J);if(qe===10)return qe;qe>fe&&(fe=qe)}return fe}else{if(typeof ve=="string")return S?ve==="*"?5:ve===r?10:0:0;if(ve){const{language:fe,pattern:be,scheme:qe,hasAccessToAllModels:dt,notebookType:yt}=ve;if(!S&&!dt)return 0;yt&&K&&(t=K);let zt=0;if(qe)if(qe===t.scheme)zt=10;else if(qe==="*")zt=5;else return 0;if(fe)if(fe===r)zt=10;else if(fe==="*")zt=Math.max(zt,5);else return 0;if(yt)if(yt===J)zt=10;else if(yt==="*"&&J!==void 0)zt=Math.max(zt,5);else return 0;if(be){let Ai;if(typeof be=="string"?Ai=be:Ai=Object.assign(Object.assign({},be),{base:(0,Ks.Fv)(be.base)}),Ai===t.fsPath||Ol(Ai,t.fsPath))zt=10;else return 0}return zt}else return 0}}function id(ve){return typeof ve=="string"?!1:Array.isArray(ve)?ve.every(id):!!ve.exclusive}class nd{constructor(t,r,S,K){this.uri=t,this.languageId=r,this.notebookUri=S,this.notebookType=K}equals(t){var r,S;return this.notebookType===t.notebookType&&this.languageId===t.languageId&&this.uri.toString()===t.uri.toString()&&((r=this.notebookUri)===null||r===void 0?void 0:r.toString())===((S=t.notebookUri)===null||S===void 0?void 0:S.toString())}}class ss{constructor(t){this._notebookInfoResolver=t,this._clock=0,this._entries=[],this._onDidChange=new z.Q5,this.onDidChange=this._onDidChange.event}register(t,r){let S={selector:t,provider:r,_score:-1,_time:this._clock++};return this._entries.push(S),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,m.OF)(()=>{if(S){const K=this._entries.indexOf(S);K>=0&&(this._entries.splice(K,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),S=void 0)}})}has(t){return this.all(t).length>0}all(t){if(!t)return[];this._updateScores(t);const r=[];for(const S of this._entries)S._score>0&&r.push(S.provider);return r}ordered(t){const r=[];return this._orderedForEach(t,S=>r.push(S.provider)),r}orderedGroups(t){const r=[];let S,K;return this._orderedForEach(t,J=>{S&&K===J._score?S.push(J.provider):(K=J._score,S=[J.provider],r.push(S))}),r}_orderedForEach(t,r){this._updateScores(t);for(const S of this._entries)S._score>0&&r(S)}_updateScores(t){var r,S;const K=(r=this._notebookInfoResolver)===null||r===void 0?void 0:r.call(this,t.uri),J=K?new nd(t.uri,t.getLanguageId(),K.uri,K.type):new nd(t.uri,t.getLanguageId(),void 0,void 0);if(!(!((S=this._lastCandidate)===null||S===void 0)&&S.equals(J))){this._lastCandidate=J;for(const fe of this._entries)if(fe._score=td(fe.selector,J.uri,J.languageId,(0,T.pt)(t),J.notebookUri,J.notebookType),id(fe.selector)&&fe._score>0){for(const be of this._entries)be._score=0;fe._score=1e3;break}this._entries.sort(ss._compareByScoreAndTime)}}static _compareByScoreAndTime(t,r){return t._score<r._score?1:t._score>r._score?-1:t._time<r._time?1:t._time>r._time?-1:0}}class Zd{constructor(){this.referenceProvider=new ss(this._score.bind(this)),this.renameProvider=new ss(this._score.bind(this)),this.codeActionProvider=new ss(this._score.bind(this)),this.definitionProvider=new ss(this._score.bind(this)),this.typeDefinitionProvider=new ss(this._score.bind(this)),this.declarationProvider=new ss(this._score.bind(this)),this.implementationProvider=new ss(this._score.bind(this)),this.documentSymbolProvider=new ss(this._score.bind(this)),this.inlayHintsProvider=new ss(this._score.bind(this)),this.colorProvider=new ss(this._score.bind(this)),this.codeLensProvider=new ss(this._score.bind(this)),this.documentFormattingEditProvider=new ss(this._score.bind(this)),this.documentRangeFormattingEditProvider=new ss(this._score.bind(this)),this.onTypeFormattingEditProvider=new ss(this._score.bind(this)),this.signatureHelpProvider=new ss(this._score.bind(this)),this.hoverProvider=new ss(this._score.bind(this)),this.documentHighlightProvider=new ss(this._score.bind(this)),this.selectionRangeProvider=new ss(this._score.bind(this)),this.foldingRangeProvider=new ss(this._score.bind(this)),this.linkProvider=new ss(this._score.bind(this)),this.inlineCompletionsProvider=new ss(this._score.bind(this)),this.completionProvider=new ss(this._score.bind(this)),this.linkedEditingRangeProvider=new ss(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new ss(this._score.bind(this)),this.documentSemanticTokensProvider=new ss(this._score.bind(this)),this.documentOnDropEditProvider=new ss(this._score.bind(this)),this.documentPasteEditProvider=new ss(this._score.bind(this))}_score(t){var r;return(r=this._notebookTypeResolver)===null||r===void 0?void 0:r.call(this,t)}}(0,vn.z)(ii.p,Zd,!0);class Yd extends Cs{constructor(t={}){const r=ho.B.as(Nr.IP.Configuration).getConfigurationProperties(),S=Object.keys(r),K=Object.create(null),J=[];for(const fe in r){const be=t[fe],qe=be!==void 0?be:r[fe].default;(0,nn.KV)(K,fe,qe,dt=>console.error(`Conflict in default settings: ${dt}`))}for(const fe of Object.keys(K))Nr.eU.test(fe)&&J.push({identifiers:(0,Nr.ny)(fe),keys:Object.keys(K[fe]),contents:(0,nn.Od)(K[fe],be=>console.error(`Conflict in default settings file: ${be}`))});super(K,S,J)}}var ro=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},Es=function(ve,t){return function(r,S){t(r,S,ve)}},Jo=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};class qo{constructor(t){this.disposed=!1,this.model=t,this._onWillDispose=new z.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Jl=class{constructor(t){this.modelService=t}createModelReference(t){const r=this.modelService.getModel(t);return r?Promise.resolve(new m.Jz(new qo(r))):Promise.reject(new Error("Model not found"))}};Jl=ro([Es(0,V.q)],Jl);class Ur{show(){return Ur.NULL_PROGRESS_RUNNER}showWhile(t,r){return Jo(this,void 0,void 0,function*(){yield t})}}Ur.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class ql{withProgress(t,r,S){return r({report:()=>{}})}}class sd{confirm(t){return this.doConfirm(t).then(r=>({confirmed:r,checkboxChecked:!1}))}doConfirm(t){let r=t.message;return t.detail&&(r=r+`

`+t.detail),Promise.resolve(window.confirm(r))}show(t,r,S,K){return Promise.resolve({choice:0})}}class Fa{info(t){return this.notify({severity:k.Z.Info,message:t})}warn(t){return this.notify({severity:k.Z.Warning,message:t})}error(t){return this.notify({severity:k.Z.Error,message:t})}notify(t){switch(t.severity){case k.Z.Error:console.error(t.message);break;case k.Z.Warning:console.warn(t.message);break;default:console.log(t.message);break}return Fa.NO_OP}status(t,r){return m.JT.None}}Fa.NO_OP=new Y.EO;let Po=class{constructor(t){this._onWillExecuteCommand=new z.Q5,this._onDidExecuteCommand=new z.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=t}executeCommand(t,...r){const S=Zn.P0.getCommand(t);if(!S)return Promise.reject(new Error(`command '${t}' not found`));try{this._onWillExecuteCommand.fire({commandId:t,args:r});const K=this._instantiationService.invokeFunction.apply(this._instantiationService,[S.handler,...r]);return this._onDidExecuteCommand.fire({commandId:t,args:r}),Promise.resolve(K)}catch(K){return Promise.reject(K)}}};Po=ro([Es(0,en.TG)],Po);let ha=class extends Xr{constructor(t,r,S,K,J,fe){super(t,r,S,K,J),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const be=Ki=>{const cn=new m.SL;cn.add(ei.nm(Ki,ei.tw.KEY_DOWN,En=>{const Rn=new Qn.y(En);this._dispatch(Rn,Rn.target)&&(Rn.preventDefault(),Rn.stopPropagation())})),cn.add(ei.nm(Ki,ei.tw.KEY_UP,En=>{const Rn=new Qn.y(En);this._singleModifierDispatch(Rn,Rn.target)&&Rn.preventDefault()})),this._domNodeListeners.push(new Xd(Ki,cn))},qe=Ki=>{for(let cn=0;cn<this._domNodeListeners.length;cn++){const En=this._domNodeListeners[cn];En.domNode===Ki&&(this._domNodeListeners.splice(cn,1),En.dispose())}},dt=Ki=>{Ki.getOption(56)||be(Ki.getContainerDomNode())},yt=Ki=>{Ki.getOption(56)||qe(Ki.getContainerDomNode())};this._register(fe.onCodeEditorAdd(dt)),this._register(fe.onCodeEditorRemove(yt)),fe.listCodeEditors().forEach(dt);const zt=Ki=>{be(Ki.getContainerDomNode())},Ai=Ki=>{qe(Ki.getContainerDomNode())};this._register(fe.onDiffEditorAdd(zt)),this._register(fe.onDiffEditorRemove(Ai)),fe.listDiffEditors().forEach(zt)}addDynamicKeybinding(t,r,S,K){return(0,m.F8)(Zn.P0.registerCommand(t,S),this.addDynamicKeybindings([{keybinding:r,command:t,when:K}]))}addDynamicKeybindings(t){const r=t.map(S=>{var K,J;const fe=(0,ws.gm)(S.keybinding,ae.OS);return{keybinding:(K=fe?.parts)!==null&&K!==void 0?K:null,command:(J=S.command)!==null&&J!==void 0?J:null,commandArgs:S.commandArgs,when:S.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(r),this.updateResolver(),(0,m.OF)(()=>{for(let S=0;S<this._dynamicKeybindings.length;S++)if(this._dynamicKeybindings[S]===r[0]){this._dynamicKeybindings.splice(S,r.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const t=this._toNormalizedKeybindingItems(vo.W.getDefaultKeybindings(),!0),r=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new jn(t,r,S=>this._log(S))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(t,r){const S=[];let K=0;for(const J of t){const fe=J.when||void 0,be=J.keybinding;if(!be)S[K++]=new Lo(void 0,J.command,J.commandArgs,fe,r,null,!1);else{const qe=Do.resolveUserBinding(be,ae.OS);for(const dt of qe)S[K++]=new Lo(dt,J.command,J.commandArgs,fe,r,null,!1)}}return S}resolveKeyboardEvent(t){const r=new ws.QC(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode).toChord();return new Do(r,ae.OS)}};ha=ro([Es(0,sn.i6),Es(1,Zn.Hy),Es(2,to.b),Es(3,Y.lT),Es(4,St.VZ),Es(5,_.$)],ha);class Xd extends m.JT{constructor(t,r){super(),this.domNode=t,this._register(r)}}function ec(ve){return ve&&typeof ve=="object"&&(!ve.overrideIdentifier||typeof ve.overrideIdentifier=="string")&&(!ve.resource||ve.resource instanceof E.o)}class od{constructor(){this._onDidChangeConfiguration=new z.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new _o(new Yd,new Cs,new Cs,new Cs)}getValue(t,r){const S=typeof t=="string"?t:void 0,K=ec(t)?t:ec(r)?r:{};return this._configuration.getValue(S,K,void 0)}updateValues(t){const r={data:this._configuration.toData()},S=[];for(const K of t){const[J,fe]=K;this.getValue(J)!==fe&&(this._configuration.updateValue(J,fe),S.push(J))}if(S.length>0){const K=new Zr({keys:S,overrides:[]},r,this._configuration);K.source=8,K.sourceConfig=null,this._onDidChangeConfiguration.fire(K)}return Promise.resolve()}updateValue(t,r,S,K){return this.updateValues([[t,r]])}inspect(t,r={}){return this._configuration.inspect(t,r,void 0)}}let rd=class{constructor(t){this.configurationService=t,this._onDidChangeConfiguration=new z.Q5,this.configurationService.onDidChangeConfiguration(r=>{this._onDidChangeConfiguration.fire({affectedKeys:r.affectedKeys,affectsConfiguration:(S,K)=>r.affectsConfiguration(K)})})}getValue(t,r,S){const J=(Z.L.isIPosition(r)?r:null)?typeof S=="string"?S:void 0:typeof r=="string"?r:void 0;return typeof J>"u"?this.configurationService.getValue():this.configurationService.getValue(J)}};rd=ro([Es(0,nn.Ui)],rd);let tc=class{constructor(t){this.configurationService=t}getEOL(t,r){const S=this.configurationService.getValue("files.eol",{overrideIdentifier:r,resource:t});return S&&typeof S=="string"&&S!=="auto"?S:ae.IJ||ae.dz?`
`:`\r
`}};tc=ro([Es(0,nn.Ui)],tc);class Jd{publicLog(t,r){return Promise.resolve(void 0)}publicLog2(t,r){return this.publicLog(t,r)}}class po{constructor(){const t=E.o.from({scheme:po.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Wo.md({uri:t,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(t){return t&&t.scheme===po.SCHEME?this.workspace.folders[0]:null}}po.SCHEME="inmemory";function pl(ve,t,r){if(!t||!(ve instanceof od))return;const S=[];Object.keys(t).forEach(K=>{(0,is.ei)(K)&&S.push([`editor.${K}`,t[K]]),r&&(0,is.Pe)(K)&&S.push([`diffEditor.${K}`,t[K]])}),S.length>0&&ve.updateValues(S)}let ic=class{constructor(t){this._modelService=t}hasPreviewHandler(){return!1}apply(t,r){return Jo(this,void 0,void 0,function*(){const S=new Map;for(const fe of t){if(!(fe instanceof mn.Gl))throw new Error("bad edit - only text edits are supported");const be=this._modelService.getModel(fe.resource);if(!be)throw new Error("bad edit - model not found");if(typeof fe.versionId=="number"&&be.getVersionId()!==fe.versionId)throw new Error("bad state - model changed in the meantime");let qe=S.get(be);qe||(qe=[],S.set(be,qe)),qe.push(Jn.h.replaceMove(B.e.lift(fe.textEdit.range),fe.textEdit.text))}let K=0,J=0;for(const[fe,be]of S)fe.pushStackElement(),fe.pushEditOperations([],be,()=>[]),fe.pushStackElement(),J+=1,K+=be.length;return{ariaSummary:i.WU(Vs.iN.bulkEditServiceSummary,K,J)}})}};ic=ro([Es(0,V.q)],ic);class qd{getUriLabel(t,r){return t.scheme==="file"?t.fsPath:t.path}getUriBasenameLabel(t){return(0,Hs.EZ)(t)}}let nc=class extends Co{constructor(t,r){super(t),this._codeEditorService=r}showContextView(t,r,S){if(!r){const K=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();K&&(r=K.getContainerDomNode())}return super.showContextView(t,r,S)}};nc=ro([Es(0,On),Es(1,_.$)],nc);class eu{constructor(){this._neverEmitter=new z.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class _l extends Ko{constructor(){super()}}class Ba extends St.$V{constructor(){super(new St.kw)}}let er=class extends Or{constructor(t,r,S,K,J){super(t,r,S,K,J),this.configure({blockMouse:!1})}};er=ro([Es(0,to.b),Es(1,Y.lT),Es(2,zs.u),Es(3,cs.d),Es(4,bn.XE)],er),(0,vn.z)(nn.Ui,od),(0,vn.z)(Pi.V,rd),(0,vn.z)(Pi.y,tc),(0,vn.z)(Wo.ec,po),(0,vn.z)(Eo.e,qd),(0,vn.z)(to.b,Jd),(0,vn.z)(R.S,sd),(0,vn.z)(Y.lT,Fa),(0,vn.z)(ds.lT,pr),(0,vn.z)(P.O,_l),(0,vn.z)(Ms.Z,Wd.nI),(0,vn.z)(St.VZ,Ba),(0,vn.z)(V.q,Hl.b$),(0,vn.z)(xa.i,aa),(0,vn.z)(sn.i6,Yl),(0,vn.z)(Jr.R9,ql),(0,vn.z)(Jr.ek,Ur),(0,vn.z)(Aa.Uy,Aa.vm),(0,vn.z)(an.p,_e),(0,vn.z)(mn.vu,ic),(0,vn.z)(Vo.Y,eu),(0,vn.z)(qn.S,Jl),(0,vn.z)(dr.F,hl),(0,vn.z)(Ta.Lw,Ta.XN),(0,vn.z)(Zn.Hy,Po),(0,vn.z)(cs.d,ha),(0,vn.z)(Ul.eJ,Kl),(0,vn.z)(zs.u,nc),(0,vn.z)(Qo.v4,ko),(0,vn.z)(Kc.p,Gl),(0,vn.z)(zs.i,er),(0,vn.z)(Qs.co,$l);var _n;(function(ve){const t=new Pa.y;for(const[fe,be]of(0,vn.d)())t.set(fe,be);const r=new Xl(t,!0);t.set(en.TG,r);function S(fe){const be=t.get(fe);if(!be)throw new Error("Missing service "+fe);return be instanceof mr.M?r.invokeFunction(qe=>qe.get(fe)):be}ve.get=S;let K=!1;function J(fe){if(K)return r;K=!0;for(const[be,qe]of(0,vn.d)())t.get(be)||t.set(be,qe);for(const be in fe)if(fe.hasOwnProperty(be)){const qe=(0,en.yh)(be);t.get(qe)instanceof mr.M&&t.set(qe,fe[be])}return r}ve.initialize=J})(_n||(_n={}));var sc=function(ve,t,r,S){var K=arguments.length,J=K<3?t:S===null?S=Object.getOwnPropertyDescriptor(t,r):S,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(ve,t,r,S);else for(var be=ve.length-1;be>=0;be--)(fe=ve[be])&&(J=(K<3?fe(J):K>3?fe(t,r,J):fe(t,r))||J);return K>3&&J&&Object.defineProperty(t,r,J),J},os=function(ve,t){return function(r,S){t(r,S,ve)}};let tu=0,ad=!1;function iu(ve){if(!ve){if(ad)return;ad=!0}ui.wW(ve||document.body)}let vl=class extends ri.Gm{constructor(t,r,S,K,J,fe,be,qe,dt,yt,zt,Ai){const Ki=Object.assign({},r);Ki.ariaLabel=Ki.ariaLabel||Vs.B8.editorViewAccessibleLabel,Ki.ariaLabel=Ki.ariaLabel+";"+Vs.B8.accessibilityHelpMessage,super(t,Ki,{},S,K,J,fe,qe,dt,yt,zt,Ai),be instanceof ha?this._standaloneKeybindingService=be:this._standaloneKeybindingService=null,iu(Ki.ariaContainerElement)}addCommand(t,r,S){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const K="DYNAMIC_"+ ++tu,J=sn.Ao.deserialize(S);return this._standaloneKeybindingService.addDynamicKeybinding(K,t,r,J),K}createContextKey(t,r){return this._contextKeyService.createKey(t,r)}addAction(t){if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),m.JT.None;const r=t.id,S=t.label,K=sn.Ao.and(sn.Ao.equals("editorId",this.getId()),sn.Ao.deserialize(t.precondition)),J=t.keybindings,fe=sn.Ao.and(K,sn.Ao.deserialize(t.keybindingContext)),be=t.contextMenuGroupId||null,qe=t.contextMenuOrder||0,dt=(Ki,...cn)=>Promise.resolve(t.run(this,...cn)),yt=new m.SL,zt=this.getId()+":"+r;if(yt.add(Zn.P0.registerCommand(zt,dt)),be){const Ki={command:{id:zt,title:S},when:K,group:be,order:qe};yt.add(Qs.BH.appendMenuItem(Qs.eH.EditorContext,Ki))}if(Array.isArray(J))for(const Ki of J)yt.add(this._standaloneKeybindingService.addDynamicKeybinding(zt,Ki,dt,fe));const Ai=new Yi.p(zt,S,S,K,dt,this._contextKeyService);return this._actions[r]=Ai,yt.add((0,m.OF)(()=>{delete this._actions[r]})),yt}_triggerCommand(t,r){if(this._codeEditorService instanceof $i)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(t,r)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(t,r)}};vl=sc([os(2,en.TG),os(3,_.$),os(4,Zn.Hy),os(5,sn.i6),os(6,cs.d),os(7,bn.XE),os(8,Y.lT),os(9,dr.F),os(10,M.c_),os(11,ii.p)],vl);let oc=class extends vl{constructor(t,r,S,K,J,fe,be,qe,dt,yt,zt,Ai,Ki,cn,En){const Rn=Object.assign({},r);pl(yt,Rn,!1);const $n=qe.registerEditorContainer(t);typeof Rn.theme=="string"&&qe.setTheme(Rn.theme),typeof Rn.autoDetectHighContrast<"u"&&qe.setAutoDetectHighContrast(!!Rn.autoDetectHighContrast);const Hn=Rn.model;delete Rn.model,super(t,Rn,S,K,J,fe,be,qe,dt,zt,cn,En),this._configurationService=yt,this._standaloneThemeService=qe,this._register($n);let xn;if(typeof Hn>"u"){const Un=Ki.getLanguageIdByMimeType(Rn.language)||Rn.language||no.bd;xn=rc(Ai,Ki,Rn.value||"",Un,void 0),this._ownsModel=!0}else xn=Hn,this._ownsModel=!1;if(this._attachModel(xn),xn){const Un={oldModelUrl:null,newModelUrl:xn.uri};this._onDidChangeModel.fire(Un)}}dispose(){super.dispose()}updateOptions(t){pl(this._configurationService,t,!1),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!t.autoDetectHighContrast),super.updateOptions(t)}_postDetachModelCleanup(t){super._postDetachModelCleanup(t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)}};oc=sc([os(2,en.TG),os(3,_.$),os(4,Zn.Hy),os(5,sn.i6),os(6,cs.d),os(7,Ms.Z),os(8,Y.lT),os(9,nn.Ui),os(10,dr.F),os(11,V.q),os(12,P.O),os(13,M.c_),os(14,ii.p)],oc);let tr=class extends _i.p{constructor(t,r,S,K,J,fe,be,qe,dt,yt,zt,Ai){const Ki=Object.assign({},r);pl(dt,Ki,!0);const cn=be.registerEditorContainer(t);typeof Ki.theme=="string"&&be.setTheme(Ki.theme),typeof Ki.autoDetectHighContrast<"u"&&be.setAutoDetectHighContrast(!!Ki.autoDetectHighContrast),super(t,Ki,{},Ai,J,K,S,fe,be,qe,yt,zt),this._configurationService=dt,this._standaloneThemeService=be,this._register(cn)}dispose(){super.dispose()}updateOptions(t){pl(this._configurationService,t,!0),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!t.autoDetectHighContrast),super.updateOptions(t)}_createInnerEditor(t,r,S){return t.createInstance(vl,r,S)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(t,r,S){return this.getModifiedEditor().addCommand(t,r,S)}createContextKey(t,r){return this.getModifiedEditor().createContextKey(t,r)}addAction(t){return this.getModifiedEditor().addAction(t)}};tr=sc([os(2,en.TG),os(3,sn.i6),os(4,an.p),os(5,_.$),os(6,Ms.Z),os(7,Y.lT),os(8,nn.Ui),os(9,zs.i),os(10,Jr.ek),os(11,Kc.p)],tr);function rc(ve,t,r,S,K){if(r=r||"",!S){const J=r.indexOf(`
`);let fe=r;return J!==-1&&(fe=r.substring(0,J)),ac(ve,r,t.createByFilepathOrFirstLine(K||null,fe),K)}return ac(ve,r,t.createById(S),K)}function ac(ve,t,r,S){return ve.createModel(t,r,S)}function nu(ve,t,r){return _n.initialize(r||{}).createInstance(oc,ve,t)}function su(ve){return _n.get(_.$).onCodeEditorAdd(r=>{ve(r)})}function ld(ve){return _n.get(_.$).onDiffEditorAdd(r=>{ve(r)})}function jr(){return _n.get(_.$).listCodeEditors()}function cd(){return _n.get(_.$).listDiffEditors()}function ou(ve,t,r){return _n.initialize(r||{}).createInstance(tr,ve,t)}function Wa(ve,t){return new v.F(ve,t)}function ru(ve){if(typeof ve.id!="string"||typeof ve.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Zn.P0.registerCommand(ve.id,ve.run)}function _r(ve){if(typeof ve.id!="string"||typeof ve.label!="string"||typeof ve.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const t=sn.Ao.deserialize(ve.precondition),r=(K,...J)=>al._l.runEditorCommand(K,J,t,(fe,be,qe)=>Promise.resolve(ve.run(be,...qe))),S=new m.SL;if(S.add(Zn.P0.registerCommand(ve.id,r)),ve.contextMenuGroupId){const K={command:{id:ve.id,title:ve.label},when:t,group:ve.contextMenuGroupId,order:ve.contextMenuOrder||0};S.add(Qs.BH.appendMenuItem(Qs.eH.EditorContext,K))}if(Array.isArray(ve.keybindings)){const K=_n.get(cs.d);if(!(K instanceof ha))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const J=sn.Ao.and(t,sn.Ao.deserialize(ve.keybindingContext));S.add(K.addDynamicKeybindings(ve.keybindings.map(fe=>({keybinding:fe,command:ve.id,when:J}))))}}return S}function Cl(ve){return dd([ve])}function dd(ve){const t=_n.get(cs.d);return t instanceof ha?t.addDynamicKeybindings(ve.map(r=>({keybinding:r.keybinding,command:r.command,commandArgs:r.commandArgs,when:sn.Ao.deserialize(r.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),m.JT.None)}function bl(ve,t,r){const S=_n.get(P.O),K=S.getLanguageIdByMimeType(t)||t;return rc(_n.get(V.q),S,ve,K,r)}function Va(ve,t){const r=_n.get(P.O);_n.get(V.q).setMode(ve,r.createById(t))}function au(ve,t,r){ve&&_n.get(ds.lT).changeOne(t,ve.uri,r)}function Sl(ve){_n.get(ds.lT).changeAll(ve,[])}function qs(ve){return _n.get(ds.lT).read(ve)}function lu(ve){return _n.get(ds.lT).onMarkerChanged(ve)}function cu(ve){return _n.get(V.q).getModel(ve)}function wl(){return _n.get(V.q).getModels()}function du(ve){return _n.get(V.q).onModelAdded(ve)}function uu(ve){return _n.get(V.q).onModelRemoved(ve)}function hu(ve){return _n.get(V.q).onModelLanguageChanged(r=>{ve({model:r.model,oldLanguage:r.oldLanguageId})})}function Kr(ve){return Je(_n.get(V.q),_n.get(M.c_),ve)}function fu(ve,t){const r=_n.get(P.O),S=_n.get(Ms.Z);return S.registerEditorContainer(ve),et.colorizeElement(S,r,ve,t)}function lc(ve,t,r){const S=_n.get(P.O);return _n.get(Ms.Z).registerEditorContainer(document.body),et.colorize(S,ve,t,r)}function cc(ve,t,r=4){return _n.get(Ms.Z).registerEditorContainer(document.body),et.colorizeModelLine(ve,t,r)}function gu(ve){const t=O.RW.get(ve);return t||{getInitialState:()=>I.TJ,tokenize:(r,S,K)=>(0,I.Ri)(ve,K)}}function dc(ve,t){O.RW.getOrCreate(t);const r=gu(t),S=(0,i.uq)(ve),K=[];let J=r.getInitialState();for(let fe=0,be=S.length;fe<be;fe++){const qe=S[fe],dt=r.tokenize(qe,!0,J);K[fe]=dt.tokens,J=dt.endState}return K}function mu(ve,t){_n.get(Ms.Z).defineTheme(ve,t)}function pu(ve){_n.get(Ms.Z).setTheme(ve)}function uc(){d.g.clearAllFontInfos()}function yl(ve,t){return Zn.P0.registerCommand({id:ve,handler:t})}function hc(){return{create:nu,getEditors:jr,getDiffEditors:cd,onDidCreateEditor:su,onDidCreateDiffEditor:ld,createDiffEditor:ou,createDiffNavigator:Wa,addCommand:ru,addEditorAction:_r,addKeybindingRule:Cl,addKeybindingRules:dd,createModel:bl,setModelLanguage:Va,setModelMarkers:au,getModelMarkers:qs,removeAllMarkers:Sl,onDidChangeMarkers:lu,getModels:wl,getModel:cu,onDidCreateModel:du,onWillDisposeModel:uu,onDidChangeModelLanguage:hu,createWebWorker:Kr,colorizeElement:fu,colorize:lc,colorizeModelLine:cc,tokenize:dc,defineTheme:mu,setTheme:pu,remeasureFonts:uc,registerCommand:yl,AccessibilitySupport:y.ao,ContentWidgetPositionPreference:y.r3,CursorChangeReason:y.Vi,DefaultEndOfLine:y._x,EditorAutoIndentStrategy:y.rf,EditorOption:y.wT,EndOfLinePreference:y.gm,EndOfLineSequence:y.jl,MinimapPosition:y.F5,MouseTargetType:y.MG,OverlayWidgetPositionPreference:y.E$,OverviewRulerLane:y.sh,RenderLineNumbersType:y.Lu,RenderMinimap:y.vQ,ScrollbarVisibility:y.g_,ScrollType:y.g4,TextEditorCursorBlinkingStyle:y.In,TextEditorCursorStyle:y.d2,TrackedRangeStickiness:y.OI,WrappingIndent:y.up,InjectedTextCursorStops:y.RM,PositionAffinity:y.py,ConfigurationChangedEvent:b.Bb,BareFontInfo:p.E4,FontInfo:p.pR,TextModelResolvedOptions:T.dJ,FindMatch:T.tk,ApplyUpdateResult:b.rk,EditorType:L.g,EditorOptions:b.BH}}function _u(ve,t){if(!t||!Array.isArray(t))return!1;for(const r of t)if(!ve(r))return!1;return!0}function Fo(ve,t){return typeof ve=="boolean"?ve:t}function vr(ve,t){return typeof ve=="string"?ve:t}function fc(ve){const t={};for(const r of ve)t[r]=!0;return t}function ud(ve,t=!1){t&&(ve=ve.map(function(S){return S.toLowerCase()}));const r=fc(ve);return t?function(S){return r[S.toLowerCase()]!==void 0&&r.hasOwnProperty(S.toLowerCase())}:function(S){return r[S]!==void 0&&r.hasOwnProperty(S)}}function ir(ve,t){t=t.replace(/@@/g,"");let r=0,S;do S=!1,t=t.replace(/@(\w+)/g,function(J,fe){S=!0;let be="";if(typeof ve[fe]=="string")be=ve[fe];else if(ve[fe]&&ve[fe]instanceof RegExp)be=ve[fe].source;else throw ve[fe]===void 0?Si(ve,"language definition does not contain attribute '"+fe+"', used at: "+t):Si(ve,"attribute reference '"+fe+"' must be a string, used at: "+t);return Fi(be)?"":"(?:"+be+")"}),r++;while(S&&r<5);t=t.replace(/\x01/g,"@");const K=(ve.ignoreCase?"i":"")+(ve.unicode?"u":"");return new RegExp(t,K)}function vu(ve,t,r,S){if(S<0)return ve;if(S<t.length)return t[S];if(S>=100){S=S-100;const K=r.split(".");if(K.unshift(r),S<K.length)return K[S]}return null}function gc(ve,t,r,S){let K=-1,J=r,fe=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);fe&&(fe[3]&&(K=parseInt(fe[3]),fe[2]&&(K=K+100)),J=fe[4]);let be="~",qe=J;!J||J.length===0?(be="!=",qe=""):/^\w*$/.test(qe)?be="==":(fe=J.match(/^(@|!@|~|!~|==|!=)(.*)$/),fe&&(be=fe[1],qe=fe[2]));let dt;if((be==="~"||be==="!~")&&/^(\w|\|)*$/.test(qe)){const yt=ud(qe.split("|"),ve.ignoreCase);dt=function(zt){return be==="~"?yt(zt):!yt(zt)}}else if(be==="@"||be==="!@"){const yt=ve[qe];if(!yt)throw Si(ve,"the @ match target '"+qe+"' is not defined, in rule: "+t);if(!_u(function(Ai){return typeof Ai=="string"},yt))throw Si(ve,"the @ match target '"+qe+"' must be an array of strings, in rule: "+t);const zt=ud(yt,ve.ignoreCase);dt=function(Ai){return be==="@"?zt(Ai):!zt(Ai)}}else if(be==="~"||be==="!~")if(qe.indexOf("$")<0){const yt=ir(ve,"^"+qe+"$");dt=function(zt){return be==="~"?yt.test(zt):!yt.test(zt)}}else dt=function(yt,zt,Ai,Ki){return ir(ve,"^"+Ji(ve,qe,zt,Ai,Ki)+"$").test(yt)};else if(qe.indexOf("$")<0){const yt=Ii(ve,qe);dt=function(zt){return be==="=="?zt===yt:zt!==yt}}else{const yt=Ii(ve,qe);dt=function(zt,Ai,Ki,cn,En){const Rn=Ji(ve,yt,Ai,Ki,cn);return be==="=="?zt===Rn:zt!==Rn}}return K===-1?{name:r,value:S,test:function(yt,zt,Ai,Ki){return dt(yt,yt,zt,Ai,Ki)}}:{name:r,value:S,test:function(yt,zt,Ai,Ki){const cn=vu(yt,zt,Ai,K);return dt(cn||"",yt,zt,Ai,Ki)}}}function mc(ve,t,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw Si(ve,"a 'token' attribute must be of type string, in rule: "+t);{const S={token:r.token};if(r.token.indexOf("$")>=0&&(S.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")S.bracket=1;else if(r.bracket==="@close")S.bracket=-1;else throw Si(ve,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);if(r.next){if(typeof r.next!="string")throw Si(ve,"the next state must be a string value in rule: "+t);{let K=r.next;if(!/^(@pop|@push|@popall)$/.test(K)&&(K[0]==="@"&&(K=K.substr(1)),K.indexOf("$")<0&&!Ui(ve,Ji(ve,K,"",[],""))))throw Si(ve,"the next state '"+r.next+"' is not defined in rule: "+t);S.next=K}}return typeof r.goBack=="number"&&(S.goBack=r.goBack),typeof r.switchTo=="string"&&(S.switchTo=r.switchTo),typeof r.log=="string"&&(S.log=r.log),typeof r.nextEmbedded=="string"&&(S.nextEmbedded=r.nextEmbedded,ve.usesEmbedded=!0),S}}else if(Array.isArray(r)){const S=[];for(let K=0,J=r.length;K<J;K++)S[K]=mc(ve,t,r[K]);return{group:S}}else if(r.cases){const S=[];for(const J in r.cases)if(r.cases.hasOwnProperty(J)){const fe=mc(ve,t,r.cases[J]);J==="@default"||J==="@"||J===""?S.push({test:void 0,value:fe,name:J}):J==="@eos"?S.push({test:function(be,qe,dt,yt){return yt},value:fe,name:J}):S.push(gc(ve,t,J,fe))}const K=ve.defaultToken;return{test:function(J,fe,be,qe){for(const dt of S)if(!dt.test||dt.test(J,fe,be,qe))return dt.value;return K}}}else throw Si(ve,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}else return{token:""}}class Cu{constructor(t){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}setRegex(t,r){let S;if(typeof r=="string")S=r;else if(r instanceof RegExp)S=r.source;else throw Si(t,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=S.length>0&&S[0]==="^",this.name=this.name+": "+S,this.regex=ir(t,"^(?:"+(this.matchOnlyAtLineStart?S.substr(1):S)+")")}setAction(t,r){this.action=mc(t,this.name,r)}}function pc(ve,t){if(!t||typeof t!="object")throw new Error("Monarch: expecting a language definition object");const r={};r.languageId=ve,r.includeLF=Fo(t.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start=typeof t.start=="string"?t.start:null,r.ignoreCase=Fo(t.ignoreCase,!1),r.unicode=Fo(t.unicode,!1),r.tokenPostfix=vr(t.tokenPostfix,"."+r.languageId),r.defaultToken=vr(t.defaultToken,"source"),r.usesEmbedded=!1;const S=t;S.languageId=ve,S.includeLF=r.includeLF,S.ignoreCase=r.ignoreCase,S.unicode=r.unicode,S.noThrow=r.noThrow,S.usesEmbedded=r.usesEmbedded,S.stateNames=t.tokenizer,S.defaultToken=r.defaultToken;function K(fe,be,qe){for(const dt of qe){let yt=dt.include;if(yt){if(typeof yt!="string")throw Si(r,"an 'include' attribute must be a string at: "+fe);if(yt[0]==="@"&&(yt=yt.substr(1)),!t.tokenizer[yt])throw Si(r,"include target '"+yt+"' is not defined at: "+fe);K(fe+"."+yt,be,t.tokenizer[yt])}else{const zt=new Cu(fe);if(Array.isArray(dt)&&dt.length>=1&&dt.length<=3)if(zt.setRegex(S,dt[0]),dt.length>=3)if(typeof dt[1]=="string")zt.setAction(S,{token:dt[1],next:dt[2]});else if(typeof dt[1]=="object"){const Ai=dt[1];Ai.next=dt[2],zt.setAction(S,Ai)}else throw Si(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+fe);else zt.setAction(S,dt[1]);else{if(!dt.regex)throw Si(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+fe);dt.name&&typeof dt.name=="string"&&(zt.name=dt.name),dt.matchOnlyAtStart&&(zt.matchOnlyAtLineStart=Fo(dt.matchOnlyAtLineStart,!1)),zt.setRegex(S,dt.regex),zt.setAction(S,dt.action)}be.push(zt)}}}if(!t.tokenizer||typeof t.tokenizer!="object")throw Si(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(const fe in t.tokenizer)if(t.tokenizer.hasOwnProperty(fe)){r.start||(r.start=fe);const be=t.tokenizer[fe];r.tokenizer[fe]=new Array,K("tokenizer."+fe,r.tokenizer[fe],be)}if(r.usesEmbedded=S.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw Si(r,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const J=[];for(const fe of t.brackets){let be=fe;if(be&&Array.isArray(be)&&be.length===3&&(be={token:be[2],open:be[0],close:be[1]}),be.open===be.close)throw Si(r,"open and close brackets in a 'brackets' attribute must be different: "+be.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof be.open=="string"&&typeof be.token=="string"&&typeof be.close=="string")J.push({token:be.token+r.tokenPostfix,open:Ii(r,be.open),close:Ii(r,be.close)});else throw Si(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=J,r.noThrow=!0,r}var _c=function(ve,t,r,S){function K(J){return J instanceof r?J:new r(function(fe){fe(J)})}return new(r||(r=Promise))(function(J,fe){function be(yt){try{dt(S.next(yt))}catch(zt){fe(zt)}}function qe(yt){try{dt(S.throw(yt))}catch(zt){fe(zt)}}function dt(yt){yt.done?J(yt.value):K(yt.value).then(be,qe)}dt((S=S.apply(ve,t||[])).next())})};function Ha(ve){no.dQ.registerLanguage(ve)}function hd(){let ve=[];return ve=ve.concat(no.dQ.getLanguages()),ve}function fd(ve){return _n.get(P.O).languageIdCodec.encodeLanguageId(ve)}function bu(ve,t){const S=_n.get(P.O).onDidEncounterLanguage(K=>{K===ve&&(S.dispose(),t())});return S}function Su(ve,t){if(!_n.get(P.O).isRegisteredLanguageId(ve))throw new Error(`Cannot set configuration for unknown language ${ve}`);return _n.get(M.c_).register(ve,t,100)}class wu{constructor(t,r){this._languageId=t,this._actual=r}getInitialState(){return this._actual.getInitialState()}tokenize(t,r,S){if(typeof this._actual.tokenize=="function")return za.adaptTokenize(this._languageId,this._actual,t,S);throw new Error("Not supported!")}tokenizeEncoded(t,r,S){const K=this._actual.tokenizeEncoded(t,S);return new O.DI(K.tokens,K.endState)}}class za{constructor(t,r,S,K){this._languageId=t,this._actual=r,this._languageService=S,this._standaloneThemeService=K}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(t,r){const S=[];let K=0;for(let J=0,fe=t.length;J<fe;J++){const be=t[J];let qe=be.startIndex;J===0?qe=0:qe<K&&(qe=K),S[J]=new O.WU(qe,be.scopes,r),K=qe}return S}static adaptTokenize(t,r,S,K){const J=r.tokenize(S,K),fe=za._toClassicTokens(J.tokens,t);let be;return J.endState.equals(K)?be=K:be=J.endState,new O.hG(fe,be)}tokenize(t,r,S){return za.adaptTokenize(this._languageId,this._actual,t,S)}_toBinaryTokens(t,r){const S=t.encodeLanguageId(this._languageId),K=this._standaloneThemeService.getColorTheme().tokenTheme,J=[];let fe=0,be=0;for(let dt=0,yt=r.length;dt<yt;dt++){const zt=r[dt],Ai=K.match(S,zt.scopes);if(fe>0&&J[fe-1]===Ai)continue;let Ki=zt.startIndex;dt===0?Ki=0:Ki<be&&(Ki=be),J[fe++]=Ki,J[fe++]=Ai,be=Ki}const qe=new Uint32Array(fe);for(let dt=0;dt<fe;dt++)qe[dt]=J[dt];return qe}tokenizeEncoded(t,r,S){const K=this._actual.tokenize(t,S),J=this._toBinaryTokens(this._languageService.languageIdCodec,K.tokens);let fe;return K.endState.equals(S)?fe=S:fe=K.endState,new O.DI(J,fe)}}function yu(ve){return typeof ve.getInitialState=="function"}function Ll(ve){return"tokenizeEncoded"in ve}function Dl(ve){return ve&&typeof ve.then=="function"}function fa(ve){const t=_n.get(Ms.Z);if(ve){const r=[null];for(let S=1,K=ve.length;S<K;S++)r[S]=Ro.Il.fromHex(ve[S]);t.setColorMapOverride(r)}else t.setColorMapOverride(null)}function vc(ve,t){return Ll(t)?new wu(ve,t):new za(ve,t,_n.get(P.O),_n.get(Ms.Z))}function Cc(ve,t){const r={createTokenizationSupport:()=>_c(this,void 0,void 0,function*(){const S=yield Promise.resolve(t.create());return S?yu(S)?vc(ve,S):new Ti(_n.get(P.O),_n.get(Ms.Z),ve,pc(ve,S),_n.get(nn.Ui)):null})};return O.RW.registerFactory(ve,r)}function Lu(ve,t){if(!_n.get(P.O).isRegisteredLanguageId(ve))throw new Error(`Cannot set tokens provider for unknown language ${ve}`);return Dl(t)?Cc(ve,{create:()=>t}):O.RW.register(ve,vc(ve,t))}function gd(ve,t){const r=S=>new Ti(_n.get(P.O),_n.get(Ms.Z),ve,pc(ve,S),_n.get(nn.Ui));return Dl(t)?Cc(ve,{create:()=>t}):O.RW.register(ve,r(t))}function vh(ve,t){return _n.get(ii.p).referenceProvider.register(ve,t)}function Du(ve,t){return _n.get(ii.p).renameProvider.register(ve,t)}function Ch(ve,t){return _n.get(ii.p).signatureHelpProvider.register(ve,t)}function md(ve,t){return _n.get(ii.p).hoverProvider.register(ve,{provideHover:(S,K,J)=>{const fe=S.getWordAtPosition(K);return Promise.resolve(t.provideHover(S,K,J)).then(be=>{if(be)return!be.range&&fe&&(be.range=new B.e(K.lineNumber,fe.startColumn,K.lineNumber,fe.endColumn)),be.range||(be.range=new B.e(K.lineNumber,K.column,K.lineNumber,K.column)),be})}})}function ga(ve,t){return _n.get(ii.p).documentSymbolProvider.register(ve,t)}function Eu(ve,t){return _n.get(ii.p).documentHighlightProvider.register(ve,t)}function bc(ve,t){return _n.get(ii.p).linkedEditingRangeProvider.register(ve,t)}function Iu(ve,t){return _n.get(ii.p).definitionProvider.register(ve,t)}function pd(ve,t){return _n.get(ii.p).implementationProvider.register(ve,t)}function xu(ve,t){return _n.get(ii.p).typeDefinitionProvider.register(ve,t)}function Nu(ve,t){return _n.get(ii.p).codeLensProvider.register(ve,t)}function Sc(ve,t,r){return _n.get(ii.p).codeActionProvider.register(ve,{providedCodeActionKinds:r?.providedCodeActionKinds,documentation:r?.documentation,provideCodeActions:(K,J,fe,be)=>{const dt=_n.get(ds.lT).read({resource:K.uri}).filter(yt=>B.e.areIntersectingOrTouching(yt,J));return t.provideCodeActions(K,J,{markers:dt,only:fe.only,trigger:fe.trigger},be)},resolveCodeAction:t.resolveCodeAction})}function _d(ve,t){return _n.get(ii.p).documentFormattingEditProvider.register(ve,t)}function vd(ve,t){return _n.get(ii.p).documentRangeFormattingEditProvider.register(ve,t)}function Tu(ve,t){return _n.get(ii.p).onTypeFormattingEditProvider.register(ve,t)}function wc(ve,t){return _n.get(ii.p).linkProvider.register(ve,t)}function yc(ve,t){return _n.get(ii.p).completionProvider.register(ve,t)}function Mu(ve,t){return _n.get(ii.p).colorProvider.register(ve,t)}function Lc(ve,t){return _n.get(ii.p).foldingRangeProvider.register(ve,t)}function ma(ve,t){return _n.get(ii.p).declarationProvider.register(ve,t)}function ks(ve,t){return _n.get(ii.p).selectionRangeProvider.register(ve,t)}function ku(ve,t){return _n.get(ii.p).documentSemanticTokensProvider.register(ve,t)}function pa(ve,t){return _n.get(ii.p).documentRangeSemanticTokensProvider.register(ve,t)}function Ru(ve,t){return _n.get(ii.p).inlineCompletionsProvider.register(ve,t)}function Dc(ve,t){return _n.get(ii.p).inlayHintsProvider.register(ve,t)}function Au(){return{register:Ha,getLanguages:hd,onLanguage:bu,getEncodedLanguageId:fd,setLanguageConfiguration:Su,setColorMap:fa,registerTokensProviderFactory:Cc,setTokensProvider:Lu,setMonarchTokensProvider:gd,registerReferenceProvider:vh,registerRenameProvider:Du,registerCompletionItemProvider:yc,registerSignatureHelpProvider:Ch,registerHoverProvider:md,registerDocumentSymbolProvider:ga,registerDocumentHighlightProvider:Eu,registerLinkedEditingRangeProvider:bc,registerDefinitionProvider:Iu,registerImplementationProvider:pd,registerTypeDefinitionProvider:xu,registerCodeLensProvider:Nu,registerCodeActionProvider:Sc,registerDocumentFormattingEditProvider:_d,registerDocumentRangeFormattingEditProvider:vd,registerOnTypeFormattingEditProvider:Tu,registerLinkProvider:wc,registerColorProvider:Mu,registerFoldingRangeProvider:Lc,registerDeclarationProvider:ma,registerSelectionRangeProvider:ks,registerDocumentSemanticTokensProvider:ku,registerDocumentRangeSemanticTokensProvider:pa,registerInlineCompletionsProvider:Ru,registerInlayHintsProvider:Dc,DocumentHighlightKind:y.MY,CompletionItemKind:y.cm,CompletionItemTag:y.we,CompletionItemInsertTextRule:y.a7,SymbolKind:y.cR,SymbolTag:y.r4,IndentAction:y.wU,CompletionTriggerKind:y.Ij,SignatureHelpTriggerKind:y.WW,InlayHintKind:y.gl,InlineCompletionTriggerKind:y.bw,CodeActionTriggerType:y.np,FoldingRangeKind:O.AD}}var Ec=s(71373),Ua;b.BH.wrappingIndent.defaultValue=0,b.BH.glyphMargin.defaultValue=!1,b.BH.autoIndent.defaultValue=3,b.BH.overviewRulerLanes.defaultValue=2,Ec.xC.setFormatterSelector((ve,t,r)=>Promise.resolve(ve[0]));const Os=C();Os.editor=hc(),Os.languages=Au();const Ou=Os.CancellationTokenSource,Cd=Os.Emitter,El=Os.KeyCode,Pu=Os.KeyMod,Fu=Os.Position,Cr=Os.Range,_a=Os.Selection,va=Os.SelectionDirection,ja=Os.MarkerSeverity,Bu=Os.MarkerTag,Wu=Os.Uri,Vu=Os.Token,Ic=Os.editor,Hu=Os.languages;(!((Ua=ae.li.MonacoEnvironment)===null||Ua===void 0)&&Ua.globalAPI||typeof define=="function"&&s.amdO)&&(self.monaco=Os),typeof self.require<"u"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},62783:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{CancellationTokenSource:function(){return b.CancellationTokenSource},Emitter:function(){return b.Emitter},KeyCode:function(){return b.KeyCode},KeyMod:function(){return b.KeyMod},MarkerSeverity:function(){return b.MarkerSeverity},MarkerTag:function(){return b.MarkerTag},Position:function(){return b.Position},Range:function(){return b.Range},Selection:function(){return b.Selection},SelectionDirection:function(){return b.SelectionDirection},Token:function(){return b.Token},Uri:function(){return b.Uri},__esModule:function(){return b.__esModule},editor:function(){return b.editor},languages:function(){return b.languages}});var b=s(50048),l=s(25552);(0,l.H)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>s.e(848).then(s.bind(s,40848))});(0,l.H)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>s.e(4386).then(s.bind(s,54386))});(0,l.H)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>s.e(1471).then(s.bind(s,31471))});(0,l.H)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>s.e(4129).then(s.bind(s,84129))});(0,l.H)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>s.e(7131).then(s.bind(s,47131))});(0,l.H)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>s.e(1448).then(s.bind(s,11448))});(0,l.H)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>s.e(3036).then(s.bind(s,33036))});(0,l.H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>s.e(1147).then(s.bind(s,21147))});(0,l.H)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>s.e(1960).then(s.bind(s,71960))}),(0,l.H)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>s.e(1960).then(s.bind(s,71960))});(0,l.H)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>s.e(8719).then(s.bind(s,18719))});(0,l.H)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>s.e(8946).then(s.bind(s,68946))});(0,l.H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>s.e(2075).then(s.bind(s,62075))});(0,l.H)({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>s.e(6423).then(s.bind(s,56423))});(0,l.H)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>s.e(9343).then(s.bind(s,39343))});(0,l.H)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>s.e(5849).then(s.bind(s,25849))});(0,l.H)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>s.e(2814).then(s.bind(s,12814))});(0,l.H)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>s.e(2240).then(s.bind(s,92240))});(0,l.H)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>s.e(4188).then(s.bind(s,14188))});(0,l.H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>s.e(6241).then(s.bind(s,96241))});(0,l.H)({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>s.e(5880).then(s.bind(s,5880)).then(le=>le.TagAutoInterpolationDollar)}),(0,l.H)({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>s.e(5880).then(s.bind(s,5880)).then(le=>le.TagAngleInterpolationDollar)}),(0,l.H)({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>s.e(5880).then(s.bind(s,5880)).then(le=>le.TagBracketInterpolationDollar)}),(0,l.H)({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>s.e(5880).then(s.bind(s,5880)).then(le=>le.TagAngleInterpolationBracket)}),(0,l.H)({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>s.e(5880).then(s.bind(s,5880)).then(le=>le.TagBracketInterpolationBracket)}),(0,l.H)({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>s.e(5880).then(s.bind(s,5880)).then(le=>le.TagAutoInterpolationDollar)}),(0,l.H)({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>s.e(5880).then(s.bind(s,5880)).then(le=>le.TagAutoInterpolationBracket)});(0,l.H)({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>s.e(249).then(s.bind(s,80249))});(0,l.H)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>s.e(6489).then(s.bind(s,66489))});(0,l.H)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>s.e(5703).then(s.bind(s,15703))});(0,l.H)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>s.e(3632).then(s.bind(s,53632))});(0,l.H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>s.e(2571).then(s.bind(s,2571))});(0,l.H)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>s.e(2798).then(s.bind(s,52798))});(0,l.H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>s.e(7043).then(s.bind(s,17043))});var z=s(43763);(0,l.H)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>s.e(4946).then(s.bind(s,34946))});(0,l.H)({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>s.e(4368).then(s.bind(s,84368))});(0,l.H)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>s.e(5593).then(s.bind(s,35593))});(0,l.H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>s.e(4912).then(s.bind(s,64912))});(0,l.H)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>s.e(911).then(s.bind(s,20911))});(0,l.H)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>s.e(4028).then(s.bind(s,94028))});(0,l.H)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>s.e(8906).then(s.bind(s,38906))});(0,l.H)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>s.e(2954).then(s.bind(s,42954))});(0,l.H)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>s.e(854).then(s.bind(s,60854))});(0,l.H)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>s.e(9398).then(s.bind(s,79398))});(0,l.H)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>s.e(1961).then(s.bind(s,31961))});(0,l.H)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>s.e(9537).then(s.bind(s,79537))});(0,l.H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>s.e(6082).then(s.bind(s,86082))});(0,l.H)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>s.e(8084).then(s.bind(s,63211))});(0,l.H)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>s.e(8070).then(s.bind(s,8070))});(0,l.H)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>s.e(996).then(s.bind(s,20996))});(0,l.H)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>s.e(7835).then(s.bind(s,47835))});(0,l.H)({id:"pla",extensions:[".pla"],loader:()=>s.e(3682).then(s.bind(s,23682))});(0,l.H)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>s.e(8180).then(s.bind(s,48180))});(0,l.H)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>s.e(4407).then(s.bind(s,94407))});(0,l.H)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>s.e(7562).then(s.bind(s,37562))});(0,l.H)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>s.e(3760).then(s.bind(s,63760))});(0,l.H)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>s.e(2892).then(s.bind(s,22892))});var j=s(83187);(0,l.H)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>s.e(9400).then(s.bind(s,69400))});(0,l.H)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>s.e(2140).then(s.bind(s,22140))});(0,l.H)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>s.e(6424).then(s.bind(s,76424))});(0,l.H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>s.e(1259).then(s.bind(s,91259))});(0,l.H)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>s.e(6449).then(s.bind(s,56449))});(0,l.H)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>s.e(1065).then(s.bind(s,71065))});(0,l.H)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>s.e(9684).then(s.bind(s,69684))});(0,l.H)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>s.e(8715).then(s.bind(s,8715))});(0,l.H)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>s.e(5062).then(s.bind(s,78))});(0,l.H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>s.e(180).then(s.bind(s,90180))});(0,l.H)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>s.e(618).then(s.bind(s,32060))});(0,l.H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>s.e(525).then(s.bind(s,90525))});(0,l.H)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>s.e(8670).then(s.bind(s,88670))});(0,l.H)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>s.e(1156).then(s.bind(s,1156))});(0,l.H)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>s.e(3919).then(s.bind(s,63919))});(0,l.H)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>s.e(5962).then(s.bind(s,85962))});(0,l.H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>s.e(7778).then(s.bind(s,27778))});(0,l.H)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>s.e(6587).then(s.bind(s,86587))});(0,l.H)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>s.e(2911).then(s.bind(s,42911))});(0,l.H)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>s.e(1886).then(s.bind(s,81886))}),(0,l.H)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>s.e(1886).then(s.bind(s,81886))});(0,l.H)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>s.e(7637).then(s.bind(s,57637))});(0,l.H)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>s.e(8424).then(s.bind(s,98424))});var E=s(88307);(0,l.H)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>s.e(9907).then(s.bind(s,39907))});(0,l.H)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>s.e(4902).then(s.bind(s,4902))});(0,l.H)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>s.e(3585).then(s.bind(s,23585))});var Z=Object.defineProperty,B=Object.getOwnPropertyDescriptor,H=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,y=(le,n,a,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let N of H(n))!O.call(le,N)&&N!==a&&Z(le,N,{get:()=>n[N],enumerable:!(u=B(n,N))||u.enumerable});return le},g=(le,n,a)=>(y(le,n,"default"),a&&y(a,n,"default")),C={};g(C,b);var m=class{constructor(le,n,a){ms(this,"_onDidChange",new C.Emitter);ms(this,"_options");ms(this,"_modeConfiguration");ms(this,"_languageId");this._languageId=le,this.setOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(le){this._options=le||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(le){this.setOptions(le)}setModeConfiguration(le){this._modeConfiguration=le||Object.create(null),this._onDidChange.fire(this)}},i={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},d={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},_=new m("css",i,d),v=new m("scss",i,d),p=new m("less",i,d);C.languages.css={cssDefaults:_,lessDefaults:p,scssDefaults:v};function L(){return s.e(5288).then(s.bind(s,45288))}C.languages.onLanguage("less",()=>{L().then(le=>le.setupMode(p))}),C.languages.onLanguage("scss",()=>{L().then(le=>le.setupMode(v))}),C.languages.onLanguage("css",()=>{L().then(le=>le.setupMode(_))});var T=Object.defineProperty,M=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyNames,P=Object.prototype.hasOwnProperty,V=(le,n,a,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let N of I(n))!P.call(le,N)&&N!==a&&T(le,N,{get:()=>n[N],enumerable:!(u=M(n,N))||u.enumerable});return le},$=(le,n,a)=>(V(le,n,"default"),a&&V(a,n,"default")),re={};$(re,b);var ae=class{constructor(le,n,a){ms(this,"_onDidChange",new re.Emitter);ms(this,"_options");ms(this,"_modeConfiguration");ms(this,"_languageId");this._languageId=le,this.setOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(le){this._options=le||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(le){this._modeConfiguration=le||Object.create(null),this._onDidChange.fire(this)}},ie={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},se={format:ie,suggest:{},data:{useDefaultDataProvider:!0}};function X(le){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:le===ne,documentFormattingEdits:le===ne,documentRangeFormattingEdits:le===ne}}var ne="html",Q="handlebars",F="razor",te=xe(ne,se,X(ne)),W=te.defaults,G=xe(Q,se,X(Q)),q=G.defaults,me=xe(F,se,X(F)),w=me.defaults;re.languages.html={htmlDefaults:W,razorDefaults:w,handlebarDefaults:q,htmlLanguageService:te,handlebarLanguageService:G,razorLanguageService:me,registerHTMLLanguageService:xe};function we(){return s.e(5377).then(s.bind(s,15377))}function xe(le,n=se,a=X(le)){const u=new ae(le,n,a);let N;const x=re.languages.onLanguage(le,async()=>{N=(await we()).setupMode(u)});return{defaults:u,dispose(){x.dispose(),N?.dispose(),N=void 0}}}var Ne=s(72323),Ve=s(39585),Ce=s(42549),Ae=s(69732),$e=s(92913),je=s(75623),at=s(35996),pt=s(59365),bt=s(22258),We=s(16830),it=s(3860),pe=s(29102),ye=s(63580),ft=s(38819),Xt=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},qt=function(le,n){return function(a,u){n(a,u,le)}},Ft=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};const Ot=new ft.uy("selectionAnchorSet",!1);let Mt=class af{constructor(n,a){this.editor=n,this.selectionAnchorSetContextKey=Ot.bindTo(a),this.modelChangeListener=n.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(n){return n.getContribution(af.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const n=this.editor.getPosition();this.editor.changeDecorations(a=>{this.decorationId&&a.removeDecoration(this.decorationId),this.decorationId=a.addDecoration(it.Y.fromPositions(n,n),{description:"selection-anchor",stickiness:1,hoverMessage:new pt.W5().appendText((0,ye.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,at.Z9)((0,ye.NC)("anchorSet","Anchor set at {0}:{1}",n.lineNumber,n.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const n=this.editor.getModel().getDecorationRange(this.decorationId);n&&this.editor.setPosition(n.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const n=this.editor.getModel().getDecorationRange(this.decorationId);if(n){const a=this.editor.getPosition();this.editor.setSelection(it.Y.fromPositions(n.getStartPosition(),a)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const n=this.decorationId;this.editor.changeDecorations(a=>{a.removeDecoration(n),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Mt.ID="editor.contrib.selectionAnchorController",Mt=Xt([qt(1,ft.i6)],Mt);class ni extends We.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,ye.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:(0,bt.gx)(2089,2080),weight:100}})}run(n,a){var u;return Ft(this,void 0,void 0,function*(){(u=Mt.get(a))===null||u===void 0||u.setSelectionAnchor()})}}class Gt extends We.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,ye.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:Ot})}run(n,a){var u;return Ft(this,void 0,void 0,function*(){(u=Mt.get(a))===null||u===void 0||u.goToSelectionAnchor()})}}class Fe extends We.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,ye.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:Ot,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:(0,bt.gx)(2089,2089),weight:100}})}run(n,a){var u;return Ft(this,void 0,void 0,function*(){(u=Mt.get(a))===null||u===void 0||u.selectFromAnchorToCursor()})}}class Ge extends We.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,ye.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:Ot,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:9,weight:100}})}run(n,a){var u;return Ft(this,void 0,void 0,function*(){(u=Mt.get(a))===null||u===void 0||u.cancelSelectionAnchor()})}}(0,We._K)(Mt.ID,Mt),(0,We.Qr)(ni),(0,We.Qr)(Gt),(0,We.Qr)(Fe),(0,We.Qr)(Ge);var Te=s(13468),Ke=s(24314);class ut{constructor(n,a){this._selection=n,this._isMovingLeft=a}getEditOperations(n,a){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const u=this._selection.startLineNumber,N=this._selection.startColumn,x=this._selection.endColumn;if(!(this._isMovingLeft&&N===1)&&!(!this._isMovingLeft&&x===n.getLineMaxColumn(u)))if(this._isMovingLeft){const ee=new Ke.e(u,N-1,u,N),ue=n.getValueInRange(ee);a.addEditOperation(ee,null),a.addEditOperation(new Ke.e(u,x,u,x),ue)}else{const ee=new Ke.e(u,x,u,x+1),ue=n.getValueInRange(ee);a.addEditOperation(ee,null),a.addEditOperation(new Ke.e(u,N,u,N),ue)}}computeCursorState(n,a){return this._isMovingLeft?new it.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new it.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class Nt extends We.R6{constructor(n,a){super(a),this.left=n}run(n,a){if(!a.hasModel())return;const u=[],N=a.getSelections();for(const x of N)u.push(new ut(x,this.left));a.pushUndoStop(),a.executeCommands(this.id,u),a.pushUndoStop()}}class Be extends Nt{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:ye.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:pe.u.writable})}}class Ze extends Nt{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:ye.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:pe.u.writable})}}(0,We.Qr)(Be),(0,We.Qr)(Ze);var wt=s(61329),$t=s(10839);class _t extends We.R6{constructor(){super({id:"editor.action.transposeLetters",label:ye.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(n,a){if(!a.hasModel())return;const u=a.getModel(),N=[],x=a.getSelections();for(const ee of x){if(!ee.isEmpty())continue;const ue=ee.startLineNumber,Pe=ee.startColumn,Re=u.getLineMaxColumn(ue);if(ue===1&&(Pe===1||Pe===2&&Re===2))continue;const De=Pe===Re?ee.getPosition():$t.o.rightPosition(u,ee.getPosition().lineNumber,ee.getPosition().column),tt=$t.o.leftPosition(u,De),Vt=$t.o.leftPosition(u,tt),si=u.getValueInRange(Ke.e.fromPositions(Vt,tt)),li=u.getValueInRange(Ke.e.fromPositions(tt,De)),Ni=Ke.e.fromPositions(Vt,De);N.push(new wt.T4(Ni,li+si))}N.length>0&&(a.pushUndoStop(),a.executeCommands(this.id,N),a.pushUndoStop())}}(0,We.Qr)(_t);var Jt=s(55833),Zt=s(3141),Xe=s(800),Lt=s(23193),mi=s(89872);mi.B.as(Lt.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},Xe.wk),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:ye.NC("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}})),(0,We._K)(Zt.pY.ID,Zt.pY),(0,We.Qr)(Zt.E7),(0,We.Qr)(Zt.Eb),(0,We.Qr)(Zt.UG),(0,We.Qr)(Zt.VQ),(0,We.Qr)(Zt.o$),(0,We.Qr)(Zt.S5),(0,We.Qr)(Zt.Hv),(0,We.fK)(new Zt.dW);var jt=s(65321),ki=s(15393),Pi=s(17301),gt=s(89954),St=s(5976),ii=s(43407),Ri=s(64141),Di=s(71050),Vi=s(98401),Ci=s(70666),Wt=s(73733),vt=s(94565),_e=s(71922),Ee=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};class Le{constructor(){this.lenses=[],this._disposables=new St.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(n,a){this._disposables.add(n);for(const u of n.lenses)this.lenses.push({symbol:u,provider:a})}}function oe(le,n,a){return Ee(this,void 0,void 0,function*(){const u=le.ordered(n),N=new Map,x=new Le,ee=u.map((ue,Pe)=>Ee(this,void 0,void 0,function*(){N.set(ue,Pe);try{const Re=yield Promise.resolve(ue.provideCodeLenses(n,a));Re&&x.add(Re,ue)}catch(Re){(0,Pi.Cp)(Re)}}));return yield Promise.all(ee),x.lenses=x.lenses.sort((ue,Pe)=>ue.symbol.range.startLineNumber<Pe.symbol.range.startLineNumber?-1:ue.symbol.range.startLineNumber>Pe.symbol.range.startLineNumber?1:N.get(ue.provider)<N.get(Pe.provider)?-1:N.get(ue.provider)>N.get(Pe.provider)?1:ue.symbol.range.startColumn<Pe.symbol.range.startColumn?-1:ue.symbol.range.startColumn>Pe.symbol.range.startColumn?1:0),x})}vt.P0.registerCommand("_executeCodeLensProvider",function(le,...n){let[a,u]=n;(0,Vi.p_)(Ci.o.isUri(a)),(0,Vi.p_)(typeof u=="number"||!u);const{codeLensProvider:N}=le.get(_e.p),x=le.get(Wt.q).getModel(a);if(!x)throw(0,Pi.b1)();const ee=[],ue=new St.SL;return oe(N,x,Di.T.None).then(Pe=>{ue.add(Pe);const Re=[];for(const De of Pe.lenses)u==null||De.symbol.command?ee.push(De.symbol):u-- >0&&De.provider.resolveCodeLens&&Re.push(Promise.resolve(De.provider.resolveCodeLens(x,De.symbol,Di.T.None)).then(tt=>ee.push(tt||De.symbol)));return Promise.all(Re)}).then(()=>ee).finally(()=>{setTimeout(()=>ue.dispose(),100)})});var he=s(88289),Me=s(43702),ke=s(65026),Je=s(72065),ot=s(87060),ht=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},xt=function(le,n){return function(a,u){n(a,u,le)}};const nt=(0,Je.yh)("ICodeLensCache");class It{constructor(n,a){this.lineCount=n,this.data=a}}let Ht=class{constructor(n){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Me.z6(20,.75);const a="codelens/cache";(0,ki.To)(()=>n.remove(a,1));const u="codelens/cache2",N=n.get(u,1,"{}");this._deserialize(N),(0,he.I)(n.onWillSaveState)(x=>{x.reason===ot.fk.SHUTDOWN&&n.store(u,this._serialize(),1,1)})}put(n,a){const u=a.lenses.map(ee=>{var ue;return{range:ee.symbol.range,command:ee.symbol.command&&{id:"",title:(ue=ee.symbol.command)===null||ue===void 0?void 0:ue.title}}}),N=new Le;N.add({lenses:u,dispose:()=>{}},this._fakeProvider);const x=new It(n.getLineCount(),N);this._cache.set(n.uri.toString(),x)}get(n){const a=this._cache.get(n.uri.toString());return a&&a.lineCount===n.getLineCount()?a.data:void 0}delete(n){this._cache.delete(n.uri.toString())}_serialize(){const n=Object.create(null);for(const[a,u]of this._cache){const N=new Set;for(const x of u.data.lenses)N.add(x.symbol.range.startLineNumber);n[a]={lineCount:u.lineCount,lines:[...N.values()]}}return JSON.stringify(n)}_deserialize(n){try{const a=JSON.parse(n);for(const u in a){const N=a[u],x=[];for(const ue of N.lines)x.push({range:new Ke.e(ue,1,ue,11)});const ee=new Le;ee.add({lenses:x,dispose(){}},this._fakeProvider),this._cache.set(u,new It(N.lineCount,ee))}}catch{}}};Ht=ht([xt(0,ot.Uy)],Ht),(0,ke.z)(nt,Ht);var Qt=s(56811),ci=s(22529);class Fi{constructor(n,a,u){this.afterColumn=1073741824,this.afterLineNumber=n,this.heightInPx=a,this._onHeight=u,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(n){this._lastHeight===void 0?this._lastHeight=n:this._lastHeight!==n&&(this._lastHeight=n,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class Ii{constructor(n,a,u){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=n,this._id=`codelens.widget-${Ii._idPool++}`,this.updatePosition(u),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${a}`}withCommands(n,a){this._commands.clear();const u=[];let N=!1;for(let x=0;x<n.length;x++){const ee=n[x];if(ee&&(N=!0,ee.command)){const ue=(0,Qt.T)(ee.command.title.trim());ee.command.id?(u.push(jt.$("a",{id:String(x),title:ee.command.tooltip,role:"button"},...ue)),this._commands.set(String(x),ee.command)):u.push(jt.$("span",{title:ee.command.tooltip},...ue)),x+1<n.length&&u.push(jt.$("span",void 0,"\xA0|\xA0"))}}N?(jt.mc(this._domNode,...u),this._isEmpty&&a&&this._domNode.classList.add("fadein"),this._isEmpty=!1):jt.mc(this._domNode,jt.$("span",void 0,"no commands"))}getCommand(n){return n.parentElement===this._domNode?this._commands.get(n.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(n){const a=this._editor.getModel().getLineFirstNonWhitespaceColumn(n);this._widgetPosition={position:{lineNumber:n,column:a},preference:[1]}}getPosition(){return this._widgetPosition||null}}Ii._idPool=0;class Xi{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(n,a){this._addDecorations.push(n),this._addDecorationsCallbacks.push(a)}removeDecoration(n){this._removeDecorations.push(n)}commit(n){const a=n.deltaDecorations(this._removeDecorations,this._addDecorations);for(let u=0,N=a.length;u<N;u++)this._addDecorationsCallbacks[u](a[u])}}class zi{constructor(n,a,u,N,x,ee,ue){this._isDisposed=!1,this._editor=a,this._className=u,this._data=n,this._decorationIds=[];let Pe;const Re=[];this._data.forEach((De,tt)=>{De.symbol.command&&Re.push(De.symbol),N.addDecoration({range:De.symbol.range,options:ci.qx.EMPTY},Vt=>this._decorationIds[tt]=Vt),Pe?Pe=Ke.e.plusRange(Pe,De.symbol.range):Pe=Ke.e.lift(De.symbol.range)}),this._viewZone=new Fi(Pe.startLineNumber-1,ee,ue),this._viewZoneId=x.addZone(this._viewZone),Re.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(Re,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Ii(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(n,a){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],a?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((n,a)=>{const u=this._editor.getModel().getDecorationRange(n),N=this._data[a].symbol;return!!(u&&Ke.e.isEmpty(N.range)===u.isEmpty())})}updateCodeLensSymbols(n,a){this._decorationIds.forEach(a.removeDecoration,a),this._decorationIds=[],this._data=n,this._data.forEach((u,N)=>{a.addDecoration({range:u.symbol.range,options:ci.qx.EMPTY},x=>this._decorationIds[N]=x)})}updateHeight(n,a){this._viewZone.heightInPx=n,a.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(n){if(!this._viewZone.isVisible())return null;for(let a=0;a<this._decorationIds.length;a++){const u=n.getDecorationRange(this._decorationIds[a]);u&&(this._data[a].symbol.range=u)}return this._data}updateCommands(n){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(n,!0);for(let a=0;a<this._data.length;a++){const u=n[a];if(u){const{symbol:N}=this._data[a];N.command=u.command||N.command}}}getCommand(n){var a;return(a=this._contentWidget)===null||a===void 0?void 0:a.getCommand(n)}getLineNumber(){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return n?n.startLineNumber:-1}update(n){if(this.isValid()){const a=this._editor.getModel().getDecorationRange(this._decorationIds[0]);a&&(this._viewZone.afterLineNumber=a.startLineNumber-1,n.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(a.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var Si=s(59422),Ji=s(41157),Zi=s(88191),Ui=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},nn=function(le,n){return function(a,u){n(a,u,le)}},Dn=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};let Cn=class{constructor(n,a,u,N,x,ee){this._editor=n,this._languageFeaturesService=a,this._commandService=N,this._notificationService=x,this._codeLensCache=ee,this._disposables=new St.SL,this._localToDispose=new St.SL,this._lenses=[],this._oldCodeLensModels=new St.SL,this._provideCodeLensDebounce=u.for(a.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=u.for(a.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new ki.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(ue=>{(ue.hasChanged(46)||ue.hasChanged(16)||ue.hasChanged(15))&&this._updateLensStyle(),ue.hasChanged(14)&&this._onModelChange()})),this._disposables.add(a.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,gt.vp)(this._editor.getId()).toString(16),this._styleElement=jt.dS(jt.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var n;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(n=this._currentCodeLensModel)===null||n===void 0||n.dispose(),this._styleElement.remove()}_getLayoutInfo(){const n=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48));let a=this._editor.getOption(16);return(!a||a<5)&&(a=this._editor.getOption(48)*.9|0),{fontSize:a,codeLensHeight:a*n|0}}_updateLensStyle(){const{codeLensHeight:n,fontSize:a}=this._getLayoutInfo(),u=this._editor.getOption(15),N=this._editor.getOption(46),x=`--codelens-font-family${this._styleClassName}`,ee=`--codelens-font-features${this._styleClassName}`;let ue=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${n}px; font-size: ${a}px; padding-right: ${Math.round(a*.5)}px; font-feature-settings: var(${ee}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${n}px; font-size: ${a}px; }
		`;u&&(ue+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${x}), ${Ri.hL.fontFamily}}`),this._styleElement.textContent=ue,this._editor.getContainerDomNode().style.setProperty(x,u??"inherit"),this._editor.getContainerDomNode().style.setProperty(ee,N.fontFeatureSettings),this._editor.changeViewZones(Pe=>{for(const Re of this._lenses)Re.updateHeight(n,Pe)})}_localDispose(){var n,a,u;(n=this._getCodeLensModelPromise)===null||n===void 0||n.cancel(),this._getCodeLensModelPromise=void 0,(a=this._resolveCodeLensesPromise)===null||a===void 0||a.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(u=this._currentCodeLensModel)===null||u===void 0||u.dispose()}_onModelChange(){this._localDispose();const n=this._editor.getModel();if(!n||!this._editor.getOption(14))return;const a=this._codeLensCache.get(n);if(a&&this._renderCodeLensSymbols(a),!this._languageFeaturesService.codeLensProvider.has(n)){a&&this._localToDispose.add((0,ki.Vg)(()=>{const N=this._codeLensCache.get(n);a===N&&(this._codeLensCache.delete(n),this._onModelChange())},30*1e3));return}for(const N of this._languageFeaturesService.codeLensProvider.all(n))if(typeof N.onDidChange=="function"){const x=N.onDidChange(()=>u.schedule());this._localToDispose.add(x)}const u=new ki.pY(()=>{var N;const x=Date.now();(N=this._getCodeLensModelPromise)===null||N===void 0||N.cancel(),this._getCodeLensModelPromise=(0,ki.PG)(ee=>oe(this._languageFeaturesService.codeLensProvider,n,ee)),this._getCodeLensModelPromise.then(ee=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=ee,this._codeLensCache.put(n,ee);const ue=this._provideCodeLensDebounce.update(n,Date.now()-x);u.delay=ue,this._renderCodeLensSymbols(ee),this._resolveCodeLensesInViewportSoon()},Pi.dL)},this._provideCodeLensDebounce.get(n));this._localToDispose.add(u),this._localToDispose.add((0,St.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(N=>{this._editor.changeViewZones(x=>{const ee=[];let ue=-1;this._lenses.forEach(Re=>{!Re.isValid()||ue===Re.getLineNumber()?ee.push(Re):(Re.update(x),ue=Re.getLineNumber())});const Pe=new Xi;ee.forEach(Re=>{Re.dispose(Pe,x),this._lenses.splice(this._lenses.indexOf(Re),1)}),Pe.commit(N)})}),u.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{u.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(N=>{N.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,St.OF)(()=>{if(this._editor.getModel()){const N=ii.Z.capture(this._editor);this._editor.changeDecorations(x=>{this._editor.changeViewZones(ee=>{this._disposeAllLenses(x,ee)})}),N.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(N=>{if(N.target.type!==9)return;let x=N.target.element;if(x?.tagName==="SPAN"&&(x=x.parentElement),x?.tagName==="A")for(const ee of this._lenses){const ue=ee.getCommand(x);if(ue){this._commandService.executeCommand(ue.id,...ue.arguments||[]).catch(Pe=>this._notificationService.error(Pe));break}}})),u.schedule()}_disposeAllLenses(n,a){const u=new Xi;for(const N of this._lenses)N.dispose(u,a);n&&u.commit(n),this._lenses.length=0}_renderCodeLensSymbols(n){if(!this._editor.hasModel())return;const a=this._editor.getModel().getLineCount(),u=[];let N;for(const ue of n.lenses){const Pe=ue.symbol.range.startLineNumber;Pe<1||Pe>a||(N&&N[N.length-1].symbol.range.startLineNumber===Pe?N.push(ue):(N=[ue],u.push(N)))}const x=ii.Z.capture(this._editor),ee=this._getLayoutInfo();this._editor.changeDecorations(ue=>{this._editor.changeViewZones(Pe=>{const Re=new Xi;let De=0,tt=0;for(;tt<u.length&&De<this._lenses.length;){const Vt=u[tt][0].symbol.range.startLineNumber,si=this._lenses[De].getLineNumber();si<Vt?(this._lenses[De].dispose(Re,Pe),this._lenses.splice(De,1)):si===Vt?(this._lenses[De].updateCodeLensSymbols(u[tt],Re),tt++,De++):(this._lenses.splice(De,0,new zi(u[tt],this._editor,this._styleClassName,Re,Pe,ee.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),De++,tt++)}for(;De<this._lenses.length;)this._lenses[De].dispose(Re,Pe),this._lenses.splice(De,1);for(;tt<u.length;)this._lenses.push(new zi(u[tt],this._editor,this._styleClassName,Re,Pe,ee.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),tt++;Re.commit(ue)})}),x.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var n;(n=this._resolveCodeLensesPromise)===null||n===void 0||n.cancel(),this._resolveCodeLensesPromise=void 0;const a=this._editor.getModel();if(!a)return;const u=[],N=[];if(this._lenses.forEach(ue=>{const Pe=ue.computeIfNecessary(a);Pe&&(u.push(Pe),N.push(ue))}),u.length===0)return;const x=Date.now(),ee=(0,ki.PG)(ue=>{const Pe=u.map((Re,De)=>{const tt=new Array(Re.length),Vt=Re.map((si,li)=>!si.symbol.command&&typeof si.provider.resolveCodeLens=="function"?Promise.resolve(si.provider.resolveCodeLens(a,si.symbol,ue)).then(Ni=>{tt[li]=Ni},Pi.Cp):(tt[li]=si.symbol,Promise.resolve(void 0)));return Promise.all(Vt).then(()=>{!ue.isCancellationRequested&&!N[De].isDisposed()&&N[De].updateCommands(tt)})});return Promise.all(Pe)});this._resolveCodeLensesPromise=ee,this._resolveCodeLensesPromise.then(()=>{const ue=this._resolveCodeLensesDebounce.update(a,Date.now()-x);this._resolveCodeLensesScheduler.delay=ue,this._currentCodeLensModel&&this._codeLensCache.put(a,this._currentCodeLensModel),this._oldCodeLensModels.clear(),ee===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},ue=>{(0,Pi.dL)(ue),ee===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};Cn.ID="css.editor.codeLens",Cn=Ui([nn(1,_e.p),nn(2,Zi.A),nn(3,vt.Hy),nn(4,Si.lT),nn(5,nt)],Cn),(0,We._K)(Cn.ID,Cn),(0,We.Qr)(class extends We.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:pe.u.hasCodeLensProvider,label:(0,ye.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(n,a){return Dn(this,void 0,void 0,function*(){if(!a.hasModel())return;const u=n.get(Ji.eJ),N=n.get(vt.Hy),x=n.get(Si.lT),ee=a.getSelection().positionLineNumber,ue=a.getContribution(Cn.ID);if(!ue)return;const Pe=ue.getModel();if(!Pe)return;const Re=[];for(const tt of Pe.lenses)tt.symbol.command&&tt.symbol.range.startLineNumber===ee&&Re.push({label:tt.symbol.command.title,command:tt.symbol.command});if(Re.length===0)return;const De=yield u.pick(Re,{canPickMany:!1});if(De){if(Pe.isDisposed)return yield N.executeCommand(this.id);try{yield N.executeCommand(De.command.id,...De.command.arguments||[])}catch(tt){x.error(tt)}}})}});var pi=s(41264),ze=s(84013),Ct=s(97295),kt=s(29994);function oi(le,n,a){const u=[],x=le.ordered(n).reverse().map(ee=>Promise.resolve(ee.provideDocumentColors(n,a)).then(ue=>{if(Array.isArray(ue))for(const Pe of ue)u.push({colorInfo:Pe,provider:ee})}));return Promise.all(x).then(()=>u)}function ai(le,n,a,u){return Promise.resolve(a.provideColorPresentations(le,n,u))}vt.P0.registerCommand("_executeDocumentColorProvider",function(le,...n){const[a]=n;if(!(a instanceof Ci.o))throw(0,Pi.b1)();const{colorProvider:u}=le.get(_e.p),N=le.get(Wt.q).getModel(a);if(!N)throw(0,Pi.b1)();const x=[],ue=u.ordered(N).reverse().map(Pe=>Promise.resolve(Pe.provideDocumentColors(N,Di.T.None)).then(Re=>{if(Array.isArray(Re))for(const De of Re)x.push({range:De.range,color:[De.color.red,De.color.green,De.color.blue,De.color.alpha]})}));return Promise.all(ue).then(()=>x)}),vt.P0.registerCommand("_executeColorPresentationProvider",function(le,...n){const[a,u]=n,{uri:N,range:x}=u;if(!(N instanceof Ci.o)||!Array.isArray(a)||a.length!==4||!Ke.e.isIRange(x))throw(0,Pi.b1)();const[ee,ue,Pe,Re]=a,{colorProvider:De}=le.get(_e.p),tt=le.get(Wt.q).getModel(N);if(!tt)throw(0,Pi.b1)();const Vt={range:x,color:{red:ee,green:ue,blue:Pe,alpha:Re}},si=[],Ni=De.ordered(tt).reverse().map(Oi=>Promise.resolve(Oi.provideColorPresentations(tt,Vt,Di.T.None)).then(dn=>{Array.isArray(dn)&&si.push(...dn)}));return Promise.all(Ni).then(()=>si)});var bi=s(33108),xi=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Ti=function(le,n){return function(a,u){n(a,u,le)}},ji=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};const Hi=Object.create({}),rn=500;let wi=class lf extends St.JT{constructor(n,a,u,N){super(),this._editor=n,this._configurationService=a,this._languageFeaturesService=u,this._localToDispose=this._register(new St.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new kt.t7(this._editor),this._colorDecorationClassRefs=this._register(new St.SL),this._debounceInformation=N.for(u.colorProvider,"Document Colors",{min:lf.RECOMPUTE_TIME}),this._register(n.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(n.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(u.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(n.onDidChangeConfiguration(()=>{const x=this._isEnabled;this._isEnabled=this.isEnabled(),x!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const n=this._editor.getModel();if(!n)return!1;const a=n.getLanguageId(),u=this._configurationService.getValue(a);if(u&&typeof u=="object"){const N=u.colorDecorators;if(N&&N.enable!==void 0&&!N.enable)return N.enable}return this._editor.getOption(17)}static get(n){return n.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const n=this._editor.getModel();!n||!this._languageFeaturesService.colorProvider.has(n)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new ki._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(n)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,ki.PG)(n=>ji(this,void 0,void 0,function*(){const a=this._editor.getModel();if(!a)return Promise.resolve([]);const u=new ze.G(!1),N=yield oi(this._languageFeaturesService.colorProvider,a,n);return this._debounceInformation.update(a,u.elapsed()),N})),this._computePromise.then(n=>{this.updateDecorations(n),this.updateColorDecorators(n),this._computePromise=null},Pi.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(n){const a=n.map(u=>({range:{startLineNumber:u.colorInfo.range.startLineNumber,startColumn:u.colorInfo.range.startColumn,endLineNumber:u.colorInfo.range.endLineNumber,endColumn:u.colorInfo.range.endColumn},options:ci.qx.EMPTY}));this._editor.changeDecorations(u=>{this._decorationsIds=u.deltaDecorations(this._decorationsIds,a),this._colorDatas=new Map,this._decorationsIds.forEach((N,x)=>this._colorDatas.set(N,n[x]))})}updateColorDecorators(n){this._colorDecorationClassRefs.clear();const a=[];for(let u=0;u<n.length&&a.length<rn;u++){const{red:N,green:x,blue:ee,alpha:ue}=n[u].colorInfo.color,Pe=new pi.VS(Math.round(N*255),Math.round(x*255),Math.round(ee*255),ue),Re=`rgba(${Pe.r}, ${Pe.g}, ${Pe.b}, ${Pe.a})`,De=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:Re}));a.push({range:{startLineNumber:n[u].colorInfo.range.startLineNumber,startColumn:n[u].colorInfo.range.startColumn,endLineNumber:n[u].colorInfo.range.endLineNumber,endColumn:n[u].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Ct.B4,inlineClassName:`${De.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:Hi}}})}this._colorDecoratorIds.set(a)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(n){const a=this._editor.getModel();if(!a)return null;const u=a.getDecorationsInRange(Ke.e.fromPositions(n,n)).filter(N=>this._colorDatas.has(N.id));return u.length===0?null:this._colorDatas.get(u[0].id)}isColorDecoration(n){return this._colorDecoratorIds.has(n)}};wi.ID="editor.contrib.colorDetector",wi.RECOMPUTE_TIME=1e3,wi=xi([Ti(1,bi.Ui),Ti(2,_e.p),Ti(3,Zi.A)],wi),(0,We._K)(wi.ID,wi);var et=s(4669);class lt{constructor(n,a,u){this.presentationIndex=u,this._onColorFlushed=new et.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new et.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new et.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=n,this._color=n,this._colorPresentations=a}get color(){return this._color}set color(n){this._color.equals(n)||(this._color=n,this._onDidChangeColor.fire(n))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(n){this._colorPresentations=n,this.presentationIndex>n.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(n,a){for(let u=0;u<this.colorPresentations.length;u++)if(a.toLowerCase()===this.colorPresentations[u].label){this.presentationIndex=u,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var Rt=s(30747),Ut=s(93911),ui=s(93794),ri=s(73910),_i=s(97781);const Yi=jt.$;class an extends St.JT{constructor(n,a,u){super(),this.model=a,this.domNode=Yi(".colorpicker-header"),jt.R3(n,this.domNode),this.pickedColorNode=jt.R3(this.domNode,Yi(".picked-color"));const N=(0,ye.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",N);const x=jt.R3(this.domNode,Yi(".original-color"));x.style.backgroundColor=pi.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=u.getColorTheme().getColor(ri.yJx)||pi.Il.white,this._register((0,_i.Ic)((ee,ue)=>{this.backgroundColor=ee.getColor(ri.yJx)||pi.Il.white})),this._register(jt.nm(this.pickedColorNode,jt.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(jt.nm(x,jt.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(a.onDidChangeColor(this.onDidChangeColor,this)),this._register(a.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=pi.Il.Format.CSS.format(a.color)||"",this.pickedColorNode.classList.toggle("light",a.color.rgba.a<.5?this.backgroundColor.isLighter():a.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(n){this.pickedColorNode.style.backgroundColor=pi.Il.Format.CSS.format(n)||"",this.pickedColorNode.classList.toggle("light",n.rgba.a<.5?this.backgroundColor.isLighter():n.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Yi(".codicon.codicon-color-mode"))}}class ei extends St.JT{constructor(n,a,u){super(),this.model=a,this.pixelRatio=u,this.domNode=Yi(".colorpicker-body"),jt.R3(n,this.domNode),this.saturationBox=new Gi(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new bn(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Mn(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:n,v:a}){const u=this.model.color.hsva;this.model.color=new pi.Il(new pi.tx(u.h,n,a,u.a))}onDidOpacityChange(n){const a=this.model.color.hsva;this.model.color=new pi.Il(new pi.tx(a.h,a.s,a.v,n))}onDidHueChange(n){const a=this.model.color.hsva,u=(1-n)*360;this.model.color=new pi.Il(new pi.tx(u===360?0:u,a.s,a.v,a.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Gi extends St.JT{constructor(n,a,u){super(),this.model=a,this.pixelRatio=u,this._onDidChange=new et.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new et.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Yi(".saturation-wrap"),jt.R3(n,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",jt.R3(this.domNode,this.canvas),this.selection=Yi(".saturation-selection"),jt.R3(this.domNode,this.selection),this.layout(),this._register(jt.nm(this.domNode,jt.tw.POINTER_DOWN,N=>this.onPointerDown(N))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(n){if(!n.target||!(n.target instanceof Element))return;this.monitor=this._register(new Ut.C);const a=jt.i(this.domNode);n.target!==this.selection&&this.onDidChangePosition(n.offsetX,n.offsetY),this.monitor.startMonitoring(n.target,n.pointerId,n.buttons,N=>this.onDidChangePosition(N.pageX-a.left,N.pageY-a.top),()=>null);const u=jt.nm(document,jt.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),u.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(n,a){const u=Math.max(0,Math.min(1,n/this.width)),N=Math.max(0,Math.min(1,1-a/this.height));this.paintSelection(u,N),this._onDidChange.fire({s:u,v:N})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const n=this.model.color.hsva;this.paintSelection(n.s,n.v)}paint(){const n=this.model.color.hsva,a=new pi.Il(new pi.tx(n.h,1,1,1)),u=this.canvas.getContext("2d"),N=u.createLinearGradient(0,0,this.canvas.width,0);N.addColorStop(0,"rgba(255, 255, 255, 1)"),N.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),N.addColorStop(1,"rgba(255, 255, 255, 0)");const x=u.createLinearGradient(0,0,0,this.canvas.height);x.addColorStop(0,"rgba(0, 0, 0, 0)"),x.addColorStop(1,"rgba(0, 0, 0, 1)"),u.rect(0,0,this.canvas.width,this.canvas.height),u.fillStyle=pi.Il.Format.CSS.format(a),u.fill(),u.fillStyle=N,u.fill(),u.fillStyle=x,u.fill()}paintSelection(n,a){this.selection.style.left=`${n*this.width}px`,this.selection.style.top=`${this.height-a*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class ln extends St.JT{constructor(n,a){super(),this.model=a,this._onDidChange=new et.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new et.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=jt.R3(n,Yi(".strip")),this.overlay=jt.R3(this.domNode,Yi(".overlay")),this.slider=jt.R3(this.domNode,Yi(".slider")),this.slider.style.top="0px",this._register(jt.nm(this.domNode,jt.tw.POINTER_DOWN,u=>this.onPointerDown(u))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const n=this.getValue(this.model.color);this.updateSliderPosition(n)}onPointerDown(n){if(!n.target||!(n.target instanceof Element))return;const a=this._register(new Ut.C),u=jt.i(this.domNode);this.domNode.classList.add("grabbing"),n.target!==this.slider&&this.onDidChangeTop(n.offsetY),a.startMonitoring(n.target,n.pointerId,n.buttons,x=>this.onDidChangeTop(x.pageY-u.top),()=>null);const N=jt.nm(document,jt.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),N.dispose(),a.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(n){const a=Math.max(0,Math.min(1,1-n/this.height));this.updateSliderPosition(a),this._onDidChange.fire(a)}updateSliderPosition(n){this.slider.style.top=`${(1-n)*this.height}px`}}class bn extends ln{constructor(n,a){super(n,a),this.domNode.classList.add("opacity-strip"),this._register(a.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(n){const{r:a,g:u,b:N}=n.rgba,x=new pi.Il(new pi.VS(a,u,N,1)),ee=new pi.Il(new pi.VS(a,u,N,0));this.overlay.style.background=`linear-gradient(to bottom, ${x} 0%, ${ee} 100%)`}getValue(n){return n.hsva.a}}class Mn extends ln{constructor(n,a){super(n,a),this.domNode.classList.add("hue-strip")}getValue(n){return 1-n.hsva.h/360}}class Nn extends ui.${constructor(n,a,u,N){super(),this.model=a,this.pixelRatio=u,this._register(Rt.PixelRatio.onDidChange(()=>this.layout()));const x=Yi(".colorpicker-widget");n.appendChild(x);const ee=new an(x,this.model,N);this.body=new ei(x,this.model,this.pixelRatio),this._register(ee),this._register(this.body)}layout(){this.body.layout()}}var yn=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},An=function(le,n){return function(a,u){n(a,u,le)}},Bn=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};class sn{constructor(n,a,u,N){this.owner=n,this.range=a,this.model=u,this.provider=N,this.forceShowAtRange=!0}isValidForHoverAnchor(n){return n.type===1&&this.range.startColumn<=n.range.startColumn&&this.range.endColumn>=n.range.endColumn}}let vn=class{constructor(n,a){this._editor=n,this._themeService=a,this.hoverOrdinal=1}computeSync(n,a){return[]}computeAsync(n,a,u){return ki.Aq.fromPromise(this._computeAsync(n,a,u))}_computeAsync(n,a,u){return Bn(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const N=wi.get(this._editor);if(!N)return[];for(const x of a){if(!N.isColorDecoration(x))continue;const ee=N.getColorData(x.range.getStartPosition());if(ee)return[yield this._createColorHover(this._editor.getModel(),ee.colorInfo,ee.provider)]}return[]})}_createColorHover(n,a,u){return Bn(this,void 0,void 0,function*(){const N=n.getValueInRange(a.range),{red:x,green:ee,blue:ue,alpha:Pe}=a.color,Re=new pi.VS(Math.round(x*255),Math.round(ee*255),Math.round(ue*255),Pe),De=new pi.Il(Re),tt=yield ai(n,a,u,Di.T.None),Vt=new lt(De,[],0);return Vt.colorPresentations=tt||[],Vt.guessColorPresentation(De,N),new sn(this,Ke.e.lift(a.range),Vt,u)})}renderHoverParts(n,a){if(a.length===0||!this._editor.hasModel())return St.JT.None;const u=new St.SL,N=a[0],x=this._editor.getModel(),ee=N.model,ue=u.add(new Nn(n.fragment,ee,this._editor.getOption(131),this._themeService));n.setColorPicker(ue);let Pe=new Ke.e(N.range.startLineNumber,N.range.startColumn,N.range.endLineNumber,N.range.endColumn);const Re=()=>{let tt,Vt;if(ee.presentation.textEdit){tt=[ee.presentation.textEdit],Vt=new Ke.e(ee.presentation.textEdit.range.startLineNumber,ee.presentation.textEdit.range.startColumn,ee.presentation.textEdit.range.endLineNumber,ee.presentation.textEdit.range.endColumn);const si=this._editor.getModel()._setTrackedRange(null,Vt,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",tt),Vt=this._editor.getModel()._getTrackedRange(si)||Vt}else tt=[{range:Pe,text:ee.presentation.label,forceMoveMarkers:!1}],Vt=Pe.setEndPosition(Pe.endLineNumber,Pe.startColumn+ee.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",tt);ee.presentation.additionalTextEdits&&(tt=[...ee.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",tt),n.hide()),this._editor.pushUndoStop(),Pe=Vt},De=tt=>ai(x,{range:Pe,color:{red:tt.rgba.r/255,green:tt.rgba.g/255,blue:tt.rgba.b/255,alpha:tt.rgba.a}},N.provider,Di.T.None).then(Vt=>{ee.colorPresentations=Vt||[]});return u.add(ee.onColorFlushed(tt=>{De(tt).then(Re)})),u.add(ee.onDidChangeColor(De)),u}};vn=yn([An(1,_i.XE)],vn);var Kn=s(78182),gn=s(66520);class yi extends St.JT{constructor(n){super(),this._editor=n,this._register(n.onMouseDown(a=>this.onMouseDown(a)))}dispose(){super.dispose()}onMouseDown(n){const a=n.target;if(a.type!==6||!a.detail.injectedText||a.detail.injectedText.options.attachedData!==Hi||!a.range)return;const u=this._editor.getContribution(Kn.ModesHoverController.ID);if(u&&!u.isColorPickerVisible()){const N=new Ke.e(a.range.startLineNumber,a.range.startColumn+1,a.range.endLineNumber,a.range.endColumn+1);u.showContentHover(N,1,!1)}}}yi.ID="editor.contrib.colorContribution",(0,We._K)(yi.ID,yi),gn.Ae.register(vn);var $i=s(23547),en=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};function On(le){return{asString:()=>en(this,void 0,void 0,function*(){return le}),asFile:()=>{},value:typeof le=="string"?le:void 0}}function us(le,n,a){return{asString:()=>en(this,void 0,void 0,function*(){return""}),asFile:()=>({name:le,uri:n,data:a}),value:void 0}}class rs{constructor(){this._entries=new Map}get size(){return this._entries.size}has(n){return this._entries.has(this.toKey(n))}get(n){var a;return(a=this._entries.get(this.toKey(n)))===null||a===void 0?void 0:a[0]}append(n,a){const u=this._entries.get(n);u?u.push(a):this._entries.set(this.toKey(n),[a])}replace(n,a){this._entries.set(this.toKey(n),[a])}delete(n){this._entries.delete(this.toKey(n))}*entries(){for(const[n,a]of this._entries.entries())for(const u of a)yield[n,u]}values(){return Array.from(this._entries.values()).flat()}forEach(n){for(const[a,u]of this.entries())n(u,a)}toKey(n){return n.toLowerCase()}}var Et=s(81170),D=s(98e3),k=s(9488),c=s(23897),R=s(50988);const Y={EDITORS:"CodeEditors",FILES:"CodeFiles"};function ge(le){var n;const a=[];if(le.dataTransfer&&le.dataTransfer.types.length>0){const u=le.dataTransfer.getData(Y.EDITORS);if(u)try{a.push(...(0,c.Q)(u))}catch{}else try{const ee=le.dataTransfer.getData($i.g.RESOURCES);a.push(...Oe(ee))}catch{}if(!((n=le.dataTransfer)===null||n===void 0)&&n.files)for(let ee=0;ee<le.dataTransfer.files.length;ee++){const ue=le.dataTransfer.files[ee];if(ue&&ue.path)try{a.push({resource:Ci.o.file(ue.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const N=le.dataTransfer.getData(Y.FILES);if(N)try{const ee=JSON.parse(N);for(const ue of ee)a.push({resource:Ci.o.file(ue),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const x=mi.B.as(rt.DragAndDropContribution).getAll();for(const ee of x){const ue=le.dataTransfer.getData(ee.dataFormatKey);if(ue)try{a.push(...ee.getEditorInputs(ue))}catch{}}}return a}function Oe(le){const n=[];if(le){const a=JSON.parse(le);for(const u of a)if(u.indexOf(":")>0){const{selection:N,uri:x}=(0,R.xI)(Ci.o.parse(u));n.push({resource:x,options:{selection:N}})}}return n}class Ue{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}const rt={DragAndDropContribution:"workbench.contributions.dragAndDrop"};mi.B.add(rt.DragAndDropContribution,new Ue);var ct=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};function Tt(le){const n=new rs;for(const a of le.items){const u=a.type;if(a.kind==="string"){const N=new Promise(x=>a.getAsString(x));n.append(u,On(N))}else if(a.kind==="file"){const N=a.getAsFile();N&&n.append(u,Bt(N))}}return n}function Bt(le){const n=le.path?Ci.o.parse(le.path):void 0;return us(le.name,n,()=>ct(this,void 0,void 0,function*(){return new Uint8Array(yield le.arrayBuffer())}))}const Kt=Object.freeze([Y.EDITORS,Y.FILES,$i.g.RESOURCES]);function hi(le,n,a=!1){var u;if(n.dataTransfer&&(a||!le.has(Et.v.uriList))){const N=ge(n).filter(x=>x.resource).map(x=>x.resource.toString());for(const x of(u=n.dataTransfer)===null||u===void 0?void 0:u.items){const ee=x.getAsFile();ee&&N.push(ee.path?Ci.o.file(ee.path).toString():ee.name)}N.length&&le.replace(Et.v.uriList,On(di.create(N)))}for(const N of Kt)le.delete(N)}const di=Object.freeze({create:le=>(0,k.EB)(le.map(n=>n.toString())).join(`\r
`),parse:le=>le.split(`\r
`).filter(n=>!n.startsWith("#"))});var fi=s(66007),Ei=s(14410),Bi=s(98762),Qi=s(35084),In=s(84972),Gn=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},ts=function(le,n){return function(a,u){n(a,u,le)}},Qn=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};const ws="application/vnd.code.copyMetadata";let mn=class extends St.JT{constructor(n,a,u,N,x){super(),this._bulkEditService=a,this._clipboardService=u,this._configurationService=N,this._languageFeaturesService=x,this._editor=n;const ee=n.getContainerDomNode();this._register((0,jt.nm)(ee,"copy",ue=>this.handleCopy(ue))),this._register((0,jt.nm)(ee,"cut",ue=>this.handleCopy(ue))),this._register((0,jt.nm)(ee,"paste",ue=>this.handlePaste(ue),!0))}arePasteActionsEnabled(n){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:n.uri})}handleCopy(n){var a;if(!n.clipboardData||!this._editor.hasTextFocus())return;const u=this._editor.getModel(),N=this._editor.getSelections();if(!u||!N?.length||!this.arePasteActionsEnabled(u))return;const x=[...N],ee=N[0],ue=ee.isEmpty();if(ue){if(!this._editor.getOption(33))return;x[0]=new Ke.e(ee.startLineNumber,0,ee.startLineNumber,u.getLineLength(ee.startLineNumber))}const Pe=this._languageFeaturesService.documentPasteEditProvider.ordered(u).filter(Vt=>!!Vt.prepareDocumentPaste);if(!Pe.length){this.setCopyMetadata(n.clipboardData,{wasFromEmptySelection:ue});return}const Re=Tt(n.clipboardData),De=(0,D.R)();this.setCopyMetadata(n.clipboardData,{id:De,wasFromEmptySelection:ue});const tt=(0,ki.PG)(Vt=>Qn(this,void 0,void 0,function*(){const si=yield Promise.all(Pe.map(li=>li.prepareDocumentPaste(u,x,Re,Vt)));for(const li of si)li?.forEach((Ni,Oi)=>{Re.replace(Oi,Ni)});return Re}));(a=this._currentClipboardItem)===null||a===void 0||a.dataTransferPromise.cancel(),this._currentClipboardItem={handle:De,dataTransferPromise:tt}}setCopyMetadata(n,a){n.setData(ws,JSON.stringify(a))}handlePaste(n){var a,u,N;return Qn(this,void 0,void 0,function*(){if(!n.clipboardData||!this._editor.hasTextFocus())return;const x=this._editor.getSelections();if(!x?.length||!this._editor.hasModel())return;const ee=this._editor.getModel();if(!this.arePasteActionsEnabled(ee))return;let ue;const Pe=(a=n.clipboardData)===null||a===void 0?void 0:a.getData(ws);Pe&&typeof Pe=="string"&&(ue=JSON.parse(Pe));const Re=this._languageFeaturesService.documentPasteEditProvider.ordered(ee);if(!Re.length)return;n.preventDefault(),n.stopImmediatePropagation();const De=ee.getVersionId(),tt=new Ei.Dl(this._editor,3);try{const Vt=Tt(n.clipboardData);if(ue?.id&&((u=this._currentClipboardItem)===null||u===void 0?void 0:u.handle)===ue.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach((Oi,dn)=>{Vt.replace(dn,Oi)}),!Vt.has(Et.v.uriList)){const Ni=yield this._clipboardService.readResources();Ni.length&&Vt.append(Et.v.uriList,On(di.create(Ni)))}Vt.delete(ws);for(const Ni of Re){if(!Ni.pasteMimeTypes.some(dn=>dn.toLowerCase()===$i.g.FILES.toLowerCase()?[...Vt.values()].some(kn=>kn.asFile()):Vt.has(dn)))continue;const Oi=yield Ni.provideDocumentPasteEdits(ee,x,Vt,tt.token);if(De!==ee.getVersionId())return;if(Oi){(0,Bi.z)(this._editor,typeof Oi.insertText=="string"?Qi.Yj.escape(Oi.insertText):Oi.insertText.snippet,x),Oi.additionalEdit&&(yield this._bulkEditService.apply(fi.fo.convert(Oi.additionalEdit),{editor:this._editor}));return}}const si=(N=Vt.get(Et.v.text))!==null&&N!==void 0?N:Vt.get("text");if(!si)return;const li=yield si.asString();if(De!==ee.getVersionId())return;this._editor.trigger("keyboard","paste",{text:li,pasteOnNewLine:ue?.wasFromEmptySelection,multicursorText:null})}finally{tt.dispose()}})}};mn.ID="editor.contrib.copyPasteActionController",mn=Gn([ts(1,fi.vu),ts(2,In.p),ts(3,bi.Ui),ts(4,_e.p)],mn),(0,We._K)(mn.ID,mn),mi.B.as(Lt.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},Xe.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:ye.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}));var is=s(4256),Jn=s(69386),qn=s(50187);class Zn{constructor(n,a,u){this.languageConfigurationService=u,this._selection=n,this._insertSpace=a,this._usedEndToken=null}static _haystackHasNeedleAtOffset(n,a,u){if(u<0)return!1;const N=a.length,x=n.length;if(u+N>x)return!1;for(let ee=0;ee<N;ee++){const ue=n.charCodeAt(u+ee),Pe=a.charCodeAt(ee);if(ue!==Pe&&!(ue>=65&&ue<=90&&ue+32===Pe)&&!(Pe>=65&&Pe<=90&&Pe+32===ue))return!1}return!0}_createOperationsForBlockComment(n,a,u,N,x,ee){const ue=n.startLineNumber,Pe=n.startColumn,Re=n.endLineNumber,De=n.endColumn,tt=x.getLineContent(ue),Vt=x.getLineContent(Re);let si=tt.lastIndexOf(a,Pe-1+a.length),li=Vt.indexOf(u,De-1-u.length);if(si!==-1&&li!==-1)if(ue===Re)tt.substring(si+a.length,li).indexOf(u)>=0&&(si=-1,li=-1);else{const Oi=tt.substring(si+a.length),dn=Vt.substring(0,li);(Oi.indexOf(u)>=0||dn.indexOf(u)>=0)&&(si=-1,li=-1)}let Ni;si!==-1&&li!==-1?(N&&si+a.length<tt.length&&tt.charCodeAt(si+a.length)===32&&(a=a+" "),N&&li>0&&Vt.charCodeAt(li-1)===32&&(u=" "+u,li-=1),Ni=Zn._createRemoveBlockCommentOperations(new Ke.e(ue,si+a.length+1,Re,li+1),a,u)):(Ni=Zn._createAddBlockCommentOperations(n,a,u,this._insertSpace),this._usedEndToken=Ni.length===1?u:null);for(const Oi of Ni)ee.addTrackedEditOperation(Oi.range,Oi.text)}static _createRemoveBlockCommentOperations(n,a,u){const N=[];return Ke.e.isEmpty(n)?N.push(Jn.h.delete(new Ke.e(n.startLineNumber,n.startColumn-a.length,n.endLineNumber,n.endColumn+u.length))):(N.push(Jn.h.delete(new Ke.e(n.startLineNumber,n.startColumn-a.length,n.startLineNumber,n.startColumn))),N.push(Jn.h.delete(new Ke.e(n.endLineNumber,n.endColumn,n.endLineNumber,n.endColumn+u.length)))),N}static _createAddBlockCommentOperations(n,a,u,N){const x=[];return Ke.e.isEmpty(n)?x.push(Jn.h.replace(new Ke.e(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn),a+"  "+u)):(x.push(Jn.h.insert(new qn.L(n.startLineNumber,n.startColumn),a+(N?" ":""))),x.push(Jn.h.insert(new qn.L(n.endLineNumber,n.endColumn),(N?" ":"")+u))),x}getEditOperations(n,a){const u=this._selection.startLineNumber,N=this._selection.startColumn;n.tokenization.tokenizeIfCheap(u);const x=n.getLanguageIdAtPosition(u,N),ee=this.languageConfigurationService.getLanguageConfiguration(x).comments;!ee||!ee.blockCommentStartToken||!ee.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,ee.blockCommentStartToken,ee.blockCommentEndToken,this._insertSpace,n,a)}computeCursorState(n,a){const u=a.getInverseEditOperations();if(u.length===2){const N=u[0],x=u[1];return new it.Y(N.range.endLineNumber,N.range.endColumn,x.range.startLineNumber,x.range.startColumn)}else{const N=u[0].range,x=this._usedEndToken?-this._usedEndToken.length-1:0;return new it.Y(N.endLineNumber,N.endColumn+x,N.endLineNumber,N.endColumn+x)}}}class ls{constructor(n,a,u,N,x,ee,ue){this.languageConfigurationService=n,this._selection=a,this._tabSize=u,this._type=N,this._insertSpace=x,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=ee,this._ignoreFirstLine=ue||!1}static _gatherPreflightCommentStrings(n,a,u,N){n.tokenization.tokenizeIfCheap(a);const x=n.getLanguageIdAtPosition(a,1),ee=N.getLanguageConfiguration(x).comments,ue=ee?ee.lineCommentToken:null;if(!ue)return null;const Pe=[];for(let Re=0,De=u-a+1;Re<De;Re++)Pe[Re]={ignore:!1,commentStr:ue,commentStrOffset:0,commentStrLength:ue.length};return Pe}static _analyzeLines(n,a,u,N,x,ee,ue,Pe){let Re=!0,De;n===0?De=!0:n===1?De=!1:De=!0;for(let tt=0,Vt=N.length;tt<Vt;tt++){const si=N[tt],li=x+tt;if(li===x&&ue){si.ignore=!0;continue}const Ni=u.getLineContent(li),Oi=Ct.LC(Ni);if(Oi===-1){si.ignore=ee,si.commentStrOffset=Ni.length;continue}if(Re=!1,si.ignore=!1,si.commentStrOffset=Oi,De&&!Zn._haystackHasNeedleAtOffset(Ni,si.commentStr,Oi)&&(n===0?De=!1:n===1||(si.ignore=!0)),De&&a){const dn=Oi+si.commentStrLength;dn<Ni.length&&Ni.charCodeAt(dn)===32&&(si.commentStrLength+=1)}}if(n===0&&Re){De=!1;for(let tt=0,Vt=N.length;tt<Vt;tt++)N[tt].ignore=!1}return{supported:!0,shouldRemoveComments:De,lines:N}}static _gatherPreflightData(n,a,u,N,x,ee,ue,Pe){const Re=ls._gatherPreflightCommentStrings(u,N,x,Pe);return Re===null?{supported:!1}:ls._analyzeLines(n,a,u,Re,N,ee,ue,Pe)}_executeLineComments(n,a,u,N){let x;u.shouldRemoveComments?x=ls._createRemoveLineCommentsOperations(u.lines,N.startLineNumber):(ls._normalizeInsertionPoint(n,u.lines,N.startLineNumber,this._tabSize),x=this._createAddLineCommentsOperations(u.lines,N.startLineNumber));const ee=new qn.L(N.positionLineNumber,N.positionColumn);for(let ue=0,Pe=x.length;ue<Pe;ue++)a.addEditOperation(x[ue].range,x[ue].text),Ke.e.isEmpty(x[ue].range)&&Ke.e.getStartPosition(x[ue].range).equals(ee)&&n.getLineContent(ee.lineNumber).length+1===ee.column&&(this._deltaColumn=(x[ue].text||"").length);this._selectionId=a.trackSelection(N)}_attemptRemoveBlockComment(n,a,u,N){let x=a.startLineNumber,ee=a.endLineNumber;const ue=N.length+Math.max(n.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.startColumn);let Pe=n.getLineContent(x).lastIndexOf(u,ue-1),Re=n.getLineContent(ee).indexOf(N,a.endColumn-1-u.length);return Pe!==-1&&Re===-1&&(Re=n.getLineContent(x).indexOf(N,Pe+u.length),ee=x),Pe===-1&&Re!==-1&&(Pe=n.getLineContent(ee).lastIndexOf(u,Re),x=ee),a.isEmpty()&&(Pe===-1||Re===-1)&&(Pe=n.getLineContent(x).indexOf(u),Pe!==-1&&(Re=n.getLineContent(x).indexOf(N,Pe+u.length))),Pe!==-1&&n.getLineContent(x).charCodeAt(Pe+u.length)===32&&(u+=" "),Re!==-1&&n.getLineContent(ee).charCodeAt(Re-1)===32&&(N=" "+N,Re-=1),Pe!==-1&&Re!==-1?Zn._createRemoveBlockCommentOperations(new Ke.e(x,Pe+u.length+1,ee,Re+1),u,N):null}_executeBlockComment(n,a,u){n.tokenization.tokenizeIfCheap(u.startLineNumber);const N=n.getLanguageIdAtPosition(u.startLineNumber,1),x=this.languageConfigurationService.getLanguageConfiguration(N).comments;if(!x||!x.blockCommentStartToken||!x.blockCommentEndToken)return;const ee=x.blockCommentStartToken,ue=x.blockCommentEndToken;let Pe=this._attemptRemoveBlockComment(n,u,ee,ue);if(!Pe){if(u.isEmpty()){const Re=n.getLineContent(u.startLineNumber);let De=Ct.LC(Re);De===-1&&(De=Re.length),Pe=Zn._createAddBlockCommentOperations(new Ke.e(u.startLineNumber,De+1,u.startLineNumber,Re.length+1),ee,ue,this._insertSpace)}else Pe=Zn._createAddBlockCommentOperations(new Ke.e(u.startLineNumber,n.getLineFirstNonWhitespaceColumn(u.startLineNumber),u.endLineNumber,n.getLineMaxColumn(u.endLineNumber)),ee,ue,this._insertSpace);Pe.length===1&&(this._deltaColumn=ee.length+1)}this._selectionId=a.trackSelection(u);for(const Re of Pe)a.addEditOperation(Re.range,Re.text)}getEditOperations(n,a){let u=this._selection;if(this._moveEndPositionDown=!1,u.startLineNumber===u.endLineNumber&&this._ignoreFirstLine){a.addEditOperation(new Ke.e(u.startLineNumber,n.getLineMaxColumn(u.startLineNumber),u.startLineNumber+1,1),u.startLineNumber===n.getLineCount()?"":`
`),this._selectionId=a.trackSelection(u);return}u.startLineNumber<u.endLineNumber&&u.endColumn===1&&(this._moveEndPositionDown=!0,u=u.setEndPosition(u.endLineNumber-1,n.getLineMaxColumn(u.endLineNumber-1)));const N=ls._gatherPreflightData(this._type,this._insertSpace,n,u.startLineNumber,u.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return N.supported?this._executeLineComments(n,a,N,u):this._executeBlockComment(n,a,u)}computeCursorState(n,a){let u=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(u=u.setEndPosition(u.endLineNumber+1,1)),new it.Y(u.selectionStartLineNumber,u.selectionStartColumn+this._deltaColumn,u.positionLineNumber,u.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(n,a){const u=[];for(let N=0,x=n.length;N<x;N++){const ee=n[N];ee.ignore||u.push(Jn.h.delete(new Ke.e(a+N,ee.commentStrOffset+1,a+N,ee.commentStrOffset+ee.commentStrLength+1)))}return u}_createAddLineCommentsOperations(n,a){const u=[],N=this._insertSpace?" ":"";for(let x=0,ee=n.length;x<ee;x++){const ue=n[x];ue.ignore||u.push(Jn.h.insert(new qn.L(a+x,ue.commentStrOffset+1),ue.commentStr+N))}return u}static nextVisibleColumn(n,a,u,N){return u?n+(a-n%a):n+N}static _normalizeInsertionPoint(n,a,u,N){let x=1073741824,ee,ue;for(let Pe=0,Re=a.length;Pe<Re;Pe++){if(a[Pe].ignore)continue;const De=n.getLineContent(u+Pe);let tt=0;for(let Vt=0,si=a[Pe].commentStrOffset;tt<x&&Vt<si;Vt++)tt=ls.nextVisibleColumn(tt,N,De.charCodeAt(Vt)===9,1);tt<x&&(x=tt)}x=Math.floor(x/N)*N;for(let Pe=0,Re=a.length;Pe<Re;Pe++){if(a[Pe].ignore)continue;const De=n.getLineContent(u+Pe);let tt=0;for(ee=0,ue=a[Pe].commentStrOffset;tt<x&&ee<ue;ee++)tt=ls.nextVisibleColumn(tt,N,De.charCodeAt(ee)===9,1);tt>x?a[Pe].commentStrOffset=ee-1:a[Pe].commentStrOffset=ee}}}var Wn=s(84144);class Cs extends We.R6{constructor(n,a){super(a),this._type=n}run(n,a){const u=n.get(is.c_);if(!a.hasModel())return;const N=a.getModel(),x=[],ee=N.getOptions(),ue=a.getOption(19),Pe=a.getSelections().map((De,tt)=>({selection:De,index:tt,ignoreFirstLine:!1}));Pe.sort((De,tt)=>Ke.e.compareRangesUsingStarts(De.selection,tt.selection));let Re=Pe[0];for(let De=1;De<Pe.length;De++){const tt=Pe[De];Re.selection.endLineNumber===tt.selection.startLineNumber&&(Re.index<tt.index?tt.ignoreFirstLine=!0:(Re.ignoreFirstLine=!0,Re=tt))}for(const De of Pe)x.push(new ls(u,De.selection,ee.tabSize,this._type,ue.insertSpace,ue.ignoreEmptyLines,De.ignoreFirstLine));a.pushUndoStop(),a.executeCommands(this.id,x),a.pushUndoStop()}}class _o extends Cs{constructor(){super(0,{id:"editor.action.commentLine",label:ye.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:Wn.eH.MenubarEditMenu,group:"5_insert",title:ye.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class Zr extends Cs{constructor(){super(1,{id:"editor.action.addCommentLine",label:ye.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:(0,bt.gx)(2089,2081),weight:100}})}}class Yr extends Cs{constructor(){super(2,{id:"editor.action.removeCommentLine",label:ye.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:(0,bt.gx)(2089,2099),weight:100}})}}class Xr extends We.R6{constructor(){super({id:"editor.action.blockComment",label:ye.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:Wn.eH.MenubarEditMenu,group:"5_insert",title:ye.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(n,a){const u=n.get(is.c_);if(!a.hasModel())return;const N=a.getOption(19),x=[],ee=a.getSelections();for(const ue of ee)x.push(new Zn(ue,N.insertSpace,u));a.pushUndoStop(),a.executeCommands(this.id,x),a.pushUndoStop()}}(0,We.Qr)(_o),(0,We.Qr)(Zr),(0,We.Qr)(Yr),(0,We.Qr)(Xr);var ao=s(76033),cs=s(74741),jn=s(1432),Bs=s(5606),yo=s(91847),vo=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Lo=function(le,n){return function(a,u){n(a,u,le)}};let ys=class cf{constructor(n,a,u,N,x,ee,ue){this._contextMenuService=a,this._contextViewService=u,this._contextKeyService=N,this._keybindingService=x,this._menuService=ee,this._configurationService=ue,this._toDispose=new St.SL,this._contextMenuIsBeingShownCount=0,this._editor=n,this._toDispose.add(this._editor.onContextMenu(Pe=>this._onContextMenu(Pe))),this._toDispose.add(this._editor.onMouseWheel(Pe=>{if(this._contextMenuIsBeingShownCount>0){const Re=this._contextViewService.getContextViewElement(),De=Pe.srcElement;De.shadowRoot&&jt.Ay(Re)===De.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(Pe=>{this._editor.getOption(20)&&Pe.keyCode===58&&(Pe.preventDefault(),Pe.stopPropagation(),this.showContextMenu())}))}static get(n){return n.getContribution(cf.ID)}_onContextMenu(n){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),n.target.position&&!this._editor.getSelection().containsPosition(n.target.position)&&this._editor.setPosition(n.target.position);return}if(n.target.type===12||n.target.type===6&&n.target.detail.injectedText)return;if(n.event.preventDefault(),n.event.stopPropagation(),n.target.type===11)return this._showScrollbarContextMenu({x:n.event.posx-1,width:2,y:n.event.posy-1,height:2});if(n.target.type!==6&&n.target.type!==7&&n.target.type!==1)return;if(this._editor.focus(),n.target.position){let u=!1;for(const N of this._editor.getSelections())if(N.containsPosition(n.target.position)){u=!0;break}u||this._editor.setPosition(n.target.position)}let a=null;n.target.type!==1&&(a={x:n.event.posx-1,width:2,y:n.event.posy-1,height:2}),this.showContextMenu(a)}showContextMenu(n){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const a=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?Wn.eH.SimpleEditorContext:Wn.eH.EditorContext);a.length>0&&this._doShowContextMenu(a,n)}_getMenuActions(n,a){const u=[],N=this._menuService.createMenu(a,this._contextKeyService),x=N.getActions({arg:n.uri});N.dispose();for(const ee of x){const[,ue]=ee;let Pe=0;for(const Re of ue)if(Re instanceof Wn.NZ){const De=this._getMenuActions(n,Re.item.submenu);De.length>0&&(u.push(new cs.wY(Re.id,Re.label,De)),Pe++)}else u.push(Re),Pe++;Pe&&u.push(new cs.Z0)}return u.length&&u.pop(),u}_doShowContextMenu(n,a=null){if(!this._editor.hasModel())return;const u=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!a){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const x=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),ee=jt.i(this._editor.getDomNode()),ue=ee.left+x.left,Pe=ee.top+x.top+x.height;a={x:ue,y:Pe}}const N=this._editor.getOption(117)&&!jn.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:N?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>n,getActionViewItem:x=>{const ee=this._keybindingFor(x);if(ee)return new ao.g(x,x,{label:!0,keybinding:ee.getLabel(),isMenu:!0});const ue=x;return typeof ue.getActionViewItem=="function"?ue.getActionViewItem():new ao.g(x,x,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:x=>this._keybindingFor(x),onHide:x=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:u})}})}_showScrollbarContextMenu(n){if(!this._editor.hasModel())return;const a=this._editor.getOption(67);let u=0;const N=Re=>({id:`menu-action-${++u}`,label:Re.label,tooltip:"",class:void 0,enabled:typeof Re.enabled>"u"?!0:Re.enabled,checked:Re.checked,run:Re.run,dispose:()=>null}),x=(Re,De)=>new cs.wY(`menu-action-${++u}`,Re,De,void 0),ee=(Re,De,tt,Vt,si)=>{if(!De)return N({label:Re,enabled:De,run:()=>{}});const li=Oi=>()=>{this._configurationService.updateValue(tt,Oi)},Ni=[];for(const Oi of si)Ni.push(N({label:Oi.label,checked:Vt===Oi.value,run:li(Oi.value)}));return x(Re,Ni)},ue=[];ue.push(N({label:ye.NC("context.minimap.minimap","Minimap"),checked:a.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!a.enabled)}})),ue.push(new cs.Z0),ue.push(N({label:ye.NC("context.minimap.renderCharacters","Render Characters"),enabled:a.enabled,checked:a.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!a.renderCharacters)}})),ue.push(ee(ye.NC("context.minimap.size","Vertical size"),a.enabled,"editor.minimap.size",a.size,[{label:ye.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:ye.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:ye.NC("context.minimap.size.fit","Fit"),value:"fit"}])),ue.push(ee(ye.NC("context.minimap.slider","Slider"),a.enabled,"editor.minimap.showSlider",a.showSlider,[{label:ye.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:ye.NC("context.minimap.slider.always","Always"),value:"always"}]));const Pe=this._editor.getOption(117)&&!jn.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:Pe?this._editor.getDomNode():void 0,getAnchor:()=>n,getActions:()=>ue,onHide:Re=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(n){return this._keybindingService.lookupKeybinding(n.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};ys.ID="editor.contrib.contextmenu",ys=vo([Lo(1,Bs.i),Lo(2,Bs.u),Lo(3,ft.i6),Lo(4,yo.d),Lo(5,Wn.co),Lo(6,bi.Ui)],ys);class Ws extends We.R6{constructor(){super({id:"editor.action.showContextMenu",label:ye.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:pe.u.textInputFocus,primary:1092,weight:100}})}run(n,a){var u;(u=ys.get(a))===null||u===void 0||u.showContextMenu()}}(0,We._K)(ys.ID,ys),(0,We.Qr)(Ws);class lo{constructor(n){this.selections=n}equals(n){const a=this.selections.length,u=n.selections.length;if(a!==u)return!1;for(let N=0;N<a;N++)if(!this.selections[N].equalsSelection(n.selections[N]))return!1;return!0}}class Do{constructor(n,a,u){this.cursorState=n,this.scrollTop=a,this.scrollLeft=u}}class Eo extends St.JT{constructor(n){super(),this._editor=n,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(n.onDidChangeModel(a=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeModelContent(a=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeCursorSelection(a=>{if(this._isCursorUndoRedo||!a.oldSelections||a.oldModelVersionId!==a.modelVersionId)return;const u=new lo(a.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(u)||(this._undoStack.push(new Do(u,n.getScrollTop(),n.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(n){return n.getContribution(Eo.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new Do(new lo(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new Do(new lo(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(n){this._isCursorUndoRedo=!0,this._editor.setSelections(n.cursorState.selections),this._editor.setScrollPosition({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),this._isCursorUndoRedo=!1}}Eo.ID="editor.contrib.cursorUndoRedoController";class Jr extends We.R6{constructor(){super({id:"cursorUndo",label:ye.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:pe.u.textInputFocus,primary:2099,weight:100}})}run(n,a,u){var N;(N=Eo.get(a))===null||N===void 0||N.cursorUndo()}}class to extends We.R6{constructor(){super({id:"cursorRedo",label:ye.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(n,a,u){var N;(N=Eo.get(a))===null||N===void 0||N.cursorRedo()}}(0,We._K)(Eo.ID,Eo),(0,We.Qr)(Jr),(0,We.Qr)(to);class Wo{constructor(n,a,u){this.selection=n,this.targetPosition=a,this.copy=u,this.targetSelection=null}getEditOperations(n,a){const u=n.getValueInRange(this.selection);if(this.copy||a.addEditOperation(this.selection,null),a.addEditOperation(new Ke.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),u),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new it.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new it.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new it.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new it.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new it.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(n,a){return this.targetSelection}}function Vs(le){return jn.dz?le.altKey:le.ctrlKey}class Hs extends St.JT{constructor(n){super(),this._editor=n,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(a=>this._onEditorMouseDown(a))),this._register(this._editor.onMouseUp(a=>this._onEditorMouseUp(a))),this._register(this._editor.onMouseDrag(a=>this._onEditorMouseDrag(a))),this._register(this._editor.onMouseDrop(a=>this._onEditorMouseDrop(a))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(a=>this.onEditorKeyDown(a))),this._register(this._editor.onKeyUp(a=>this.onEditorKeyUp(a))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(n){!this._editor.getOption(31)||this._editor.getOption(18)||(Vs(n)&&(this._modifierPressed=!0),this._mouseDown&&Vs(n)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(n){!this._editor.getOption(31)||this._editor.getOption(18)||(Vs(n)&&(this._modifierPressed=!1),this._mouseDown&&n.keyCode===Hs.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(n){this._mouseDown=!0}_onEditorMouseUp(n){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(n){const a=n.target;if(this._dragSelection===null){const N=(this._editor.getSelections()||[]).filter(x=>a.position&&x.containsPosition(a.position));if(N.length===1)this._dragSelection=N[0];else return}Vs(n.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),a.position&&(this._dragSelection.containsPosition(a.position)?this._removeDecoration():this.showAt(a.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(n){if(n.target&&(this._hitContent(n.target)||this._hitMargin(n.target))&&n.target.position){const a=new qn.L(n.target.position.lineNumber,n.target.position.column);if(this._dragSelection===null){let u=null;if(n.event.shiftKey){const N=this._editor.getSelection();if(N){const{selectionStartLineNumber:x,selectionStartColumn:ee}=N;u=[new it.Y(x,ee,a.lineNumber,a.column)]}}else u=(this._editor.getSelections()||[]).map(N=>N.containsPosition(a)?new it.Y(a.lineNumber,a.column,a.lineNumber,a.column):N);this._editor.setSelections(u||[],"mouse",3)}else(!this._dragSelection.containsPosition(a)||(Vs(n.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(a)||this._dragSelection.getStartPosition().equals(a)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Hs.ID,new Wo(this._dragSelection,a,Vs(n.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(n){this._dndDecorationIds.set([{range:new Ke.e(n.lineNumber,n.column,n.lineNumber,n.column),options:Hs._DECORATION_OPTIONS}]),this._editor.revealPosition(n,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(n){return n.type===6||n.type===7}_hitMargin(n){return n.type===2||n.type===3||n.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Hs.ID="editor.contrib.dragAndDrop",Hs.TRIGGER_KEY_VALUE=jn.dz?6:5,Hs._DECORATION_OPTIONS=ci.qx.register({description:"dnd-target",className:"dnd-target"}),(0,We._K)(Hs.ID,Hs);var Vo=s(95935),zs=s(90535),nr=s(40382),Ho=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Ts=function(le,n){return function(a,u){n(a,u,le)}},io=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};let Zs=class extends St.JT{constructor(n,a,u,N,x){super(),this._bulkEditService=a,this._languageFeaturesService=u,this._progressService=N,this._register(n.onDropIntoEditor(ee=>this.onDropIntoEditor(n,ee.position,ee.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new Sr(x))}onDropIntoEditor(n,a,u){return io(this,void 0,void 0,function*(){if(!u.dataTransfer||!n.hasModel())return;const N=n.getModel(),x=N.getVersionId(),ee=yield this.extractDataTransferData(u);if(ee.size===0||n.getModel().getVersionId()!==x)return;const ue=new Ei.Dl(n,1);try{const Pe=this._languageFeaturesService.documentOnDropEditProvider.ordered(N),Re=yield this._progressService.withProgress({location:15,delay:750,title:(0,ye.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>(0,ki.eP)(io(this,void 0,void 0,function*(){for(const De of Pe){const tt=yield De.provideDocumentOnDropEdits(N,a,ee,ue.token);if(ue.token.isCancellationRequested)return;if(tt)return tt}}),ue.token),()=>{ue.cancel()});if(ue.token.isCancellationRequested||n.getModel().getVersionId()!==x)return;if(Re){const De=new Ke.e(a.lineNumber,a.column,a.lineNumber,a.column);(0,Bi.z)(n,typeof Re.insertText=="string"?Qi.Yj.escape(Re.insertText):Re.insertText.snippet,[it.Y.fromRange(De,0)]),Re.additionalEdit&&(yield this._bulkEditService.apply(fi.fo.convert(Re.additionalEdit),{editor:n}));return}}finally{ue.dispose()}})}extractDataTransferData(n){return io(this,void 0,void 0,function*(){if(!n.dataTransfer)return new rs;const a=Tt(n.dataTransfer);return hi(a,n),a})}};Zs.ID="editor.contrib.dropIntoEditorController",Zs=Ho([Ts(1,fi.vu),Ts(2,_e.p),Ts(3,zs.R9),Ts(4,nr.ec)],Zs);let Sr=class{constructor(n){this._workspaceContextService=n}provideDocumentOnDropEdits(n,a,u,N){var x;return io(this,void 0,void 0,function*(){const ee=u.get(Et.v.uriList);if(ee){const Pe=yield ee.asString(),Re=this.getUriListInsertText(Pe);if(Re)return{insertText:Re}}const ue=(x=u.get("text"))!==null&&x!==void 0?x:u.get(Et.v.text);if(ue)return{insertText:yield ue.asString()}})}getUriListInsertText(n){const a=[];for(const u of di.parse(n))try{a.push(Ci.o.parse(u))}catch{}if(a.length)return a.map(u=>{const N=this._workspaceContextService.getWorkspaceFolder(u);if(N){const x=(0,Vo.lX)(N.uri,u);if(x)return x}return u.fsPath}).join(" ")}};Sr=Ho([Ts(0,nr.ec)],Sr),(0,We._K)(Zs.ID,Zs);var wr=s(27002),Ya=s(64340),Co=s(82334);class Xa extends We.R6{constructor(){super({id:"editor.action.fontZoomIn",label:ye.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(n,a){Co.C.setZoomLevel(Co.C.getZoomLevel()+1)}}class Ks extends We.R6{constructor(){super({id:"editor.action.fontZoomOut",label:ye.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(n,a){Co.C.setZoomLevel(Co.C.getZoomLevel()-1)}}class yr extends We.R6{constructor(){super({id:"editor.action.fontZoomReset",label:ye.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(n,a){Co.C.setZoomLevel(0)}}(0,We.Qr)(Xa),(0,We.Qr)(Ks),(0,We.Qr)(yr);var Us=s(11640),zo=s(44906),Io=s(85215),Ys=s(71373),Ja=s(35120),Lr=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},$s=function(le,n){return function(a,u){n(a,u,le)}},Rs=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};let hn=class{constructor(n,a,u){this._editor=n,this._languageFeaturesService=a,this._workerService=u,this._disposables=new St.SL,this._sessionDisposables=new St.SL,this._disposables.add(a.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(n.onDidChangeModel(()=>this._update())),this._disposables.add(n.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(n.onDidChangeConfiguration(N=>{N.hasChanged(51)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51)||!this._editor.hasModel())return;const n=this._editor.getModel(),[a]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(n);if(!a||!a.autoFormatTriggerCharacters)return;const u=new zo.q;for(const N of a.autoFormatTriggerCharacters)u.add(N.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(N=>{const x=N.charCodeAt(N.length-1);u.has(x)&&this._trigger(String.fromCharCode(x))}))}_trigger(n){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const a=this._editor.getModel(),u=this._editor.getPosition(),N=new Di.A,x=this._editor.onDidChangeModelContent(ee=>{if(ee.isFlush){N.cancel(),x.dispose();return}for(let ue=0,Pe=ee.changes.length;ue<Pe;ue++)if(ee.changes[ue].range.endLineNumber<=u.lineNumber){N.cancel(),x.dispose();return}});(0,Ys.Qs)(this._workerService,this._languageFeaturesService,a,u,n,a.getFormattingOptions(),N.token).then(ee=>{N.token.isCancellationRequested||(0,k.Of)(ee)&&(Ja.V.execute(this._editor,ee,!0),(0,Ys.Zg)(ee))}).finally(()=>{x.dispose()})}};hn.ID="editor.contrib.autoFormat",hn=Lr([$s(1,_e.p),$s(2,Io.p)],hn);let bo=class{constructor(n,a,u){this.editor=n,this._languageFeaturesService=a,this._instantiationService=u,this._callOnDispose=new St.SL,this._callOnModel=new St.SL,this._callOnDispose.add(n.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(n.onDidChangeModel(()=>this._update())),this._callOnDispose.add(n.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(a.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:n})=>this._trigger(n)))}_trigger(n){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Ys.x$,this.editor,n,2,zs.Ex.None,Di.T.None).catch(Pi.dL))}};bo.ID="editor.contrib.formatOnPaste",bo=Lr([$s(1,_e.p),$s(2,Je.TG)],bo);class wa extends We.R6{constructor(){super({id:"editor.action.formatDocument",label:ye.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:ft.Ao.and(pe.u.notInCompositeEditor,pe.u.writable,pe.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:pe.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(n,a){return Rs(this,void 0,void 0,function*(){if(a.hasModel()){const u=n.get(Je.TG);yield n.get(zs.ek).showWhile(u.invokeFunction(Ys.Qq,a,1,zs.Ex.None,Di.T.None),250)}})}}class So extends We.R6{constructor(){super({id:"editor.action.formatSelection",label:ye.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:ft.Ao.and(pe.u.writable,pe.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:pe.u.editorTextFocus,primary:(0,bt.gx)(2089,2084),weight:100},contextMenuOpts:{when:pe.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(n,a){return Rs(this,void 0,void 0,function*(){if(!a.hasModel())return;const u=n.get(Je.TG),N=a.getModel(),x=a.getSelections().map(ue=>ue.isEmpty()?new Ke.e(ue.startLineNumber,1,ue.startLineNumber,N.getLineMaxColumn(ue.startLineNumber)):ue);yield n.get(zs.ek).showWhile(u.invokeFunction(Ys.x$,a,x,1,zs.Ex.None,Di.T.None),250)})}}(0,We._K)(hn.ID,hn),(0,We._K)(bo.ID,bo),(0,We.Qr)(wa),(0,We.Qr)(So),vt.P0.registerCommand("editor.action.format",le=>Rs(void 0,void 0,void 0,function*(){const n=le.get(Us.$).getFocusedCodeEditor();if(!n||!n.hasModel())return;const a=le.get(vt.Hy);n.getSelection().isEmpty()?yield a.executeCommand("editor.action.formatDocument"):yield a.executeCommand("editor.action.formatSelection")}));var Ls=s(88216),sr=s(53725),Dr=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Uo=function(le,n){return function(a,u){n(a,u,le)}},Sn=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};class Vn{remove(){var n;(n=this.parent)===null||n===void 0||n.children.delete(this.id)}static findId(n,a){let u;typeof n=="string"?u=`${a.id}/${n}`:(u=`${a.id}/${n.name}`,a.children.get(u)!==void 0&&(u=`${a.id}/${n.name}_${n.range.startLineNumber}_${n.range.startColumn}`));let N=u;for(let x=0;a.children.get(N)!==void 0;x++)N=`${u}_${x}`;return N}static empty(n){return n.children.size===0}}class hs extends Vn{constructor(n,a,u){super(),this.id=n,this.parent=a,this.symbol=u,this.children=new Map}}class Tn extends Vn{constructor(n,a,u,N){super(),this.id=n,this.parent=a,this.label=u,this.order=N,this.children=new Map}}class ps extends Vn{constructor(n){super(),this.uri=n,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(n,a,u){const N=new Di.A(u),x=new ps(a.uri),ee=n.ordered(a),ue=ee.map((Re,De)=>{var tt;const Vt=Vn.findId(`provider_${De}`,x),si=new Tn(Vt,x,(tt=Re.displayName)!==null&&tt!==void 0?tt:"Unknown Outline Provider",De);return Promise.resolve(Re.provideDocumentSymbols(a,N.token)).then(li=>{for(const Ni of li||[])ps._makeOutlineElement(Ni,si);return si},li=>((0,Pi.Cp)(li),si)).then(li=>{Vn.empty(li)?li.remove():x._groups.set(Vt,li)})}),Pe=n.onDidChange(()=>{const Re=n.ordered(a);(0,k.fS)(Re,ee)||N.cancel()});return Promise.all(ue).then(()=>N.token.isCancellationRequested&&!u.isCancellationRequested?ps.create(n,a,u):x._compact()).finally(()=>{Pe.dispose()})}static _makeOutlineElement(n,a){const u=Vn.findId(n,a),N=new hs(u,a,n);if(n.children)for(const x of n.children)ps._makeOutlineElement(x,N);a.children.set(N.id,N)}_compact(){let n=0;for(const[a,u]of this._groups)u.children.size===0?this._groups.delete(a):n+=1;if(n!==1)this.children=this._groups;else{const a=sr.$.first(this._groups.values());for(const[,u]of a.children)u.parent=this,this.children.set(u.id,u)}return this}getTopLevelSymbols(){const n=[];for(const a of this.children.values())a instanceof hs?n.push(a.symbol):n.push(...sr.$.map(a.children.values(),u=>u.symbol));return n.sort((a,u)=>Ke.e.compareRangesUsingStarts(a.range,u.range))}asListOfDocumentSymbols(){const n=this.getTopLevelSymbols(),a=[];return ps._flattenDocumentSymbols(a,n,""),a.sort((u,N)=>qn.L.compare(Ke.e.getStartPosition(u.range),Ke.e.getStartPosition(N.range))||qn.L.compare(Ke.e.getEndPosition(N.range),Ke.e.getEndPosition(u.range)))}static _flattenDocumentSymbols(n,a,u){for(const N of a)n.push({kind:N.kind,tags:N.tags,name:N.name,detail:N.detail,containerName:N.containerName||u,range:N.range,selectionRange:N.selectionRange,children:void 0}),N.children&&ps._flattenDocumentSymbols(n,N.children,N.name)}}const Is=(0,Je.yh)("IOutlineModelService");let Gs=class{constructor(n,a,u){this._languageFeaturesService=n,this._disposables=new St.SL,this._cache=new Me.z6(10,.7),this._debounceInformation=a.for(n.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(u.onModelRemoved(N=>{this._cache.delete(N.id)}))}dispose(){this._disposables.dispose()}getOrCreate(n,a){return Sn(this,void 0,void 0,function*(){const u=this._languageFeaturesService.documentSymbolProvider,N=u.ordered(n);let x=this._cache.get(n.id);if(!x||x.versionId!==n.getVersionId()||!(0,k.fS)(x.provider,N)){const ue=new Di.A;x={versionId:n.getVersionId(),provider:N,promiseCnt:0,source:ue,promise:ps.create(u,n,ue.token),model:void 0},this._cache.set(n.id,x);const Pe=Date.now();x.promise.then(Re=>{x.model=Re,this._debounceInformation.update(n,Date.now()-Pe)}).catch(Re=>{this._cache.delete(n.id)})}if(x.model)return x.model;x.promiseCnt+=1;const ee=a.onCancellationRequested(()=>{--x.promiseCnt===0&&(x.source.cancel(),this._cache.delete(n.id))});try{return yield x.promise}finally{ee.dispose()}})}};Gs=Dr([Uo(0,_e.p),Uo(1,Zi.A),Uo(2,Wt.q)],Gs),(0,ke.z)(Is,Gs,!0);var Er=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};vt.P0.registerCommand("_executeDocumentSymbolProvider",function(le,...n){return Er(this,void 0,void 0,function*(){const[a]=n;(0,Vi.p_)(Ci.o.isUri(a));const u=le.get(Is),x=yield le.get(Ls.S).createModelReference(a);try{return(yield u.getOrCreate(x.object.textEditorModel,Di.T.None)).getTopLevelSymbols()}finally{x.dispose()}})});const qr="editor.action.inlineSuggest.commit";var Ol=s(7988),ns=s(43155);function Pl(le,n){return{object:le,dispose:()=>n?.dispose()}}function Ir(le,n){const a=new Fl(le),u=n.map(N=>{const x=Ke.e.lift(N.range);return{startOffset:a.getOffset(x.getStartPosition()),endOffset:a.getOffset(x.getEndPosition()),text:N.text}});u.sort((N,x)=>x.startOffset-N.startOffset);for(const N of u)le=le.substring(0,N.startOffset)+N.text+le.substring(N.endOffset);return le}class Fl{constructor(n){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let a=0;a<n.length;a++)n.charAt(a)===`
`&&this.lineStartOffsetByLineIdx.push(a+1)}getOffset(n){return this.lineStartOffsetByLineIdx[n.lineNumber-1]+n.column-1}}const qa=[];function xr(){return qa}class no{constructor(n,a,u=0){this.lineNumber=n,this.parts=a,this.additionalReservedLineCount=u}renderForScreenReader(n){if(this.parts.length===0)return"";const a=this.parts[this.parts.length-1],u=n.substr(0,a.column-1);return Ir(u,this.parts.map(x=>({range:{startLineNumber:1,endLineNumber:1,startColumn:x.column,endColumn:x.column},text:x.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(n=>n.lines.length===0)}}class co{constructor(n,a,u){this.column=n,this.lines=a,this.preview=u}}class ea{constructor(n,a,u,N,x=0){this.lineNumber=n,this.columnStart=a,this.length=u,this.newLines=N,this.additionalReservedLineCount=x,this.parts=[new co(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(n){return this.newLines.join(`
`)}}class or extends St.JT{constructor(n){super(),this.editor=n,this._expanded=void 0,this.onDidChangeEmitter=new et.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(n.onDidChangeConfiguration(a=>{a.hasChanged(108)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(n){this._expanded=!0,this.onDidChangeEmitter.fire()}}var jo=s(22571);function rr(le,n){if(!n)return n;const a=le.getValueInRange(n.range),u=Ct.Mh(a,n.insertText),N=le.getOffsetAt(n.range.getStartPosition())+u,x=le.getPositionAt(N),ee=a.substr(u),ue=Ct.P1(ee,n.insertText),Pe=le.getPositionAt(Math.max(N,le.getOffsetAt(n.range.getEndPosition())-ue));return{range:Ke.e.fromPositions(x,Pe),insertText:n.insertText.substr(u,n.insertText.length-u-ue),snippetInfo:n.snippetInfo,filterText:n.filterText,additionalTextEdits:n.additionalTextEdits}}function el(le,n){return le===n?!0:!le||!n?!1:le.range.equalsRange(n.range)&&le.insertText===n.insertText&&le.command===n.command}function tl(le,n,a,u,N=0){if(le.range.startLineNumber!==le.range.endLineNumber)return;const x=n.getLineContent(le.range.startLineNumber),ee=Ct.V8(x).length;if(le.range.startColumn-1<=ee){const si=Ct.V8(le.insertText).length,li=x.substring(le.range.startColumn-1,ee),Ni=Ke.e.fromPositions(le.range.getStartPosition().delta(0,li.length),le.range.getEndPosition()),Oi=le.insertText.startsWith(li)?le.insertText.substring(li.length):le.insertText.substring(si);le={range:Ni,insertText:Oi,command:le.command,snippetInfo:void 0,filterText:le.filterText,additionalTextEdits:le.additionalTextEdits}}const Pe=n.getValueInRange(le.range),Re=Bl(Pe,le.insertText);if(!Re)return;const De=le.range.startLineNumber,tt=new Array;if(a==="prefix"){const si=Re.filter(li=>li.originalLength===0);if(si.length>1||si.length===1&&si[0].originalStart!==Pe.length)return}const Vt=le.insertText.length-N;for(const si of Re){const li=le.range.startColumn+si.originalStart+si.originalLength;if(a==="subwordSmart"&&u&&u.lineNumber===le.range.startLineNumber&&li<u.column||si.originalLength>0)return;if(si.modifiedLength===0)continue;const Ni=si.modifiedStart+si.modifiedLength,Oi=Math.max(si.modifiedStart,Math.min(Ni,Vt)),dn=le.insertText.substring(si.modifiedStart,Oi),kn=le.insertText.substring(Oi,Math.max(si.modifiedStart,Ni));if(dn.length>0){const Xn=Ct.uq(dn);tt.push(new co(li,Xn,!1))}if(kn.length>0){const Xn=Ct.uq(kn);tt.push(new co(li,Xn,!0))}}return new no(De,tt,0)}let uo;function Bl(le,n){if(uo?.originalValue===le&&uo?.newValue===n)return uo?.changes;{let a=La(le,n,!0);if(a){const u=ya(a);if(u>0){const N=La(le,n,!1);N&&ya(N)<u&&(a=N)}}return uo={originalValue:le,newValue:n,changes:a},a}}function ya(le){let n=0;for(const a of le)n+=Math.max(a.originalLength-a.modifiedLength,0);return n}function La(le,n,a){if(le.length>5e3||n.length>5e3)return;function u(Re){let De=0;for(let tt=0,Vt=Re.length;tt<Vt;tt++){const si=Re.charCodeAt(tt);si>De&&(De=si)}return De}const N=Math.max(u(le),u(n));function x(Re){if(Re<0)throw new Error("unexpected");return N+Re+1}function ee(Re){let De=0,tt=0;const Vt=new Int32Array(Re.length);for(let si=0,li=Re.length;si<li;si++)if(a&&Re[si]==="("){const Ni=tt*100+De;Vt[si]=x(2*Ni),De++}else if(a&&Re[si]===")"){De=Math.max(De-1,0);const Ni=tt*100+De;Vt[si]=x(2*Ni+1),De===0&&tt++}else Vt[si]=Re.charCodeAt(si);return Vt}const ue=ee(le),Pe=ee(n);return new jo.Hs({getElements:()=>ue},{getElements:()=>Pe}).ComputeDiff(!1).changes}var Nr=s(35382),ho=s(45035),ta=s(64837),il=s(61761),Wl=s(6735);function Tr(le,n){const a=new il.FE,u=new Nr.Z(a,Re=>n.getLanguageConfiguration(Re)),N=new Wl.xH(new Ko([le]),u),x=(0,ta.w)(N,[],void 0,!0);let ee="";const ue=le.getLineContent();function Pe(Re,De){if(Re.kind===2)if(Pe(Re.openingBracket,De),De=(0,ho.Ii)(De,Re.openingBracket.length),Re.child&&(Pe(Re.child,De),De=(0,ho.Ii)(De,Re.child.length)),Re.closingBracket)Pe(Re.closingBracket,De),De=(0,ho.Ii)(De,Re.closingBracket.length);else{const Vt=u.getSingleLanguageBracketTokens(Re.openingBracket.languageId).findClosingTokenText(Re.openingBracket.bracketIds);ee+=Vt}else if(Re.kind!==3){if(Re.kind===0||Re.kind===1)ee+=ue.substring((0,ho.F_)(De),(0,ho.F_)((0,ho.Ii)(De,Re.length)));else if(Re.kind===4)for(const tt of Re.children)Pe(tt,De),De=(0,ho.Ii)(De,tt.length)}}return Pe(x,ho.xl),ee}class Ko{constructor(n){this.lines=n,this.tokenization={getLineTokens:a=>this.lines[a-1]}}getLineCount(){return this.lines.length}getLineLength(n){return this.lines[n-1].getLineContent().length}}var xo=s(75392),Da=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},No=function(le,n){return function(a,u){n(a,u,le)}},js=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};let ar=class extends St.JT{constructor(n,a,u,N,x,ee,ue){super(),this.editor=n,this.cache=a,this.commandService=u,this.languageConfigurationService=N,this.languageFeaturesService=x,this.debounceService=ee,this.onDidChangeEmitter=new et.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new St.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(u.onDidExecuteCommand(Pe=>{new Set([Ce.wk.Tab.id,Ce.wk.DeleteLeft.id,Ce.wk.DeleteRight.id,qr,"acceptSelectedSuggestion"]).has(Pe.commandId)&&n.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(Pe=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(Pe=>{(Pe.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,St.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{ue.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var n;return(n=this.session)===null||n===void 0?void 0:n.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(n){var a;(a=this.session)===null||a===void 0||a.setExpanded(n)}setActive(n){var a;this.active=n,n&&((a=this.session)===null||a===void 0||a.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(57).enabled&&(this.session&&this.session.isValid||this.trigger(ns.bw.Automatic))}trigger(n){if(this.completionSession.value){n===ns.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new nl(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,n,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var n;(n=this.session)===null||n===void 0||n.commitCurrentCompletion()}showNext(){var n;(n=this.session)===null||n===void 0||n.showNextInlineCompletion()}showPrevious(){var n;(n=this.session)===null||n===void 0||n.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var n;return js(this,void 0,void 0,function*(){const a=yield(n=this.session)===null||n===void 0?void 0:n.hasMultipleInlineCompletions();return a!==void 0?a:!1})}};ar=Da([No(2,vt.Hy),No(3,is.c_),No(4,_e.p),No(5,Zi.A),No(6,bi.Ui)],ar);class nl extends or{constructor(n,a,u,N,x,ee,ue,Pe,Re){super(n),this.triggerPosition=a,this.shouldUpdate=u,this.commandService=N,this.cache=x,this.initialTriggerKind=ee,this.languageConfigurationService=ue,this.registry=Pe,this.debounce=Re,this.minReservedLineCount=0,this.updateOperation=this._register(new St.XK),this.updateSoon=this._register(new ki.pY(()=>{const tt=this.initialTriggerKind;return this.initialTriggerKind=ns.bw.Automatic,this.update(tt)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let De;this._register(this.onDidChange(()=>{var tt;const Vt=this.currentCompletion;if(Vt&&Vt.sourceInlineCompletion!==De){De=Vt.sourceInlineCompletion;const si=Vt.sourceProvider;(tt=si.handleItemDidShow)===null||tt===void 0||tt.call(si,Vt.sourceInlineCompletions,De)}})),this._register((0,St.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(tt=>{var Vt;tt.reason!==3&&((Vt=this.cache.value)===null||Vt===void 0||Vt.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(tt=>{var Vt;(Vt=this.cache.value)===null||Vt===void 0||Vt.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const n=this.editor.getModel(),a=n.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(u=>{const N=n.getValueInRange(u.synchronizedRange).toLowerCase(),x=u.inlineCompletion.filterText.toLowerCase(),ee=n.getLineIndentColumn(u.synchronizedRange.startLineNumber),ue=Math.max(0,a.column-u.synchronizedRange.startColumn);let Pe=x.substring(0,ue),Re=x.substring(ue),De=N.substring(0,ue),tt=N.substring(ue);return u.synchronizedRange.startColumn<=ee&&(De=De.trimStart(),De.length===0&&(tt=tt.trimStart()),Pe=Pe.trimStart(),Pe.length===0&&(Re=Re.trimStart())),Pe.startsWith(De)&&(0,xo.Sy)(tt,Re)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const n=this.filteredCompletions.findIndex(a=>a.semanticId===this.currentlySelectedCompletionId);return n===-1?(this.currentlySelectedCompletionId=void 0,0):n}get currentCachedCompletion(){if(this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return js(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const n=this.filteredCompletions||[];if(n.length>0){const a=(this.fixAndGetIndexOfCurrentSelection()+1)%n.length;this.currentlySelectedCompletionId=n[a].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return js(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const n=this.filteredCompletions||[];if(n.length>0){const a=(this.fixAndGetIndexOfCurrentSelection()+n.length-1)%n.length;this.currentlySelectedCompletionId=n[a].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var n;return js(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===ns.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(ns.bw.Explicit):((n=this.cache.value)===null||n===void 0?void 0:n.triggerKind)!==ns.bw.Explicit&&(yield this.update(ns.bw.Explicit))})}hasMultipleInlineCompletions(){var n;return js(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((n=this.cache.value)===null||n===void 0?void 0:n.completions.length)||0)>1})}get ghostText(){const n=this.currentCompletion;if(!n)return;const a=this.editor.getPosition();if(n.range.getEndPosition().isBefore(a))return;const u=this.editor.getOptions().get(57).mode,N=tl(n,this.editor.getModel(),u,a);return N?N.isEmpty()?void 0:N:new ea(n.range.startLineNumber,n.range.startColumn,n.range.endColumn-n.range.startColumn,n.insertText.split(`
`),0)}get currentCompletion(){const n=this.currentCachedCompletion;if(n)return n.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(n){return js(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const a=this.editor.getPosition(),u=new Date,N=(0,ki.PG)(ee=>js(this,void 0,void 0,function*(){let ue;try{ue=yield To(this.registry,a,this.editor.getModel(),{triggerKind:n,selectedSuggestionInfo:void 0},ee,this.languageConfigurationService);const Pe=new Date;this.debounce.update(this.editor.getModel(),Pe.getTime()-u.getTime())}catch(Pe){(0,Pi.dL)(Pe);return}ee.isCancellationRequested||(this.cache.setValue(this.editor,ue,n),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),x=new Ea(N,n);this.updateOperation.value=x,yield N,this.updateOperation.value===x&&this.updateOperation.clear()})}takeOwnership(n){this._register(n)}commitCurrentCompletion(){if(!this.ghostText)return;const a=this.currentCompletion;a&&this.commit(a)}commit(n){var a;const u=this.cache.clearAndLeak();n.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[Jn.h.replaceMove(n.range,""),...n.additionalTextEdits]),this.editor.setPosition(n.snippetInfo.range.getStartPosition()),(a=Bi.f.get(this.editor))===null||a===void 0||a.insert(n.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[Jn.h.replaceMove(n.range,n.insertText),...n.additionalTextEdits]),n.command?this.commandService.executeCommand(n.command.id,...n.command.arguments||[]).finally(()=>{u?.dispose()}).then(void 0,Pi.Cp):u?.dispose(),this.onDidChangeEmitter.fire()}get commands(){var n;return[...new Set(((n=this.cache.value)===null||n===void 0?void 0:n.completions.map(u=>u.inlineCompletion.sourceInlineCompletions))||[])].flatMap(u=>u.commands||[])}}class Ea{constructor(n,a){this.promise=n,this.triggerKind=a}dispose(){this.promise.cancel()}}class Mr extends St.JT{constructor(n,a,u,N){super(),this.editor=a,this.onChange=u,this.triggerKind=N,this.isDisposing=!1;const x=a.changeDecorations(ee=>ee.deltaDecorations([],n.items.map(ue=>({range:ue.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,St.OF)(()=>{this.isDisposing=!0,a.removeDecorations(x)})),this.completions=n.items.map((ee,ue)=>new so(ee,x[ue])),this._register(a.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(n)}updateRanges(){if(this.isDisposing)return;let n=!1;const a=this.editor.getModel();for(const u of this.completions){const N=a.getDecorationRange(u.decorationId);if(!N){(0,Pi.dL)(new Error("Decoration has no range"));continue}u.synchronizedRange.equalsRange(N)||(n=!0,u.synchronizedRange=N)}n&&this.onChange()}}class so{constructor(n,a){this.inlineCompletion=n,this.decorationId=a,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=n.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function To(le,n,a,u,N=Di.T.None,x){return js(this,void 0,void 0,function*(){const ee=fo(n,a),ue=le.all(a),Pe=yield Promise.all(ue.map(De=>js(this,void 0,void 0,function*(){const tt=yield Promise.resolve(De.provideInlineCompletions(a,n,u,N)).catch(Pi.Cp);return{completions:tt,provider:De,dispose:()=>{tt&&De.freeInlineCompletions(tt)}}}))),Re=new Map;for(const De of Pe){const tt=De.completions;if(tt)for(const Vt of tt.items){let si=Vt.range?Ke.e.lift(Vt.range):ee;if(si.startLineNumber!==si.endLineNumber)continue;let li,Ni;if(typeof Vt.insertText=="string"){if(li=Vt.insertText,x&&Vt.completeBracketPairs){li=lr(li,si.getStartPosition(),a,x);const dn=li.length-Vt.insertText.length;dn!==0&&(si=new Ke.e(si.startLineNumber,si.startColumn,si.endLineNumber,si.endColumn+dn))}Ni=void 0}else"snippet"in Vt.insertText?(li=new Qi.Yj().parse(Vt.insertText.snippet).toString(),Ni={snippet:Vt.insertText.snippet,range:si}):(0,Vi.vE)(Vt.insertText);const Oi={insertText:li,snippetInfo:Ni,range:si,command:Vt.command,sourceProvider:De.provider,sourceInlineCompletions:tt,sourceInlineCompletion:Vt,filterText:Vt.filterText||li,additionalTextEdits:Vt.additionalTextEdits||xr()};Re.set(JSON.stringify({insertText:li,range:Vt.range}),Oi)}}return{items:[...Re.values()],dispose:()=>{for(const De of Pe)De.dispose()}}})}function fo(le,n){const a=n.getWordAtPosition(le),u=n.getLineMaxColumn(le.lineNumber);return a?new Ke.e(le.lineNumber,a.startColumn,le.lineNumber,u):Ke.e.fromPositions(le,le.with(void 0,u))}function lr(le,n,a,u){const x=a.getLineContent(n.lineNumber).substring(0,n.column-1)+le,ee=a.tokenization.tokenizeLineWithEdit(n,x.length-(n.column-1),le),ue=ee?.sliceAndInflate(n.column-1,x.length,0);return ue?Tr(ue,u):le}var kr=s(3461),$o=s(43587);class Mo extends St.JT{constructor(n,a){super(),this.editor=n,this.suggestControllerPreselector=a,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new et.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new ki.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(n.onKeyDown(N=>{N.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(n.onKeyUp(N=>{N.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const u=$o.SuggestController.get(this.editor);if(u){this._register(u.registerSelector({priority:100,select:(ee,ue,Pe)=>{const Re=this.editor.getModel(),De=rr(Re,this.suggestControllerPreselector());if(!De)return-1;const tt=qn.L.lift(ue),Vt=Pe.map((li,Ni)=>{const Oi=ia(u,tt,li,this.isShiftKeyPressed),dn=rr(Re,Oi?.normalizedInlineCompletion);if(!dn)return;const kn=Rr(De.range,dn.range)&&De.insertText.startsWith(dn.insertText);return{index:Ni,valid:kn,prefixLength:dn.insertText.length,suggestItem:li}}).filter(li=>li&&li.valid),si=(0,k.Dc)(Vt,(0,k.tT)(li=>li.prefixLength,k.fv));return si?si.index:-1}}));let N=!1;const x=()=>{N||(N=!0,this._register(u.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(u.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(u.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(et.ju.once(u.model.onDidTrigger)(ee=>{x()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(n){const a=this.getSuggestItemInfo();let u=!1;sl(this._currentSuggestItemInfo,a)||(this._currentSuggestItemInfo=a,u=!0),this._isActive!==n&&(this._isActive=n,u=!0),u&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const n=$o.SuggestController.get(this.editor);if(!n||!this.isSuggestWidgetVisible)return;const a=n.widget.value.getFocusedItem();if(a)return ia(n,this.editor.getPosition(),a.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const n=$o.SuggestController.get(this.editor);n&&n.stopForceRenderingAbove()}forceRenderingAbove(){const n=$o.SuggestController.get(this.editor);n&&n.forceRenderingAbove()}}function Rr(le,n){return n.startLineNumber===le.startLineNumber&&n.startColumn===le.startColumn&&(n.endLineNumber<le.endLineNumber||n.endLineNumber===le.endLineNumber&&n.endColumn<=le.endColumn)}function sl(le,n){return le===n?!0:!le||!n?!1:le.completionItemKind===n.completionItemKind&&le.isSnippetText===n.isSnippetText&&el(le.normalizedInlineCompletion,n.normalizedInlineCompletion)}function ia(le,n,a,u){if(Array.isArray(a.completion.additionalTextEdits)&&a.completion.additionalTextEdits.length>0)return{completionItemKind:a.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:Ke.e.fromPositions(n,n),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:N}=a.completion,x=!1;if(a.completion.insertTextRules&4){const ue=new Qi.Yj().parse(N),Pe=le.editor.getModel();if(ue.children.length>100)return;kr.l.adjustWhitespace(Pe,n,ue,!0,!0),N=ue.toString(),x=!0}const ee=le.getOverwriteInfo(a,u);return{isSnippetText:x,completionItemKind:a.completion.kind,normalizedInlineCompletion:{insertText:N,filterText:N,range:Ke.e.fromPositions(n.delta(0,-ee.overwriteBefore),n.delta(0,Math.max(ee.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var Ar=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},ol=function(le,n){return function(a,u){n(a,u,le)}},oo=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};let na=class extends or{constructor(n,a,u){super(n),this.cache=a,this.languageFeaturesService=u,this.suggestionInlineCompletionSource=this._register(new Mo(this.editor,()=>{var N,x;return(x=(N=this.cache.value)===null||N===void 0?void 0:N.completions[0])===null||x===void 0?void 0:x.toLiveInlineCompletion()})),this.updateOperation=this._register(new St.XK),this.updateCacheSoon=this._register(new ki.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const x=this.ghostText;x&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,Ia(x.parts.map(ee=>ee.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(N=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,St.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return oo(this,void 0,void 0,function*(){const n=this.suggestionInlineCompletionSource.state;if(!n||!n.selectedItem)return;const a={text:n.selectedItem.normalizedInlineCompletion.insertText,range:n.selectedItem.normalizedInlineCompletion.range,isSnippetText:n.selectedItem.isSnippetText,completionKind:n.selectedItem.completionItemKind},u=this.editor.getPosition();if(n.selectedItem.isSnippetText||n.selectedItem.completionItemKind===27||n.selectedItem.completionItemKind===20||n.selectedItem.completionItemKind===23){this.cache.clear();return}const N=(0,ki.PG)(ee=>oo(this,void 0,void 0,function*(){let ue;try{ue=yield To(this.languageFeaturesService.inlineCompletionsProvider,u,this.editor.getModel(),{triggerKind:ns.bw.Automatic,selectedSuggestionInfo:a},ee)}catch(Pe){(0,Pi.dL)(Pe);return}if(ee.isCancellationRequested){ue.dispose();return}this.cache.setValue(this.editor,ue,ns.bw.Automatic),this.onDidChangeEmitter.fire()})),x=new Ea(N,ns.bw.Automatic);this.updateOperation.value=x,yield N,this.updateOperation.value===x&&this.updateOperation.clear()})}get ghostText(){var n,a,u;const N=this.isSuggestionPreviewEnabled(),x=this.editor.getModel(),ee=rr(x,(a=(n=this.cache.value)===null||n===void 0?void 0:n.completions[0])===null||a===void 0?void 0:a.toLiveInlineCompletion()),ue=this.suggestionInlineCompletionSource.state,Pe=rr(x,(u=ue?.selectedItem)===null||u===void 0?void 0:u.normalizedInlineCompletion),Re=ee&&Pe&&ee.insertText.startsWith(Pe.insertText)&&ee.range.equalsRange(Pe.range);if(!N&&!Re)return;const De=Re?ee:Pe||ee,tt=Re?De.insertText.length-Pe.insertText.length:0;return this.toGhostText(De,tt)}toGhostText(n,a){const u=this.editor.getOptions().get(108).previewMode;return n?tl(n,this.editor.getModel(),u,this.editor.getPosition(),a)||new no(n.range.endLineNumber,[],this.minReservedLineCount):void 0}};na=Ar([ol(2,_e.p)],na);function Ia(le){return le.reduce((n,a)=>n+a,0)}var Go=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Or=function(le,n){return function(a,u){n(a,u,le)}},rl=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};class sa extends St.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new et.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new St.XK)}get targetModel(){var n;return(n=this.currentModelRef.value)===null||n===void 0?void 0:n.object}setTargetModel(n){var a;((a=this.currentModelRef.value)===null||a===void 0?void 0:a.object)!==n&&(this.currentModelRef.clear(),this.currentModelRef.value=n?Pl(n,n.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var n,a;return this.hasCachedGhostText||(this.cachedGhostText=(a=(n=this.currentModelRef.value)===null||n===void 0?void 0:n.object)===null||a===void 0?void 0:a.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(n){var a;(a=this.targetModel)===null||a===void 0||a.setExpanded(n)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Qo=class extends sa{constructor(n,a){super(),this.editor=n,this.instantiationService=a,this.sharedCache=this._register(new Pr),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(na,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(ar,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(n){var a;const u=(a=this.activeInlineCompletionsModel)===null||a===void 0?void 0:a.ghostText;return u?u.parts.some(N=>n.containsPosition(new qn.L(u.lineNumber,N.column))):!1}triggerInlineCompletion(){var n;(n=this.activeInlineCompletionsModel)===null||n===void 0||n.trigger(ns.bw.Explicit)}commitInlineCompletion(){var n;(n=this.activeInlineCompletionsModel)===null||n===void 0||n.commitCurrentSuggestion()}hideInlineCompletion(){var n;(n=this.activeInlineCompletionsModel)===null||n===void 0||n.hide()}showNextInlineCompletion(){var n;(n=this.activeInlineCompletionsModel)===null||n===void 0||n.showNext()}showPreviousInlineCompletion(){var n;(n=this.activeInlineCompletionsModel)===null||n===void 0||n.showPrevious()}hasMultipleInlineCompletions(){var n;return rl(this,void 0,void 0,function*(){const a=yield(n=this.activeInlineCompletionsModel)===null||n===void 0?void 0:n.hasMultipleInlineCompletions();return a!==void 0?a:!1})}};Qo=Go([Or(1,Je.TG)],Qo);class Pr extends St.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new et.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new St.XK)}get value(){return this.cache.value}setValue(n,a,u){this.cache.value=new Mr(a,n,()=>this.onDidChangeEmitter.fire(),u)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var Zo=s(52136),Yo=s(77378),oa=s(50072),go=s(84973),ko=s(72042),ds=s(8625),Fr=s(92550),zn=s(72202),Vl=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},cr=function(le,n){return function(a,u){n(a,u,le)}},ra;const aa=(ra=window.trustedTypes)===null||ra===void 0?void 0:ra.createPolicy("editorGhostText",{createHTML:le=>le});let xa=class extends St.JT{constructor(n,a,u,N){super(),this.editor=n,this.model=a,this.instantiationService=u,this.languageService=N,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(al,this.editor)),this.additionalLinesWidget=this._register(new dr(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new Hl(this.editor)),this._register(this.editor.onDidChangeConfiguration(x=>{(x.hasChanged(29)||x.hasChanged(107)||x.hasChanged(90)||x.hasChanged(85)||x.hasChanged(47)||x.hasChanged(46)||x.hasChanged(61))&&this.update()})),this._register((0,St.OF)(()=>{var x;this.disposed=!0,this.update(),(x=this.viewMoreContentWidget)===null||x===void 0||x.dispose(),this.viewMoreContentWidget=void 0})),this._register(a.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(n){return this.additionalLinesWidget.viewZoneId===n}update(){var n;const a=this.model.ghostText;if(!this.editor.hasModel()||!a||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const u=new Array,N=new Array;function x(Re,De){if(N.length>0){const tt=N[N.length-1];De&&tt.decorations.push(new Fr.Kp(tt.content.length+1,tt.content.length+1+Re[0].length,De,0)),tt.content+=Re[0],Re=Re.slice(1)}for(const tt of Re)N.push({content:tt,decorations:De?[new Fr.Kp(1,tt.length+1,De,0)]:[]})}a instanceof ea?this.replacementDecoration.setDecorations([{range:new Ke.e(a.lineNumber,a.columnStart,a.lineNumber,a.columnStart+a.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const ee=this.editor.getModel().getLineContent(a.lineNumber);let ue,Pe=0;for(const Re of a.parts){let De=Re.lines;ue===void 0?(u.push({column:Re.column,text:De[0],preview:Re.preview}),De=De.slice(1)):x([ee.substring(Pe,Re.column-1)],void 0),De.length>0&&(x(De,"ghost-text"),ue===void 0&&Re.column<=ee.length&&(ue=Re.column)),Pe=Re.column-1}ue!==void 0&&x([ee.substring(Pe)],void 0),this.partsWidget.setParts(a.lineNumber,u,ue!==void 0?{column:ue,length:ee.length+1-ue}:void 0),this.additionalLinesWidget.updateLines(a.lineNumber,N,a.additionalReservedLineCount),(n=this.viewMoreContentWidget)===null||n===void 0||n.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines(n,a,u){const N=this.editor.getOption(46),x=document.createElement("div");x.className="suggest-preview-additional-widget",(0,Zo.N)(x,N);const ee=document.createElement("span");ee.className="content-spacer",ee.append(a),x.append(ee);const ue=document.createElement("span");ue.className="content-newline suggest-preview-text",ue.append("\u23CE  "),x.append(ue);const Pe=new St.SL,Re=document.createElement("div");return Re.className="button suggest-preview-text",Re.append(`+${u} lines\u2026`),Pe.add(jt.mu(Re,"mousedown",De=>{var tt;(tt=this.model)===null||tt===void 0||tt.setExpanded(!0),De.preventDefault(),this.editor.focus()})),x.append(Re),new Ro(this.editor,n,x,Pe)}};xa=Vl([cr(2,Je.TG),cr(3,ko.O)],xa);class Hl{constructor(n){this.editor=n,this.decorationIds=[]}setDecorations(n){this.editor.changeDecorations(a=>{this.decorationIds=a.deltaDecorations(this.decorationIds,n)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class al{constructor(n){this.editor=n,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(n=>{this.decorationIds=n.deltaDecorations(this.decorationIds,[])})}setParts(n,a,u){if(!this.editor.getModel())return;const x=new Array;u&&x.push({range:Ke.e.fromPositions(new qn.L(n,u.column),new qn.L(n,u.column+u.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(ee=>{this.decorationIds=ee.deltaDecorations(this.decorationIds,a.map(ue=>({range:Ke.e.fromPositions(new qn.L(n,ue.column)),options:{description:"ghost-text",after:{content:ue.text,inlineClassName:ue.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:go.RM.Left},showIfCollapsed:!0}})).concat(x))})}}class dr{constructor(n,a){this.editor=n,this.languageIdCodec=a,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(n=>{this._viewZoneId&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(n,a,u){const N=this.editor.getModel();if(!N)return;const{tabSize:x}=N.getOptions();this.editor.changeViewZones(ee=>{this._viewZoneId&&(ee.removeZone(this._viewZoneId),this._viewZoneId=void 0);const ue=Math.max(a.length,u);if(ue>0){const Pe=document.createElement("div");ll(Pe,x,a,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=ee.addZone({afterLineNumber:n,heightInLines:ue,domNode:Pe,afterColumnAffinity:1})}})}}function ll(le,n,a,u,N){const x=u.get(29),ee=u.get(107),ue="none",Pe=u.get(85),Re=u.get(47),De=u.get(46),tt=u.get(61),Vt=(0,oa.l$)(1e4);Vt.appendASCIIString('<div class="suggest-preview-text">');for(let Ni=0,Oi=a.length;Ni<Oi;Ni++){const dn=a[Ni],kn=dn.content;Vt.appendASCIIString('<div class="view-line'),Vt.appendASCIIString('" style="top:'),Vt.appendASCIIString(String(Ni*tt)),Vt.appendASCIIString('px;width:1000000px;">');const Xn=Ct.$i(kn),fs=Ct.Ut(kn),Ds=Yo.A.createEmpty(kn,N);(0,zn.d1)(new zn.IJ(De.isMonospace&&!x,De.canUseHalfwidthRightwardsArrow,kn,!1,Xn,fs,0,Ds,dn.decorations,n,0,De.spaceWidth,De.middotWidth,De.wsmiddotWidth,ee,ue,Pe,Re!==Ri.n0.OFF,null),Vt),Vt.appendASCIIString("</div>")}Vt.appendASCIIString("</div>"),(0,Zo.N)(le,De);const si=Vt.build(),li=aa?aa.createHTML(si):si;le.innerHTML=li}class Ro extends St.JT{constructor(n,a,u,N){super(),this.editor=n,this.position=a,this.domNode=u,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(N),this._register((0,St.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,_i.Ic)((le,n)=>{const a=le.getColor(ds.N5);a&&(n.addRule(`.monaco-editor .ghost-text-decoration { color: ${a.toString()} !important; }`),n.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${a.toString()} !important; }`),n.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${a.toString()} !important; }`));const u=le.getColor(ds.IO);u&&(n.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${u.toString()}; }`),n.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${u.toString()}; }`),n.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${u.toString()}; }`));const N=le.getColor(ds.x3);N&&(n.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${N}; }`),n.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${N}; }`),n.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${N}; }`))});var cl=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},la=function(le,n){return function(a,u){n(a,u,le)}},Br=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};let Dt=class df extends St.JT{constructor(n,a){super(),this.editor=n,this.instantiationService=a,this.triggeredExplicitly=!1,this.activeController=this._register(new St.XK),this.activeModelDidChangeEmitter=this._register(new et.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(u=>{u.hasChanged(108)&&this.updateModelController(),u.hasChanged(57)&&this.updateModelController()})),this.updateModelController()}static get(n){return n.getContribution(df.ID)}get activeModel(){var n;return(n=this.activeController.value)===null||n===void 0?void 0:n.model}updateModelController(){const n=this.editor.getOption(108),a=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(n.preview||a.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(o,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(n){var a;return((a=this.activeModel)===null||a===void 0?void 0:a.shouldShowHoverAt(n))||!1}shouldShowHoverAtViewZone(n){var a,u;return((u=(a=this.activeController.value)===null||a===void 0?void 0:a.widget)===null||u===void 0?void 0:u.shouldShowHoverAtViewZone(n))||!1}trigger(){var n;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(n=this.activeModel)===null||n===void 0||n.triggerInlineCompletion()}commit(){var n;(n=this.activeModel)===null||n===void 0||n.commitInlineCompletion()}hide(){var n;(n=this.activeModel)===null||n===void 0||n.hideInlineCompletion()}showNextInlineCompletion(){var n;(n=this.activeModel)===null||n===void 0||n.showNextInlineCompletion()}showPreviousInlineCompletion(){var n;(n=this.activeModel)===null||n===void 0||n.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var n;return Br(this,void 0,void 0,function*(){const a=yield(n=this.activeModel)===null||n===void 0?void 0:n.hasMultipleInlineCompletions();return a!==void 0?a:!1})}};Dt.inlineSuggestionVisible=new ft.uy("inlineSuggestionVisible",!1,ye.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),Dt.inlineSuggestionHasIndentation=new ft.uy("inlineSuggestionHasIndentation",!1,ye.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Dt.inlineSuggestionHasIndentationLessThanTabSize=new ft.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,ye.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Dt.ID="editor.contrib.ghostTextController",Dt=cl([la(1,Je.TG)],Dt);class e{constructor(n){this.contextKeyService=n,this.inlineCompletionVisible=Dt.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Dt.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Dt.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let o=class extends St.JT{constructor(n,a,u){super(),this.editor=n,this.instantiationService=a,this.contextKeyService=u,this.contextKeys=new e(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Qo,this.editor)),this.widget=this._register(this.instantiationService.createInstance(xa,this.editor,this.model)),this._register((0,St.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var n;this.contextKeys.inlineCompletionVisible.set(((n=this.model.activeInlineCompletionsModel)===null||n===void 0?void 0:n.ghostText)!==void 0);let a=!1,u=!0;const N=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&N&&N.parts.length>0){const{column:x,lines:ee}=N.parts[0],ue=ee[0],Pe=this.editor.getModel().getLineIndentColumn(N.lineNumber);if(x<=Pe){let De=(0,Ct.LC)(ue);De===-1&&(De=ue.length-1),a=De>0;const tt=this.editor.getModel().getOptions().tabSize;u=Ol.i.visibleColumnFromColumn(ue,De+1,tt)<tt}}this.contextKeys.inlineCompletionSuggestsIndentation.set(a),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(u)}};o=cl([la(1,Je.TG),la(2,ft.i6)],o);class f extends We.R6{constructor(){super({id:f.ID,label:ye.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:ft.Ao.and(pe.u.writable,Dt.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(n,a){return Br(this,void 0,void 0,function*(){const u=Dt.get(a);u&&(u.showNextInlineCompletion(),a.focus())})}}f.ID="editor.action.inlineSuggest.showNext";class A extends We.R6{constructor(){super({id:A.ID,label:ye.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:ft.Ao.and(pe.u.writable,Dt.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(n,a){return Br(this,void 0,void 0,function*(){const u=Dt.get(a);u&&(u.showPreviousInlineCompletion(),a.focus())})}}A.ID="editor.action.inlineSuggest.showPrevious";class U extends We.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:ye.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:pe.u.writable})}run(n,a){return Br(this,void 0,void 0,function*(){const u=Dt.get(a);u&&u.trigger()})}}var de=s(51318),Se=s(31106),He=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Qe=function(le,n){return function(a,u){n(a,u,le)}};class st{constructor(n,a,u){this.owner=n,this.range=a,this.controller=u}isValidForHoverAnchor(n){return n.type===1&&this.range.startColumn<=n.range.startColumn&&this.range.endColumn>=n.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var n,a,u;return((u=(a=(n=this.controller.activeModel)===null||n===void 0?void 0:n.activeInlineCompletionsModel)===null||a===void 0?void 0:a.completionSession.value)===null||u===void 0?void 0:u.commands)||[]}}let mt=class{constructor(n,a,u,N,x,ee,ue){this._editor=n,this._commandService=a,this._menuService=u,this._contextKeyService=N,this._languageService=x,this._openerService=ee,this.accessibilityService=ue,this.hoverOrdinal=3}suggestHoverAnchor(n){const a=Dt.get(this._editor);if(!a)return null;const u=n.target;if(u.type===8){const N=u.detail;if(a.shouldShowHoverAtViewZone(N.viewZoneId))return new gn.YM(1e3,this,Ke.e.fromPositions(N.positionBefore||N.position,N.positionBefore||N.position))}return u.type===7&&a.shouldShowHoverAt(u.range)?new gn.YM(1e3,this,u.range):u.type===6&&u.detail.mightBeForeignElement&&a.shouldShowHoverAt(u.range)?new gn.YM(1e3,this,u.range):null}computeSync(n,a){const u=Dt.get(this._editor);return u&&u.shouldShowHoverAt(n.range)?[new st(this,n.range,u)]:[]}renderHoverParts(n,a){const u=new St.SL,N=a[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(n,N,u);const x=u.add(this._menuService.createMenu(Wn.eH.InlineCompletionsActions,this._contextKeyService)),ee=n.statusBar.addAction({label:ye.NC("showNextInlineSuggestion","Next"),commandId:f.ID,run:()=>this._commandService.executeCommand(f.ID)}),ue=n.statusBar.addAction({label:ye.NC("showPreviousInlineSuggestion","Previous"),commandId:A.ID,run:()=>this._commandService.executeCommand(A.ID)});n.statusBar.addAction({label:ye.NC("acceptInlineSuggestion","Accept"),commandId:qr,run:()=>this._commandService.executeCommand(qr)});const Pe=[ee,ue];for(const Re of Pe)Re.setEnabled(!1);N.hasMultipleSuggestions().then(Re=>{for(const De of Pe)De.setEnabled(Re)});for(const Re of N.commands)n.statusBar.addAction({label:Re.title,commandId:Re.id,run:()=>this._commandService.executeCommand(Re.id,...Re.arguments||[])});for(const[Re,De]of x.getActions())for(const tt of De)tt instanceof Wn.U8&&n.statusBar.addAction({label:tt.label,commandId:tt.item.id,run:()=>this._commandService.executeCommand(tt.item.id)});return u}renderScreenReaderText(n,a,u){var N,x;const ee=jt.$,ue=ee("div.hover-row.markdown-hover"),Pe=jt.R3(ue,ee("div.hover-contents")),Re=u.add(new de.$({editor:this._editor},this._languageService,this._openerService)),De=Vt=>{u.add(Re.onDidRenderAsync(()=>{Pe.className="hover-contents code-hover-contents",n.onContentsChanged()}));const si=ye.NC("inlineSuggestionFollows","Suggestion:"),li=u.add(Re.render(new pt.W5().appendText(si).appendCodeblock("text",Vt)));Pe.replaceChildren(li.element)},tt=(x=(N=a.controller.activeModel)===null||N===void 0?void 0:N.inlineCompletionsModel)===null||x===void 0?void 0:x.ghostText;if(tt){const Vt=this._editor.getModel().getLineContent(tt.lineNumber);De(tt.renderForScreenReader(Vt))}n.fragment.appendChild(ue)}};mt=He([Qe(1,vt.Hy),Qe(2,Wn.co),Qe(3,ft.i6),Qe(4,ko.O),Qe(5,R.v4),Qe(6,Se.F)],mt);var Pt=s(49989);(0,We._K)(Dt.ID,Dt),(0,We.Qr)(U),(0,We.Qr)(f),(0,We.Qr)(A),gn.Ae.register(mt);const At=We._l.bindToContribution(Dt.get),ti=new At({id:qr,precondition:Dt.inlineSuggestionVisible,handler(le){le.commit(),le.editor.focus()}});(0,We.fK)(ti),Pt.W.registerKeybindingRule({primary:2,weight:200,id:ti.id,when:ft.Ao.and(ti.precondition,pe.u.tabMovesFocus.toNegated(),Dt.inlineSuggestionHasIndentationLessThanTabSize)}),(0,We.fK)(new At({id:"editor.action.inlineSuggest.hide",precondition:Dt.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(le){le.hide()}}));var gi=s(95817),vi=s(56334),Li=s(20347),Wi=s(10291);function Mi(le,n){let a=0;for(let u=0;u<le.length;u++)le.charAt(u)==="	"?a+=n:a++;return a}function on(le,n,a){le=le<0?0:le;let u="";if(!a){const N=Math.floor(le/n);le=le%n;for(let x=0;x<N;x++)u+="	"}for(let N=0;N<le;N++)u+=" ";return u}var qi=s(83158),un=s(75383),fn=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},tn=function(le,n){return function(a,u){n(a,u,le)}};function wn(le,n,a,u,N){if(le.getLineCount()===1&&le.getLineMaxColumn(1)===1)return[];const x=n.getLanguageConfiguration(le.getLanguageId()).indentationRules;if(!x)return[];for(u=Math.min(u,le.getLineCount());a<=u&&x.unIndentedLinePattern;){const Oi=le.getLineContent(a);if(!x.unIndentedLinePattern.test(Oi))break;a++}if(a>u-1)return[];const{tabSize:ee,indentSize:ue,insertSpaces:Pe}=le.getOptions(),Re=(Oi,dn)=>(dn=dn||1,Wi.U.shiftIndent(Oi,Oi.length+dn,ee,ue,Pe)),De=(Oi,dn)=>(dn=dn||1,Wi.U.unshiftIndent(Oi,Oi.length+dn,ee,ue,Pe)),tt=[];let Vt;const si=le.getLineContent(a);let li=si;if(N!=null){Vt=N;const Oi=Ct.V8(si);li=Vt+si.substring(Oi.length),x.decreaseIndentPattern&&x.decreaseIndentPattern.test(li)&&(Vt=De(Vt),li=Vt+si.substring(Oi.length)),si!==li&&tt.push(Jn.h.replaceMove(new it.Y(a,1,a,Oi.length+1),(0,qi.x)(Vt,ue,Pe)))}else Vt=Ct.V8(si);let Ni=Vt;x.increaseIndentPattern&&x.increaseIndentPattern.test(li)?(Ni=Re(Ni),Vt=Re(Vt)):x.indentNextLinePattern&&x.indentNextLinePattern.test(li)&&(Ni=Re(Ni)),a++;for(let Oi=a;Oi<=u;Oi++){const dn=le.getLineContent(Oi),kn=Ct.V8(dn),Xn=Ni+dn.substring(kn.length);x.decreaseIndentPattern&&x.decreaseIndentPattern.test(Xn)&&(Ni=De(Ni),Vt=De(Vt)),kn!==Ni&&tt.push(Jn.h.replaceMove(new it.Y(Oi,1,Oi,kn.length+1),(0,qi.x)(Ni,ue,Pe))),!(x.unIndentedLinePattern&&x.unIndentedLinePattern.test(dn))&&(x.increaseIndentPattern&&x.increaseIndentPattern.test(Xn)?(Vt=Re(Vt),Ni=Vt):x.indentNextLinePattern&&x.indentNextLinePattern.test(Xn)?Ni=Re(Ni):Ni=Vt)}return tt}class Fn extends We.R6{constructor(){super({id:Fn.ID,label:ye.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:pe.u.writable})}run(n,a){const u=a.getModel();if(!u)return;const N=u.getOptions(),x=a.getSelection();if(!x)return;const ee=new zc(x,N.tabSize);a.pushUndoStop(),a.executeCommands(this.id,[ee]),a.pushUndoStop(),u.updateOptions({insertSpaces:!0})}}Fn.ID="editor.action.indentationToSpaces";class pn extends We.R6{constructor(){super({id:pn.ID,label:ye.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:pe.u.writable})}run(n,a){const u=a.getModel();if(!u)return;const N=u.getOptions(),x=a.getSelection();if(!x)return;const ee=new Xs(x,N.tabSize);a.pushUndoStop(),a.executeCommands(this.id,[ee]),a.pushUndoStop(),u.updateOptions({insertSpaces:!1})}}pn.ID="editor.action.indentationToTabs";class as extends We.R6{constructor(n,a){super(a),this.insertSpaces=n}run(n,a){const u=n.get(Ji.eJ),N=n.get(Wt.q),x=a.getModel();if(!x)return;const ee=N.getCreationOptions(x.getLanguageId(),x.uri,x.isForSimpleWidget),ue=[1,2,3,4,5,6,7,8].map(Re=>({id:Re.toString(),label:Re.toString(),description:Re===ee.tabSize?ye.NC("configuredTabSize","Configured Tab Size"):void 0})),Pe=Math.min(x.getOptions().tabSize-1,7);setTimeout(()=>{u.pick(ue,{placeHolder:ye.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:ue[Pe]}).then(Re=>{Re&&x&&!x.isDisposed()&&x.updateOptions({tabSize:parseInt(Re.label,10),insertSpaces:this.insertSpaces})})},50)}}class Yn extends as{constructor(){super(!1,{id:Yn.ID,label:ye.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}Yn.ID="editor.action.indentUsingTabs";class gs extends as{constructor(){super(!0,{id:gs.ID,label:ye.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}gs.ID="editor.action.indentUsingSpaces";class Ln extends We.R6{constructor(){super({id:Ln.ID,label:ye.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(n,a){const u=n.get(Wt.q),N=a.getModel();if(!N)return;const x=u.getCreationOptions(N.getLanguageId(),N.uri,N.isForSimpleWidget);N.detectIndentation(x.insertSpaces,x.tabSize)}}Ln.ID="editor.action.detectIndentation";class bs extends We.R6{constructor(){super({id:"editor.action.reindentlines",label:ye.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:pe.u.writable})}run(n,a){const u=n.get(is.c_),N=a.getModel();if(!N)return;const x=wn(N,u,1,N.getLineCount());x.length>0&&(a.pushUndoStop(),a.executeEdits(this.id,x),a.pushUndoStop())}}class Ss extends We.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:ye.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:pe.u.writable})}run(n,a){const u=n.get(is.c_),N=a.getModel();if(!N)return;const x=a.getSelections();if(x===null)return;const ee=[];for(const ue of x){let Pe=ue.startLineNumber,Re=ue.endLineNumber;if(Pe!==Re&&ue.endColumn===1&&Re--,Pe===1){if(Pe===Re)continue}else Pe--;const De=wn(N,u,Pe,Re);ee.push(...De)}ee.length>0&&(a.pushUndoStop(),a.executeEdits(this.id,ee),a.pushUndoStop())}}class _s{constructor(n,a){this._initialSelection=a,this._edits=[],this._selectionId=null;for(const u of n)u.range&&typeof u.text=="string"&&this._edits.push(u)}getEditOperations(n,a){for(const N of this._edits)a.addEditOperation(Ke.e.lift(N.range),N.text);let u=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(u=!0,this._selectionId=a.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(u=!0,this._selectionId=a.trackSelection(this._initialSelection,!1))),u||(this._selectionId=a.trackSelection(this._initialSelection))}computeCursorState(n,a){return a.getTrackedSelection(this._selectionId)}}let As=class{constructor(n,a){this.editor=n,this._languageConfigurationService=a,this.callOnDispose=new St.SL,this.callOnModel=new St.SL,this.callOnDispose.add(n.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(n.onDidChangeModel(()=>this.update())),this.callOnDispose.add(n.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(50))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:n})=>{this.trigger(n)}))}trigger(n){const a=this.editor.getSelections();if(a===null||a.length>1)return;const u=this.editor.getModel();if(!u||!u.tokenization.isCheapToTokenize(n.getStartPosition().lineNumber))return;const N=this.editor.getOption(9),{tabSize:x,indentSize:ee,insertSpaces:ue}=u.getOptions(),Pe=[],Re={shiftIndent:si=>Wi.U.shiftIndent(si,si.length+1,x,ee,ue),unshiftIndent:si=>Wi.U.unshiftIndent(si,si.length+1,x,ee,ue)};let De=n.startLineNumber;for(;De<=n.endLineNumber;){if(this.shouldIgnoreLine(u,De)){De++;continue}break}if(De>n.endLineNumber)return;let tt=u.getLineContent(De);if(!/\S/.test(tt.substring(0,n.startColumn-1))){const si=(0,un.n8)(N,u,u.getLanguageId(),De,Re,this._languageConfigurationService);if(si!==null){const li=Ct.V8(tt),Ni=Mi(si,x),Oi=Mi(li,x);if(Ni!==Oi){const dn=on(Ni,x,ue);Pe.push({range:new Ke.e(De,1,De,li.length+1),text:dn}),tt=dn+tt.substr(li.length)}else{const dn=(0,un.tI)(u,De,this._languageConfigurationService);if(dn===0||dn===8)return}}}const Vt=De;for(;De<n.endLineNumber;){if(!/\S/.test(u.getLineContent(De+1))){De++;continue}break}if(De!==n.endLineNumber){const si={tokenization:{getLineTokens:Ni=>u.tokenization.getLineTokens(Ni),getLanguageId:()=>u.getLanguageId(),getLanguageIdAtPosition:(Ni,Oi)=>u.getLanguageIdAtPosition(Ni,Oi)},getLineContent:Ni=>Ni===Vt?tt:u.getLineContent(Ni)},li=(0,un.n8)(N,si,u.getLanguageId(),De+1,Re,this._languageConfigurationService);if(li!==null){const Ni=Mi(li,x),Oi=Mi(Ct.V8(u.getLineContent(De+1)),x);if(Ni!==Oi){const dn=Ni-Oi;for(let kn=De+1;kn<=n.endLineNumber;kn++){const Xn=u.getLineContent(kn),fs=Ct.V8(Xn),wo=Mi(fs,x)+dn,Ps=on(wo,x,ue);Ps!==fs&&Pe.push({range:new Ke.e(kn,1,kn,fs.length+1),text:Ps})}}}}if(Pe.length>0){this.editor.pushUndoStop();const si=new _s(Pe,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",si),this.editor.pushUndoStop()}}shouldIgnoreLine(n,a){n.tokenization.forceTokenization(a);const u=n.getLineFirstNonWhitespaceColumn(a);if(u===0)return!0;const N=n.tokenization.getLineTokens(a);if(N.getCount()>0){const x=N.findTokenIndexAtOffset(u);if(x>=0&&N.getStandardTokenType(x)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};As.ID="editor.contrib.autoIndentOnPaste",As=fn([tn(1,is.c_)],As);function Hc(le,n,a,u){if(le.getLineCount()===1&&le.getLineMaxColumn(1)===1)return;let N="";for(let ee=0;ee<a;ee++)N+=" ";const x=new RegExp(N,"gi");for(let ee=1,ue=le.getLineCount();ee<=ue;ee++){let Pe=le.getLineFirstNonWhitespaceColumn(ee);if(Pe===0&&(Pe=le.getLineMaxColumn(ee)),Pe===1)continue;const Re=new Ke.e(ee,1,ee,Pe),De=le.getValueInRange(Re),tt=u?De.replace(/\t/ig,N):De.replace(x,"	");n.addEditOperation(Re,tt)}}class zc{constructor(n,a){this.selection=n,this.tabSize=a,this.selectionId=null}getEditOperations(n,a){this.selectionId=a.trackSelection(this.selection),Hc(n,a,this.tabSize,!0)}computeCursorState(n,a){return a.getTrackedSelection(this.selectionId)}}class Xs{constructor(n,a){this.selection=n,this.tabSize=a,this.selectionId=null}getEditOperations(n,a){this.selectionId=a.trackSelection(this.selection),Hc(n,a,this.tabSize,!1)}computeCursorState(n,a){return a.getTrackedSelection(this.selectionId)}}(0,We._K)(As.ID,As),(0,We.Qr)(Fn),(0,We.Qr)(pn),(0,We.Qr)(Yn),(0,We.Qr)(gs),(0,We.Qr)(Ln),(0,We.Qr)(bs),(0,We.Qr)(Ss);var zl=s(82005),dl=s(66663),ur=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};class Na{constructor(n,a){this.range=n,this.direction=a}}class Ta{constructor(n,a,u){this.hint=n,this.anchor=a,this.provider=u,this._isResolved=!1}with(n){const a=new Ta(this.hint,n.anchor,this.provider);return a._isResolved=this._isResolved,a._currentResolve=this._currentResolve,a}resolve(n){return ur(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,n.isCancellationRequested?void 0:this.resolve(n);this._isResolved||(this._currentResolve=this._doResolve(n).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(n){var a,u;return ur(this,void 0,void 0,function*(){try{const N=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,n));this.hint.tooltip=(a=N?.tooltip)!==null&&a!==void 0?a:this.hint.tooltip,this.hint.label=(u=N?.label)!==null&&u!==void 0?u:this.hint.label,this._isResolved=!0}catch(N){(0,Pi.Cp)(N),this._isResolved=!1}})}}class Wr{constructor(n,a,u){this._disposables=new St.SL,this.ranges=n,this.provider=new Set;const N=[];for(const[x,ee]of a){this._disposables.add(x),this.provider.add(ee);for(const ue of x.hints){const Pe=u.validatePosition(ue.position);let Re="before";const De=Wr._getRangeAtPosition(u,Pe);let tt;De.getStartPosition().isBefore(Pe)?(tt=Ke.e.fromPositions(De.getStartPosition(),Pe),Re="after"):(tt=Ke.e.fromPositions(Pe,De.getEndPosition()),Re="before"),N.push(new Ta(ue,new Na(tt,Re),ee))}}this.items=N.sort((x,ee)=>qn.L.compare(x.hint.position,ee.hint.position))}static create(n,a,u,N){return ur(this,void 0,void 0,function*(){const x=[],ee=n.ordered(a).reverse().map(ue=>u.map(Pe=>ur(this,void 0,void 0,function*(){try{const Re=yield ue.provideInlayHints(a,Pe,N);Re?.hints.length&&x.push([Re,ue])}catch(Re){(0,Pi.Cp)(Re)}})));if(yield Promise.all(ee.flat()),N.isCancellationRequested||a.isDisposed())throw new Pi.FU;return new Wr(u,x,a)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(n,a){const u=a.lineNumber,N=n.getWordAtPosition(a);if(N)return new Ke.e(u,N.startColumn,u,N.endColumn);n.tokenization.tokenizeIfCheap(u);const x=n.tokenization.getLineTokens(u),ee=a.column-1,ue=x.findTokenIndexAtOffset(ee);let Pe=x.getStartOffset(ue),Re=x.getEndOffset(ue);return Re-Pe===1&&(Pe===ee&&ue>1?(Pe=x.getStartOffset(ue-1),Re=x.getEndOffset(ue-1)):Re===ee&&ue<x.getCount()-1&&(Pe=x.getStartOffset(ue+1),Re=x.getEndOffset(ue+1))),new Ke.e(u,Pe+1,u,Re+1)}}function Uc(le){return Ci.o.from({scheme:dl.lg.command,path:le.id,query:le.arguments&&encodeURIComponent(JSON.stringify(le.arguments))}).toString()}var Ul=s(60865),Ma=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};function jc(le,n,a,u){var N;return Ma(this,void 0,void 0,function*(){const x=le.get(Ls.S),ee=le.get(Bs.i),ue=le.get(vt.Hy),Pe=le.get(Je.TG),Re=le.get(Si.lT);if(yield u.item.resolve(Di.T.None),!u.part.location)return;const De=u.part.location,tt=[],Vt=new Set(Wn.BH.getMenuItems(Wn.eH.EditorContext).map(li=>(0,Wn.vr)(li)?li.command.id:""));for(const li of We.Uc.getEditorActions())li instanceof gi.Bj&&Vt.has(li.id)&&tt.push(new cs.aU(li.id,li.label,void 0,!0,()=>Ma(this,void 0,void 0,function*(){const Ni=yield x.createModelReference(De.uri);try{yield Pe.invokeFunction(li.run.bind(li),n,new gi._k(Ni.object.textEditorModel,Ke.e.getStartPosition(De.range)))}finally{Ni.dispose()}})));if(u.part.command){const{command:li}=u.part;tt.push(new cs.Z0),tt.push(new cs.aU(li.id,li.title,void 0,!0,()=>Ma(this,void 0,void 0,function*(){var Ni;try{yield ue.executeCommand(li.id,...(Ni=li.arguments)!==null&&Ni!==void 0?Ni:[])}catch(Oi){Re.notify({severity:Si.zb.Error,source:u.item.provider.displayName,message:Oi})}})))}const si=n.getOption(117);ee.showContextMenu({domForShadowRoot:si&&(N=n.getDomNode())!==null&&N!==void 0?N:void 0,getAnchor:()=>{const li=jt.i(a);return{x:li.left,y:li.top+li.height+8}},getActions:()=>tt,onHide:()=>{n.focus()},autoSelectFirstItem:!0})})}function jl(le,n,a,u){return Ma(this,void 0,void 0,function*(){const x=yield le.get(Ls.S).createModelReference(u.uri);yield a.invokeWithinContext(ee=>Ma(this,void 0,void 0,function*(){const ue=n.hasSideBySideModifier,Pe=ee.get(ft.i6),Re=Ul.Jy.inPeekEditor.getValue(Pe),De=!ue&&a.getOption(80)&&!Re;return new gi.BT({openToSide:ue,openInPeek:De,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(ee,a,{model:x.object.textEditorModel,position:Ke.e.getStartPosition(u.range)})})),x.dispose()})}var Bd=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Ao=function(le,n){return function(a,u){n(a,u,le)}},hr=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};class ka{constructor(){this._entries=new Me.z6(50)}get(n){const a=ka._key(n);return this._entries.get(a)}set(n,a){const u=ka._key(n);this._entries.set(u,a)}static _key(n){return`${n.uri.toString()}/${n.getVersionId()}`}}const fr=(0,Je.yh)("IInlayHintsCache");(0,ke.z)(fr,ka,!0);class Ra{constructor(n,a){this.item=n,this.index=a}get part(){const n=this.item.hint.label;return typeof n=="string"?{label:n}:n[this.index]}}class Kl{constructor(n,a){this.part=n,this.hasTriggerModifier=a}}let mo=class gh{constructor(n,a,u,N,x,ee,ue){this._editor=n,this._languageFeaturesService=a,this._inlayHintsCache=N,this._commandService=x,this._notificationService=ee,this._instaService=ue,this._disposables=new St.SL,this._sessionDisposables=new St.SL,this._decorationsMetadata=new Map,this._ruleFactory=new kt.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=u.for(a.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(a.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(n.onDidChangeModel(()=>this._update())),this._disposables.add(n.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(n.onDidChangeConfiguration(Pe=>{Pe.hasChanged(129)&&this._update()})),this._update()}static get(n){var a;return(a=n.getContribution(gh.ID))!==null&&a!==void 0?a:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const n=this._editor.getOption(129);if(n.enabled==="off")return;const a=this._editor.getModel();if(!a||!this._languageFeaturesService.inlayHintsProvider.has(a))return;const u=this._inlayHintsCache.get(a);u&&this._updateHintsDecorators([a.getFullModelRange()],u),this._sessionDisposables.add((0,St.OF)(()=>{a.isDisposed()||this._cacheHintsForFastRestore(a)}));let N;const x=new Set,ee=new ki.pY(()=>hr(this,void 0,void 0,function*(){const ue=Date.now();N?.dispose(!0),N=new Di.A;const Pe=a.onWillDispose(()=>N?.cancel());try{const Re=N.token,De=yield Wr.create(this._languageFeaturesService.inlayHintsProvider,a,this._getHintsRanges(),Re);if(ee.delay=this._debounceInfo.update(a,Date.now()-ue),Re.isCancellationRequested){De.dispose();return}for(const tt of De.provider)typeof tt.onDidChangeInlayHints=="function"&&!x.has(tt)&&(x.add(tt),this._sessionDisposables.add(tt.onDidChangeInlayHints(()=>{ee.isScheduled()||ee.schedule()})));this._sessionDisposables.add(De),this._updateHintsDecorators(De.ranges,De.items),this._cacheHintsForFastRestore(a)}catch(Re){(0,Pi.dL)(Re)}finally{N.dispose(),Pe.dispose()}}),this._debounceInfo.get(a));if(this._sessionDisposables.add(ee),this._sessionDisposables.add((0,St.OF)(()=>N?.dispose(!0))),ee.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(ue=>{(ue.scrollTopChanged||!ee.isScheduled())&&ee.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(ue=>{const Pe=Math.max(ee.delay,1250);ee.schedule(Pe)})),n.enabled==="on")this._activeRenderMode=0;else{let ue,Pe;n.enabled==="onUnlessPressed"?(ue=0,Pe=1):(ue=1,Pe=0),this._activeRenderMode=ue,this._sessionDisposables.add(jt._q.getInstance().event(Re=>{if(!this._editor.hasModel())return;const De=Re.altKey&&Re.ctrlKey?Pe:ue;if(De!==this._activeRenderMode){this._activeRenderMode=De;const tt=this._editor.getModel(),Vt=this._copyInlayHintsWithCurrentAnchor(tt);this._updateHintsDecorators([tt.getFullModelRange()],Vt),ee.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>ee.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const n=new St.SL,a=n.add(new zl.yN(this._editor)),u=new St.SL;return n.add(u),n.add(a.onMouseMoveOrRelevantKeyDown(N=>{const[x]=N,ee=this._getInlayHintLabelPart(x),ue=this._editor.getModel();if(!ee||!ue){u.clear();return}const Pe=new Di.A;u.add((0,St.OF)(()=>Pe.dispose(!0))),ee.item.resolve(Pe.token),this._activeInlayHintPart=ee.part.command||ee.part.location?new Kl(ee,x.hasTriggerModifier):void 0;const Re=ee.item.hint.position.lineNumber,De=new Ke.e(Re,1,Re,ue.getLineMaxColumn(Re)),tt=this._getInlineHintsForRange(De);this._updateHintsDecorators([De],tt),u.add((0,St.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([De],tt)}))})),n.add(a.onCancel(()=>u.clear())),n.add(a.onExecute(N=>hr(this,void 0,void 0,function*(){const x=this._getInlayHintLabelPart(N);if(x){const ee=x.part;ee.location?this._instaService.invokeFunction(jl,N,this._editor,ee.location):ns.mY.is(ee.command)&&(yield this._invokeCommand(ee.command,x.item))}}))),n}_getInlineHintsForRange(n){const a=new Set;for(const u of this._decorationsMetadata.values())n.containsRange(u.item.anchor.range)&&a.add(u.item);return Array.from(a)}_installDblClickGesture(n){return this._editor.onMouseUp(a=>hr(this,void 0,void 0,function*(){if(a.event.detail!==2)return;const u=this._getInlayHintLabelPart(a);if(u&&(a.event.preventDefault(),yield u.item.resolve(Di.T.None),(0,k.Of)(u.item.hint.textEdits))){const N=u.item.hint.textEdits.map(x=>Jn.h.replace(Ke.e.lift(x.range),x.text));this._editor.executeEdits("inlayHint.default",N),n()}}))}_installContextMenu(){return this._editor.onContextMenu(n=>hr(this,void 0,void 0,function*(){if(!(n.event.target instanceof HTMLElement))return;const a=this._getInlayHintLabelPart(n);a&&(yield this._instaService.invokeFunction(jc,this._editor,n.event.target,a))}))}_getInlayHintLabelPart(n){var a;if(n.target.type!==6)return;const u=(a=n.target.detail.injectedText)===null||a===void 0?void 0:a.options;if(u instanceof ci.HS&&u?.attachedData instanceof Ra)return u.attachedData}_invokeCommand(n,a){var u;return hr(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(n.id,...(u=n.arguments)!==null&&u!==void 0?u:[])}catch(N){this._notificationService.notify({severity:Si.zb.Error,source:a.provider.displayName,message:N})}})}_cacheHintsForFastRestore(n){const a=this._copyInlayHintsWithCurrentAnchor(n);this._inlayHintsCache.set(n,a)}_copyInlayHintsWithCurrentAnchor(n){const a=new Map;for(const[u,N]of this._decorationsMetadata){if(a.has(N.item))continue;const x=n.getDecorationRange(u);if(x){const ee=new Na(x,N.item.anchor.direction),ue=N.item.with({anchor:ee});a.set(N.item,ue)}}return Array.from(a.values())}_getHintsRanges(){const a=this._editor.getModel(),u=this._editor.getVisibleRangesPlusViewportAboveBelow(),N=[];for(const x of u.sort(Ke.e.compareRangesUsingStarts)){const ee=a.validateRange(new Ke.e(x.startLineNumber-30,x.startColumn,x.endLineNumber+30,x.endColumn));N.length===0||!Ke.e.areIntersectingOrTouching(N[N.length-1],ee)?N.push(ee):N[N.length-1]=Ke.e.plusRange(N[N.length-1],ee)}return N}_updateHintsDecorators(n,a){var u,N;const x=[],ee=(li,Ni,Oi,dn,kn)=>{const Xn={content:Oi,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Ni.className,cursorStops:dn,attachedData:kn};x.push({item:li,classNameRef:Ni,decoration:{range:li.anchor.range,options:{description:"InlayHint",showIfCollapsed:li.anchor.range.isEmpty(),collapseOnReplaceEdit:!li.anchor.range.isEmpty(),stickiness:0,[li.anchor.direction]:this._activeRenderMode===0?Xn:void 0}}})},ue=(li,Ni)=>{const Oi=this._ruleFactory.createClassNameRef({width:`${Pe/3|0}px`,display:"inline-block"});ee(li,Oi,"\u200A",Ni?go.RM.Right:go.RM.None)},{fontSize:Pe,fontFamily:Re,padding:De,isUniform:tt}=this._getLayoutInfo(),Vt="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Vt,Re);for(const li of a){li.hint.paddingLeft&&ue(li,!1);const Ni=typeof li.hint.label=="string"?[{label:li.hint.label}]:li.hint.label;for(let Oi=0;Oi<Ni.length;Oi++){const dn=Ni[Oi],kn=Oi===0,Xn=Oi===Ni.length-1,fs={fontSize:`${Pe}px`,fontFamily:`var(${Vt}), ${Ri.hL.fontFamily}`,verticalAlign:tt?"baseline":"middle"};(0,k.Of)(li.hint.textEdits)&&(fs.cursor="default"),this._fillInColors(fs,li.hint),(dn.command||dn.location)&&((u=this._activeInlayHintPart)===null||u===void 0?void 0:u.part.item)===li&&this._activeInlayHintPart.part.index===Oi&&(fs.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(fs.color=(0,_i.EN)(ri._Yy),fs.cursor="pointer")),De&&(kn&&Xn?(fs.padding=`1px ${Math.max(1,Pe/4)|0}px`,fs.borderRadius=`${Pe/4|0}px`):kn?(fs.padding=`1px 0 1px ${Math.max(1,Pe/4)|0}px`,fs.borderRadius=`${Pe/4|0}px 0 0 ${Pe/4|0}px`):Xn?(fs.padding=`1px ${Math.max(1,Pe/4)|0}px 1px 0`,fs.borderRadius=`0 ${Pe/4|0}px ${Pe/4|0}px 0`):fs.padding="1px 0 1px 0"),ee(li,this._ruleFactory.createClassNameRef(fs),ul(dn.label),Xn&&!li.hint.paddingRight?go.RM.Right:go.RM.None,new Ra(li,Oi))}if(li.hint.paddingRight&&ue(li,!0),x.length>gh._MAX_DECORATORS)break}const si=[];for(const li of n)for(const{id:Ni}of(N=this._editor.getDecorationsInRange(li))!==null&&N!==void 0?N:[]){const Oi=this._decorationsMetadata.get(Ni);Oi&&(si.push(Ni),Oi.classNameRef.dispose(),this._decorationsMetadata.delete(Ni))}this._editor.changeDecorations(li=>{const Ni=li.deltaDecorations(si,x.map(Oi=>Oi.decoration));for(let Oi=0;Oi<Ni.length;Oi++){const dn=x[Oi];this._decorationsMetadata.set(Ni[Oi],dn)}})}_fillInColors(n,a){a.kind===ns.gl.Parameter?(n.backgroundColor=(0,_i.EN)(ri.phM),n.color=(0,_i.EN)(ri.HCL)):a.kind===ns.gl.Type?(n.backgroundColor=(0,_i.EN)(ri.bKB),n.color=(0,_i.EN)(ri.hX8)):(n.backgroundColor=(0,_i.EN)(ri.PpC),n.color=(0,_i.EN)(ri.VVv))}_getLayoutInfo(){const n=this._editor.getOption(129),a=n.padding,u=this._editor.getOption(48),N=this._editor.getOption(45);let x=n.fontSize;(!x||x<5||x>u)&&(x=u);const ee=n.fontFamily||N;return{fontSize:x,fontFamily:ee,padding:a,isUniform:!a&&ee===N&&x===u}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const n of this._decorationsMetadata.values())n.classNameRef.dispose();this._decorationsMetadata.clear()}};mo.ID="editor.contrib.InlayHints",mo._MAX_DECORATORS=1500,mo=Bd([Ao(1,_e.p),Ao(2,Zi.A),Ao(3,fr),Ao(4,vt.Hy),Ao(5,Si.lT),Ao(6,Je.TG)],mo);function ul(le){return le.replace(/[ \t]/g,"\xA0")}vt.P0.registerCommand("_executeInlayHintProvider",(le,...n)=>hr(void 0,void 0,void 0,function*(){const[a,u]=n;(0,Vi.p_)(Ci.o.isUri(a)),(0,Vi.p_)(Ke.e.isIRange(u));const{inlayHintsProvider:N}=le.get(_e.p),x=yield le.get(Ls.S).createModelReference(a);try{const ee=yield Wr.create(N,x.object.textEditorModel,[Ke.e.lift(u)],Di.T.None),ue=ee.items.map(Pe=>Pe.hint);return setTimeout(()=>ee.dispose(),0),ue}finally{x.dispose()}}));var Wd=s(41095),Ms=s(22374),Vd=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Vr=function(le,n){return function(a,u){n(a,u,le)}},hl=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})},Qs=function(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=le[Symbol.asyncIterator],a;return n?n.call(le):(le=typeof __values=="function"?__values(le):le[Symbol.iterator](),a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a);function u(x){a[x]=le[x]&&function(ee){return new Promise(function(ue,Pe){ee=le[x](ee),N(ue,Pe,ee.done,ee.value)})}}function N(x,ee,ue,Pe){Promise.resolve(Pe).then(function(Re){x({value:Re,done:ue})},ee)}};class Aa extends gn.YM{constructor(n,a){super(10,a,n.item.anchor.range),this.part=n}}let Oa=class extends Ms.D5{constructor(n,a,u,N,x,ee){super(n,a,u,N,ee),this._resolverService=x,this.hoverOrdinal=6}suggestHoverAnchor(n){var a;if(!mo.get(this._editor)||n.target.type!==6)return null;const N=(a=n.target.detail.injectedText)===null||a===void 0?void 0:a.options;return N instanceof ci.HS&&N.attachedData instanceof Ra?new Aa(N.attachedData,this):null}computeSync(){return[]}computeAsync(n,a,u){return n instanceof Aa?new ki.Aq(N=>hl(this,void 0,void 0,function*(){var x,ee;const{part:ue}=n;if(yield ue.item.resolve(u),u.isCancellationRequested)return;let Pe;typeof ue.item.hint.tooltip=="string"?Pe=new pt.W5().appendText(ue.item.hint.tooltip):ue.item.hint.tooltip&&(Pe=ue.item.hint.tooltip),Pe&&N.emitOne(new Ms.hU(this,n.range,[Pe],0)),(0,k.Of)(ue.item.hint.textEdits)&&N.emitOne(new Ms.hU(this,n.range,[new pt.W5().appendText((0,ye.NC)("hint.dbl","Double click to insert"))],10001));let Re;if(typeof ue.part.tooltip=="string"?Re=new pt.W5().appendText(ue.part.tooltip):ue.part.tooltip&&(Re=ue.part.tooltip),Re&&N.emitOne(new Ms.hU(this,n.range,[Re],1)),ue.part.location||ue.part.command){let si;const Ni=this._editor.getOption(72)==="altKey"?jn.dz?(0,ye.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,ye.NC)("links.navigate.kb.meta","ctrl + click"):jn.dz?(0,ye.NC)("links.navigate.kb.alt.mac","option + click"):(0,ye.NC)("links.navigate.kb.alt","alt + click");ue.part.location&&ue.part.command?si=new pt.W5().appendText((0,ye.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",Ni)):ue.part.location?si=new pt.W5().appendText((0,ye.NC)("hint.def","Go to Definition ({0})",Ni)):ue.part.command&&(si=new pt.W5(`[${(0,ye.NC)("hint.cmd","Execute Command")}](${Uc(ue.part.command)} "${ue.part.command.title}") (${Ni})`,{isTrusted:!0})),si&&N.emitOne(new Ms.hU(this,n.range,[si],1e4))}const De=yield this._resolveInlayHintLabelPartHover(ue,u);try{for(var tt=Qs(De),Vt;Vt=yield tt.next(),!Vt.done;){const si=Vt.value;N.emitOne(si)}}catch(si){x={error:si}}finally{try{Vt&&!Vt.done&&(ee=tt.return)&&(yield ee.call(tt))}finally{if(x)throw x.error}}})):ki.Aq.EMPTY}_resolveInlayHintLabelPartHover(n,a){return hl(this,void 0,void 0,function*(){if(!n.part.location)return ki.Aq.EMPTY;const{uri:u,range:N}=n.part.location,x=yield this._resolverService.createModelReference(u);try{const ee=x.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(ee)?(0,Wd.R8)(this._languageFeaturesService.hoverProvider,ee,new qn.L(N.startLineNumber,N.startColumn),a).filter(ue=>!(0,pt.CP)(ue.hover.contents)).map(ue=>new Ms.hU(this,n.item.anchor.range,ue.hover.contents,2+ue.ordinal)):ki.Aq.EMPTY}finally{x.dispose()}})}};Oa=Vd([Vr(1,ko.O),Vr(2,R.v4),Vr(3,bi.Ui),Vr(4,Ls.S),Vr(5,_e.p)],Oa),(0,We._K)(mo.ID,mo),gn.Ae.register(Oa);class ca{constructor(n,a,u){this._editRange=n,this._originalSelection=a,this._text=u}getEditOperations(n,a){a.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(n,a){const N=a.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new it.Y(N.endLineNumber,Math.min(this._originalSelection.positionColumn,N.endColumn),N.endLineNumber,Math.min(this._originalSelection.positionColumn,N.endColumn)):new it.Y(N.endLineNumber,N.endColumn-this._text.length,N.endLineNumber,N.endColumn)}}var $l=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},fl=function(le,n){return function(a,u){n(a,u,le)}};let Oo=class mh{constructor(n,a){this.editor=n,this.editorWorkerService=a,this.decorations=this.editor.createDecorationsCollection()}static get(n){return n.getContribution(mh.ID)}dispose(){}run(n,a){this.currentRequest&&this.currentRequest.cancel();const u=this.editor.getSelection(),N=this.editor.getModel();if(!N||!u)return;let x=u;if(x.startLineNumber!==x.endLineNumber)return;const ee=new Ei.yy(this.editor,5),ue=N.uri;return this.editorWorkerService.canNavigateValueSet(ue)?(this.currentRequest=(0,ki.PG)(Pe=>this.editorWorkerService.navigateValueSet(ue,x,a)),this.currentRequest.then(Pe=>{if(!Pe||!Pe.range||!Pe.value||!ee.validate(this.editor))return;const Re=Ke.e.lift(Pe.range);let De=Pe.range;const tt=Pe.value.length-(x.endColumn-x.startColumn);De={startLineNumber:De.startLineNumber,startColumn:De.startColumn,endLineNumber:De.endLineNumber,endColumn:De.startColumn+Pe.value.length},tt>1&&(x=new it.Y(x.startLineNumber,x.startColumn,x.endLineNumber,x.endColumn+tt-1));const Vt=new ca(Re,x,Pe.value);this.editor.pushUndoStop(),this.editor.executeCommand(n,Vt),this.editor.pushUndoStop(),this.decorations.set([{range:De,options:mh.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,ki.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(Pi.dL)}).catch(Pi.dL)):Promise.resolve(void 0)}};Oo.ID="editor.contrib.inPlaceReplaceController",Oo.DECORATION=ci.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),Oo=$l([fl(1,Io.p)],Oo);class Hd extends We.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:ye.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:3154,weight:100}})}run(n,a){const u=Oo.get(a);return u?u.run(this.id,!0):Promise.resolve(void 0)}}class zd extends We.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:ye.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:3156,weight:100}})}run(n,a){const u=Oo.get(a);return u?u.run(this.id,!1):Promise.resolve(void 0)}}(0,We._K)(Oo.ID,Oo),(0,We.Qr)(Hd),(0,We.Qr)(zd),(0,_i.Ic)((le,n)=>{const a=le.getColor(ds.Dl);a&&n.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${a}; }`)});var gl=s(28108);class da extends We.R6{constructor(){super({id:"expandLineSelection",label:ye.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:pe.u.textInputFocus,primary:2090}})}run(n,a,u){if(u=u||{},!a.hasModel())return;const N=a._getViewModel();N.model.pushStackElement(),N.setCursorStates(u.source,3,gl.P.expandLineSelection(N,N.getCursorStates())),N.revealPrimaryCursor(u.source,!0)}}(0,We.Qr)(da);class Gl{constructor(n,a){this._selection=n,this._cursors=a,this._selectionId=null}getEditOperations(n,a){const u=Kc(n,this._cursors);for(let N=0,x=u.length;N<x;N++){const ee=u[N];a.addEditOperation(ee.range,ee.text)}this._selectionId=a.trackSelection(this._selection)}computeCursorState(n,a){return a.getTrackedSelection(this._selectionId)}}function Kc(le,n){n.sort((ee,ue)=>ee.lineNumber===ue.lineNumber?ee.column-ue.column:ee.lineNumber-ue.lineNumber);for(let ee=n.length-2;ee>=0;ee--)n[ee].lineNumber===n[ee+1].lineNumber&&n.splice(ee,1);const a=[];let u=0,N=0;const x=n.length;for(let ee=1,ue=le.getLineCount();ee<=ue;ee++){const Pe=le.getLineContent(ee),Re=Pe.length+1;let De=0;if(N<x&&n[N].lineNumber===ee&&(De=n[N].column,N++,De===Re)||Pe.length===0)continue;const tt=Ct.ow(Pe);let Vt=0;if(tt===-1)Vt=1;else if(tt!==Pe.length-1)Vt=tt+2;else continue;Vt=Math.max(De,Vt),a[u++]=Jn.h.delete(new Ke.e(ee,Vt,ee,Re))}return a}var Xo=s(94729);class $c{constructor(n,a,u){this._selection=n,this._isCopyingDown=a,this._noop=u||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(n,a){let u=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,u.startLineNumber<u.endLineNumber&&u.endColumn===1&&(this._endLineNumberDelta=1,u=u.setEndPosition(u.endLineNumber-1,n.getLineMaxColumn(u.endLineNumber-1)));const N=[];for(let ee=u.startLineNumber;ee<=u.endLineNumber;ee++)N.push(n.getLineContent(ee));const x=N.join(`
`);x===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?a.addEditOperation(new Ke.e(u.endLineNumber,n.getLineMaxColumn(u.endLineNumber),u.endLineNumber+1,1),u.endLineNumber===n.getLineCount()?"":`
`):this._isCopyingDown?a.addEditOperation(new Ke.e(u.startLineNumber,1,u.startLineNumber,1),x+`
`):a.addEditOperation(new Ke.e(u.endLineNumber,n.getLineMaxColumn(u.endLineNumber),u.endLineNumber,n.getLineMaxColumn(u.endLineNumber)),`
`+x),this._selectionId=a.trackSelection(u),this._selectionDirection=this._selection.getDirection()}computeCursorState(n,a){let u=a.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let N=u.startLineNumber,x=u.startColumn,ee=u.endLineNumber,ue=u.endColumn;this._startLineNumberDelta!==0&&(N=N+this._startLineNumberDelta,x=1),this._endLineNumberDelta!==0&&(ee=ee+this._endLineNumberDelta,ue=1),u=it.Y.createWithDirection(N,x,ee,ue,this._selectionDirection)}return u}}var ml=s(49119),Hr=s(1615),Ql=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},ua=function(le,n){return function(a,u){n(a,u,le)}};let zr=class{constructor(n,a,u,N){this._languageConfigurationService=N,this._selection=n,this._isMovingDown=a,this._autoIndent=u,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(n,a){const u=n.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===u){this._selectionId=a.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=a.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let N=this._selection;N.startLineNumber<N.endLineNumber&&N.endColumn===1&&(this._moveEndPositionDown=!0,N=N.setEndPosition(N.endLineNumber-1,n.getLineMaxColumn(N.endLineNumber-1)));const{tabSize:x,indentSize:ee,insertSpaces:ue}=n.getOptions(),Pe=this.buildIndentConverter(x,ee,ue),Re={tokenization:{getLineTokens:De=>n.tokenization.getLineTokens(De),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(De,tt)=>n.getLanguageIdAtPosition(De,tt)},getLineContent:null};if(N.startLineNumber===N.endLineNumber&&n.getLineMaxColumn(N.startLineNumber)===1){const De=N.startLineNumber,tt=this._isMovingDown?De+1:De-1;n.getLineMaxColumn(tt)===1?a.addEditOperation(new Ke.e(1,1,1,1),null):(a.addEditOperation(new Ke.e(De,1,De,1),n.getLineContent(tt)),a.addEditOperation(new Ke.e(tt,1,tt,n.getLineMaxColumn(tt)),null)),N=new it.Y(tt,1,tt,1)}else{let De,tt;if(this._isMovingDown){De=N.endLineNumber+1,tt=n.getLineContent(De),a.addEditOperation(new Ke.e(De-1,n.getLineMaxColumn(De-1),De,n.getLineMaxColumn(De)),null);let Vt=tt;if(this.shouldAutoIndent(n,N)){const si=this.matchEnterRule(n,Pe,x,De,N.startLineNumber-1);if(si!==null){const Ni=Ct.V8(n.getLineContent(De)),Oi=si+Mi(Ni,x);Vt=on(Oi,x,ue)+this.trimLeft(tt)}else{Re.getLineContent=Oi=>Oi===N.startLineNumber?n.getLineContent(De):n.getLineContent(Oi);const Ni=(0,un.n8)(this._autoIndent,Re,n.getLanguageIdAtPosition(De,1),N.startLineNumber,Pe,this._languageConfigurationService);if(Ni!==null){const Oi=Ct.V8(n.getLineContent(De)),dn=Mi(Ni,x),kn=Mi(Oi,x);dn!==kn&&(Vt=on(dn,x,ue)+this.trimLeft(tt))}}a.addEditOperation(new Ke.e(N.startLineNumber,1,N.startLineNumber,1),Vt+`
`);const li=this.matchEnterRuleMovingDown(n,Pe,x,N.startLineNumber,De,Vt);if(li!==null)li!==0&&this.getIndentEditsOfMovingBlock(n,a,N,x,ue,li);else{Re.getLineContent=Oi=>Oi===N.startLineNumber?Vt:Oi>=N.startLineNumber+1&&Oi<=N.endLineNumber+1?n.getLineContent(Oi-1):n.getLineContent(Oi);const Ni=(0,un.n8)(this._autoIndent,Re,n.getLanguageIdAtPosition(De,1),N.startLineNumber+1,Pe,this._languageConfigurationService);if(Ni!==null){const Oi=Ct.V8(n.getLineContent(N.startLineNumber)),dn=Mi(Ni,x),kn=Mi(Oi,x);if(dn!==kn){const Xn=dn-kn;this.getIndentEditsOfMovingBlock(n,a,N,x,ue,Xn)}}}}else a.addEditOperation(new Ke.e(N.startLineNumber,1,N.startLineNumber,1),Vt+`
`)}else if(De=N.startLineNumber-1,tt=n.getLineContent(De),a.addEditOperation(new Ke.e(De,1,De+1,1),null),a.addEditOperation(new Ke.e(N.endLineNumber,n.getLineMaxColumn(N.endLineNumber),N.endLineNumber,n.getLineMaxColumn(N.endLineNumber)),`
`+tt),this.shouldAutoIndent(n,N)){Re.getLineContent=si=>si===De?n.getLineContent(N.startLineNumber):n.getLineContent(si);const Vt=this.matchEnterRule(n,Pe,x,N.startLineNumber,N.startLineNumber-2);if(Vt!==null)Vt!==0&&this.getIndentEditsOfMovingBlock(n,a,N,x,ue,Vt);else{const si=(0,un.n8)(this._autoIndent,Re,n.getLanguageIdAtPosition(N.startLineNumber,1),De,Pe,this._languageConfigurationService);if(si!==null){const li=Ct.V8(n.getLineContent(N.startLineNumber)),Ni=Mi(si,x),Oi=Mi(li,x);if(Ni!==Oi){const dn=Ni-Oi;this.getIndentEditsOfMovingBlock(n,a,N,x,ue,dn)}}}}}this._selectionId=a.trackSelection(N)}buildIndentConverter(n,a,u){return{shiftIndent:N=>Wi.U.shiftIndent(N,N.length+1,n,a,u),unshiftIndent:N=>Wi.U.unshiftIndent(N,N.length+1,n,a,u)}}parseEnterResult(n,a,u,N,x){if(x){let ee=x.indentation;x.indentAction===ml.wU.None||x.indentAction===ml.wU.Indent?ee=x.indentation+x.appendText:x.indentAction===ml.wU.IndentOutdent?ee=x.indentation:x.indentAction===ml.wU.Outdent&&(ee=a.unshiftIndent(x.indentation)+x.appendText);const ue=n.getLineContent(N);if(this.trimLeft(ue).indexOf(this.trimLeft(ee))>=0){const Pe=Ct.V8(n.getLineContent(N));let Re=Ct.V8(ee);const De=(0,un.tI)(n,N,this._languageConfigurationService);De!==null&&De&2&&(Re=a.unshiftIndent(Re));const tt=Mi(Re,u),Vt=Mi(Pe,u);return tt-Vt}}return null}matchEnterRuleMovingDown(n,a,u,N,x,ee){if(Ct.ow(ee)>=0){const ue=n.getLineMaxColumn(x),Pe=(0,Hr.A)(this._autoIndent,n,new Ke.e(x,ue,x,ue),this._languageConfigurationService);return this.parseEnterResult(n,a,u,N,Pe)}else{let ue=N-1;for(;ue>=1;){const De=n.getLineContent(ue);if(Ct.ow(De)>=0)break;ue--}if(ue<1||N>n.getLineCount())return null;const Pe=n.getLineMaxColumn(ue),Re=(0,Hr.A)(this._autoIndent,n,new Ke.e(ue,Pe,ue,Pe),this._languageConfigurationService);return this.parseEnterResult(n,a,u,N,Re)}}matchEnterRule(n,a,u,N,x,ee){let ue=x;for(;ue>=1;){let De;if(ue===x&&ee!==void 0?De=ee:De=n.getLineContent(ue),Ct.ow(De)>=0)break;ue--}if(ue<1||N>n.getLineCount())return null;const Pe=n.getLineMaxColumn(ue),Re=(0,Hr.A)(this._autoIndent,n,new Ke.e(ue,Pe,ue,Pe),this._languageConfigurationService);return this.parseEnterResult(n,a,u,N,Re)}trimLeft(n){return n.replace(/^\s+/,"")}shouldAutoIndent(n,a){if(this._autoIndent<4||!n.tokenization.isCheapToTokenize(a.startLineNumber))return!1;const u=n.getLanguageIdAtPosition(a.startLineNumber,1),N=n.getLanguageIdAtPosition(a.endLineNumber,1);return!(u!==N||this._languageConfigurationService.getLanguageConfiguration(u).indentRulesSupport===null)}getIndentEditsOfMovingBlock(n,a,u,N,x,ee){for(let ue=u.startLineNumber;ue<=u.endLineNumber;ue++){const Pe=n.getLineContent(ue),Re=Ct.V8(Pe),tt=Mi(Re,N)+ee,Vt=on(tt,N,x);Vt!==Re&&(a.addEditOperation(new Ke.e(ue,1,ue,Re.length+1),Vt),ue===u.endLineNumber&&u.endColumn<=Re.length+1&&Vt===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(n,a){let u=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(u=u.setEndPosition(u.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&u.startLineNumber<u.endLineNumber&&(u=u.setEndPosition(u.endLineNumber,2)),u}};zr=Ql([ua(3,is.c_)],zr);class gr{constructor(n,a){this.selection=n,this.descending=a,this.selectionId=null}static getCollator(){return gr._COLLATOR||(gr._COLLATOR=new Intl.Collator),gr._COLLATOR}getEditOperations(n,a){const u=Gc(n,this.selection,this.descending);u&&a.addEditOperation(u.range,u.text),this.selectionId=a.trackSelection(this.selection)}computeCursorState(n,a){return a.getTrackedSelection(this.selectionId)}static canRun(n,a,u){if(n===null)return!1;const N=Zl(n,a,u);if(!N)return!1;for(let x=0,ee=N.before.length;x<ee;x++)if(N.before[x]!==N.after[x])return!0;return!1}}gr._COLLATOR=null;function Zl(le,n,a){const u=n.startLineNumber;let N=n.endLineNumber;if(n.endColumn===1&&N--,u>=N)return null;const x=[];for(let ue=u;ue<=N;ue++)x.push(le.getLineContent(ue));let ee=x.slice(0);return ee.sort(gr.getCollator().compare),a===!0&&(ee=ee.reverse()),{startLineNumber:u,endLineNumber:N,before:x,after:ee}}function Gc(le,n,a){const u=Zl(le,n,a);return u?Jn.h.replace(new Ke.e(u.startLineNumber,1,u.endLineNumber,le.getLineMaxColumn(u.endLineNumber)),u.after.join(`
`)):null}class Qc extends We.R6{constructor(n,a){super(a),this.down=n}run(n,a){if(!a.hasModel())return;const u=a.getSelections().map((ee,ue)=>({selection:ee,index:ue,ignore:!1}));u.sort((ee,ue)=>Ke.e.compareRangesUsingStarts(ee.selection,ue.selection));let N=u[0];for(let ee=1;ee<u.length;ee++){const ue=u[ee];N.selection.endLineNumber===ue.selection.startLineNumber&&(N.index<ue.index?ue.ignore=!0:(N.ignore=!0,N=ue))}const x=[];for(const ee of u)x.push(new $c(ee.selection,this.down,ee.ignore));a.pushUndoStop(),a.executeCommands(this.id,x),a.pushUndoStop()}}class Ud extends Qc{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:ye.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"2_line",title:ye.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class Zc extends Qc{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:ye.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"2_line",title:ye.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class Yl extends We.R6{constructor(){super({id:"editor.action.duplicateSelection",label:ye.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:pe.u.writable,menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"2_line",title:ye.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(n,a,u){if(!a.hasModel())return;const N=[],x=a.getSelections(),ee=a.getModel();for(const ue of x)if(ue.isEmpty())N.push(new $c(ue,!0));else{const Pe=new it.Y(ue.endLineNumber,ue.endColumn,ue.endLineNumber,ue.endColumn);N.push(new wt.OY(Pe,ee.getValueInRange(ue)))}a.pushUndoStop(),a.executeCommands(this.id,N),a.pushUndoStop()}}class Yc extends We.R6{constructor(n,a){super(a),this.down=n}run(n,a){const u=n.get(is.c_),N=[],x=a.getSelections()||[],ee=a.getOption(9);for(const ue of x)N.push(new zr(ue,this.down,ee,u));a.pushUndoStop(),a.executeCommands(this.id,N),a.pushUndoStop()}}class jd extends Yc{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:ye.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"2_line",title:ye.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class Kd extends Yc{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:ye.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"2_line",title:ye.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class Xc extends We.R6{constructor(n,a){super(a),this.descending=n}run(n,a){const u=a.getSelections()||[];for(const x of u)if(!gr.canRun(a.getModel(),x,this.descending))return;const N=[];for(let x=0,ee=u.length;x<ee;x++)N[x]=new gr(u[x],this.descending);a.pushUndoStop(),a.executeCommands(this.id,N),a.pushUndoStop()}}class mr extends Xc{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:ye.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:pe.u.writable})}}class $d extends Xc{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:ye.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:pe.u.writable})}}class Gd extends We.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:ye.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:pe.u.writable})}run(n,a){if(!a.hasModel())return;const u=a.getModel();if(u.getLineCount()===1&&u.getLineMaxColumn(1)===1)return;const N=[],x=[];let ee=0;for(const ue of a.getSelections()){const Pe=new Set,Re=[];for(let si=ue.startLineNumber;si<=ue.endLineNumber;si++){const li=u.getLineContent(si);Pe.has(li)||(Re.push(li),Pe.add(li))}const De=new it.Y(ue.startLineNumber,1,ue.endLineNumber,u.getLineMaxColumn(ue.endLineNumber)),tt=ue.startLineNumber-ee,Vt=new it.Y(tt,1,tt+Re.length-1,Re[Re.length-1].length);N.push(Jn.h.replace(De,Re.join(`
`))),x.push(Vt),ee+=ue.endLineNumber-ue.startLineNumber+1-Re.length}a.pushUndoStop(),a.executeEdits(this.id,N,x),a.pushUndoStop()}}class Pa extends We.R6{constructor(){super({id:Pa.ID,label:ye.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:(0,bt.gx)(2089,2102),weight:100}})}run(n,a,u){let N=[];u.reason==="auto-save"&&(N=(a.getSelections()||[]).map(ue=>new qn.L(ue.positionLineNumber,ue.positionColumn)));const x=a.getSelection();if(x===null)return;const ee=new Gl(x,N);a.pushUndoStop(),a.executeCommands(this.id,[ee]),a.pushUndoStop()}}Pa.ID="editor.action.trimTrailingWhitespace";class Jc extends We.R6{constructor(){super({id:"editor.action.deleteLines",label:ye.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.textInputFocus,primary:3113,weight:100}})}run(n,a){if(!a.hasModel())return;const u=this._getLinesToRemove(a),N=a.getModel();if(N.getLineCount()===1&&N.getLineMaxColumn(1)===1)return;let x=0;const ee=[],ue=[];for(let Pe=0,Re=u.length;Pe<Re;Pe++){const De=u[Pe];let tt=De.startLineNumber,Vt=De.endLineNumber,si=1,li=N.getLineMaxColumn(Vt);Vt<N.getLineCount()?(Vt+=1,li=1):tt>1&&(tt-=1,si=N.getLineMaxColumn(tt)),ee.push(Jn.h.replace(new it.Y(tt,si,Vt,li),"")),ue.push(new it.Y(tt-x,De.positionColumn,tt-x,De.positionColumn)),x+=De.endLineNumber-De.startLineNumber+1}a.pushUndoStop(),a.executeEdits(this.id,ee,ue),a.pushUndoStop()}_getLinesToRemove(n){const a=n.getSelections().map(x=>{let ee=x.endLineNumber;return x.startLineNumber<x.endLineNumber&&x.endColumn===1&&(ee-=1),{startLineNumber:x.startLineNumber,selectionStartColumn:x.selectionStartColumn,endLineNumber:ee,positionColumn:x.positionColumn}});a.sort((x,ee)=>x.startLineNumber===ee.startLineNumber?x.endLineNumber-ee.endLineNumber:x.startLineNumber-ee.startLineNumber);const u=[];let N=a[0];for(let x=1;x<a.length;x++)N.endLineNumber+1>=a[x].startLineNumber?N.endLineNumber=a[x].endLineNumber:(u.push(N),N=a[x]);return u.push(N),u}}class qc extends We.R6{constructor(){super({id:"editor.action.indentLines",label:ye.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:2137,weight:100}})}run(n,a){const u=a._getViewModel();u&&(a.pushUndoStop(),a.executeCommands(this.id,Xo.u6.indent(u.cursorConfig,a.getModel(),a.getSelections())),a.pushUndoStop())}}class Xl extends We.R6{constructor(){super({id:"editor.action.outdentLines",label:ye.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:2135,weight:100}})}run(n,a){Ce.wk.Outdent.runEditorCommand(n,a,null)}}class Js extends We.R6{constructor(){super({id:"editor.action.insertLineBefore",label:ye.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:3075,weight:100}})}run(n,a){const u=a._getViewModel();u&&(a.pushUndoStop(),a.executeCommands(this.id,Xo.u6.lineInsertBefore(u.cursorConfig,a.getModel(),a.getSelections())))}}class Qd extends We.R6{constructor(){super({id:"editor.action.insertLineAfter",label:ye.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:2051,weight:100}})}run(n,a){const u=a._getViewModel();u&&(a.pushUndoStop(),a.executeCommands(this.id,Xo.u6.lineInsertAfter(u.cursorConfig,a.getModel(),a.getSelections())))}}class ed extends We.R6{run(n,a){if(!a.hasModel())return;const u=a.getSelection(),N=this._getRangesToDelete(a),x=[];for(let Pe=0,Re=N.length-1;Pe<Re;Pe++){const De=N[Pe],tt=N[Pe+1];Ke.e.intersectRanges(De,tt)===null?x.push(De):N[Pe+1]=Ke.e.plusRange(De,tt)}x.push(N[N.length-1]);const ee=this._getEndCursorState(u,x),ue=x.map(Pe=>Jn.h.replace(Pe,""));a.pushUndoStop(),a.executeEdits(this.id,ue,ee),a.pushUndoStop()}}class pr extends ed{constructor(){super({id:"deleteAllLeft",label:ye.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(n,a){let u=null;const N=[];let x=0;return a.forEach(ee=>{let ue;if(ee.endColumn===1&&x>0){const Pe=ee.startLineNumber-x;ue=new it.Y(Pe,ee.startColumn,Pe,ee.startColumn)}else ue=new it.Y(ee.startLineNumber,ee.startColumn,ee.startLineNumber,ee.startColumn);x+=ee.endLineNumber-ee.startLineNumber,ee.intersectRanges(n)?u=ue:N.push(ue)}),u&&N.unshift(u),N}_getRangesToDelete(n){const a=n.getSelections();if(a===null)return[];let u=a;const N=n.getModel();return N===null?[]:(u.sort(Ke.e.compareRangesUsingStarts),u=u.map(x=>{if(x.isEmpty())if(x.startColumn===1){const ee=Math.max(1,x.startLineNumber-1),ue=x.startLineNumber===1?1:N.getLineContent(ee).length+1;return new Ke.e(ee,ue,x.startLineNumber,1)}else return new Ke.e(x.startLineNumber,1,x.startLineNumber,x.startColumn);else return new Ke.e(x.startLineNumber,1,x.endLineNumber,x.endColumn)}),u)}}class td extends ed{constructor(){super({id:"deleteAllRight",label:ye.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(n,a){let u=null;const N=[];for(let x=0,ee=a.length,ue=0;x<ee;x++){const Pe=a[x],Re=new it.Y(Pe.startLineNumber-ue,Pe.startColumn,Pe.startLineNumber-ue,Pe.startColumn);Pe.intersectRanges(n)?u=Re:N.push(Re)}return u&&N.unshift(u),N}_getRangesToDelete(n){const a=n.getModel();if(a===null)return[];const u=n.getSelections();if(u===null)return[];const N=u.map(x=>{if(x.isEmpty()){const ee=a.getLineMaxColumn(x.startLineNumber);return x.startColumn===ee?new Ke.e(x.startLineNumber,x.startColumn,x.startLineNumber+1,1):new Ke.e(x.startLineNumber,x.startColumn,x.startLineNumber,ee)}return x});return N.sort(Ke.e.compareRangesUsingStarts),N}}class id extends We.R6{constructor(){super({id:"editor.action.joinLines",label:ye.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(n,a){const u=a.getSelections();if(u===null)return;let N=a.getSelection();if(N===null)return;u.sort(Ke.e.compareRangesUsingStarts);const x=[],ee=u.reduce((Vt,si)=>Vt.isEmpty()?Vt.endLineNumber===si.startLineNumber?(N.equalsSelection(Vt)&&(N=si),si):si.startLineNumber>Vt.endLineNumber+1?(x.push(Vt),si):new it.Y(Vt.startLineNumber,Vt.startColumn,si.endLineNumber,si.endColumn):si.startLineNumber>Vt.endLineNumber?(x.push(Vt),si):new it.Y(Vt.startLineNumber,Vt.startColumn,si.endLineNumber,si.endColumn));x.push(ee);const ue=a.getModel();if(ue===null)return;const Pe=[],Re=[];let De=N,tt=0;for(let Vt=0,si=x.length;Vt<si;Vt++){const li=x[Vt],Ni=li.startLineNumber,Oi=1;let dn=0,kn,Xn;const fs=ue.getLineContent(li.endLineNumber).length-li.endColumn;if(li.isEmpty()||li.startLineNumber===li.endLineNumber){const Ps=li.getStartPosition();Ps.lineNumber<ue.getLineCount()?(kn=Ni+1,Xn=ue.getLineMaxColumn(kn)):(kn=Ps.lineNumber,Xn=ue.getLineMaxColumn(Ps.lineNumber))}else kn=li.endLineNumber,Xn=ue.getLineMaxColumn(kn);let Ds=ue.getLineContent(Ni);for(let Ps=Ni+1;Ps<=kn;Ps++){const Sa=ue.getLineContent(Ps),Ml=ue.getLineFirstNonWhitespaceColumn(Ps);if(Ml>=1){let Gr=!0;Ds===""&&(Gr=!1),Gr&&(Ds.charAt(Ds.length-1)===" "||Ds.charAt(Ds.length-1)==="	")&&(Gr=!1,Ds=Ds.replace(/[\s\uFEFF\xA0]+$/g," "));const sh=Sa.substr(Ml-1);Ds+=(Gr?" ":"")+sh,Gr?dn=sh.length+1:dn=sh.length}else dn=0}const wo=new Ke.e(Ni,Oi,kn,Xn);if(!wo.isEmpty()){let Ps;li.isEmpty()?(Pe.push(Jn.h.replace(wo,Ds)),Ps=new it.Y(wo.startLineNumber-tt,Ds.length-dn+1,Ni-tt,Ds.length-dn+1)):li.startLineNumber===li.endLineNumber?(Pe.push(Jn.h.replace(wo,Ds)),Ps=new it.Y(li.startLineNumber-tt,li.startColumn,li.endLineNumber-tt,li.endColumn)):(Pe.push(Jn.h.replace(wo,Ds)),Ps=new it.Y(li.startLineNumber-tt,li.startColumn,li.startLineNumber-tt,Ds.length-fs)),Ke.e.intersectRanges(wo,N)!==null?De=Ps:Re.push(Ps)}tt+=wo.endLineNumber-wo.startLineNumber}Re.unshift(De),a.pushUndoStop(),a.executeEdits(this.id,Pe,Re),a.pushUndoStop()}}class nd extends We.R6{constructor(){super({id:"editor.action.transpose",label:ye.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:pe.u.writable})}run(n,a){const u=a.getSelections();if(u===null)return;const N=a.getModel();if(N===null)return;const x=[];for(let ee=0,ue=u.length;ee<ue;ee++){const Pe=u[ee];if(!Pe.isEmpty())continue;const Re=Pe.getStartPosition(),De=N.getLineMaxColumn(Re.lineNumber);if(Re.column>=De){if(Re.lineNumber===N.getLineCount())continue;const tt=new Ke.e(Re.lineNumber,Math.max(1,Re.column-1),Re.lineNumber+1,1),Vt=N.getValueInRange(tt).split("").reverse().join("");x.push(new wt.T4(new it.Y(Re.lineNumber,Math.max(1,Re.column-1),Re.lineNumber+1,1),Vt))}else{const tt=new Ke.e(Re.lineNumber,Math.max(1,Re.column-1),Re.lineNumber,Re.column+1),Vt=N.getValueInRange(tt).split("").reverse().join("");x.push(new wt.hP(tt,Vt,new it.Y(Re.lineNumber,Re.column+1,Re.lineNumber,Re.column+1)))}}a.pushUndoStop(),a.executeCommands(this.id,x),a.pushUndoStop()}}class ss extends We.R6{run(n,a){const u=a.getSelections();if(u===null)return;const N=a.getModel();if(N===null)return;const x=a.getOption(119),ee=[];for(const ue of u)if(ue.isEmpty()){const Pe=ue.getStartPosition(),Re=a.getConfiguredWordAtPosition(Pe);if(!Re)continue;const De=new Ke.e(Pe.lineNumber,Re.startColumn,Pe.lineNumber,Re.endColumn),tt=N.getValueInRange(De);ee.push(Jn.h.replace(De,this._modifyText(tt,x)))}else{const Pe=N.getValueInRange(ue);ee.push(Jn.h.replace(ue,this._modifyText(Pe,x)))}a.pushUndoStop(),a.executeEdits(this.id,ee),a.pushUndoStop()}}class Zd extends ss{constructor(){super({id:"editor.action.transformToUppercase",label:ye.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:pe.u.writable})}_modifyText(n,a){return n.toLocaleUpperCase()}}class Yd extends ss{constructor(){super({id:"editor.action.transformToLowercase",label:ye.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:pe.u.writable})}_modifyText(n,a){return n.toLocaleLowerCase()}}class ro{constructor(n,a){this._pattern=n,this._flags=a,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class Es extends ss{constructor(){super({id:"editor.action.transformToTitlecase",label:ye.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:pe.u.writable})}_modifyText(n,a){const u=Es.titleBoundary.get();return u?n.toLocaleLowerCase().replace(u,N=>N.toLocaleUpperCase()):n}}Es.titleBoundary=new ro("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Jo extends ss{constructor(){super({id:"editor.action.transformToSnakecase",label:ye.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:pe.u.writable})}_modifyText(n,a){const u=Jo.caseBoundary.get(),N=Jo.singleLetters.get();return!u||!N?n:n.replace(u,"$1_$2").replace(N,"$1_$2$3").toLocaleLowerCase()}}Jo.caseBoundary=new ro("(\\p{Ll})(\\p{Lu})","gmu"),Jo.singleLetters=new ro("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class qo extends ss{constructor(){super({id:"editor.action.transformToKebabcase",label:ye.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:pe.u.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(a=>a.isSupported())}_modifyText(n,a){const u=qo.caseBoundary.get(),N=qo.singleLetters.get(),x=qo.underscoreBoundary.get();return!u||!N||!x?n:n.replace(x,"$1-$3").replace(u,"$1-$2").replace(N,"$1-$2").toLocaleLowerCase()}}qo.caseBoundary=new ro("(\\p{Ll})(\\p{Lu})","gmu"),qo.singleLetters=new ro("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),qo.underscoreBoundary=new ro("(\\S)(_)(\\S)","gm"),(0,We.Qr)(Ud),(0,We.Qr)(Zc),(0,We.Qr)(Yl),(0,We.Qr)(jd),(0,We.Qr)(Kd),(0,We.Qr)(mr),(0,We.Qr)($d),(0,We.Qr)(Gd),(0,We.Qr)(Pa),(0,We.Qr)(Jc),(0,We.Qr)(qc),(0,We.Qr)(Xl),(0,We.Qr)(Js),(0,We.Qr)(Qd),(0,We.Qr)(pr),(0,We.Qr)(td),(0,We.Qr)(id),(0,We.Qr)(nd),(0,We.Qr)(Zd),(0,We.Qr)(Yd),Jo.caseBoundary.isSupported()&&Jo.singleLetters.isSupported()&&(0,We.Qr)(Jo),Es.titleBoundary.isSupported()&&(0,We.Qr)(Es),qo.isSupported()&&(0,We.Qr)(qo);var Jl=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Ur=function(le,n){return function(a,u){n(a,u,le)}},ql=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};const sd=new ft.uy("LinkedEditingInputVisible",!1),Fa="linked-editing-decoration";let Po=class ph extends St.JT{constructor(n,a,u,N,x){super(),this.languageConfigurationService=N,this._syncRangesToken=0,this._localToDispose=this._register(new St.SL),this._editor=n,this._providers=u.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=sd.bindTo(a),this._debounceInformation=x.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new St.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(ee=>{(ee.hasChanged(64)||ee.hasChanged(84))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(n){return n.getContribution(ph.ID)}reinitialize(n){const a=this._editor.getModel(),u=a!==null&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(a);if(u===this._enabled&&!n||(this._enabled=u,this.clearRanges(),this._localToDispose.clear(),!u||a===null))return;this._localToDispose.add(et.ju.runAndSubscribe(a.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(a.getLanguageId()).getWordDefinition()}));const N=new ki.vp(this._debounceInformation.get(a)),x=()=>{var Pe;this._rangeUpdateTriggerPromise=N.trigger(()=>this.updateRanges(),(Pe=this._debounceDuration)!==null&&Pe!==void 0?Pe:this._debounceInformation.get(a))},ee=new ki.vp(0),ue=Pe=>{this._rangeSyncTriggerPromise=ee.trigger(()=>this._syncRanges(Pe))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{x()})),this._localToDispose.add(this._editor.onDidChangeModelContent(Pe=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const Re=this._currentDecorations.getRange(0);if(Re&&Pe.changes.every(De=>Re.intersectRanges(De.range))){ue(this._syncRangesToken);return}}x()})),this._localToDispose.add({dispose:()=>{N.dispose(),ee.dispose()}}),this.updateRanges()}_syncRanges(n){if(!this._editor.hasModel()||n!==this._syncRangesToken||this._currentDecorations.length===0)return;const a=this._editor.getModel(),u=this._currentDecorations.getRange(0);if(!u||u.startLineNumber!==u.endLineNumber)return this.clearRanges();const N=a.getValueInRange(u);if(this._currentWordPattern){const ee=N.match(this._currentWordPattern);if((ee?ee[0].length:0)!==N.length)return this.clearRanges()}const x=[];for(let ee=1,ue=this._currentDecorations.length;ee<ue;ee++){const Pe=this._currentDecorations.getRange(ee);if(Pe)if(Pe.startLineNumber!==Pe.endLineNumber)x.push({range:Pe,text:N});else{let Re=a.getValueInRange(Pe),De=N,tt=Pe.startColumn,Vt=Pe.endColumn;const si=Ct.Mh(Re,De);tt+=si,Re=Re.substr(si),De=De.substr(si);const li=Ct.P1(Re,De);Vt-=li,Re=Re.substr(0,Re.length-li),De=De.substr(0,De.length-li),(tt!==Vt||De.length!==0)&&x.push({range:new Ke.e(Pe.startLineNumber,tt,Pe.endLineNumber,Vt),text:De})}}if(x.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const ee=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",x),this._editor._getViewModel().setPrevEditOperationType(ee)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(n=!1){return ql(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const a=this._editor.getPosition();if(!this._enabled&&!n||this._editor.getSelections().length>1){this.clearRanges();return}const u=this._editor.getModel(),N=u.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===N){if(a.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const ee=this._currentDecorations.getRange(0);if(ee&&ee.containsPosition(a))return}}this._currentRequestPosition=a,this._currentRequestModelVersion=N;const x=(0,ki.PG)(ee=>ql(this,void 0,void 0,function*(){try{const ue=new ze.G(!1),Pe=yield ec(this._providers,u,a,ee);if(this._debounceInformation.update(u,ue.elapsed()),x!==this._currentRequest||(this._currentRequest=null,N!==u.getVersionId()))return;let Re=[];Pe?.ranges&&(Re=Pe.ranges),this._currentWordPattern=Pe?.wordPattern||this._languageWordPattern;let De=!1;for(let Vt=0,si=Re.length;Vt<si;Vt++)if(Ke.e.containsPosition(Re[Vt],a)){if(De=!0,Vt!==0){const li=Re[Vt];Re.splice(Vt,1),Re.unshift(li)}break}if(!De){this.clearRanges();return}const tt=Re.map(Vt=>({range:Vt,options:ph.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(tt),this._syncRangesToken++}catch(ue){(0,Pi.n2)(ue)||(0,Pi.dL)(ue),(this._currentRequest===x||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=x,x})}};Po.ID="editor.contrib.linkedEditing",Po.DECORATION=ci.qx.register({description:"linked-editing",stickiness:0,className:Fa}),Po=Jl([Ur(1,ft.i6),Ur(2,_e.p),Ur(3,is.c_),Ur(4,Zi.A)],Po);class ha extends We.R6{constructor(){super({id:"editor.action.linkedEditing",label:ye.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:ft.Ao.and(pe.u.writable,pe.u.hasRenameProvider),kbOpts:{kbExpr:pe.u.editorTextFocus,primary:3132,weight:100}})}runCommand(n,a){const u=n.get(Us.$),[N,x]=Array.isArray(a)&&a||[void 0,void 0];return Ci.o.isUri(N)&&qn.L.isIPosition(x)?u.openCodeEditor({resource:N},u.getActiveCodeEditor()).then(ee=>{ee&&(ee.setPosition(x),ee.invokeWithinContext(ue=>(this.reportTelemetry(ue,ee),this.run(ue,ee))))},Pi.dL):super.runCommand(n,a)}run(n,a){const u=Po.get(a);return u?Promise.resolve(u.updateRanges(!0)):Promise.resolve()}}const Xd=We._l.bindToContribution(Po.get);(0,We.fK)(new Xd({id:"cancelLinkedEditingInput",precondition:sd,handler:le=>le.clearRanges(),kbOpts:{kbExpr:pe.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function ec(le,n,a,u){const N=le.ordered(n);return(0,ki.Ps)(N.map(x=>()=>ql(this,void 0,void 0,function*(){try{return yield x.provideLinkedEditingRanges(n,a,u)}catch(ee){(0,Pi.Cp)(ee);return}})),x=>!!x&&k.Of(x?.ranges))}const od=(0,ri.P6G)("editor.linkedEditingBackground",{dark:pi.Il.fromHex("#f00").transparent(.3),light:pi.Il.fromHex("#f00").transparent(.3),hcDark:pi.Il.fromHex("#f00").transparent(.3),hcLight:pi.Il.white},ye.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,_i.Ic)((le,n)=>{const a=le.getColor(od);a&&n.addRule(`.monaco-editor .${Fa} { background: ${a}; border-left-color: ${a}; }`)}),(0,We.sb)("_executeLinkedEditingProvider",(le,n,a)=>{const{linkedEditingRangeProvider:u}=le.get(_e.p);return ec(u,n,a,Di.T.None)}),(0,We._K)(Po.ID,Po),(0,We.Qr)(ha);var rd=s(60468),tc=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Jd=function(le,n){return function(a,u){n(a,u,le)}};function po(le,n){const a=n.filter(u=>!le.find(N=>N.equals(u)));if(a.length>=1){const u=a.map(x=>`line ${x.viewState.position.lineNumber} column ${x.viewState.position.column}`).join(", "),N=a.length===1?ye.NC("cursorAdded","Cursor added: {0}",u):ye.NC("cursorsAdded","Cursors added: {0}",u);(0,at.i7)(N)}}class pl extends We.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:ye.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"3_multi",title:ye.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(n,a,u){if(!a.hasModel())return;let N=!0;u&&u.logicalLine===!1&&(N=!1);const x=a._getViewModel();if(x.cursorConfig.readOnly)return;x.model.pushStackElement();const ee=x.getCursorStates();x.setCursorStates(u.source,3,gl.P.addCursorUp(x,ee,N)),x.revealTopMostCursor(u.source),po(ee,x.getCursorStates())}}class ic extends We.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:ye.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"3_multi",title:ye.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(n,a,u){if(!a.hasModel())return;let N=!0;u&&u.logicalLine===!1&&(N=!1);const x=a._getViewModel();if(x.cursorConfig.readOnly)return;x.model.pushStackElement();const ee=x.getCursorStates();x.setCursorStates(u.source,3,gl.P.addCursorDown(x,ee,N)),x.revealBottomMostCursor(u.source),po(ee,x.getCursorStates())}}class qd extends We.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:ye.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"3_multi",title:ye.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(n,a,u){if(!n.isEmpty()){for(let N=n.startLineNumber;N<n.endLineNumber;N++){const x=a.getLineMaxColumn(N);u.push(new it.Y(N,x,N,x))}n.endColumn>1&&u.push(new it.Y(n.endLineNumber,n.endColumn,n.endLineNumber,n.endColumn))}}run(n,a){if(!a.hasModel())return;const u=a.getModel(),N=a.getSelections(),x=a._getViewModel(),ee=x.getCursorStates(),ue=[];N.forEach(Pe=>this.getCursorsForSelection(Pe,u,ue)),ue.length>0&&a.setSelections(ue),po(ee,x.getCursorStates())}}class nc extends We.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:ye.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(n,a){if(!a.hasModel())return;const u=a.getSelections(),N=a.getModel().getLineCount(),x=[];for(let Pe=u[0].startLineNumber;Pe<=N;Pe++)x.push(new it.Y(Pe,u[0].startColumn,Pe,u[0].endColumn));const ee=a._getViewModel(),ue=ee.getCursorStates();x.length>0&&a.setSelections(x),po(ue,ee.getCursorStates())}}class eu extends We.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:ye.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(n,a){if(!a.hasModel())return;const u=a.getSelections(),N=[];for(let ue=u[0].startLineNumber;ue>=1;ue--)N.push(new it.Y(ue,u[0].startColumn,ue,u[0].endColumn));const x=a._getViewModel(),ee=x.getCursorStates();N.length>0&&a.setSelections(N),po(ee,x.getCursorStates())}}class _l{constructor(n,a,u){this.selections=n,this.revealRange=a,this.revealScrollType=u}}class Ba{constructor(n,a,u,N,x,ee,ue){this._editor=n,this.findController=a,this.isDisconnectedFromFindController=u,this.searchText=N,this.wholeWord=x,this.matchCase=ee,this.currentMatch=ue}static create(n,a){if(!n.hasModel())return null;const u=a.getState();if(!n.hasTextFocus()&&u.isRevealed&&u.searchString.length>0)return new Ba(n,a,!1,u.searchString,u.wholeWord,u.matchCase,null);let N=!1,x,ee;const ue=n.getSelections();ue.length===1&&ue[0].isEmpty()?(N=!0,x=!0,ee=!0):(x=u.wholeWord,ee=u.matchCase);const Pe=n.getSelection();let Re,De=null;if(Pe.isEmpty()){const tt=n.getConfiguredWordAtPosition(Pe.getStartPosition());if(!tt)return null;Re=tt.word,De=new it.Y(Pe.startLineNumber,tt.startColumn,Pe.startLineNumber,tt.endColumn)}else Re=n.getModel().getValueInRange(Pe).replace(/\r\n/g,`
`);return new Ba(n,a,N,Re,x,ee,De)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const n=this._getNextMatch();if(!n)return null;const a=this._editor.getSelections();return new _l(a.concat(n),n,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const n=this._getNextMatch();if(!n)return null;const a=this._editor.getSelections();return new _l(a.slice(0,a.length-1).concat(n),n,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const N=this.currentMatch;return this.currentMatch=null,N}this.findController.highlightFindOptions();const n=this._editor.getSelections(),a=n[n.length-1],u=this._editor.getModel().findNextMatch(this.searchText,a.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return u?new it.Y(u.range.startLineNumber,u.range.startColumn,u.range.endLineNumber,u.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const n=this._getPreviousMatch();if(!n)return null;const a=this._editor.getSelections();return new _l(a.concat(n),n,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const n=this._getPreviousMatch();if(!n)return null;const a=this._editor.getSelections();return new _l(a.slice(0,a.length-1).concat(n),n,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const N=this.currentMatch;return this.currentMatch=null,N}this.findController.highlightFindOptions();const n=this._editor.getSelections(),a=n[n.length-1],u=this._editor.getModel().findPreviousMatch(this.searchText,a.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return u?new it.Y(u.range.startLineNumber,u.range.startColumn,u.range.endLineNumber,u.range.endColumn):null}selectAll(n){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const a=this._editor.getModel();return n?a.findMatches(this.searchText,n,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824):a.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}class er extends St.JT{constructor(n){super(),this._sessionDispose=this._register(new St.SL),this._editor=n,this._ignoreSelectionChange=!1,this._session=null}static get(n){return n.getContribution(er.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(n){if(!this._session){const a=Ba.create(this._editor,n);if(!a)return;this._session=a;const u={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(u.wholeWordOverride=1,u.matchCaseOverride=1,u.isRegexOverride=2),n.getState().change(u,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(N=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(n.getState().onFindReplaceStateChange(N=>{(N.matchCase||N.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const n={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(n,!1)}this._session=null}_setSelections(n){this._ignoreSelectionChange=!0,this._editor.setSelections(n),this._ignoreSelectionChange=!1}_expandEmptyToWord(n,a){if(!a.isEmpty())return a;const u=this._editor.getConfiguredWordAtPosition(a.getStartPosition());return u?new it.Y(a.startLineNumber,u.startColumn,a.startLineNumber,u.endColumn):a}_applySessionResult(n){n&&(this._setSelections(n.selections),n.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(n.revealRange,n.revealScrollType))}getSession(n){return this._session}addSelectionToNextFindMatch(n){if(this._editor.hasModel()){if(!this._session){const a=this._editor.getSelections();if(a.length>1){const N=n.getState().matchCase;if(!rc(this._editor.getModel(),a,N)){const ee=this._editor.getModel(),ue=[];for(let Pe=0,Re=a.length;Pe<Re;Pe++)ue[Pe]=this._expandEmptyToWord(ee,a[Pe]);this._editor.setSelections(ue);return}}}this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(n){this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(n){this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(n){this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(n){if(!this._editor.hasModel())return;let a=null;const u=n.getState();if(u.isRevealed&&u.searchString.length>0&&u.isRegex){const N=this._editor.getModel();u.searchScope?a=N.findMatches(u.searchString,u.searchScope,u.isRegex,u.matchCase,u.wholeWord?this._editor.getOption(119):null,!1,1073741824):a=N.findMatches(u.searchString,!0,u.isRegex,u.matchCase,u.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(n),!this._session)return;a=this._session.selectAll(u.searchScope)}if(a.length>0){const N=this._editor.getSelection();for(let x=0,ee=a.length;x<ee;x++){const ue=a[x];if(ue.range.intersectRanges(N)){a[x]=a[0],a[0]=ue;break}}this._setSelections(a.map(x=>new it.Y(x.range.startLineNumber,x.range.startColumn,x.range.endLineNumber,x.range.endColumn)))}}}er.ID="editor.contrib.multiCursorController";class _n extends We.R6{run(n,a){const u=er.get(a);if(!u)return;const N=wr.CommonFindController.get(a);if(!N)return;const x=a._getViewModel();if(x){const ee=x.getCursorStates();this._run(u,N),po(ee,x.getCursorStates())}}}class sc extends _n{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:ye.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:pe.u.focus,primary:2082,weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"3_multi",title:ye.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(n,a){n.addSelectionToNextFindMatch(a)}}class os extends _n{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:ye.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"3_multi",title:ye.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(n,a){n.addSelectionToPreviousFindMatch(a)}}class tu extends _n{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:ye.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:pe.u.focus,primary:(0,bt.gx)(2089,2082),weight:100}})}_run(n,a){n.moveSelectionToNextFindMatch(a)}}class ad extends _n{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:ye.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(n,a){n.moveSelectionToPreviousFindMatch(a)}}class iu extends _n{constructor(){super({id:"editor.action.selectHighlights",label:ye.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:pe.u.focus,primary:3114,weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"3_multi",title:ye.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(n,a){n.selectAll(a)}}class vl extends _n{constructor(){super({id:"editor.action.changeAll",label:ye.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:ft.Ao.and(pe.u.writable,pe.u.editorTextFocus),kbOpts:{kbExpr:pe.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(n,a){n.selectAll(a)}}class oc{constructor(n,a,u,N,x){this._model=n,this._searchText=a,this._matchCase=u,this._wordSeparators=N,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,x&&this._model===x._model&&this._searchText===x._searchText&&this._matchCase===x._matchCase&&this._wordSeparators===x._wordSeparators&&this._modelVersionId===x._modelVersionId&&(this._cachedFindMatches=x._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(n=>n.range),this._cachedFindMatches.sort(Ke.e.compareRangesUsingStarts)),this._cachedFindMatches}}let tr=class Rd extends St.JT{constructor(n,a){super(),this._languageFeaturesService=a,this.editor=n,this._isEnabled=n.getOption(99),this._decorations=n.createDecorationsCollection(),this.updateSoon=this._register(new ki.pY(()=>this._update(),300)),this.state=null,this._register(n.onDidChangeConfiguration(N=>{this._isEnabled=n.getOption(99)})),this._register(n.onDidChangeCursorSelection(N=>{this._isEnabled&&(N.selection.isEmpty()?N.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(n.onDidChangeModel(N=>{this._setState(null)})),this._register(n.onDidChangeModelContent(N=>{this._isEnabled&&this.updateSoon.schedule()}));const u=wr.CommonFindController.get(n);u&&this._register(u.getState().onFindReplaceStateChange(N=>{this._update()}))}_update(){this._setState(Rd._createState(this.state,this._isEnabled,this.editor))}static _createState(n,a,u){if(!a||!u.hasModel())return null;const N=u.getSelection();if(N.startLineNumber!==N.endLineNumber)return null;const x=er.get(u);if(!x)return null;const ee=wr.CommonFindController.get(u);if(!ee)return null;let ue=x.getSession(ee);if(!ue){const De=u.getSelections();if(De.length>1){const Vt=ee.getState().matchCase;if(!rc(u.getModel(),De,Vt))return null}ue=Ba.create(u,ee)}if(!ue||ue.currentMatch||/^[ \t]+$/.test(ue.searchText)||ue.searchText.length>200)return null;const Pe=ee.getState(),Re=Pe.matchCase;if(Pe.isRevealed){let De=Pe.searchString;Re||(De=De.toLowerCase());let tt=ue.searchText;if(Re||(tt=tt.toLowerCase()),De===tt&&ue.matchCase===Pe.matchCase&&ue.wholeWord===Pe.wholeWord&&!Pe.isRegex)return null}return new oc(u.getModel(),ue.searchText,ue.matchCase,ue.wholeWord?u.getOption(119):null,n)}_setState(n){if(this.state=n,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const a=this.editor.getModel();if(a.isTooLargeForTokenization())return;const u=this.state.findMatches(),N=this.editor.getSelections();N.sort(Ke.e.compareRangesUsingStarts);const x=[];for(let Pe=0,Re=0,De=u.length,tt=N.length;Pe<De;){const Vt=u[Pe];if(Re>=tt)x.push(Vt),Pe++;else{const si=Ke.e.compareRangesUsingStarts(Vt,N[Re]);si<0?((N[Re].isEmpty()||!Ke.e.areIntersecting(Vt,N[Re]))&&x.push(Vt),Pe++):(si>0||Pe++,Re++)}}const ee=this._languageFeaturesService.documentHighlightProvider.has(a)&&this.editor.getOption(74),ue=x.map(Pe=>({range:Pe,options:ee?Rd._SELECTION_HIGHLIGHT:Rd._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(ue)}dispose(){this._setState(null),super.dispose()}};tr.ID="editor.contrib.selectionHighlighter",tr._SELECTION_HIGHLIGHT_OVERVIEW=ci.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,_i.EN)(ri.IYc),position:go.F5.Inline},overviewRuler:{color:(0,_i.EN)(ri.SPM),position:go.sh.Center}}),tr._SELECTION_HIGHLIGHT=ci.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),tr=tc([Jd(1,_e.p)],tr);function rc(le,n,a){const u=ac(le,n[0],!a);for(let N=1,x=n.length;N<x;N++){const ee=n[N];if(ee.isEmpty())return!1;const ue=ac(le,ee,!a);if(u!==ue)return!1}return!0}function ac(le,n,a){const u=le.getValueInRange(n);return a?u.toLowerCase():u}class nu extends We.R6{constructor(){super({id:"editor.action.focusNextCursor",label:ye.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:ye.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(n,a,u){if(!a.hasModel())return;const N=a._getViewModel();if(N.cursorConfig.readOnly)return;N.model.pushStackElement();const x=Array.from(N.getCursorStates()),ee=x.shift();ee&&(x.push(ee),N.setCursorStates(u.source,3,x),N.revealPrimaryCursor(u.source,!0),po(x,N.getCursorStates()))}}class su extends We.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:ye.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:ye.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(n,a,u){if(!a.hasModel())return;const N=a._getViewModel();if(N.cursorConfig.readOnly)return;N.model.pushStackElement();const x=Array.from(N.getCursorStates()),ee=x.pop();ee&&(x.unshift(ee),N.setCursorStates(u.source,3,x),N.revealPrimaryCursor(u.source,!0),po(x,N.getCursorStates()))}}(0,We._K)(er.ID,er),(0,We._K)(tr.ID,tr),(0,We.Qr)(pl),(0,We.Qr)(ic),(0,We.Qr)(qd),(0,We.Qr)(sc),(0,We.Qr)(os),(0,We.Qr)(tu),(0,We.Qr)(ad),(0,We.Qr)(iu),(0,We.Qr)(vl),(0,We.Qr)(nc),(0,We.Qr)(eu),(0,We.Qr)(nu),(0,We.Qr)(su);var ld=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};const jr={Visible:new ft.uy("parameterHintsVisible",!1),MultipleSignatures:new ft.uy("parameterHintsMultipleSignatures",!1)};function cd(le,n,a,u,N){return ld(this,void 0,void 0,function*(){const x=le.ordered(n);for(const ee of x)try{const ue=yield ee.provideSignatureHelp(n,a,N,u);if(ue)return ue}catch(ue){(0,Pi.Cp)(ue)}})}vt.P0.registerCommand("_executeSignatureHelpProvider",(le,...n)=>ld(void 0,void 0,void 0,function*(){const[a,u,N]=n;(0,Vi.p_)(Ci.o.isUri(a)),(0,Vi.p_)(qn.L.isIPosition(u)),(0,Vi.p_)(typeof N=="string"||!N);const x=le.get(_e.p),ee=yield le.get(Ls.S).createModelReference(a);try{const ue=yield cd(x.signatureHelpProvider,ee.object.textEditorModel,qn.L.lift(u),{triggerKind:ns.WW.Invoke,isRetrigger:!1,triggerCharacter:N},Di.T.None);return ue?(setTimeout(()=>ue.dispose(),0),ue.value):void 0}finally{ee.dispose()}}));var ou=s(13433),Wa=s(73046),ru=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})},_r;(function(le){le.Default={type:0};class n{constructor(N,x){this.request=N,this.previouslyActiveHints=x,this.type=2}}le.Pending=n;class a{constructor(N){this.hints=N,this.type=1}}le.Active=a})(_r||(_r={}));class Cl extends St.JT{constructor(n,a,u=Cl.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new et.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=_r.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new St.XK),this.triggerChars=new zo.q,this.retriggerChars=new zo.q,this.triggerId=0,this.editor=n,this.providers=a,this.throttledDelayer=new ki.vp(u),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(N=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(N=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(N=>this.onCursorChange(N))),this._register(this.editor.onDidChangeModelContent(N=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(N=>this.onDidType(N))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(n){this._state.type===2&&this._state.request.cancel(),this._state=n}cancel(n=!1){this.state=_r.Default,this.throttledDelayer.cancel(),n||this._onChangedHints.fire(void 0)}trigger(n,a){const u=this.editor.getModel();if(!u||!this.providers.has(u))return;const N=++this.triggerId;this._pendingTriggers.push(n),this.throttledDelayer.trigger(()=>this.doTrigger(N),a).catch(Pi.dL)}next(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,a=this.state.hints.activeSignature,u=a%n===n-1,N=this.editor.getOption(78).cycle;if((n<2||u)&&!N){this.cancel();return}this.updateActiveSignature(u&&N?0:a+1)}previous(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,a=this.state.hints.activeSignature,u=a===0,N=this.editor.getOption(78).cycle;if((n<2||u)&&!N){this.cancel();return}this.updateActiveSignature(u&&N?n-1:a-1)}updateActiveSignature(n){this.state.type===1&&(this.state=new _r.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:n})),this._onChangedHints.fire(this.state.hints))}doTrigger(n){return ru(this,void 0,void 0,function*(){const a=this.state.type===1||this.state.type===2,u=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const N=this._pendingTriggers.reduce(dd);this._pendingTriggers=[];const x={triggerKind:N.triggerKind,triggerCharacter:N.triggerCharacter,isRetrigger:a,activeSignatureHelp:u};if(!this.editor.hasModel())return!1;const ee=this.editor.getModel(),ue=this.editor.getPosition();this.state=new _r.Pending((0,ki.PG)(Pe=>cd(this.providers,ee,ue,x,Pe)),u);try{const Pe=yield this.state.request;return n!==this.triggerId?(Pe?.dispose(),!1):!Pe||!Pe.value.signatures||Pe.value.signatures.length===0?(Pe?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new _r.Active(Pe.value),this._lastSignatureHelpResult.value=Pe,this._onChangedHints.fire(this.state.hints),!0)}catch(Pe){return n===this.triggerId&&(this.state=_r.Default),(0,Pi.dL)(Pe),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new zo.q,this.retriggerChars=new zo.q;const n=this.editor.getModel();if(n)for(const a of this.providers.ordered(n)){for(const u of a.signatureHelpTriggerCharacters||[])this.triggerChars.add(u.charCodeAt(0)),this.retriggerChars.add(u.charCodeAt(0));for(const u of a.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(u.charCodeAt(0))}}onDidType(n){if(!this.triggerOnType)return;const a=n.length-1,u=n.charCodeAt(a);(this.triggerChars.has(u)||this.isTriggered&&this.retriggerChars.has(u))&&this.trigger({triggerKind:ns.WW.TriggerCharacter,triggerCharacter:n.charAt(a)})}onCursorChange(n){n.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:ns.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:ns.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}Cl.DEFAULT_DELAY=120;function dd(le,n){switch(n.triggerKind){case ns.WW.Invoke:return n;case ns.WW.ContentChange:return le;case ns.WW.TriggerCharacter:default:return n}}var bl=s(59554),Va=s(92321),au=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Sl=function(le,n){return function(a,u){n(a,u,le)}};const qs=jt.$,lu=(0,bl.q5)("parameter-hints-next",Wa.lA.chevronDown,ye.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),cu=(0,bl.q5)("parameter-hints-previous",Wa.lA.chevronUp,ye.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let wl=class uf extends St.JT{constructor(n,a,u,N,x){super(),this.editor=n,this.renderDisposeables=this._register(new St.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new de.$({editor:n},N,u)),this.model=this._register(new Cl(n,x.signatureHelpProvider)),this.keyVisible=jr.Visible.bindTo(a),this.keyMultipleSignatures=jr.MultipleSignatures.bindTo(a),this._register(this.model.onChangedHints(ee=>{ee?(this.show(),this.render(ee)):this.hide()}))}createParameterHintDOMNodes(){const n=qs(".editor-widget.parameter-hints-widget"),a=jt.R3(n,qs(".phwrapper"));a.tabIndex=-1;const u=jt.R3(a,qs(".controls")),N=jt.R3(u,qs(".button"+_i.kS.asCSSSelector(cu))),x=jt.R3(u,qs(".overloads")),ee=jt.R3(u,qs(".button"+_i.kS.asCSSSelector(lu)));this._register(jt.nm(N,"click",Vt=>{jt.zB.stop(Vt),this.previous()})),this._register(jt.nm(ee,"click",Vt=>{jt.zB.stop(Vt),this.next()}));const ue=qs(".body"),Pe=new ou.s$(ue,{alwaysConsumeMouseWheel:!0});this._register(Pe),a.appendChild(Pe.getDomNode());const Re=jt.R3(ue,qs(".signature")),De=jt.R3(ue,qs(".docs"));n.style.userSelect="text",this.domNodes={element:n,signature:Re,overloads:x,docs:De,scrollbar:Pe},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Vt=>{this.visible&&this.editor.layoutContentWidget(this)}));const tt=()=>{if(!this.domNodes)return;const Vt=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${Vt.fontSize}px`,this.domNodes.element.style.lineHeight=`${Vt.lineHeight/Vt.fontSize}`};tt(),this._register(et.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(Vt=>Vt.hasChanged(46)).on(tt,null)),this._register(this.editor.onDidLayoutChange(Vt=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var n;(n=this.domNodes)===null||n===void 0||n.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var n;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(n=this.domNodes)===null||n===void 0||n.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(n){var a;if(this.renderDisposeables.clear(),!this.domNodes)return;const u=n.signatures.length>1;this.domNodes.element.classList.toggle("multiple",u),this.keyMultipleSignatures.set(u),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const N=n.signatures[n.activeSignature];if(!N)return;const x=jt.R3(this.domNodes.signature,qs(".code")),ee=this.editor.getOption(46);x.style.fontSize=`${ee.fontSize}px`,x.style.fontFamily=ee.fontFamily;const ue=N.parameters.length>0,Pe=(a=N.activeParameter)!==null&&a!==void 0?a:n.activeParameter;if(ue)this.renderParameters(x,N,Pe);else{const tt=jt.R3(x,qs("span"));tt.textContent=N.label}const Re=N.parameters[Pe];if(Re?.documentation){const tt=qs("span.documentation");if(typeof Re.documentation=="string")tt.textContent=Re.documentation;else{const Vt=this.renderMarkdownDocs(Re.documentation);tt.appendChild(Vt.element)}jt.R3(this.domNodes.docs,qs("p",{},tt))}if(N.documentation!==void 0)if(typeof N.documentation=="string")jt.R3(this.domNodes.docs,qs("p",{},N.documentation));else{const tt=this.renderMarkdownDocs(N.documentation);jt.R3(this.domNodes.docs,tt.element)}const De=this.hasDocs(N,Re);if(this.domNodes.signature.classList.toggle("has-docs",De),this.domNodes.docs.classList.toggle("empty",!De),this.domNodes.overloads.textContent=String(n.activeSignature+1).padStart(n.signatures.length.toString().length,"0")+"/"+n.signatures.length,Re){let tt="";const Vt=N.parameters[Pe];Array.isArray(Vt.label)?tt=N.label.substring(Vt.label[0],Vt.label[1]):tt=Vt.label,Vt.documentation&&(tt+=typeof Vt.documentation=="string"?`, ${Vt.documentation}`:`, ${Vt.documentation.value}`),N.documentation&&(tt+=typeof N.documentation=="string"?`, ${N.documentation}`:`, ${N.documentation.value}`),this.announcedLabel!==tt&&(at.Z9(ye.NC("hint","{0}, hint",tt)),this.announcedLabel=tt)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(n){const a=this.renderDisposeables.add(this.markdownRenderer.render(n,{asyncRenderCallback:()=>{var u;(u=this.domNodes)===null||u===void 0||u.scrollbar.scanDomNode()}}));return a.element.classList.add("markdown-docs"),a}hasDocs(n,a){return!!(a&&typeof a.documentation=="string"&&(0,Vi.cW)(a.documentation).length>0||a&&typeof a.documentation=="object"&&(0,Vi.cW)(a.documentation).value.length>0||n.documentation&&typeof n.documentation=="string"&&(0,Vi.cW)(n.documentation).length>0||n.documentation&&typeof n.documentation=="object"&&(0,Vi.cW)(n.documentation.value).length>0)}renderParameters(n,a,u){const[N,x]=this.getParameterLabelOffsets(a,u),ee=document.createElement("span");ee.textContent=a.label.substring(0,N);const ue=document.createElement("span");ue.textContent=a.label.substring(N,x),ue.className="parameter active";const Pe=document.createElement("span");Pe.textContent=a.label.substring(x),jt.R3(n,ee,ue,Pe)}getParameterLabelOffsets(n,a){const u=n.parameters[a];if(u){if(Array.isArray(u.label))return u.label;if(u.label.length){const N=new RegExp(`(\\W|^)${(0,Ct.ec)(u.label)}(?=\\W|$)`,"g");N.test(n.label);const x=N.lastIndex-u.label.length;return x>=0?[x,N.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return uf.ID}trigger(n){this.model.trigger(n,0)}updateMaxHeight(){if(!this.domNodes)return;const a=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=a;const u=this.domNodes.element.getElementsByClassName("phwrapper");u.length&&(u[0].style.maxHeight=a)}};wl.ID="editor.widget.parameterHintsWidget",wl=au([Sl(1,ft.i6),Sl(2,R.v4),Sl(3,ko.O),Sl(4,_e.p)],wl);const du=(0,ri.P6G)("editorHoverWidget.highlightForeground",{dark:ri.Gwp,light:ri.Gwp,hcDark:ri.Gwp,hcLight:ri.Gwp},ye.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,_i.Ic)((le,n)=>{const a=le.getColor(ri.CNo);if(a){const Re=(0,Va.c3)(le.type)?2:1;n.addRule(`.monaco-editor .parameter-hints-widget { border: ${Re}px solid ${a}; }`),n.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${a.transparent(.5)}; }`),n.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${a.transparent(.5)}; }`)}const u=le.getColor(ri.yJx);u&&n.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${u}; }`);const N=le.getColor(ri.url);N&&n.addRule(`.monaco-editor .parameter-hints-widget a { color: ${N}; }`);const x=le.getColor(ri.sgC);x&&n.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${x}; }`);const ee=le.getColor(ri.Sbf);ee&&n.addRule(`.monaco-editor .parameter-hints-widget { color: ${ee}; }`);const ue=le.getColor(ri.SwI);ue&&n.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${ue}; }`);const Pe=le.getColor(du);Pe&&n.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${Pe}}`)});var uu=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},hu=function(le,n){return function(a,u){n(a,u,le)}};let Kr=class hf extends St.JT{constructor(n,a){super(),this.editor=n,this.widget=this._register(a.createInstance(wl,this.editor))}static get(n){return n.getContribution(hf.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(n){this.widget.trigger(n)}};Kr.ID="editor.controller.parameterHints",Kr=uu([hu(1,Je.TG)],Kr);class fu extends We.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:ye.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:pe.u.hasSignatureHelpProvider,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:3082,weight:100}})}run(n,a){const u=Kr.get(a);u&&u.trigger({triggerKind:ns.WW.Invoke})}}(0,We._K)(Kr.ID,Kr),(0,We.Qr)(fu);const lc=175,cc=We._l.bindToContribution(Kr.get);(0,We.fK)(new cc({id:"closeParameterHints",precondition:jr.Visible,handler:le=>le.cancel(),kbOpts:{weight:lc,kbExpr:pe.u.focus,primary:9,secondary:[1033]}})),(0,We.fK)(new cc({id:"showPrevParameterHint",precondition:ft.Ao.and(jr.Visible,jr.MultipleSignatures),handler:le=>le.previous(),kbOpts:{weight:lc,kbExpr:pe.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,We.fK)(new cc({id:"showNextParameterHint",precondition:ft.Ao.and(jr.Visible,jr.MultipleSignatures),handler:le=>le.next(),kbOpts:{weight:lc,kbExpr:pe.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var gu=s(71765),dc=s(27863),mu=s(43557),pu=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},uc=function(le,n){return function(a,u){n(a,u,le)}};const yl=new ft.uy("renameInputVisible",!1,(0,ye.NC)("renameInputVisible","Whether the rename input widget is visible"));let hc=class{constructor(n,a,u,N,x){this._editor=n,this._acceptKeybindings=a,this._themeService=u,this._keybindingService=N,this._disposables=new St.SL,this.allowEditorOverflow=!0,this._visibleContextKey=yl.bindTo(x),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(ee=>{ee.hasChanged(46)&&this._updateFont()})),this._disposables.add(u.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,ye.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const n=()=>{var a,u;const[N,x]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(N),this._label.innerText=(0,ye.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(a=this._keybindingService.lookupKeybinding(N))===null||a===void 0?void 0:a.getLabel(),(u=this._keybindingService.lookupKeybinding(x))===null||u===void 0?void 0:u.getLabel())};n(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(n)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(n){var a,u,N,x;if(!this._input||!this._domNode)return;const ee=n.getColor(ri.rh);this._domNode.style.backgroundColor=String((a=n.getColor(ri.D0T))!==null&&a!==void 0?a:""),this._domNode.style.boxShadow=ee?` 0 0 8px 2px ${ee}`:"",this._domNode.style.color=String((u=n.getColor(ri.zJb))!==null&&u!==void 0?u:""),this._input.style.backgroundColor=String((N=n.getColor(ri.sEe))!==null&&N!==void 0?N:"");const ue=n.getColor(ri.dt_);this._input.style.borderWidth=ue?"1px":"0px",this._input.style.borderStyle=ue?"solid":"none",this._input.style.borderColor=(x=ue?.toString())!==null&&x!==void 0?x:"none"}_updateFont(){if(!this._input||!this._label)return;const n=this._editor.getOption(46);this._input.style.fontFamily=n.fontFamily,this._input.style.fontWeight=n.fontWeight,this._input.style.fontSize=`${n.fontSize}px`,this._label.style.fontSize=`${n.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(n){n||this.cancelInput(!0)}acceptInput(n){var a;(a=this._currentAcceptInput)===null||a===void 0||a.call(this,n)}cancelInput(n){var a;(a=this._currentCancelInput)===null||a===void 0||a.call(this,n)}getInput(n,a,u,N,x,ee){this._domNode.classList.toggle("preview",x),this._position=new qn.L(n.startLineNumber,n.startColumn),this._input.value=a,this._input.setAttribute("selectionStart",u.toString()),this._input.setAttribute("selectionEnd",N.toString()),this._input.size=Math.max((n.endColumn-n.startColumn)*1.1,20);const ue=new St.SL;return new Promise(Pe=>{this._currentCancelInput=Re=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Pe(Re),!0),this._currentAcceptInput=Re=>{if(this._input.value.trim().length===0||this._input.value===a){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Pe({newName:this._input.value,wantsPreview:x&&Re})},ue.add(ee.onCancellationRequested(()=>this.cancelInput(!0))),ue.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{ue.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};hc=pu([uc(2,_i.XE),uc(3,yo.d),uc(4,ft.i6)],hc);var _u=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Fo=function(le,n){return function(a,u){n(a,u,le)}},vr=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};class fc{constructor(n,a,u){this.model=n,this.position=a,this._providerRenameIdx=0,this._providers=u.ordered(n)}hasProvider(){return this._providers.length>0}resolveRenameLocation(n){return vr(this,void 0,void 0,function*(){const a=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const N=this._providers[this._providerRenameIdx];if(!N.resolveRenameLocation)break;const x=yield N.resolveRenameLocation(this.model,this.position,n);if(x){if(x.rejectReason){a.push(x.rejectReason);continue}return x}}const u=this.model.getWordAtPosition(this.position);return u?{range:new Ke.e(this.position.lineNumber,u.startColumn,this.position.lineNumber,u.endColumn),text:u.word,rejectReason:a.length>0?a.join(`
`):void 0}:{range:Ke.e.fromPositions(this.position),text:"",rejectReason:a.length>0?a.join(`
`):void 0}})}provideRenameEdits(n,a){return vr(this,void 0,void 0,function*(){return this._provideRenameEdits(n,this._providerRenameIdx,[],a)})}_provideRenameEdits(n,a,u,N){return vr(this,void 0,void 0,function*(){const x=this._providers[a];if(!x)return{edits:[],rejectReason:u.join(`
`)};const ee=yield x.provideRenameEdits(this.model,this.position,n,N);if(ee){if(ee.rejectReason)return this._provideRenameEdits(n,a+1,u.concat(ee.rejectReason),N)}else return this._provideRenameEdits(n,a+1,u.concat(ye.NC("no result","No result.")),N);return ee})}}function ud(le,n,a,u){return vr(this,void 0,void 0,function*(){const N=new fc(n,a,le),x=yield N.resolveRenameLocation(Di.T.None);return x?.rejectReason?{edits:[],rejectReason:x.rejectReason}:N.provideRenameEdits(u,Di.T.None)})}let ir=class ff{constructor(n,a,u,N,x,ee,ue,Pe){this.editor=n,this._instaService=a,this._notificationService=u,this._bulkEditService=N,this._progressService=x,this._logService=ee,this._configService=ue,this._languageFeaturesService=Pe,this._disposableStore=new St.SL,this._cts=new Di.A,this._renameInputField=this._disposableStore.add(new ki.Ue(()=>this._disposableStore.add(this._instaService.createInstance(hc,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(n){return n.getContribution(ff.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var n,a;return vr(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const u=this.editor.getPosition(),N=new fc(this.editor.getModel(),u,this._languageFeaturesService.renameProvider);if(!N.hasProvider())return;this._cts=new Ei.Dl(this.editor,5);let x;try{const Vt=N.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Vt,250),x=yield Vt}catch(Vt){(n=dc.O.get(this.editor))===null||n===void 0||n.showMessage(Vt||ye.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),u);return}if(!x)return;if(x.rejectReason){(a=dc.O.get(this.editor))===null||a===void 0||a.showMessage(x.rejectReason,u);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new Ei.Dl(this.editor,5,x.range);const ee=this.editor.getSelection();let ue=0,Pe=x.text.length;!Ke.e.isEmpty(ee)&&!Ke.e.spansMultipleLines(ee)&&Ke.e.containsRange(x.range,ee)&&(ue=Math.max(0,ee.startColumn-x.range.startColumn),Pe=Math.min(x.range.endColumn,ee.endColumn)-x.range.startColumn);const Re=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),De=yield this._renameInputField.value.getInput(x.range,x.text,ue,Pe,Re,this._cts.token);if(typeof De=="boolean"){De&&this.editor.focus();return}this.editor.focus();const tt=(0,ki.eP)(N.provideRenameEdits(De.newName,this._cts.token),this._cts.token).then(Vt=>vr(this,void 0,void 0,function*(){if(!(!Vt||!this.editor.hasModel())){if(Vt.rejectReason){this._notificationService.info(Vt.rejectReason);return}this.editor.setSelection(Ke.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(fi.fo.convert(Vt),{editor:this.editor,showPreview:De.wantsPreview,label:ye.NC("label","Renaming '{0}' to '{1}'",x?.text,De.newName),code:"undoredo.rename",quotableLabel:ye.NC("quotableLabel","Renaming {0} to {1}",x?.text,De.newName),respectAutoSaveConfig:!0}).then(si=>{si.ariaSummary&&(0,at.Z9)(ye.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",x.text,De.newName,si.ariaSummary))}).catch(si=>{this._notificationService.error(ye.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(si)})}}),Vt=>{this._notificationService.error(ye.NC("rename.failed","Rename failed to compute edits")),this._logService.error(Vt)});return this._progressService.showWhile(tt,250),tt})}acceptRenameInput(n){this._renameInputField.value.acceptInput(n)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};ir.ID="editor.contrib.renameController",ir=_u([Fo(1,Je.TG),Fo(2,Si.lT),Fo(3,fi.vu),Fo(4,zs.ek),Fo(5,mu.VZ),Fo(6,gu.V),Fo(7,_e.p)],ir);class vu extends We.R6{constructor(){super({id:"editor.action.rename",label:ye.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:ft.Ao.and(pe.u.writable,pe.u.hasRenameProvider),kbOpts:{kbExpr:pe.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(n,a){const u=n.get(Us.$),[N,x]=Array.isArray(a)&&a||[void 0,void 0];return Ci.o.isUri(N)&&qn.L.isIPosition(x)?u.openCodeEditor({resource:N},u.getActiveCodeEditor()).then(ee=>{ee&&(ee.setPosition(x),ee.invokeWithinContext(ue=>(this.reportTelemetry(ue,ee),this.run(ue,ee))))},Pi.dL):super.runCommand(n,a)}run(n,a){const u=ir.get(a);return u?u.run():Promise.resolve()}}(0,We._K)(ir.ID,ir),(0,We.Qr)(vu);const gc=We._l.bindToContribution(ir.get);(0,We.fK)(new gc({id:"acceptRenameInput",precondition:yl,handler:le=>le.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:pe.u.focus,primary:3}})),(0,We.fK)(new gc({id:"acceptRenameInputWithPreview",precondition:ft.Ao.and(yl,ft.Ao.has("config.editor.rename.enablePreview")),handler:le=>le.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:pe.u.focus,primary:1027}})),(0,We.fK)(new gc({id:"cancelRenameInput",precondition:yl,handler:le=>le.cancelRenameInput(),kbOpts:{weight:199,kbExpr:pe.u.focus,primary:9,secondary:[1033]}})),(0,We.sb)("_executeDocumentRenameProvider",function(le,n,a,...u){const[N]=u;(0,Vi.p_)(typeof N=="string");const{renameProvider:x}=le.get(_e.p);return ud(x,n,a,N)}),(0,We.sb)("_executePrepareRename",function(le,n,a){return vr(this,void 0,void 0,function*(){const{renameProvider:u}=le.get(_e.p),x=yield new fc(n,a,u).resolveRenameLocation(Di.T.None);if(x?.rejectReason)throw new Error(x.rejectReason);return x})}),mi.B.as(Lt.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:ye.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var mc=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Cu=function(le,n){return function(a,u){n(a,u,le)}},pc=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})},_c;let Ha=class extends St.JT{constructor(n,a){super(),this._sessionStore=new St.SL,this._ranges=[],this._rangesVersionId=0,this._editor=n,this._languageFeaturesService=a,this.stickyScrollWidget=new bu(this._editor),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(34)&&this.onConfigurationChange()})),this._updateSoon=this._register(new ki.pY(()=>this._update(!0),50)),this.onConfigurationChange()}onConfigurationChange(){if(this._editor.getOption(34).stickyScroll.enabled===!1){this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),this._sessionStore.clear();return}else this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._update(!1))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidChangeModelTokens(a=>this._onTokensChange(a))),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this._update(!0))),this._update(!0)}_needsUpdate(n){const a=this.stickyScrollWidget.getCurrentLines();for(const u of a)for(const N of n.ranges)if(u>=N.fromLineNumber&&u<=N.toLineNumber)return!0;return!1}_onTokensChange(n){this._needsUpdate(n)&&this._update(!1)}_update(n=!1){var a,u;return pc(this,void 0,void 0,function*(){n&&((a=this._cts)===null||a===void 0||a.dispose(!0),this._cts=new Di.A,yield this._updateOutlineModel(this._cts.token));const N=(u=this._editor._getViewModel())===null||u===void 0?void 0:u.getHiddenAreas();if(N)for(const x of N)this._ranges=this._ranges.filter(ee=>!(ee[0]>=x.startLineNumber&&ee[1]<=x.endLineNumber+1));this._renderStickyScroll()})}_findLineRanges(n,a){if(n?.children.size){let u=!1;for(const N of n?.children.values()){const x=N.symbol.kind;(x===4||x===8||x===11||x===10||x===5||x===1)&&(u=!0,this._findLineRanges(N,a+1))}u||this._addOutlineRanges(n,a)}else this._addOutlineRanges(n,a)}_addOutlineRanges(n,a){let u=0,N=0;for(;n;){const x=n.symbol.kind;if((x===4||x===8||x===11||x===10||x===5||x===1)&&(u=n?.symbol.range.startLineNumber,N=n?.symbol.range.endLineNumber,this._ranges.push([u,N,a]),a--),n.parent instanceof hs)n=n.parent;else break}}_updateOutlineModel(n){return pc(this,void 0,void 0,function*(){if(this._editor.hasModel()){const a=this._editor.getModel(),u=a.getVersionId(),N=yield ps.create(this._languageFeaturesService.documentSymbolProvider,a,n);if(n.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=u;for(const x of N.children.values()){if(x instanceof hs){const ue=x.symbol.kind;ue===4||ue===8||ue===11||ue===10||ue===5||ue===1?this._findLineRanges(x,1):this._findLineRanges(x,0)}this._ranges=this._ranges.sort(function(ue,Pe){return ue[0]!==Pe[0]?ue[0]-Pe[0]:ue[1]!==Pe[1]?Pe[1]-ue[1]:ue[2]-Pe[2]});let ee=[];for(const[ue,Pe]of this._ranges.entries()){const[Re,De,tt]=Pe;ee[0]===Re&&ee[1]===De?this._ranges.splice(ue,1):ee=Pe}}}})}_renderStickyScroll(){if(!this._editor.hasModel())return;const n=this._editor.getOption(61),a=this._editor.getModel();if(this._rangesVersionId!==a.getVersionId())return;const u=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();const N=new Set;for(const[x,ee]of this._ranges.entries()){const[ue,Pe,Re]=ee;if(Pe-ue>0&&a.getLineContent(ue)!==""){const De=(Re-1)*n,tt=Re*n,Vt=this._editor.getBottomForLineNumber(ue)-u,si=this._editor.getTopForLineNumber(Pe)-u,li=this._editor.getBottomForLineNumber(Pe)-u;if(N.has(ue))this._ranges.splice(x,1);else if(De>=si-1&&De<li-2){N.add(ue),this.stickyScrollWidget.pushCodeLine(new fd(ue,Re,this._editor,-1,li-tt));break}else tt>Vt&&tt<li-1&&(N.add(ue),this.stickyScrollWidget.pushCodeLine(new fd(ue,Re,this._editor,0,0)))}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};Ha.ID="store.contrib.stickyScrollController",Ha=mc([Cu(1,_e.p)],Ha);const hd=(_c=window.trustedTypes)===null||_c===void 0?void 0:_c.createPolicy("stickyScrollViewLayer",{createHTML:le=>le});class fd{constructor(n,a,u,N,x){this._lineNumber=n,this._depth=a,this._editor=u,this._zIndex=N,this._relativePosition=x,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){const n=document.createElement("div"),a=this._editor._getViewModel(),u=a.coordinatesConverter.convertModelPositionToViewPosition(new qn.L(this._lineNumber,1)).lineNumber,N=a.getViewLineRenderingData(u);let x;try{x=Fr.Kp.filter(N.inlineDecorations,u,N.minColumn,N.maxColumn)}catch{x=[]}const ee=new zn.IJ(!0,!0,N.content,N.continuesWithWrappedLine,N.isBasicASCII,N.containsRTL,0,N.tokens,x,N.tabSize,N.startVisibleColumn,1,1,1,100,"none",!0,!0,null),ue=(0,oa.l$)(400);(0,zn.d1)(ee,ue);let Pe;hd?Pe=hd.createHTML(ue.build()):Pe=ue.build();const Re=document.createElement("span");Re.style.backgroundColor="var(--vscode-editorStickyScroll-background)",Re.style.overflow="hidden",Re.style.whiteSpace="nowrap",Re.style.display="inline-block",Re.style.lineHeight=this._editor.getOption(61).toString()+"px",Re.innerHTML=Pe;const De=document.createElement("span");De.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",De.style.backgroundColor="var(--vscode-editorStickyScroll-background)",De.style.color="var(--vscode-editorLineNumber-foreground)",De.style.display="inline-block",De.style.lineHeight=this._editor.getOption(61).toString()+"px";const tt=document.createElement("span");return tt.innerText=this._lineNumber.toString(),tt.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",tt.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",tt.style.backgroundColor="var(--vscode-editorStickyScroll-background)",tt.style.textAlign="right",tt.style.float="left",tt.style.lineHeight=this._editor.getOption(61).toString()+"px",De.appendChild(tt),n.onclick=Vt=>{Vt.stopPropagation(),Vt.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},n.onmouseover=Vt=>{tt.style.background="var(--vscode-editorStickyScrollHover-background)",Re.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",De.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",n.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",tt.style.cursor="pointer",Re.style.cursor="pointer",n.style.cursor="pointer",De.style.cursor="pointer"},n.onmouseleave=Vt=>{tt.style.background="var(--vscode-editorStickyScroll-background)",Re.style.backgroundColor="var(--vscode-editorStickyScroll-background)",De.style.backgroundColor="var(--vscode-editorStickyScroll-background)",n.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(Re),this._editor.applyFontInfo(tt),n.appendChild(De),n.appendChild(Re),n.style.zIndex=this._zIndex.toString(),n.style.backgroundColor="var(--vscode-editorStickyScroll-background)",n.style.overflow="hidden",n.style.whiteSpace="nowrap",n.style.width="100%",n.style.lineHeight=this._editor.getOption(61).toString()+"px",n.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(n.style.position="relative",n.style.top=this._relativePosition+"px",n.style.width="100%"),n}}class bu{constructor(n){this._editor=n,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){const n=[];for(const a of this.arrayOfCodeLines)n.push(a.lineNumber);return n}pushCodeLine(n){this.arrayOfCodeLines.push(n)}updateRootNode(){let n=0;for(const a of this.arrayOfCodeLines)n+=a.effectiveLineHeight,this.rootDomNode.appendChild(a.getDomNode());this.rootDomNode.style.height=n.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,jt.PO(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}}(0,We._K)(Ha.ID,Ha);var Su=s(79694);class wu{provideSelectionRanges(n,a){const u=[];for(const N of a){const x=[];u.push(x),this._addInWordRanges(x,n,N),this._addWordRanges(x,n,N),this._addWhitespaceLine(x,n,N),x.push({range:n.getFullModelRange()})}return u}_addInWordRanges(n,a,u){const N=a.getWordAtPosition(u);if(!N)return;const{word:x,startColumn:ee}=N,ue=u.column-ee;let Pe=ue,Re=ue,De=0;for(;Pe>=0;Pe--){const tt=x.charCodeAt(Pe);if(Pe!==ue&&(tt===95||tt===45))break;if((0,Ct.mK)(tt)&&(0,Ct.df)(De))break;De=tt}for(Pe+=1;Re<x.length;Re++){const tt=x.charCodeAt(Re);if((0,Ct.df)(tt)&&(0,Ct.mK)(De))break;if(tt===95||tt===45)break;De=tt}Pe<Re&&n.push({range:new Ke.e(u.lineNumber,ee+Pe,u.lineNumber,ee+Re)})}_addWordRanges(n,a,u){const N=a.getWordAtPosition(u);N&&n.push({range:new Ke.e(u.lineNumber,N.startColumn,u.lineNumber,N.endColumn)})}_addWhitespaceLine(n,a,u){a.getLineLength(u.lineNumber)>0&&a.getLineFirstNonWhitespaceColumn(u.lineNumber)===0&&a.getLineLastNonWhitespaceColumn(u.lineNumber)===0&&n.push({range:new Ke.e(u.lineNumber,1,u.lineNumber,a.getLineMaxColumn(u.lineNumber))})}}var za=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},yu=function(le,n){return function(a,u){n(a,u,le)}},Ll=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};class Dl{constructor(n,a){this.index=n,this.ranges=a}mov(n){const a=this.index+(n?1:-1);if(a<0||a>=this.ranges.length)return this;const u=new Dl(a,this.ranges);return u.ranges[a].equalsRange(this.ranges[this.index])?u.mov(n):u}}let fa=class gf{constructor(n,a){this._editor=n,this._languageFeaturesService=a,this._ignoreSelection=!1}static get(n){return n.getContribution(gf.ID)}dispose(){var n;(n=this._selectionListener)===null||n===void 0||n.dispose()}run(n){return Ll(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const a=this._editor.getSelections(),u=this._editor.getModel();if(this._state||(yield gd(this._languageFeaturesService.selectionRangeProvider,u,a.map(x=>x.getPosition()),this._editor.getOption(104),Di.T.None).then(x=>{var ee;if(!(!k.Of(x)||x.length!==a.length)&&!(!this._editor.hasModel()||!k.fS(this._editor.getSelections(),a,(ue,Pe)=>ue.equalsSelection(Pe)))){for(let ue=0;ue<x.length;ue++)x[ue]=x[ue].filter(Pe=>Pe.containsPosition(a[ue].getStartPosition())&&Pe.containsPosition(a[ue].getEndPosition())),x[ue].unshift(a[ue]);this._state=x.map(ue=>new Dl(0,ue)),(ee=this._selectionListener)===null||ee===void 0||ee.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var ue;this._ignoreSelection||((ue=this._selectionListener)===null||ue===void 0||ue.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(x=>x.mov(n));const N=this._state.map(x=>it.Y.fromPositions(x.ranges[x.index].getStartPosition(),x.ranges[x.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(N)}finally{this._ignoreSelection=!1}})}};fa.ID="editor.contrib.smartSelectController",fa=za([yu(1,_e.p)],fa);class vc extends We.R6{constructor(n,a){super(a),this._forward=n}run(n,a){return Ll(this,void 0,void 0,function*(){const u=fa.get(a);u&&(yield u.run(this._forward))})}}class Cc extends vc{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:ye.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"1_basic",title:ye.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}vt.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class Lu extends vc{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:ye.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:pe.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:Wn.eH.MenubarSelectionMenu,group:"1_basic",title:ye.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,We._K)(fa.ID,fa),(0,We.Qr)(Cc),(0,We.Qr)(Lu);function gd(le,n,a,u,N){return Ll(this,void 0,void 0,function*(){const x=le.all(n).concat(new wu);x.length===1&&x.unshift(new Su.x);const ee=[],ue=[];for(const Pe of x)ee.push(Promise.resolve(Pe.provideSelectionRanges(n,a,N)).then(Re=>{if(k.Of(Re)&&Re.length===a.length)for(let De=0;De<a.length;De++){ue[De]||(ue[De]=[]);for(const tt of Re[De])Ke.e.isIRange(tt.range)&&Ke.e.containsPosition(tt.range,a[De])&&ue[De].push(Ke.e.lift(tt.range))}},Pi.Cp));return yield Promise.all(ee),ue.map(Pe=>{if(Pe.length===0)return[];Pe.sort((Vt,si)=>qn.L.isBefore(Vt.getStartPosition(),si.getStartPosition())?1:qn.L.isBefore(si.getStartPosition(),Vt.getStartPosition())||qn.L.isBefore(Vt.getEndPosition(),si.getEndPosition())?-1:qn.L.isBefore(si.getEndPosition(),Vt.getEndPosition())?1:0);const Re=[];let De;for(const Vt of Pe)(!De||Ke.e.containsRange(Vt,De)&&!Ke.e.equalsRange(Vt,De))&&(Re.push(Vt),De=Vt);if(!u.selectLeadingAndTrailingWhitespace)return Re;const tt=[Re[0]];for(let Vt=1;Vt<Re.length;Vt++){const si=Re[Vt-1],li=Re[Vt];if(li.startLineNumber!==si.startLineNumber||li.endLineNumber!==si.endLineNumber){const Ni=new Ke.e(si.startLineNumber,n.getLineFirstNonWhitespaceColumn(si.startLineNumber),si.endLineNumber,n.getLineLastNonWhitespaceColumn(si.endLineNumber));Ni.containsRange(si)&&!Ni.equalsRange(si)&&li.containsRange(Ni)&&!li.equalsRange(Ni)&&tt.push(Ni);const Oi=new Ke.e(si.startLineNumber,1,si.endLineNumber,n.getLineMaxColumn(si.endLineNumber));Oi.containsRange(si)&&!Oi.equalsRange(Ni)&&li.containsRange(Oi)&&!li.equalsRange(Oi)&&tt.push(Oi)}tt.push(li)}return tt})})}vt.P0.registerCommand("_executeSelectionRangeProvider",function(le,...n){return Ll(this,void 0,void 0,function*(){const[a,u]=n;(0,Vi.p_)(Ci.o.isUri(a));const N=le.get(_e.p).selectionRangeProvider,x=yield le.get(Ls.S).createModelReference(a);try{return gd(N,x.object.textEditorModel,u,{selectLeadingAndTrailingWhitespace:!0},Di.T.None)}finally{x.dispose()}})});var vh=s(88088);class Du extends We.R6{constructor(){super({id:"editor.action.forceRetokenize",label:ye.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(n,a){if(!a.hasModel())return;const u=a.getModel();u.tokenization.resetTokenization();const N=new ze.G(!0);u.tokenization.forceTokenization(u.getLineCount()),N.stop(),console.log(`tokenization took ${N.elapsed()}`)}}(0,We.Qr)(Du);var Ch=s(64662),md=s(31446),ga=s(30168),Eu=s(90317),bc=s(4850),Iu=s(59069),pd=s(10553),xu=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Nu=function(le,n){return function(a,u){n(a,u,le)}};let Sc=class extends St.JT{constructor(n,a,u={},N){var x;super(),this._link=a,this._enabled=!0,this.el=(0,jt.R3)(n,(0,jt.$)("a.monaco-link",{tabIndex:(x=a.tabIndex)!==null&&x!==void 0?x:0,href:a.href,title:a.title},a.label)),this.el.setAttribute("role","button");const ee=this._register(new bc.Y(this.el,"click")),ue=this._register(new bc.Y(this.el,"keypress")),Pe=et.ju.chain(ue.event).map(tt=>new Iu.y(tt)).filter(tt=>tt.keyCode===3).event,Re=this._register(new bc.Y(this.el,pd.t.Tap)).event;this._register(pd.o.addTarget(this.el));const De=et.ju.any(ee.event,Pe,Re);this._register(De(tt=>{this.enabled&&(jt.zB.stop(tt,!0),u?.opener?u.opener(this._link.href):N.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(n){n?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=n}};Sc=xu([Nu(3,R.v4)],Sc),(0,_i.Ic)((le,n)=>{const a=le.getColor(ri.url);a&&n.addRule(`.monaco-link { color: ${a}; }`);const u=le.getColor(ri.sgC);u&&n.addRule(`.monaco-link:hover { color: ${u}; }`)});var _d=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},vd=function(le,n){return function(a,u){n(a,u,le)}};const Tu=26;let wc=class extends St.JT{constructor(n,a){super(),this._editor=n,this.instantiationService=a,this.banner=this._register(this.instantiationService.createInstance(yc))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(n){this.banner.show(Object.assign(Object.assign({},n),{onClose:()=>{var a;this.hide(),(a=n.onClose)===null||a===void 0||a.call(n)}})),this._editor.setBanner(this.banner.element,Tu)}};wc=_d([vd(1,Je.TG)],wc);let yc=class extends St.JT{constructor(n){super(),this.instantiationService=n,this.markdownRenderer=this.instantiationService.createInstance(de.$,{}),this.element=(0,jt.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(n){if(n.ariaLabel)return n.ariaLabel;if(typeof n.message=="string")return n.message}getBannerMessage(n){if(typeof n=="string"){const a=(0,jt.$)("span");return a.innerText=n,a}return this.markdownRenderer.render(n).element}clear(){(0,jt.PO)(this.element)}show(n){(0,jt.PO)(this.element);const a=this.getAriaLabel(n);a&&this.element.setAttribute("aria-label",a);const u=(0,jt.R3)(this.element,(0,jt.$)("div.icon-container"));u.setAttribute("aria-hidden","true"),n.icon&&u.appendChild((0,jt.$)(`div${_i.kS.asCSSSelector(n.icon)}`));const N=(0,jt.R3)(this.element,(0,jt.$)("div.message-container"));if(N.setAttribute("aria-hidden","true"),N.appendChild(this.getBannerMessage(n.message)),this.messageActionsContainer=(0,jt.R3)(this.element,(0,jt.$)("div.message-actions-container")),n.actions)for(const ee of n.actions)this._register(this.instantiationService.createInstance(Sc,this.messageActionsContainer,Object.assign(Object.assign({},ee),{tabIndex:-1}),{}));const x=(0,jt.R3)(this.element,(0,jt.$)("div.action-container"));this.actionBar=this._register(new Eu.o(x)),this.actionBar.push(this._register(new cs.aU("banner.close","Close Banner",_i.kS.asClassName(bl.s_),!0,()=>{typeof n.onClose=="function"&&n.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};yc=_d([vd(0,Je.TG)],yc);var Mu=s(22737),Lc=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},ma=function(le,n){return function(a,u){n(a,u,le)}},ks=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};const ku=(0,bl.q5)("extensions-warning-message",Wa.lA.warning,ye.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let pa=class extends St.JT{constructor(n,a,u,N){super(),this._editor=n,this._editorWorkerService=a,this._workspaceTrustService=u,this._highlighter=null,this._bannerClosed=!1,this._updateState=x=>{if(x&&x.hasMore){if(this._bannerClosed)return;const ee=Math.max(x.ambiguousCharacterCount,x.nonBasicAsciiCharacterCount,x.invisibleCharacterCount);let ue;if(x.nonBasicAsciiCharacterCount>=ee)ue={message:ye.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new va};else if(x.ambiguousCharacterCount>=ee)ue={message:ye.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Cr};else if(x.invisibleCharacterCount>=ee)ue={message:ye.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new _a};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:ue.message,icon:ku,actions:[{label:ue.command.shortLabel,href:`command:${ue.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(N.createInstance(wc,n)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=n.getOption(115),this._register(u.onDidChangeTrust(x=>{this._updateHighlighter()})),this._register(n.onDidChangeConfiguration(x=>{x.hasChanged(115)&&(this._options=n.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const n=Ru(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([n.nonBasicASCII,n.ambiguousCharacters,n.invisibleCharacters].every(u=>u===!1))return;const a={nonBasicASCII:n.nonBasicASCII,ambiguousCharacters:n.ambiguousCharacters,invisibleCharacters:n.invisibleCharacters,includeComments:n.includeComments,includeStrings:n.includeStrings,allowedCodePoints:Object.keys(n.allowedCharacters).map(u=>u.codePointAt(0)),allowedLocales:Object.keys(n.allowedLocales).map(u=>u==="_os"?new Intl.NumberFormat().resolvedOptions().locale:u==="_vscode"?jn.dK:u)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new Dc(this._editor,a,this._updateState,this._editorWorkerService):this._highlighter=new Au(this._editor,a,this._updateState)}getDecorationInfo(n){return this._highlighter?this._highlighter.getDecorationInfo(n):null}};pa.ID="editor.contrib.unicodeHighlighter",pa=Lc([ma(1,Io.p),ma(2,Mu.Y),ma(3,Je.TG)],pa);function Ru(le,n){return{nonBasicASCII:n.nonBasicASCII===Ri.Av?!le:n.nonBasicASCII,ambiguousCharacters:n.ambiguousCharacters,invisibleCharacters:n.invisibleCharacters,includeComments:n.includeComments===Ri.Av?!le:n.includeComments,includeStrings:n.includeStrings===Ri.Av?!le:n.includeStrings,allowedCharacters:n.allowedCharacters,allowedLocales:n.allowedLocales}}let Dc=class extends St.JT{constructor(n,a,u,N){super(),this._editor=n,this._options=a,this._updateState=u,this._editorWorkerService=N,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new ki.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const n=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(a=>{if(this._model.isDisposed()||this._model.getVersionId()!==n)return;this._updateState(a);const u=[];if(!a.hasMore)for(const N of a.ranges)u.push({range:N,options:El.instance.getDecorationFromOptions(this._options)});this._decorations.set(u)})}getDecorationInfo(n){if(!this._decorations.has(n))return null;const a=this._editor.getModel();if(!(0,ga.Fd)(a,n))return null;const u=a.getValueInRange(n.range);return{reason:Cd(u,this._options),inComment:(0,ga.$t)(a,n),inString:(0,ga.zg)(a,n)}}};Dc=Lc([ma(3,Io.p)],Dc);class Au extends St.JT{constructor(n,a,u){super(),this._editor=n,this._options=a,this._updateState=u,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new ki.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const n=this._editor.getVisibleRanges(),a=[],u={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const N of n){const x=md.a.computeUnicodeHighlights(this._model,this._options,N);for(const ee of x.ranges)u.ranges.push(ee);u.ambiguousCharacterCount+=u.ambiguousCharacterCount,u.invisibleCharacterCount+=u.invisibleCharacterCount,u.nonBasicAsciiCharacterCount+=u.nonBasicAsciiCharacterCount,u.hasMore=u.hasMore||x.hasMore}if(!u.hasMore)for(const N of u.ranges)a.push({range:N,options:El.instance.getDecorationFromOptions(this._options)});this._updateState(u),this._decorations.set(a)}getDecorationInfo(n){if(!this._decorations.has(n))return null;const a=this._editor.getModel(),u=a.getValueInRange(n.range);return(0,ga.Fd)(a,n)?{reason:Cd(u,this._options),inComment:(0,ga.$t)(a,n),inString:(0,ga.zg)(a,n)}:null}}let Ec=class{constructor(n,a,u){this._editor=n,this._languageService=a,this._openerService=u,this.hoverOrdinal=4}computeSync(n,a){if(!this._editor.hasModel()||n.type!==1)return[];const u=this._editor.getModel(),N=this._editor.getContribution(pa.ID);if(!N)return[];const x=[];let ee=300;for(const ue of a){const Pe=N.getDecorationInfo(ue);if(!Pe)continue;const De=u.getValueInRange(ue.range).codePointAt(0),tt=Os(De);let Vt;switch(Pe.reason.kind){case 0:Vt=ye.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",tt,Os(Pe.reason.confusableWith.codePointAt(0)));break;case 1:Vt=ye.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",tt);break;case 2:Vt=ye.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",tt);break}const si={codePoint:De,reason:Pe.reason,inComment:Pe.inComment,inString:Pe.inString},li=ye.NC("unicodeHighlight.adjustSettings","Adjust settings"),Ni=`command:${ja.ID}?${encodeURIComponent(JSON.stringify(si))}`,Oi=new pt.W5("",!0).appendMarkdown(Vt).appendText(" ").appendLink(Ni,li);x.push(new Ms.hU(this,ue.range,[Oi],ee++))}return x}renderHoverParts(n,a){return(0,Ms.c)(n,a,this._editor,this._languageService,this._openerService)}};Ec=Lc([ma(1,ko.O),ma(2,R.v4)],Ec);function Ua(le){return`U+${le.toString(16).padStart(4,"0")}`}function Os(le){let n=`\`${Ua(le)}\``;return Ct.vU.isInvisibleCharacter(le)||(n+=` "${`${Ou(le)}`}"`),n}function Ou(le){return le===96?"`` ` ``":"`"+String.fromCodePoint(le)+"`"}function Cd(le,n){return md.a.computeUnicodeHighlightReason(le,n)}class El{constructor(){this.map=new Map}getDecorationFromOptions(n){return this.getDecoration(!n.includeComments,!n.includeStrings)}getDecoration(n,a){const u=`${n}${a}`;let N=this.map.get(u);return N||(N=ci.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:n,hideInStringTokens:a}),this.map.set(u,N)),N}}El.instance=new El;class Pu extends We.R6{constructor(){super({id:Cr.ID,label:ye.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=ye.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(n,a,u){return ks(this,void 0,void 0,function*(){const N=n?.get(bi.Ui);N&&this.runAction(N)})}runAction(n){return ks(this,void 0,void 0,function*(){yield n.updateValue(Ri.qt.includeComments,!1,2)})}}class Fu extends We.R6{constructor(){super({id:Cr.ID,label:ye.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=ye.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(n,a,u){return ks(this,void 0,void 0,function*(){const N=n?.get(bi.Ui);N&&this.runAction(N)})}runAction(n){return ks(this,void 0,void 0,function*(){yield n.updateValue(Ri.qt.includeStrings,!1,2)})}}class Cr extends We.R6{constructor(){super({id:Cr.ID,label:ye.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=ye.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(n,a,u){return ks(this,void 0,void 0,function*(){const N=n?.get(bi.Ui);N&&this.runAction(N)})}runAction(n){return ks(this,void 0,void 0,function*(){yield n.updateValue(Ri.qt.ambiguousCharacters,!1,2)})}}Cr.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class _a extends We.R6{constructor(){super({id:_a.ID,label:ye.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=ye.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(n,a,u){return ks(this,void 0,void 0,function*(){const N=n?.get(bi.Ui);N&&this.runAction(N)})}runAction(n){return ks(this,void 0,void 0,function*(){yield n.updateValue(Ri.qt.invisibleCharacters,!1,2)})}}_a.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class va extends We.R6{constructor(){super({id:va.ID,label:ye.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=ye.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(n,a,u){return ks(this,void 0,void 0,function*(){const N=n?.get(bi.Ui);N&&this.runAction(N)})}runAction(n){return ks(this,void 0,void 0,function*(){yield n.updateValue(Ri.qt.nonBasicASCII,!1,2)})}}va.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class ja extends We.R6{constructor(){super({id:ja.ID,label:ye.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(n,a,u){return ks(this,void 0,void 0,function*(){const{codePoint:N,reason:x,inString:ee,inComment:ue}=u,Pe=String.fromCodePoint(N),Re=n.get(Ji.eJ),De=n.get(bi.Ui);function tt(li){return Ct.vU.isInvisibleCharacter(li)?ye.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",Ua(li)):ye.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${Ua(li)} "${Pe}"`)}const Vt=[];if(x.kind===0)for(const li of x.notAmbiguousInLocales)Vt.push({label:ye.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',li),run:()=>ks(this,void 0,void 0,function*(){Wu(De,[li])})});if(Vt.push({label:tt(N),run:()=>Bu(De,[N])}),ue){const li=new Pu;Vt.push({label:li.label,run:()=>ks(this,void 0,void 0,function*(){return li.runAction(De)})})}else if(ee){const li=new Fu;Vt.push({label:li.label,run:()=>ks(this,void 0,void 0,function*(){return li.runAction(De)})})}if(x.kind===0){const li=new Cr;Vt.push({label:li.label,run:()=>ks(this,void 0,void 0,function*(){return li.runAction(De)})})}else if(x.kind===1){const li=new _a;Vt.push({label:li.label,run:()=>ks(this,void 0,void 0,function*(){return li.runAction(De)})})}else if(x.kind===2){const li=new va;Vt.push({label:li.label,run:()=>ks(this,void 0,void 0,function*(){return li.runAction(De)})})}else Vu(x);const si=yield Re.pick(Vt,{title:ye.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});si&&(yield si.run())})}}ja.ID="editor.action.unicodeHighlight.showExcludeOptions";function Bu(le,n){return ks(this,void 0,void 0,function*(){const a=le.getValue(Ri.qt.allowedCharacters);let u;typeof a=="object"&&a?u=a:u={};for(const N of n)u[String.fromCodePoint(N)]=!0;yield le.updateValue(Ri.qt.allowedCharacters,u,2)})}function Wu(le,n){var a;return ks(this,void 0,void 0,function*(){const u=(a=le.inspect(Ri.qt.allowedLocales).user)===null||a===void 0?void 0:a.value;let N;typeof u=="object"&&u?N=Object.assign({},u):N={};for(const x of n)N[x]=!0;yield le.updateValue(Ri.qt.allowedLocales,N,2)})}function Vu(le){throw new Error(`Unexpected value: ${le}`)}(0,We.Qr)(Cr),(0,We.Qr)(_a),(0,We.Qr)(va),(0,We.Qr)(ja),(0,We._K)(pa.ID,pa),gn.Ae.register(Ec);var Ic=s(28820),Hu=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},ve=function(le,n){return function(a,u){n(a,u,le)}},t=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};const r="ignoreUnusualLineTerminators";function S(le,n,a){le.setModelProperty(n.uri,r,a)}function K(le,n){return le.getModelProperty(n.uri,r)}let J=class extends St.JT{constructor(n,a,u){super(),this._editor=n,this._dialogService=a,this._codeEditorService=u,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(N=>{N.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(N=>{N.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return t(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const n=this._editor.getModel();if(!n.mightContainUnusualLineTerminators()||K(this._codeEditorService,n)===!0||this._editor.getOption(83))return;if(this._config==="auto"){n.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:ye.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:ye.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:ye.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,Vo.EZ)(n.uri)),primaryButton:ye.NC("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:ye.NC("unusualLineTerminators.ignore","Ignore")})).confirmed){S(this._codeEditorService,n,!0);return}n.removeUnusualLineTerminators(this._editor.getSelections())})}};J.ID="editor.contrib.unusualLineTerminatorsDetector",J=Hu([ve(1,Ic.S),ve(2,Us.$)],J),(0,We._K)(J.ID,J);var fe=s(32670),be=s(51200),qe=s(68997),dt=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},yt=function(le,n){return function(a,u){n(a,u,le)}};let zt=class extends St.JT{constructor(n,a,u,N,x,ee){super(),this._modelService=a,this._themeService=u,this._configurationService=N,this._editor=n,this._provider=ee.documentRangeSemanticTokensProvider,this._debounceInformation=x.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new ki.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const ue=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{ue()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),ue()})),this._register(this._editor.onDidChangeModelContent(Pe=>{this._cancelAll(),ue()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),ue()})),this._register(this._configurationService.onDidChangeConfiguration(Pe=>{Pe.affectsConfiguration(be.e3)&&(this._cancelAll(),ue())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),ue()}))}_cancelAll(){for(const n of this._outstandingRequests)n.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(n){for(let a=0,u=this._outstandingRequests.length;a<u;a++)if(this._outstandingRequests[a]===n){this._outstandingRequests.splice(a,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const n=this._editor.getModel();if(n.tokenization.hasCompleteSemanticTokens())return;if(!(0,be.tw)(n,this._themeService,this._configurationService)){n.tokenization.hasSomeSemanticTokens()&&n.tokenization.setSemanticTokens(null,!1);return}if(!(0,fe.KO)(this._provider,n)){n.tokenization.hasSomeSemanticTokens()&&n.tokenization.setSemanticTokens(null,!1);return}const a=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(a.map(u=>this._requestRange(n,u)))}_requestRange(n,a){const u=n.getVersionId(),N=(0,ki.PG)(ee=>Promise.resolve((0,fe.OG)(this._provider,n,a,ee))),x=new ze.G(!1);return N.then(ee=>{if(this._debounceInformation.update(n,x.elapsed()),!ee||!ee.tokens||n.isDisposed()||n.getVersionId()!==u)return;const{provider:ue,tokens:Pe}=ee,Re=this._modelService.getSemanticTokensProviderStyling(ue);n.tokenization.setPartialSemanticTokens(a,(0,qe.h)(Pe,Re,n.getLanguageId()))}).then(()=>this._removeOutstandingRequest(N),()=>this._removeOutstandingRequest(N)),N}};zt.ID="editor.contrib.viewportSemanticTokens",zt=dt([yt(1,Wt.q),yt(2,_i.XE),yt(3,bi.Ui),yt(4,Zi.A),yt(5,_e.p)],zt),(0,We._K)(zt.ID,zt);var Ai=s(70943),Ki=s(55343),cn=s(92896),En=s(24929),Rn=s(39282);class $n extends We._l{constructor(n){super(n),this._inSelectionMode=n.inSelectionMode,this._wordNavigationType=n.wordNavigationType}runEditorCommand(n,a,u){if(!a.hasModel())return;const N=(0,En.u)(a.getOption(119)),x=a.getModel(),ue=a.getSelections().map(Pe=>{const Re=new qn.L(Pe.positionLineNumber,Pe.positionColumn),De=this._move(N,x,Re,this._wordNavigationType);return this._moveTo(Pe,De,this._inSelectionMode)});if(x.pushStackElement(),a._getViewModel().setCursorStates("moveWordCommand",3,ue.map(Pe=>Ki.Vi.fromModelSelection(Pe))),ue.length===1){const Pe=new qn.L(ue[0].positionLineNumber,ue[0].positionColumn);a.revealPosition(Pe,0)}}_moveTo(n,a,u){return u?new it.Y(n.selectionStartLineNumber,n.selectionStartColumn,a.lineNumber,a.column):new it.Y(a.lineNumber,a.column,a.lineNumber,a.column)}}class Hn extends $n{_move(n,a,u,N){return cn.w.moveWordLeft(n,a,u,N)}}class xn extends $n{_move(n,a,u,N){return cn.w.moveWordRight(n,a,u,N)}}class Un extends Hn{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class eo extends Hn{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class $r extends Hn{constructor(){var n;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:ft.Ao.and(pe.u.textInputFocus,(n=ft.Ao.and(Se.U,Rn.cv))===null||n===void 0?void 0:n.negate()),primary:2063,mac:{primary:527},weight:100}})}}class vs extends Hn{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class Ka extends Hn{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class es extends Hn{constructor(){var n;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:ft.Ao.and(pe.u.textInputFocus,(n=ft.Ao.and(Se.U,Rn.cv))===null||n===void 0?void 0:n.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class Pn extends Hn{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(n,a,u,N){return super._move((0,En.u)(Ri.BH.wordSeparators.defaultValue),a,u,N)}}class xs extends Hn{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(n,a,u,N){return super._move((0,En.u)(Ri.BH.wordSeparators.defaultValue),a,u,N)}}class Ca extends xn{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class ba extends xn{constructor(){var n;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:ft.Ao.and(pe.u.textInputFocus,(n=ft.Ao.and(Se.U,Rn.cv))===null||n===void 0?void 0:n.negate()),primary:2065,mac:{primary:529},weight:100}})}}class vf extends xn{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class Cf extends xn{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class bf extends xn{constructor(){var n;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:ft.Ao.and(pe.u.textInputFocus,(n=ft.Ao.and(Se.U,Rn.cv))===null||n===void 0?void 0:n.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class Sf extends xn{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class wf extends xn{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(n,a,u,N){return super._move((0,En.u)(Ri.BH.wordSeparators.defaultValue),a,u,N)}}class yf extends xn{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(n,a,u,N){return super._move((0,En.u)(Ri.BH.wordSeparators.defaultValue),a,u,N)}}class bd extends We._l{constructor(n){super(n),this._whitespaceHeuristics=n.whitespaceHeuristics,this._wordNavigationType=n.wordNavigationType}runEditorCommand(n,a,u){const N=n.get(is.c_);if(!a.hasModel())return;const x=(0,En.u)(a.getOption(119)),ee=a.getModel(),ue=a.getSelections(),Pe=a.getOption(5),Re=a.getOption(8),De=N.getLanguageConfiguration(ee.getLanguageId()).getAutoClosingPairs(),tt=a._getViewModel(),Vt=ue.map(si=>{const li=this._delete({wordSeparators:x,model:ee,selection:si,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:a.getOption(6),autoClosingBrackets:Pe,autoClosingQuotes:Re,autoClosingPairs:De,autoClosedCharacters:tt.getCursorAutoClosedCharacters()},this._wordNavigationType);return new wt.T4(li,"")});a.pushUndoStop(),a.executeCommands(this.id,Vt),a.pushUndoStop()}}class zu extends bd{_delete(n,a){const u=cn.w.deleteWordLeft(n,a);return u||new Ke.e(1,1,1,1)}}class Uu extends bd{_delete(n,a){const u=cn.w.deleteWordRight(n,a);if(u)return u;const N=n.model.getLineCount(),x=n.model.getLineMaxColumn(N);return new Ke.e(N,x,N,x)}}class Lf extends zu{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:pe.u.writable})}}class Df extends zu{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:pe.u.writable})}}class Ef extends zu{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class If extends Uu{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:pe.u.writable})}}class xf extends Uu{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:pe.u.writable})}}class Nf extends Uu{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class Tf extends We.R6{constructor(){super({id:"deleteInsideWord",precondition:pe.u.writable,label:ye.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(n,a,u){if(!a.hasModel())return;const N=(0,En.u)(a.getOption(119)),x=a.getModel(),ue=a.getSelections().map(Pe=>{const Re=cn.w.deleteInsideWord(N,x,Pe);return new wt.T4(Re,"")});a.pushUndoStop(),a.executeCommands(this.id,ue),a.pushUndoStop()}}(0,We.fK)(new Un),(0,We.fK)(new eo),(0,We.fK)(new $r),(0,We.fK)(new vs),(0,We.fK)(new Ka),(0,We.fK)(new es),(0,We.fK)(new Ca),(0,We.fK)(new ba),(0,We.fK)(new vf),(0,We.fK)(new Cf),(0,We.fK)(new bf),(0,We.fK)(new Sf),(0,We.fK)(new Pn),(0,We.fK)(new xs),(0,We.fK)(new wf),(0,We.fK)(new yf),(0,We.fK)(new Lf),(0,We.fK)(new Df),(0,We.fK)(new Ef),(0,We.fK)(new If),(0,We.fK)(new xf),(0,We.fK)(new Nf),(0,We.Qr)(Tf);class Mf extends bd{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(n,a){const u=cn.L.deleteWordPartLeft(n);return u||new Ke.e(1,1,1,1)}}class kf extends bd{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:pe.u.writable,kbOpts:{kbExpr:pe.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(n,a){const u=cn.L.deleteWordPartRight(n);if(u)return u;const N=n.model.getLineCount(),x=n.model.getLineMaxColumn(N);return new Ke.e(N,x,N,x)}}class bh extends $n{_move(n,a,u,N){return cn.L.moveWordPartLeft(n,a,u)}}class Rf extends bh{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:pe.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}vt.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class Af extends bh{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:pe.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}vt.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class Sh extends $n{_move(n,a,u,N){return cn.L.moveWordPartRight(n,a,u)}}class Of extends Sh{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:pe.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class Pf extends Sh{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:pe.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,We.fK)(new Mf),(0,We.fK)(new kf),(0,We.fK)(new Rf),(0,We.fK)(new Af),(0,We.fK)(new Of),(0,We.fK)(new Pf);class ju extends St.JT{constructor(n){super(),this.editor=n,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const n=dc.O.get(this.editor);n&&this.editor.hasModel()&&(this.editor.isSimpleWidget?n.showMessage(ye.NC("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):n.showMessage(ye.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}ju.ID="editor.contrib.readOnlyMessageController",(0,We._K)(ju.ID,ju);var br=s(20913),ag=s(15375),lg=s(46005);class Ku extends St.JT{constructor(n){super(),this.editor=n,this.widget=null,jn.gn&&(this._register(n.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const n=!this.editor.getOption(83);!this.widget&&n?this.widget=new Sd(this.editor):this.widget&&!n&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}Ku.ID="editor.contrib.iPadShowKeyboard";class Sd extends St.JT{constructor(n){super(),this.editor=n,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(jt.nm(this._domNode,"touchstart",a=>{this.editor.focus()})),this._register(jt.nm(this._domNode,"focus",a=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return Sd.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}Sd.ID="editor.contrib.ShowKeyboardWidget",(0,We._K)(Ku.ID,Ku);var xc=s(45797),$u=s(276),wh=s(44156),Ff=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},yh=function(le,n){return function(a,u){n(a,u,le)}};let Il=class mf extends St.JT{constructor(n,a,u){super(),this._editor=n,this._languageService=u,this._widget=null,this._register(this._editor.onDidChangeModel(N=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(N=>this.stop())),this._register(ns.RW.onDidChange(N=>this.stop())),this._register(this._editor.onKeyUp(N=>N.keyCode===9&&this.stop()))}static get(n){return n.getContribution(mf.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new wd(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Il.ID="editor.contrib.inspectTokens",Il=Ff([yh(1,wh.Z),yh(2,ko.O)],Il);class Bf extends We.R6{constructor(){super({id:"editor.action.inspectTokens",label:br.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(n,a){const u=Il.get(a);u&&u.launch()}}function Wf(le){let n="";for(let a=0,u=le.length;a<u;a++){const N=le.charCodeAt(a);switch(N){case 9:n+="\u2192";break;case 32:n+="\xB7";break;default:n+=String.fromCharCode(N)}}return n}function Vf(le,n){const a=ns.RW.get(n);if(a)return a;const u=le.encodeLanguageId(n);return{getInitialState:()=>$u.TJ,tokenize:(N,x,ee)=>(0,$u.Ri)(n,ee),tokenizeEncoded:(N,x,ee)=>(0,$u.Dy)(u,ee)}}class wd extends St.JT{constructor(n,a){super(),this.allowEditorOverflow=!0,this._editor=n,this._languageService=a,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=Vf(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(u=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return wd._ID}_compute(n){const a=this._getTokensAtLine(n.lineNumber);let u=0;for(let Pe=a.tokens1.length-1;Pe>=0;Pe--){const Re=a.tokens1[Pe];if(n.column-1>=Re.offset){u=Pe;break}}let N=0;for(let Pe=a.tokens2.length>>>1;Pe>=0;Pe--)if(n.column-1>=a.tokens2[Pe<<1]){N=Pe;break}const x=this._model.getLineContent(n.lineNumber);let ee="";if(u<a.tokens1.length){const Pe=a.tokens1[u].offset,Re=u+1<a.tokens1.length?a.tokens1[u+1].offset:x.length;ee=x.substring(Pe,Re)}(0,jt.mc)(this._domNode,(0,jt.$)("h2.tm-token",void 0,Wf(ee),(0,jt.$)("span.tm-token-length",void 0,`${ee.length} ${ee.length===1?"char":"chars"}`))),(0,jt.R3)(this._domNode,(0,jt.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const ue=(N<<1)+1<a.tokens2.length?this._decodeMetadata(a.tokens2[(N<<1)+1]):null;(0,jt.R3)(this._domNode,(0,jt.$)("table.tm-metadata-table",void 0,(0,jt.$)("tbody",void 0,(0,jt.$)("tr",void 0,(0,jt.$)("td.tm-metadata-key",void 0,"language"),(0,jt.$)("td.tm-metadata-value",void 0,`${ue?ue.languageId:"-?-"}`)),(0,jt.$)("tr",void 0,(0,jt.$)("td.tm-metadata-key",void 0,"token type"),(0,jt.$)("td.tm-metadata-value",void 0,`${ue?this._tokenTypeToString(ue.tokenType):"-?-"}`)),(0,jt.$)("tr",void 0,(0,jt.$)("td.tm-metadata-key",void 0,"font style"),(0,jt.$)("td.tm-metadata-value",void 0,`${ue?this._fontStyleToString(ue.fontStyle):"-?-"}`)),(0,jt.$)("tr",void 0,(0,jt.$)("td.tm-metadata-key",void 0,"foreground"),(0,jt.$)("td.tm-metadata-value",void 0,`${ue?pi.Il.Format.CSS.formatHex(ue.foreground):"-?-"}`)),(0,jt.$)("tr",void 0,(0,jt.$)("td.tm-metadata-key",void 0,"background"),(0,jt.$)("td.tm-metadata-value",void 0,`${ue?pi.Il.Format.CSS.formatHex(ue.background):"-?-"}`))))),(0,jt.R3)(this._domNode,(0,jt.$)("hr.tokens-inspect-separator")),u<a.tokens1.length&&(0,jt.R3)(this._domNode,(0,jt.$)("span.tm-token-type",void 0,a.tokens1[u].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(n){const a=ns.RW.getColorMap(),u=xc.N.getLanguageId(n),N=xc.N.getTokenType(n),x=xc.N.getFontStyle(n),ee=xc.N.getForeground(n),ue=xc.N.getBackground(n);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(u),tokenType:N,fontStyle:x,foreground:a[ee],background:a[ue]}}_tokenTypeToString(n){switch(n){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(n){let a="";return n&1&&(a+="italic "),n&2&&(a+="bold "),n&4&&(a+="underline "),n&8&&(a+="strikethrough "),a.length===0&&(a="---"),a}_getTokensAtLine(n){const a=this._getStateBeforeLine(n),u=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,a),N=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(n),!0,a);return{startState:a,tokens1:u.tokens,tokens2:N.tokens,endState:u.endState}}_getStateBeforeLine(n){let a=this._tokenizationSupport.getInitialState();for(let u=1;u<n;u++)a=this._tokenizationSupport.tokenize(this._model.getLineContent(u),!0,a).endState;return a}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}wd._ID="editor.contrib.inspectTokensWidget",(0,We._K)(Il.ID,Il),(0,We.Qr)(Bf),(0,_i.Ic)((le,n)=>{const a=le.getColor(ri.CNo);if(a){const x=(0,Va.c3)(le.type)?2:1;n.addRule(`.monaco-editor .tokens-inspect-widget { border: ${x}px solid ${a}; }`),n.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${a}; }`)}const u=le.getColor(ri.yJx);u&&n.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${u}; }`);const N=le.getColor(ri.Sbf);N&&n.addRule(`.monaco-editor .tokens-inspect-widget { color: ${N}; }`)});var Nc=s(90725),Hf=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Lh=function(le,n){return function(a,u){n(a,u,le)}};let yd=class Ad{constructor(n,a){this.quickInputService=n,this.keybindingService=a,this.registry=mi.B.as(Nc.IP.Quickaccess)}provide(n){const a=new St.SL;return a.add(n.onDidAccept(()=>{const[u]=n.selectedItems;u&&this.quickInputService.quickAccess.show(u.prefix,{preserveValue:!0})})),a.add(n.onDidChangeValue(u=>{const N=this.registry.getQuickAccessProvider(u.substr(Ad.PREFIX.length));N&&N.prefix&&N.prefix!==Ad.PREFIX&&this.quickInputService.quickAccess.show(N.prefix,{preserveValue:!0})})),n.items=this.getQuickAccessProviders(),a}getQuickAccessProviders(){const n=[];for(const a of this.registry.getQuickAccessProviders().sort((u,N)=>u.prefix.localeCompare(N.prefix)))if(a.prefix!==Ad.PREFIX)for(const u of a.helpEntries){const N=u.prefix||a.prefix,x=N||"\u2026";n.push({prefix:N,label:x,keybinding:u.commandId?this.keybindingService.lookupKeybinding(u.commandId):void 0,ariaLabel:(0,ye.NC)("helpPickAriaLabel","{0}, {1}",x,u.description),description:u.description})}return n}};yd.PREFIX="?",yd=Hf([Lh(0,Ji.eJ),Lh(1,yo.d)],yd),mi.B.as(Nc.IP.Quickaccess).registerQuickAccessProvider({ctor:yd,prefix:"",helpEntries:[{description:br.ld.helpQuickAccessActionLabel}]});var Gu=s(65520);class Dh{constructor(n){this.options=n,this.rangeHighlightDecorationId=void 0}provide(n,a){var u;const N=new St.SL;n.canAcceptInBackground=!!(!((u=this.options)===null||u===void 0)&&u.canAcceptInBackground),n.matchOnLabel=n.matchOnDescription=n.matchOnDetail=n.sortByLabel=!1;const x=N.add(new St.XK);return x.value=this.doProvide(n,a),N.add(this.onDidActiveTextEditorControlChange(()=>{x.value=void 0,x.value=this.doProvide(n,a)})),N}doProvide(n,a){const u=new St.SL,N=this.activeTextEditorControl;if(N&&this.canProvideWithTextEditor(N)){const x={editor:N},ee=(0,Gu.Pi)(N);if(ee){let ue=(0,Vi.f6)(N.saveViewState());u.add(ee.onDidChangeCursorPosition(()=>{ue=(0,Vi.f6)(N.saveViewState())})),x.restoreViewState=()=>{ue&&N===this.activeTextEditorControl&&N.restoreViewState(ue)},u.add((0,he.I)(a.onCancellationRequested)(()=>{var Pe;return(Pe=x.restoreViewState)===null||Pe===void 0?void 0:Pe.call(x)}))}u.add((0,St.OF)(()=>this.clearDecorations(N))),u.add(this.provideWithTextEditor(x,n,a))}else u.add(this.provideWithoutTextEditor(n,a));return u}canProvideWithTextEditor(n){return!0}gotoLocation({editor:n},a){n.setSelection(a.range),n.revealRangeInCenter(a.range,0),a.preserveFocus||n.focus()}getModel(n){var a;return(0,Gu.QI)(n)?(a=n.getModel())===null||a===void 0?void 0:a.modified:n.getModel()}addDecorations(n,a){n.changeDecorations(u=>{const N=[];this.rangeHighlightDecorationId&&(N.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),N.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const x=[{range:a,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:a,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,_i.EN)(ds.m9),position:go.sh.Full}}}],[ee,ue]=u.deltaDecorations(N,x);this.rangeHighlightDecorationId={rangeHighlightId:ee,overviewRulerDecorationId:ue}})}clearDecorations(n){const a=this.rangeHighlightDecorationId;a&&(n.changeDecorations(u=>{u.deltaDecorations([a.overviewRulerDecorationId,a.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class Ld extends Dh{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(n){const a=(0,ye.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return n.items=[{label:a}],n.ariaLabel=a,St.JT.None}provideWithTextEditor(n,a,u){const N=n.editor,x=new St.SL;x.add(a.onDidAccept(Pe=>{const[Re]=a.selectedItems;if(Re){if(!this.isValidLineNumber(N,Re.lineNumber))return;this.gotoLocation(n,{range:this.toRange(Re.lineNumber,Re.column),keyMods:a.keyMods,preserveFocus:Pe.inBackground}),Pe.inBackground||a.hide()}}));const ee=()=>{const Pe=this.parsePosition(N,a.value.trim().substr(Ld.PREFIX.length)),Re=this.getPickLabel(N,Pe.lineNumber,Pe.column);if(a.items=[{lineNumber:Pe.lineNumber,column:Pe.column,label:Re}],a.ariaLabel=Re,!this.isValidLineNumber(N,Pe.lineNumber)){this.clearDecorations(N);return}const De=this.toRange(Pe.lineNumber,Pe.column);N.revealRangeInCenter(De,0),this.addDecorations(N,De)};ee(),x.add(a.onDidChangeValue(()=>ee()));const ue=(0,Gu.Pi)(N);return ue&&ue.getOptions().get(62).renderType===2&&(ue.updateOptions({lineNumbers:"on"}),x.add((0,St.OF)(()=>ue.updateOptions({lineNumbers:"relative"})))),x}toRange(n=1,a=1){return{startLineNumber:n,startColumn:a,endLineNumber:n,endColumn:a}}parsePosition(n,a){const u=a.split(/,|:|#/).map(x=>parseInt(x,10)).filter(x=>!isNaN(x)),N=this.lineCount(n)+1;return{lineNumber:u[0]>0?u[0]:N+u[0],column:u[1]}}getPickLabel(n,a,u){if(this.isValidLineNumber(n,a))return this.isValidColumn(n,a,u)?(0,ye.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",a,u):(0,ye.NC)("gotoLineLabel","Go to line {0}.",a);const N=n.getPosition()||{lineNumber:1,column:1},x=this.lineCount(n);return x>1?(0,ye.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",N.lineNumber,N.column,x):(0,ye.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",N.lineNumber,N.column)}isValidLineNumber(n,a){return!a||typeof a!="number"?!1:a>0&&a<=this.lineCount(n)}isValidColumn(n,a,u){if(!u||typeof u!="number")return!1;const N=this.getModel(n);if(!N)return!1;const x={lineNumber:a,column:u};return N.validatePosition(x).equals(x)}lineCount(n){var a,u;return(u=(a=this.getModel(n))===null||a===void 0?void 0:a.getLineCount())!==null&&u!==void 0?u:0}}Ld.PREFIX=":";var zf=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Uf=function(le,n){return function(a,u){n(a,u,le)}};let Tc=class extends Ld{constructor(n){super(),this.editorService=n,this.onDidActiveTextEditorControlChange=et.ju.None}get activeTextEditorControl(){return(0,Vi.f6)(this.editorService.getFocusedCodeEditor())}};Tc=zf([Uf(0,Us.$)],Tc);class Mc extends We.R6{constructor(){super({id:Mc.ID,label:br.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:pe.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(n){n.get(Ji.eJ).quickAccess.show(Tc.PREFIX)}}Mc.ID="editor.action.gotoLine",(0,We.Qr)(Mc),mi.B.as(Nc.IP.Quickaccess).registerQuickAccessProvider({ctor:Tc,prefix:Tc.PREFIX,helpEntries:[{description:br.qq.gotoLineActionLabel,commandId:Mc.ID}]});var cg=s(71713),Qu=s(55336);const Eh=[void 0,[]];function Zu(le,n,a=0,u=0){const N=n;return N.values&&N.values.length>1?jf(le,N.values,a,u):Ih(le,n,a,u)}function jf(le,n,a,u){let N=0;const x=[];for(const ee of n){const[ue,Pe]=Ih(le,ee,a,u);if(typeof ue!="number")return Eh;N+=ue,x.push(...Pe)}return[N,Kf(x)]}function Ih(le,n,a,u){const N=(0,xo.EW)(n.original,n.originalLowercase,a,le,le.toLowerCase(),u,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return N?[N[0],(0,xo.mB)(N)]:Eh}const dg=Object.freeze({score:0});function Kf(le){const n=le.sort((N,x)=>N.start-x.start),a=[];let u;for(const N of n)!u||!$f(u,N)?(u=N,a.push(N)):(u.start=Math.min(u.start,N.start),u.end=Math.max(u.end,N.end));return a}function $f(le,n){return!(le.end<n.start||n.end<le.start)}function xh(le){return le.startsWith('"')&&le.endsWith('"')}const Nh=" ";function Yu(le){typeof le!="string"&&(le="");const n=le.toLowerCase(),{pathNormalized:a,normalized:u,normalizedLowercase:N}=Th(le),x=a.indexOf(Qu.ir)>=0,ee=xh(le);let ue;const Pe=le.split(Nh);if(Pe.length>1)for(const Re of Pe){const De=xh(Re),{pathNormalized:tt,normalized:Vt,normalizedLowercase:si}=Th(Re);Vt&&(ue||(ue=[]),ue.push({original:Re,originalLowercase:Re.toLowerCase(),pathNormalized:tt,normalized:Vt,normalizedLowercase:si,expectContiguousMatch:De}))}return{original:le,originalLowercase:n,pathNormalized:a,normalized:u,normalizedLowercase:N,values:ue,containsPathSeparator:x,expectContiguousMatch:ee}}function Th(le){let n;jn.ED?n=le.replace(/\//g,Qu.ir):n=le.replace(/\\/g,Qu.ir);const a=(0,Ct.R1)(n).replace(/\s|"/g,"");return{pathNormalized:n,normalized:a,normalizedLowercase:a.toLowerCase()}}function Mh(le){return Array.isArray(le)?Yu(le.map(n=>n.original).join(Nh)):Yu(le.original)}var Gf=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},kh=function(le,n){return function(a,u){n(a,u,le)}},kc=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};let Bo=class _h extends Dh{constructor(n,a,u=Object.create(null)){super(u),this._languageFeaturesService=n,this._outlineModelService=a,this.options=u,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(n){return this.provideLabelPick(n,(0,ye.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),St.JT.None}provideWithTextEditor(n,a,u){const N=n.editor,x=this.getModel(N);return x?this._languageFeaturesService.documentSymbolProvider.has(x)?this.doProvideWithEditorSymbols(n,x,a,u):this.doProvideWithoutEditorSymbols(n,x,a,u):St.JT.None}doProvideWithoutEditorSymbols(n,a,u,N){const x=new St.SL;return this.provideLabelPick(u,(0,ye.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),kc(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(a,x))||N.isCancellationRequested||x.add(this.doProvideWithEditorSymbols(n,a,u,N))}),x}provideLabelPick(n,a){n.items=[{label:a,index:0,kind:14}],n.ariaLabel=a}waitForLanguageSymbolRegistry(n,a){return kc(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(n))return!0;const u=new ki.CR,N=a.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(n)&&(N.dispose(),u.complete(!0))}));return a.add((0,St.OF)(()=>u.complete(!1))),u.p})}doProvideWithEditorSymbols(n,a,u,N){var x;const ee=n.editor,ue=new St.SL;ue.add(u.onDidAccept(Vt=>{const[si]=u.selectedItems;si&&si.range&&(this.gotoLocation(n,{range:si.range.selection,keyMods:u.keyMods,preserveFocus:Vt.inBackground}),Vt.inBackground||u.hide())})),ue.add(u.onDidTriggerItemButton(({item:Vt})=>{Vt&&Vt.range&&(this.gotoLocation(n,{range:Vt.range.selection,keyMods:u.keyMods,forceSideBySide:!0}),u.hide())}));const Pe=this.getDocumentSymbols(a,N);let Re;const De=Vt=>kc(this,void 0,void 0,function*(){Re?.dispose(!0),u.busy=!1,Re=new Di.A(N),u.busy=!0;try{const si=Yu(u.value.substr(_h.PREFIX.length).trim()),li=yield this.doGetSymbolPicks(Pe,si,void 0,Re.token);if(N.isCancellationRequested)return;if(li.length>0){if(u.items=li,Vt&&si.original.length===0){const Ni=(0,k.dF)(li,Oi=>!!(Oi.type!=="separator"&&Oi.range&&Ke.e.containsPosition(Oi.range.decoration,Vt)));Ni&&(u.activeItems=[Ni])}}else si.original.length>0?this.provideLabelPick(u,(0,ye.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(u,(0,ye.NC)("noSymbolResults","No editor symbols"))}finally{N.isCancellationRequested||(u.busy=!1)}});ue.add(u.onDidChangeValue(()=>De(void 0))),De((x=ee.getSelection())===null||x===void 0?void 0:x.getPosition());let tt=2;return ue.add(u.onDidChangeActive(()=>{const[Vt]=u.activeItems;if(Vt&&Vt.range){if(tt-- >0)return;ee.revealRangeInCenter(Vt.range.selection,0),this.addDecorations(ee,Vt.range.decoration)}})),ue}doGetSymbolPicks(n,a,u,N){return kc(this,void 0,void 0,function*(){const x=yield n;if(N.isCancellationRequested)return[];const ee=a.original.indexOf(_h.SCOPE_PREFIX)===0,ue=ee?1:0;let Pe,Re;a.values&&a.values.length>1?(Pe=Mh(a.values[0]),Re=Mh(a.values.slice(1))):Pe=a;const De=[];for(let si=0;si<x.length;si++){const li=x[si],Ni=(0,Ct.fy)(li.name),Oi=`$(${ns.uZ.toIcon(li.kind).id}) ${Ni}`,dn=Oi.length-Ni.length;let kn=li.containerName;u?.extraContainerLabel&&(kn?kn=`${u.extraContainerLabel} \u2022 ${kn}`:kn=u.extraContainerLabel);let Xn,fs,Ds,wo;if(a.original.length>ue){let Sa=!1;if(Pe!==a&&([Xn,fs]=Zu(Oi,Object.assign(Object.assign({},a),{values:void 0}),ue,dn),typeof Xn=="number"&&(Sa=!0)),typeof Xn!="number"&&([Xn,fs]=Zu(Oi,Pe,ue,dn),typeof Xn!="number"))continue;if(!Sa&&Re){if(kn&&Re.original.length>0&&([Ds,wo]=Zu(kn,Re)),typeof Ds!="number")continue;typeof Xn=="number"&&(Xn+=Ds)}}const Ps=li.tags&&li.tags.indexOf(1)>=0;De.push({index:si,kind:li.kind,score:Xn,label:Oi,ariaLabel:Ni,description:kn,highlights:Ps?void 0:{label:fs,description:wo},range:{selection:Ke.e.collapseToStart(li.selectionRange),decoration:li.range},strikethrough:Ps,buttons:(()=>{var Sa,Ml;const Gr=!((Sa=this.options)===null||Sa===void 0)&&Sa.openSideBySideDirection?(Ml=this.options)===null||Ml===void 0?void 0:Ml.openSideBySideDirection():void 0;if(Gr)return[{iconClass:Gr==="right"?Wa.lA.splitHorizontal.classNames:Wa.lA.splitVertical.classNames,tooltip:Gr==="right"?(0,ye.NC)("openToSide","Open to the Side"):(0,ye.NC)("openToBottom","Open to the Bottom")}]})()})}const tt=De.sort((si,li)=>ee?this.compareByKindAndScore(si,li):this.compareByScore(si,li));let Vt=[];if(ee){let Oi=function(){li&&typeof si=="number"&&Ni>0&&(li.label=(0,Ct.WU)(Ju[si]||Xu,Ni))},si,li,Ni=0;for(const dn of tt)si!==dn.kind?(Oi(),si=dn.kind,Ni=1,li={type:"separator"},Vt.push(li)):Ni++,Vt.push(dn);Oi()}else tt.length>0&&(Vt=[{label:(0,ye.NC)("symbols","symbols ({0})",De.length),type:"separator"},...tt]);return Vt})}compareByScore(n,a){if(typeof n.score!="number"&&typeof a.score=="number")return 1;if(typeof n.score=="number"&&typeof a.score!="number")return-1;if(typeof n.score=="number"&&typeof a.score=="number"){if(n.score>a.score)return-1;if(n.score<a.score)return 1}return n.index<a.index?-1:n.index>a.index?1:0}compareByKindAndScore(n,a){const u=Ju[n.kind]||Xu,N=Ju[a.kind]||Xu,x=u.localeCompare(N);return x===0?this.compareByScore(n,a):x}getDocumentSymbols(n,a){return kc(this,void 0,void 0,function*(){const u=yield this._outlineModelService.getOrCreate(n,a);return a.isCancellationRequested?[]:u.asListOfDocumentSymbols()})}};Bo.PREFIX="@",Bo.SCOPE_PREFIX=":",Bo.PREFIX_BY_CATEGORY=`${Bo.PREFIX}${Bo.SCOPE_PREFIX}`,Bo=Gf([kh(0,_e.p),kh(1,Is)],Bo);const Xu=(0,ye.NC)("property","properties ({0})"),Ju={5:(0,ye.NC)("method","methods ({0})"),11:(0,ye.NC)("function","functions ({0})"),8:(0,ye.NC)("_constructor","constructors ({0})"),12:(0,ye.NC)("variable","variables ({0})"),4:(0,ye.NC)("class","classes ({0})"),22:(0,ye.NC)("struct","structs ({0})"),23:(0,ye.NC)("event","events ({0})"),24:(0,ye.NC)("operator","operators ({0})"),10:(0,ye.NC)("interface","interfaces ({0})"),2:(0,ye.NC)("namespace","namespaces ({0})"),3:(0,ye.NC)("package","packages ({0})"),25:(0,ye.NC)("typeParameter","type parameters ({0})"),1:(0,ye.NC)("modules","modules ({0})"),6:(0,ye.NC)("property","properties ({0})"),9:(0,ye.NC)("enum","enumerations ({0})"),21:(0,ye.NC)("enumMember","enumeration members ({0})"),14:(0,ye.NC)("string","strings ({0})"),0:(0,ye.NC)("file","files ({0})"),17:(0,ye.NC)("array","arrays ({0})"),15:(0,ye.NC)("number","numbers ({0})"),16:(0,ye.NC)("boolean","booleans ({0})"),18:(0,ye.NC)("object","objects ({0})"),19:(0,ye.NC)("key","keys ({0})"),7:(0,ye.NC)("field","fields ({0})"),13:(0,ye.NC)("constant","constants ({0})")};var Qf=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},qu=function(le,n){return function(a,u){n(a,u,le)}};let eh=class extends Bo{constructor(n,a,u){super(a,u),this.editorService=n,this.onDidActiveTextEditorControlChange=et.ju.None}get activeTextEditorControl(){return(0,Vi.f6)(this.editorService.getFocusedCodeEditor())}};eh=Qf([qu(0,Us.$),qu(1,_e.p),qu(2,Is)],eh);class Rc extends We.R6{constructor(){super({id:Rc.ID,label:br.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:pe.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:pe.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(n){n.get(Ji.eJ).quickAccess.show(Bo.PREFIX)}}Rc.ID="editor.action.quickOutline",(0,We.Qr)(Rc),mi.B.as(Nc.IP.Quickaccess).registerQuickAccessProvider({ctor:eh,prefix:Bo.PREFIX,helpEntries:[{description:br.aq.quickOutlineActionLabel,prefix:Bo.PREFIX,commandId:Rc.ID},{description:br.aq.quickOutlineByCategoryActionLabel,prefix:Bo.PREFIX_BY_CATEGORY}]});var Zf=s(21212);function th(le,n){return n&&(le.stack||le.stacktrace)?ye.NC("stackTrace.format","{0}: {1}",Ah(le),Rh(le.stack)||Rh(le.stacktrace)):Ah(le)}function Rh(le){return Array.isArray(le)?le.join(`
`):le}function Ah(le){return typeof le.code=="string"&&typeof le.errno=="number"&&typeof le.syscall=="string"?ye.NC("nodeExceptionMessage","A system error occurred ({0})",le.message):le.message||ye.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function Oh(le=null,n=!1){if(!le)return ye.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(le)){const a=k.kX(le),u=Oh(a[0],n);return a.length>1?ye.NC("error.moreErrors","{0} ({1} errors in total)",u,a.length):u}if(Vi.HD(le))return le;if(le.detail){const a=le.detail;if(a.error)return th(a.error,n);if(a.exception)return th(a.exception,n)}return le.stack?th(le,n):le.message?le.message:ye.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var Yf=s(14603),Dd=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})},xl;(function(le){le[le.NO_ACTION=0]="NO_ACTION",le[le.CLOSE_PICKER=1]="CLOSE_PICKER",le[le.REFRESH_PICKER=2]="REFRESH_PICKER",le[le.REMOVE_ITEM=3]="REMOVE_ITEM"})(xl||(xl={}));function ih(le){const n=le;return Array.isArray(n.items)}function Xf(le){const n=le;return!!n.picks&&n.additionalPicks instanceof Promise}class Ed extends St.JT{constructor(n,a){super(),this.prefix=n,this.options=a}provide(n,a){var u;const N=new St.SL;n.canAcceptInBackground=!!(!((u=this.options)===null||u===void 0)&&u.canAcceptInBackground),n.matchOnLabel=n.matchOnDescription=n.matchOnDetail=n.sortByLabel=!1;let x;const ee=N.add(new St.XK),ue=()=>Dd(this,void 0,void 0,function*(){const Pe=ee.value=new St.SL;x?.dispose(!0),n.busy=!1,x=new Di.A(a);const Re=x.token,De=n.value.substr(this.prefix.length).trim(),tt=this._getPicks(De,Pe,Re),Vt=(si,li)=>{var Ni;let Oi,dn;if(ih(si)?(Oi=si.items,dn=si.active):Oi=si,Oi.length===0){if(li)return!1;De.length>0&&(!((Ni=this.options)===null||Ni===void 0)&&Ni.noResultsPick)&&(Oi=[this.options.noResultsPick])}return n.items=Oi,dn&&(n.activeItems=[dn]),!0};if(tt!==null)if(Xf(tt)){let si=!1,li=!1;yield Promise.all([Dd(this,void 0,void 0,function*(){yield(0,ki.Vs)(Ed.FAST_PICKS_RACE_DELAY),!Re.isCancellationRequested&&(li||(si=Vt(tt.picks,!0)))}),Dd(this,void 0,void 0,function*(){n.busy=!0;try{const Ni=yield tt.additionalPicks;if(Re.isCancellationRequested)return;let Oi,dn;ih(tt.picks)?(Oi=tt.picks.items,dn=tt.picks.active):Oi=tt.picks;let kn,Xn;if(ih(Ni)?(kn=Ni.items,Xn=Ni.active):kn=Ni,kn.length>0||!si){let fs;if(!dn&&!Xn){const Ds=n.activeItems[0];Ds&&Oi.indexOf(Ds)!==-1&&(fs=Ds)}Vt({items:[...Oi,...kn],active:dn||Xn||fs})}}finally{Re.isCancellationRequested||(n.busy=!1),li=!0}})])}else if(!(tt instanceof Promise))Vt(tt);else{n.busy=!0;try{const si=yield tt;if(Re.isCancellationRequested)return;Vt(si)}finally{Re.isCancellationRequested||(n.busy=!1)}}});return N.add(n.onDidChangeValue(()=>ue())),ue(),N.add(n.onDidAccept(Pe=>{const[Re]=n.selectedItems;typeof Re?.accept=="function"&&(Pe.inBackground||n.hide(),Re.accept(n.keyMods,Pe))})),N.add(n.onDidTriggerItemButton(({button:Pe,item:Re})=>Dd(this,void 0,void 0,function*(){var De,tt;if(typeof Re.trigger=="function"){const Vt=(tt=(De=Re.buttons)===null||De===void 0?void 0:De.indexOf(Pe))!==null&&tt!==void 0?tt:-1;if(Vt>=0){const si=Re.trigger(Vt,n.keyMods),li=typeof si=="number"?si:yield si;if(a.isCancellationRequested)return;switch(li){case xl.NO_ACTION:break;case xl.CLOSE_PICKER:n.hide();break;case xl.REFRESH_PICKER:ue();break;case xl.REMOVE_ITEM:{const Ni=n.items.indexOf(Re);if(Ni!==-1){const Oi=n.items.slice(),dn=Oi.splice(Ni,1),kn=n.activeItems.filter(fs=>fs!==dn[0]),Xn=n.keepScrollPosition;n.keepScrollPosition=!0,n.items=Oi,kn&&(n.activeItems=kn),n.keepScrollPosition=Xn}break}}}}}))),N}}Ed.FAST_PICKS_RACE_DELAY=200;var Ph=s(10829),Fh=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},$a=function(le,n){return function(a,u){n(a,u,le)}},Bh=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};let Ac=class Od extends Ed{constructor(n,a,u,N,x,ee){super(Od.PREFIX,n),this.instantiationService=a,this.keybindingService=u,this.commandService=N,this.telemetryService=x,this.dialogService=ee,this.commandsHistory=this._register(this.instantiationService.createInstance(Ga)),this.options=n}_getPicks(n,a,u){return Bh(this,void 0,void 0,function*(){const N=yield this.getCommandPicks(a,u);if(u.isCancellationRequested)return[];const x=[];for(const Re of N){const De=(0,Vi.f6)(Od.WORD_FILTER(n,Re.label)),tt=Re.commandAlias?(0,Vi.f6)(Od.WORD_FILTER(n,Re.commandAlias)):void 0;De||tt?(Re.highlights={label:De,detail:this.options.showAlias?tt:void 0},x.push(Re)):n===Re.commandId&&x.push(Re)}const ee=new Map;for(const Re of x){const De=ee.get(Re.label);De?(Re.description=Re.commandId,De.description=De.commandId):ee.set(Re.label,Re)}x.sort((Re,De)=>{const tt=this.commandsHistory.peek(Re.commandId),Vt=this.commandsHistory.peek(De.commandId);return tt&&Vt?tt>Vt?-1:1:tt?-1:Vt?1:Re.label.localeCompare(De.label)});const ue=[];let Pe=!1;for(let Re=0;Re<x.length;Re++){const De=x[Re],tt=this.keybindingService.lookupKeybinding(De.commandId),Vt=tt?(0,ye.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",De.label,tt.getAriaLabel()):De.label;Re===0&&this.commandsHistory.peek(De.commandId)&&(ue.push({type:"separator",label:(0,ye.NC)("recentlyUsed","recently used")}),Pe=!0),Re!==0&&Pe&&!this.commandsHistory.peek(De.commandId)&&(ue.push({type:"separator",label:(0,ye.NC)("morecCommands","other commands")}),Pe=!1),ue.push(Object.assign(Object.assign({},De),{ariaLabel:Vt,detail:this.options.showAlias&&De.commandAlias!==De.label?De.commandAlias:void 0,keybinding:tt,accept:()=>Bh(this,void 0,void 0,function*(){this.commandsHistory.push(De.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:De.commandId,from:"quick open"});try{yield this.commandService.executeCommand(De.commandId)}catch(si){(0,Pi.n2)(si)||this.dialogService.show(Yf.Z.Error,(0,ye.NC)("canNotRun","Command '{0}' resulted in an error ({1})",De.label,Oh(si)))}})}))}return ue})}};Ac.PREFIX=">",Ac.WORD_FILTER=(0,xo.or)(xo.Ji,xo.KZ,xo.ir),Ac=Fh([$a(1,Je.TG),$a(2,yo.d),$a(3,vt.Hy),$a(4,Ph.b),$a(5,Ic.S)],Ac);let Ga=class Ns extends St.JT{constructor(n,a){super(),this.storageService=n,this.configurationService=a,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=Ns.getConfiguredCommandHistoryLength(this.configurationService),Ns.cache&&Ns.cache.limit!==this.configuredCommandsHistoryLength&&(Ns.cache.limit=this.configuredCommandsHistoryLength,Ns.saveState(this.storageService))}load(){const n=this.storageService.get(Ns.PREF_KEY_CACHE,0);let a;if(n)try{a=JSON.parse(n)}catch{}const u=Ns.cache=new Me.z6(this.configuredCommandsHistoryLength,1);if(a){let N;a.usesLRU?N=a.entries:N=a.entries.sort((x,ee)=>x.value-ee.value),N.forEach(x=>u.set(x.key,x.value))}Ns.counter=this.storageService.getNumber(Ns.PREF_KEY_COUNTER,0,Ns.counter)}push(n){Ns.cache&&(Ns.cache.set(n,Ns.counter++),Ns.saveState(this.storageService))}peek(n){var a;return(a=Ns.cache)===null||a===void 0?void 0:a.peek(n)}static saveState(n){if(!Ns.cache)return;const a={usesLRU:!0,entries:[]};Ns.cache.forEach((u,N)=>a.entries.push({key:N,value:u})),n.store(Ns.PREF_KEY_CACHE,JSON.stringify(a),0,0),n.store(Ns.PREF_KEY_COUNTER,Ns.counter,0,0)}static getConfiguredCommandHistoryLength(n){var a,u;const x=(u=(a=n.getValue().workbench)===null||a===void 0?void 0:a.commandPalette)===null||u===void 0?void 0:u.history;return typeof x=="number"?x:Ns.DEFAULT_COMMANDS_HISTORY_LENGTH}};Ga.DEFAULT_COMMANDS_HISTORY_LENGTH=50,Ga.PREF_KEY_CACHE="commandPalette.mru.cache",Ga.PREF_KEY_COUNTER="commandPalette.mru.counter",Ga.counter=1,Ga=Fh([$a(0,ot.Uy),$a(1,bi.Ui)],Ga);class Jf extends Ac{constructor(n,a,u,N,x,ee){super(n,a,u,N,x,ee)}getCodeEditorCommandPicks(){const n=this.activeTextEditorControl;if(!n)return[];const a=[];for(const u of n.getSupportedActions())a.push({commandId:u.id,commandAlias:u.alias,label:(0,Zf.x$)(u.label)||u.id});return a}}var qf=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Nl=function(le,n){return function(a,u){n(a,u,le)}},eg=function(le,n,a,u){function N(x){return x instanceof a?x:new a(function(ee){ee(x)})}return new(a||(a=Promise))(function(x,ee){function ue(De){try{Re(u.next(De))}catch(tt){ee(tt)}}function Pe(De){try{Re(u.throw(De))}catch(tt){ee(tt)}}function Re(De){De.done?x(De.value):N(De.value).then(ue,Pe)}Re((u=u.apply(le,n||[])).next())})};let Oc=class extends Jf{constructor(n,a,u,N,x,ee){super({showAlias:!1},n,u,N,x,ee),this.codeEditorService=a}get activeTextEditorControl(){return(0,Vi.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return eg(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};Oc=qf([Nl(0,Je.TG),Nl(1,Us.$),Nl(2,yo.d),Nl(3,vt.Hy),Nl(4,Ph.b),Nl(5,Ic.S)],Oc);class Pc extends We.R6{constructor(){super({id:Pc.ID,label:br.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:pe.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(n){n.get(Ji.eJ).quickAccess.show(Oc.PREFIX)}}Pc.ID="editor.action.quickCommand",(0,We.Qr)(Pc),mi.B.as(Nc.IP.Quickaccess).registerQuickAccessProvider({ctor:Oc,prefix:Oc.PREFIX,helpEntries:[{description:br.UX.quickCommandHelp,commandId:Pc.ID}]});var Wh=s(2444),tg=function(le,n,a,u){var N=arguments.length,x=N<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,a):u,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,n,a,u);else for(var ue=le.length-1;ue>=0;ue--)(ee=le[ue])&&(x=(N<3?ee(x):N>3?ee(n,a,x):ee(n,a))||x);return N>3&&x&&Object.defineProperty(n,a,x),x},Tl=function(le,n){return function(a,u){n(a,u,le)}};let nh=class extends Wh.J{constructor(n,a,u,N,x,ee,ue){super(!0,n,a,u,N,x,ee,ue)}};nh=tg([Tl(1,ft.i6),Tl(2,Us.$),Tl(3,Si.lT),Tl(4,Je.TG),Tl(5,ot.Uy),Tl(6,bi.Ui)],nh),(0,We._K)(Wh.J.ID,nh);var Id=s(88542);class ig extends We.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:br.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(n,a){const u=n.get(wh.Z),N=u.getColorTheme();(0,Va.c3)(N.type)?(u.setTheme(this._originalThemeName||((0,Va._T)(N.type)?Id.rW:Id.TG)),this._originalThemeName=null):(u.setTheme((0,Va._T)(N.type)?Id.kR:Id.MU),this._originalThemeName=N.themeName)}}(0,We.Qr)(ig)},46005:function(Yt,Ye,s){"use strict";s.r(Ye);var b=s(65321),l=s(38626),z=s(94079),j=s(35996),E=s(93794),Z=s(5976),B=s(1432),H=s(97295),O=s(70666),y=s(16830),g=s(29102),C=s(64662),m=s(38819),i=s(72065),d=s(91847),_=s(50988),v=s(73910),p=s(97781),L=s(20913),T=function(ie,se,X,ne){var Q=arguments.length,F=Q<3?se:ne===null?ne=Object.getOwnPropertyDescriptor(se,X):ne,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(ie,se,X,ne);else for(var W=ie.length-1;W>=0;W--)(te=ie[W])&&(F=(Q<3?te(F):Q>3?te(se,X,F):te(se,X))||F);return Q>3&&F&&Object.defineProperty(se,X,F),F},M=function(ie,se){return function(X,ne){se(X,ne,ie)}};const I=new m.uy("accessibilityHelpWidgetVisible",!1);let P=class pf extends Z.JT{constructor(se,X){super(),this._editor=se,this._widget=this._register(X.createInstance($,this._editor))}static get(se){return se.getContribution(pf.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};P.ID="editor.contrib.accessibilityHelpController",P=T([M(1,i.TG)],P);function V(ie,se){return!ie||ie.length===0?L.Oe.noSelection:ie.length===1?se?H.WU(L.Oe.singleSelectionRange,ie[0].positionLineNumber,ie[0].positionColumn,se):H.WU(L.Oe.singleSelection,ie[0].positionLineNumber,ie[0].positionColumn):se?H.WU(L.Oe.multiSelectionRange,ie.length,se):ie.length>0?H.WU(L.Oe.multiSelection,ie.length):""}let $=class Pd extends E.${constructor(se,X,ne,Q){super(),this._contextKeyService=X,this._keybindingService=ne,this._openerService=Q,this._editor=se,this._isVisibleKey=I.bindTo(this._contextKeyService),this._domNode=(0,l.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,l.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(b.mu(this._contentDomNode.domNode,"keydown",F=>{if(this._isVisible&&(F.equals(2083)&&((0,j.Z9)(L.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),b.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),F.preventDefault(),F.stopPropagation()),F.equals(2086))){(0,j.Z9)(L.Oe.openingDocs);let te=this._editor.getRawOptions().accessibilityHelpUrl;typeof te>"u"&&(te="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(O.o.parse(te)),F.preventDefault(),F.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Pd.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(se,X,ne){const Q=this._keybindingService.lookupKeybinding(se);return Q?H.WU(X,Q.getAriaLabel()):H.WU(ne,se)}_buildContent(){const se=this._editor.getOptions(),X=this._editor.getSelections();let ne=0;if(X){const W=this._editor.getModel();W&&X.forEach(G=>{ne+=W.getValueLengthInRange(G)})}let Q=V(X,ne);se.get(56)?se.get(83)?Q+=L.Oe.readonlyDiffEditor:Q+=L.Oe.editableDiffEditor:se.get(83)?Q+=L.Oe.readonlyEditor:Q+=L.Oe.editableEditor;const F=B.dz?L.Oe.changeConfigToOnMac:L.Oe.changeConfigToOnWinLinux;switch(se.get(2)){case 0:Q+=`

 - `+F;break;case 2:Q+=`

 - `+L.Oe.auto_on;break;case 1:Q+=`

 - `+L.Oe.auto_off,Q+=" "+F;break}se.get(132)?Q+=`

 - `+this._descriptionForCommand(C.R.ID,L.Oe.tabFocusModeOnMsg,L.Oe.tabFocusModeOnMsgNoKb):Q+=`

 - `+this._descriptionForCommand(C.R.ID,L.Oe.tabFocusModeOffMsg,L.Oe.tabFocusModeOffMsgNoKb);const te=B.dz?L.Oe.openDocMac:L.Oe.openDocWinLinux;Q+=`

 - `+te,Q+=`

`+L.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,z.BO)(Q)),this._contentDomNode.domNode.setAttribute("aria-label",Q)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,b.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const se=this._editor.getLayoutInfo(),X=Math.max(5,Math.min(Pd.WIDTH,se.width-40)),ne=Math.max(5,Math.min(Pd.HEIGHT,se.height-40));this._domNode.setWidth(X),this._domNode.setHeight(ne);const Q=Math.round((se.height-ne)/2);this._domNode.setTop(Q);const F=Math.round((se.width-X)/2);this._domNode.setLeft(F)}};$.ID="editor.contrib.accessibilityHelpWidget",$.WIDTH=500,$.HEIGHT=300,$=T([M(1,m.i6),M(2,d.d),M(3,_.v4)],$);class re extends y.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:L.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(se,X){const ne=P.get(X);ne&&ne.show()}}(0,y._K)(P.ID,P),(0,y.Qr)(re);const ae=y._l.bindToContribution(P.get);(0,y.fK)(new ae({id:"closeAccessibilityHelp",precondition:I,handler:ie=>ie.hide(),kbOpts:{weight:200,kbExpr:g.u.focus,primary:9,secondary:[1033]}})),(0,p.Ic)((ie,se)=>{const X=ie.getColor(v.D0T);X&&se.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${X}; }`);const ne=ie.getColor(v.Hfx);ne&&se.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${ne}; }`);const Q=ie.getColor(v.rh);Q&&se.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${Q}; }`);const F=ie.getColor(v.lRK);F&&se.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${F}; }`)})},88542:function(Yt,Ye,s){"use strict";s.d(Ye,{kR:function(){return te},MU:function(){return W},nI:function(){return Ne},rW:function(){return F},TG:function(){return Q}});var b=s(65321),l=s(30747),z=s(41264),j=s(4669),E=s(43155),Z=s(45797);class B{constructor(Ce,Ae,$e,je,at){this._parsedThemeRuleBrand=void 0,this.token=Ce,this.index=Ae,this.fontStyle=$e,this.foreground=je,this.background=at}}function H(Ve){if(!Ve||!Array.isArray(Ve))return[];const Ce=[];let Ae=0;for(let $e=0,je=Ve.length;$e<je;$e++){const at=Ve[$e];let pt=-1;if(typeof at.fontStyle=="string"){pt=0;const it=at.fontStyle.split(" ");for(let pe=0,ye=it.length;pe<ye;pe++)switch(it[pe]){case"italic":pt=pt|1;break;case"bold":pt=pt|2;break;case"underline":pt=pt|4;break;case"strikethrough":pt=pt|8;break}}let bt=null;typeof at.foreground=="string"&&(bt=at.foreground);let We=null;typeof at.background=="string"&&(We=at.background),Ce[Ae++]=new B(at.token||"",$e,pt,bt,We)}return Ce}function O(Ve,Ce){Ve.sort((pe,ye)=>{const ft=d(pe.token,ye.token);return ft!==0?ft:pe.index-ye.index});let Ae=0,$e="000000",je="ffffff";for(;Ve.length>=1&&Ve[0].token==="";){const pe=Ve.shift();pe.fontStyle!==-1&&(Ae=pe.fontStyle),pe.foreground!==null&&($e=pe.foreground),pe.background!==null&&(je=pe.background)}const at=new g;for(const pe of Ce)at.getId(pe);const pt=at.getId($e),bt=at.getId(je),We=new _(Ae,pt,bt),it=new v(We);for(let pe=0,ye=Ve.length;pe<ye;pe++){const ft=Ve[pe];it.insert(ft.token,ft.fontStyle,at.getId(ft.foreground),at.getId(ft.background))}return new C(at,it)}const y=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class g{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(Ce){if(Ce===null)return 0;const Ae=Ce.match(y);if(!Ae)throw new Error("Illegal value for token color: "+Ce);Ce=Ae[1].toUpperCase();let $e=this._color2id.get(Ce);return $e||($e=++this._lastColorId,this._color2id.set(Ce,$e),this._id2color[$e]=z.Il.fromHex("#"+Ce),$e)}getColorMap(){return this._id2color.slice(0)}}class C{constructor(Ce,Ae){this._colorMap=Ce,this._root=Ae,this._cache=new Map}static createFromRawTokenTheme(Ce,Ae){return this.createFromParsedTokenTheme(H(Ce),Ae)}static createFromParsedTokenTheme(Ce,Ae){return O(Ce,Ae)}getColorMap(){return this._colorMap.getColorMap()}_match(Ce){return this._root.match(Ce)}match(Ce,Ae){let $e=this._cache.get(Ae);if(typeof $e>"u"){const je=this._match(Ae),at=i(Ae);$e=(je.metadata|at<<8)>>>0,this._cache.set(Ae,$e)}return($e|Ce<<0)>>>0}}const m=/\b(comment|string|regex|regexp)\b/;function i(Ve){const Ce=Ve.match(m);if(!Ce)return 0;switch(Ce[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function d(Ve,Ce){return Ve<Ce?-1:Ve>Ce?1:0}class _{constructor(Ce,Ae,$e){this._themeTrieElementRuleBrand=void 0,this._fontStyle=Ce,this._foreground=Ae,this._background=$e,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new _(this._fontStyle,this._foreground,this._background)}acceptOverwrite(Ce,Ae,$e){Ce!==-1&&(this._fontStyle=Ce),Ae!==0&&(this._foreground=Ae),$e!==0&&(this._background=$e),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class v{constructor(Ce){this._themeTrieElementBrand=void 0,this._mainRule=Ce,this._children=new Map}match(Ce){if(Ce==="")return this._mainRule;const Ae=Ce.indexOf(".");let $e,je;Ae===-1?($e=Ce,je=""):($e=Ce.substring(0,Ae),je=Ce.substring(Ae+1));const at=this._children.get($e);return typeof at<"u"?at.match(je):this._mainRule}insert(Ce,Ae,$e,je){if(Ce===""){this._mainRule.acceptOverwrite(Ae,$e,je);return}const at=Ce.indexOf(".");let pt,bt;at===-1?(pt=Ce,bt=""):(pt=Ce.substring(0,at),bt=Ce.substring(at+1));let We=this._children.get(pt);typeof We>"u"&&(We=new v(this._mainRule.clone()),this._children.set(pt,We)),We.insert(bt,Ae,$e,je)}}function p(Ve){const Ce=[];for(let Ae=1,$e=Ve.length;Ae<$e;Ae++){const je=Ve[Ae];Ce[Ae]=`.mtk${Ae} { color: ${je}; }`}return Ce.push(".mtki { font-style: italic; }"),Ce.push(".mtkb { font-weight: bold; }"),Ce.push(".mtku { text-decoration: underline; text-underline-position: under; }"),Ce.push(".mtks { text-decoration: line-through; }"),Ce.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),Ce.join(`
`)}var L=s(8625),T=s(73910);const M={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[T.cvW]:"#FFFFFE",[T.NOs]:"#000000",[T.ES4]:"#E5EBF1",[L.tR]:"#D3D3D3",[L.Ym]:"#939393",[T.Rzx]:"#ADD6FF4D"}},I={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[T.cvW]:"#1E1E1E",[T.NOs]:"#D4D4D4",[T.ES4]:"#3A3D41",[L.tR]:"#404040",[L.Ym]:"#707070",[T.Rzx]:"#ADD6FF26"}},P={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[T.cvW]:"#000000",[T.NOs]:"#FFFFFF",[L.tR]:"#FFFFFF",[L.Ym]:"#FFFFFF"}},V={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[T.cvW]:"#FFFFFF",[T.NOs]:"#292929",[L.tR]:"#292929",[L.Ym]:"#292929"}};var $=s(89872),re=s(97781),ae=s(5976),ie=s(92321),se=s(59554);function X(Ve){const Ce=new j.Q5,Ae=(0,se.Ks)();return Ae.onDidChange(()=>Ce.fire()),Ve?.onDidProductIconThemeChange(()=>Ce.fire()),{onDidChange:Ce.event,getCSS(){const $e=Ve?Ve.getProductIconTheme():new ne,je={},at=bt=>{const We=$e.getIcon(bt);if(!We)return;const it=We.font;return it?(je[it.id]=it.definition,`.codicon-${bt.id}:before { content: '${We.fontCharacter}'; font-family: ${(0,b._h)(it.id)}; }`):`.codicon-${bt.id}:before { content: '${We.fontCharacter}'; }`},pt=[];for(const bt of Ae.getIcons()){const We=at(bt);We&&pt.push(We)}for(const bt in je){const We=je[bt],it=We.weight?`font-weight: ${We.weight};`:"",pe=We.style?`font-style: ${We.style};`:"",ye=We.src.map(ft=>`${(0,b.wY)(ft.location)} format('${ft.format}')`).join(", ");pt.push(`@font-face { src: ${ye}; font-family: ${(0,b._h)(bt)};${it}${pe} font-display: block; }`)}return pt.join(`
`)}}}class ne{getIcon(Ce){const Ae=(0,se.Ks)();let $e=Ce.defaults;for(;re.kS.isThemeIcon($e);){const je=Ae.getIcon($e.id);if(!je)return;$e=je.defaults}return $e}}const Q="vs",F="vs-dark",te="hc-black",W="hc-light",G=$.B.as(T.IPX.ColorContribution),q=$.B.as(re.IP.ThemingContribution);class me{constructor(Ce,Ae){this.semanticHighlighting=!1,this.themeData=Ae;const $e=Ae.base;Ce.length>0?(w(Ce)?this.id=Ce:this.id=$e+" "+Ce,this.themeName=Ce):(this.id=$e,this.themeName=$e),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const Ce=new Map;for(const Ae in this.themeData.colors)Ce.set(Ae,z.Il.fromHex(this.themeData.colors[Ae]));if(this.themeData.inherit){const Ae=we(this.themeData.base);for(const $e in Ae.colors)Ce.has($e)||Ce.set($e,z.Il.fromHex(Ae.colors[$e]))}this.colors=Ce}return this.colors}getColor(Ce,Ae){const $e=this.getColors().get(Ce);if($e)return $e;if(Ae!==!1)return this.getDefault(Ce)}getDefault(Ce){let Ae=this.defaultColors[Ce];return Ae||(Ae=G.resolveDefaultColor(Ce,this),this.defaultColors[Ce]=Ae,Ae)}defines(Ce){return Object.prototype.hasOwnProperty.call(this.getColors(),Ce)}get type(){switch(this.base){case Q:return ie.eL.LIGHT;case te:return ie.eL.HIGH_CONTRAST_DARK;case W:return ie.eL.HIGH_CONTRAST_LIGHT;default:return ie.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let Ce=[],Ae=[];if(this.themeData.inherit){const at=we(this.themeData.base);Ce=at.rules,at.encodedTokensColors&&(Ae=at.encodedTokensColors)}const $e=this.themeData.colors["editor.foreground"],je=this.themeData.colors["editor.background"];if($e||je){const at={token:""};$e&&(at.foreground=$e),je&&(at.background=je),Ce.push(at)}Ce=Ce.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(Ae=this.themeData.encodedTokensColors),this._tokenTheme=C.createFromRawTokenTheme(Ce,Ae)}return this._tokenTheme}getTokenStyleMetadata(Ce,Ae,$e){const at=this.tokenTheme._match([Ce].concat(Ae).join(".")).metadata,pt=Z.N.getForeground(at),bt=Z.N.getFontStyle(at);return{foreground:pt,italic:!!(bt&1),bold:!!(bt&2),underline:!!(bt&4),strikethrough:!!(bt&8)}}}function w(Ve){return Ve===Q||Ve===F||Ve===te||Ve===W}function we(Ve){switch(Ve){case Q:return M;case F:return I;case te:return P;case W:return V}}function xe(Ve){const Ce=we(Ve);return new me(Ve,Ce)}class Ne extends ae.JT{constructor(){super(),this._onColorThemeChange=this._register(new j.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new j.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new ne,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Q,xe(Q)),this._knownThemes.set(F,xe(F)),this._knownThemes.set(te,xe(te)),this._knownThemes.set(W,xe(W));const Ce=X(this);this._codiconCSS=Ce.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Q),this._onOSSchemeChanged(),Ce.onDidChange(()=>{this._codiconCSS=Ce.getCSS(),this._updateCSS()}),(0,l.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(Ce){return b.OO(Ce)?this._registerShadowDomContainer(Ce):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=b.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),ae.JT.None}_registerShadowDomContainer(Ce){const Ae=b.dS(Ce);return Ae.className="monaco-colors",Ae.textContent=this._allCSS,this._styleElements.push(Ae),{dispose:()=>{for(let $e=0;$e<this._styleElements.length;$e++)if(this._styleElements[$e]===Ae){this._styleElements.splice($e,1);return}}}}defineTheme(Ce,Ae){if(!/^[a-z0-9\-]+$/i.test(Ce))throw new Error("Illegal theme name!");if(!w(Ae.base)&&!w(Ce))throw new Error("Illegal theme base!");this._knownThemes.set(Ce,new me(Ce,Ae)),w(Ce)&&this._knownThemes.forEach($e=>{$e.base===Ce&&$e.notifyBaseUpdated()}),this._theme.themeName===Ce&&this.setTheme(Ce)}getColorTheme(){return this._theme}setColorMapOverride(Ce){this._colorMapOverride=Ce,this._updateThemeOrColorMap()}setTheme(Ce){let Ae;this._knownThemes.has(Ce)?Ae=this._knownThemes.get(Ce):Ae=this._knownThemes.get(Q),this._updateActualTheme(Ae)}_updateActualTheme(Ce){!Ce||this._theme===Ce||(this._theme=Ce,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const Ce=window.matchMedia("(forced-colors: active)").matches;if(Ce!==(0,ie.c3)(this._theme.type)){let Ae;(0,ie._T)(this._theme.type)?Ae=Ce?te:F:Ae=Ce?W:Q,this._updateActualTheme(this._knownThemes.get(Ae))}}}setAutoDetectHighContrast(Ce){this._autoDetectHighContrast=Ce,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const Ce=[],Ae={},$e={addRule:pt=>{Ae[pt]||(Ce.push(pt),Ae[pt]=!0)}};q.getThemingParticipants().forEach(pt=>pt(this._theme,$e,this._environment));const je=[];for(const pt of G.getColors()){const bt=this._theme.getColor(pt.id,!0);bt&&je.push(`${(0,T.QO2)(pt.id)}: ${bt.toString()};`)}$e.addRule(`.monaco-editor { ${je.join(`
`)} }`);const at=this._colorMapOverride||this._theme.tokenTheme.getColorMap();$e.addRule(p(at)),this._themeCSS=Ce.join(`
`),this._updateCSS(),E.RW.setColorMap(at),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(Ce=>Ce.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},44156:function(Yt,Ye,s){"use strict";s.d(Ye,{Z:function(){return l}});var b=s(72065);const l=(0,b.yh)("themeService")},72323:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{jsonDefaults:function(){return C}});var b=s(50048);var l=Object.defineProperty,z=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,Z=(i,d,_,v)=>{if(d&&typeof d=="object"||typeof d=="function")for(let p of j(d))!E.call(i,p)&&p!==_&&l(i,p,{get:()=>d[p],enumerable:!(v=z(d,p))||v.enumerable});return i},B=(i,d,_)=>(Z(i,d,"default"),_&&Z(_,d,"default")),H={};B(H,b);var O=class{constructor(i,d,_){ms(this,"_onDidChange",new H.Emitter);ms(this,"_diagnosticsOptions");ms(this,"_modeConfiguration");ms(this,"_languageId");this._languageId=i,this.setDiagnosticsOptions(d),this.setModeConfiguration(_)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(i){this._diagnosticsOptions=i||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(i){this._modeConfiguration=i||Object.create(null),this._onDidChange.fire(this)}},y={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},g={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},C=new O("json",y,g);H.languages.json={jsonDefaults:C};function m(){return s.e(665).then(s.bind(s,90665))}H.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),H.languages.onLanguage("json",()=>{m().then(i=>i.setupMode(C))})},39585:function(Yt,Ye,s){"use strict";s.r(Ye),s.d(Ye,{JsxEmit:function(){return g},ModuleKind:function(){return y},ModuleResolutionKind:function(){return i},NewLineKind:function(){return C},ScriptTarget:function(){return m},getJavaScriptWorker:function(){return T},getTypeScriptWorker:function(){return L},javascriptDefaults:function(){return p},typescriptDefaults:function(){return v},typescriptVersion:function(){return _}});var b=s(50048);var l=Object.defineProperty,z=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,Z=(I,P,V,$)=>{if(P&&typeof P=="object"||typeof P=="function")for(let re of j(P))!E.call(I,re)&&re!==V&&l(I,re,{get:()=>P[re],enumerable:!($=z(P,re))||$.enumerable});return I},B=(I,P,V)=>(Z(I,P,"default"),V&&Z(V,P,"default")),H="4.5.5",O={};B(O,b);var y=(I=>(I[I.None=0]="None",I[I.CommonJS=1]="CommonJS",I[I.AMD=2]="AMD",I[I.UMD=3]="UMD",I[I.System=4]="System",I[I.ES2015=5]="ES2015",I[I.ESNext=99]="ESNext",I))(y||{}),g=(I=>(I[I.None=0]="None",I[I.Preserve=1]="Preserve",I[I.React=2]="React",I[I.ReactNative=3]="ReactNative",I[I.ReactJSX=4]="ReactJSX",I[I.ReactJSXDev=5]="ReactJSXDev",I))(g||{}),C=(I=>(I[I.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",I[I.LineFeed=1]="LineFeed",I))(C||{}),m=(I=>(I[I.ES3=0]="ES3",I[I.ES5=1]="ES5",I[I.ES2015=2]="ES2015",I[I.ES2016=3]="ES2016",I[I.ES2017=4]="ES2017",I[I.ES2018=5]="ES2018",I[I.ES2019=6]="ES2019",I[I.ES2020=7]="ES2020",I[I.ESNext=99]="ESNext",I[I.JSON=100]="JSON",I[I.Latest=99]="Latest",I))(m||{}),i=(I=>(I[I.Classic=1]="Classic",I[I.NodeJs=2]="NodeJs",I))(i||{}),d=class{constructor(I,P,V,$){ms(this,"_onDidChange",new O.Emitter);ms(this,"_onDidExtraLibsChange",new O.Emitter);ms(this,"_extraLibs");ms(this,"_removedExtraLibs");ms(this,"_eagerModelSync");ms(this,"_compilerOptions");ms(this,"_diagnosticsOptions");ms(this,"_workerOptions");ms(this,"_onDidExtraLibsChangeTimeout");ms(this,"_inlayHintsOptions");this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(I),this.setDiagnosticsOptions(P),this.setWorkerOptions(V),this.setInlayHintsOptions($),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(I,P){let V;if(typeof P>"u"?V=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:V=P,this._extraLibs[V]&&this._extraLibs[V].content===I)return{dispose:()=>{}};let $=1;return this._removedExtraLibs[V]&&($=this._removedExtraLibs[V]+1),this._extraLibs[V]&&($=this._extraLibs[V].version+1),this._extraLibs[V]={content:I,version:$},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let re=this._extraLibs[V];re&&re.version===$&&(delete this._extraLibs[V],this._removedExtraLibs[V]=$,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(I){for(const P in this._extraLibs)this._removedExtraLibs[P]=this._extraLibs[P].version;if(this._extraLibs=Object.create(null),I&&I.length>0)for(const P of I){const V=P.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,$=P.content;let re=1;this._removedExtraLibs[V]&&(re=this._removedExtraLibs[V]+1),this._extraLibs[V]={content:$,version:re}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(I){this._compilerOptions=I||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(I){this._diagnosticsOptions=I||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(I){this._workerOptions=I||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(I){this._inlayHintsOptions=I||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(I){}setEagerModelSync(I){this._eagerModelSync=I}getEagerModelSync(){return this._eagerModelSync}},_=H,v=new d({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),p=new d({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),L=()=>M().then(I=>I.getTypeScriptWorker()),T=()=>M().then(I=>I.getJavaScriptWorker());O.languages.typescript={ModuleKind:y,JsxEmit:g,NewLineKind:C,ScriptTarget:m,ModuleResolutionKind:i,typescriptVersion:_,typescriptDefaults:v,javascriptDefaults:p,getTypeScriptWorker:L,getJavaScriptWorker:T};function M(){return s.e(8401).then(s.bind(s,78401))}O.languages.onLanguage("typescript",()=>M().then(I=>I.setupTypeScript(v))),O.languages.onLanguage("javascript",()=>M().then(I=>I.setupJavaScript(p)))},63580:function(Yt,Ye,s){"use strict";s.d(Ye,{NC:function(){return O},aj:function(){return y}});var b=function(i,d,_,v){function p(L){return L instanceof _?L:new _(function(T){T(L)})}return new(_||(_=Promise))(function(L,T){function M(V){try{P(v.next(V))}catch($){T($)}}function I(V){try{P(v.throw(V))}catch($){T($)}}function P(V){V.done?L(V.value):p(V.value).then(M,I)}P((v=v.apply(i,d||[])).next())})};let l=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const z="i-default";function j(i,d){let _;return d.length===0?_=i:_=i.replace(/\{(\d+)\}/g,(v,p)=>{const L=p[0],T=d[L];let M=v;return typeof T=="string"?M=T:(typeof T=="number"||typeof T=="boolean"||T===void 0||T===null)&&(M=String(T)),M}),l&&(_="\uFF3B"+_.replace(/[aouei]/g,"$&$&")+"\uFF3D"),_}function E(i,d){let _=i[d];return _||(_=i["*"],_)?_:null}function Z(i){return i.charAt(i.length-1)==="/"?i:i+"/"}function B(i,d,_){return b(this,void 0,void 0,function*(){const v=Z(i)+Z(d)+"vscode/"+Z(_),p=yield fetch(v);if(p.ok)return yield p.json();throw new Error(`${p.status} - ${p.statusText}`)})}function H(i){return function(d,_){const v=Array.prototype.slice.call(arguments,2);return j(i[d],v)}}function O(i,d,..._){return j(d,_)}function y(i){}function g(i){l=i}function C(i,d){var _;return{localize:H(d[i]),getConfiguredDefaultLocale:(_=d.getConfiguredDefaultLocale)!==null&&_!==void 0?_:v=>{}}}function m(i,d,_,v){var p;const L=(p=v["vs/nls"])!==null&&p!==void 0?p:{};if(!i||i.length===0)return _({localize:O,getConfiguredDefaultLocale:()=>{var V;return(V=L.availableLanguages)===null||V===void 0?void 0:V["*"]}});const T=L.availableLanguages?E(L.availableLanguages,i):null,M=T===null||T===z;let I=".nls";M||(I=I+"."+T);const P=V=>{Array.isArray(V)?V.localize=H(V):V.localize=H(V[i]),V.getConfiguredDefaultLocale=()=>{var $;return($=L.availableLanguages)===null||$===void 0?void 0:$["*"]},_(V)};typeof L.loadBundle=="function"?L.loadBundle(i,T,(V,$)=>{V?d([i+".nls"],P):P($)}):L.translationServiceUrl&&!M?b(this,void 0,void 0,function*(){var V;try{const $=yield B(L.translationServiceUrl,T,i);return P($)}catch($){if(!T.includes("-"))return console.error($),d([i+".nls"],P);try{const re=T.split("-")[0],ae=yield B(L.translationServiceUrl,re,i);return(V=L.availableLanguages)!==null&&V!==void 0||(L.availableLanguages={}),L.availableLanguages["*"]=re,P(ae)}catch(re){return console.error(re),d([i+".nls"],P)}}}):d([i+I],P,V=>{if(I===".nls"){console.error("Failed trying to load default language strings",V);return}console.error(`Failed to load message bundle for language ${T}. Falling back to the default language:`,V),d([i+".nls"],P)})}},31106:function(Yt,Ye,s){"use strict";s.d(Ye,{F:function(){return z},U:function(){return j}});var b=s(38819),l=s(72065);const z=(0,l.yh)("accessibilityService"),j=new b.uy("accessibilityModeEnabled",!1)},42499:function(Yt,Ye,s){"use strict";s.d(Ye,{Mm:function(){return X},Id:function(){return F},vr:function(){return ae}});var b=s(65321),l=s(59069),z=s(76033),j=s(10553),E=s(74741),Z=s(4669);class B extends E.Wi{constructor(W,G){super(),this._onDidChangeVisibility=this._register(new Z.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,b.R3)(W,(0,b.$)(".monaco-dropdown")),this._label=(0,b.R3)(this._element,(0,b.$)(".dropdown-label"));let q=G.labelRenderer;q||(q=w=>(w.textContent=G.label||"",null));for(const w of[b.tw.CLICK,b.tw.MOUSE_DOWN,j.t.Tap])this._register((0,b.nm)(this.element,w,we=>b.zB.stop(we,!0)));for(const w of[b.tw.MOUSE_DOWN,j.t.Tap])this._register((0,b.nm)(this._label,w,we=>{we instanceof MouseEvent&&(we.detail>1||we.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,b.nm)(this._label,b.tw.KEY_UP,w=>{const we=new l.y(w);(we.equals(3)||we.equals(10))&&(b.zB.stop(w,!0),this.visible?this.hide():this.show())}));const me=q(this._label);me&&this._register(me),this._register(j.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class H extends B{constructor(W,G){super(W,G),this._actions=[],this._contextMenuProvider=G.contextMenuProvider,this.actions=G.actions||[],this.actionProvider=G.actionProvider,this.menuClassName=G.menuClassName||"",this.menuAsChild=!!G.menuAsChild}set menuOptions(W){this._menuOptions=W}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(W){this._actions=W}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:W=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(W):void 0,getKeyBinding:W=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(W):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class O extends z.Y{constructor(W,G,q,me=Object.create(null)){super(null,W,me),this.actionItem=null,this._onDidChangeVisibility=this._register(new Z.Q5),this.menuActionsOrProvider=G,this.contextMenuProvider=q,this.options=me,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(W){this.actionItem=W;const G=w=>{this.element=(0,b.R3)(w,(0,b.$)("a.action-label"));let we=[];return typeof this.options.classNames=="string"?we=this.options.classNames.split(/\s+/g).filter(xe=>!!xe):this.options.classNames&&(we=this.options.classNames),we.find(xe=>xe==="icon")||we.push("codicon"),this.element.classList.add(...we),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},q=Array.isArray(this.menuActionsOrProvider),me={contextMenuProvider:this.contextMenuProvider,labelRenderer:G,menuAsChild:this.options.menuAsChild,actions:q?this.menuActionsOrProvider:void 0,actionProvider:q?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new H(W,me)),this._register(this.dropdownMenu.onDidChangeVisibility(w=>{var we;(we=this.element)===null||we===void 0||we.setAttribute("aria-expanded",`${w}`),this._onDidChangeVisibility.fire(w)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const w=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return w.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let W=null;return this.getAction().tooltip?W=this.getAction().tooltip:this.getAction().label&&(W=this.getAction().label),W??void 0}setActionContext(W){super.setActionContext(W),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=W:this.dropdownMenu.menuOptions={context:W})}updateEnabled(){var W,G;const q=!this.getAction().enabled;(W=this.actionItem)===null||W===void 0||W.classList.toggle("disabled",q),(G=this.element)===null||G===void 0||G.classList.toggle("disabled",q)}}var y=s(8030),g=s(5976),C=s(1432),m=s(63580),i=s(84144),d=s(38819),_=s(5606),v=s(72065),p=s(91847),L=s(59422),T=s(87060),M=s(97781),I=s(92321),P=s(98401),V=function(te,W,G,q){var me=arguments.length,w=me<3?W:q===null?q=Object.getOwnPropertyDescriptor(W,G):q,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(te,W,G,q);else for(var xe=te.length-1;xe>=0;xe--)(we=te[xe])&&(w=(me<3?we(w):me>3?we(W,G,w):we(W,G))||w);return me>3&&w&&Object.defineProperty(W,G,w),w},$=function(te,W){return function(G,q){W(G,q,te)}},re=function(te,W,G,q){function me(w){return w instanceof G?w:new G(function(we){we(w)})}return new(G||(G=Promise))(function(w,we){function xe(Ce){try{Ve(q.next(Ce))}catch(Ae){we(Ae)}}function Ne(Ce){try{Ve(q.throw(Ce))}catch(Ae){we(Ae)}}function Ve(Ce){Ce.done?w(Ce.value):me(Ce.value).then(xe,Ne)}Ve((q=q.apply(te,W||[])).next())})};function ae(te,W,G,q,me,w,we){const xe=te.getActions(W);return se(xe,G,!1,typeof q=="string"?Ve=>Ve===q:q,me,w,we),ie(xe)}function ie(te){const W=new g.SL;for(const[,G]of te)for(const q of G)W.add(q);return W}function se(te,W,G,q=xe=>xe==="navigation",me=Number.MAX_SAFE_INTEGER,w=()=>!1,we=!1){let xe,Ne;Array.isArray(W)?(xe=W,Ne=W):(xe=W.primary,Ne=W.secondary);const Ve=new Set;for(const[Ce,Ae]of te){let $e;q(Ce)?($e=xe,$e.length>0&&we&&$e.push(new E.Z0)):($e=Ne,$e.length>0&&$e.push(new E.Z0));for(let je of Ae){G&&(je=je instanceof i.U8&&je.alt?je.alt:je);const at=$e.push(je);je instanceof E.wY&&Ve.add({group:Ce,action:je,index:at-1})}}for(const{group:Ce,action:Ae,index:$e}of Ve){const je=q(Ce)?xe:Ne,at=Ae.actions;(at.length<=1||je.length+at.length-2<=me)&&w(Ae,Ce,je.length)&&je.splice($e,1,...at)}if(xe!==Ne&&xe.length>me){const Ce=xe.splice(me,xe.length-me);Ne.unshift(...Ce,new E.Z0)}}let X=class extends z.g{constructor(W,G,q,me,w,we,xe){super(void 0,W,{icon:!!(W.class||W.item.icon),label:!W.class&&!W.item.icon,draggable:G?.draggable,keybinding:G?.keybinding,hoverDelegate:G?.hoverDelegate}),this._keybindingService=q,this._notificationService=me,this._contextKeyService=w,this._themeService=we,this._contextMenuService=xe,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new g.XK),this._altKey=b._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(W){return re(this,void 0,void 0,function*(){W.preventDefault(),W.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(G){this._notificationService.error(G)}})}render(W){super.render(W),W.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let G=!1,q=this._altKey.keyStatus.altKey||(C.ED||C.IJ)&&this._altKey.keyStatus.shiftKey;const me=()=>{var w;const we=G&&q&&!!(!((w=this._commandAction.alt)===null||w===void 0)&&w.enabled);we!==this._wantsAltCommand&&(this._wantsAltCommand=we,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(w=>{q=w.altKey||(C.ED||C.IJ)&&w.shiftKey,me()})),this._register((0,b.nm)(W,"mouseleave",w=>{G=!1,me()})),this._register((0,b.nm)(W,"mouseenter",w=>{G=!0,me()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var W;const G=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),q=G&&G.getLabel(),me=this._commandAction.tooltip||this._commandAction.label;let w=q?(0,m.NC)("titleAndKb","{0} ({1})",me,q):me;if(!this._wantsAltCommand&&(!((W=this._menuItemAction.alt)===null||W===void 0)&&W.enabled)){const we=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,xe=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),Ne=xe&&xe.getLabel(),Ve=Ne?(0,m.NC)("titleAndKb","{0} ({1})",we,Ne):we;w=(0,m.NC)("titleAndKbAndAlt",`{0}
[{1}] {2}`,w,y.xo.modifierLabels[C.OS].altKey,Ve)}return w}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(W){var G;this._itemClassDispose.value=void 0;const{element:q,label:me}=this;if(!q||!me)return;const w=this._commandAction.checked&&(!((G=W.toggled)===null||G===void 0)&&G.icon)?W.toggled.icon:W.icon;if(w)if(M.kS.isThemeIcon(w)){const we=M.kS.asClassNameArray(w);me.classList.add(...we),this._itemClassDispose.value=(0,g.OF)(()=>{me.classList.remove(...we)})}else me.style.backgroundImage=(0,I._T)(this._themeService.getColorTheme().type)?(0,b.wY)(w.dark):(0,b.wY)(w.light),me.classList.add("icon"),this._itemClassDispose.value=(0,g.F8)((0,g.OF)(()=>{me.style.backgroundImage="",me.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};X=V([$(2,p.d),$(3,L.lT),$(4,d.i6),$(5,M.XE),$(6,_.i)],X);let ne=class extends O{constructor(W,G,q,me){var w,we;const xe=Object.assign({},G??Object.create(null),{menuAsChild:(w=G?.menuAsChild)!==null&&w!==void 0?w:!1,classNames:(we=G?.classNames)!==null&&we!==void 0?we:M.kS.isThemeIcon(W.item.icon)?M.kS.asClassName(W.item.icon):void 0});super(W,{getActions:()=>W.actions},q,xe),this._contextMenuService=q,this._themeService=me}render(W){super.render(W),(0,P.p_)(this.element),W.classList.add("menu-entry");const G=this._action,{icon:q}=G.item;if(q&&!M.kS.isThemeIcon(q)){this.element.classList.add("icon");const me=()=>{this.element&&(this.element.style.backgroundImage=(0,I._T)(this._themeService.getColorTheme().type)?(0,b.wY)(q.dark):(0,b.wY)(q.light))};me(),this._register(this._themeService.onDidColorThemeChange(()=>{me()}))}}};ne=V([$(2,_.i),$(3,M.XE)],ne);let Q=class extends z.Y{constructor(W,G,q,me,w,we,xe,Ne){var Ve,Ce,Ae;super(null,W),this._keybindingService=q,this._notificationService=me,this._contextMenuService=w,this._menuService=we,this._instaService=xe,this._storageService=Ne,this._container=null,this._options=G,this._storageKey=`${W.item.submenu.id}_lastActionId`;let $e;const je=Ne.get(this._storageKey,1);je&&($e=W.actions.find(pt=>je===pt.id)),$e||($e=W.actions[0]),this._defaultAction=this._instaService.createInstance(X,$e,{keybinding:this._getDefaultActionKeybindingLabel($e)});const at=Object.assign({},G??Object.create(null),{menuAsChild:(Ve=G?.menuAsChild)!==null&&Ve!==void 0?Ve:!0,classNames:(Ce=G?.classNames)!==null&&Ce!==void 0?Ce:["codicon","codicon-chevron-down"],actionRunner:(Ae=G?.actionRunner)!==null&&Ae!==void 0?Ae:new E.Wi});this._dropdown=new O(W,W.actions,this._contextMenuService,at),this._dropdown.actionRunner.onDidRun(pt=>{pt.action instanceof i.U8&&this.update(pt.action)})}update(W){this._storageService.store(this._storageKey,W.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(X,W,{keybinding:this._getDefaultActionKeybindingLabel(W)}),this._defaultAction.actionRunner=new class extends E.Wi{runAction(G,q){return re(this,void 0,void 0,function*(){yield G.run(void 0)})}},this._container&&this._defaultAction.render((0,b.Ce)(this._container,(0,b.$)(".action-container")))}_getDefaultActionKeybindingLabel(W){var G;let q;if(!((G=this._options)===null||G===void 0)&&G.renderKeybindingWithDefaultActionLabel){const me=this._keybindingService.lookupKeybinding(W.id);me&&(q=`(${me.getLabel()})`)}return q}setActionContext(W){super.setActionContext(W),this._defaultAction.setActionContext(W),this._dropdown.setActionContext(W)}render(W){this._container=W,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const G=(0,b.$)(".action-container");this._defaultAction.render((0,b.R3)(this._container,G)),this._register((0,b.nm)(G,b.tw.KEY_DOWN,me=>{const w=new l.y(me);w.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),w.stopPropagation())}));const q=(0,b.$)(".dropdown-action-container");this._dropdown.render((0,b.R3)(this._container,q)),this._register((0,b.nm)(q,b.tw.KEY_DOWN,me=>{var w;const we=new l.y(me);we.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(w=this._defaultAction.element)===null||w===void 0||w.focus(),we.stopPropagation())}))}focus(W){W?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(W){W?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};Q=V([$(2,p.d),$(3,L.lT),$(4,_.i),$(5,i.co),$(6,v.TG),$(7,T.Uy)],Q);function F(te,W,G){return W instanceof i.U8?te.createInstance(X,W,G):W instanceof i.NZ?W.item.rememberDefaultAction?te.createInstance(Q,W,G):te.createInstance(ne,W,G):void 0}},84144:function(Yt,Ye,s){"use strict";s.d(Ye,{BH:function(){return _},NZ:function(){return v},U8:function(){return p},co:function(){return d},eH:function(){return i},vr:function(){return m}});var b=s(74741),l=s(73046),z=s(4669),j=s(53725),E=s(5976),Z=s(91741),B=s(94565),H=s(38819),O=s(72065),y=s(97781),g=function(L,T,M,I){var P=arguments.length,V=P<3?T:I===null?I=Object.getOwnPropertyDescriptor(T,M):I,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(L,T,M,I);else for(var re=L.length-1;re>=0;re--)($=L[re])&&(V=(P<3?$(V):P>3?$(T,M,V):$(T,M))||V);return P>3&&V&&Object.defineProperty(T,M,V),V},C=function(L,T){return function(M,I){T(M,I,L)}};function m(L){return L.command!==void 0}class i{constructor(T){if(i._instances.has(T))throw new TypeError(`MenuId with identifier '${T}' already exists. Use MenuId.for(ident) or a unique identifier`);i._instances.set(T,this),this.id=T}}i._instances=new Map,i.CommandPalette=new i("CommandPalette"),i.DebugBreakpointsContext=new i("DebugBreakpointsContext"),i.DebugCallStackContext=new i("DebugCallStackContext"),i.DebugConsoleContext=new i("DebugConsoleContext"),i.DebugVariablesContext=new i("DebugVariablesContext"),i.DebugWatchContext=new i("DebugWatchContext"),i.DebugToolBar=new i("DebugToolBar"),i.DebugToolBarStop=new i("DebugToolBarStop"),i.EditorContext=new i("EditorContext"),i.SimpleEditorContext=new i("SimpleEditorContext"),i.EditorContextCopy=new i("EditorContextCopy"),i.EditorContextPeek=new i("EditorContextPeek"),i.EditorContextShare=new i("EditorContextShare"),i.EditorTitle=new i("EditorTitle"),i.EditorTitleRun=new i("EditorTitleRun"),i.EditorTitleContext=new i("EditorTitleContext"),i.EmptyEditorGroup=new i("EmptyEditorGroup"),i.EmptyEditorGroupContext=new i("EmptyEditorGroupContext"),i.ExplorerContext=new i("ExplorerContext"),i.ExtensionContext=new i("ExtensionContext"),i.GlobalActivity=new i("GlobalActivity"),i.CommandCenter=new i("CommandCenter"),i.LayoutControlMenuSubmenu=new i("LayoutControlMenuSubmenu"),i.LayoutControlMenu=new i("LayoutControlMenu"),i.MenubarMainMenu=new i("MenubarMainMenu"),i.MenubarAppearanceMenu=new i("MenubarAppearanceMenu"),i.MenubarDebugMenu=new i("MenubarDebugMenu"),i.MenubarEditMenu=new i("MenubarEditMenu"),i.MenubarCopy=new i("MenubarCopy"),i.MenubarFileMenu=new i("MenubarFileMenu"),i.MenubarGoMenu=new i("MenubarGoMenu"),i.MenubarHelpMenu=new i("MenubarHelpMenu"),i.MenubarLayoutMenu=new i("MenubarLayoutMenu"),i.MenubarNewBreakpointMenu=new i("MenubarNewBreakpointMenu"),i.MenubarPanelAlignmentMenu=new i("MenubarPanelAlignmentMenu"),i.MenubarPanelPositionMenu=new i("MenubarPanelPositionMenu"),i.MenubarPreferencesMenu=new i("MenubarPreferencesMenu"),i.MenubarRecentMenu=new i("MenubarRecentMenu"),i.MenubarSelectionMenu=new i("MenubarSelectionMenu"),i.MenubarShare=new i("MenubarShare"),i.MenubarSwitchEditorMenu=new i("MenubarSwitchEditorMenu"),i.MenubarSwitchGroupMenu=new i("MenubarSwitchGroupMenu"),i.MenubarTerminalMenu=new i("MenubarTerminalMenu"),i.MenubarViewMenu=new i("MenubarViewMenu"),i.MenubarHomeMenu=new i("MenubarHomeMenu"),i.OpenEditorsContext=new i("OpenEditorsContext"),i.ProblemsPanelContext=new i("ProblemsPanelContext"),i.SCMChangeContext=new i("SCMChangeContext"),i.SCMResourceContext=new i("SCMResourceContext"),i.SCMResourceFolderContext=new i("SCMResourceFolderContext"),i.SCMResourceGroupContext=new i("SCMResourceGroupContext"),i.SCMSourceControl=new i("SCMSourceControl"),i.SCMTitle=new i("SCMTitle"),i.SearchContext=new i("SearchContext"),i.StatusBarWindowIndicatorMenu=new i("StatusBarWindowIndicatorMenu"),i.StatusBarRemoteIndicatorMenu=new i("StatusBarRemoteIndicatorMenu"),i.TestItem=new i("TestItem"),i.TestItemGutter=new i("TestItemGutter"),i.TestPeekElement=new i("TestPeekElement"),i.TestPeekTitle=new i("TestPeekTitle"),i.TouchBarContext=new i("TouchBarContext"),i.TitleBarContext=new i("TitleBarContext"),i.TitleBarTitleContext=new i("TitleBarTitleContext"),i.TunnelContext=new i("TunnelContext"),i.TunnelPrivacy=new i("TunnelPrivacy"),i.TunnelProtocol=new i("TunnelProtocol"),i.TunnelPortInline=new i("TunnelInline"),i.TunnelTitle=new i("TunnelTitle"),i.TunnelLocalAddressInline=new i("TunnelLocalAddressInline"),i.TunnelOriginInline=new i("TunnelOriginInline"),i.ViewItemContext=new i("ViewItemContext"),i.ViewContainerTitle=new i("ViewContainerTitle"),i.ViewContainerTitleContext=new i("ViewContainerTitleContext"),i.ViewTitle=new i("ViewTitle"),i.ViewTitleContext=new i("ViewTitleContext"),i.CommentThreadTitle=new i("CommentThreadTitle"),i.CommentThreadActions=new i("CommentThreadActions"),i.CommentTitle=new i("CommentTitle"),i.CommentActions=new i("CommentActions"),i.InteractiveToolbar=new i("InteractiveToolbar"),i.InteractiveCellTitle=new i("InteractiveCellTitle"),i.InteractiveCellDelete=new i("InteractiveCellDelete"),i.InteractiveCellExecute=new i("InteractiveCellExecute"),i.InteractiveInputExecute=new i("InteractiveInputExecute"),i.NotebookToolbar=new i("NotebookToolbar"),i.NotebookCellTitle=new i("NotebookCellTitle"),i.NotebookCellDelete=new i("NotebookCellDelete"),i.NotebookCellInsert=new i("NotebookCellInsert"),i.NotebookCellBetween=new i("NotebookCellBetween"),i.NotebookCellListTop=new i("NotebookCellTop"),i.NotebookCellExecute=new i("NotebookCellExecute"),i.NotebookCellExecutePrimary=new i("NotebookCellExecutePrimary"),i.NotebookDiffCellInputTitle=new i("NotebookDiffCellInputTitle"),i.NotebookDiffCellMetadataTitle=new i("NotebookDiffCellMetadataTitle"),i.NotebookDiffCellOutputsTitle=new i("NotebookDiffCellOutputsTitle"),i.NotebookOutputToolbar=new i("NotebookOutputToolbar"),i.NotebookEditorLayoutConfigure=new i("NotebookEditorLayoutConfigure"),i.NotebookKernelSource=new i("NotebookKernelSource"),i.BulkEditTitle=new i("BulkEditTitle"),i.BulkEditContext=new i("BulkEditContext"),i.TimelineItemContext=new i("TimelineItemContext"),i.TimelineTitle=new i("TimelineTitle"),i.TimelineTitleContext=new i("TimelineTitleContext"),i.TimelineFilterSubMenu=new i("TimelineFilterSubMenu"),i.AccountsContext=new i("AccountsContext"),i.PanelTitle=new i("PanelTitle"),i.AuxiliaryBarTitle=new i("AuxiliaryBarTitle"),i.TerminalInstanceContext=new i("TerminalInstanceContext"),i.TerminalEditorInstanceContext=new i("TerminalEditorInstanceContext"),i.TerminalNewDropdownContext=new i("TerminalNewDropdownContext"),i.TerminalTabContext=new i("TerminalTabContext"),i.TerminalTabEmptyAreaContext=new i("TerminalTabEmptyAreaContext"),i.TerminalInlineTabContext=new i("TerminalInlineTabContext"),i.WebviewContext=new i("WebviewContext"),i.InlineCompletionsActions=new i("InlineCompletionsActions"),i.NewFile=new i("NewFile"),i.MergeToolbar=new i("MergeToolbar"),i.MergeInput1Toolbar=new i("MergeToolbar1Toolbar"),i.MergeInput2Toolbar=new i("MergeToolbar2Toolbar");const d=(0,O.yh)("menuService"),_=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new z.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:L=>L===i.CommandPalette}}addCommand(L){return this.addCommands(j.$.single(L))}addCommands(L){for(const T of L)this._commands.set(T.id,T);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,E.OF)(()=>{let T=!1;for(const M of L)T=this._commands.delete(M.id)||T;T&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(L){return this._commands.get(L)}getCommands(){const L=new Map;return this._commands.forEach((T,M)=>L.set(M,T)),L}appendMenuItem(L,T){return this.appendMenuItems(j.$.single({id:L,item:T}))}appendMenuItems(L){const T=new Set,M=new Z.S;for(const{id:I,item:P}of L){let V=this._menuItems.get(I);V||(V=new Z.S,this._menuItems.set(I,V)),M.push(V.push(P)),T.add(I)}return this._onDidChangeMenu.fire(T),(0,E.OF)(()=>{if(M.size>0){for(const I of M)I();this._onDidChangeMenu.fire(T),M.clear()}})}getMenuItems(L){let T;return this._menuItems.has(L)?T=[...this._menuItems.get(L)]:T=[],L===i.CommandPalette&&this._appendImplicitItems(T),T}_appendImplicitItems(L){const T=new Set;for(const M of L)m(M)&&(T.add(M.command.id),M.alt&&T.add(M.alt.id));this._commands.forEach((M,I)=>{T.has(I)||L.push({command:M})})}};class v extends b.wY{constructor(T,M,I,P){super(`submenuitem.${T.submenu.id}`,typeof T.title=="string"?T.title:T.title.value,[],"submenu"),this.item=T,this._menuService=M,this._contextKeyService=I,this._options=P}get actions(){const T=[],M=this._menuService.createMenu(this.item.submenu,this._contextKeyService),I=M.getActions(this._options);M.dispose();for(const[,P]of I)P.length>0&&(T.push(...P),T.push(new b.Z0));return T.length&&T.pop(),T}}let p=class _f{constructor(T,M,I,P,V,$){var re,ae;if(this.hideActions=P,this._commandService=$,this.id=T.id,this.label=I?.renderShortTitle&&T.shortTitle?typeof T.shortTitle=="string"?T.shortTitle:T.shortTitle.value:typeof T.title=="string"?T.title:T.title.value,this.tooltip=(ae=typeof T.tooltip=="string"?T.tooltip:(re=T.tooltip)===null||re===void 0?void 0:re.value)!==null&&ae!==void 0?ae:"",this.enabled=!T.precondition||V.contextMatchesRules(T.precondition),this.checked=void 0,T.toggled){const ie=T.toggled.condition?T.toggled:{condition:T.toggled};this.checked=V.contextMatchesRules(ie.condition),this.checked&&ie.tooltip&&(this.tooltip=typeof ie.tooltip=="string"?ie.tooltip:ie.tooltip.value),ie.title&&(this.label=typeof ie.title=="string"?ie.title:ie.title.value)}this.item=T,this.alt=M?new _f(M,void 0,I,P,V,$):void 0,this._options=I,y.kS.isThemeIcon(T.icon)&&(this.class=l.dT.asClassName(T.icon))}dispose(){}run(...T){var M,I;let P=[];return!((M=this._options)===null||M===void 0)&&M.arg&&(P=[...P,this._options.arg]),!((I=this._options)===null||I===void 0)&&I.shouldForwardArgs&&(P=[...P,...T]),this._commandService.executeCommand(this.id,...P)}};p=g([C(4,H.i6),C(5,B.Hy)],p)},84972:function(Yt,Ye,s){"use strict";s.d(Ye,{p:function(){return l}});var b=s(72065);const l=(0,b.yh)("clipboardService")},94565:function(Yt,Ye,s){"use strict";s.d(Ye,{Hy:function(){return B},P0:function(){return H}});var b=s(4669),l=s(53725),z=s(5976),j=s(91741),E=s(98401),Z=s(72065);const B=(0,Z.yh)("commandService"),H=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new b.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(y,g){if(!y)throw new Error("invalid command");if(typeof y=="string"){if(!g)throw new Error("invalid command");return this.registerCommand({id:y,handler:g})}if(y.description){const _=[];for(const p of y.description.args)_.push(p.constraint);const v=y.handler;y.handler=function(p,...L){return(0,E.D8)(L,_),v(p,...L)}}const{id:C}=y;let m=this._commands.get(C);m||(m=new j.S,this._commands.set(C,m));const i=m.unshift(y),d=(0,z.OF)(()=>{i();const _=this._commands.get(C);_?.isEmpty()&&this._commands.delete(C)});return this._onDidRegisterCommand.fire(C),d}registerCommandAlias(y,g){return H.registerCommand(y,(C,...m)=>C.get(B).executeCommand(g,...m))}getCommand(y){const g=this._commands.get(y);if(!(!g||g.isEmpty()))return l.$.first(g)}getCommands(){const y=new Map;for(const g of this._commands.keys()){const C=this.getCommand(g);C&&y.set(g,C)}return y}},O={_serviceBrand:void 0,onWillExecuteCommand:()=>z.JT.None,onDidExecuteCommand:()=>z.JT.None,executeCommand(){return Promise.resolve(void 0)}};H.registerCommand("noop",()=>{})},33108:function(Yt,Ye,s){"use strict";s.d(Ye,{KV:function(){return j},Mt:function(){return B},Od:function(){return z},UI:function(){return H},Ui:function(){return l},xL:function(){return E}});var b=s(72065);const l=(0,b.yh)("configurationService");function z(O,y){const g=Object.create(null);for(const C in O)j(g,C,O[C],y);return g}function j(O,y,g,C){const m=y.split("."),i=m.pop();let d=O;for(let _=0;_<m.length;_++){const v=m[_];let p=d[v];switch(typeof p){case"undefined":p=d[v]=Object.create(null);break;case"object":break;default:C(`Ignoring ${y} as ${m.slice(0,_+1).join(".")} is ${JSON.stringify(p)}`);return}d=p}if(typeof d=="object"&&d!==null)try{d[i]=g}catch{C(`Ignoring ${y} as ${m.join(".")} is ${JSON.stringify(d)}`)}else C(`Ignoring ${y} as ${m.join(".")} is ${JSON.stringify(d)}`)}function E(O,y){const g=y.split(".");Z(O,g)}function Z(O,y){const g=y.shift();if(y.length===0){delete O[g];return}if(Object.keys(O).indexOf(g)!==-1){const C=O[g];typeof C=="object"&&!Array.isArray(C)&&(Z(C,y),Object.keys(C).length===0&&delete O[g])}}function B(O,y,g){function C(d,_){let v=d;for(const p of _){if(typeof v!="object"||v===null)return;v=v[p]}return v}const m=y.split("."),i=C(O,m);return typeof i>"u"?g:i}function H(O){return O.replace(/[\[\]]/g,"")}},23193:function(Yt,Ye,s){"use strict";s.d(Ye,{IP:function(){return H},eU:function(){return M},ny:function(){return I}});var b=s(9488),l=s(4669),z=s(98401),j=s(63580),E=s(33108),Z=s(81294),B=s(89872);const H={Configuration:"base.contributions.configuration"},O={properties:{},patternProperties:{}},y={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},C={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},i={properties:{},patternProperties:{}},d="vscode://schemas/settings/resourceLanguage",_=B.B.as(Z.I.JSONContribution);class v{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new l.Q5,this._onDidUpdateConfiguration=new l.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:j.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},_.registerSchema(d,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(ae,ie=!0){this.registerConfigurations([ae],ie)}registerConfigurations(ae,ie=!0){const se=this.doRegisterConfigurations(ae,ie);_.registerSchema(d,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:se})}registerDefaultConfigurations(ae){var ie;const se=[],X=[];for(const{overrides:ne,source:Q}of ae)for(const F in ne)if(se.push(F),M.test(F)){const te=this.configurationDefaultsOverrides.get(F),W=(ie=te?.valuesSources)!==null&&ie!==void 0?ie:new Map;if(Q)for(const w of Object.keys(ne[F]))W.set(w,Q);const G=Object.assign(Object.assign({},te?.value||{}),ne[F]);this.configurationDefaultsOverrides.set(F,{source:Q,value:G,valuesSources:W});const q=(0,E.UI)(F),me={type:"object",default:G,description:j.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",q),$ref:d,defaultDefaultValue:G,source:z.HD(Q)?void 0:Q,defaultValueSource:Q};X.push(...I(F)),this.configurationProperties[F]=me,this.defaultLanguageConfigurationOverridesNode.properties[F]=me}else{this.configurationDefaultsOverrides.set(F,{value:ne[F],source:Q});const te=this.configurationProperties[F];te&&(this.updatePropertyDefaultValue(F,te),this.updateSchema(F,te))}this.registerOverrideIdentifiers(X),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:se,defaultsOverrides:!0})}registerOverrideIdentifiers(ae){for(const ie of ae)this.overrideIdentifiers.add(ie);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(ae,ie){const se=[];return ae.forEach(X=>{se.push(...this.validateAndRegisterProperties(X,ie,X.extensionInfo,X.restrictedProperties)),this.configurationContributors.push(X),this.registerJSONConfiguration(X)}),se}validateAndRegisterProperties(ae,ie=!0,se,X,ne=3){var Q;ne=z.Jp(ae.scope)?ne:ae.scope;const F=[],te=ae.properties;if(te)for(const G in te){const q=te[G];if(ie&&$(G,q)){delete te[G];continue}if(q.source=se,q.defaultDefaultValue=te[G].default,this.updatePropertyDefaultValue(G,q),M.test(G)?q.scope=void 0:(q.scope=z.Jp(q.scope)?ne:q.scope,q.restricted=z.Jp(q.restricted)?!!X?.includes(G):q.restricted),te[G].hasOwnProperty("included")&&!te[G].included){this.excludedConfigurationProperties[G]=te[G],delete te[G];continue}else this.configurationProperties[G]=te[G],!((Q=te[G].policy)===null||Q===void 0)&&Q.name&&this.policyConfigurations.set(te[G].policy.name,G);!te[G].deprecationMessage&&te[G].markdownDeprecationMessage&&(te[G].deprecationMessage=te[G].markdownDeprecationMessage),F.push(G)}const W=ae.allOf;if(W)for(const G of W)F.push(...this.validateAndRegisterProperties(G,ie,se,X,ne));return F}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(ae){const ie=se=>{const X=se.properties;if(X)for(const Q in X)this.updateSchema(Q,X[Q]);const ne=se.allOf;ne?.forEach(ie)};ie(ae)}updateSchema(ae,ie){switch(O.properties[ae]=ie,ie.scope){case 1:y.properties[ae]=ie;break;case 2:g.properties[ae]=ie;break;case 6:C.properties[ae]=ie;break;case 3:m.properties[ae]=ie;break;case 4:i.properties[ae]=ie;break;case 5:i.properties[ae]=ie,this.resourceLanguageSettingsSchema.properties[ae]=ie;break}}updateOverridePropertyPatternKey(){for(const ae of this.overrideIdentifiers.values()){const ie=`[${ae}]`,se={type:"object",description:j.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:j.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:d};this.updatePropertyDefaultValue(ie,se),O.properties[ie]=se,y.properties[ie]=se,g.properties[ie]=se,C.properties[ie]=se,m.properties[ie]=se,i.properties[ie]=se}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const ae={type:"object",description:j.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:j.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:d};O.patternProperties[T]=ae,y.patternProperties[T]=ae,g.patternProperties[T]=ae,C.patternProperties[T]=ae,m.patternProperties[T]=ae,i.patternProperties[T]=ae,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(ae,ie){const se=this.configurationDefaultsOverrides.get(ae);let X=se?.value,ne=se?.source;z.o8(X)&&(X=ie.defaultDefaultValue,ne=void 0),z.o8(X)&&(X=P(ie.type)),ie.default=X,ie.defaultValueSource=ne}}const p="\\[([^\\]]+)\\]",L=new RegExp(p,"g"),T=`^(${p})+$`,M=new RegExp(T);function I(re){const ae=[];if(M.test(re)){let ie=L.exec(re);for(;ie?.length;){const se=ie[1].trim();se&&ae.push(se),ie=L.exec(re)}}return(0,b.EB)(ae)}function P(re){switch(Array.isArray(re)?re[0]:re){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const V=new v;B.B.add(H.Configuration,V);function $(re,ae){var ie,se,X,ne;return re.trim()?M.test(re)?j.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",re):V.getConfigurationProperties()[re]!==void 0?j.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",re):!((ie=ae.policy)===null||ie===void 0)&&ie.name&&V.getPolicyConfigurations().get((se=ae.policy)===null||se===void 0?void 0:se.name)!==void 0?j.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",re,(X=ae.policy)===null||X===void 0?void 0:X.name,V.getPolicyConfigurations().get((ne=ae.policy)===null||ne===void 0?void 0:ne.name)):null:j.NC("config.property.empty","Cannot register an empty property")}},38819:function(Yt,Ye,s){"use strict";s.d(Ye,{Ao:function(){return Z},Eq:function(){return se},Fb:function(){return B},K8:function(){return Q},i6:function(){return ie},uy:function(){return ae}});var b=s(1432),l=s(97295),z=s(72065);const j=new Map;j.set("false",!1),j.set("true",!0),j.set("isMac",b.dz),j.set("isLinux",b.IJ),j.set("isWindows",b.ED),j.set("isWeb",b.$L),j.set("isMacNative",b.dz&&!b.$L),j.set("isEdge",b.un),j.set("isFirefox",b.vU),j.set("isChrome",b.i7),j.set("isSafari",b.G6);const E=Object.prototype.hasOwnProperty;class Z{static has(W){return g.create(W)}static equals(W,G){return C.create(W,G)}static regex(W,G){return I.create(W,G)}static not(W){return _.create(W)}static and(...W){return $.create(W,null)}static or(...W){return re.create(W,null,!0)}static deserialize(W,G=!1){if(W)return this._deserializeOrExpression(W,G)}static _deserializeOrExpression(W,G){const q=W.split("||");return re.create(q.map(me=>this._deserializeAndExpression(me,G)),null,!0)}static _deserializeAndExpression(W,G){const q=W.split("&&");return $.create(q.map(me=>this._deserializeOne(me,G)),null)}static _deserializeOne(W,G){if(W=W.trim(),W.indexOf("!=")>=0){const q=W.split("!=");return d.create(q[0].trim(),this._deserializeValue(q[1],G))}if(W.indexOf("==")>=0){const q=W.split("==");return C.create(q[0].trim(),this._deserializeValue(q[1],G))}if(W.indexOf("=~")>=0){const q=W.split("=~");return I.create(q[0].trim(),this._deserializeRegexValue(q[1],G))}if(W.indexOf(" not in ")>=0){const q=W.split(" not in ");return i.create(q[0].trim(),q[1].trim())}if(W.indexOf(" in ")>=0){const q=W.split(" in ");return m.create(q[0].trim(),q[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(W)){const q=W.split(">=");return L.create(q[0].trim(),q[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(W)){const q=W.split(">");return p.create(q[0].trim(),q[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(W)){const q=W.split("<=");return M.create(q[0].trim(),q[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(W)){const q=W.split("<");return T.create(q[0].trim(),q[1].trim())}return/^\!\s*/.test(W)?_.create(W.substr(1).trim()):g.create(W)}static _deserializeValue(W,G){if(W=W.trim(),W==="true")return!0;if(W==="false")return!1;const q=/^'([^']*)'$/.exec(W);return q?q[1].trim():W}static _deserializeRegexValue(W,G){if((0,l.m5)(W)){if(G)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const q=W.indexOf("/"),me=W.lastIndexOf("/");if(q===me||q<0){if(G)throw new Error(`bad regexp-value '${W}', missing /-enclosure`);return console.warn(`bad regexp-value '${W}', missing /-enclosure`),null}const w=W.slice(q+1,me),we=W[me+1]==="i"?"i":"";try{return new RegExp(w,we)}catch(xe){if(G)throw new Error(`bad regexp-value '${W}', parse error: ${xe}`);return console.warn(`bad regexp-value '${W}', parse error: ${xe}`),null}}}function B(te,W){const G=te?te.substituteConstants():void 0,q=W?W.substituteConstants():void 0;return!G&&!q?!0:!G||!q?!1:G.equals(q)}function H(te,W){return te.cmp(W)}class O{constructor(){this.type=0}cmp(W){return this.type-W.type}equals(W){return W.type===this.type}substituteConstants(){return this}evaluate(W){return!1}serialize(){return"false"}keys(){return[]}negate(){return y.INSTANCE}}O.INSTANCE=new O;class y{constructor(){this.type=1}cmp(W){return this.type-W.type}equals(W){return W.type===this.type}substituteConstants(){return this}evaluate(W){return!0}serialize(){return"true"}keys(){return[]}negate(){return O.INSTANCE}}y.INSTANCE=new y;class g{constructor(W,G){this.key=W,this.negated=G,this.type=2}static create(W,G=null){const q=j.get(W);return typeof q=="boolean"?q?y.INSTANCE:O.INSTANCE:new g(W,G)}cmp(W){return W.type!==this.type?this.type-W.type:X(this.key,W.key)}equals(W){return W.type===this.type?this.key===W.key:!1}substituteConstants(){const W=j.get(this.key);return typeof W=="boolean"?W?y.INSTANCE:O.INSTANCE:this}evaluate(W){return!!W.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=_.create(this.key,this)),this.negated}}class C{constructor(W,G,q){this.key=W,this.value=G,this.negated=q,this.type=4}static create(W,G,q=null){if(typeof G=="boolean")return G?g.create(W,q):_.create(W,q);const me=j.get(W);return typeof me=="boolean"?G===(me?"true":"false")?y.INSTANCE:O.INSTANCE:new C(W,G,q)}cmp(W){return W.type!==this.type?this.type-W.type:ne(this.key,this.value,W.key,W.value)}equals(W){return W.type===this.type?this.key===W.key&&this.value===W.value:!1}substituteConstants(){const W=j.get(this.key);if(typeof W=="boolean"){const G=W?"true":"false";return this.value===G?y.INSTANCE:O.INSTANCE}return this}evaluate(W){return W.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this.value,this)),this.negated}}class m{constructor(W,G){this.key=W,this.valueKey=G,this.type=10,this.negated=null}static create(W,G){return new m(W,G)}cmp(W){return W.type!==this.type?this.type-W.type:ne(this.key,this.valueKey,W.key,W.valueKey)}equals(W){return W.type===this.type?this.key===W.key&&this.valueKey===W.valueKey:!1}substituteConstants(){return this}evaluate(W){const G=W.getValue(this.valueKey),q=W.getValue(this.key);return Array.isArray(G)?G.includes(q):typeof q=="string"&&typeof G=="object"&&G!==null?E.call(G,q):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=i.create(this.key,this.valueKey)),this.negated}}class i{constructor(W,G){this.key=W,this.valueKey=G,this.type=11,this._negated=m.create(W,G)}static create(W,G){return new i(W,G)}cmp(W){return W.type!==this.type?this.type-W.type:this._negated.cmp(W._negated)}equals(W){return W.type===this.type?this._negated.equals(W._negated):!1}substituteConstants(){return this}evaluate(W){return!this._negated.evaluate(W)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class d{constructor(W,G,q){this.key=W,this.value=G,this.negated=q,this.type=5}static create(W,G,q=null){if(typeof G=="boolean")return G?_.create(W,q):g.create(W,q);const me=j.get(W);return typeof me=="boolean"?G===(me?"true":"false")?O.INSTANCE:y.INSTANCE:new d(W,G,q)}cmp(W){return W.type!==this.type?this.type-W.type:ne(this.key,this.value,W.key,W.value)}equals(W){return W.type===this.type?this.key===W.key&&this.value===W.value:!1}substituteConstants(){const W=j.get(this.key);if(typeof W=="boolean"){const G=W?"true":"false";return this.value===G?O.INSTANCE:y.INSTANCE}return this}evaluate(W){return W.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this.value,this)),this.negated}}class _{constructor(W,G){this.key=W,this.negated=G,this.type=3}static create(W,G=null){const q=j.get(W);return typeof q=="boolean"?q?O.INSTANCE:y.INSTANCE:new _(W,G)}cmp(W){return W.type!==this.type?this.type-W.type:X(this.key,W.key)}equals(W){return W.type===this.type?this.key===W.key:!1}substituteConstants(){const W=j.get(this.key);return typeof W=="boolean"?W?O.INSTANCE:y.INSTANCE:this}evaluate(W){return!W.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this)),this.negated}}function v(te,W){if(typeof te=="string"){const G=parseFloat(te);isNaN(G)||(te=G)}return typeof te=="string"||typeof te=="number"?W(te):O.INSTANCE}class p{constructor(W,G,q){this.key=W,this.value=G,this.negated=q,this.type=12}static create(W,G,q=null){return v(G,me=>new p(W,me,q))}cmp(W){return W.type!==this.type?this.type-W.type:ne(this.key,this.value,W.key,W.value)}equals(W){return W.type===this.type?this.key===W.key&&this.value===W.value:!1}substituteConstants(){return this}evaluate(W){return typeof this.value=="string"?!1:parseFloat(W.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}class L{constructor(W,G,q){this.key=W,this.value=G,this.negated=q,this.type=13}static create(W,G,q=null){return v(G,me=>new L(W,me,q))}cmp(W){return W.type!==this.type?this.type-W.type:ne(this.key,this.value,W.key,W.value)}equals(W){return W.type===this.type?this.key===W.key&&this.value===W.value:!1}substituteConstants(){return this}evaluate(W){return typeof this.value=="string"?!1:parseFloat(W.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=T.create(this.key,this.value,this)),this.negated}}class T{constructor(W,G,q){this.key=W,this.value=G,this.negated=q,this.type=14}static create(W,G,q=null){return v(G,me=>new T(W,me,q))}cmp(W){return W.type!==this.type?this.type-W.type:ne(this.key,this.value,W.key,W.value)}equals(W){return W.type===this.type?this.key===W.key&&this.value===W.value:!1}substituteConstants(){return this}evaluate(W){return typeof this.value=="string"?!1:parseFloat(W.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=L.create(this.key,this.value,this)),this.negated}}class M{constructor(W,G,q){this.key=W,this.value=G,this.negated=q,this.type=15}static create(W,G,q=null){return v(G,me=>new M(W,me,q))}cmp(W){return W.type!==this.type?this.type-W.type:ne(this.key,this.value,W.key,W.value)}equals(W){return W.type===this.type?this.key===W.key&&this.value===W.value:!1}substituteConstants(){return this}evaluate(W){return typeof this.value=="string"?!1:parseFloat(W.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}class I{constructor(W,G){this.key=W,this.regexp=G,this.type=7,this.negated=null}static create(W,G){return new I(W,G)}cmp(W){if(W.type!==this.type)return this.type-W.type;if(this.key<W.key)return-1;if(this.key>W.key)return 1;const G=this.regexp?this.regexp.source:"",q=W.regexp?W.regexp.source:"";return G<q?-1:G>q?1:0}equals(W){if(W.type===this.type){const G=this.regexp?this.regexp.source:"",q=W.regexp?W.regexp.source:"";return this.key===W.key&&G===q}return!1}substituteConstants(){return this}evaluate(W){const G=W.getValue(this.key);return this.regexp?this.regexp.test(G):!1}serialize(){const W=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${W}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this)),this.negated}}class P{constructor(W){this._actual=W,this.type=8}static create(W){return new P(W)}cmp(W){return W.type!==this.type?this.type-W.type:this._actual.cmp(W._actual)}equals(W){return W.type===this.type?this._actual.equals(W._actual):!1}substituteConstants(){return this}evaluate(W){return!this._actual.evaluate(W)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function V(te){let W=null;for(let G=0,q=te.length;G<q;G++){const me=te[G].substituteConstants();if(te[G]!==me&&W===null){W=[];for(let w=0;w<G;w++)W[w]=te[w]}W!==null&&(W[G]=me)}return W===null?te:W}class ${constructor(W,G){this.expr=W,this.negated=G,this.type=6}static create(W,G){return $._normalizeArr(W,G)}cmp(W){if(W.type!==this.type)return this.type-W.type;if(this.expr.length<W.expr.length)return-1;if(this.expr.length>W.expr.length)return 1;for(let G=0,q=this.expr.length;G<q;G++){const me=H(this.expr[G],W.expr[G]);if(me!==0)return me}return 0}equals(W){if(W.type===this.type){if(this.expr.length!==W.expr.length)return!1;for(let G=0,q=this.expr.length;G<q;G++)if(!this.expr[G].equals(W.expr[G]))return!1;return!0}return!1}substituteConstants(){const W=V(this.expr);return W===this.expr?this:$.create(W,this.negated)}evaluate(W){for(let G=0,q=this.expr.length;G<q;G++)if(!this.expr[G].evaluate(W))return!1;return!0}static _normalizeArr(W,G){const q=[];let me=!1;for(const w of W)if(w){if(w.type===1){me=!0;continue}if(w.type===0)return O.INSTANCE;if(w.type===6){q.push(...w.expr);continue}q.push(w)}if(q.length===0&&me)return y.INSTANCE;if(q.length!==0){if(q.length===1)return q[0];q.sort(H);for(let w=1;w<q.length;w++)q[w-1].equals(q[w])&&(q.splice(w,1),w--);if(q.length===1)return q[0];for(;q.length>1;){const w=q[q.length-1];if(w.type!==9)break;q.pop();const we=q.pop(),xe=q.length===0,Ne=re.create(w.expr.map(Ve=>$.create([Ve,we],null)),null,xe);Ne&&(q.push(Ne),q.sort(H))}return q.length===1?q[0]:new $(q,G)}}serialize(){return this.expr.map(W=>W.serialize()).join(" && ")}keys(){const W=[];for(const G of this.expr)W.push(...G.keys());return W}negate(){if(!this.negated){const W=[];for(const G of this.expr)W.push(G.negate());this.negated=re.create(W,this,!0)}return this.negated}}class re{constructor(W,G){this.expr=W,this.negated=G,this.type=9}static create(W,G,q){return re._normalizeArr(W,G,q)}cmp(W){if(W.type!==this.type)return this.type-W.type;if(this.expr.length<W.expr.length)return-1;if(this.expr.length>W.expr.length)return 1;for(let G=0,q=this.expr.length;G<q;G++){const me=H(this.expr[G],W.expr[G]);if(me!==0)return me}return 0}equals(W){if(W.type===this.type){if(this.expr.length!==W.expr.length)return!1;for(let G=0,q=this.expr.length;G<q;G++)if(!this.expr[G].equals(W.expr[G]))return!1;return!0}return!1}substituteConstants(){const W=V(this.expr);return W===this.expr?this:re.create(W,this.negated,!1)}evaluate(W){for(let G=0,q=this.expr.length;G<q;G++)if(this.expr[G].evaluate(W))return!0;return!1}static _normalizeArr(W,G,q){let me=[],w=!1;if(W){for(let we=0,xe=W.length;we<xe;we++){const Ne=W[we];if(Ne){if(Ne.type===0){w=!0;continue}if(Ne.type===1)return y.INSTANCE;if(Ne.type===9){me=me.concat(Ne.expr);continue}me.push(Ne)}}if(me.length===0&&w)return O.INSTANCE;me.sort(H)}if(me.length!==0){if(me.length===1)return me[0];for(let we=1;we<me.length;we++)me[we-1].equals(me[we])&&(me.splice(we,1),we--);if(me.length===1)return me[0];if(q){for(let we=0;we<me.length;we++)for(let xe=we+1;xe<me.length;xe++)Q(me[we],me[xe])&&(me.splice(xe,1),xe--);if(me.length===1)return me[0]}return new re(me,G)}}serialize(){return this.expr.map(W=>W.serialize()).join(" || ")}keys(){const W=[];for(const G of this.expr)W.push(...G.keys());return W}negate(){if(!this.negated){const W=[];for(const G of this.expr)W.push(G.negate());for(;W.length>1;){const G=W.shift(),q=W.shift(),me=[];for(const we of F(G))for(const xe of F(q))me.push($.create([we,xe],null));const w=W.length===0;W.unshift(re.create(me,null,w))}this.negated=W[0]}return this.negated}}class ae extends g{constructor(W,G,q){super(W,null),this._defaultValue=G,typeof q=="object"?ae._info.push(Object.assign(Object.assign({},q),{key:W})):q!==!0&&ae._info.push({key:W,description:q,type:G!=null?typeof G:void 0})}static all(){return ae._info.values()}bindTo(W){return W.createKey(this.key,this._defaultValue)}getValue(W){return W.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(W){return C.create(this.key,W)}}ae._info=[];const ie=(0,z.yh)("contextKeyService"),se="setContext";function X(te,W){return te<W?-1:te>W?1:0}function ne(te,W,G,q){return te<G?-1:te>G?1:W<q?-1:W>q?1:0}function Q(te,W){if(W.type===6&&te.type!==9&&te.type!==6){for(const me of W.expr)if(te.equals(me))return!0}const G=te.negate(),q=F(G).concat(F(W));q.sort(H);for(let me=0;me<q.length;me++){const we=q[me].negate();for(let xe=me+1;xe<q.length;xe++){const Ne=q[xe];if(we.equals(Ne))return!0}}return!1}function F(te){return te.type===9?te.expr:[te]}},39282:function(Yt,Ye,s){"use strict";s.d(Ye,{cv:function(){return Z},d0:function(){return C}});var b=s(1432),l=s(63580),z=s(38819);const j=new z.uy("isMac",b.dz,(0,l.NC)("isMac","Whether the operating system is macOS")),E=new z.uy("isLinux",b.IJ,(0,l.NC)("isLinux","Whether the operating system is Linux")),Z=new z.uy("isWindows",b.ED,(0,l.NC)("isWindows","Whether the operating system is Windows")),B=new z.uy("isWeb",b.$L,(0,l.NC)("isWeb","Whether the platform is a web browser")),H=new z.uy("isMacNative",b.dz&&!b.$L,(0,l.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),O=new z.uy("isIOS",b.gn,(0,l.NC)("isIOS","Whether the operating system is iOS")),y=new z.uy("isDevelopment",!1,!0),g=new z.uy("productQualityType","",(0,l.NC)("productQualityType","Quality type of VS Code")),C="inputFocus",m=new z.uy(C,!1,(0,l.NC)("inputFocus","Whether keyboard focus is inside an input box"))},5606:function(Yt,Ye,s){"use strict";s.d(Ye,{i:function(){return z},u:function(){return l}});var b=s(72065);const l=(0,b.yh)("contextViewService"),z=(0,b.yh)("contextMenuService")},28820:function(Yt,Ye,s){"use strict";s.d(Ye,{S:function(){return l}});var b=s(72065);const l=(0,b.yh)("dialogService")},37726:function(Yt,Ye,s){"use strict";s.d(Ye,{Yb:function(){return re},Nq:function(){return ae},iX:function(){return L}});var b=s(3070),l=s(65321),z=s(40032),j=s(97862),E=s(93794),Z=s(73046),B=s(4669),H=s(60812),O=s(63580);const y=O.NC("defaultLabel","input"),g=O.NC("label.preserveCaseToggle","Preserve Case");class C extends z.Z{constructor(se){super({icon:Z.lA.preserveCase,title:g+se.appendTitle,isChecked:se.isChecked,inputActiveOptionBorder:se.inputActiveOptionBorder,inputActiveOptionForeground:se.inputActiveOptionForeground,inputActiveOptionBackground:se.inputActiveOptionBackground})}}class m extends E.${constructor(se,X,ne,Q){super(),this._showOptionButtons=ne,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new B.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new B.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new B.Q5),this._onInput=this._register(new B.Q5),this._onKeyUp=this._register(new B.Q5),this._onPreserveCaseKeyDown=this._register(new B.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=X,this.placeholder=Q.placeholder||"",this.validation=Q.validation,this.label=Q.label||y,this.inputActiveOptionBorder=Q.inputActiveOptionBorder,this.inputActiveOptionForeground=Q.inputActiveOptionForeground,this.inputActiveOptionBackground=Q.inputActiveOptionBackground,this.inputBackground=Q.inputBackground,this.inputForeground=Q.inputForeground,this.inputBorder=Q.inputBorder,this.inputValidationInfoBorder=Q.inputValidationInfoBorder,this.inputValidationInfoBackground=Q.inputValidationInfoBackground,this.inputValidationInfoForeground=Q.inputValidationInfoForeground,this.inputValidationWarningBorder=Q.inputValidationWarningBorder,this.inputValidationWarningBackground=Q.inputValidationWarningBackground,this.inputValidationWarningForeground=Q.inputValidationWarningForeground,this.inputValidationErrorBorder=Q.inputValidationErrorBorder,this.inputValidationErrorBackground=Q.inputValidationErrorBackground,this.inputValidationErrorForeground=Q.inputValidationErrorForeground;const F=Q.appendPreserveCaseLabel||"",te=Q.history||[],W=!!Q.flexibleHeight,G=!!Q.flexibleWidth,q=Q.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new j.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:te,showHistoryHint:Q.showHistoryHint,flexibleHeight:W,flexibleWidth:G,flexibleMaxHeight:q})),this.preserveCase=this._register(new C({appendTitle:F,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(we=>{this._onDidOptionChange.fire(we),!we&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(we=>{this._onPreserveCaseKeyDown.fire(we)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const me=[this.preserveCase.domNode];this.onkeydown(this.domNode,we=>{if(we.equals(15)||we.equals(17)||we.equals(9)){const xe=me.indexOf(document.activeElement);if(xe>=0){let Ne=-1;we.equals(17)?Ne=(xe+1)%me.length:we.equals(15)&&(xe===0?Ne=me.length-1:Ne=xe-1),we.equals(9)?(me[xe].blur(),this.inputBox.focus()):Ne>=0&&me[Ne].focus(),l.zB.stop(we,!0)}}});const w=document.createElement("div");w.className="controls",w.style.display=this._showOptionButtons?"block":"none",w.appendChild(this.preserveCase.domNode),this.domNode.appendChild(w),se?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,we=>this._onKeyDown.fire(we)),this.onkeyup(this.inputBox.inputElement,we=>this._onKeyUp.fire(we)),this.oninput(this.inputBox.inputElement,we=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,we=>this._onMouseDown.fire(we))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(se){se?this.enable():this.disable()}style(se){this.inputActiveOptionBorder=se.inputActiveOptionBorder,this.inputActiveOptionForeground=se.inputActiveOptionForeground,this.inputActiveOptionBackground=se.inputActiveOptionBackground,this.inputBackground=se.inputBackground,this.inputForeground=se.inputForeground,this.inputBorder=se.inputBorder,this.inputValidationInfoBackground=se.inputValidationInfoBackground,this.inputValidationInfoForeground=se.inputValidationInfoForeground,this.inputValidationInfoBorder=se.inputValidationInfoBorder,this.inputValidationWarningBackground=se.inputValidationWarningBackground,this.inputValidationWarningForeground=se.inputValidationWarningForeground,this.inputValidationWarningBorder=se.inputValidationWarningBorder,this.inputValidationErrorBackground=se.inputValidationErrorBackground,this.inputValidationErrorForeground=se.inputValidationErrorForeground,this.inputValidationErrorBorder=se.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const se={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(se);const X={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(X)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(se){this.preserveCase.checked=se}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(se){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=se,this.domNode.style.width=se+"px"}dispose(){super.dispose()}}var i=s(38819),d=s(49989),_=s(5976),v=function(ie,se,X,ne){var Q=arguments.length,F=Q<3?se:ne===null?ne=Object.getOwnPropertyDescriptor(se,X):ne,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(ie,se,X,ne);else for(var W=ie.length-1;W>=0;W--)(te=ie[W])&&(F=(Q<3?te(F):Q>3?te(se,X,F):te(se,X))||F);return Q>3&&F&&Object.defineProperty(se,X,F),F},p=function(ie,se){return function(X,ne){se(X,ne,ie)}};const L=new i.uy("suggestWidgetVisible",!1,(0,O.NC)("suggestWidgetVisible","Whether suggestion are visible")),T="historyNavigationWidgetFocus",M="historyNavigationForwardsEnabled",I="historyNavigationBackwardsEnabled";let P;const V=[];function $(ie,se){if(V.includes(se))throw new Error("Cannot register the same widget multiple times");V.push(se);const X=new _.SL,ne=X.add(ie.createScoped(se.element)),Q=new i.uy(T,!1).bindTo(ne),F=new i.uy(M,!0).bindTo(ne),te=new i.uy(I,!0).bindTo(ne),W=()=>{Q.set(!0),P=se},G=()=>{Q.set(!1),P===se&&(P=void 0)};return se.element===document.activeElement&&W(),X.add(se.onDidFocus(()=>W())),X.add(se.onDidBlur(()=>G())),X.add((0,_.OF)(()=>{V.splice(V.indexOf(se),1),G()})),{scopedContextKeyService:ne,historyNavigationForwardsEnablement:F,historyNavigationBackwardsEnablement:te,dispose(){X.dispose()}}}let re=class extends b.V{constructor(se,X,ne,Q,F=!1){super(se,X,F,ne),this._register($(Q,this.inputBox))}};re=v([p(3,i.i6)],re);let ae=class extends m{constructor(se,X,ne,Q,F=!1){super(se,X,F,ne),this._register($(Q,this.inputBox))}};ae=v([p(3,i.i6)],ae),d.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:i.Ao.and(i.Ao.has(T),i.Ao.equals(I,!0),L.isEqualTo(!1)),primary:16,secondary:[528],handler:ie=>{P&&P.showPreviousValue()}}),d.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:i.Ao.and(i.Ao.has(T),i.Ao.equals(M,!0),L.isEqualTo(!1)),primary:18,secondary:[530],handler:ie=>{P&&P.showNextValue()}})},97108:function(Yt,Ye,s){"use strict";s.d(Ye,{M:function(){return b}});class b{constructor(z,j=[],E=!1){this.ctor=z,this.staticArguments=j,this.supportsDelayedInstantiation=E}}},65026:function(Yt,Ye,s){"use strict";s.d(Ye,{d:function(){return j},z:function(){return z}});var b=s(97108);const l=[];function z(E,Z,B){Z instanceof b.M||(Z=new b.M(Z,[],B)),l.push([E,Z])}function j(){return l}},72065:function(Yt,Ye,s){"use strict";s.d(Ye,{I8:function(){return b},TG:function(){return l},yh:function(){return j}});var b;(function(E){E.serviceIds=new Map,E.DI_TARGET="$di$target",E.DI_DEPENDENCIES="$di$dependencies";function Z(B){return B[E.DI_DEPENDENCIES]||[]}E.getServiceDependencies=Z})(b||(b={}));const l=j("instantiationService");function z(E,Z,B){Z[b.DI_TARGET]===Z?Z[b.DI_DEPENDENCIES].push({id:E,index:B}):(Z[b.DI_DEPENDENCIES]=[{id:E,index:B}],Z[b.DI_TARGET]=Z)}function j(E){if(b.serviceIds.has(E))return b.serviceIds.get(E);const Z=function(B,H,O){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");z(Z,B,O)};return Z.toString=()=>E,b.serviceIds.set(E,Z),Z}},60972:function(Yt,Ye,s){"use strict";s.d(Ye,{y:function(){return b}});class b{constructor(...z){this._entries=new Map;for(const[j,E]of z)this.set(j,E)}set(z,j){const E=this._entries.get(z);return this._entries.set(z,j),E}get(z){return this._entries.get(z)}}},81294:function(Yt,Ye,s){"use strict";s.d(Ye,{I:function(){return z}});var b=s(4669),l=s(89872);const z={JSONContribution:"base.contributions.json"};function j(B){return B.length>0&&B.charAt(B.length-1)==="#"?B.substring(0,B.length-1):B}class E{constructor(){this._onDidChangeSchema=new b.Q5,this.schemasById={}}registerSchema(H,O){this.schemasById[j(H)]=O,this._onDidChangeSchema.fire(H)}notifySchemaChanged(H){this._onDidChangeSchema.fire(H)}}const Z=new E;l.B.add(z.JSONContribution,Z)},91847:function(Yt,Ye,s){"use strict";s.d(Ye,{d:function(){return l}});var b=s(72065);const l=(0,b.yh)("keybindingService")},49989:function(Yt,Ye,s){"use strict";s.d(Ye,{W:function(){return Z}});var b=s(8313),l=s(1432),z=s(94565),j=s(89872);class E{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(y){if(l.OS===1){if(y&&y.win)return y.win}else if(l.OS===2){if(y&&y.mac)return y.mac}else if(y&&y.linux)return y.linux;return y}registerKeybindingRule(y){const g=E.bindToCurrentPlatform(y);if(g&&g.primary){const C=(0,b.gm)(g.primary,l.OS);C&&this._registerDefaultKeybinding(C,y.id,y.args,y.weight,0,y.when)}if(g&&Array.isArray(g.secondary))for(let C=0,m=g.secondary.length;C<m;C++){const i=g.secondary[C],d=(0,b.gm)(i,l.OS);d&&this._registerDefaultKeybinding(d,y.id,y.args,y.weight,-C-1,y.when)}}registerCommandAndKeybindingRule(y){this.registerKeybindingRule(y),z.P0.registerCommand(y)}static _mightProduceChar(y){return y>=21&&y<=30||y>=31&&y<=56?!0:y===80||y===81||y===82||y===83||y===84||y===85||y===86||y===110||y===111||y===87||y===88||y===89||y===90||y===91||y===92}_assertNoCtrlAlt(y,g){y.ctrlKey&&y.altKey&&!y.metaKey&&E._mightProduceChar(y.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",y," for ",g)}_registerDefaultKeybinding(y,g,C,m,i,d){l.OS===1&&this._assertNoCtrlAlt(y.parts[0],g),this._coreKeybindings.push({keybinding:y.parts,command:g,commandArgs:C,when:d,weight1:m,weight2:i,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(H)),this._cachedMergedKeybindings.slice(0)}}const Z=new E,B={EditorModes:"platform.keybindingsRegistry"};j.B.add(B.EditorModes,Z);function H(O,y){if(O.weight1!==y.weight1)return O.weight1-y.weight1;if(O.command&&y.command){if(O.command<y.command)return-1;if(O.command>y.command)return 1}return O.weight2-y.weight2}},44349:function(Yt,Ye,s){"use strict";s.d(Ye,{e:function(){return l}});var b=s(72065);const l=(0,b.yh)("labelService")},62077:function(Yt,Ye,s){"use strict";s.d(Ye,{Lw:function(){return Ji},XN:function(){return Zi},ls:function(){return en},ev:function(){return Mn},CQ:function(){return Dn},PS:function(){return oi},uJ:function(){return bi}});var b=s(65321),l=s(9488),z=s(71050),j=s(4669),E=s(5976),Z=s(5520),B=s(69047);class H{constructor(c,R){this.renderer=c,this.modelProvider=R}get templateId(){return this.renderer.templateId}renderTemplate(c){return{data:this.renderer.renderTemplate(c),disposable:E.JT.None}}renderElement(c,R,Y,ge){if(Y.disposable&&Y.disposable.dispose(),!Y.data)return;const Oe=this.modelProvider();if(Oe.isResolved(c))return this.renderer.renderElement(Oe.get(c),c,Y.data,ge);const Ue=new z.A,rt=Oe.resolve(c,Ue.token);Y.disposable={dispose:()=>Ue.cancel()},this.renderer.renderPlaceholder(c,Y.data),rt.then(ct=>this.renderer.renderElement(ct,c,Y.data,ge))}disposeTemplate(c){c.disposable&&(c.disposable.dispose(),c.disposable=void 0),c.data&&(this.renderer.disposeTemplate(c.data),c.data=void 0)}}class O{constructor(c,R){this.modelProvider=c,this.accessibilityProvider=R}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(c){const R=this.modelProvider();return R.isResolved(c)?this.accessibilityProvider.getAriaLabel(R.get(c)):null}}function y(k,c){return Object.assign(Object.assign({},c),{accessibilityProvider:c.accessibilityProvider&&new O(k,c.accessibilityProvider)})}class g{constructor(c,R,Y,ge,Oe={}){const Ue=()=>this.model,rt=ge.map(ct=>new H(ct,Ue));this.list=new B.aV(c,R,Y,rt,y(Ue,Oe))}updateOptions(c){this.list.updateOptions(c)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return j.ju.map(this.list.onMouseDblClick,({element:c,index:R,browserEvent:Y})=>({element:c===void 0?void 0:this._model.get(c),index:R,browserEvent:Y}))}get onPointer(){return j.ju.map(this.list.onPointer,({element:c,index:R,browserEvent:Y})=>({element:c===void 0?void 0:this._model.get(c),index:R,browserEvent:Y}))}get onDidChangeSelection(){return j.ju.map(this.list.onDidChangeSelection,({elements:c,indexes:R,browserEvent:Y})=>({elements:c.map(ge=>this._model.get(ge)),indexes:R,browserEvent:Y}))}get model(){return this._model}set model(c){this._model=c,this.list.splice(0,this.list.length,(0,l.w6)(c.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(c=>this.model.get(c))}style(c){this.list.style(c)}dispose(){this.list.dispose()}}var C=s(33225);class m{constructor(c,R,Y){this.columns=c,this.getColumnSize=Y,this.templateId=m.TemplateId,this.renderedTemplates=new Set;const ge=new Map(R.map(Oe=>[Oe.templateId,Oe]));this.renderers=[];for(const Oe of c){const Ue=ge.get(Oe.templateId);if(!Ue)throw new Error(`Table cell renderer for template id ${Oe.templateId} not found.`);this.renderers.push(Ue)}}renderTemplate(c){const R=(0,b.R3)(c,(0,b.$)(".monaco-table-tr")),Y=[],ge=[];for(let Ue=0;Ue<this.columns.length;Ue++){const rt=this.renderers[Ue],ct=(0,b.R3)(R,(0,b.$)(".monaco-table-td",{"data-col-index":Ue}));ct.style.width=`${this.getColumnSize(Ue)}px`,Y.push(ct),ge.push(rt.renderTemplate(ct))}const Oe={container:c,cellContainers:Y,cellTemplateData:ge};return this.renderedTemplates.add(Oe),Oe}renderElement(c,R,Y,ge){for(let Oe=0;Oe<this.columns.length;Oe++){const rt=this.columns[Oe].project(c);this.renderers[Oe].renderElement(rt,R,Y.cellTemplateData[Oe],ge)}}disposeElement(c,R,Y,ge){for(let Oe=0;Oe<this.columns.length;Oe++){const Ue=this.renderers[Oe];if(Ue.disposeElement){const ct=this.columns[Oe].project(c);Ue.disposeElement(ct,R,Y.cellTemplateData[Oe],ge)}}}disposeTemplate(c){for(let R=0;R<this.columns.length;R++)this.renderers[R].disposeTemplate(c.cellTemplateData[R]);(0,b.PO)(c.container),this.renderedTemplates.delete(c)}layoutColumn(c,R){for(const{cellContainers:Y}of this.renderedTemplates)Y[c].style.width=`${R}px`}}m.TemplateId="row";function i(k){return{getHeight(c){return k.getHeight(c)},getTemplateId(){return m.TemplateId}}}class d{constructor(c,R){this.column=c,this.index=R,this._onDidLayout=new j.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,b.$)(".monaco-table-th",{"data-col-index":R,title:c.tooltip},c.label)}get minimumSize(){var c;return(c=this.column.minimumWidth)!==null&&c!==void 0?c:120}get maximumSize(){var c;return(c=this.column.maximumWidth)!==null&&c!==void 0?c:Number.POSITIVE_INFINITY}get onDidChange(){var c;return(c=this.column.onDidChangeWidthConstraints)!==null&&c!==void 0?c:j.ju.None}layout(c){this._onDidLayout.fire([this.index,c])}}class _{constructor(c,R,Y,ge,Oe,Ue){this.virtualDelegate=Y,this.domId=`table_id_${++_.InstanceCount}`,this.disposables=new E.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,b.R3)(R,(0,b.$)(`.monaco-table.${this.domId}`));const rt=ge.map((Bt,Kt)=>new d(Bt,Kt)),ct={size:rt.reduce((Bt,Kt)=>Bt+Kt.column.weight,0),views:rt.map(Bt=>({size:Bt.column.weight,view:Bt}))};this.splitview=this.disposables.add(new C.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:ct})),this.splitview.el.style.height=`${Y.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Y.headerRowHeight}px`;const Tt=new m(ge,Oe,Bt=>this.splitview.getViewSize(Bt));this.list=this.disposables.add(new B.aV(c,this.domNode,i(Y),[Tt],Ue)),j.ju.any(...rt.map(Bt=>Bt.onDidLayout))(([Bt,Kt])=>Tt.layoutColumn(Bt,Kt),null,this.disposables),this.splitview.onDidSashReset(Bt=>{const Kt=ge.reduce((di,fi)=>di+fi.weight,0),hi=ge[Bt].weight/Kt*this.cachedWidth;this.splitview.resizeView(Bt,hi)},null,this.disposables),this.styleElement=(0,b.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(c){this.list.updateOptions(c)}splice(c,R,Y=[]){this.list.splice(c,R,Y)}getHTMLElement(){return this.domNode}style(c){const R=[];R.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=R.join(`
`),this.list.style(c)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}_.InstanceCount=0;var v=s(4850),p=s(59069),L=s(90317),T=s(3070),M=s(72010),I=s(40032),P;(function(k){k[k.Unknown=0]="Unknown",k[k.Twistie=1]="Twistie",k[k.Element=2]="Element",k[k.Filter=3]="Filter"})(P||(P={}));class V extends Error{constructor(c,R){super(`TreeError [${c}] ${R}`)}}class ${constructor(c){this.fn=c,this._map=new WeakMap}map(c){let R=this._map.get(c);return R||(R=this.fn(c),this._map.set(c,R)),R}}var re=s(15393),ae=s(22571),ie=s(53725);function se(k){return typeof k=="object"&&"visibility"in k&&"data"in k}function X(k){switch(k){case!0:return 1;case!1:return 0;default:return k}}function ne(k){return typeof k.collapsible=="boolean"}class Q{constructor(c,R,Y,ge={}){this.user=c,this.list=R,this.rootRef=[],this.eventBufferer=new j.E7,this._onDidChangeCollapseState=new j.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new j.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new j.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new re.vp(re.ne),this.collapseByDefault=typeof ge.collapseByDefault>"u"?!1:ge.collapseByDefault,this.filter=ge.filter,this.autoExpandSingleChildren=typeof ge.autoExpandSingleChildren>"u"?!1:ge.autoExpandSingleChildren,this.root={parent:void 0,element:Y,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(c,R,Y=ie.$.empty(),ge={}){if(c.length===0)throw new V(this.user,"Invalid tree location");ge.diffIdentityProvider?this.spliceSmart(ge.diffIdentityProvider,c,R,Y,ge):this.spliceSimple(c,R,Y,ge)}spliceSmart(c,R,Y,ge,Oe,Ue){var rt;ge===void 0&&(ge=ie.$.empty()),Ue===void 0&&(Ue=(rt=Oe.diffDepth)!==null&&rt!==void 0?rt:0);const{parentNode:ct}=this.getParentNodeWithListIndex(R);if(!ct.lastDiffIds)return this.spliceSimple(R,Y,ge,Oe);const Tt=[...ge],Bt=R[R.length-1],Kt=new ae.Hs({getElements:()=>ct.lastDiffIds},{getElements:()=>[...ct.children.slice(0,Bt),...Tt,...ct.children.slice(Bt+Y)].map(Bi=>c.getId(Bi.element).toString())}).ComputeDiff(!1);if(Kt.quitEarly)return ct.lastDiffIds=void 0,this.spliceSimple(R,Y,Tt,Oe);const hi=R.slice(0,-1),di=(Bi,Qi,In)=>{if(Ue>0)for(let Gn=0;Gn<In;Gn++)Bi--,Qi--,this.spliceSmart(c,[...hi,Bi,0],Number.MAX_SAFE_INTEGER,Tt[Qi].children,Oe,Ue-1)};let fi=Math.min(ct.children.length,Bt+Y),Ei=Tt.length;for(const Bi of Kt.changes.sort((Qi,In)=>In.originalStart-Qi.originalStart))di(fi,Ei,fi-(Bi.originalStart+Bi.originalLength)),fi=Bi.originalStart,Ei=Bi.modifiedStart-Bt,this.spliceSimple([...hi,fi],Bi.originalLength,ie.$.slice(Tt,Ei,Ei+Bi.modifiedLength),Oe);di(fi,Ei,fi)}spliceSimple(c,R,Y=ie.$.empty(),{onDidCreateNode:ge,onDidDeleteNode:Oe,diffIdentityProvider:Ue}){const{parentNode:rt,listIndex:ct,revealed:Tt,visible:Bt}=this.getParentNodeWithListIndex(c),Kt=[],hi=ie.$.map(Y,mn=>this.createTreeNode(mn,rt,rt.visible?1:0,Tt,Kt,ge)),di=c[c.length-1],fi=rt.children.length>0;let Ei=0;for(let mn=di;mn>=0&&mn<rt.children.length;mn--){const is=rt.children[mn];if(is.visible){Ei=is.visibleChildIndex;break}}const Bi=[];let Qi=0,In=0;for(const mn of hi)Bi.push(mn),In+=mn.renderNodeCount,mn.visible&&(mn.visibleChildIndex=Ei+Qi++);const Gn=(0,l.db)(rt.children,di,R,Bi);Ue?rt.lastDiffIds?(0,l.db)(rt.lastDiffIds,di,R,Bi.map(mn=>Ue.getId(mn.element).toString())):rt.lastDiffIds=rt.children.map(mn=>Ue.getId(mn.element).toString()):rt.lastDiffIds=void 0;let ts=0;for(const mn of Gn)mn.visible&&ts++;if(ts!==0)for(let mn=di+Bi.length;mn<rt.children.length;mn++){const is=rt.children[mn];is.visible&&(is.visibleChildIndex-=ts)}if(rt.visibleChildrenCount+=Qi-ts,Tt&&Bt){const mn=Gn.reduce((is,Jn)=>is+(Jn.visible?Jn.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(rt,In-mn),this.list.splice(ct,mn,Kt)}if(Gn.length>0&&Oe){const mn=is=>{Oe(is),is.children.forEach(mn)};Gn.forEach(mn)}this._onDidSplice.fire({insertedNodes:Bi,deletedNodes:Gn});const Qn=rt.children.length>0;fi!==Qn&&this.setCollapsible(c.slice(0,-1),Qn);let ws=rt;for(;ws;){if(ws.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}ws=ws.parent}}rerender(c){if(c.length===0)throw new V(this.user,"Invalid tree location");const{node:R,listIndex:Y,revealed:ge}=this.getTreeNodeWithListIndex(c);R.visible&&ge&&this.list.splice(Y,1,[R])}has(c){return this.hasTreeNode(c)}getListIndex(c){const{listIndex:R,visible:Y,revealed:ge}=this.getTreeNodeWithListIndex(c);return Y&&ge?R:-1}getListRenderCount(c){return this.getTreeNode(c).renderNodeCount}isCollapsible(c){return this.getTreeNode(c).collapsible}setCollapsible(c,R){const Y=this.getTreeNode(c);typeof R>"u"&&(R=!Y.collapsible);const ge={collapsible:R};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(c,ge))}isCollapsed(c){return this.getTreeNode(c).collapsed}setCollapsed(c,R,Y){const ge=this.getTreeNode(c);typeof R>"u"&&(R=!ge.collapsed);const Oe={collapsed:R,recursive:Y||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(c,Oe))}_setCollapseState(c,R){const{node:Y,listIndex:ge,revealed:Oe}=this.getTreeNodeWithListIndex(c),Ue=this._setListNodeCollapseState(Y,ge,Oe,R);if(Y!==this.root&&this.autoExpandSingleChildren&&Ue&&!ne(R)&&Y.collapsible&&!Y.collapsed&&!R.recursive){let rt=-1;for(let ct=0;ct<Y.children.length;ct++)if(Y.children[ct].visible)if(rt>-1){rt=-1;break}else rt=ct;rt>-1&&this._setCollapseState([...c,rt],R)}return Ue}_setListNodeCollapseState(c,R,Y,ge){const Oe=this._setNodeCollapseState(c,ge,!1);if(!Y||!c.visible||!Oe)return Oe;const Ue=c.renderNodeCount,rt=this.updateNodeAfterCollapseChange(c),ct=Ue-(R===-1?0:1);return this.list.splice(R+1,ct,rt.slice(1)),Oe}_setNodeCollapseState(c,R,Y){let ge;if(c===this.root?ge=!1:(ne(R)?(ge=c.collapsible!==R.collapsible,c.collapsible=R.collapsible):c.collapsible?(ge=c.collapsed!==R.collapsed,c.collapsed=R.collapsed):ge=!1,ge&&this._onDidChangeCollapseState.fire({node:c,deep:Y})),!ne(R)&&R.recursive)for(const Oe of c.children)ge=this._setNodeCollapseState(Oe,R,!0)||ge;return ge}expandTo(c){this.eventBufferer.bufferEvents(()=>{let R=this.getTreeNode(c);for(;R.parent;)R=R.parent,c=c.slice(0,c.length-1),R.collapsed&&this._setCollapseState(c,{collapsed:!1,recursive:!1})})}refilter(){const c=this.root.renderNodeCount,R=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,c,R),this.refilterDelayer.cancel()}createTreeNode(c,R,Y,ge,Oe,Ue){const rt={parent:R,element:c.element,children:[],depth:R.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof c.collapsible=="boolean"?c.collapsible:typeof c.collapsed<"u",collapsed:typeof c.collapsed>"u"?this.collapseByDefault:c.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},ct=this._filterNode(rt,Y);rt.visibility=ct,ge&&Oe.push(rt);const Tt=c.children||ie.$.empty(),Bt=ge&&ct!==0&&!rt.collapsed,Kt=ie.$.map(Tt,fi=>this.createTreeNode(fi,rt,ct,Bt,Oe,Ue));let hi=0,di=1;for(const fi of Kt)rt.children.push(fi),di+=fi.renderNodeCount,fi.visible&&(fi.visibleChildIndex=hi++);return rt.collapsible=rt.collapsible||rt.children.length>0,rt.visibleChildrenCount=hi,rt.visible=ct===2?hi>0:ct===1,rt.visible?rt.collapsed||(rt.renderNodeCount=di):(rt.renderNodeCount=0,ge&&Oe.pop()),Ue?.(rt),rt}updateNodeAfterCollapseChange(c){const R=c.renderNodeCount,Y=[];return this._updateNodeAfterCollapseChange(c,Y),this._updateAncestorsRenderNodeCount(c.parent,Y.length-R),Y}_updateNodeAfterCollapseChange(c,R){if(c.visible===!1)return 0;if(R.push(c),c.renderNodeCount=1,!c.collapsed)for(const Y of c.children)c.renderNodeCount+=this._updateNodeAfterCollapseChange(Y,R);return this._onDidChangeRenderNodeCount.fire(c),c.renderNodeCount}updateNodeAfterFilterChange(c){const R=c.renderNodeCount,Y=[];return this._updateNodeAfterFilterChange(c,c.visible?1:0,Y),this._updateAncestorsRenderNodeCount(c.parent,Y.length-R),Y}_updateNodeAfterFilterChange(c,R,Y,ge=!0){let Oe;if(c!==this.root){if(Oe=this._filterNode(c,R),Oe===0)return c.visible=!1,c.renderNodeCount=0,!1;ge&&Y.push(c)}const Ue=Y.length;c.renderNodeCount=c===this.root?0:1;let rt=!1;if(!c.collapsed||Oe!==0){let ct=0;for(const Tt of c.children)rt=this._updateNodeAfterFilterChange(Tt,Oe,Y,ge&&!c.collapsed)||rt,Tt.visible&&(Tt.visibleChildIndex=ct++);c.visibleChildrenCount=ct}else c.visibleChildrenCount=0;return c!==this.root&&(c.visible=Oe===2?rt:Oe===1,c.visibility=Oe),c.visible?c.collapsed||(c.renderNodeCount+=Y.length-Ue):(c.renderNodeCount=0,ge&&Y.pop()),this._onDidChangeRenderNodeCount.fire(c),c.visible}_updateAncestorsRenderNodeCount(c,R){if(R!==0)for(;c;)c.renderNodeCount+=R,this._onDidChangeRenderNodeCount.fire(c),c=c.parent}_filterNode(c,R){const Y=this.filter?this.filter.filter(c.element,R):1;return typeof Y=="boolean"?(c.filterData=void 0,Y?1:0):se(Y)?(c.filterData=Y.data,X(Y.visibility)):(c.filterData=void 0,X(Y))}hasTreeNode(c,R=this.root){if(!c||c.length===0)return!0;const[Y,...ge]=c;return Y<0||Y>R.children.length?!1:this.hasTreeNode(ge,R.children[Y])}getTreeNode(c,R=this.root){if(!c||c.length===0)return R;const[Y,...ge]=c;if(Y<0||Y>R.children.length)throw new V(this.user,"Invalid tree location");return this.getTreeNode(ge,R.children[Y])}getTreeNodeWithListIndex(c){if(c.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:R,listIndex:Y,revealed:ge,visible:Oe}=this.getParentNodeWithListIndex(c),Ue=c[c.length-1];if(Ue<0||Ue>R.children.length)throw new V(this.user,"Invalid tree location");const rt=R.children[Ue];return{node:rt,listIndex:Y,revealed:ge,visible:Oe&&rt.visible}}getParentNodeWithListIndex(c,R=this.root,Y=0,ge=!0,Oe=!0){const[Ue,...rt]=c;if(Ue<0||Ue>R.children.length)throw new V(this.user,"Invalid tree location");for(let ct=0;ct<Ue;ct++)Y+=R.children[ct].renderNodeCount;return ge=ge&&!R.collapsed,Oe=Oe&&R.visible,rt.length===0?{parentNode:R,listIndex:Y,revealed:ge,visible:Oe}:this.getParentNodeWithListIndex(rt,R.children[Ue],Y+1,ge,Oe)}getNode(c=[]){return this.getTreeNode(c)}getNodeLocation(c){const R=[];let Y=c;for(;Y.parent;)R.push(Y.parent.children.indexOf(Y)),Y=Y.parent;return R.reverse()}getParentNodeLocation(c){if(c.length!==0)return c.length===1?[]:(0,l.JH)(c)[0]}getFirstElementChild(c){const R=this.getTreeNode(c);if(R.children.length!==0)return R.children[0].element}}var F=s(74741),te=s(73046);class W{constructor(){this.map=new Map}add(c,R){let Y=this.map.get(c);Y||(Y=new Set,this.map.set(c,Y)),Y.add(R)}delete(c,R){const Y=this.map.get(c);Y&&(Y.delete(R),Y.size===0&&this.map.delete(c))}forEach(c,R){const Y=this.map.get(c);Y&&Y.forEach(R)}}var G=s(75392),q=s(59870),me=s(98401),w=s(63580),we=function(k,c,R,Y){function ge(Oe){return Oe instanceof R?Oe:new R(function(Ue){Ue(Oe)})}return new(R||(R=Promise))(function(Oe,Ue){function rt(Bt){try{Tt(Y.next(Bt))}catch(Kt){Ue(Kt)}}function ct(Bt){try{Tt(Y.throw(Bt))}catch(Kt){Ue(Kt)}}function Tt(Bt){Bt.done?Oe(Bt.value):ge(Bt.value).then(rt,ct)}Tt((Y=Y.apply(k,c||[])).next())})};class xe extends M.kX{constructor(c){super(c.elements.map(R=>R.element)),this.data=c}}function Ne(k){return k instanceof M.kX?new xe(k):k}class Ve{constructor(c,R){this.modelProvider=c,this.dnd=R,this.autoExpandDisposable=E.JT.None}getDragURI(c){return this.dnd.getDragURI(c.element)}getDragLabel(c,R){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(c.map(Y=>Y.element),R)}onDragStart(c,R){var Y,ge;(ge=(Y=this.dnd).onDragStart)===null||ge===void 0||ge.call(Y,Ne(c),R)}onDragOver(c,R,Y,ge,Oe=!0){const Ue=this.dnd.onDragOver(Ne(c),R&&R.element,Y,ge),rt=this.autoExpandNode!==R;if(rt&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=R),typeof R>"u")return Ue;if(rt&&typeof Ue!="boolean"&&Ue.autoExpand&&(this.autoExpandDisposable=(0,re.Vg)(()=>{const hi=this.modelProvider(),di=hi.getNodeLocation(R);hi.isCollapsed(di)&&hi.setCollapsed(di,!1),this.autoExpandNode=void 0},500)),typeof Ue=="boolean"||!Ue.accept||typeof Ue.bubble>"u"||Ue.feedback){if(!Oe){const hi=typeof Ue=="boolean"?Ue:Ue.accept,di=typeof Ue=="boolean"?void 0:Ue.effect;return{accept:hi,effect:di,feedback:[Y]}}return Ue}if(Ue.bubble===1){const hi=this.modelProvider(),di=hi.getNodeLocation(R),fi=hi.getParentNodeLocation(di),Ei=hi.getNode(fi),Bi=fi&&hi.getListIndex(fi);return this.onDragOver(c,Ei,Bi,ge,!1)}const ct=this.modelProvider(),Tt=ct.getNodeLocation(R),Bt=ct.getListIndex(Tt),Kt=ct.getListRenderCount(Tt);return Object.assign(Object.assign({},Ue),{feedback:(0,l.w6)(Bt,Bt+Kt)})}drop(c,R,Y,ge){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Ne(c),R&&R.element,Y,ge)}onDragEnd(c){var R,Y;(Y=(R=this.dnd).onDragEnd)===null||Y===void 0||Y.call(R,c)}}function Ce(k,c){return c&&Object.assign(Object.assign({},c),{identityProvider:c.identityProvider&&{getId(R){return c.identityProvider.getId(R.element)}},dnd:c.dnd&&new Ve(k,c.dnd),multipleSelectionController:c.multipleSelectionController&&{isSelectionSingleChangeEvent(R){return c.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},R),{element:R.element}))},isSelectionRangeChangeEvent(R){return c.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},R),{element:R.element}))}},accessibilityProvider:c.accessibilityProvider&&Object.assign(Object.assign({},c.accessibilityProvider),{getSetSize(R){const Y=k(),ge=Y.getNodeLocation(R),Oe=Y.getParentNodeLocation(ge);return Y.getNode(Oe).visibleChildrenCount},getPosInSet(R){return R.visibleChildIndex+1},isChecked:c.accessibilityProvider&&c.accessibilityProvider.isChecked?R=>c.accessibilityProvider.isChecked(R.element):void 0,getRole:c.accessibilityProvider&&c.accessibilityProvider.getRole?R=>c.accessibilityProvider.getRole(R.element):()=>"treeitem",getAriaLabel(R){return c.accessibilityProvider.getAriaLabel(R.element)},getWidgetAriaLabel(){return c.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:c.accessibilityProvider&&c.accessibilityProvider.getWidgetRole?()=>c.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:c.accessibilityProvider&&c.accessibilityProvider.getAriaLevel?R=>c.accessibilityProvider.getAriaLevel(R.element):R=>R.depth,getActiveDescendantId:c.accessibilityProvider.getActiveDescendantId&&(R=>c.accessibilityProvider.getActiveDescendantId(R.element))}),keyboardNavigationLabelProvider:c.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},c.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(R){return c.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(R.element)}})})}class Ae{constructor(c){this.delegate=c}getHeight(c){return this.delegate.getHeight(c.element)}getTemplateId(c){return this.delegate.getTemplateId(c.element)}hasDynamicHeight(c){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(c.element)}setDynamicHeight(c,R){var Y,ge;(ge=(Y=this.delegate).setDynamicHeight)===null||ge===void 0||ge.call(Y,c.element,R)}}var $e;(function(k){k.None="none",k.OnHover="onHover",k.Always="always"})($e||($e={}));class je{constructor(c,R=[]){this._elements=R,this.disposables=new E.SL,this.onDidChange=j.ju.forEach(c,Y=>this._elements=Y,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}class at{constructor(c,R,Y,ge,Oe={}){var Ue;this.renderer=c,this.modelProvider=R,this.activeNodes=ge,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=at.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new W,this.activeIndentNodes=new Set,this.indentGuidesDisposable=E.JT.None,this.disposables=new E.SL,this.templateId=c.templateId,this.updateOptions(Oe),j.ju.map(Y,rt=>rt.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(Ue=c.onDidChangeTwistieState)===null||Ue===void 0||Ue.call(c,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(c={}){if(typeof c.indent<"u"&&(this.indent=(0,q.uZ)(c.indent,0,40)),typeof c.renderIndentGuides<"u"){const R=c.renderIndentGuides!==$e.None;if(R!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=R,this.indentGuidesDisposable.dispose(),R)){const Y=new E.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Y),this.indentGuidesDisposable=Y,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof c.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=c.hideTwistiesOfChildlessElements)}renderTemplate(c){const R=(0,b.R3)(c,(0,b.$)(".monaco-tl-row")),Y=(0,b.R3)(R,(0,b.$)(".monaco-tl-indent")),ge=(0,b.R3)(R,(0,b.$)(".monaco-tl-twistie")),Oe=(0,b.R3)(R,(0,b.$)(".monaco-tl-contents")),Ue=this.renderer.renderTemplate(Oe);return{container:c,indent:Y,twistie:ge,indentGuidesDisposable:E.JT.None,templateData:Ue}}renderElement(c,R,Y,ge){typeof ge=="number"&&(this.renderedNodes.set(c,{templateData:Y,height:ge}),this.renderedElements.set(c.element,c));const Oe=at.DefaultIndent+(c.depth-1)*this.indent;Y.twistie.style.paddingLeft=`${Oe}px`,Y.indent.style.width=`${Oe+this.indent-16}px`,this.renderTwistie(c,Y),typeof ge=="number"&&this.renderIndentGuides(c,Y),this.renderer.renderElement(c,R,Y.templateData,ge)}disposeElement(c,R,Y,ge){var Oe,Ue;Y.indentGuidesDisposable.dispose(),(Ue=(Oe=this.renderer).disposeElement)===null||Ue===void 0||Ue.call(Oe,c,R,Y.templateData,ge),typeof ge=="number"&&(this.renderedNodes.delete(c),this.renderedElements.delete(c.element))}disposeTemplate(c){this.renderer.disposeTemplate(c.templateData)}onDidChangeTwistieState(c){const R=this.renderedElements.get(c);R&&this.onDidChangeNodeTwistieState(R)}onDidChangeNodeTwistieState(c){const R=this.renderedNodes.get(c);R&&(this.renderTwistie(c,R.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(c,R.templateData))}renderTwistie(c,R){R.twistie.classList.remove(...te.lA.treeItemExpanded.classNamesArray);let Y=!1;this.renderer.renderTwistie&&(Y=this.renderer.renderTwistie(c.element,R.twistie)),c.collapsible&&(!this.hideTwistiesOfChildlessElements||c.visibleChildrenCount>0)?(Y||R.twistie.classList.add(...te.lA.treeItemExpanded.classNamesArray),R.twistie.classList.add("collapsible"),R.twistie.classList.toggle("collapsed",c.collapsed)):R.twistie.classList.remove("collapsible","collapsed"),c.collapsible?R.container.setAttribute("aria-expanded",String(!c.collapsed)):R.container.removeAttribute("aria-expanded")}renderIndentGuides(c,R){if((0,b.PO)(R.indent),R.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Y=new E.SL,ge=this.modelProvider();let Oe=c;for(;;){const Ue=ge.getNodeLocation(Oe),rt=ge.getParentNodeLocation(Ue);if(!rt)break;const ct=ge.getNode(rt),Tt=(0,b.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ct)&&Tt.classList.add("active"),R.indent.childElementCount===0?R.indent.appendChild(Tt):R.indent.insertBefore(Tt,R.indent.firstElementChild),this.renderedIndentGuides.add(ct,Tt),Y.add((0,E.OF)(()=>this.renderedIndentGuides.delete(ct,Tt))),Oe=ct}R.indentGuidesDisposable=Y}_onDidChangeActiveNodes(c){if(!this.shouldRenderIndentGuides)return;const R=new Set,Y=this.modelProvider();c.forEach(ge=>{const Oe=Y.getNodeLocation(ge);try{const Ue=Y.getParentNodeLocation(Oe);ge.collapsible&&ge.children.length>0&&!ge.collapsed?R.add(ge):Ue&&R.add(Y.getNode(Ue))}catch{}}),this.activeIndentNodes.forEach(ge=>{R.has(ge)||this.renderedIndentGuides.forEach(ge,Oe=>Oe.classList.remove("active"))}),R.forEach(ge=>{this.activeIndentNodes.has(ge)||this.renderedIndentGuides.forEach(ge,Oe=>Oe.classList.add("active"))}),this.activeIndentNodes=R}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,E.B9)(this.disposables)}}at.DefaultIndent=8;class pt{constructor(c,R,Y){this.tree=c,this.keyboardNavigationLabelProvider=R,this._filter=Y,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new E.SL,c.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(c,R){let Y=1;if(this._filter){const Ue=this._filter.filter(c,R);if(typeof Ue=="boolean"?Y=Ue?1:0:se(Ue)?Y=X(Ue.visibility):Y=Ue,Y===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:G.CL.Default,visibility:Y};const ge=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(c),Oe=Array.isArray(ge)?ge:[ge];for(const Ue of Oe){const rt=Ue&&Ue.toString();if(typeof rt>"u")return{data:G.CL.Default,visibility:Y};const ct=(0,G.EW)(this._pattern,this._lowercasePattern,0,rt,rt.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ct)return this._matchCount++,Oe.length===1?{data:ct,visibility:Y}:{data:{label:rt,score:ct},visibility:Y}}return this.tree.findMode===We.Filter?2:{data:G.CL.Default,visibility:Y}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,E.B9)(this.disposables)}}class bt extends null{constructor(c){var R;super({icon:Codicon.filter,title:localize("filter","Filter"),isChecked:(R=c?.isChecked)!==null&&R!==void 0?R:!1,inputActiveOptionBorder:c?.inputActiveOptionBorder,inputActiveOptionForeground:c?.inputActiveOptionForeground,inputActiveOptionBackground:c?.inputActiveOptionBackground})}}var We;(function(k){k[k.Highlight=0]="Highlight",k[k.Filter=1]="Filter"})(We||(We={}));class it extends null{constructor(c,R,Y,ge,Oe){super(),this.tree=R,this.elements=h(".monaco-tree-type-filter",[h(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),h(".monaco-tree-type-filter-input@findInput"),h(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this._onDidDisable=new Emitter,c.appendChild(this.elements.root),this._register(toDisposable(()=>c.removeChild(this.elements.root))),this.modeToggle=this._register(new bt(Object.assign(Object.assign({},Oe),{isChecked:ge===We.Filter}))),this.onDidChangeMode=Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?We.Filter:We.Highlight,this._store),this.findInput=this._register(new FindInput(this.elements.findInput,Y,!1,{label:localize("type to search","Type to search"),additionalToggles:[this.modeToggle]})),this.actionbar=this._register(new ActionBar(this.elements.actionbar)),this.mode=ge;const Ue=this._register(new DomEmitter(this.findInput.inputBox.inputElement,"keydown")),rt=this._register(Event.chain(Ue.event)).map(Kt=>new StandardKeyboardEvent(Kt)).event;this._register(rt(Kt=>{switch(Kt.keyCode){case 18:Kt.preventDefault(),Kt.stopPropagation(),this.tree.domFocus();return}}));const ct=this._register(new Action("close",localize("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(ct,{icon:!0,label:!1});const Tt=this._register(new DomEmitter(this.elements.grab,"mousedown"));this._register(Tt.event(Kt=>{const hi=new DisposableStore,di=hi.add(new DomEmitter(window,"mousemove")),fi=hi.add(new DomEmitter(window,"mouseup")),Ei=this.right,Bi=Kt.pageX;this.elements.grab.classList.add("grabbing");const Qi=In=>{const Gn=In.pageX-Bi;this.right=Ei-Gn,this.layout()};hi.add(di.event(Qi)),hi.add(fi.event(In=>{Qi(In),this.elements.grab.classList.remove("grabbing"),hi.dispose()}))}));const Bt=this._register(Event.chain(this._register(new DomEmitter(this.elements.grab,"keydown")).event)).map(Kt=>new StandardKeyboardEvent(Kt)).event;this._register(Bt(Kt=>{let hi;Kt.keyCode===15?hi=Number.POSITIVE_INFINITY:Kt.keyCode===17?hi=0:Kt.keyCode===10&&(hi=this.right===0?Number.POSITIVE_INFINITY:0),hi!==void 0&&(Kt.preventDefault(),Kt.stopPropagation(),this.right=hi,this.layout())})),this.onDidChangeValue=this.findInput.onDidChange,this.style(Oe??{})}set mode(c){this.modeToggle.checked=c===We.Filter,this.findInput.inputBox.setPlaceHolder(c===We.Filter?localize("type to filter","Type to filter"):localize("type to search","Type to search"))}style(c){this.findInput.style(c),c.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=c.listFilterWidgetBackground.toString()),c.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${c.listFilterWidgetShadow}`)}layout(c=this.width){this.width=c,this.right=clamp(this.right,0,Math.max(0,c-212)),this.elements.root.style.right=`${this.right}px`}showMessage(c){this.findInput.showMessage(c)}clearMessage(){this.findInput.clearMessage()}dispose(){const c=Object.create(null,{dispose:{get:()=>super.dispose}});return we(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield timeout(300),c.dispose.call(this)})}}class pe{constructor(c,R,Y,ge,Oe){var Ue;this.tree=c,this.view=Y,this.filter=ge,this.contextViewProvider=Oe,this._pattern="",this.width=0,this._onDidChangeMode=new j.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new j.Q5,this._onDidChangeOpenState=new j.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new E.SL,this.disposables=new E.SL,this._mode=(Ue=c.options.defaultFindMode)!==null&&Ue!==void 0?Ue:We.Highlight,R.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(c){c!==this._mode&&(this._mode=c,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(c))}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var c,R;const Y=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Y?(c=this.widget)===null||c===void 0||c.showMessage({type:2,content:(0,w.NC)("not found","No elements found.")}):(R=this.widget)===null||R===void 0||R.clearMessage()}shouldAllowFocus(c){return!this.widget||!this.pattern||this._mode===We.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!G.CL.isDefault(c.filterData)}style(c){var R;this.styles=c,(R=this.widget)===null||R===void 0||R.style(c)}layout(c){var R;this.width=c,(R=this.widget)===null||R===void 0||R.layout(c)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function ye(k){let c=P.Unknown;return(0,b.uU)(k.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?c=P.Twistie:(0,b.uU)(k.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?c=P.Element:(0,b.uU)(k.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(c=P.Filter),{browserEvent:k.browserEvent,element:k.element?k.element.element:null,target:c}}function ft(k,c){c(k),k.children.forEach(R=>ft(R,c))}class Xt{constructor(c,R){this.getFirstViewElementWithTrait=c,this.identityProvider=R,this.nodes=[],this._onDidChange=new j.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(c,R){!R?.__forceEvent&&(0,l.fS)(this.nodes,c)||this._set(c,!1,R)}_set(c,R,Y){if(this.nodes=[...c],this.elements=void 0,this._nodeSet=void 0,!R){const ge=this;this._onDidChange.fire({get elements(){return ge.get()},browserEvent:Y})}}get(){return this.elements||(this.elements=this.nodes.map(c=>c.element)),[...this.elements]}getNodes(){return this.nodes}has(c){return this.nodeSet.has(c)}onDidModelSplice({insertedNodes:c,deletedNodes:R}){if(!this.identityProvider){const ct=this.createNodeSet(),Tt=Bt=>ct.delete(Bt);R.forEach(Bt=>ft(Bt,Tt)),this.set([...ct.values()]);return}const Y=new Set,ge=ct=>Y.add(this.identityProvider.getId(ct.element).toString());R.forEach(ct=>ft(ct,ge));const Oe=new Map,Ue=ct=>Oe.set(this.identityProvider.getId(ct.element).toString(),ct);c.forEach(ct=>ft(ct,Ue));const rt=[];for(const ct of this.nodes){const Tt=this.identityProvider.getId(ct.element).toString();if(!Y.has(Tt))rt.push(ct);else{const Kt=Oe.get(Tt);Kt&&rt.push(Kt)}}if(this.nodes.length>0&&rt.length===0){const ct=this.getFirstViewElementWithTrait();ct&&rt.push(ct)}this._set(rt,!0)}createNodeSet(){const c=new Set;for(const R of this.nodes)c.add(R);return c}}class qt extends B.sx{constructor(c,R){super(c),this.tree=R}onViewPointer(c){if((0,B.iK)(c.browserEvent.target)||(0,B.cK)(c.browserEvent.target)||(0,B.hD)(c.browserEvent.target))return;const R=c.element;if(!R)return super.onViewPointer(c);if(this.isSelectionRangeChangeEvent(c)||this.isSelectionSingleChangeEvent(c))return super.onViewPointer(c);const Y=c.browserEvent.target,ge=Y.classList.contains("monaco-tl-twistie")||Y.classList.contains("monaco-icon-label")&&Y.classList.contains("folder-icon")&&c.browserEvent.offsetX<16;let Oe=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Oe=this.tree.expandOnlyOnTwistieClick(R.element):Oe=!!this.tree.expandOnlyOnTwistieClick,Oe&&!ge&&c.browserEvent.detail!==2)return super.onViewPointer(c);if(!this.tree.expandOnDoubleClick&&c.browserEvent.detail===2)return super.onViewPointer(c);if(R.collapsible){const Ue=this.tree.model,rt=Ue.getNodeLocation(R),ct=c.browserEvent.altKey;if(this.tree.setFocus([rt]),Ue.setCollapsed(rt,void 0,ct),Oe&&ge)return}super.onViewPointer(c)}onDoubleClick(c){c.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(c)}}class Ft extends B.aV{constructor(c,R,Y,ge,Oe,Ue,rt,ct){super(c,R,Y,ge,ct),this.focusTrait=Oe,this.selectionTrait=Ue,this.anchorTrait=rt}createMouseController(c){return new qt(this,c.tree)}splice(c,R,Y=[]){if(super.splice(c,R,Y),Y.length===0)return;const ge=[],Oe=[];let Ue;Y.forEach((rt,ct)=>{this.focusTrait.has(rt)&&ge.push(c+ct),this.selectionTrait.has(rt)&&Oe.push(c+ct),this.anchorTrait.has(rt)&&(Ue=c+ct)}),ge.length>0&&super.setFocus((0,l.EB)([...super.getFocus(),...ge])),Oe.length>0&&super.setSelection((0,l.EB)([...super.getSelection(),...Oe])),typeof Ue=="number"&&super.setAnchor(Ue)}setFocus(c,R,Y=!1){super.setFocus(c,R),Y||this.focusTrait.set(c.map(ge=>this.element(ge)),R)}setSelection(c,R,Y=!1){super.setSelection(c,R),Y||this.selectionTrait.set(c.map(ge=>this.element(ge)),R)}setAnchor(c,R=!1){super.setAnchor(c),R||(typeof c>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(c)]))}}class Ot{constructor(c,R,Y,ge,Oe={}){var Ue;this._user=c,this._options=Oe,this.eventBufferer=new j.E7,this.onDidChangeFindOpenState=j.ju.None,this.disposables=new E.SL,this._onWillRefilter=new j.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new j.Q5;const rt=new Ae(Y),ct=new j.ZD,Tt=new j.ZD,Bt=this.disposables.add(new je(Tt.event));this.renderers=ge.map(di=>new at(di,()=>this.model,ct.event,Bt,Oe));for(const di of this.renderers)this.disposables.add(di);let Kt;Oe.keyboardNavigationLabelProvider&&(Kt=new pt(this,Oe.keyboardNavigationLabelProvider,Oe.filter),Oe=Object.assign(Object.assign({},Oe),{filter:Kt}),this.disposables.add(Kt)),this.focus=new Xt(()=>this.view.getFocusedElements()[0],Oe.identityProvider),this.selection=new Xt(()=>this.view.getSelectedElements()[0],Oe.identityProvider),this.anchor=new Xt(()=>this.view.getAnchorElement(),Oe.identityProvider),this.view=new Ft(c,R,rt,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Ce(()=>this.model,Oe)),{tree:this})),this.model=this.createModel(c,this.view,Oe),ct.input=this.model.onDidChangeCollapseState;const hi=j.ju.forEach(this.model.onDidSplice,di=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(di),this.selection.onDidModelSplice(di)})},this.disposables);if(hi(()=>null,null,this.disposables),Tt.input=j.ju.chain(j.ju.any(hi,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const di=new Set;for(const fi of this.focus.getNodes())di.add(fi);for(const fi of this.selection.getNodes())di.add(fi);return[...di.values()]}).event,Oe.keyboardSupport!==!1){const di=j.ju.chain(this.view.onKeyDown).filter(fi=>!(0,B.cK)(fi.target)).map(fi=>new p.y(fi));di.filter(fi=>fi.keyCode===15).on(this.onLeftArrow,this,this.disposables),di.filter(fi=>fi.keyCode===17).on(this.onRightArrow,this,this.disposables),di.filter(fi=>fi.keyCode===10).on(this.onSpace,this,this.disposables)}(!((Ue=Oe.findWidgetEnabled)!==null&&Ue!==void 0)||Ue)&&Oe.keyboardNavigationLabelProvider&&Oe.contextViewProvider?(this.findController=new pe(this,this.model,this.view,Kt,Oe.contextViewProvider),this.focusNavigationFilter=di=>this.findController.shouldAllowFocus(di),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=j.ju.None,this.styleElement=(0,b.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===$e.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return j.ju.filter(j.ju.map(this.view.onMouseDblClick,ye),c=>c.target!==P.Filter)}get onPointer(){return j.ju.map(this.view.onPointer,ye)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return j.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var c,R;return(R=(c=this.findController)===null||c===void 0?void 0:c.mode)!==null&&R!==void 0?R:We.Highlight}set findMode(c){this.findController&&(this.findController.mode=c)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(c={}){this._options=Object.assign(Object.assign({},this._options),c);for(const R of this.renderers)R.updateOptions(c);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===$e.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(c){this.view.scrollTop=c}domFocus(){this.view.domFocus()}layout(c,R){var Y;this.view.layout(c,R),(0,me.hj)(R)&&((Y=this.findController)===null||Y===void 0||Y.layout(R))}style(c){var R;const Y=`.${this.view.domId}`,ge=[];c.treeIndentGuidesStroke&&(ge.push(`.monaco-list${Y}:hover .monaco-tl-indent > .indent-guide, .monaco-list${Y}.always .monaco-tl-indent > .indent-guide  { border-color: ${c.treeIndentGuidesStroke.transparent(.4)}; }`),ge.push(`.monaco-list${Y} .monaco-tl-indent > .indent-guide.active { border-color: ${c.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=ge.join(`
`),(R=this.findController)===null||R===void 0||R.style(c),this.view.style(c)}getParentElement(c){const R=this.model.getParentNodeLocation(c);return this.model.getNode(R).element}getFirstElementChild(c){return this.model.getFirstElementChild(c)}getNode(c){return this.model.getNode(c)}collapse(c,R=!1){return this.model.setCollapsed(c,!0,R)}expand(c,R=!1){return this.model.setCollapsed(c,!1,R)}isCollapsible(c){return this.model.isCollapsible(c)}setCollapsible(c,R){return this.model.setCollapsible(c,R)}isCollapsed(c){return this.model.isCollapsed(c)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(c,R){const Y=c.map(Oe=>this.model.getNode(Oe));this.selection.set(Y,R);const ge=c.map(Oe=>this.model.getListIndex(Oe)).filter(Oe=>Oe>-1);this.view.setSelection(ge,R,!0)}getSelection(){return this.selection.get()}setFocus(c,R){const Y=c.map(Oe=>this.model.getNode(Oe));this.focus.set(Y,R);const ge=c.map(Oe=>this.model.getListIndex(Oe)).filter(Oe=>Oe>-1);this.view.setFocus(ge,R,!0)}getFocus(){return this.focus.get()}reveal(c,R){this.model.expandTo(c);const Y=this.model.getListIndex(c);Y!==-1&&this.view.reveal(Y,R)}onLeftArrow(c){c.preventDefault(),c.stopPropagation();const R=this.view.getFocusedElements();if(R.length===0)return;const Y=R[0],ge=this.model.getNodeLocation(Y);if(!this.model.setCollapsed(ge,!0)){const Ue=this.model.getParentNodeLocation(ge);if(!Ue)return;const rt=this.model.getListIndex(Ue);this.view.reveal(rt),this.view.setFocus([rt])}}onRightArrow(c){c.preventDefault(),c.stopPropagation();const R=this.view.getFocusedElements();if(R.length===0)return;const Y=R[0],ge=this.model.getNodeLocation(Y);if(!this.model.setCollapsed(ge,!1)){if(!Y.children.some(ct=>ct.visible))return;const[Ue]=this.view.getFocus(),rt=Ue+1;this.view.reveal(rt),this.view.setFocus([rt])}}onSpace(c){c.preventDefault(),c.stopPropagation();const R=this.view.getFocusedElements();if(R.length===0)return;const Y=R[0],ge=this.model.getNodeLocation(Y),Oe=c.browserEvent.altKey;this.model.setCollapsed(ge,void 0,Oe)}dispose(){(0,E.B9)(this.disposables),this.view.dispose()}}class Mt{constructor(c,R,Y={}){this.user=c,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Q(c,R,null,Y),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,Y.sorter&&(this.sorter={compare(ge,Oe){return Y.sorter.compare(ge.element,Oe.element)}}),this.identityProvider=Y.identityProvider}setChildren(c,R=ie.$.empty(),Y={}){const ge=this.getElementLocation(c);this._setChildren(ge,this.preserveCollapseState(R),Y)}_setChildren(c,R=ie.$.empty(),Y){const ge=new Set,Oe=new Set,Ue=ct=>{var Tt;if(ct.element===null)return;const Bt=ct;if(ge.add(Bt.element),this.nodes.set(Bt.element,Bt),this.identityProvider){const Kt=this.identityProvider.getId(Bt.element).toString();Oe.add(Kt),this.nodesByIdentity.set(Kt,Bt)}(Tt=Y.onDidCreateNode)===null||Tt===void 0||Tt.call(Y,Bt)},rt=ct=>{var Tt;if(ct.element===null)return;const Bt=ct;if(ge.has(Bt.element)||this.nodes.delete(Bt.element),this.identityProvider){const Kt=this.identityProvider.getId(Bt.element).toString();Oe.has(Kt)||this.nodesByIdentity.delete(Kt)}(Tt=Y.onDidDeleteNode)===null||Tt===void 0||Tt.call(Y,Bt)};this.model.splice([...c,0],Number.MAX_VALUE,R,Object.assign(Object.assign({},Y),{onDidCreateNode:Ue,onDidDeleteNode:rt}))}preserveCollapseState(c=ie.$.empty()){return this.sorter&&(c=[...c].sort(this.sorter.compare.bind(this.sorter))),ie.$.map(c,R=>{let Y=this.nodes.get(R.element);if(!Y&&this.identityProvider){const Ue=this.identityProvider.getId(R.element).toString();Y=this.nodesByIdentity.get(Ue)}if(!Y)return Object.assign(Object.assign({},R),{children:this.preserveCollapseState(R.children)});const ge=typeof R.collapsible=="boolean"?R.collapsible:Y.collapsible,Oe=typeof R.collapsed<"u"?R.collapsed:Y.collapsed;return Object.assign(Object.assign({},R),{collapsible:ge,collapsed:Oe,children:this.preserveCollapseState(R.children)})})}rerender(c){const R=this.getElementLocation(c);this.model.rerender(R)}getFirstElementChild(c=null){const R=this.getElementLocation(c);return this.model.getFirstElementChild(R)}has(c){return this.nodes.has(c)}getListIndex(c){const R=this.getElementLocation(c);return this.model.getListIndex(R)}getListRenderCount(c){const R=this.getElementLocation(c);return this.model.getListRenderCount(R)}isCollapsible(c){const R=this.getElementLocation(c);return this.model.isCollapsible(R)}setCollapsible(c,R){const Y=this.getElementLocation(c);return this.model.setCollapsible(Y,R)}isCollapsed(c){const R=this.getElementLocation(c);return this.model.isCollapsed(R)}setCollapsed(c,R,Y){const ge=this.getElementLocation(c);return this.model.setCollapsed(ge,R,Y)}expandTo(c){const R=this.getElementLocation(c);this.model.expandTo(R)}refilter(){this.model.refilter()}getNode(c=null){if(c===null)return this.model.getNode(this.model.rootRef);const R=this.nodes.get(c);if(!R)throw new V(this.user,`Tree element not found: ${c}`);return R}getNodeLocation(c){return c.element}getParentNodeLocation(c){if(c===null)throw new V(this.user,"Invalid getParentNodeLocation call");const R=this.nodes.get(c);if(!R)throw new V(this.user,`Tree element not found: ${c}`);const Y=this.model.getNodeLocation(R),ge=this.model.getParentNodeLocation(Y);return this.model.getNode(ge).element}getElementLocation(c){if(c===null)return[];const R=this.nodes.get(c);if(!R)throw new V(this.user,`Tree element not found: ${c}`);return this.model.getNodeLocation(R)}}function ni(k){const c=[k.element],R=k.incompressible||!1;return{element:{elements:c,incompressible:R},children:ie.$.map(ie.$.from(k.children),ni),collapsible:k.collapsible,collapsed:k.collapsed}}function Gt(k){const c=[k.element],R=k.incompressible||!1;let Y,ge;for(;[ge,Y]=ie.$.consume(ie.$.from(k.children),2),!(ge.length!==1||ge[0].incompressible);)k=ge[0],c.push(k.element);return{element:{elements:c,incompressible:R},children:ie.$.map(ie.$.concat(ge,Y),Gt),collapsible:k.collapsible,collapsed:k.collapsed}}function Fe(k,c=0){let R;return c<k.element.elements.length-1?R=[Fe(k,c+1)]:R=ie.$.map(ie.$.from(k.children),Y=>Fe(Y,0)),c===0&&k.element.incompressible?{element:k.element.elements[c],children:R,incompressible:!0,collapsible:k.collapsible,collapsed:k.collapsed}:{element:k.element.elements[c],children:R,collapsible:k.collapsible,collapsed:k.collapsed}}function Ge(k){return Fe(k,0)}function Te(k,c,R){return k.element===c?Object.assign(Object.assign({},k),{children:R}):Object.assign(Object.assign({},k),{children:ie.$.map(ie.$.from(k.children),Y=>Te(Y,c,R))})}const Ke=k=>({getId(c){return c.elements.map(R=>k.getId(R).toString()).join("\0")}});class ut{constructor(c,R,Y={}){this.user=c,this.rootRef=null,this.nodes=new Map,this.model=new Mt(c,R,Y),this.enabled=typeof Y.compressionEnabled>"u"?!0:Y.compressionEnabled,this.identityProvider=Y.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(c,R=ie.$.empty(),Y){const ge=Y.diffIdentityProvider&&Ke(Y.diffIdentityProvider);if(c===null){const di=ie.$.map(R,this.enabled?Gt:ni);this._setChildren(null,di,{diffIdentityProvider:ge,diffDepth:1/0});return}const Oe=this.nodes.get(c);if(!Oe)throw new Error("Unknown compressed tree node");const Ue=this.model.getNode(Oe),rt=this.model.getParentNodeLocation(Oe),ct=this.model.getNode(rt),Tt=Ge(Ue),Bt=Te(Tt,c,R),Kt=(this.enabled?Gt:ni)(Bt),hi=ct.children.map(di=>di===Ue?Kt:di);this._setChildren(ct.element,hi,{diffIdentityProvider:ge,diffDepth:Ue.depth-ct.depth})}setCompressionEnabled(c){if(c===this.enabled)return;this.enabled=c;const Y=this.model.getNode().children,ge=ie.$.map(Y,Ge),Oe=ie.$.map(ge,c?Gt:ni);this._setChildren(null,Oe,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(c,R,Y){const ge=new Set,Oe=rt=>{for(const ct of rt.element.elements)ge.add(ct),this.nodes.set(ct,rt.element)},Ue=rt=>{for(const ct of rt.element.elements)ge.has(ct)||this.nodes.delete(ct)};this.model.setChildren(c,R,Object.assign(Object.assign({},Y),{onDidCreateNode:Oe,onDidDeleteNode:Ue}))}has(c){return this.nodes.has(c)}getListIndex(c){const R=this.getCompressedNode(c);return this.model.getListIndex(R)}getListRenderCount(c){const R=this.getCompressedNode(c);return this.model.getListRenderCount(R)}getNode(c){if(typeof c>"u")return this.model.getNode();const R=this.getCompressedNode(c);return this.model.getNode(R)}getNodeLocation(c){const R=this.model.getNodeLocation(c);return R===null?null:R.elements[R.elements.length-1]}getParentNodeLocation(c){const R=this.getCompressedNode(c),Y=this.model.getParentNodeLocation(R);return Y===null?null:Y.elements[Y.elements.length-1]}getFirstElementChild(c){const R=this.getCompressedNode(c);return this.model.getFirstElementChild(R)}isCollapsible(c){const R=this.getCompressedNode(c);return this.model.isCollapsible(R)}setCollapsible(c,R){const Y=this.getCompressedNode(c);return this.model.setCollapsible(Y,R)}isCollapsed(c){const R=this.getCompressedNode(c);return this.model.isCollapsed(R)}setCollapsed(c,R,Y){const ge=this.getCompressedNode(c);return this.model.setCollapsed(ge,R,Y)}expandTo(c){const R=this.getCompressedNode(c);this.model.expandTo(R)}rerender(c){const R=this.getCompressedNode(c);this.model.rerender(R)}refilter(){this.model.refilter()}getCompressedNode(c){if(c===null)return null;const R=this.nodes.get(c);if(!R)throw new V(this.user,`Tree element not found: ${c}`);return R}}const Nt=k=>k[k.length-1];class Be{constructor(c,R){this.unwrapper=c,this.node=R}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(c=>new Be(this.unwrapper,c))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function Ze(k,c){return{splice(R,Y,ge){c.splice(R,Y,ge.map(Oe=>k.map(Oe)))},updateElementHeight(R,Y){c.updateElementHeight(R,Y)}}}function wt(k,c){return Object.assign(Object.assign({},c),{identityProvider:c.identityProvider&&{getId(R){return c.identityProvider.getId(k(R))}},sorter:c.sorter&&{compare(R,Y){return c.sorter.compare(R.elements[0],Y.elements[0])}},filter:c.filter&&{filter(R,Y){return c.filter.filter(k(R),Y)}}})}class $t{constructor(c,R,Y={}){this.rootRef=null,this.elementMapper=Y.elementMapper||Nt;const ge=Oe=>this.elementMapper(Oe.elements);this.nodeMapper=new $(Oe=>new Be(ge,Oe)),this.model=new ut(c,Ze(this.nodeMapper,R),wt(ge,Y))}get onDidSplice(){return j.ju.map(this.model.onDidSplice,({insertedNodes:c,deletedNodes:R})=>({insertedNodes:c.map(Y=>this.nodeMapper.map(Y)),deletedNodes:R.map(Y=>this.nodeMapper.map(Y))}))}get onDidChangeCollapseState(){return j.ju.map(this.model.onDidChangeCollapseState,({node:c,deep:R})=>({node:this.nodeMapper.map(c),deep:R}))}get onDidChangeRenderNodeCount(){return j.ju.map(this.model.onDidChangeRenderNodeCount,c=>this.nodeMapper.map(c))}setChildren(c,R=ie.$.empty(),Y={}){this.model.setChildren(c,R,Y)}setCompressionEnabled(c){this.model.setCompressionEnabled(c)}has(c){return this.model.has(c)}getListIndex(c){return this.model.getListIndex(c)}getListRenderCount(c){return this.model.getListRenderCount(c)}getNode(c){return this.nodeMapper.map(this.model.getNode(c))}getNodeLocation(c){return c.element}getParentNodeLocation(c){return this.model.getParentNodeLocation(c)}getFirstElementChild(c){const R=this.model.getFirstElementChild(c);return R===null||typeof R>"u"?R:this.elementMapper(R.elements)}isCollapsible(c){return this.model.isCollapsible(c)}setCollapsible(c,R){return this.model.setCollapsible(c,R)}isCollapsed(c){return this.model.isCollapsed(c)}setCollapsed(c,R,Y){return this.model.setCollapsed(c,R,Y)}expandTo(c){return this.model.expandTo(c)}rerender(c){return this.model.rerender(c)}refilter(){return this.model.refilter()}getCompressedTreeNode(c=null){return this.model.getNode(c)}}var _t=s(49898),Jt=function(k,c,R,Y){var ge=arguments.length,Oe=ge<3?c:Y===null?Y=Object.getOwnPropertyDescriptor(c,R):Y,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(k,c,R,Y);else for(var rt=k.length-1;rt>=0;rt--)(Ue=k[rt])&&(Oe=(ge<3?Ue(Oe):ge>3?Ue(c,R,Oe):Ue(c,R))||Oe);return ge>3&&Oe&&Object.defineProperty(c,R,Oe),Oe};class Zt extends Ot{constructor(c,R,Y,ge,Oe={}){super(c,R,Y,ge,Oe),this.user=c}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(c,R=ie.$.empty(),Y){this.model.setChildren(c,R,Y)}rerender(c){if(c===void 0){this.view.rerender();return}this.model.rerender(c)}hasElement(c){return this.model.has(c)}createModel(c,R,Y){return new Mt(c,R,Y)}}class Xe{constructor(c,R){this._compressedTreeNodeProvider=c,this.renderer=R,this.templateId=R.templateId,R.onDidChangeTwistieState&&(this.onDidChangeTwistieState=R.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(c){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(c)}}renderElement(c,R,Y,ge){const Oe=this.compressedTreeNodeProvider.getCompressedTreeNode(c.element);Oe.element.elements.length===1?(Y.compressedTreeNode=void 0,this.renderer.renderElement(c,R,Y.data,ge)):(Y.compressedTreeNode=Oe,this.renderer.renderCompressedElements(Oe,R,Y.data,ge))}disposeElement(c,R,Y,ge){var Oe,Ue,rt,ct;Y.compressedTreeNode?(Ue=(Oe=this.renderer).disposeCompressedElements)===null||Ue===void 0||Ue.call(Oe,Y.compressedTreeNode,R,Y.data,ge):(ct=(rt=this.renderer).disposeElement)===null||ct===void 0||ct.call(rt,c,R,Y.data,ge)}disposeTemplate(c){this.renderer.disposeTemplate(c.data)}renderTwistie(c,R){return this.renderer.renderTwistie?this.renderer.renderTwistie(c,R):!1}}Jt([_t.H],Xe.prototype,"compressedTreeNodeProvider",null);function Lt(k,c){return c&&Object.assign(Object.assign({},c),{keyboardNavigationLabelProvider:c.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(R){let Y;try{Y=k().getCompressedTreeNode(R)}catch{return c.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(R)}return Y.element.elements.length===1?c.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(R):c.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Y.element.elements)}}})}class mi extends Zt{constructor(c,R,Y,ge,Oe={}){const Ue=()=>this,rt=ge.map(ct=>new Xe(Ue,ct));super(c,R,Y,rt,Lt(Ue,Oe))}setChildren(c,R=ie.$.empty(),Y){this.model.setChildren(c,R,Y)}createModel(c,R,Y){return new $t(c,R,Y)}updateOptions(c={}){super.updateOptions(c),typeof c.compressionEnabled<"u"&&this.model.setCompressionEnabled(c.compressionEnabled)}getCompressedTreeNode(c=null){return this.model.getCompressedTreeNode(c)}}var jt=s(17301),ki=function(k,c,R,Y){function ge(Oe){return Oe instanceof R?Oe:new R(function(Ue){Ue(Oe)})}return new(R||(R=Promise))(function(Oe,Ue){function rt(Bt){try{Tt(Y.next(Bt))}catch(Kt){Ue(Kt)}}function ct(Bt){try{Tt(Y.throw(Bt))}catch(Kt){Ue(Kt)}}function Tt(Bt){Bt.done?Oe(Bt.value):ge(Bt.value).then(rt,ct)}Tt((Y=Y.apply(k,c||[])).next())})};function Pi(k){return Object.assign(Object.assign({},k),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function gt(k,c){return c.parent?c.parent===k?!0:gt(k,c.parent):!1}function St(k,c){return k===c||gt(k,c)||gt(c,k)}class ii{constructor(c){this.node=c}get element(){return this.node.element.element}get children(){return this.node.children.map(c=>new ii(c))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Ri{constructor(c,R,Y){this.renderer=c,this.nodeMapper=R,this.onDidChangeTwistieState=Y,this.renderedNodes=new Map,this.templateId=c.templateId}renderTemplate(c){return{templateData:this.renderer.renderTemplate(c)}}renderElement(c,R,Y,ge){this.renderer.renderElement(this.nodeMapper.map(c),R,Y.templateData,ge)}renderTwistie(c,R){return c.slow?(R.classList.add(...te.lA.treeItemLoading.classNamesArray),!0):(R.classList.remove(...te.lA.treeItemLoading.classNamesArray),!1)}disposeElement(c,R,Y,ge){var Oe,Ue;(Ue=(Oe=this.renderer).disposeElement)===null||Ue===void 0||Ue.call(Oe,this.nodeMapper.map(c),R,Y.templateData,ge)}disposeTemplate(c){this.renderer.disposeTemplate(c.templateData)}dispose(){this.renderedNodes.clear()}}function Di(k){return{browserEvent:k.browserEvent,elements:k.elements.map(c=>c.element)}}function Vi(k){return{browserEvent:k.browserEvent,element:k.element&&k.element.element,target:k.target}}class Ci extends M.kX{constructor(c){super(c.elements.map(R=>R.element)),this.data=c}}function Wt(k){return k instanceof M.kX?new Ci(k):k}class vt{constructor(c){this.dnd=c}getDragURI(c){return this.dnd.getDragURI(c.element)}getDragLabel(c,R){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(c.map(Y=>Y.element),R)}onDragStart(c,R){var Y,ge;(ge=(Y=this.dnd).onDragStart)===null||ge===void 0||ge.call(Y,Wt(c),R)}onDragOver(c,R,Y,ge,Oe=!0){return this.dnd.onDragOver(Wt(c),R&&R.element,Y,ge)}drop(c,R,Y,ge){this.dnd.drop(Wt(c),R&&R.element,Y,ge)}onDragEnd(c){var R,Y;(Y=(R=this.dnd).onDragEnd)===null||Y===void 0||Y.call(R,c)}}function _e(k){return k&&Object.assign(Object.assign({},k),{collapseByDefault:!0,identityProvider:k.identityProvider&&{getId(c){return k.identityProvider.getId(c.element)}},dnd:k.dnd&&new vt(k.dnd),multipleSelectionController:k.multipleSelectionController&&{isSelectionSingleChangeEvent(c){return k.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},c),{element:c.element}))},isSelectionRangeChangeEvent(c){return k.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},c),{element:c.element}))}},accessibilityProvider:k.accessibilityProvider&&Object.assign(Object.assign({},k.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:k.accessibilityProvider.getRole?c=>k.accessibilityProvider.getRole(c.element):()=>"treeitem",isChecked:k.accessibilityProvider.isChecked?c=>{var R;return!!(!((R=k.accessibilityProvider)===null||R===void 0)&&R.isChecked(c.element))}:void 0,getAriaLabel(c){return k.accessibilityProvider.getAriaLabel(c.element)},getWidgetAriaLabel(){return k.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:k.accessibilityProvider.getWidgetRole?()=>k.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:k.accessibilityProvider.getAriaLevel&&(c=>k.accessibilityProvider.getAriaLevel(c.element)),getActiveDescendantId:k.accessibilityProvider.getActiveDescendantId&&(c=>k.accessibilityProvider.getActiveDescendantId(c.element))}),filter:k.filter&&{filter(c,R){return k.filter.filter(c.element,R)}},keyboardNavigationLabelProvider:k.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},k.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(c){return k.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(c.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof k.expandOnlyOnTwistieClick>"u"?void 0:typeof k.expandOnlyOnTwistieClick!="function"?k.expandOnlyOnTwistieClick:c=>k.expandOnlyOnTwistieClick(c.element),additionalScrollHeight:k.additionalScrollHeight})}function Ee(k,c){c(k),k.children.forEach(R=>Ee(R,c))}class Le{constructor(c,R,Y,ge,Oe,Ue={}){this.user=c,this.dataSource=Oe,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new j.Q5,this._onDidChangeNodeSlowState=new j.Q5,this.nodeMapper=new $(rt=>new ii(rt)),this.disposables=new E.SL,this.identityProvider=Ue.identityProvider,this.autoExpandSingleChildren=typeof Ue.autoExpandSingleChildren>"u"?!1:Ue.autoExpandSingleChildren,this.sorter=Ue.sorter,this.collapseByDefault=Ue.collapseByDefault,this.tree=this.createTree(c,R,Y,ge,Ue),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Pi({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return j.ju.map(this.tree.onDidChangeFocus,Di)}get onDidChangeSelection(){return j.ju.map(this.tree.onDidChangeSelection,Di)}get onMouseDblClick(){return j.ju.map(this.tree.onMouseDblClick,Vi)}get onPointer(){return j.ju.map(this.tree.onPointer,Vi)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(c,R,Y,ge,Oe){const Ue=new Ae(Y),rt=ge.map(Tt=>new Ri(Tt,this.nodeMapper,this._onDidChangeNodeSlowState.event)),ct=_e(Oe)||{};return new Zt(c,R,Ue,rt,ct)}updateOptions(c={}){this.tree.updateOptions(c)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(c){this.tree.scrollTop=c}domFocus(){this.tree.domFocus()}layout(c,R){this.tree.layout(c,R)}style(c){this.tree.style(c)}getInput(){return this.root.element}setInput(c,R){return ki(this,void 0,void 0,function*(){this.refreshPromises.forEach(ge=>ge.cancel()),this.refreshPromises.clear(),this.root.element=c;const Y=R&&{viewState:R,focus:[],selection:[]};yield this._updateChildren(c,!0,!1,Y),Y&&(this.tree.setFocus(Y.focus),this.tree.setSelection(Y.selection)),R&&typeof R.scrollTop=="number"&&(this.scrollTop=R.scrollTop)})}_updateChildren(c=this.root.element,R=!0,Y=!1,ge,Oe){return ki(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new V(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield j.ju.toPromise(this._onDidRender.event));const Ue=this.getDataNode(c);if(yield this.refreshAndRenderNode(Ue,R,ge,Oe),Y)try{this.tree.rerender(Ue)}catch{}})}rerender(c){if(c===void 0||c===this.root.element){this.tree.rerender();return}const R=this.getDataNode(c);this.tree.rerender(R)}getNode(c=this.root.element){const R=this.getDataNode(c),Y=this.tree.getNode(R===this.root?null:R);return this.nodeMapper.map(Y)}collapse(c,R=!1){const Y=this.getDataNode(c);return this.tree.collapse(Y===this.root?null:Y,R)}expand(c,R=!1){return ki(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new V(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield j.ju.toPromise(this._onDidRender.event));const Y=this.getDataNode(c);if(this.tree.hasElement(Y)&&!this.tree.isCollapsible(Y)||(Y.refreshPromise&&(yield this.root.refreshPromise,yield j.ju.toPromise(this._onDidRender.event)),Y!==this.root&&!Y.refreshPromise&&!this.tree.isCollapsed(Y)))return!1;const ge=this.tree.expand(Y===this.root?null:Y,R);return Y.refreshPromise&&(yield this.root.refreshPromise,yield j.ju.toPromise(this._onDidRender.event)),ge})}setSelection(c,R){const Y=c.map(ge=>this.getDataNode(ge));this.tree.setSelection(Y,R)}getSelection(){return this.tree.getSelection().map(R=>R.element)}setFocus(c,R){const Y=c.map(ge=>this.getDataNode(ge));this.tree.setFocus(Y,R)}getFocus(){return this.tree.getFocus().map(R=>R.element)}reveal(c,R){this.tree.reveal(this.getDataNode(c),R)}getParentElement(c){const R=this.tree.getParentElement(this.getDataNode(c));return R&&R.element}getFirstElementChild(c=this.root.element){const R=this.getDataNode(c),Y=this.tree.getFirstElementChild(R===this.root?null:R);return Y&&Y.element}getDataNode(c){const R=this.nodes.get(c===this.root.element?null:c);if(!R)throw new V(this.user,`Data tree node not found: ${c}`);return R}refreshAndRenderNode(c,R,Y,ge){return ki(this,void 0,void 0,function*(){yield this.refreshNode(c,R,Y),this.render(c,Y,ge)})}refreshNode(c,R,Y){return ki(this,void 0,void 0,function*(){let ge;if(this.subTreeRefreshPromises.forEach((Oe,Ue)=>{!ge&&St(Ue,c)&&(ge=Oe.then(()=>this.refreshNode(c,R,Y)))}),ge)return ge;if(c!==this.root&&this.tree.getNode(c).collapsed){c.hasChildren=!!this.dataSource.hasChildren(c.element),c.stale=!0;return}return this.doRefreshSubTree(c,R,Y)})}doRefreshSubTree(c,R,Y){return ki(this,void 0,void 0,function*(){let ge;c.refreshPromise=new Promise(Oe=>ge=Oe),this.subTreeRefreshPromises.set(c,c.refreshPromise),c.refreshPromise.finally(()=>{c.refreshPromise=void 0,this.subTreeRefreshPromises.delete(c)});try{const Oe=yield this.doRefreshNode(c,R,Y);c.stale=!1,yield re.jT.settled(Oe.map(Ue=>this.doRefreshSubTree(Ue,R,Y)))}finally{ge()}})}doRefreshNode(c,R,Y){return ki(this,void 0,void 0,function*(){c.hasChildren=!!this.dataSource.hasChildren(c.element);let ge;if(!c.hasChildren)ge=Promise.resolve(ie.$.empty());else{const Oe=this.doGetChildren(c);if((0,me.TW)(Oe))ge=Promise.resolve(Oe);else{const Ue=(0,re.Vs)(800);Ue.then(()=>{c.slow=!0,this._onDidChangeNodeSlowState.fire(c)},rt=>null),ge=Oe.finally(()=>Ue.cancel())}}try{const Oe=yield ge;return this.setChildren(c,Oe,R,Y)}catch(Oe){if(c!==this.root&&this.tree.hasElement(c)&&this.tree.collapse(c),(0,jt.n2)(Oe))return[];throw Oe}finally{c.slow&&(c.slow=!1,this._onDidChangeNodeSlowState.fire(c))}})}doGetChildren(c){let R=this.refreshPromises.get(c);if(R)return R;const Y=this.dataSource.getChildren(c.element);return(0,me.TW)(Y)?this.processChildren(Y):(R=(0,re.PG)(()=>ki(this,void 0,void 0,function*(){return this.processChildren(yield Y)})),this.refreshPromises.set(c,R),R.finally(()=>{this.refreshPromises.delete(c)}))}_onDidChangeCollapseState({node:c,deep:R}){c.element!==null&&!c.collapsed&&c.element.stale&&(R?this.collapse(c.element.element):this.refreshAndRenderNode(c.element,!1).catch(jt.dL))}setChildren(c,R,Y,ge){const Oe=[...R];if(c.children.length===0&&Oe.length===0)return[];const Ue=new Map,rt=new Map;for(const Bt of c.children)if(Ue.set(Bt.element,Bt),this.identityProvider){const Kt=this.tree.isCollapsed(Bt);rt.set(Bt.id,{node:Bt,collapsed:Kt})}const ct=[],Tt=Oe.map(Bt=>{const Kt=!!this.dataSource.hasChildren(Bt);if(!this.identityProvider){const Ei=Pi({element:Bt,parent:c,hasChildren:Kt});return Kt&&this.collapseByDefault&&!this.collapseByDefault(Bt)&&(Ei.collapsedByDefault=!1,ct.push(Ei)),Ei}const hi=this.identityProvider.getId(Bt).toString(),di=rt.get(hi);if(di){const Ei=di.node;return Ue.delete(Ei.element),this.nodes.delete(Ei.element),this.nodes.set(Bt,Ei),Ei.element=Bt,Ei.hasChildren=Kt,Y?di.collapsed?(Ei.children.forEach(Bi=>Ee(Bi,Qi=>this.nodes.delete(Qi.element))),Ei.children.splice(0,Ei.children.length),Ei.stale=!0):ct.push(Ei):Kt&&this.collapseByDefault&&!this.collapseByDefault(Bt)&&(Ei.collapsedByDefault=!1,ct.push(Ei)),Ei}const fi=Pi({element:Bt,parent:c,id:hi,hasChildren:Kt});return ge&&ge.viewState.focus&&ge.viewState.focus.indexOf(hi)>-1&&ge.focus.push(fi),ge&&ge.viewState.selection&&ge.viewState.selection.indexOf(hi)>-1&&ge.selection.push(fi),ge&&ge.viewState.expanded&&ge.viewState.expanded.indexOf(hi)>-1?ct.push(fi):Kt&&this.collapseByDefault&&!this.collapseByDefault(Bt)&&(fi.collapsedByDefault=!1,ct.push(fi)),fi});for(const Bt of Ue.values())Ee(Bt,Kt=>this.nodes.delete(Kt.element));for(const Bt of Tt)this.nodes.set(Bt.element,Bt);return c.children.splice(0,c.children.length,...Tt),c!==this.root&&this.autoExpandSingleChildren&&Tt.length===1&&ct.length===0&&(Tt[0].collapsedByDefault=!1,ct.push(Tt[0])),ct}render(c,R,Y){const ge=c.children.map(Ue=>this.asTreeElement(Ue,R)),Oe=Y&&Object.assign(Object.assign({},Y),{diffIdentityProvider:Y.diffIdentityProvider&&{getId(Ue){return Y.diffIdentityProvider.getId(Ue.element)}}});this.tree.setChildren(c===this.root?null:c,ge,Oe),c!==this.root&&this.tree.setCollapsible(c,c.hasChildren),this._onDidRender.fire()}asTreeElement(c,R){if(c.stale)return{element:c,collapsible:c.hasChildren,collapsed:!0};let Y;return R&&R.viewState.expanded&&c.id&&R.viewState.expanded.indexOf(c.id)>-1?Y=!1:Y=c.collapsedByDefault,c.collapsedByDefault=void 0,{element:c,children:c.hasChildren?ie.$.map(c.children,ge=>this.asTreeElement(ge,R)):[],collapsible:c.hasChildren,collapsed:Y}}processChildren(c){return this.sorter&&(c=[...c].sort(this.sorter.compare.bind(this.sorter))),c}dispose(){this.disposables.dispose()}}class oe{constructor(c){this.node=c}get element(){return{elements:this.node.element.elements.map(c=>c.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(c=>new oe(c))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class he{constructor(c,R,Y,ge){this.renderer=c,this.nodeMapper=R,this.compressibleNodeMapperProvider=Y,this.onDidChangeTwistieState=ge,this.renderedNodes=new Map,this.disposables=[],this.templateId=c.templateId}renderTemplate(c){return{templateData:this.renderer.renderTemplate(c)}}renderElement(c,R,Y,ge){this.renderer.renderElement(this.nodeMapper.map(c),R,Y.templateData,ge)}renderCompressedElements(c,R,Y,ge){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(c),R,Y.templateData,ge)}renderTwistie(c,R){return c.slow?(R.classList.add(...te.lA.treeItemLoading.classNamesArray),!0):(R.classList.remove(...te.lA.treeItemLoading.classNamesArray),!1)}disposeElement(c,R,Y,ge){var Oe,Ue;(Ue=(Oe=this.renderer).disposeElement)===null||Ue===void 0||Ue.call(Oe,this.nodeMapper.map(c),R,Y.templateData,ge)}disposeCompressedElements(c,R,Y,ge){var Oe,Ue;(Ue=(Oe=this.renderer).disposeCompressedElements)===null||Ue===void 0||Ue.call(Oe,this.compressibleNodeMapperProvider().map(c),R,Y.templateData,ge)}disposeTemplate(c){this.renderer.disposeTemplate(c.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,E.B9)(this.disposables)}}function Me(k){const c=k&&_e(k);return c&&Object.assign(Object.assign({},c),{keyboardNavigationLabelProvider:c.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},c.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(R){return k.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(R.map(Y=>Y.element))}})})}class ke extends Le{constructor(c,R,Y,ge,Oe,Ue,rt={}){super(c,R,Y,Oe,Ue,rt),this.compressionDelegate=ge,this.compressibleNodeMapper=new $(ct=>new oe(ct)),this.filter=rt.filter}createTree(c,R,Y,ge,Oe){const Ue=new Ae(Y),rt=ge.map(Tt=>new he(Tt,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),ct=Me(Oe)||{};return new mi(c,R,Ue,rt,ct)}asTreeElement(c,R){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(c.element)},super.asTreeElement(c,R))}updateOptions(c={}){this.tree.updateOptions(c)}render(c,R){if(!this.identityProvider)return super.render(c,R);const Y=hi=>this.identityProvider.getId(hi).toString(),ge=hi=>{const di=new Set;for(const fi of hi){const Ei=this.tree.getCompressedTreeNode(fi===this.root?null:fi);if(Ei.element)for(const Bi of Ei.element.elements)di.add(Y(Bi.element))}return di},Oe=ge(this.tree.getSelection()),Ue=ge(this.tree.getFocus());super.render(c,R);const rt=this.getSelection();let ct=!1;const Tt=this.getFocus();let Bt=!1;const Kt=hi=>{const di=hi.element;if(di)for(let fi=0;fi<di.elements.length;fi++){const Ei=Y(di.elements[fi].element),Bi=di.elements[di.elements.length-1].element;Oe.has(Ei)&&rt.indexOf(Bi)===-1&&(rt.push(Bi),ct=!0),Ue.has(Ei)&&Tt.indexOf(Bi)===-1&&(Tt.push(Bi),Bt=!0)}hi.children.forEach(Kt)};Kt(this.tree.getCompressedTreeNode(c===this.root?null:c)),ct&&this.setSelection(rt),Bt&&this.setFocus(Tt)}processChildren(c){return this.filter&&(c=ie.$.filter(c,R=>{const Y=this.filter.filter(R,1),ge=Je(Y);if(ge===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return ge===1})),super.processChildren(c)}}function Je(k){return typeof k=="boolean"?k?1:0:se(k)?X(k.visibility):X(k)}class ot extends Ot{constructor(c,R,Y,ge,Oe,Ue={}){super(c,R,Y,ge,Ue),this.user=c,this.dataSource=Oe,this.identityProvider=Ue.identityProvider}createModel(c,R,Y){return new Mt(c,R,Y)}}var ht=s(33108),xt=s(23193),nt=s(38819),It=s(39282),Ht=s(5606),Qt=s(72065),ci=s(91847),Fi=s(89872),Ii=s(88810),Xi=s(97781),zi=function(k,c,R,Y){var ge=arguments.length,Oe=ge<3?c:Y===null?Y=Object.getOwnPropertyDescriptor(c,R):Y,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(k,c,R,Y);else for(var rt=k.length-1;rt>=0;rt--)(Ue=k[rt])&&(Oe=(ge<3?Ue(Oe):ge>3?Ue(c,R,Oe):Ue(c,R))||Oe);return ge>3&&Oe&&Object.defineProperty(c,R,Oe),Oe},Si=function(k,c){return function(R,Y){c(R,Y,k)}};const Ji=(0,Qt.yh)("listService");let Zi=class{constructor(c){this._themeService=c,this.disposables=new E.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(c){var R,Y;c!==this._lastFocusedWidget&&((R=this._lastFocusedWidget)===null||R===void 0||R.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=c,(Y=this._lastFocusedWidget)===null||Y===void 0||Y.getHTMLElement().classList.add("last-focused"))}register(c,R){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const ge=new B.wD((0,b.dS)(),"");this.disposables.add((0,Ii.Jl)(ge,this._themeService))}if(this.lists.some(ge=>ge.widget===c))throw new Error("Cannot register the same widget multiple times");const Y={widget:c,extraContextKeys:R};return this.lists.push(Y),c.getHTMLElement()===document.activeElement&&this.setLastFocusedList(c),(0,E.F8)(c.onDidFocus(()=>this.setLastFocusedList(c)),(0,E.OF)(()=>this.lists.splice(this.lists.indexOf(Y),1)),c.onDidDispose(()=>{this.lists=this.lists.filter(ge=>ge!==Y),this._lastFocusedWidget===c&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};Zi=zi([Si(0,Xi.XE)],Zi);const Ui=new nt.uy("listFocus",!0),nn=new nt.uy("listSupportsMultiselect",!0),Dn=nt.Ao.and(Ui,nt.Ao.not(It.d0)),Cn=new nt.uy("listHasSelectionOrFocus",!1),pi=new nt.uy("listDoubleSelection",!1),ze=new nt.uy("listMultiSelection",!1),Ct=new nt.uy("listSelectionNavigation",!1),kt=new nt.uy("listSupportsFind",!0),oi=new nt.uy("treeElementCanCollapse",!1),ai=new nt.uy("treeElementHasParent",!1),bi=new nt.uy("treeElementCanExpand",!1),xi=new nt.uy("treeElementHasChild",!1),Ti=new nt.uy("treeFindOpen",!1),ji="listTypeNavigationMode",Hi="listAutomaticKeyboardNavigation";function rn(k,c){const R=k.createScoped(c.getHTMLElement());return Ui.bindTo(R),R}const wi="workbench.list.multiSelectModifier",et="workbench.list.openMode",lt="workbench.list.horizontalScrolling",Rt="workbench.list.defaultFindMode",Ut="workbench.list.keyboardNavigation",ui="workbench.tree.indent",ri="workbench.tree.renderIndentGuides",_i="workbench.list.smoothScrolling",Yi="workbench.list.mouseWheelScrollSensitivity",an="workbench.list.fastScrollSensitivity",ei="workbench.tree.expandMode";function Gi(k){return k.getValue(wi)==="alt"}class ln extends E.JT{constructor(c){super(),this.configurationService=c,this.useAltAsMultipleSelectionModifier=Gi(c),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(c=>{c.affectsConfiguration(wi)&&(this.useAltAsMultipleSelectionModifier=Gi(this.configurationService))}))}isSelectionSingleChangeEvent(c){return this.useAltAsMultipleSelectionModifier?c.browserEvent.altKey:(0,B.Zo)(c)}isSelectionRangeChangeEvent(c){return(0,B.wn)(c)}}function bn(k,c){var R;const Y=k.get(ht.Ui),ge=k.get(ci.d),Oe=new E.SL;return[Object.assign(Object.assign({},c),{keyboardNavigationDelegate:{mightProducePrintableCharacter(rt){return ge.mightProducePrintableCharacter(rt)}},smoothScrolling:!!Y.getValue(_i),mouseWheelScrollSensitivity:Y.getValue(Yi),fastScrollSensitivity:Y.getValue(an),multipleSelectionController:(R=c.multipleSelectionController)!==null&&R!==void 0?R:Oe.add(new ln(Y)),keyboardNavigationEventFilter:Kn(ge)}),Oe]}let Mn=class extends B.aV{constructor(c,R,Y,ge,Oe,Ue,rt,ct,Tt,Bt){const Kt=typeof Oe.horizontalScrolling<"u"?Oe.horizontalScrolling:!!Tt.getValue(lt),[hi,di]=Bt.invokeFunction(bn,Oe);super(c,R,Y,ge,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Ii.o)(ct.getColorTheme(),Ii.O2)),hi),{horizontalScrolling:Kt})),this.disposables.add(di),this.contextKeyService=rn(Ue,this),this.themeService=ct,this.listSupportsMultiSelect=nn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Oe.multipleSelectionSupport!==!1),Ct.bindTo(this.contextKeyService).set(!!Oe.selectionNavigation),this.listHasSelectionOrFocus=Cn.bindTo(this.contextKeyService),this.listDoubleSelection=pi.bindTo(this.contextKeyService),this.listMultiSelection=ze.bindTo(this.contextKeyService),this.horizontalScrolling=Oe.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Gi(Tt),this.disposables.add(this.contextKeyService),this.disposables.add(rt.register(this)),Oe.overrideStyles&&this.updateStyles(Oe.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ei=this.getSelection(),Bi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ei.length>0||Bi.length>0),this.listMultiSelection.set(Ei.length>1),this.listDoubleSelection.set(Ei.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ei=this.getSelection(),Bi=this.getFocus();this.listHasSelectionOrFocus.set(Ei.length>0||Bi.length>0)})),this.disposables.add(Tt.onDidChangeConfiguration(Ei=>{Ei.affectsConfiguration(wi)&&(this._useAltAsMultipleSelectionModifier=Gi(Tt));let Bi={};if(Ei.affectsConfiguration(lt)&&this.horizontalScrolling===void 0){const Qi=!!Tt.getValue(lt);Bi=Object.assign(Object.assign({},Bi),{horizontalScrolling:Qi})}if(Ei.affectsConfiguration(_i)){const Qi=!!Tt.getValue(_i);Bi=Object.assign(Object.assign({},Bi),{smoothScrolling:Qi})}if(Ei.affectsConfiguration(Yi)){const Qi=Tt.getValue(Yi);Bi=Object.assign(Object.assign({},Bi),{mouseWheelScrollSensitivity:Qi})}if(Ei.affectsConfiguration(an)){const Qi=Tt.getValue(an);Bi=Object.assign(Object.assign({},Bi),{fastScrollSensitivity:Qi})}Object.keys(Bi).length>0&&this.updateOptions(Bi)})),this.navigator=new Bn(this,Object.assign({configurationService:Tt},Oe)),this.disposables.add(this.navigator)}updateOptions(c){super.updateOptions(c),c.overrideStyles&&this.updateStyles(c.overrideStyles),c.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!c.multipleSelectionSupport)}updateStyles(c){var R;(R=this._styler)===null||R===void 0||R.dispose(),this._styler=(0,Ii.Jl)(this,this.themeService,c)}dispose(){var c;(c=this._styler)===null||c===void 0||c.dispose(),super.dispose()}};Mn=zi([Si(5,nt.i6),Si(6,Ji),Si(7,Xi.XE),Si(8,ht.Ui),Si(9,Qt.TG)],Mn);let Nn=class extends g{constructor(c,R,Y,ge,Oe,Ue,rt,ct,Tt,Bt){const Kt=typeof Oe.horizontalScrolling<"u"?Oe.horizontalScrolling:!!Tt.getValue(lt),[hi,di]=Bt.invokeFunction(bn,Oe);super(c,R,Y,ge,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Ii.o)(ct.getColorTheme(),Ii.O2)),hi),{horizontalScrolling:Kt})),this.disposables=new E.SL,this.disposables.add(di),this.contextKeyService=rn(Ue,this),this.themeService=ct,this.horizontalScrolling=Oe.horizontalScrolling,this.listSupportsMultiSelect=nn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Oe.multipleSelectionSupport!==!1),Ct.bindTo(this.contextKeyService).set(!!Oe.selectionNavigation),this._useAltAsMultipleSelectionModifier=Gi(Tt),this.disposables.add(this.contextKeyService),this.disposables.add(rt.register(this)),Oe.overrideStyles&&this.updateStyles(Oe.overrideStyles),Oe.overrideStyles&&this.disposables.add((0,Ii.Jl)(this,ct,Oe.overrideStyles)),this.disposables.add(Tt.onDidChangeConfiguration(Ei=>{Ei.affectsConfiguration(wi)&&(this._useAltAsMultipleSelectionModifier=Gi(Tt));let Bi={};if(Ei.affectsConfiguration(lt)&&this.horizontalScrolling===void 0){const Qi=!!Tt.getValue(lt);Bi=Object.assign(Object.assign({},Bi),{horizontalScrolling:Qi})}if(Ei.affectsConfiguration(_i)){const Qi=!!Tt.getValue(_i);Bi=Object.assign(Object.assign({},Bi),{smoothScrolling:Qi})}if(Ei.affectsConfiguration(Yi)){const Qi=Tt.getValue(Yi);Bi=Object.assign(Object.assign({},Bi),{mouseWheelScrollSensitivity:Qi})}if(Ei.affectsConfiguration(an)){const Qi=Tt.getValue(an);Bi=Object.assign(Object.assign({},Bi),{fastScrollSensitivity:Qi})}Object.keys(Bi).length>0&&this.updateOptions(Bi)})),this.navigator=new Bn(this,Object.assign({configurationService:Tt},Oe)),this.disposables.add(this.navigator)}updateOptions(c){super.updateOptions(c),c.overrideStyles&&this.updateStyles(c.overrideStyles),c.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!c.multipleSelectionSupport)}updateStyles(c){var R;(R=this._styler)===null||R===void 0||R.dispose(),this._styler=(0,Ii.Jl)(this,this.themeService,c)}dispose(){var c;(c=this._styler)===null||c===void 0||c.dispose(),this.disposables.dispose(),super.dispose()}};Nn=zi([Si(5,nt.i6),Si(6,Ji),Si(7,Xi.XE),Si(8,ht.Ui),Si(9,Qt.TG)],Nn);let yn=class extends _{constructor(c,R,Y,ge,Oe,Ue,rt,ct,Tt,Bt,Kt){const hi=typeof Ue.horizontalScrolling<"u"?Ue.horizontalScrolling:!!Bt.getValue(lt),[di,fi]=Kt.invokeFunction(bn,Ue);super(c,R,Y,ge,Oe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Ii.o)(Tt.getColorTheme(),Ii.O2)),di),{horizontalScrolling:hi})),this.disposables.add(fi),this.contextKeyService=rn(rt,this),this.themeService=Tt,this.listSupportsMultiSelect=nn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ue.multipleSelectionSupport!==!1),Ct.bindTo(this.contextKeyService).set(!!Ue.selectionNavigation),this.listHasSelectionOrFocus=Cn.bindTo(this.contextKeyService),this.listDoubleSelection=pi.bindTo(this.contextKeyService),this.listMultiSelection=ze.bindTo(this.contextKeyService),this.horizontalScrolling=Ue.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Gi(Bt),this.disposables.add(this.contextKeyService),this.disposables.add(ct.register(this)),Ue.overrideStyles&&this.updateStyles(Ue.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Bi=this.getSelection(),Qi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Bi.length>0||Qi.length>0),this.listMultiSelection.set(Bi.length>1),this.listDoubleSelection.set(Bi.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Bi=this.getSelection(),Qi=this.getFocus();this.listHasSelectionOrFocus.set(Bi.length>0||Qi.length>0)})),this.disposables.add(Bt.onDidChangeConfiguration(Bi=>{Bi.affectsConfiguration(wi)&&(this._useAltAsMultipleSelectionModifier=Gi(Bt));let Qi={};if(Bi.affectsConfiguration(lt)&&this.horizontalScrolling===void 0){const In=!!Bt.getValue(lt);Qi=Object.assign(Object.assign({},Qi),{horizontalScrolling:In})}if(Bi.affectsConfiguration(_i)){const In=!!Bt.getValue(_i);Qi=Object.assign(Object.assign({},Qi),{smoothScrolling:In})}if(Bi.affectsConfiguration(Yi)){const In=Bt.getValue(Yi);Qi=Object.assign(Object.assign({},Qi),{mouseWheelScrollSensitivity:In})}if(Bi.affectsConfiguration(an)){const In=Bt.getValue(an);Qi=Object.assign(Object.assign({},Qi),{fastScrollSensitivity:In})}Object.keys(Qi).length>0&&this.updateOptions(Qi)})),this.navigator=new sn(this,Object.assign({configurationService:Bt},Ue)),this.disposables.add(this.navigator)}updateOptions(c){super.updateOptions(c),c.overrideStyles&&this.updateStyles(c.overrideStyles),c.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!c.multipleSelectionSupport)}updateStyles(c){var R;(R=this._styler)===null||R===void 0||R.dispose(),this._styler=(0,Ii.Jl)(this,this.themeService,c)}dispose(){var c;(c=this._styler)===null||c===void 0||c.dispose(),this.disposables.dispose(),super.dispose()}};yn=zi([Si(6,nt.i6),Si(7,Ji),Si(8,Xi.XE),Si(9,ht.Ui),Si(10,Qt.TG)],yn);class An extends E.JT{constructor(c,R){var Y;super(),this.widget=c,this._onDidOpen=this._register(new j.Q5),this.onDidOpen=this._onDidOpen.event,this._register(j.ju.filter(this.widget.onDidChangeSelection,ge=>ge.browserEvent instanceof KeyboardEvent)(ge=>this.onSelectionFromKeyboard(ge))),this._register(this.widget.onPointer(ge=>this.onPointer(ge.element,ge.browserEvent))),this._register(this.widget.onMouseDblClick(ge=>this.onMouseDblClick(ge.element,ge.browserEvent))),typeof R?.openOnSingleClick!="boolean"&&R?.configurationService?(this.openOnSingleClick=R?.configurationService.getValue(et)!=="doubleClick",this._register(R?.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=R?.configurationService.getValue(et)!=="doubleClick"}))):this.openOnSingleClick=(Y=R?.openOnSingleClick)!==null&&Y!==void 0?Y:!0}onSelectionFromKeyboard(c){if(c.elements.length!==1)return;const R=c.browserEvent,Y=typeof R.preserveFocus=="boolean"?R.preserveFocus:!0,ge=typeof R.pinned=="boolean"?R.pinned:!Y;this._open(this.getSelectedElement(),Y,ge,!1,c.browserEvent)}onPointer(c,R){if(!this.openOnSingleClick||R.detail===2)return;const ge=R.button===1,Oe=!0,Ue=ge,rt=R.ctrlKey||R.metaKey||R.altKey;this._open(c,Oe,Ue,rt,R)}onMouseDblClick(c,R){if(!R)return;const Y=R.target;if(Y.classList.contains("monaco-tl-twistie")||Y.classList.contains("monaco-icon-label")&&Y.classList.contains("folder-icon")&&R.offsetX<16)return;const Oe=!1,Ue=!0,rt=R.ctrlKey||R.metaKey||R.altKey;this._open(c,Oe,Ue,rt,R)}_open(c,R,Y,ge,Oe){c&&this._onDidOpen.fire({editorOptions:{preserveFocus:R,pinned:Y,revealIfVisible:!0},sideBySide:ge,element:c,browserEvent:Oe})}}class Bn extends An{constructor(c,R){super(c,R),this.widget=c}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class sn extends An{constructor(c,R){super(c,R)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class vn extends An{constructor(c,R){super(c,R)}getSelectedElement(){var c;return(c=this.widget.getSelection()[0])!==null&&c!==void 0?c:void 0}}function Kn(k){let c=!1;return R=>{if(R.toKeybinding().isModifierKey())return!1;if(c)return c=!1,!1;const Y=k.softDispatch(R,R.target);return Y?.enterChord?(c=!0,!1):(c=!1,!Y)}}let gn=class extends Zt{constructor(c,R,Y,ge,Oe,Ue,rt,ct,Tt,Bt){const{options:Kt,getTypeNavigationMode:hi,disposable:di}=Ue.invokeFunction(rs,Oe);super(c,R,Y,ge,Kt),this.disposables.add(di),this.internals=new Et(this,Oe,hi,Oe.overrideStyles,rt,ct,Tt,Bt),this.disposables.add(this.internals)}updateOptions(c){super.updateOptions(c),this.internals.updateOptions(c)}};gn=zi([Si(5,Qt.TG),Si(6,nt.i6),Si(7,Ji),Si(8,Xi.XE),Si(9,ht.Ui)],gn);let yi=class extends mi{constructor(c,R,Y,ge,Oe,Ue,rt,ct,Tt,Bt){const{options:Kt,getTypeNavigationMode:hi,disposable:di}=Ue.invokeFunction(rs,Oe);super(c,R,Y,ge,Kt),this.disposables.add(di),this.internals=new Et(this,Oe,hi,Oe.overrideStyles,rt,ct,Tt,Bt),this.disposables.add(this.internals)}updateOptions(c={}){super.updateOptions(c),c.overrideStyles&&this.internals.updateStyleOverrides(c.overrideStyles),this.internals.updateOptions(c)}};yi=zi([Si(5,Qt.TG),Si(6,nt.i6),Si(7,Ji),Si(8,Xi.XE),Si(9,ht.Ui)],yi);let $i=class extends ot{constructor(c,R,Y,ge,Oe,Ue,rt,ct,Tt,Bt,Kt){const{options:hi,getTypeNavigationMode:di,disposable:fi}=rt.invokeFunction(rs,Ue);super(c,R,Y,ge,Oe,hi),this.disposables.add(fi),this.internals=new Et(this,Ue,di,Ue.overrideStyles,ct,Tt,Bt,Kt),this.disposables.add(this.internals)}updateOptions(c={}){super.updateOptions(c),c.overrideStyles&&this.internals.updateStyleOverrides(c.overrideStyles),this.internals.updateOptions(c)}};$i=zi([Si(6,Qt.TG),Si(7,nt.i6),Si(8,Ji),Si(9,Xi.XE),Si(10,ht.Ui)],$i);let en=class extends Le{constructor(c,R,Y,ge,Oe,Ue,rt,ct,Tt,Bt,Kt){const{options:hi,getTypeNavigationMode:di,disposable:fi}=rt.invokeFunction(rs,Ue);super(c,R,Y,ge,Oe,hi),this.disposables.add(fi),this.internals=new Et(this,Ue,di,Ue.overrideStyles,ct,Tt,Bt,Kt),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(c={}){super.updateOptions(c),c.overrideStyles&&this.internals.updateStyleOverrides(c.overrideStyles),this.internals.updateOptions(c)}};en=zi([Si(6,Qt.TG),Si(7,nt.i6),Si(8,Ji),Si(9,Xi.XE),Si(10,ht.Ui)],en);let On=class extends ke{constructor(c,R,Y,ge,Oe,Ue,rt,ct,Tt,Bt,Kt,hi){const{options:di,getTypeNavigationMode:fi,disposable:Ei}=ct.invokeFunction(rs,rt);super(c,R,Y,ge,Oe,Ue,di),this.disposables.add(Ei),this.internals=new Et(this,rt,fi,rt.overrideStyles,Tt,Bt,Kt,hi),this.disposables.add(this.internals)}updateOptions(c){super.updateOptions(c),this.internals.updateOptions(c)}};On=zi([Si(7,Qt.TG),Si(8,nt.i6),Si(9,Ji),Si(10,Xi.XE),Si(11,ht.Ui)],On);function us(k){const c=k.getValue(Rt);if(c==="highlight")return We.Highlight;if(c==="filter")return We.Filter;const R=k.getValue(Ut);if(R==="simple"||R==="highlight")return We.Highlight;if(R==="filter")return We.Filter}function rs(k,c){var R;const Y=k.get(ht.Ui),ge=k.get(Ht.u),Oe=k.get(nt.i6),Ue=k.get(Qt.TG),rt=()=>{const hi=Oe.getContextKeyValue(ji);if(hi==="automatic")return B.AA.Automatic;if(hi==="trigger"||Oe.getContextKeyValue(Hi)===!1)return B.AA.Trigger},ct=c.horizontalScrolling!==void 0?c.horizontalScrolling:!!Y.getValue(lt),[Tt,Bt]=Ue.invokeFunction(bn,c),Kt=c.additionalScrollHeight;return{getTypeNavigationMode:rt,disposable:Bt,options:Object.assign(Object.assign({keyboardSupport:!1},Tt),{indent:typeof Y.getValue(ui)=="number"?Y.getValue(ui):void 0,renderIndentGuides:Y.getValue(ri),smoothScrolling:!!Y.getValue(_i),defaultFindMode:us(Y),horizontalScrolling:ct,additionalScrollHeight:Kt,hideTwistiesOfChildlessElements:c.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(R=c.expandOnlyOnTwistieClick)!==null&&R!==void 0?R:Y.getValue(ei)==="doubleClick",contextViewProvider:ge})}}let Et=class{constructor(c,R,Y,ge,Oe,Ue,rt,ct){var Tt;this.tree=c,this.themeService=rt,this.disposables=[],this.contextKeyService=rn(Oe,c),this.listSupportsMultiSelect=nn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(R.multipleSelectionSupport!==!1),Ct.bindTo(this.contextKeyService).set(!!R.selectionNavigation),this.listSupportFindWidget=kt.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Tt=R.findWidgetEnabled)!==null&&Tt!==void 0?Tt:!0),this.hasSelectionOrFocus=Cn.bindTo(this.contextKeyService),this.hasDoubleSelection=pi.bindTo(this.contextKeyService),this.hasMultiSelection=ze.bindTo(this.contextKeyService),this.treeElementCanCollapse=oi.bindTo(this.contextKeyService),this.treeElementHasParent=ai.bindTo(this.contextKeyService),this.treeElementCanExpand=bi.bindTo(this.contextKeyService),this.treeElementHasChild=xi.bindTo(this.contextKeyService),this.treeFindOpen=Ti.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Gi(ct),this.updateStyleOverrides(ge);const Kt=()=>{const di=c.getFocus()[0];if(!di)return;const fi=c.getNode(di);this.treeElementCanCollapse.set(fi.collapsible&&!fi.collapsed),this.treeElementHasParent.set(!!c.getParentElement(di)),this.treeElementCanExpand.set(fi.collapsible&&fi.collapsed),this.treeElementHasChild.set(!!c.getFirstElementChild(di))},hi=new Set;hi.add(ji),hi.add(Hi),this.disposables.push(this.contextKeyService,Ue.register(c),c.onDidChangeSelection(()=>{const di=c.getSelection(),fi=c.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(di.length>0||fi.length>0),this.hasMultiSelection.set(di.length>1),this.hasDoubleSelection.set(di.length===2)})}),c.onDidChangeFocus(()=>{const di=c.getSelection(),fi=c.getFocus();this.hasSelectionOrFocus.set(di.length>0||fi.length>0),Kt()}),c.onDidChangeCollapseState(Kt),c.onDidChangeModel(Kt),c.onDidChangeFindOpenState(di=>this.treeFindOpen.set(di)),ct.onDidChangeConfiguration(di=>{let fi={};if(di.affectsConfiguration(wi)&&(this._useAltAsMultipleSelectionModifier=Gi(ct)),di.affectsConfiguration(ui)){const Ei=ct.getValue(ui);fi=Object.assign(Object.assign({},fi),{indent:Ei})}if(di.affectsConfiguration(ri)){const Ei=ct.getValue(ri);fi=Object.assign(Object.assign({},fi),{renderIndentGuides:Ei})}if(di.affectsConfiguration(_i)){const Ei=!!ct.getValue(_i);fi=Object.assign(Object.assign({},fi),{smoothScrolling:Ei})}if((di.affectsConfiguration(Rt)||di.affectsConfiguration(Ut))&&c.updateOptions({defaultFindMode:us(ct)}),di.affectsConfiguration(lt)&&R.horizontalScrolling===void 0){const Ei=!!ct.getValue(lt);fi=Object.assign(Object.assign({},fi),{horizontalScrolling:Ei})}if(di.affectsConfiguration(ei)&&R.expandOnlyOnTwistieClick===void 0&&(fi=Object.assign(Object.assign({},fi),{expandOnlyOnTwistieClick:ct.getValue(ei)==="doubleClick"})),di.affectsConfiguration(Yi)){const Ei=ct.getValue(Yi);fi=Object.assign(Object.assign({},fi),{mouseWheelScrollSensitivity:Ei})}if(di.affectsConfiguration(an)){const Ei=ct.getValue(an);fi=Object.assign(Object.assign({},fi),{fastScrollSensitivity:Ei})}Object.keys(fi).length>0&&c.updateOptions(fi)}),this.contextKeyService.onDidChangeContext(di=>{di.affectsSome(hi)&&c.updateOptions({typeNavigationMode:Y()})})),this.navigator=new vn(c,Object.assign({configurationService:ct},R)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(c){c.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!c.multipleSelectionSupport)}updateStyleOverrides(c){(0,E.B9)(this.styler),this.styler=c?(0,Ii.Jl)(this.tree,this.themeService,c):E.JT.None}dispose(){this.disposables=(0,E.B9)(this.disposables),(0,E.B9)(this.styler),this.styler=void 0}};Et=zi([Si(4,nt.i6),Si(5,Ji),Si(6,Xi.XE),Si(7,ht.Ui)],Et),Fi.B.as(xt.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,w.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[wi]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,w.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,w.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,w.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[et]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,w.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[lt]:{type:"boolean",default:!1,description:(0,w.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[ui]:{type:"number",default:8,minimum:4,maximum:40,description:(0,w.NC)("tree indent setting","Controls tree indentation in pixels.")},[ri]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,w.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[_i]:{type:"boolean",default:!1,description:(0,w.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Yi]:{type:"number",default:1,markdownDescription:(0,w.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[an]:{type:"number",default:5,description:(0,w.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Rt]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,w.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,w.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,w.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Ut]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,w.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,w.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,w.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,w.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,w.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[ei]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,w.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},43557:function(Yt,Ye,s){"use strict";s.d(Ye,{$V:function(){return O},VZ:function(){return j},in:function(){return E},kw:function(){return H}});var b=s(4669),l=s(5976),z=s(72065);const j=(0,z.yh)("logService");var E;(function(y){y[y.Trace=0]="Trace",y[y.Debug=1]="Debug",y[y.Info=2]="Info",y[y.Warning=3]="Warning",y[y.Error=4]="Error",y[y.Critical=5]="Critical",y[y.Off=6]="Off"})(E||(E={}));const Z=E.Info;class B extends l.JT{constructor(){super(...arguments),this.level=Z,this._onDidChangeLogLevel=this._register(new b.Q5)}setLevel(g){this.level!==g&&(this.level=g,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class H extends B{constructor(g=Z){super(),this.setLevel(g)}trace(g,...C){this.getLevel()<=E.Trace&&console.log("%cTRACE","color: #888",g,...C)}debug(g,...C){this.getLevel()<=E.Debug&&console.log("%cDEBUG","background: #eee; color: #888",g,...C)}info(g,...C){this.getLevel()<=E.Info&&console.log("%c INFO","color: #33f",g,...C)}error(g,...C){this.getLevel()<=E.Error&&console.log("%c  ERR","color: #f33",g,...C)}dispose(){}}class O extends l.JT{constructor(g){super(),this.logger=g,this._register(g)}getLevel(){return this.logger.getLevel()}trace(g,...C){this.logger.trace(g,...C)}debug(g,...C){this.logger.debug(g,...C)}info(g,...C){this.logger.info(g,...C)}error(g,...C){this.logger.error(g,...C)}}},98674:function(Yt,Ye,s){"use strict";s.d(Ye,{H0:function(){return E},ZL:function(){return j},lT:function(){return Z}});var b=s(14603),l=s(63580),z=s(72065),j;(function(B){B[B.Hint=1]="Hint",B[B.Info=2]="Info",B[B.Warning=4]="Warning",B[B.Error=8]="Error"})(j||(j={})),function(B){function H(m,i){return i-m}B.compare=H;const O=Object.create(null);O[B.Error]=(0,l.NC)("sev.error","Error"),O[B.Warning]=(0,l.NC)("sev.warning","Warning"),O[B.Info]=(0,l.NC)("sev.info","Info");function y(m){return O[m]||""}B.toString=y;function g(m){switch(m){case b.Z.Error:return B.Error;case b.Z.Warning:return B.Warning;case b.Z.Info:return B.Info;case b.Z.Ignore:return B.Hint}}B.fromSeverity=g;function C(m){switch(m){case B.Error:return b.Z.Error;case B.Warning:return b.Z.Warning;case B.Info:return b.Z.Info;case B.Hint:return b.Z.Ignore}}B.toSeverity=C}(j||(j={}));var E;(function(B){const H="";function O(g){return y(g,!0)}B.makeKey=O;function y(g,C){const m=[H];return g.source?m.push(g.source.replace("\xA6","\\\xA6")):m.push(H),g.code?typeof g.code=="string"?m.push(g.code.replace("\xA6","\\\xA6")):m.push(g.code.value.replace("\xA6","\\\xA6")):m.push(H),g.severity!==void 0&&g.severity!==null?m.push(j.toString(g.severity)):m.push(H),g.message&&C?m.push(g.message.replace("\xA6","\\\xA6")):m.push(H),g.startLineNumber!==void 0&&g.startLineNumber!==null?m.push(g.startLineNumber.toString()):m.push(H),g.startColumn!==void 0&&g.startColumn!==null?m.push(g.startColumn.toString()):m.push(H),g.endLineNumber!==void 0&&g.endLineNumber!==null?m.push(g.endLineNumber.toString()):m.push(H),g.endColumn!==void 0&&g.endColumn!==null?m.push(g.endColumn.toString()):m.push(H),m.push(H),m.join("\xA6")}B.makeKeyOptionalMessage=y})(E||(E={}));const Z=(0,z.yh)("markerService")},59422:function(Yt,Ye,s){"use strict";s.d(Ye,{EO:function(){return E},lT:function(){return j},zb:function(){return z}});var b=s(14603),l=s(72065),z=b.Z;const j=(0,l.yh)("notificationService");class E{}},50988:function(Yt,Ye,s){"use strict";s.d(Ye,{Gs:function(){return O},SW:function(){return B},v4:function(){return Z},xI:function(){return y},xn:function(){return H}});var b=s(5976),l=s(97295),z=s(70666),j=s(72065),E=function(g,C,m,i){function d(_){return _ instanceof m?_:new m(function(v){v(_)})}return new(m||(m=Promise))(function(_,v){function p(M){try{T(i.next(M))}catch(I){v(I)}}function L(M){try{T(i.throw(M))}catch(I){v(I)}}function T(M){M.done?_(M.value):d(M.value).then(p,L)}T((i=i.apply(g,C||[])).next())})};const Z=(0,j.yh)("openerService"),B=Object.freeze({_serviceBrand:void 0,registerOpener(){return b.JT.None},registerValidator(){return b.JT.None},registerExternalUriResolver(){return b.JT.None},setDefaultExternalOpener(){},registerExternalOpener(){return b.JT.None},open(){return E(this,void 0,void 0,function*(){return!1})},resolveExternalUri(g){return E(this,void 0,void 0,function*(){return{resolved:g,dispose(){}}})}});function H(g,C){return z.o.isUri(g)?(0,l.qq)(g.scheme,C):(0,l.ok)(g,C+":")}function O(g,...C){return C.some(m=>H(g,m))}function y(g){let C;const m=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(g.fragment);return m&&(C={startLineNumber:parseInt(m[1]),startColumn:m[2]?parseInt(m[2]):1,endLineNumber:m[4]?parseInt(m[4]):void 0,endColumn:m[4]?m[5]?parseInt(m[5]):1:void 0},g=g.with({fragment:""})),{selection:C,uri:g}}},90535:function(Yt,Ye,s){"use strict";s.d(Ye,{Ex:function(){return j},R9:function(){return l},ek:function(){return E}});var b=s(72065);const l=(0,b.yh)("progressService"),z=Object.freeze({total(){},worked(){},done(){}});class j{constructor(B){this.callback=B}report(B){this._value=B,this.callback(this._value)}}j.None=Object.freeze({report(){}});const E=(0,b.yh)("editorProgressService")},90725:function(Yt,Ye,s){"use strict";s.d(Ye,{IP:function(){return E},Ry:function(){return j}});var b=s(9488),l=s(5976),z=s(89872),j;(function(B){B[B.PRESERVE=0]="PRESERVE",B[B.LAST=1]="LAST"})(j||(j={}));const E={Quickaccess:"workbench.contributions.quickaccess"};class Z{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(H){return H.prefix.length===0?this.defaultProvider=H:this.providers.push(H),this.providers.sort((O,y)=>y.prefix.length-O.prefix.length),(0,l.OF)(()=>{this.providers.splice(this.providers.indexOf(H),1),this.defaultProvider===H&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,b.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(H){return H&&this.providers.find(y=>H.startsWith(y.prefix))||void 0||this.defaultProvider}}z.B.add(E.Quickaccess,new Z)},41157:function(Yt,Ye,s){"use strict";s.d(Ye,{eJ:function(){return z},jG:function(){return l.jG}});var b=s(72065),l=s(67746);const z=(0,b.yh)("quickInputService")},89872:function(Yt,Ye,s){"use strict";s.d(Ye,{B:function(){return j}});var b=s(35146),l=s(98401);class z{constructor(){this.data=new Map}add(Z,B){b.ok(l.HD(Z)),b.ok(l.Kn(B)),b.ok(!this.data.has(Z),"There is already an extension with this id"),this.data.set(Z,B)}as(Z){return this.data.get(Z)||null}}const j=new z},87060:function(Yt,Ye,s){"use strict";s.d(Ye,{Uy:function(){return g},vm:function(){return i},fk:function(){return C}});var b=s(4669),l=s(5976),z=s(98401),j=s(15393),E=function(d,_,v,p){function L(T){return T instanceof v?T:new v(function(M){M(T)})}return new(v||(v=Promise))(function(T,M){function I($){try{V(p.next($))}catch(re){M(re)}}function P($){try{V(p.throw($))}catch(re){M(re)}}function V($){$.done?T($.value):L($.value).then(I,P)}V((p=p.apply(d,_||[])).next())})},Z;(function(d){d[d.None=0]="None",d[d.Initialized=1]="Initialized",d[d.Closed=2]="Closed"})(Z||(Z={}));class B extends l.JT{constructor(_,v=Object.create(null)){super(),this.database=_,this.options=v,this._onDidChangeStorage=this._register(new b.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=Z.None,this.cache=new Map,this.flushDelayer=new j.rH(B.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(_=>this.onDidChangeItemsExternal(_)))}onDidChangeItemsExternal(_){var v,p;(v=_.changed)===null||v===void 0||v.forEach((L,T)=>this.accept(T,L)),(p=_.deleted)===null||p===void 0||p.forEach(L=>this.accept(L,void 0))}accept(_,v){if(this.state===Z.Closed)return;let p=!1;(0,z.Jp)(v)?p=this.cache.delete(_):this.cache.get(_)!==v&&(this.cache.set(_,v),p=!0),p&&this._onDidChangeStorage.fire(_)}get(_,v){const p=this.cache.get(_);return(0,z.Jp)(p)?v:p}getBoolean(_,v){const p=this.get(_);return(0,z.Jp)(p)?v:p==="true"}getNumber(_,v){const p=this.get(_);return(0,z.Jp)(p)?v:parseInt(p,10)}set(_,v){return E(this,void 0,void 0,function*(){if(this.state===Z.Closed)return;if((0,z.Jp)(v))return this.delete(_);const p=String(v);if(this.cache.get(_)!==p)return this.cache.set(_,p),this.pendingInserts.set(_,p),this.pendingDeletes.delete(_),this._onDidChangeStorage.fire(_),this.doFlush()})}delete(_){return E(this,void 0,void 0,function*(){if(!(this.state===Z.Closed||!this.cache.delete(_)))return this.pendingDeletes.has(_)||this.pendingDeletes.add(_),this.pendingInserts.delete(_),this._onDidChangeStorage.fire(_),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return E(this,void 0,void 0,function*(){if(!this.hasPending)return;const _={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(_).finally(()=>{var v;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(v=this.whenFlushedCallbacks.pop())===null||v===void 0||v()})})}doFlush(_){return E(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),_)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}B.DEFAULT_FLUSH_DELAY=100;class H{constructor(){this.onDidChangeItemsExternal=b.ju.None,this.items=new Map}updateItems(_){var v,p;return E(this,void 0,void 0,function*(){(v=_.insert)===null||v===void 0||v.forEach((L,T)=>this.items.set(T,L)),(p=_.delete)===null||p===void 0||p.forEach(L=>this.items.delete(L))})}}var O=s(72065);const y="__$__targetStorageMarker",g=(0,O.yh)("storageService");var C;(function(d){d[d.NONE=0]="NONE",d[d.SHUTDOWN=1]="SHUTDOWN"})(C||(C={}));class m extends l.JT{constructor(_={flushInterval:m.DEFAULT_FLUSH_INTERVAL}){super(),this.options=_,this._onDidChangeValue=this._register(new b.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new b.K3),this._onWillSaveState=this._register(new b.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(_,v){if(v===y){switch(_){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:_})}else this._onDidChangeValue.fire({scope:_,key:v,target:this.getKeyTargets(_)[v]})}get(_,v,p){var L;return(L=this.getStorage(v))===null||L===void 0?void 0:L.get(_,p)}getBoolean(_,v,p){var L;return(L=this.getStorage(v))===null||L===void 0?void 0:L.getBoolean(_,p)}getNumber(_,v,p){var L;return(L=this.getStorage(v))===null||L===void 0?void 0:L.getNumber(_,p)}store(_,v,p,L){if((0,z.Jp)(v)){this.remove(_,p);return}this.withPausedEmitters(()=>{var T;this.updateKeyTarget(_,p,L),(T=this.getStorage(p))===null||T===void 0||T.set(_,v)})}remove(_,v){this.withPausedEmitters(()=>{var p;this.updateKeyTarget(_,v,void 0),(p=this.getStorage(v))===null||p===void 0||p.delete(_)})}withPausedEmitters(_){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{_()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(_,v,p){var L,T;const M=this.getKeyTargets(v);typeof p=="number"?M[_]!==p&&(M[_]=p,(L=this.getStorage(v))===null||L===void 0||L.set(y,JSON.stringify(M))):typeof M[_]=="number"&&(delete M[_],(T=this.getStorage(v))===null||T===void 0||T.set(y,JSON.stringify(M)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(_){switch(_){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(_){const v=this.get(y,_);if(v)try{return JSON.parse(v)}catch{}return Object.create(null)}}m.DEFAULT_FLUSH_INTERVAL=60*1e3;class i extends m{constructor(){super(),this.applicationStorage=this._register(new B(new H)),this.profileStorage=this._register(new B(new H)),this.workspaceStorage=this._register(new B(new H)),this._register(this.workspaceStorage.onDidChangeStorage(_=>this.emitDidChangeValue(1,_))),this._register(this.profileStorage.onDidChangeStorage(_=>this.emitDidChangeValue(0,_))),this._register(this.applicationStorage.onDidChangeStorage(_=>this.emitDidChangeValue(-1,_)))}getStorage(_){switch(_){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},10829:function(Yt,Ye,s){"use strict";s.d(Ye,{b:function(){return l}});var b=s(72065);const l=(0,b.yh)("telemetryService")},73910:function(Yt,Ye,s){"use strict";s.d(Ye,{$DX:function(){return Qi},$d5:function(){return yi},ABB:function(){return ut},AS1:function(){return $i},AWI:function(){return ke},BOY:function(){return Ya},Bqu:function(){return bn},C3g:function(){return Ce},CA6:function(){return io},CNo:function(){return nn},Cdg:function(){return di},CzK:function(){return Ti},D0T:function(){return Di},D1_:function(){return Ci},DEr:function(){return fi},Dut:function(){return jt},E3h:function(){return In},EPQ:function(){return xe},EQn:function(){return rt},ES4:function(){return xt},EiJ:function(){return Ii},F3d:function(){return Kn},F9q:function(){return ui},Fm_:function(){return to},Fu1:function(){return bi},GO4:function(){return Ft},Gj_:function(){return zs},Gwp:function(){return en},HCL:function(){return oi},Hfx:function(){return Vi},Hz8:function(){return Ei},IPX:function(){return O},IYc:function(){return Hs},Ido:function(){return _},Itd:function(){return Ts},Ivo:function(){return nr},JpG:function(){return wr},K19:function(){return Je},LLc:function(){return Yi},L_H:function(){return Ze},L_t:function(){return an},LoV:function(){return Dn},M6C:function(){return Nn},MUv:function(){return Qt},NOs:function(){return St},NPS:function(){return Bt},Ng6:function(){return Wt},OLZ:function(){return Co},OZR:function(){return je},Oop:function(){return ln},P4M:function(){return rn},P6G:function(){return m},P6Y:function(){return Ut},PRb:function(){return te},PX0:function(){return On},PpC:function(){return ze},Pvw:function(){return q},QO2:function(){return H},R80:function(){return L},RV_:function(){return Ne},Rzx:function(){return nt},SPM:function(){return Wo},SUG:function(){return Ve},SUY:function(){return Vs},Saq:function(){return c},Sbf:function(){return Ui},Snq:function(){return Ls},SwI:function(){return se},T83:function(){return mi},Tnx:function(){return yn},UnT:function(){return Oe},VVv:function(){return pi},Vqd:function(){return hi},XEs:function(){return G},XL$:function(){return ri},XZx:function(){return p},Xy4:function(){return Zs},YI3:function(){return we},ZGJ:function(){return Gn},ZnX:function(){return hn},_2n:function(){return Gi},_Yy:function(){return Cn},_bK:function(){return ei},_lC:function(){return w},_t9:function(){return $e},_wn:function(){return Te},b6y:function(){return $t},b7$:function(){return qt},bKB:function(){return kt},brw:function(){return Sr},c63:function(){return Lt},cbQ:function(){return Kt},cvW:function(){return gt},dCr:function(){return Mn},dRz:function(){return i},dt_:function(){return F},etL:function(){return Ke},fEB:function(){return ki},few:function(){return Xe},g8u:function(){return Fe},g_n:function(){return It},gkn:function(){return Xi},gpD:function(){return _t},hEj:function(){return ot},hX8:function(){return Ct},hzo:function(){return wi},j51:function(){return lt},j5u:function(){return ft},jUe:function(){return ci},jbW:function(){return Bi},kJk:function(){return Le},kVY:function(){return Ho},keg:function(){return ji},kvU:function(){return sn},kwl:function(){return bo},lRK:function(){return T},lUq:function(){return ts},lWp:function(){return Me},lXJ:function(){return wt},loF:function(){return Ee},mHy:function(){return _i},mV1:function(){return gn},nyM:function(){return Ht},oQ$:function(){return he},oSI:function(){return k},opG:function(){return oe},ov3:function(){return Vo},pW3:function(){return Zt},paE:function(){return Ae},phM:function(){return ai},pnM:function(){return Fi},ptc:function(){return Ji},qeD:function(){return Ge},rg2:function(){return An},rh:function(){return X},s$:function(){return vn},sEe:function(){return ne},sKV:function(){return xi},sgC:function(){return $},tZ6:function(){return _e},uoC:function(){return Jt},url:function(){return V},uxu:function(){return Ue},vGG:function(){return D},xL1:function(){return M},xi6:function(){return et},y65:function(){return R},yJx:function(){return Zi},yb5:function(){return ht},ynu:function(){return Nt},ypS:function(){return Hi},ytC:function(){return Bn},zJb:function(){return Q},zKr:function(){return vt},zOm:function(){return Rt},zRJ:function(){return Be}});var b=s(15393),l=s(41264),z=s(4669),j=s(98401),E=s(63580),Z=s(81294),B=s(89872);function H(Sn){return`--vscode-${Sn.replace(/\./g,"-")}`}const O={ColorContribution:"base.contributions.colors"};class y{constructor(){this._onDidChangeSchema=new z.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Vn,hs,Tn,ps=!1,Is){const Gs={id:Vn,description:Tn,defaults:hs,needsTransparency:ps,deprecationMessage:Is};this.colorsById[Vn]=Gs;const Er={type:"string",description:Tn,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Is&&(Er.deprecationMessage=Is),this.colorSchema.properties[Vn]=Er,this.colorReferenceSchema.enum.push(Vn),this.colorReferenceSchema.enumDescriptions.push(Tn),this._onDidChangeSchema.fire(),Vn}getColors(){return Object.keys(this.colorsById).map(Vn=>this.colorsById[Vn])}resolveDefaultColor(Vn,hs){const Tn=this.colorsById[Vn];if(Tn&&Tn.defaults){const ps=Tn.defaults[hs.type];return Ls(ps,hs)}}getColorSchema(){return this.colorSchema}toString(){const Vn=(hs,Tn)=>{const ps=hs.indexOf(".")===-1?0:1,Is=Tn.indexOf(".")===-1?0:1;return ps!==Is?ps-Is:hs.localeCompare(Tn)};return Object.keys(this.colorsById).sort(Vn).map(hs=>`- \`${hs}\`: ${this.colorsById[hs].description}`).join(`
`)}}const g=new y;B.B.add(O.ColorContribution,g);function C(Sn){return Sn===null||typeof Sn.hcLight>"u"&&(Sn.hcDark===null||typeof Sn.hcDark=="string"?Sn.hcLight=Sn.hcDark:Sn.hcLight=Sn.light),Sn}function m(Sn,Vn,hs,Tn,ps){return g.registerColor(Sn,C(Vn),hs,Tn,ps)}const i=m("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},E.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),d=m("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},E.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),_=m("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},E.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),v=m("descriptionForeground",{light:"#717171",dark:hn(i,.7),hcDark:hn(i,.7),hcLight:hn(i,.7)},E.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),p=m("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},E.NC("iconForeground","The default color for icons in the workbench.")),L=m("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},E.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),T=m("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},E.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),M=m("contrastActiveBorder",{light:null,dark:null,hcDark:L,hcLight:L},E.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),I=m("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},E.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),P=m("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:l.Il.black,hcLight:"#292929"},E.NC("textSeparatorForeground","Color for text separators.")),V=m("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},E.NC("textLinkForeground","Foreground color for links in text.")),$=m("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},E.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),re=m("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},E.NC("textPreformatForeground","Foreground color for preformatted text segments.")),ae=m("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},E.NC("textBlockQuoteBackground","Background color for block quotes in text.")),ie=m("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:l.Il.white,hcLight:"#292929"},E.NC("textBlockQuoteBorder","Border color for block quotes in text.")),se=m("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:l.Il.black,hcLight:"#F2F2F2"},E.NC("textCodeBlockBackground","Background color for code blocks in text.")),X=m("widget.shadow",{dark:hn(l.Il.black,.36),light:hn(l.Il.black,.16),hcDark:null,hcLight:null},E.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),ne=m("input.background",{dark:"#3C3C3C",light:l.Il.white,hcDark:l.Il.black,hcLight:l.Il.white},E.NC("inputBoxBackground","Input box background.")),Q=m("input.foreground",{dark:i,light:i,hcDark:i,hcLight:i},E.NC("inputBoxForeground","Input box foreground.")),F=m("input.border",{dark:null,light:null,hcDark:T,hcLight:T},E.NC("inputBoxBorder","Input box border.")),te=m("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:T,hcLight:T},E.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),W=m("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},E.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),G=m("inputOption.activeBackground",{dark:hn(L,.4),light:hn(L,.2),hcDark:l.Il.transparent,hcLight:l.Il.transparent},E.NC("inputOption.activeBackground","Background hover color of options in input fields.")),q=m("inputOption.activeForeground",{dark:l.Il.white,light:l.Il.black,hcDark:null,hcLight:i},E.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),me=m("input.placeholderForeground",{light:hn(i,.5),dark:hn(i,.5),hcDark:hn(i,.7),hcLight:hn(i,.7)},E.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),w=m("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:l.Il.black,hcLight:l.Il.white},E.NC("inputValidationInfoBackground","Input validation background color for information severity.")),we=m("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:i},E.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),xe=m("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:T,hcLight:T},E.NC("inputValidationInfoBorder","Input validation border color for information severity.")),Ne=m("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:l.Il.black,hcLight:l.Il.white},E.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),Ve=m("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:i},E.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Ce=m("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:T,hcLight:T},E.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),Ae=m("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:l.Il.black,hcLight:l.Il.white},E.NC("inputValidationErrorBackground","Input validation background color for error severity.")),$e=m("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:i},E.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),je=m("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:T,hcLight:T},E.NC("inputValidationErrorBorder","Input validation border color for error severity.")),at=m("dropdown.background",{dark:"#3C3C3C",light:l.Il.white,hcDark:l.Il.black,hcLight:l.Il.white},E.NC("dropdownBackground","Dropdown background.")),pt=m("dropdown.listBackground",{dark:null,light:null,hcDark:l.Il.black,hcLight:l.Il.white},E.NC("dropdownListBackground","Dropdown list background.")),bt=m("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:l.Il.white,hcLight:i},E.NC("dropdownForeground","Dropdown foreground.")),We=m("dropdown.border",{dark:at,light:"#CECECE",hcDark:T,hcLight:T},E.NC("dropdownBorder","Dropdown border.")),it=m("checkbox.background",{dark:at,light:at,hcDark:at,hcLight:at},E.NC("checkbox.background","Background color of checkbox widget.")),pe=m("checkbox.foreground",{dark:bt,light:bt,hcDark:bt,hcLight:bt},E.NC("checkbox.foreground","Foreground color of checkbox widget.")),ye=m("checkbox.border",{dark:We,light:We,hcDark:We,hcLight:We},E.NC("checkbox.border","Border color of checkbox widget.")),ft=m("button.foreground",{dark:l.Il.white,light:l.Il.white,hcDark:l.Il.white,hcLight:l.Il.white},E.NC("buttonForeground","Button foreground color.")),Xt=m("button.separator",{dark:hn(ft,.4),light:hn(ft,.4),hcDark:hn(ft,.4),hcLight:hn(ft,.4)},E.NC("buttonSeparator","Button separator color.")),qt=m("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},E.NC("buttonBackground","Button background color.")),Ft=m("button.hoverBackground",{dark:Rs(qt,.2),light:$s(qt,.2),hcDark:null,hcLight:null},E.NC("buttonHoverBackground","Button background color when hovering.")),Ot=m("button.border",{dark:T,light:T,hcDark:T,hcLight:T},E.NC("buttonBorder","Button border color.")),Mt=m("button.secondaryForeground",{dark:l.Il.white,light:l.Il.white,hcDark:l.Il.white,hcLight:i},E.NC("buttonSecondaryForeground","Secondary button foreground color.")),ni=m("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:l.Il.white},E.NC("buttonSecondaryBackground","Secondary button background color.")),Gt=m("button.secondaryHoverBackground",{dark:Rs(ni,.2),light:$s(ni,.2),hcDark:null,hcLight:null},E.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Fe=m("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:l.Il.black,hcLight:"#0F4A85"},E.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Ge=m("badge.foreground",{dark:l.Il.white,light:"#333",hcDark:l.Il.white,hcLight:l.Il.white},E.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Te=m("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},E.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Ke=m("scrollbarSlider.background",{dark:l.Il.fromHex("#797979").transparent(.4),light:l.Il.fromHex("#646464").transparent(.4),hcDark:hn(T,.6),hcLight:hn(T,.4)},E.NC("scrollbarSliderBackground","Scrollbar slider background color.")),ut=m("scrollbarSlider.hoverBackground",{dark:l.Il.fromHex("#646464").transparent(.7),light:l.Il.fromHex("#646464").transparent(.7),hcDark:hn(T,.8),hcLight:hn(T,.8)},E.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Nt=m("scrollbarSlider.activeBackground",{dark:l.Il.fromHex("#BFBFBF").transparent(.4),light:l.Il.fromHex("#000000").transparent(.6),hcDark:T,hcLight:T},E.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Be=m("progressBar.background",{dark:l.Il.fromHex("#0E70C0"),light:l.Il.fromHex("#0E70C0"),hcDark:T,hcLight:T},E.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Ze=m("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),wt=m("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},E.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),$t=m("editorError.border",{dark:null,light:null,hcDark:l.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},E.NC("errorBorder","Border color of error boxes in the editor.")),_t=m("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Jt=m("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},E.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Zt=m("editorWarning.border",{dark:null,light:null,hcDark:l.Il.fromHex("#FFCC00").transparent(.8),hcLight:"#"},E.NC("warningBorder","Border color of warning boxes in the editor.")),Xe=m("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Lt=m("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},E.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),mi=m("editorInfo.border",{dark:null,light:null,hcDark:l.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},E.NC("infoBorder","Border color of info boxes in the editor.")),jt=m("editorHint.foreground",{dark:l.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},E.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),ki=m("editorHint.border",{dark:null,light:null,hcDark:l.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},E.NC("hintBorder","Border color of hint boxes in the editor.")),Pi=m("sash.hoverBorder",{dark:L,light:L,hcDark:L,hcLight:L},E.NC("sashActiveBorder","Border color of active sashes.")),gt=m("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:l.Il.black,hcLight:l.Il.white},E.NC("editorBackground","Editor background color.")),St=m("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:l.Il.white,hcLight:i},E.NC("editorForeground","Editor default foreground color.")),ii=m("editorStickyScroll.background",{light:gt,dark:gt,hcDark:gt,hcLight:gt},E.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),Ri=m("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:l.Il.fromHex("#0F4A85").transparent(.1)},E.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),Di=m("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:l.Il.white},E.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Vi=m("editorWidget.foreground",{dark:i,light:i,hcDark:i,hcLight:i},E.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Ci=m("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:T,hcLight:T},E.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Wt=m("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},E.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),vt=m("quickInput.background",{dark:Di,light:Di,hcDark:Di,hcLight:Di},E.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),_e=m("quickInput.foreground",{dark:Vi,light:Vi,hcDark:Vi,hcLight:Vi},E.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Ee=m("quickInputTitle.background",{dark:new l.Il(new l.VS(255,255,255,.105)),light:new l.Il(new l.VS(0,0,0,.06)),hcDark:"#000000",hcLight:l.Il.white},E.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Le=m("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:l.Il.white,hcLight:"#0F4A85"},E.NC("pickerGroupForeground","Quick picker color for grouping labels.")),oe=m("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:l.Il.white,hcLight:"#0F4A85"},E.NC("pickerGroupBorder","Quick picker color for grouping borders.")),he=m("keybindingLabel.background",{dark:new l.Il(new l.VS(128,128,128,.17)),light:new l.Il(new l.VS(221,221,221,.4)),hcDark:l.Il.transparent,hcLight:l.Il.transparent},E.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Me=m("keybindingLabel.foreground",{dark:l.Il.fromHex("#CCCCCC"),light:l.Il.fromHex("#555555"),hcDark:l.Il.white,hcLight:i},E.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),ke=m("keybindingLabel.border",{dark:new l.Il(new l.VS(51,51,51,.6)),light:new l.Il(new l.VS(204,204,204,.4)),hcDark:new l.Il(new l.VS(111,195,223)),hcLight:T},E.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Je=m("keybindingLabel.bottomBorder",{dark:new l.Il(new l.VS(68,68,68,.6)),light:new l.Il(new l.VS(187,187,187,.4)),hcDark:new l.Il(new l.VS(111,195,223)),hcLight:i},E.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),ot=m("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},E.NC("editorSelectionBackground","Color of the editor selection.")),ht=m("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:l.Il.white},E.NC("editorSelectionForeground","Color of the selected text for high contrast.")),xt=m("editor.inactiveSelectionBackground",{light:hn(ot,.5),dark:hn(ot,.5),hcDark:hn(ot,.7),hcLight:hn(ot,.5)},E.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),nt=m("editor.selectionHighlightBackground",{light:So(ot,gt,.3,.6),dark:So(ot,gt,.3,.6),hcDark:null,hcLight:null},E.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),It=m("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:M,hcLight:M},E.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Ht=m("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},E.NC("editorFindMatch","Color of the current search match.")),Qt=m("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},E.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),ci=m("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},E.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Fi=m("editor.findMatchBorder",{light:null,dark:null,hcDark:M,hcLight:M},E.NC("editorFindMatchBorder","Border color of the current search match.")),Ii=m("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:M,hcLight:M},E.NC("findMatchHighlightBorder","Border color of the other search matches.")),Xi=m("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:hn(M,.4),hcLight:hn(M,.4)},E.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),zi=m("searchEditor.findMatchBackground",{light:hn(Qt,.66),dark:hn(Qt,.66),hcDark:Qt,hcLight:Qt},E.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),Si=m("searchEditor.findMatchBorder",{light:hn(Ii,.66),dark:hn(Ii,.66),hcDark:Ii,hcLight:Ii},E.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),Ji=m("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},E.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Zi=m("editorHoverWidget.background",{light:Di,dark:Di,hcDark:Di,hcLight:Di},E.NC("hoverBackground","Background color of the editor hover.")),Ui=m("editorHoverWidget.foreground",{light:Vi,dark:Vi,hcDark:Vi,hcLight:Vi},E.NC("hoverForeground","Foreground color of the editor hover.")),nn=m("editorHoverWidget.border",{light:Ci,dark:Ci,hcDark:Ci,hcLight:Ci},E.NC("hoverBorder","Border color of the editor hover.")),Dn=m("editorHoverWidget.statusBarBackground",{dark:Rs(Zi,.2),light:$s(Zi,.05),hcDark:Di,hcLight:Di},E.NC("statusBarBackground","Background color of the editor hover status bar.")),Cn=m("editorLink.activeForeground",{dark:"#4E94CE",light:l.Il.blue,hcDark:l.Il.cyan,hcLight:"#292929"},E.NC("activeLinkForeground","Color of active links.")),pi=m("editorInlayHint.foreground",{dark:hn(Ge,.8),light:hn(Ge,.8),hcDark:Ge,hcLight:Ge},E.NC("editorInlayHintForeground","Foreground color of inline hints")),ze=m("editorInlayHint.background",{dark:hn(Fe,.6),light:hn(Fe,.3),hcDark:Fe,hcLight:Fe},E.NC("editorInlayHintBackground","Background color of inline hints")),Ct=m("editorInlayHint.typeForeground",{dark:pi,light:pi,hcDark:pi,hcLight:pi},E.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),kt=m("editorInlayHint.typeBackground",{dark:ze,light:ze,hcDark:ze,hcLight:ze},E.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),oi=m("editorInlayHint.parameterForeground",{dark:pi,light:pi,hcDark:pi,hcLight:pi},E.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),ai=m("editorInlayHint.parameterBackground",{dark:ze,light:ze,hcDark:ze,hcLight:ze},E.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),bi=m("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},E.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),xi=m("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},E.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Ti=new l.Il(new l.VS(155,185,85,.2)),ji=new l.Il(new l.VS(255,0,0,.2)),Hi=m("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},E.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),rn=m("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},E.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),wi=m("diffEditor.insertedLineBackground",{dark:Ti,light:Ti,hcDark:null,hcLight:null},E.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),et=m("diffEditor.removedLineBackground",{dark:ji,light:ji,hcDark:null,hcLight:null},E.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),lt=m("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Rt=m("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Ut=m("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),ui=m("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),ri=m("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},E.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),_i=m("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},E.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),Yi=m("diffEditor.border",{dark:null,light:null,hcDark:T,hcLight:T},E.NC("diffEditorBorder","Border color between the two text editors.")),an=m("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},E.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ei=m("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gi=m("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ln=m("list.focusOutline",{dark:L,light:L,hcDark:M,hcLight:M},E.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),bn=m("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Mn=m("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:l.Il.fromHex("#0F4A85").transparent(.1)},E.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Nn=m("list.activeSelectionForeground",{dark:l.Il.white,light:l.Il.white,hcDark:null,hcLight:null},E.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),yn=m("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),An=m("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:l.Il.fromHex("#0F4A85").transparent(.1)},E.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Bn=m("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),sn=m("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),vn=m("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Kn=m("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),gn=m("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:l.Il.fromHex("#0F4A85").transparent(.1)},E.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),yi=m("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),$i=m("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},E.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),en=m("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:L,hcLight:L},E.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),On=m("list.focusHighlightForeground",{dark:en,light:wa(Mn,en,"#BBE7FF"),hcDark:en,hcLight:en},E.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),us=m("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},E.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),rs=m("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},E.NC("listErrorForeground","Foreground color of list items containing errors.")),Et=m("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},E.NC("listWarningForeground","Foreground color of list items containing warnings.")),D=m("listFilterWidget.background",{light:$s(Di,0),dark:Rs(Di,0),hcDark:Di,hcLight:Di},E.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),k=m("listFilterWidget.outline",{dark:l.Il.transparent,light:l.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},E.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),c=m("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:T,hcLight:T},E.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),R=m("listFilterWidget.shadow",{dark:X,light:X,hcDark:X,hcLight:X},E.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),Y=m("list.filterMatchBackground",{dark:Qt,light:Qt,hcDark:null,hcLight:null},E.NC("listFilterMatchHighlight","Background color of the filtered match.")),ge=m("list.filterMatchBorder",{dark:Ii,light:Ii,hcDark:T,hcLight:M},E.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),Oe=m("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},E.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Ue=m("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},E.NC("tableColumnsBorder","Table border color between columns.")),rt=m("tree.tableOddRowsBackground",{dark:hn(i,.04),light:hn(i,.04),hcDark:null,hcLight:null},E.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),ct=m("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},E.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),Tt=m("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,E.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Bt=m("quickInputList.focusForeground",{dark:Nn,light:Nn,hcDark:Nn,hcLight:Nn},E.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Kt=m("quickInputList.focusIconForeground",{dark:yn,light:yn,hcDark:yn,hcLight:yn},E.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),hi=m("quickInputList.focusBackground",{dark:bo(Tt,Mn),light:bo(Tt,Mn),hcDark:null,hcLight:null},E.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),di=m("menu.border",{dark:null,light:null,hcDark:T,hcLight:T},E.NC("menuBorder","Border color of menus.")),fi=m("menu.foreground",{dark:bt,light:i,hcDark:bt,hcLight:bt},E.NC("menuForeground","Foreground color of menu items.")),Ei=m("menu.background",{dark:at,light:at,hcDark:at,hcLight:at},E.NC("menuBackground","Background color of menu items.")),Bi=m("menu.selectionForeground",{dark:Nn,light:Nn,hcDark:Nn,hcLight:Nn},E.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Qi=m("menu.selectionBackground",{dark:Mn,light:Mn,hcDark:Mn,hcLight:Mn},E.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),In=m("menu.selectionBorder",{dark:null,light:null,hcDark:M,hcLight:M},E.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),Gn=m("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:T,hcLight:T},E.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),ts=m("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},E.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Qn=m("toolbar.hoverOutline",{dark:null,light:null,hcDark:M,hcLight:M},E.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),ws=m("toolbar.activeBackground",{dark:Rs(ts,.1),light:$s(ts,.1),hcDark:null,hcLight:null},E.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),mn=m("editor.snippetTabstopHighlightBackground",{dark:new l.Il(new l.VS(124,124,124,.3)),light:new l.Il(new l.VS(10,50,100,.2)),hcDark:new l.Il(new l.VS(124,124,124,.3)),hcLight:new l.Il(new l.VS(10,50,100,.2))},E.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),is=m("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Jn=m("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),qn=m("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new l.Il(new l.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},E.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Zn=m("breadcrumb.foreground",{light:hn(i,.8),dark:hn(i,.8),hcDark:hn(i,.8),hcLight:hn(i,.8)},E.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),ls=m("breadcrumb.background",{light:gt,dark:gt,hcDark:gt,hcLight:gt},E.NC("breadcrumbsBackground","Background color of breadcrumb items.")),Wn=m("breadcrumb.focusForeground",{light:$s(i,.2),dark:Rs(i,.1),hcDark:Rs(i,.1),hcLight:Rs(i,.1)},E.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Cs=m("breadcrumb.activeSelectionForeground",{light:$s(i,.2),dark:Rs(i,.1),hcDark:Rs(i,.1),hcLight:Rs(i,.1)},E.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),_o=m("breadcrumbPicker.background",{light:Di,dark:Di,hcDark:Di,hcLight:Di},E.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),Zr=.5,Yr=l.Il.fromHex("#40C8AE").transparent(Zr),Xr=l.Il.fromHex("#40A6FF").transparent(Zr),ao=l.Il.fromHex("#606060").transparent(.4),cs=.4,jn=1,Bs=m("merge.currentHeaderBackground",{dark:Yr,light:Yr,hcDark:null,hcLight:null},E.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),yo=m("merge.currentContentBackground",{dark:hn(Bs,cs),light:hn(Bs,cs),hcDark:hn(Bs,cs),hcLight:hn(Bs,cs)},E.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),vo=m("merge.incomingHeaderBackground",{dark:Xr,light:Xr,hcDark:null,hcLight:null},E.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Lo=m("merge.incomingContentBackground",{dark:hn(vo,cs),light:hn(vo,cs),hcDark:hn(vo,cs),hcLight:hn(vo,cs)},E.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ys=m("merge.commonHeaderBackground",{dark:ao,light:ao,hcDark:null,hcLight:null},E.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ws=m("merge.commonContentBackground",{dark:hn(ys,cs),light:hn(ys,cs),hcDark:hn(ys,cs),hcLight:hn(ys,cs)},E.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),lo=m("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},E.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),Do=m("editorOverviewRuler.currentContentForeground",{dark:hn(Bs,jn),light:hn(Bs,jn),hcDark:lo,hcLight:lo},E.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),Eo=m("editorOverviewRuler.incomingContentForeground",{dark:hn(vo,jn),light:hn(vo,jn),hcDark:lo,hcLight:lo},E.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),Jr=m("editorOverviewRuler.commonContentForeground",{dark:hn(ys,jn),light:hn(ys,jn),hcDark:lo,hcLight:lo},E.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),to=m("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},E.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Wo=m("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},E.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Vs=m("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},E.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Hs=m("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},E.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Vo=m("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},E.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),zs=m("minimap.errorHighlight",{dark:new l.Il(new l.VS(255,18,18,.7)),light:new l.Il(new l.VS(255,18,18,.7)),hcDark:new l.Il(new l.VS(255,50,50,1)),hcLight:"#B5200D"},E.NC("minimapError","Minimap marker color for errors.")),nr=m("minimap.warningHighlight",{dark:Jt,light:Jt,hcDark:Zt,hcLight:Zt},E.NC("overviewRuleWarning","Minimap marker color for warnings.")),Ho=m("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},E.NC("minimapBackground","Minimap background color.")),Ts=m("minimap.foregroundOpacity",{dark:l.Il.fromHex("#000f"),light:l.Il.fromHex("#000f"),hcDark:l.Il.fromHex("#000f"),hcLight:l.Il.fromHex("#000f")},E.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),io=m("minimapSlider.background",{light:hn(Ke,.5),dark:hn(Ke,.5),hcDark:hn(Ke,.5),hcLight:hn(Ke,.5)},E.NC("minimapSliderBackground","Minimap slider background color.")),Zs=m("minimapSlider.hoverBackground",{light:hn(ut,.5),dark:hn(ut,.5),hcDark:hn(ut,.5),hcLight:hn(ut,.5)},E.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Sr=m("minimapSlider.activeBackground",{light:hn(Nt,.5),dark:hn(Nt,.5),hcDark:hn(Nt,.5),hcLight:hn(Nt,.5)},E.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),wr=m("problemsErrorIcon.foreground",{dark:wt,light:wt,hcDark:wt,hcLight:wt},E.NC("problemsErrorIconForeground","The color used for the problems error icon.")),Ya=m("problemsWarningIcon.foreground",{dark:Jt,light:Jt,hcDark:Jt,hcLight:Jt},E.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),Co=m("problemsInfoIcon.foreground",{dark:Lt,light:Lt,hcDark:Lt,hcLight:Lt},E.NC("problemsInfoIconForeground","The color used for the problems info icon.")),Xa=m("charts.foreground",{dark:i,light:i,hcDark:i,hcLight:i},E.NC("chartsForeground","The foreground color used in charts.")),Ks=m("charts.lines",{dark:hn(i,.5),light:hn(i,.5),hcDark:hn(i,.5),hcLight:hn(i,.5)},E.NC("chartsLines","The color used for horizontal lines in charts.")),yr=m("charts.red",{dark:wt,light:wt,hcDark:wt,hcLight:wt},E.NC("chartsRed","The red color used in chart visualizations.")),Us=m("charts.blue",{dark:Lt,light:Lt,hcDark:Lt,hcLight:Lt},E.NC("chartsBlue","The blue color used in chart visualizations.")),zo=m("charts.yellow",{dark:Jt,light:Jt,hcDark:Jt,hcLight:Jt},E.NC("chartsYellow","The yellow color used in chart visualizations.")),Io=m("charts.orange",{dark:Vs,light:Vs,hcDark:Vs,hcLight:Vs},E.NC("chartsOrange","The orange color used in chart visualizations.")),Ys=m("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},E.NC("chartsGreen","The green color used in chart visualizations.")),Ja=m("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},E.NC("chartsPurple","The purple color used in chart visualizations."));function Lr(Sn,Vn){var hs,Tn,ps;switch(Sn.op){case 0:return(hs=Ls(Sn.value,Vn))===null||hs===void 0?void 0:hs.darken(Sn.factor);case 1:return(Tn=Ls(Sn.value,Vn))===null||Tn===void 0?void 0:Tn.lighten(Sn.factor);case 2:return(ps=Ls(Sn.value,Vn))===null||ps===void 0?void 0:ps.transparent(Sn.factor);case 3:for(const Is of Sn.values){const Gs=Ls(Is,Vn);if(Gs)return Gs}return;case 5:return Ls(Vn.defines(Sn.if)?Sn.then:Sn.else,Vn);case 4:{const Is=Ls(Sn.value,Vn);if(!Is)return;const Gs=Ls(Sn.background,Vn);return Gs?Is.isDarkerThan(Gs)?l.Il.getLighterColor(Is,Gs,Sn.factor).transparent(Sn.transparency):l.Il.getDarkerColor(Is,Gs,Sn.factor).transparent(Sn.transparency):Is.transparent(Sn.factor*Sn.transparency)}default:throw(0,j.vE)(Sn)}}function $s(Sn,Vn){return{op:0,value:Sn,factor:Vn}}function Rs(Sn,Vn){return{op:1,value:Sn,factor:Vn}}function hn(Sn,Vn){return{op:2,value:Sn,factor:Vn}}function bo(...Sn){return{op:3,values:Sn}}function wa(Sn,Vn,hs){return{op:5,if:Sn,then:Vn,else:hs}}function So(Sn,Vn,hs,Tn){return{op:4,value:Sn,background:Vn,factor:hs,transparency:Tn}}function Ls(Sn,Vn){if(Sn!==null){if(typeof Sn=="string")return Sn[0]==="#"?l.Il.fromHex(Sn):Vn.getColor(Sn);if(Sn instanceof l.Il)return Sn;if(typeof Sn=="object")return Lr(Sn,Vn)}}const sr="vscode://schemas/workbench-colors",Dr=B.B.as(Z.I.JSONContribution);Dr.registerSchema(sr,g.getColorSchema());const Uo=new b.pY(()=>Dr.notifySchemaChanged(sr),200);g.onDidChangeSchema(()=>{Uo.isScheduled()||Uo.schedule()})},59554:function(Yt,Ye,s){"use strict";s.d(Ye,{Ks:function(){return _},q5:function(){return d},s_:function(){return M}});var b=s(15393),l=s(73046),z=s(4669),j=s(98401),E=s(70666),Z=s(63580),B=s(81294),H=s(89872),O=s(97781);const y={IconContribution:"base.contributions.icons"};var g;(function(re){function ae(ie,se){let X=ie.defaults;for(;O.kS.isThemeIcon(X);){const ne=i.getIcon(X.id);if(!ne)return;X=ne.defaults}return X}re.getDefinition=ae})(g||(g={}));var C;(function(re){function ae(se){return{weight:se.weight,style:se.style,src:se.src.map(X=>({format:X.format,location:X.location.toString()}))}}re.toJSONObject=ae;function ie(se){const X=ne=>(0,j.HD)(ne)?ne:void 0;if(se&&Array.isArray(se.src)&&se.src.every(ne=>(0,j.HD)(ne.format)&&(0,j.HD)(ne.location)))return{weight:X(se.weight),style:X(se.style),src:se.src.map(ne=>({format:ne.format,location:E.o.parse(ne.location)}))}}re.fromJSONObject=ie})(C||(C={}));class m{constructor(){this._onDidChange=new z.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,Z.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,Z.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${l.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(ae,ie,se,X){const ne=this.iconsById[ae];if(ne){if(se&&!ne.description){ne.description=se,this.iconSchema.properties[ae].markdownDescription=`${se} $(${ae})`;const te=this.iconReferenceSchema.enum.indexOf(ae);te!==-1&&(this.iconReferenceSchema.enumDescriptions[te]=se),this._onDidChange.fire()}return ne}const Q={id:ae,description:se,defaults:ie,deprecationMessage:X};this.iconsById[ae]=Q;const F={$ref:"#/definitions/icons"};return X&&(F.deprecationMessage=X),se&&(F.markdownDescription=`${se}: $(${ae})`),this.iconSchema.properties[ae]=F,this.iconReferenceSchema.enum.push(ae),this.iconReferenceSchema.enumDescriptions.push(se||""),this._onDidChange.fire(),{id:ae}}getIcons(){return Object.keys(this.iconsById).map(ae=>this.iconsById[ae])}getIcon(ae){return this.iconsById[ae]}getIconSchema(){return this.iconSchema}toString(){const ae=(ne,Q)=>ne.id.localeCompare(Q.id),ie=ne=>{for(;O.kS.isThemeIcon(ne.defaults);)ne=this.iconsById[ne.defaults.id];return`codicon codicon-${ne?ne.id:""}`},se=[];se.push("| preview     | identifier                        | default codicon ID                | description"),se.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const X=Object.keys(this.iconsById).map(ne=>this.iconsById[ne]);for(const ne of X.filter(Q=>!!Q.description).sort(ae))se.push(`|<i class="${ie(ne)}"></i>|${ne.id}|${O.kS.isThemeIcon(ne.defaults)?ne.defaults.id:ne.id}|${ne.description||""}|`);se.push("| preview     | identifier                        "),se.push("| ----------- | --------------------------------- |");for(const ne of X.filter(Q=>!O.kS.isThemeIcon(Q.defaults)).sort(ae))se.push(`|<i class="${ie(ne)}"></i>|${ne.id}|`);return se.join(`
`)}}const i=new m;H.B.add(y.IconContribution,i);function d(re,ae,ie,se){return i.registerIcon(re,ae,ie,se)}function _(){return i}function v(){for(const re of l.lA.getAll())i.registerIcon(re.id,re.definition,re.description)}v();const p="vscode://schemas/icons",L=H.B.as(B.I.JSONContribution);L.registerSchema(p,i.getIconSchema());const T=new b.pY(()=>L.notifySchemaChanged(p),200);i.onDidChange(()=>{T.isScheduled()||T.schedule()});const M=d("widget-close",l.lA.close,(0,Z.NC)("widgetClose","Icon for the close action in widgets.")),I=d("goto-previous-location",l.lA.arrowUp,(0,Z.NC)("previousChangeIcon","Icon for goto previous editor location.")),P=d("goto-next-location",l.lA.arrowDown,(0,Z.NC)("nextChangeIcon","Icon for goto next editor location.")),V=O.kS.modify(l.lA.sync,"spin"),$=O.kS.modify(l.lA.loading,"spin")},88810:function(Yt,Ye,s){"use strict";s.d(Ye,{Jl:function(){return E},O2:function(){return Z},WZ:function(){return j},o:function(){return l},tj:function(){return H}});var b=s(73910);function l(O,y){const g=Object.create(null);for(const C in y){const m=y[C];m&&(g[C]=(0,b.Snq)(m,O))}return g}function z(O,y,g){function C(){const m=l(O.getColorTheme(),y);typeof g=="function"?g(m):g.style(m)}return C(),O.onDidColorThemeChange(C)}function j(O,y,g){return z(y,{badgeBackground:g?.badgeBackground||b.g8u,badgeForeground:g?.badgeForeground||b.qeD,badgeBorder:b.lRK},O)}function E(O,y,g){return z(y,Object.assign(Object.assign({},Z),g||{}),O)}const Z={listFocusBackground:b._bK,listFocusForeground:b._2n,listFocusOutline:b.Oop,listActiveSelectionBackground:b.dCr,listActiveSelectionForeground:b.M6C,listActiveSelectionIconForeground:b.Tnx,listFocusAndSelectionOutline:b.Bqu,listFocusAndSelectionBackground:b.dCr,listFocusAndSelectionForeground:b.M6C,listInactiveSelectionBackground:b.rg2,listInactiveSelectionIconForeground:b.kvU,listInactiveSelectionForeground:b.ytC,listInactiveFocusBackground:b.s$,listInactiveFocusOutline:b.F3d,listHoverBackground:b.mV1,listHoverForeground:b.$d5,listDropBackground:b.AS1,listSelectionOutline:b.xL1,listHoverOutline:b.xL1,listFilterWidgetBackground:b.vGG,listFilterWidgetOutline:b.oSI,listFilterWidgetNoMatchesOutline:b.Saq,listFilterWidgetShadow:b.y65,treeIndentGuidesStroke:b.UnT,tableColumnsBorder:b.uxu,tableOddRowsBackgroundColor:b.EQn,inputActiveOptionBorder:b.PRb,inputActiveOptionForeground:b.Pvw,inputActiveOptionBackground:b.XEs,inputBackground:b.sEe,inputForeground:b.zJb,inputBorder:b.dt_,inputValidationInfoBackground:b._lC,inputValidationInfoForeground:b.YI3,inputValidationInfoBorder:b.EPQ,inputValidationWarningBackground:b.RV_,inputValidationWarningForeground:b.SUG,inputValidationWarningBorder:b.C3g,inputValidationErrorBackground:b.paE,inputValidationErrorForeground:b._t9,inputValidationErrorBorder:b.OZR},B={shadowColor:b.rh,borderColor:b.Cdg,foregroundColor:b.DEr,backgroundColor:b.Hz8,selectionForegroundColor:b.jbW,selectionBackgroundColor:b.$DX,selectionBorderColor:b.E3h,separatorColor:b.ZGJ,scrollbarShadow:b._wn,scrollbarSliderBackground:b.etL,scrollbarSliderHoverBackground:b.ABB,scrollbarSliderActiveBackground:b.ynu};function H(O,y,g){return z(y,Object.assign(Object.assign({},B),g),O)}},92321:function(Yt,Ye,s){"use strict";s.d(Ye,{_T:function(){return z},c3:function(){return l},eL:function(){return b}});var b;(function(j){j.DARK="dark",j.LIGHT="light",j.HIGH_CONTRAST_DARK="hcDark",j.HIGH_CONTRAST_LIGHT="hcLight"})(b||(b={}));function l(j){return j===b.HIGH_CONTRAST_DARK||j===b.HIGH_CONTRAST_LIGHT}function z(j){return j===b.DARK||j===b.HIGH_CONTRAST_DARK}},97781:function(Yt,Ye,s){"use strict";s.d(Ye,{EN:function(){return O},IP:function(){return C},Ic:function(){return d},XE:function(){return B},bB:function(){return _},kS:function(){return y},m6:function(){return g}});var b=s(73046),l=s(4669),z=s(5976),j=s(72065),E=s(89872),Z=s(92321);const B=(0,j.yh)("themeService");var H;(function(v){function p(L){return L&&typeof L=="object"&&typeof L.id=="string"}v.isThemeColor=p})(H||(H={}));function O(v){return{id:v}}var y;(function(v){function p(re){return re&&typeof re=="object"&&typeof re.id=="string"&&(typeof re.color>"u"||H.isThemeColor(re.color))}v.isThemeIcon=p;const L=new RegExp(`^\\$\\((${b.dT.iconNameExpression}(?:${b.dT.iconModifierExpression})?)\\)$`);function T(re){const ae=L.exec(re);if(!ae)return;const[,ie]=ae;return{id:ie}}v.fromString=T;function M(re){return{id:re}}v.fromId=M;function I(re,ae){let ie=re.id;const se=ie.lastIndexOf("~");return se!==-1&&(ie=ie.substring(0,se)),ae&&(ie=`${ie}~${ae}`),{id:ie}}v.modify=I;function P(re){const ae=re.id.lastIndexOf("~");if(ae!==-1)return re.id.substring(ae+1)}v.getModifier=P;function V(re,ae){var ie,se;return re.id===ae.id&&((ie=re.color)===null||ie===void 0?void 0:ie.id)===((se=ae.color)===null||se===void 0?void 0:se.id)}v.isEqual=V;function $(re,ae){return{id:re.id,color:ae?O(ae):void 0}}v.asThemeIcon=$,v.asClassNameArray=b.dT.asClassNameArray,v.asClassName=b.dT.asClassName,v.asCSSSelector=b.dT.asCSSSelector})(y||(y={}));function g(v){switch(v){case Z.eL.DARK:return"vs-dark";case Z.eL.HIGH_CONTRAST_DARK:return"hc-black";case Z.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const C={ThemingContribution:"base.contributions.theming"};class m{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new l.Q5}onColorThemeChange(p){return this.themingParticipants.push(p),this.onThemingParticipantAddedEmitter.fire(p),(0,z.OF)(()=>{const L=this.themingParticipants.indexOf(p);this.themingParticipants.splice(L,1)})}getThemingParticipants(){return this.themingParticipants}}const i=new m;E.B.add(C.ThemingContribution,i);function d(v){return i.onColorThemeChange(v)}class _ extends z.JT{constructor(p){super(),this.themeService=p,this.theme=p.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(L=>this.onThemeChange(L)))}onThemeChange(p){this.theme=p,this.updateStyles()}updateStyles(){}}},64862:function(Yt,Ye,s){"use strict";s.d(Ye,{Xt:function(){return j},YO:function(){return z},gJ:function(){return E},tJ:function(){return l}});var b=s(72065);const l=(0,b.yh)("undoRedoService");class z{constructor(B,H){this.resource=B,this.elements=H}}class j{constructor(){this.id=j._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}j._ID=0,j.None=new j;class E{constructor(){this.id=E._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}E._ID=0,E.None=new E},40382:function(Yt,Ye,s){"use strict";s.d(Ye,{A6:function(){return y},eb:function(){return Z},ec:function(){return E},md:function(){return O},uT:function(){return B}});var b=s(63580),l=s(43702),z=s(70666),j=s(72065);const E=(0,j.yh)("contextService");function Z(C){const m=C;return typeof m?.id=="string"&&z.o.isUri(m.uri)}function B(C){if(C.configuration)return{id:C.id,configPath:C.configuration};if(C.folders.length===1)return{id:C.id,uri:C.folders[0].uri}}class H{constructor(m,i,d,_,v){this._id=m,this._transient=d,this._configuration=_,this._ignorePathCasing=v,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=i}get folders(){return this._folders}set folders(m){this._folders=m,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(m){this._configuration=m}getFolder(m){return m&&this._foldersMap.findSubstr(m)||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const m of this.folders)this._foldersMap.set(m.uri,m)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class O{constructor(m,i){this.raw=i,this.uri=m.uri,this.index=m.index,this.name=m.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const y="code-workspace",g=[{name:(0,b.NC)("codeWorkspace","Code Workspace"),extensions:[y]}]},22737:function(Yt,Ye,s){"use strict";s.d(Ye,{Y:function(){return l}});var b=s(72065);const l=(0,b.yh)("workspaceTrustManagementService")},63764:function(Yt,Ye,s){"use strict";s.d(Ye,{ZP:function(){return xt},_m:function(){return Be}});function b(nt,It,Ht){return It in nt?Object.defineProperty(nt,It,{value:Ht,enumerable:!0,configurable:!0,writable:!0}):nt[It]=Ht,nt}function l(nt,It){var Ht=Object.keys(nt);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(nt);It&&(Qt=Qt.filter(function(ci){return Object.getOwnPropertyDescriptor(nt,ci).enumerable})),Ht.push.apply(Ht,Qt)}return Ht}function z(nt){for(var It=1;It<arguments.length;It++){var Ht=arguments[It]!=null?arguments[It]:{};It%2?l(Object(Ht),!0).forEach(function(Qt){b(nt,Qt,Ht[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(Ht)):l(Object(Ht)).forEach(function(Qt){Object.defineProperty(nt,Qt,Object.getOwnPropertyDescriptor(Ht,Qt))})}return nt}function j(nt,It){if(nt==null)return{};var Ht={},Qt=Object.keys(nt),ci,Fi;for(Fi=0;Fi<Qt.length;Fi++)ci=Qt[Fi],!(It.indexOf(ci)>=0)&&(Ht[ci]=nt[ci]);return Ht}function E(nt,It){if(nt==null)return{};var Ht=j(nt,It),Qt,ci;if(Object.getOwnPropertySymbols){var Fi=Object.getOwnPropertySymbols(nt);for(ci=0;ci<Fi.length;ci++)Qt=Fi[ci],!(It.indexOf(Qt)>=0)&&Object.prototype.propertyIsEnumerable.call(nt,Qt)&&(Ht[Qt]=nt[Qt])}return Ht}function Z(nt,It){return B(nt)||H(nt,It)||O(nt,It)||g()}function B(nt){if(Array.isArray(nt))return nt}function H(nt,It){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(nt)))){var Ht=[],Qt=!0,ci=!1,Fi=void 0;try{for(var Ii=nt[Symbol.iterator](),Xi;!(Qt=(Xi=Ii.next()).done)&&(Ht.push(Xi.value),!(It&&Ht.length===It));Qt=!0);}catch(zi){ci=!0,Fi=zi}finally{try{!Qt&&Ii.return!=null&&Ii.return()}finally{if(ci)throw Fi}}return Ht}}function O(nt,It){if(nt){if(typeof nt=="string")return y(nt,It);var Ht=Object.prototype.toString.call(nt).slice(8,-1);if(Ht==="Object"&&nt.constructor&&(Ht=nt.constructor.name),Ht==="Map"||Ht==="Set")return Array.from(nt);if(Ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ht))return y(nt,It)}}function y(nt,It){(It==null||It>nt.length)&&(It=nt.length);for(var Ht=0,Qt=new Array(It);Ht<It;Ht++)Qt[Ht]=nt[Ht];return Qt}function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(nt,It,Ht){return It in nt?Object.defineProperty(nt,It,{value:Ht,enumerable:!0,configurable:!0,writable:!0}):nt[It]=Ht,nt}function m(nt,It){var Ht=Object.keys(nt);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(nt);It&&(Qt=Qt.filter(function(ci){return Object.getOwnPropertyDescriptor(nt,ci).enumerable})),Ht.push.apply(Ht,Qt)}return Ht}function i(nt){for(var It=1;It<arguments.length;It++){var Ht=arguments[It]!=null?arguments[It]:{};It%2?m(Object(Ht),!0).forEach(function(Qt){C(nt,Qt,Ht[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(Ht)):m(Object(Ht)).forEach(function(Qt){Object.defineProperty(nt,Qt,Object.getOwnPropertyDescriptor(Ht,Qt))})}return nt}function d(){for(var nt=arguments.length,It=new Array(nt),Ht=0;Ht<nt;Ht++)It[Ht]=arguments[Ht];return function(Qt){return It.reduceRight(function(ci,Fi){return Fi(ci)},Qt)}}function _(nt){return function It(){for(var Ht=this,Qt=arguments.length,ci=new Array(Qt),Fi=0;Fi<Qt;Fi++)ci[Fi]=arguments[Fi];return ci.length>=nt.length?nt.apply(this,ci):function(){for(var Ii=arguments.length,Xi=new Array(Ii),zi=0;zi<Ii;zi++)Xi[zi]=arguments[zi];return It.apply(Ht,[].concat(ci,Xi))}}}function v(nt){return{}.toString.call(nt).includes("Object")}function p(nt){return!Object.keys(nt).length}function L(nt){return typeof nt=="function"}function T(nt,It){return Object.prototype.hasOwnProperty.call(nt,It)}function M(nt,It){return v(It)||ae("changeType"),Object.keys(It).some(function(Ht){return!T(nt,Ht)})&&ae("changeField"),It}function I(nt){L(nt)||ae("selectorType")}function P(nt){L(nt)||v(nt)||ae("handlerType"),v(nt)&&Object.values(nt).some(function(It){return!L(It)})&&ae("handlersType")}function V(nt){nt||ae("initialIsRequired"),v(nt)||ae("initialType"),p(nt)&&ae("initialContent")}function $(nt,It){throw new Error(nt[It]||nt.default)}var re={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ae=_($)(re),ie={changes:M,selector:I,handler:P,initial:V};function se(nt){var It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ie.initial(nt),ie.handler(It);var Ht={current:nt},Qt=_(Q)(Ht,It),ci=_(ne)(Ht),Fi=_(ie.changes)(nt),Ii=_(X)(Ht);function Xi(){var Si=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(Ji){return Ji};return ie.selector(Si),Si(Ht.current)}function zi(Si){d(Qt,ci,Fi,Ii)(Si)}return[Xi,zi]}function X(nt,It){return L(It)?It(nt.current):It}function ne(nt,It){return nt.current=i(i({},nt.current),It),It}function Q(nt,It,Ht){return L(It)?It(nt.current):Object.keys(Ht).forEach(function(Qt){var ci;return(ci=It[Qt])===null||ci===void 0?void 0:ci.call(It,nt.current[Qt])}),Ht}var F={create:se},te=F,W={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},G=W;function q(nt){return function It(){for(var Ht=this,Qt=arguments.length,ci=new Array(Qt),Fi=0;Fi<Qt;Fi++)ci[Fi]=arguments[Fi];return ci.length>=nt.length?nt.apply(this,ci):function(){for(var Ii=arguments.length,Xi=new Array(Ii),zi=0;zi<Ii;zi++)Xi[zi]=arguments[zi];return It.apply(Ht,[].concat(ci,Xi))}}}var me=q;function w(nt){return{}.toString.call(nt).includes("Object")}var we=w;function xe(nt){return nt||Ae("configIsRequired"),we(nt)||Ae("configType"),nt.urls?(Ne(),{paths:{vs:nt.urls.monacoBase}}):nt}function Ne(){console.warn(Ce.deprecation)}function Ve(nt,It){throw new Error(nt[It]||nt.default)}var Ce={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ae=me(Ve)(Ce),$e={config:xe},je=$e,at=function(){for(var It=arguments.length,Ht=new Array(It),Qt=0;Qt<It;Qt++)Ht[Qt]=arguments[Qt];return function(ci){return Ht.reduceRight(function(Fi,Ii){return Ii(Fi)},ci)}},pt=at;function bt(nt,It){return Object.keys(It).forEach(function(Ht){It[Ht]instanceof Object&&nt[Ht]&&Object.assign(It[Ht],bt(nt[Ht],It[Ht]))}),z(z({},nt),It)}var We=bt,it={type:"cancelation",msg:"operation is manually canceled"};function pe(nt){var It=!1,Ht=new Promise(function(Qt,ci){nt.then(function(Fi){return It?ci(it):Qt(Fi)}),nt.catch(ci)});return Ht.cancel=function(){return It=!0},Ht}var ye=pe,ft=te.create({config:G,isInitialized:!1,resolve:null,reject:null,monaco:null}),Xt=Z(ft,2),qt=Xt[0],Ft=Xt[1];function Ot(nt){var It=je.config(nt),Ht=It.monaco,Qt=E(It,["monaco"]);Ft(function(ci){return{config:We(ci.config,Qt),monaco:Ht}})}function Mt(){var nt=qt(function(It){var Ht=It.monaco,Qt=It.isInitialized,ci=It.resolve;return{monaco:Ht,isInitialized:Qt,resolve:ci}});if(!nt.isInitialized){if(Ft({isInitialized:!0}),nt.monaco)return nt.resolve(nt.monaco),ye(ut);if(window.monaco&&window.monaco.editor)return Te(window.monaco),nt.resolve(window.monaco),ye(ut);pt(ni,Fe)(Ge)}return ye(ut)}function ni(nt){return document.body.appendChild(nt)}function Gt(nt){var It=document.createElement("script");return nt&&(It.src=nt),It}function Fe(nt){var It=qt(function(Qt){var ci=Qt.config,Fi=Qt.reject;return{config:ci,reject:Fi}}),Ht=Gt("".concat(It.config.paths.vs,"/loader.js"));return Ht.onload=function(){return nt()},Ht.onerror=It.reject,Ht}function Ge(){var nt=qt(function(Ht){var Qt=Ht.config,ci=Ht.resolve,Fi=Ht.reject;return{config:Qt,resolve:ci,reject:Fi}}),It=window.require;It.config(nt.config),It(["vs/editor/editor.main"],function(Ht){Te(Ht),nt.resolve(Ht)},function(Ht){nt.reject(Ht)})}function Te(nt){qt().monaco||Ft({monaco:nt})}function Ke(){return qt(function(nt){var It=nt.monaco;return It})}var ut=new Promise(function(nt,It){return Ft({resolve:nt,reject:It})}),Nt={config:Ot,init:Mt,__getMonacoInstance:Ke},Be=Nt,Ze=s(67294),wt={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},$t=wt,_t={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Jt=_t;function Zt({children:nt}){return Ze.createElement("div",{style:Jt.container},nt)}var Xe=Zt,Lt=Xe;function mi({width:nt,height:It,isEditorReady:Ht,loading:Qt,_ref:ci,className:Fi,wrapperProps:Ii}){return Ze.createElement("section",{style:{...$t.wrapper,width:nt,height:It},...Ii},!Ht&&Ze.createElement(Lt,null,Qt),Ze.createElement("div",{ref:ci,style:{...$t.fullWidth,...!Ht&&$t.hide},className:Fi}))}var jt=mi,ki=(0,Ze.memo)(jt);function Pi(nt){(0,Ze.useEffect)(nt,[])}var gt=Pi;function St(nt,It,Ht=!0){let Qt=(0,Ze.useRef)(!0);(0,Ze.useEffect)(Qt.current||!Ht?()=>{Qt.current=!1}:nt,It)}var ii=St;function Ri(){}function Di(nt,It,Ht,Qt){return Vi(nt,Qt)||Ci(nt,It,Ht,Qt)}function Vi(nt,It){return nt.editor.getModel(Wt(nt,It))}function Ci(nt,It,Ht,Qt){return nt.editor.createModel(It,Ht,Qt?Wt(nt,Qt):void 0)}function Wt(nt,It){return nt.Uri.parse(It)}function vt({original:nt,modified:It,language:Ht,originalLanguage:Qt,modifiedLanguage:ci,originalModelPath:Fi,modifiedModelPath:Ii,keepCurrentOriginalModel:Xi=!1,keepCurrentModifiedModel:zi=!1,theme:Si="light",loading:Ji="Loading...",options:Zi={},height:Ui="100%",width:nn="100%",className:Dn,wrapperProps:Cn={},beforeMount:pi=Ri,onMount:ze=Ri}){let[Ct,kt]=(0,Ze.useState)(!1),[oi,ai]=(0,Ze.useState)(!0),bi=(0,Ze.useRef)(null),xi=(0,Ze.useRef)(null),Ti=(0,Ze.useRef)(null),ji=(0,Ze.useRef)(ze),Hi=(0,Ze.useRef)(pi),rn=(0,Ze.useRef)(!1);gt(()=>{let Rt=Be.init();return Rt.then(Ut=>(xi.current=Ut)&&ai(!1)).catch(Ut=>Ut?.type!=="cancelation"&&console.error("Monaco initialization: error:",Ut)),()=>bi.current?lt():Rt.cancel()}),ii(()=>{if(bi.current&&xi.current){let Rt=bi.current.getOriginalEditor(),Ut=Di(xi.current,nt||"",Qt||Ht||"text",Fi||"");Ut!==Rt.getModel()&&Rt.setModel(Ut)}},[Fi],Ct),ii(()=>{if(bi.current&&xi.current){let Rt=bi.current.getModifiedEditor(),Ut=Di(xi.current,It||"",ci||Ht||"text",Ii||"");Ut!==Rt.getModel()&&Rt.setModel(Ut)}},[Ii],Ct),ii(()=>{let Rt=bi.current.getModifiedEditor();Rt.getOption(xi.current.editor.EditorOption.readOnly)?Rt.setValue(It||""):It!==Rt.getValue()&&(Rt.executeEdits("",[{range:Rt.getModel().getFullModelRange(),text:It||"",forceMoveMarkers:!0}]),Rt.pushUndoStop())},[It],Ct),ii(()=>{bi.current?.getModel()?.original.setValue(nt||"")},[nt],Ct),ii(()=>{let{original:Rt,modified:Ut}=bi.current.getModel();xi.current.editor.setModelLanguage(Rt,Qt||Ht||"text"),xi.current.editor.setModelLanguage(Ut,ci||Ht||"text")},[Ht,Qt,ci],Ct),ii(()=>{xi.current?.editor.setTheme(Si)},[Si],Ct),ii(()=>{bi.current?.updateOptions(Zi)},[Zi],Ct);let wi=(0,Ze.useCallback)(()=>{if(!xi.current)return;Hi.current(xi.current);let Rt=Di(xi.current,nt||"",Qt||Ht||"text",Fi||""),Ut=Di(xi.current,It||"",ci||Ht||"text",Ii||"");bi.current?.setModel({original:Rt,modified:Ut})},[Ht,It,ci,nt,Qt,Fi,Ii]),et=(0,Ze.useCallback)(()=>{!rn.current&&Ti.current&&(bi.current=xi.current.editor.createDiffEditor(Ti.current,{automaticLayout:!0,...Zi}),wi(),xi.current?.editor.setTheme(Si),kt(!0),rn.current=!0)},[Zi,Si,wi]);(0,Ze.useEffect)(()=>{Ct&&ji.current(bi.current,xi.current)},[Ct]),(0,Ze.useEffect)(()=>{!oi&&!Ct&&et()},[oi,Ct,et]);function lt(){let Rt=bi.current?.getModel();Xi||Rt?.original?.dispose(),zi||Rt?.modified?.dispose(),bi.current?.dispose()}return Ze.createElement(ki,{width:nn,height:Ui,isEditorReady:Ct,loading:Ji,_ref:Ti,className:Dn,wrapperProps:Cn})}var _e=vt,Ee=(0,Ze.memo)(_e);function Le(){let[nt,It]=Ie(ce.__getMonacoInstance());return gt(()=>{let Ht;return nt||(Ht=ce.init(),Ht.then(Qt=>{It(Qt)})),()=>Ht?.cancel()}),nt}var oe=null;function he(nt){let It=(0,Ze.useRef)();return(0,Ze.useEffect)(()=>{It.current=nt},[nt]),It.current}var Me=he,ke=new Map;function Je({defaultValue:nt,defaultLanguage:It,defaultPath:Ht,value:Qt,language:ci,path:Fi,theme:Ii="light",line:Xi,loading:zi="Loading...",options:Si={},overrideServices:Ji={},saveViewState:Zi=!0,keepCurrentModel:Ui=!1,width:nn="100%",height:Dn="100%",className:Cn,wrapperProps:pi={},beforeMount:ze=Ri,onMount:Ct=Ri,onChange:kt,onValidate:oi=Ri}){let[ai,bi]=(0,Ze.useState)(!1),[xi,Ti]=(0,Ze.useState)(!0),ji=(0,Ze.useRef)(null),Hi=(0,Ze.useRef)(null),rn=(0,Ze.useRef)(null),wi=(0,Ze.useRef)(Ct),et=(0,Ze.useRef)(ze),lt=(0,Ze.useRef)(),Rt=(0,Ze.useRef)(Qt),Ut=Me(Fi),ui=(0,Ze.useRef)(!1),ri=(0,Ze.useRef)(!1);gt(()=>{let an=Be.init();return an.then(ei=>(ji.current=ei)&&Ti(!1)).catch(ei=>ei?.type!=="cancelation"&&console.error("Monaco initialization: error:",ei)),()=>Hi.current?Yi():an.cancel()}),ii(()=>{let an=Di(ji.current,nt||Qt||"",It||ci||"",Fi||Ht||"");an!==Hi.current?.getModel()&&(Zi&&ke.set(Ut,Hi.current?.saveViewState()),Hi.current?.setModel(an),Zi&&Hi.current?.restoreViewState(ke.get(Fi)))},[Fi],ai),ii(()=>{Hi.current?.updateOptions(Si)},[Si],ai),ii(()=>{!Hi.current||Qt===void 0||(Hi.current.getOption(ji.current.editor.EditorOption.readOnly)?Hi.current.setValue(Qt):Qt!==Hi.current.getValue()&&(ri.current=!0,Hi.current.executeEdits("",[{range:Hi.current.getModel().getFullModelRange(),text:Qt,forceMoveMarkers:!0}]),Hi.current.pushUndoStop(),ri.current=!1))},[Qt],ai),ii(()=>{let an=Hi.current?.getModel();an&&ci&&ji.current?.editor.setModelLanguage(an,ci)},[ci],ai),ii(()=>{Xi!==void 0&&Hi.current?.revealLine(Xi)},[Xi],ai),ii(()=>{ji.current?.editor.setTheme(Ii)},[Ii],ai);let _i=(0,Ze.useCallback)(()=>{if(!(!rn.current||!ji.current)&&!ui.current){et.current(ji.current);let an=Fi||Ht,ei=Di(ji.current,Qt||nt||"",It||ci||"",an||"");Hi.current=ji.current?.editor.create(rn.current,{model:ei,automaticLayout:!0,...Si},Ji),Zi&&Hi.current.restoreViewState(ke.get(an)),ji.current.editor.setTheme(Ii),Xi!==void 0&&Hi.current.revealLine(Xi),bi(!0),ui.current=!0}},[nt,It,Ht,Qt,ci,Fi,Si,Ji,Zi,Ii,Xi]);(0,Ze.useEffect)(()=>{ai&&wi.current(Hi.current,ji.current)},[ai]),(0,Ze.useEffect)(()=>{!xi&&!ai&&_i()},[xi,ai,_i]),Rt.current=Qt,(0,Ze.useEffect)(()=>{ai&&kt&&(lt.current?.dispose(),lt.current=Hi.current?.onDidChangeModelContent(an=>{ri.current||kt(Hi.current.getValue(),an)}))},[ai,kt]),(0,Ze.useEffect)(()=>{if(ai){let an=ji.current.editor.onDidChangeMarkers(ei=>{let Gi=Hi.current.getModel()?.uri;if(Gi&&ei.find(ln=>ln.path===Gi.path)){let ln=ji.current.editor.getModelMarkers({resource:Gi});oi?.(ln)}});return()=>{an?.dispose()}}return()=>{}},[ai,oi]);function Yi(){lt.current?.dispose(),Ui?Zi&&ke.set(Fi,Hi.current.saveViewState()):Hi.current.getModel()?.dispose(),Hi.current.dispose()}return Ze.createElement(ki,{width:nn,height:Dn,isEditorReady:ai,loading:zi,_ref:rn,className:Cn,wrapperProps:pi})}var ot=Je,ht=(0,Ze.memo)(ot),xt=ht}}])});rg();})();
