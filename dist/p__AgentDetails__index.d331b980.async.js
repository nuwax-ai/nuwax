"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[8129],{65857:function(Pe,_,e){e.d(_,{Z:function(){return y}});var G=e(22675),v=e(94581),m=e.n(v),x=e(75271),E={avatar:"avatar___Q6WBB",nickname:"nickname___pjZCy"},T=e(52676),f=m().bind(E),N=function(t){var O=t.className,F=t.icon,j=t.name,a=t.extra;return(0,T.jsxs)("div",{className:f("flex","flex-col","items-center","content-center",O),children:[(0,T.jsx)("img",{className:f(E.avatar),src:F||G,alt:""}),(0,T.jsx)("h3",{className:f("w-full","text-ellipsis",E.nickname),children:j}),a]})},y=N},23276:function(Pe,_,e){e.d(_,{Z:function(){return xt}});var G=e(82092),v=e.n(G),m=e(48305),x=e.n(m),E=e(3055),T=e(76571),f=e(53895),N=e(94581),y=e.n(N),p=e(75271),t=e(52676),O=r=>{let d=r;for(;d=d.parentElement;){const U=getComputedStyle(d,null).getPropertyValue("overflow-y");if(d===document.body)return window;if(U==="auto"||U==="scroll"||U==="overlay")return d}return window},F=r=>r.firstChild?r.firstChild.offsetParent===r:!0,j=(r,d)=>{let U=r,g=0;F(d)||(g+=r.offsetTop-d.offsetTop,d=r.offsetParent,g+=-r.offsetTop);do g+=U.offsetTop,U=U.offsetParent;while(U&&U!==d);return g},a=r=>{let d=r.parentElement;for(;d&&getComputedStyle(d,null).getPropertyValue("display")==="contents";)d=d.parentElement;return d||window},n=null;typeof CSS<"u"&&CSS.supports&&(CSS.supports("position","sticky")?n="sticky":CSS.supports("position","-webkit-sticky")&&(n="-webkit-sticky"));var o=!1;try{const r=Object.defineProperty({},"passive",{get(){o={passive:!0}}}),d=()=>{};window.addEventListener("testPassive",d,r),window.removeEventListener("testPassive",d,r)}catch{}var K=r=>{const{el:d,onChange:U,unsubs:g,measure:R}=r;if(d===window){const w=()=>({top:0,left:0,height:window.innerHeight,width:window.innerWidth}),I=R(w()),B=()=>{Object.assign(I,R(w())),U()};return window.addEventListener("resize",B,o),g.push(()=>window.removeEventListener("resize",B)),I}else{const w=R(d.getBoundingClientRect()),I=()=>{Object.assign(w,R(d.getBoundingClientRect())),U()},B=new ResizeObserver(I);return B.observe(d),g.push(()=>B.disconnect()),w}},Q=r=>{const d=getComputedStyle(r,null),U=parseInt(d.getPropertyValue("padding-top"),10),g=parseInt(d.getPropertyValue("padding-bottom"),10);return{top:U,bottom:g}},H=(r,d,U)=>{const{bottom:g,offsetBottom:R,offsetTop:w}=U,I=O(r);let B=!1;const Fe=()=>{B||requestAnimationFrame(()=>{const ae=Le();if(ae!==Ce)Oe(ae);else if(ae===1&&!g){const{height:Ue}=ne,{height:Ae}=be;r.style.top=`${Ue-Ae-R}px`}else if(ae===2){const{height:Ue,offsetTop:Ae}=ne,{height:je,naturalTop:fe}=Be,{height:Me}=be,Ee=Math.max(0,Ae+oe+Ue-(fe+Me+R));if(g){const qe=Math.max(0,je-Me-Ee);r.style.bottom=`${qe}px`}else r.style.top=`${Ee}px`}B=!1}),B=!0};let oe=I===window?window.scrollY:I.scrollTop;const Ne=ae=>{const{offsetTop:Ue,height:Ae}=ne,{naturalTop:je}=Be,{height:fe}=be;return ae+Ue+Ae>=je+fe+me+R},Le=()=>{const{height:ae}=ne,{height:Ue}=be;return Ue+w+R<=ae?3:Ne(oe)?1:2},ue=I!==window&&F(I),ne=K({el:I,onChange:Fe,unsubs:d,measure:({height:ae,top:Ue})=>({height:ae,offsetTop:ue?Ue:0})}),re=a(r),de=re===window?{top:0,bottom:0}:Q(re),Be=K({el:re,onChange:Fe,unsubs:d,measure:({height:ae})=>({height:ae-de.top-de.bottom,naturalTop:re===window?0:j(re,I)+de.top+ne.offsetTop})}),be=K({el:r,onChange:Fe,unsubs:d,measure:({height:ae})=>({height:ae})});let me=0,Ce=Le();const Oe=ae=>{const Ue=Ce;if(Ce=ae,Ue===2&&(me=-1),ae===3){r.style.position=n,g?r.style.bottom=`${R}px`:r.style.top=`${w}px`;return}const{height:Ae,offsetTop:je}=ne,{height:fe,naturalTop:Me}=Be,{height:Ee}=be;if(ae===2)if(r.style.position="relative",me=Ue===0?Math.max(0,je+oe-Me+w):Math.max(0,je+oe+Ae-(Me+Ee+R)),g){const qe=Math.max(0,fe-Ee-me);r.style.bottom=`${qe}px`}else r.style.top=`${me}px`;else r.style.position=n,ae===1?g?r.style.bottom=`${R}px`:r.style.top=`${Ae-Ee-R}px`:g?r.style.bottom=`${Ae-Ee-R}px`:r.style.top=`${w}px`};Oe(Ce);const $e=ae=>{if(ae===oe)return;const Ue=ae-oe;if(oe=ae,Ce===3)return;const{offsetTop:Ae,height:je}=ne,{naturalTop:fe,height:Me}=Be,{height:Ee}=be;if(Ue>0)if(Ce===0){if(ae+Ae+w>fe){const qe=Math.max(0,Ae+oe-fe+w);ae+Ae+je<=fe+Ee+qe+R?Oe(2):Oe(1)}}else Ce===2&&Ne(ae)&&Oe(1);else if(Ce===1){if(Ae+ae+je<fe+Me+R){const qe=Math.max(0,Ae+oe+je-(fe+Ee+R));Ae+ae+w>=fe+qe?Oe(2):Oe(0)}}else Ce===2&&Ae+ae+w<fe+me&&Oe(0)},lt=I===window?()=>$e(window.scrollY):()=>$e(I.scrollTop);I.addEventListener("scroll",lt,o),I.addEventListener("mousewheel",lt,o),d.push(()=>I.removeEventListener("scroll",lt),()=>I.removeEventListener("mousewheel",lt))},J=({offsetTop:r=0,offsetBottom:d=0,bottom:U=!1}={})=>{const[g,R]=(0,p.useState)(null);return(0,p.useEffect)(()=>{if(!g||!n)return;const w=[];return H(g,w,{offsetBottom:d,offsetTop:r,bottom:U}),()=>{w.forEach(I=>I())}},[g,d,r,U]),R},ee=r=>{const{offsetTop:d,offsetBottom:U,bottom:g,children:R,className:w,style:I}=r,B=J({offsetTop:d,offsetBottom:U,bottom:g});return(0,t.jsx)("div",{className:w,style:I,ref:B,children:R})},X=ee,P=e(87453),i=e(22675),h=e(63741),c=e(15558),A=e.n(c),C=e(90228),l=e.n(C),s=e(87999),te=e.n(s),De=e(1704),ce=e(90327),ve=e(41705),$=e(46105),se=e(64799),ie=e(77750),ge=e(86230),W=e(41249),D={"xagi-nav-style2":"xagi-nav-style2___KM4Kd",text:"text___mMYrM","page-container":"page-container___epN5w","title-actions":"title-actions___PQm9a",collected:"collected___bPOE1"},L=y().bind(D),b=function(d){var U,g=d.agentInfo,R=d.className,w=d.showCopyTemplate,I=w===void 0?!0:w,B=(0,p.useState)(g?.collect||!1),Fe=x()(B,2),oe=Fe[0],Ne=Fe[1],Le=(0,p.useState)(!1),ue=x()(Le,2),ne=ue[0],re=ue[1],de=(0,p.useState)(!1),Be=x()(de,2),be=Be[0],me=Be[1],Ce=(0,p.useCallback)(function(){var je,fe=g==null||(je=g.statistics)===null||je===void 0?void 0:je.targetId;if(!fe){W.ZP.error("\u667A\u80FD\u4F53\u4FE1\u606F\u4E0D\u5B8C\u6574");return}oe?(0,ve.Z9)(fe).then(function(){W.ZP.success("\u5DF2\u53D6\u6D88\u6536\u85CF"),g&&Ne(!1)}).catch(function(){W.ZP.error("\u53D6\u6D88\u6536\u85CF\u5931\u8D25")}):(0,ve.fD)(fe).then(function(){W.ZP.success("\u5DF2\u6DFB\u52A0\u5230\u6536\u85CF"),g&&Ne(!0)}).catch(function(){W.ZP.error("\u6DFB\u52A0\u6536\u85CF\u5931\u8D25")})},[g==null||(U=g.statistics)===null||U===void 0?void 0:U.targetId,oe]),Oe=function(){var je=te()(l()().mark(function fe(){return l()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(!(g!=null&&g.shareLink)){Ee.next=5;break}return Ee.next=3,(0,ie.TE)(g.shareLink,function(){W.ZP.success("\u5206\u4EAB\u94FE\u63A5\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F")},!1);case 3:Ee.next=6;break;case 5:W.ZP.info("\u6682\u65E0\u5206\u4EAB\u94FE\u63A5");case 6:case"end":return Ee.stop()}},fe)}));return function(){return je.apply(this,arguments)}}(),$e=(0,P.useRequest)($.wR,{manual:!0,debounceInterval:300,onSuccess:function(fe,Me){W.ZP.success("\u6A21\u677F\u590D\u5236\u6210\u529F"),me(!1),re(!1);var Ee=Me[0].targetSpaceId;(0,ge.tc)(Ee,fe)},onError:function(){me(!1)}}),lt=$e.run,ae=function(fe){me(!0),lt({targetType:se.qR.Agent,targetId:g?.agentId,targetSpaceId:fe})},Ue=function(){re(!0)},Ae=(0,p.useMemo)(function(){return[{key:"share",icon:"icons-chat-share",title:"\u5206\u4EAB",onClick:Oe},{key:oe?"collected":"collect",icon:oe?"icons-chat-collected":"icons-chat-collect",title:"\u6536\u85CF",onClick:Ce,className:oe?D.collected:""}].concat(A()(I&&g?.allowCopy===se.fC.Yes?[{key:"copy-template",icon:"icons-chat-copy",title:"\u590D\u5236\u6A21\u677F",onClick:Ue,className:D["copy-template"]}]:[])).filter(Boolean)},[oe,g,I]);return(0,t.jsxs)("div",{className:L(D["title-actions"],R),children:[(0,t.jsx)(De.Z,{actions:Ae,visibleCount:Ae.length,showArrow:!1,className:D["action-menu"]}),(0,t.jsx)(ce.Z,{spaceId:g?.spaceId||0,loading:be,type:f.KZ.Copy_To_Space,open:ne,isTemplate:!0,title:g?.name,onCancel:function(){return re(!1)},onConfirm:ae})]})},q=b,k=e(59261),Y=e(69219),S={"xagi-nav-style2":"xagi-nav-style2___xmpJx",text:"text___u7uZg","page-container":"page-container___NQ1ki",container:"container___Axb21",avatar:"avatar___eGHQs",title:"title___hrv8N",infoContainer:"infoContainer___n5z_R",content:"content___shkKP",from:"from___OkzhV",statistics:"statistics___XuyiD",statItem:"statItem___NiOOi",statIcon:"statIcon___QUVR8",statText:"statText___SHczS",copyBtn:"copyBtn____QkXC","action-box":"action-box___uuwAm",collected:"collected___LCx9c","un-collect":"un-collect___uA8ZW",share:"share___ZjG9r"},le=y().bind(S),V=function(d){var U,g,R,w,I,B=d.agentDetail;return B?(0,t.jsxs)("div",{className:le(S.container,"flex","flex-col","items-center"),children:[(0,t.jsx)("img",{className:S.avatar,src:B?.icon||i}),(0,t.jsx)(Y.Z.Title,{level:5,className:S.title,ellipsis:{rows:1,expandable:!1,symbol:"..."},children:B?.name}),(0,t.jsxs)("div",{className:le(S.infoContainer),children:[(0,t.jsxs)(Y.Z.Text,{className:le(S.from),ellipsis:!0,children:["\u6765\u81EA\u4E8E"," ",(B==null||(U=B.publishUser)===null||U===void 0?void 0:U.nickName)||(B==null||(g=B.publishUser)===null||g===void 0?void 0:g.userName)]}),(0,t.jsxs)("div",{className:le(S.statistics,"flex","items-center","justify-center"),children:[(0,t.jsxs)("span",{className:le(S.statItem,"flex","items-center"),children:[(0,t.jsx)(h.le,{name:"icons-chat-user",className:S.statIcon}),(0,t.jsx)("span",{className:S.statText,children:(B==null||(R=B.statistics)===null||R===void 0?void 0:R.userCount)||0})]}),(0,t.jsxs)("span",{className:le(S.statItem,"flex","items-center"),children:[(0,t.jsx)(h.le,{name:"icons-chat-chat",className:S.statIcon}),(0,t.jsx)("span",{className:S.statText,children:(B==null||(w=B.statistics)===null||w===void 0?void 0:w.convCount)||0})]}),(0,t.jsxs)("span",{className:le(S.statItem,"flex","items-center"),children:[(0,t.jsx)(h.le,{name:"icons-chat-collect",className:S.statIcon}),(0,t.jsx)("span",{className:S.statText,children:(B==null||(I=B.statistics)===null||I===void 0?void 0:I.collectCount)||0})]})]}),(0,t.jsx)(k.Z,{condition:B?.description,children:(0,t.jsx)(Y.Z.Paragraph,{className:le(S.content),ellipsis:{rows:2,expandable:!1,symbol:"..."},children:B?.description})}),(0,t.jsx)(q,{agentInfo:B})]})]}):null},u=V,Se=e(62597),he=e(39373),Qe=e(9504),Ve=e(70183),He=e(36724),Je=e(80241),ke=e(14719),We=function(d){var U=d.agentId,g=d.isOpen,R=d.onCancel,w=(0,P.useModel)("conversationHistory"),I=w.conversationListItem,B=w.setConversationListItem,Fe=w.runDel,oe=(0,P.useParams)(),Ne=Number(oe.id),Le=function(){var re=te()(l()().mark(function de(Be){return l()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.prev=0,me.next=3,Fe(Be);case 3:Ne===Be&&(R?.(),P.history.push("/agent/"+U)),me.next=8;break;case 6:me.prev=6,me.t0=me.catch(0);case 8:case"end":return me.stop()}},de,null,[[0,6]])}));return function(Be){return re.apply(this,arguments)}}(),ue=function(de,Be){R?.(),P.history.push("/home/chat/".concat(de,"/").concat(Be))},ne=function(){var re=te()(l()().mark(function de(Be,be){return l()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.abrupt("return",(0,Je.kl)({agentId:U,lastId:Be,limit:be}).then(function(Oe){var $e;return{list:($e=Oe.data)!==null&&$e!==void 0?$e:[],hasMore:Oe.data.length>=be}}));case 1:case"end":return Ce.stop()}},de)}));return function(Be,be){return re.apply(this,arguments)}}();return(0,t.jsx)(ke.Z,{title:(0,t.jsx)("p",{children:"\u5386\u53F2\u4F1A\u8BDD"}),width:600,footer:null,maskClosable:!0,open:g,onCancel:R,children:(0,t.jsx)(He.Z,{height:500,pageSize:20,conversationList:I,setConversationList:B,loadData:ne,handleLink:ue,runDel:Le})})},st=We,we={"xagi-nav-style2":"xagi-nav-style2___Bqunf",text:"text___QJjDU","page-container":"page-container___jrt25",container:"container___YCtwE",title:"title___jkcci",titleBox:"titleBox___z2sVW",more:"more___CetNg","chat-wrapper":"chat-wrapper___s3RMQ","loading-box":"loading-box___cycDq","chat-item":"chat-item___xNmLl",time:"time___oq5hE"},xe=y().bind(we),Te=function(d){var U,g=d.agentId,R=(0,P.useModel)("conversationInfo"),w=R.isHistoryConversationOpen,I=R.closeHistoryConversation,B=R.openHistoryConversation,Fe=(0,P.useModel)("conversationHistory"),oe=Fe.conversationListItem,Ne=Fe.loadingHistoryItem,Le=function(re,de){P.history.push("/home/chat/".concat(re,"/").concat(de))},ue=(0,p.useCallback)(function(){B()},[]);return(0,t.jsxs)("div",{className:xe(we.container),children:[!Ne&&(0,t.jsxs)("div",{className:xe("flex","items-center","content-between",we.titleBox),children:[(0,t.jsx)(Y.Z.Title,{className:xe(we.title),level:5,children:"\u76F8\u5173\u4F1A\u8BDD"}),(0,t.jsx)(Qe.ZP,{size:"small",className:xe(we.more,"cursor-pointer"),onClick:ue,icon:(0,t.jsx)(Se.Z,{name:"icons-common-caret_right",style:{fontSize:16}}),iconPosition:"end",type:"text",children:"\u67E5\u770B\u66F4\u591A"})]}),(0,t.jsx)("div",{className:xe(we["chat-wrapper"]),children:Ne?(0,t.jsx)(E.Z,{className:xe(we["loading-box"])}):oe!=null&&oe.length?oe==null||(U=oe.slice(0,5))===null||U===void 0?void 0:U.map(function(ne){return(0,t.jsxs)("div",{className:xe(we["chat-item"],"cursor-pointer","hover-box"),onClick:function(){return Le(ne.id,ne.agentId)},children:[(0,t.jsx)("p",{className:xe("text-ellipsis","flex-1"),children:ne.topic}),(0,t.jsx)("span",{className:xe(we.time),children:(0,he.BK)(ne.created)})]},ne.id)}):(0,t.jsx)(Ve.Z,{description:"\u6682\u65E0\u76F8\u5173\u4F1A\u8BDD"})}),(0,t.jsx)(st,{agentId:g,isOpen:w,onCancel:I})]})},Z=Te,z={"xagi-nav-style2":"xagi-nav-style2___SWtlp",text:"text___SDIEN","page-container":"page-container___HjnRW",rightSidebar:"rightSidebar___fNaR7",hide:"hide___TAetw","statistics-content":"statistics-content____E5ic",container:"container___awPaA","container-content":"container-content___CmhSm","container-body":"container-body___YJB88",fold:"fold___pu12f",show:"show___PFVQr"},pe={"xagi-nav-style2":"xagi-nav-style2___UAxiF",text:"text___gwLoA","page-container":"page-container___jWT1s",header:"header___ltsPK"},Ze=y().bind(pe),Ge=function(d){var U=d.onClose,g=d.visible;return(0,t.jsx)("header",{className:Ze(pe.header,"flex","items-center"),children:(0,t.jsx)(Se.Z,{name:"icons-chat-close_regular",className:pe.close,onClick:U,style:{display:g?"block":"none"}})})},Ie=Ge;function Re(r){return(0,P.request)("/api/agent/task/create",{method:"POST",data:r})}function dt(r){return(0,P.request)("/api/agent/task/update",{method:"POST",data:r})}function vt(r){return(0,P.request)("/api/agent/task/list",{method:"POST",data:r})}function at(r){return(0,P.request)("/api/agent/task/cancel/".concat(r),{method:"POST"})}function ht(){return(0,P.request)("/api/agent/task/cron/list",{method:"GET"})}var _e=e(92122),Tt=e(47548),At=e(26068),mt=e.n(At),ot=e(48279),rt=e(6377),yt=e(94201),jt=e(7098),et=e(26324),it=e(28190),M=e(7010),It=e(63619),Et={select:"select___n5zOu"},St=y().bind(Et),Nt=function(d){var U=d.agentId,g=d.mode,R=g===void 0?_e.jA.Create:g,w=d.open,I=d.currentTask,B=d.onCancel,Fe=d.onConfirm,oe=it.Z.useForm(),Ne=x()(oe,1),Le=Ne[0],ue=(0,p.useState)(""),ne=x()(ue,2),re=ne[0],de=ne[1],Be=(0,p.useState)(""),be=x()(Be,2),me=be[0],Ce=be[1],Oe=(0,p.useState)([]),$e=x()(Oe,2),lt=$e[0],ae=$e[1],Ue=(0,p.useState)([]),Ae=x()(Ue,2),je=Ae[0],fe=Ae[1],Me=(0,p.useRef)([]),Ee=function(ye,Ye){var ze,gt=ye?.map(function(Kt){return{label:Kt.desc,value:Kt.cron}})||[];fe(gt),Ce(Ye||((ze=gt[0])===null||ze===void 0?void 0:ze.value)||"")},qe=function(ye){if(ye.length!==0){var Ye=ye?.map(function(gt){return{label:gt.typeName,value:gt.typeName}});ae(Ye);var ze=ye[0];de(ze.typeName),Ee(ze?.items||[])}},Ft=(0,P.useRequest)(ht,{manual:!0,debounceInterval:300,onSuccess:function(ye){ye.length>0&&(Me.current=ye,qe(ye))}}),Dt=Ft.run,Ut=(0,P.useRequest)(Re,{manual:!0,debounceInterval:300,onSuccess:function(){W.ZP.success("\u5B9A\u65F6\u4EFB\u52A1\u521B\u5EFA\u6210\u529F"),Fe(),qe(Me.current)}}),kt=Ut.run,_t=(0,P.useRequest)(dt,{manual:!0,debounceInterval:300,onSuccess:function(){W.ZP.success("\u5B9A\u65F6\u4EFB\u52A1\u66F4\u65B0\u6210\u529F"),Fe(),qe(Me.current)}}),Qt=_t.run;(0,p.useEffect)(function(){Dt()},[]),(0,p.useEffect)(function(){if(w&&R===_e.jA.Update&&I){var Ke;if(Le.setFieldsValue({topic:I?.topic,summary:I?.summary}),((Ke=Me.current)===null||Ke===void 0?void 0:Ke.length)>0){var ye,Ye=(ye=Me.current)===null||ye===void 0?void 0:ye.find(function(ze){return ze.items.some(function(gt){return gt.cron===I?.taskCron})});Ye&&(de(Ye.typeName),Ee(Ye.items,I.taskCron))}}},[R,I,Me.current,w]);var Wt=function(ye){var Ye=mt()(mt()({},ye),{},{taskCron:me,agentId:U});R===_e.jA.Create?kt(Ye):Qt(mt()(mt()({},Ye),{},{id:I?.id}))},Gt=function(){Le.submit()},ct=function(ye){var Ye;de(ye);var ze=(Ye=Me.current)===null||Ye===void 0?void 0:Ye.find(function(gt){return gt.typeName===ye});Ee(ze?.items||[])},tt=function(ye){Ce(ye)},ut=function(){qe(Me.current),B()};return(0,t.jsx)(ot.Z,{form:Le,open:w,title:R===_e.jA.Create?"\u521B\u5EFA\u5B9A\u65F6\u4EFB\u52A1":"\u66F4\u65B0\u5B9A\u65F6\u4EFB\u52A1",onCancel:ut,onConfirm:Gt,children:(0,t.jsxs)(it.Z,{form:Le,preserve:!1,layout:"vertical",requiredMark:et.N,onFinish:Wt,autoComplete:"off",children:[(0,t.jsx)(it.Z.Item,{label:(0,t.jsx)(rt.Z,{label:"\u5B9A\u65F6\u5468\u671F"}),children:(0,t.jsxs)(M.Z,{children:[(0,t.jsx)(it.Z.Item,{noStyle:!0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],children:(0,t.jsx)(jt.Z,{className:St(Et.select),options:lt,value:re,onChange:ct})}),(0,t.jsx)(it.Z.Item,{noStyle:!0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],children:(0,t.jsx)(jt.Z,{className:St(Et.select),options:je,value:me,onChange:tt})})]})}),(0,t.jsx)(it.Z.Item,{name:"topic",label:"\u4EFB\u52A1\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"}],children:(0,t.jsx)(It.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",showCount:!0,maxLength:100})}),(0,t.jsx)(yt.Z,{name:"summary",label:"\u4EFB\u52A1\u5185\u5BB9",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u5185\u5BB9"}],placeholder:"\u8BF7\u8F93\u5165\u4F60\u8981\u6267\u884C\u7684\u4EFB\u52A1\u4FE1\u606F\uFF0C\u4FE1\u606F\u63D0\u4F9B\u7684\u8D8A\u8BE6\u7EC6\u6267\u884C\u6210\u529F\u7387\u8D8A\u9AD8",maxLength:2e3})]})})},Lt=Nt,pt={"xagi-nav-style2":"xagi-nav-style2___L_60d",text:"text___oOjGB","page-container":"page-container___Zbxt5",container:"container___nK18_",title:"title___i9Ov8",titleBox:"titleBox___Abekd",create:"create___Mepda",tab:"tab___uhpGK"},Ot=e(24573),Mt=e(64267),Xe={"xagi-nav-style2":"xagi-nav-style2___blqK5",text:"text___J2Ybp","page-container":"page-container___rkXS5","task-wrapper":"task-wrapper___h1X2h","task-item":"task-item___ypnxZ",topicBox:"topicBox___DAvmX",iconBox:"iconBox___eNnFl",topic:"topic___O2Gr4",icon:"icon___wyW3W",time:"time___NqNVx"},nt=y().bind(Xe),Bt=ke.Z.confirm,bt=function(d){var U=d.className,g=d.loading,R=d.taskStatus,w=d.taskList,I=d.onCancelTask,B=d.onEditTask,Fe=R===se.hY.EXECUTING?"\u6682\u65E0\u8FDB\u884C\u4E2D\u7684\u4EFB\u52A1":"\u6682\u65E0\u5DF2\u53D6\u6D88\u7684\u4EFB\u52A1";if(g)return(0,t.jsx)("div",{className:nt("flex","items-center","content-center","h-full"),children:(0,t.jsx)(Ot.Z,{className:nt(Xe.loading)})});var oe=function(ne){var re=ne.id,de=ne.agentId;P.history.push("/home/chat/".concat(re,"/").concat(de))},Ne=function(ne,re){ne.stopPropagation(),Bt({title:"\u60A8\u786E\u5B9A\u8981\u53D6\u6D88\u6B64\u5B9A\u65F6\u4EFB\u52A1\u5417?",icon:(0,t.jsx)(Mt.Z,{}),content:re.topic,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:function(){I?.(re)}})},Le=function(ne,re){ne.stopPropagation(),B?.(re)};return w?.length>0?(0,t.jsx)("div",{className:nt(Xe["task-wrapper"],U),children:w?.map(function(ue){return(0,t.jsxs)("div",{className:nt(Xe["task-item"],"flex","items-center","cursor-pointer"),children:[(0,t.jsxs)("div",{className:nt("flex-1",Xe.topicBox),children:[(0,t.jsx)(Y.Z.Title,{level:5,className:nt(Xe.topic),onClick:function(){return oe(ue)},ellipsis:{rows:1,tooltip:ue?.topic},children:ue?.topic}),(0,t.jsx)("span",{className:nt(Xe.time),children:ue.taskCronDesc})]}),ue.taskStatus===se.hY.EXECUTING&&(0,t.jsxs)("div",{className:nt(Xe.iconBox),children:[(0,t.jsx)(Se.Z,{name:"icons-common-edit",className:nt(Xe.icon),onClick:function(re){return Le(re,ue)}}),(0,t.jsx)(Se.Z,{name:"icons-common-delete",className:nt(Xe.icon),onClick:function(re){return Ne(re,ue)}})]})]},ue.id)})}):(0,t.jsx)(Ve.Z,{description:Fe})},wt=(0,p.memo)(bt),ft=y().bind(pt),Zt=function(d){var U=d.agentId,g=(0,P.useModel)("conversationInfo"),R=g.isTimedTaskOpen,w=g.closeTimedTask,I=g.timedTaskMode,B=g.openTimedTask,Fe=(0,p.useState)(),oe=x()(Fe,2),Ne=oe[0],Le=oe[1],ue=(0,p.useState)(se.hY.EXECUTING),ne=x()(ue,2),re=ne[0],de=ne[1],Be=(0,p.useState)(!1),be=x()(Be,2),me=be[0],Ce=be[1],Oe=(0,p.useState)([]),$e=x()(Oe,2),lt=$e[0],ae=$e[1],Ue=(0,p.useState)([]),Ae=x()(Ue,2),je=Ae[0],fe=Ae[1],Me=(0,P.useRequest)(vt,{manual:!0,debounceInterval:500,onSuccess:function(tt,ut){var Ke=ut[0].taskStatus;Ke===se.hY.EXECUTING?ae(tt||[]):fe(tt||[]),Ce(!1)},onError:function(){Ce(!1)}}),Ee=Me.run,qe=(0,P.useRequest)(at,{manual:!0,debounceInterval:500,onSuccess:function(tt,ut){var Ke=x()(ut,1),ye=Ke[0];W.ZP.success("\u5B9A\u65F6\u4EFB\u52A1\u5DF2\u53D6\u6D88"),ae(function(Ye){return Ye.filter(function(ze){return ze.id!==ye})})}}),Ft=qe.run,Dt=function(tt){Ce(!0),Ee({agentId:U,taskStatus:tt})};(0,p.useEffect)(function(){return Dt(se.hY.EXECUTING),function(){ae([]),fe([])}},[U]);var Ut=function(tt){var ut=tt;de(ut),Dt(ut)},kt=function(tt){var ut=tt.id;Ft(ut)},_t=function(tt){Le(tt),B(_e.jA.Update)},Qt=[{key:se.hY.EXECUTING,label:"\u8FDB\u884C\u4E2D",children:(0,t.jsx)(wt,{loading:me,taskStatus:se.hY.EXECUTING,taskList:lt,onCancelTask:kt,onEditTask:_t})},{key:se.hY.CANCEL,label:"\u5DF2\u53D6\u6D88",children:(0,t.jsx)(wt,{loading:me,taskStatus:se.hY.CANCEL,taskList:je})}],Wt=function(){B(_e.jA.Create)},Gt=function(){re===se.hY.EXECUTING&&Dt(se.hY.EXECUTING),w()};return(0,t.jsxs)("div",{className:ft(pt.container,"flex-1","flex","flex-col"),children:[(0,t.jsxs)("div",{className:ft("flex","items-center","content-between",pt.titleBox),children:[(0,t.jsx)(Y.Z.Title,{className:ft(pt.title),level:5,children:"\u5B9A\u65F6\u4EFB\u52A1"}),(0,t.jsx)(Qe.ZP,{size:"small",className:ft(pt.create,"cursor-pointer"),onClick:Wt,icon:(0,t.jsx)(Se.Z,{name:"icons-common-plus",style:{fontSize:16}}),type:"text",children:"\u6DFB\u52A0"})]}),(0,t.jsx)(Tt.Z,{rootClassName:ft(pt.tab),tabBarGutter:20,defaultActiveKey:se.hY.EXECUTING,items:Qt,onTabClick:Ut}),(0,t.jsx)(Lt,{agentId:U,open:R,mode:I,currentTask:Ne,onCancel:w,onConfirm:Gt})]})},Pt=Zt,Ct=y().bind(z),Rt=(0,p.forwardRef)(function(r,d){var U=r.className,g=r.agentId,R=r.loading,w=r.agentDetail,I=r.onToggleCollectSuccess,B=r.onVisibleChange,Fe=(0,p.useState)(!1),oe=x()(Fe,2),Ne=oe[0],Le=oe[1],ue=(0,p.useState)(!1),ne=x()(ue,2),re=ne[0],de=ne[1],Be=(0,P.useModel)("conversationInfo"),be=Be.showType,me=function(){Le(!Ne),setTimeout(function(){de(!re)},300)};return(0,p.useImperativeHandle)(d,function(){return{open:function(){Le(!0),de(!1)},close:function(){Le(!1),de(!0)},toggle:function(){Le(function(Oe){return!Oe}),de(function(Oe){return!Oe})}}},[]),(0,p.useEffect)(function(){be===f.wv.Show_Stand&&(Le(!1),de(!0))},[be]),(0,p.useEffect)(function(){B?.(Ne)},[Ne]),(0,T.Z)(Ne),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:Ct(z.rightSidebar,"flex","flex-col",U,v()({},z.hide,!Ne)),children:R?(0,t.jsx)(E.Z,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(X,{offsetTop:0,style:{zIndex:10},className:Ct(z["statistics-content"]),children:(0,t.jsx)(Ie,{statistics:w?.statistics,visible:Ne,onClose:me})}),(0,t.jsx)("div",{className:Ct(z["container-scroll"],z.container),children:(0,t.jsx)("div",{className:Ct(z["container-content"],"scrollbar"),children:(0,t.jsxs)("div",{className:Ct(z["container-body"]),children:[(0,t.jsx)(u,{agentDetail:w,onToggleCollectSuccess:I}),(0,t.jsx)(Z,{agentId:g}),w?.openScheduledTask===f.nb.Open&&(0,t.jsx)(Pt,{agentId:g})]})})})]})})})}),xt=Rt},34077:function(Pe,_,e){e.d(_,{Z:function(){return q}});var G=e(82092),v=e.n(G),m=e(22675),x=e(78987),E=e(57625),T=e(59261),f=e(13383),N=e(13278),y=e(72875),p=e(91268),t=e(27689),O=e(64799),F=e(92122),j=e(41249),a=e(38683),n=e(94581),o=e.n(n),K=e(32699),Q=e(75271),H=e(87453),J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAERSURBVCiRjZFBccNADEWfdgrAYeAwcBmYQSwGMYKkCOwwKIOYgZZBITQQzCBBsOoh25lN7ab9pz3ozftaCTlmtkfkADTADbjg3qvqzEpC8a4zdEFkBGpEPs2sWQNfzOwIVKo6mhmIDKS0AV4ROSNiwHZpFNkhMpjZqKojEBEZgBb3N6A2s26tapvrDRajAR0wqWrM+83pvsJjVeCGyERKm2yatOv6YqYKIVzXjBH3o6qOuGsJmVkNVLi3S9D9BFQW4wdwKaBGVWfce6CzGM8lKN9D+fdqYAaqbOpVdco3PpdrSGGoPISdp7QNIVxxb4D9b7DwJLneEhZ5fwquwveTtX+CDzBEoMP99C/wh/mkquMXpnqTpDNkdZAAAAAASUVORK5CYII=",ee=e(6619),X=e(53895),P={container:"container___bqr6a","elapsed-time":"elapsed-time___NLFZM","vertical-line":"vertical-line___viPQ6","more-action":"more-action___oDxDL",icon:"icon___hoIgl","copy-image":"copy-image___YsG7v"},i=e(52676),h=o().bind(P),c=function(Y){var S=Y.messageInfo,le=S||{},V=le.finalResult,u=(0,H.useModel)("conversationInfo"),Se=u.handleDebug,he=u.showType,Qe=(0,H.useModel)("chat"),Ve=Qe.pagePreviewData,He=Qe.hidePagePreview,Je=function(){Ve&&He(),Se(S)},ke=(0,Q.useMemo)(function(){return V?((V?.endTime-V?.startTime)/1e3).toFixed(1):0},[V]);return(0,i.jsx)("div",{className:h(P.container,"flex","content-between","items-center"),children:(0,i.jsxs)("div",{className:h("flex","items-center",P["elapsed-time"]),children:[(0,i.jsxs)(T.Z,{condition:!!V,children:[(0,i.jsx)("span",{children:"".concat(ke,"s")}),(0,i.jsxs)(T.Z,{condition:!!(V!=null&&V.totalTokens),children:[(0,i.jsx)("span",{className:h(P["vertical-line"])}),(0,i.jsx)("span",{children:"".concat(V?.totalTokens," Tokens")})]})]}),(he===X.wv.Version_History||he===X.wv.Show_Stand||he===X.wv.Hide)&&(0,i.jsx)(T.Z,{condition:!!V,children:(0,i.jsx)(ee.Z,{className:P.icon,icon:(0,i.jsx)("img",{src:J,alt:""}),onClick:Je,title:"\u8C03\u8BD5",type:F.Ai.White})})]})})},A=c,C={"xagi-nav-style2":"xagi-nav-style2___mrh9D",text:"text___O7qUb","page-container":"page-container___XXv4P",container:"container___I82RP","elapsed-time":"elapsed-time___VSdJP","vertical-line":"vertical-line___RYAxp","more-action":"more-action___J8lvL",icon:"icon___V_fce","copy-image":"copy-image___Lbh8o"},l=o().bind(C),s=function(Y){var S=Y.messageInfo,le=S||{},V=le.text,u=function(){j.ZP.success("\u590D\u5236\u6210\u529F")};return(0,i.jsx)("div",{className:l(C.container,"flex","content-between","items-center"),children:(0,i.jsx)("div",{className:l("flex",C["more-action"]),children:(0,i.jsx)(N.Z,{text:V||"",onCopy:u,children:"\u590D\u5236"})})})},te=s,De=e(48305),ce=e.n(De),ve=e(39373),$={"xagi-nav-style2":"xagi-nav-style2___A0cfb",text:"text___mQKpe","page-container":"page-container___clFMO",container:"container___bMNUQ","more-action":"more-action___PPoj0"},se=o().bind($),ie=function(Y){var S=Y.messageInfo,le=(0,Q.useState)(""),V=ce()(le,2),u=V[0],Se=V[1],he=(0,Q.useRef)(null),Qe=function(){j.ZP.success("\u590D\u5236\u6210\u529F")},Ve=function(){Se((0,ve.BK)(S?.time))},He=function(){Ve(),he.current=setInterval(function(){Ve()},6e4)};return(0,Q.useEffect)(function(){return S!=null&&S.time&&He(),function(){he.current!==null&&(clearInterval(he.current),he.current=null)}},[S?.time]),(0,i.jsxs)("div",{className:se($.container,"flex","content-between","items-center"),children:[(0,i.jsx)("div",{className:se("flex",$["more-action"]),children:(0,i.jsx)(N.Z,{text:S?.text||"",onCopy:Qe,children:"\u590D\u5236"})}),(0,i.jsx)("span",{children:u})]})},ge=ie,W=e(30746),D={"xagi-nav-style2":"xagi-nav-style2___C6M16",text:"text___s3NJ6","page-container":"page-container___wYf4F",container:"container___zSEQO",avatar:"avatar___IfDvJ",author:"author___AmRDb","agent-title-bar":"agent-title-bar___Y8m62","attach-file-container":"attach-file-container___xvbrf",userContainer:"userContainer___sPaST","user-content":"user-content___M5R1a","chat-content":"chat-content___FWF0e","inner-container":"inner-container___rireg","think-content":"think-content___Qas0a","user-action-box":"user-action-box___T2sE4","copy-btn":"copy-btn___vb1lQ","copy-image":"copy-image___Hbxu3"},L=o().bind(D),b=(0,Q.memo)(function(k){var Y,S=k.className,le=k.contentClassName,V=k.roleInfo,u=k.messageInfo,Se=k.mode,he=Se===void 0?"chat":Se,Qe=(0,H.useModel)("userInfo"),Ve=Qe.userInfo,He=(0,t.K)(),Je=He.data,ke=Je.antdTheme==="dark",We=(0,p.Z)({answer:u?.text||"",thinking:u?.think||"",id:u?.id||""}),st=We.markdownRef,we=We.messageIdRef,xe=Ve||JSON.parse(localStorage.getItem(y.CD)),Te=function(){var Ie=V.assistant,Re=V.system;switch(u?.role){case O.hZ.USER:return{name:xe?.nickName||xe?.userName||"\u6E38\u5BA2",avatar:xe?.avatar||x};case O.hZ.ASSISTANT:return{name:Ie.name,avatar:Ie.avatar||m};case O.hZ.SYSTEM:return{name:Re.name,avatar:Re.avatar||m}}}(),Z=function(){j.ZP.success("\u590D\u5236\u6210\u529F")},z=(0,Q.useCallback)(function(Ie){return Ie.replace(/^\s+|\s+$/g,"")},[]),pe=(0,Q.useMemo)(function(){return u?.role===O.hZ.USER},[u?.role]),Ze=a.Z.useToken(),Ge=Ze.token;return(0,i.jsx)("div",{className:L(D.container,"flex",S),children:(0,i.jsxs)("div",{className:L("flex-1","overflow-hide",v()({},D.userContainer,pe)),children:[!pe&&(0,i.jsxs)("div",{className:L(D["agent-title-bar"]),children:[(0,i.jsx)("img",{className:L(D.avatar),src:Te?.avatar,alt:""}),(0,i.jsx)("div",{className:L(D.author),children:Te?.name}),(0,i.jsx)(T.Z,{condition:!!(u!=null&&u.status),children:(0,i.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:12},children:(0,i.jsx)("div",{style:{flex:1},children:(0,i.jsx)(W.Z,{messageInfo:u})})})})]}),!!(u!=null&&(Y=u.attachments)!==null&&Y!==void 0&&Y.length)&&(0,i.jsx)("div",{className:L(D["attach-file-container"]),children:(0,i.jsx)(E.Z,{files:u?.attachments})}),pe&&!!(u!=null&&u.text)&&(0,i.jsxs)("div",{className:L(D["user-content"]),children:[(0,i.jsx)("div",{className:L(D["chat-content"],D.user,"radius-6",le,"ds-markdown",{"ds-markdown-dark":ke}),children:(0,i.jsx)("div",{className:"ds-markdown-answer",children:(0,i.jsx)("div",{style:{whiteSpace:"pre-wrap"},className:"ds-markdown-paragraph ds-typed-answer",children:z(u?.text)})})}),(0,i.jsx)("div",{className:L(D["user-action-box"],"flex","items-center"),children:(0,i.jsx)(N.Z,{text:u.text||"",onCopy:Z,children:"\u590D\u5236"})})]}),(0,i.jsxs)(T.Z,{condition:u?.role!==O.hZ.USER,children:[(!!(u!=null&&u.think)||!!(u!=null&&u.text))&&(0,i.jsx)("div",{className:L(D["inner-container"],le),children:(0,i.jsx)("div",{className:L(D["chat-content"],"radius-6","w-full",v()({},D.typing,u.status===F.ge.Incomplete||u.status===F.ge.Loading)),children:(0,i.jsx)(f.ZP,{id:"".concat(we.current),markdownRef:st},"".concat(we.current))})}),(0,i.jsx)(T.Z,{condition:u&&(u?.status===F.ge.Complete||!(u!=null&&u.status)),children:he==="chat"?(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12,padding:"0 ".concat(Ge.paddingXS,"px")},children:[(0,i.jsx)("div",{style:{flex:1},children:(0,i.jsx)(te,{messageInfo:u})}),(0,i.jsx)(A,{messageInfo:u})]}):he==="home"?(0,i.jsx)(ge,{messageInfo:u}):null})]})]})})},function(k,Y){return(0,K.isEqual)(k.messageInfo,Y.messageInfo)}),q=b},59261:function(Pe,_,e){var G=e(75271),v=e(52676),m=function(E){var T=E.children,f=E.condition;return f?(0,v.jsx)(v.Fragment,{children:T}):null};_.Z=m},6377:function(Pe,_,e){e.d(_,{Z:function(){return N}});var G=e(94581),v=e.n(G),m=e(75271),x={container:"container___dApW8",star:"star___pESlW"},E=e(52676),T=v().bind(x),f=function(p){var t=p.className,O=p.label;return(0,E.jsxs)("span",{className:T(x.container,"flex",t),children:[(0,E.jsx)("span",{children:O}),(0,E.jsx)("span",{className:T(x.star),children:"*"})]})},N=f},90327:function(Pe,_,e){e.d(_,{Z:function(){return K}});var G=e(48305),v=e.n(G),m=e(68261),x=e(64799),E=e(92122),T=e(53895),f=e(3642),N=e(14719),y=e(9504),p=e(94581),t=e.n(p),O=e(75271),F=e(87453),j={"xagi-nav-style2":"xagi-nav-style2___dAgfb",text:"text___a_MNK","page-container":"page-container___Aaw3P","modal-container":"modal-container___EDu1v","modal-body":"modal-body___KeoH4",header:"header___lDVFq","row-line":"row-line___CTchF",label:"label___NamUa",box:"box___W8ZiK",img:"img___kPSF5","selected-ico":"selected-ico___t5Iak"},a=e(52676),n=t().bind(j),o=function(H){var J=H.spaceId,ee=H.loading,X=H.type,P=X===void 0?T.KZ.Move:X,i=H.mode,h=i===void 0?x.qR.Agent:i,c=H.isTemplate,A=c===void 0?!1:c,C=H.open,l=H.title,s=H.onCancel,te=H.onConfirm,De=(0,O.useState)(0),ce=v()(De,2),ve=ce[0],$=ce[1],se=(0,O.useState)(""),ie=v()(se,2),ge=ie[0],W=ie[1],D=(0,F.useModel)("spaceModel"),L=D.spaceList,b=P===T.KZ.Move?"\u8FC1\u79FB":"\u590D\u5236";(0,O.useEffect)(function(){if(C)switch($(0),h){case x.qR.Agent:W("\u667A\u80FD\u4F53");break;case x.qR.Page:W("\u9875\u9762");break;case x.qR.Plugin:W("\u63D2\u4EF6");break;case x.qR.Workflow:W("\u5DE5\u4F5C\u6D41");break;default:W("\u7EC4\u4EF6");break}},[h,C]);var q=(0,O.useMemo)(function(){var k=L?.filter(function(S){return!(S.currentUserRole===E.g8.User&&S.allowDevelop===T.Cn.Not_Allow)})||[];if(P===T.KZ.Move)return k?.filter(function(S){return S.id!==J})||[];if(A)return k;var Y=L.find(function(S){return S.id===J});return Y?.currentUserRole===E.g8.User?[Y]:k},[P,J,L,A]);return(0,a.jsx)(N.Z,{open:C,destroyOnHidden:!0,onCancel:s,classNames:{content:n(j["modal-container"]),body:j["modal-body"]},centered:!0,title:(0,a.jsx)("header",{className:n(j.header,"text-ellipsis"),children:"".concat(b).concat(ge," - ").concat(l)}),footer:function(){return(0,a.jsx)(y.ZP,{type:"primary",block:!0,loading:ee,onClick:function(){return te(ve)},disabled:!ve,children:b})},children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:n(j["row-line"])}),(0,a.jsx)("span",{className:n(j.label),children:"\u9009\u62E9\u8981".concat(b,"\u5230\u7684\u7A7A\u95F4")}),q.map(function(k){return(0,a.jsxs)("div",{className:n("flex","items-center","hover-box","cursor-pointer",j.box),onClick:function(){return $(k.id)},children:[(0,a.jsx)("img",{className:n(j.img),src:k.icon||m,alt:""}),(0,a.jsx)("span",{className:n("flex-1","text-ellipsis"),children:k.name}),ve===k.id&&(0,a.jsx)(f.Z,{className:n(j["selected-ico"])})]},k.id)})]})})},K=o},2349:function(Pe,_,e){e.d(_,{Z:function(){return H}});var G=e(48305),v=e.n(G),m=e(64799),x=e(26324),E=e(13143),T=e(28246),f=e(63619),N=e(51249),y=e(28190),p=e(9504),t=e(94581),O=e.n(t),F=e(75271),j=e(59261),a={"xagi-nav-style2":"xagi-nav-style2___y6MJu",text:"text___XcdJn","page-container":"page-container___aQb4E","variables-box":"variables-box___zOde3",header:"header____mIzl","down-icon":"down-icon___nE2JF","rotate-90":"rotate-90___n3jXV","conversation-container":"conversation-container___wfpdk","close-form":"close-form___uaNXu","form-box":"form-box___AloSZ",desc:"desc___XIVD5"},n=e(52676),o=O().bind(a),K=T.Z.SHOW_CHILD,Q=function(ee){var X=ee.className,P=ee.form,i=ee.isFilled,h=i===void 0?!1:i,c=ee.disabled,A=c===void 0?!1:c,C=ee.showSubmitButton,l=C===void 0?!1:C,s=ee.variables,te=ee.userFillVariables,De=ee.onConfirm,ce=(0,F.useState)(!0),ve=v()(ce,2),$=ve[0],se=ve[1];(0,F.useEffect)(function(){te&&P.setFieldsValue(te)},[P,te]);var ie=function(L){se(!1),De?.(L)},ge=$?a["conversation-container"]:h?a["close-form"]:null,W=function(L){var b,q=L.inputType,k=L.description,Y=[m.oI.Select,m.oI.MultipleSelect].includes(q),S;switch(q){case m.oI.Text:S=(0,n.jsx)(f.Z,{variant:"filled",placeholder:k||"\u8BF7\u8F93\u5165",allowClear:!0});break;case m.oI.Paragraph:case m.oI.AutoRecognition:S=(0,n.jsx)(f.Z.TextArea,{variant:"filled",placeholder:k||"\u8BF7\u8F93\u5165",allowClear:!0});break;case m.oI.Number:S=(0,n.jsx)(N.Z,{variant:"filled",className:"w-full",placeholder:k||"\u8BF7\u8F93\u5165"});break;case m.oI.Select:case m.oI.MultipleSelect:S=(0,n.jsx)(T.Z,{variant:"filled",expandTrigger:"hover",multiple:q===m.oI.MultipleSelect,maxTagCount:"responsive",showCheckedStrategy:K,placeholder:k||"\u8BF7\u9009\u62E9",options:((b=L.selectConfig)===null||b===void 0?void 0:b.options)||[],allowClear:!0});break;default:S=(0,n.jsx)(f.Z,{placeholder:k||"\u8BF7\u8F93\u5165",allowClear:!0})}return{isSelect:Y,content:S}};return s!=null&&s.length?(0,n.jsxs)("div",{className:o(a["variables-box"],"flex","flex-col",X),children:[(0,n.jsxs)("header",{className:o(a.header,"flex","items-center","content-between"),children:[(0,n.jsx)("span",{children:"\u5BF9\u8BDD\u8BBE\u7F6E"}),(0,n.jsx)(j.Z,{condition:h,children:(0,n.jsx)("span",{className:o(a.text,"cursor-pointer"),onClick:function(){return se(!$)},children:(0,n.jsx)(E.Z,{className:o($?"":a["rotate-90"],a["down-icon"])})})})]}),(0,n.jsxs)("div",{className:o(ge),children:[(0,n.jsxs)(y.Z,{form:P,rootClassName:a["form-box"],disabled:A,preserve:!1,layout:"vertical",onFinish:ie,requiredMark:x.N,autoComplete:"off",children:[s?.map(function(D){var L=D.name,b=D.displayName,q=D.require,k=D.key,Y=W(D),S=Y.isSelect,le=Y.content;return(0,n.jsx)(y.Z.Item,{name:L,label:b,rules:[{required:q,message:"\u8BF7".concat(S?"\u9009\u62E9":"\u8F93\u5165").concat(b)}],children:le},k)}),(0,n.jsx)(j.Z,{condition:l,children:(0,n.jsx)(y.Z.Item,{children:(0,n.jsx)(p.ZP,{type:"primary",htmlType:"submit",block:!0,children:"\u5F00\u59CB\u5BF9\u8BDD"})})})]}),(0,n.jsx)(j.Z,{condition:A,children:(0,n.jsx)("p",{className:o(a.desc),children:"\u5BF9\u8BDD\u5F00\u59CB\u540E\uFF0C\u5BF9\u8BDD\u8BBE\u7F6E\u5C06\u65E0\u6CD5\u4FEE\u6539\u3002"})})]})]}):null},H=Q},94201:function(Pe,_,e){e.d(_,{Z:function(){return F}});var G=e(48305),v=e.n(G),m=e(63619),x=e(28190),E=e(94581),T=e.n(E),f=e(75271),N={"text-area":"text-area___UOMCQ",input:"input___XXN9U",text:"text___m7VFK"},y=e(52676),p=T().bind(N),t=m.Z.TextArea,O=function(a){var n,o=a.placeholder,K=o===void 0?"\u8BF7\u8F93\u5165":o,Q=a.name,H=a.label,J=a.initialValue,ee=a.maxLength,X=ee===void 0?200:ee,P=a.minRows,i=P===void 0?3:P,h=a.maxRows,c=h===void 0?6:h,A=a.rules,C=(0,f.useState)(""),l=v()(C,2),s=l[0],te=l[1];return(0,f.useEffect)(function(){J&&te(J)},[J]),(0,y.jsxs)(x.Z.Item,{className:p("relative"),children:[(0,y.jsx)(x.Z.Item,{className:p(N["text-area"]),name:Q,label:H,rules:A,children:(0,y.jsx)(t,{rootClassName:N.input,placeholder:K,value:s,onChange:function(ce){return te(ce.target.value)},maxLength:X,autoSize:{minRows:i,maxRows:c}})}),(0,y.jsxs)("span",{className:p("absolute",N.text),children:[(n=s?.length)!==null&&n!==void 0?n:0,"/",X]})]})},F=O},84283:function(Pe,_,e){e.d(_,{Z:function(){return j}});var G=e(31759),v=e.n(G),m=e(44953),x=e(24573),E=e(41249),T=e(94581),f=e.n(T),N=e(75271),y=e(87453),p={"xagi-nav-style2":"xagi-nav-style2___a6A0C",text:"text___ijFbn","page-container":"page-container___AmrXf",container:"container___eQEDc",box:"box___qQPTu",icon:"icon___aN05X"},t=e(52676),O=f().bind(p),F=function(n){var o=n.className,K=n.itemClassName,Q=n.loading,H=n.chatSuggestList,J=n.onClick,ee=(0,y.useModel)("chat"),X=ee.showPagePreview,P=function(c){var A={},C={};if(c.args&&Array.isArray(c.args)&&c.args.forEach(function(te){te.inputType==="Path"&&te.name&&(A[te.name]=te.bindValue),te.inputType==="Query"&&te.name&&te.bindValue&&(C[te.name]=te.bindValue)}),(0,m.N4)(c.pageUrl,A)){var l=(0,m.Tx)(c?.pageUrl,A),s="".concat("").concat(l);X({name:c.info||"\u9875\u9762\u9884\u89C8",uri:s,params:C,executeId:"event-".concat(Date.now())})}else E.ZP.error("\u9875\u9762\u8DEF\u5F84\u53C2\u6570\u914D\u7F6E\u9519\u8BEF")},i=function(c){if(c.type==="Question"){J(c.info);return}if(c.type==="Page"){if(!c.pageUrl){E.ZP.error("\u9875\u9762\u8DEF\u5F84\u914D\u7F6E\u9519\u8BEF");return}P(c);return}if(c.type==="Link"){if(!c.url){E.ZP.error("\u94FE\u63A5\u5730\u5740\u914D\u7F6E\u9519\u8BEF");return}window.open(c.url,"_blank");return}};return Q?(0,t.jsx)("div",{className:O("flex",p["loading-box"]),children:(0,t.jsx)(x.Z,{})}):H?.length>0?(0,t.jsx)("div",{className:O(p.container,"flex","flex-col",o),children:H?.map(function(h,c){return h?(0,t.jsxs)("div",{onClick:function(){return typeof h=="string"?J(h):i(h)},className:O(p.box,"cursor-pointer","hover-box",K,"text-ellipsis-2"),children:[v()(h)==="object"&&h?.icon&&(0,t.jsx)("img",{className:O(p.icon),src:h?.icon}),typeof h=="string"?h:h.info]},c):null})}):null},j=F},57534:function(Pe,_,e){e.d(_,{Z:function(){return y}});var G=e(48305),v=e.n(G),m=e(75271),x=e(10894),E=e.n(x),T={container:"container___nA1pk",left:"left___yCQVL",right:"right___W8W7y",divider:"divider___TKhrM",dragging:"dragging___ur7Jj",disabled:"disabled___tspGS",dragOverlay:"dragOverlay___E5wS3"},f=e(52676),N=function(t){var O=t.left,F=t.right,j=t.minLeftWidth,a=j===void 0?350:j,n=t.minRightWidth,o=n===void 0?350:n,K=t.defaultLeftWidth,Q=K===void 0?33:K,H=t.dividerColor,J=H===void 0?"#e0e0e0":H,ee=t.dividerHoverColor,X=ee===void 0?"#bbb":ee,P=t.dividerDraggingColor,i=P===void 0?"#1890ff":P,h=t.style,c=t.className,A=(0,m.useRef)(null),C=(0,m.useState)(0),l=v()(C,2),s=l[0],te=l[1],De=(0,m.useState)(Q),ce=v()(De,2),ve=ce[0],$=ce[1],se=(0,m.useState)(!1),ie=v()(se,2),ge=ie[0],W=ie[1],D=(0,m.useState)(!1),L=v()(D,2),b=L[0],q=L[1],k=(0,m.useState)(!1),Y=v()(k,2),S=Y[0],le=Y[1],V=(0,m.useRef)(0),u=(0,m.useRef)(null);(0,m.useEffect)(function(){var Te=setTimeout(function(){le(!0)},300);return function(){return clearTimeout(Te)}},[]),(0,m.useEffect)(function(){var Te=function(){if(A.current){var pe=A.current.offsetWidth;te(pe),!b&&pe>0&&q(!0)}};Te();var Z=new ResizeObserver(Te);return A.current&&Z.observe(A.current),window.addEventListener("resize",Te),function(){Z.disconnect(),window.removeEventListener("resize",Te)}},[b]),(0,m.useEffect)(function(){if(!(!s||!b)){var Te=V.current;if(Te!==s&&!ge){V.current=s;var Z;u.current!==null?Z=u.current:Z=ve/100*s;var z=s-Z,pe=Z<a,Ze=z<o;if(pe&&Ze){u.current=a;var Ge=a/s*100;$(Ge);return}if(pe){u.current=a;var Ie=a/s*100;$(Ie);return}if(Ze){var Re=s-o;u.current=Re;var dt=Re/s*100;$(Math.max(0,dt));return}if(u.current!==null){var vt=u.current/s*100;$(vt);return}var at=s-o;if(Z>at){var ht=at/s*100;$(ht)}}}},[s,b,ve,a,o,ge]);var Se=!!O,he=!!F,Qe=Se&&he,Ve=Se&&!he?100:!Se&&he?0:ve,He=!Qe,Je=(0,m.useCallback)(function(Te,Z){if(!(!A.current||s===0)){var z=Z.x,pe=z/s*100,Ze=a/s*100,Ge=o/s*100,Ie=100-Ge,Re=Math.max(Ze,Math.min(Ie,pe));$(Re),u.current!==null&&(u.current=null)}},[s,a,o]),ke=(0,m.useCallback)(function(Te){if(!(!A.current||s===0)){var Z=A.current.getBoundingClientRect(),z=Te.clientX-Z.left,pe=z/s*100,Ze=a/s*100,Ge=o/s*100,Ie=100-Ge,Re=Math.max(Ze,Math.min(Ie,pe));$(Re),u.current!==null&&(u.current=null)}},[s,a,o]),We=(0,m.useCallback)(function(){W(!1),document.body.style.userSelect="",document.removeEventListener("mousemove",ke),document.removeEventListener("mouseup",We)},[ke]),st=(0,m.useCallback)(function(){W(!0),document.body.style.userSelect="none",document.addEventListener("mousemove",ke),document.addEventListener("mouseup",We)},[ke,We]),we=(0,m.useCallback)(function(Te,Z){if(W(!1),document.body.style.userSelect="",document.removeEventListener("mousemove",ke),document.removeEventListener("mouseup",We),A.current&&s>0){var z=Z.x,pe=z/s*100,Ze=a/s*100,Ge=o/s*100,Ie=100-Ge,Re=Math.max(Ze,Math.min(Ie,pe));$(Re),u.current=null}},[s,a,o,ke,We]),xe={x:ve/100*s,y:0};return(0,f.jsxs)("div",{className:"".concat(T.container," ").concat(c||""),style:h,ref:A,children:[ge&&(0,f.jsx)("div",{className:T.dragOverlay}),Se&&(0,f.jsx)("div",{className:T.left,style:{width:"".concat(Ve,"%"),transition:b?"none":"width 0ms",overflow:ge?"hidden":"auto"},children:O}),Qe&&s>0&&(0,f.jsx)(E(),{axis:"x",position:xe,onStart:st,onDrag:Je,onStop:we,disabled:He,bounds:{left:a,right:s-o},children:(0,f.jsx)("div",{className:"".concat(T.divider," ").concat(He?T.disabled:""," ").concat(ge?T.dragging:""),style:{"--divider-color":J,"--divider-hover-color":X,"--divider-dragging-color":i,opacity:S?1:0,transition:"opacity 0.4s ease-in-out"}})}),he&&(0,f.jsx)("div",{className:T.right,style:{width:"".concat(100-Ve,"%"),transition:b?"none":"width 0ms",overflow:ge?"hidden":"auto"},children:F})]})},y=N},702:function(Pe,_,e){e.d(_,{Z:function(){return A}});var G=e(90228),v=e.n(G),m=e(87999),x=e.n(m),E=e(48305),T=e.n(E),f=e(62597),N=e(61265),y=e(80241),p=e(44953),t=e(47383),O=e(61606),F=e(27806),j=e(81707),a=e(14258),n=e(68108),o=e(9504),K=e(56555),Q=e(94581),H=e.n(Q),J=e(75271),ee=e(70797),X=e(87453),P={"xagi-nav-style2":"xagi-nav-style2___IxVei",text:"text___PJibU","page-container":"page-container___r4oL6","page-preview-iframe-container":"page-preview-iframe-container___i7gFb","page-preview-header":"page-preview-header___aUFBG","page-icon":"page-icon___fFlZK","close-btn":"close-btn___GIqOO","page-preview-body":"page-preview-body___op2OU","page-iframe-container":"page-iframe-container___iDJF0","page-iframe":"page-iframe___Fy7dV","loading-wrapper":"loading-wrapper___YqvYY"},i=e(52676),h=H().bind(P),c=function(l){var s=l.pagePreviewData,te=l.showLoading,De=te===void 0?!0:te,ce=l.showHeader,ve=ce===void 0?!0:ce,$=l.showCloseButton,se=$===void 0?!0:$,ie=l.onClose,ge=l.style,W=l.className,D=l.titleStyle,L=l.titleClassName,b=(0,J.useState)(0),q=T()(b,2),k=q[0],Y=q[1],S=(0,J.useState)(!0),le=T()(S,2),V=le[0],u=le[1],Se=(0,J.useRef)(null),he=(0,J.useMemo)(function(){if(!s)return"";var Z=s.uri,z=s.params;if(!Z)return"";if(/^https?:\/\//.test(Z)||(Z="".concat("").concat(Z)),!z||Object.keys(z).length===0)return Z;var pe=new URLSearchParams(z).toString();return Y(Date.now),"".concat(Z,"?").concat(pe)},[s]),Qe=function(){u(!1)},Ve=function(){u(!1)},He=(0,X.useModel)("chat"),Je=He.previewPageTitle,ke=He.setPreviewPageTitle;if((0,J.useEffect)(function(){var Z=Se.current;Z&&(Z.src=he,u(!0),Z.onload=x()(v()().mark(function z(){var pe,Ze,Ge,Ie,Re,dt,vt,at;return v()().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(Ze=Z.contentDocument||((pe=Z.contentWindow)===null||pe===void 0?void 0:pe.document),Ze){_e.next=3;break}return _e.abrupt("return");case 3:if(Ge=new ee.Z,Re=new MutationObserver(function(){clearTimeout(Ie),Ie=setTimeout(x()(v()().mark(function Tt(){var At,mt,ot,rt,yt;return v()().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(mt=((At=Ze.querySelector("head > title"))===null||At===void 0?void 0:At.textContent)||"\u9875\u9762\u9884\u89C8",ke(mt),ot=Ze.body.innerHTML,s!=null&&s.method){et.next=5;break}return et.abrupt("return");case 5:if(rt="",s.data_type==="html"&&(rt=ot),s.data_type==="markdown"&&(rt=Ge.turndown(ot)),rt){et.next=10;break}return et.abrupt("return");case 10:if(s?.method!=="browser_navigate_page"){et.next=15;break}return yt={requestId:s.request_id||"",html:rt},console.log("CHART2",yt),et.next=15,(0,y.kR)(yt);case 15:case"end":return et.stop()}},Tt)})),500)}),Re.observe(Ze.body,{childList:!0,subtree:!0,characterData:!0}),s?.method!=="browser_navigate_page"){_e.next=13;break}if(vt=(dt=Ze.body.querySelector("body>h1"))===null||dt===void 0?void 0:dt.textContent,vt!=="Welcome to nginx!"){_e.next=13;break}return at={requestId:s?.request_id,html:"\u65E0\u6CD5\u8BFB\u53D6\u6570\u636E"},console.log("CHART1",at),_e.next=13,(0,y.kR)(at);case 13:return _e.abrupt("return",function(){Re.disconnect(),clearTimeout(Ie)});case 14:case"end":return _e.stop()}},z)})))},[s]),!s)return null;function We(){var Z;return(Z=Se.current)===null||Z===void 0?void 0:Z.contentWindow}function st(){var Z,z=We();z==null||(Z=z.location)===null||Z===void 0||Z.reload()}function we(){var Z,z=We();z==null||(Z=z.history)===null||Z===void 0||Z.back()}function xe(){var Z,z=We();z==null||(Z=z.history)===null||Z===void 0||Z.forward()}function Te(){var Z=he;/^https?:\/\//.test(he)||(Z="".concat(window.location.protocol,"//").concat(window.location.host).concat(he)),(0,p.TE)(Z,function(){},!0)}return(0,i.jsxs)("div",{className:h(P["page-preview-iframe-container"],W),style:ge,children:[ve&&(0,i.jsxs)("div",{className:h(P["page-preview-header"]),children:[(0,i.jsxs)("h3",{className:"text-ellipsis",children:[(0,i.jsx)(f.Z,{name:"icons-page",className:h(P["page-icon"])}),(0,i.jsx)("span",{className:L,style:D,children:Je})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"10px",marginRight:"20px"},children:[(0,i.jsx)(n.Z,{title:"\u5237\u65B0",children:(0,i.jsx)(o.ZP,{onClick:st,icon:(0,i.jsx)(t.Z,{})})}),(0,i.jsx)(n.Z,{title:"\u540E\u9000",children:(0,i.jsx)(o.ZP,{onClick:we,icon:(0,i.jsx)(O.Z,{})})}),(0,i.jsx)(n.Z,{title:"\u524D\u8FDB",children:(0,i.jsx)(o.ZP,{onClick:xe,icon:(0,i.jsx)(F.Z,{})})}),(0,i.jsx)(n.Z,{title:"\u590D\u5236\u94FE\u63A5",children:(0,i.jsx)(o.ZP,{onClick:Te,icon:(0,i.jsx)(j.Z,{})})})]}),se&&(0,i.jsx)(a.Z,{className:h(P["close-btn"],"cursor-pointer"),onClick:ie})]}),(0,i.jsxs)("div",{className:h(P["page-preview-body"]),children:[De&&V&&(0,i.jsx)("div",{className:h(P["loading-wrapper"]),children:(0,i.jsx)(K.Z,{size:"large",tip:"\u9875\u9762\u52A0\u8F7D\u4E2D..."})}),(0,i.jsx)("iframe",{ref:Se,src:he,sandbox:N.lM,className:h(P["page-iframe"]),onLoad:Qe,onError:Ve,style:{opacity:V?0:1,transition:"opacity 1.5s ease-in-out"}},k)]})]})},A=c},3055:function(Pe,_,e){e.d(_,{Z:function(){return y}});var G=e(24573),v=e(94581),m=e.n(v),x=e(75271),E={"xagi-nav-style2":"xagi-nav-style2___xuAte",text:"text___sfO7S","page-container":"page-container___rvj3b",container:"container___MWZZN"},T=e(52676),f=m().bind(E),N=function(t){var O=t.className;return(0,T.jsxs)("div",{className:f("flex","flex-1","items-center","content-center",E.container,O),children:[(0,T.jsx)(G.Z,{}),(0,T.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]})},y=N},7098:function(Pe,_,e){e.d(_,{Z:function(){return t}});var G=e(3642),v=e(17701),m=e(88958),x=e(94581),E=e.n(x),T=e(75271),f={container:"container___zAmsL","option-icon-box":"option-icon-box___Xu928",icon:"icon___k7L6U",image:"image___gVYjP"},N=e(52676),y=E().bind(f),p=function(F){var j=F.className,a=F.value,n=F.dropdownRenderComponent,o=F.placeholder,K=F.disabled,Q=F.allowClear,H=Q===void 0?!1:Q,J=F.options,ee=F.onChange,X=F.size,P=X===void 0?"middle":X;return(0,N.jsx)(v.default,{rootClassName:y(f.container,j),value:a,placeholder:o||"\u8BF7\u9009\u62E9",disabled:K,onChange:ee,allowClear:H,onClick:function(h){h.stopPropagation()},options:J,size:P,popupRender:function(h){return(0,N.jsxs)(N.Fragment,{children:[h,n]})},optionRender:function(h){var c;return(0,N.jsxs)(m.Z,{gap:8,align:"center",children:[(0,N.jsx)("div",{className:y(f["option-icon-box"]),children:a===h.data.value&&(0,N.jsx)(G.Z,{className:y(f.icon)})}),!!(h!=null&&(c=h.data)!==null&&c!==void 0&&c.img)&&(0,N.jsx)("img",{className:y(f.image,"radius-6"),src:String(h.data.img),alt:""}),(0,N.jsx)("span",{className:y("flex-1","text-ellipsis"),children:h.data.label})]})}})},t=p},6619:function(Pe,_,e){e.d(_,{Z:function(){return O}});var G=e(62597),v=e(92122),m=e(38683),x=e(68108),E=e(94581),T=e.n(E),f=e(75271),N={box:"box___qPDL3"},y=e(52676),p=T().bind(N),t=function(j){var a=j.className,n=j.type,o=n===void 0?v.Ai.Blank:n,K=j.icon,Q=j.title,H=j.onClick,J=o===v.Ai.Blank?"tooltip-blank":"tooltip-white",ee=m.Z.useToken(),X=ee.token;return(0,y.jsx)(x.Z,{title:Q,classNames:{root:J},children:(0,y.jsx)("span",{className:p("hover-box","flex","content-center","items-center","cursor-pointer",N.box,a),onClick:H,children:K||(0,y.jsx)(G.Z,{name:"icons-common-plus",style:{color:X.colorTextTertiary,fontSize:"15px"}})})})},O=t},51837:function(Pe,_,e){var G=e(48305),v=e.n(G),m=e(32222),x=e.n(m),E=e(75271),T=function(){var N=(0,E.useState)(),y=v()(N,2),p=y[0],t=y[1],O=function(j){var a,n=x()(p);if(n){var o=(n==null||(a=n.statistics)===null||a===void 0?void 0:a.collectCount)||0;n.statistics||(n.statistics={targetId:n.agentId,userCount:0,convCount:0,collectCount:0,likeCount:0,referenceCount:0,callCount:0,failCallCount:0,totalCallDuration:0}),n.statistics.collectCount=j?o+1:o-1,n.collect=j,t(n)}};return{agentDetail:p,setAgentDetail:t,handleToggleCollectSuccess:O}};_.Z=T},76571:function(Pe,_,e){var G=e(75271),v=function(x){var E="drawer-scroll-hidden";if(!document.getElementById("drawer-scroll-style")){var T=document.createElement("style");T.id="drawer-scroll-style",T.innerHTML=`
        .`.concat(E,` {
          overflow-x: hidden !important;
        }
      `),document.head.appendChild(T)}(0,G.useEffect)(function(){x?(document.body.classList.add(E),document.documentElement.classList.add(E)):setTimeout(function(){document.body.classList.remove(E),document.documentElement.classList.remove(E)},400)},[x])};_.Z=v},88458:function(Pe,_,e){var G=e(15558),v=e.n(G),m=e(48305),x=e.n(m),E=e(64799),T=e(75271),f=function(){var y=(0,T.useState)([]),p=x()(y,2),t=p[0],O=p[1],F=function(n){var o=v()(t);if(o.some(function(Q){return Q.id===n.id})){var K=o.findIndex(function(Q){return Q.id===n.id});o.splice(K,1)}else o.push({id:n.id,type:n.type});O(o)},j=function(n){if(n!=null&&n.length){var o=n.filter(function(K){return K.defaultSelected===E.Km.Yes}).map(function(K){return{id:K.id,type:K.type}});O(o||[])}};return{selectedComponentList:t,setSelectedComponentList:O,handleSelectComponent:F,initSelectedComponentList:j}};_.Z=f},27689:function(Pe,_,e){e.d(_,{K:function(){return t}});var G=e(90228),v=e.n(G),m=e(87999),x=e.n(m),E=e(48305),T=e.n(E),f=e(92068),N=e(14334),y=e(75271),p=e(87453),t=function(){var F=(0,y.useState)(f.unifiedThemeService.getCurrentData()),j=T()(F,2),a=j[0],n=j[1],o=(0,y.useState)(!1),K=T()(o,2),Q=K[0],H=K[1],J=(0,p.useModel)("tenantConfigInfo"),ee=J.tenantConfigInfo;(0,y.useEffect)(function(){var W=function(L){n(L),H(!1)};return f.unifiedThemeService.addListener(W),function(){f.unifiedThemeService.removeListener(W)}},[]);var X=(0,y.useCallback)(function(W){return x()(v()().mark(function D(){var L=arguments;return v()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return H(!0),q.prev=1,q.next=4,W.apply(void 0,L);case 4:q.next=11;break;case 6:throw q.prev=6,q.t0=q.catch(1),console.error("\u4E3B\u9898\u66F4\u65B0\u5931\u8D25:",q.t0),H(!1),q.t0;case 11:case"end":return q.stop()}},D,null,[[1,6]])}))},[]),P=X(f.unifiedThemeService.updatePrimaryColor.bind(f.unifiedThemeService)),i=X(f.unifiedThemeService.updateAntdTheme.bind(f.unifiedThemeService)),h=X(f.unifiedThemeService.updateNavigationStyle.bind(f.unifiedThemeService)),c=X(f.unifiedThemeService.updateLayoutStyle.bind(f.unifiedThemeService)),A=X(f.unifiedThemeService.updateBackground.bind(f.unifiedThemeService)),C=X(f.unifiedThemeService.updateLanguage.bind(f.unifiedThemeService)),l=(0,y.useCallback)(x()(v()().mark(function W(){var D;return v()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return D=a.antdTheme==="light"?"dark":"light",b.next=3,i(D);case 3:case"end":return b.stop()}},W)})),[a.antdTheme,i]),s=(0,y.useCallback)(x()(v()().mark(function W(){var D;return v()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return D=a.layoutStyle===N.B.DARK?N.B.LIGHT:N.B.DARK,b.next=3,c(D);case 3:case"end":return b.stop()}},W)})),[a.layoutStyle,c]),te=(0,y.useCallback)(x()(v()().mark(function W(){var D;return v()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return D=a.navigationStyle===N.F.STYLE1?N.F.STYLE2:N.F.STYLE1,b.next=3,h(D);case 3:case"end":return b.stop()}},W)})),[a.navigationStyle,h]),De=(0,y.useCallback)(x()(v()().mark(function W(){var D;return v()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return D=a.language==="zh-CN"?"en-US":"zh-CN",b.next=3,C(D);case 3:case"end":return b.stop()}},W)})),[a.language,C]),ce=X(f.unifiedThemeService.resetToDefault.bind(f.unifiedThemeService)),ve=a.antdTheme==="dark",$=a.layoutStyle===N.B.DARK,se=a.navigationStyle===N.F.STYLE2,ie=a.language==="zh-CN",ge=(0,y.useMemo)(function(){return f.unifiedThemeService.getExtraColors()},[ee]);return{data:a,isLoading:Q,updatePrimaryColor:P,updateAntdTheme:i,updateNavigationStyle:h,updateLayoutStyle:c,updateBackground:A,updateLanguage:C,toggleAntdTheme:l,toggleNavigationTheme:s,toggleNavigationStyle:te,toggleLanguage:De,resetToDefault:ce,primaryColor:a.primaryColor,antdTheme:a.antdTheme,navigationStyle:a.navigationStyle,layoutStyle:a.layoutStyle,backgroundId:a.backgroundId,language:a.language,isDarkMode:ve,isNavigationDark:$,isNavigationExpanded:se,isChineseLanguage:ie,extraColors:ge}};_.Z=t},36724:function(Pe,_,e){e.d(_,{Z:function(){return H}});var G=e(90228),v=e.n(G),m=e(15558),x=e.n(m),E=e(87999),T=e.n(E),f=e(48305),N=e.n(f),y=e(86743),p=e(56555),t=e(94581),O=e.n(t),F=e(16483),j=e.n(F),a=e(75271),n={container:"container___MqO_x",row:"row___XVnNC",icon:"icon___JZhBH"},o=e(52676),K=O().bind(n);function Q(J){var ee=J.pageSize,X=ee===void 0?10:ee,P=J.loadData,i=J.height,h=i===void 0?400:i,c=J.conversationList,A=c===void 0?[]:c,C=J.setConversationList,l=J.handleLink,s=J.runDel,te=(0,a.useState)(!1),De=N()(te,2),ce=De[0],ve=De[1],$=(0,a.useState)(!0),se=N()($,2),ie=se[0],ge=se[1],W=(0,a.useRef)(null),D=function(){var L=T()(v()().mark(function b(){var q,k,Y,S;return v()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(ce||!ie)){V.next=2;break}return V.abrupt("return");case 2:return ve(!0),q=A.length?A[A.length-1].id:null,V.prev=4,V.next=7,P(q,X);case 7:k=V.sent,Y=k.list,S=k.hasMore,C?.(function(u){return[].concat(x()(u??[]),x()(Y))}),ge(S);case 12:return V.prev=12,ve(!1),V.finish(12);case 15:case"end":return V.stop()}},b,null,[[4,,12,15]])}));return function(){return L.apply(this,arguments)}}();return(0,a.useEffect)(function(){},[]),(0,a.useEffect)(function(){var L=W.current;if(L){var b=function(){if(!(ce||!ie)){var k=L.scrollTop,Y=L.scrollHeight,S=L.clientHeight;k+S>=Y-50&&D()}};return L.addEventListener("scroll",b),function(){return L.removeEventListener("scroll",b)}}},[ce,ie,A]),(0,o.jsxs)("div",{ref:W,className:K(n.container,"scroll-container"),style:{height:h},children:[A?.map(function(L){return(0,o.jsxs)("div",{className:K("flex","items-center","radius-6","hover-box",n.row),children:[(0,o.jsxs)("p",{className:K("flex-1","text-ellipsis","cursor-pointer"),onClick:function(){return l?.(L.id,L.agentId)},children:[(0,o.jsx)("span",{style:{marginRight:5,width:75},children:j()(L.created).format("MM-DD HH:mm")}),L.topic]}),(0,o.jsx)("div",{className:K(n.icon,"cursor-pointer"),onClick:function(q){q.stopPropagation(),s?.(L.id)},children:(0,o.jsx)(y.Z,{})})]},L.id)}),ce&&(0,o.jsx)("div",{style:{textAlign:"center",padding:16},children:(0,o.jsx)(p.Z,{})}),A&&A.length>0&&!ie&&(0,o.jsx)("div",{style:{textAlign:"center",padding:5,color:"#999"},children:"\u5DF2\u52A0\u8F7D\u5168\u90E8\u6570\u636E"})]})}var H=Q},50232:function(Pe,_,e){e.r(_),e.d(_,{default:function(){return De}});var G=e(48305),v=e.n(G),m=e(65857),x=e(23276),E=e(62597),T=e(702),f=e(49974),N=e(34077),y=e(2349),p=e(84283),t=e(57534),O=e(51837),F=e(88458),j=e(41705),a=e(64799),n=e(39373),o=e(24573),K=e(28190),Q=e(41249),H=e(69219),J=e(9504),ee=e(94581),X=e.n(ee),P=e(16483),i=e.n(P),h=e(75271),c=e(87453),A=e(92448),C={"xagi-nav-style2":"xagi-nav-style2___syT9T",text:"text___fSG3k","page-container":"page-container___qYlB5","main-content":"main-content___RZVrO","title-box":"title-box___sFfah","title-container":"title-container___eIEah",title:"title___UQDXG","icons-nav-sidebar":"icons-nav-sidebar___TWXGR","main-content-box":"main-content-box___z5VWO","chat-wrapper-content":"chat-wrapper-content___XUnsw","chat-wrapper":"chat-wrapper___rpWPS",loading:"loading___gGjUA","chat-inner":"chat-inner___dS4XS","suggest-item":"suggest-item___PGZ70","chat-input-container":"chat-input-container___JdZct","agent-sidebar":"agent-sidebar___Ejtnz","title-style":"title-style___zEZKo","agent-sidebar-w":"agent-sidebar-w___rUHjm"},l=e(52676),s=X().bind(C),te=function(){var ve=(0,c.useParams)(),$=Number(ve.agentId),se=K.Z.useForm(),ie=v()(se,1),ge=ie[0],W=(0,c.useModel)("layout"),D=W.isMobile,L=(0,c.useModel)("conversationHistory"),b=L.runHistoryItem,q=(0,c.useModel)("chat"),k=q.showPagePreview,Y=(0,h.useState)([]),S=v()(Y,2),le=S[0],V=S[1],u=(0,h.useState)([]),Se=v()(u,2),he=Se[0],Qe=Se[1],Ve=(0,h.useState)(!1),He=v()(Ve,2),Je=He[0],ke=He[1],We=(0,h.useState)([]),st=v()(We,2),we=st[0],xe=st[1],Te=(0,h.useState)([]),Z=v()(Te,2),z=Z[0],pe=Z[1],Ze=(0,h.useState)(null),Ge=v()(Ze,2),Ie=Ge[0],Re=Ge[1],dt=(0,h.useState)(!1),vt=v()(dt,2),at=vt[0],ht=vt[1],_e=(0,h.useState)(null),Tt=v()(_e,2),At=Tt[0],mt=Tt[1],ot=(0,F.Z)(),rt=ot.selectedComponentList,yt=ot.setSelectedComponentList,jt=ot.handleSelectComponent,et=ot.initSelectedComponentList,it=(0,O.Z)(),M=it.agentDetail,It=it.setAgentDetail,Et=it.handleToggleCollectSuccess,St=K.Z.useWatch([],{form:ge,preserve:!0});h.useEffect(function(){St&&Object.keys(St).length===0||ge.validateFields({validateOnly:!0}).then(function(){return Re(St)}).catch(function(){return Re(null)})},[ge,St]);var Nt=(0,h.useMemo)(function(){if(z?.length>0){if(!Ie)return!0;var xt=(0,n.VL)(z,Object.keys(Ie));return!xt}return!1},[z,Ie]),Lt=function(r){r&&r!==null&&r!==void 0&&r.expandPageArea&&r!==null&&r!==void 0&&r.pageHomeIndex?k({name:"\u9875\u9762\u9884\u89C8",uri:""+r?.pageHomeIndex,params:{},executeId:""}):k(null)},pt=(0,c.useRequest)(j.xI,{manual:!0,debounceInterval:300,onSuccess:function(r){var d;ht(!1),It(r),Lt(r),mt(r?.conversationId||null);var U=r?.guidQuestionDtos||[];Qe(U);var g=r?.variables||[];xe(g);var R=g==null||(d=g.filter(function(I){return!I.systemVariable&&I.require}))===null||d===void 0?void 0:d.map(function(I){return I.name});if(pe(R||[]),r!=null&&r.openingChatMsg){var w={role:a.hZ.ASSISTANT,type:a.Zy.CHAT,text:r?.openingChatMsg,time:i()().toString(),id:(0,A.Z)(),messageType:a.DK.ASSISTANT};V([w])}ke(!0)},onError:function(){ht(!1)}}),Ot=pt.run;(0,h.useEffect)(function(){return ht(!0),Ot($,!0),b({agentId:$,limit:20}),function(){ke(!1),V([]),Qe([]),It(null),yt([]),xe([])}},[$]),(0,h.useEffect)(function(){et(M?.manualComponents)},[M?.manualComponents]);var Mt=(0,h.useMemo)(function(){return{assistant:{name:M?.name,avatar:M?.icon},system:{name:M?.name,avatar:M?.icon}}},[M]),Xe=function(r,d){if(M){if(Nt){ge.validateFields(),Q.ZP.warning("\u8BF7\u586B\u5199\u5FC5\u586B\u53C2\u6570");return}c.history.push("/home/chat/".concat(At,"/").concat($),{message:r,files:d,infos:rt,defaultAgentDetail:M,variableParams:Ie})}},nt=(0,h.useState)(!0),Bt=v()(nt,2),bt=Bt[0],wt=Bt[1],ft=(0,h.useRef)(null),Zt=(0,c.useModel)("chat"),Pt=Zt.pagePreviewData,Ct=Zt.hidePagePreview,Rt=function(){return(0,l.jsxs)("div",{className:s("flex-1","flex","flex-col",C["main-content"]),children:[(0,l.jsx)("div",{className:s(C["title-box"]),children:(0,l.jsxs)("div",{className:s(C["title-container"]),children:[(0,l.jsx)(H.Z.Title,{level:5,className:s(C.title,"clip-path-animation"),ellipsis:{rows:1,expandable:!1,symbol:"..."},children:Je&&(M!=null&&M.name?"\u548C".concat(M?.name,"\u5F00\u59CB\u4F1A\u8BDD"):"\u5F00\u59CB\u4F1A\u8BDD")}),(0,l.jsxs)("div",{children:[!bt&&!D&&(0,l.jsx)(J.ZP,{type:"text",className:s(C.sidebarButton),icon:(0,l.jsx)(E.Z,{name:"icons-nav-sidebar",className:s(C["icons-nav-sidebar"])}),onClick:function(){var d;Ct(),(d=ft.current)===null||d===void 0||d.open()}}),!!(M!=null&&M.expandPageArea)&&!!(M!=null&&M.pageHomeIndex)&&!Pt&&(0,l.jsx)(J.ZP,{type:"text",className:s(C.sidebarButton),icon:(0,l.jsx)(E.Z,{name:"icons-nav-ecosystem",className:s(C["icons-nav-sidebar"])}),onClick:function(){var d;(d=ft.current)===null||d===void 0||d.close(),Lt(M)}})]})]})}),(0,l.jsxs)("div",{className:s(C["main-content-box"]),children:[(0,l.jsx)("div",{className:s(C["chat-wrapper-content"]),children:(0,l.jsxs)("div",{className:s(C["chat-wrapper"],"flex-1"),children:[(0,l.jsx)(y.Z,{className:"mb-16",form:ge,isFilled:!0,variables:we},$),le?.length>0?(0,l.jsxs)(l.Fragment,{children:[le?.map(function(r,d){return(0,l.jsx)(N.Z,{messageInfo:r,roleInfo:Mt,contentClassName:C["chat-inner"],mode:"none"},d)}),(0,l.jsx)(p.Z,{itemClassName:C["suggest-item"],chatSuggestList:he,onClick:Xe})]}):(0,l.jsx)(m.Z,{className:s({"h-full":!(we!=null&&we.length)}),icon:M?.icon,name:M?.name||"",extra:(0,l.jsx)(p.Z,{className:"mt-16",itemClassName:s(C["suggest-item"]),chatSuggestList:he,onClick:Xe})})]})}),(0,l.jsx)(f.Z,{className:s(C["chat-input-container"]),onEnter:Xe,isClearInput:!1,wholeDisabled:Nt,manualComponents:M?.manualComponents||[],selectedComponentList:rt,onSelectComponent:jt,showAnnouncement:!0},"agent-details-".concat($))]})]})};return(0,l.jsxs)("div",{className:s("flex","h-full"),children:[at||!Je?(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,height:"100%",width:"100%"},children:(0,l.jsx)(o.Z,{})}):(0,l.jsx)(t.Z,{minLeftWidth:400,left:M!=null&&M.hideChatArea?null:Rt(),right:Pt&&(0,l.jsx)(T.Z,{pagePreviewData:Pt,showHeader:!0,onClose:Ct,showCloseButton:!(M!=null&&M.hideChatArea),titleClassName:s(C["title-style"])})}),(0,l.jsx)(x.Z,{ref:ft,className:s(C[bt?"agent-sidebar-w":"agent-sidebar"]),agentId:$,loading:at,agentDetail:M,onToggleCollectSuccess:Et,onVisibleChange:wt})]})},De=te},46105:function(Pe,_,e){e.d(_,{$G:function(){return O},JX:function(){return N},hm:function(){return p},wR:function(){return T}});var G=e(90228),v=e.n(G),m=e(87999),x=e.n(m),E=e(87453);function T(j){return f.apply(this,arguments)}function f(){return f=x()(v()().mark(function j(a){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,E.request)("/api/publish/template/copy",{method:"POST",data:a}));case 1:case"end":return o.stop()}},j)})),f.apply(this,arguments)}function N(j){return y.apply(this,arguments)}function y(){return y=x()(v()().mark(function j(a){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,E.request)("/api/publish/offShelf",{method:"POST",data:a}));case 1:case"end":return o.stop()}},j)})),y.apply(this,arguments)}function p(j){return t.apply(this,arguments)}function t(){return t=x()(v()().mark(function j(a){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,E.request)("/api/publish/item/list",{method:"POST",data:a}));case 1:case"end":return o.stop()}},j)})),t.apply(this,arguments)}function O(j){return F.apply(this,arguments)}function F(){return F=x()(v()().mark(function j(a){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,E.request)("/api/publish/apply",{method:"POST",data:a}));case 1:case"end":return o.stop()}},j)})),F.apply(this,arguments)}},44953:function(Pe,_,e){e.d(_,{$g:function(){return p},Df:function(){return t},N4:function(){return j},Qr:function(){return O},TE:function(){return x.TE},Tx:function(){return F},hK:function(){return N},n3:function(){return y}});var G=e(15558),v=e.n(G),m=e(92122),x=e(77750),E=e(13278),T=e(15470);function f(a){var n=a<10?"0"+a:a;return n}var N=function(n){var o=new Date(n);return o.getFullYear()+"-"+f(o.getMonth()+1)+"-"+f(o.getDate())+" "+f(o.getHours())+":"+f(o.getMinutes())+":"+f(o.getSeconds())},y=function(n){return!n||n===void 0?[]:n.startsWith("Array_File_")?["Array_File",n]:n.startsWith("File_")?["File",n]:[n]},p=function(n){var o=n[n.length-1];return Object.values(m.Gi).includes(o)?o:m.Gi.String},t=function(n){switch(n){case m.Gi.File_Image:return"image/*";case m.Gi.File_PPT:return".ppt,.pptx";case m.Gi.File_Doc:return".doc,.docx";case m.Gi.File_PDF:return".pdf";case m.Gi.File_Txt:return".txt";case m.Gi.File_Zip:return".zip,.rar,.7z";case m.Gi.File_Excel:return".xls,.xlsx,.csv";case m.Gi.File_Video:return"video/*";case m.Gi.File_Audio:case m.Gi.File_Voice:return"audio/*";case m.Gi.File_Code:return".js,.txt,.ts,.jsx,.tsx,.py,.java,.c,.cpp,.cs,.go,.php,.rb,.sh";case m.Gi.File_Svg:return".svg";default:return""}},O=function(n){return n&&Object.keys(n).length===0&&n.constructor===Object},F=function(n,o){return n.replace(/{(\w+)}/g,function(K,Q){if(o[Q]===void 0)throw new Error("\u7F3A\u5C11\u8DEF\u5F84\u53C2\u6570: ".concat(Q));return String(o[Q])})},j=function(n,o){var K=v()(n.matchAll(/{(\w+)}/g)).map(function(Q){return Q[1]});return K.length===0||K.every(function(Q){return o[Q]!==void 0&&o[Q]!==null&&o[Q]!==""})}},88958:function(Pe,_,e){e.d(_,{Z:function(){return h}});var G=e(75271),v=e(82187),m=e.n(v),x=e(18051),E=e(29207),T=e(62249),f=e(97947),N=e(83509);const y=["wrap","nowrap","wrap-reverse"],p=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],t=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],O=(c,A)=>{const C=A.wrap===!0?"wrap":A.wrap;return{[`${c}-wrap-${C}`]:C&&y.includes(C)}},F=(c,A)=>{const C={};return t.forEach(l=>{C[`${c}-align-${l}`]=A.align===l}),C[`${c}-align-stretch`]=!A.align&&!!A.vertical,C},j=(c,A)=>{const C={};return p.forEach(l=>{C[`${c}-justify-${l}`]=A.justify===l}),C};function a(c,A){return m()(Object.assign(Object.assign(Object.assign({},O(c,A)),F(c,A)),j(c,A)))}var n=a;const o=c=>{const{componentCls:A}=c;return{[A]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},K=c=>{const{componentCls:A}=c;return{[A]:{"&-gap-small":{gap:c.flexGapSM},"&-gap-middle":{gap:c.flexGap},"&-gap-large":{gap:c.flexGapLG}}}},Q=c=>{const{componentCls:A}=c,C={};return y.forEach(l=>{C[`${A}-wrap-${l}`]={flexWrap:l}}),C},H=c=>{const{componentCls:A}=c,C={};return t.forEach(l=>{C[`${A}-align-${l}`]={alignItems:l}}),C},J=c=>{const{componentCls:A}=c,C={};return p.forEach(l=>{C[`${A}-justify-${l}`]={justifyContent:l}}),C},ee=()=>({});var X=(0,f.I$)("Flex",c=>{const{paddingXS:A,padding:C,paddingLG:l}=c,s=(0,N.mergeToken)(c,{flexGapSM:A,flexGap:C,flexGapLG:l});return[o(s),K(s),Q(s),H(s),J(s)]},ee,{resetStyle:!1}),P=function(c,A){var C={};for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&A.indexOf(l)<0&&(C[l]=c[l]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(c);s<l.length;s++)A.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(c,l[s])&&(C[l[s]]=c[l[s]]);return C},h=G.forwardRef((c,A)=>{const{prefixCls:C,rootClassName:l,className:s,style:te,flex:De,gap:ce,vertical:ve=!1,component:$="div"}=c,se=P(c,["prefixCls","rootClassName","className","style","flex","gap","vertical","component"]),{flex:ie,direction:ge,getPrefixCls:W}=G.useContext(T.E_),D=W("flex",C),[L,b,q]=X(D),k=ve??ie?.vertical,Y=m()(s,l,ie?.className,D,b,q,n(D,c),{[`${D}-rtl`]:ge==="rtl",[`${D}-gap-${ce}`]:(0,E.n)(ce),[`${D}-vertical`]:k}),S=Object.assign(Object.assign({},ie?.style),te);return De&&(S.flex=De),ce&&!(0,E.n)(ce)&&(S.gap=ce),L(G.createElement($,Object.assign({ref:A,className:Y,style:S},(0,x.Z)(se,["justify","wrap","align"]))))})},68261:function(Pe){Pe.exports="data:image/png;base64,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"}}]);})();
