"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[5403],{81716:function(se,D,e){e.d(D,{Z:function(){return d}});var P=e(66283),i=e(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},I=o,S=e(47221),c=function(g,v){return i.createElement(S.Z,(0,P.Z)({},g,{ref:v,icon:I}))},l=i.forwardRef(c),d=l},77635:function(se,D,e){e.d(D,{Z:function(){return d}});var P=e(66283),i=e(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},I=o,S=e(47221),c=function(g,v){return i.createElement(S.Z,(0,P.Z)({},g,{ref:v,icon:I}))},l=i.forwardRef(c),d=l},64771:function(se,D,e){e.d(D,{Z:function(){return d}});var P=e(66283),i=e(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},I=o,S=e(47221),c=function(g,v){return i.createElement(S.Z,(0,P.Z)({},g,{ref:v,icon:I}))},l=i.forwardRef(c),d=l},61606:function(se,D,e){e.d(D,{Z:function(){return d}});var P=e(66283),i=e(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},I=o,S=e(47221),c=function(g,v){return i.createElement(S.Z,(0,P.Z)({},g,{ref:v,icon:I}))},l=i.forwardRef(c),d=l},65857:function(se,D,e){e.d(D,{Z:function(){return f}});var P=e(22675),i=e(94581),o=e.n(i),I=e(75271),S={avatar:"avatar___Q6WBB",nickname:"nickname___pjZCy"},c=e(52676),l=o().bind(S),d=function(v){var y=v.className,h=v.icon,E=v.name,a=v.extra;return(0,c.jsxs)("div",{className:l("flex","flex-col","items-center","content-center",y),children:[(0,c.jsx)("img",{className:l(S.avatar),src:h||P,alt:""}),(0,c.jsx)("h3",{className:l("w-full","text-ellipsis",S.nickname),children:E}),a]})},f=d},83862:function(se,D,e){var P=e(48305),i=e.n(P),o=e(75271),I=e(52676),S=function(l){var d=l.config,f=l.elementId,g=l.doAction,v=l.onReady,y=(0,o.useState)(!1),h=i()(y,2),E=h[0],a=h[1],r=(0,o.useRef)(!1),u=function(B){return g(B),{captchaResult:!0,bizResult:!0}},T=(0,o.useCallback)(function(){var m,B;(m=document.getElementById("aliyunCaptcha-mask"))===null||m===void 0||m.remove(),(B=document.getElementById("aliyunCaptcha-window-popup"))===null||B===void 0||B.remove()},[]),b=(0,o.useCallback)(function(m){m&&a(!0)},[]);return(0,o.useEffect)(function(){return r.current=!1,d!=null&&d.captchaSceneId&&d!==null&&d!==void 0&&d.captchaPrefix&&d!==null&&d!==void 0&&d.openCaptcha&&window.initAliyunCaptcha({SceneId:d.captchaSceneId,prefix:d.captchaPrefix,mode:"popup",element:"#captcha-element",button:"#".concat(f),captchaVerifyCallback:u,onBizResultCallback:function(){},getInstance:b,slideStyle:{width:360,height:40},language:"cn"}),T},[d,f]),(0,o.useEffect)(function(){return E&&(v?.(),console.log("\u9A8C\u8BC1\u7801\u521D\u59CB\u5316\u5B8C\u6210\uFF0ConReady\u5DF2\u8C03\u7528")),function(){}},[E]),(0,I.jsx)("div",{className:"captcha-a",children:(0,I.jsx)("div",{id:"captcha-element"})})};D.Z=(0,o.memo)(S)},34077:function(se,D,e){e.d(D,{Z:function(){return re}});var P=e(82092),i=e.n(P),o=e(22675),I=e(78987),S=e(57625),c=e(59261),l=e(13383),d=e(13278),f=e(72875),g=e(91268),v=e(27689),y=e(64799),h=e(92122),E=e(41249),a=e(38683),r=e(94581),u=e.n(r),T=e(32699),b=e(75271),m=e(87453),B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAERSURBVCiRjZFBccNADEWfdgrAYeAwcBmYQSwGMYKkCOwwKIOYgZZBITQQzCBBsOoh25lN7ab9pz3ozftaCTlmtkfkADTADbjg3qvqzEpC8a4zdEFkBGpEPs2sWQNfzOwIVKo6mhmIDKS0AV4ROSNiwHZpFNkhMpjZqKojEBEZgBb3N6A2s26tapvrDRajAR0wqWrM+83pvsJjVeCGyERKm2yatOv6YqYKIVzXjBH3o6qOuGsJmVkNVLi3S9D9BFQW4wdwKaBGVWfce6CzGM8lKN9D+fdqYAaqbOpVdco3PpdrSGGoPISdp7QNIVxxb4D9b7DwJLneEhZ5fwquwveTtX+CDzBEoMP99C/wh/mkquMXpnqTpDNkdZAAAAAASUVORK5CYII=",w=e(6619),V=e(53895),G={container:"container___bqr6a","elapsed-time":"elapsed-time___NLFZM","vertical-line":"vertical-line___viPQ6","more-action":"more-action___oDxDL",icon:"icon___hoIgl","copy-image":"copy-image___YsG7v"},t=e(52676),j=u().bind(G),N=function(_){var Q=_.messageInfo,xe=Q||{},z=xe.finalResult,s=(0,m.useModel)("conversationInfo"),ye=s.handleDebug,de=s.showType,Be=(0,m.useModel)("chat"),Ne=Be.pagePreviewData,je=Be.hidePagePreview,Fe=function(){Ne&&je(),ye(Q)},ae=(0,b.useMemo)(function(){return z?((z?.endTime-z?.startTime)/1e3).toFixed(1):0},[z]);return(0,t.jsx)("div",{className:j(G.container,"flex","content-between","items-center"),children:(0,t.jsxs)("div",{className:j("flex","items-center",G["elapsed-time"]),children:[(0,t.jsxs)(c.Z,{condition:!!z,children:[(0,t.jsx)("span",{children:"".concat(ae,"s")}),(0,t.jsxs)(c.Z,{condition:!!(z!=null&&z.totalTokens),children:[(0,t.jsx)("span",{className:j(G["vertical-line"])}),(0,t.jsx)("span",{children:"".concat(z?.totalTokens," Tokens")})]})]}),(de===V.wv.Version_History||de===V.wv.Show_Stand||de===V.wv.Hide)&&(0,t.jsx)(c.Z,{condition:!!z,children:(0,t.jsx)(w.Z,{className:G.icon,icon:(0,t.jsx)("img",{src:B,alt:""}),onClick:Fe,title:"\u8C03\u8BD5",type:h.Ai.White})})]})})},J=N,ve={"xagi-nav-style2":"xagi-nav-style2___mrh9D",text:"text___O7qUb","page-container":"page-container___XXv4P",container:"container___I82RP","elapsed-time":"elapsed-time___VSdJP","vertical-line":"vertical-line___RYAxp","more-action":"more-action___J8lvL",icon:"icon___V_fce","copy-image":"copy-image___Lbh8o"},q=u().bind(ve),n=function(_){var Q=_.messageInfo,xe=Q||{},z=xe.text,s=function(){E.ZP.success("\u590D\u5236\u6210\u529F")};return(0,t.jsx)("div",{className:q(ve.container,"flex","content-between","items-center"),children:(0,t.jsx)("div",{className:q("flex",ve["more-action"]),children:(0,t.jsx)(d.Z,{text:z||"",onCopy:s,children:"\u590D\u5236"})})})},F=n,p=e(48305),U=e.n(p),Ee=e(39373),ee={"xagi-nav-style2":"xagi-nav-style2___A0cfb",text:"text___mQKpe","page-container":"page-container___clFMO",container:"container___bMNUQ","more-action":"more-action___PPoj0"},be=u().bind(ee),De=function(_){var Q=_.messageInfo,xe=(0,b.useState)(""),z=U()(xe,2),s=z[0],ye=z[1],de=(0,b.useRef)(null),Be=function(){E.ZP.success("\u590D\u5236\u6210\u529F")},Ne=function(){ye((0,Ee.BK)(Q?.time))},je=function(){Ne(),de.current=setInterval(function(){Ne()},6e4)};return(0,b.useEffect)(function(){return Q!=null&&Q.time&&je(),function(){de.current!==null&&(clearInterval(de.current),de.current=null)}},[Q?.time]),(0,t.jsxs)("div",{className:be(ee.container,"flex","content-between","items-center"),children:[(0,t.jsx)("div",{className:be("flex",ee["more-action"]),children:(0,t.jsx)(d.Z,{text:Q?.text||"",onCopy:Be,children:"\u590D\u5236"})}),(0,t.jsx)("span",{children:s})]})},fe=De,le=e(30746),C={"xagi-nav-style2":"xagi-nav-style2___C6M16",text:"text___s3NJ6","page-container":"page-container___wYf4F",container:"container___zSEQO",avatar:"avatar___IfDvJ",author:"author___AmRDb","agent-title-bar":"agent-title-bar___Y8m62","attach-file-container":"attach-file-container___xvbrf",userContainer:"userContainer___sPaST","user-content":"user-content___M5R1a","chat-content":"chat-content___FWF0e","inner-container":"inner-container___rireg","think-content":"think-content___Qas0a","user-action-box":"user-action-box___T2sE4","copy-btn":"copy-btn___vb1lQ","copy-image":"copy-image___Hbxu3"},W=u().bind(C),O=(0,b.memo)(function(ue){var _,Q=ue.className,xe=ue.contentClassName,z=ue.roleInfo,s=ue.messageInfo,ye=ue.mode,de=ye===void 0?"chat":ye,Be=(0,m.useModel)("userInfo"),Ne=Be.userInfo,je=(0,v.K)(),Fe=je.data,ae=Fe.antdTheme==="dark",k=(0,g.Z)({answer:s?.text||"",thinking:s?.think||"",id:s?.id||""}),an=k.markdownRef,en=k.messageIdRef,Re=Ne||JSON.parse(localStorage.getItem(f.CD)),H=function(){var he=z.assistant,Ce=z.system;switch(s?.role){case y.hZ.USER:return{name:Re?.nickName||Re?.userName||"\u6E38\u5BA2",avatar:Re?.avatar||I};case y.hZ.ASSISTANT:return{name:he.name,avatar:he.avatar||o};case y.hZ.SYSTEM:return{name:Ce.name,avatar:Ce.avatar||o}}}(),x=function(){E.ZP.success("\u590D\u5236\u6210\u529F")},K=(0,b.useCallback)(function(he){return he.replace(/^\s+|\s+$/g,"")},[]),ne=(0,b.useMemo)(function(){return s?.role===y.hZ.USER},[s?.role]),ce=a.Z.useToken(),pe=ce.token;return(0,t.jsx)("div",{className:W(C.container,"flex",Q),children:(0,t.jsxs)("div",{className:W("flex-1","overflow-hide",i()({},C.userContainer,ne)),children:[!ne&&(0,t.jsxs)("div",{className:W(C["agent-title-bar"]),children:[(0,t.jsx)("img",{className:W(C.avatar),src:H?.avatar,alt:""}),(0,t.jsx)("div",{className:W(C.author),children:H?.name}),(0,t.jsx)(c.Z,{condition:!!(s!=null&&s.status),children:(0,t.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:12},children:(0,t.jsx)("div",{style:{flex:1},children:(0,t.jsx)(le.Z,{messageInfo:s})})})})]}),!!(s!=null&&(_=s.attachments)!==null&&_!==void 0&&_.length)&&(0,t.jsx)("div",{className:W(C["attach-file-container"]),children:(0,t.jsx)(S.Z,{files:s?.attachments})}),ne&&!!(s!=null&&s.text)&&(0,t.jsxs)("div",{className:W(C["user-content"]),children:[(0,t.jsx)("div",{className:W(C["chat-content"],C.user,"radius-6",xe,"ds-markdown",{"ds-markdown-dark":ae}),children:(0,t.jsx)("div",{className:"ds-markdown-answer",children:(0,t.jsx)("div",{style:{whiteSpace:"pre-wrap"},className:"ds-markdown-paragraph ds-typed-answer",children:K(s?.text)})})}),(0,t.jsx)("div",{className:W(C["user-action-box"],"flex","items-center"),children:(0,t.jsx)(d.Z,{text:s.text||"",onCopy:x,children:"\u590D\u5236"})})]}),(0,t.jsxs)(c.Z,{condition:s?.role!==y.hZ.USER,children:[(!!(s!=null&&s.think)||!!(s!=null&&s.text))&&(0,t.jsx)("div",{className:W(C["inner-container"],xe),children:(0,t.jsx)("div",{className:W(C["chat-content"],"radius-6","w-full",i()({},C.typing,s.status===h.ge.Incomplete||s.status===h.ge.Loading)),children:(0,t.jsx)(l.ZP,{id:"".concat(en.current),markdownRef:an},"".concat(en.current))})}),(0,t.jsx)(c.Z,{condition:s&&(s?.status===h.ge.Complete||!(s!=null&&s.status)),children:de==="chat"?(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12,padding:"0 ".concat(pe.paddingXS,"px")},children:[(0,t.jsx)("div",{style:{flex:1},children:(0,t.jsx)(F,{messageInfo:s})}),(0,t.jsx)(J,{messageInfo:s})]}):de==="home"?(0,t.jsx)(fe,{messageInfo:s}):null})]})]})})},function(ue,_){return(0,T.isEqual)(ue.messageInfo,_.messageInfo)}),re=O},59261:function(se,D,e){var P=e(75271),i=e(52676),o=function(S){var c=S.children,l=S.condition;return l?(0,i.jsx)(i.Fragment,{children:c}):null};D.Z=o},2349:function(se,D,e){e.d(D,{Z:function(){return m}});var P=e(48305),i=e.n(P),o=e(64799),I=e(26324),S=e(13143),c=e(28246),l=e(63619),d=e(51249),f=e(28190),g=e(9504),v=e(94581),y=e.n(v),h=e(75271),E=e(59261),a={"xagi-nav-style2":"xagi-nav-style2___y6MJu",text:"text___XcdJn","page-container":"page-container___aQb4E","variables-box":"variables-box___zOde3",header:"header____mIzl","down-icon":"down-icon___nE2JF","rotate-90":"rotate-90___n3jXV","conversation-container":"conversation-container___wfpdk","close-form":"close-form___uaNXu","form-box":"form-box___AloSZ",desc:"desc___XIVD5"},r=e(52676),u=y().bind(a),T=c.Z.SHOW_CHILD,b=function(w){var V=w.className,G=w.form,t=w.isFilled,j=t===void 0?!1:t,N=w.disabled,J=N===void 0?!1:N,ve=w.showSubmitButton,q=ve===void 0?!1:ve,n=w.variables,F=w.userFillVariables,p=w.onConfirm,U=(0,h.useState)(!0),Ee=i()(U,2),ee=Ee[0],be=Ee[1];(0,h.useEffect)(function(){F&&G.setFieldsValue(F)},[G,F]);var De=function(W){be(!1),p?.(W)},fe=ee?a["conversation-container"]:j?a["close-form"]:null,le=function(W){var O,re=W.inputType,ue=W.description,_=[o.oI.Select,o.oI.MultipleSelect].includes(re),Q;switch(re){case o.oI.Text:Q=(0,r.jsx)(l.Z,{variant:"filled",placeholder:ue||"\u8BF7\u8F93\u5165",allowClear:!0});break;case o.oI.Paragraph:case o.oI.AutoRecognition:Q=(0,r.jsx)(l.Z.TextArea,{variant:"filled",placeholder:ue||"\u8BF7\u8F93\u5165",allowClear:!0});break;case o.oI.Number:Q=(0,r.jsx)(d.Z,{variant:"filled",className:"w-full",placeholder:ue||"\u8BF7\u8F93\u5165"});break;case o.oI.Select:case o.oI.MultipleSelect:Q=(0,r.jsx)(c.Z,{variant:"filled",expandTrigger:"hover",multiple:re===o.oI.MultipleSelect,maxTagCount:"responsive",showCheckedStrategy:T,placeholder:ue||"\u8BF7\u9009\u62E9",options:((O=W.selectConfig)===null||O===void 0?void 0:O.options)||[],allowClear:!0});break;default:Q=(0,r.jsx)(l.Z,{placeholder:ue||"\u8BF7\u8F93\u5165",allowClear:!0})}return{isSelect:_,content:Q}};return n!=null&&n.length?(0,r.jsxs)("div",{className:u(a["variables-box"],"flex","flex-col",V),children:[(0,r.jsxs)("header",{className:u(a.header,"flex","items-center","content-between"),children:[(0,r.jsx)("span",{children:"\u5BF9\u8BDD\u8BBE\u7F6E"}),(0,r.jsx)(E.Z,{condition:j,children:(0,r.jsx)("span",{className:u(a.text,"cursor-pointer"),onClick:function(){return be(!ee)},children:(0,r.jsx)(S.Z,{className:u(ee?"":a["rotate-90"],a["down-icon"])})})})]}),(0,r.jsxs)("div",{className:u(fe),children:[(0,r.jsxs)(f.Z,{form:G,rootClassName:a["form-box"],disabled:J,preserve:!1,layout:"vertical",onFinish:De,requiredMark:I.N,autoComplete:"off",children:[n?.map(function(C){var W=C.name,O=C.displayName,re=C.require,ue=C.key,_=le(C),Q=_.isSelect,xe=_.content;return(0,r.jsx)(f.Z.Item,{name:W,label:O,rules:[{required:re,message:"\u8BF7".concat(Q?"\u9009\u62E9":"\u8F93\u5165").concat(O)}],children:xe},ue)}),(0,r.jsx)(E.Z,{condition:q,children:(0,r.jsx)(f.Z.Item,{children:(0,r.jsx)(g.ZP,{type:"primary",htmlType:"submit",block:!0,children:"\u5F00\u59CB\u5BF9\u8BDD"})})})]}),(0,r.jsx)(E.Z,{condition:J,children:(0,r.jsx)("p",{className:u(a.desc),children:"\u5BF9\u8BDD\u5F00\u59CB\u540E\uFF0C\u5BF9\u8BDD\u8BBE\u7F6E\u5C06\u65E0\u6CD5\u4FEE\u6539\u3002"})})]})]}):null},m=b},84283:function(se,D,e){e.d(D,{Z:function(){return E}});var P=e(31759),i=e.n(P),o=e(44953),I=e(24573),S=e(41249),c=e(94581),l=e.n(c),d=e(75271),f=e(87453),g={"xagi-nav-style2":"xagi-nav-style2___a6A0C",text:"text___ijFbn","page-container":"page-container___AmrXf",container:"container___eQEDc",box:"box___qQPTu",icon:"icon___aN05X"},v=e(52676),y=l().bind(g),h=function(r){var u=r.className,T=r.itemClassName,b=r.loading,m=r.chatSuggestList,B=r.onClick,w=(0,f.useModel)("chat"),V=w.showPagePreview,G=function(N){var J={},ve={};if(N.args&&Array.isArray(N.args)&&N.args.forEach(function(F){F.inputType==="Path"&&F.name&&(J[F.name]=F.bindValue),F.inputType==="Query"&&F.name&&F.bindValue&&(ve[F.name]=F.bindValue)}),(0,o.N4)(N.pageUrl,J)){var q=(0,o.Tx)(N?.pageUrl,J),n="".concat("").concat(q);V({name:N.info||"\u9875\u9762\u9884\u89C8",uri:n,params:ve,executeId:"event-".concat(Date.now())})}else S.ZP.error("\u9875\u9762\u8DEF\u5F84\u53C2\u6570\u914D\u7F6E\u9519\u8BEF")},t=function(N){if(N.type==="Question"){B(N.info);return}if(N.type==="Page"){if(!N.pageUrl){S.ZP.error("\u9875\u9762\u8DEF\u5F84\u914D\u7F6E\u9519\u8BEF");return}G(N);return}if(N.type==="Link"){if(!N.url){S.ZP.error("\u94FE\u63A5\u5730\u5740\u914D\u7F6E\u9519\u8BEF");return}window.open(N.url,"_blank");return}};return b?(0,v.jsx)("div",{className:y("flex",g["loading-box"]),children:(0,v.jsx)(I.Z,{})}):m?.length>0?(0,v.jsx)("div",{className:y(g.container,"flex","flex-col",u),children:m?.map(function(j,N){return j?(0,v.jsxs)("div",{onClick:function(){return typeof j=="string"?B(j):t(j)},className:y(g.box,"cursor-pointer","hover-box",T,"text-ellipsis-2"),children:[i()(j)==="object"&&j?.icon&&(0,v.jsx)("img",{className:y(g.icon),src:j?.icon}),typeof j=="string"?j:j.info]},N):null})}):null},E=h},57534:function(se,D,e){e.d(D,{Z:function(){return f}});var P=e(48305),i=e.n(P),o=e(75271),I=e(10894),S=e.n(I),c={container:"container___nA1pk",left:"left___yCQVL",right:"right___W8W7y",divider:"divider___TKhrM",dragging:"dragging___ur7Jj",disabled:"disabled___tspGS",dragOverlay:"dragOverlay___E5wS3"},l=e(52676),d=function(v){var y=v.left,h=v.right,E=v.minLeftWidth,a=E===void 0?350:E,r=v.minRightWidth,u=r===void 0?350:r,T=v.defaultLeftWidth,b=T===void 0?33:T,m=v.dividerColor,B=m===void 0?"#e0e0e0":m,w=v.dividerHoverColor,V=w===void 0?"#bbb":w,G=v.dividerDraggingColor,t=G===void 0?"#1890ff":G,j=v.style,N=v.className,J=(0,o.useRef)(null),ve=(0,o.useState)(0),q=i()(ve,2),n=q[0],F=q[1],p=(0,o.useState)(b),U=i()(p,2),Ee=U[0],ee=U[1],be=(0,o.useState)(!1),De=i()(be,2),fe=De[0],le=De[1],C=(0,o.useState)(!1),W=i()(C,2),O=W[0],re=W[1],ue=(0,o.useState)(!1),_=i()(ue,2),Q=_[0],xe=_[1],z=(0,o.useRef)(0),s=(0,o.useRef)(null);(0,o.useEffect)(function(){var H=setTimeout(function(){xe(!0)},300);return function(){return clearTimeout(H)}},[]),(0,o.useEffect)(function(){var H=function(){if(J.current){var ne=J.current.offsetWidth;F(ne),!O&&ne>0&&re(!0)}};H();var x=new ResizeObserver(H);return J.current&&x.observe(J.current),window.addEventListener("resize",H),function(){x.disconnect(),window.removeEventListener("resize",H)}},[O]),(0,o.useEffect)(function(){if(!(!n||!O)){var H=z.current;if(H!==n&&!fe){z.current=n;var x;s.current!==null?x=s.current:x=Ee/100*n;var K=n-x,ne=x<a,ce=K<u;if(ne&&ce){s.current=a;var pe=a/n*100;ee(pe);return}if(ne){s.current=a;var he=a/n*100;ee(he);return}if(ce){var Ce=n-u;s.current=Ce;var Ie=Ce/n*100;ee(Math.max(0,Ie));return}if(s.current!==null){var nn=s.current/n*100;ee(nn);return}var Qe=n-u;if(x>Qe){var $=Qe/n*100;ee($)}}}},[n,O,Ee,a,u,fe]);var ye=!!y,de=!!h,Be=ye&&de,Ne=ye&&!de?100:!ye&&de?0:Ee,je=!Be,Fe=(0,o.useCallback)(function(H,x){if(!(!J.current||n===0)){var K=x.x,ne=K/n*100,ce=a/n*100,pe=u/n*100,he=100-pe,Ce=Math.max(ce,Math.min(he,ne));ee(Ce),s.current!==null&&(s.current=null)}},[n,a,u]),ae=(0,o.useCallback)(function(H){if(!(!J.current||n===0)){var x=J.current.getBoundingClientRect(),K=H.clientX-x.left,ne=K/n*100,ce=a/n*100,pe=u/n*100,he=100-pe,Ce=Math.max(ce,Math.min(he,ne));ee(Ce),s.current!==null&&(s.current=null)}},[n,a,u]),k=(0,o.useCallback)(function(){le(!1),document.body.style.userSelect="",document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",k)},[ae]),an=(0,o.useCallback)(function(){le(!0),document.body.style.userSelect="none",document.addEventListener("mousemove",ae),document.addEventListener("mouseup",k)},[ae,k]),en=(0,o.useCallback)(function(H,x){if(le(!1),document.body.style.userSelect="",document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",k),J.current&&n>0){var K=x.x,ne=K/n*100,ce=a/n*100,pe=u/n*100,he=100-pe,Ce=Math.max(ce,Math.min(he,ne));ee(Ce),s.current=null}},[n,a,u,ae,k]),Re={x:Ee/100*n,y:0};return(0,l.jsxs)("div",{className:"".concat(c.container," ").concat(N||""),style:j,ref:J,children:[fe&&(0,l.jsx)("div",{className:c.dragOverlay}),ye&&(0,l.jsx)("div",{className:c.left,style:{width:"".concat(Ne,"%"),transition:O?"none":"width 0ms",overflow:fe?"hidden":"auto"},children:y}),Be&&n>0&&(0,l.jsx)(S(),{axis:"x",position:Re,onStart:an,onDrag:Fe,onStop:en,disabled:je,bounds:{left:a,right:n-u},children:(0,l.jsx)("div",{className:"".concat(c.divider," ").concat(je?c.disabled:""," ").concat(fe?c.dragging:""),style:{"--divider-color":B,"--divider-hover-color":V,"--divider-dragging-color":t,opacity:Q?1:0,transition:"opacity 0.4s ease-in-out"}})}),de&&(0,l.jsx)("div",{className:c.right,style:{width:"".concat(100-Ne,"%"),transition:O?"none":"width 0ms",overflow:fe?"hidden":"auto"},children:h})]})},f=d},13278:function(se,D,e){e.d(D,{Z:function(){return a}});var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(77750),c=e(41249),l=e(94581),d=e.n(l),f=e(75271),g=e(62597),v={"xagi-nav-style2":"xagi-nav-style2___AEqbT",text:"text___wIGUC","page-container":"page-container___g236H","copy-btn":"copy-btn___b5ReO",disabled:"disabled___Z1j2i","copy-image":"copy-image___mePrY"},y=e(52676),h=d().bind(v),E=function(u){var T=u.text,b=u.data,m=u.onCopy,B=u.className,w=u.style,V=u.disabled,G=V===void 0?!1:V,t=u.icon,j=u.children,N=j===void 0?"\u590D\u5236":j,J=u.tooltipText,ve=u.showSuccessMsg,q=ve===void 0?!0:ve,n=u.jsonSpace,F=n===void 0?2:n,p=u.successMessage,U=u.errorMessage,Ee=function(){var be=I()(i()().mark(function De(){var fe;return i()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(C.prev=0,fe="",!b){C.next=6;break}fe=JSON.stringify(b,null,F),C.next=12;break;case 6:if(!T){C.next=10;break}fe=T,C.next=12;break;case 10:return m&&m("",!1),C.abrupt("return");case 12:return C.next=14,(0,S.TE)(fe,function(W,O){m&&m(W,O||!1),O&&q&&p?c.ZP.success(p):!O&&U&&c.ZP.error(U)},!1);case 14:C.next=20;break;case 16:C.prev=16,C.t0=C.catch(0),console.error("\u590D\u5236\u5931\u8D25:",C.t0),m&&m("",!1);case 20:case"end":return C.stop()}},De,null,[[0,16]])}));return function(){return be.apply(this,arguments)}}(),ee=(0,y.jsx)(g.Z,{name:"icons-chat-copy",className:h(v["copy-image"]),style:{fontSize:12}});return G?(0,y.jsxs)("span",{className:h(v["copy-btn"],v.disabled,"flex","items-center","cursor-not-allowed",B),style:w,title:J,children:[t||ee,(0,y.jsx)("span",{children:N})]}):(0,y.jsxs)("span",{className:h(v["copy-btn"],"flex","items-center","cursor-pointer",B),style:w,title:J,onClick:Ee,children:[t||ee,(0,y.jsx)("span",{children:N})]})},a=E},15470:function(se,D,e){var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(77750),c=e(64771),l=e(68108),d=e(9504),f=e(75271),g=e(52676),v=function(h){var E=h.text,a=h.data,r=h.onCopy,u=h.buttonType,T=u===void 0?"text":u,b=h.buttonSize,m=b===void 0?"small":b,B=h.showMessage,w=B===void 0?!0:B,V=h.jsonSpace,G=V===void 0?2:V,t=h.tooltipTitle,j=t===void 0?"\u590D\u5236":t,N=h.style,J=h.className,ve=function(){var q=I()(i()().mark(function n(){var F;return i()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(U.prev=0,F="",!a){U.next=6;break}F=JSON.stringify(a,null,G),U.next=12;break;case 6:if(!E){U.next=10;break}F=E,U.next=12;break;case 10:return r&&r("",!1),U.abrupt("return");case 12:return U.next=14,(0,S.TE)(F,function(Ee,ee){r&&r(Ee,ee||!1)},w);case 14:U.next=20;break;case 16:U.prev=16,U.t0=U.catch(0),console.error("\u590D\u5236\u5931\u8D25:",U.t0),r&&r("",!1);case 20:case"end":return U.stop()}},n,null,[[0,16]])}));return function(){return q.apply(this,arguments)}}();return(0,g.jsx)(l.Z,{title:j,children:(0,g.jsx)(d.ZP,{type:T,size:m,icon:(0,g.jsx)(c.Z,{}),onClick:ve,style:N,className:J})})};D.Z=v},56394:function(se,D,e){e.d(D,{Z:function(){return g}});var P=e(26068),i=e.n(P),o=e(94581),I=e.n(o),S=e(75271),c={container:"container___MZd_M",content:"content___VCV8q",body:"body___G3kls"},l=e(52676),d=function(y){if(y!==void 0)return typeof y=="number"?"".concat(y,"px"):y},f=function(y){var h=y.className,E=y.style,a=y.height,r=y.maxHeight,u=y.bodyWidth,T=y.children,b=(0,S.useMemo)(function(){return i()(i()({},E),{},{height:a!==void 0?d(a):r===void 0?"100%":void 0,maxHeight:d(r)})},[E,a,r]);return(0,l.jsx)("div",{className:I()(c.container,h),style:b,children:(0,l.jsx)("div",{className:c.content,children:(0,l.jsx)("div",{className:c.body,style:{width:u},children:T})})})},g=f},702:function(se,D,e){e.d(D,{Z:function(){return J}});var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(48305),c=e.n(S),l=e(62597),d=e(61265),f=e(80241),g=e(44953),v=e(47383),y=e(61606),h=e(27806),E=e(81707),a=e(14258),r=e(68108),u=e(9504),T=e(56555),b=e(94581),m=e.n(b),B=e(75271),w=e(70797),V=e(87453),G={"xagi-nav-style2":"xagi-nav-style2___IxVei",text:"text___PJibU","page-container":"page-container___r4oL6","page-preview-iframe-container":"page-preview-iframe-container___i7gFb","page-preview-header":"page-preview-header___aUFBG","page-icon":"page-icon___fFlZK","close-btn":"close-btn___GIqOO","page-preview-body":"page-preview-body___op2OU","page-iframe-container":"page-iframe-container___iDJF0","page-iframe":"page-iframe___Fy7dV","loading-wrapper":"loading-wrapper___YqvYY"},t=e(52676),j=m().bind(G),N=function(q){var n=q.pagePreviewData,F=q.showLoading,p=F===void 0?!0:F,U=q.showHeader,Ee=U===void 0?!0:U,ee=q.showCloseButton,be=ee===void 0?!0:ee,De=q.onClose,fe=q.style,le=q.className,C=q.titleStyle,W=q.titleClassName,O=(0,B.useState)(0),re=c()(O,2),ue=re[0],_=re[1],Q=(0,B.useState)(!0),xe=c()(Q,2),z=xe[0],s=xe[1],ye=(0,B.useRef)(null),de=(0,B.useMemo)(function(){if(!n)return"";var x=n.uri,K=n.params;if(!x)return"";if(/^https?:\/\//.test(x)||(x="".concat("").concat(x)),!K||Object.keys(K).length===0)return x;var ne=new URLSearchParams(K).toString();return _(Date.now),"".concat(x,"?").concat(ne)},[n]),Be=function(){s(!1)},Ne=function(){s(!1)},je=(0,V.useModel)("chat"),Fe=je.previewPageTitle,ae=je.setPreviewPageTitle;if((0,B.useEffect)(function(){var x=ye.current;x&&(x.src=de,s(!0),x.onload=I()(i()().mark(function K(){var ne,ce,pe,he,Ce,Ie,nn,Qe;return i()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(ce=x.contentDocument||((ne=x.contentWindow)===null||ne===void 0?void 0:ne.document),ce){Me.next=3;break}return Me.abrupt("return");case 3:if(pe=new w.Z,Ce=new MutationObserver(function(){clearTimeout(he),he=setTimeout(I()(i()().mark(function ge(){var Ge,me,Ue,_e,Ye;return i()().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(me=((Ge=ce.querySelector("head > title"))===null||Ge===void 0?void 0:Ge.textContent)||"\u9875\u9762\u9884\u89C8",ae(me),Ue=ce.body.innerHTML,n!=null&&n.method){Ze.next=5;break}return Ze.abrupt("return");case 5:if(_e="",n.data_type==="html"&&(_e=Ue),n.data_type==="markdown"&&(_e=pe.turndown(Ue)),_e){Ze.next=10;break}return Ze.abrupt("return");case 10:if(n?.method!=="browser_navigate_page"){Ze.next=15;break}return Ye={requestId:n.request_id||"",html:_e},console.log("CHART2",Ye),Ze.next=15,(0,f.kR)(Ye);case 15:case"end":return Ze.stop()}},ge)})),500)}),Ce.observe(ce.body,{childList:!0,subtree:!0,characterData:!0}),n?.method!=="browser_navigate_page"){Me.next=13;break}if(nn=(Ie=ce.body.querySelector("body>h1"))===null||Ie===void 0?void 0:Ie.textContent,nn!=="Welcome to nginx!"){Me.next=13;break}return Qe={requestId:n?.request_id,html:"\u65E0\u6CD5\u8BFB\u53D6\u6570\u636E"},console.log("CHART1",Qe),Me.next=13,(0,f.kR)(Qe);case 13:return Me.abrupt("return",function(){Ce.disconnect(),clearTimeout(he)});case 14:case"end":return Me.stop()}},K)})))},[n]),!n)return null;function k(){var x;return(x=ye.current)===null||x===void 0?void 0:x.contentWindow}function an(){var x,K=k();K==null||(x=K.location)===null||x===void 0||x.reload()}function en(){var x,K=k();K==null||(x=K.history)===null||x===void 0||x.back()}function Re(){var x,K=k();K==null||(x=K.history)===null||x===void 0||x.forward()}function H(){var x=de;/^https?:\/\//.test(de)||(x="".concat(window.location.protocol,"//").concat(window.location.host).concat(de)),(0,g.TE)(x,function(){},!0)}return(0,t.jsxs)("div",{className:j(G["page-preview-iframe-container"],le),style:fe,children:[Ee&&(0,t.jsxs)("div",{className:j(G["page-preview-header"]),children:[(0,t.jsxs)("h3",{className:"text-ellipsis",children:[(0,t.jsx)(l.Z,{name:"icons-page",className:j(G["page-icon"])}),(0,t.jsx)("span",{className:W,style:C,children:Fe})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"10px",marginRight:"20px"},children:[(0,t.jsx)(r.Z,{title:"\u5237\u65B0",children:(0,t.jsx)(u.ZP,{onClick:an,icon:(0,t.jsx)(v.Z,{})})}),(0,t.jsx)(r.Z,{title:"\u540E\u9000",children:(0,t.jsx)(u.ZP,{onClick:en,icon:(0,t.jsx)(y.Z,{})})}),(0,t.jsx)(r.Z,{title:"\u524D\u8FDB",children:(0,t.jsx)(u.ZP,{onClick:Re,icon:(0,t.jsx)(h.Z,{})})}),(0,t.jsx)(r.Z,{title:"\u590D\u5236\u94FE\u63A5",children:(0,t.jsx)(u.ZP,{onClick:H,icon:(0,t.jsx)(E.Z,{})})})]}),be&&(0,t.jsx)(a.Z,{className:j(G["close-btn"],"cursor-pointer"),onClick:De})]}),(0,t.jsxs)("div",{className:j(G["page-preview-body"]),children:[p&&z&&(0,t.jsx)("div",{className:j(G["loading-wrapper"]),children:(0,t.jsx)(T.Z,{size:"large",tip:"\u9875\u9762\u52A0\u8F7D\u4E2D..."})}),(0,t.jsx)("iframe",{ref:ye,src:de,sandbox:d.lM,className:j(G["page-iframe"]),onLoad:Be,onError:Ne,style:{opacity:z?0:1,transition:"opacity 1.5s ease-in-out"}},ue)]})]})},J=N},6619:function(se,D,e){e.d(D,{Z:function(){return y}});var P=e(62597),i=e(92122),o=e(38683),I=e(68108),S=e(94581),c=e.n(S),l=e(75271),d={box:"box___qPDL3"},f=e(52676),g=c().bind(d),v=function(E){var a=E.className,r=E.type,u=r===void 0?i.Ai.Blank:r,T=E.icon,b=E.title,m=E.onClick,B=u===i.Ai.Blank?"tooltip-blank":"tooltip-white",w=o.Z.useToken(),V=w.token;return(0,f.jsx)(I.Z,{title:b,classNames:{root:B},children:(0,f.jsx)("span",{className:g("hover-box","flex","content-center","items-center","cursor-pointer",d.box,a),onClick:m,children:T||(0,f.jsx)(P.Z,{name:"icons-common-plus",style:{color:V.colorTextTertiary,fontSize:"15px"}})})})},y=v},11872:function(se,D,e){var P=e(64799),i=e(44953),o=e(41249),I=e(75271),S=e(87453),c=function(d){var f=d.containerRef,g=d.eventBindConfig,v=(0,S.useModel)("chat"),y=v.showPagePreview,h=(0,I.useRef)(new Set),E=(0,I.useCallback)(function(a,r){var u,T="".concat(a,"-").concat(r);if(!h.current.has(T)){h.current.add(T),setTimeout(function(){h.current.delete(T)},3e3),console.log("[Event Delegate] \u89E6\u53D1\u4E8B\u4EF6:",{eventType:a,data:r});var b={};try{b=JSON.parse(r)}catch(t){console.error("[Event Delegate] \u6570\u636E\u89E3\u6790\u5931\u8D25:",t);return}var m=g==null||(u=g.eventConfigs)===null||u===void 0?void 0:u.find(function(t){return t.identification===a});if(!m){console.warn("[Event Delegate] \u672A\u627E\u5230\u4E8B\u4EF6\u914D\u7F6E: ".concat(a));return}switch(console.log("[Event Delegate] \u627E\u5230\u4E8B\u4EF6\u914D\u7F6E:",m),m.type){case P.ZE.Page:{if(!m.pageUrl){o.ZP.error("\u9875\u9762\u8DEF\u5F84\u914D\u7F6E\u9519\u8BEF");return}var B={},w={};if(m.args&&Array.isArray(m.args)&&m.args.forEach(function(t){if(t.inputType==="Path"&&t.name){var j;B[t.name]=(j=b[t.name])!==null&&j!==void 0?j:t.bindValue}if(t.inputType==="Query"&&t.name){var N;w[t.name]=(N=b[t.name])!==null&&N!==void 0?N:t.bindValue}}),(0,i.N4)(m.pageUrl,B)){var V=(0,i.Tx)(m.pageUrl,B),G=m.basePath?"".concat(m.basePath).concat(V):"".concat("").concat(V);console.log("[Event Delegate] \u6253\u5F00\u9875\u9762:",{uri:G,params:w,name:m.name}),y({name:m.pageName||"\u9875\u9762",uri:G,params:w,executeId:"event-".concat(Date.now())})}else o.ZP.error("\u9875\u9762\u8DEF\u5F84\u53C2\u6570\u914D\u7F6E\u9519\u8BEF");break}case P.ZE.Link:{if(!m.url){o.ZP.error("\u94FE\u63A5\u5730\u5740\u914D\u7F6E\u9519\u8BEF");return}console.log("[Event Delegate] \u6253\u5F00\u5916\u94FE:",m.url),window.open(m.url,"_blank");break}default:console.warn("[Event Delegate] \u672A\u77E5\u7684\u4E8B\u4EF6\u7C7B\u578B: ".concat(m.type))}}},[g,y]);return(0,I.useEffect)(function(){var a=f.current;if(a){var r=function(T){var b=T.target,m=b.closest(".event");if(m){T.preventDefault(),T.stopPropagation();var B=m.getAttribute("event-type"),w=m.getAttribute("data");B&&w?E(B,w):console.warn("[Event Delegate] \u7F3A\u5C11\u5FC5\u8981\u7684\u5C5E\u6027:",{eventType:B,dataStr:w})}};return a.addEventListener("click",r),console.log("[Event Delegate] \u4E8B\u4EF6\u4EE3\u7406\u5DF2\u521D\u59CB\u5316"),function(){a.removeEventListener("click",r),console.log("[Event Delegate] \u4E8B\u4EF6\u4EE3\u7406\u5DF2\u6E05\u7406")}}},[f,E]),{handleEventClick:E}};D.Z=c},27689:function(se,D,e){e.d(D,{K:function(){return v}});var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(48305),c=e.n(S),l=e(92068),d=e(14334),f=e(75271),g=e(87453),v=function(){var h=(0,f.useState)(l.unifiedThemeService.getCurrentData()),E=c()(h,2),a=E[0],r=E[1],u=(0,f.useState)(!1),T=c()(u,2),b=T[0],m=T[1],B=(0,g.useModel)("tenantConfigInfo"),w=B.tenantConfigInfo;(0,f.useEffect)(function(){var le=function(W){r(W),m(!1)};return l.unifiedThemeService.addListener(le),function(){l.unifiedThemeService.removeListener(le)}},[]);var V=(0,f.useCallback)(function(le){return I()(i()().mark(function C(){var W=arguments;return i()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return m(!0),re.prev=1,re.next=4,le.apply(void 0,W);case 4:re.next=11;break;case 6:throw re.prev=6,re.t0=re.catch(1),console.error("\u4E3B\u9898\u66F4\u65B0\u5931\u8D25:",re.t0),m(!1),re.t0;case 11:case"end":return re.stop()}},C,null,[[1,6]])}))},[]),G=V(l.unifiedThemeService.updatePrimaryColor.bind(l.unifiedThemeService)),t=V(l.unifiedThemeService.updateAntdTheme.bind(l.unifiedThemeService)),j=V(l.unifiedThemeService.updateNavigationStyle.bind(l.unifiedThemeService)),N=V(l.unifiedThemeService.updateLayoutStyle.bind(l.unifiedThemeService)),J=V(l.unifiedThemeService.updateBackground.bind(l.unifiedThemeService)),ve=V(l.unifiedThemeService.updateLanguage.bind(l.unifiedThemeService)),q=(0,f.useCallback)(I()(i()().mark(function le(){var C;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return C=a.antdTheme==="light"?"dark":"light",O.next=3,t(C);case 3:case"end":return O.stop()}},le)})),[a.antdTheme,t]),n=(0,f.useCallback)(I()(i()().mark(function le(){var C;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return C=a.layoutStyle===d.B.DARK?d.B.LIGHT:d.B.DARK,O.next=3,N(C);case 3:case"end":return O.stop()}},le)})),[a.layoutStyle,N]),F=(0,f.useCallback)(I()(i()().mark(function le(){var C;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return C=a.navigationStyle===d.F.STYLE1?d.F.STYLE2:d.F.STYLE1,O.next=3,j(C);case 3:case"end":return O.stop()}},le)})),[a.navigationStyle,j]),p=(0,f.useCallback)(I()(i()().mark(function le(){var C;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return C=a.language==="zh-CN"?"en-US":"zh-CN",O.next=3,ve(C);case 3:case"end":return O.stop()}},le)})),[a.language,ve]),U=V(l.unifiedThemeService.resetToDefault.bind(l.unifiedThemeService)),Ee=a.antdTheme==="dark",ee=a.layoutStyle===d.B.DARK,be=a.navigationStyle===d.F.STYLE2,De=a.language==="zh-CN",fe=(0,f.useMemo)(function(){return l.unifiedThemeService.getExtraColors()},[w]);return{data:a,isLoading:b,updatePrimaryColor:G,updateAntdTheme:t,updateNavigationStyle:j,updateLayoutStyle:N,updateBackground:J,updateLanguage:ve,toggleAntdTheme:q,toggleNavigationTheme:n,toggleNavigationStyle:F,toggleLanguage:p,resetToDefault:U,primaryColor:a.primaryColor,antdTheme:a.antdTheme,navigationStyle:a.navigationStyle,layoutStyle:a.layoutStyle,backgroundId:a.backgroundId,language:a.language,isDarkMode:Ee,isNavigationDark:ee,isNavigationExpanded:be,isChineseLanguage:De,extraColors:fe}};D.Z=v},33446:function(se,D,e){e.r(D),e.d(D,{default:function(){return en}});var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(26068),c=e.n(S),l=e(15558),d=e.n(l),f=e(48305),g=e.n(f),v=e(65857),y=e(83862),h=e(49974),E=e(82092),a=e.n(E),r=e(94003),u=e(59261),T=e(59934),b=e(61265),m=e(72875),B=e(92122),w=e(77635),V=e(16621),G=e(81716),t=e(25617),j=e(41249),N=e(7980),J=e(63619),ve=e(94581),q=e.n(ve),n=e(75271),F={"chat-container":"chat-container____jWhD",clear:"clear___k6xWS",disabled:"disabled___HTGmo",input:"input___D7zPP",box:"box___fRZAD","plus-box":"plus-box___h8kAc","send-box":"send-box___AQaWk","chat-action":"chat-action___dDw4S","to-bottom":"to-bottom____lbyZ",visible:"visible___vqNgs"},p=e(52676),U=q().bind(F),Ee=function(H){var x,K=H.className,ne=H.wholeDisabled,ce=ne===void 0?!1:ne,pe=H.clearDisabled,he=pe===void 0?!1:pe,Ce=H.onEnter,Ie=H.onClear,nn=H.visible,Qe=H.onScrollBottom,$=(0,n.useState)([]),Me=g()($,2),ge=Me[0],Ge=Me[1],me=(0,n.useState)(""),Ue=g()(me,2),_e=Ue[0],Ye=Ue[1],sn=(x=localStorage.getItem(m.LA))!==null&&x!==void 0?x:"",Ze=(0,n.useMemo)(function(){return!_e&&!(ge!=null&&ge.length)},[_e,ge]),rn=function(){Ze||(_e||ge?.length>0)&&(Ce(_e,ge),Ge([]),Ye(""))},Xe=function(oe){oe.preventDefault();var We=oe.target,Ke=We.value;if(oe.nativeEvent.keyCode===13&&(oe.nativeEvent.shiftKey||oe.nativeEvent.ctrlKey)){var He="".concat(Ke,`
`);Ye(He)}else oe.nativeEvent.keyCode===13&&(Ke.trim()||ge!=null&&ge.length)&&(Ce(Ke,ge),Ge([]),Ye(""))},we=function(oe){if(oe.file.status!=="uploading"&&oe.file.status==="done"){var We,Ke;if(((We=oe.file.response)===null||We===void 0?void 0:We.code)!==T.Gh){var He;j.ZP.warning((He=oe.file.response)===null||He===void 0?void 0:He.message);return}var Ae=(Ke=oe.file.response)===null||Ke===void 0?void 0:Ke.data,vn=d()(ge);vn.push({key:Ae?.key||"",name:Ae?.fileName||oe.file.name||"",type:Ae?.mimeType||oe.file.type||"",size:Ae?.size||oe.file.size||0,url:Ae?.url||oe.file.url||"",uid:oe.file.uid,status:oe.file.status||B.KM.done,percent:oe.file.percent,response:oe.file.response}),Ge(vn)}},Je=function(oe){var We=d()(ge);We.splice(We.findIndex(function(Ke){return Ke.uid===oe}),1),Ge(We)},ke=function(){he||ce||Ie?.()};return(0,p.jsxs)("div",{className:U("relative","w-full",K),children:[(0,p.jsxs)("div",{className:U(F["chat-container"],"flex","flex-col"),children:[(0,p.jsx)(u.Z,{condition:ge?.length,children:(0,p.jsx)(r.Z,{files:ge,onDel:Je})}),(0,p.jsxs)("div",{className:U("flex","items-center"),children:[(0,p.jsx)("span",{className:U(F.clear,"flex","items-center","content-center","hover-box","cursor-pointer",a()({},F.disabled,he||ce)),onClick:ke,children:(0,p.jsx)(w.Z,{})}),(0,p.jsx)(N.Z,{action:b.GI,onChange:we,headers:{Authorization:sn?"Bearer ".concat(sn):""},data:{type:"tmp"},showUploadList:!1,children:(0,p.jsx)("span",{className:U("flex","items-center","content-center","cursor-pointer",F.box,F["plus-box"]),children:(0,p.jsx)(V.Z,{})})}),(0,p.jsx)(J.Z,{className:U("flex-1"),value:_e,onChange:function(oe){return Ye(oe.target.value)},rootClassName:U(F.input,"flex-1"),onPressEnter:Xe,placeholder:"\u76F4\u63A5\u8F93\u5165\u6307\u4EE4\uFF1B\u53EF\u901A\u8FC7\u56DE\u8F66\u6362\u884C"}),(0,p.jsx)("span",{onClick:rn,className:U("flex","items-center","content-center","cursor-pointer",F.box,F["send-box"],a()({},F.disabled,Ze)),children:(0,p.jsx)(G.Z,{})})]})]}),(0,p.jsx)("div",{className:U(F["chat-action"]),children:(0,p.jsx)("div",{className:U(F["to-bottom"],a()({},F.visible,nn)),onClick:Qe,children:(0,p.jsx)(t.Z,{})})})]})},ee=Ee,be=e(34077),De=e(2349),fe=e(84283),le=e(57534),C=e(702),W=e(11872),O=e(96637),re=e(80241),ue=e(94652),_=e(64799),Q=e(39373),xe=e(95468),z=e(24573),s=e(29333),ye=e(28190),de=e(16483),Be=e.n(de),Ne=e(32699),je=e(87453),Fe=e(92448),ae={"xagi-nav-style2":"xagi-nav-style2___Of8Wu",text:"text___W4rWJ","page-container":"page-container___DKwI3","title-box":"title-box___h3yyc",title:"title___UZcm9","main-content":"main-content___MqMv1","chat-wrapper":"chat-wrapper___vWLVs",loading:"loading___GDPOp","chat-input-container":"chat-input-container____KoL0","welcome-text":"welcome-text___OHAOn","phone-chat-item":"phone-chat-item___h4FQ4","input-container":"input-container___rucsf","phone-container":"phone-container___JPb_R","captcha-button":"captcha-button___bPGZD"},k=q().bind(ae),an=function(){var H,x,K,ne=(0,je.useModel)("conversationInfo"),ce=ne.checkConversationActive,pe=ne.disabledConversationActive,he=ne.setCurrentConversationRequestId,Ce=(0,je.useParams)(),Ie=Ce.chatKey,nn=(0,n.useState)(),Qe=g()(nn,2),$=Qe[0],Me=Qe[1],ge=(0,n.useState)([]),Ge=g()(ge,2),me=Ge[0],Ue=Ge[1],_e=(0,n.useRef)([]),Ye=(0,n.useState)([]),sn=g()(Ye,2),Ze=sn[0],rn=sn[1],Xe=(0,n.useRef)(null),we=(0,n.useRef)(null),Je=(0,n.useRef)(null),ke=(0,n.useRef)(),$e=(0,n.useRef)(""),oe=(0,n.useState)(!1),We=g()(oe,2),Ke=We[0],He=We[1],Ae=(0,n.useState)(!1),vn=g()(Ae,2),kn=vn[0],$n=vn[1],ln=(0,n.useRef)(!0),qn=(0,n.useState)(!1),Mn=g()(qn,2),Zn=Mn[0],mn=Mn[1],et=(0,n.useState)([]),On=g()(et,2),un=On[0],nt=On[1],tt=(0,n.useState)([]),Ln=g()(tt,2),xn=Ln[0],Nn=Ln[1],at=(0,n.useState)([]),Fn=g()(at,2),pn=Fn[0],rt=Fn[1],ot=(0,n.useState)(null),Un=g()(ot,2),fn=Un[0],it=Un[1],st=(0,n.useState)([]),_n=g()(st,2),hn=_n[0],lt=_n[1],In=(0,n.useRef)(!1),wn=(0,n.useRef)(""),An="aliyun-captcha-id",Wn=(0,je.useModel)("tenantConfigInfo"),Ve=Wn.tenantConfigInfo,ut=Wn.runTenantConfig,Sn=(0,je.useModel)("chat"),ct=Sn.handleChatProcessingList,Qn=Sn.pagePreviewData,dt=Sn.hidePagePreview,Tn=(0,n.useRef)(),vt=ye.Z.useForm(),mt=g()(vt,1),cn=mt[0],ft=(0,n.useState)(null),Gn=g()(ft,2),gn=Gn[0],Cn=Gn[1],En=ye.Z.useWatch([],{form:cn,preserve:!0});(0,n.useEffect)(function(){En&&Object.keys(En).length===0||cn.validateFields({validateOnly:!0}).then(function(){return Cn(En)}).catch(function(){return Cn(null)})},[cn,En]),(0,n.useEffect)(function(){fn&&Cn(fn)},[fn]);var Kn=(0,s.Z)(re.ry,{manual:!0}),ht=Kn.run,gt=Kn.loading,Pn=(0,n.useMemo)(function(){if(hn?.length>0){if(!gn)return!0;var M=(0,Q.VL)(hn,Object.keys(gn));return!M}return!1},[hn,gn]),jn=function(){ln.current&&(Je.current=setTimeout(function(){var A,Z;(A=Xe.current)===null||A===void 0||A.scrollTo({top:(Z=Xe.current)===null||Z===void 0?void 0:Z.scrollHeight,behavior:"smooth"})},400))},pt=(0,s.Z)(ue.mY,{manual:!0,debounceWait:300,onSuccess:function(A){var Z,L,X,ie,te,Oe;He(!1);var R=A.data;if(Me(R),$n(!0),document.title="\u548C".concat(R==null||(Z=R.agent)===null||Z===void 0?void 0:Z.name,"\u5F00\u59CB\u4F1A\u8BDD")||0,R!=null&&(L=R.agent)!==null&&L!==void 0&&L.icon){var Y,Se=document.createElement("link");Se.rel="shortcut icon",Se.href=R==null||(Y=R.agent)===null||Y===void 0?void 0:Y.icon,Se.type="image/x-icon";var tn=document.head||document.getElementsByTagName("head")[0];tn.appendChild(Se)}var Te=R?.messageList||[];nt((R==null||(X=R.agent)===null||X===void 0?void 0:X.manualComponents)||[]);var Pe=(R==null||(ie=R.agent)===null||ie===void 0?void 0:ie.variables)||[];rt(Pe),it(R?.variables||null);var on=Pe==null||(te=Pe.filter(function(dn){return!dn.systemVariable&&dn.require}))===null||te===void 0?void 0:te.map(function(dn){return dn.name});lt(on||[]);var ze=Te?.length||0;if(ze){var Le;Ue(function(){return ce(Te),Te});var qe=Te[ze-1];if(qe.type===_.Zy.QUESTION&&(Le=qe.ext)!==null&&Le!==void 0&&Le.length){var Dt=qe.ext.map(function(dn){return dn.content})||[];rn(Dt)}else if(ze===1){var Dn,Bt=(R==null||(Dn=R.agent)===null||Dn===void 0?void 0:Dn.guidQuestionDtos)||[];rn(Bt)}}else{var Bn,Rt=(R==null||(Bn=R.agent)===null||Bn===void 0?void 0:Bn.guidQuestionDtos)||[];rn(Rt)}if(!(Te!=null&&Te.length)&&R!==null&&R!==void 0&&(Oe=R.agent)!==null&&Oe!==void 0&&Oe.openingChatMsg){var Rn,Jn={role:_.hZ.ASSISTANT,type:_.Zy.CHAT,text:R==null||(Rn=R.agent)===null||Rn===void 0?void 0:Rn.openingChatMsg,time:Be()().toString(),id:(0,Fe.Z)(),messageType:_.DK.ASSISTANT};Ue(function(){return ce([Jn]),[Jn]})}jn()},onError:function(){He(!1),pe()}}),Hn=pt.run,Ct=(0,s.Z)(ue.vU,{manual:!0,debounceWait:300}),Et=Ct.runAsync,yt=function(A,Z){var L=A.data,X=A.eventType;he(A.requestId),we.current=setTimeout(function(){Ue(function(ie){if(!(ie!=null&&ie.length))return we.current&&(clearTimeout(we.current),we.current=null),pe(),[];var te=d()(ie),Oe=te.findIndex(function(qe){return qe.id===Z}),R=1,Y=te.find(function(qe){return qe.id===Z});if(!Y)return ie;var Se=null;if(X===_.Xi.PROCESSING){var tn=L.result||{};L.executeId=tn.executeId,Se=c()(c()({},Y),{},{text:(0,O.tz)(Y.text||"",L),status:B.ge.Loading,processingList:[].concat(d()(Y?.processingList||[]),[L])}),ct([].concat(d()(Y?.processingList||[]),[c()({},L)]))}if(X===_.Xi.MESSAGE){var Te=L.text,Pe=L.type,on=L.ext,ze=L.id,Le=L.finished;Pe===_.Zy.THINK?Se=c()(c()({},Y),{},{think:"".concat(Y.think).concat(Te),status:B.ge.Incomplete}):Pe===_.Zy.QUESTION?(Se=c()(c()({},Y),{},{text:"".concat(Y.text).concat(Te),status:Le?null:B.ge.Incomplete}),on!=null&&on.length&&rn(on.map(function(qe){return qe.content})||[])):$e.current&&$e.current!==ze&&Le?(Se=c()(c()({},Y),{},{id:ze,text:"".concat(Y.text).concat(Te),status:null}),R=0):($e.current=ze,Se=c()(c()({},Y),{},{text:"".concat(Y.text).concat(Te),status:B.ge.Incomplete}))}return X===_.Xi.FINAL_RESULT&&(Se=c()(c()({},Y),{},{status:B.ge.Complete,finalResult:L,id:A.requestId})),X===_.Xi.ERROR&&(Se=c()(c()({},Y),{},{status:B.ge.Error})),Se&&te.splice(Oe,R,Se),ce(te),te})},200)},xt=function(){var M=I()(i()().mark(function A(Z,L){return i()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,(0,xe.W)({url:b.B_,method:"POST",headers:{Accept:"application/json, text/plain, */* "},body:Z,onMessage:function(Oe){yt(Oe,L),jn()},onError:function(){var Oe;j.ZP.error("\u7F51\u7EDC\u8D85\u65F6\u6216\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5");var R=((Oe=_e.current)===null||Oe===void 0?void 0:Oe.map(function(Y){return Y?.id===L?c()(c()({},Y),{},{status:B.ge.Error}):Y}))||[];Ue(function(){return pe(),R})},onClose:function(){pe()}});case 2:ke.current=ie.sent,typeof ke.current=="function"&&ke.current();case 4:case"end":return ie.stop()}},A)}));return function(Z,L){return M.apply(this,arguments)}}(),bn=function(){rn([]),we.current&&(clearTimeout(we.current),we.current=null),Je.current&&(clearTimeout(Je.current),Je.current=null),ke.current&&(typeof ke.current=="function"&&ke.current(),ke.current=null)},It=function(){bn(),Ue([]),Me(null),ln.current=!0,mn(!1),we.current&&(clearTimeout(we.current),we.current=null)},At=function(){var M=I()(i()().mark(function A(Z){var L,X,ie,te,Oe,R,Y,Se,tn,Te,Pe=arguments;return i()().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:L=Pe.length>1&&Pe[1]!==void 0?Pe[1]:[],X=Pe.length>2&&Pe[2]!==void 0?Pe[2]:[],ie=Pe.length>3&&Pe[3]!==void 0?Pe[3]:null,bn(),te=L?.map(function(Le){return{fileKey:Le.key||"",fileUrl:Le.url||"",fileName:Le.name||"",mimeType:Le.type||""}})||[],Oe={role:_.hZ.USER,type:_.Zy.CHAT,text:Z,time:Be()().toString(),attachments:te,id:(0,Fe.Z)(),messageType:_.DK.USER},R=(0,Fe.Z)(),Y={role:_.hZ.ASSISTANT,type:_.Zy.CHAT,text:"",think:"",time:Be()().toString(),id:R,messageType:_.DK.ASSISTANT,status:B.ge.Loading},Se=me?.map(function(Le){return Le.status===B.ge.Incomplete&&(Le.status=B.ge.Complete),Le})||[],tn=[].concat(d()(Se),[Oe,Y]),Ue(function(){return ce(tn),tn}),_e.current=tn,ln.current=!0,mn(!1),jn(),Te={chatKey:Ie,conversationUid:Tn.current||"",message:Z,attachments:te,variableParams:ie,selectedComponents:X},xt(Te,R);case 17:case"end":return ze.stop()}},A)}));return function(Z){return M.apply(this,arguments)}}(),St=(0,n.useMemo)(function(){var M=$?.agent;return{assistant:{name:M?.name,avatar:M?.icon},system:{name:M?.name,avatar:M?.icon}}},[$]),Vn=function(){var M=I()(i()().mark(function A(Z){var L,X,ie,te;return i()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,Et({chatKey:Ie,captchaVerifyParam:Z});case 2:L=R.sent,X=L.data,ie=L.success,te=L.message,ie?(Tn.current=X.uid,sessionStorage.setItem(b.bh,X.uid),Hn({chatKey:Ie,conversationUid:X.uid})):(He(!1),j.ZP.warning(te));case 7:case"end":return R.stop()}},A)}));return function(Z){return M.apply(this,arguments)}}(),zn=(0,n.useCallback)(I()(i()().mark(function M(){return i()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:bn(),Ue([]),He(!0),In.current=!1,Cn(null),cn.resetFields(),Vn(wn.current);case 7:case"end":return Z.stop()}},M)})),[Ie]),Yn=function(){var M=I()(i()().mark(function A(){var Z,L,X=arguments;return i()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(Z=X.length>0&&X[0]!==void 0?X[0]:"",!Ie){te.next=10;break}if(wn.current=Z,He(!0),L=sessionStorage.getItem(b.bh),!L){te.next=9;break}return Hn({chatKey:Ie,conversationUid:L}),Tn.current=L,te.abrupt("return");case 9:Vn(Z);case 10:case"end":return te.stop()}},A)}));return function(){return M.apply(this,arguments)}}();(0,n.useEffect)(function(){if(Ve){var M=Ve.captchaSceneId,A=Ve.captchaPrefix,Z=Ve.openCaptcha,L=!!(M&&A&&Z);L||Yn()}},[Ve]),(0,n.useEffect)(function(){var M=Xe.current;if(M){var A=function(){var L=M.scrollTop,X=M.scrollHeight,ie=M.clientHeight;L+ie<X?(ln.current=!1,Je.current&&(clearTimeout(Je.current),Je.current=null),mn(!0)):(ln.current=!0,mn(!1))};return M.addEventListener("wheel",(0,Ne.throttle)(A,300)),function(){M.removeEventListener("wheel",(0,Ne.throttle)(A,300)),It()}}},[]),(0,n.useEffect)(function(){return ut(),(0,Q.t7)(),function(){pe()}},[]),(0,n.useEffect)(function(){if(un!=null&&un.length){var M=un.filter(function(A){return A.defaultSelected===_.Km.Yes}).map(function(A){return{id:A.id,type:A.type}});Nn(M||[])}},[un]);var Tt=function(A){var Z=d()(xn);if(Z.some(function(X){return X.id===A.id})){var L=Z.findIndex(function(X){return X.id===A.id});Z.splice(L,1)}else Z.push({id:A.id,type:A.type});Nn(Z)},yn=function(A){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(Pn){cn.validateFields(),j.ZP.warning("\u8BF7\u586B\u5199\u5FC5\u586B\u53C2\u6570");return}In.current=!0,At(A,Z,xn,gn)},Xn=function(){var A,Z;ln.current=!0,(A=Xe.current)===null||A===void 0||A.scrollTo({top:(Z=Xe.current)===null||Z===void 0?void 0:Z.scrollHeight,behavior:"smooth"}),mn(!1)},Pt=function(){if(Ve){var A=Ve.siteUrl;window.open(A,"_blank")}},jt=function(){var A;(A=document.getElementById(An))===null||A===void 0||A.click()};(0,W.Z)({containerRef:Xe,eventBindConfig:$==null||(H=$.agent)===null||H===void 0?void 0:H.eventBindConfig});var bt=function(){var A,Z,L,X;return(0,p.jsx)("div",{className:k("flex","h-full"),children:(0,p.jsxs)("div",{className:k(ae.container,"flex","flex-col"),style:{flex:1,minWidth:0},children:[(0,p.jsx)(u.Z,{condition:me?.length>0,children:(0,p.jsx)("div",{className:k(ae["title-box"]),children:(0,p.jsx)("h3",{className:k(ae.title,"text-ellipsis","clip-path-animation"),children:$!=null&&(A=$.agent)!==null&&A!==void 0&&A.name?"\u548C".concat($==null||(Z=$.agent)===null||Z===void 0?void 0:Z.name,"\u5F00\u59CB\u4F1A\u8BDD"):"\u5F00\u59CB\u4F1A\u8BDD"})})}),(0,p.jsx)("div",{className:k("w-full","flex-1","flex","flex-col","overflow-y",ae["main-content"]),ref:Xe,children:(0,p.jsx)("div",{className:k(ae["chat-wrapper"],"flex-1","w-full"),children:Ke?(0,p.jsx)("div",{className:k("flex","items-center","content-center","h-full"),children:(0,p.jsx)(z.Z,{className:k(ae.loading)})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(De.Z,{className:"mb-16",form:cn,variables:pn,userFillVariables:fn,isFilled:!!gn,disabled:!!fn||In.current}),me?.length>0?(0,p.jsxs)(p.Fragment,{children:[me?.map(function(ie,te){return(0,p.jsx)(be.Z,{className:k(ae["phone-chat-item"]),messageInfo:ie,roleInfo:St,mode:"home"},te)}),(0,p.jsx)(fe.Z,{chatSuggestList:Ze,onClick:yn})]}):kn&&(0,p.jsx)(v.Z,{className:k({"h-full":!(pn!=null&&pn.length)}),icon:$==null||(L=$.agent)===null||L===void 0?void 0:L.icon,name:($==null||(X=$.agent)===null||X===void 0?void 0:X.name)||"",extra:(0,p.jsx)(fe.Z,{className:"mt-16",itemClassName:k(ae["suggest-item"]),chatSuggestList:Ze,onClick:yn})})]})})}),(0,p.jsxs)("div",{className:k(ae["chat-input-container"]),children:[(0,p.jsx)(h.Z,{className:k(ae["input-container"]),clearDisabled:!(me!=null&&me.length),onEnter:yn,onClear:zn,visible:Zn,wholeDisabled:Pn,manualComponents:un,selectedComponentList:xn,onSelectComponent:Tt,onScrollBottom:Xn,showAnnouncement:!0,onTempChatStop:ht,loadingStopTempConversation:gt},"chat-temp-".concat(Ie)),(0,p.jsx)(ee,{className:k(ae["phone-container"]),clearDisabled:!(me!=null&&me.length),onClear:zn,wholeDisabled:Pn,onEnter:yn,visible:Zn,onScrollBottom:Xn}),(0,p.jsx)("p",{className:k(ae["welcome-text"],"text-ellipsis","cursor-pointer","clip-path-animation"),onClick:Pt,children:"\u6B22\u8FCE\u4F7F\u7528".concat(Ve?.siteName,"\uFF0C\u5FEB\u901F\u642D\u5EFA\u4F60\u7684\u4E2A\u6027\u5316\u667A\u80FD\u4F53")})]}),(0,p.jsx)("button",{id:An,type:"button",className:k(ae["captcha-button"])}),(0,p.jsx)(y.Z,{config:Ve,doAction:Yn,elementId:An,onReady:jt})]})})};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(le.Z,{left:$!=null&&(x=$.agent)!==null&&x!==void 0&&x.hideChatArea?null:bt(),right:Qn&&(0,p.jsx)(C.Z,{pagePreviewData:Qn,showHeader:!0,onClose:dt,showCloseButton:!($!=null&&(K=$.agent)!==null&&K!==void 0&&K.hideChatArea)})})})},en=an},94652:function(se,D,e){e.d(D,{Ai:function(){return o},is:function(){return d},kt:function(){return I},mY:function(){return S},vU:function(){return c},zZ:function(){return i}});var P=e(87453);function i(f,g){return(0,P.request)("/api/temp/chat/".concat(g,"/link/").concat(f,"/delete"),{method:"POST"})}function o(f){return(0,P.request)("/api/temp/chat/".concat(f,"/link/create"),{method:"POST"})}function I(f){return(0,P.request)("/api/temp/chat/link/update",{method:"POST",data:f})}function S(f){return(0,P.request)("/api/temp/chat/conversation/query",{method:"POST",data:f})}function c(f){return(0,P.request)("/api/temp/chat/conversation/create",{method:"POST",data:f})}function l(f){return request("/api/temp/chat/completions",{method:"POST",data:f})}function d(f){return(0,P.request)("/api/temp/chat/".concat(f,"/link/list"),{method:"GET"})}},77750:function(se,D,e){e.d(D,{TE:function(){return f}});var P=e(90228),i=e.n(P),o=e(87999),I=e.n(o),S=e(41249),c={TEXTAREA:{position:"fixed",top:"0",left:"0",width:"2em",height:"2em",padding:"0",border:"none",outline:"none",boxShadow:"none",background:"transparent",fontSize:"16px"}},l={COPY_FAILED:"\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u624B\u52A8\u590D\u5236",COPY_SUCCESS:"\u590D\u5236\u6210\u529F",NO_CONTENT:"\u6CA1\u6709\u53EF\u590D\u5236\u7684\u5185\u5BB9"},d=function(y,h){var E=document.createElement("textarea");E.value=y,Object.assign(E.style,c.TEXTAREA),document.body.appendChild(E),E.focus(),E.select();try{var a=document.execCommand("copy");a&&h?h(y,!0):a||(S.ZP.error(l.COPY_FAILED),h&&h(y,!1))}catch(r){console.error(l.COPY_FAILED,r),S.ZP.error(l.COPY_FAILED),h&&h(y,!1)}document.body.removeChild(E)},f=function(){var v=I()(i()().mark(function y(h,E){var a,r=arguments;return i()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(a=r.length>2&&r[2]!==void 0?r[2]:!1,h){T.next=5;break}return S.ZP.error(l.NO_CONTENT),E&&E(h,!1),T.abrupt("return");case 5:if(!(navigator.clipboard&&navigator.clipboard.writeText)){T.next=20;break}return T.prev=6,T.next=9,navigator.clipboard.writeText(h);case 9:a&&S.ZP.success(l.COPY_SUCCESS),E&&E(h,!0),T.next=18;break;case 13:T.prev=13,T.t0=T.catch(6),console.error(l.COPY_FAILED,T.t0),S.ZP.error(l.COPY_FAILED),d(h,E);case 18:T.next=21;break;case 20:d(h,E);case 21:case"end":return T.stop()}},y,null,[[6,13]])}));return function(h,E){return v.apply(this,arguments)}}(),g=function(){return!!(navigator.clipboard&&navigator.clipboard.writeText)}},26324:function(se,D,e){e.d(D,{N:function(){return o},g:function(){return I}});var P=e(75271),i=e(52676),o=function(c,l){var d=l.required;return(0,i.jsxs)(i.Fragment,{children:[c,d?(0,i.jsx)("span",{style:{color:"red",fontWeight:600,marginLeft:"4px"},children:"*"}):null]})},I=function(c){return(0,i.jsx)(i.Fragment,{children:c})}},44953:function(se,D,e){e.d(D,{$g:function(){return g},Df:function(){return v},N4:function(){return E},Qr:function(){return y},TE:function(){return I.TE},Tx:function(){return h},hK:function(){return d},n3:function(){return f}});var P=e(15558),i=e.n(P),o=e(92122),I=e(77750),S=e(13278),c=e(15470);function l(a){var r=a<10?"0"+a:a;return r}var d=function(r){var u=new Date(r);return u.getFullYear()+"-"+l(u.getMonth()+1)+"-"+l(u.getDate())+" "+l(u.getHours())+":"+l(u.getMinutes())+":"+l(u.getSeconds())},f=function(r){return!r||r===void 0?[]:r.startsWith("Array_File_")?["Array_File",r]:r.startsWith("File_")?["File",r]:[r]},g=function(r){var u=r[r.length-1];return Object.values(o.Gi).includes(u)?u:o.Gi.String},v=function(r){switch(r){case o.Gi.File_Image:return"image/*";case o.Gi.File_PPT:return".ppt,.pptx";case o.Gi.File_Doc:return".doc,.docx";case o.Gi.File_PDF:return".pdf";case o.Gi.File_Txt:return".txt";case o.Gi.File_Zip:return".zip,.rar,.7z";case o.Gi.File_Excel:return".xls,.xlsx,.csv";case o.Gi.File_Video:return"video/*";case o.Gi.File_Audio:case o.Gi.File_Voice:return"audio/*";case o.Gi.File_Code:return".js,.txt,.ts,.jsx,.tsx,.py,.java,.c,.cpp,.cs,.go,.php,.rb,.sh";case o.Gi.File_Svg:return".svg";default:return""}},y=function(r){return r&&Object.keys(r).length===0&&r.constructor===Object},h=function(r,u){return r.replace(/{(\w+)}/g,function(T,b){if(u[b]===void 0)throw new Error("\u7F3A\u5C11\u8DEF\u5F84\u53C2\u6570: ".concat(b));return String(u[b])})},E=function(r,u){var T=i()(r.matchAll(/{(\w+)}/g)).map(function(b){return b[1]});return T.length===0||T.every(function(b){return u[b]!==void 0&&u[b]!==null&&u[b]!==""})}},75327:function(se,D,e){e.d(D,{Z:function(){return i}});var P=e(75271);function i(){const[,o]=P.useReducer(I=>I+1,0);return o}},78987:function(se){se.exports="data:image/png;base64,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"}}]);})();
