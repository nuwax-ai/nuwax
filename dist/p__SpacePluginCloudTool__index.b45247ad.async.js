(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[6261,2950,490],{73813:function(P,j,e){"use strict";e.d(j,{Z:function(){return l}});var i=e(66283),a=e(75271),n={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},s=n,t=e(47221),r=function(p,T){return a.createElement(t.Z,(0,i.Z)({},p,{ref:T,icon:s}))},o=a.forwardRef(r),l=o},66118:function(P,j,e){"use strict";e.d(j,{Z:function(){return l}});var i=e(66283),a=e(75271),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},s=n,t=e(47221),r=function(p,T){return a.createElement(t.Z,(0,i.Z)({},p,{ref:T,icon:s}))},o=a.forwardRef(r),l=o},7036:function(P,j,e){"use strict";e.d(j,{Z:function(){return l}});var i=e(66283),a=e(75271),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},s=n,t=e(47221),r=function(p,T){return a.createElement(t.Z,(0,i.Z)({},p,{ref:T,icon:s}))},o=a.forwardRef(r),l=o},62237:function(P,j,e){"use strict";e.d(j,{Z:function(){return l}});var i=e(66283),a=e(75271),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},s=n,t=e(47221),r=function(p,T){return a.createElement(t.Z,(0,i.Z)({},p,{ref:T,icon:s}))},o=a.forwardRef(r),l=o},56769:function(P,j,e){"use strict";e.d(j,{Z:function(){return l}});var i=e(66283),a=e(75271),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 240H144c-17.7 0-32 14.3-32 32v608c0 17.7 14.3 32 32 32h608c17.7 0 32-14.3 32-32V272c0-17.7-14.3-32-32-32zM596 606c0 4.4-3.6 8-8 8H308c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h280c4.4 0 8 3.6 8 8v48zm284-494H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h576v576c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32z"}}]},name:"switcher",theme:"filled"},s=n,t=e(47221),r=function(p,T){return a.createElement(t.Z,(0,i.Z)({},p,{ref:T,icon:s}))},o=a.forwardRef(r),l=o},57625:function(P,j,e){"use strict";e.d(j,{Z:function(){return m}});var i=e(65774),a=e(94581),n=e.n(a),s=e(75271),t={"files-container":"files-container___Ji5El","file-box":"file-box___BRhVF"},r=e(52676),o=n().bind(t),l=function(T){var Y=T.files;return(0,r.jsx)("div",{className:o(t["files-container"]),children:Y?.map(function(F){return(0,r.jsxs)("div",{className:o(t["file-box"],"flex","items-center"),children:[(0,r.jsx)("img",{src:F.mimeType.includes("image/")?F.fileUrl:i,alt:""}),(0,r.jsx)("div",{className:o("flex-1","overflow-hide"),children:(0,r.jsx)("h4",{className:o("text-ellipsis"),children:F.fileName})})]},F.fileKey)})})},m=l},30746:function(P,j,e){"use strict";e.d(j,{Z:function(){return F}});var i=e(92122),a=e(10822),n=e(24573),s=e(13143),t=e(63876),r=e(94581),o=e.n(r),l=e(75271),m={"xagi-nav-style2":"xagi-nav-style2___Omzza",text:"text___XEmsz","page-container":"page-container___ewoL2","run-success":"run-success___PpO4f","status-name":"status-name___WZ9ni",icon:"icon___H_CtF",successColor:"successColor___tjHA6","pop-content":"pop-content___cUwx3",row:"row___ajvPI",summary:"summary___QUk2k"},p=e(52676),T=o().bind(m),Y=function(k){var I=k.messageInfo,X=I.finalResult,w=I.processingList,xe=(0,l.useMemo)(function(){return X?((X?.endTime-X?.startTime)/1e3).toFixed(1):0},[X]),W=function(K,L){var A=K-L;return A<1e3?"".concat(A,"ms"):"".concat((A/1e3).toFixed(1),"s")},g=(0,l.useMemo)(function(){var $=w?.length||0;return $>0?w?.[$-1]:null},[w]);return(0,p.jsx)(t.Z,{placement:"bottomLeft",styles:{body:{padding:0}},content:(0,p.jsxs)("div",{className:T(m["pop-content"]),children:[w?.map(function($,K){return $.status!==i.Xk.EXECUTING&&(0,p.jsxs)("div",{className:T(m.row,"flex","items-center"),children:[(0,p.jsx)(a.Z,{}),(0,p.jsx)("span",{className:T("flex-1","text-ellipsis"),children:"\u5DF2\u8C03\u7528 ".concat($.name)}),(0,p.jsx)("span",{children:W($.result.endTime,$.result.startTime)})]},K)}),(0,p.jsx)("span",{className:T(m.summary),children:"\u8FD0\u884C\u5B8C\u6BD5 ".concat(xe,"s")})]}),arrow:!1,trigger:"hover",children:(0,p.jsx)("span",{className:T("cursor-pointer",m["run-success"]),children:I?.status===i.ge.Loading||I?.status===i.ge.Incomplete?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.Z,{className:T(m.successColor)}),g&&(0,p.jsxs)("span",{className:T(m["status-name"]),children:[g.status===i.Xk.EXECUTING?"\u6B63\u5728\u8C03\u7528 ":"\u5DF2\u8C03\u7528 ",g.name]})]}):I?.status===i.ge.Error?(0,p.jsx)("span",{children:"\u8FD0\u884C\u9519\u8BEF"}):(0,p.jsxs)("span",{children:["\u8FD0\u884C\u5B8C\u6BD5",(0,p.jsx)(s.Z,{className:T(m.icon)})]})})})},F=Y},19979:function(P,j,e){"use strict";e.d(j,{Z:function(){return xe}});var i=e(82092),a=e.n(i),n=e(57625),s=e(59261),t=e(91268),r=e(64799),o=e(92122),l=e(45019),m=e(94581),p=e.n(m),T=e(75271),Y=e(13383),F={container:"container___pzeXE",avatar:"avatar___QNC2R",author:"author___eO9xt","inner-container":"inner-container___MiyBz","think-content":"think-content___NYHs_","chat-content":"chat-content___voyQR"},oe=e(30746),k=e(52676),I=p().bind(F),X=function(g){switch(g){case l.vQ.JavaScript:return"js";case l.vQ.Python:return"python";case l.vQ.JSON:return"json";case l.vQ.Text:return"plaintext";default:return"plaintext"}},w=function(g){var $,K=g.className,L=g.contentClassName,A=g.messageInfo,Oe=g.codeLanguage,me=Oe===void 0?l.vQ.Text:Oe,le=g.theme,B=le===void 0?"light":le;console.log("codeLanguage",X(me),A);var x=(0,T.useCallback)(function(y){var c=X(me);return c==="plaintext"?y:y.replace(/```/,"```".concat(c))},[me]),E=(0,t.Z)({answer:x(A?.text||""),thinking:A?.think||"",id:A?.id||""}),u=E.markdownRef,d=E.messageIdRef;return(0,k.jsx)("div",{className:I(F.container,"flex",K),children:(0,k.jsxs)("div",{className:I("flex-1"),children:[!!(A!=null&&($=A.attachments)!==null&&$!==void 0&&$.length)&&(0,k.jsx)(n.Z,{files:A?.attachments}),(0,k.jsxs)(s.Z,{condition:A?.role!==r.hZ.USER,children:[A.status!==o.ge.Complete&&(0,k.jsx)(s.Z,{condition:!!(A!=null&&A.status),children:(0,k.jsx)(oe.Z,{messageInfo:A})}),(!!(A!=null&&A.think)||!!(A!=null&&A.text))&&(0,k.jsx)("div",{className:I(F["inner-container"],L),children:(0,k.jsx)("div",{className:I(F["chat-content"],"radius-6","w-full",a()({},F.typing,A.status===o.ge.Incomplete||A.status===o.ge.Loading)),children:(0,k.jsx)(Y.ZP,{id:"".concat(d.current),headerActions:!1,markdownRef:u,theme:B},"".concat(d.current))})})]})]})})},xe=w},34204:function(P,j,e){"use strict";e.d(j,{Z:function(){return d}});var i=e(26068),a=e.n(i),n=e(90228),s=e.n(n),t=e(87999),r=e.n(t),o=e(48305),l=e.n(o),m=e(35044),p=e(19979),T=e(63136),Y=e(14719),F=e(9504),oe=e(63619),k=e(94581),I=e.n(k),X=e(75271),w=e(87453),xe=e(92448),W={"xagi-nav-style2":"xagi-nav-style2___L67Dx",text:"text___aDdRi","page-container":"page-container___MncNy",btn:"btn___JOPmv","chat-wrapper":"chat-wrapper___PS6Tu","replace-btn":"replace-btn___AEijv",footer:"footer___MV0En","code-optimize-view":"code-optimize-view___XMSmw","chat-input":"chat-input___wgxG5",input:"input___WoXKg","icon-box":"icon-box___cHWvw","send-image":"send-image___kjNJy"},g=e(52676),$=I().bind(W),K=function(c){var O,U,z=c.title,v=c.open,te=c.onCancel,ce=c.onReplace,se=c.codeLanguage,ge=(0,X.useState)(""),_e=l()(ge,2),re=_e[0],_=_e[1],ne=(0,w.useModel)("assistantOptimize"),D=ne.messageList,Ae=ne.setMessageList,Ce=ne.onMessageSend,Pe=ne.messageViewRef,Te=ne.allowAutoScrollRef,Me=ne.resetInit,be=(0,X.useState)(""),Re=l()(be,2),ue=Re[0],b=Re[1];(0,X.useEffect)(function(){return b((0,xe.Z)()),function(){Me()}},[]),(0,X.useEffect)(function(){var S=Pe.current;if(S){var M=function(){var ye=S.scrollTop,je=S.scrollHeight,Q=S.clientHeight;ye+Q<je?Te.current=!1:Te.current=!0};return S.addEventListener("scroll",M),function(){S.removeEventListener("scroll",M)}}},[]);var fe=function(){var S=r()(s()().mark(function M(){var de;return s()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:Ae([]),re&&(_(""),de={requestId:ue,prompt:re,codeLanguage:se},Ce(de,T.L.code));case 2:case"end":return je.stop()}},M)}));return function(){return S.apply(this,arguments)}}(),q=function(M){M.preventDefault();var de=M.target,ye=de.value,je=de.selectionStart,Q=de.selectionEnd;if(M.nativeEvent.keyCode===13&&(M.nativeEvent.shiftKey||M.nativeEvent.ctrlKey)){var Se=ye.slice(0,je)+`
`+ye.slice(Q);_(Se)}else if(M.nativeEvent.keyCode===13&&ye.trim()){var R={requestId:ue,prompt:re,codeLanguage:se};Ce(R,T.L.code),_("")}};return(0,g.jsxs)(Y.Z,{title:z,open:v,onCancel:function(M){Ae([]),te?.(M)},maskClosable:!1,footer:null,children:[(0,g.jsx)("div",{ref:Pe,className:$(W["chat-wrapper"],"flex-1"),children:D?.length>0?(0,g.jsx)(g.Fragment,{children:D?.map(function(S,M){return(0,g.jsx)(p.Z,{ifShowReplace:!0,onReplace:ce,theme:"dark",codeLanguage:se,messageInfo:S,contentClassName:$(W["code-optimize-view"])},M)})}):(0,g.jsx)("div",{})}),D?.length>0?(0,g.jsxs)("div",{className:$("flex"),children:[(0,g.jsx)(F.ZP,{className:$(W["replace-btn"],W.btn),loading:(D==null||(O=D[D?.length-1])===null||O===void 0?void 0:O.status)!=="complete",disabled:(D==null||(U=D[D?.length-1])===null||U===void 0?void 0:U.status)!=="complete",onClick:function(){var M;return ce?.(D==null||(M=D[D?.length-1])===null||M===void 0?void 0:M.text)},children:"\u66FF\u6362"}),(0,g.jsx)(F.ZP,{onClick:function(M){Ae([]),te?.(M)},className:$(W.btn,"ml-10 "),children:"\u9000\u51FA"})]}):(0,g.jsx)("div",{}),(0,g.jsx)("div",{className:$(W.footer,"flex","items-center"),children:(0,g.jsxs)("div",{className:$(W["chat-input"],"flex","items-center","w-full"),children:[(0,g.jsx)(oe.Z.TextArea,{value:re,onChange:function(M){return _(M.target.value)},rootClassName:W.input,onPressEnter:q,placeholder:"\u8BF7\u63CF\u8FF0\u4F60\u7684\u5177\u4F53\u4E1A\u52A1\u9700\u6C42\uFF0C\u903B\u8F91\u5C3D\u91CF\u63CF\u8FF0\u8BE6\u7EC6",autoSize:{minRows:1,maxRows:3}}),(0,g.jsx)("img",{onClick:function(){return fe()},className:$(W["send-image"],"cursor-pointer"),src:m,alt:""})]})})]})},L=K,A=e(73415),Oe=e(45019),me=e(56101),le=e(28190),B=e(34684),x=e(8871),E=e(59261),u=function(c){var O=c.value,U=O===void 0?"":O,z=c.className,v=c.onChange,te=c.height,ce=te===void 0?"400px":te,se=c.codeLanguage,ge=c.minimap,_e=ge===void 0?!1:ge,re=c.form,_=c.codeOptimizeVisible,ne=_===void 0?!0:_,D=c.readOnly,Ae=D===void 0?!1:D,Ce=c.editorOptions,Pe=(0,X.useState)(!1),Te=l()(Pe,2),Me=Te[0],be=Te[1],Re=(0,X.useState)(!1),ue=l()(Re,2),b=ue[0],fe=ue[1],q=(0,w.useModel)("model"),S=q.testRun;if((0,X.useEffect)(function(){me._m.config({monaco:x,paths:{vs:"/vs"}});var ye=function(){var je=r()(s()().mark(function Q(){var Se,R,h;return s()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.prev=0,V.next=3,e.e(1679).then(e.bind(e,61679));case 3:return Se=V.sent,R=Se.conf,h=Se.language,V.next=8,me._m.init();case 8:x.languages.register({id:"python"}),x.languages.setMonarchTokensProvider("python",h),x.languages.setLanguageConfiguration("python",R),window.MonacoEnvironment={getWorkerUrl:function(Z,H){return H==="json"?"/vs/json.worker.js":H==="typescript"||H==="javascript"||H==="python"?"/vs/ts.worker.js":"/vs/editor.worker.js"}},be(!0),V.next=18;break;case 15:V.prev=15,V.t0=V.catch(0),console.error("Failed to initialize Monaco Editor:",V.t0);case 18:case"end":return V.stop()}},Q,null,[[0,15]])}));return function(){return je.apply(this,arguments)}}();ye()},[]),!Me)return(0,g.jsx)("div",{children:"Loading editor..."});var M=function(je){v&&v(je||"")},de=function(je){var Q=je||{},Se=a()({selectOnLineNumbers:!0,folding:!0,automaticLayout:!0,minimap:{enabled:_e},readOnly:Ae},Q);return se?.toLowerCase()==="json"?a()(a()({},Se),{},{quickSuggestions:!1,suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",tabCompletion:"off",wordBasedSuggestions:!1,parameterHints:{enabled:!1},hover:{enabled:!1},snippetSuggestions:"none"}):Se};return(0,g.jsxs)(g.Fragment,{children:[re?(0,g.jsx)(le.Z.Item,{noStyle:!0,name:re?.getFieldValue("codeLanguage")===Oe.vQ.JavaScript?"codeJavaScript":"codePython",children:(0,g.jsx)(me.ZP,{className:z,height:ce,language:se?.toLowerCase(),theme:"vs-dark",value:U,onChange:M,options:de(Ce)})}):(0,g.jsx)(me.ZP,{className:z,height:ce,language:se?.toLowerCase(),theme:"vs-dark",value:U,onChange:M,options:de(Ce)}),(0,g.jsxs)(E.Z,{condition:ne&&!Ae,children:[(0,g.jsx)(B.Z,{shape:"circle",type:"primary",style:{insetInlineEnd:94,display:S?"none":"block"},icon:(0,g.jsx)(A.jY,{}),tooltip:"\u4EE3\u7801\u52A9\u624B",onClick:function(){fe(!0)}}),(0,g.jsx)(L,{title:"\u4EE3\u7801\u52A9\u624B",open:b,codeLanguage:se,onCancel:function(){fe(!1)},onReplace:function(je){if(je){var Q=je;Q.includes("```")&&(Q=Q.replace(/```/g,"")),v?.(Q||""),fe(!1)}}})]})]})},d=u},65173:function(P,j,e){"use strict";var i=e(15558),a=e.n(i),n=e(48305),s=e.n(n),t=e(61884),r=e(44689),o=e(62237),l=e(63876),m=e(12758),p=e(29328),T=e(63619),Y=e(58176),F=e(75271),oe=e(87453),k=e(15457),I=e(52676),X=function(g){if(!g)return 0;for(var $=0,K=0;K<g.length;K++)/[\u4e00-\u9fa5\u3000-\u303f\uff00-\uffef]/.test(g[K])?$+=2:$+=1;return $},w=function(g,$){if(!g)return"";for(var K=0,L="",A=0;A<g.length;A++){var Oe=g[A],me=/[\u4e00-\u9fa5\u3000-\u303f\uff00-\uffef]/.test(Oe)?2:1;if(K+me>$)break;L+=Oe,K+=me}return L.length<g.length&&(L+="..."),L},xe=function(g){var $=g.placeholder,K=g.form,L=g.fieldName,A=g.style,Oe=g.isDisabled,me=Oe===void 0?!1:Oe,le=g.referenceType,B=le===void 0?"Reference":le,x=g.isLoop,E=g.value,u=g.onChange,d=(0,oe.useModel)("workflow"),y=d.referenceList,c=d.getValue,O=d.getLoopValue,U=d.setIsModified,z=(0,F.useState)(""),v=s()(z,2),te=v[0],ce=v[1],se=(0,F.useState)([E||""]),ge=s()(se,2),_e=ge[0],re=ge[1],_=(0,F.useState)(300),ne=s()(_,2),D=ne[0],Ae=ne[1];(0,F.useEffect)(function(){var ue=function(){var fe=window.innerHeight,q=document.querySelector(".input-or-reference");if(q){var S=q.getBoundingClientRect(),M=fe-S.top-20;Ae(Math.min(Math.max(M,150),400))}};return ue(),window.addEventListener("resize",ue),window.addEventListener("scroll",ue),function(){window.removeEventListener("resize",ue),window.removeEventListener("scroll",ue)}},[]);var Ce=function(b,fe){if(L&&K){var q=L.slice(0,-1);if(K.setFieldValue([].concat(a()(q),["bindValueType"]),fe),fe==="Reference"){var S,M=y==null||(S=y.argMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.dataType;K.setFieldValue([].concat(a()(q),["dataType"]),M||"String"),K.setFieldValue(L,b);var de=K.getFieldValue([].concat(a()(q),["name"]));(!de||me)&&K.setFieldValue([].concat(a()(q),["name"]),y.argMap[b].name)}else K.setFieldValue([].concat(a()(q),["dataType"]),"String"),K.setFieldValue(L,b)}U(!0)};(0,F.useEffect)(function(){if(L&&K){var ue=K.getFieldValue(L),b=K.getFieldValue([].concat(a()(L.slice(0,-1)),["bindValueType"]));if(b==="Reference"){var fe=ue&&y.argMap[ue];ce(fe?x?O(ue):c(ue):"")}else ce("")}},[K?.getFieldsValue(),y.argMap]);var Pe=function(){var b;Ce("","Input"),ce(""),re([""]);var fe=(b=L?.slice(0,-1))!==null&&b!==void 0?b:[];K?.setFieldValue([].concat(a()(fe),["name"]),"")},Te=function(b){return(0,I.jsxs)("div",{className:"tree-custom-title-style",children:[(0,I.jsx)("span",{title:"",children:b.name}),(0,I.jsx)(l.Z,{content:b.description||"\u6682\u65E0\u63CF\u8FF0",children:(0,I.jsx)(r.Z,{title:"",style:{marginLeft:"4px",fontSize:12}})}),(0,I.jsx)(m.Z,{color:"#C9CDD4",style:{marginLeft:"8px",fontSize:10,lineHeight:"14px"},children:b.dataType})]})},Me=function(b){!b||!b.length||(Ce(b[0],"Reference"),ce(c(b[0])),re(b))},be=function(b){if(b&&b.length){var fe=!1;return b.map(function(q){var S=q?.outputArgs.some(function(M){var de,ye;return(M==null||(de=M.children)===null||de===void 0?void 0:de.length)&&(M==null||(ye=M.children)===null||ye===void 0?void 0:ye.length)>0});return{key:q.id,label:X(q.name)>16?w(q.name,16):q.name,icon:(0,t.qM)(q.type),popupClassName:"inputOrReferencePopup",children:q.outputArgs?[{key:"".concat(q.id,"-tree-select"),label:(0,I.jsx)("div",{style:{paddingTop:12,paddingRight:12,paddingBottom:8},onClick:function(de){fe||(de.stopPropagation(),de.preventDefault())},children:(0,I.jsx)(p.Z,{onSelect:function(de){Me(de),fe=!0},defaultExpandAll:!0,treeData:q.outputArgs,fieldNames:{title:"name",key:"key",children:"children"},titleRender:Te,defaultSelectedKeys:_e,selectedKeys:_e,blockNode:!0,className:"custom-tree-style ".concat(S?"":"custom-tree-no-children-style"),style:{maxHeight:"".concat(D,"px"),overflow:"auto"}})})}]:void 0}})}else return[{key:"no-data",popupClassName:"inputOrReferencePopup",label:(0,I.jsx)("div",{style:{padding:8,color:"red"},children:"\u672A\u6DFB\u52A0\u4E0A\u7EA7\u8282\u70B9\u8FDE\u7EBF\u6216\u4E0A\u7EA7\u8282\u70B9\u65E0\u53C2\u6570"}),disabled:!0}]},Re=function(){return be(x?y.innerPreviousNodes:y.previousNodes)};return(0,I.jsxs)("div",{className:"input-or-reference dis-sb",style:A,children:[B==="Reference"||B===null?te?(0,I.jsx)(m.Z,{closable:!0,onClose:Pe,className:"input-or-reference-tag text-ellipsis",color:"#C9CDD4",children:te.length>10?(0,I.jsx)(l.Z,{content:te,placement:"topRight",children:(0,I.jsx)("span",{className:"tag-text-style",children:te})}):(0,I.jsx)("span",{className:"tag-text-style",children:te})}):(0,I.jsx)(T.Z,{placeholder:$||"\u8BF7\u8F93\u5165\u6216\u5F15\u7528\u53C2\u6570",style:{marginRight:8},size:"small",disabled:me,onChange:function(b){u?.(b.target.value),Ce(b.target.value,"Input")}}):(0,I.jsx)(T.Z,{placeholder:$||"\u8BF7\u8F93\u5165\u6216\u5F15\u7528\u53C2\u6570",style:{marginRight:8},size:"small",disabled:me,value:E,onChange:function(b){u?.(b.target.value),Ce(b.target.value,"Input")}}),(0,I.jsx)(Y.Z,{menu:{items:Re(),style:{maxHeight:328}},trigger:["click"],overlayStyle:{minWidth:200},placement:"bottomRight",children:(0,I.jsx)(o.Z,{style:{cursor:"pointer"},className:"input-reference-icon-style"})})]})};j.Z=xe},6377:function(P,j,e){"use strict";e.d(j,{Z:function(){return l}});var i=e(94581),a=e.n(i),n=e(75271),s={container:"container___dApW8",star:"star___pESlW"},t=e(52676),r=a().bind(s),o=function(p){var T=p.className,Y=p.label;return(0,t.jsxs)("span",{className:r(s.container,"flex",T),children:[(0,t.jsx)("span",{children:Y}),(0,t.jsx)("span",{className:r(s.star),children:"*"})]})},l=o},13383:function(P,j,e){"use strict";e.d(j,{fq:function(){return Q},ZP:function(){return Se}});var i=e(94581),a=e.n(i),n=e(75271),s=e(30832),t=e(14100),r=e(23687),o={theme:"default",flowchart:{useMaxWidth:!0,htmlLabels:!0},sequence:{diagramMarginX:50,diagramMarginY:10},suppressErrorRendering:!1},l=(0,r.R4)({id:r.qM,rehypePlugin:[t.dV,{mermaidConfig:o}],components:{mermaidblock:t.rM}}),m=l,p=e(2601),T=e(13621),Y=e(29558),F=e(203),oe=e(46703),k=e(31759),I=e.n(k),X=e(26068),w=e.n(X),xe=e(48305),W=e.n(xe),g=e(64799),$=e(92122),K=e(39373),L=e(3642),A=e(57683),Oe=e(67926),me=e(68659),le=e(41249),B=e(68108),x=e(9504),E=e(32699),u=e(87453),d={"xagi-nav-style2":"xagi-nav-style2___LR8qt",text:"text___GOSuV","page-container":"page-container___rB1Af","markdown-custom-process":"markdown-custom-process___XbvIR","process-header":"process-header___PbJv3","process-title":"process-title___D5O_C","process-controls":"process-controls___dihqk","status-completed":"status-completed___MeIxv",anticon:"anticon___IplOJ","status-running":"status-running___DB0Uo","loading-spinner":"loading-spinner___UooYw",spin:"spin___XLinb","status-error":"status-error___YZemo","control-btn":"control-btn___ufUOD","process-controls-actions":"process-controls-actions___qY3sV","process-content":"process-content___ntUHU","default-content":"default-content___IvKuJ"},y=e(34204),c=e(15470),O=e(45019),U=e(14719),z={"see-detail-modal":"see-detail-modal___O4Htz","see-detail-header":"see-detail-header___ckdmQ","see-detail-header-title":"see-detail-header-title___aaWbf","see-detail-header-actions":"see-detail-header-actions___Kj3tI","see-detail-content":"see-detail-content___K7JsV"},v=e(52676),te=a().bind(z),ce=function(h){var N=h.visible,V=h.onClose,G=h.data,Z=h.title;return!G||!N?null:(0,v.jsx)(U.Z,{open:N,onCancel:V,footer:null,width:800,className:te(z["see-detail-modal"]),destroyOnHidden:!0,title:(0,v.jsxs)("div",{className:te(z["see-detail-header"]),children:[(0,v.jsx)("div",{className:te(z["see-detail-header-title"]),children:Z}),(0,v.jsx)("div",{className:te(z["see-detail-header-actions"]),children:(0,v.jsx)(c.Z,{data:G,jsonSpace:2,tooltipTitle:"\u590D\u5236\u8BE6\u60C5\u6570\u636E",successMessage:"\u8BE6\u60C5\u6570\u636E\u5DF2\u590D\u5236",errorMessage:"\u8BE6\u60C5\u6570\u636E\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"})})]}),children:(0,v.jsx)("div",{className:te(z["see-detail-content"]),children:(0,v.jsx)(y.Z,{height:"400px",codeLanguage:O.vQ.JSON,value:JSON.stringify(G,null,2),codeOptimizeVisible:!1,minimap:!1,readOnly:!0,editorOptions:{wordWrap:"bounded",wrappingStrategy:"advanced",wrappingIndent:"indent",scrollBeyondLastLine:!1,minimap:{enabled:!1}}})})})},se=ce,ge=a().bind(d);function _e(R){var h=(0,u.useModel)("chat"),N=h.getProcessingById,V=h.processingList,G=h.pagePreviewData,Z=h.showPagePreview,H=h.agentPageConfig,ie=(0,n.useState)(null),C=W()(ie,2),f=C[0],ee=C[1],ve=(0,n.useState)(w()(w()({},R),{},{result:""})),pe=W()(ve,2),J=pe[0],Ne=pe[1],Be=(0,n.useState)(!1),Ge=W()(Be,2),Ye=Ge[0],Fe=Ge[1];(0,n.useEffect)(function(){var Le=N(J.executeId);Le&&(Le?.status!==J.status||!(0,E.isEqual)(Le.result,J.result))&&Ne(Le)},[V,J.executeId]);var Ve=(0,n.useCallback)(function(){switch(J.status){case $.Xk.FINISHED:return(0,v.jsxs)("div",{className:ge(d["status-completed"]),children:[(0,v.jsx)(L.Z,{}),"\u5DF2\u5B8C\u6210"]});case $.Xk.EXECUTING:return(0,v.jsxs)("div",{className:ge(d["status-running"]),children:[(0,v.jsx)("div",{className:ge(d["loading-spinner"])}),"\u8FD0\u884C\u4E2D"]});case $.Xk.FAILED:return(0,v.jsx)("div",{className:ge(d["status-error"]),children:"\u274C \u9519\u8BEF"});default:return null}},[J.status]),We=(0,n.useCallback)(function(Le){if(!Le)return null;var Ze=(0,K.Xh)(Le);return{params:Ze.input||{},response:Ze.data||null}},[]);(0,n.useEffect)(function(){if(J.executeId&&(J.status===$.Xk.FINISHED||J.status===$.Xk.FAILED)){var Le=We(J.result);if(f&&(0,E.isEqual)(Le,f))return;ee(Le)}},[J.executeId,J.status,J.result,J.type,J.name,H.expandPageArea,Z,We]);var He=(0,n.useMemo)(function(){return!(f&&(J.status===$.Xk.FINISHED||J.status===$.Xk.FAILED))||!1},[J.status,f]),Xe=(0,n.useCallback)(function(){if(!f){le.ZP.error("\u6682\u65E0\u6570\u636E");return}Fe(!0)},[f]),Je=(0,n.useMemo)(function(){return J.type===g.qR.Page},[J.type]),ke=(0,n.useState)(!1),ze=W()(ke,2),we=ze[0],Ue=ze[1],qe=function(){var Ze=J.result;if(!(!Ze||I()(Ze)!=="object")){var Ke=Ze.input;if(Ke.uri_type==="Page"){var nn={uri:Ke.uri,params:Ke.arguments||{},method:"",request_id:"",data_type:""};Z(nn)}if(Ke.uri_type==="Link"){var an=new URLSearchParams(Ke.arguments).toString(),$e="".concat(Ke.uri,"?").concat(an);window.open($e,"_blank")}}},en=(0,n.useCallback)(function(){if(Ue(!1),G){Z(null);return}qe()},[f,J,Z,G]);return J.executeId?(0,v.jsxs)("div",{className:ge(d["markdown-custom-process"]),"data-key":R.dataKey,children:[(0,v.jsxs)("div",{className:ge(d["process-header"]),children:[(0,v.jsx)("div",{className:ge(d["process-title"]),children:J.name||"\u6682\u65E0\u540D\u79F0"}),(0,v.jsxs)("div",{className:ge(d["process-controls"]),children:[Ve(),(0,v.jsxs)("div",{className:ge(d["process-controls-actions"]),children:[(0,v.jsx)(B.Z,{title:"\u67E5\u770B\u8BE6\u60C5",children:(0,v.jsx)(x.ZP,{type:"text",disabled:He,icon:(0,v.jsx)(A.Z,{}),onClick:Xe})}),Je?(0,v.jsx)(B.Z,{title:G?"\u5173\u95ED\u9884\u89C8":"\u9884\u89C8\u9875\u9762",open:we,onOpenChange:Ue,children:(0,v.jsx)(x.ZP,{type:"text",disabled:He,icon:G?(0,v.jsx)(Oe.Z,{}):(0,v.jsx)(me.Z,{}),onClick:en,onMouseEnter:function(){return Ue(!0)},onMouseLeave:function(){return Ue(!1)}})}):null]})]})]}),(0,v.jsx)(se,{title:J.name||"\u6682\u65E0\u540D\u79F0",visible:Ye,onClose:function(){return Fe(!1)},data:f},J.executeId)]},R.dataKey):null}var re=(0,n.memo)(_e,function(R,h){return R.executeId===h.executeId&&R.status===h.status}),_=e(94484),ne=e(73415),D=(0,n.memo)(function(R){var h=R.src,N=R.containerClassNames,V=R.containerStyles,G=R.styles,Z=R.alt,H=Z===void 0?"":Z,ie=R.dataKey,C=(0,n.useState)(!1),f=W()(C,2),ee=f[0],ve=f[1],pe=(0,n.useCallback)(function(){},[]),J=(0,n.useMemo)(function(){if(N)return Array.isArray(N)?N.join(" "):N},[N]);return(0,v.jsx)("span",{"data-key":ie,className:J||s.Z["image-container"],style:w()(w()({},V),{},{display:"inline-block",width:"100%"}),onClick:function(){ve(!0)},children:(0,v.jsx)(_.Z,{src:h,fallback:ne.Pc,onError:pe,style:G,alt:H,preview:ee?{visible:ee,src:h,onVisibleChange:ve}:!1})},ie)},function(R,h){return R.src===h.src}),Ae=D,Ce=e(335),Pe=e.n(Ce),Te=e(15558),Me=e.n(Te),be=function(h){try{var N="",V=function G(Z){var H;return typeof Z=="string"?Z:typeof Z=="number"?String(Z):Array.isArray(Z)?Z.map(G).join(""):Z!=null&&(H=Z.props)!==null&&H!==void 0&&H.children?G(Z.props.children):""};return N=V(h),N.replace(/\s+/g," ").trim()}catch(G){return console.warn("\u63D0\u53D6\u8868\u683C\u5355\u5143\u683C\u5185\u5BB9\u5931\u8D25:",G),""}},Re=function(h){try{var N,V=[],G=function Z(H){if(Array.isArray(H))H.forEach(function(C){var f;if(C?.type==="td"||C?.type==="th"){var ee=be(C);V.push(ee)}else C!=null&&(f=C.props)!==null&&f!==void 0&&f.children&&Z(C.props.children)});else if(H?.type==="td"||H?.type==="th"){var ie=be(H);V.push(ie)}};return h!=null&&(N=h.props)!==null&&N!==void 0&&N.children?G(h.props.children):h!=null&&h.children&&G(h.children),V.length>0?"|"+V.map(function(Z){return" ".concat(Z.trim()," ")}).join("|")+"|":""}catch(Z){return console.warn("\u63D0\u53D6\u8868\u683C\u884C\u5185\u5BB9\u5931\u8D25:",Z),""}},ue=function(h){try{var N,V=[];if(h!=null&&(N=h.props)!==null&&N!==void 0&&N.children){var G=h.props.children;if(Array.isArray(G))G.forEach(function(H){if(H?.type==="tr"){var ie=Re(H);ie&&V.push(ie)}});else if(G?.type==="tr"){var Z=Re(G);Z&&V.push(Z)}}return V}catch(H){return console.warn("\u63D0\u53D6\u8868\u683C\u533A\u57DF\u5185\u5BB9\u5931\u8D25:",H),[]}},b=function R(h){try{if(typeof h=="string")return h;if(Array.isArray(h)){var N=[],V=!1;if(h.forEach(function(f){var ee;if(f?.type==="thead"){var ve=ue(f);N.push.apply(N,Me()(ve)),V=!0}else if(f?.type==="tbody"){var pe=ue(f);N.push.apply(N,Me()(pe))}else if(f?.type==="tr"){var J=Re(f);J&&N.push(J)}else if(f!=null&&(ee=f.props)!==null&&ee!==void 0&&ee.children){var Ne=R(f.props.children);Ne&&N.push(Ne)}}),N.length>0){if(V&&N.length>1){var G=N[0];if(G){var Z=(G.match(/\|/g)||[]).length-1,H="|"+"---|".repeat(Z),ie=[N[0],H].concat(Me()(N.slice(1)));return ie.join(`
`)}}return N.join(`
`)}}if(I()(h)==="object"&&h!==null){var C=h?.props;if(C!=null&&C.children)return R(C.children)}return""}catch(f){return console.warn("\u63D0\u53D6\u8868\u683C\u5185\u5BB9\u5931\u8D25:",f),""}},fe=[{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}];function q(R){return function(h){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=h.length,G=N,Z=Pe()(R),H;try{for(Z.s();!(H=Z.n()).done;){var ie=H.value,C=ie.left,f=ie.right,ee=ie.display;if(h.slice(G).startsWith(C)){for(var ve=G+C.length;ve<V&&!h.slice(ve).startsWith(f);)ve++;if(!(ve>=V)){var pe=h.slice(G+C.length,ve),J=ve+f.length;return{formula:pe,display:ee,start:G,end:J,left:C,right:f,success:!0}}}}}catch(Ne){Z.e(Ne)}finally{Z.f()}return{formula:"",display:!1,start:0,end:0,left:"",right:"",success:!1}}}function S(R){for(var h=fe.filter(function(ie){return!ie.left.includes("$")&&!ie.right.includes("$")}),N=q(h),V="",G=0;G<R.length;){var Z=N(R,G);if(Z.success){V+=R.slice(G,Z.start);var H=Z.display?"$$":"$";V+="".concat(H).concat(Z.formula).concat(H),G=Z.end}else V+=R[G],G++}return V}var M=a().bind(s.Z),de=function(){return(0,r.R4)({rehypePlugin:[F.Z,oe.Z],components:{"markdown-custom-process":function(h){var N=h.node,V=h.type,G=h.status,Z=h.executeid,H=h.name,ie=N?.position||{},C=ie.end.offset,f=ie.start.offset,ee="".concat(f,"-").concat(C,"-process");return(0,v.jsx)(re,{dataKey:ee,type:V,status:G,executeId:Z,name:decodeURIComponent(H||"")},ee)},table:function(h){var N=h.children,V=h.node,G=(0,p.ls)(),Z=G.theme,H=G.codeBlock,ie=H===void 0?{}:H,C=ie.headerActions,f=C===void 0?!1:C,ee=V?.position||{},ve=ee.end.offset,pe=ee.start.offset,J="".concat(pe,"-").concat(ve,"-list"),Ne=b(N);return(0,v.jsx)("div",{"data-key":J,style:{display:"block"},children:(0,v.jsx)("div",{className:s.Z["table-wrapper"],children:(0,v.jsxs)("div",{className:"md-code-block md-code-block-".concat(Z),children:[f&&(0,v.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,v.jsx)("div",{className:"md-code-block-banner md-code-block-banner-lite",children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"md-code-block-language",children:"\u8868\u683C"}),(0,v.jsx)(p.GR,{language:"markdown",codeContent:Ne})]})})}),(0,v.jsx)("div",{className:"md-code-block-content scrollbar",children:(0,v.jsx)("table",{className:M(s.Z["markdown-table"]),children:N})})]})})},J)},img:function(h){var N=h.src,V=h.alt,G=h.title,Z=h.node;if(!N)return null;var H=Z?.position||{},ie=H.end.offset,C=H.start.offset,f="".concat(C,"-").concat(ie,"-img");return(0,v.jsx)(Ae,{dataKey:f,containerClassNames:s.Z["markdown-image-container"],src:N,alt:V,title:G},f)}},id:Symbol("custom-plugin"),type:"custom"})},ye=a().bind(s.Z),je=(0,n.memo)(function(R){var h=R.id,N=h===void 0?"":h,V=R.className,G=R.markdownRef,Z=R.headerActions,H=Z===void 0?!0:Z,ie=R.disableTyping,C=ie===void 0?!0:ie,f=R.theme,ee=f===void 0?"light":f,ve=(0,n.useRef)(null),pe=(0,n.useMemo)(function(){return[m,r.wg,de()]},[]),J=(0,n.useMemo)(function(){return o},[]);return(0,v.jsx)("div",{ref:ve,id:"".concat(N),"data-key":"".concat(N),className:ye(s.Z["markdown-container"],V),children:(0,v.jsx)(p.iV,{mermaidConfig:J,children:(0,v.jsx)(p.Hh,{ref:G,timerType:"requestAnimationFrame",interval:30,plugins:pe,codeBlock:{headerActions:H},theme:ee,math:{splitSymbol:"bracket",replaceMathBracket:S},disableTyping:C})})},"".concat(N))},function(R,h){return R.id===h.id}),Q=(0,n.memo)(function(R){var h=R.id,N=h===void 0?"":h,V=R.className,G=V===void 0?"":V,Z=R.children,H=R.theme,ie=H===void 0?"light":H,C=R.disableTyping,f=C===void 0?!1:C,ee=R.interval,ve=ee===void 0?30:ee,pe=R.timerType,J=pe===void 0?"requestAnimationFrame":pe,Ne=(0,n.useMemo)(function(){return[r.wg,de()]},[]);return(0,v.jsx)("div",{id:"".concat(N),"data-key":"".concat(N),className:ye(s.Z["markdown-container"],G),children:(0,v.jsx)(p.iV,{children:(0,v.jsx)(p.ZP,{interval:ve,timerType:J,disableTyping:f,plugins:Ne,codeBlock:{headerActions:!1},theme:ie,math:{splitSymbol:"bracket",replaceMathBracket:S},children:Z})})},"".concat(N))},function(R,h){return R.id===h.id&&R.theme===h.theme&&R.children===h.children&&R.disableTyping===h.disableTyping}),Se=je},54896:function(P,j,e){"use strict";e.d(j,{Z:function(){return m}});var i=e(59261),a=e(94581),n=e.n(a),s=e(75271),t={container:"container___mKBd6",star:"star___fL3Gn","param-type":"param-type___m1Eq3"},r=e(52676),o=n().bind(t),l=function(T){var Y=T.require,F=T.paramName,oe=T.paramType;return(0,r.jsxs)("div",{className:o("flex","items-center",t.container),children:[(0,r.jsx)("span",{children:F}),(0,r.jsx)(i.Z,{condition:Y,children:(0,r.jsx)("span",{className:o(t.star),children:"*"})}),(0,r.jsx)("span",{className:o(t["param-type"]),children:oe})]})},m=l},51802:function(P,j,e){"use strict";e.d(j,{Z:function(){return K}});var i=e(54896),a=e(61265),n=e(73415),s=e(94166),t=e(24643),r=e(92122),o=e(86743),l=e(14258),m=e(63619),p=e(7010),T=e(14719),Y=e(10580),F=e(9504),oe=e(94581),k=e.n(oe),I=e(75271),X=e(87453),w=e(92448),xe={"xagi-nav-style2":"xagi-nav-style2___q7OWC",text:"text___QkgY2","page-container":"page-container___sLiTq","modal-container":"modal-container___tLbO3","inner-container":"inner-container___xnO9u",header:"header___ZXJua","p-title":"p-title___enidB","table-wrap":"table-wrap___KO8OJ","param-desc":"param-desc___Fs3o9"},W=e(52676),g=k().bind(xe),$=function(A){var Oe=A.inputConfigArgs,me=A.inputExpandedRowKeys,le=A.pluginId,B=A.pluginName,x=A.open,E=A.onCancel,u=A.onConfirm,d=(0,s.Z)(),y=d.handleInit,c=d.dataSource,O=d.handleDataSource,U=d.expandedRowKeys,z=d.handleInputValue,v=d.handleInputAddChild,te=d.handleInputDel,ce=(0,X.useRequest)(t.NV,{manual:!0,debounceInterval:300,onSuccess:function(ne){if(ne!=null&&ne.length){var D=ne.map(function(Ae){return Ae.key||(Ae.key=(0,w.Z)()),Ae});u(D)}E()}}),se=ce.run,ge=ce.loading;(0,I.useEffect)(function(){y(Oe,me)},[Oe,me]);var _e=[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"name",key:"name",className:"flex",render:function(ne,D){return(0,W.jsx)(i.Z,{require:D.require,paramName:D.name,paramType:D.dataType})}},{title:"\u53C2\u6570\u503C",dataIndex:"description",key:"description",render:function(ne,D){var Ae;return(0,W.jsxs)(W.Fragment,{children:[r.Gi.Object===D.dataType||r.Gi.Array_Object===D.dataType||(Ae=D.dataType)!==null&&Ae!==void 0&&Ae.includes("Array")?null:(0,W.jsx)(m.Z,{value:D.bindValue,onChange:function(Pe){return z(D.key,"bindValue",Pe.target.value)},placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C"}),(0,W.jsx)("p",{className:g(xe["param-desc"]),children:D.description})]})}},{title:"\u64CD\u4F5C",key:"action",width:60,align:"center",render:function(ne,D,Ae){var Ce;return(0,W.jsx)(p.Z,{size:"middle",children:(Ce=D.dataType)!==null&&Ce!==void 0&&Ce.includes("Array")?(0,W.jsx)(n.Me,{className:g("cursor-pointer"),onClick:function(){return v(D)}}):D.name===a.zC&&Ae!==0?(0,W.jsx)(o.Z,{onClick:function(){return te(D.key)}}):null})}}],re=function(){var ne=O(c);se({pluginId:le,params:ne})};return(0,W.jsx)(T.Z,{centered:!0,open:x,onCancel:E,className:g(xe["modal-container"]),destroyOnHidden:!0,modalRender:function(){return(0,W.jsxs)("div",{className:g(xe["inner-container"],"flex","flex-col","overflow-hide"),children:[(0,W.jsxs)("header",{className:g("flex","content-between","items-center",xe.header),children:[(0,W.jsx)("h3",{children:"\u81EA\u52A8\u89E3\u6790"}),(0,W.jsx)(l.Z,{className:g("cursor-pointer"),onClick:E})]}),(0,W.jsxs)("div",{className:g("flex-1","flex","flex-col","overflow-hide"),children:[(0,W.jsxs)("h3",{className:g(xe["p-title"]),children:[B," \u8F93\u5165\u53C2\u6570"]}),(0,W.jsx)(Y.Z,{className:g(xe["table-wrap"]),columns:_e,dataSource:c,pagination:!1,virtual:!0,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:U,expandIcon:function(){return null}},scroll:{y:450}})]}),(0,W.jsx)("div",{className:g("text-right"),children:(0,W.jsx)(F.ZP,{type:"primary",onClick:re,loading:ge,children:"\u81EA\u52A8\u89E3\u6790"})})]})}})},K=$},61304:function(P,j,e){"use strict";e.d(j,{Z:function(){return p}});var i=e(16621),a=e(9504),n=e(94581),s=e.n(n),t=e(75271),r={"xagi-nav-style2":"xagi-nav-style2___bRI93",text:"text___CDY66","page-container":"page-container___pYuyY",title:"title___qlUsF",extra:"extra____ijPr"},o=e(52676),l=s().bind(r),m=function(Y){var F=Y.className,oe=Y.titleClassName,k=Y.title,I=Y.extra,X=Y.onClick;return(0,o.jsxs)("div",{className:l("flex","content-between","items-center","mb-12",F),children:[(0,o.jsx)("h3",{className:l(r.title,oe),children:k}),(0,o.jsxs)("div",{className:l(r.extra,"flex"),children:[I,(0,o.jsx)(a.ZP,{icon:(0,o.jsx)(i.Z,{}),onClick:X,children:"\u65B0\u589E\u53C2\u6570"})]})]})},p=m},2660:function(P,j,e){"use strict";e.d(j,{Z:function(){return me}});var i=e(48305),a=e.n(i),n=e(54896),s=e(61265),t=e(73415),r=e(94166),o=e(24643),l=e(92122),m=e(39373),p=e(86743),T=e(14258),Y=e(24573),F=e(41249),oe=e(63619),k=e(7010),I=e(14719),X=e(10580),w=e(9504),xe=e(94581),W=e.n(xe),g=e(75271),$=e(87453),K={"xagi-nav-style2":"xagi-nav-style2___vghmE",text:"text___XEBu3","page-container":"page-container___V0beX","modal-container":"modal-container___AN4jk","inner-container":"inner-container___f48hL",header:"header___PLN5P",section:"section___AtQvb","p-title":"p-title___yh4JX","table-wrap":"table-wrap___VKpxr","result-wrap":"result-wrap___EvlBB","loading-box":"loading-box___NvxyX","param-desc":"param-desc___Wg5Xx"},L=e(52676),A=W().bind(K),Oe=function(B){var x=B.inputConfigArgs,E=B.inputExpandedRowKeys,u=B.pluginId,d=B.pluginName,y=B.open,c=B.onCancel,O=(0,g.useState)(!1),U=a()(O,2),z=U[0],v=U[1],te=(0,g.useState)(""),ce=a()(te,2),se=ce[0],ge=ce[1],_e=(0,r.Z)(),re=_e.handleInit,_=_e.dataSource,ne=_e.handleDataSource,D=_e.expandedRowKeys,Ae=_e.handleInputValue,Ce=_e.handleInputAddChild,Pe=_e.handleInputDel,Te=(0,$.useRequest)(o.A_,{manual:!0,debounceInterval:300,onSuccess:function(q){v(!1),q.success?ge(JSON.stringify(q.result,null,2)):F.ZP.warning(q.error)},onError:function(){v(!1)}}),Me=Te.run;(0,g.useEffect)(function(){re(x,E)},[x,E]);var be=function(q,S){var M=S;(q.dataType===l.Gi.Integer||q.dataType===l.Gi.Number)&&S&&(M=(0,m.an)(S)===""?"":Number((0,m.an)(S))),Ae(q.key,"bindValue",M)},Re=[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"name",key:"name",className:"flex",render:function(q,S){return(0,L.jsx)(n.Z,{require:S.require,paramName:S.name,paramType:S.dataType})}},{title:"\u53C2\u6570\u503C",dataIndex:"description",key:"description",render:function(q,S){var M;return(0,L.jsxs)(L.Fragment,{children:[l.Gi.Object===S.dataType||l.Gi.Array_Object===S.dataType||(M=S.dataType)!==null&&M!==void 0&&M.includes("Array")?null:(0,L.jsx)(oe.Z,{value:S.bindValue,onChange:function(ye){return be(S,ye.target.value)},placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C"}),(0,L.jsx)("p",{className:A(K["param-desc"]),children:S.description})]})}},{title:"\u64CD\u4F5C",key:"action",width:60,align:"center",render:function(q,S,M){var de;return(0,L.jsx)(k.Z,{size:"middle",children:(de=S.dataType)!==null&&de!==void 0&&de.includes("Array")?(0,L.jsx)(t.Me,{className:A("cursor-pointer"),onClick:function(){return Ce(S)}}):S.name===s.zC&&M!==0?(0,L.jsx)(p.Z,{onClick:function(){return Pe(S.key)}}):null})}}],ue=function(){ge(""),v(!0);var q=ne(_);Me({pluginId:u,params:q})},b=function(){ge(""),v(!1),c()};return(0,L.jsx)(I.Z,{centered:!0,open:y,onCancel:b,className:A(K["modal-container"]),modalRender:function(){return(0,L.jsxs)("div",{className:A(K["inner-container"],"flex","flex-col","overflow-hide"),children:[(0,L.jsxs)("header",{className:A("flex","content-between","items-center",K.header),children:[(0,L.jsx)("h3",{children:"\u8BD5\u8FD0\u884C"}),(0,L.jsx)(T.Z,{className:A("cursor-pointer"),onClick:b})]}),(0,L.jsxs)("section",{className:A("flex","flex-1","overflow-hide",K.section),children:[(0,L.jsxs)("div",{className:A("flex-1","flex","flex-col"),children:[(0,L.jsxs)("h3",{className:A(K["p-title"]),children:[d," \u8F93\u5165\u53C2\u6570"]}),(0,L.jsx)(X.Z,{className:A(K["table-wrap"]),columns:Re,dataSource:_,pagination:!1,virtual:!0,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:D,expandIcon:function(){return null}},scroll:{y:450},footer:function(){return(0,L.jsx)("div",{className:A("text-right"),children:(0,L.jsx)(w.ZP,{type:"primary",onClick:ue,loading:z,children:"\u8FD0\u884C"})})}})]}),(0,L.jsxs)("div",{className:A("flex-1","flex","flex-col","overflow-hide"),children:[(0,L.jsxs)("h3",{className:A(K["p-title"]),children:[d," \u8C03\u8BD5\u7ED3\u679C"]}),(0,L.jsx)("div",{className:A("flex-1","radius-6","overflow-hide",K["result-wrap"]),children:z?(0,L.jsxs)("div",{className:A("h-full","flex","items-center","content-center",K["loading-box"]),children:[(0,L.jsx)(Y.Z,{}),(0,L.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]}):se?(0,L.jsx)("div",{className:A("h-full","flex","flex-col","px-16","py-16","overflow-y"),children:(0,L.jsx)("pre",{children:se})}):(0,L.jsx)("div",{className:A("h-full","flex","items-center","content-center"),children:"\u8C03\u8BD5\u7ED3\u679C\u5C06\u5C55\u793A\u5728\u6B64\u5904"})})]})]})]})}})},me=Oe},39671:function(P,j,e){"use strict";e.d(j,{$$:function(){return oe},$m:function(){return F},Bv:function(){return T},E9:function(){return Y},TI:function(){return xe},a$:function(){return X},fu:function(){return w},gN:function(){return W},k0:function(){return l},oR:function(){return g},v3:function(){return p},yA:function(){return m}});var i=e(15556),a=e(62597),n=e(64799),s=e(92122),t=e(53895),r=e(64691),o=e(52676),l=[{value:t.Lm.Workflow,label:"\u5DE5\u4F5C\u6D41",icon:(0,o.jsx)(i.xp,{})},{value:t.Lm.Plugin,label:"\u63D2\u4EF6",icon:(0,o.jsx)(i.P1,{})},{value:t.Lm.Knowledge,label:"\u77E5\u8BC6\u5E93",icon:(0,o.jsx)(i.r7,{})},{value:t.Lm.Table,label:"\u6570\u636E\u8868",icon:(0,o.jsx)(i.iJ,{})},{value:t.Lm.Model,label:"\u6A21\u578B",icon:(0,o.jsx)(i.ky,{})}],m=[{value:t.Lm.All_Type,label:"\u6240\u6709\u7C7B\u578B",icon:null}].concat(l),p=[{value:t.No.All,label:"\u5168\u90E8"},{value:t.No.Published,label:"\u5DF2\u53D1\u5E03"}],T=[{value:t.os.All_Person,label:"\u6240\u6709\u4EBA"},{value:t.os.Me,label:"\u7531\u6211\u521B\u5EFA"}],Y=[{type:t.KZ.Analyze,label:"\u5206\u6790"},{type:t.KZ.Copy_To_Space,label:"\u590D\u5236\u5230\u7A7A\u95F4"},{type:t.KZ.Move,label:"\u8FC1\u79FB"},{type:t.KZ.Temporary_Session,label:"\u4E34\u65F6\u4F1A\u8BDD"},{type:t.KZ.API_Key,label:"API Key"},{type:t.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E"},{type:t.KZ.Log,label:"\u65E5\u5FD7"},{type:t.KZ.Del,label:"\u5220\u9664",isDel:!0}],F=[{type:t.KZ.Analyze,label:"\u5206\u6790"},{type:t.KZ.Temporary_Session,label:"\u4E34\u65F6\u4F1A\u8BDD"},{type:t.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E"},{type:t.KZ.Log,label:"\u65E5\u5FD7"}],oe=[{type:t.z$.Application_Develop,icon:(0,o.jsx)(a.Z,{name:"icons-nav-stars"}),text:"\u667A\u80FD\u4F53\u5F00\u53D1"},{type:t.z$.Page_Develop,icon:(0,o.jsx)(a.Z,{name:"icons-common-console"}),text:"\u5E94\u7528\u9875\u9762\u5F00\u53D1"},{type:t.z$.Component_Library,icon:(0,o.jsx)(a.Z,{name:"icons-nav-components"}),text:"\u7EC4\u4EF6\u5E93"},{type:t.z$.MCP_Manage,icon:(0,o.jsx)(a.Z,{name:"icons-nav-mcp"}),text:"MCP\u7BA1\u7406"},{type:t.z$.Space_Square,icon:(0,o.jsx)(a.Z,{name:"icons-nav-space_square"}),text:"\u7A7A\u95F4\u5E7F\u573A"},{type:t.z$.Team_Setting,icon:(0,o.jsx)(a.Z,{name:"icons-nav-settings"}),text:"\u6210\u5458\u4E0E\u8BBE\u7F6E"}],k=[{label:"\u6807\u51C6\u521B\u5EFA",value:s.wG.Standard},{label:"AI \u521B\u5EFA",value:s.wG.AI}],I=[{label:"\u5F00\u542F",value:t.nb.Open},{label:"\u5173\u95ED",value:t.nb.Close}],X=[{type:t.wQ.Params,label:"\u53C2\u6570"},{type:t.wQ.Method_Call,label:"\u8C03\u7528\u65B9\u5F0F"},{type:t.wQ.Output_Way,label:"\u8F93\u51FA\u65B9\u5F0F"},{type:t.wQ.Async_Run,label:"\u5F02\u6B65\u8FD0\u884C"},{type:t.wQ.Exception_Handling,label:"\u5F02\u5E38\u5904\u7406"},{type:t.wQ.Card_Bind,label:"\u5361\u7247\u7ED1\u5B9A"}],w=[{type:t.rm.Visible_To_LLM,label:"\u6A21\u578B\u53EF\u89C1"},{type:t.rm.Home_Index,label:"\u9ED8\u8BA4\u9996\u9875"}],xe={name:"",description:"",dataType:s.Gi.String,inputType:n.oI.Query,require:!0,bindValue:"",enable:!0},W={name:"",description:"",dataType:s.Gi.String,enable:!0},g=[{key:r.Q.Agent,label:"\u667A\u80FD\u4F53"},{key:r.Q.Plugin,label:"\u63D2\u4EF6"},{key:r.Q.Workflow,label:"\u5DE5\u4F5C\u6D41"},{key:r.Q.Template,label:"\u6A21\u677F"}]},91268:function(P,j,e){"use strict";e.d(j,{Z:function(){return t}});var i=e(75271),a=e(92448),n=100,s=function(o){setTimeout(function(){o()},n)};function t(r){var o=r.answer,l=r.thinking,m=r.id,p=(0,i.useRef)(null),T=(0,i.useRef)(m?String(m):(0,a.Z)()),Y=(0,i.useRef)({thinking:0,answer:0});return(0,i.useEffect)(function(){s(function(){if(o){var F,oe=o.slice(Y.current.answer);Y.current.answer=o.length,(F=p.current)===null||F===void 0||F.push(oe,"answer")}})},[o]),(0,i.useEffect)(function(){s(function(){if(l){var F,oe=l.slice(Y.current.thinking);Y.current.thinking=l.length,(F=p.current)===null||F===void 0||F.push(oe,"thinking")}})},[l]),(0,i.useEffect)(function(){m&&(T.current=String(m))},[m]),(0,i.useEffect)(function(){return function(){var F;(F=p.current)===null||F===void 0||F.clear(),Y.current={thinking:0,answer:0},T.current=""}},[]),{markdownRef:p,messageIdRef:T}}},53501:function(P,j,e){"use strict";var i=e(26068),a=e.n(i),n=e(15558),s=e.n(n),t=e(48305),r=e.n(t),o=e(39671),l=e(92122),m=e(40677),p=e(41249),T=e(16483),Y=e.n(T),F=e(32222),oe=e.n(F),k=e(75271),I=e(87453),X=e(92448),w=function(){var W=(0,I.useParams)(),g=Number(W.pluginId),$=(0,k.useState)(!1),K=r()($,2),L=K[0],A=K[1],Oe=(0,k.useState)(!1),me=r()(Oe,2),le=me[0],B=me[1],x=(0,k.useState)(!1),E=r()(x,2),u=E[0],d=E[1],y=(0,k.useState)(!1),c=r()(y,2),O=c[0],U=c[1],z=(0,k.useState)(!1),v=r()(z,2),te=v[0],ce=v[1],se=(0,k.useState)(),ge=r()(se,2),_e=ge[0],re=ge[1],_=(0,k.useState)([]),ne=r()(_,2),D=ne[0],Ae=ne[1],Ce=(0,k.useState)([]),Pe=r()(Ce,2),Te=Pe[0],Me=Pe[1],be=(0,k.useState)([]),Re=r()(be,2),ue=Re[0],b=Re[1],fe=(0,k.useState)([]),q=r()(fe,2),S=q[0],M=q[1],de=(0,k.useRef)(!1),ye=function(f,ee,ve){var pe=(0,m.mG)(ue,f,ee,ve);if(b(pe),ee==="dataType"){if(ve===l.Gi.Object||ve===l.Gi.Array_Object){var J=[].concat(s()(D),[f]);Ae(J)}else if(D.includes(f)){var Ne=D.filter(function(Be){return Be!==f});Ae(Ne)}}},je=function(f,ee,ve){var pe=(0,m.mG)(S,f,ee,ve);if(M(pe),ee==="dataType"){if(ve===l.Gi.Object||ve===l.Gi.Array_Object){var J=[].concat(s()(Te),[f]);Me(J)}else if(Te.includes(f)){var Ne=Te.filter(function(Be){return Be!==f});Me(Ne)}}},Q=function(f){var ee=a()({key:(0,X.Z)()},o.TI),ve=(0,m.A4)(ue,f,ee);b(ve);var pe=s()(D);pe.includes(f)||(pe.push(f),Ae(pe))},Se=function(f){var ee=a()({key:(0,X.Z)()},o.gN),ve=(0,m.A4)(S,f,ee);M(ve);var pe=s()(Te);pe.includes(f)||(pe.push(f),Me(pe))},R=function(f){var ee=(0,m.IK)(ue,f);b(ee)},h=function(f){var ee=(0,m.IK)(S,f);M(ee)},N=function(f){var ee=f.icon,ve=f.name,pe=f.description,J=oe()(_e);J.icon=ee,J.name=ve,J.description=pe,re(J),ce(!1)},V=function(){var f=oe()(ue)||[];f.push(a()({key:(0,X.Z)()},o.TI)),b(f)},G=function(){var f=oe()(S)||[];f.push(a()({key:(0,X.Z)()},o.gN)),M(f)},Z=function(f){var ee=(0,m.kS)(f);Me(ee),M(f)},H=function(){U(!1);var f=Y()().toString(),ee=a()(a()({},_e),{},{publishDate:f,modified:f,publishStatus:l.xH.Published});re(ee)},ie=function(){de.current&&(p.ZP.success("\u63D2\u4EF6\u4FDD\u5B58\u6210\u529F"),de.current=!1);var f=Y()().toString(),ee=a()(a()({},_e),{},{modified:f});re(ee)};return{isModalOpen:L,setIsModalOpen:A,autoAnalysisOpen:le,setAutoAnalysisOpen:B,visible:u,setVisible:d,openModal:O,setOpenModal:U,pluginId:g,pluginInfo:_e,setPluginInfo:re,openPlugin:te,setOpenPlugin:ce,inputConfigArgs:ue,setInputConfigArgs:b,outputConfigArgs:S,setOutputConfigArgs:M,expandedRowKeys:D,setExpandedRowKeys:Ae,outputExpandedRowKeys:Te,handleInputValue:ye,handleOutputValue:je,handleInputAddChild:Q,handleOutputAddChild:Se,handleInputDel:R,handleOutputDel:h,handleConfirmUpdate:N,handleInputConfigAdd:V,handleOutputConfigAdd:G,handleOutputConfigArgs:Z,handleConfirmPublishPlugin:H,handleUpdateSuccess:ie,isClickSaveBtnRef:de}};j.Z=w},94166:function(P,j,e){"use strict";var i=e(15558),a=e.n(i),n=e(26068),s=e.n(n),t=e(48305),r=e.n(t),o=e(61265),l=e(39671),m=e(92122),p=e(40677),T=e(75271),Y=e(92448),F=function(){var k=(0,T.useState)([]),I=r()(k,2),X=I[0],w=I[1],xe=(0,T.useState)([]),W=r()(xe,2),g=W[0],$=W[1],K=function(u,d){var y=function c(O){return O.map(function(U){var z=U.dataType,v=U.subArgs;if(z===m.Gi.Array_Object){var te=(0,Y.Z)();if(d.push(te),v&&v.length>0){var ce=[s()(s()({},l.TI),{},{key:te,name:o.zC,dataType:m.Gi.Object,subArgs:c(v)})];return s()(s()({},U),{},{subArgs:ce})}}return z===m.Gi.Object?s()(s()({},U),{},{subArgs:c(v||[])}):U})};return y(u)||[]},L=function(u,d){if(u?.length>0){var y=a()(d),c=K(u,y)||[];$(y),w(c)}else w([])},A=function(u,d,y){var c=(0,p.mG)(X,u,d,y);w(c)},Oe=function(u,d){var y=function c(O){if(O.subArgs&&O.subArgs.length>0){var U,z=((U=O.subArgs)===null||U===void 0?void 0:U.map(function(te){var ce,se=(0,Y.Z)();return(ce=te.subArgs)!==null&&ce!==void 0&&ce.length?(d.push(se),c(te)):s()(s()({},te),{},{key:se,bindValue:""})}))||[],v=(0,Y.Z)();return d.push(v),s()(s()({},O),{},{key:v,subArgs:z})}return s()(s()({},O),{},{key:(0,Y.Z)()})};return y(u)},me=function(u){var d=u.key,y=u.dataType,c,O=[];if(y===m.Gi.Array_Object){if(u.subArgs&&u.subArgs.length>0){var U,z=(U=u.subArgs)===null||U===void 0?void 0:U[0];c=Oe(z,O)}}else{var v,te=y==null||(v=y.toString())===null||v===void 0||(v=v.split("_"))===null||v===void 0?void 0:v[1];c=s()(s()({},l.TI),{},{key:(0,Y.Z)(),name:o.zC,dataType:te})}var ce=(0,p.A4)(X,d,c);w(ce);var se=a()(g);se.includes(d)||se.push(d),y===m.Gi.Array_Object&&se.push.apply(se,O),$(se)},le=function(u){var d=(0,p.IK)(X,u);w(d)},B=function E(u){return u?.map(function(d){var y=d.subArgs,c={};return y?.forEach(function(O){var U,z,v;if(O.dataType===m.Gi.Object&&O.name!==o.zC){var te,ce={};(te=O.subArgs)===null||te===void 0||te.forEach(function(ge){ce[ge.name]=ge.bindValue}),c[O.name]=ce}else if((U=O.dataType)!==null&&U!==void 0&&U.includes("Array")&&!((z=O.dataType)!==null&&z!==void 0&&z.includes("Object"))){var se;c[O.name]=(se=O.subArgs)===null||se===void 0?void 0:se.map(function(ge){return ge.bindValue})}else!((v=O.dataType)!==null&&v!==void 0&&v.includes("Array"))&&O.dataType!==m.Gi.Object?c[O.name]=O.bindValue:c[O.name]=E(O?.subArgs)}),c})},x=function E(u){var d={};return u?.forEach(function(y){var c=y.name,O=y.dataType,U=y.subArgs;if(!(O!=null&&O.includes("Array"))&&O!==m.Gi.Object&&(d[c]=y.bindValue),O!=null&&O.includes("Array")&&!(O!=null&&O.includes("Object"))){var z;d[c]=(z=y.subArgs)===null||z===void 0?void 0:z.map(function(v){return v.bindValue})}O===m.Gi.Object&&c!==o.zC&&(d[c]=E(U||[])),O===m.Gi.Array_Object&&U&&U?.length>0&&(d[c]=B(U))}),d};return{handleInit:L,dataSource:X,handleDataSource:x,expandedRowKeys:g,handleInputValue:A,handleInputAddChild:me,handleInputDel:le}};j.Z=F},48512:function(P,j,e){"use strict";e.d(j,{DJ:function(){return p},RY:function(){return Y},YM:function(){return w},b9:function(){return xe},iE:function(){return m},x8:function(){return oe}});var i=e(65173),a=e(73415),n=e(92122),s=e(56769),t=e(63619),r=e(28246),o=e(43898),l=e(52676),m=[{name:"",key:"group1",children:[{name:"\u5927\u6A21\u578B",icon:(0,l.jsx)(a.EF,{}),bgIcon:a.G0,type:n.C8.LLM,shape:n.K$.General,description:"\u8C03\u7528\u5927\u8BED\u8A00\u6A21\u578B\uFF0C\u4F7F\u7528\u53D8\u91CF\u548C\u63D0\u793A\u8BCD\u751F\u6210\u56DE\u590D"},{name:"\u63D2\u4EF6",icon:(0,l.jsx)(a.KS,{}),bgIcon:a.SU,type:n.C8.Plugin,shape:n.K$.General,description:"\u5FC5\u5E94\u641C\u7D22\u5F15\u64CE\u3002\u5F53\u4F60\u9700\u8981\u641C\u7D22\u4F60\u4E0D\u77E5\u9053\u7684\u4FE1\u606F\uFF0C\u6BD4\u5982\u5929\u6C14..."},{name:"\u5DE5\u4F5C\u6D41",icon:(0,l.jsx)(a.fl,{}),bgIcon:a.Ls,type:n.C8.Workflow,shape:n.K$.General,description:"\u5FC5\u5E94\u641C\u7D22\u5F15\u64CE\u3002\u5F53\u4F60\u9700\u8981\u641C\u7D22\u4F60\u4E0D\u77E5\u9053\u7684\u4FE1\u606F\uFF0C\u6BD4\u5982\u5929\u6C14..."},{name:"MCP",icon:(0,l.jsx)(a.VE,{}),bgIcon:a.zH,type:n.C8.MCP,shape:n.K$.General,description:"MCP \u7EC4\u4EF6"}]},{name:"\u4E1A\u52A1\u903B\u8F91",key:"group2",children:[{name:"\u4EE3\u7801",icon:(0,l.jsx)(a.HF,{}),bgIcon:a.Po,type:n.C8.Code,shape:n.K$.General,description:"\u7F16\u5199\u4EE3\u7801\uFF0C\u5904\u7406\u8F93\u5165\u53D8\u91CF\u6765\u751F\u6210\u8FD4\u56DE\u503C"},{name:"\u6761\u4EF6\u5206\u652F",icon:(0,l.jsx)(a.ZO,{}),bgIcon:a.TK,type:n.C8.Condition,shape:n.K$.General,description:"\u8FDE\u63A5\u591A\u4E2A\u4E0B\u6E38\u5206\u652F\uFF0C\u82E5\u8BBE\u5B9A\u7684\u6761\u4EF6\u6210\u7ACB\u5219\u4EC5\u8FD0\u884C\u5BF9\u5E94\u7684\u5206\u652F\uFF0C\u82E5 \u5747\u4E0D\u6210\u7ACB\u5219\u53EA\u8FD0\u884C\u201C\u5426\u5219\u201D\u5206\u652F"},{name:"\u610F\u56FE\u8BC6\u522B",icon:(0,l.jsx)(a.mT,{}),bgIcon:a.cp,type:n.C8.IntentRecognition,shape:n.K$.General,description:"\u7528\u4E8E\u7528\u6237\u8F93\u5165\u7684\u610F\u56FE\u8BC6\u522B\uFF0C\u5E76\u5C06\u5176\u4E0E\u9884\u8BBE\u610F\u56FE\u9009\u9879\u8FDB\u884C\u5339\u914D\u3002"},{name:"\u5FAA\u73AF",icon:(0,l.jsx)(a.ZX,{}),bgIcon:a.bD,type:n.C8.Loop,shape:n.K$.Loop,description:"\u7528\u4E8E\u901A\u8FC7\u8BBE\u5B9A\u5FAA\u73AF\u6B21\u6570\u548C\u903B\u8F91\uFF0C\u91CD\u590D\u6267\u884C\u4E00\u7CFB\u5217\u4EFB\u52A1\u3002"},{name:"\u7EE7\u7EED\u5FAA\u73AF",icon:(0,l.jsx)(a.uS,{}),bgIcon:a.jI,type:n.C8.LoopContinue,shape:n.K$.General,description:""},{name:"\u7EC8\u6B62\u5FAA\u73AF",icon:(0,l.jsx)(a.QL,{}),bgIcon:a.J2,type:n.C8.LoopBreak,shape:n.K$.General,description:""}]},{name:"\u77E5\u8BC6&\u6570\u636E",key:"group3",children:[{name:"\u77E5\u8BC6\u5E93",icon:(0,l.jsx)(a.fF,{}),bgIcon:a.Lm,type:n.C8.Knowledge,shape:n.K$.General,description:"\u5728\u9009\u5B9A\u7684\u77E5\u8BC6\u4E2D\uFF0C\u6839\u636E\u8F93\u5165\u53D8\u91CF\u53EC\u56DE\u6700\u5339\u914D\u7684\u4FE1\u606F"},{name:"\u53D8\u91CF",icon:(0,l.jsx)(a.JU,{}),bgIcon:a.Hl,type:n.C8.Variable,shape:n.K$.General,description:"\u7528\u4E8E\u8BFB\u53D6\u548C\u5199\u5165\u9879\u76EE\u4E2D\u7684\u53D8\u91CF\uFF0C\u53D8\u91CF\u540D\u987B\u4E0E\u9879\u76EE\u4E2D\u7684\u53D8\u91CF\u540D\u76F8\u5339\u914D"},{name:"\u957F\u671F\u8BB0\u5FC6",icon:(0,l.jsx)(a.GY,{}),bgIcon:a.aA,type:n.C8.LongTermMemory,shape:n.K$.General,description:"\u7528\u4E8E\u8C03\u7528\u957F\u671F\u8BB0\u5FC6\uFF0C\u83B7\u53D6\u7528\u6237\u7684\u4E2A\u6027\u5316\u4FE1\u606F"}]},{name:"\u6570\u636E\u8868",key:"group4",children:[{name:"\u6570\u636E\u65B0\u589E",icon:(0,l.jsx)(a.wN,{}),bgIcon:a.Te,type:n.C8.TableDataAdd,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u8FDB\u884C\u6570\u636E\u5199\u5165"},{name:"\u6570\u636E\u5220\u9664",icon:(0,l.jsx)(a.t_,{}),bgIcon:a.u8,type:n.C8.TableDataDelete,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u6839\u636E\u6307\u5B9AID\u8FDB\u884C\u6570\u636E\u5220\u9664"},{name:"\u6570\u636E\u66F4\u65B0",icon:(0,l.jsx)(a.Lg,{}),bgIcon:a.Og,type:n.C8.TableDataUpdate,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u6839\u636E\u6307\u5B9A\u6761\u4EF6\u8FDB\u884C\u6570\u636E\u66F4\u65B0"},{name:"\u6570\u636E\u67E5\u8BE2",icon:(0,l.jsx)(a.Qe,{}),bgIcon:a.c7,type:n.C8.TableDataQuery,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u6839\u636E\u6307\u5B9A\u6761\u4EF6\u8FDB\u884C\u6570\u636E\u67E5\u8BE2"},{name:"SQL\u81EA\u5B9A\u4E49",icon:(0,l.jsx)(a.rX,{}),bgIcon:a.D9,type:n.C8.TableSQL,shape:n.K$.General,description:"\u53EF\u652F\u6301\u5BF9\u6570\u636E\u8868\u7684\u67E5\u8BE2\u63A7\u5236\uFF0C\u7528\u6237\u53EF\u67E5\u8BE2\u5176\u4ED6\u7528\u6237\u63D0\u4EA4\u7684\u6570\u636E\uFF0C\u7531\u5F00\u53D1\u8005\u63A7\u5236"}]},{name:"\u7EC4\u4EF6&\u5DE5\u5177",key:"group5",children:[{name:"\u95EE\u7B54",icon:(0,l.jsx)(a.MO,{}),bgIcon:a.HI,type:n.C8.QA,shape:n.K$.General,description:"\u652F\u6301\u4E2D\u95F4\u5411\u7528\u6237\u63D0\u95EE\u95EE\u9898"},{name:"\u6587\u672C\u5904\u7406",icon:(0,l.jsx)(a.lR,{}),bgIcon:a.v$,type:n.C8.TextProcessing,shape:n.K$.General,description:"\u7528\u4E8E\u5904\u7406\u591A\u4E2A\u5B57\u7B26\u4E32\u7C7B\u578B\u53D8\u91CF\u7684\u683C\u5F0F"},{name:"\u6587\u6863\u63D0\u53D6",icon:(0,l.jsx)(a.zL,{}),bgIcon:a.AR,type:n.C8.DocumentExtraction,shape:n.K$.General,description:"\u7528\u4E8E\u63D0\u53D6\u6587\u6863\u5185\u5BB9\uFF0C\u652F\u6301\u7684\u6587\u4EF6\u7C7B\u578B: txt\u3001 markdown\u3001pdf\u3001 html\u3001 xlsx\u3001 xls\u3001 docx\u3001 csv\u3001 md\u3001 htm"},{name:"http\u8BF7\u6C42",icon:(0,l.jsx)(a.qm,{}),bgIcon:a.L5,type:n.C8.HTTPRequest,shape:n.K$.General,description:"\u7528\u4E8E\u914D\u7F6Ehttp\u8BF7\u6C42\u8C03\u7528\u5DF2\u6709\u7684\u670D\u52A1"}]},{name:"\u8F93\u51FA",key:"group6",children:[{name:"\u8FC7\u7A0B\u8F93\u51FA",icon:(0,l.jsx)(a.N$,{}),bgIcon:a.bi,type:n.C8.Output,shape:n.K$.General,description:"\u652F\u6301\u4E2D\u95F4\u8FC7\u7A0B\u7684\u6D88\u606F\u8F93\u51FA\uFF0C\u652F\u6301\u6D41\u5F0F\u548C\u975E\u6D41\u5F0F\u4E24\u79CD\u65B9\u5F0F"}]}],p=[{label:"String",value:n.Gi.String},{label:"Integer",value:n.Gi.Integer},{label:"Number",value:n.Gi.Number},{label:"File",value:"File",children:[{label:"Doc",value:n.Gi.File_Doc},{label:"Excel",value:n.Gi.File_Excel},{label:"PPT",value:n.Gi.File_PPT},{label:"Txt",value:n.Gi.File_Txt},{label:"Image",value:n.Gi.File_Image},{label:"Audio",value:n.Gi.File_Audio},{label:"Video",value:n.Gi.File_Video},{label:"Svg",value:n.Gi.File_Svg},{label:"Code",value:n.Gi.File_Code}]},{label:"Boolean",value:n.Gi.Boolean},{label:"Object",value:n.Gi.Object},{label:"Array<String>",value:n.Gi.Array_String},{label:"Array<Integer>",value:n.Gi.Array_Integer},{label:"Array<Number>",value:n.Gi.Array_Number},{label:"Array<Boolean>",value:n.Gi.Array_Boolean},{label:"Array<Object>",value:n.Gi.Array_Object},{label:"Array<File>",value:"Array_File",children:[{label:"Default",value:n.Gi.Array_File_Default},{label:"Array<Image>",value:n.Gi.Array_File_Image},{label:"Array<Doc>",value:n.Gi.Array_File_Doc},{label:"Array<Code>",value:n.Gi.Array_File_Code},{label:"Array<PPT>",value:n.Gi.Array_File_PPT},{label:"Array<Txt>",value:n.Gi.Array_File_Txt},{label:"Array<Excel>",value:n.Gi.Array_File_Excel},{label:"Array<Audio>",value:n.Gi.Array_File_Audio},{label:"Array<Zip>",value:n.Gi.Array_File_Zip},{label:"Array<Video>",value:n.Gi.Array_File_Video},{label:"Array<Svg>",value:n.Gi.Array_File_Svg}]}],T=[{label:"\u6807\u9898\u751F\u6210",icon:(0,l.jsx)(a.nG,{}),key:"\u6807\u9898\u751F\u6210",children:[{key:"output",label:"output",tag:"String"},{key:"setting",label:"Setting",tag:"Number"}]}],Y=[{label:"\u4F7F\u7528\u6570\u7EC4\u5FAA\u73AF",value:"ARRAY_LOOP"},{label:"\u6307\u5B9A\u6B21\u6570\u5FAA\u73AF",value:"SPECIFY_TIMES_LOOP"},{label:"\u65E0\u9650\u5FAA\u73AF",value:"INFINITE_LOOP"}],F=[{name:"name",placeholder:"\u53D8\u91CF\u540D",label:"\u53D8\u91CF\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D8\u91CF\u540D"}],component:t.Z,width:140},{name:"dataType",placeholder:"\u9009\u62E9\u7C7B\u578B",label:"\u53D8\u91CF\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u53D8\u91CF\u7C7B\u578B"}],component:r.Z,width:110,options:p},{name:"description",placeholder:"\u63CF\u8FF0",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}],component:o.Z,width:0},{name:"require",placeholder:"\u53D8\u91CF\u540D",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D8\u91CF\u540D"}],component:o.Z,width:0}],oe=[{name:"name",placeholder:"\u53C2\u6570\u540D",label:"\u53C2\u6570\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D"}],component:t.Z,width:100},{name:"bindValue",placeholder:"\u8F93\u5165\u6216\u5F15\u7528\u53C2\u6570\u503C",label:"\u53C2\u6570\u503C",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C"}],component:i.Z,width:180},{name:"description",placeholder:"\u63CF\u8FF0",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}],component:o.Z,width:0}],k=[{name:"intent",placeholder:"\u8F93\u5165\u53C2\u6570\u503C",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u610F\u56FE\u7684\u63CF\u8FF0"}],component:t.Z,width:296}],I=[{name:"name",placeholder:"\u53C2\u6570\u540D",label:"\u53C2\u6570\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D"}],component:t.Z,width:140},{name:"paramsValue",placeholder:"\u8F93\u5165\u6216\u5F15\u7528\u53D8\u91CF\u503C",label:"\u53D8\u91CF\u503C",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D8\u91CF\u503C"}],component:i.Z,width:120}],X=[{icon:(0,l.jsx)(s.Z,{}),name:"\u8D44\u6E90\u5E93\u5DE5\u4F5C\u6D41",key:"resources"},{icon:(0,l.jsx)(s.Z,{}),name:"\u5B98\u65B9\u793A\u4F8B",key:"example"}],w=[{label:"\u7B49\u4E8E",value:"EQUAL",displayValue:"="},{label:"\u4E0D\u7B49\u4E8E",value:"NOT_EQUAL",displayValue:"\u2260"},{label:"\u5927\u4E8E",value:"GREATER_THAN",displayValue:">"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"GREATER_THAN_OR_EQUAL",displayValue:"\u2265"},{label:"\u5C0F\u4E8E",value:"LESS_THAN",displayValue:"<"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"LESS_THAN_OR_EQUAL",displayValue:"\u2264"},{label:"\u957F\u5EA6\u5927\u4E8E",value:"LENGTH_GREATER_THAN",displayValue:">"},{label:"\u957F\u5EA6\u5927\u4E8E\u7B49\u4E8E",value:"LENGTH_GREATER_THAN_OR_EQUAL",displayValue:"\u2265"},{label:"\u957F\u5EA6\u5C0F\u4E8E",value:"LENGTH_LESS_THAN",displayValue:"<"},{label:"\u957F\u5EA6\u5C0F\u4E8E\u7B49\u4E8E",value:"LENGTH_LESS_THAN_OR_EQUAL",displayValue:"\u2264"},{label:"\u5305\u542B",value:"CONTAINS",displayValue:"\u2283"},{label:"\u4E0D\u5305\u542B",value:"NOT_CONTAINS",displayValue:"\u2285"},{label:"\u5339\u914D\u6B63\u5219\u8868\u8FBE\u5F0F",value:"MATCH_REGEX",displayValue:"~"},{label:"\u4E3A\u7A7A",value:"IS_NULL",displayValue:"\u2205"},{label:"\u4E0D\u4E3A\u7A7A",value:"NOT_NULL",displayValue:"!\u2205"}],xe=[{label:"\u7B49\u4E8E",value:"EQUAL",displayValue:"="},{label:"\u4E0D\u7B49\u4E8E",value:"NOT_EQUAL",displayValue:"\u2260"},{label:"\u5927\u4E8E",value:"GREATER_THAN",displayValue:">"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"GREATER_THAN_OR_EQUAL",displayValue:"\u2265"},{label:"\u5C0F\u4E8E",value:"LESS_THAN",displayValue:"<"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"LESS_THAN_OR_EQUAL",displayValue:"\u2264"},{label:"\u5C5E\u4E8E",value:"IN",displayValue:"\u2283"},{label:"\u4E0D\u5C5E\u4E8E",value:"NOT_IN",displayValue:"\u2285"},{label:"\u4E3A\u7A7A",value:"IS_NULL",displayValue:"\u2205"},{label:"\u4E0D\u4E3A\u7A7A",value:"NOT_NULL",displayValue:"!\u2205"}]},87450:function(P,j,e){"use strict";e.r(j),e.d(j,{default:function(){return Te}});var i=e(48305),a=e.n(i),n=e(34204),s=e(30704),t=e(6377),r=e(51802),o=e(61304),l=e(2660),m=e(56716),p=e(27791),T=e(73415),Y=e(53501),F=e(48512),oe=e(24643),k=e(64799),I=e(92122),X=e(45019),w=e(44953),xe=e(40677),W=e(86743),g=e(63619),$=e(28246),K=e(43898),L=e(68108),A=e(7010),Oe=e(10580),me=e(9504),le=e(94581),B=e.n(le),x=e(75271),E=e(87453),u={"xagi-nav-style2":"xagi-nav-style2___r06KJ",text:"text___LMfhu","page-container":"page-container___S5Asf",container:"container___Fwq3l","main-container":"main-container___BnLEw","code-wrap":"code-wrap___XYI5d",title:"title___VcUcA","request-select":"request-select___wCJnV","table-wrap":"table-wrap___EuCyz","mb-24":"mb-24___PIB_Q",select:"select___lnnl7"},d=e(26145),y=e(87620),c=e(86230),O=e(61606),U=e(89858),z=e(66118),v=e(7036),te=e(73813),ce=e(12758),se=e(73981),ge=e(16483),_e=e.n(ge),re={"xagi-nav-style2":"xagi-nav-style2___cjGhf",text:"text___HRMYU","page-container":"page-container___gk9XZ",header:"header___P8mE2","icon-back":"icon-back___wQGMi",logo:"logo___MuRti",section:"section___nmrv7","top-box":"top-box___xbScS",name:"name___e7yc4",circle:"circle___ggE8R","bottom-box":"bottom-box___FbQiT",box:"box___dCAYI","update-time":"update-time___y6ozx",segment:"segment___FWtpC",history:"history___raH8V","try-btn":"try-btn___DWPE4"},_=e(52676),ne=B().bind(re),D=function(be){var Re=be.codeMode,ue=be.onChange,b=be.pluginInfo,fe=be.onEdit,q=be.onToggleHistory,S=be.onSave,M=be.onTryRun,de=be.onPublish,ye=(0,E.useParams)(),je=ye.spaceId,Q=(0,x.useMemo)(function(){if(b){var Se;return!(b!=null&&(Se=b.permissions)!==null&&Se!==void 0&&Se.includes(I.jE.Publish))}return!1},[b]);return(0,_.jsxs)("header",{className:ne("flex","items-center","w-full",re.header),children:[(0,_.jsx)(O.Z,{className:ne(re["icon-back"],"cursor-pointer"),onClick:function(){return(0,c.bC)("/space/".concat(je,"/library"))}}),(0,_.jsx)("img",{className:ne(re.logo),src:b?.icon||d,alt:""}),(0,_.jsxs)("section",{className:ne("flex-1","flex","flex-col","content-between",re.section),children:[(0,_.jsxs)("div",{className:ne("flex",re["top-box"]),children:[(0,_.jsx)("h3",{className:ne(re.name,"text-ellipsis"),children:b?.name}),(0,_.jsx)(U.Z,{className:ne("cursor-pointer","hover-box"),onClick:fe}),b?.publishStatus===I.xH.Published&&(0,_.jsx)(z.Z,{className:ne(re.circle)}),b?.publishDate!==null&&_e()(b?.publishDate).isBefore(b?.modified)&&(0,_.jsx)(ce.Z,{bordered:!1,color:"volcano",style:{marginLeft:"6px"},children:"\u6709\u66F4\u65B0\u672A\u53D1\u5E03"})]}),(0,_.jsxs)("div",{className:ne(re["bottom-box"],"flex","items-center"),children:[(0,_.jsx)("span",{className:ne(re.box),children:b?.type===X.AQ.HTTP?"http":"\u4EE3\u7801"}),(0,_.jsx)("span",{className:ne(re.box),children:b?.publishStatus===I.xH.Published?"\u5DF2\u53D1\u5E03":"\u672A\u53D1\u5E03"}),(0,_.jsxs)("span",{className:ne(re["update-time"]),children:["\u914D\u7F6E\u4FDD\u5B58\u4E8E",_e()(b?.modified).format("HH:mm")]})]})]}),(0,_.jsx)(se.Z,{rootClassName:re.segment,value:Re,onChange:ue,options:y.fi}),(0,_.jsx)(v.Z,{className:ne(re.history,"cursor-pointer"),onClick:q}),(0,_.jsx)(me.ZP,{className:ne(re["try-btn"]),type:"primary",onClick:S,children:"\u4FDD\u5B58"}),(0,_.jsx)(me.ZP,{className:ne(re["try-btn"]),type:"primary",icon:(0,_.jsx)(te.Z,{}),onClick:M,children:"\u8BD5\u8FD0\u884C"}),(0,_.jsx)(me.ZP,{type:"primary",onClick:de,disabled:Q,children:"\u53D1\u5E03"})]})},Ae=D,Ce=B().bind(u),Pe=function(){var be,Re=(0,E.useParams)(),ue=Number(Re.spaceId),b=(0,x.useState)(X.N9.Metadata),fe=a()(b,2),q=fe[0],S=fe[1],M=(0,x.useState)(""),de=a()(M,2),ye=de[0],je=de[1],Q=(0,Y.Z)(),Se=Q.isModalOpen,R=Q.setIsModalOpen,h=Q.autoAnalysisOpen,N=Q.setAutoAnalysisOpen,V=Q.visible,G=Q.setVisible,Z=Q.openModal,H=Q.setOpenModal,ie=Q.pluginId,C=Q.pluginInfo,f=Q.setPluginInfo,ee=Q.openPlugin,ve=Q.setOpenPlugin,pe=Q.inputConfigArgs,J=Q.setInputConfigArgs,Ne=Q.outputConfigArgs,Be=Q.expandedRowKeys,Ge=Q.setExpandedRowKeys,Ye=Q.outputExpandedRowKeys,Fe=Q.handleInputValue,Ve=Q.handleOutputValue,We=Q.handleInputAddChild,He=Q.handleOutputAddChild,Xe=Q.handleInputDel,Je=Q.handleOutputDel,ke=Q.handleConfirmUpdate,ze=Q.handleInputConfigAdd,we=Q.handleOutputConfigAdd,Ue=Q.handleOutputConfigArgs,qe=Q.handleConfirmPublishPlugin,en=Q.handleUpdateSuccess,Le=Q.isClickSaveBtnRef,Ze=(0,E.useRequest)(oe.dB,{manual:!0,debounceInterval:300,onSuccess:function(he){var ae;if(f(he),je(he==null||(ae=he.config)===null||ae===void 0?void 0:ae.code),he.config){var De=he.config,Ie=De.inputArgs,tn=De.outputArgs,vn=(0,xe.kS)(Ie);Ge(vn),J(Ie),Ue(tn)}}}),Ke=Ze.run,nn=(0,E.useRequest)(oe.TU,{manual:!0,debounceInterval:300,onSuccess:function(){en()}}),an=nn.run;(0,x.useEffect)(function(){Ke(ie)},[ie]);var $e=function(he){return he[he.length-1]},ln=[{title:(0,_.jsx)(t.Z,{label:"\u53C2\u6570\u540D\u79F0"}),dataIndex:"name",key:"name",className:"flex items-center",render:function(he,ae){return(0,_.jsx)(g.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0\uFF0C\u786E\u4FDD\u542B\u4E49\u6E05\u6670",value:he,onChange:function(Ie){return Fe(ae.key,"name",Ie.target.value)}})}},{title:(0,_.jsx)(t.Z,{label:"\u53C2\u6570\u63CF\u8FF0"}),dataIndex:"description",key:"description",render:function(he,ae){return(0,_.jsx)(g.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u63CF\u8FF0\uFF0C\u786E\u4FDD\u63CF\u8FF0\u8BE6\u7EC6\u4FBF\u4E8E\u5927\u6A21\u578B\u66F4\u597D\u7684\u7406\u89E3",value:he,onChange:function(Ie){return Fe(ae.key,"description",Ie.target.value)}})}},{title:(0,_.jsx)(t.Z,{label:"\u53C2\u6570\u7C7B\u578B"}),dataIndex:"dataType",key:"dataType",width:120,render:function(he,ae){return(0,_.jsx)($.Z,{rootClassName:u.select,allowClear:!1,options:F.DJ,expandTrigger:"hover",displayRender:$e,defaultValue:(0,w.n3)(he),onChange:function(Ie){Fe(ae.key,"dataType",(0,w.$g)(Ie))},placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u7C7B\u578B"})}},{title:"\u662F\u5426\u5FC5\u987B",dataIndex:"require",key:"require",width:100,align:"center",render:function(he,ae){return(0,_.jsx)(K.Z,{checked:he,onChange:function(Ie){return Fe(ae.key,"require",Ie.target.checked)}})}},{title:"\u9ED8\u8BA4\u503C",dataIndex:"bindValue",key:"bindValue",width:150,render:function(he,ae){var De;return(0,_.jsx)(g.Z,{placeholder:"\u8BF7\u8F93\u5165\u9ED8\u8BA4\u503C",disabled:I.Gi.Object===ae.dataType||I.Gi.Array_Object===ae.dataType||((De=ae.dataType)===null||De===void 0?void 0:De.includes("Array"))||!ae.enable,value:he,onChange:function(tn){return Fe(ae.key,"bindValue",tn.target.value)}})}},{title:"\u5F00\u542F",dataIndex:"enable",key:"enable",width:70,align:"center",render:function(he,ae){return(0,_.jsx)(L.Z,{title:ae.require&&!ae.bindValue&&"\u6B64\u53C2\u6570\u662F\u5FC5\u586B\u53C2\u6570\uFF0C\u586B\u5199\u9ED8\u8BA4\u503C\u540E\uFF0C\u6B64\u5F00\u5173\u53EF\u7528",children:(0,_.jsx)(K.Z,{disabled:ae.require&&!ae.bindValue,checked:he,onChange:function(Ie){return Fe(ae.key,"enable",Ie.target.checked)}})})}},{title:"\u64CD\u4F5C",key:"action",width:80,align:"right",render:function(he,ae){return(0,_.jsxs)(A.Z,{size:"middle",children:[(I.Gi.Object===ae.dataType||I.Gi.Array_Object===ae.dataType)&&(0,_.jsx)(T.Me,{className:Ce("cursor-pointer"),onClick:function(){return We(ae.key)}}),(0,_.jsx)(W.Z,{onClick:function(){return Xe(ae.key)}})]})}}],sn=[{title:(0,_.jsx)(t.Z,{label:"\u53C2\u6570\u540D\u79F0"}),dataIndex:"name",key:"name",width:430,className:"flex items-center",render:function(he,ae){return(0,_.jsx)(g.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0\uFF0C\u786E\u4FDD\u542B\u4E49\u6E05\u6670",value:he,onChange:function(Ie){return Ve(ae.key,"name",Ie.target.value)}})}},{title:(0,_.jsx)(t.Z,{label:"\u53C2\u6570\u63CF\u8FF0"}),dataIndex:"description",key:"description",render:function(he,ae){return(0,_.jsx)(g.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u63CF\u8FF0\uFF0C\u786E\u4FDD\u63CF\u8FF0\u8BE6\u7EC6\u4FBF\u4E8E\u5927\u6A21\u578B\u66F4\u597D\u7684\u7406\u89E3",onChange:function(Ie){return Ve(ae.key,"description",Ie.target.value)},value:he})}},{title:(0,_.jsx)(t.Z,{label:"\u53C2\u6570\u7C7B\u578B"}),dataIndex:"dataType",key:"dataType",width:120,render:function(he,ae){return(0,_.jsx)($.Z,{allowClear:!1,rootClassName:u.select,options:F.DJ,expandTrigger:"hover",displayRender:$e,defaultValue:(0,w.n3)(he),onChange:function(Ie){Ve(ae.key,"dataType",(0,w.$g)(Ie))},placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u7C7B\u578B"})}},{title:"\u5F00\u542F",dataIndex:"enable",key:"enable",width:70,align:"center",render:function(he,ae){return(0,_.jsx)(K.Z,{checked:he,onChange:function(Ie){return Ve(ae.key,"enable",Ie.target.checked)}})}},{title:"\u64CD\u4F5C",key:"action",width:80,align:"right",render:function(he,ae){return(0,_.jsxs)(A.Z,{size:"middle",children:[(I.Gi.Object===ae.dataType||I.Gi.Array_Object===ae.dataType)&&(0,_.jsx)(T.Me,{className:Ce("cursor-pointer"),onClick:function(){return He(ae.key)}}),(0,_.jsx)(W.Z,{onClick:function(){return Je(ae.key)}})]})}}],Qe=function(){an({id:ie,config:{inputArgs:pe,outputArgs:Ne,code:ye}})},rn=function(){Le.current=!0,Qe()},on=function(){Qe(),R(!0)},un=function(){Qe(),H(!0)},dn=function(){Qe(),N(!0)},cn=function(he){var ae=he;S(ae)};return(0,_.jsxs)("div",{className:Ce("flex","h-full"),children:[(0,_.jsxs)("div",{className:Ce(u.container,"flex","flex-col","flex-1"),children:[(0,_.jsx)(Ae,{codeMode:q,pluginInfo:C,onEdit:function(){return ve(!0)},onChange:cn,onToggleHistory:function(){return G(!V)},onSave:rn,onTryRun:on,onPublish:un}),q===X.N9.Metadata?(0,_.jsxs)("div",{className:Ce(u["main-container"],"overflow-y","flex-1"),children:[(0,_.jsx)(o.Z,{title:"\u5165\u53C2\u914D\u7F6E",onClick:ze}),(0,_.jsx)(Oe.Z,{className:Ce(u["table-wrap"],u["mb-24"],"overflow-hide"),columns:ln,dataSource:pe,pagination:!1,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:Be,expandIcon:function(){return null}}}),(0,_.jsx)(o.Z,{title:"\u51FA\u53C2\u914D\u7F6E",onClick:we,extra:(0,_.jsx)(me.ZP,{onClick:dn,children:"\u81EA\u52A8\u89E3\u6790"})}),(0,_.jsx)(Oe.Z,{className:Ce(u["table-wrap"],"overflow-hide"),columns:sn,dataSource:Ne,pagination:!1,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:Ye,expandIcon:function(){return null}}})]}):(0,_.jsx)("div",{className:Ce(u["main-container"],u["code-wrap"],"overflow-y","flex-1"),children:(0,_.jsx)(n.Z,{value:ye,height:"100%",onChange:je,codeLanguage:C==null||(be=C.config)===null||be===void 0?void 0:be.codeLang})})]}),(0,_.jsx)(l.Z,{inputConfigArgs:pe,inputExpandedRowKeys:Be,pluginId:ie,pluginName:C?.name,open:Se,onCancel:function(){return R(!1)}}),(0,_.jsx)(r.Z,{inputConfigArgs:pe,inputExpandedRowKeys:Be,pluginId:ie,pluginName:C?.name,open:h,onCancel:function(){return N(!1)},onConfirm:Ue}),(0,_.jsx)(m.Z,{mode:k.qR.Plugin,targetId:ie,category:C?.category,spaceId:ue,open:Z,onlyShowTemplate:!1,onCancel:function(){return H(!1)},onConfirm:qe}),(0,_.jsx)(p.Z,{targetId:ie,targetName:C?.name,targetType:k.qR.Plugin,permissions:C?.permissions||[],visible:V,onClose:function(){return G(!1)}}),(0,_.jsx)(s.Z,{open:ee,id:C?.id,icon:C?.icon,name:C?.name,description:C?.description,mode:I.jA.Update,onCancel:function(){return ve(!1)},onConfirm:ke})]})},Te=Pe},63136:function(P,j,e){"use strict";e.d(j,{L:function(){return a},U:function(){return i}});var i=function(n){return n.WORKFLOW_LLM_NODE="WORKFLOW_LLM_NODE",n.AGENT="AGENT",n}({}),a=function(n){return n.prompt="prompt",n.code="code",n.sql="sql",n}({})},40677:function(P,j,e){"use strict";e.d(j,{A4:function(){return k},DY:function(){return A},IK:function(){return X},Lg:function(){return $},T6:function(){return me},YY:function(){return oe},k$:function(){return L},kS:function(){return I},mG:function(){return g},y7:function(){return K}});var i=e(82092),a=e.n(i),n=e(335),s=e.n(n),t=e(15558),r=e.n(t),o=e(26068),l=e.n(o),m=e(39671),p=e(92122),T=e(59245),Y=e.n(T),F=e(92448),oe=function le(B,x){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!Array.isArray(B))return-1;for(var u=0;u<B.length;u++){var d=B[u];if(d.key===x)return E;if(d.subArgs){var y=le(d.subArgs,x,E+1);if(y!==-1)return y}}return-1},k=function(B,x,E){var u=function d(y){return y.map(function(c){return c.key===x?l()(l()({},c),{},{subArgs:[].concat(r()(c.subArgs||[]),[E])}):c.subArgs?l()(l()({},c),{},{subArgs:d(c.subArgs)}):c})};return u(B)||[]},I=function(B){if(!B)return[];var x=[],E=function u(d){var y=s()(d),c;try{for(y.s();!(c=y.n()).done;){var O=c.value;O.subArgs&&(x.push(O.key),u(O.subArgs))}}catch(U){y.e(U)}finally{y.f()}};return E(B),x},X=function(B,x){var E=function u(d){return d.filter(function(y){return y.key===x?!1:(y.subArgs&&(y.subArgs=u(y.subArgs)),!0)})};return E(B)||[]},w=function le(B,x,E){x?.forEach(function(u){var d;u[B]=E,(d=u.subArgs)!==null&&d!==void 0&&d.length&&le(B,u.subArgs,E)})},xe=function le(B,x){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],u=s()(B),d;try{for(u.s();!(d=u.n()).done;){var y=d.value;if(y.key===x)return E;if(y.subArgs&&y.subArgs.length>0){E.push(y.key);var c=le(y.subArgs,x,E);if(c)return c;E.pop()}}}catch(O){u.e(O)}finally{u.f()}return null},W=function le(B,x,E){x.forEach(function(u){var d;E.includes(u.key)&&(u[B]=!0),u!=null&&(d=u.subArgs)!==null&&d!==void 0&&d.length&&le(B,u.subArgs,E)})},g=function(B,x,E,u){var d=[],y=function O(U){return U.map(function(z){if(z.key===x){if(E==="dataType")if(([p.Gi.Object,p.Gi.Array_Object].includes(u)||u.toString().includes("Array"))&&(z.bindValue=""),[p.Gi.Object,p.Gi.Array_Object].includes(u)){var v=l()({key:(0,F.Z)()},m.TI);z.subArgs=[v]}else z.subArgs=void 0;return E==="bindValueType"&&(z.bindValue=""),E==="require"&&u&&!z.bindValue&&(z.enable=!0),(E==="require"||E==="enable")&&(u?d=xe(B,z.key):z.subArgs&&w(E,z.subArgs,!1)),l()(l()({},z),{},a()({},E,u))}return z.subArgs?l()(l()({},z),{},{subArgs:O(z.subArgs)}):z})},c=y(B)||[];return W(E,c,d),c},$=function(B){var x=function d(y){return y?.filter(function(c){var O;if(c.dataType===p.Gi.Object||(O=c.dataType)!==null&&O!==void 0&&O.includes("Array")){var U;return(U=c.subArgs)!==null&&U!==void 0&&U.length?l()(l()({},c),{},{subArgs:d(c.subArgs)}):!0}return!1})},E=function d(y){return y.map(function(c){var O,U=l()(l()({},c),{},{disabled:c.dataType===p.Gi.Object||!1});return(O=U.subArgs)!==null&&O!==void 0&&O.length?l()(l()({},U),{},{subArgs:d(U.subArgs)}):U})},u=x(B);return E(u)},K=function le(B){return B.map(function(x){var E,u;if((E=x.dataType)!==null&&E!==void 0&&E.includes("Array")){var d=Y()(x,["subArgs"]);return l()(l()({},d),{},{key:x.key,name:x.name,description:x.description})}return(u=x.subArgs)!==null&&u!==void 0&&u.length?l()(l()({},x),{},{subArgs:le(x.subArgs)}):x})},L=function le(B){return B.map(function(x){var E,u,d=l()(l()({},x),{},{disabled:x.dataType===p.Gi.Object||((E=x.dataType)===null||E===void 0?void 0:E.includes("Array"))||!1});return(u=d.subArgs)!==null&&u!==void 0&&u.length?l()(l()({},d),{},{subArgs:le(d.subArgs)}):d})},A=function le(B,x){var E=s()(B),u;try{for(E.s();!(u=E.n()).done;){var d=u.value;if(d.key===x)return d;if(d.subArgs){var y=le(d.subArgs,x);if(y)return y}}}catch(c){E.e(c)}finally{E.f()}},Oe=function(B){var x=!0,E=function d(y){return y?.map(function(c){var O;return c.nameRequired=!c.name,c.descRequired=!c.description,x&&(x=!!c.name&&!!c.description),c!=null&&(O=c.subArgs)!==null&&O!==void 0&&O.length?_objectSpread(_objectSpread({},c),{},{subArgs:d(c.subArgs)}):c})},u=E(B);return{list:u,isAllRequired:x}},me=function le(B){return B?.map(function(x){return x.bindValueType||(x.bindValueType=p.Oy.Input),x.subArgs&&x.subArgs.length>0&&(x.subArgs=le(x.subArgs)),x.children&&x.children.length>0&&(x.children=le(x.children)),x})}},29558:function(){"use strict"},30832:function(P,j){"use strict";j.Z={"markdown-container":"markdown-container___B4lMY","table-wrapper":"table-wrapper___gVSep","markdown-table":"markdown-table___tMbI9","markdown-image-container":"markdown-image-container___QvQqd",spin:"spin___sxYN7"}},15457:function(){"use strict"},75697:function(P){function j(e,i){for(var a=-1,n=e==null?0:e.length,s=Array(n);++a<n;)s[a]=i(e[a],a,e);return s}P.exports=j},98768:function(P,j,e){var i=e(28486),a=e(89465);function n(s,t,r,o,l){var m=-1,p=s.length;for(r||(r=a),l||(l=[]);++m<p;){var T=s[m];t>0&&r(T)?t>1?n(T,t-1,r,o,l):i(l,T):o||(l[l.length]=T)}return l}P.exports=n},97499:function(P,j,e){var i=e(60399),a=e(77817);function n(s,t){t=i(t,s);for(var r=0,o=t.length;s!=null&&r<o;)s=s[a(t[r++])];return r&&r==o?s:void 0}P.exports=n},43846:function(P){function j(e,i,a){var n=-1,s=e.length;i<0&&(i=-i>s?0:s+i),a=a>s?s:a,a<0&&(a+=s),s=i>a?0:a-i>>>0,i>>>=0;for(var t=Array(s);++n<s;)t[n]=e[n+i];return t}P.exports=j},73150:function(P,j,e){var i=e(74396),a=e(75697),n=e(24669),s=e(16764),t=1/0,r=i?i.prototype:void 0,o=r?r.toString:void 0;function l(m){if(typeof m=="string")return m;if(n(m))return a(m,l)+"";if(s(m))return o?o.call(m):"";var p=m+"";return p=="0"&&1/m==-t?"-0":p}P.exports=l},42933:function(P,j,e){var i=e(60399),a=e(25674),n=e(39118),s=e(77817);function t(r,o){return o=i(o,r),r=n(r,o),r==null||delete r[s(a(o))]}P.exports=t},60399:function(P,j,e){var i=e(24669),a=e(2610),n=e(77057),s=e(8389);function t(r,o){return i(r)?r:a(r,o)?[r]:n(s(r))}P.exports=t},59211:function(P,j,e){var i=e(69143);function a(n){return i(n)?void 0:n}P.exports=a},54874:function(P,j,e){var i=e(22612),a=e(20323),n=e(71564);function s(t){return n(a(t,void 0,i),t+"")}P.exports=s},89465:function(P,j,e){var i=e(74396),a=e(30353),n=e(24669),s=i?i.isConcatSpreadable:void 0;function t(r){return n(r)||a(r)||!!(s&&r&&r[s])}P.exports=t},2610:function(P,j,e){var i=e(24669),a=e(16764),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function t(r,o){if(i(r))return!1;var l=typeof r;return l=="number"||l=="symbol"||l=="boolean"||r==null||a(r)?!0:s.test(r)||!n.test(r)||o!=null&&r in Object(o)}P.exports=t},45171:function(P,j,e){var i=e(34736),a=500;function n(s){var t=i(s,function(o){return r.size===a&&r.clear(),o}),r=t.cache;return t}P.exports=n},39118:function(P,j,e){var i=e(97499),a=e(43846);function n(s,t){return t.length<2?s:i(s,a(t,0,-1))}P.exports=n},77057:function(P,j,e){var i=e(45171),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,s=i(function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(a,function(o,l,m,p){r.push(m?p.replace(n,"$1"):l||o)}),r});P.exports=s},77817:function(P,j,e){var i=e(16764),a=1/0;function n(s){if(typeof s=="string"||i(s))return s;var t=s+"";return t=="0"&&1/s==-a?"-0":t}P.exports=n},22612:function(P,j,e){var i=e(98768);function a(n){var s=n==null?0:n.length;return s?i(n,1):[]}P.exports=a},25674:function(P){function j(e){var i=e==null?0:e.length;return i?e[i-1]:void 0}P.exports=j},34736:function(P,j,e){var i=e(9440),a="Expected a function";function n(s,t){if(typeof s!="function"||t!=null&&typeof t!="function")throw new TypeError(a);var r=function(){var o=arguments,l=t?t.apply(this,o):o[0],m=r.cache;if(m.has(l))return m.get(l);var p=s.apply(this,o);return r.cache=m.set(l,p)||m,p};return r.cache=new(n.Cache||i),r}n.Cache=i,P.exports=n},59245:function(P,j,e){var i=e(75697),a=e(67410),n=e(42933),s=e(60399),t=e(92434),r=e(59211),o=e(54874),l=e(21699),m=1,p=2,T=4,Y=o(function(F,oe){var k={};if(F==null)return k;var I=!1;oe=i(oe,function(w){return w=s(w,F),I||(I=w.length>1),w}),t(F,l(F),k),I&&(k=a(k,m|p|T,r));for(var X=oe.length;X--;)n(k,oe[X]);return k});P.exports=Y},8389:function(P,j,e){var i=e(73150);function a(n){return n==null?"":i(n)}P.exports=a},65774:function(P,j,e){"use strict";P.exports=e.p+"static/doc_image.5415f2c1.jpg"},35044:function(P){"use strict";P.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAH1SURBVEiJvZaxbtNQFIb///q67YDUDAwMDJHqoQ/A2KE3UCkSCwMvgBBTB54A0ZFKIBUhBAxIvEEHhhIHeh+AB2BB6sJQqUtGGtf+WRrHVZI6dm3+6crnHH86v3TuPRwMvj8CzAcSVtL7lRVz4JwboSUxjo/PANwufBtJetsWmHF8/AvA5pxYK2BD8tuCWIfkyyTRyWDwY89732kEmKbpoCSnUTC997eSRGcA1pasGZF8bS3eOOf+VgYCwHDovaTtKoUSTkm+CkN8qgI2AJBlWZmtMyJxB9DBeKyTOPbPvfdLOUQAiGN/D9DPqtCilu2Yk8OceWwFbArsReNRSWVW5x0Oh35Lwi6gLolIunm3QN7xXhjis3PugosSvfedJEFXSiOAEWk2SHUlbAK4W4P9m0yfLAReJ++9HY/RJ/W1YukfU54zV9YYBXUKF3Z4eOg76+vayDJGWYYugAhQJCEi61rKqaVHR8PtILC7gC5/jkYuaxKnkl6EofninLuwk0AQ2KeAHjcBmYDSVPurq+ajc718Hu00Rf2mQTs7vZnBt0B+td1o7spAV4AA7rcNugIk0ZfaBeV1dR5gSfuXu07lB9ien6dbxphlYIWlqld7qbLGBA+Ba/1sBJQDAT34H6ACcOYZagWUAyU+I/UOwNp01W8eNNE/wcEU7Dx0xUMAAAAASUVORK5CYII="}}]);})();
