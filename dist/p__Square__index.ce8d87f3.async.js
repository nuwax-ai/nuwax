"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[1140],{6904:function(pe,N,e){e.r(N),e.d(N,{default:function(){return w}});var U=e(15558),T=e.n(U),E=e(48305),d=e.n(E),D=e.p+"static/square_banner_image2.b5cd9a5b.png",M=e(85540),F=e(3055),G=e(72875),H=e(19377),v=e(64781),i=e(64691),O=e(39373),q=e(63619),W=e(70183),z=e(94581),J=e.n(z),o=e(75271),L=e(87453),c={"xagi-nav-style2":"xagi-nav-style2___cq5r5",text:"text___yvPNN","page-container":"page-container___v1LdS",container:"container___kyOFV",header:"header___PxGVx","title-box":"title-box___k620K","theme-title":"theme-title___cVm90","search-input":"search-input___N6lRu","min-height-300":"min-height-300___G8QW5","list-section":"list-section___Ui6B1"},K=e(19513),X=e(64459),Y=e(22553),t=e(52676),l=J().bind(c),$=function(){var _=(0,o.useState)(),Q=d()(_,2),r=Q[0],ee=Q[1],ne=(0,o.useState)(!1),R=d()(ne,2),ae=R[0],S=R[1],te=(0,o.useState)("\u667A\u80FD\u4F53"),A=d()(te,2),re=A[0],g=A[1],x=(0,o.useRef)(""),p=(0,o.useRef)(i.Q.Agent),se=(0,o.useState)(1),Z=d()(se,2),le=Z[0],oe=Z[1],ce=(0,o.useState)(!0),V=d()(ce,2),ue=V[0],ie=V[1],C=(0,o.useRef)(""),f=(0,o.useRef)(v._U),m=(0,H.Z)(),h=m.squareComponentList,b=m.setSquareComponentList,y=m.handleClick,k=m.handleToggleCollectSuccess,de=function(a){var s=a.records,u=a.pages,j=a.current,P=s||[];b(function(xe){return j===1?P:[].concat(T()(xe),T()(P))}),ie(j<u),oe(j+1),S(!1)},ve=(0,L.useRequest)(f.current,{manual:!0,debounceInterval:300,onSuccess:function(a){de(a)},onError:function(){S(!1)}}),fe=ve.run,he=function(){var a=(0,O.Qb)(),s=a.cate_type,u=a.cate_name;switch(p.current=s,x.current=u??s,s){case i.Q.Agent:g("\u667A\u80FD\u4F53"),f.current=v._U;break;case i.Q.Plugin:g("\u63D2\u4EF6"),f.current=v.VH;break;case i.Q.Workflow:g("\u5DE5\u4F5C\u6D41"),f.current=v.pH;break;case i.Q.Template:g("\u6A21\u677F"),f.current=v.M3;break}},I=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C.current,u={page:a,pageSize:20,category:x.current,kw:s};fe(u)},ge=function(){I(le)},B=function(){he(),b([]),S(!0),I()};(0,o.useEffect)(function(){var n=localStorage.getItem(G.GP);n&&ee(JSON.parse(n)),B();var a=L.history.listen(function(s){var u=s.location;u.pathname==="/square"&&B()});return function(){a()}},[]);var me=function(){r!=null&&r.squareBannerLinkUrl&&window.open(r.squareBannerLinkUrl,"_blank")},Se=function(a){C.current=a,I(1,a)};return(0,t.jsxs)("div",{className:l(c.container,"h-full","flex","flex-col"),children:[(0,t.jsxs)("div",{className:l("flex","items-center","content-between",c["title-box"]),children:[(0,t.jsx)("h6",{className:l(c["theme-title"]),children:re}),(0,t.jsx)(q.Z.Search,{className:l(c["search-input"]),placeholder:"\u641C\u7D22",allowClear:!0,defaultValue:C.current,onSearch:Se},x.current)]}),(0,t.jsx)("div",{id:"scrollableDiv",className:"scroll-container-hide",children:(0,t.jsxs)(M.Z,{scrollableTarget:"scrollableDiv",list:h,hasMore:ue,onScroll:ge,children:[(0,t.jsxs)("header",{className:l(c.header),onClick:me,style:{backgroundImage:"url(".concat(r?.squareBanner||D,")")},children:[(0,t.jsx)("h3",{className:l("text-ellipsis-2"),children:r?.squareBannerText||"\u4EBA\u4EBA\u90FD\u662F\u667A\u80FD\u8BBE\u8BA1\u5E08"}),(0,t.jsx)("p",{className:l("text-ellipsis-2"),children:r?.squareBannerSubText||`\u65B0\u4E00\u4EE3AI\u5E94\u7528\u8BBE\u8BA1\u3001\u5F00\u53D1\u3001\u5B9E\u8DF5\u5E73\u53F0 
 \u65E0\u9700\u4EE3\u7801\uFF0C\u8F7B\u677E\u521B\u5EFA\uFF0C\u9002\u5408\u5404\u7C7B\u4EBA\u7FA4\uFF0C\u652F\u6301\u591A\u79CD\u7AEF\u53D1\u5E03\u53CAAPI`})]}),ae?(0,t.jsx)(F.Z,{className:l(c["min-height-300"])}):h?.length>0?(0,t.jsx)("div",{className:l(c["list-section"]),children:h.map(function(n,a){return p.current===i.Q.Agent?(0,t.jsx)(K.Z,{publishedItemInfo:n,onToggleCollectSuccess:k,onClick:function(){return y(n.targetId,n.targetType)}},a):p.current===i.Q.Template?(0,t.jsx)(Y.Z,{publishedItemInfo:n,onClick:function(){return y(n.targetId,n.targetType)}},a):(0,t.jsx)(X.Z,{publishedItemInfo:n,onToggleCollectSuccess:k,onClick:function(){return y(n.targetId,n.targetType)}},a)})}):(0,t.jsx)("div",{className:l("flex","flex-1","items-center","content-center"),children:(0,t.jsx)(W.Z,{className:l(c["min-height-300"],"flex","flex-col","items-center","content-center"),description:"\u6682\u65E0\u6570\u636E"})})]})})]})},w=$}}]);})();
