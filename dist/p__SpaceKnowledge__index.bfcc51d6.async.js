"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[1265],{48614:function(ke,$,e){e.d($,{Z:function(){return vn}});var Y=e(26068),t=e.n(Y),H=e(48305),i=e.n(H),h=e(92973),l=e(88459),j=e(86743),s=e(63876),b=e(94581),u=e.n(b),a=e(75271),f={"xagi-nav-style2":"xagi-nav-style2___ZnOEk",text:"text___I_DzH","page-container":"page-container____iz0C","skill-item-style":"skill-item-style___N0WID","skill-item-icon":"skill-item-icon___jliak","skill-item-content-style":"skill-item-content-style___RWsv5","skill-item-title-style":"skill-item-title-style___RPCqS","skill-item-desc-style":"skill-item-desc-style___nXwpy","mask-layer-style":"mask-layer-style___uLo49",white:"white___PmcIw"},d=e(52676),F=u().bind(f),m=function(he){var J=he.item,C=he.onDelete;return(0,d.jsxs)("div",{className:F(f["skill-item-style"],"dis-left"),children:[(0,d.jsx)("img",{src:J.icon,alt:"",className:F(f["skill-item-icon"])}),(0,d.jsxs)("div",{className:F(f["skill-item-content-style"]),children:[(0,d.jsx)("div",{className:F(f["skill-item-title-style"]),children:J.name}),(0,d.jsx)("div",{className:F(f["skill-item-desc-style"]),children:J.description})]}),(0,d.jsx)("div",{className:F(f["mask-layer-style"]),children:(0,d.jsx)("div",{style:{color:"#fff",backgroundColor:"transparent"},children:(0,d.jsx)(s.Z,{content:"\u79FB\u9664",trigger:"hover",children:(0,d.jsx)(j.Z,{className:"ml-12  white",style:{cursor:"pointer"},onClick:C})})})})]})},T=m,_=e(48279),B=e(94201),W=e(10560),p=e(61265),R=e(48528),ae=e(99730),o=e(64799),Q=e(92122),V=e(49528),z=e(80110),N=e(26324),U=e(28190),Z=e(41249),K=e(63619),re=e(17701),x=e(30967),A=e(87453),n=e(7098),g={"xagi-nav-style2":"xagi-nav-style2___fHzli",text:"text___srgXE","page-container":"page-container____zQ5I",header:"header___ZEU6y",box:"box___su6_r",active:"active___qQari"},D={"xagi-nav-style2":"xagi-nav-style2___GME40",text:"text___B9pND","page-container":"page-container___Gqdvl","workflow-desc":"workflow-desc___yLObd"},G=u().bind(D),ne=function(he){var J=he.title,C=J===void 0?"\u8BF7\u9009\u62E9\u5DE5\u4F5C\u6D41":J,Ve=he.onClick;return(0,d.jsx)("div",{className:G(D["workflow-desc"]),onClick:Ve,children:C})},P=ne,Je=u().bind(g),Ye=function(he){var J=he.mode,C=J===void 0?Q.jA.Create:J,Ve=he.spaceId,sn=he.knowledgeInfo,ln=he.open,qe=he.onCancel,_e=he.onConfirm,Ze=U.Z.useForm(),Ke=i()(Ze,1),jn=Ke[0],on=(0,a.useState)(!1),gn=i()(on,2),En=gn[0],hn=gn[1],Ne=(0,a.useState)(""),In=i()(Ne,2),Re=In[0],un=In[1],en=(0,a.useState)(V.u6.Text),Fe=i()(en,2),ue=Fe[0],Be=Fe[1],He=(0,a.useState)([]),tn=i()(He,2),We=tn[0],cn=tn[1],nn=(0,a.useState)("default"),c=i()(nn,2),S=c[0],L=c[1],r=(0,a.useState)(null),Te=i()(r,2),be=Te[0],Dn=Te[1],Bn=(0,a.useState)(!1),Ln=i()(Bn,2),Rn=Ln[0],Kn=Ln[1],Hn=(0,a.useState)(o.qR.Plugin),Xn=i()(Hn,2),On=Xn[0],ot=Xn[1],Jn=(0,a.useState)([]),ye=i()(Jn,2),qn=ye[0],Wn=ye[1],et=(0,A.useRequest)(R.qx,{manual:!0,debounceInterval:300,onSuccess:function(se){Z.ZP.success("\u77E5\u8BC6\u5E93\u5DF2\u521B\u5EFA\u6210\u529F"),hn(!1),qe(),A.history.push("/space/".concat(Ve,"/knowledge/").concat(se))},onError:function(){hn(!1)}}),kn=et.run,Fn=(0,A.useRequest)(R.ei,{manual:!0,debounceInterval:300,onSuccess:function(se,dn){Z.ZP.success("\u77E5\u8BC6\u5E93\u66F4\u65B0\u6210\u529F"),hn(!1);var _n=dn[0];_e?.(_n)},onError:function(){hn(!1)}}),mn=Fn.run,pn=(0,A.useRequest)(R.Wi,{manual:!0,debounceInterval:300,onSuccess:function(se){un(se.icon),Be(se.dataType),jn.setFieldsValue({name:se.name,description:se.description,embeddingModelId:se.embeddingModelId,dataParsingMethod:se.workflowId?"workflow":"default"}),se.workflowId&&(L(se.workflowId?"workflow":"default"),Dn({id:se.workflowId,name:se.workflowName,icon:se.workflowIcon,description:se.workflowDescription}))},onError:function(){}}),Gn=pn.run,Un=(0,A.useRequest)(ae.Bj,{manual:!0,debounceInterval:300,onSuccess:function(se){var dn=se?.map(function(_n){return{label:_n.name,value:_n.id}})||[];cn(dn)}}),ut=Un.run;(0,a.useEffect)(function(){ln&&(ut({spaceId:Ve,modelType:z.Mj.Embeddings}),L("default"),Dn(null),sn&&Gn(sn.id))},[Ve,ln,sn]);var nt=function(se){var dn={spaceId:Ve,name:se.name,description:se.description,embeddingModelId:se.embeddingModelId,icon:Re,dataType:ue};S==="workflow"&&(dn.workflowId=be?.id),hn(!0),C===Q.jA.Create?kn(dn):mn(t()({id:sn?.id},dn))},$n=function(se){se.dataParsingMethod&&L(se.dataParsingMethod)},tt=function(se){Wn(function(){return[{type:se.targetType,targetId:se.targetId,status:o.BQ.Added,toolName:se.toolName||""}]}),(0,x.flushSync)(function(){Dn({id:se.targetId,name:se.name,icon:se.icon,description:se.description})}),Kn(!1)},it=function(se,dn){se.stopPropagation(),ot(dn),Kn(!0)},Qn=function(se){it(se,o.qR.Workflow)},Pn=function(){Dn(null),Wn([])},ct=function(){jn.submit()};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(_.Z,{form:jn,title:C===Q.jA.Create?"\u521B\u5EFA\u77E5\u8BC6\u5E93":"\u66F4\u65B0\u77E5\u8BC6\u5E93",open:ln,loading:En,onCancel:qe,onConfirm:ct,children:[(0,d.jsxs)(U.Z,{form:jn,className:Je("mt-16"),requiredMark:N.N,layout:"vertical",onFinish:nt,onValuesChange:$n,preserve:!1,autoComplete:"off",initialValues:{dataParsingMethod:"default"},children:[(0,d.jsx)(U.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0"}],children:(0,d.jsx)(K.Z,{placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u540D\u79F0",showCount:!0,maxLength:100})}),(0,d.jsx)(B.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:sn?.description,placeholder:"\u8F93\u5165\u77E5\u8BC6\u5E93\u5185\u5BB9\u7684\u63CF\u8FF0",maxLength:1e4}),(0,d.jsx)(U.Z.Item,{name:"embeddingModelId",label:"\u5411\u91CF\u6A21\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B"}],children:(0,d.jsx)(n.Z,{placeholder:"\u8BF7\u9009\u62E9\u5411\u91CF\u6A21\u578B",disabled:C===Q.jA.Update,options:We,allowClear:!0})}),(0,d.jsx)(U.Z.Item,{name:"dataParsingMethod",label:"\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",tooltip:"\u9009\u62E9\u5DE5\u4F5C\u6D41\u540E\u6240\u6709\u6587\u6863\u3001\u56FE\u7247\u7B49\u90FD\u5C06\u901A\u8FC7\u5DE5\u4F5C\u6D41\u89E3\u6790\uFF0C\u8BBE\u8BA1\u5DE5\u4F5C\u6D41\u65F6\u8BF7\u6CE8\u610F\u56FA\u5B9A\u5165\u53C2\u4E3A\uFF1Afile_url\uFF0C\u51FA\u53C2\u8BF7\u5728\u201C\u7ED3\u675F\u201D\u8282\u70B9\u9009\u62E9\u201C\u8FD4\u56DE\u6587\u672C\u201D\uFF0C\u5E76\u5728\u201C\u8F93\u51FA\u5185\u5BB9\u201D\u533A\u57DF\u8BBE\u7F6E\u8FD4\u56DE\u7684\u53D8\u91CF\u3002",children:(0,d.jsx)(re.default,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6587\u6863\u5185\u5BB9\u63D0\u53D6\u65B9\u5F0F",options:[{value:"default",label:"\u7CFB\u7EDF\u9ED8\u8BA4"},{value:"workflow",label:"\u81EA\u5B9A\u4E49\u5DE5\u4F5C\u6D41"}]})}),S==="workflow"&&(0,d.jsx)(U.Z.Item,{style:{marginTop:"-15px"},children:be?(0,d.jsx)(T,{item:be,onDelete:Pn}):(0,d.jsx)(P,{onClick:Qn})}),(0,d.jsx)(U.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,d.jsx)(W.Z,{className:Je(g["upload-box"]),onUploadSuccess:un,imageUrl:Re,defaultImage:h,svgIconName:"icons-workspace-knowledge"})})]}),(0,d.jsx)(l.Z,{open:Rn,onCancel:function(){return Kn(!1)},checkTag:On,addComponents:qn,onAdded:tt,tabs:p.Ne.filter(function(an){return an.key===o.qR.Workflow})})]})})},vn=Ye},30704:function(ke,$,e){var Y=e(26068),t=e.n(Y),H=e(48305),i=e.n(H),h=e(26145),l=e(59261),j=e(7098),s=e(94201),b=e(10560),u=e(87620),a=e(24643),f=e(92122),d=e(45019),F=e(26324),m=e(28190),T=e(41249),_=e(63619),B=e(51430),W=e(94581),p=e.n(W),R=e(75271),ae=e(87453),o=e(48279),Q=e(52676),V=p(),z=function(U){var Z=U.spaceId,K=U.id,re=U.icon,x=U.name,A=U.description,n=U.mode,g=n===void 0?f.jA.Create:n,D=U.open,G=U.onCancel,ne=U.onConfirm,P=m.Z.useForm(),Je=i()(P,1),Ye=Je[0],vn=(0,R.useState)(""),te=i()(vn,2),he=te[0],J=te[1],C=(0,R.useState)(),Ve=i()(C,2),sn=Ve[0],ln=Ve[1],qe=(0,R.useState)(!1),_e=i()(qe,2),Ze=_e[0],Ke=_e[1];(0,R.useEffect)(function(){D&&(J(re||""),Ye.setFieldsValue({name:x,description:A}))},[D,re,x,A]);var jn=function(en,Fe){Fe===d.AQ.CODE?ae.history.push("/space/".concat(Z,"/plugin/").concat(en,"/cloud-tool")):Fe===d.AQ.HTTP&&ae.history.push("/space/".concat(Z,"/plugin/").concat(en))},on=(0,ae.useRequest)(a.VR,{manual:!0,debounceInterval:300,onSuccess:function(en,Fe){J(""),G();var ue=Fe[0].type;jn(en,ue),T.ZP.success("\u63D2\u4EF6\u5DF2\u521B\u5EFA"),Ke(!1)},onError:function(){Ke(!1)}}),gn=on.run,En=(0,ae.useRequest)(a.i,{manual:!0,debounceInterval:300,onSuccess:function(en,Fe){J("");var ue=Fe[0];ne?.(ue),T.ZP.success("\u63D2\u4EF6\u66F4\u65B0\u6210\u529F"),Ke(!1)},onError:function(){Ke(!1)}}),hn=En.run,Ne=function(en){Ke(!0),g===f.jA.Create?gn(t()(t()({},en),{},{icon:he,spaceId:Z})):hn(t()(t()({},en),{},{icon:he,id:K}))},In=function(){Ye.submit()},Re=function(en){var Fe=en.target.value;Fe===d.AQ.HTTP&&Ye.setFieldValue("codeLang",null),ln(Fe)};return(0,Q.jsx)(o.Z,{form:Ye,title:g===f.jA.Create?"\u65B0\u5EFA\u63D2\u4EF6":"\u66F4\u65B0\u63D2\u4EF6",open:D,classNames:p(),loading:Ze,onCancel:G,onConfirm:In,children:(0,Q.jsxs)("div",{className:V("flex","flex-col","items-center","py-16"),children:[(0,Q.jsx)(b.Z,{className:V("mt-16","mb-16"),onUploadSuccess:J,imageUrl:he,defaultImage:h,svgIconName:"icons-workspace-plugin"}),(0,Q.jsxs)(m.Z,{form:Ye,requiredMark:F.N,layout:"vertical",onFinish:Ne,rootClassName:V("w-full"),autoComplete:"off",children:[(0,Q.jsx)(m.Z.Item,{name:"name",label:"\u63D2\u4EF6\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0"},{validator:function(en,Fe){return!Fe||Fe?.length<=30?Promise.resolve():Fe?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0!"))}}],children:(0,Q.jsx)(_.Z,{placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0\uFF0C\u786E\u4FDD\u540D\u79F0\u542B\u4E49\u6E05\u6670\u4E14\u7B26\u5408\u5E73\u53F0\u89C4\u8303",showCount:!0,maxLength:30})}),(0,Q.jsx)(s.Z,{name:"description",label:"\u63D2\u4EF6\u63CF\u8FF0",initialValue:A,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F"}],placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u7684\u4E3B\u8981\u529F\u80FD\u548C\u4F7F\u7528\u573A\u666F\uFF0C\u786E\u4FDD\u5185\u5BB9\u7B26\u5408\u5E73\u53F0\u89C4\u8303\u3002\u5E2E\u52A9\u7528\u6237/\u5927\u6A21\u578B\u66F4\u597D\u5730\u7406\u89E3",maxLength:1e4}),(0,Q.jsxs)(l.Z,{condition:g===f.jA.Create,children:[(0,Q.jsx)(m.Z.Item,{name:"type",label:"\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F"}],children:(0,Q.jsx)(B.ZP.Group,{options:u.B1,value:sn,onChange:Re})}),(0,Q.jsx)(l.Z,{condition:sn===d.AQ.CODE,children:(0,Q.jsx)(m.Z.Item,{name:"codeLang",label:"IDE \u8FD0\u884C\u65F6",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u63D2\u4EF6\u6A21\u5F0F"}],children:(0,Q.jsx)(j.Z,{options:u._n})})})]})]})]})})};$.Z=z},75484:function(ke,$,e){e.d($,{Z:function(){return o}});var Y=e(26068),t=e.n(Y),H=e(48305),i=e.n(H),h=e(83352),l=e(48279),j=e(94201),s=e(10560),b=e(53361),u=e(92122),a=e(26324),f=e(28190),d=e(41249),F=e(63619),m=e(94581),T=e.n(m),_=e(75271),B=e(87453),W={container:"container___etrGg",header:"header___qw2yv"},p=e(52676),R=T().bind(W),ae=function(V){var z=V.type,N=z===void 0?u.jA.Create:z,U=V.name,Z=V.spaceId,K=V.id,re=V.icon,x=V.description,A=V.open,n=V.onCancel,g=V.onConfirm,D=f.Z.useForm(),G=i()(D,1),ne=G[0],P=(0,_.useState)(""),Je=i()(P,2),Ye=Je[0],vn=Je[1],te=(0,B.useRequest)(b.Kt,{manual:!0,debounceInterval:300,onSuccess:function(qe){d.ZP.success("\u5DE5\u4F5C\u6D41\u5DF2\u521B\u5EFA\u6210\u529F"),n(),B.history.push("/space/".concat(Z,"/workflow/").concat(qe))}}),he=te.run,J=(0,B.useRequest)(b.sN,{manual:!0,debounceInterval:300,onSuccess:function(qe,_e){d.ZP.success("\u5DE5\u4F5C\u6D41\u66F4\u65B0\u6210\u529F");var Ze=_e[0];g?.(Ze)}}),C=J.run;(0,_.useEffect)(function(){A&&(vn(re||""),ne.setFieldsValue({name:U,description:x}))},[A,re,U,x]);var Ve=function(qe){var _e={name:qe?.name,description:qe?.description,icon:Ye};N===u.jA.Create?he(t()({spaceId:Z},_e)):C(t()({id:K},_e))},sn=function(){ne.submit()};return(0,p.jsx)(l.Z,{form:ne,title:N===u.jA.Create?"\u521B\u5EFA\u5DE5\u4F5C\u6D41":"\u66F4\u65B0\u5DE5\u4F5C\u6D41",classNames:{content:R(W.container),header:R(W.header)},open:A,onCancel:n,onConfirm:sn,children:(0,p.jsxs)(f.Z,{form:ne,requiredMark:a.N,layout:"vertical",onFinish:Ve,autoComplete:"off",children:[(0,p.jsx)(f.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0"},{validator:function(qe,_e){return!_e||_e?.length<=30?Promise.resolve():_e?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0!"))}}],children:(0,p.jsx)(F.Z,{placeholder:"\u8F93\u5165\u5DE5\u4F5C\u6D41\u540D\u79F0",showCount:!0,maxLength:30})}),(0,p.jsx)(j.Z,{name:"description",label:"\u63CF\u8FF0",initialValue:x,placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\uFF0C\u8BA9\u5927\u6A21\u578B\u7406\u89E3\u4EC0\u4E48\u60C5\u51B5\u4E0B\u5E94\u8BE5\u8C03\u7528\u6B64\u5DE5\u4F5C\u6D41",maxLength:1e4}),(0,p.jsx)(f.Z.Item,{name:"icon",label:"\u56FE\u6807",children:(0,p.jsx)(s.Z,{onUploadSuccess:vn,imageUrl:Ye,defaultImage:h,svgIconName:"icons-workspace-workflow"})})]})})},o=ae},88459:function(ke,$,e){e.d($,{Z:function(){return en}});var Y=e(90228),t=e.n(Y),H=e(15558),i=e.n(H),h=e(26068),l=e.n(h),j=e(87999),s=e.n(j),b=e(48305),u=e.n(b),a=e(59934),f=e(61265),d=e(28359),F=e(3440),m=e(52909),T=e(64799),_=e(92122),B=e(75076),W=e(44953),p=e(86230),R=e(61884),ae=e(28057),o=e(98493),Q=e(17023),V=e(16621),z=e(41249),N=e(73981),U=e(44384),Z=e(9504),K=e(14719),re=e(63619),x=e(58130),A=e(70183),n=e(94581),g=e.n(n),D=e(75271),G=e(87453),ne=e(80774),P=e(48614),Je=e(30704),Ye=e(75484),vn=e(3055),te={"xagi-nav-style2":"xagi-nav-style2___Hhx24",text:"text___fY1wP","page-container":"page-container___mEK5C","created-modal-style":"created-modal-style___NYAVL","segmented-style":"segmented-style___nKwTz","created-title-text":"created-title-text___AjELa","created-list-spin-style":"created-list-spin-style___zM15H","created-list-empty-style":"created-list-empty-style___oCfaM","create-button":"create-button___coqIa","aside-header":"aside-header___jACDw","aside-menu":"aside-menu___m045Q","add-button":"add-button___TndZY","add-button-added":"add-button-added___MdC2h","created-container":"created-container___AGXz5","aside-style":"aside-style___CaDQZ","main-style":"main-style___GSDxU","list-item-style":"list-item-style___WKFIL","left-image-style":"left-image-style___GMm3v","content-font":"content-font___ycx8_","count-div-style":"count-div-style___Zd48s","label-font-style":"label-font-style___HZB9A","collect-star":"collect-star___bLtFf","icon-margin":"icon-margin___HgnVb","created-description-style":"created-description-style___Cm4V4"},he=e(13143),J={"xagi-nav-style2":"xagi-nav-style2___XdLTv",text:"text___tQ5I5","page-container":"page-container___s_CSV","mcp-tools-style":"mcp-tools-style___u92JF","mcp-tools-item-style":"mcp-tools-item-style___sidZr","add-button":"add-button___mejhX","add-button-added":"add-button-added___iY7_z","mcp-tools-item-content-style":"mcp-tools-item-content-style___ku31r","mcp-tools-item-name-style":"mcp-tools-item-name-style___oOtSe","mcp-tools-item-description-style":"mcp-tools-item-description-style___FlirP","mcp-tools-item-button-style":"mcp-tools-item-button-style___MPtXV"},C=e(52676),Ve=g().bind(J),sn=T.BQ.Added,ln=function(ue){var Be=ue.tools,He=ue.item,tn=ue.onAddTool,We=ue.fold,cn=ue.getToolLoading,nn=ue.addedComponents,c=(0,D.useCallback)(function(L,r){tn(l()(l()({},He),{},{name:"".concat(He.name,"/").concat(L),description:r,toolName:L}))},[tn,He]),S=(0,D.useCallback)(function(L,r){return nn?.some(function(Te){return Te.type===L.targetType&&Te.targetId===L.targetId&&(Te.toolName||"")===(L.toolName||"")&&Te.status===r})},[nn,He]);return We?null:(0,C.jsx)("div",{className:Ve(J["mcp-tools-style"]),children:Be.map(function(L,r){var Te=S(l()(l()({},He),{},{toolName:L.name}),sn),be=cn(l()(l()({},He),{},{toolName:L.name}));return(0,C.jsxs)("div",{className:Ve(J["mcp-tools-item-style"]),children:[(0,C.jsxs)("div",{className:Ve("dis-sb",J["mcp-tools-item-content-style"]),children:[(0,C.jsx)("div",{className:Ve(J["mcp-tools-item-name-style"]),children:L.name}),(0,C.jsx)("div",{className:Ve(J["mcp-tools-item-description-style"]),children:L.description||"\u6682\u65E0\u63CF\u8FF0"})]}),(0,C.jsx)("div",{className:Ve(J["mcp-tools-item-button-style"],"dis-sb"),children:(0,C.jsx)(Z.ZP,{color:"default",variant:"filled",className:Ve(J["add-button"],Te&&J["add-button-added"]),onClick:function(){return c(L.name,L.description)},disabled:be?!1:Te,loading:be,children:Te?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})})]},"".concat(He.targetId,"-").concat(r,"-tools-").concat(L.name))})},"".concat(He.targetId,"-tools"))},qe=ln,_e={"xagi-nav-style2":"xagi-nav-style2___AR6lO",text:"text___C_yvr","page-container":"page-container___Tl8wQ",container:"container___Xs6nx","left-image-style":"left-image-style___QkQAk","content-font":"content-font___gLvK8","count-div-style":"count-div-style___bhUoi","fold-icon-style":"fold-icon-style___iClGH","label-font-style":"label-font-style___R72Ym","created-description-style":"created-description-style___fbx01"},Ze=g().bind(_e),Ke=function(ue){var Be,He,tn,We=ue.item,cn=ue.index,nn=ue.selected,c=ue.onAddNode,S=ue.getToolLoading,L=ue.addedComponents,r=(0,D.useState)(!0),Te=u()(r,2),be=Te[0],Dn=Te[1];return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:Ze("dis-sb",_e.container,"cursor-pointer"),style:{height:"unset"},onClick:function(){return Dn(!be)},children:[(0,C.jsx)("img",{src:We.icon||(0,R.Pk)(nn.key),alt:"",className:Ze(_e["left-image-style"])}),(0,C.jsxs)("div",{className:Ze("flex-1",_e["content-font"]),children:[(0,C.jsx)("p",{className:Ze(_e["label-font-style"]),children:We.name}),(0,C.jsx)("p",{className:Ze(_e["created-description-style"],"text-ellipsis-2"),title:We.description,children:We.description}),(0,C.jsx)("div",{className:Ze("dis-sb",_e["count-div-style"]),children:(0,C.jsxs)("div",{className:"dis-left",children:[(0,C.jsx)("img",{src:((Be=We.publishUser)===null||Be===void 0?void 0:Be.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,C.jsx)("span",{children:(He=We.publishUser)===null||He===void 0?void 0:He.nickName}),(0,C.jsx)(U.Z,{type:"vertical"}),(0,C.jsxs)("span",{children:["\u90E8\u7F72\u4E8E",(0,W.hK)(We.deployed)]})]})})]}),(0,C.jsx)(he.Z,{onClick:function(){return Dn(!be)},className:Ze(_e["fold-icon-style"]),style:{transform:be?"rotate(-90deg)":"rotate(0)"}})]},"".concat(We.targetId,"-").concat(cn)),(0,C.jsx)(qe,{fold:be,tools:(We==null||(tn=We.config)===null||tn===void 0?void 0:tn.tools)||[],item:We,getToolLoading:S,onAddTool:c,addedComponents:L})]})},jn=Ke,on={"xagi-nav-style2":"xagi-nav-style2___oSLyM",text:"text___Y7g4H","page-container":"page-container___HAi1o",container:"container___RB6dU","left-image-style":"left-image-style___cOdxC","content-font":"content-font___rKg1c","count-div-style":"count-div-style___fmK9k","label-font-style":"label-font-style___ftppD","created-description-style":"created-description-style___KPAuu"},gn=g().bind(on),En=function(ue){var Be=ue.item,He=ue.index,tn=ue.isAddedState,We=ue.onAddNode,cn=ue.isCurrentLoading;return(0,C.jsxs)("div",{className:gn("dis-sb",on.container,"cursor-pointer"),style:{height:"unset"},children:[(0,C.jsx)("img",{src:Be.icon,alt:"",className:gn(on["left-image-style"])}),(0,C.jsxs)("div",{className:gn("flex-1",on["content-font"]),children:[(0,C.jsx)("p",{className:gn(on["label-font-style"]),children:Be.name}),(0,C.jsx)("p",{className:gn(on["created-description-style"],"text-ellipsis-2"),title:Be.description,children:Be.description}),(0,C.jsx)("div",{className:gn("dis-sb",on["count-div-style"]),children:(0,C.jsxs)("div",{className:"dis-left",children:[(0,C.jsx)("img",{src:Be?.creatorAvatar||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,C.jsx)("span",{children:Be.creatorNickName}),(0,C.jsx)(U.Z,{type:"vertical"}),(0,C.jsxs)("span",{children:["\u521B\u5EFA\u4E8E",(0,W.hK)(Be.created)]})]})})]}),(0,C.jsx)(Z.ZP,{color:"default",variant:"filled",className:gn(on["add-button"],tn&&on["add-button-added"]),onClick:function(){return We(Be)},disabled:cn?!1:tn,loading:cn,children:tn?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(Be.projectId,"-").concat(He))},hn=En,Ne=g().bind(te),In=[T.qR.Plugin,T.qR.Workflow,T.qR.Knowledge,T.qR.Table],Re=f.Ne.filter(function(Fe){return In.includes(Fe.key)}),un=function(ue){var Be=ue.open,He=ue.onCancel,tn=ue.checkTag,We=ue.onAdded,cn=ue.addComponents,nn=ue.addSkillLoading,c=nn===void 0?void 0:nn,S=ue.tabs,L=S===void 0?Re:S,r=ue.hideTop,Te=(0,G.useParams)(),be=Number(Te.spaceId),Dn=(0,D.useState)(!1),Bn=u()(Dn,2),Ln=Bn[0],Rn=Bn[1],Kn=(0,D.useState)(""),Hn=u()(Kn,2),Xn=Hn[0],On=Hn[1],ot=(0,D.useState)({label:"\u63D2\u4EF6",key:T.qR.Plugin}),Jn=u()(ot,2),ye=Jn[0],qn=Jn[1],Wn=(0,D.useState)({page:1,pageSize:20}),et=u()(Wn,2),kn=et[0],Fn=et[1],mn=(0,D.useState)(100),pn=u()(mn,2),Gn=pn[0],Un=pn[1],ut=(0,D.useState)("all"),nt=u()(ut,2),$n=nt[0],tt=nt[1],it=(0,D.useState)(),Qn=u()(it,2),Pn=Qn[0],ct=Qn[1],an=(0,D.useState)([]),se=u()(an,2),dn=se[0],_n=se[1],jt=(0,D.useState)([]),vt=u()(jt,2),xn=vt[0],gt=vt[1],Tt=(0,D.useState)(!1),ht=u()(Tt,2),_t=ht[0],Sn=ht[1],At=(0,D.useState)({list:[],searching:!1}),Ct=u()(At,2),dt=Ct[0],at=Ct[1],wn=(0,D.useRef)(!1),zn=(0,D.useRef)(null),It=[{key:"all",label:"\u5168\u90E8"},{key:"library",label:"\u7EC4\u4EF6\u5E93".concat(ye.label)},{key:"collect",label:"\u6536\u85CF"}],Mn=[{key:"all",label:"\u5168\u90E8"}],Tn=[{key:"all",label:"\u5168\u90E8"},{key:1,label:"\u6587\u6863"}],Lt=[{key:"all",label:"\u7EC4\u4EF6\u5E93\u6570\u636E\u8868"}],Ot=[{key:"all",label:"\u5168\u90E8"},{key:"custom",label:"\u81EA\u5B9A\u4E49\u670D\u52A1"}],rt=function(){switch(ye.key){case T.qR.Knowledge:return Tn;case T.qR.Table:return Lt;case T.qR.MCP:return Ot;case T.qR.Page:return Mn;default:return It}},mt=(0,D.useRef)(null),Zn=(0,D.useRef)(!1),Ae=function(){var y=s()(t()().mark(function v(E,M){var fe,Ge,oe,$e;return t()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:if(at({list:[],searching:!1}),Pe.prev=1,be!==0){Pe.next=4;break}return Pe.abrupt("return");case 4:if(!(M.page>Gn&&M.page!==1||Zn.current)){Pe.next=6;break}return Pe.abrupt("return");case 6:return Zn.current=!0,M.page===1&&Sn(!0),wn.current&&(M.justReturnSpaceData=!0),zn.current&&(M.dataType=zn.current),Pe.next=12,d.ZP.getList(E,l()(l()({},M),{},{spaceId:be}));case 12:if(fe=Pe.sent,Ge=fe.code,oe=fe.data,$e=fe.message,Zn.current=!1,Sn(!1),Ge===a.Gh){Pe.next=21;break}return z.ZP.error($e),Pe.abrupt("return");case 21:Un(oe.pages),Fn(function(Nn){return l()(l()({},Nn),{},{page:oe.current,total:oe.total})}),_n(function(Nn){var Yn=M.page===1?i()(oe.records):[].concat(i()(Nn),i()(oe.records));return at(l()(l()({},dt),{},{list:Yn})),Yn}),Pe.next=31;break;case 26:Pe.prev=26,Pe.t0=Pe.catch(1),Zn.current=!1,Sn(!1),Un(100);case 31:case"end":return Pe.stop()}},v,null,[[1,26]])}));return function(E,M){return y.apply(this,arguments)}}(),O=function(){var y=s()(t()().mark(function v(E){var M,fe,Ge;return t()().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return $e.prev=0,Sn(!0),fe=(M=ye.key)===null||M===void 0?void 0:M.toLowerCase(),$e.next=5,d.ZP.collectList(fe,E);case 5:Ge=$e.sent,_n(i()(Ge.data)),Sn(!1),$e.next=13;break;case 10:$e.prev=10,$e.t0=$e.catch(0),Sn(!1);case 13:case"end":return $e.stop()}},v,null,[[0,10]])}));return function(E){return y.apply(this,arguments)}}(),k=function(){var y=s()(t()().mark(function v(E){var M,fe,Ge,oe;return t()().wrap(function(fn){for(;;)switch(fn.prev=fn.next){case 0:if(fe=(M=ye.key)===null||M===void 0?void 0:M.toLowerCase(),!E.collect){fn.next=7;break}return fn.next=4,d.ZP.unCollect(fe,E.targetId);case 4:Ge=fn.sent,fn.next=10;break;case 7:return fn.next=9,d.ZP.collect(fe,E.targetId);case 9:Ge=fn.sent;case 10:Ge.code===a.ZP.success&&(oe=dn.map(function(Pe){return E.targetId===Pe.targetId&&(Pe.collect?(Pe.collect=!1,Pe.statistics&&(Pe.statistics.collectCount=(Pe.statistics.collectCount||1)-1)):(Pe.collect=!0,Pe.statistics&&(Pe.statistics.collectCount=(Pe.statistics.collectCount||0)+1))),Pe}),_n(oe));case 11:case"end":return fn.stop()}},v)}));return function(E){return y.apply(this,arguments)}}(),q=function(){var y=s()(t()().mark(function v(E){var M,fe;return t()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(ye.key!==T.qR.Table){oe.next=11;break}return oe.prev=1,M={tableName:E.name,tableDescription:E.description,spaceId:be,icon:E.icon},oe.next=5,(0,F.AY)(M);case 5:fe=oe.sent,G.history.push("/space/".concat(be,"/table/").concat(fe.data)),oe.next=11;break;case 9:oe.prev=9,oe.t0=oe.catch(1);case 11:case"end":return oe.stop()}},v,null,[[1,9]])}));return function(E){return y.apply(this,arguments)}}(),I=function(v){We(v),ct(v)},ce=function(v){var E={kw:v,page:1,pageSize:20};On(v),Fn({page:1,pageSize:20}),_n([]),Ae(ye.key,E)},Ue=function(v,E){switch(Un(100),v){case"collect":O(E);break;case"library":wn.current=!0,Ae(ye.key,l()(l()({},E),{},{justReturnSpaceData:!0}));break;default:Ae(ye.key,E);break}},de=(0,G.useRequest)(m.ci,{manual:!0,debounceInterval:300,onSuccess:function(v){gt(v),Sn(!1)},onError:function(){Sn(!1)}}),ve=de.run,ge=function(){Sn(!0),ve({spaceId:be,publishType:B.sO.PAGE,buildRunning:!0})},Ce=function(v){var E=xn?.filter(function(M){return M.name.includes(v)})||[];gt(E)},Ee=function(v){if(On(""),tt(v),ye.key===T.qR.Page){ge();return}Fn({page:1,pageSize:20}),_n([]),wn.current=!1,zn.current=null;var E={page:1,pageSize:20};ye.key===T.qR.Knowledge&&v!=="all"&&(E.dataType=Number(v),zn.current=Number(v)),ye.key===T.qR.MCP&&v==="custom"&&(wn.current=!0),Ue(v,E)},le=function(v){if(v){zn.current=null,wn.current=!1;var E=v,M=L.find(function(fe){return fe.key===E});if(M)if(tt("all"),On(""),qn(M),v===T.qR.Page){_n([]),Sn(!0),ve({spaceId:be,publishType:B.sO.PAGE,buildRunning:!0});return}else Fn({page:1,pageSize:20}),Un(100),Ae(M.key,{page:1,pageSize:20})}},De=(0,D.useCallback)(function(){if(!($n==="collect"||Zn.current)){var y=mt.current;if(y){var v=y.scrollHeight-y.scrollTop-y.clientHeight,E=dn.length>0&&v<50&&kn.page<Gn;if(E){var M=kn.page+1,fe={pageSize:20,page:M};Fn(function(Ge){return l()(l()({},Ge),{},{page:M})}),Ae(ye.key,fe)}}}},[kn,$n,Gn,Zn,ye.key,dn.length]);(0,D.useEffect)(function(){var y=mt.current;if(Be&&y)return y.addEventListener("scroll",De),function(){y.removeEventListener("scroll",De)}},[Be,De]),(0,D.useEffect)(function(){Be&&setTimeout(function(){le(tn)},100)},[tn,Be]);var xe=(0,C.jsxs)("div",{className:Ne("dis-left",te["created-title"]),children:[(0,C.jsx)("h3",{className:te["created-title-text"],children:"\u6DFB\u52A0"}),(0,C.jsx)(N.Z,{value:ye.key,size:"large",onChange:le,options:L.filter(function(y){return!(r!=null&&r.includes(y.key))}).map(function(y){return{label:y.label,value:y.key}}),className:te["segmented-style"]})]}),ie=(0,D.useCallback)(function(y,v){return cn?.some(function(E){return E.type===y.targetType&&E.targetId===y.targetId&&E.status===v&&(E?.toolName||"")===(y.toolName||"")})},[cn]),je=(0,D.useCallback)(function(y){return ie(y,T.BQ.Added)},[ie]),me=(0,D.useCallback)(function(y,v){return c===void 0?ie(y,T.BQ.Loading):!!(c&&Pn?.targetId===y.targetId&&(Pn?.toolName||"")===(v||""))},[ie,Pn,c]),we=function(v,E,M){return(0,C.jsx)(jn,{item:v,index:E,getToolLoading:me,selected:M,onAddNode:I,addedComponents:cn||[]},"".concat(v.targetId,"-").concat(E))},X=function(v){We({targetType:T.qR.Page,targetId:v.projectId})},Ie=function(v,E){var M=ie({targetType:T.qR.Page,targetId:v.projectId},T.BQ.Added),fe=ie({targetType:T.qR.Page,targetId:v.projectId},T.BQ.Loading);return(0,C.jsx)(hn,{item:v,index:E,onAddNode:X,isAddedState:M,isCurrentLoading:fe},"".concat(v.projectId,"-").concat(E))},Se=function(v,E){var M,fe,Ge=me(v),oe=je(v);return(0,C.jsxs)("div",{className:Ne("dis-sb",te["list-item-style"]),children:[(0,C.jsx)("img",{src:v.icon||(0,R.Pk)(ye.key),alt:"",className:Ne(te["left-image-style"])}),(0,C.jsxs)("div",{className:Ne("flex-1",te["content-font"]),children:[(0,C.jsx)("p",{className:Ne(te["label-font-style"],"text-ellipsis-2"),children:v.name}),(0,C.jsx)("p",{className:Ne(te["created-description-style"],"text-ellipsis"),children:v.description}),(0,C.jsx)("div",{className:Ne("dis-sb",te["count-div-style"]),children:(0,C.jsxs)("div",{className:"dis-left",children:[(0,C.jsx)("img",{src:((M=v.publishUser)===null||M===void 0?void 0:M.avatar)||e(78987),style:{borderRadius:"50%"},alt:"\u7528\u6237\u5934\u50CF"}),(0,C.jsx)("span",{children:(fe=v.publishUser)===null||fe===void 0?void 0:fe.nickName}),(0,C.jsx)(U.Z,{type:"vertical"}),(0,C.jsx)("span",{children:"\u53D1\u5E03\u4E8E".concat((0,W.hK)(v.created))}),![T.qR.Knowledge,T.qR.MCP].includes(ye.key)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(U.Z,{type:"vertical"}),v.collect&&(0,C.jsx)(ae.Z,{className:Ne(te["collect-star"],te["icon-margin"]),onClick:function(){return k(v)}}),!v.collect&&(0,C.jsx)(o.Z,{className:Ne(te["icon-margin"]),onClick:function(){return k(v)}}),(0,C.jsx)("span",{children:v.statistics?v.statistics.collectCount:0})]})]})})]}),(0,C.jsx)(Z.ZP,{color:"default",variant:"filled",onClick:function(){return I(v)},loading:Ge,className:Ne(te["add-button"],oe&&te["add-button-added"]),disabled:Ge?!1:oe,children:oe?"\u5DF2\u6DFB\u52A0":"\u6DFB\u52A0"})]},"".concat(v.targetId,"-").concat(E))},pe=function(v,E){v===T.qR.MCP?(0,p._x)(E):v===T.qR.Page?(0,p.sK)(E):Rn(!0)};return(0,C.jsxs)(K.Z,{keyboard:!1,maskClosable:!1,open:Be,footer:null,centered:!0,title:xe,onCancel:He,className:Ne(te["created-modal-style"]),width:1096,children:[(0,C.jsxs)("div",{className:Ne(te["created-container"],"dis-sb-start"),children:[(0,C.jsxs)("div",{className:Ne(te["aside-style"]),children:[(0,C.jsxs)("div",{className:Ne(te["aside-header"]),children:[(0,C.jsx)(re.Z,{allowClear:!0,value:Xn,variant:"filled",placeholder:"\u641C\u7D22",prefix:(0,C.jsx)(Q.Z,{}),onChange:function(v){On(v.target.value)},onClear:function(){On(""),ye.key===T.qR.Page?ge():Ae(ye.key,{page:1,pageSize:20})},onPressEnter:function(v){var E=v.currentTarget.value;v.key==="Enter"&&(ye.key===T.qR.Page?Ce(E):(at(l()(l()({},dt),{},{searching:!0})),ce(E)))}}),(0,C.jsx)(Z.ZP,{type:"primary",className:Ne(te["create-button"]),icon:(0,C.jsx)(V.Z,{}),block:!0,onClick:function(){return pe(ye.key,be)},children:"\u521B\u5EFA".concat(ye.label)})]}),(0,C.jsx)(x.Z,{className:Ne(te["aside-menu"]),onClick:function(v){return Ee(v.key)},selectedKeys:[$n],mode:"vertical",items:rt()})]}),(0,C.jsx)("div",{className:Ne(te["main-style"],"flex-1","overflow-y"),ref:mt,children:_t?(0,C.jsx)(vn.Z,{className:Ne("h-full")}):ye.key===T.qR.Page&&xn!==null&&xn!==void 0&&xn.length?xn?.map(function(y,v){return Ie(y,v)}):dn!=null&&dn.length?dn.map(function(y,v){return ye.key===T.qR.MCP?we(y,v,ye):Se(y,v)}):(0,C.jsx)("div",{className:Ne(te["created-list-empty-style"]),children:(0,C.jsx)(A.Z,{description:dt.searching?"\u6682\u65E0\u6570\u636E\uFF0C\u8BF7\u91CD\u65B0\u641C\u7D22":"\u6682\u65E0\u6570\u636E"})})})]}),(0,C.jsx)(Ye.Z,{onConfirm:q,onCancel:function(){return Rn(!1)},open:Ln&&ye.key===T.qR.Workflow,type:_.jA.Create,spaceId:be}),(0,C.jsx)(Je.Z,{onConfirm:q,spaceId:be,onCancel:function(){return Rn(!1)},open:Ln&&ye.key===T.qR.Plugin,mode:_.jA.Create}),(0,C.jsx)(P.Z,{spaceId:be,onConfirm:q,onCancel:function(){return Rn(!1)},open:Ln&&ye.key===T.qR.Knowledge,mode:_.jA.Create}),(0,C.jsx)(ne.Z,{spaceId:be,type:T.qR.Table,mode:_.jA.Create,Confirm:q,onCancel:function(){return Rn(!1)},open:Ln&&ye.key===T.qR.Table})]})},en=un},80774:function(ke,$,e){var Y=e(82092),t=e.n(Y),H=e(48305),i=e.n(H),h=e(46388),l=e(92973),j=e(26145),s=e(83352),b=e(7098),u=e(10560),a=e(87620),f=e(64799),d=e(92122),F=e(26324),m=e(28190),T=e(63619),_=e(51430),B=e(75271),W=e(48279),p=e(52676),R=function(o){var Q=o.loading,V=o.mode,z=V===void 0?d.jA.Create:V,N=o.type,U=o.info,Z=o.open,K=o.onCancel,re=o.Confirm,x=m.Z.useForm(),A=i()(x,1),n=A[0],g=(0,B.useState)(""),D=i()(g,2),G=D[0],ne=D[1];(0,B.useEffect)(function(){Z&&U&&(n.setFieldsValue(U),ne(U.icon||""))},[Z,U]);var P=function(){var he=t()(t()({},d.jA.Create,"\u521B\u5EFA"),d.jA.Update,"\u7F16\u8F91"),J=t()(t()(t()(t()({},f.qR.Table,"\u6570\u636E\u8868"),f.qR.Knowledge,"\u77E5\u8BC6\u5E93"),f.qR.Plugin,"\u63D2\u4EF6"),f.qR.Workflow,"\u5DE5\u4F5C\u6D41");return"".concat(he[z]).concat(J[N])},Je=function(){var he=t()(t()(t()(t()({},f.qR.Table,h),f.qR.Knowledge,l),f.qR.Plugin,j),f.qR.Workflow,s);return he[N]},Ye=function(he){re(he,N,z)},vn=function(){n.submit()};return(0,p.jsx)(W.Z,{form:n,title:P(),open:Z,loading:Q,onCancel:K,onConfirm:vn,children:(0,p.jsxs)(m.Z,{form:n,layout:"vertical",onFinish:Ye,requiredMark:F.N,children:[(N===f.qR.Plugin||N===f.qR.Table)&&(0,p.jsx)(m.Z.Item,{name:"icon",children:(0,p.jsx)("div",{className:"dis-center",children:(0,p.jsx)(u.Z,{className:"upload-box",onUploadSuccess:function(he){n.setFieldValue("icon",he),ne(he)},imageUrl:n.getFieldValue("icon")||G,defaultImage:Je(),svgIconName:"icons-workspace-table"})})}),(0,p.jsx)(m.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"},{validator:function(he,J){return!J||J?.length<=30?Promise.resolve():J?.length>30?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26!")):Promise.reject(new Error("\u8BF7\u8F93\u5165\u540D\u79F0!"))}}],children:(0,p.jsx)(T.Z,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",showCount:!0,maxLength:30})}),(0,p.jsx)(m.Z.Item,{name:"description",label:"\u63CF\u8FF0",className:"position-relative",children:(0,p.jsx)(T.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0",autoSize:{minRows:3,maxRows:6},maxLength:1e4,showCount:!0,className:"dispose-textarea-count"})}),(N===f.qR.Workflow||N===f.qR.Knowledge)&&(0,p.jsx)(m.Z.Item,{name:"icon",children:(0,p.jsx)("div",{children:(0,p.jsx)(u.Z,{className:"upload-box",onUploadSuccess:function(he){n.setFieldValue("icon",he)},imageUrl:G,defaultImage:Je(),svgIconName:"icons-workspace-knowledge"})})}),N===f.qR.Plugin&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(m.Z.Item,{shouldUpdate:!0,label:"\u5DE5\u5177\u521B\u5EFA\u65B9\u5F0F",name:"type",children:(0,p.jsx)(_.ZP.Group,{options:a.B1})}),(0,p.jsx)(m.Z.Item,{shouldUpdate:!0,children:function(){return n.getFieldValue("type")==="CODE"&&(0,p.jsx)(m.Z.Item,{label:"IDE \u8FD0\u884C\u65F6",name:"codeLang",children:(0,p.jsx)(b.Z,{options:a._n})})}})]})]})})};$.Z=R},6377:function(ke,$,e){e.d($,{Z:function(){return s}});var Y=e(94581),t=e.n(Y),H=e(75271),i={container:"container___dApW8",star:"star___pESlW"},h=e(52676),l=t().bind(i),j=function(u){var a=u.className,f=u.label;return(0,h.jsxs)("span",{className:l(i.container,"flex",a),children:[(0,h.jsx)("span",{children:f}),(0,h.jsx)("span",{className:l(i.star),children:"*"})]})},s=j},94201:function(ke,$,e){e.d($,{Z:function(){return d}});var Y=e(48305),t=e.n(Y),H=e(63619),i=e(28190),h=e(94581),l=e.n(h),j=e(75271),s={"text-area":"text-area___UOMCQ",input:"input___XXN9U",text:"text___m7VFK"},b=e(52676),u=l().bind(s),a=H.Z.TextArea,f=function(m){var T,_=m.placeholder,B=_===void 0?"\u8BF7\u8F93\u5165":_,W=m.name,p=m.label,R=m.initialValue,ae=m.maxLength,o=ae===void 0?200:ae,Q=m.minRows,V=Q===void 0?3:Q,z=m.maxRows,N=z===void 0?6:z,U=m.rules,Z=(0,j.useState)(""),K=t()(Z,2),re=K[0],x=K[1];return(0,j.useEffect)(function(){R&&x(R)},[R]),(0,b.jsxs)(i.Z.Item,{className:u("relative"),children:[(0,b.jsx)(i.Z.Item,{className:u(s["text-area"]),name:W,label:p,rules:U,children:(0,b.jsx)(a,{rootClassName:s.input,placeholder:B,value:re,onChange:function(n){return x(n.target.value)},maxLength:o,autoSize:{minRows:V,maxRows:N}})}),(0,b.jsxs)("span",{className:u("absolute",s.text),children:[(T=re?.length)!==null&&T!==void 0?T:0,"/",o]})]})},d=f},10560:function(ke,$,e){e.d($,{Z:function(){return m}});var Y=e(63741),t=e(59934),H=e(61265),i=e(72875),h=e(89858),l=e(41249),j=e(7980),s=e(94581),b=e.n(s),u=e(75271),a={container:"container___Ixour","file-box":"file-box___UiBnI",mask:"mask___TBVHo",image:"image___Ky7U0"},f=e(52676),d=b().bind(a),F=function(_){var B,W=_.className,p=_.onUploadSuccess,R=_.defaultImage,ae=_.imageUrl,o=_.beforeUpload,Q=_.svgIconName,V=function(Z){if(Z.file.status!=="uploading"&&Z.file.status==="done"){var K,re,x=(K=Z.file.response)===null||K===void 0?void 0:K.code,A=(re=Z.file.response)===null||re===void 0?void 0:re.data;if(x===t.Gh)p?.(A?.url);else{var n;l.ZP.warning((n=Z.file.response)===null||n===void 0?void 0:n.message)}}},z=function(Z){var K=Z.type,re=Z.size,x=K==="image/jpeg"||K==="image/jpg"||K==="image/png";x||l.ZP.error("\u8BF7\u4E0A\u4F20 JPG\u3001JPEG\u3001PNG \u7C7B\u578B\u56FE\u7247\u6587\u4EF6!");var A=re/1024/1024<2;return A||l.ZP.error("\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC72MB!"),x&&A||j.Z.LIST_IGNORE},N=(B=localStorage.getItem(i.LA))!==null&&B!==void 0?B:"";return(0,f.jsx)(j.Z,{action:H.GI,className:d(a.container,W),onChange:V,headers:{Authorization:N?"Bearer ".concat(N):""},showUploadList:!1,beforeUpload:o??z,children:(0,f.jsxs)("div",{className:d(a["file-box"],"relative","overflow-hide","cursor-pointer"),children:[(0,f.jsx)("div",{className:d(a.mask,"flex","content-center","items-center"),children:(0,f.jsx)(h.Z,{})}),Q&&!ae?(0,f.jsx)(Y.Jw,{name:Q}):(0,f.jsx)("img",{className:d(a.image),src:ae||R,alt:""})]})})},m=F},85540:function(ke,$,e){e.d($,{Z:function(){return u}});var Y=e(94581),t=e.n(Y),H=e(75271),i=e(92677),h=e(3055),l={"end-loading":"end-loading___xIw5R"},j=e(52676),s=t().bind(l),b=function(f){var d=f.scrollableTarget,F=f.list,m=f.hasMore,T=f.onScroll,_=f.children;return(0,j.jsx)(i.Z,{dataLength:F.length,next:T,hasMore:m,loader:(0,j.jsx)(h.Z,{className:s(l["end-loading"])}),scrollableTarget:d,children:_})},u=b},7098:function(ke,$,e){e.d($,{Z:function(){return a}});var Y=e(3642),t=e(17701),H=e(88958),i=e(94581),h=e.n(i),l=e(75271),j={container:"container___zAmsL","option-icon-box":"option-icon-box___Xu928",icon:"icon___k7L6U",image:"image___gVYjP"},s=e(52676),b=h().bind(j),u=function(d){var F=d.className,m=d.value,T=d.dropdownRenderComponent,_=d.placeholder,B=d.disabled,W=d.allowClear,p=W===void 0?!1:W,R=d.options,ae=d.onChange,o=d.size,Q=o===void 0?"middle":o;return(0,s.jsx)(t.default,{rootClassName:b(j.container,F),value:m,placeholder:_||"\u8BF7\u9009\u62E9",disabled:B,onChange:ae,allowClear:p,onClick:function(z){z.stopPropagation()},options:R,size:Q,popupRender:function(z){return(0,s.jsxs)(s.Fragment,{children:[z,T]})},optionRender:function(z){var N;return(0,s.jsxs)(H.Z,{gap:8,align:"center",children:[(0,s.jsx)("div",{className:b(j["option-icon-box"]),children:m===z.data.value&&(0,s.jsx)(Y.Z,{className:b(j.icon)})}),!!(z!=null&&(N=z.data)!==null&&N!==void 0&&N.img)&&(0,s.jsx)("img",{className:b(j.image,"radius-6"),src:String(z.data.img),alt:""}),(0,s.jsx)("span",{className:b("flex-1","text-ellipsis"),children:z.data.label})]})}})},a=u},6619:function(ke,$,e){e.d($,{Z:function(){return f}});var Y=e(62597),t=e(92122),H=e(38683),i=e(68108),h=e(94581),l=e.n(h),j=e(75271),s={box:"box___qPDL3"},b=e(52676),u=l().bind(s),a=function(F){var m=F.className,T=F.type,_=T===void 0?t.Ai.Blank:T,B=F.icon,W=F.title,p=F.onClick,R=_===t.Ai.Blank?"tooltip-blank":"tooltip-white",ae=H.Z.useToken(),o=ae.token;return(0,b.jsx)(i.Z,{title:W,classNames:{root:R},children:(0,b.jsx)("span",{className:u("hover-box","flex","content-center","items-center","cursor-pointer",s.box,m),onClick:p,children:B||(0,b.jsx)(Y.Z,{name:"icons-common-plus",style:{color:o.colorTextTertiary,fontSize:"15px"}})})})},f=a},87620:function(ke,$,e){e.d($,{B1:function(){return T},Ev:function(){return W},Ov:function(){return V},PE:function(){return x},R0:function(){return p},Rh:function(){return U},_n:function(){return _},dh:function(){return B},fi:function(){return re},jp:function(){return ae},lm:function(){return K},nF:function(){return o},nK:function(){return Z},s$:function(){return N},uo:function(){return m},w9:function(){return R},xH:function(){return Q}});var Y=e(46388),t=e(92973),H=e(77992),i=e(26145),h=e(83352),l=e(73415),j=e(64799),s=e(92122),b=e(49528),u=e(80110),a=e(45019),f=e(53895),d=e(38628),F=e(52676),m=[{action:f.KZ.Copy_To_Space,label:"\u590D\u5236\u5230\u7A7A\u95F4",type:f.Lm.Plugin},{action:f.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E",type:f.Lm.Plugin},{action:f.KZ.Del,label:"\u5220\u9664",isDel:!0,type:f.Lm.Plugin},{action:f.KZ.Del,label:"\u5220\u9664",isDel:!0,type:f.Lm.Model},{action:f.KZ.Copy_To_Space,label:"\u590D\u5236\u5230\u7A7A\u95F4",type:f.Lm.Workflow},{action:f.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E",type:f.Lm.Workflow},{action:f.KZ.Del,label:"\u5220\u9664",isDel:!0,type:f.Lm.Workflow},{action:f.KZ.Del,label:"\u5220\u9664",isDel:!0,type:f.Lm.Knowledge},{action:f.KZ.Copy,label:"\u590D\u5236",type:f.Lm.Table},{action:f.KZ.Export_Config,label:"\u5BFC\u51FA\u914D\u7F6E",type:f.Lm.Table},{action:f.KZ.Del,label:"\u5220\u9664",isDel:!0,type:f.Lm.Table}],T=[{value:a.AQ.HTTP,label:"\u57FA\u4E8E\u5DF2\u6709\u670D\u52A1\uFF08http\u63A5\u53E3\uFF09\u521B\u5EFA"},{value:a.AQ.CODE,label:"\u57FA\u4E8E\u4E91\u7AEF\u4EE3\u7801\uFF08nodejs\u3001python\uFF09\u521B\u5EFA"}],_=[{value:a.vQ.JavaScript,label:"JavaScript"},{value:a.vQ.Python,label:"Python3"}],B=[{value:s.LM.POST,label:"POST"},{value:s.LM.GET,label:"GET"},{value:s.LM.PUT,label:"PUT"},{value:s.LM.DELETE,label:"DELETE"}],W=[{value:s.lT.OTHER,label:"\u65E0"},{value:s.lT.FORM_DATA,label:"form-data"},{value:s.lT.X_WWW_FORM_URLENCODED,label:"x-www-form-urlencoded"},{value:s.lT.JSON,label:"json"}],p=[{value:j.oI.Query,label:"Query"},{value:j.oI.Body,label:"Body"},{value:j.oI.Path,label:"Path"},{value:j.oI.Header,label:"Header"}],R=[{value:b.Zf.Local_Doc,label:"\u672C\u5730\u6587\u6863",icon:(0,F.jsx)(l.OD,{}),desc:"\u4E0A\u4F20 PDF, TXT, MD, DOC, DOCX \u683C\u5F0F\u7684\u672C\u5730\u6587\u4EF6"},{value:b.Zf.Custom,label:"\u81EA\u5B9A\u4E49",icon:(0,F.jsx)(l.vB,{}),desc:"\u81EA\u5B9A\u4E49"}],ae=[{value:b.Zf.Custom,label:"\u624B\u52A8\u6DFB\u52A0",icon:(0,F.jsx)(l.vB,{}),desc:"\u624B\u52A8\u6DFB\u52A0"},{value:b.Zf.Local_Doc,label:"\u6279\u91CF\u5BFC\u5165",icon:(0,F.jsx)(l.OD,{}),desc:"\u4E0A\u4F20 Excel \u683C\u5F0F\u7684\u672C\u5730\u6587\u4EF6"}],o=[{title:"\u4E0A\u4F20"},{title:"\u521B\u5EFA\u8BBE\u7F6E"},{title:"\u6570\u636E\u5904\u7406"}],Q=[{title:"\u6587\u672C\u586B\u5199"},{title:"\u5206\u6BB5\u8BBE\u7F6E"},{title:"\u6570\u636E\u5904\u7406"}],V=[{type:f.Lm.Plugin,defaultImage:i,icon:(0,F.jsx)(l.P1,{}),text:"\u63D2\u4EF6"},{type:f.Lm.Knowledge,defaultImage:t,icon:(0,F.jsx)(l.r7,{}),text:"\u77E5\u8BC6\u5E93"},{type:f.Lm.Workflow,defaultImage:h,icon:(0,F.jsx)(l.xp,{}),text:"\u5DE5\u4F5C\u6D41"},{type:f.Lm.Table,defaultImage:Y,icon:(0,F.jsx)(l.ct,{}),text:"\u6570\u636E\u8868"},{type:f.Lm.Model,defaultImage:H,icon:(0,F.jsx)(l.ky,{}),text:"\u6A21\u578B"}],z=[{value:u.Y1.Internet,label:"\u516C\u7F51\u6A21\u578B"}],N=[{value:u.cx.RoundRobin,label:"\u8F6E\u8BE2"},{value:u.cx.WeightedRoundRobin,label:"\u52A0\u6743\u8F6E\u8BE2"},{value:u.cx.LeastConnections,label:"\u52A0\u6743\u6700\u5C11\u8FDE\u63A5"},{value:u.cx.Random,label:"\u968F\u673A"},{value:u.cx.ResponseTime,label:"\u54CD\u5E94\u65F6\u95F4"}],U=[{value:u.Mj.Completions,label:"\u6587\u672C\u8865\u5168"},{value:u.Mj.Chat,label:"\u804A\u5929\u5BF9\u8BDD-\u7EAF\u6587\u672C"},{value:u.Mj.Edits,label:"\u6587\u672C\u7F16\u8F91"},{value:u.Mj.Images,label:"\u56FE\u50CF\u5904\u7406"},{value:u.Mj.Multi,label:"\u804A\u5929\u5BF9\u8BDD-\u591A\u6A21\u6001"},{value:u.Mj.Embeddings,label:"\u5411\u91CF\u5D4C\u5165"},{value:u.Mj.Audio,label:"\u8BED\u97F3\u5904\u7406"},{value:u.Mj.Other,label:"\u5176\u4ED6"}],Z=[{value:u.re.CallSupported,label:"\u652F\u6301\u666E\u901A\u51FD\u6570\u8C03\u7528"},{value:u.re.StreamCallSupported,label:"\u652F\u6301\u6D41\u5F0F\u51FD\u6570\u8C03\u7528"},{value:u.re.Unsupported,label:"\u4E0D\u652F\u6301\u51FD\u6570\u8C03\u7528"}],K=[{value:u.HN.OpenAI,label:"OpenAI"},{value:u.HN.Ollama,label:"Ollama"},{value:u.HN.Anthropic,label:"Anthropic"}],re=[{label:"\u5143\u6570\u636E",value:a.N9.Metadata,icon:(0,F.jsx)(d.Z,{})},{label:"\u4EE3\u7801",value:a.N9.Code,icon:(0,F.jsx)(l.PR,{})}],x=[{label:"\u6362\u884C\uFF08\\n\uFF09",value:b.Gp.Line_Feed},{label:"2\u4E2A\u6362\u884C\uFF08\\n\\n\uFF09",value:b.Gp.Two_Line_Feed},{label:"\u4E2D\u6587\u53E5\u53F7\uFF08\u3002\uFF09",value:b.Gp.Chinese_Sentence},{label:"\u4E2D\u6587\u53F9\u53F7(\uFF01)",value:b.Gp.Chinese_Exclamation},{label:"\u82F1\u6587\u53E5\u53F7\uFF08.\uFF09",value:b.Gp.English_Sentence},{label:"\u82F1\u6587\u53F9\u53F7\uFF08!\uFF09",value:b.Gp.English_Exclamation},{label:"\u4E2D\u6587\u95EE\u53F7\uFF08\uFF1F\uFF09",value:b.Gp.Chinese_Question_Mark},{label:"\u82F1\u6587\u95EE\u53F7\uFF08?\uFF09",value:b.Gp.English_Question_Mark},{label:"\u81EA\u5B9A\u4E49",value:b.Gp.Custom}]},15258:function(ke,$,e){e.r($),e.d($,{default:function(){return Zn}});var Y=e(90228),t=e.n(Y),H=e(87999),i=e.n(H),h=e(26068),l=e.n(h),j=e(15558),s=e.n(j),b=e(48305),u=e.n(b),a=e(48614),f=e(59934),d=e(48528),F=e(92122),m=e(49528),T=e(24057),_=e(41249),B=e(63619),W=e(94581),p=e.n(W),R=e(32222),ae=e.n(R),o=e(75271),Q=e(87453),V=e(85540),z=e(3055),N=e(17023),U=e(82092),Z=e.n(U),K=e(13297),re=e(68108),x=e(9504),A={"file-info":"file-info___HyY1N",active:"active___MVg4i",analyzing:"analyzing___gjje2","analyzing-success":"analyzing-success___McMOJ","retry-btn":"retry-btn___xpRJl"},n=e(52676),g=p().bind(A),D=function(O){var k,q=O.currentDocId,I=O.info,ce=O.onClick,Ue=O.onSetAnalyzed,de=(0,Q.useRequest)(d.T5,{manual:!0,debounceInterval:300,onSuccess:function(xe,ie){var je=ie[0],me={docStatus:m.Z$.ANALYZING_RAW,docStatusCode:m.Se.ANALYZING_RAW,docStatusDesc:"\u5206\u6790\u4E2D",docStatusReason:"\u5206\u6BB5\u751F\u6210\u4E2D"};Ue(je,me)}}),ve=de.run,ge=(0,Q.useRequest)(d.SR,{manual:!0,debounceInterval:300,loadingDelay:300,pollingInterval:5e3,pollingWhenHidden:!1,pollingErrorRetryCount:3,onSuccess:function(xe){var ie=xe.docStatusCode,je=xe.id,me=xe.docStatus,we=xe.docStatusDesc,X=xe.docStatusReason;if(ie===m.Se.ANALYZED||ie===m.Se.ANALYZE_FAILED){var Ie={docStatus:me,docStatusCode:ie,docStatusDesc:we,docStatusReason:X};Ue(je,Ie)}ie===m.Se.ANALYZED&&Ee()},onError:function(){Ee()}}),Ce=ge.run,Ee=ge.cancel;(0,o.useEffect)(function(){Ee();var De=I.docStatusCode;return De!==m.Se.ANALYZED&&De!==m.Se.ANALYZE_FAILED&&Ce(I.id),function(){Ee()}},[I?.docStatusCode]);var le=function(xe){xe.stopPropagation(),ve(I.id)};return(0,n.jsxs)("li",{onClick:function(){return ce(I)},className:g(A["file-info"],"flex","items-center","radius-6","overflow-hide",Z()({},A.active,q===I.id)),children:[(0,n.jsx)(K.Z,{}),(0,n.jsx)(re.Z,{title:((k=I.name)===null||k===void 0?void 0:k.length)>25?I.name:"",children:(0,n.jsx)("span",{className:g("flex-1","text-ellipsis"),children:I.name})}),I.docStatusCode===m.Se.ANALYZED?(0,n.jsx)("span",{className:g(A.analyzing,A["analyzing-success"]),children:"\u6784\u5EFA\u6210\u529F"}):I.docStatusCode===m.Se.ANALYZE_FAILED?(0,n.jsx)(x.ZP,{type:"primary",className:g(A["retry-btn"]),size:"small",danger:!0,onClick:le,children:"\u6784\u5EFA\u5931\u8D25,\u91CD\u65B0\u6784\u5EFA"}):(0,n.jsx)("span",{className:g(A.analyzing),children:"\u6784\u5EFA\u4E2D"})]})},G=D,ne={container:"container___tss1C","search-icon":"search-icon___ALiyn","document-title":"document-title___D2nw4"},P=p().bind(ne),Je=function(O){var k=O.currentDocId,q=O.onChange,I=O.loading,ce=O.documentList,Ue=O.onClick,de=O.onSetAnalyzed,ve=O.hasMore,ge=O.onScroll;return(0,n.jsxs)("div",{className:P(ne.container,"h-full","flex","flex-col"),children:[(0,n.jsx)(B.Z.Search,{placeholder:"\u641C\u7D22",size:"large",onChange:function(Ee){return q(Ee.target.value)},allowClear:!0,prefix:(0,n.jsx)(N.Z,{className:P(ne["search-icon"])})}),(0,n.jsx)("p",{className:P(ne["document-title"]),children:"\u6587\u6863\u5217\u8868"}),I?(0,n.jsx)(z.Z,{}):(0,n.jsx)("ul",{className:P("flex-1","scroll-container"),id:"docListDiv",children:(0,n.jsx)(V.Z,{scrollableTarget:"docListDiv",list:ce,hasMore:ve,onScroll:ge,children:ce?.map(function(Ce){return(0,n.jsx)(G,{currentDocId:k,info:Ce,onClick:Ue,onSetAnalyzed:de},Ce.id)})})})]})},Ye=Je,vn={container:"container___TcbAQ","inner-container":"inner-container___iBi0j",inputSearch:"inputSearch___lG2EX"},te=e(92973),he=e(28397),J=e(87620),C=e(18631),Ve=e(86230),sn=e(61606),ln=e(89858),qe=e(13143),_e=e(51430),Ze={"xagi-nav-style2":"xagi-nav-style2___thez1",text:"text___wmFD_","page-container":"page-container___sbebK",header:"header___OeFg1","icon-back":"icon-back___KsVkd",logo:"logo___wkezw",section:"section___NHd4m","top-box":"top-box___ZxXf5",name:"name___BgnUx","bottom-box":"bottom-box___JpcN2",box:"box___W35m8","dropdown-icon":"dropdown-icon___DUW6P","radio-group-box":"radio-group-box___Q0t0u"},Ke=p().bind(Ze),jn=function(O){var k=O.docCount,q=k===void 0?0:k,I=O.knowledgeInfo,ce=O.onEdit,Ue=O.onPopover,de=O.onQaPopover,ve=O.docType,ge=ve===void 0?m.Sg.DOC:ve,Ce=O.onChangeDocType,Ee=(0,Q.useParams)(),le=Ee.spaceId,De=I!=null&&I.fileSize?(0,C.td)(I.fileSize):"0KB",xe=function(je){Ce(je.target.value)};return(0,n.jsxs)("header",{className:Ke("flex","items-center","w-full",Ze.header),children:[(0,n.jsx)(sn.Z,{className:Ke(Ze["icon-back"],"cursor-pointer"),onClick:function(){return(0,Ve.bC)("/space/".concat(le,"/library"))}}),(0,n.jsx)("img",{className:Ke(Ze.logo),src:I?.icon||te,alt:""}),(0,n.jsx)("section",{className:Ke("flex","flex-col","content-between",Ze.section),children:(0,n.jsxs)("div",{className:Ke("flex",Ze["top-box"]),children:[(0,n.jsx)("h3",{className:Ke(Ze.name,"text-ellipsis"),children:I?.name}),(0,n.jsx)(ln.Z,{className:Ke("cursor-pointer","hover-box"),onClick:ce,style:{fontSize:16}}),(0,n.jsxs)("div",{className:Ke(Ze["bottom-box"],"flex","items-center"),children:[(0,n.jsx)("span",{className:Ke(Ze.box),children:"".concat(De)}),(0,n.jsx)("span",{className:Ke(Ze.box),children:"".concat(q,"\u4E2A\u6587\u6863")})]})]})}),(0,n.jsxs)(_e.ZP.Group,{className:Ke("flex","items-center","flex-1","content-center",Ze["radio-group-box"]),optionType:"button",defaultValue:ge,onChange:xe,children:[(0,n.jsx)(_e.ZP,{value:m.Sg.DOC,children:"\u6587\u6863"}),(0,n.jsx)(_e.ZP,{value:m.Sg.QA,children:"QA\u95EE\u7B54"})]}),(0,n.jsx)("div",{style:{width:150,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:ge===m.Sg.DOC?(0,n.jsx)(he.Z,{list:J.w9,onClick:Ue,children:(0,n.jsx)(x.ZP,{type:"primary",icon:(0,n.jsx)(qe.Z,{className:Ke(Ze["dropdown-icon"])}),iconPosition:"end",children:"\u6DFB\u52A0\u5185\u5BB9"})}):(0,n.jsx)(he.Z,{list:J.jp,onClick:de,children:(0,n.jsx)(x.ZP,{type:"primary",icon:(0,n.jsx)(qe.Z,{className:Ke(Ze["dropdown-icon"])}),iconPosition:"end",children:"\u6DFB\u52A0QA\u95EE\u7B54"})})})]})},on=jn,gn=e(65774),En=e(73888),hn=e(86743),Ne=e(66118),In=e(75434),Re=e(28190),un=e(14719),en=e(29196),Fe=e(20961),ue=e(59245),Be=e.n(ue),He=e(59261),tn=e(6377),We=e(7098),cn=e(39373),nn=e(26324),c={"xagi-nav-style2":"xagi-nav-style2___u6luY",text:"text___lfWXh","page-container":"page-container___hBhhl","set-box":"set-box___jlKbK","mt-50":"mt-50___Ycewq",active:"active___Vs7Tm","custom-set-hide":"custom-set-hide___Ho8Xr","divider-horizontal":"divider-horizontal___UiZMH","mb-10":"mb-10___F_4Nm"},S=p().bind(c),L=function(O){var k=O.form,q=O.autoSegmentConfigFlag,I=O.onChoose,ce=(0,o.useState)(m.Gp.Line_Feed),Ue=u()(ce,2),de=Ue[0],ve=Ue[1],ge=function(Ee){var le=Ee;ve(le)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:S(c["set-box"],"px-16","py-16","cursor-pointer",Z()({},c.active,q),c["mt-50"]),onClick:function(){return I(!0)},children:[(0,n.jsx)("h3",{children:"\u81EA\u52A8\u5206\u6BB5\u4E0E\u6E05\u6D17"}),(0,n.jsx)("p",{children:"\u81EA\u52A8\u5206\u6BB5\u4E0E\u9884\u5904\u7406\u89C4\u5219"})]}),(0,n.jsxs)("div",{className:S(c["set-box"],"px-16","py-16","cursor-pointer",Z()({},c.active,!q)),onClick:function(){return I(!1)},children:[(0,n.jsx)("h3",{children:"\u81EA\u5B9A\u4E49"}),(0,n.jsx)("p",{children:"\u81EA\u5B9A\u4E49\u5206\u6BB5\u89C4\u5219\uFF0C\u5206\u6BB5\u957F\u5EA6\u53CA\u9884\u5904\u7406\u89C4\u5219"}),(0,n.jsxs)("div",{className:S(Z()({},c["custom-set-hide"],q)),children:[(0,n.jsx)("div",{className:S(c["divider-horizontal"])}),(0,n.jsxs)(Re.Z,{form:k,layout:"vertical",initialValues:{selectDelimiter:m.Gp.Line_Feed,words:800,overlaps:10},requiredMark:nn.N,children:[(0,n.jsxs)(Re.Z.Item,{label:(0,n.jsx)(tn.Z,{label:"\u5206\u6BB5\u6807\u8BC6\u7B26"}),children:[(0,n.jsx)(Re.Z.Item,{name:"selectDelimiter",noStyle:!0,children:(0,n.jsx)(We.Z,{className:S(Z()({},c["mb-10"],de===m.Gp.Custom)),value:de,onChange:ge,options:J.PE})}),(0,n.jsx)(He.Z,{condition:de===m.Gp.Custom,children:(0,n.jsx)(Re.Z.Item,{name:"delimiter",noStyle:!0,rules:[{required:!0,message:"\u8F93\u5165\u5206\u6BB5\u6807\u8BC6\u7B26"}],children:(0,n.jsx)(B.Z,{placeholder:"\u8F93\u5165\u5206\u6BB5\u6807\u8BC6\u7B26\uFF0C\u4F8B\u5982 \\n \u6362\u884C"})})})]}),(0,n.jsx)(Re.Z.Item,{name:"words",label:"\u5206\u6BB5\u6700\u5927\u957F\u5EA6",rules:[{required:!0,message:"\u8BF7\u8F93\u5165100-5000\u7684\u6570\u503C"},{validator:function(Ee,le){return!le||Number(le)>=100&&Number(le)<=5e3?Promise.resolve():le&&!(0,cn.hj)(le)?Promise.reject(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u6570\u5B57!")):Promise.reject(new Error("\u5206\u6BB5\u6700\u5927\u957F\u5EA6\u4E0D\u5F97\u5C0F\u4E8E100\uFF0C\u5927\u4E8E5000!"))}}],children:(0,n.jsx)(B.Z,{placeholder:"\u8BF7\u8F93\u5165100-5000\u7684\u6570\u503C"})}),(0,n.jsx)(Re.Z.Item,{name:"overlaps",label:"\u5206\u6BB5\u91CD\u53E0\u5EA6%",rules:[{required:!0,message:"\u8BF7\u8F93\u51650-100\u7684\u6570\u503C"},{validator:function(Ee,le){return!le||Number(le)>=0&&Number(le)<=100?Promise.resolve():le&&!(0,cn.hj)(le)?Promise.reject(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u6570\u5B57!")):Promise.reject(new Error("\u5206\u6BB5\u91CD\u53E0\u5EA6\u4E0D\u5F97\u5C0F\u4E8E0\uFF0C\u5927\u4E8E100!"))}}],children:(0,n.jsx)(B.Z,{placeholder:"\u8BF7\u8F93\u51650-100\u7684\u6570\u503C"})})]})]})]})]})},r=L,Te={container:"container___ZLORR",box:"box___HKphT",desc:"desc___cHq1A"},be=p().bind(Te),Dn=function(O){var k=O.uploadFileList;return(0,n.jsx)(n.Fragment,{children:k?.map(function(q){return(0,n.jsx)("div",{className:be(Te.container),children:(0,n.jsxs)("div",{className:be("flex","items-center","radius-6",Te.box),children:[(0,n.jsx)("img",{className:be("radius-6"),src:gn,alt:""}),(0,n.jsxs)("div",{className:be("flex-1","overflow-hide"),children:[(0,n.jsx)("h3",{className:be("text-ellipsis"),children:q.name}),(0,n.jsx)("span",{className:be(Te.desc),children:"".concat(q.size/1e3," kb")})]})]})},q.key)})})},Bn=Dn,Ln={container:"container___NSoS7"},Rn=p().bind(Ln),Kn=B.Z.TextArea,Hn=function(O){var k=O.form;return(0,n.jsxs)(Re.Z,{form:k,layout:"vertical",rootClassName:Rn(Ln.container),requiredMark:nn.N,children:[(0,n.jsx)(Re.Z.Item,{name:"name",label:"\u6587\u6863\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6863\u540D\u79F0"}],children:(0,n.jsx)(B.Z,{placeholder:"\u8F93\u5165\u6587\u6863\u540D\u79F0",showCount:!0,maxLength:100})}),(0,n.jsx)(Re.Z.Item,{name:"fileContent",label:"\u6587\u6863\u5185\u5BB9",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6863\u5185\u5BB9"}],children:(0,n.jsx)(Kn,{placeholder:"\u8F93\u5165\u6587\u6863\u5185\u5BB9",autoSize:{minRows:6,maxRows:8}})})]})},Xn=Hn,On=e(61265),ot=e(72875),Jn=e(15739),ye=e(7980),qn={container:"container___Wflwg"},Wn=p().bind(qn),et=ye.Z.Dragger,kn=function(O){var k,q=O.onUploadSuccess,I=O.beforeUpload,ce=O.onChange,Ue=O.fileList,de=O.multiple,ve=de===void 0?!1:de,ge=O.height,Ce=ge===void 0?386:ge,Ee=function(ie){var je=ie.file.status;if(ce?.(ie),je!=="uploading"&&je==="done"){var me,we;if(((me=ie.file.response)===null||me===void 0?void 0:me.code)!==f.Gh){var X;_.ZP.warning((X=ie.file.response)===null||X===void 0?void 0:X.message);return}var Ie=(we=ie.file.response)===null||we===void 0?void 0:we.data;q?.(Ie)}},le=function(ie){var je,me=ie.name,we=ie.size;if(!me.includes("."))return _.ZP.error("\u8BF7\u4E0A\u4F20\u6B63\u786E\u7684\u6587\u4EF6\u7C7B\u578B"),!1;var X=me.split("."),Ie=(je=X[X.length-1])===null||je===void 0?void 0:je.toLowerCase(),Se=On.Y9.includes(Ie);Se||_.ZP.error("\u8BF7\u4E0A\u4F20 PDF\u3001TXT\u3001DOC\u3001DOCX\u3001MD\u3001JSON\u3001JPG\u3001PNG\u3001GIF\u3001WEBP\u3001SVG\u3001HEIC\u3001MP4\u3001MKV\u3001MOV\u3001WEBM\u3001MP3\u3001AAC\u3001WAV\u3001FLAC\u3001OGG\u3001OPUS \u7C7B\u578B\u6587\u4EF6!");var pe=we/1024/1024<100;return pe||_.ZP.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7100MB!"),Se&&pe||ye.Z.LIST_IGNORE},De=(k=localStorage.getItem(ot.LA))!==null&&k!==void 0?k:"";return(0,n.jsx)("div",{className:Wn("flex flex-col content-center",qn.container),style:{height:Ce},children:(0,n.jsxs)(et,{className:Wn("h-full"),action:On.GI,onChange:Ee,multiple:ve,fileList:Ue,headers:{Authorization:De?"Bearer ".concat(De):""},showUploadList:!1,beforeUpload:I??le,children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(Jn.Z,{})}),(0,n.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u4E0A\u4F20\u6216\u62D6\u62FD\u6587\u6863\u5230\u8FD9\u91CC"}),(0,n.jsx)("p",{className:"ant-upload-hint",children:"\u652F\u6301 PDF\u3001TXT\u3001DOC\u3001DOCX\u3001MD\u3001JSON\u3001JPG\u3001PNG\u3001GIF\u3001WEBP\u3001SVG\u3001HEIC\u3001MP4\u3001MKV\u3001MOV\u3001WEBM\u3001MP3\u3001AAC\u3001WAV\u3001FLAC\u3001OGG\u3001OPUS\uFF0C\u6700\u591A\u53EF\u4E0A\u4F20 300 \u4E2A\u6587\u4EF6\uFF0C\u6BCF\u4E2A\u6587\u4EF6\u4E0D\u8D85\u8FC7 100MB\uFF0C PDF \u6700\u591A 500 \u9875"})]})})},Fn=kn,mn={container:"container___tFtX8",header:"header___wuG3n",body:"body___mYOi1",gap:"gap___SPBCR","step-wrap":"step-wrap___FeUXk",fileList:"fileList___oV1Gy","file-box":"file-box___u0M_L",box:"box___XvOd5",span:"span___A8vDZ","progress-upload-file":"progress-upload-file___j10i7","progress-upload-file-error":"progress-upload-file-error___W4cLz","progress-upload-file-success":"progress-upload-file-success___Ey3Y6"},pn=p().bind(mn),Gn=function(O){var k,q=O.id,I=O.type,ce=I===void 0?m.Zf.Local_Doc:I,Ue=O.open,de=O.onConfirm,ve=O.onCancel,ge=Re.Z.useForm(),Ce=u()(ge,1),Ee=Ce[0],le=Re.Z.useForm(),De=u()(le,1),xe=De[0],ie=(0,o.useState)(m.ah.Upload_Or_Text_Fill),je=u()(ie,2),me=je[0],we=je[1],X=(0,o.useState)([]),Ie=u()(X,2),Se=Ie[0],pe=Ie[1],y=(0,o.useState)([]),v=u()(y,2),E=v[0],M=v[1],fe=(0,o.useState)(!0),Ge=u()(fe,2),oe=Ge[0],$e=Ge[1],fn=(0,o.useRef)();(0,o.useEffect)(function(){M(Se.filter(function(w){return w.status===F.KM.done&&w.key&&w.url}))},[Se]);var Pe=(0,o.useRef)(null),Nn=function(){we(m.ah.Upload_Or_Text_Fill),pe([]),$e(!0),Ee.resetFields(),xe.resetFields(),Pe.current=null},Yn=(0,Q.useRequest)(d.Il,{manual:!0,debounceInterval:300,onSuccess:function(){_.ZP.success("\u6587\u6863\u6DFB\u52A0\u6210\u529F"),Nn(),de()}}),Qe=Yn.run,st=(0,Q.useRequest)(d.gd,{manual:!0,debounceInterval:300,onSuccess:function(){_.ZP.success("\u6587\u6863\u6DFB\u52A0\u6210\u529F"),Nn(),de()}}),yt=st.run,Et=function(){var w=i()(t()().mark(function Xe(){var ze,rn;return t()().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:ze=E?.map(function(ft){return{name:ft.name,docUrl:ft.url,fileSize:ft.size}})||[],rn={kbId:q,fileList:ze,autoSegmentConfigFlag:oe},Qe(oe?rn:l()(l()({},rn),{},{segmentConfig:l()(l()({segment:m.D7.DELIMITER},Pe.current),{},{isTrim:!0})}));case 3:case"end":return Cn.stop()}},Xe)}));return function(){return w.apply(this,arguments)}}(),Dt=(0,o.useCallback)(function(w){return(0,En.U)(w)},[]),pt=function(){var w=i()(t()().mark(function Xe(){var ze;return t()().wrap(function(Vn){for(;;)switch(Vn.prev=Vn.next){case 0:ze=l()(l()({kbId:q},fn.current),{},{autoSegmentConfigFlag:oe}),yt(oe?ze:l()(l()({},ze),{},{segmentConfig:l()(l()({segment:m.D7.DELIMITER},Pe.current),{},{isTrim:!0})}));case 2:case"end":return Vn.stop()}},Xe)}));return function(){return w.apply(this,arguments)}}(),Rt=(0,o.useMemo)(function(){return ce===m.Zf.Local_Doc?J.nF:J.xH},[ce]),Pt=function(Xe){var ze=s()(Se);ze.splice(ze.findIndex(function(rn){return rn.uid===Xe}),1),pe(ze)},Ft=function(){var w=i()(t()().mark(function Xe(){return t()().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:if(ce!==m.Zf.Custom){rn.next=4;break}return rn.next=3,xe.validateFields();case 3:fn.current=rn.sent;case 4:we(m.ah.Create_Segmented_Set);case 5:case"end":return rn.stop()}},Xe)}));return function(){return w.apply(this,arguments)}}(),wt=function(){var w=i()(t()().mark(function Xe(){var ze,rn;return t()().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:if(oe){Cn.next=6;break}return Cn.next=3,Ee.validateFields();case 3:ze=Cn.sent,ze?.selectDelimiter===m.Gp.Custom?rn=Be()(ze,["selectDelimiter"]):rn={delimiter:ze?.selectDelimiter,overlaps:Number(ze.overlaps),words:Number(ze.words)},Pe.current=rn;case 6:we(m.ah.Data_Processing);case 7:case"end":return Cn.stop()}},Xe)}));return function(){return w.apply(this,arguments)}}(),Mt=function(){switch(me){case m.ah.Upload_Or_Text_Fill:return(0,n.jsxs)("div",{className:pn("flex","content-end",mn.gap),children:[(0,n.jsx)(x.ZP,{onClick:ve,children:"\u53D6\u6D88"}),(0,n.jsx)(x.ZP,{onClick:Ft,type:"primary",disabled:ce===m.Zf.Local_Doc?E?.length===0:!1,children:"\u4E0B\u4E00\u6B65"})]});case m.ah.Create_Segmented_Set:return(0,n.jsxs)("div",{className:pn("flex","content-end",mn.gap),children:[(0,n.jsx)(x.ZP,{onClick:function(){return we(m.ah.Upload_Or_Text_Fill)},children:"\u4E0A\u4E00\u6B65"}),(0,n.jsx)(x.ZP,{onClick:wt,type:"primary",children:"\u4E0B\u4E00\u6B65"})]});case m.ah.Data_Processing:return(0,n.jsxs)("div",{className:pn("flex","content-end",mn.gap),children:[(0,n.jsx)(x.ZP,{onClick:function(){return we(m.ah.Create_Segmented_Set)},children:"\u4E0A\u4E00\u6B65"}),(0,n.jsx)(x.ZP,{onClick:ce===m.Zf.Local_Doc?Et:pt,type:"primary",children:"\u786E\u8BA4"})]})}},xt=function(){Nn(),ve()},Nt=function(Xe){var ze=Xe.fileList;pe((0,En.G)(ze,90))},Bt=(0,o.useCallback)(function(w){return w?w.length>24?w.slice(0,16)+"..."+w.slice(w.length-8,w.length):w:""},[]),Ut=(0,o.useCallback)(function(w){return w?w<1024?"".concat(w," B"):w<1024*1024?"".concat((w/1024).toFixed(2)," KB"):w<1024*1024*1024?"".concat((w/1024/1024).toFixed(2)," MB"):"".concat((w/1024/1024/1024).toFixed(2)," GB"):""},[]);return(0,n.jsxs)(un.Z,{title:"\u6DFB\u52A0\u5185\u5BB9",destroyOnHidden:!0,classNames:{content:pn(mn.container),header:pn(mn.header),body:pn(mn.body)},open:Ue,onCancel:xt,footer:Mt,children:[(0,n.jsx)("div",{className:pn(mn["step-wrap"],"radius-6"),children:(0,n.jsx)(en.Z,{type:"default",current:me,items:Rt})}),me===m.ah.Upload_Or_Text_Fill?ce===m.Zf.Local_Doc?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Fn,{onChange:Nt,multiple:!0,fileList:Se,height:200}),(0,n.jsx)("div",{className:pn(mn.fileList),children:Se?.map(function(w){return(0,n.jsxs)("div",{className:pn(mn["file-box"]),children:[(0,n.jsxs)("div",{className:pn("flex","items-center","content-between"),style:{height:"100%"},children:[(0,n.jsxs)("span",{style:{color:w?.status===F.KM.error?"#e53241":"rgba(0, 0, 0, 0.88)"},children:[Bt(w?.name)," (",Ut(w?.size),")"]}),(0,n.jsx)(hn.Z,{onClick:function(){return Pt(w.uid)}})]}),w?.percent!==void 0&&(Dt(w)==="success"?(0,n.jsx)("div",{className:mn["progress-upload-file-success"],children:(0,n.jsx)(Ne.Z,{})}):(0,n.jsx)(Fe.Z,{percent:Math.floor(w.percent||0),type:"circle",status:Dt(w),size:20,className:mn["progress-upload-file"]})),w?.status===F.KM.error&&(0,n.jsx)("div",{className:mn["progress-upload-file-error"],children:(0,n.jsx)(In.Z,{})})]},w.uid)})})]}):(0,n.jsx)(Xn,{form:xe}):me===m.ah.Create_Segmented_Set?(0,n.jsx)(r,{form:Ee,autoSegmentConfigFlag:oe,onChoose:function(Xe){return $e(Xe)}}):ce===m.Zf.Local_Doc?(0,n.jsx)(Bn,{uploadFileList:E}):(0,n.jsxs)("div",{className:pn("flex","items-center","radius-6",mn.box),children:[(0,n.jsx)("img",{className:pn("radius-6"),src:gn,alt:""}),(0,n.jsx)("h3",{className:pn("text-ellipsis","flex-1"),children:(k=fn.current)===null||k===void 0?void 0:k.name})]})]})},Un=Gn,ut=e(30426),nt=e(54134),$n=e(7010),tt=e(69219),it=e(32699),Qn={dragger:"dragger___RX3qp"},Pn=p().bind(Qn),ct=ye.Z.Dragger,an=function(O){var k=O.open,q=O.kbId,I=O.onConfirm,ce=O.onCancel,Ue=(0,o.useState)([]),de=u()(Ue,2),ve=de[0],ge=de[1],Ce=(0,o.useState)(!1),Ee=u()(Ce,2),le=Ee[0],De=Ee[1];(0,o.useEffect)(function(){k||(ge([]),De(!1))},[k]);var xe=function(){var X=i()(t()().mark(function Ie(Se,pe,y){var v;return t()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,(0,d.s2)({file:Se,kbId:q});case 3:v=M.sent,v.code==="0000"?pe():y(v.message||"\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6\u683C\u5F0F\u662F\u5426\u6B63\u786E"),M.next=11;break;case 7:M.prev=7,M.t0=M.catch(0),console.error("\u4E0A\u4F20\u6587\u4EF6\u51FA\u9519:",M.t0),De(!1);case 11:case"end":return M.stop()}},Ie,null,[[0,7]])}));return function(Se,pe,y){return X.apply(this,arguments)}}(),ie={name:"file",multiple:!1,accept:".xlsx,.xls",maxCount:1,beforeUpload:function(Ie){var Se=Ie.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||Ie.type==="application/vnd.ms-excel"||Ie.name.endsWith(".xlsx")||Ie.name.endsWith(".xls");if(!Se)return _.ZP.error("\u4EC5\u652F\u6301Excel\u6587\u4EF6(.xlsx/.xls)"),!1;var pe=Ie.size/1024/1024<10;return pe?(ge([Ie]),!1):(_.ZP.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710MB"),!1)},onRemove:function(){ge([])},fileList:ve},je=(0,it.debounce)(function(){if(ve.length===0){_.ZP.error("\u8BF7\u4E0A\u4F20\u6587\u4EF6");return}De(!0),xe(ve[0],function(){De(!1),_.ZP.success("\u6279\u91CF\u5BFC\u5165\u6210\u529F"),ge([]),I()},function(X){De(!1),_.ZP.error(X)})},500),me=function(){ge([]),ce()},we=function(){var X=i()(t()().mark(function Ie(){var Se,pe,y;return t()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return console.log("\u4E0B\u8F7DQA\u6279\u91CFexcel\u6A21\u677F"),E.prev=1,E.next=4,(0,d.ds)();case 4:Se=E.sent,pe=URL.createObjectURL(Se),y=document.createElement("a"),y.href=pe,y.download="QA\u6279\u91CFexcel\u6A21\u677F.xlsx",y.click(),URL.revokeObjectURL(pe),E.next=17;break;case 13:E.prev=13,E.t0=E.catch(1),console.error(E.t0),_.ZP.error("\u4E0B\u8F7DQA\u6279\u91CFexcel\u6A21\u677F\u5931\u8D25");case 17:case"end":return E.stop()}},Ie,null,[[1,13]])}));return function(){return X.apply(this,arguments)}}();return(0,n.jsxs)(un.Z,{title:"QA\u6279\u91CF\u5BFC\u5165",open:k,confirmLoading:le,onCancel:me,footer:(0,n.jsxs)($n.Z,{children:[(0,n.jsx)(re.Z,{title:"\u4E0B\u8F7DExcel\u5BFC\u5165\u6A21\u677F",children:(0,n.jsx)(x.ZP,{icon:(0,n.jsx)(ut.Z,{}),type:"link",onClick:we,children:"\u4E0B\u8F7D\u6A21\u677F"})}),(0,n.jsx)(x.ZP,{type:"primary",disabled:ve.length===0,onClick:je,loading:le,children:"\u786E\u8BA4\u4E0A\u4F20"})]}),destroyOnHidden:!0,width:500,children:[(0,n.jsx)("div",{className:Pn(Qn.dragger),children:(0,n.jsxs)(ct,l()(l()({},ie),{},{className:Pn("h-full"),children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(nt.Z,{})}),(0,n.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u62D6\u62FD\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u4E0A\u4F20"}),(0,n.jsx)("p",{className:"ant-upload-hint",children:"\u4EC5\u652F\u6301Excel\u6587\u4EF6(.xlsx/.xls)\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC710MB"})]}))}),ve.length===0&&(0,n.jsx)("div",{style:{marginTop:16,textAlign:"center"},children:(0,n.jsx)(tt.Z.Text,{type:"secondary",children:"\u8BF7\u5148\u4E0B\u8F7D\u5BFC\u5165\u6A21\u677F\uFF0C\u6309\u7167\u683C\u5F0F\u586B\u5199\u540E\u4E0A\u4F20"})})]})},se=an,dn=function(O){var k=O.data,q=O.open,I=O.onCancel,ce=O.onConfirm,Ue=Re.Z.useForm(),de=u()(Ue,1),ve=de[0],ge=(0,o.useState)(!1),Ce=u()(ge,2),Ee=Ce[0],le=Ce[1],De=function(){var ie=i()(t()().mark(function je(){var me;return t()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.prev=0,le(!0),X.next=4,ve.validateFields();case 4:return me=X.sent,X.next=7,ce(l()(l()({},me),{},{id:k?.id}));case 7:X.next=12;break;case 9:X.prev=9,X.t0=X.catch(0),console.error("\u8868\u5355\u9A8C\u8BC1\u5931\u8D25:",X.t0);case 12:return X.prev=12,le(!1),X.finish(12);case 15:case"end":return X.stop()}},je,null,[[0,9,12,15]])}));return function(){return ie.apply(this,arguments)}}();(0,o.useEffect)(function(){q&&k!==null&&k!==void 0&&k.id&&ve.setFieldsValue(k)},[k,q]);var xe=function(){I()};return(0,n.jsx)(un.Z,{open:q,title:k!=null&&k.id?"\u7F16\u8F91QA\u95EE\u7B54":"\u6DFB\u52A0QA\u95EE\u7B54",confirmLoading:Ee,onCancel:xe,onOk:De,maskClosable:!0,destroyOnHidden:!0,children:(0,n.jsxs)(Re.Z,{form:ve,layout:"vertical",preserve:!1,requiredMark:nn.N,children:[(0,n.jsx)(Re.Z.Item,{name:"question",label:"\u95EE\u9898",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u95EE\u9898"}],children:(0,n.jsx)(B.Z.TextArea,{className:"dispose-textarea-count",autoSize:{minRows:5,maxRows:8},placeholder:"\u8BF7\u8F93\u5165\u95EE\u9898\u5185\u5BB9",showCount:!0,maxLength:500})}),(0,n.jsx)(Re.Z.Item,{name:"answer",label:"\u7B54\u6848",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7B54\u6848"}],children:(0,n.jsx)(B.Z.TextArea,{className:"dispose-textarea-count",autoSize:{minRows:5,maxRows:8},placeholder:"\u8BF7\u8F93\u5165\u7B54\u6848\u5185\u5BB9",showCount:!0,maxLength:5e3})})]})})},_n=dn,jt=e(23299),vt=e(64267),xn=e(12758),gt=e(69706),Tt=e(56555),ht=e(10580),_t=e(70183),Sn=(0,o.forwardRef)(function(Ae,O){var k=[{title:"ID",dataIndex:"id",width:150,fixed:"left"},{title:"\u95EE\u9898",dataIndex:"question",render:function(pe){return(0,n.jsx)("div",{className:p()("text-ellipsis"),title:pe,children:pe})}},{title:"\u7B54\u6848",dataIndex:"answer",render:function(pe){return(0,n.jsx)("div",{className:p()("text-ellipsis"),title:pe,children:pe})}},{title:"\u5411\u91CF\u5316",dataIndex:"hasEmbedding",width:100,fixed:"right",render:function(pe){return pe?(0,n.jsx)(xn.Z,{color:"success",children:"\u5DF2\u5B8C\u6210"}):(0,n.jsx)(xn.Z,{color:"processing",children:"\u6784\u5EFA\u4E2D"})}},{title:"\u64CD\u4F5C",dataIndex:"action",width:100,align:"center",fixed:"right",render:function(pe,y){return(0,n.jsxs)("div",{className:p()("flex","flex-row","content-around"),children:[(0,n.jsx)(x.ZP,{type:"text",icon:(0,n.jsx)(jt.Z,{}),onClick:function(){return Ae.onEdit(y)}}),(0,n.jsx)(gt.Z,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64QA\u95EE\u7B54\u5417?",description:y.question,icon:(0,n.jsx)(vt.Z,{}),onConfirm:function(){return Ae.onDelete(y)},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,n.jsx)(x.ZP,{type:"text",icon:(0,n.jsx)(hn.Z,{})})})]})}}],q=(0,o.useState)([]),I=u()(q,2),ce=I[0],Ue=I[1],de=(0,o.useState)(!0),ve=u()(de,2),ge=ve[0],Ce=ve[1],Ee=(0,o.useState)(0),le=u()(Ee,2),De=le[0],xe=le[1],ie=(0,o.useState)({current:1,pageSize:20,queryFilter:{spaceId:Ae.spaceId,question:Ae.question,kbId:Ae.kbId},orders:[],filters:[],columns:[]}),je=u()(ie,2),me=je[0],we=je[1],X=function(){Ce(!0),(0,d.h0)(me).then(function(pe){var y=pe.data,v=y.current,E=y.size,M=y.total,fe=M===void 0?0:M,Ge=y.records;xe(fe),Ue(Array.isArray(Ge)?Ge:[]),we(function(oe){return l()(l()({},oe),{},{pageSize:E,current:v})})}).finally(function(){Ce(!1)})};(0,o.useEffect)(function(){X()},[me.current,me.pageSize,me.queryFilter.question]),(0,o.useEffect)(function(){we(function(Se){return l()(l()({},Se),{},{queryFilter:{spaceId:Ae.spaceId,question:Ae.question,kbId:Ae.kbId},current:1})})},[Ae.spaceId,Ae.kbId,Ae.question]),(0,o.useImperativeHandle)(O,function(){return{refresh:X}});var Ie=function(pe){we(function(y){var v=l()(l()({},y),{},{current:pe.current||1,pageSize:pe.pageSize||10});return pe.pageSize!==y.pageSize&&Ue([]),v})};return(0,n.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:ce.length>0?"flex-start":"center"},children:ge?(0,n.jsx)(Tt.Z,{spinning:ge,delay:200}):ce.length>0?(0,n.jsx)(ht.Z,{rowKey:"id",columns:k,rowHoverable:!1,dataSource:ce,loading:ge,height:"auto",pagination:{total:De,current:me.current,pageSize:me.pageSize},onChange:Ie,scroll:{scrollToFirstRowOnChange:!0,x:"max-content",y:"calc(100vh - 257px)"}}):(0,n.jsx)(_t.Z,{description:"\u6682\u65E0\u6570\u636E"})})}),At=Sn,Ct=e(6619),dt=e(63876),at={input:"input___LYrHA"},wn=p().bind(at),zn=function(O){var k=O.docId,q=O.docName,I=O.onSuccessUpdateName,ce=Re.Z.useForm(),Ue=u()(ce,1),de=Ue[0],ve=(0,o.useState)(!1),ge=u()(ve,2),Ce=ge[0],Ee=ge[1],le=(0,Q.useRequest)(d.pJ,{manual:!0,debounceInterval:300,onSuccess:function(je,me){_.ZP.success("\u66F4\u65B0\u6210\u529F"),Ee(!1);var we=me[0],X=we.docId,Ie=we.name;I(X,Ie)}}),De=le.run;(0,o.useEffect)(function(){Ce&&de.setFieldValue("name",q)},[q,Ce]);var xe=function(je){var me=je.name;De({docId:k,name:me})};return(0,n.jsx)(Ct.Z,{title:"\u91CD\u547D\u540D",type:F.Ai.Blank,icon:(0,n.jsx)(dt.Z,{arrow:!1,trigger:"click",open:Ce,onOpenChange:Ee,placement:"bottom",content:(0,n.jsxs)(Re.Z,{form:de,layout:"vertical",requiredMark:nn.g,onFinish:xe,children:[(0,n.jsx)(Re.Z.Item,{className:wn(at.input,"mb-16"),name:"name",label:"\u91CD\u547D\u540D",rules:[{required:!0,message:"\u6587\u6863\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(B.Z.TextArea,{className:"dispose-textarea-count",placeholder:"\u8BF7\u8F93\u5165\u6587\u6863\u540D\u79F0",maxLength:100,showCount:!0,autoSize:{minRows:6,maxRows:8}})}),(0,n.jsx)(Re.Z.Item,{className:wn("flex","content-end","mb-6"),children:(0,n.jsx)(x.ZP,{htmlType:"submit",type:"primary",children:"\u786E\u8BA4"})})]}),children:(0,n.jsx)(ln.Z,{className:wn("cursor-pointer")})})})},It=zn,Mn={header:"header___YxOE4","file-name":"file-name___vKz2w","extra-box":"extra-box___PhzdH","switch-name":"switch-name___TWOys",del:"del___trseG","segment-box":"segment-box___PyZJq",line:"line____3pA8"},Tn=p().bind(Mn),Lt=function(O){var k=O.onDel,q=O.onSuccessUpdateName,I=O.documentInfo,ce=(0,o.useState)([]),Ue=u()(ce,2),de=Ue[0],ve=Ue[1],ge=(0,o.useState)(!1),Ce=u()(ge,2),Ee=Ce[0],le=Ce[1],De=(0,o.useState)(1),xe=u()(De,2),ie=xe[0],je=xe[1],me=(0,o.useState)(!0),we=u()(me,2),X=we[0],Ie=we[1],Se=(0,Q.useRequest)(d.vn,{manual:!0,debounceInterval:300,loadingDelay:300,onSuccess:function(M){var fe=M.records,Ge=M.pages,oe=M.current,$e=fe||[];ve(function(fn){return oe===1?$e:[].concat(s()(fn),s()($e))}),Ie(oe<Ge),je(oe+1),le(!1)},onError:function(){le(!1)}}),pe=Se.run,y=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;pe({queryFilter:{docId:I?.id},current:M,pageSize:20})};(0,o.useEffect)(function(){if(I){var E=I.docStatusCode;[m.Se.ANALYZED,m.Se.ANALYZED_QA,m.Se.ANALYZED_EMBEDDING].includes(E)&&(le(!0),y()),E===m.Se.ANALYZING&&ve([])}else ve([])},[I]);var v=function(){y(ie)};return(0,n.jsxs)("div",{className:Tn("flex-1","h-full","flex","flex-col","overflow-hide"),children:[(0,n.jsx)("header",{className:Tn(Mn.header,"flex","items-center"),children:(0,n.jsxs)(He.Z,{condition:!!I,children:[(0,n.jsx)(K.Z,{}),(0,n.jsx)("span",{className:Tn("text-ellipsis",Mn["file-name"]),children:I?.name}),(0,n.jsx)(It,{docId:I?.id,docName:I?.name,onSuccessUpdateName:q}),(0,n.jsx)("div",{className:Tn(Mn["extra-box"],"flex","items-center"),children:(0,n.jsx)(hn.Z,{className:Tn(Mn.del,"cursor-pointer"),onClick:k})})]})}),I?.docStatusCode===m.Se.ANALYZING_RAW?(0,n.jsx)("div",{className:Tn("flex","flex-1","items-center","content-center",Mn["segment-box"]),children:(0,n.jsx)("span",{children:"\u5206\u6BB5\u6B63\u5728\u5904\u7406\u4E2D"})}):Ee?(0,n.jsx)(z.Z,{}):de?.length>0?(0,n.jsx)("div",{className:Tn("px-16","py-16","flex-1","scroll-container"),id:"rawSegmentDiv",children:(0,n.jsx)(V.Z,{scrollableTarget:"rawSegmentDiv",list:de||[],hasMore:X,onScroll:v,children:de?.map(function(E){return(0,n.jsx)("p",{className:Tn(Mn.line,"radius-6"),children:E.rawTxt},E.id)})})}):(0,n.jsx)("div",{className:Tn("flex","flex-1","items-center","content-center"),children:(0,n.jsx)(_t.Z,{description:"\u6682\u65E0\u5206\u6BB5"})})]})},Ot=Lt,rt=p().bind(vn),mt=function(){var O=(0,Q.useParams)(),k=Number(O.spaceId),q=Number(O.knowledgeId),I=(0,o.useState)(!1),ce=u()(I,2),Ue=ce[0],de=ce[1],ve=(0,o.useState)(),ge=u()(ve,2),Ce=ge[0],Ee=ge[1],le=(0,o.useState)(),De=u()(le,2),xe=De[0],ie=De[1],je=(0,o.useState)(!1),me=u()(je,2),we=me[0],X=me[1],Ie=(0,o.useState)([]),Se=u()(Ie,2),pe=Se[0],y=Se[1],v=(0,o.useState)(!1),E=u()(v,2),M=E[0],fe=E[1],Ge=(0,o.useRef)(""),oe=(0,o.useState)(0),$e=u()(oe,2),fn=$e[0],Pe=$e[1],Nn=(0,o.useState)(null),Yn=u()(Nn,2),Qe=Yn[0],st=Yn[1],yt=(0,o.useState)(!1),Et=u()(yt,2),Dt=Et[0],pt=Et[1],Rt=(0,o.useState)(1),Pt=u()(Rt,2),Ft=Pt[0],wt=Pt[1],Mt=(0,o.useState)(!0),xt=u()(Mt,2),Nt=xt[0],Bt=xt[1],Ut=(0,o.useState)(1),w=u()(Ut,2),Xe=w[0],ze=w[1],rn=(0,o.useRef)(null),Vn=(0,o.useState)(null),Cn=u()(Vn,2),ft=Cn[0],Zt=Cn[1],Qt=(0,o.useState)(!1),Wt=u()(Qt,2),zt=Wt[0],St=Wt[1],Yt=(0,o.useState)(""),kt=u()(Yt,2),Vt=kt[0],Gt=kt[1],Ht=(0,Q.useRequest)(d.Wi,{manual:!0,debounceInterval:300,onSuccess:function(ee){ie(ee)}}),Xt=Ht.run,Jt=function(ee){var Oe=ee.records,bn=ee.pages,yn=ee.current,An=ee.total,Me=Oe||[];if(y(function(Kt){return yn===1?Me:[].concat(s()(Kt),s()(Me))}),Bt(yn<bn),wt(yn+1),Pe(An),fe(!1),!Qe||!(Me!=null&&Me.some(function(Kt){return Kt.id===Qe?.id}))){var ha=Me[0]||null;st(ha)}},qt=(0,Q.useRequest)(d.ah,{manual:!0,debounceInterval:500,onSuccess:function(ee){Jt(ee)},onError:function(){fe(!1)}}),ea=qt.run,lt=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ge.current;ea({queryFilter:{kbId:q,name:Oe},current:ee,pageSize:20})},na=(0,Q.useRequest)(d.Gh,{manual:!0,debounceInterval:300,onSuccess:function(){_.ZP.success("\u5220\u9664\u6587\u6863\u6210\u529F"),fe(!0),lt()}}),ta=na.run;(0,o.useEffect)(function(){Xt(q),fe(!0),lt()},[q]);var aa=function(ee){Ee(ee.value),de(!0)},ra=function(){de(!1),fe(!0),lt()},sa=function(ee){X(!1);var Oe=l()(l()({},xe),ee);ie(Oe)},la=function(ee){var Oe=ee.trim();Ge.current=Oe,fe(!0),lt(1,Oe)},oa=(0,o.useCallback)(function(Le,ee){if(Qe?.id===Le&&ee.docStatusCode!==Qe?.docStatusCode){var Oe=l()(l()({},Qe),ee);st(Oe)}var bn=ae()(pe),yn=bn.map(function(An){return An.id===Le?l()(l()({},An),ee):An});y(yn)},[Qe,pe]),ua=function(){var ee=Qe?.id;(0,T.oB)("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u6587\u6863\u5417?",Qe?.name||"",function(){return ta(ee),new Promise(function(Oe){setTimeout(Oe,1e3)})})},ia=function(ee,Oe){var bn=l()(l()({},Qe),{},{name:Oe});st(bn);var yn=pe.map(function(An){return An.id===ee&&(An.name=Oe),An});y(yn)},bt=function(){var ee;(ee=rn.current)===null||ee===void 0||ee.refresh()},ca=function(ee){Gt(""),ze(ee),ee===m.Sg.DOC?(fe(!0),lt()):bt()},da=function(ee){ee.value===m.Zf.Custom?(Ee(ee.value),Zt(null),St(!0)):pt(!0)},ma=function(){return(0,n.jsxs)("div",{className:rt("flex","flex-1"),children:[(0,n.jsx)(Ye,{currentDocId:Qe?.id,loading:M,documentList:pe,onClick:st,onChange:la,onSetAnalyzed:oa,hasMore:Nt,onScroll:function(){return lt(Ft)}}),(0,n.jsx)(Ot,{documentInfo:Qe,onDel:ua,onSuccessUpdateName:ia})]})},pa=function(ee){Zt(ee),St(!0)},fa=function(){var Le=i()(t()().mark(function ee(Oe){var bn,yn;return t()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Me.prev=0,Me.next=3,(0,d.TL)({id:Oe.id});case 3:bn=Me.sent,yn=bn.code,yn===f.Gh?(_.ZP.success("\u5220\u9664QA\u95EE\u7B54\u6210\u529F"),bt()):_.ZP.error("\u5220\u9664QA\u95EE\u7B54\u5931\u8D25"),Me.next=11;break;case 8:Me.prev=8,Me.t0=Me.catch(0),_.ZP.error("\u5220\u9664QA\u95EE\u7B54\u5931\u8D25");case 11:case"end":return Me.stop()}},ee,null,[[0,8]])}));return function(Oe){return Le.apply(this,arguments)}}(),$t=function(ee){Xe===m.Sg.QA&&Gt(ee)},va=function(){return(0,n.jsxs)("div",{className:rt("flex","flex-col","w-full"),children:[(0,n.jsx)("div",{className:rt(vn.inputSearch),children:(0,n.jsx)(B.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u95EE\u9898\u641C\u7D22",allowClear:!0,style:{width:240},onSearch:$t,onPressEnter:function(Oe){return $t(Oe.currentTarget.value)}})}),(0,n.jsx)(At,{ref:rn,spaceId:Number(k),kbId:Number(q),onEdit:pa,onDelete:fa,question:Vt})]})},ga=function(){var Le=i()(t()().mark(function ee(Oe){var bn,yn;return t()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Oe.id?bn=(0,d.bB)({id:Oe.id,question:Oe.question,answer:Oe.answer}):bn=(0,d.V5)({kbId:q,question:Oe.question,answer:Oe.answer,spaceId:k}),Me.prev=1,Me.next=4,bn;case 4:yn=Me.sent,yn.code==="0000"?(_.ZP.success(Oe.id?"QA\u95EE\u7B54\u66F4\u65B0\u6210\u529F":"\u6DFB\u52A0QA\u95EE\u7B54\u6210\u529F"),bt(),St(!1)):_.ZP.error(Oe.id?"QA\u95EE\u7B54\u66F4\u65B0\u5931\u8D25":"\u6DFB\u52A0QA\u95EE\u7B54\u5931\u8D25"),Me.next=12;break;case 8:Me.prev=8,Me.t0=Me.catch(1),console.error(Me.t0),_.ZP.error(Oe.id?"QA\u95EE\u7B54\u66F4\u65B0\u5931\u8D25":"\u6DFB\u52A0QA\u95EE\u7B54\u5931\u8D25");case 12:return Me.abrupt("return",null);case 13:case"end":return Me.stop()}},ee,null,[[1,8]])}));return function(Oe){return Le.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:rt(vn.container,"h-full","flex","flex-col"),children:[(0,n.jsx)(on,{docCount:fn,knowledgeInfo:xe,docType:Xe,onChangeDocType:ca,onEdit:function(){return X(!0)},onPopover:aa,onQaPopover:da}),(0,n.jsx)("div",{style:{flex:1,height:Xe===m.Sg.DOC?"calc(100% - 88px)":"100%",padding:"0 10px",margin:"0",display:"flex",overflowX:"auto"},children:Xe===m.Sg.DOC?ma():va()}),(0,n.jsx)(Un,{id:q,type:Ce,open:Ue,onCancel:function(){return de(!1)},onConfirm:ra}),(0,n.jsx)(a.Z,{mode:F.jA.Update,spaceId:k,knowledgeInfo:xe,open:we,onCancel:function(){return X(!1)},onConfirm:sa}),(0,n.jsx)(_n,{data:ft,type:Ce,open:zt,onCancel:function(){St(!1),Zt(null)},onConfirm:ga}),(0,n.jsx)(se,{open:Dt,kbId:Number(q),onCancel:function(){return pt(!1)},onConfirm:function(){pt(!1),bt()}})]})},Zn=mt},28359:function(ke,$,e){var Y=e(90228),t=e.n(Y),H=e(87999),i=e.n(H),h=e(26068),l=e.n(h),j=e(67825),s=e.n(j),b=e(82092),u=e.n(b),a=e(64799),f=e(87453),d=["data"],F=["records"],m=["deployedConfig","deployStatus","id","creator"],T=u()(u()(u()(u()(u()(u()(u()({},a.qR.Plugin,"/api/published/plugin/list"),a.qR.Workflow,"/api/published/workflow/list"),a.qR.Knowledge,"/api/published/knowledge/list"),a.qR.Table,"/api/published/composeTable/list"),a.qR.Variable,"/api/published/dataBase/list"),a.qR.Model,"/api/published/dataBase/list"),a.qR.Agent,"/api/published/agent/list");function _(z){return(0,f.request)("/api/mcp/deployed/list",{method:"POST",data:z}).then(function(N){var U=N.data,Z=s()(N,d),K=U||{},re=K.records,x=s()(K,F);return l()(l()({},Z),{},{data:l()(l()({},x),{},{records:re?.map(function(A){var n=A.deployedConfig,g=A.deployStatus,D=A.id,G=A.creator,ne=s()(A,m);return l()(l()({},ne),{},{status:g,targetId:D,targetType:a.qR.MCP,publishUser:G,config:n})})})})})}function B(z,N){return W.apply(this,arguments)}function W(){return W=i()(t()().mark(function z(N,U){return t()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(N!==a.qR.MCP){K.next=2;break}return K.abrupt("return",_(U));case 2:return K.abrupt("return",(0,f.request)("".concat(T[N]),{method:"POST",data:U}));case 3:case"end":return K.stop()}},z)})),W.apply(this,arguments)}function p(z,N){return R.apply(this,arguments)}function R(){return R=i()(t()().mark(function z(N,U){return t()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.abrupt("return",(0,f.request)("/api/published/".concat(N,"/collect/list"),{method:"POST",data:U}));case 1:case"end":return K.stop()}},z)})),R.apply(this,arguments)}function ae(z,N){return o.apply(this,arguments)}function o(){return o=i()(t()().mark(function z(N,U){return t()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.abrupt("return",(0,f.request)("/api/published/".concat(N,"/collect/").concat(U),{method:"POST",data:u()({},"".concat(N,"Id"),U)}));case 1:case"end":return K.stop()}},z)})),o.apply(this,arguments)}function Q(z,N){return V.apply(this,arguments)}function V(){return V=i()(t()().mark(function z(N,U){return t()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.abrupt("return",(0,f.request)("/api/published/".concat(N,"/unCollect/").concat(U),{method:"POST",data:u()({},"".concat(N,"Id"),U)}));case 1:case"end":return K.stop()}},z)})),V.apply(this,arguments)}$.ZP={getList:B,collectList:p,collect:ae,unCollect:Q}},3440:function(ke,$,e){e.d($,{AY:function(){return T},EV:function(){return n},Fh:function(){return p},Hl:function(){return K},KJ:function(){return f},Nf:function(){return U},RT:function(){return ae},S5:function(){return x},VW:function(){return z},ey:function(){return l},nh:function(){return s}});var Y=e(90228),t=e.n(Y),H=e(87999),i=e.n(H),h=e(87453);function l(D){return j.apply(this,arguments)}function j(){return j=i()(t()().mark(function D(G){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/compose/db/table/updateTableName",{method:"POST",data:G}));case 1:case"end":return P.stop()}},D)})),j.apply(this,arguments)}function s(D){return b.apply(this,arguments)}function b(){return b=i()(t()().mark(function D(G){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/compose/db/table/updateTableDefinition",{method:"POST",data:G}));case 1:case"end":return P.stop()}},D)})),b.apply(this,arguments)}function u(D){return a.apply(this,arguments)}function a(){return a=_asyncToGenerator(_regeneratorRuntime().mark(function D(G){return _regeneratorRuntime().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",request("/api/compose/db/table/list",{method:"POST",data:G}));case 1:case"end":return P.stop()}},D)})),a.apply(this,arguments)}function f(D){return d.apply(this,arguments)}function d(){return d=i()(t()().mark(function D(G){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/compose/db/table/delete/".concat(G),{method:"POST"}));case 1:case"end":return P.stop()}},D)})),d.apply(this,arguments)}function F(){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function D(){return _regeneratorRuntime().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",request("/api/compose/db/table/copyTableDefinition",{method:"POST"}));case 1:case"end":return ne.stop()}},D)})),m.apply(this,arguments)}function T(D){return _.apply(this,arguments)}function _(){return _=i()(t()().mark(function D(G){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/compose/db/table/add",{method:"POST",data:G}));case 1:case"end":return P.stop()}},D)})),_.apply(this,arguments)}function B(D){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function D(G){return _regeneratorRuntime().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",request("/api/compose/db/table/existTableData",{method:"GET",params:{tableId:G}}));case 1:case"end":return P.stop()}},D)})),W.apply(this,arguments)}function p(D){return R.apply(this,arguments)}function R(){return R=i()(t()().mark(function D(G){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/compose/db/table/detailById",{method:"GET",params:{id:G}}));case 1:case"end":return P.stop()}},D)})),R.apply(this,arguments)}function ae(D){return o.apply(this,arguments)}function o(){return o=i()(t()().mark(function D(G){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/compose/db/table/updateBusinessData",{method:"POST",data:G}));case 1:case"end":return P.stop()}},D)})),o.apply(this,arguments)}function Q(D,G){return V.apply(this,arguments)}function V(){return V=_asyncToGenerator(_regeneratorRuntime().mark(function D(G,ne){var P;return _regeneratorRuntime().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return P=new FormData,P.append("file",ne),Ye.abrupt("return",request("/api/compose/db/table/importExcel/".concat(G),{method:"POST",data:P}));case 3:case"end":return Ye.stop()}},D)})),V.apply(this,arguments)}function z(D,G){return N.apply(this,arguments)}function N(){return N=i()(t()().mark(function D(G,ne){return t()().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.abrupt("return",(0,h.request)("/api/compose/db/table/deleteBusinessData",{method:"POST",data:{tableId:G,rowId:ne}}));case 1:case"end":return Je.stop()}},D)})),N.apply(this,arguments)}function U(D){return Z.apply(this,arguments)}function Z(){return Z=i()(t()().mark(function D(G){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/compose/db/table/addBusinessData",{method:"POST",data:G}));case 1:case"end":return P.stop()}},D)})),Z.apply(this,arguments)}function K(D){return re.apply(this,arguments)}function re(){return re=i()(t()().mark(function D(G){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/compose/db/table/getTableDataById",{method:"GET",params:G}));case 1:case"end":return P.stop()}},D)})),re.apply(this,arguments)}function x(D){return A.apply(this,arguments)}function A(){return A=i()(t()().mark(function D(G){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/compose/db/table/exportExcel/".concat(G),{method:"GET",responseType:"blob",getResponse:!0}));case 1:case"end":return P.stop()}},D)})),A.apply(this,arguments)}function n(D){return g.apply(this,arguments)}function g(){return g=i()(t()().mark(function D(G){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/compose/db/table/clearBusinessData/".concat(G),{method:"GET"}));case 1:case"end":return P.stop()}},D)})),g.apply(this,arguments)}},48528:function(ke,$,e){e.d($,{Gh:function(){return ne},Il:function(){return U},SR:function(){return n},T5:function(){return x},TL:function(){return Fe},V5:function(){return In},Wi:function(){return f},ah:function(){return p},bB:function(){return Be},ds:function(){return tn},ei:function(){return l},g3:function(){return F},gd:function(){return z},h0:function(){return un},pJ:function(){return B},qx:function(){return u},s2:function(){return cn},vn:function(){return vn}});var Y=e(90228),t=e.n(Y),H=e(87999),i=e.n(H),h=e(87453);function l(c){return j.apply(this,arguments)}function j(){return j=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/config/update",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),j.apply(this,arguments)}function s(c){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/config/list",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),b.apply(this,arguments)}function u(c){return a.apply(this,arguments)}function a(){return a=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/config/add",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),a.apply(this,arguments)}function f(c){return d.apply(this,arguments)}function d(){return d=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/config/detailById",{method:"GET",params:{id:S}}));case 1:case"end":return r.stop()}},c)})),d.apply(this,arguments)}function F(c){return m.apply(this,arguments)}function m(){return m=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/config/deleteById",{method:"GET",params:{id:S}}));case 1:case"end":return r.stop()}},c)})),m.apply(this,arguments)}function T(c){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/document/update",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),_.apply(this,arguments)}function B(c){return W.apply(this,arguments)}function W(){return W=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/document/updateDocName",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),W.apply(this,arguments)}function p(c){return R.apply(this,arguments)}function R(){return R=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/document/list",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),R.apply(this,arguments)}function ae(c){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/document/generateQA/".concat(S),{method:"POST"}));case 1:case"end":return r.stop()}},c)})),o.apply(this,arguments)}function Q(c){return V.apply(this,arguments)}function V(){return V=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/document/doc/generateEmbeddings/".concat(S),{method:"POST"}));case 1:case"end":return r.stop()}},c)})),V.apply(this,arguments)}function z(c){return N.apply(this,arguments)}function N(){return N=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/document/customAdd",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),N.apply(this,arguments)}function U(c){return Z.apply(this,arguments)}function Z(){return Z=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/document/add",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),Z.apply(this,arguments)}function K(c){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/document/doc/retryAllTaskByDays/".concat(S),{method:"GET"}));case 1:case"end":return r.stop()}},c)})),re.apply(this,arguments)}function x(c){return A.apply(this,arguments)}function A(){return A=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/document/doc/autoRetryTaskByDocId/".concat(S),{method:"GET"}));case 1:case"end":return r.stop()}},c)})),A.apply(this,arguments)}function n(c){return g.apply(this,arguments)}function g(){return g=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/document/detailById",{method:"GET",params:{dataId:S}}));case 1:case"end":return r.stop()}},c)})),g.apply(this,arguments)}function D(c){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/document/queryDocStatus",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),G.apply(this,arguments)}function ne(c){return P.apply(this,arguments)}function P(){return P=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/document/deleteById",{method:"GET",params:{id:S}}));case 1:case"end":return r.stop()}},c)})),P.apply(this,arguments)}function Je(c){return Ye.apply(this,arguments)}function Ye(){return Ye=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/rawSegment/update",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),Ye.apply(this,arguments)}function vn(c){return te.apply(this,arguments)}function te(){return te=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/rawSegment/list",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),te.apply(this,arguments)}function he(c){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/rawSegment/add",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),J.apply(this,arguments)}function C(c){return Ve.apply(this,arguments)}function Ve(){return Ve=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/rawSegment/detailById",{method:"GET",params:{dataId:S}}));case 1:case"end":return r.stop()}},c)})),Ve.apply(this,arguments)}function sn(c){return ln.apply(this,arguments)}function ln(){return ln=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/rawSegment/deleteById",{method:"GET",params:{id:S}}));case 1:case"end":return r.stop()}},c)})),ln.apply(this,arguments)}function qe(c){return _e.apply(this,arguments)}function _e(){return _e=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/qa/update",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),_e.apply(this,arguments)}function Ze(c){return Ke.apply(this,arguments)}function Ke(){return Ke=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/qa/search",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),Ke.apply(this,arguments)}function jn(c){return on.apply(this,arguments)}function on(){return on=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/qa/list",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),on.apply(this,arguments)}function gn(c){return En.apply(this,arguments)}function En(){return En=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/qa/add",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),En.apply(this,arguments)}function hn(c){return Ne.apply(this,arguments)}function Ne(){return Ne=_asyncToGenerator(_regeneratorRuntime().mark(function c(S){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/knowledge/qa/doc/embeddingStatus/".concat(S),{method:"GET"}));case 1:case"end":return r.stop()}},c)})),Ne.apply(this,arguments)}function In(c){return Re.apply(this,arguments)}function Re(){return Re=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/qa/add",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),Re.apply(this,arguments)}function un(c){return en.apply(this,arguments)}function en(){return en=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/qa/list",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),en.apply(this,arguments)}function Fe(c){return ue.apply(this,arguments)}function ue(){return ue=i()(t()().mark(function c(S){var L;return t()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return L=new FormData,L.append("id",S.id.toString()),Te.abrupt("return",(0,h.request)("/api/knowledge/qa/deleteById",{method:"POST",data:L}));case 3:case"end":return Te.stop()}},c)})),ue.apply(this,arguments)}function Be(c){return He.apply(this,arguments)}function He(){return He=i()(t()().mark(function c(S){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/knowledge/qa/update",{method:"POST",data:S}));case 1:case"end":return r.stop()}},c)})),He.apply(this,arguments)}function tn(){return We.apply(this,arguments)}function We(){return We=i()(t()().mark(function c(){return t()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,h.request)("/api/knowledge/qa/downloadExcelTemplate",{method:"GET",responseType:"blob"}));case 1:case"end":return L.stop()}},c)})),We.apply(this,arguments)}function cn(c){return nn.apply(this,arguments)}function nn(){return nn=i()(t()().mark(function c(S){var L;return t()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return L=new FormData,L.append("file",S.file),L.append("kbId",S.kbId.toString()),Te.abrupt("return",(0,h.request)("/api/knowledge/qa/importExcel",{method:"POST",data:L}));case 4:case"end":return Te.stop()}},c)})),nn.apply(this,arguments)}},53361:function(ke,$,e){e.d($,{Cw:function(){return F},Kt:function(){return l},Y$:function(){return T},jU:function(){return u},sN:function(){return s},xC:function(){return f}});var Y=e(90228),t=e.n(Y),H=e(87999),i=e.n(H),h=e(87453);function l(_){return j.apply(this,arguments)}function j(){return j=i()(t()().mark(function _(B){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,h.request)("/api/workflow/add",{method:"POST",data:B}));case 1:case"end":return p.stop()}},_)})),j.apply(this,arguments)}function s(_){return b.apply(this,arguments)}function b(){return b=i()(t()().mark(function _(B){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,h.request)("/api/workflow/update",{method:"POST",data:B}));case 1:case"end":return p.stop()}},_)})),b.apply(this,arguments)}function u(_,B){return a.apply(this,arguments)}function a(){return a=i()(t()().mark(function _(B,W){return t()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,h.request)("/api/workflow/copy/".concat(B,"/").concat(W),{method:"POST"}));case 1:case"end":return R.stop()}},_)})),a.apply(this,arguments)}function f(_){return d.apply(this,arguments)}function d(){return d=i()(t()().mark(function _(B){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,h.request)("/api/workflow/delete/".concat(B),{method:"POST"}));case 1:case"end":return p.stop()}},_)})),d.apply(this,arguments)}function F(_){return m.apply(this,arguments)}function m(){return m=i()(t()().mark(function _(B){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,h.request)("/api/component/list/".concat(B),{method:"GET"}));case 1:case"end":return p.stop()}},_)})),m.apply(this,arguments)}function T(_){return(0,h.request)("/api/compose/db/table/copyTableDefinition",{method:"POST",params:_})}},99730:function(ke,$,e){e.d($,{Bj:function(){return u},G6:function(){return F},Gl:function(){return l},V_:function(){return s},og:function(){return T}});var Y=e(90228),t=e.n(Y),H=e(87999),i=e.n(H),h=e(87453);function l(p){return j.apply(this,arguments)}function j(){return j=i()(t()().mark(function p(R){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/model/save",{method:"POST",data:R}));case 1:case"end":return o.stop()}},p)})),j.apply(this,arguments)}function s(p){return b.apply(this,arguments)}function b(){return b=i()(t()().mark(function p(R){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/model/test-connectivity",{method:"POST",data:R}));case 1:case"end":return o.stop()}},p)})),b.apply(this,arguments)}function u(p){return a.apply(this,arguments)}function a(){return a=i()(t()().mark(function p(R){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/model/list",{method:"POST",data:R}));case 1:case"end":return o.stop()}},p)})),a.apply(this,arguments)}function f(p){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark(function p(R){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("/api/model/list/space/".concat(R),{method:"POST"}));case 1:case"end":return o.stop()}},p)})),d.apply(this,arguments)}function F(p){return m.apply(this,arguments)}function m(){return m=i()(t()().mark(function p(R){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/model/".concat(R),{method:"GET"}));case 1:case"end":return o.stop()}},p)})),m.apply(this,arguments)}function T(p){return _.apply(this,arguments)}function _(){return _=i()(t()().mark(function p(R){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/model/".concat(R,"/delete"),{method:"GET"}));case 1:case"end":return o.stop()}},p)})),_.apply(this,arguments)}function B(){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function p(){return _regeneratorRuntime().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.abrupt("return",request("/api/model/test",{method:"GET"}));case 1:case"end":return ae.stop()}},p)})),W.apply(this,arguments)}},52909:function(ke,$,e){e.d($,{Ie:function(){return l},M6:function(){return K},RP:function(){return Q},SM:function(){return z},UJ:function(){return u},Ui:function(){return ae},ci:function(){return f},gH:function(){return p},gx:function(){return U},pd:function(){return B},rX:function(){return F},sG:function(){return T},x3:function(){return s}});var Y=e(90228),t=e.n(Y),H=e(87999),i=e.n(H),h=e(87453);function l(x){return j.apply(this,arguments)}function j(){return j=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/upload-and-start",{method:"POST",data:A}));case 1:case"end":return g.stop()}},x)})),j.apply(this,arguments)}function s(x){return b.apply(this,arguments)}function b(){return b=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/create",{method:"POST",data:A}));case 1:case"end":return g.stop()}},x)})),b.apply(this,arguments)}function u(x){return a.apply(this,arguments)}function a(){return a=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/create-reverse-proxy",{method:"POST",data:A}));case 1:case"end":return g.stop()}},x)})),a.apply(this,arguments)}function f(x){return d.apply(this,arguments)}function d(){return d=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/list-projects",{method:"GET",params:A}));case 1:case"end":return g.stop()}},x)})),d.apply(this,arguments)}function F(x){return m.apply(this,arguments)}function m(){return m=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/copy-project",{method:"POST",data:A}));case 1:case"end":return g.stop()}},x)})),m.apply(this,arguments)}function T(x){return _.apply(this,arguments)}function _(){return _=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/batch-config-proxy",{method:"POST",data:A}));case 1:case"end":return g.stop()}},x)})),_.apply(this,arguments)}function B(x){return W.apply(this,arguments)}function W(){return W=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/add-path",{method:"POST",data:A}));case 1:case"end":return g.stop()}},x)})),W.apply(this,arguments)}function p(x){return R.apply(this,arguments)}function R(){return R=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/edit-path",{method:"POST",data:A}));case 1:case"end":return g.stop()}},x)})),R.apply(this,arguments)}function ae(x){return o.apply(this,arguments)}function o(){return o=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/delete-path",{method:"POST",data:A}));case 1:case"end":return g.stop()}},x)})),o.apply(this,arguments)}function Q(x){return V.apply(this,arguments)}function V(){return V=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/save-path-args",{method:"POST",data:A}));case 1:case"end":return g.stop()}},x)})),V.apply(this,arguments)}function z(x){return N.apply(this,arguments)}function N(){return N=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/get-project-info",{method:"GET",params:{projectId:A}}));case 1:case"end":return g.stop()}},x)})),N.apply(this,arguments)}function U(x){return Z.apply(this,arguments)}function Z(){return Z=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/delete-project",{method:"POST",data:{projectId:A}}));case 1:case"end":return g.stop()}},x)})),Z.apply(this,arguments)}function K(x){return re.apply(this,arguments)}function re(){return re=i()(t()().mark(function x(A){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,h.request)("/api/custom-page/update-project",{method:"POST",data:A}));case 1:case"end":return g.stop()}},x)})),re.apply(this,arguments)}},49528:function(ke,$,e){e.d($,{D7:function(){return l},Gp:function(){return j},Se:function(){return b},Sg:function(){return u},Z$:function(){return s},Zf:function(){return t},ah:function(){return H},jD:function(){return i},u6:function(){return Y}});var Y=function(a){return a[a.Text=1]="Text",a[a.Table=2]="Table",a}({}),t=function(a){return a[a.Local_Doc=0]="Local_Doc",a[a.Online_Doc=1]="Online_Doc",a[a.Custom=2]="Custom",a}({}),H=function(a){return a[a.Upload_Or_Text_Fill=0]="Upload_Or_Text_Fill",a[a.Create_Segmented_Set=1]="Create_Segmented_Set",a[a.Data_Processing=2]="Data_Processing",a}({}),i=function(a){return a.Precision="Precision",a.Balanced="Balanced",a.Creative="Creative",a.Customization="Customization",a}({}),h=function(a){return a.Waiting="Waiting",a.Published="Published",a}({}),l=function(a){return a.WORDS="WORDS",a.DELIMITER="DELIMITER",a}({}),j=function(a){return a.Line_Feed=`
`,a.Two_Line_Feed=`

`,a.Chinese_Sentence="\u3002",a.Chinese_Exclamation="\uFF01",a.English_Sentence=".",a.English_Exclamation="!",a.Chinese_Question_Mark="\uFF1F",a.English_Question_Mark="?",a.Custom="Custom",a}({}),s=function(a){return a.ANALYZING="ANALYZING",a.ANALYZED="ANALYZED",a.ANALYZING_RAW="ANALYZING_RAW",a.ANALYZED_QA="ANALYZED_QA",a.ANALYZED_EMBEDDING="ANALYZED_QA",a.ANALYZE_FAILED="ANALYZE_FAILED",a}({}),b=function(a){return a[a.ANALYZING=1]="ANALYZING",a[a.ANALYZED=2]="ANALYZED",a[a.ANALYZING_RAW=3]="ANALYZING_RAW",a[a.ANALYZED_QA=4]="ANALYZED_QA",a[a.ANALYZED_EMBEDDING=5]="ANALYZED_EMBEDDING",a[a.ANALYZE_FAILED=10]="ANALYZE_FAILED",a}({}),u=function(a){return a[a.DOC=1]="DOC",a[a.QA=2]="QA",a}({})},80110:function(ke,$,e){e.d($,{HN:function(){return t},Mj:function(){return Y},Y1:function(){return h},cx:function(){return H},re:function(){return l}});var Y=function(s){return s.Completions="Completions",s.Chat="Chat",s.Edits="Edits",s.Images="Images",s.Embeddings="Embeddings",s.Multi="Multi",s.Audio="Audio",s.Other="Other",s}({}),t=function(s){return s.OpenAI="OpenAI",s.Ollama="Ollama",s.Zhipu="Zhipu",s.Anthropic="Anthropic",s}({}),H=function(s){return s.RoundRobin="RoundRobin",s.WeightedRoundRobin="WeightedRoundRobin",s.LeastConnections="LeastConnections",s.WeightedLeastConnections="WeightedLeastConnections",s.Random="Random",s.ResponseTime="ResponseTime",s}({}),i=function(s){return s.Space="Space",s.Tenant="Tenant",s.Global="Global",s}({}),h=function(s){return s.Internet="Internet",s.Intranet="Intranet",s}({}),l=function(s){return s.Unsupported="Unsupported",s.CallSupported="CallSupported",s.StreamCallSupported="StreamCallSupported",s}({}),j=function(s){return s.Url="url",s.Apikey="apikey",s.Weight="weight",s}({})},75076:function(ke,$,e){e.d($,{Pm:function(){return H},Tv:function(){return h},Yg:function(){return t},ai:function(){return i},lj:function(){return l},sO:function(){return j},wI:function(){return Y}});var Y=function(s){return s.Import_Project="Import_Project",s.Online_Develop="Online_Develop",s.Reverse_Proxy="Reverse_Proxy",s}({}),t=function(s){return s.All_Type="All_Type",s.AGENT="AGENT",s.PAGE="PAGE",s}({}),H=function(s){return s.ONLINE_DEPLOY="ONLINE_DEPLOY",s.REVERSE_PROXY="REVERSE_PROXY",s}({}),i=function(s){return s.Dev="dev",s.Production="prod",s}({}),h=function(s){return s.Reverse_Proxy_Config="Reverse_Proxy_Config",s.Path_Params_Config="Path_Params_Config",s.Auth_Config="Auth_Config",s.Page_Preview="Page_Preview",s.Copy_To_Space="Copy_To_Space",s.Delete="Delete",s}({}),l=function(s){return s[s.Published=1]="Published",s[s.Unpublished=0]="Unpublished",s}({}),j=function(s){return s.PAGE="PAGE",s.AGENT="AGENT",s}({})},24057:function(ke,$,e){e.d($,{Tg:function(){return s},oB:function(){return j},sO:function(){return b}});var Y=e(48305),t=e.n(Y),H=e(64267),i=e(14719),h=e(52676),l=i.Z.confirm,j=function(a,f,d,F){l({title:a,icon:(0,h.jsx)(H.Z,{}),content:f,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:d,onCancel:F})},s=function(a){if(!a)return"";if(typeof a=="string"){var f=a.split("."),d=t()(f,2),F=d[0],m=d[1];return m&&m.length>6?"".concat(F,".").concat(m.slice(0,6)):a}var T=a;if(isNaN(T))return"";var _=T.toString().split("."),B=t()(_,2),W=B[0],p=B[1];return p&&p.length>6?"".concat(W,".").concat(p.slice(0,6)):T.toString()},b=function(a){if(!a)return"";var f=a.toString(),d=f.indexOf(".");return d===-1?f:f.substring(0,d+7)}},18631:function(ke,$,e){e.d($,{td:function(){return Y}});function Y(l){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(l===0)return"0 Bytes";var s=1024,b=j<0?0:j,u=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(l)/Math.log(s));return Number.parseFloat((l/Math.pow(s,a)).toFixed(b))+" "+u[a]}function t(l){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.parseFloat((l/1024).toFixed(j))}function H(l){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.parseFloat((l/(1024*1024)).toFixed(j))}function i(l){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return"".concat(t(l,j)," KB")}function h(l){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return"".concat(H(l,j)," MB")}},73888:function(ke,$,e){e.d($,{G:function(){return H},U:function(){return i}});var Y=e(59934),t=e(92122),H=function(l){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:99;return l.filter(function(s){return s.status!==t.KM.removed}).map(function(s){var b=s.response||{},u=b.data,a=u===void 0?{}:u,f=b.code,d=s.status,F=s.percent;return f&&f!==Y.Gh&&(d=t.KM.error),s?.percent===100&&d===t.KM.uploading&&(F=j),{key:a?.key||"",name:a?.fileName||s.name||"",size:a?.size||s.size||0,url:a?.url||s.url||"",type:a?.mimeType||s.type||"",uid:s.uid,status:d,percent:F,response:s.response}})},i=function(l){return l?.status===t.KM.error?"exception":l?.status===t.KM.uploading?"active":l?.status===t.KM.done||Math.floor(l?.percent||0)===100?"success":"active"}},65774:function(ke,$,e){ke.exports=e.p+"static/doc_image.5415f2c1.jpg"}}]);})();
