"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[8129],{65857:function(re,y,e){e.d(y,{Z:function(){return v}});var L=e(22675),u=e(94581),S=e.n(u),s=e(75271),f={avatar:"avatar___Q6WBB",nickname:"nickname___pjZCy"},A=e(52676),c=S().bind(f),d=function(n){var h=n.className,I=n.icon,C=n.name,a=n.extra;return(0,A.jsxs)("div",{className:c("flex","flex-col","items-center","content-center",h),children:[(0,A.jsx)("img",{className:c(f.avatar),src:I||L,alt:""}),(0,A.jsx)("h3",{className:c("w-full","text-ellipsis",f.nickname),children:C}),a]})},v=d},67881:function(re,y,e){e.d(y,{Z:function(){return Tn}});var L=e(82092),u=e.n(L),S=e(48305),s=e.n(S),f=e(3055),A=e(76571),c=e(53895),d=e(94581),v=e.n(d),g=e(75271),n=e(24678),h=e(56179),I=e(22675),C=e(63741),a=e(15558),l=e.n(a),r=e(90228),Z=e.n(r),V=e(87999),U=e.n(V),H=e(1704),z=e(90327),G=e(41705),m=e(46105),p=e(64799),M=e(77750),se=e(86230),x=e(41249),D={"xagi-nav-style2":"xagi-nav-style2___KM4Kd",text:"text___mMYrM","page-container":"page-container___epN5w","title-actions":"title-actions___PQm9a",collected:"collected___bPOE1"},t=e(52676),te=v().bind(D),ge=function(R){var Q,i=R.agentInfo,Y=R.className,b=R.showCopyTemplate,O=b===void 0?!0:b,E=(0,g.useState)(i?.collect||!1),de=s()(E,2),ae=de[0],ve=de[1],me=(0,g.useState)(!1),X=s()(me,2),J=X[0],$=X[1],ee=(0,g.useState)(!1),Ae=s()(ee,2),je=Ae[0],ce=Ae[1],he=(0,g.useCallback)(function(){var Ie,De=i==null||(Ie=i.statistics)===null||Ie===void 0?void 0:Ie.targetId;if(!De){x.ZP.error("\u667A\u80FD\u4F53\u4FE1\u606F\u4E0D\u5B8C\u6574");return}ae?(0,G.Z9)(De).then(function(){x.ZP.success("\u5DF2\u53D6\u6D88\u6536\u85CF"),i&&ve(!1)}).catch(function(){x.ZP.error("\u53D6\u6D88\u6536\u85CF\u5931\u8D25")}):(0,G.fD)(De).then(function(){x.ZP.success("\u5DF2\u6DFB\u52A0\u5230\u6536\u85CF"),i&&ve(!0)}).catch(function(){x.ZP.error("\u6DFB\u52A0\u6536\u85CF\u5931\u8D25")})},[i==null||(Q=i.statistics)===null||Q===void 0?void 0:Q.targetId,ae]),Oe=function(){var Ie=U()(Z()().mark(function De(){return Z()().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(!(i!=null&&i.shareLink)){_e.next=5;break}return _e.next=3,(0,M.TE)(i.shareLink,function(){x.ZP.success("\u5206\u4EAB\u94FE\u63A5\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F")},!1);case 3:_e.next=6;break;case 5:x.ZP.info("\u6682\u65E0\u5206\u4EAB\u94FE\u63A5");case 6:case"end":return _e.stop()}},De)}));return function(){return Ie.apply(this,arguments)}}(),Me=(0,h.useRequest)(m.wR,{manual:!0,debounceInterval:300,onSuccess:function(De,Pe){x.ZP.success("\u6A21\u677F\u590D\u5236\u6210\u529F"),ce(!1),$(!1);var _e=Pe[0].targetSpaceId;(0,se.tc)(_e,De)},onError:function(){ce(!1)}}),fn=Me.run,tn=function(De){ce(!0),fn({targetType:p.qR.Agent,targetId:i?.agentId,targetSpaceId:De})},gn=function(){$(!0)},$e=(0,g.useMemo)(function(){return[{key:"share",icon:"icons-chat-share",title:"\u5206\u4EAB",onClick:Oe},{key:ae?"collected":"collect",icon:ae?"icons-chat-collected":"icons-chat-collect",title:"\u6536\u85CF",onClick:he,className:ae?D.collected:""}].concat(l()(O&&i?.allowCopy===p.fC.Yes?[{key:"copy-template",icon:"icons-chat-copy",title:"\u590D\u5236\u6A21\u677F",onClick:gn,className:D["copy-template"]}]:[])).filter(Boolean)},[ae,i,O]);return(0,t.jsxs)("div",{className:te(D["title-actions"],Y),children:[(0,t.jsx)(H.Z,{actions:$e,visibleCount:$e.length,showArrow:!1,className:D["action-menu"]}),(0,t.jsx)(z.Z,{spaceId:i?.spaceId||0,loading:je,type:c.KZ.Copy_To_Space,open:J,isTemplate:!0,title:i?.name,onCancel:function(){return $(!1)},onConfirm:tn})]})},pe=ge,fe=e(59261),w=e(69219),W={"xagi-nav-style2":"xagi-nav-style2___xmpJx",text:"text___u7uZg","page-container":"page-container___NQ1ki",container:"container___Axb21",avatar:"avatar___eGHQs",title:"title___hrv8N",infoContainer:"infoContainer___n5z_R",content:"content___shkKP",from:"from___OkzhV",statistics:"statistics___XuyiD",statItem:"statItem___NiOOi",statIcon:"statIcon___QUVR8",statText:"statText___SHczS",copyBtn:"copyBtn____QkXC","action-box":"action-box___uuwAm",collected:"collected___LCx9c","un-collect":"un-collect___uA8ZW",share:"share___ZjG9r"},ue=v().bind(W),oe=function(R){var Q,i,Y,b,O,E=R.agentDetail;return E?(0,t.jsxs)("div",{className:ue(W.container,"flex","flex-col","items-center"),children:[(0,t.jsx)("img",{className:W.avatar,src:E?.icon||I}),(0,t.jsx)(w.Z.Title,{level:5,className:W.title,ellipsis:{rows:1,expandable:!1,symbol:"..."},children:E?.name}),(0,t.jsxs)("div",{className:ue(W.infoContainer),children:[(0,t.jsxs)(w.Z.Text,{className:ue(W.from),ellipsis:!0,children:["\u6765\u81EA\u4E8E"," ",(E==null||(Q=E.publishUser)===null||Q===void 0?void 0:Q.nickName)||(E==null||(i=E.publishUser)===null||i===void 0?void 0:i.userName)]}),(0,t.jsxs)("div",{className:ue(W.statistics,"flex","items-center","justify-center"),children:[(0,t.jsxs)("span",{className:ue(W.statItem,"flex","items-center"),children:[(0,t.jsx)(C.le,{name:"icons-chat-user",className:W.statIcon}),(0,t.jsx)("span",{className:W.statText,children:(E==null||(Y=E.statistics)===null||Y===void 0?void 0:Y.userCount)||0})]}),(0,t.jsxs)("span",{className:ue(W.statItem,"flex","items-center"),children:[(0,t.jsx)(C.le,{name:"icons-chat-chat",className:W.statIcon}),(0,t.jsx)("span",{className:W.statText,children:(E==null||(b=E.statistics)===null||b===void 0?void 0:b.convCount)||0})]}),(0,t.jsxs)("span",{className:ue(W.statItem,"flex","items-center"),children:[(0,t.jsx)(C.le,{name:"icons-chat-collect",className:W.statIcon}),(0,t.jsx)("span",{className:W.statText,children:(E==null||(O=E.statistics)===null||O===void 0?void 0:O.collectCount)||0})]})]}),(0,t.jsx)(fe.Z,{condition:E?.description,children:(0,t.jsx)(w.Z.Paragraph,{className:ue(W.content),ellipsis:{rows:2,expandable:!1,symbol:"..."},children:E?.description})}),(0,t.jsx)(pe,{agentInfo:E})]})]}):null},Ee=oe,B=e(77661),_=e(39373),T=e(9504),j=e(70183),N=e(36724),k=e(80241),F=e(14719),q=function(R){var Q=R.agentId,i=R.isOpen,Y=R.onCancel,b=(0,h.useModel)("conversationHistory"),O=b.conversationListItem,E=b.setConversationListItem,de=b.runDel,ae=(0,h.useParams)(),ve=Number(ae.id),me=function(){var $=U()(Z()().mark(function ee(Ae){return Z()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.prev=0,ce.next=3,de(Ae);case 3:ve===Ae&&(Y?.(),h.history.push("/agent/"+Q)),ce.next=8;break;case 6:ce.prev=6,ce.t0=ce.catch(0);case 8:case"end":return ce.stop()}},ee,null,[[0,6]])}));return function(Ae){return $.apply(this,arguments)}}(),X=function(ee,Ae){Y?.(),h.history.push("/home/chat/".concat(ee,"/").concat(Ae))},J=function(){var $=U()(Z()().mark(function ee(Ae,je){return Z()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.abrupt("return",(0,k.kl)({agentId:Q,lastId:Ae,limit:je}).then(function(Oe){var Me;return{list:(Me=Oe.data)!==null&&Me!==void 0?Me:[],hasMore:Oe.data.length>=je}}));case 1:case"end":return he.stop()}},ee)}));return function(Ae,je){return $.apply(this,arguments)}}();return(0,t.jsx)(F.Z,{title:(0,t.jsx)("p",{children:"\u5386\u53F2\u4F1A\u8BDD"}),width:600,footer:null,maskClosable:!0,open:i,onCancel:Y,children:(0,t.jsx)(N.Z,{height:500,pageSize:20,conversationList:O,setConversationList:E,loadData:J,handleLink:X,runDel:me})})},K=q,o={"xagi-nav-style2":"xagi-nav-style2___Bqunf",text:"text___QJjDU","page-container":"page-container___jrt25",container:"container___YCtwE",title:"title___jkcci",titleBox:"titleBox___z2sVW",more:"more___CetNg","chat-wrapper":"chat-wrapper___s3RMQ","loading-box":"loading-box___cycDq","chat-item":"chat-item___xNmLl",time:"time___oq5hE"},le=v().bind(o),Be=function(R){var Q,i=R.agentId,Y=(0,h.useModel)("conversationInfo"),b=Y.isHistoryConversationOpen,O=Y.closeHistoryConversation,E=Y.openHistoryConversation,de=(0,h.useModel)("conversationHistory"),ae=de.conversationListItem,ve=de.loadingHistoryItem,me=function($,ee){h.history.push("/home/chat/".concat($,"/").concat(ee))},X=(0,g.useCallback)(function(){E()},[]);return(0,t.jsxs)("div",{className:le(o.container),children:[!ve&&(0,t.jsxs)("div",{className:le("flex","items-center","content-between",o.titleBox),children:[(0,t.jsx)(w.Z.Title,{className:le(o.title),level:5,children:"\u76F8\u5173\u4F1A\u8BDD"}),(0,t.jsx)(T.ZP,{size:"small",className:le(o.more,"cursor-pointer"),onClick:X,icon:(0,t.jsx)(B.Z,{name:"icons-common-caret_right",style:{fontSize:16}}),iconPosition:"end",type:"text",children:"\u67E5\u770B\u66F4\u591A"})]}),(0,t.jsx)("div",{className:le(o["chat-wrapper"]),children:ve?(0,t.jsx)(f.Z,{className:le(o["loading-box"])}):ae!=null&&ae.length?ae==null||(Q=ae.slice(0,5))===null||Q===void 0?void 0:Q.map(function(J){return(0,t.jsxs)("div",{className:le(o["chat-item"],"cursor-pointer","hover-box"),onClick:function(){return me(J.id,J.agentId)},children:[(0,t.jsx)("p",{className:le("text-ellipsis","flex-1"),children:J.topic}),(0,t.jsx)("span",{className:le(o.time),children:(0,_.BK)(J.created)})]},J.id)}):(0,t.jsx)(j.Z,{description:"\u6682\u65E0\u76F8\u5173\u4F1A\u8BDD"})}),(0,t.jsx)(K,{agentId:i,isOpen:b,onCancel:O})]})},Qe=Be,xe={"xagi-nav-style2":"xagi-nav-style2___SWtlp",text:"text___SDIEN","page-container":"page-container___HjnRW",rightSidebar:"rightSidebar___fNaR7",hide:"hide___TAetw","statistics-content":"statistics-content____E5ic",container:"container___awPaA","container-content":"container-content___CmhSm","container-body":"container-body___YJB88",fold:"fold___pu12f",show:"show___PFVQr"},Fe={"xagi-nav-style2":"xagi-nav-style2___UAxiF",text:"text___gwLoA","page-container":"page-container___jWT1s",header:"header___ltsPK"},He=v().bind(Fe),an=function(R){var Q=R.onClose,i=R.visible;return(0,t.jsx)("header",{className:He(Fe.header,"flex","items-center"),children:(0,t.jsx)(B.Z,{name:"icons-chat-close_regular",className:Fe.close,onClick:Q,style:{display:i?"block":"none"}})})},Ye=an;function sn(ie){return(0,h.request)("/api/agent/task/create",{method:"POST",data:ie})}function on(ie){return(0,h.request)("/api/agent/task/update",{method:"POST",data:ie})}function Ne(ie){return(0,h.request)("/api/agent/task/list",{method:"POST",data:ie})}function ye(ie){return(0,h.request)("/api/agent/task/cancel/".concat(ie),{method:"POST"})}function cn(){return(0,h.request)("/api/agent/task/cron/list",{method:"GET"})}var Re=e(92122),we=e(47548),Je=e(26068),Ge=e.n(Je),We=e(48279),qe=e(6377),hn=e(94201),ln=e(7098),Sn=e(26324),Ve=e(28190),En=e(7010),jn=e(63619),ze={select:"select___n5zOu"},dn=v().bind(ze),Dn=function(R){var Q=R.agentId,i=R.mode,Y=i===void 0?Re.jA.Create:i,b=R.open,O=R.currentTask,E=R.onCancel,de=R.onConfirm,ae=Ve.Z.useForm(),ve=s()(ae,1),me=ve[0],X=(0,g.useState)(""),J=s()(X,2),$=J[0],ee=J[1],Ae=(0,g.useState)(""),je=s()(Ae,2),ce=je[0],he=je[1],Oe=(0,g.useState)([]),Me=s()(Oe,2),fn=Me[0],tn=Me[1],gn=(0,g.useState)([]),$e=s()(gn,2),Ie=$e[0],De=$e[1],Pe=(0,g.useRef)([]),_e=function(ne,Te){var Se,Ke=ne?.map(function(On){return{label:On.desc,value:On.cron}})||[];De(Ke),he(Te||((Se=Ke[0])===null||Se===void 0?void 0:Se.value)||"")},un=function(ne){if(ne.length!==0){var Te=ne?.map(function(Ke){return{label:Ke.typeName,value:Ke.typeName}});tn(Te);var Se=ne[0];ee(Se.typeName),_e(Se?.items||[])}},In=(0,h.useRequest)(cn,{manual:!0,debounceInterval:300,onSuccess:function(ne){ne.length>0&&(Pe.current=ne,un(ne))}}),An=In.run,_n=(0,h.useRequest)(sn,{manual:!0,debounceInterval:300,onSuccess:function(){x.ZP.success("\u5B9A\u65F6\u4EFB\u52A1\u521B\u5EFA\u6210\u529F"),de(),un(Pe.current)}}),Bn=_n.run,Ln=(0,h.useRequest)(on,{manual:!0,debounceInterval:300,onSuccess:function(){x.ZP.success("\u5B9A\u65F6\u4EFB\u52A1\u66F4\u65B0\u6210\u529F"),de(),un(Pe.current)}}),Pn=Ln.run;(0,g.useEffect)(function(){An()},[]),(0,g.useEffect)(function(){if(b&&Y===Re.jA.Update&&O){var Ce;if(me.setFieldsValue({topic:O?.topic,summary:O?.summary}),((Ce=Pe.current)===null||Ce===void 0?void 0:Ce.length)>0){var ne,Te=(ne=Pe.current)===null||ne===void 0?void 0:ne.find(function(Se){return Se.items.some(function(Ke){return Ke.cron===O?.taskCron})});Te&&(ee(Te.typeName),_e(Te.items,O.taskCron))}}},[Y,O,Pe.current,b]);var bn=function(ne){var Te=Ge()(Ge()({},ne),{},{taskCron:ce,agentId:Q});Y===Re.jA.Create?Bn(Te):Pn(Ge()(Ge()({},Te),{},{id:O?.id}))},Zn=function(){me.submit()},Ue=function(ne){var Te;ee(ne);var Se=(Te=Pe.current)===null||Te===void 0?void 0:Te.find(function(Ke){return Ke.typeName===ne});_e(Se?.items||[])},be=function(ne){he(ne)},ke=function(){un(Pe.current),E()};return(0,t.jsx)(We.Z,{form:me,open:b,title:Y===Re.jA.Create?"\u521B\u5EFA\u5B9A\u65F6\u4EFB\u52A1":"\u66F4\u65B0\u5B9A\u65F6\u4EFB\u52A1",onCancel:ke,onConfirm:Zn,children:(0,t.jsxs)(Ve.Z,{form:me,preserve:!1,layout:"vertical",requiredMark:Sn.N,onFinish:bn,autoComplete:"off",children:[(0,t.jsx)(Ve.Z.Item,{label:(0,t.jsx)(qe.Z,{label:"\u5B9A\u65F6\u5468\u671F"}),children:(0,t.jsxs)(En.Z,{children:[(0,t.jsx)(Ve.Z.Item,{noStyle:!0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],children:(0,t.jsx)(ln.Z,{className:dn(ze.select),options:fn,value:$,onChange:Ue})}),(0,t.jsx)(Ve.Z.Item,{noStyle:!0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],children:(0,t.jsx)(ln.Z,{className:dn(ze.select),options:Ie,value:ce,onChange:be})})]})}),(0,t.jsx)(Ve.Z.Item,{name:"topic",label:"\u4EFB\u52A1\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"}],children:(0,t.jsx)(jn.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",showCount:!0,maxLength:100})}),(0,t.jsx)(hn.Z,{name:"summary",label:"\u4EFB\u52A1\u5185\u5BB9",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u5185\u5BB9"}],placeholder:"\u8BF7\u8F93\u5165\u4F60\u8981\u6267\u884C\u7684\u4EFB\u52A1\u4FE1\u606F\uFF0C\u4FE1\u606F\u63D0\u4F9B\u7684\u8D8A\u8BE6\u7EC6\u6267\u884C\u6210\u529F\u7387\u8D8A\u9AD8",maxLength:2e3})]})})},Nn=Dn,Xe={"xagi-nav-style2":"xagi-nav-style2___L_60d",text:"text___oOjGB","page-container":"page-container___Zbxt5",container:"container___nK18_",title:"title___i9Ov8",titleBox:"titleBox___Abekd",create:"create___Mepda",tab:"tab___uhpGK"},vn=e(24573),P=e(64267),Le={"xagi-nav-style2":"xagi-nav-style2___blqK5",text:"text___J2Ybp","page-container":"page-container___rkXS5","task-wrapper":"task-wrapper___h1X2h","task-item":"task-item___ypnxZ",topicBox:"topicBox___DAvmX",iconBox:"iconBox___eNnFl",topic:"topic___O2Gr4",icon:"icon___wyW3W",time:"time___NqNVx"},Ze=v().bind(Le),rn=F.Z.confirm,Cn=function(R){var Q=R.className,i=R.loading,Y=R.taskStatus,b=R.taskList,O=R.onCancelTask,E=R.onEditTask,de=Y===p.hY.EXECUTING?"\u6682\u65E0\u8FDB\u884C\u4E2D\u7684\u4EFB\u52A1":"\u6682\u65E0\u5DF2\u53D6\u6D88\u7684\u4EFB\u52A1";if(i)return(0,t.jsx)("div",{className:Ze("flex","items-center","content-center","h-full"),children:(0,t.jsx)(vn.Z,{className:Ze(Le.loading)})});var ae=function(J){var $=J.id,ee=J.agentId;h.history.push("/home/chat/".concat($,"/").concat(ee))},ve=function(J,$){J.stopPropagation(),rn({title:"\u60A8\u786E\u5B9A\u8981\u53D6\u6D88\u6B64\u5B9A\u65F6\u4EFB\u52A1\u5417?",icon:(0,t.jsx)(P.Z,{}),content:$.topic,okText:"\u786E\u5B9A",maskClosable:!0,cancelText:"\u53D6\u6D88",onOk:function(){O?.($)}})},me=function(J,$){J.stopPropagation(),E?.($)};return b?.length>0?(0,t.jsx)("div",{className:Ze(Le["task-wrapper"],Q),children:b?.map(function(X){return(0,t.jsxs)("div",{className:Ze(Le["task-item"],"flex","items-center","cursor-pointer"),children:[(0,t.jsxs)("div",{className:Ze("flex-1",Le.topicBox),children:[(0,t.jsx)(w.Z.Title,{level:5,className:Ze(Le.topic),onClick:function(){return ae(X)},ellipsis:{rows:1,tooltip:X?.topic},children:X?.topic}),(0,t.jsx)("span",{className:Ze(Le.time),children:X.taskCronDesc})]}),X.taskStatus===p.hY.EXECUTING&&(0,t.jsxs)("div",{className:Ze(Le.iconBox),children:[(0,t.jsx)(B.Z,{name:"icons-common-edit",className:Ze(Le.icon),onClick:function($){return me($,X)}}),(0,t.jsx)(B.Z,{name:"icons-common-delete",className:Ze(Le.icon),onClick:function($){return ve($,X)}})]})]},X.id)})}):(0,t.jsx)(j.Z,{description:de})},pn=(0,g.memo)(Cn),en=v().bind(Xe),yn=function(R){var Q=R.agentId,i=(0,h.useModel)("conversationInfo"),Y=i.isTimedTaskOpen,b=i.closeTimedTask,O=i.timedTaskMode,E=i.openTimedTask,de=(0,g.useState)(),ae=s()(de,2),ve=ae[0],me=ae[1],X=(0,g.useState)(p.hY.EXECUTING),J=s()(X,2),$=J[0],ee=J[1],Ae=(0,g.useState)(!1),je=s()(Ae,2),ce=je[0],he=je[1],Oe=(0,g.useState)([]),Me=s()(Oe,2),fn=Me[0],tn=Me[1],gn=(0,g.useState)([]),$e=s()(gn,2),Ie=$e[0],De=$e[1],Pe=(0,h.useRequest)(Ne,{manual:!0,debounceInterval:500,onSuccess:function(be,ke){var Ce=ke[0].taskStatus;Ce===p.hY.EXECUTING?tn(be||[]):De(be||[]),he(!1)},onError:function(){he(!1)}}),_e=Pe.run,un=(0,h.useRequest)(ye,{manual:!0,debounceInterval:500,onSuccess:function(be,ke){var Ce=s()(ke,1),ne=Ce[0];x.ZP.success("\u5B9A\u65F6\u4EFB\u52A1\u5DF2\u53D6\u6D88"),tn(function(Te){return Te.filter(function(Se){return Se.id!==ne})})}}),In=un.run,An=function(be){he(!0),_e({agentId:Q,taskStatus:be})};(0,g.useEffect)(function(){return An(p.hY.EXECUTING),function(){tn([]),De([])}},[Q]);var _n=function(be){var ke=be;ee(ke),An(ke)},Bn=function(be){var ke=be.id;In(ke)},Ln=function(be){me(be),E(Re.jA.Update)},Pn=[{key:p.hY.EXECUTING,label:"\u8FDB\u884C\u4E2D",children:(0,t.jsx)(pn,{loading:ce,taskStatus:p.hY.EXECUTING,taskList:fn,onCancelTask:Bn,onEditTask:Ln})},{key:p.hY.CANCEL,label:"\u5DF2\u53D6\u6D88",children:(0,t.jsx)(pn,{loading:ce,taskStatus:p.hY.CANCEL,taskList:Ie})}],bn=function(){E(Re.jA.Create)},Zn=function(){$===p.hY.EXECUTING&&An(p.hY.EXECUTING),b()};return(0,t.jsxs)("div",{className:en(Xe.container,"flex-1","flex","flex-col"),children:[(0,t.jsxs)("div",{className:en("flex","items-center","content-between",Xe.titleBox),children:[(0,t.jsx)(w.Z.Title,{className:en(Xe.title),level:5,children:"\u5B9A\u65F6\u4EFB\u52A1"}),(0,t.jsx)(T.ZP,{size:"small",className:en(Xe.create,"cursor-pointer"),onClick:bn,icon:(0,t.jsx)(B.Z,{name:"icons-common-plus",style:{fontSize:16}}),type:"text",children:"\u6DFB\u52A0"})]}),(0,t.jsx)(we.Z,{rootClassName:en(Xe.tab),tabBarGutter:20,defaultActiveKey:p.hY.EXECUTING,items:Pn,onTabClick:_n}),(0,t.jsx)(Nn,{agentId:Q,open:Y,mode:O,currentTask:ve,onCancel:b,onConfirm:Zn})]})},mn=yn,nn=v().bind(xe),xn=(0,g.forwardRef)(function(ie,R){var Q=ie.className,i=ie.agentId,Y=ie.loading,b=ie.agentDetail,O=ie.onToggleCollectSuccess,E=ie.onVisibleChange,de=(0,g.useState)(!1),ae=s()(de,2),ve=ae[0],me=ae[1],X=(0,g.useState)(!1),J=s()(X,2),$=J[0],ee=J[1],Ae=(0,h.useModel)("conversationInfo"),je=Ae.showType,ce=function(){me(!ve),setTimeout(function(){ee(!$)},300)};return(0,g.useImperativeHandle)(R,function(){return{open:function(){me(!0),ee(!1)},close:function(){me(!1),ee(!0)},toggle:function(){me(function(Oe){return!Oe}),ee(function(Oe){return!Oe})}}},[]),(0,g.useEffect)(function(){je===c.wv.Show_Stand&&(me(!1),ee(!0))},[je]),(0,g.useEffect)(function(){E?.(ve)},[ve]),(0,A.Z)(ve),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:nn(xe.rightSidebar,"flex","flex-col",Q,u()({},xe.hide,!ve)),children:Y?(0,t.jsx)(f.Z,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Z,{offsetTop:0,style:{zIndex:10},className:nn(xe["statistics-content"]),children:(0,t.jsx)(Ye,{statistics:b?.statistics,visible:ve,onClose:ce})}),(0,t.jsx)("div",{className:nn(xe["container-scroll"],xe.container),children:(0,t.jsx)("div",{className:nn(xe["container-content"],"scrollbar"),children:(0,t.jsxs)("div",{className:nn(xe["container-body"]),children:[(0,t.jsx)(Ee,{agentDetail:b,onToggleCollectSuccess:O}),(0,t.jsx)(Qe,{agentId:i}),b?.openScheduledTask===c.nb.Open&&(0,t.jsx)(mn,{agentId:i})]})})})]})})})}),Tn=xn},34077:function(re,y,e){e.d(y,{Z:function(){return j}});var L=e(82092),u=e.n(L),S=e(22675),s=e(78987),f=e(57625),A=e(59261),c=e(97830),d=e(13278),v=e(72875),g=e(91268),n=e(27689),h=e(64799),I=e(92122),C=e(41249),a=e(38683),l=e(94581),r=e.n(l),Z=e(32699),V=e(75271),U=e(56179),H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAERSURBVCiRjZFBccNADEWfdgrAYeAwcBmYQSwGMYKkCOwwKIOYgZZBITQQzCBBsOoh25lN7ab9pz3ozftaCTlmtkfkADTADbjg3qvqzEpC8a4zdEFkBGpEPs2sWQNfzOwIVKo6mhmIDKS0AV4ROSNiwHZpFNkhMpjZqKojEBEZgBb3N6A2s26tapvrDRajAR0wqWrM+83pvsJjVeCGyERKm2yatOv6YqYKIVzXjBH3o6qOuGsJmVkNVLi3S9D9BFQW4wdwKaBGVWfce6CzGM8lKN9D+fdqYAaqbOpVdco3PpdrSGGoPISdp7QNIVxxb4D9b7DwJLneEhZ5fwquwveTtX+CDzBEoMP99C/wh/mkquMXpnqTpDNkdZAAAAAASUVORK5CYII=",z=e(6619),G={container:"container___bqr6a","elapsed-time":"elapsed-time___NLFZM","vertical-line":"vertical-line___viPQ6","more-action":"more-action___oDxDL",icon:"icon___hoIgl","copy-image":"copy-image___YsG7v"},m=e(52676),p=r().bind(G),M=function(k){var F=k.messageInfo,q=F||{},K=q.finalResult,o=(0,U.useModel)("conversationInfo"),le=o.handleDebug,Be=(0,V.useMemo)(function(){return K?((K?.endTime-K?.startTime)/1e3).toFixed(1):0},[K]);return(0,m.jsx)("div",{className:p(G.container,"flex","content-between","items-center"),children:(0,m.jsxs)("div",{className:p("flex","items-center",G["elapsed-time"]),children:[(0,m.jsxs)(A.Z,{condition:!!K,children:[(0,m.jsx)("span",{children:"".concat(Be,"s")}),(0,m.jsxs)(A.Z,{condition:!!(K!=null&&K.totalTokens),children:[(0,m.jsx)("span",{className:p(G["vertical-line"])}),(0,m.jsx)("span",{children:"".concat(K?.totalTokens," Tokens")})]})]}),(0,m.jsx)(A.Z,{condition:!!K,children:(0,m.jsx)(z.Z,{className:G.icon,icon:(0,m.jsx)("img",{src:H,alt:""}),onClick:function(){return le(F)},title:"\u8C03\u8BD5",type:I.Ai.White})})]})})},se=M,x={"xagi-nav-style2":"xagi-nav-style2___mrh9D",text:"text___O7qUb","page-container":"page-container___XXv4P",container:"container___I82RP","elapsed-time":"elapsed-time___VSdJP","vertical-line":"vertical-line___RYAxp","more-action":"more-action___J8lvL",icon:"icon___V_fce","copy-image":"copy-image___Lbh8o"},D=r().bind(x),t=function(k){var F=k.messageInfo,q=F||{},K=q.text,o=function(){C.ZP.success("\u590D\u5236\u6210\u529F")};return(0,m.jsx)("div",{className:D(x.container,"flex","content-between","items-center"),children:(0,m.jsx)("div",{className:D("flex",x["more-action"]),children:(0,m.jsx)(d.Z,{text:K||"",onCopy:o,children:"\u590D\u5236"})})})},te=t,ge=e(48305),pe=e.n(ge),fe=e(39373),w={"xagi-nav-style2":"xagi-nav-style2___A0cfb",text:"text___mQKpe","page-container":"page-container___clFMO",container:"container___bMNUQ","more-action":"more-action___PPoj0"},W=r().bind(w),ue=function(k){var F=k.messageInfo,q=(0,V.useState)(""),K=pe()(q,2),o=K[0],le=K[1],Be=(0,V.useRef)(null),Qe=function(){C.ZP.success("\u590D\u5236\u6210\u529F")},xe=function(){le((0,fe.BK)(F?.time))},Fe=function(){xe(),Be.current=setInterval(function(){xe()},6e4)};return(0,V.useEffect)(function(){return F!=null&&F.time&&Fe(),function(){Be.current!==null&&(clearInterval(Be.current),Be.current=null)}},[F?.time]),(0,m.jsxs)("div",{className:W(w.container,"flex","content-between","items-center"),children:[(0,m.jsx)("div",{className:W("flex",w["more-action"]),children:(0,m.jsx)(d.Z,{text:F?.text||"",onCopy:Qe,children:"\u590D\u5236"})}),(0,m.jsx)("span",{children:o})]})},oe=ue,Ee=e(30746),B={"xagi-nav-style2":"xagi-nav-style2___C6M16",text:"text___s3NJ6","page-container":"page-container___wYf4F",container:"container___zSEQO",avatar:"avatar___IfDvJ",author:"author___AmRDb","agent-title-bar":"agent-title-bar___Y8m62","attach-file-container":"attach-file-container___xvbrf",userContainer:"userContainer___sPaST","user-content":"user-content___M5R1a","chat-content":"chat-content___FWF0e","inner-container":"inner-container___rireg","think-content":"think-content___Qas0a","user-action-box":"user-action-box___T2sE4","copy-btn":"copy-btn___vb1lQ","copy-image":"copy-image___Hbxu3"},_=r().bind(B),T=(0,V.memo)(function(N){var k,F=N.className,q=N.contentClassName,K=N.roleInfo,o=N.messageInfo,le=N.mode,Be=le===void 0?"chat":le,Qe=(0,U.useModel)("userInfo"),xe=Qe.userInfo,Fe=(0,n.K)(),He=Fe.data,an=He.antdTheme==="dark",Ye=(0,g.Z)({answer:o?.text||"",thinking:o?.think||"",id:o?.id||""}),sn=Ye.markdownRef,on=Ye.messageIdRef,Ne=xe||JSON.parse(localStorage.getItem(v.CD)),ye=function(){var We=K.assistant,qe=K.system;switch(o?.role){case h.hZ.USER:return{name:Ne?.nickName||Ne?.userName||"\u6E38\u5BA2",avatar:Ne?.avatar||s};case h.hZ.ASSISTANT:return{name:We.name,avatar:We.avatar||S};case h.hZ.SYSTEM:return{name:qe.name,avatar:qe.avatar||S}}}(),cn=function(){C.ZP.success("\u590D\u5236\u6210\u529F")},Re=(0,V.useCallback)(function(We){return We.replace(/^\s+|\s+$/g,"")},[]),we=(0,V.useMemo)(function(){return o?.role===h.hZ.USER},[o?.role]),Je=a.Z.useToken(),Ge=Je.token;return(0,m.jsx)("div",{className:_(B.container,"flex",F),children:(0,m.jsxs)("div",{className:_("flex-1","overflow-hide",u()({},B.userContainer,we)),children:[!we&&(0,m.jsxs)("div",{className:_(B["agent-title-bar"]),children:[(0,m.jsx)("img",{className:_(B.avatar),src:ye?.avatar,alt:""}),(0,m.jsx)("div",{className:_(B.author),children:ye?.name}),(0,m.jsx)(A.Z,{condition:!!(o!=null&&o.status),children:(0,m.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:12},children:(0,m.jsx)("div",{style:{flex:1},children:(0,m.jsx)(Ee.Z,{messageInfo:o})})})})]}),!!(o!=null&&(k=o.attachments)!==null&&k!==void 0&&k.length)&&(0,m.jsx)("div",{className:_(B["attach-file-container"]),children:(0,m.jsx)(f.Z,{files:o?.attachments})}),we&&!!(o!=null&&o.text)&&(0,m.jsxs)("div",{className:_(B["user-content"]),children:[(0,m.jsx)("div",{className:_(B["chat-content"],B.user,"radius-6",q,"ds-markdown",{"ds-markdown-dark":an}),children:(0,m.jsx)("div",{className:"ds-markdown-answer",children:(0,m.jsx)("div",{style:{whiteSpace:"pre-wrap"},className:"ds-markdown-paragraph ds-typed-answer",children:Re(o?.text)})})}),(0,m.jsx)("div",{className:_(B["user-action-box"],"flex","items-center"),children:(0,m.jsx)(d.Z,{text:o.text||"",onCopy:cn,children:"\u590D\u5236"})})]}),(0,m.jsxs)(A.Z,{condition:o?.role!==h.hZ.USER,children:[(!!(o!=null&&o.think)||!!(o!=null&&o.text))&&(0,m.jsx)("div",{className:_(B["inner-container"],q),children:(0,m.jsx)("div",{className:_(B["chat-content"],"radius-6","w-full",u()({},B.typing,o.status===I.ge.Incomplete||o.status===I.ge.Loading)),children:(0,m.jsx)(c.ZP,{id:"".concat(on.current),markdownRef:sn},"".concat(on.current))})}),(0,m.jsx)(A.Z,{condition:o&&(o?.status===I.ge.Complete||!(o!=null&&o.status)),children:Be==="chat"?(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12,padding:"0 ".concat(Ge.paddingXS,"px")},children:[(0,m.jsx)("div",{style:{flex:1},children:(0,m.jsx)(te,{messageInfo:o})}),(0,m.jsx)(se,{messageInfo:o})]}):Be==="home"?(0,m.jsx)(oe,{messageInfo:o}):null})]})]})})},function(N,k){return(0,Z.isEqual)(N.messageInfo,k.messageInfo)}),j=T},59261:function(re,y,e){var L=e(75271),u=e(52676),S=function(f){var A=f.children,c=f.condition;return c?(0,u.jsx)(u.Fragment,{children:A}):null};y.Z=S},6377:function(re,y,e){e.d(y,{Z:function(){return d}});var L=e(94581),u=e.n(L),S=e(75271),s={container:"container___dApW8",star:"star___pESlW"},f=e(52676),A=u().bind(s),c=function(g){var n=g.className,h=g.label;return(0,f.jsxs)("span",{className:A(s.container,"flex",n),children:[(0,f.jsx)("span",{children:h}),(0,f.jsx)("span",{className:A(s.star),children:"*"})]})},d=c},90327:function(re,y,e){e.d(y,{Z:function(){return Z}});var L=e(48305),u=e.n(L),S=e(68261),s=e(64799),f=e(92122),A=e(53895),c=e(3642),d=e(14719),v=e(9504),g=e(94581),n=e.n(g),h=e(75271),I=e(56179),C={"xagi-nav-style2":"xagi-nav-style2___dAgfb",text:"text___a_MNK","page-container":"page-container___Aaw3P","modal-container":"modal-container___EDu1v","modal-body":"modal-body___KeoH4",header:"header___lDVFq","row-line":"row-line___CTchF",label:"label___NamUa",box:"box___W8ZiK",img:"img___kPSF5","selected-ico":"selected-ico___t5Iak"},a=e(52676),l=n().bind(C),r=function(U){var H=U.spaceId,z=U.loading,G=U.type,m=G===void 0?A.KZ.Move:G,p=U.mode,M=p===void 0?s.qR.Agent:p,se=U.isTemplate,x=se===void 0?!1:se,D=U.open,t=U.title,te=U.onCancel,ge=U.onConfirm,pe=(0,h.useState)(0),fe=u()(pe,2),w=fe[0],W=fe[1],ue=(0,I.useModel)("spaceModel"),oe=ue.spaceList,Ee=m===A.KZ.Move?"\u8FC1\u79FB":"\u590D\u5236",B=M===s.qR.Agent?"\u667A\u80FD\u4F53":M===s.qR.Plugin?"\u63D2\u4EF6":"\u5DE5\u4F5C\u6D41",_=(0,h.useMemo)(function(){var T=oe?.filter(function(N){return!(N.currentUserRole===f.g8.User&&N.allowDevelop===A.Cn.Not_Allow)})||[];if(m===A.KZ.Move)return T?.filter(function(N){return N.id!==H})||[];if(x)return T;var j=oe.find(function(N){return N.id===H});return j?.currentUserRole===f.g8.User?[j]:T},[m,H,oe,x]);return(0,h.useEffect)(function(){D&&W(0)},[D]),(0,a.jsx)(d.Z,{open:D,destroyOnHidden:!0,onCancel:te,classNames:{content:l(C["modal-container"]),body:C["modal-body"]},centered:!0,title:(0,a.jsx)("header",{className:l(C.header,"text-ellipsis"),children:"".concat(Ee).concat(B," - ").concat(t)}),footer:function(){return(0,a.jsx)(v.ZP,{type:"primary",block:!0,loading:z,onClick:function(){return ge(w)},disabled:!w,children:Ee})},children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:l(C["row-line"])}),(0,a.jsx)("span",{className:l(C.label),children:"\u9009\u62E9\u8981".concat(Ee,"\u5230\u7684\u7A7A\u95F4")}),_.map(function(T){return(0,a.jsxs)("div",{className:l("flex","items-center","hover-box","cursor-pointer",C.box),onClick:function(){return W(T.id)},children:[(0,a.jsx)("img",{className:l(C.img),src:T.icon||S,alt:""}),(0,a.jsx)("span",{className:l("flex-1","text-ellipsis"),children:T.name}),w===T.id&&(0,a.jsx)(c.Z,{className:l(C["selected-ico"])})]},T.id)})]})})},Z=r},2349:function(re,y,e){e.d(y,{Z:function(){return U}});var L=e(48305),u=e.n(L),S=e(64799),s=e(26324),f=e(13143),A=e(28246),c=e(63619),d=e(51249),v=e(28190),g=e(9504),n=e(94581),h=e.n(n),I=e(75271),C=e(59261),a={"xagi-nav-style2":"xagi-nav-style2___y6MJu",text:"text___XcdJn","page-container":"page-container___aQb4E","variables-box":"variables-box___zOde3",header:"header____mIzl","down-icon":"down-icon___nE2JF","rotate-90":"rotate-90___n3jXV","conversation-container":"conversation-container___wfpdk","close-form":"close-form___uaNXu","form-box":"form-box___AloSZ",desc:"desc___XIVD5"},l=e(52676),r=h().bind(a),Z=A.Z.SHOW_CHILD,V=function(z){var G=z.className,m=z.form,p=z.isFilled,M=p===void 0?!1:p,se=z.disabled,x=se===void 0?!1:se,D=z.showSubmitButton,t=D===void 0?!1:D,te=z.variables,ge=z.userFillVariables,pe=z.onConfirm,fe=(0,I.useState)(!0),w=u()(fe,2),W=w[0],ue=w[1];(0,I.useEffect)(function(){ge&&m.setFieldsValue(ge)},[m,ge]);var oe=function(T){ue(!1),pe?.(T)},Ee=W?a["conversation-container"]:M?a["close-form"]:null,B=function(T){var j,N=T.inputType,k=T.description,F=[S.oI.Select,S.oI.MultipleSelect].includes(N),q;switch(N){case S.oI.Text:q=(0,l.jsx)(c.Z,{variant:"filled",placeholder:k||"\u8BF7\u8F93\u5165",allowClear:!0});break;case S.oI.Paragraph:case S.oI.AutoRecognition:q=(0,l.jsx)(c.Z.TextArea,{variant:"filled",placeholder:k||"\u8BF7\u8F93\u5165",allowClear:!0});break;case S.oI.Number:q=(0,l.jsx)(d.Z,{variant:"filled",className:"w-full",placeholder:k||"\u8BF7\u8F93\u5165"});break;case S.oI.Select:case S.oI.MultipleSelect:q=(0,l.jsx)(A.Z,{variant:"filled",expandTrigger:"hover",multiple:N===S.oI.MultipleSelect,maxTagCount:"responsive",showCheckedStrategy:Z,placeholder:k||"\u8BF7\u9009\u62E9",options:((j=T.selectConfig)===null||j===void 0?void 0:j.options)||[],allowClear:!0});break;default:q=(0,l.jsx)(c.Z,{placeholder:k||"\u8BF7\u8F93\u5165",allowClear:!0})}return{isSelect:F,content:q}};return te!=null&&te.length?(0,l.jsxs)("div",{className:r(a["variables-box"],"flex","flex-col",G),children:[(0,l.jsxs)("header",{className:r(a.header,"flex","items-center","content-between"),children:[(0,l.jsx)("span",{children:"\u5BF9\u8BDD\u8BBE\u7F6E"}),(0,l.jsx)(C.Z,{condition:M,children:(0,l.jsx)("span",{className:r(a.text,"cursor-pointer"),onClick:function(){return ue(!W)},children:(0,l.jsx)(f.Z,{className:r(W?"":a["rotate-90"],a["down-icon"])})})})]}),(0,l.jsxs)("div",{className:r(Ee),children:[(0,l.jsxs)(v.Z,{form:m,rootClassName:a["form-box"],disabled:x,preserve:!1,layout:"vertical",onFinish:oe,requiredMark:s.N,autoComplete:"off",children:[te?.map(function(_){var T=_.name,j=_.displayName,N=_.require,k=_.key,F=B(_),q=F.isSelect,K=F.content;return(0,l.jsx)(v.Z.Item,{name:T,label:j,rules:[{required:N,message:"\u8BF7".concat(q?"\u9009\u62E9":"\u8F93\u5165").concat(j)}],children:K},k)}),(0,l.jsx)(C.Z,{condition:t,children:(0,l.jsx)(v.Z.Item,{children:(0,l.jsx)(g.ZP,{type:"primary",htmlType:"submit",block:!0,children:"\u5F00\u59CB\u5BF9\u8BDD"})})})]}),(0,l.jsx)(C.Z,{condition:x,children:(0,l.jsx)("p",{className:r(a.desc),children:"\u5BF9\u8BDD\u5F00\u59CB\u540E\uFF0C\u5BF9\u8BDD\u8BBE\u7F6E\u5C06\u65E0\u6CD5\u4FEE\u6539\u3002"})})]})]}):null},U=V},94201:function(re,y,e){e.d(y,{Z:function(){return I}});var L=e(48305),u=e.n(L),S=e(63619),s=e(28190),f=e(94581),A=e.n(f),c=e(75271),d={"text-area":"text-area___UOMCQ",input:"input___XXN9U",text:"text___m7VFK"},v=e(52676),g=A().bind(d),n=S.Z.TextArea,h=function(a){var l,r=a.placeholder,Z=r===void 0?"\u8BF7\u8F93\u5165":r,V=a.name,U=a.label,H=a.initialValue,z=a.maxLength,G=z===void 0?200:z,m=a.minRows,p=m===void 0?3:m,M=a.maxRows,se=M===void 0?6:M,x=a.rules,D=(0,c.useState)(""),t=u()(D,2),te=t[0],ge=t[1];return(0,c.useEffect)(function(){H&&ge(H)},[H]),(0,v.jsxs)(s.Z.Item,{className:g("relative"),children:[(0,v.jsx)(s.Z.Item,{className:g(d["text-area"]),name:V,label:U,rules:x,children:(0,v.jsx)(n,{rootClassName:d.input,placeholder:Z,value:te,onChange:function(fe){return ge(fe.target.value)},maxLength:G,autoSize:{minRows:p,maxRows:se}})}),(0,v.jsxs)("span",{className:g("absolute",d.text),children:[(l=te?.length)!==null&&l!==void 0?l:0,"/",G]})]})},I=h},84283:function(re,y,e){e.d(y,{Z:function(){return v}});var L=e(24573),u=e(94581),S=e.n(u),s=e(75271),f={"xagi-nav-style2":"xagi-nav-style2___a6A0C",text:"text___ijFbn","page-container":"page-container___AmrXf",container:"container___eQEDc",box:"box___qQPTu"},A=e(52676),c=S().bind(f),d=function(n){var h=n.className,I=n.itemClassName,C=n.loading,a=n.chatSuggestList,l=n.onClick;return C?(0,A.jsx)("div",{className:c("flex",f["loading-box"]),children:(0,A.jsx)(L.Z,{})}):a?.length>0?(0,A.jsx)("div",{className:c(f.container,"flex","flex-col",h),children:a?.map(function(r,Z){return r?(0,A.jsx)("div",{onClick:function(){return l(r)},className:c(f.box,"px-16","cursor-pointer","hover-box",I,"text-ellipsis-2"),children:r},Z):null})}):null},v=d},3055:function(re,y,e){e.d(y,{Z:function(){return v}});var L=e(24573),u=e(94581),S=e.n(u),s=e(75271),f={"xagi-nav-style2":"xagi-nav-style2___xuAte",text:"text___sfO7S","page-container":"page-container___rvj3b",container:"container___MWZZN"},A=e(52676),c=S().bind(f),d=function(n){var h=n.className;return(0,A.jsxs)("div",{className:c("flex","flex-1","items-center","content-center",f.container,h),children:[(0,A.jsx)(L.Z,{}),(0,A.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]})},v=d},7098:function(re,y,e){e.d(y,{Z:function(){return n}});var L=e(3642),u=e(17701),S=e(88958),s=e(94581),f=e.n(s),A=e(75271),c={container:"container___zAmsL","option-icon-box":"option-icon-box___Xu928",icon:"icon___k7L6U",image:"image___gVYjP"},d=e(52676),v=f().bind(c),g=function(I){var C=I.className,a=I.value,l=I.dropdownRenderComponent,r=I.placeholder,Z=I.disabled,V=I.allowClear,U=V===void 0?!1:V,H=I.options,z=I.onChange,G=I.size,m=G===void 0?"middle":G;return(0,d.jsx)(u.default,{rootClassName:v(c.container,C),value:a,placeholder:r||"\u8BF7\u9009\u62E9",disabled:Z,onChange:z,allowClear:U,onClick:function(M){M.stopPropagation()},options:H,size:m,dropdownRender:function(M){return(0,d.jsxs)(d.Fragment,{children:[M,l]})},optionRender:function(M){var se;return(0,d.jsxs)(S.Z,{gap:8,align:"center",children:[(0,d.jsx)("div",{className:v(c["option-icon-box"]),children:a===M.data.value&&(0,d.jsx)(L.Z,{className:v(c.icon)})}),!!(M!=null&&(se=M.data)!==null&&se!==void 0&&se.img)&&(0,d.jsx)("img",{className:v(c.image,"radius-6"),src:String(M.data.img),alt:""}),(0,d.jsx)("span",{className:v("flex-1","text-ellipsis"),children:M.data.label})]})}})},n=g},6619:function(re,y,e){e.d(y,{Z:function(){return h}});var L=e(77661),u=e(92122),S=e(38683),s=e(68108),f=e(94581),A=e.n(f),c=e(75271),d={box:"box___qPDL3"},v=e(52676),g=A().bind(d),n=function(C){var a=C.className,l=C.type,r=l===void 0?u.Ai.Blank:l,Z=C.icon,V=C.title,U=C.onClick,H=r===u.Ai.Blank?"tooltip-blank":"tooltip-white",z=S.Z.useToken(),G=z.token;return(0,v.jsx)(s.Z,{title:V,classNames:{root:H},children:(0,v.jsx)("span",{className:g("hover-box","flex","content-center","items-center","cursor-pointer",d.box,a),onClick:U,children:Z||(0,v.jsx)(L.Z,{name:"icons-common-plus",style:{color:G.colorTextTertiary,fontSize:15}})})})},h=n},96534:function(re,y,e){e.d(y,{Ew:function(){return l},Op:function(){return g},Ri:function(){return v},UX:function(){return I},Y5:function(){return n},ZR:function(){return H},a1:function(){return V},dS:function(){return a},ko:function(){return h},nX:function(){return U},p_:function(){return r}});var L=e(82092),u=e.n(L),S=e(6619),s=e(64799),f=e(49528),A=e(45019),c=e(44689),d=e(52676),v=[{value:s.Qr.AUTO,label:"\u81EA\u52A8\u8C03\u7528"},{value:s.Qr.ON_DEMAND,label:"\u6309\u9700\u8C03\u7528"},{value:s.Qr.MANUAL,label:"\u624B\u52A8\u9009\u62E9"},{value:s.Qr.MANUAL_ON_DEMAND,label:"\u624B\u52A8\u9009\u62E9+\u6309\u9700\u8C03\u7528"}],g=[{value:s.Km.No,label:"\u5426"},{value:s.Km.Yes,label:"\u662F"}],n=[{value:s.E8.No,label:"\u5426"},{value:s.E8.Yes,label:"\u662F"}],h=[{value:s.kD.MIXED,label:(0,d.jsxs)("span",{className:"flex items-center",children:[(0,d.jsx)("span",{children:"\u6DF7\u5408"}),(0,d.jsx)(S.Z,{title:"\u7ED3\u5408\u5168\u6587\u68C0\u7D22\u4E0E\u8BED\u4E49\u68C0\u7D22\u7684\u4F18\u52BF,\u5E76\u5BF9\u7ED3\u679C\u8FDB\u884C\u7EFC\u5408\u6392\u5E8F",icon:(0,d.jsx)(c.Z,{})})]})},{value:s.kD.SEMANTIC,label:(0,d.jsxs)("span",{className:"flex items-center",children:[(0,d.jsx)("span",{children:"\u8BED\u4E49"}),(0,d.jsx)(S.Z,{title:"\u57FA\u4E8E\u5411\u91CF\u7684\u6587\u672C\u76F8\u5173\u6027\u67E5\u8BE2,\u63A8\u8350\u5728\u9700\u8981\u7406\u89E3\u8BED\u4E49\u5173\u8054\u5EA6\u548C\u8DE8\u8BED\u8A00\u67E5\u8BE2\u7684\u573A\u666F\u4F7F\u7528\u3002",icon:(0,d.jsx)(c.Z,{})})]})},{value:s.kD.FULL_TEXT,label:(0,d.jsxs)("span",{className:"flex items-center",children:[(0,d.jsx)("span",{children:"\u5168\u6587"}),(0,d.jsx)(S.Z,{title:"\u4F9D\u8D56\u4E8E\u5173\u952E\u8BCD\u7684\u5168\u6587\u641C\u7D22,\u63A8\u8350\u5728\u641C\u7D22\u5177\u6709\u7279\u5B9A\u540D\u79F0\u3001\u7F29\u5199\u8BCD\u3001\u77ED\u8BED\u6216ID\u7684\u573A\u666F\u4F7F\u7528\u3002",icon:(0,d.jsx)(c.Z,{})})]})}],I=[{value:s.E3.DEFAULT,label:"\u9ED8\u8BA4"},{value:s.E3.CUSTOM,label:"\u81EA\u5B9A\u4E49"}],C=[{value:s.c0.TIME,label:"\u5B9A\u65F6\u89E6\u53D1",img:""},{value:s.c0.EVENT,label:"\u4E8B\u4EF6\u89E6\u53D1",img:""}],a=[{value:A.tJ.SINGLE,label:"\u5355\u5F20\u5361\u7247"},{value:A.tJ.LIST,label:"\u7AD6\u5411\u5217\u8868"}],l=[{label:"\u7CBE\u786E\u6A21\u5F0F",value:f.jD.Precision},{label:"\u5E73\u8861\u6A21\u5F0F",value:f.jD.Balanced},{label:"\u521B\u610F\u6A21\u5F0F",value:f.jD.Creative},{label:"\u81EA\u5B9A\u4E49",value:f.jD.Customization}],r=u()(u()(u()({},f.jD.Precision,{temperature:.1,topP:.7}),f.jD.Balanced,{temperature:1,topP:.7}),f.jD.Creative,{temperature:1,topP:.8}),Z=[{value:A.HD.Tenant,label:"\u5168\u5C40"},{value:A.HD.Space,label:"\u5DE5\u4F5C\u7A7A\u95F4"}],V=[{value:s.oI.Text,label:"\u5355\u884C\u6587\u672C"},{value:s.oI.Paragraph,label:"\u6BB5\u843D"},{value:s.oI.Number,label:"\u6570\u5B57"},{value:s.oI.Select,label:"\u5355\u9009"},{value:s.oI.MultipleSelect,label:"\u591A\u9009"},{value:s.oI.AutoRecognition,label:"\u667A\u80FD\u8BC6\u522B"}],U={options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[]}]}]},H=400},51837:function(re,y,e){var L=e(48305),u=e.n(L),S=e(32222),s=e.n(S),f=e(75271),A=function(){var d=(0,f.useState)(),v=u()(d,2),g=v[0],n=v[1],h=function(C){var a,l=s()(g);if(l){var r=(l==null||(a=l.statistics)===null||a===void 0?void 0:a.collectCount)||0;l.statistics||(l.statistics={targetId:l.agentId,userCount:0,convCount:0,collectCount:0,likeCount:0,referenceCount:0,callCount:0,failCallCount:0,totalCallDuration:0}),l.statistics.collectCount=C?r+1:r-1,l.collect=C,n(l)}};return{agentDetail:g,setAgentDetail:n,handleToggleCollectSuccess:h}};y.Z=A},76571:function(re,y,e){var L=e(75271),u=function(s){var f="drawer-scroll-hidden";if(!document.getElementById("drawer-scroll-style")){var A=document.createElement("style");A.id="drawer-scroll-style",A.innerHTML=`
        .`.concat(f,` {
          overflow-x: hidden !important;
        }
      `),document.head.appendChild(A)}(0,L.useEffect)(function(){s?(document.body.classList.add(f),document.documentElement.classList.add(f)):setTimeout(function(){document.body.classList.remove(f),document.documentElement.classList.remove(f)},400)},[s])};y.Z=u},88458:function(re,y,e){var L=e(15558),u=e.n(L),S=e(48305),s=e.n(S),f=e(64799),A=e(75271),c=function(){var v=(0,A.useState)([]),g=s()(v,2),n=g[0],h=g[1],I=function(l){var r=u()(n);if(r.some(function(V){return V.id===l.id})){var Z=r.findIndex(function(V){return V.id===l.id});r.splice(Z,1)}else r.push({id:l.id,type:l.type});h(r)},C=function(l){if(l!=null&&l.length){var r=l.filter(function(Z){return Z.defaultSelected===f.Km.Yes}).map(function(Z){return{id:Z.id,type:Z.type}});h(r||[])}};return{selectedComponentList:n,setSelectedComponentList:h,handleSelectComponent:I,initSelectedComponentList:C}};y.Z=c},27689:function(re,y,e){e.d(y,{K:function(){return n}});var L=e(90228),u=e.n(L),S=e(87999),s=e.n(S),f=e(48305),A=e.n(f),c=e(92068),d=e(14334),v=e(75271),g=e(56179),n=function(){var I=(0,v.useState)(c.unifiedThemeService.getCurrentData()),C=A()(I,2),a=C[0],l=C[1],r=(0,v.useState)(!1),Z=A()(r,2),V=Z[0],U=Z[1],H=(0,g.useModel)("tenantConfigInfo"),z=H.tenantConfigInfo;(0,v.useEffect)(function(){var B=function(T){l(T),U(!1)};return c.unifiedThemeService.addListener(B),function(){c.unifiedThemeService.removeListener(B)}},[]);var G=(0,v.useCallback)(function(B){return s()(u()().mark(function _(){var T=arguments;return u()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return U(!0),N.prev=1,N.next=4,B.apply(void 0,T);case 4:N.next=11;break;case 6:throw N.prev=6,N.t0=N.catch(1),console.error("\u4E3B\u9898\u66F4\u65B0\u5931\u8D25:",N.t0),U(!1),N.t0;case 11:case"end":return N.stop()}},_,null,[[1,6]])}))},[]),m=G(c.unifiedThemeService.updatePrimaryColor.bind(c.unifiedThemeService)),p=G(c.unifiedThemeService.updateAntdTheme.bind(c.unifiedThemeService)),M=G(c.unifiedThemeService.updateNavigationStyle.bind(c.unifiedThemeService)),se=G(c.unifiedThemeService.updateLayoutStyle.bind(c.unifiedThemeService)),x=G(c.unifiedThemeService.updateBackground.bind(c.unifiedThemeService)),D=G(c.unifiedThemeService.updateLanguage.bind(c.unifiedThemeService)),t=(0,v.useCallback)(s()(u()().mark(function B(){var _;return u()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return _=a.antdTheme==="light"?"dark":"light",j.next=3,p(_);case 3:case"end":return j.stop()}},B)})),[a.antdTheme,p]),te=(0,v.useCallback)(s()(u()().mark(function B(){var _;return u()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return _=a.layoutStyle===d.B.DARK?d.B.LIGHT:d.B.DARK,j.next=3,se(_);case 3:case"end":return j.stop()}},B)})),[a.layoutStyle,se]),ge=(0,v.useCallback)(s()(u()().mark(function B(){var _;return u()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return _=a.navigationStyle===d.F.STYLE1?d.F.STYLE2:d.F.STYLE1,j.next=3,M(_);case 3:case"end":return j.stop()}},B)})),[a.navigationStyle,M]),pe=(0,v.useCallback)(s()(u()().mark(function B(){var _;return u()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return _=a.language==="zh-CN"?"en-US":"zh-CN",j.next=3,D(_);case 3:case"end":return j.stop()}},B)})),[a.language,D]),fe=G(c.unifiedThemeService.resetToDefault.bind(c.unifiedThemeService)),w=a.antdTheme==="dark",W=a.layoutStyle===d.B.DARK,ue=a.navigationStyle===d.F.STYLE2,oe=a.language==="zh-CN",Ee=(0,v.useMemo)(function(){return c.unifiedThemeService.getExtraColors()},[z]);return{data:a,isLoading:V,updatePrimaryColor:m,updateAntdTheme:p,updateNavigationStyle:M,updateLayoutStyle:se,updateBackground:x,updateLanguage:D,toggleAntdTheme:t,toggleNavigationTheme:te,toggleNavigationStyle:ge,toggleLanguage:pe,resetToDefault:fe,primaryColor:a.primaryColor,antdTheme:a.antdTheme,navigationStyle:a.navigationStyle,layoutStyle:a.layoutStyle,backgroundId:a.backgroundId,language:a.language,isDarkMode:w,isNavigationDark:W,isNavigationExpanded:ue,isChineseLanguage:oe,extraColors:Ee}};y.Z=n},36724:function(re,y,e){e.d(y,{Z:function(){return U}});var L=e(90228),u=e.n(L),S=e(15558),s=e.n(S),f=e(87999),A=e.n(f),c=e(48305),d=e.n(c),v=e(86743),g=e(56555),n=e(94581),h=e.n(n),I=e(16483),C=e.n(I),a=e(75271),l={container:"container___MqO_x",row:"row___XVnNC",icon:"icon___JZhBH"},r=e(52676),Z=h().bind(l);function V(H){var z=H.pageSize,G=z===void 0?10:z,m=H.loadData,p=H.height,M=p===void 0?400:p,se=H.conversationList,x=se===void 0?[]:se,D=H.setConversationList,t=H.handleLink,te=H.runDel,ge=(0,a.useState)(!1),pe=d()(ge,2),fe=pe[0],w=pe[1],W=(0,a.useState)(!0),ue=d()(W,2),oe=ue[0],Ee=ue[1],B=(0,a.useRef)(null),_=function(){var T=A()(u()().mark(function j(){var N,k,F,q;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(fe||!oe)){o.next=2;break}return o.abrupt("return");case 2:return w(!0),N=x.length?x[x.length-1].id:null,o.prev=4,o.next=7,m(N,G);case 7:k=o.sent,F=k.list,q=k.hasMore,D?.(function(le){return[].concat(s()(le??[]),s()(F))}),Ee(q);case 12:return o.prev=12,w(!1),o.finish(12);case 15:case"end":return o.stop()}},j,null,[[4,,12,15]])}));return function(){return T.apply(this,arguments)}}();return(0,a.useEffect)(function(){},[]),(0,a.useEffect)(function(){var T=B.current;if(T){var j=function(){if(!(fe||!oe)){var k=T.scrollTop,F=T.scrollHeight,q=T.clientHeight;k+q>=F-50&&_()}};return T.addEventListener("scroll",j),function(){return T.removeEventListener("scroll",j)}}},[fe,oe,x]),(0,r.jsxs)("div",{ref:B,className:Z(l.container,"scroll-container"),style:{height:M},children:[x?.map(function(T){return(0,r.jsxs)("div",{className:Z("flex","items-center","radius-6","hover-box",l.row),children:[(0,r.jsxs)("p",{className:Z("flex-1","text-ellipsis","cursor-pointer"),onClick:function(){return t?.(T.id,T.agentId)},children:[(0,r.jsx)("span",{style:{marginRight:5,width:75},children:C()(T.created).format("MM-DD HH:mm")}),T.topic]}),(0,r.jsx)("div",{className:Z(l.icon,"cursor-pointer"),onClick:function(N){N.stopPropagation(),te?.(T.id)},children:(0,r.jsx)(v.Z,{})})]},T.id)}),fe&&(0,r.jsx)("div",{style:{textAlign:"center",padding:16},children:(0,r.jsx)(g.Z,{})}),x&&x.length>0&&!oe&&(0,r.jsx)("div",{style:{textAlign:"center",padding:5,color:"#999"},children:"\u5DF2\u52A0\u8F7D\u5168\u90E8\u6570\u636E"})]})}var U=V},50232:function(re,y,e){e.r(y),e.d(y,{default:function(){return ge}});var L=e(48305),u=e.n(L),S=e(65857),s=e(67881),f=e(77661),A=e(49974),c=e(34077),d=e(2349),v=e(84283),g=e(96534),n=e(51837),h=e(88458),I=e(41705),C=e(64799),a=e(39373),l=e(24573),r=e(28190),Z=e(41249),V=e(69219),U=e(9504),H=e(94581),z=e.n(H),G=e(16483),m=e.n(G),p=e(75271),M=e(56179),se=e(92448),x={"xagi-nav-style2":"xagi-nav-style2___syT9T",text:"text___fSG3k","page-container":"page-container___qYlB5","title-box":"title-box___sFfah","title-container":"title-container___eIEah",title:"title___UQDXG","icons-nav-sidebar":"icons-nav-sidebar___TWXGR","main-content":"main-content___RZVrO","main-content-box":"main-content-box___z5VWO","chat-wrapper":"chat-wrapper___rpWPS",loading:"loading___gGjUA","chat-inner":"chat-inner___dS4XS","suggest-item":"suggest-item___PGZ70","chat-input-container":"chat-input-container___JdZct","agent-sidebar":"agent-sidebar___Ejtnz"},D=e(52676),t=z().bind(x),te=function(){var fe=(0,M.useParams)(),w=Number(fe.agentId),W=r.Z.useForm(),ue=u()(W,1),oe=ue[0],Ee=(0,M.useModel)("layout"),B=Ee.isMobile,_=(0,M.useModel)("conversationHistory"),T=_.runHistoryItem,j=(0,p.useState)([]),N=u()(j,2),k=N[0],F=N[1],q=(0,p.useState)([]),K=u()(q,2),o=K[0],le=K[1],Be=(0,p.useState)(!1),Qe=u()(Be,2),xe=Qe[0],Fe=Qe[1],He=(0,p.useState)([]),an=u()(He,2),Ye=an[0],sn=an[1],on=(0,p.useState)([]),Ne=u()(on,2),ye=Ne[0],cn=Ne[1],Re=(0,p.useState)(null),we=u()(Re,2),Je=we[0],Ge=we[1],We=(0,p.useState)(!1),qe=u()(We,2),hn=qe[0],ln=qe[1],Sn=(0,p.useState)(null),Ve=u()(Sn,2),En=Ve[0],jn=Ve[1],ze=(0,h.Z)(),dn=ze.selectedComponentList,Dn=ze.setSelectedComponentList,Nn=ze.handleSelectComponent,Xe=ze.initSelectedComponentList,vn=(0,n.Z)(),P=vn.agentDetail,Le=vn.setAgentDetail,Ze=vn.handleToggleCollectSuccess,rn=r.Z.useWatch([],{form:oe,preserve:!0});p.useEffect(function(){rn&&Object.keys(rn).length===0||oe.validateFields({validateOnly:!0}).then(function(){return Ge(rn)}).catch(function(){return Ge(null)})},[oe,rn]);var Cn=(0,p.useMemo)(function(){if(ye?.length>0){if(!Je)return!0;var Q=(0,a.VL)(ye,Object.keys(Je));return!Q}return!1},[ye,Je]),pn=(0,M.useRequest)(I.xI,{manual:!0,debounceInterval:300,onSuccess:function(i){var Y;ln(!1),Le(i),jn(i?.conversationId||null),le(i?.openingGuidQuestions||[]);var b=i?.variables||[];sn(b);var O=b==null||(Y=b.filter(function(de){return!de.systemVariable&&de.require}))===null||Y===void 0?void 0:Y.map(function(de){return de.name});if(cn(O||[]),i!=null&&i.openingChatMsg){var E={role:C.hZ.ASSISTANT,type:C.Zy.CHAT,text:i?.openingChatMsg,time:m()().toString(),id:(0,se.Z)(),messageType:C.DK.ASSISTANT};F([E])}Fe(!0)},onError:function(){ln(!1)}}),en=pn.run;(0,p.useEffect)(function(){return ln(!0),en(w,!0),T({agentId:w,limit:20}),function(){Fe(!1),F([]),le([]),Le(null),Dn([]),sn([])}},[w]),(0,p.useEffect)(function(){Xe(P?.manualComponents)},[P?.manualComponents]);var yn=(0,p.useMemo)(function(){return{assistant:{name:P?.name,avatar:P?.icon},system:{name:P?.name,avatar:P?.icon}}},[P]),mn=function(i,Y){if(P){if(Cn){oe.validateFields(),Z.ZP.warning("\u8BF7\u586B\u5199\u5FC5\u586B\u53C2\u6570");return}M.history.push("/home/chat/".concat(En,"/").concat(w),{message:i,files:Y,infos:dn,defaultAgentDetail:P,variableParams:Je})}},nn=(0,p.useState)(!0),xn=u()(nn,2),Tn=xn[0],ie=xn[1],R=(0,p.useRef)(null);return(0,D.jsxs)("div",{className:t("flex","h-full"),children:[(0,D.jsxs)("div",{className:t("flex-1","flex","flex-col",x["main-content"]),style:{width:Tn?"calc(100% - ".concat(g.ZR,"px)"):"100%"},children:[(0,D.jsx)("div",{className:t(x["title-box"]),children:(0,D.jsxs)("div",{className:t(x["title-container"]),children:[(0,D.jsx)(V.Z.Title,{level:5,className:t(x.title,"clip-path-animation"),ellipsis:{rows:1,expandable:!1,symbol:"..."},children:xe&&(P!=null&&P.name?"\u548C".concat(P?.name,"\u5F00\u59CB\u4F1A\u8BDD"):"\u5F00\u59CB\u4F1A\u8BDD")}),!Tn&&!B&&(0,D.jsx)(U.ZP,{type:"text",className:t(x.sidebarButton),icon:(0,D.jsx)(f.Z,{name:"icons-nav-sidebar",className:t(x["icons-nav-sidebar"])}),onClick:function(){var i;return(i=R.current)===null||i===void 0?void 0:i.open()}})]})}),(0,D.jsx)("div",{className:t(x["main-content-box"]),children:(0,D.jsx)("div",{className:t(x["chat-wrapper"],"flex-1"),children:hn?(0,D.jsx)("div",{className:t("flex","items-center","content-center","h-full"),children:(0,D.jsx)(l.Z,{className:t(x.loading)})}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(d.Z,{className:"mb-16",form:oe,isFilled:!0,variables:Ye},w),k?.length>0?(0,D.jsxs)(D.Fragment,{children:[k?.map(function(Q,i){return(0,D.jsx)(c.Z,{messageInfo:Q,roleInfo:yn,contentClassName:x["chat-inner"],mode:"none"},i)}),(0,D.jsx)(v.Z,{itemClassName:x["suggest-item"],chatSuggestList:o,onClick:mn})]}):xe&&(0,D.jsx)(S.Z,{className:t({"h-full":!(Ye!=null&&Ye.length)}),icon:P?.icon,name:P?.name||"",extra:(0,D.jsx)(v.Z,{className:"mt-16",itemClassName:t(x["suggest-item"]),chatSuggestList:o,onClick:mn})})]})})}),(0,D.jsx)(A.Z,{className:t(x["chat-input-container"]),onEnter:mn,isClearInput:!1,wholeDisabled:Cn,manualComponents:P?.manualComponents||[],selectedComponentList:dn,onSelectComponent:Nn,showAnnouncement:!0},"agent-details-".concat(w))]}),(0,D.jsx)(s.Z,{ref:R,className:t(x["agent-sidebar"]),agentId:w,loading:hn,agentDetail:P,onToggleCollectSuccess:Ze,onVisibleChange:ie})]})},ge=te},46105:function(re,y,e){e.d(y,{$G:function(){return h},JX:function(){return d},hm:function(){return g},wR:function(){return A}});var L=e(90228),u=e.n(L),S=e(87999),s=e.n(S),f=e(56179);function A(C){return c.apply(this,arguments)}function c(){return c=s()(u()().mark(function C(a){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/publish/template/copy",{method:"POST",data:a}));case 1:case"end":return r.stop()}},C)})),c.apply(this,arguments)}function d(C){return v.apply(this,arguments)}function v(){return v=s()(u()().mark(function C(a){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/publish/offShelf",{method:"POST",data:a}));case 1:case"end":return r.stop()}},C)})),v.apply(this,arguments)}function g(C){return n.apply(this,arguments)}function n(){return n=s()(u()().mark(function C(a){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/publish/item/list",{method:"POST",data:a}));case 1:case"end":return r.stop()}},C)})),n.apply(this,arguments)}function h(C){return I.apply(this,arguments)}function I(){return I=s()(u()().mark(function C(a){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/publish/apply",{method:"POST",data:a}));case 1:case"end":return r.stop()}},C)})),I.apply(this,arguments)}},49528:function(re,y,e){e.d(y,{D7:function(){return A},Gp:function(){return c},Se:function(){return v},Sg:function(){return g},Z$:function(){return d},Zf:function(){return u},ah:function(){return S},jD:function(){return s},u6:function(){return L}});var L=function(n){return n[n.Text=1]="Text",n[n.Table=2]="Table",n}({}),u=function(n){return n[n.Local_Doc=0]="Local_Doc",n[n.Online_Doc=1]="Online_Doc",n[n.Custom=2]="Custom",n}({}),S=function(n){return n[n.Upload_Or_Text_Fill=0]="Upload_Or_Text_Fill",n[n.Create_Segmented_Set=1]="Create_Segmented_Set",n[n.Data_Processing=2]="Data_Processing",n}({}),s=function(n){return n.Precision="Precision",n.Balanced="Balanced",n.Creative="Creative",n.Customization="Customization",n}({}),f=function(n){return n.Waiting="Waiting",n.Published="Published",n}({}),A=function(n){return n.WORDS="WORDS",n.DELIMITER="DELIMITER",n}({}),c=function(n){return n.Line_Feed=`
`,n.Two_Line_Feed=`

`,n.Chinese_Sentence="\u3002",n.Chinese_Exclamation="\uFF01",n.English_Sentence=".",n.English_Exclamation="!",n.Chinese_Question_Mark="\uFF1F",n.English_Question_Mark="?",n.Custom="Custom",n}({}),d=function(n){return n.ANALYZING="ANALYZING",n.ANALYZED="ANALYZED",n.ANALYZING_RAW="ANALYZING_RAW",n.ANALYZED_QA="ANALYZED_QA",n.ANALYZED_EMBEDDING="ANALYZED_QA",n.ANALYZE_FAILED="ANALYZE_FAILED",n}({}),v=function(n){return n[n.ANALYZING=1]="ANALYZING",n[n.ANALYZED=2]="ANALYZED",n[n.ANALYZING_RAW=3]="ANALYZING_RAW",n[n.ANALYZED_QA=4]="ANALYZED_QA",n[n.ANALYZED_EMBEDDING=5]="ANALYZED_EMBEDDING",n[n.ANALYZE_FAILED=10]="ANALYZE_FAILED",n}({}),g=function(n){return n[n.DOC=1]="DOC",n[n.QA=2]="QA",n}({})},68261:function(re){re.exports="data:image/png;base64,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"}}]);})();
