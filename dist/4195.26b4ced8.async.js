"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[4195],{57625:function(q,J,e){e.d(J,{Z:function(){return R}});var j=e(65774),D=e(94581),d=e.n(D),S=e(75271),w={"files-container":"files-container___Ji5El","file-box":"file-box___BRhVF"},A=e(52676),E=d().bind(w),M=function(O){var F=O.files;return(0,A.jsx)("div",{className:E(w["files-container"]),children:F?.map(function(x){return(0,A.jsxs)("div",{className:E(w["file-box"],"flex","items-center"),children:[(0,A.jsx)("img",{src:x.mimeType.includes("image/")?x.fileUrl:j,alt:""}),(0,A.jsx)("div",{className:E("flex-1","overflow-hide"),children:(0,A.jsx)("h4",{className:E("text-ellipsis"),children:x.fileName})})]},x.fileKey)})})},R=M},30746:function(q,J,e){e.d(J,{Z:function(){return x}});var j=e(92122),D=e(10822),d=e(24573),S=e(13143),w=e(63876),A=e(94581),E=e.n(A),M=e(75271),R={"xagi-nav-style2":"xagi-nav-style2___Omzza",text:"text___XEmsz","page-container":"page-container___ewoL2","run-success":"run-success___PpO4f","status-name":"status-name___WZ9ni",icon:"icon___H_CtF",successColor:"successColor___tjHA6","pop-content":"pop-content___cUwx3",row:"row___ajvPI",summary:"summary___QUk2k"},g=e(52676),O=E().bind(R),F=function(k){var L=k.messageInfo,N=L.finalResult,P=L.processingList,ee=(0,M.useMemo)(function(){return N?((N?.endTime-N?.startTime)/1e3).toFixed(1):0},[N]),U=function(re,ge){var v=re-ge;return v<1e3?"".concat(v,"ms"):"".concat((v/1e3).toFixed(1),"s")},u=(0,M.useMemo)(function(){var y=P?.length||0;return y>0?P?.[y-1]:null},[P]);return(0,g.jsx)(w.Z,{placement:"bottomLeft",styles:{body:{padding:0}},content:(0,g.jsxs)("div",{className:O(R["pop-content"]),children:[P?.map(function(y,re){return y.status!==j.Xk.EXECUTING&&(0,g.jsxs)("div",{className:O(R.row,"flex","items-center"),children:[(0,g.jsx)(D.Z,{}),(0,g.jsx)("span",{className:O("flex-1","text-ellipsis"),children:"\u5DF2\u8C03\u7528 ".concat(y.name)}),(0,g.jsx)("span",{children:U(y.result.endTime,y.result.startTime)})]},re)}),(0,g.jsx)("span",{className:O(R.summary),children:"\u8FD0\u884C\u5B8C\u6BD5 ".concat(ee,"s")})]}),arrow:!1,trigger:"hover",children:(0,g.jsx)("span",{className:O("cursor-pointer",R["run-success"]),children:L?.status===j.ge.Loading||L?.status===j.ge.Incomplete?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z,{className:O(R.successColor)}),u&&(0,g.jsxs)("span",{className:O(R["status-name"]),children:[u.status===j.Xk.EXECUTING?"\u6B63\u5728\u8C03\u7528 ":"\u5DF2\u8C03\u7528 ",u.name]})]}):L?.status===j.ge.Error?(0,g.jsx)("span",{children:"\u8FD0\u884C\u9519\u8BEF"}):(0,g.jsxs)("span",{children:["\u8FD0\u884C\u5B8C\u6BD5",(0,g.jsx)(S.Z,{className:O(R.icon)})]})})})},x=F},19979:function(q,J,e){e.d(J,{Z:function(){return ee}});var j=e(82092),D=e.n(j),d=e(57625),S=e(59261),w=e(91268),A=e(64799),E=e(92122),M=e(45019),R=e(94581),g=e.n(R),O=e(75271),F=e(97830),x={container:"container___pzeXE",avatar:"avatar___QNC2R",author:"author___eO9xt","inner-container":"inner-container___MiyBz","think-content":"think-content___NYHs_","chat-content":"chat-content___voyQR"},_=e(30746),k=e(52676),L=g().bind(x),N=function(u){switch(u){case M.vQ.JavaScript:return"js";case M.vQ.Python:return"python";case M.vQ.JSON:return"json";case M.vQ.Text:return"plaintext";default:return"plaintext"}},P=function(u){var y,re=u.className,ge=u.contentClassName,v=u.messageInfo,Ae=u.codeLanguage,ne=Ae===void 0?M.vQ.Text:Ae,he=u.theme,Se=he===void 0?"light":he;console.log("codeLanguage",N(ne),v);var oe=(0,O.useCallback)(function(Ee){var I=N(ne);return I==="plaintext"?Ee:Ee.replace(/```/,"```".concat(I))},[ne]),pe=(0,w.Z)({answer:oe(v?.text||""),thinking:v?.think||"",id:v?.id||""}),Oe=pe.markdownRef,H=pe.messageIdRef;return(0,k.jsx)("div",{className:L(x.container,"flex",re),children:(0,k.jsxs)("div",{className:L("flex-1"),children:[!!(v!=null&&(y=v.attachments)!==null&&y!==void 0&&y.length)&&(0,k.jsx)(d.Z,{files:v?.attachments}),(0,k.jsxs)(S.Z,{condition:v?.role!==A.hZ.USER,children:[v.status!==E.ge.Complete&&(0,k.jsx)(S.Z,{condition:!!(v!=null&&v.status),children:(0,k.jsx)(_.Z,{messageInfo:v})}),(!!(v!=null&&v.think)||!!(v!=null&&v.text))&&(0,k.jsx)("div",{className:L(x["inner-container"],ge),children:(0,k.jsx)("div",{className:L(x["chat-content"],"radius-6","w-full",D()({},x.typing,v.status===E.ge.Incomplete||v.status===E.ge.Loading)),children:(0,k.jsx)(F.ZP,{id:"".concat(H.current),headerActions:!1,markdownRef:Oe,theme:Se},"".concat(H.current))})})]})]})})},ee=P},34204:function(q,J,e){e.d(J,{Z:function(){return H}});var j=e(26068),D=e.n(j),d=e(90228),S=e.n(d),w=e(87999),A=e.n(w),E=e(48305),M=e.n(E),R=e(35044),g=e(19979),O=e(63136),F=e(14719),x=e(9504),_=e(63619),k=e(94581),L=e.n(k),N=e(75271),P=e(56179),ee=e(92448),U={"xagi-nav-style2":"xagi-nav-style2___L67Dx",text:"text___aDdRi","page-container":"page-container___MncNy",btn:"btn___JOPmv","chat-wrapper":"chat-wrapper___PS6Tu","replace-btn":"replace-btn___AEijv",footer:"footer___MV0En","code-optimize-view":"code-optimize-view___XMSmw","chat-input":"chat-input___wgxG5",input:"input___WoXKg","icon-box":"icon-box___cHWvw","send-image":"send-image___kjNJy"},u=e(52676),y=L().bind(U),re=function(I){var ce,de,Q=I.title,o=I.open,K=I.onCancel,ie=I.onReplace,te=I.codeLanguage,z=(0,N.useState)(""),Me=M()(z,2),$=Me[0],le=Me[1],ae=(0,P.useModel)("assistantOptimize"),h=ae.messageList,ve=ae.setMessageList,xe=ae.onMessageSend,Re=ae.messageViewRef,ye=ae.allowAutoScrollRef,Le=ae.resetInit,Be=(0,N.useState)(""),Ce=M()(Be,2),me=Ce[0],je=Ce[1];(0,N.useEffect)(function(){return je((0,ee.Z)()),function(){Le()}},[]),(0,N.useEffect)(function(){var B=Re.current;if(B){var C=function(){var W=B.scrollTop,T=B.scrollHeight,V=B.clientHeight;W+V<T?ye.current=!1:ye.current=!0};return B.addEventListener("scroll",C),function(){B.removeEventListener("scroll",C)}}},[]);var fe=function(){var B=A()(S()().mark(function C(){var Y;return S()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:ve([]),$&&(le(""),Y={requestId:me,prompt:$,codeLanguage:te},xe(Y,O.L.code));case 2:case"end":return T.stop()}},C)}));return function(){return B.apply(this,arguments)}}(),Te=function(C){C.preventDefault();var Y=C.target,W=Y.value,T=Y.selectionStart,V=Y.selectionEnd;if(C.nativeEvent.keyCode===13&&(C.nativeEvent.shiftKey||C.nativeEvent.ctrlKey)){var se=W.slice(0,T)+`
`+W.slice(V);le(se)}else if(C.nativeEvent.keyCode===13&&W.trim()){var Ne={requestId:me,prompt:$,codeLanguage:te};xe(Ne,O.L.code),le("")}};return(0,u.jsxs)(F.Z,{title:Q,open:o,onCancel:function(C){ve([]),K?.(C)},maskClosable:!1,footer:null,children:[(0,u.jsx)("div",{ref:Re,className:y(U["chat-wrapper"],"flex-1"),children:h?.length>0?(0,u.jsx)(u.Fragment,{children:h?.map(function(B,C){return(0,u.jsx)(g.Z,{ifShowReplace:!0,onReplace:ie,theme:"dark",codeLanguage:te,messageInfo:B,contentClassName:y(U["code-optimize-view"])},C)})}):(0,u.jsx)("div",{})}),h?.length>0?(0,u.jsxs)("div",{className:y("flex"),children:[(0,u.jsx)(x.ZP,{className:y(U["replace-btn"],U.btn),loading:(h==null||(ce=h[h?.length-1])===null||ce===void 0?void 0:ce.status)!=="complete",disabled:(h==null||(de=h[h?.length-1])===null||de===void 0?void 0:de.status)!=="complete",onClick:function(){var C;return ie?.(h==null||(C=h[h?.length-1])===null||C===void 0?void 0:C.text)},children:"\u66FF\u6362"}),(0,u.jsx)(x.ZP,{onClick:function(C){ve([]),K?.(C)},className:y(U.btn,"ml-10 "),children:"\u9000\u51FA"})]}):(0,u.jsx)("div",{}),(0,u.jsx)("div",{className:y(U.footer,"flex","items-center"),children:(0,u.jsxs)("div",{className:y(U["chat-input"],"flex","items-center","w-full"),children:[(0,u.jsx)(_.Z.TextArea,{value:$,onChange:function(C){return le(C.target.value)},rootClassName:U.input,onPressEnter:Te,placeholder:"\u8BF7\u63CF\u8FF0\u4F60\u7684\u5177\u4F53\u4E1A\u52A1\u9700\u6C42\uFF0C\u903B\u8F91\u5C3D\u91CF\u63CF\u8FF0\u8BE6\u7EC6",autoSize:{minRows:1,maxRows:3}}),(0,u.jsx)("img",{onClick:function(){return fe()},className:y(U["send-image"],"cursor-pointer"),src:R,alt:""})]})})]})},ge=re,v=e(73415),Ae=e(45019),ne=e(78078),he=e(28190),Se=e(34684),oe=e(75266),pe=e(59261),Oe=function(I){var ce=I.value,de=ce===void 0?"":ce,Q=I.className,o=I.onChange,K=I.height,ie=K===void 0?"400px":K,te=I.codeLanguage,z=I.minimap,Me=z===void 0?!1:z,$=I.form,le=I.codeOptimizeVisible,ae=le===void 0?!0:le,h=I.readOnly,ve=h===void 0?!1:h,xe=I.editorOptions,Re=(0,N.useState)(!1),ye=M()(Re,2),Le=ye[0],Be=ye[1],Ce=(0,N.useState)(!1),me=M()(Ce,2),je=me[0],fe=me[1],Te=(0,P.useModel)("model"),B=Te.testRun;if((0,N.useEffect)(function(){ne._m.config({monaco:oe,paths:{vs:"/vs"}});var W=function(){var T=A()(S()().mark(function V(){var se,Ne,Fe;return S()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.e(8124).then(e.bind(e,88124));case 3:return se=n.sent,Ne=se.conf,Fe=se.language,n.next=8,ne._m.init();case 8:oe.languages.register({id:"python"}),oe.languages.setMonarchTokensProvider("python",Fe),oe.languages.setLanguageConfiguration("python",Ne),window.MonacoEnvironment={getWorkerUrl:function(c,r){return r==="json"?"/vs/json.worker.js":r==="typescript"||r==="javascript"||r==="python"?"/vs/ts.worker.js":"/vs/editor.worker.js"}},Be(!0),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.error("Failed to initialize Monaco Editor:",n.t0);case 18:case"end":return n.stop()}},V,null,[[0,15]])}));return function(){return T.apply(this,arguments)}}();W()},[]),!Le)return(0,u.jsx)("div",{children:"Loading editor..."});var C=function(T){o&&o(T||"")},Y=function(T){var V=T||{},se=D()({selectOnLineNumbers:!0,folding:!0,automaticLayout:!0,minimap:{enabled:Me},readOnly:ve},V);return te.toLowerCase()==="json"?D()(D()({},se),{},{quickSuggestions:!1,suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",tabCompletion:"off",wordBasedSuggestions:!1,parameterHints:{enabled:!1},hover:{enabled:!1},snippetSuggestions:"none"}):se};return(0,u.jsxs)(u.Fragment,{children:[$?(0,u.jsx)(he.Z.Item,{noStyle:!0,name:$?.getFieldValue("codeLanguage")===Ae.vQ.JavaScript?"codeJavaScript":"codePython",children:(0,u.jsx)(ne.ZP,{className:Q,height:ie,language:te.toLowerCase(),theme:"vs-dark",value:de,onChange:C,options:Y(xe)})}):(0,u.jsx)(ne.ZP,{className:Q,height:ie,language:te.toLowerCase(),theme:"vs-dark",value:de,onChange:C,options:Y(xe)}),(0,u.jsxs)(pe.Z,{condition:ae&&!ve,children:[(0,u.jsx)(Se.Z,{shape:"circle",type:"primary",style:{insetInlineEnd:94,display:B?"none":"block"},icon:(0,u.jsx)(v.jY,{}),tooltip:"\u4EE3\u7801\u52A9\u624B",onClick:function(){fe(!0)}}),(0,u.jsx)(ge,{title:"\u4EE3\u7801\u52A9\u624B",open:je,codeLanguage:te,onCancel:function(){fe(!1)},onReplace:function(T){if(T){var V=T;V.includes("```")&&(V=V.replace(/```/g,"")),o?.(V||""),fe(!1)}}})]})]})},H=Oe},97830:function(q,J,e){e.d(J,{fq:function(){return Ne},ZP:function(){return Fe}});var j=e(94581),D=e.n(j),d=e(75271),S={"markdown-container":"markdown-container___B4lMY","table-wrapper":"table-wrapper___gVSep","markdown-table":"markdown-table___tMbI9","markdown-image-container":"markdown-image-container___QvQqd",spin:"spin___sxYN7"},w=e(14100),A=e(23687),E={theme:"default",flowchart:{useMaxWidth:!0,htmlLabels:!0},sequence:{diagramMarginX:50,diagramMarginY:10},suppressErrorRendering:!1},M=(0,A.R4)({id:A.qM,rehypePlugin:[w.dV,{mermaidConfig:E}],components:{mermaidblock:w.rM}}),R=M,g=e(2601),O=e(13621),F=e(203),x=e(46703),_=e(90228),k=e.n(_),L=e(87999),N=e.n(L),P=e(26068),ee=e.n(P),U=e(48305),u=e.n(U),y=e(92122),re=e(77750),ge=e(39373),v=e(3642),Ae=e(57683),ne=e(64771),he=e(41249),Se=e(68108),oe=e(9504),pe=e(32699),Oe=e(56179),H={"xagi-nav-style2":"xagi-nav-style2___LR8qt",text:"text___GOSuV","page-container":"page-container___rB1Af","markdown-custom-process":"markdown-custom-process___XbvIR","process-header":"process-header___PbJv3","process-title":"process-title___D5O_C","process-controls":"process-controls___dihqk","status-completed":"status-completed___MeIxv",anticon:"anticon___IplOJ","status-running":"status-running___DB0Uo","loading-spinner":"loading-spinner___UooYw",spin:"spin___XLinb","status-error":"status-error___YZemo","control-btn":"control-btn___ufUOD","process-controls-actions":"process-controls-actions___qY3sV","process-content":"process-content___ntUHU","default-content":"default-content___IvKuJ"},Ee=e(34204),I=e(15470),ce=e(45019),de=e(14719),Q={"see-detail-modal":"see-detail-modal___O4Htz","see-detail-header":"see-detail-header___ckdmQ","see-detail-header-title":"see-detail-header-title___aaWbf","see-detail-header-actions":"see-detail-header-actions___Kj3tI","see-detail-content":"see-detail-content___K7JsV"},o=e(52676),K=D().bind(Q),ie=function(n){var t=n.visible,c=n.onClose,r=n.data,a=n.title;return!r||!t?null:(0,o.jsx)(de.Z,{open:t,onCancel:c,footer:null,width:800,className:K(Q["see-detail-modal"]),destroyOnHidden:!0,title:(0,o.jsxs)("div",{className:K(Q["see-detail-header"]),children:[(0,o.jsx)("div",{className:K(Q["see-detail-header-title"]),children:a}),(0,o.jsx)("div",{className:K(Q["see-detail-header-actions"]),children:(0,o.jsx)(I.Z,{data:r,jsonSpace:2,tooltipTitle:"\u590D\u5236\u8BE6\u60C5\u6570\u636E",successMessage:"\u8BE6\u60C5\u6570\u636E\u5DF2\u590D\u5236",errorMessage:"\u8BE6\u60C5\u6570\u636E\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"})})]}),children:(0,o.jsx)("div",{className:K(Q["see-detail-content"]),children:(0,o.jsx)(Ee.Z,{height:"400px",codeLanguage:ce.vQ.JSON,value:JSON.stringify(r,null,2),codeOptimizeVisible:!1,minimap:!1,readOnly:!0,editorOptions:{wordWrap:"bounded",wrappingStrategy:"advanced",wrappingIndent:"indent",scrollBeyondLastLine:!1,minimap:{enabled:!1}}})})})},te=ie,z=D().bind(H);function Me(i){var n=(0,Oe.useModel)("chat"),t=n.getProcessingById,c=n.processingList,r=(0,d.useState)(null),a=u()(r,2),s=a[0],p=a[1],f=(0,d.useState)(ee()(ee()({},i),{},{result:""})),l=u()(f,2),m=l[0],Z=l[1],G=(0,d.useState)(!1),X=u()(G,2),ue=X[0],Pe=X[1];(0,d.useEffect)(function(){var b=t(m.executeId);b&&(b?.status!==m.status||!(0,pe.isEqual)(b.result,m.result))&&Z(b)},[c,m.executeId]);var ke=(0,d.useCallback)(function(){switch(m.status){case y.Xk.FINISHED:return(0,o.jsxs)("div",{className:z(H["status-completed"]),children:[(0,o.jsx)(v.Z,{}),"\u5DF2\u5B8C\u6210"]});case y.Xk.EXECUTING:return(0,o.jsxs)("div",{className:z(H["status-running"]),children:[(0,o.jsx)("div",{className:z(H["loading-spinner"])}),"\u8FD0\u884C\u4E2D"]});case y.Xk.FAILED:return(0,o.jsx)("div",{className:z(H["status-error"]),children:"\u274C \u9519\u8BEF"});default:return null}},[m.status]),Ue=(0,d.useCallback)(N()(k()().mark(function b(){var De;return k()().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(s){Ie.next=3;break}return he.ZP.error("\u6682\u65E0\u6570\u636E"),Ie.abrupt("return");case 3:return De=JSON.stringify(s,null,2),Ie.next=6,(0,re.TE)(De,void 0,!0);case 6:case"end":return Ie.stop()}},b)})),[s]),Ve=(0,d.useCallback)(function(b){if(!b)return null;var De=(0,ge.Xh)(b);return{params:De.input||{},response:De.data||null}},[]);(0,d.useEffect)(function(){if(m.executeId&&(m.status===y.Xk.FINISHED||m.status===y.Xk.FAILED)){var b=Ve(m.result);if(s&&(0,pe.isEqual)(b,s))return;p(b)}},[m.executeId,m.status,m.result]);var Ze=(0,d.useMemo)(function(){return!(s&&(m.status===y.Xk.FINISHED||m.status===y.Xk.FAILED))||!1},[m.status,s]),He=(0,d.useCallback)(function(){if(!s){he.ZP.error("\u6682\u65E0\u6570\u636E");return}Pe(!0)},[s]);return m.executeId?(0,o.jsxs)("div",{className:z(H["markdown-custom-process"]),"data-key":i.dataKey,children:[(0,o.jsxs)("div",{className:z(H["process-header"]),children:[(0,o.jsx)("div",{className:z(H["process-title"]),children:m.name||"\u6682\u65E0\u540D\u79F0"}),(0,o.jsxs)("div",{className:z(H["process-controls"]),children:[ke(),(0,o.jsxs)("div",{className:z(H["process-controls-actions"]),children:[(0,o.jsx)(Se.Z,{title:"\u67E5\u770B\u8BE6\u60C5",children:(0,o.jsx)(oe.ZP,{type:"text",disabled:Ze,icon:(0,o.jsx)(Ae.Z,{}),onClick:He})}),(0,o.jsx)(Se.Z,{title:"\u590D\u5236",children:(0,o.jsx)(oe.ZP,{type:"text",icon:(0,o.jsx)(ne.Z,{}),disabled:Ze,onClick:Ue})})]})]})]}),(0,o.jsx)(te,{title:m.name||"\u6682\u65E0\u540D\u79F0",visible:ue,onClose:function(){return Pe(!1)},data:s},m.executeId)]},i.dataKey):null}var $=(0,d.memo)(Me,function(i,n){return i.executeId===n.executeId&&i.status===n.status}),le=e(94484),ae=e(73415),h=(0,d.memo)(function(i){var n=i.src,t=i.containerClassNames,c=i.containerStyles,r=i.styles,a=i.alt,s=a===void 0?"":a,p=i.dataKey,f=(0,d.useState)(!1),l=u()(f,2),m=l[0],Z=l[1],G=(0,d.useCallback)(function(){},[]),X=(0,d.useMemo)(function(){if(t)return Array.isArray(t)?t.join(" "):t},[t]);return(0,o.jsx)("span",{"data-key":p,className:X||S["image-container"],style:ee()(ee()({},c),{},{display:"inline-block",width:"100%"}),onClick:function(){Z(!0)},children:(0,o.jsx)(le.Z,{src:n,fallback:ae.Pc,onError:G,style:r,alt:s,preview:m?{visible:m,src:n,onVisibleChange:Z}:!1})},p)},function(i,n){return i.src===n.src}),ve=h,xe=e(335),Re=e.n(xe),ye=e(31759),Le=e.n(ye),Be=e(15558),Ce=e.n(Be),me=function(n){try{var t="",c=function r(a){var s;return typeof a=="string"?a:typeof a=="number"?String(a):Array.isArray(a)?a.map(r).join(""):a!=null&&(s=a.props)!==null&&s!==void 0&&s.children?r(a.props.children):""};return t=c(n),t.replace(/\s+/g," ").trim()}catch(r){return console.warn("\u63D0\u53D6\u8868\u683C\u5355\u5143\u683C\u5185\u5BB9\u5931\u8D25:",r),""}},je=function(n){try{var t,c=[],r=function a(s){if(Array.isArray(s))s.forEach(function(f){var l;if(f?.type==="td"||f?.type==="th"){var m=me(f);c.push(m)}else f!=null&&(l=f.props)!==null&&l!==void 0&&l.children&&a(f.props.children)});else if(s?.type==="td"||s?.type==="th"){var p=me(s);c.push(p)}};return n!=null&&(t=n.props)!==null&&t!==void 0&&t.children?r(n.props.children):n!=null&&n.children&&r(n.children),c.length>0?"|"+c.map(function(a){return" ".concat(a.trim()," ")}).join("|")+"|":""}catch(a){return console.warn("\u63D0\u53D6\u8868\u683C\u884C\u5185\u5BB9\u5931\u8D25:",a),""}},fe=function(n){try{var t,c=[];if(n!=null&&(t=n.props)!==null&&t!==void 0&&t.children){var r=n.props.children;if(Array.isArray(r))r.forEach(function(s){if(s?.type==="tr"){var p=je(s);p&&c.push(p)}});else if(r?.type==="tr"){var a=je(r);a&&c.push(a)}}return c}catch(s){return console.warn("\u63D0\u53D6\u8868\u683C\u533A\u57DF\u5185\u5BB9\u5931\u8D25:",s),[]}},Te=function i(n){try{if(typeof n=="string")return n;if(Array.isArray(n)){var t=[],c=!1;if(n.forEach(function(l){var m;if(l?.type==="thead"){var Z=fe(l);t.push.apply(t,Ce()(Z)),c=!0}else if(l?.type==="tbody"){var G=fe(l);t.push.apply(t,Ce()(G))}else if(l?.type==="tr"){var X=je(l);X&&t.push(X)}else if(l!=null&&(m=l.props)!==null&&m!==void 0&&m.children){var ue=i(l.props.children);ue&&t.push(ue)}}),t.length>0){var r=t.join(`
`);if(c&&t.length>1){var a=t[0];if(a){var s=(a.match(/\|/g)||[]).length-1,p="|"+"---|".repeat(s);return"".concat(r,`
`).concat(p)}}return r}}if(Le()(n)==="object"&&n!==null){var f=n?.props;if(f!=null&&f.children)return i(f.children)}return""}catch(l){return console.warn("\u63D0\u53D6\u8868\u683C\u5185\u5BB9\u5931\u8D25:",l),""}},B=[{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}];function C(i){return function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=n.length,r=t,a=Re()(i),s;try{for(a.s();!(s=a.n()).done;){var p=s.value,f=p.left,l=p.right,m=p.display;if(n.slice(r).startsWith(f)){for(var Z=r+f.length;Z<c&&!n.slice(Z).startsWith(l);)Z++;if(!(Z>=c)){var G=n.slice(r+f.length,Z),X=Z+l.length;return{formula:G,display:m,start:r,end:X,left:f,right:l,success:!0}}}}}catch(ue){a.e(ue)}finally{a.f()}return{formula:"",display:!1,start:0,end:0,left:"",right:"",success:!1}}}function Y(i){for(var n=B.filter(function(p){return!p.left.includes("$")&&!p.right.includes("$")}),t=C(n),c="",r=0;r<i.length;){var a=t(i,r);if(a.success){c+=i.slice(r,a.start);var s=a.display?"$$":"$";c+="".concat(s).concat(a.formula).concat(s),r=a.end}else c+=i[r],r++}return c}var W=D().bind(S),T=function(){return(0,A.R4)({rehypePlugin:[F.Z,x.Z],components:{"markdown-custom-process":function(n){var t=n.node,c=n.type,r=n.status,a=n.executeid,s=n.name,p=t?.position||{},f=p.end.offset,l=p.start.offset,m="".concat(l,"-").concat(f,"-process");return(0,o.jsx)($,{dataKey:m,type:c,status:r,executeId:a,name:decodeURIComponent(s||"")},m)},table:function(n){var t=n.children,c=n.node,r=(0,g.ls)(),a=r.theme,s=r.codeBlock,p=s===void 0?{}:s,f=p.headerActions,l=f===void 0?!1:f,m=c?.position||{},Z=m.end.offset,G=m.start.offset,X="".concat(G,"-").concat(Z,"-list"),ue=Te(t);return(0,o.jsx)("div",{"data-key":X,className:S["table-wrapper"],style:{display:"block"},children:(0,o.jsxs)("div",{className:"md-code-block md-code-block-".concat(a),children:[l&&(0,o.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,o.jsx)("div",{className:"md-code-block-banner md-code-block-banner-lite",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"md-code-block-language",children:"\u8868\u683C"}),(0,o.jsx)(g.GR,{language:"markdown",codeContent:ue})]})})}),(0,o.jsx)("div",{className:"md-code-block-content scrollbar",children:(0,o.jsx)("table",{className:W(S["markdown-table"]),children:t})})]})},X)},img:function(n){var t=n.src,c=n.alt,r=n.title,a=n.node;if(!t)return null;var s=a?.position||{},p=s.end.offset,f=s.start.offset,l="".concat(f,"-").concat(p,"-img");return(0,o.jsx)(ve,{dataKey:l,containerClassNames:S["markdown-image-container"],src:t,alt:c,title:r},l)}},id:Symbol("custom-plugin"),type:"custom"})},V=D().bind(S),se=(0,d.memo)(function(i){var n=i.id,t=n===void 0?"":n,c=i.className,r=i.markdownRef,a=i.headerActions,s=a===void 0?!0:a,p=i.disableTyping,f=p===void 0?!0:p,l=i.theme,m=l===void 0?"light":l,Z=(0,d.useRef)(null),G=(0,d.useMemo)(function(){return[R,A.wg,T()]},[]),X=(0,d.useMemo)(function(){return E},[]);return(0,o.jsx)("div",{ref:Z,id:"".concat(t),"data-key":"".concat(t),className:V(S["markdown-container"],c),children:(0,o.jsx)(g.iV,{mermaidConfig:X,children:(0,o.jsx)(g.Hh,{ref:r,timerType:"requestAnimationFrame",interval:30,plugins:G,codeBlock:{headerActions:s},theme:m,math:{splitSymbol:"bracket",replaceMathBracket:Y},disableTyping:f})})},"".concat(t))},function(i,n){return i.id===n.id}),Ne=(0,d.memo)(function(i){var n=i.id,t=n===void 0?"":n,c=i.className,r=c===void 0?"":c,a=i.children,s=i.theme,p=s===void 0?"light":s,f=(0,d.useMemo)(function(){return[A.wg,T()]},[]);return(0,o.jsx)("div",{id:"".concat(t),"data-key":"".concat(t),className:V(S["markdown-container"],r),children:(0,o.jsx)(g.iV,{children:(0,o.jsx)(g.ZP,{interval:30,timerType:"requestAnimationFrame",disableTyping:!0,plugins:f,codeBlock:{headerActions:!1},theme:p,math:{splitSymbol:"bracket",replaceMathBracket:Y},children:a})})},"".concat(t))},function(i,n){return i.id===n.id&&i.theme===n.theme}),Fe=se},91268:function(q,J,e){e.d(J,{Z:function(){return w}});var j=e(75271),D=e(92448),d=100,S=function(E){setTimeout(function(){E()},d)};function w(A){var E=A.answer,M=A.thinking,R=A.id,g=(0,j.useRef)(null),O=(0,j.useRef)(R?String(R):(0,D.Z)()),F=(0,j.useRef)({thinking:0,answer:0});return(0,j.useEffect)(function(){S(function(){if(E){var x,_=E.slice(F.current.answer);F.current.answer=E.length,(x=g.current)===null||x===void 0||x.push(_,"answer")}})},[E]),(0,j.useEffect)(function(){S(function(){if(M){var x,_=M.slice(F.current.thinking);F.current.thinking=M.length,(x=g.current)===null||x===void 0||x.push(_,"thinking")}})},[M]),(0,j.useEffect)(function(){R&&(O.current=String(R))},[R]),(0,j.useEffect)(function(){return function(){var x;(x=g.current)===null||x===void 0||x.clear(),F.current={thinking:0,answer:0},O.current=""}},[]),{markdownRef:g,messageIdRef:O}}},63136:function(q,J,e){e.d(J,{L:function(){return D},U:function(){return j}});var j=function(d){return d.WORKFLOW_LLM_NODE="WORKFLOW_LLM_NODE",d.AGENT="AGENT",d}({}),D=function(d){return d.prompt="prompt",d.code="code",d.sql="sql",d}({})},65774:function(q,J,e){q.exports=e.p+"static/doc_image.5415f2c1.jpg"},35044:function(q){q.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAH1SURBVEiJvZaxbtNQFIb///q67YDUDAwMDJHqoQ/A2KE3UCkSCwMvgBBTB54A0ZFKIBUhBAxIvEEHhhIHeh+AB2BB6sJQqUtGGtf+WRrHVZI6dm3+6crnHH86v3TuPRwMvj8CzAcSVtL7lRVz4JwboSUxjo/PANwufBtJetsWmHF8/AvA5pxYK2BD8tuCWIfkyyTRyWDwY89732kEmKbpoCSnUTC997eSRGcA1pasGZF8bS3eOOf+VgYCwHDovaTtKoUSTkm+CkN8qgI2AJBlWZmtMyJxB9DBeKyTOPbPvfdLOUQAiGN/D9DPqtCilu2Yk8OceWwFbArsReNRSWVW5x0Oh35Lwi6gLolIunm3QN7xXhjis3PugosSvfedJEFXSiOAEWk2SHUlbAK4W4P9m0yfLAReJ++9HY/RJ/W1YukfU54zV9YYBXUKF3Z4eOg76+vayDJGWYYugAhQJCEi61rKqaVHR8PtILC7gC5/jkYuaxKnkl6EofninLuwk0AQ2KeAHjcBmYDSVPurq+ajc718Hu00Rf2mQTs7vZnBt0B+td1o7spAV4AA7rcNugIk0ZfaBeV1dR5gSfuXu07lB9ien6dbxphlYIWlqld7qbLGBA+Ba/1sBJQDAT34H6ACcOYZagWUAyU+I/UOwNp01W8eNNE/wcEU7Dx0xUMAAAAASUVORK5CYII="}}]);})();
