"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[490],{57625:function(G,U,e){e.d(U,{Z:function(){return I}});var j=e(65774),F=e(94581),d=e.n(F),E=e(75271),Y={"files-container":"files-container___Ji5El","file-box":"file-box___BRhVF"},A=e(52676),M=d().bind(Y),R=function(T){var b=T.files;return(0,A.jsx)("div",{className:M(Y["files-container"]),children:b?.map(function(x){return(0,A.jsxs)("div",{className:M(Y["file-box"],"flex","items-center"),children:[(0,A.jsx)("img",{src:x.mimeType.includes("image/")?x.fileUrl:j,alt:""}),(0,A.jsx)("div",{className:M("flex-1","overflow-hide"),children:(0,A.jsx)("h4",{className:M("text-ellipsis"),children:x.fileName})})]},x.fileKey)})})},I=R},30746:function(G,U,e){e.d(U,{Z:function(){return x}});var j=e(92122),F=e(10822),d=e(24573),E=e(13143),Y=e(63876),A=e(94581),M=e.n(A),R=e(75271),I={"xagi-nav-style2":"xagi-nav-style2___Omzza",text:"text___XEmsz","page-container":"page-container___ewoL2","run-success":"run-success___PpO4f","status-name":"status-name___WZ9ni",icon:"icon___H_CtF",successColor:"successColor___tjHA6","pop-content":"pop-content___cUwx3",row:"row___ajvPI",summary:"summary___QUk2k"},g=e(52676),T=M().bind(I),b=function(K){var N=K.messageInfo,O=N.finalResult,B=N.processingList,fe=(0,R.useMemo)(function(){return O?((O?.endTime-O?.startTime)/1e3).toFixed(1):0},[O]),D=function(re,ge){var c=re-ge;return c<1e3?"".concat(c,"ms"):"".concat((c/1e3).toFixed(1),"s")},m=(0,R.useMemo)(function(){var y=B?.length||0;return y>0?B?.[y-1]:null},[B]);return(0,g.jsx)(Y.Z,{placement:"bottomLeft",styles:{body:{padding:0}},content:(0,g.jsxs)("div",{className:T(I["pop-content"]),children:[B?.map(function(y,re){return y.status!==j.Xk.EXECUTING&&(0,g.jsxs)("div",{className:T(I.row,"flex","items-center"),children:[(0,g.jsx)(F.Z,{}),(0,g.jsx)("span",{className:T("flex-1","text-ellipsis"),children:"\u5DF2\u8C03\u7528 ".concat(y.name)}),(0,g.jsx)("span",{children:D(y.result.endTime,y.result.startTime)})]},re)}),(0,g.jsx)("span",{className:T(I.summary),children:"\u8FD0\u884C\u5B8C\u6BD5 ".concat(fe,"s")})]}),arrow:!1,trigger:"hover",children:(0,g.jsx)("span",{className:T("cursor-pointer",I["run-success"]),children:N?.status===j.ge.Loading||N?.status===j.ge.Incomplete?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z,{className:T(I.successColor)}),m&&(0,g.jsxs)("span",{className:T(I["status-name"]),children:[m.status===j.Xk.EXECUTING?"\u6B63\u5728\u8C03\u7528 ":"\u5DF2\u8C03\u7528 ",m.name]})]}):N?.status===j.ge.Error?(0,g.jsx)("span",{children:"\u8FD0\u884C\u9519\u8BEF"}):(0,g.jsxs)("span",{children:["\u8FD0\u884C\u5B8C\u6BD5",(0,g.jsx)(E.Z,{className:T(I.icon)})]})})})},x=b},19979:function(G,U,e){e.d(U,{Z:function(){return fe}});var j=e(82092),F=e.n(j),d=e(57625),E=e(59261),Y=e(91268),A=e(64799),M=e(92122),R=e(45019),I=e(94581),g=e.n(I),T=e(75271),b=e(13383),x={container:"container___pzeXE",avatar:"avatar___QNC2R",author:"author___eO9xt","inner-container":"inner-container___MiyBz","think-content":"think-content___NYHs_","chat-content":"chat-content___voyQR"},ne=e(30746),K=e(52676),N=g().bind(x),O=function(m){switch(m){case R.vQ.JavaScript:return"js";case R.vQ.Python:return"python";case R.vQ.JSON:return"json";case R.vQ.Text:return"plaintext";default:return"plaintext"}},B=function(m){var y,re=m.className,ge=m.contentClassName,c=m.messageInfo,je=m.codeLanguage,te=je===void 0?R.vQ.Text:je,Ae=m.theme,Se=Ae===void 0?"light":Ae;console.log("codeLanguage",O(te),c);var ie=(0,T.useCallback)(function(Ee){var L=O(te);return L==="plaintext"?Ee:Ee.replace(/```/,"```".concat(L))},[te]),pe=(0,Y.Z)({answer:ie(c?.text||""),thinking:c?.think||"",id:c?.id||""}),Le=pe.markdownRef,W=pe.messageIdRef;return(0,K.jsx)("div",{className:N(x.container,"flex",re),children:(0,K.jsxs)("div",{className:N("flex-1"),children:[!!(c!=null&&(y=c.attachments)!==null&&y!==void 0&&y.length)&&(0,K.jsx)(d.Z,{files:c?.attachments}),(0,K.jsxs)(E.Z,{condition:c?.role!==A.hZ.USER,children:[c.status!==M.ge.Complete&&(0,K.jsx)(E.Z,{condition:!!(c!=null&&c.status),children:(0,K.jsx)(ne.Z,{messageInfo:c})}),(!!(c!=null&&c.think)||!!(c!=null&&c.text))&&(0,K.jsx)("div",{className:N(x["inner-container"],ge),children:(0,K.jsx)("div",{className:N(x["chat-content"],"radius-6","w-full",F()({},x.typing,c.status===M.ge.Incomplete||c.status===M.ge.Loading)),children:(0,K.jsx)(b.ZP,{id:"".concat(W.current),headerActions:!1,markdownRef:Le,theme:Se},"".concat(W.current))})})]})]})})},fe=B},34204:function(G,U,e){e.d(U,{Z:function(){return W}});var j=e(26068),F=e.n(j),d=e(90228),E=e.n(d),Y=e(87999),A=e.n(Y),M=e(48305),R=e.n(M),I=e(35044),g=e(19979),T=e(63136),b=e(14719),x=e(9504),ne=e(63619),K=e(94581),N=e.n(K),O=e(75271),B=e(87453),fe=e(92448),D={"xagi-nav-style2":"xagi-nav-style2___L67Dx",text:"text___aDdRi","page-container":"page-container___MncNy",btn:"btn___JOPmv","chat-wrapper":"chat-wrapper___PS6Tu","replace-btn":"replace-btn___AEijv",footer:"footer___MV0En","code-optimize-view":"code-optimize-view___XMSmw","chat-input":"chat-input___wgxG5",input:"input___WoXKg","icon-box":"icon-box___cHWvw","send-image":"send-image___kjNJy"},m=e(52676),y=N().bind(D),re=function(L){var ue,de,q=L.title,r=L.open,J=L.onCancel,oe=L.onReplace,V=L.codeLanguage,Q=(0,O.useState)(""),Me=R()(Q,2),_=Me[0],le=Me[1],ae=(0,B.useModel)("assistantOptimize"),p=ae.messageList,ce=ae.setMessageList,he=ae.onMessageSend,Re=ae.messageViewRef,xe=ae.allowAutoScrollRef,ye=ae.resetInit,Ie=(0,O.useState)(""),ve=R()(Ie,2),me=ve[0],Pe=ve[1];(0,O.useEffect)(function(){return Pe((0,fe.Z)()),function(){ye()}},[]),(0,O.useEffect)(function(){var P=Re.current;if(P){var C=function(){var w=P.scrollTop,k=P.scrollHeight,z=P.clientHeight;w+z<k?xe.current=!1:xe.current=!0};return P.addEventListener("scroll",C),function(){P.removeEventListener("scroll",C)}}},[]);var Ce=function(){var P=A()(E()().mark(function C(){var $;return E()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:ce([]),_&&(le(""),$={requestId:me,prompt:_,codeLanguage:V},he($,T.L.code));case 2:case"end":return k.stop()}},C)}));return function(){return P.apply(this,arguments)}}(),Te=function(C){C.preventDefault();var $=C.target,w=$.value,k=$.selectionStart,z=$.selectionEnd;if(C.nativeEvent.keyCode===13&&(C.nativeEvent.shiftKey||C.nativeEvent.ctrlKey)){var se=w.slice(0,k)+`
`+w.slice(z);le(se)}else if(C.nativeEvent.keyCode===13&&w.trim()){var t={requestId:me,prompt:_,codeLanguage:V};he(t,T.L.code),le("")}};return(0,m.jsxs)(b.Z,{title:q,open:r,onCancel:function(C){ce([]),J?.(C)},maskClosable:!1,footer:null,children:[(0,m.jsx)("div",{ref:Re,className:y(D["chat-wrapper"],"flex-1"),children:p?.length>0?(0,m.jsx)(m.Fragment,{children:p?.map(function(P,C){return(0,m.jsx)(g.Z,{ifShowReplace:!0,onReplace:oe,theme:"dark",codeLanguage:V,messageInfo:P,contentClassName:y(D["code-optimize-view"])},C)})}):(0,m.jsx)("div",{})}),p?.length>0?(0,m.jsxs)("div",{className:y("flex"),children:[(0,m.jsx)(x.ZP,{className:y(D["replace-btn"],D.btn),loading:(p==null||(ue=p[p?.length-1])===null||ue===void 0?void 0:ue.status)!=="complete",disabled:(p==null||(de=p[p?.length-1])===null||de===void 0?void 0:de.status)!=="complete",onClick:function(){var C;return oe?.(p==null||(C=p[p?.length-1])===null||C===void 0?void 0:C.text)},children:"\u66FF\u6362"}),(0,m.jsx)(x.ZP,{onClick:function(C){ce([]),J?.(C)},className:y(D.btn,"ml-10 "),children:"\u9000\u51FA"})]}):(0,m.jsx)("div",{}),(0,m.jsx)("div",{className:y(D.footer,"flex","items-center"),children:(0,m.jsxs)("div",{className:y(D["chat-input"],"flex","items-center","w-full"),children:[(0,m.jsx)(ne.Z.TextArea,{value:_,onChange:function(C){return le(C.target.value)},rootClassName:D.input,onPressEnter:Te,placeholder:"\u8BF7\u63CF\u8FF0\u4F60\u7684\u5177\u4F53\u4E1A\u52A1\u9700\u6C42\uFF0C\u903B\u8F91\u5C3D\u91CF\u63CF\u8FF0\u8BE6\u7EC6",autoSize:{minRows:1,maxRows:3}}),(0,m.jsx)("img",{onClick:function(){return Ce()},className:y(D["send-image"],"cursor-pointer"),src:I,alt:""})]})})]})},ge=re,c=e(73415),je=e(45019),te=e(56101),Ae=e(28190),Se=e(34684),ie=e(8871),pe=e(59261),Le=function(L){var ue=L.value,de=ue===void 0?"":ue,q=L.className,r=L.onChange,J=L.height,oe=J===void 0?"400px":J,V=L.codeLanguage,Q=L.minimap,Me=Q===void 0?!1:Q,_=L.form,le=L.codeOptimizeVisible,ae=le===void 0?!0:le,p=L.readOnly,ce=p===void 0?!1:p,he=L.editorOptions,Re=(0,O.useState)(!1),xe=R()(Re,2),ye=xe[0],Ie=xe[1],ve=(0,O.useState)(!1),me=R()(ve,2),Pe=me[0],Ce=me[1],Te=(0,B.useModel)("model"),P=Te.testRun;if((0,O.useEffect)(function(){te._m.config({monaco:ie,paths:{vs:"/vs"}});var w=function(){var k=A()(E()().mark(function z(){var se,t,n;return E()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.e(1679).then(e.bind(e,61679));case 3:return se=i.sent,t=se.conf,n=se.language,i.next=8,te._m.init();case 8:ie.languages.register({id:"python"}),ie.languages.setMonarchTokensProvider("python",n),ie.languages.setLanguageConfiguration("python",t),window.MonacoEnvironment={getWorkerUrl:function(s,l){return l==="json"?"/vs/json.worker.js":l==="typescript"||l==="javascript"||l==="python"?"/vs/ts.worker.js":"/vs/editor.worker.js"}},Ie(!0),i.next=18;break;case 15:i.prev=15,i.t0=i.catch(0),console.error("Failed to initialize Monaco Editor:",i.t0);case 18:case"end":return i.stop()}},z,null,[[0,15]])}));return function(){return k.apply(this,arguments)}}();w()},[]),!ye)return(0,m.jsx)("div",{children:"Loading editor..."});var C=function(k){r&&r(k||"")},$=function(k){var z=k||{},se=F()({selectOnLineNumbers:!0,folding:!0,automaticLayout:!0,minimap:{enabled:Me},readOnly:ce},z);return V?.toLowerCase()==="json"?F()(F()({},se),{},{quickSuggestions:!1,suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",tabCompletion:"off",wordBasedSuggestions:!1,parameterHints:{enabled:!1},hover:{enabled:!1},snippetSuggestions:"none"}):se};return(0,m.jsxs)(m.Fragment,{children:[_?(0,m.jsx)(Ae.Z.Item,{noStyle:!0,name:_?.getFieldValue("codeLanguage")===je.vQ.JavaScript?"codeJavaScript":"codePython",children:(0,m.jsx)(te.ZP,{className:q,height:oe,language:V?.toLowerCase(),theme:"vs-dark",value:de,onChange:C,options:$(he)})}):(0,m.jsx)(te.ZP,{className:q,height:oe,language:V?.toLowerCase(),theme:"vs-dark",value:de,onChange:C,options:$(he)}),(0,m.jsxs)(pe.Z,{condition:ae&&!ce,children:[(0,m.jsx)(Se.Z,{shape:"circle",type:"primary",style:{insetInlineEnd:94,display:P?"none":"block"},icon:(0,m.jsx)(c.jY,{}),tooltip:"\u4EE3\u7801\u52A9\u624B",onClick:function(){Ce(!0)}}),(0,m.jsx)(ge,{title:"\u4EE3\u7801\u52A9\u624B",open:Pe,codeLanguage:V,onCancel:function(){Ce(!1)},onReplace:function(k){if(k){var z=k;z.includes("```")&&(z=z.replace(/```/g,"")),r?.(z||""),Ce(!1)}}})]})]})},W=Le},13383:function(G,U,e){e.d(U,{fq:function(){return z},ZP:function(){return se}});var j=e(94581),F=e.n(j),d=e(75271),E=e(30832),Y=e(14100),A=e(23687),M={theme:"default",flowchart:{useMaxWidth:!0,htmlLabels:!0},sequence:{diagramMarginX:50,diagramMarginY:10},suppressErrorRendering:!1},R=(0,A.R4)({id:A.qM,rehypePlugin:[Y.dV,{mermaidConfig:M}],components:{mermaidblock:Y.rM}}),I=R,g=e(2601),T=e(13621),b=e(29558),x=e(203),ne=e(46703),K=e(31759),N=e.n(K),O=e(26068),B=e.n(O),fe=e(48305),D=e.n(fe),m=e(64799),y=e(92122),re=e(39373),ge=e(3642),c=e(57683),je=e(67926),te=e(68659),Ae=e(41249),Se=e(68108),ie=e(9504),pe=e(32699),Le=e(87453),W={"xagi-nav-style2":"xagi-nav-style2___LR8qt",text:"text___GOSuV","page-container":"page-container___rB1Af","markdown-custom-process":"markdown-custom-process___XbvIR","process-header":"process-header___PbJv3","process-title":"process-title___D5O_C","process-controls":"process-controls___dihqk","status-completed":"status-completed___MeIxv",anticon:"anticon___IplOJ","status-running":"status-running___DB0Uo","loading-spinner":"loading-spinner___UooYw",spin:"spin___XLinb","status-error":"status-error___YZemo","control-btn":"control-btn___ufUOD","process-controls-actions":"process-controls-actions___qY3sV","process-content":"process-content___ntUHU","default-content":"default-content___IvKuJ"},Ee=e(34204),L=e(15470),ue=e(45019),de=e(14719),q={"see-detail-modal":"see-detail-modal___O4Htz","see-detail-header":"see-detail-header___ckdmQ","see-detail-header-title":"see-detail-header-title___aaWbf","see-detail-header-actions":"see-detail-header-actions___Kj3tI","see-detail-content":"see-detail-content___K7JsV"},r=e(52676),J=F().bind(q),oe=function(n){var a=n.visible,i=n.onClose,o=n.data,s=n.title;return!o||!a?null:(0,r.jsx)(de.Z,{open:a,onCancel:i,footer:null,width:800,className:J(q["see-detail-modal"]),destroyOnHidden:!0,title:(0,r.jsxs)("div",{className:J(q["see-detail-header"]),children:[(0,r.jsx)("div",{className:J(q["see-detail-header-title"]),children:s}),(0,r.jsx)("div",{className:J(q["see-detail-header-actions"]),children:(0,r.jsx)(L.Z,{data:o,jsonSpace:2,tooltipTitle:"\u590D\u5236\u8BE6\u60C5\u6570\u636E",successMessage:"\u8BE6\u60C5\u6570\u636E\u5DF2\u590D\u5236",errorMessage:"\u8BE6\u60C5\u6570\u636E\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"})})]}),children:(0,r.jsx)("div",{className:J(q["see-detail-content"]),children:(0,r.jsx)(Ee.Z,{height:"400px",codeLanguage:ue.vQ.JSON,value:JSON.stringify(o,null,2),codeOptimizeVisible:!1,minimap:!1,readOnly:!0,editorOptions:{wordWrap:"bounded",wrappingStrategy:"advanced",wrappingIndent:"indent",scrollBeyondLastLine:!1,minimap:{enabled:!1}}})})})},V=oe,Q=F().bind(W);function Me(t){var n=(0,Le.useModel)("chat"),a=n.getProcessingById,i=n.processingList,o=n.pagePreviewData,s=n.showPagePreview,l=n.agentPageConfig,h=(0,d.useState)(null),f=D()(h,2),u=f[0],S=f[1],Z=(0,d.useState)(B()(B()({},t),{},{result:""})),X=D()(Z,2),v=X[0],ee=X[1],be=(0,d.useState)(!1),De=D()(be,2),Ve=De[0],Ze=De[1];(0,d.useEffect)(function(){var H=a(v.executeId);H&&(H?.status!==v.status||!(0,pe.isEqual)(H.result,v.result))&&ee(H)},[i,v.executeId]);var we=(0,d.useCallback)(function(){switch(v.status){case y.Xk.FINISHED:return(0,r.jsxs)("div",{className:Q(W["status-completed"]),children:[(0,r.jsx)(ge.Z,{}),"\u5DF2\u5B8C\u6210"]});case y.Xk.EXECUTING:return(0,r.jsxs)("div",{className:Q(W["status-running"]),children:[(0,r.jsx)("div",{className:Q(W["loading-spinner"])}),"\u8FD0\u884C\u4E2D"]});case y.Xk.FAILED:return(0,r.jsx)("div",{className:Q(W["status-error"]),children:"\u274C \u9519\u8BEF"});default:return null}},[v.status]),Fe=(0,d.useCallback)(function(H){if(!H)return null;var Ne=(0,re.Xh)(H);return{params:Ne.input||{},response:Ne.data||null}},[]);(0,d.useEffect)(function(){if(v.executeId&&(v.status===y.Xk.FINISHED||v.status===y.Xk.FAILED)){var H=Fe(v.result);if(u&&(0,pe.isEqual)(H,u))return;S(H)}},[v.executeId,v.status,v.result,v.type,v.name,l.expandPageArea,s,Fe]);var ke=(0,d.useMemo)(function(){return!(u&&(v.status===y.Xk.FINISHED||v.status===y.Xk.FAILED))||!1},[v.status,u]),He=(0,d.useCallback)(function(){if(!u){Ae.ZP.error("\u6682\u65E0\u6570\u636E");return}Ze(!0)},[u]),Ke=(0,d.useMemo)(function(){return v.type===m.qR.Page},[v.type]),We=(0,d.useState)(!1),Ue=D()(We,2),Je=Ue[0],Be=Ue[1],ze=function(){var Ne=v.result;if(!(!Ne||N()(Ne)!=="object")){var Oe=Ne.input;if(Oe.uri_type==="Page"){var Ye={uri:Oe.uri,params:Oe.arguments||{},method:"",request_id:"",data_type:""};s(Ye)}if(Oe.uri_type==="Link"){var Qe=new URLSearchParams(Oe.arguments).toString(),$e="".concat(Oe.uri,"?").concat(Qe);window.open($e,"_blank")}}},Xe=(0,d.useCallback)(function(){if(Be(!1),o){s(null);return}ze()},[u,v,s,o]);return v.executeId?(0,r.jsxs)("div",{className:Q(W["markdown-custom-process"]),"data-key":t.dataKey,children:[(0,r.jsxs)("div",{className:Q(W["process-header"]),children:[(0,r.jsx)("div",{className:Q(W["process-title"]),children:v.name||"\u6682\u65E0\u540D\u79F0"}),(0,r.jsxs)("div",{className:Q(W["process-controls"]),children:[we(),(0,r.jsxs)("div",{className:Q(W["process-controls-actions"]),children:[(0,r.jsx)(Se.Z,{title:"\u67E5\u770B\u8BE6\u60C5",children:(0,r.jsx)(ie.ZP,{type:"text",disabled:ke,icon:(0,r.jsx)(c.Z,{}),onClick:He})}),Ke?(0,r.jsx)(Se.Z,{title:o?"\u5173\u95ED\u9884\u89C8":"\u9884\u89C8\u9875\u9762",open:Je,onOpenChange:Be,children:(0,r.jsx)(ie.ZP,{type:"text",disabled:ke,icon:o?(0,r.jsx)(je.Z,{}):(0,r.jsx)(te.Z,{}),onClick:Xe,onMouseEnter:function(){return Be(!0)},onMouseLeave:function(){return Be(!1)}})}):null]})]})]}),(0,r.jsx)(V,{title:v.name||"\u6682\u65E0\u540D\u79F0",visible:Ve,onClose:function(){return Ze(!1)},data:u},v.executeId)]},t.dataKey):null}var _=(0,d.memo)(Me,function(t,n){return t.executeId===n.executeId&&t.status===n.status}),le=e(94484),ae=e(73415),p=(0,d.memo)(function(t){var n=t.src,a=t.containerClassNames,i=t.containerStyles,o=t.styles,s=t.alt,l=s===void 0?"":s,h=t.dataKey,f=(0,d.useState)(!1),u=D()(f,2),S=u[0],Z=u[1],X=(0,d.useCallback)(function(){},[]),v=(0,d.useMemo)(function(){if(a)return Array.isArray(a)?a.join(" "):a},[a]);return(0,r.jsx)("span",{"data-key":h,className:v||E.Z["image-container"],style:B()(B()({},i),{},{display:"inline-block",width:"100%"}),onClick:function(){Z(!0)},children:(0,r.jsx)(le.Z,{src:n,fallback:ae.Pc,onError:X,style:o,alt:l,preview:S?{visible:S,src:n,onVisibleChange:Z}:!1})},h)},function(t,n){return t.src===n.src}),ce=p,he=e(335),Re=e.n(he),xe=e(15558),ye=e.n(xe),Ie=function(n){try{var a="",i=function o(s){var l;return typeof s=="string"?s:typeof s=="number"?String(s):Array.isArray(s)?s.map(o).join(""):s!=null&&(l=s.props)!==null&&l!==void 0&&l.children?o(s.props.children):""};return a=i(n),a.replace(/\s+/g," ").trim()}catch(o){return console.warn("\u63D0\u53D6\u8868\u683C\u5355\u5143\u683C\u5185\u5BB9\u5931\u8D25:",o),""}},ve=function(n){try{var a,i=[],o=function s(l){if(Array.isArray(l))l.forEach(function(f){var u;if(f?.type==="td"||f?.type==="th"){var S=Ie(f);i.push(S)}else f!=null&&(u=f.props)!==null&&u!==void 0&&u.children&&s(f.props.children)});else if(l?.type==="td"||l?.type==="th"){var h=Ie(l);i.push(h)}};return n!=null&&(a=n.props)!==null&&a!==void 0&&a.children?o(n.props.children):n!=null&&n.children&&o(n.children),i.length>0?"|"+i.map(function(s){return" ".concat(s.trim()," ")}).join("|")+"|":""}catch(s){return console.warn("\u63D0\u53D6\u8868\u683C\u884C\u5185\u5BB9\u5931\u8D25:",s),""}},me=function(n){try{var a,i=[];if(n!=null&&(a=n.props)!==null&&a!==void 0&&a.children){var o=n.props.children;if(Array.isArray(o))o.forEach(function(l){if(l?.type==="tr"){var h=ve(l);h&&i.push(h)}});else if(o?.type==="tr"){var s=ve(o);s&&i.push(s)}}return i}catch(l){return console.warn("\u63D0\u53D6\u8868\u683C\u533A\u57DF\u5185\u5BB9\u5931\u8D25:",l),[]}},Pe=function t(n){try{if(typeof n=="string")return n;if(Array.isArray(n)){var a=[],i=!1;if(n.forEach(function(u){var S;if(u?.type==="thead"){var Z=me(u);a.push.apply(a,ye()(Z)),i=!0}else if(u?.type==="tbody"){var X=me(u);a.push.apply(a,ye()(X))}else if(u?.type==="tr"){var v=ve(u);v&&a.push(v)}else if(u!=null&&(S=u.props)!==null&&S!==void 0&&S.children){var ee=t(u.props.children);ee&&a.push(ee)}}),a.length>0){if(i&&a.length>1){var o=a[0];if(o){var s=(o.match(/\|/g)||[]).length-1,l="|"+"---|".repeat(s),h=[a[0],l].concat(ye()(a.slice(1)));return h.join(`
`)}}return a.join(`
`)}}if(N()(n)==="object"&&n!==null){var f=n?.props;if(f!=null&&f.children)return t(f.children)}return""}catch(u){return console.warn("\u63D0\u53D6\u8868\u683C\u5185\u5BB9\u5931\u8D25:",u),""}},Ce=[{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}];function Te(t){return function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=n.length,o=a,s=Re()(t),l;try{for(s.s();!(l=s.n()).done;){var h=l.value,f=h.left,u=h.right,S=h.display;if(n.slice(o).startsWith(f)){for(var Z=o+f.length;Z<i&&!n.slice(Z).startsWith(u);)Z++;if(!(Z>=i)){var X=n.slice(o+f.length,Z),v=Z+u.length;return{formula:X,display:S,start:o,end:v,left:f,right:u,success:!0}}}}}catch(ee){s.e(ee)}finally{s.f()}return{formula:"",display:!1,start:0,end:0,left:"",right:"",success:!1}}}function P(t){for(var n=Ce.filter(function(h){return!h.left.includes("$")&&!h.right.includes("$")}),a=Te(n),i="",o=0;o<t.length;){var s=a(t,o);if(s.success){i+=t.slice(o,s.start);var l=s.display?"$$":"$";i+="".concat(l).concat(s.formula).concat(l),o=s.end}else i+=t[o],o++}return i}var C=F().bind(E.Z),$=function(){return(0,A.R4)({rehypePlugin:[x.Z,ne.Z],components:{"markdown-custom-process":function(n){var a=n.node,i=n.type,o=n.status,s=n.executeid,l=n.name,h=a?.position||{},f=h.end.offset,u=h.start.offset,S="".concat(u,"-").concat(f,"-process");return(0,r.jsx)(_,{dataKey:S,type:i,status:o,executeId:s,name:decodeURIComponent(l||"")},S)},table:function(n){var a=n.children,i=n.node,o=(0,g.ls)(),s=o.theme,l=o.codeBlock,h=l===void 0?{}:l,f=h.headerActions,u=f===void 0?!1:f,S=i?.position||{},Z=S.end.offset,X=S.start.offset,v="".concat(X,"-").concat(Z,"-list"),ee=Pe(a);return(0,r.jsx)("div",{"data-key":v,style:{display:"block"},children:(0,r.jsx)("div",{className:E.Z["table-wrapper"],children:(0,r.jsxs)("div",{className:"md-code-block md-code-block-".concat(s),children:[u&&(0,r.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,r.jsx)("div",{className:"md-code-block-banner md-code-block-banner-lite",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"md-code-block-language",children:"\u8868\u683C"}),(0,r.jsx)(g.GR,{language:"markdown",codeContent:ee})]})})}),(0,r.jsx)("div",{className:"md-code-block-content scrollbar",children:(0,r.jsx)("table",{className:C(E.Z["markdown-table"]),children:a})})]})})},v)},img:function(n){var a=n.src,i=n.alt,o=n.title,s=n.node;if(!a)return null;var l=s?.position||{},h=l.end.offset,f=l.start.offset,u="".concat(f,"-").concat(h,"-img");return(0,r.jsx)(ce,{dataKey:u,containerClassNames:E.Z["markdown-image-container"],src:a,alt:i,title:o},u)}},id:Symbol("custom-plugin"),type:"custom"})},w=F().bind(E.Z),k=(0,d.memo)(function(t){var n=t.id,a=n===void 0?"":n,i=t.className,o=t.markdownRef,s=t.headerActions,l=s===void 0?!0:s,h=t.disableTyping,f=h===void 0?!0:h,u=t.theme,S=u===void 0?"light":u,Z=(0,d.useRef)(null),X=(0,d.useMemo)(function(){return[I,A.wg,$()]},[]),v=(0,d.useMemo)(function(){return M},[]);return(0,r.jsx)("div",{ref:Z,id:"".concat(a),"data-key":"".concat(a),className:w(E.Z["markdown-container"],i),children:(0,r.jsx)(g.iV,{mermaidConfig:v,children:(0,r.jsx)(g.Hh,{ref:o,timerType:"requestAnimationFrame",interval:30,plugins:X,codeBlock:{headerActions:l},theme:S,math:{splitSymbol:"bracket",replaceMathBracket:P},disableTyping:f})})},"".concat(a))},function(t,n){return t.id===n.id}),z=(0,d.memo)(function(t){var n=t.id,a=n===void 0?"":n,i=t.className,o=i===void 0?"":i,s=t.children,l=t.theme,h=l===void 0?"light":l,f=t.disableTyping,u=f===void 0?!1:f,S=t.interval,Z=S===void 0?30:S,X=t.timerType,v=X===void 0?"requestAnimationFrame":X,ee=(0,d.useMemo)(function(){return[A.wg,$()]},[]);return(0,r.jsx)("div",{id:"".concat(a),"data-key":"".concat(a),className:w(E.Z["markdown-container"],o),children:(0,r.jsx)(g.iV,{children:(0,r.jsx)(g.ZP,{interval:Z,timerType:v,disableTyping:u,plugins:ee,codeBlock:{headerActions:!1},theme:h,math:{splitSymbol:"bracket",replaceMathBracket:P},children:s})})},"".concat(a))},function(t,n){return t.id===n.id&&t.theme===n.theme&&t.children===n.children&&t.disableTyping===n.disableTyping}),se=k},91268:function(G,U,e){e.d(U,{Z:function(){return Y}});var j=e(75271),F=e(92448),d=100,E=function(M){setTimeout(function(){M()},d)};function Y(A){var M=A.answer,R=A.thinking,I=A.id,g=(0,j.useRef)(null),T=(0,j.useRef)(I?String(I):(0,F.Z)()),b=(0,j.useRef)({thinking:0,answer:0});return(0,j.useEffect)(function(){E(function(){if(M){var x,ne=M.slice(b.current.answer);b.current.answer=M.length,(x=g.current)===null||x===void 0||x.push(ne,"answer")}})},[M]),(0,j.useEffect)(function(){E(function(){if(R){var x,ne=R.slice(b.current.thinking);b.current.thinking=R.length,(x=g.current)===null||x===void 0||x.push(ne,"thinking")}})},[R]),(0,j.useEffect)(function(){I&&(T.current=String(I))},[I]),(0,j.useEffect)(function(){return function(){var x;(x=g.current)===null||x===void 0||x.clear(),b.current={thinking:0,answer:0},T.current=""}},[]),{markdownRef:g,messageIdRef:T}}},63136:function(G,U,e){e.d(U,{L:function(){return F},U:function(){return j}});var j=function(d){return d.WORKFLOW_LLM_NODE="WORKFLOW_LLM_NODE",d.AGENT="AGENT",d}({}),F=function(d){return d.prompt="prompt",d.code="code",d.sql="sql",d}({})},29558:function(){},30832:function(G,U){U.Z={"markdown-container":"markdown-container___B4lMY","table-wrapper":"table-wrapper___gVSep","markdown-table":"markdown-table___tMbI9","markdown-image-container":"markdown-image-container___QvQqd",spin:"spin___sxYN7"}},65774:function(G,U,e){G.exports=e.p+"static/doc_image.5415f2c1.jpg"},35044:function(G){G.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAH1SURBVEiJvZaxbtNQFIb///q67YDUDAwMDJHqoQ/A2KE3UCkSCwMvgBBTB54A0ZFKIBUhBAxIvEEHhhIHeh+AB2BB6sJQqUtGGtf+WRrHVZI6dm3+6crnHH86v3TuPRwMvj8CzAcSVtL7lRVz4JwboSUxjo/PANwufBtJetsWmHF8/AvA5pxYK2BD8tuCWIfkyyTRyWDwY89732kEmKbpoCSnUTC997eSRGcA1pasGZF8bS3eOOf+VgYCwHDovaTtKoUSTkm+CkN8qgI2AJBlWZmtMyJxB9DBeKyTOPbPvfdLOUQAiGN/D9DPqtCilu2Yk8OceWwFbArsReNRSWVW5x0Oh35Lwi6gLolIunm3QN7xXhjis3PugosSvfedJEFXSiOAEWk2SHUlbAK4W4P9m0yfLAReJ++9HY/RJ/W1YukfU54zV9YYBXUKF3Z4eOg76+vayDJGWYYugAhQJCEi61rKqaVHR8PtILC7gC5/jkYuaxKnkl6EofninLuwk0AQ2KeAHjcBmYDSVPurq+ajc718Hu00Rf2mQTs7vZnBt0B+td1o7spAV4AA7rcNugIk0ZfaBeV1dR5gSfuXu07lB9ien6dbxphlYIWlqld7qbLGBA+Ba/1sBJQDAT34H6ACcOYZagWUAyU+I/UOwNp01W8eNNE/wcEU7Dx0xUMAAAAASUVORK5CYII="}}]);})();
