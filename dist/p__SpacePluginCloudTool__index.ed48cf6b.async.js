"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[6261,4195],{57625:function(Oe,le,e){e.d(le,{Z:function(){return I}});var H=e(65774),a=e(94581),n=e.n(a),m=e(75271),U={"files-container":"files-container___Ji5El","file-box":"file-box___BRhVF"},h=e(52676),b=n().bind(U),d=function(z){var Q=z.files;return(0,h.jsx)("div",{className:b(U["files-container"]),children:Q?.map(function(_){return(0,h.jsxs)("div",{className:b(U["file-box"],"flex","items-center"),children:[(0,h.jsx)("img",{src:_.mimeType.includes("image/")?_.fileUrl:H,alt:""}),(0,h.jsx)("div",{className:b("flex-1","overflow-hide"),children:(0,h.jsx)("h4",{className:b("text-ellipsis"),children:_.fileName})})]},_.fileKey)})})},I=d},30746:function(Oe,le,e){e.d(le,{Z:function(){return _}});var H=e(92122),a=e(10822),n=e(24573),m=e(13143),U=e(63876),h=e(94581),b=e.n(h),d=e(75271),I={"xagi-nav-style2":"xagi-nav-style2___Omzza",text:"text___XEmsz","page-container":"page-container___ewoL2","run-success":"run-success___PpO4f","status-name":"status-name___WZ9ni",icon:"icon___H_CtF",successColor:"successColor___tjHA6","pop-content":"pop-content___cUwx3",row:"row___ajvPI",summary:"summary___QUk2k"},D=e(52676),z=b().bind(I),Q=function(Y){var C=Y.messageInfo,J=C.finalResult,ee=C.processingList,me=(0,d.useMemo)(function(){return J?((J?.endTime-J?.startTime)/1e3).toFixed(1):0},[J]),Z=function(N,S){var i=N-S;return i<1e3?"".concat(i,"ms"):"".concat((i/1e3).toFixed(1),"s")},r=(0,d.useMemo)(function(){var F=ee?.length||0;return F>0?ee?.[F-1]:null},[ee]);return(0,D.jsx)(U.Z,{placement:"bottomLeft",styles:{body:{padding:0}},content:(0,D.jsxs)("div",{className:z(I["pop-content"]),children:[ee?.map(function(F,N){return F.status!==H.Xk.EXECUTING&&(0,D.jsxs)("div",{className:z(I.row,"flex","items-center"),children:[(0,D.jsx)(a.Z,{}),(0,D.jsx)("span",{className:z("flex-1","text-ellipsis"),children:"\u5DF2\u8C03\u7528 ".concat(F.name)}),(0,D.jsx)("span",{children:Z(F.result.endTime,F.result.startTime)})]},N)}),(0,D.jsx)("span",{className:z(I.summary),children:"\u8FD0\u884C\u5B8C\u6BD5 ".concat(me,"s")})]}),arrow:!1,trigger:"hover",children:(0,D.jsx)("span",{className:z("cursor-pointer",I["run-success"]),children:C?.status===H.ge.Loading||C?.status===H.ge.Incomplete?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(n.Z,{className:z(I.successColor)}),r&&(0,D.jsxs)("span",{className:z(I["status-name"]),children:[r.status===H.Xk.EXECUTING?"\u6B63\u5728\u8C03\u7528 ":"\u5DF2\u8C03\u7528 ",r.name]})]}):C?.status===H.ge.Error?(0,D.jsx)("span",{children:"\u8FD0\u884C\u9519\u8BEF"}):(0,D.jsxs)("span",{children:["\u8FD0\u884C\u5B8C\u6BD5",(0,D.jsx)(m.Z,{className:z(I.icon)})]})})})},_=Q},19979:function(Oe,le,e){e.d(le,{Z:function(){return me}});var H=e(82092),a=e.n(H),n=e(57625),m=e(59261),U=e(91268),h=e(64799),b=e(92122),d=e(45019),I=e(94581),D=e.n(I),z=e(75271),Q=e(97830),_={container:"container___pzeXE",avatar:"avatar___QNC2R",author:"author___eO9xt","inner-container":"inner-container___MiyBz","think-content":"think-content___NYHs_","chat-content":"chat-content___voyQR"},de=e(30746),Y=e(52676),C=D().bind(_),J=function(r){switch(r){case d.vQ.JavaScript:return"js";case d.vQ.Python:return"python";case d.vQ.JSON:return"json";case d.vQ.Text:return"plaintext";default:return"plaintext"}},ee=function(r){var F,N=r.className,S=r.contentClassName,i=r.messageInfo,Ee=r.codeLanguage,ue=Ee===void 0?d.vQ.Text:Ee,Te=r.theme,Ce=Te===void 0?"light":Te;console.log("codeLanguage",J(ue),i);var he=(0,z.useCallback)(function(K){var A=J(ue);return A==="plaintext"?K:K.replace(/```/,"```".concat(A))},[ue]),se=(0,U.Z)({answer:he(i?.text||""),thinking:i?.think||"",id:i?.id||""}),R=se.markdownRef,O=se.messageIdRef;return(0,Y.jsx)("div",{className:C(_.container,"flex",N),children:(0,Y.jsxs)("div",{className:C("flex-1"),children:[!!(i!=null&&(F=i.attachments)!==null&&F!==void 0&&F.length)&&(0,Y.jsx)(n.Z,{files:i?.attachments}),(0,Y.jsxs)(m.Z,{condition:i?.role!==h.hZ.USER,children:[i.status!==b.ge.Complete&&(0,Y.jsx)(m.Z,{condition:!!(i!=null&&i.status),children:(0,Y.jsx)(de.Z,{messageInfo:i})}),(!!(i!=null&&i.think)||!!(i!=null&&i.text))&&(0,Y.jsx)("div",{className:C(_["inner-container"],S),children:(0,Y.jsx)("div",{className:C(_["chat-content"],"radius-6","w-full",a()({},_.typing,i.status===b.ge.Incomplete||i.status===b.ge.Loading)),children:(0,Y.jsx)(Q.ZP,{id:"".concat(O.current),headerActions:!1,markdownRef:R,theme:Ce},"".concat(O.current))})})]})]})})},me=ee},34204:function(Oe,le,e){e.d(le,{Z:function(){return O}});var H=e(26068),a=e.n(H),n=e(90228),m=e.n(n),U=e(87999),h=e.n(U),b=e(48305),d=e.n(b),I=e(35044),D=e(19979),z=e(63136),Q=e(14719),_=e(9504),de=e(63619),Y=e(94581),C=e.n(Y),J=e(75271),ee=e(56179),me=e(92448),Z={"xagi-nav-style2":"xagi-nav-style2___L67Dx",text:"text___aDdRi","page-container":"page-container___MncNy",btn:"btn___JOPmv","chat-wrapper":"chat-wrapper___PS6Tu","replace-btn":"replace-btn___AEijv",footer:"footer___MV0En","code-optimize-view":"code-optimize-view___XMSmw","chat-input":"chat-input___wgxG5",input:"input___WoXKg","icon-box":"icon-box___cHWvw","send-image":"send-image___kjNJy"},r=e(52676),F=C().bind(Z),N=function(A){var E,V,ae=A.title,s=A.open,X=A.onCancel,te=A.onReplace,k=A.codeLanguage,oe=(0,J.useState)(""),ye=d()(oe,2),w=ye[0],o=ye[1],G=(0,ee.useModel)("assistantOptimize"),p=G.messageList,pe=G.setMessageList,ce=G.onMessageSend,Pe=G.messageViewRef,be=G.allowAutoScrollRef,Le=G.resetInit,Ae=(0,J.useState)(""),De=d()(Ae,2),q=De[0],u=De[1];(0,J.useEffect)(function(){return u((0,me.Z)()),function(){Le()}},[]),(0,J.useEffect)(function(){var f=Pe.current;if(f){var g=function(){var ve=f.scrollTop,xe=f.scrollHeight,L=f.clientHeight;ve+L<xe?be.current=!1:be.current=!0};return f.addEventListener("scroll",g),function(){f.removeEventListener("scroll",g)}}},[]);var re=function(){var f=h()(m()().mark(function g(){var ne;return m()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:pe([]),w&&(o(""),ne={requestId:q,prompt:w,codeLanguage:k},ce(ne,z.L.code));case 2:case"end":return xe.stop()}},g)}));return function(){return f.apply(this,arguments)}}(),B=function(g){g.preventDefault();var ne=g.target,ve=ne.value,xe=ne.selectionStart,L=ne.selectionEnd;if(g.nativeEvent.keyCode===13&&(g.nativeEvent.shiftKey||g.nativeEvent.ctrlKey)){var Se=ve.slice(0,xe)+`
`+ve.slice(L);o(Se)}else if(g.nativeEvent.keyCode===13&&ve.trim()){var _e={requestId:q,prompt:w,codeLanguage:k};ce(_e,z.L.code),o("")}};return(0,r.jsxs)(Q.Z,{title:ae,open:s,onCancel:function(g){pe([]),X?.(g)},maskClosable:!1,footer:null,children:[(0,r.jsx)("div",{ref:Pe,className:F(Z["chat-wrapper"],"flex-1"),children:p?.length>0?(0,r.jsx)(r.Fragment,{children:p?.map(function(f,g){return(0,r.jsx)(D.Z,{ifShowReplace:!0,onReplace:te,theme:"dark",codeLanguage:k,messageInfo:f,contentClassName:F(Z["code-optimize-view"])},g)})}):(0,r.jsx)("div",{})}),p?.length>0?(0,r.jsxs)("div",{className:F("flex"),children:[(0,r.jsx)(_.ZP,{className:F(Z["replace-btn"],Z.btn),loading:(p==null||(E=p[p?.length-1])===null||E===void 0?void 0:E.status)!=="complete",disabled:(p==null||(V=p[p?.length-1])===null||V===void 0?void 0:V.status)!=="complete",onClick:function(){var g;return te?.(p==null||(g=p[p?.length-1])===null||g===void 0?void 0:g.text)},children:"\u66FF\u6362"}),(0,r.jsx)(_.ZP,{onClick:function(g){pe([]),X?.(g)},className:F(Z.btn,"ml-10 "),children:"\u9000\u51FA"})]}):(0,r.jsx)("div",{}),(0,r.jsx)("div",{className:F(Z.footer,"flex","items-center"),children:(0,r.jsxs)("div",{className:F(Z["chat-input"],"flex","items-center","w-full"),children:[(0,r.jsx)(de.Z.TextArea,{value:w,onChange:function(g){return o(g.target.value)},rootClassName:Z.input,onPressEnter:B,placeholder:"\u8BF7\u63CF\u8FF0\u4F60\u7684\u5177\u4F53\u4E1A\u52A1\u9700\u6C42\uFF0C\u903B\u8F91\u5C3D\u91CF\u63CF\u8FF0\u8BE6\u7EC6",autoSize:{minRows:1,maxRows:3}}),(0,r.jsx)("img",{onClick:function(){return re()},className:F(Z["send-image"],"cursor-pointer"),src:I,alt:""})]})})]})},S=N,i=e(73415),Ee=e(45019),ue=e(78078),Te=e(28190),Ce=e(34684),he=e(75266),se=e(59261),R=function(A){var E=A.value,V=E===void 0?"":E,ae=A.className,s=A.onChange,X=A.height,te=X===void 0?"400px":X,k=A.codeLanguage,oe=A.minimap,ye=oe===void 0?!1:oe,w=A.form,o=A.codeOptimizeVisible,G=o===void 0?!0:o,p=A.readOnly,pe=p===void 0?!1:p,ce=A.editorOptions,Pe=(0,J.useState)(!1),be=d()(Pe,2),Le=be[0],Ae=be[1],De=(0,J.useState)(!1),q=d()(De,2),u=q[0],re=q[1],B=(0,ee.useModel)("model"),f=B.testRun;if((0,J.useEffect)(function(){ue._m.config({monaco:he,paths:{vs:"/vs"}});var ve=function(){var xe=h()(m()().mark(function L(){var Se,_e,Be;return m()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,e.e(8124).then(e.bind(e,88124));case 3:return Se=l.sent,_e=Se.conf,Be=Se.language,l.next=8,ue._m.init();case 8:he.languages.register({id:"python"}),he.languages.setMonarchTokensProvider("python",Be),he.languages.setLanguageConfiguration("python",_e),window.MonacoEnvironment={getWorkerUrl:function(W,T){return T==="json"?"/vs/json.worker.js":T==="typescript"||T==="javascript"||T==="python"?"/vs/ts.worker.js":"/vs/editor.worker.js"}},Ae(!0),l.next=18;break;case 15:l.prev=15,l.t0=l.catch(0),console.error("Failed to initialize Monaco Editor:",l.t0);case 18:case"end":return l.stop()}},L,null,[[0,15]])}));return function(){return xe.apply(this,arguments)}}();ve()},[]),!Le)return(0,r.jsx)("div",{children:"Loading editor..."});var g=function(xe){s&&s(xe||"")},ne=function(xe){var L=xe||{},Se=a()({selectOnLineNumbers:!0,folding:!0,automaticLayout:!0,minimap:{enabled:ye},readOnly:pe},L);return k?.toLowerCase()==="json"?a()(a()({},Se),{},{quickSuggestions:!1,suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",tabCompletion:"off",wordBasedSuggestions:!1,parameterHints:{enabled:!1},hover:{enabled:!1},snippetSuggestions:"none"}):Se};return(0,r.jsxs)(r.Fragment,{children:[w?(0,r.jsx)(Te.Z.Item,{noStyle:!0,name:w?.getFieldValue("codeLanguage")===Ee.vQ.JavaScript?"codeJavaScript":"codePython",children:(0,r.jsx)(ue.ZP,{className:ae,height:te,language:k?.toLowerCase(),theme:"vs-dark",value:V,onChange:g,options:ne(ce)})}):(0,r.jsx)(ue.ZP,{className:ae,height:te,language:k?.toLowerCase(),theme:"vs-dark",value:V,onChange:g,options:ne(ce)}),(0,r.jsxs)(se.Z,{condition:G&&!pe,children:[(0,r.jsx)(Ce.Z,{shape:"circle",type:"primary",style:{insetInlineEnd:94,display:f?"none":"block"},icon:(0,r.jsx)(i.jY,{}),tooltip:"\u4EE3\u7801\u52A9\u624B",onClick:function(){re(!0)}}),(0,r.jsx)(S,{title:"\u4EE3\u7801\u52A9\u624B",open:u,codeLanguage:k,onCancel:function(){re(!1)},onReplace:function(xe){if(xe){var L=xe;L.includes("```")&&(L=L.replace(/```/g,"")),s?.(L||""),re(!1)}}})]})]})},O=R},65173:function(Oe,le,e){var H=e(15558),a=e.n(H),n=e(48305),m=e.n(n),U=e(61884),h=e(44689),b=e(62237),d=e(63876),I=e(12758),D=e(29328),z=e(63619),Q=e(58176),_=e(75271),de=e(56179),Y=e(15457),C=e(52676),J=function(r){if(!r)return 0;for(var F=0,N=0;N<r.length;N++)/[\u4e00-\u9fa5\u3000-\u303f\uff00-\uffef]/.test(r[N])?F+=2:F+=1;return F},ee=function(r,F){if(!r)return"";for(var N=0,S="",i=0;i<r.length;i++){var Ee=r[i],ue=/[\u4e00-\u9fa5\u3000-\u303f\uff00-\uffef]/.test(Ee)?2:1;if(N+ue>F)break;S+=Ee,N+=ue}return S.length<r.length&&(S+="..."),S},me=function(r){var F=r.placeholder,N=r.form,S=r.fieldName,i=r.style,Ee=r.isDisabled,ue=Ee===void 0?!1:Ee,Te=r.referenceType,Ce=Te===void 0?"Reference":Te,he=r.isLoop,se=r.value,R=r.onChange,O=(0,de.useModel)("workflow"),K=O.referenceList,A=O.getValue,E=O.getLoopValue,V=O.setIsModified,ae=(0,_.useState)(""),s=m()(ae,2),X=s[0],te=s[1],k=(0,_.useState)([se||""]),oe=m()(k,2),ye=oe[0],w=oe[1],o=(0,_.useState)(300),G=m()(o,2),p=G[0],pe=G[1];(0,_.useEffect)(function(){var q=function(){var re=window.innerHeight,B=document.querySelector(".input-or-reference");if(B){var f=B.getBoundingClientRect(),g=re-f.top-20;pe(Math.min(Math.max(g,150),400))}};return q(),window.addEventListener("resize",q),window.addEventListener("scroll",q),function(){window.removeEventListener("resize",q),window.removeEventListener("scroll",q)}},[]);var ce=function(u,re){if(S&&N){var B=S.slice(0,-1);if(N.setFieldValue([].concat(a()(B),["bindValueType"]),re),re==="Reference"){var f,g=K==null||(f=K.argMap)===null||f===void 0||(f=f[u])===null||f===void 0?void 0:f.dataType;N.setFieldValue([].concat(a()(B),["dataType"]),g||"String"),N.setFieldValue(S,u);var ne=N.getFieldValue([].concat(a()(B),["name"]));(!ne||ue)&&N.setFieldValue([].concat(a()(B),["name"]),K.argMap[u].name)}else N.setFieldValue([].concat(a()(B),["dataType"]),"String"),N.setFieldValue(S,u)}V(!0)};(0,_.useEffect)(function(){if(S&&N){var q=N.getFieldValue(S),u=N.getFieldValue([].concat(a()(S.slice(0,-1)),["bindValueType"]));if(u==="Reference"){var re=q&&K.argMap[q];te(re?he?E(q):A(q):"")}else te("")}},[N?.getFieldsValue(),K.argMap]);var Pe=function(){ce("","Input"),te("")},be=function(u){return(0,C.jsxs)("div",{className:"tree-custom-title-style",children:[(0,C.jsx)("span",{title:"",children:u.name}),(0,C.jsx)(d.Z,{content:u.description||"\u6682\u65E0\u63CF\u8FF0",children:(0,C.jsx)(h.Z,{title:"",style:{marginLeft:"4px",fontSize:12}})}),(0,C.jsx)(I.Z,{color:"#C9CDD4",style:{marginLeft:"8px",fontSize:10,lineHeight:"14px"},children:u.dataType})]})},Le=function(u){!u||!u.length||(ce(u[0],"Reference"),te(A(u[0])),w(u))},Ae=function(u){if(u&&u.length){var re=!1;return u.map(function(B){var f=B?.outputArgs.some(function(g){var ne,ve;return(g==null||(ne=g.children)===null||ne===void 0?void 0:ne.length)&&(g==null||(ve=g.children)===null||ve===void 0?void 0:ve.length)>0});return{key:B.id,label:J(B.name)>16?ee(B.name,16):B.name,icon:(0,U.qM)(B.type),popupClassName:"inputOrReferencePopup",children:B.outputArgs?[{key:"".concat(B.id,"-tree-select"),label:(0,C.jsx)("div",{style:{paddingTop:12,paddingRight:12,paddingBottom:8},onClick:function(ne){re||(ne.stopPropagation(),ne.preventDefault())},children:(0,C.jsx)(D.Z,{onSelect:function(ne){Le(ne),re=!0},defaultExpandAll:!0,treeData:B.outputArgs,fieldNames:{title:"name",key:"key",children:"children"},titleRender:be,defaultSelectedKeys:ye,blockNode:!0,className:"custom-tree-style ".concat(f?"":"custom-tree-no-children-style"),style:{maxHeight:"".concat(p,"px"),overflow:"auto"}})})}]:void 0}})}else return[{key:"no-data",popupClassName:"inputOrReferencePopup",label:(0,C.jsx)("div",{style:{padding:8,color:"red"},children:"\u672A\u6DFB\u52A0\u4E0A\u7EA7\u8282\u70B9\u8FDE\u7EBF\u6216\u4E0A\u7EA7\u8282\u70B9\u65E0\u53C2\u6570"}),disabled:!0}]},De=function(){return Ae(he?K.innerPreviousNodes:K.previousNodes)};return(0,C.jsxs)("div",{className:"input-or-reference dis-sb",style:i,children:[Ce==="Reference"||Ce===null?X?(0,C.jsx)(I.Z,{closable:!0,onClose:Pe,className:"input-or-reference-tag text-ellipsis",color:"#C9CDD4",children:X.length>10?(0,C.jsx)(d.Z,{content:X,placement:"topRight",children:(0,C.jsx)("span",{className:"tag-text-style",children:X})}):(0,C.jsx)("span",{className:"tag-text-style",children:X})}):(0,C.jsx)(z.Z,{placeholder:F||"\u8BF7\u8F93\u5165\u6216\u5F15\u7528\u53C2\u6570",style:{marginRight:8},size:"small",disabled:ue,onChange:function(u){R?.(u.target.value),ce(u.target.value,"Input")}}):(0,C.jsx)(z.Z,{placeholder:F||"\u8BF7\u8F93\u5165\u6216\u5F15\u7528\u53C2\u6570",style:{marginRight:8},size:"small",disabled:ue,value:se,onChange:function(u){R?.(u.target.value),ce(u.target.value,"Input")}}),(0,C.jsx)(Q.Z,{menu:{items:De(),style:{maxHeight:328}},trigger:["click"],overlayStyle:{minWidth:200},placement:"bottomRight",children:(0,C.jsx)(b.Z,{style:{cursor:"pointer"},className:"input-reference-icon-style"})})]})};le.Z=me},6377:function(Oe,le,e){e.d(le,{Z:function(){return d}});var H=e(94581),a=e.n(H),n=e(75271),m={container:"container___dApW8",star:"star___pESlW"},U=e(52676),h=a().bind(m),b=function(D){var z=D.className,Q=D.label;return(0,U.jsxs)("span",{className:h(m.container,"flex",z),children:[(0,U.jsx)("span",{children:Q}),(0,U.jsx)("span",{className:h(m.star),children:"*"})]})},d=b},97830:function(Oe,le,e){e.d(le,{fq:function(){return _e},ZP:function(){return Be}});var H=e(94581),a=e.n(H),n=e(75271),m={"markdown-container":"markdown-container___B4lMY","table-wrapper":"table-wrapper___gVSep","markdown-table":"markdown-table___tMbI9","markdown-image-container":"markdown-image-container___QvQqd",spin:"spin___sxYN7"},U=e(14100),h=e(23687),b={theme:"default",flowchart:{useMaxWidth:!0,htmlLabels:!0},sequence:{diagramMarginX:50,diagramMarginY:10},suppressErrorRendering:!1},d=(0,h.R4)({id:h.qM,rehypePlugin:[U.dV,{mermaidConfig:b}],components:{mermaidblock:U.rM}}),I=d,D=e(2601),z=e(13621),Q=e(203),_=e(46703),de=e(90228),Y=e.n(de),C=e(87999),J=e.n(C),ee=e(26068),me=e.n(ee),Z=e(48305),r=e.n(Z),F=e(92122),N=e(77750),S=e(39373),i=e(3642),Ee=e(57683),ue=e(64771),Te=e(41249),Ce=e(68108),he=e(9504),se=e(32699),R=e(56179),O={"xagi-nav-style2":"xagi-nav-style2___LR8qt",text:"text___GOSuV","page-container":"page-container___rB1Af","markdown-custom-process":"markdown-custom-process___XbvIR","process-header":"process-header___PbJv3","process-title":"process-title___D5O_C","process-controls":"process-controls___dihqk","status-completed":"status-completed___MeIxv",anticon:"anticon___IplOJ","status-running":"status-running___DB0Uo","loading-spinner":"loading-spinner___UooYw",spin:"spin___XLinb","status-error":"status-error___YZemo","control-btn":"control-btn___ufUOD","process-controls-actions":"process-controls-actions___qY3sV","process-content":"process-content___ntUHU","default-content":"default-content___IvKuJ"},K=e(34204),A=e(15470),E=e(45019),V=e(14719),ae={"see-detail-modal":"see-detail-modal___O4Htz","see-detail-header":"see-detail-header___ckdmQ","see-detail-header-title":"see-detail-header-title___aaWbf","see-detail-header-actions":"see-detail-header-actions___Kj3tI","see-detail-content":"see-detail-content___K7JsV"},s=e(52676),X=a().bind(ae),te=function(l){var y=l.visible,W=l.onClose,T=l.data,v=l.title;return!T||!y?null:(0,s.jsx)(V.Z,{open:y,onCancel:W,footer:null,width:800,className:X(ae["see-detail-modal"]),destroyOnHidden:!0,title:(0,s.jsxs)("div",{className:X(ae["see-detail-header"]),children:[(0,s.jsx)("div",{className:X(ae["see-detail-header-title"]),children:v}),(0,s.jsx)("div",{className:X(ae["see-detail-header-actions"]),children:(0,s.jsx)(A.Z,{data:T,jsonSpace:2,tooltipTitle:"\u590D\u5236\u8BE6\u60C5\u6570\u636E",successMessage:"\u8BE6\u60C5\u6570\u636E\u5DF2\u590D\u5236",errorMessage:"\u8BE6\u60C5\u6570\u636E\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"})})]}),children:(0,s.jsx)("div",{className:X(ae["see-detail-content"]),children:(0,s.jsx)(K.Z,{height:"400px",codeLanguage:E.vQ.JSON,value:JSON.stringify(T,null,2),codeOptimizeVisible:!1,minimap:!1,readOnly:!0,editorOptions:{wordWrap:"bounded",wrappingStrategy:"advanced",wrappingIndent:"indent",scrollBeyondLastLine:!1,minimap:{enabled:!1}}})})})},k=te,oe=a().bind(O);function ye(M){var l=(0,R.useModel)("chat"),y=l.getProcessingById,W=l.processingList,T=(0,n.useState)(null),v=r()(T,2),t=v[0],c=v[1],x=(0,n.useState)(me()(me()({},M),{},{result:""})),j=r()(x,2),P=j[0],ge=j[1],Me=(0,n.useState)(!1),je=r()(Me,2),Fe=je[0],Ge=je[1];(0,n.useEffect)(function(){var Ne=y(P.executeId);Ne&&(Ne?.status!==P.status||!(0,se.isEqual)(Ne.result,P.result))&&ge(Ne)},[W,P.executeId]);var Ze=(0,n.useCallback)(function(){switch(P.status){case F.Xk.FINISHED:return(0,s.jsxs)("div",{className:oe(O["status-completed"]),children:[(0,s.jsx)(i.Z,{}),"\u5DF2\u5B8C\u6210"]});case F.Xk.EXECUTING:return(0,s.jsxs)("div",{className:oe(O["status-running"]),children:[(0,s.jsx)("div",{className:oe(O["loading-spinner"])}),"\u8FD0\u884C\u4E2D"]});case F.Xk.FAILED:return(0,s.jsx)("div",{className:oe(O["status-error"]),children:"\u274C \u9519\u8BEF"});default:return null}},[P.status]),Ve=(0,n.useCallback)(J()(Y()().mark(function Ne(){var Ue;return Y()().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(t){Ke.next=3;break}return Te.ZP.error("\u6682\u65E0\u6570\u636E"),Ke.abrupt("return");case 3:return Ue=JSON.stringify(t,null,2),Ke.next=6,(0,N.TE)(Ue,void 0,!0);case 6:case"end":return Ke.stop()}},Ne)})),[t]),Qe=(0,n.useCallback)(function(Ne){if(!Ne)return null;var Ue=(0,S.Xh)(Ne);return{params:Ue.input||{},response:Ue.data||null}},[]);(0,n.useEffect)(function(){if(P.executeId&&(P.status===F.Xk.FINISHED||P.status===F.Xk.FAILED)){var Ne=Qe(P.result);if(t&&(0,se.isEqual)(Ne,t))return;c(Ne)}},[P.executeId,P.status,P.result]);var We=(0,n.useMemo)(function(){return!(t&&(P.status===F.Xk.FINISHED||P.status===F.Xk.FAILED))||!1},[P.status,t]),ze=(0,n.useCallback)(function(){if(!t){Te.ZP.error("\u6682\u65E0\u6570\u636E");return}Ge(!0)},[t]);return P.executeId?(0,s.jsxs)("div",{className:oe(O["markdown-custom-process"]),"data-key":M.dataKey,children:[(0,s.jsxs)("div",{className:oe(O["process-header"]),children:[(0,s.jsx)("div",{className:oe(O["process-title"]),children:P.name||"\u6682\u65E0\u540D\u79F0"}),(0,s.jsxs)("div",{className:oe(O["process-controls"]),children:[Ze(),(0,s.jsxs)("div",{className:oe(O["process-controls-actions"]),children:[(0,s.jsx)(Ce.Z,{title:"\u67E5\u770B\u8BE6\u60C5",children:(0,s.jsx)(he.ZP,{type:"text",disabled:We,icon:(0,s.jsx)(Ee.Z,{}),onClick:ze})}),(0,s.jsx)(Ce.Z,{title:"\u590D\u5236",children:(0,s.jsx)(he.ZP,{type:"text",icon:(0,s.jsx)(ue.Z,{}),disabled:We,onClick:Ve})})]})]})]}),(0,s.jsx)(k,{title:P.name||"\u6682\u65E0\u540D\u79F0",visible:Fe,onClose:function(){return Ge(!1)},data:t},P.executeId)]},M.dataKey):null}var w=(0,n.memo)(ye,function(M,l){return M.executeId===l.executeId&&M.status===l.status}),o=e(94484),G=e(73415),p=(0,n.memo)(function(M){var l=M.src,y=M.containerClassNames,W=M.containerStyles,T=M.styles,v=M.alt,t=v===void 0?"":v,c=M.dataKey,x=(0,n.useState)(!1),j=r()(x,2),P=j[0],ge=j[1],Me=(0,n.useCallback)(function(){},[]),je=(0,n.useMemo)(function(){if(y)return Array.isArray(y)?y.join(" "):y},[y]);return(0,s.jsx)("span",{"data-key":c,className:je||m["image-container"],style:me()(me()({},W),{},{display:"inline-block",width:"100%"}),onClick:function(){ge(!0)},children:(0,s.jsx)(o.Z,{src:l,fallback:G.Pc,onError:Me,style:T,alt:t,preview:P?{visible:P,src:l,onVisibleChange:ge}:!1})},c)},function(M,l){return M.src===l.src}),pe=p,ce=e(335),Pe=e.n(ce),be=e(31759),Le=e.n(be),Ae=e(15558),De=e.n(Ae),q=function(l){try{var y="",W=function T(v){var t;return typeof v=="string"?v:typeof v=="number"?String(v):Array.isArray(v)?v.map(T).join(""):v!=null&&(t=v.props)!==null&&t!==void 0&&t.children?T(v.props.children):""};return y=W(l),y.replace(/\s+/g," ").trim()}catch(T){return console.warn("\u63D0\u53D6\u8868\u683C\u5355\u5143\u683C\u5185\u5BB9\u5931\u8D25:",T),""}},u=function(l){try{var y,W=[],T=function v(t){if(Array.isArray(t))t.forEach(function(x){var j;if(x?.type==="td"||x?.type==="th"){var P=q(x);W.push(P)}else x!=null&&(j=x.props)!==null&&j!==void 0&&j.children&&v(x.props.children)});else if(t?.type==="td"||t?.type==="th"){var c=q(t);W.push(c)}};return l!=null&&(y=l.props)!==null&&y!==void 0&&y.children?T(l.props.children):l!=null&&l.children&&T(l.children),W.length>0?"|"+W.map(function(v){return" ".concat(v.trim()," ")}).join("|")+"|":""}catch(v){return console.warn("\u63D0\u53D6\u8868\u683C\u884C\u5185\u5BB9\u5931\u8D25:",v),""}},re=function(l){try{var y,W=[];if(l!=null&&(y=l.props)!==null&&y!==void 0&&y.children){var T=l.props.children;if(Array.isArray(T))T.forEach(function(t){if(t?.type==="tr"){var c=u(t);c&&W.push(c)}});else if(T?.type==="tr"){var v=u(T);v&&W.push(v)}}return W}catch(t){return console.warn("\u63D0\u53D6\u8868\u683C\u533A\u57DF\u5185\u5BB9\u5931\u8D25:",t),[]}},B=function M(l){try{if(typeof l=="string")return l;if(Array.isArray(l)){var y=[],W=!1;if(l.forEach(function(j){var P;if(j?.type==="thead"){var ge=re(j);y.push.apply(y,De()(ge)),W=!0}else if(j?.type==="tbody"){var Me=re(j);y.push.apply(y,De()(Me))}else if(j?.type==="tr"){var je=u(j);je&&y.push(je)}else if(j!=null&&(P=j.props)!==null&&P!==void 0&&P.children){var Fe=M(j.props.children);Fe&&y.push(Fe)}}),y.length>0){var T=y.join(`
`);if(W&&y.length>1){var v=y[0];if(v){var t=(v.match(/\|/g)||[]).length-1,c="|"+"---|".repeat(t);return"".concat(T,`
`).concat(c)}}return T}}if(Le()(l)==="object"&&l!==null){var x=l?.props;if(x!=null&&x.children)return M(x.children)}return""}catch(j){return console.warn("\u63D0\u53D6\u8868\u683C\u5185\u5BB9\u5931\u8D25:",j),""}},f=[{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}];function g(M){return function(l){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=l.length,T=y,v=Pe()(M),t;try{for(v.s();!(t=v.n()).done;){var c=t.value,x=c.left,j=c.right,P=c.display;if(l.slice(T).startsWith(x)){for(var ge=T+x.length;ge<W&&!l.slice(ge).startsWith(j);)ge++;if(!(ge>=W)){var Me=l.slice(T+x.length,ge),je=ge+j.length;return{formula:Me,display:P,start:T,end:je,left:x,right:j,success:!0}}}}}catch(Fe){v.e(Fe)}finally{v.f()}return{formula:"",display:!1,start:0,end:0,left:"",right:"",success:!1}}}function ne(M){for(var l=f.filter(function(c){return!c.left.includes("$")&&!c.right.includes("$")}),y=g(l),W="",T=0;T<M.length;){var v=y(M,T);if(v.success){W+=M.slice(T,v.start);var t=v.display?"$$":"$";W+="".concat(t).concat(v.formula).concat(t),T=v.end}else W+=M[T],T++}return W}var ve=a().bind(m),xe=function(){return(0,h.R4)({rehypePlugin:[Q.Z,_.Z],components:{"markdown-custom-process":function(l){var y=l.node,W=l.type,T=l.status,v=l.executeid,t=l.name,c=y?.position||{},x=c.end.offset,j=c.start.offset,P="".concat(j,"-").concat(x,"-process");return(0,s.jsx)(w,{dataKey:P,type:W,status:T,executeId:v,name:decodeURIComponent(t||"")},P)},table:function(l){var y=l.children,W=l.node,T=(0,D.ls)(),v=T.theme,t=T.codeBlock,c=t===void 0?{}:t,x=c.headerActions,j=x===void 0?!1:x,P=W?.position||{},ge=P.end.offset,Me=P.start.offset,je="".concat(Me,"-").concat(ge,"-list"),Fe=B(y);return(0,s.jsx)("div",{"data-key":je,className:m["table-wrapper"],style:{display:"block"},children:(0,s.jsxs)("div",{className:"md-code-block md-code-block-".concat(v),children:[j&&(0,s.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,s.jsx)("div",{className:"md-code-block-banner md-code-block-banner-lite",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"md-code-block-language",children:"\u8868\u683C"}),(0,s.jsx)(D.GR,{language:"markdown",codeContent:Fe})]})})}),(0,s.jsx)("div",{className:"md-code-block-content scrollbar",children:(0,s.jsx)("table",{className:ve(m["markdown-table"]),children:y})})]})},je)},img:function(l){var y=l.src,W=l.alt,T=l.title,v=l.node;if(!y)return null;var t=v?.position||{},c=t.end.offset,x=t.start.offset,j="".concat(x,"-").concat(c,"-img");return(0,s.jsx)(pe,{dataKey:j,containerClassNames:m["markdown-image-container"],src:y,alt:W,title:T},j)}},id:Symbol("custom-plugin"),type:"custom"})},L=a().bind(m),Se=(0,n.memo)(function(M){var l=M.id,y=l===void 0?"":l,W=M.className,T=M.markdownRef,v=M.headerActions,t=v===void 0?!0:v,c=M.disableTyping,x=c===void 0?!0:c,j=M.theme,P=j===void 0?"light":j,ge=(0,n.useRef)(null),Me=(0,n.useMemo)(function(){return[I,h.wg,xe()]},[]),je=(0,n.useMemo)(function(){return b},[]);return(0,s.jsx)("div",{ref:ge,id:"".concat(y),"data-key":"".concat(y),className:L(m["markdown-container"],W),children:(0,s.jsx)(D.iV,{mermaidConfig:je,children:(0,s.jsx)(D.Hh,{ref:T,timerType:"requestAnimationFrame",interval:30,plugins:Me,codeBlock:{headerActions:t},theme:P,math:{splitSymbol:"bracket",replaceMathBracket:ne},disableTyping:x})})},"".concat(y))},function(M,l){return M.id===l.id}),_e=(0,n.memo)(function(M){var l=M.id,y=l===void 0?"":l,W=M.className,T=W===void 0?"":W,v=M.children,t=M.theme,c=t===void 0?"light":t,x=(0,n.useMemo)(function(){return[h.wg,xe()]},[]);return(0,s.jsx)("div",{id:"".concat(y),"data-key":"".concat(y),className:L(m["markdown-container"],T),children:(0,s.jsx)(D.iV,{children:(0,s.jsx)(D.ZP,{interval:30,timerType:"requestAnimationFrame",disableTyping:!0,plugins:x,codeBlock:{headerActions:!1},theme:c,math:{splitSymbol:"bracket",replaceMathBracket:ne},children:v})})},"".concat(y))},function(M,l){return M.id===l.id&&M.theme===l.theme}),Be=Se},54896:function(Oe,le,e){e.d(le,{Z:function(){return I}});var H=e(59261),a=e(94581),n=e.n(a),m=e(75271),U={container:"container___mKBd6",star:"star___fL3Gn","param-type":"param-type___m1Eq3"},h=e(52676),b=n().bind(U),d=function(z){var Q=z.require,_=z.paramName,de=z.paramType;return(0,h.jsxs)("div",{className:b("flex","items-center",U.container),children:[(0,h.jsx)("span",{children:_}),(0,h.jsx)(H.Z,{condition:Q,children:(0,h.jsx)("span",{className:b(U.star),children:"*"})}),(0,h.jsx)("span",{className:b(U["param-type"]),children:de})]})},I=d},51802:function(Oe,le,e){e.d(le,{Z:function(){return N}});var H=e(54896),a=e(61265),n=e(73415),m=e(94166),U=e(24643),h=e(92122),b=e(86743),d=e(14258),I=e(63619),D=e(7010),z=e(14719),Q=e(10580),_=e(9504),de=e(94581),Y=e.n(de),C=e(75271),J=e(56179),ee=e(92448),me={"xagi-nav-style2":"xagi-nav-style2___q7OWC",text:"text___QkgY2","page-container":"page-container___sLiTq","modal-container":"modal-container___tLbO3","inner-container":"inner-container___xnO9u",header:"header___ZXJua","p-title":"p-title___enidB","table-wrap":"table-wrap___KO8OJ","param-desc":"param-desc___Fs3o9"},Z=e(52676),r=Y().bind(me),F=function(i){var Ee=i.inputConfigArgs,ue=i.inputExpandedRowKeys,Te=i.pluginId,Ce=i.pluginName,he=i.open,se=i.onCancel,R=i.onConfirm,O=(0,m.Z)(),K=O.handleInit,A=O.dataSource,E=O.handleDataSource,V=O.expandedRowKeys,ae=O.handleInputValue,s=O.handleInputAddChild,X=O.handleInputDel,te=(0,J.useRequest)(U.NV,{manual:!0,debounceInterval:300,onSuccess:function(G){if(G!=null&&G.length){var p=G.map(function(pe){return pe.key||(pe.key=(0,ee.Z)()),pe});R(p)}se()}}),k=te.run,oe=te.loading;(0,C.useEffect)(function(){K(Ee,ue)},[Ee,ue]);var ye=[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"name",key:"name",className:"flex",render:function(G,p){return(0,Z.jsx)(H.Z,{require:p.require,paramName:p.name,paramType:p.dataType})}},{title:"\u53C2\u6570\u503C",dataIndex:"description",key:"description",render:function(G,p){var pe;return(0,Z.jsxs)(Z.Fragment,{children:[h.Gi.Object===p.dataType||h.Gi.Array_Object===p.dataType||(pe=p.dataType)!==null&&pe!==void 0&&pe.includes("Array")?null:(0,Z.jsx)(I.Z,{value:p.bindValue,onChange:function(Pe){return ae(p.key,"bindValue",Pe.target.value)},placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C"}),(0,Z.jsx)("p",{className:r(me["param-desc"]),children:p.description})]})}},{title:"\u64CD\u4F5C",key:"action",width:60,align:"center",render:function(G,p,pe){var ce;return(0,Z.jsx)(D.Z,{size:"middle",children:(ce=p.dataType)!==null&&ce!==void 0&&ce.includes("Array")?(0,Z.jsx)(n.Me,{className:r("cursor-pointer"),onClick:function(){return s(p)}}):p.name===a.zC&&pe!==0?(0,Z.jsx)(b.Z,{onClick:function(){return X(p.key)}}):null})}}],w=function(){var G=E(A);k({pluginId:Te,params:G})};return(0,Z.jsx)(z.Z,{centered:!0,open:he,onCancel:se,className:r(me["modal-container"]),destroyOnHidden:!0,modalRender:function(){return(0,Z.jsxs)("div",{className:r(me["inner-container"],"flex","flex-col","overflow-hide"),children:[(0,Z.jsxs)("header",{className:r("flex","content-between","items-center",me.header),children:[(0,Z.jsx)("h3",{children:"\u81EA\u52A8\u89E3\u6790"}),(0,Z.jsx)(d.Z,{className:r("cursor-pointer"),onClick:se})]}),(0,Z.jsxs)("div",{className:r("flex-1","flex","flex-col","overflow-hide"),children:[(0,Z.jsxs)("h3",{className:r(me["p-title"]),children:[Ce," \u8F93\u5165\u53C2\u6570"]}),(0,Z.jsx)(Q.Z,{className:r(me["table-wrap"]),columns:ye,dataSource:A,pagination:!1,virtual:!0,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:V,expandIcon:function(){return null}},scroll:{y:450}})]}),(0,Z.jsx)("div",{className:r("text-right"),children:(0,Z.jsx)(_.ZP,{type:"primary",onClick:w,loading:oe,children:"\u81EA\u52A8\u89E3\u6790"})})]})}})},N=F},61304:function(Oe,le,e){e.d(le,{Z:function(){return D}});var H=e(16621),a=e(9504),n=e(94581),m=e.n(n),U=e(75271),h={"xagi-nav-style2":"xagi-nav-style2___bRI93",text:"text___CDY66","page-container":"page-container___pYuyY",title:"title___qlUsF",extra:"extra____ijPr"},b=e(52676),d=m().bind(h),I=function(Q){var _=Q.title,de=Q.extra,Y=Q.onClick;return(0,b.jsxs)("div",{className:d("flex","content-between","items-center","mb-12"),children:[(0,b.jsx)("h3",{className:d(h.title),children:_}),(0,b.jsxs)("div",{className:d(h.extra,"flex"),children:[de,(0,b.jsx)(a.ZP,{icon:(0,b.jsx)(H.Z,{}),onClick:Y,children:"\u65B0\u589E\u53C2\u6570"})]})]})},D=I},2660:function(Oe,le,e){e.d(le,{Z:function(){return ue}});var H=e(48305),a=e.n(H),n=e(54896),m=e(61265),U=e(73415),h=e(94166),b=e(24643),d=e(92122),I=e(39373),D=e(86743),z=e(14258),Q=e(24573),_=e(41249),de=e(63619),Y=e(7010),C=e(14719),J=e(10580),ee=e(9504),me=e(94581),Z=e.n(me),r=e(75271),F=e(56179),N={"xagi-nav-style2":"xagi-nav-style2___vghmE",text:"text___XEBu3","page-container":"page-container___V0beX","modal-container":"modal-container___AN4jk","inner-container":"inner-container___f48hL",header:"header___PLN5P",section:"section___AtQvb","p-title":"p-title___yh4JX","table-wrap":"table-wrap___VKpxr","result-wrap":"result-wrap___EvlBB","loading-box":"loading-box___NvxyX","param-desc":"param-desc___Wg5Xx"},S=e(52676),i=Z().bind(N),Ee=function(Ce){var he=Ce.inputConfigArgs,se=Ce.inputExpandedRowKeys,R=Ce.pluginId,O=Ce.pluginName,K=Ce.open,A=Ce.onCancel,E=(0,r.useState)(!1),V=a()(E,2),ae=V[0],s=V[1],X=(0,r.useState)(""),te=a()(X,2),k=te[0],oe=te[1],ye=(0,h.Z)(),w=ye.handleInit,o=ye.dataSource,G=ye.handleDataSource,p=ye.expandedRowKeys,pe=ye.handleInputValue,ce=ye.handleInputAddChild,Pe=ye.handleInputDel,be=(0,F.useRequest)(b.A_,{manual:!0,debounceInterval:300,onSuccess:function(B){s(!1),B.success?oe(JSON.stringify(B.result,null,2)):_.ZP.warning(B.error)},onError:function(){s(!1)}}),Le=be.run;(0,r.useEffect)(function(){w(he,se)},[he,se]);var Ae=function(B,f){var g=f;(B.dataType===d.Gi.Integer||B.dataType===d.Gi.Number)&&f&&(g=(0,I.an)(f)===""?"":Number((0,I.an)(f))),pe(B.key,"bindValue",g)},De=[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"name",key:"name",className:"flex",render:function(B,f){return(0,S.jsx)(n.Z,{require:f.require,paramName:f.name,paramType:f.dataType})}},{title:"\u53C2\u6570\u503C",dataIndex:"description",key:"description",render:function(B,f){var g;return(0,S.jsxs)(S.Fragment,{children:[d.Gi.Object===f.dataType||d.Gi.Array_Object===f.dataType||(g=f.dataType)!==null&&g!==void 0&&g.includes("Array")?null:(0,S.jsx)(de.Z,{value:f.bindValue,onChange:function(ve){return Ae(f,ve.target.value)},placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C"}),(0,S.jsx)("p",{className:i(N["param-desc"]),children:f.description})]})}},{title:"\u64CD\u4F5C",key:"action",width:60,align:"center",render:function(B,f,g){var ne;return(0,S.jsx)(Y.Z,{size:"middle",children:(ne=f.dataType)!==null&&ne!==void 0&&ne.includes("Array")?(0,S.jsx)(U.Me,{className:i("cursor-pointer"),onClick:function(){return ce(f)}}):f.name===m.zC&&g!==0?(0,S.jsx)(D.Z,{onClick:function(){return Pe(f.key)}}):null})}}],q=function(){oe(""),s(!0);var B=G(o);Le({pluginId:R,params:B})},u=function(){oe(""),s(!1),A()};return(0,S.jsx)(C.Z,{centered:!0,open:K,onCancel:u,className:i(N["modal-container"]),modalRender:function(){return(0,S.jsxs)("div",{className:i(N["inner-container"],"flex","flex-col","overflow-hide"),children:[(0,S.jsxs)("header",{className:i("flex","content-between","items-center",N.header),children:[(0,S.jsx)("h3",{children:"\u8BD5\u8FD0\u884C"}),(0,S.jsx)(z.Z,{className:i("cursor-pointer"),onClick:u})]}),(0,S.jsxs)("section",{className:i("flex","flex-1","overflow-hide",N.section),children:[(0,S.jsxs)("div",{className:i("flex-1","flex","flex-col"),children:[(0,S.jsxs)("h3",{className:i(N["p-title"]),children:[O," \u8F93\u5165\u53C2\u6570"]}),(0,S.jsx)(J.Z,{className:i(N["table-wrap"]),columns:De,dataSource:o,pagination:!1,virtual:!0,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:p,expandIcon:function(){return null}},scroll:{y:450},footer:function(){return(0,S.jsx)("div",{className:i("text-right"),children:(0,S.jsx)(ee.ZP,{type:"primary",onClick:q,loading:ae,children:"\u8FD0\u884C"})})}})]}),(0,S.jsxs)("div",{className:i("flex-1","flex","flex-col","overflow-hide"),children:[(0,S.jsxs)("h3",{className:i(N["p-title"]),children:[O," \u8C03\u8BD5\u7ED3\u679C"]}),(0,S.jsx)("div",{className:i("flex-1","radius-6","overflow-hide",N["result-wrap"]),children:ae?(0,S.jsxs)("div",{className:i("h-full","flex","items-center","content-center",N["loading-box"]),children:[(0,S.jsx)(Q.Z,{}),(0,S.jsx)("span",{children:"\u52A0\u8F7D\u4E2D..."})]}):k?(0,S.jsx)("div",{className:i("h-full","flex","flex-col","px-16","py-16","overflow-y"),children:(0,S.jsx)("pre",{children:k})}):(0,S.jsx)("div",{className:i("h-full","flex","items-center","content-center"),children:"\u8C03\u8BD5\u7ED3\u679C\u5C06\u5C55\u793A\u5728\u6B64\u5904"})})]})]})]})}})},ue=Ee},91268:function(Oe,le,e){e.d(le,{Z:function(){return U}});var H=e(75271),a=e(92448),n=100,m=function(b){setTimeout(function(){b()},n)};function U(h){var b=h.answer,d=h.thinking,I=h.id,D=(0,H.useRef)(null),z=(0,H.useRef)(I?String(I):(0,a.Z)()),Q=(0,H.useRef)({thinking:0,answer:0});return(0,H.useEffect)(function(){m(function(){if(b){var _,de=b.slice(Q.current.answer);Q.current.answer=b.length,(_=D.current)===null||_===void 0||_.push(de,"answer")}})},[b]),(0,H.useEffect)(function(){m(function(){if(d){var _,de=d.slice(Q.current.thinking);Q.current.thinking=d.length,(_=D.current)===null||_===void 0||_.push(de,"thinking")}})},[d]),(0,H.useEffect)(function(){I&&(z.current=String(I))},[I]),(0,H.useEffect)(function(){return function(){var _;(_=D.current)===null||_===void 0||_.clear(),Q.current={thinking:0,answer:0},z.current=""}},[]),{markdownRef:D,messageIdRef:z}}},53501:function(Oe,le,e){var H=e(26068),a=e.n(H),n=e(15558),m=e.n(n),U=e(48305),h=e.n(U),b=e(39671),d=e(92122),I=e(40677),D=e(41249),z=e(16483),Q=e.n(z),_=e(32222),de=e.n(_),Y=e(75271),C=e(56179),J=e(92448),ee=function(){var Z=(0,C.useParams)(),r=Number(Z.pluginId),F=(0,Y.useState)(!1),N=h()(F,2),S=N[0],i=N[1],Ee=(0,Y.useState)(!1),ue=h()(Ee,2),Te=ue[0],Ce=ue[1],he=(0,Y.useState)(!1),se=h()(he,2),R=se[0],O=se[1],K=(0,Y.useState)(!1),A=h()(K,2),E=A[0],V=A[1],ae=(0,Y.useState)(!1),s=h()(ae,2),X=s[0],te=s[1],k=(0,Y.useState)(),oe=h()(k,2),ye=oe[0],w=oe[1],o=(0,Y.useState)([]),G=h()(o,2),p=G[0],pe=G[1],ce=(0,Y.useState)([]),Pe=h()(ce,2),be=Pe[0],Le=Pe[1],Ae=(0,Y.useState)([]),De=h()(Ae,2),q=De[0],u=De[1],re=(0,Y.useState)([]),B=h()(re,2),f=B[0],g=B[1],ne=(0,Y.useRef)(!1),ve=function(c,x,j){var P=(0,I.mG)(q,c,x,j);if(u(P),x==="dataType"){if(j===d.Gi.Object||j===d.Gi.Array_Object){var ge=[].concat(m()(p),[c]);pe(ge)}else if(p.includes(c)){var Me=p.filter(function(je){return je!==c});pe(Me)}}},xe=function(c,x,j){var P=(0,I.mG)(f,c,x,j);if(g(P),x==="dataType"){if(j===d.Gi.Object||j===d.Gi.Array_Object){var ge=[].concat(m()(be),[c]);Le(ge)}else if(be.includes(c)){var Me=be.filter(function(je){return je!==c});Le(Me)}}},L=function(c){var x=a()({key:(0,J.Z)()},b.TI),j=(0,I.A4)(q,c,x);u(j);var P=m()(p);P.includes(c)||(P.push(c),pe(P))},Se=function(c){var x=a()({key:(0,J.Z)()},b.gN),j=(0,I.A4)(f,c,x);g(j);var P=m()(be);P.includes(c)||(P.push(c),Le(P))},_e=function(c){var x=(0,I.IK)(q,c);u(x)},Be=function(c){var x=(0,I.IK)(f,c);g(x)},M=function(c){var x=c.icon,j=c.name,P=c.description,ge=de()(ye);ge.icon=x,ge.name=j,ge.description=P,w(ge),te(!1)},l=function(){var c=de()(q)||[];c.push(a()({key:(0,J.Z)()},b.TI)),u(c)},y=function(){var c=de()(f)||[];c.push(a()({key:(0,J.Z)()},b.gN)),g(c)},W=function(c){var x=(0,I.kS)(c);Le(x),g(c)},T=function(){V(!1);var c=Q()().toString(),x=a()(a()({},ye),{},{publishDate:c,modified:c,publishStatus:d.xH.Published});w(x)},v=function(){ne.current&&(D.ZP.success("\u63D2\u4EF6\u4FDD\u5B58\u6210\u529F"),ne.current=!1);var c=Q()().toString(),x=a()(a()({},ye),{},{modified:c});w(x)};return{isModalOpen:S,setIsModalOpen:i,autoAnalysisOpen:Te,setAutoAnalysisOpen:Ce,visible:R,setVisible:O,openModal:E,setOpenModal:V,pluginId:r,pluginInfo:ye,setPluginInfo:w,openPlugin:X,setOpenPlugin:te,inputConfigArgs:q,setInputConfigArgs:u,outputConfigArgs:f,setOutputConfigArgs:g,expandedRowKeys:p,setExpandedRowKeys:pe,outputExpandedRowKeys:be,handleInputValue:ve,handleOutputValue:xe,handleInputAddChild:L,handleOutputAddChild:Se,handleInputDel:_e,handleOutputDel:Be,handleConfirmUpdate:M,handleInputConfigAdd:l,handleOutputConfigAdd:y,handleOutputConfigArgs:W,handleConfirmPublishPlugin:T,handleUpdateSuccess:v,isClickSaveBtnRef:ne}};le.Z=ee},94166:function(Oe,le,e){var H=e(15558),a=e.n(H),n=e(26068),m=e.n(n),U=e(48305),h=e.n(U),b=e(61265),d=e(39671),I=e(92122),D=e(40677),z=e(75271),Q=e(92448),_=function(){var Y=(0,z.useState)([]),C=h()(Y,2),J=C[0],ee=C[1],me=(0,z.useState)([]),Z=h()(me,2),r=Z[0],F=Z[1],N=function(R,O){var K=function A(E){return E.map(function(V){var ae=V.dataType,s=V.subArgs;if(ae===I.Gi.Array_Object){var X=(0,Q.Z)();if(O.push(X),s&&s.length>0){var te=[m()(m()({},d.TI),{},{key:X,name:b.zC,dataType:I.Gi.Object,subArgs:A(s)})];return m()(m()({},V),{},{subArgs:te})}}return ae===I.Gi.Object?m()(m()({},V),{},{subArgs:A(s||[])}):V})};return K(R)||[]},S=function(R,O){if(R?.length>0){var K=a()(O),A=N(R,K)||[];F(K),ee(A)}else ee([])},i=function(R,O,K){var A=(0,D.mG)(J,R,O,K);ee(A)},Ee=function(R,O){var K=function A(E){if(E.subArgs&&E.subArgs.length>0){var V,ae=((V=E.subArgs)===null||V===void 0?void 0:V.map(function(X){var te,k=(0,Q.Z)();return(te=X.subArgs)!==null&&te!==void 0&&te.length?(O.push(k),A(X)):m()(m()({},X),{},{key:k,bindValue:""})}))||[],s=(0,Q.Z)();return O.push(s),m()(m()({},E),{},{key:s,subArgs:ae})}return m()(m()({},E),{},{key:(0,Q.Z)()})};return K(R)},ue=function(R){var O=R.key,K=R.dataType,A,E=[];if(K===I.Gi.Array_Object){if(R.subArgs&&R.subArgs.length>0){var V,ae=(V=R.subArgs)===null||V===void 0?void 0:V[0];A=Ee(ae,E)}}else{var s,X=K==null||(s=K.toString())===null||s===void 0||(s=s.split("_"))===null||s===void 0?void 0:s[1];A=m()(m()({},d.TI),{},{key:(0,Q.Z)(),name:b.zC,dataType:X})}var te=(0,D.A4)(J,O,A);ee(te);var k=a()(r);k.includes(O)||k.push(O),K===I.Gi.Array_Object&&k.push.apply(k,E),F(k)},Te=function(R){var O=(0,D.IK)(J,R);ee(O)},Ce=function se(R){return R?.map(function(O){var K=O.subArgs,A={};return K?.forEach(function(E){var V,ae,s;if(E.dataType===I.Gi.Object&&E.name!==b.zC){var X,te={};(X=E.subArgs)===null||X===void 0||X.forEach(function(oe){te[oe.name]=oe.bindValue}),A[E.name]=te}else if((V=E.dataType)!==null&&V!==void 0&&V.includes("Array")&&!((ae=E.dataType)!==null&&ae!==void 0&&ae.includes("Object"))){var k;A[E.name]=(k=E.subArgs)===null||k===void 0?void 0:k.map(function(oe){return oe.bindValue})}else!((s=E.dataType)!==null&&s!==void 0&&s.includes("Array"))&&E.dataType!==I.Gi.Object?A[E.name]=E.bindValue:A[E.name]=se(E?.subArgs)}),A})},he=function se(R){var O={};return R?.forEach(function(K){var A=K.name,E=K.dataType,V=K.subArgs;if(!(E!=null&&E.includes("Array"))&&E!==I.Gi.Object&&(O[A]=K.bindValue),E!=null&&E.includes("Array")&&!(E!=null&&E.includes("Object"))){var ae;O[A]=(ae=K.subArgs)===null||ae===void 0?void 0:ae.map(function(s){return s.bindValue})}E===I.Gi.Object&&A!==b.zC&&(O[A]=se(V||[])),E===I.Gi.Array_Object&&V&&V?.length>0&&(O[A]=Ce(V))}),O};return{handleInit:S,dataSource:J,handleDataSource:he,expandedRowKeys:r,handleInputValue:i,handleInputAddChild:ue,handleInputDel:Te}};le.Z=_},48512:function(Oe,le,e){e.d(le,{DJ:function(){return D},RY:function(){return Q},YM:function(){return ee},b9:function(){return me},iE:function(){return I},x8:function(){return de}});var H=e(65173),a=e(73415),n=e(92122),m=e(56769),U=e(63619),h=e(28246),b=e(43898),d=e(52676),I=[{name:"",key:"group1",children:[{name:"\u5927\u6A21\u578B",icon:(0,d.jsx)(a.EF,{}),bgIcon:a.G0,type:n.C8.LLM,shape:n.K$.General,description:"\u8C03\u7528\u5927\u8BED\u8A00\u6A21\u578B\uFF0C\u4F7F\u7528\u53D8\u91CF\u548C\u63D0\u793A\u8BCD\u751F\u6210\u56DE\u590D"},{name:"\u63D2\u4EF6",icon:(0,d.jsx)(a.KS,{}),bgIcon:a.SU,type:n.C8.Plugin,shape:n.K$.General,description:"\u5FC5\u5E94\u641C\u7D22\u5F15\u64CE\u3002\u5F53\u4F60\u9700\u8981\u641C\u7D22\u4F60\u4E0D\u77E5\u9053\u7684\u4FE1\u606F\uFF0C\u6BD4\u5982\u5929\u6C14..."},{name:"\u5DE5\u4F5C\u6D41",icon:(0,d.jsx)(a.fl,{}),bgIcon:a.Ls,type:n.C8.Workflow,shape:n.K$.General,description:"\u5FC5\u5E94\u641C\u7D22\u5F15\u64CE\u3002\u5F53\u4F60\u9700\u8981\u641C\u7D22\u4F60\u4E0D\u77E5\u9053\u7684\u4FE1\u606F\uFF0C\u6BD4\u5982\u5929\u6C14..."},{name:"MCP",icon:(0,d.jsx)(a.VE,{}),bgIcon:a.zH,type:n.C8.MCP,shape:n.K$.General,description:"MCP \u7EC4\u4EF6"}]},{name:"\u4E1A\u52A1\u903B\u8F91",key:"group2",children:[{name:"\u4EE3\u7801",icon:(0,d.jsx)(a.HF,{}),bgIcon:a.Po,type:n.C8.Code,shape:n.K$.General,description:"\u7F16\u5199\u4EE3\u7801\uFF0C\u5904\u7406\u8F93\u5165\u53D8\u91CF\u6765\u751F\u6210\u8FD4\u56DE\u503C"},{name:"\u6761\u4EF6\u5206\u652F",icon:(0,d.jsx)(a.ZO,{}),bgIcon:a.TK,type:n.C8.Condition,shape:n.K$.General,description:"\u8FDE\u63A5\u591A\u4E2A\u4E0B\u6E38\u5206\u652F\uFF0C\u82E5\u8BBE\u5B9A\u7684\u6761\u4EF6\u6210\u7ACB\u5219\u4EC5\u8FD0\u884C\u5BF9\u5E94\u7684\u5206\u652F\uFF0C\u82E5 \u5747\u4E0D\u6210\u7ACB\u5219\u53EA\u8FD0\u884C\u201C\u5426\u5219\u201D\u5206\u652F"},{name:"\u610F\u56FE\u8BC6\u522B",icon:(0,d.jsx)(a.mT,{}),bgIcon:a.cp,type:n.C8.IntentRecognition,shape:n.K$.General,description:"\u7528\u4E8E\u7528\u6237\u8F93\u5165\u7684\u610F\u56FE\u8BC6\u522B\uFF0C\u5E76\u5C06\u5176\u4E0E\u9884\u8BBE\u610F\u56FE\u9009\u9879\u8FDB\u884C\u5339\u914D\u3002"},{name:"\u5FAA\u73AF",icon:(0,d.jsx)(a.ZX,{}),bgIcon:a.bD,type:n.C8.Loop,shape:n.K$.Loop,description:"\u7528\u4E8E\u901A\u8FC7\u8BBE\u5B9A\u5FAA\u73AF\u6B21\u6570\u548C\u903B\u8F91\uFF0C\u91CD\u590D\u6267\u884C\u4E00\u7CFB\u5217\u4EFB\u52A1\u3002"},{name:"\u7EE7\u7EED\u5FAA\u73AF",icon:(0,d.jsx)(a.uS,{}),bgIcon:a.jI,type:n.C8.LoopContinue,shape:n.K$.General,description:""},{name:"\u7EC8\u6B62\u5FAA\u73AF",icon:(0,d.jsx)(a.QL,{}),bgIcon:a.J2,type:n.C8.LoopBreak,shape:n.K$.General,description:""}]},{name:"\u77E5\u8BC6&\u6570\u636E",key:"group3",children:[{name:"\u77E5\u8BC6\u5E93",icon:(0,d.jsx)(a.fF,{}),bgIcon:a.Lm,type:n.C8.Knowledge,shape:n.K$.General,description:"\u5728\u9009\u5B9A\u7684\u77E5\u8BC6\u4E2D\uFF0C\u6839\u636E\u8F93\u5165\u53D8\u91CF\u53EC\u56DE\u6700\u5339\u914D\u7684\u4FE1\u606F"},{name:"\u53D8\u91CF",icon:(0,d.jsx)(a.JU,{}),bgIcon:a.Hl,type:n.C8.Variable,shape:n.K$.General,description:"\u7528\u4E8E\u8BFB\u53D6\u548C\u5199\u5165\u9879\u76EE\u4E2D\u7684\u53D8\u91CF\uFF0C\u53D8\u91CF\u540D\u987B\u4E0E\u9879\u76EE\u4E2D\u7684\u53D8\u91CF\u540D\u76F8\u5339\u914D"},{name:"\u957F\u671F\u8BB0\u5FC6",icon:(0,d.jsx)(a.GY,{}),bgIcon:a.aA,type:n.C8.LongTermMemory,shape:n.K$.General,description:"\u7528\u4E8E\u8C03\u7528\u957F\u671F\u8BB0\u5FC6\uFF0C\u83B7\u53D6\u7528\u6237\u7684\u4E2A\u6027\u5316\u4FE1\u606F"}]},{name:"\u6570\u636E\u8868",key:"group4",children:[{name:"\u6570\u636E\u65B0\u589E",icon:(0,d.jsx)(a.wN,{}),bgIcon:a.Te,type:n.C8.TableDataAdd,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u8FDB\u884C\u6570\u636E\u5199\u5165"},{name:"\u6570\u636E\u5220\u9664",icon:(0,d.jsx)(a.t_,{}),bgIcon:a.u8,type:n.C8.TableDataDelete,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u6839\u636E\u6307\u5B9AID\u8FDB\u884C\u6570\u636E\u5220\u9664"},{name:"\u6570\u636E\u66F4\u65B0",icon:(0,d.jsx)(a.Lg,{}),bgIcon:a.Og,type:n.C8.TableDataUpdate,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u6839\u636E\u6307\u5B9A\u6761\u4EF6\u8FDB\u884C\u6570\u636E\u66F4\u65B0"},{name:"\u6570\u636E\u67E5\u8BE2",icon:(0,d.jsx)(a.Qe,{}),bgIcon:a.c7,type:n.C8.TableDataQuery,shape:n.K$.General,description:"\u5BF9\u9009\u5B9A\u7684\u6570\u636E\u8868\u6839\u636E\u6307\u5B9A\u6761\u4EF6\u8FDB\u884C\u6570\u636E\u67E5\u8BE2"},{name:"SQL\u81EA\u5B9A\u4E49",icon:(0,d.jsx)(a.rX,{}),bgIcon:a.D9,type:n.C8.TableSQL,shape:n.K$.General,description:"\u53EF\u652F\u6301\u5BF9\u6570\u636E\u8868\u7684\u67E5\u8BE2\u63A7\u5236\uFF0C\u7528\u6237\u53EF\u67E5\u8BE2\u5176\u4ED6\u7528\u6237\u63D0\u4EA4\u7684\u6570\u636E\uFF0C\u7531\u5F00\u53D1\u8005\u63A7\u5236"}]},{name:"\u7EC4\u4EF6&\u5DE5\u5177",key:"group5",children:[{name:"\u95EE\u7B54",icon:(0,d.jsx)(a.MO,{}),bgIcon:a.HI,type:n.C8.QA,shape:n.K$.General,description:"\u652F\u6301\u4E2D\u95F4\u5411\u7528\u6237\u63D0\u95EE\u95EE\u9898"},{name:"\u6587\u672C\u5904\u7406",icon:(0,d.jsx)(a.lR,{}),bgIcon:a.v$,type:n.C8.TextProcessing,shape:n.K$.General,description:"\u7528\u4E8E\u5904\u7406\u591A\u4E2A\u5B57\u7B26\u4E32\u7C7B\u578B\u53D8\u91CF\u7684\u683C\u5F0F"},{name:"\u6587\u6863\u63D0\u53D6",icon:(0,d.jsx)(a.zL,{}),bgIcon:a.AR,type:n.C8.DocumentExtraction,shape:n.K$.General,description:"\u7528\u4E8E\u63D0\u53D6\u6587\u6863\u5185\u5BB9\uFF0C\u652F\u6301\u7684\u6587\u4EF6\u7C7B\u578B: txt\u3001 markdown\u3001pdf\u3001 html\u3001 xlsx\u3001 xls\u3001 docx\u3001 csv\u3001 md\u3001 htm"},{name:"http\u8BF7\u6C42",icon:(0,d.jsx)(a.qm,{}),bgIcon:a.L5,type:n.C8.HTTPRequest,shape:n.K$.General,description:"\u7528\u4E8E\u914D\u7F6Ehttp\u8BF7\u6C42\u8C03\u7528\u5DF2\u6709\u7684\u670D\u52A1"}]},{name:"\u8F93\u51FA",key:"group6",children:[{name:"\u8FC7\u7A0B\u8F93\u51FA",icon:(0,d.jsx)(a.N$,{}),bgIcon:a.bi,type:n.C8.Output,shape:n.K$.General,description:"\u652F\u6301\u4E2D\u95F4\u8FC7\u7A0B\u7684\u6D88\u606F\u8F93\u51FA\uFF0C\u652F\u6301\u6D41\u5F0F\u548C\u975E\u6D41\u5F0F\u4E24\u79CD\u65B9\u5F0F"}]}],D=[{label:"String",value:n.Gi.String},{label:"Integer",value:n.Gi.Integer},{label:"Number",value:n.Gi.Number},{label:"File",value:"File",children:[{label:"Doc",value:n.Gi.File_Doc},{label:"Excel",value:n.Gi.File_Excel},{label:"PPT",value:n.Gi.File_PPT},{label:"Txt",value:n.Gi.File_Txt},{label:"Image",value:n.Gi.File_Image},{label:"Audio",value:n.Gi.File_Audio},{label:"Video",value:n.Gi.File_Video},{label:"Svg",value:n.Gi.File_Svg},{label:"Code",value:n.Gi.File_Code}]},{label:"Boolean",value:n.Gi.Boolean},{label:"Object",value:n.Gi.Object},{label:"Array<String>",value:n.Gi.Array_String},{label:"Array<Integer>",value:n.Gi.Array_Integer},{label:"Array<Number>",value:n.Gi.Array_Number},{label:"Array<Boolean>",value:n.Gi.Array_Boolean},{label:"Array<Object>",value:n.Gi.Array_Object},{label:"Array<File>",value:"Array_File",children:[{label:"Default",value:n.Gi.Array_File_Default},{label:"Array<Image>",value:n.Gi.Array_File_Image},{label:"Array<Doc>",value:n.Gi.Array_File_Doc},{label:"Array<Code>",value:n.Gi.Array_File_Code},{label:"Array<PPT>",value:n.Gi.Array_File_PPT},{label:"Array<Txt>",value:n.Gi.Array_File_Txt},{label:"Array<Excel>",value:n.Gi.Array_File_Excel},{label:"Array<Audio>",value:n.Gi.Array_File_Audio},{label:"Array<Zip>",value:n.Gi.Array_File_Zip},{label:"Array<Video>",value:n.Gi.Array_File_Video},{label:"Array<Svg>",value:n.Gi.Array_File_Svg}]}],z=[{label:"\u6807\u9898\u751F\u6210",icon:(0,d.jsx)(a.nG,{}),key:"\u6807\u9898\u751F\u6210",children:[{key:"output",label:"output",tag:"String"},{key:"setting",label:"Setting",tag:"Number"}]}],Q=[{label:"\u4F7F\u7528\u6570\u7EC4\u5FAA\u73AF",value:"ARRAY_LOOP"},{label:"\u6307\u5B9A\u6B21\u6570\u5FAA\u73AF",value:"SPECIFY_TIMES_LOOP"},{label:"\u65E0\u9650\u5FAA\u73AF",value:"INFINITE_LOOP"}],_=[{name:"name",placeholder:"\u53D8\u91CF\u540D",label:"\u53D8\u91CF\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D8\u91CF\u540D"}],component:U.Z,width:140},{name:"dataType",placeholder:"\u9009\u62E9\u7C7B\u578B",label:"\u53D8\u91CF\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u53D8\u91CF\u7C7B\u578B"}],component:h.Z,width:110,options:D},{name:"description",placeholder:"\u63CF\u8FF0",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}],component:b.Z,width:0},{name:"require",placeholder:"\u53D8\u91CF\u540D",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D8\u91CF\u540D"}],component:b.Z,width:0}],de=[{name:"name",placeholder:"\u53C2\u6570\u540D",label:"\u53C2\u6570\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D"}],component:U.Z,width:100},{name:"bindValue",placeholder:"\u8F93\u5165\u6216\u5F15\u7528\u53C2\u6570\u503C",label:"\u53C2\u6570\u503C",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C"}],component:H.Z,width:180},{name:"description",placeholder:"\u63CF\u8FF0",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}],component:b.Z,width:0}],Y=[{name:"intent",placeholder:"\u8F93\u5165\u53C2\u6570\u503C",label:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u610F\u56FE\u7684\u63CF\u8FF0"}],component:U.Z,width:296}],C=[{name:"name",placeholder:"\u53C2\u6570\u540D",label:"\u53C2\u6570\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D"}],component:U.Z,width:140},{name:"paramsValue",placeholder:"\u8F93\u5165\u6216\u5F15\u7528\u53D8\u91CF\u503C",label:"\u53D8\u91CF\u503C",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D8\u91CF\u503C"}],component:H.Z,width:120}],J=[{icon:(0,d.jsx)(m.Z,{}),name:"\u8D44\u6E90\u5E93\u5DE5\u4F5C\u6D41",key:"resources"},{icon:(0,d.jsx)(m.Z,{}),name:"\u5B98\u65B9\u793A\u4F8B",key:"example"}],ee=[{label:"\u7B49\u4E8E",value:"EQUAL",displayValue:"="},{label:"\u4E0D\u7B49\u4E8E",value:"NOT_EQUAL",displayValue:"\u2260"},{label:"\u5927\u4E8E",value:"GREATER_THAN",displayValue:">"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"GREATER_THAN_OR_EQUAL",displayValue:"\u2265"},{label:"\u5C0F\u4E8E",value:"LESS_THAN",displayValue:"<"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"LESS_THAN_OR_EQUAL",displayValue:"\u2264"},{label:"\u957F\u5EA6\u5927\u4E8E",value:"LENGTH_GREATER_THAN",displayValue:">"},{label:"\u957F\u5EA6\u5927\u4E8E\u7B49\u4E8E",value:"LENGTH_GREATER_THAN_OR_EQUAL",displayValue:"\u2265"},{label:"\u957F\u5EA6\u5C0F\u4E8E",value:"LENGTH_LESS_THAN",displayValue:"<"},{label:"\u957F\u5EA6\u5C0F\u4E8E\u7B49\u4E8E",value:"LENGTH_LESS_THAN_OR_EQUAL",displayValue:"\u2264"},{label:"\u5305\u542B",value:"CONTAINS",displayValue:"\u2283"},{label:"\u4E0D\u5305\u542B",value:"NOT_CONTAINS",displayValue:"\u2285"},{label:"\u5339\u914D\u6B63\u5219\u8868\u8FBE\u5F0F",value:"MATCH_REGEX",displayValue:"~"},{label:"\u4E3A\u7A7A",value:"IS_NULL",displayValue:"\u2205"},{label:"\u4E0D\u4E3A\u7A7A",value:"NOT_NULL",displayValue:"!\u2205"}],me=[{label:"\u7B49\u4E8E",value:"EQUAL",displayValue:"="},{label:"\u4E0D\u7B49\u4E8E",value:"NOT_EQUAL",displayValue:"\u2260"},{label:"\u5927\u4E8E",value:"GREATER_THAN",displayValue:">"},{label:"\u5927\u4E8E\u7B49\u4E8E",value:"GREATER_THAN_OR_EQUAL",displayValue:"\u2265"},{label:"\u5C0F\u4E8E",value:"LESS_THAN",displayValue:"<"},{label:"\u5C0F\u4E8E\u7B49\u4E8E",value:"LESS_THAN_OR_EQUAL",displayValue:"\u2264"},{label:"\u5C5E\u4E8E",value:"IN",displayValue:"\u2283"},{label:"\u4E0D\u5C5E\u4E8E",value:"NOT_IN",displayValue:"\u2285"},{label:"\u4E3A\u7A7A",value:"IS_NULL",displayValue:"\u2205"},{label:"\u4E0D\u4E3A\u7A7A",value:"NOT_NULL",displayValue:"!\u2205"}]},87450:function(Oe,le,e){e.r(le),e.d(le,{default:function(){return be}});var H=e(48305),a=e.n(H),n=e(34204),m=e(30704),U=e(6377),h=e(51802),b=e(61304),d=e(2660),I=e(56716),D=e(27791),z=e(73415),Q=e(53501),_=e(48512),de=e(24643),Y=e(64799),C=e(92122),J=e(45019),ee=e(44953),me=e(40677),Z=e(86743),r=e(63619),F=e(28246),N=e(43898),S=e(68108),i=e(7010),Ee=e(10580),ue=e(9504),Te=e(94581),Ce=e.n(Te),he=e(75271),se=e(56179),R={"xagi-nav-style2":"xagi-nav-style2___r06KJ",text:"text___LMfhu","page-container":"page-container___S5Asf",container:"container___Fwq3l","main-container":"main-container___BnLEw","code-wrap":"code-wrap___XYI5d",title:"title___VcUcA","request-select":"request-select___wCJnV","table-wrap":"table-wrap___EuCyz","mb-24":"mb-24___PIB_Q",select:"select___lnnl7"},O=e(26145),K=e(87620),A=e(86230),E=e(61606),V=e(23299),ae=e(66118),s=e(7036),X=e(73813),te=e(12758),k=e(73981),oe=e(16483),ye=e.n(oe),w={"xagi-nav-style2":"xagi-nav-style2___cjGhf",text:"text___HRMYU","page-container":"page-container___gk9XZ",header:"header___P8mE2","icon-back":"icon-back___wQGMi",logo:"logo___MuRti",section:"section___nmrv7","top-box":"top-box___xbScS",name:"name___e7yc4",circle:"circle___ggE8R","bottom-box":"bottom-box___FbQiT",box:"box___dCAYI","update-time":"update-time___y6ozx",segment:"segment___FWtpC",history:"history___raH8V","try-btn":"try-btn___DWPE4"},o=e(52676),G=Ce().bind(w),p=function(Ae){var De=Ae.codeMode,q=Ae.onChange,u=Ae.pluginInfo,re=Ae.onEdit,B=Ae.onToggleHistory,f=Ae.onSave,g=Ae.onTryRun,ne=Ae.onPublish,ve=(0,se.useParams)(),xe=ve.spaceId,L=(0,he.useMemo)(function(){if(u){var Se;return!(u!=null&&(Se=u.permissions)!==null&&Se!==void 0&&Se.includes(C.jE.Publish))}return!1},[u]);return(0,o.jsxs)("header",{className:G("flex","items-center","w-full",w.header),children:[(0,o.jsx)(E.Z,{className:G(w["icon-back"],"cursor-pointer"),onClick:function(){return(0,A.bC)("/space/".concat(xe,"/library"))}}),(0,o.jsx)("img",{className:G(w.logo),src:u?.icon||O,alt:""}),(0,o.jsxs)("section",{className:G("flex-1","flex","flex-col","content-between",w.section),children:[(0,o.jsxs)("div",{className:G("flex",w["top-box"]),children:[(0,o.jsx)("h3",{className:G(w.name,"text-ellipsis"),children:u?.name}),(0,o.jsx)(V.Z,{className:G("cursor-pointer","hover-box"),onClick:re}),u?.publishStatus===C.xH.Published&&(0,o.jsx)(ae.Z,{className:G(w.circle)}),u?.publishDate!==null&&ye()(u?.publishDate).isBefore(u?.modified)&&(0,o.jsx)(te.Z,{bordered:!1,color:"volcano",style:{marginLeft:"6px"},children:"\u6709\u66F4\u65B0\u672A\u53D1\u5E03"})]}),(0,o.jsxs)("div",{className:G(w["bottom-box"],"flex","items-center"),children:[(0,o.jsx)("span",{className:G(w.box),children:u?.type===J.AQ.HTTP?"http":"\u4EE3\u7801"}),(0,o.jsx)("span",{className:G(w.box),children:u?.publishStatus===C.xH.Published?"\u5DF2\u53D1\u5E03":"\u672A\u53D1\u5E03"}),(0,o.jsxs)("span",{className:G(w["update-time"]),children:["\u914D\u7F6E\u4FDD\u5B58\u4E8E",ye()(u?.modified).format("HH:mm")]})]})]}),(0,o.jsx)(k.Z,{rootClassName:w.segment,value:De,onChange:q,options:K.fi}),(0,o.jsx)(s.Z,{className:G(w.history,"cursor-pointer"),onClick:B}),(0,o.jsx)(ue.ZP,{className:G(w["try-btn"]),type:"primary",onClick:f,children:"\u4FDD\u5B58"}),(0,o.jsx)(ue.ZP,{className:G(w["try-btn"]),type:"primary",icon:(0,o.jsx)(X.Z,{}),onClick:g,children:"\u8BD5\u8FD0\u884C"}),(0,o.jsx)(ue.ZP,{type:"primary",onClick:ne,disabled:L,children:"\u53D1\u5E03"})]})},pe=p,ce=Ce().bind(R),Pe=function(){var Ae,De=(0,se.useParams)(),q=Number(De.spaceId),u=(0,he.useState)(J.N9.Metadata),re=a()(u,2),B=re[0],f=re[1],g=(0,he.useState)(""),ne=a()(g,2),ve=ne[0],xe=ne[1],L=(0,Q.Z)(),Se=L.isModalOpen,_e=L.setIsModalOpen,Be=L.autoAnalysisOpen,M=L.setAutoAnalysisOpen,l=L.visible,y=L.setVisible,W=L.openModal,T=L.setOpenModal,v=L.pluginId,t=L.pluginInfo,c=L.setPluginInfo,x=L.openPlugin,j=L.setOpenPlugin,P=L.inputConfigArgs,ge=L.setInputConfigArgs,Me=L.outputConfigArgs,je=L.expandedRowKeys,Fe=L.setExpandedRowKeys,Ge=L.outputExpandedRowKeys,Ze=L.handleInputValue,Ve=L.handleOutputValue,Qe=L.handleInputAddChild,We=L.handleOutputAddChild,ze=L.handleInputDel,Ne=L.handleOutputDel,Ue=L.handleConfirmUpdate,Je=L.handleInputConfigAdd,Ke=L.handleOutputConfigAdd,Xe=L.handleOutputConfigArgs,ke=L.handleConfirmPublishPlugin,we=L.handleUpdateSuccess,qe=L.isClickSaveBtnRef,en=(0,se.useRequest)(de.dB,{manual:!0,debounceInterval:300,onSuccess:function(ie){var $;if(c(ie),xe(ie==null||($=ie.config)===null||$===void 0?void 0:$.code),ie.config){var Re=ie.config,Ie=Re.inputArgs,$e=Re.outputArgs,vn=(0,me.kS)(Ie);Fe(vn),ge(Ie),Xe($e)}}}),nn=en.run,an=(0,se.useRequest)(de.TU,{manual:!0,debounceInterval:300,onSuccess:function(){we()}}),tn=an.run;(0,he.useEffect)(function(){nn(v)},[v]);var Ye=function(ie){return ie[ie.length-1]},ln=[{title:(0,o.jsx)(U.Z,{label:"\u53C2\u6570\u540D\u79F0"}),dataIndex:"name",key:"name",className:"flex items-center",render:function(ie,$){return(0,o.jsx)(r.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0\uFF0C\u786E\u4FDD\u542B\u4E49\u6E05\u6670",value:ie,onChange:function(Ie){return Ze($.key,"name",Ie.target.value)}})}},{title:(0,o.jsx)(U.Z,{label:"\u53C2\u6570\u63CF\u8FF0"}),dataIndex:"description",key:"description",render:function(ie,$){return(0,o.jsx)(r.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u63CF\u8FF0\uFF0C\u786E\u4FDD\u63CF\u8FF0\u8BE6\u7EC6\u4FBF\u4E8E\u5927\u6A21\u578B\u66F4\u597D\u7684\u7406\u89E3",value:ie,onChange:function(Ie){return Ze($.key,"description",Ie.target.value)}})}},{title:(0,o.jsx)(U.Z,{label:"\u53C2\u6570\u7C7B\u578B"}),dataIndex:"dataType",key:"dataType",width:120,render:function(ie,$){return(0,o.jsx)(F.Z,{rootClassName:R.select,allowClear:!1,options:_.DJ,expandTrigger:"hover",displayRender:Ye,defaultValue:(0,ee.n3)(ie),onChange:function(Ie){Ze($.key,"dataType",(0,ee.$g)(Ie))},placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u7C7B\u578B"})}},{title:"\u662F\u5426\u5FC5\u987B",dataIndex:"require",key:"require",width:100,align:"center",render:function(ie,$){return(0,o.jsx)(N.Z,{checked:ie,onChange:function(Ie){return Ze($.key,"require",Ie.target.checked)}})}},{title:"\u9ED8\u8BA4\u503C",dataIndex:"bindValue",key:"bindValue",width:150,render:function(ie,$){var Re;return(0,o.jsx)(r.Z,{placeholder:"\u8BF7\u8F93\u5165\u9ED8\u8BA4\u503C",disabled:C.Gi.Object===$.dataType||C.Gi.Array_Object===$.dataType||((Re=$.dataType)===null||Re===void 0?void 0:Re.includes("Array"))||!$.enable,value:ie,onChange:function($e){return Ze($.key,"bindValue",$e.target.value)}})}},{title:"\u5F00\u542F",dataIndex:"enable",key:"enable",width:70,align:"center",render:function(ie,$){return(0,o.jsx)(S.Z,{title:$.require&&!$.bindValue&&"\u6B64\u53C2\u6570\u662F\u5FC5\u586B\u53C2\u6570\uFF0C\u586B\u5199\u9ED8\u8BA4\u503C\u540E\uFF0C\u6B64\u5F00\u5173\u53EF\u7528",children:(0,o.jsx)(N.Z,{disabled:$.require&&!$.bindValue,checked:ie,onChange:function(Ie){return Ze($.key,"enable",Ie.target.checked)}})})}},{title:"\u64CD\u4F5C",key:"action",width:80,align:"right",render:function(ie,$){return(0,o.jsxs)(i.Z,{size:"middle",children:[(C.Gi.Object===$.dataType||C.Gi.Array_Object===$.dataType)&&(0,o.jsx)(z.Me,{className:ce("cursor-pointer"),onClick:function(){return Qe($.key)}}),(0,o.jsx)(Z.Z,{onClick:function(){return ze($.key)}})]})}}],sn=[{title:(0,o.jsx)(U.Z,{label:"\u53C2\u6570\u540D\u79F0"}),dataIndex:"name",key:"name",width:430,className:"flex items-center",render:function(ie,$){return(0,o.jsx)(r.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0\uFF0C\u786E\u4FDD\u542B\u4E49\u6E05\u6670",value:ie,onChange:function(Ie){return Ve($.key,"name",Ie.target.value)}})}},{title:(0,o.jsx)(U.Z,{label:"\u53C2\u6570\u63CF\u8FF0"}),dataIndex:"description",key:"description",render:function(ie,$){return(0,o.jsx)(r.Z,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u63CF\u8FF0\uFF0C\u786E\u4FDD\u63CF\u8FF0\u8BE6\u7EC6\u4FBF\u4E8E\u5927\u6A21\u578B\u66F4\u597D\u7684\u7406\u89E3",onChange:function(Ie){return Ve($.key,"description",Ie.target.value)},value:ie})}},{title:(0,o.jsx)(U.Z,{label:"\u53C2\u6570\u7C7B\u578B"}),dataIndex:"dataType",key:"dataType",width:120,render:function(ie,$){return(0,o.jsx)(F.Z,{allowClear:!1,rootClassName:R.select,options:_.DJ,expandTrigger:"hover",displayRender:Ye,defaultValue:(0,ee.n3)(ie),onChange:function(Ie){Ve($.key,"dataType",(0,ee.$g)(Ie))},placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u7C7B\u578B"})}},{title:"\u5F00\u542F",dataIndex:"enable",key:"enable",width:70,align:"center",render:function(ie,$){return(0,o.jsx)(N.Z,{checked:ie,onChange:function(Ie){return Ve($.key,"enable",Ie.target.checked)}})}},{title:"\u64CD\u4F5C",key:"action",width:80,align:"right",render:function(ie,$){return(0,o.jsxs)(i.Z,{size:"middle",children:[(C.Gi.Object===$.dataType||C.Gi.Array_Object===$.dataType)&&(0,o.jsx)(z.Me,{className:ce("cursor-pointer"),onClick:function(){return We($.key)}}),(0,o.jsx)(Z.Z,{onClick:function(){return Ne($.key)}})]})}}],He=function(){tn({id:v,config:{inputArgs:P,outputArgs:Me,code:ve}})},rn=function(){qe.current=!0,He()},on=function(){He(),_e(!0)},un=function(){He(),T(!0)},dn=function(){He(),M(!0)},cn=function(ie){var $=ie;f($)};return(0,o.jsxs)("div",{className:ce("flex","h-full"),children:[(0,o.jsxs)("div",{className:ce(R.container,"flex","flex-col","flex-1"),children:[(0,o.jsx)(pe,{codeMode:B,pluginInfo:t,onEdit:function(){return j(!0)},onChange:cn,onToggleHistory:function(){return y(!l)},onSave:rn,onTryRun:on,onPublish:un}),B===J.N9.Metadata?(0,o.jsxs)("div",{className:ce(R["main-container"],"overflow-y","flex-1"),children:[(0,o.jsx)(b.Z,{title:"\u5165\u53C2\u914D\u7F6E",onClick:Je}),(0,o.jsx)(Ee.Z,{className:ce(R["table-wrap"],R["mb-24"],"overflow-hide"),columns:ln,dataSource:P,pagination:!1,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:je,expandIcon:function(){return null}}}),(0,o.jsx)(b.Z,{title:"\u51FA\u53C2\u914D\u7F6E",onClick:Ke,extra:(0,o.jsx)(ue.ZP,{onClick:dn,children:"\u81EA\u52A8\u89E3\u6790"})}),(0,o.jsx)(Ee.Z,{className:ce(R["table-wrap"],"overflow-hide"),columns:sn,dataSource:Me,pagination:!1,expandable:{childrenColumnName:"subArgs",defaultExpandAllRows:!0,expandedRowKeys:Ge,expandIcon:function(){return null}}})]}):(0,o.jsx)("div",{className:ce(R["main-container"],R["code-wrap"],"overflow-y","flex-1"),children:(0,o.jsx)(n.Z,{value:ve,height:"100%",onChange:xe,codeLanguage:t==null||(Ae=t.config)===null||Ae===void 0?void 0:Ae.codeLang})})]}),(0,o.jsx)(d.Z,{inputConfigArgs:P,inputExpandedRowKeys:je,pluginId:v,pluginName:t?.name,open:Se,onCancel:function(){return _e(!1)}}),(0,o.jsx)(h.Z,{inputConfigArgs:P,inputExpandedRowKeys:je,pluginId:v,pluginName:t?.name,open:Be,onCancel:function(){return M(!1)},onConfirm:Xe}),(0,o.jsx)(I.Z,{mode:Y.qR.Plugin,targetId:v,category:t?.category,spaceId:q,open:W,onlyShowTemplate:!1,onCancel:function(){return T(!1)},onConfirm:ke}),(0,o.jsx)(D.Z,{targetId:v,targetName:t?.name,targetType:Y.qR.Plugin,permissions:t?.permissions||[],visible:l,onClose:function(){return y(!1)}}),(0,o.jsx)(m.Z,{open:x,id:t?.id,icon:t?.icon,name:t?.name,description:t?.description,mode:C.jA.Update,onCancel:function(){return j(!1)},onConfirm:Ue})]})},be=Pe},63136:function(Oe,le,e){e.d(le,{L:function(){return a},U:function(){return H}});var H=function(n){return n.WORKFLOW_LLM_NODE="WORKFLOW_LLM_NODE",n.AGENT="AGENT",n}({}),a=function(n){return n.prompt="prompt",n.code="code",n.sql="sql",n}({})},15457:function(){},65774:function(Oe,le,e){Oe.exports=e.p+"static/doc_image.5415f2c1.jpg"},35044:function(Oe){Oe.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAH1SURBVEiJvZaxbtNQFIb///q67YDUDAwMDJHqoQ/A2KE3UCkSCwMvgBBTB54A0ZFKIBUhBAxIvEEHhhIHeh+AB2BB6sJQqUtGGtf+WRrHVZI6dm3+6crnHH86v3TuPRwMvj8CzAcSVtL7lRVz4JwboSUxjo/PANwufBtJetsWmHF8/AvA5pxYK2BD8tuCWIfkyyTRyWDwY89732kEmKbpoCSnUTC997eSRGcA1pasGZF8bS3eOOf+VgYCwHDovaTtKoUSTkm+CkN8qgI2AJBlWZmtMyJxB9DBeKyTOPbPvfdLOUQAiGN/D9DPqtCilu2Yk8OceWwFbArsReNRSWVW5x0Oh35Lwi6gLolIunm3QN7xXhjis3PugosSvfedJEFXSiOAEWk2SHUlbAK4W4P9m0yfLAReJ++9HY/RJ/W1YukfU54zV9YYBXUKF3Z4eOg76+vayDJGWYYugAhQJCEi61rKqaVHR8PtILC7gC5/jkYuaxKnkl6EofninLuwk0AQ2KeAHjcBmYDSVPurq+ajc718Hu00Rf2mQTs7vZnBt0B+td1o7spAV4AA7rcNugIk0ZfaBeV1dR5gSfuXu07lB9ien6dbxphlYIWlqld7qbLGBA+Ba/1sBJQDAT34H6ACcOYZagWUAyU+I/UOwNp01W8eNNE/wcEU7Dx0xUMAAAAASUVORK5CYII="}}]);})();
