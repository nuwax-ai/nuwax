(()=>{(self.webpackChunknuwax_frontend=self.webpackChunknuwax_frontend||[]).push([[4850],{21553:function(jt,lt,pt){(function(y,o){jt.exports=o(pt(20378))})(this,function(x){return(()=>{"use strict";var y={45:(t,m,r)=>{var d={};d.layoutBase=r(551),d.CoSEConstants=r(806),d.CoSEEdge=r(767),d.CoSEGraph=r(880),d.CoSEGraphManager=r(578),d.CoSELayout=r(765),d.CoSENode=r(991),d.ConstraintHandler=r(902),t.exports=d},806:(t,m,r)=>{var d=r(551).FDLayoutConstants;function e(){}for(var a in d)e[a]=d[a];e.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,e.DEFAULT_RADIAL_SEPARATION=d.DEFAULT_EDGE_LENGTH,e.DEFAULT_COMPONENT_SEPERATION=60,e.TILE=!0,e.TILING_PADDING_VERTICAL=10,e.TILING_PADDING_HORIZONTAL=10,e.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,e.ENFORCE_CONSTRAINTS=!0,e.APPLY_LAYOUT=!0,e.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,e.TREE_REDUCTION_ON_INCREMENTAL=!0,e.PURE_INCREMENTAL=e.DEFAULT_INCREMENTAL,t.exports=e},767:(t,m,r)=>{var d=r(551).FDLayoutEdge;function e(l,u,c){d.call(this,l,u,c)}e.prototype=Object.create(d.prototype);for(var a in d)e[a]=d[a];t.exports=e},880:(t,m,r)=>{var d=r(551).LGraph;function e(l,u,c){d.call(this,l,u,c)}e.prototype=Object.create(d.prototype);for(var a in d)e[a]=d[a];t.exports=e},578:(t,m,r)=>{var d=r(551).LGraphManager;function e(l){d.call(this,l)}e.prototype=Object.create(d.prototype);for(var a in d)e[a]=d[a];t.exports=e},765:(t,m,r)=>{var d=r(551).FDLayout,e=r(578),a=r(880),l=r(991),u=r(767),c=r(806),T=r(902),h=r(551).FDLayoutConstants,A=r(551).LayoutConstants,N=r(551).Point,L=r(551).PointD,I=r(551).DimensionD,j=r(551).Layout,R=r(551).Integer,nt=r(551).IGeometry,gt=r(551).LGraph,ft=r(551).Transform,mt=r(551).LinkedList;function G(){d.call(this),this.toBeTiled={},this.constraints={}}G.prototype=Object.create(d.prototype);for(var K in d)G[K]=d[K];G.prototype.newGraphManager=function(){var n=new e(this);return this.graphManager=n,n},G.prototype.newGraph=function(n){return new a(null,this.graphManager,n)},G.prototype.newNode=function(n){return new l(this.graphManager,n)},G.prototype.newEdge=function(n){return new u(null,null,n)},G.prototype.initParameters=function(){d.prototype.initParameters.call(this,arguments),this.isSubLayout||(c.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=c.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=c.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=h.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=h.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=h.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},G.prototype.initSpringEmbedder=function(){d.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/h.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},G.prototype.layout=function(){var n=A.DEFAULT_CREATE_BENDS_AS_NEEDED;return n&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},G.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(c.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var v=new Set(this.getAllNodes()),f=this.nodesWithGravity.filter(function(S){return v.has(S)});this.graphManager.setAllNodesToApplyGravitation(f)}}else{var n=this.getFlatForest();if(n.length>0)this.positionNodesRadially(n);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var v=new Set(this.getAllNodes()),f=this.nodesWithGravity.filter(function(E){return v.has(E)});this.graphManager.setAllNodesToApplyGravitation(f),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(T.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),c.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},G.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%h.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var n=new Set(this.getAllNodes()),v=this.nodesWithGravity.filter(function(p){return n.has(p)});this.graphManager.setAllNodesToApplyGravitation(v),this.graphManager.updateBounds(),this.updateGrid(),c.PURE_INCREMENTAL?this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),c.PURE_INCREMENTAL?this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var f=!this.isTreeGrowing&&!this.isGrowthFinished,E=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(f,E),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},G.prototype.getPositionsData=function(){for(var n=this.graphManager.getAllNodes(),v={},f=0;f<n.length;f++){var E=n[f].rect,p=n[f].id;v[p]={id:p,x:E.getCenterX(),y:E.getCenterY(),w:E.width,h:E.height}}return v},G.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var n=!1;if(h.ANIMATE==="during")this.emit("layoutstarted");else{for(;!n;)n=this.tick();this.graphManager.updateBounds()}},G.prototype.moveNodes=function(){for(var n=this.getAllNodes(),v,f=0;f<n.length;f++)v=n[f],v.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var f=0;f<n.length;f++)v=n[f],v.move()},G.prototype.initConstraintVariables=function(){var n=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var v=this.graphManager.getAllNodes(),f=0;f<v.length;f++){var E=v[f];this.idToNodeMap.set(E.id,E)}var p=function w($){for(var Z=$.getChild().getNodes(),J,Et=0,it=0;it<Z.length;it++)J=Z[it],J.getChild()==null?n.fixedNodeSet.has(J.id)&&(Et+=100):Et+=w(J);return Et};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(Z){n.fixedNodeSet.add(Z.nodeId)});for(var v=this.graphManager.getAllNodes(),E,f=0;f<v.length;f++)if(E=v[f],E.getChild()!=null){var S=p(E);S>0&&(E.fixedNodeWeight=S)}}if(this.constraints.relativePlacementConstraint){var O=new Map,H=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(w){n.fixedNodesOnHorizontal.add(w),n.fixedNodesOnVertical.add(w)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var W=this.constraints.alignmentConstraint.vertical,f=0;f<W.length;f++)this.dummyToNodeForVerticalAlignment.set("dummy"+f,[]),W[f].forEach(function($){O.set($,"dummy"+f),n.dummyToNodeForVerticalAlignment.get("dummy"+f).push($),n.fixedNodeSet.has($)&&n.fixedNodesOnHorizontal.add("dummy"+f)});if(this.constraints.alignmentConstraint.horizontal)for(var Y=this.constraints.alignmentConstraint.horizontal,f=0;f<Y.length;f++)this.dummyToNodeForHorizontalAlignment.set("dummy"+f,[]),Y[f].forEach(function($){H.set($,"dummy"+f),n.dummyToNodeForHorizontalAlignment.get("dummy"+f).push($),n.fixedNodeSet.has($)&&n.fixedNodesOnVertical.add("dummy"+f)})}if(c.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(w){var $,Z,J;for(J=w.length-1;J>=2*w.length/3;J--)$=Math.floor(Math.random()*(J+1)),Z=w[J],w[J]=w[$],w[$]=Z;return w},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(w){if(w.left){var $=O.has(w.left)?O.get(w.left):w.left,Z=O.has(w.right)?O.get(w.right):w.right;n.nodesInRelativeHorizontal.includes($)||(n.nodesInRelativeHorizontal.push($),n.nodeToRelativeConstraintMapHorizontal.set($,[]),n.dummyToNodeForVerticalAlignment.has($)?n.nodeToTempPositionMapHorizontal.set($,n.idToNodeMap.get(n.dummyToNodeForVerticalAlignment.get($)[0]).getCenterX()):n.nodeToTempPositionMapHorizontal.set($,n.idToNodeMap.get($).getCenterX())),n.nodesInRelativeHorizontal.includes(Z)||(n.nodesInRelativeHorizontal.push(Z),n.nodeToRelativeConstraintMapHorizontal.set(Z,[]),n.dummyToNodeForVerticalAlignment.has(Z)?n.nodeToTempPositionMapHorizontal.set(Z,n.idToNodeMap.get(n.dummyToNodeForVerticalAlignment.get(Z)[0]).getCenterX()):n.nodeToTempPositionMapHorizontal.set(Z,n.idToNodeMap.get(Z).getCenterX())),n.nodeToRelativeConstraintMapHorizontal.get($).push({right:Z,gap:w.gap}),n.nodeToRelativeConstraintMapHorizontal.get(Z).push({left:$,gap:w.gap})}else{var J=H.has(w.top)?H.get(w.top):w.top,Et=H.has(w.bottom)?H.get(w.bottom):w.bottom;n.nodesInRelativeVertical.includes(J)||(n.nodesInRelativeVertical.push(J),n.nodeToRelativeConstraintMapVertical.set(J,[]),n.dummyToNodeForHorizontalAlignment.has(J)?n.nodeToTempPositionMapVertical.set(J,n.idToNodeMap.get(n.dummyToNodeForHorizontalAlignment.get(J)[0]).getCenterY()):n.nodeToTempPositionMapVertical.set(J,n.idToNodeMap.get(J).getCenterY())),n.nodesInRelativeVertical.includes(Et)||(n.nodesInRelativeVertical.push(Et),n.nodeToRelativeConstraintMapVertical.set(Et,[]),n.dummyToNodeForHorizontalAlignment.has(Et)?n.nodeToTempPositionMapVertical.set(Et,n.idToNodeMap.get(n.dummyToNodeForHorizontalAlignment.get(Et)[0]).getCenterY()):n.nodeToTempPositionMapVertical.set(Et,n.idToNodeMap.get(Et).getCenterY())),n.nodeToRelativeConstraintMapVertical.get(J).push({bottom:Et,gap:w.gap}),n.nodeToRelativeConstraintMapVertical.get(Et).push({top:J,gap:w.gap})}});else{var et=new Map,st=new Map;this.constraints.relativePlacementConstraint.forEach(function(w){if(w.left){var $=O.has(w.left)?O.get(w.left):w.left,Z=O.has(w.right)?O.get(w.right):w.right;et.has($)?et.get($).push(Z):et.set($,[Z]),et.has(Z)?et.get(Z).push($):et.set(Z,[$])}else{var J=H.has(w.top)?H.get(w.top):w.top,Et=H.has(w.bottom)?H.get(w.bottom):w.bottom;st.has(J)?st.get(J).push(Et):st.set(J,[Et]),st.has(Et)?st.get(Et).push(J):st.set(Et,[J])}});var B=function($,Z){var J=[],Et=[],it=new mt,Pt=new Set,Mt=0;return $.forEach(function(Xt,Gt){if(!Pt.has(Gt)){J[Mt]=[],Et[Mt]=!1;var vt=Gt;for(it.push(vt),Pt.add(vt),J[Mt].push(vt);it.length!=0;){vt=it.shift(),Z.has(vt)&&(Et[Mt]=!0);var ct=$.get(vt);ct.forEach(function(xt){Pt.has(xt)||(it.push(xt),Pt.add(xt),J[Mt].push(xt))})}Mt++}}),{components:J,isFixed:Et}},ht=B(et,n.fixedNodesOnHorizontal);this.componentsOnHorizontal=ht.components,this.fixedComponentsOnHorizontal=ht.isFixed;var _=B(st,n.fixedNodesOnVertical);this.componentsOnVertical=_.components,this.fixedComponentsOnVertical=_.isFixed}}},G.prototype.updateDisplacements=function(){var n=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(_){var w=n.idToNodeMap.get(_.nodeId);w.displacementX=0,w.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var v=this.constraints.alignmentConstraint.vertical,f=0;f<v.length;f++){for(var E=0,p=0;p<v[f].length;p++){if(this.fixedNodeSet.has(v[f][p])){E=0;break}E+=this.idToNodeMap.get(v[f][p]).displacementX}for(var S=E/v[f].length,p=0;p<v[f].length;p++)this.idToNodeMap.get(v[f][p]).displacementX=S}if(this.constraints.alignmentConstraint.horizontal)for(var O=this.constraints.alignmentConstraint.horizontal,f=0;f<O.length;f++){for(var H=0,p=0;p<O[f].length;p++){if(this.fixedNodeSet.has(O[f][p])){H=0;break}H+=this.idToNodeMap.get(O[f][p]).displacementY}for(var W=H/O[f].length,p=0;p<O[f].length;p++)this.idToNodeMap.get(O[f][p]).displacementY=W}}if(this.constraints.relativePlacementConstraint)if(c.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(_){if(!n.fixedNodesOnHorizontal.has(_)){var w=0;n.dummyToNodeForVerticalAlignment.has(_)?w=n.idToNodeMap.get(n.dummyToNodeForVerticalAlignment.get(_)[0]).displacementX:w=n.idToNodeMap.get(_).displacementX,n.nodeToRelativeConstraintMapHorizontal.get(_).forEach(function($){if($.right){var Z=n.nodeToTempPositionMapHorizontal.get($.right)-n.nodeToTempPositionMapHorizontal.get(_)-w;Z<$.gap&&(w-=$.gap-Z)}else{var Z=n.nodeToTempPositionMapHorizontal.get(_)-n.nodeToTempPositionMapHorizontal.get($.left)+w;Z<$.gap&&(w+=$.gap-Z)}}),n.nodeToTempPositionMapHorizontal.set(_,n.nodeToTempPositionMapHorizontal.get(_)+w),n.dummyToNodeForVerticalAlignment.has(_)?n.dummyToNodeForVerticalAlignment.get(_).forEach(function($){n.idToNodeMap.get($).displacementX=w}):n.idToNodeMap.get(_).displacementX=w}}),this.nodesInRelativeVertical.forEach(function(_){if(!n.fixedNodesOnHorizontal.has(_)){var w=0;n.dummyToNodeForHorizontalAlignment.has(_)?w=n.idToNodeMap.get(n.dummyToNodeForHorizontalAlignment.get(_)[0]).displacementY:w=n.idToNodeMap.get(_).displacementY,n.nodeToRelativeConstraintMapVertical.get(_).forEach(function($){if($.bottom){var Z=n.nodeToTempPositionMapVertical.get($.bottom)-n.nodeToTempPositionMapVertical.get(_)-w;Z<$.gap&&(w-=$.gap-Z)}else{var Z=n.nodeToTempPositionMapVertical.get(_)-n.nodeToTempPositionMapVertical.get($.top)+w;Z<$.gap&&(w+=$.gap-Z)}}),n.nodeToTempPositionMapVertical.set(_,n.nodeToTempPositionMapVertical.get(_)+w),n.dummyToNodeForHorizontalAlignment.has(_)?n.dummyToNodeForHorizontalAlignment.get(_).forEach(function($){n.idToNodeMap.get($).displacementY=w}):n.idToNodeMap.get(_).displacementY=w}});else{for(var f=0;f<this.componentsOnHorizontal.length;f++){var Y=this.componentsOnHorizontal[f];if(this.fixedComponentsOnHorizontal[f])for(var p=0;p<Y.length;p++)this.dummyToNodeForVerticalAlignment.has(Y[p])?this.dummyToNodeForVerticalAlignment.get(Y[p]).forEach(function($){n.idToNodeMap.get($).displacementX=0}):this.idToNodeMap.get(Y[p]).displacementX=0;else{for(var et=0,st=0,p=0;p<Y.length;p++)if(this.dummyToNodeForVerticalAlignment.has(Y[p])){var B=this.dummyToNodeForVerticalAlignment.get(Y[p]);et+=B.length*this.idToNodeMap.get(B[0]).displacementX,st+=B.length}else et+=this.idToNodeMap.get(Y[p]).displacementX,st++;for(var ht=et/st,p=0;p<Y.length;p++)this.dummyToNodeForVerticalAlignment.has(Y[p])?this.dummyToNodeForVerticalAlignment.get(Y[p]).forEach(function($){n.idToNodeMap.get($).displacementX=ht}):this.idToNodeMap.get(Y[p]).displacementX=ht}}for(var f=0;f<this.componentsOnVertical.length;f++){var Y=this.componentsOnVertical[f];if(this.fixedComponentsOnVertical[f])for(var p=0;p<Y.length;p++)this.dummyToNodeForHorizontalAlignment.has(Y[p])?this.dummyToNodeForHorizontalAlignment.get(Y[p]).forEach(function(Z){n.idToNodeMap.get(Z).displacementY=0}):this.idToNodeMap.get(Y[p]).displacementY=0;else{for(var et=0,st=0,p=0;p<Y.length;p++)if(this.dummyToNodeForHorizontalAlignment.has(Y[p])){var B=this.dummyToNodeForHorizontalAlignment.get(Y[p]);et+=B.length*this.idToNodeMap.get(B[0]).displacementY,st+=B.length}else et+=this.idToNodeMap.get(Y[p]).displacementY,st++;for(var ht=et/st,p=0;p<Y.length;p++)this.dummyToNodeForHorizontalAlignment.has(Y[p])?this.dummyToNodeForHorizontalAlignment.get(Y[p]).forEach(function(it){n.idToNodeMap.get(it).displacementY=ht}):this.idToNodeMap.get(Y[p]).displacementY=ht}}}},G.prototype.calculateNodesToApplyGravitationTo=function(){var n=[],v,f=this.graphManager.getGraphs(),E=f.length,p;for(p=0;p<E;p++)v=f[p],v.updateConnected(),v.isConnected||(n=n.concat(v.getNodes()));return n},G.prototype.createBendpoints=function(){var n=[];n=n.concat(this.graphManager.getAllEdges());var v=new Set,f;for(f=0;f<n.length;f++){var E=n[f];if(!v.has(E)){var p=E.getSource(),S=E.getTarget();if(p==S)E.getBendpoints().push(new L),E.getBendpoints().push(new L),this.createDummyNodesForBendpoints(E),v.add(E);else{var O=[];if(O=O.concat(p.getEdgeListToNode(S)),O=O.concat(S.getEdgeListToNode(p)),!v.has(O[0])){if(O.length>1){var H;for(H=0;H<O.length;H++){var W=O[H];W.getBendpoints().push(new L),this.createDummyNodesForBendpoints(W)}}O.forEach(function(Y){v.add(Y)})}}}if(v.size==n.length)break}},G.prototype.positionNodesRadially=function(n){for(var v=new N(0,0),f=Math.ceil(Math.sqrt(n.length)),E=0,p=0,S=0,O=new L(0,0),H=0;H<n.length;H++){H%f==0&&(S=0,p=E,H!=0&&(p+=c.DEFAULT_COMPONENT_SEPERATION),E=0);var W=n[H],Y=j.findCenterOfTree(W);v.x=S,v.y=p,O=G.radialLayout(W,Y,v),O.y>E&&(E=Math.floor(O.y)),S=Math.floor(O.x+c.DEFAULT_COMPONENT_SEPERATION)}this.transform(new L(A.WORLD_CENTER_X-O.x/2,A.WORLD_CENTER_Y-O.y/2))},G.radialLayout=function(n,v,f){var E=Math.max(this.maxDiagonalInTree(n),c.DEFAULT_RADIAL_SEPARATION);G.branchRadialLayout(v,null,0,359,0,E);var p=gt.calculateBounds(n),S=new ft;S.setDeviceOrgX(p.getMinX()),S.setDeviceOrgY(p.getMinY()),S.setWorldOrgX(f.x),S.setWorldOrgY(f.y);for(var O=0;O<n.length;O++){var H=n[O];H.transform(S)}var W=new L(p.getMaxX(),p.getMaxY());return S.inverseTransformPoint(W)},G.branchRadialLayout=function(n,v,f,E,p,S){var O=(E-f+1)/2;O<0&&(O+=180);var H=(O+f)%360,W=H*nt.TWO_PI/360,Y=Math.cos(W),et=p*Math.cos(W),st=p*Math.sin(W);n.setCenter(et,st);var B=[];B=B.concat(n.getEdges());var ht=B.length;v!=null&&ht--;for(var _=0,w=B.length,$,Z=n.getEdgesBetween(v);Z.length>1;){var J=Z[0];Z.splice(0,1);var Et=B.indexOf(J);Et>=0&&B.splice(Et,1),w--,ht--}v!=null?$=(B.indexOf(Z[0])+1)%w:$=0;for(var it=Math.abs(E-f)/ht,Pt=$;_!=ht;Pt=++Pt%w){var Mt=B[Pt].getOtherEnd(n);if(Mt!=v){var Xt=(f+_*it)%360,Gt=(Xt+it)%360;G.branchRadialLayout(Mt,n,Xt,Gt,p+S,S),_++}}},G.maxDiagonalInTree=function(n){for(var v=R.MIN_VALUE,f=0;f<n.length;f++){var E=n[f],p=E.getDiagonal();p>v&&(v=p)}return v},G.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},G.prototype.groupZeroDegreeMembers=function(){var n=this,v={};this.memberGroups={},this.idToDummyNode={};for(var f=[],E=this.graphManager.getAllNodes(),p=0;p<E.length;p++){var S=E[p],O=S.getParent();this.getNodeDegreeWithChildren(S)===0&&(O.id==null||!this.getToBeTiled(O))&&f.push(S)}for(var p=0;p<f.length;p++){var S=f[p],H=S.getParent().id;typeof v[H]>"u"&&(v[H]=[]),v[H]=v[H].concat(S)}Object.keys(v).forEach(function(W){if(v[W].length>1){var Y="DummyCompound_"+W;n.memberGroups[Y]=v[W];var et=v[W][0].getParent(),st=new l(n.graphManager);st.id=Y,st.paddingLeft=et.paddingLeft||0,st.paddingRight=et.paddingRight||0,st.paddingBottom=et.paddingBottom||0,st.paddingTop=et.paddingTop||0,n.idToDummyNode[Y]=st;var B=n.getGraphManager().add(n.newGraph(),st),ht=et.getChild();ht.add(st);for(var _=0;_<v[W].length;_++){var w=v[W][_];ht.remove(w),B.add(w)}}})},G.prototype.clearCompounds=function(){var n={},v={};this.performDFSOnCompounds();for(var f=0;f<this.compoundOrder.length;f++)v[this.compoundOrder[f].id]=this.compoundOrder[f],n[this.compoundOrder[f].id]=[].concat(this.compoundOrder[f].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[f].getChild()),this.compoundOrder[f].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(n,v)},G.prototype.clearZeroDegreeMembers=function(){var n=this,v=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(f){var E=n.idToDummyNode[f];if(v[f]=n.tileNodes(n.memberGroups[f],E.paddingLeft+E.paddingRight),E.rect.width=v[f].width,E.rect.height=v[f].height,E.setCenter(v[f].centerX,v[f].centerY),E.labelMarginLeft=0,E.labelMarginTop=0,c.NODE_DIMENSIONS_INCLUDE_LABELS){var p=E.rect.width,S=E.rect.height;E.labelWidth&&(E.labelPosHorizontal=="left"?(E.rect.x-=E.labelWidth,E.setWidth(p+E.labelWidth),E.labelMarginLeft=E.labelWidth):E.labelPosHorizontal=="center"&&E.labelWidth>p?(E.rect.x-=(E.labelWidth-p)/2,E.setWidth(E.labelWidth),E.labelMarginLeft=(E.labelWidth-p)/2):E.labelPosHorizontal=="right"&&E.setWidth(p+E.labelWidth)),E.labelHeight&&(E.labelPosVertical=="top"?(E.rect.y-=E.labelHeight,E.setHeight(S+E.labelHeight),E.labelMarginTop=E.labelHeight):E.labelPosVertical=="center"&&E.labelHeight>S?(E.rect.y-=(E.labelHeight-S)/2,E.setHeight(E.labelHeight),E.labelMarginTop=(E.labelHeight-S)/2):E.labelPosVertical=="bottom"&&E.setHeight(S+E.labelHeight))}})},G.prototype.repopulateCompounds=function(){for(var n=this.compoundOrder.length-1;n>=0;n--){var v=this.compoundOrder[n],f=v.id,E=v.paddingLeft,p=v.paddingTop,S=v.labelMarginLeft,O=v.labelMarginTop;this.adjustLocations(this.tiledMemberPack[f],v.rect.x,v.rect.y,E,p,S,O)}},G.prototype.repopulateZeroDegreeMembers=function(){var n=this,v=this.tiledZeroDegreePack;Object.keys(v).forEach(function(f){var E=n.idToDummyNode[f],p=E.paddingLeft,S=E.paddingTop,O=E.labelMarginLeft,H=E.labelMarginTop;n.adjustLocations(v[f],E.rect.x,E.rect.y,p,S,O,H)})},G.prototype.getToBeTiled=function(n){var v=n.id;if(this.toBeTiled[v]!=null)return this.toBeTiled[v];var f=n.getChild();if(f==null)return this.toBeTiled[v]=!1,!1;for(var E=f.getNodes(),p=0;p<E.length;p++){var S=E[p];if(this.getNodeDegree(S)>0)return this.toBeTiled[v]=!1,!1;if(S.getChild()==null){this.toBeTiled[S.id]=!1;continue}if(!this.getToBeTiled(S))return this.toBeTiled[v]=!1,!1}return this.toBeTiled[v]=!0,!0},G.prototype.getNodeDegree=function(n){for(var v=n.id,f=n.getEdges(),E=0,p=0;p<f.length;p++){var S=f[p];S.getSource().id!==S.getTarget().id&&(E=E+1)}return E},G.prototype.getNodeDegreeWithChildren=function(n){var v=this.getNodeDegree(n);if(n.getChild()==null)return v;for(var f=n.getChild().getNodes(),E=0;E<f.length;E++){var p=f[E];v+=this.getNodeDegreeWithChildren(p)}return v},G.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},G.prototype.fillCompexOrderByDFS=function(n){for(var v=0;v<n.length;v++){var f=n[v];f.getChild()!=null&&this.fillCompexOrderByDFS(f.getChild().getNodes()),this.getToBeTiled(f)&&this.compoundOrder.push(f)}},G.prototype.adjustLocations=function(n,v,f,E,p,S,O){v+=E+S,f+=p+O;for(var H=v,W=0;W<n.rows.length;W++){var Y=n.rows[W];v=H;for(var et=0,st=0;st<Y.length;st++){var B=Y[st];B.rect.x=v,B.rect.y=f,v+=B.rect.width+n.horizontalPadding,B.rect.height>et&&(et=B.rect.height)}f+=et+n.verticalPadding}},G.prototype.tileCompoundMembers=function(n,v){var f=this;this.tiledMemberPack=[],Object.keys(n).forEach(function(E){var p=v[E];if(f.tiledMemberPack[E]=f.tileNodes(n[E],p.paddingLeft+p.paddingRight),p.rect.width=f.tiledMemberPack[E].width,p.rect.height=f.tiledMemberPack[E].height,p.setCenter(f.tiledMemberPack[E].centerX,f.tiledMemberPack[E].centerY),p.labelMarginLeft=0,p.labelMarginTop=0,c.NODE_DIMENSIONS_INCLUDE_LABELS){var S=p.rect.width,O=p.rect.height;p.labelWidth&&(p.labelPosHorizontal=="left"?(p.rect.x-=p.labelWidth,p.setWidth(S+p.labelWidth),p.labelMarginLeft=p.labelWidth):p.labelPosHorizontal=="center"&&p.labelWidth>S?(p.rect.x-=(p.labelWidth-S)/2,p.setWidth(p.labelWidth),p.labelMarginLeft=(p.labelWidth-S)/2):p.labelPosHorizontal=="right"&&p.setWidth(S+p.labelWidth)),p.labelHeight&&(p.labelPosVertical=="top"?(p.rect.y-=p.labelHeight,p.setHeight(O+p.labelHeight),p.labelMarginTop=p.labelHeight):p.labelPosVertical=="center"&&p.labelHeight>O?(p.rect.y-=(p.labelHeight-O)/2,p.setHeight(p.labelHeight),p.labelMarginTop=(p.labelHeight-O)/2):p.labelPosVertical=="bottom"&&p.setHeight(O+p.labelHeight))}})},G.prototype.tileNodes=function(n,v){var f=this.tileNodesByFavoringDim(n,v,!0),E=this.tileNodesByFavoringDim(n,v,!1),p=this.getOrgRatio(f),S=this.getOrgRatio(E),O;return S<p?O=E:O=f,O},G.prototype.getOrgRatio=function(n){var v=n.width,f=n.height,E=v/f;return E<1&&(E=1/E),E},G.prototype.calcIdealRowWidth=function(n,v){var f=c.TILING_PADDING_VERTICAL,E=c.TILING_PADDING_HORIZONTAL,p=n.length,S=0,O=0,H=0;n.forEach(function(_){S+=_.getWidth(),O+=_.getHeight(),_.getWidth()>H&&(H=_.getWidth())});var W=S/p,Y=O/p,et=Math.pow(f-E,2)+4*(W+E)*(Y+f)*p,st=(E-f+Math.sqrt(et))/(2*(W+E)),B;v?(B=Math.ceil(st),B==st&&B++):B=Math.floor(st);var ht=B*(W+E)-E;return H>ht&&(ht=H),ht+=E*2,ht},G.prototype.tileNodesByFavoringDim=function(n,v,f){var E=c.TILING_PADDING_VERTICAL,p=c.TILING_PADDING_HORIZONTAL,S=c.TILING_COMPARE_BY,O={rows:[],rowWidth:[],rowHeight:[],width:0,height:v,verticalPadding:E,horizontalPadding:p,centerX:0,centerY:0};S&&(O.idealRowWidth=this.calcIdealRowWidth(n,f));var H=function(w){return w.rect.width*w.rect.height},W=function(w,$){return H($)-H(w)};n.sort(function(_,w){var $=W;return O.idealRowWidth?($=S,$(_.id,w.id)):$(_,w)});for(var Y=0,et=0,st=0;st<n.length;st++){var B=n[st];Y+=B.getCenterX(),et+=B.getCenterY()}O.centerX=Y/n.length,O.centerY=et/n.length;for(var st=0;st<n.length;st++){var B=n[st];if(O.rows.length==0)this.insertNodeToRow(O,B,0,v);else if(this.canAddHorizontal(O,B.rect.width,B.rect.height)){var ht=O.rows.length-1;O.idealRowWidth||(ht=this.getShortestRowIndex(O)),this.insertNodeToRow(O,B,ht,v)}else this.insertNodeToRow(O,B,O.rows.length,v);this.shiftToLastRow(O)}return O},G.prototype.insertNodeToRow=function(n,v,f,E){var p=E;if(f==n.rows.length){var S=[];n.rows.push(S),n.rowWidth.push(p),n.rowHeight.push(0)}var O=n.rowWidth[f]+v.rect.width;n.rows[f].length>0&&(O+=n.horizontalPadding),n.rowWidth[f]=O,n.width<O&&(n.width=O);var H=v.rect.height;f>0&&(H+=n.verticalPadding);var W=0;H>n.rowHeight[f]&&(W=n.rowHeight[f],n.rowHeight[f]=H,W=n.rowHeight[f]-W),n.height+=W,n.rows[f].push(v)},G.prototype.getShortestRowIndex=function(n){for(var v=-1,f=Number.MAX_VALUE,E=0;E<n.rows.length;E++)n.rowWidth[E]<f&&(v=E,f=n.rowWidth[E]);return v},G.prototype.getLongestRowIndex=function(n){for(var v=-1,f=Number.MIN_VALUE,E=0;E<n.rows.length;E++)n.rowWidth[E]>f&&(v=E,f=n.rowWidth[E]);return v},G.prototype.canAddHorizontal=function(n,v,f){if(n.idealRowWidth){var E=n.rows.length-1,p=n.rowWidth[E];return p+v+n.horizontalPadding<=n.idealRowWidth}var S=this.getShortestRowIndex(n);if(S<0)return!0;var O=n.rowWidth[S];if(O+n.horizontalPadding+v<=n.width)return!0;var H=0;n.rowHeight[S]<f&&S>0&&(H=f+n.verticalPadding-n.rowHeight[S]);var W;n.width-O>=v+n.horizontalPadding?W=(n.height+H)/(O+v+n.horizontalPadding):W=(n.height+H)/n.width,H=f+n.verticalPadding;var Y;return n.width<v?Y=(n.height+H)/v:Y=(n.height+H)/n.width,Y<1&&(Y=1/Y),W<1&&(W=1/W),W<Y},G.prototype.shiftToLastRow=function(n){var v=this.getLongestRowIndex(n),f=n.rowWidth.length-1,E=n.rows[v],p=E[E.length-1],S=p.width+n.horizontalPadding;if(n.width-n.rowWidth[f]>S&&v!=f){E.splice(-1,1),n.rows[f].push(p),n.rowWidth[v]=n.rowWidth[v]-S,n.rowWidth[f]=n.rowWidth[f]+S,n.width=n.rowWidth[instance.getLongestRowIndex(n)];for(var O=Number.MIN_VALUE,H=0;H<E.length;H++)E[H].height>O&&(O=E[H].height);v>0&&(O+=n.verticalPadding);var W=n.rowHeight[v]+n.rowHeight[f];n.rowHeight[v]=O,n.rowHeight[f]<p.height+n.verticalPadding&&(n.rowHeight[f]=p.height+n.verticalPadding);var Y=n.rowHeight[v]+n.rowHeight[f];n.height+=Y-W,this.shiftToLastRow(n)}},G.prototype.tilingPreLayout=function(){c.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},G.prototype.tilingPostLayout=function(){c.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},G.prototype.reduceTrees=function(){for(var n=[],v=!0,f;v;){var E=this.graphManager.getAllNodes(),p=[];v=!1;for(var S=0;S<E.length;S++)if(f=E[S],f.getEdges().length==1&&!f.getEdges()[0].isInterGraph&&f.getChild()==null){if(c.PURE_INCREMENTAL){var O=f.getEdges()[0].getOtherEnd(f),H=new I(f.getCenterX()-O.getCenterX(),f.getCenterY()-O.getCenterY());p.push([f,f.getEdges()[0],f.getOwner(),H])}else p.push([f,f.getEdges()[0],f.getOwner()]);v=!0}if(v==!0){for(var W=[],Y=0;Y<p.length;Y++)p[Y][0].getEdges().length==1&&(W.push(p[Y]),p[Y][0].getOwner().remove(p[Y][0]));n.push(W),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=n},G.prototype.growTree=function(n){for(var v=n.length,f=n[v-1],E,p=0;p<f.length;p++)E=f[p],this.findPlaceforPrunedNode(E),E[2].add(E[0]),E[2].add(E[1],E[1].source,E[1].target);n.splice(n.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},G.prototype.findPlaceforPrunedNode=function(n){var v,f,E=n[0];if(E==n[1].source?f=n[1].target:f=n[1].source,c.PURE_INCREMENTAL)E.setCenter(f.getCenterX()+n[3].getWidth(),f.getCenterY()+n[3].getHeight());else{var p=f.startX,S=f.finishX,O=f.startY,H=f.finishY,W=0,Y=0,et=0,st=0,B=[W,et,Y,st];if(O>0)for(var ht=p;ht<=S;ht++)B[0]+=this.grid[ht][O-1].length+this.grid[ht][O].length-1;if(S<this.grid.length-1)for(var ht=O;ht<=H;ht++)B[1]+=this.grid[S+1][ht].length+this.grid[S][ht].length-1;if(H<this.grid[0].length-1)for(var ht=p;ht<=S;ht++)B[2]+=this.grid[ht][H+1].length+this.grid[ht][H].length-1;if(p>0)for(var ht=O;ht<=H;ht++)B[3]+=this.grid[p-1][ht].length+this.grid[p][ht].length-1;for(var _=R.MAX_VALUE,w,$,Z=0;Z<B.length;Z++)B[Z]<_?(_=B[Z],w=1,$=Z):B[Z]==_&&w++;if(w==3&&_==0)B[0]==0&&B[1]==0&&B[2]==0?v=1:B[0]==0&&B[1]==0&&B[3]==0?v=0:B[0]==0&&B[2]==0&&B[3]==0?v=3:B[1]==0&&B[2]==0&&B[3]==0&&(v=2);else if(w==2&&_==0){var J=Math.floor(Math.random()*2);B[0]==0&&B[1]==0?J==0?v=0:v=1:B[0]==0&&B[2]==0?J==0?v=0:v=2:B[0]==0&&B[3]==0?J==0?v=0:v=3:B[1]==0&&B[2]==0?J==0?v=1:v=2:B[1]==0&&B[3]==0?J==0?v=1:v=3:J==0?v=2:v=3}else if(w==4&&_==0){var J=Math.floor(Math.random()*4);v=J}else v=$;v==0?E.setCenter(f.getCenterX(),f.getCenterY()-f.getHeight()/2-h.DEFAULT_EDGE_LENGTH-E.getHeight()/2):v==1?E.setCenter(f.getCenterX()+f.getWidth()/2+h.DEFAULT_EDGE_LENGTH+E.getWidth()/2,f.getCenterY()):v==2?E.setCenter(f.getCenterX(),f.getCenterY()+f.getHeight()/2+h.DEFAULT_EDGE_LENGTH+E.getHeight()/2):E.setCenter(f.getCenterX()-f.getWidth()/2-h.DEFAULT_EDGE_LENGTH-E.getWidth()/2,f.getCenterY())}},t.exports=G},991:(t,m,r)=>{var d=r(551).FDLayoutNode,e=r(551).IMath;function a(u,c,T,h){d.call(this,u,c,T,h)}a.prototype=Object.create(d.prototype);for(var l in d)a[l]=d[l];a.prototype.calculateDisplacement=function(){var u=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=u.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=u.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=u.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=u.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementX=u.coolingFactor*u.maxNodeDisplacement*e.sign(this.displacementX)),Math.abs(this.displacementY)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementY=u.coolingFactor*u.maxNodeDisplacement*e.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},a.prototype.propogateDisplacementToChildren=function(u,c){for(var T=this.getChild().getNodes(),h,A=0;A<T.length;A++)h=T[A],h.getChild()==null?(h.displacementX+=u,h.displacementY+=c):h.propogateDisplacementToChildren(u,c)},a.prototype.move=function(){var u=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),u.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},a.prototype.setPred1=function(u){this.pred1=u},a.prototype.getPred1=function(){return pred1},a.prototype.getPred2=function(){return pred2},a.prototype.setNext=function(u){this.next=u},a.prototype.getNext=function(){return next},a.prototype.setProcessed=function(u){this.processed=u},a.prototype.isProcessed=function(){return processed},t.exports=a},902:(t,m,r)=>{function d(T){if(Array.isArray(T)){for(var h=0,A=Array(T.length);h<T.length;h++)A[h]=T[h];return A}else return Array.from(T)}var e=r(806),a=r(551).LinkedList,l=r(551).Matrix,u=r(551).SVD;function c(){}c.handleConstraints=function(T){var h={};h.fixedNodeConstraint=T.constraints.fixedNodeConstraint,h.alignmentConstraint=T.constraints.alignmentConstraint,h.relativePlacementConstraint=T.constraints.relativePlacementConstraint;for(var A=new Map,N=new Map,L=[],I=[],j=T.getAllNodes(),R=0,nt=0;nt<j.length;nt++){var gt=j[nt];gt.getChild()==null&&(N.set(gt.id,R++),L.push(gt.getCenterX()),I.push(gt.getCenterY()),A.set(gt.id,gt))}h.relativePlacementConstraint&&h.relativePlacementConstraint.forEach(function(k){!k.gap&&k.gap!=0&&(k.left?k.gap=e.DEFAULT_EDGE_LENGTH+A.get(k.left).getWidth()/2+A.get(k.right).getWidth()/2:k.gap=e.DEFAULT_EDGE_LENGTH+A.get(k.top).getHeight()/2+A.get(k.bottom).getHeight()/2)});var ft=function(q,g){return{x:q.x-g.x,y:q.y-g.y}},mt=function(q){var g=0,M=0;return q.forEach(function(C){g+=L[N.get(C)],M+=I[N.get(C)]}),{x:g/q.size,y:M/q.size}},G=function(q,g,M,C,D){function X(rt,P){var tt=new Set(rt),at=!0,ot=!1,Ct=void 0;try{for(var dt=P[Symbol.iterator](),yt;!(at=(yt=dt.next()).done);at=!0){var Rt=yt.value;tt.add(Rt)}}catch(Lt){ot=!0,Ct=Lt}finally{try{!at&&dt.return&&dt.return()}finally{if(ot)throw Ct}}return tt}var V=new Map;q.forEach(function(rt,P){V.set(P,0)}),q.forEach(function(rt,P){rt.forEach(function(tt){V.set(tt.id,V.get(tt.id)+1)})});var U=new Map,b=new Map,Q=new a;V.forEach(function(rt,P){rt==0?(Q.push(P),M||(g=="horizontal"?U.set(P,N.has(P)?L[N.get(P)]:C.get(P)):U.set(P,N.has(P)?I[N.get(P)]:C.get(P)))):U.set(P,Number.NEGATIVE_INFINITY),M&&b.set(P,new Set([P]))}),M&&D.forEach(function(rt){var P=[];if(rt.forEach(function(ot){M.has(ot)&&P.push(ot)}),P.length>0){var tt=0;P.forEach(function(ot){g=="horizontal"?(U.set(ot,N.has(ot)?L[N.get(ot)]:C.get(ot)),tt+=U.get(ot)):(U.set(ot,N.has(ot)?I[N.get(ot)]:C.get(ot)),tt+=U.get(ot))}),tt=tt/P.length,rt.forEach(function(ot){M.has(ot)||U.set(ot,tt)})}else{var at=0;rt.forEach(function(ot){g=="horizontal"?at+=N.has(ot)?L[N.get(ot)]:C.get(ot):at+=N.has(ot)?I[N.get(ot)]:C.get(ot)}),at=at/rt.length,rt.forEach(function(ot){U.set(ot,at)})}});for(var F=function(){var P=Q.shift(),tt=q.get(P);tt.forEach(function(at){if(U.get(at.id)<U.get(P)+at.gap)if(M&&M.has(at.id)){var ot=void 0;if(g=="horizontal"?ot=N.has(at.id)?L[N.get(at.id)]:C.get(at.id):ot=N.has(at.id)?I[N.get(at.id)]:C.get(at.id),U.set(at.id,ot),ot<U.get(P)+at.gap){var Ct=U.get(P)+at.gap-ot;b.get(P).forEach(function(dt){U.set(dt,U.get(dt)-Ct)})}}else U.set(at.id,U.get(P)+at.gap);V.set(at.id,V.get(at.id)-1),V.get(at.id)==0&&Q.push(at.id),M&&b.set(at.id,X(b.get(P),b.get(at.id)))})};Q.length!=0;)F();if(M){var z=new Set;q.forEach(function(rt,P){rt.length==0&&z.add(P)});var ut=[];b.forEach(function(rt,P){if(z.has(P)){var tt=!1,at=!0,ot=!1,Ct=void 0;try{for(var dt=rt[Symbol.iterator](),yt;!(at=(yt=dt.next()).done);at=!0){var Rt=yt.value;M.has(Rt)&&(tt=!0)}}catch(wt){ot=!0,Ct=wt}finally{try{!at&&dt.return&&dt.return()}finally{if(ot)throw Ct}}if(!tt){var Lt=!1,St=void 0;ut.forEach(function(wt,Vt){wt.has([].concat(d(rt))[0])&&(Lt=!0,St=Vt)}),Lt?rt.forEach(function(wt){ut[St].add(wt)}):ut.push(new Set(rt))}}}),ut.forEach(function(rt,P){var tt=Number.POSITIVE_INFINITY,at=Number.POSITIVE_INFINITY,ot=Number.NEGATIVE_INFINITY,Ct=Number.NEGATIVE_INFINITY,dt=!0,yt=!1,Rt=void 0;try{for(var Lt=rt[Symbol.iterator](),St;!(dt=(St=Lt.next()).done);dt=!0){var wt=St.value,Vt=void 0;g=="horizontal"?Vt=N.has(wt)?L[N.get(wt)]:C.get(wt):Vt=N.has(wt)?I[N.get(wt)]:C.get(wt);var Ut=U.get(wt);Vt<tt&&(tt=Vt),Vt>ot&&(ot=Vt),Ut<at&&(at=Ut),Ut>Ct&&(Ct=Ut)}}catch(ee){yt=!0,Rt=ee}finally{try{!dt&&Lt.return&&Lt.return()}finally{if(yt)throw Rt}}var zt=(tt+ot)/2-(at+Ct)/2,$t=!0,Qt=!1,Jt=void 0;try{for(var Kt=rt[Symbol.iterator](),_t;!($t=(_t=Kt.next()).done);$t=!0){var qt=_t.value;U.set(qt,U.get(qt)+zt)}}catch(ee){Qt=!0,Jt=ee}finally{try{!$t&&Kt.return&&Kt.return()}finally{if(Qt)throw Jt}}})}return U},K=function(q){var g=0,M=0,C=0,D=0;if(q.forEach(function(b){b.left?L[N.get(b.left)]-L[N.get(b.right)]>=0?g++:M++:I[N.get(b.top)]-I[N.get(b.bottom)]>=0?C++:D++}),g>M&&C>D)for(var X=0;X<N.size;X++)L[X]=-1*L[X],I[X]=-1*I[X];else if(g>M)for(var V=0;V<N.size;V++)L[V]=-1*L[V];else if(C>D)for(var U=0;U<N.size;U++)I[U]=-1*I[U]},n=function(q){var g=[],M=new a,C=new Set,D=0;return q.forEach(function(X,V){if(!C.has(V)){g[D]=[];var U=V;for(M.push(U),C.add(U),g[D].push(U);M.length!=0;){U=M.shift();var b=q.get(U);b.forEach(function(Q){C.has(Q.id)||(M.push(Q.id),C.add(Q.id),g[D].push(Q.id))})}D++}}),g},v=function(q){var g=new Map;return q.forEach(function(M,C){g.set(C,[])}),q.forEach(function(M,C){M.forEach(function(D){g.get(C).push(D),g.get(D.id).push({id:C,gap:D.gap,direction:D.direction})})}),g},f=function(q){var g=new Map;return q.forEach(function(M,C){g.set(C,[])}),q.forEach(function(M,C){M.forEach(function(D){g.get(D.id).push({id:C,gap:D.gap,direction:D.direction})})}),g},E=[],p=[],S=!1,O=!1,H=new Set,W=new Map,Y=new Map,et=[];if(h.fixedNodeConstraint&&h.fixedNodeConstraint.forEach(function(k){H.add(k.nodeId)}),h.relativePlacementConstraint&&(h.relativePlacementConstraint.forEach(function(k){k.left?(W.has(k.left)?W.get(k.left).push({id:k.right,gap:k.gap,direction:"horizontal"}):W.set(k.left,[{id:k.right,gap:k.gap,direction:"horizontal"}]),W.has(k.right)||W.set(k.right,[])):(W.has(k.top)?W.get(k.top).push({id:k.bottom,gap:k.gap,direction:"vertical"}):W.set(k.top,[{id:k.bottom,gap:k.gap,direction:"vertical"}]),W.has(k.bottom)||W.set(k.bottom,[]))}),Y=v(W),et=n(Y)),e.TRANSFORM_ON_CONSTRAINT_HANDLING){if(h.fixedNodeConstraint&&h.fixedNodeConstraint.length>1)h.fixedNodeConstraint.forEach(function(k,q){E[q]=[k.position.x,k.position.y],p[q]=[L[N.get(k.nodeId)],I[N.get(k.nodeId)]]}),S=!0;else if(h.alignmentConstraint)(function(){var k=0;if(h.alignmentConstraint.vertical){for(var q=h.alignmentConstraint.vertical,g=function(U){var b=new Set;q[U].forEach(function(z){b.add(z)});var Q=new Set([].concat(d(b)).filter(function(z){return H.has(z)})),F=void 0;Q.size>0?F=L[N.get(Q.values().next().value)]:F=mt(b).x,q[U].forEach(function(z){E[k]=[F,I[N.get(z)]],p[k]=[L[N.get(z)],I[N.get(z)]],k++})},M=0;M<q.length;M++)g(M);S=!0}if(h.alignmentConstraint.horizontal){for(var C=h.alignmentConstraint.horizontal,D=function(U){var b=new Set;C[U].forEach(function(z){b.add(z)});var Q=new Set([].concat(d(b)).filter(function(z){return H.has(z)})),F=void 0;Q.size>0?F=L[N.get(Q.values().next().value)]:F=mt(b).y,C[U].forEach(function(z){E[k]=[L[N.get(z)],F],p[k]=[L[N.get(z)],I[N.get(z)]],k++})},X=0;X<C.length;X++)D(X);S=!0}h.relativePlacementConstraint&&(O=!0)})();else if(h.relativePlacementConstraint){for(var st=0,B=0,ht=0;ht<et.length;ht++)et[ht].length>st&&(st=et[ht].length,B=ht);if(st<Y.size/2)K(h.relativePlacementConstraint),S=!1,O=!1;else{var _=new Map,w=new Map,$=[];et[B].forEach(function(k){W.get(k).forEach(function(q){q.direction=="horizontal"?(_.has(k)?_.get(k).push(q):_.set(k,[q]),_.has(q.id)||_.set(q.id,[]),$.push({left:k,right:q.id})):(w.has(k)?w.get(k).push(q):w.set(k,[q]),w.has(q.id)||w.set(q.id,[]),$.push({top:k,bottom:q.id}))})}),K($),O=!1;var Z=G(_,"horizontal"),J=G(w,"vertical");et[B].forEach(function(k,q){p[q]=[L[N.get(k)],I[N.get(k)]],E[q]=[],Z.has(k)?E[q][0]=Z.get(k):E[q][0]=L[N.get(k)],J.has(k)?E[q][1]=J.get(k):E[q][1]=I[N.get(k)]}),S=!0}}if(S){for(var Et=void 0,it=l.transpose(E),Pt=l.transpose(p),Mt=0;Mt<it.length;Mt++)it[Mt]=l.multGamma(it[Mt]),Pt[Mt]=l.multGamma(Pt[Mt]);var Xt=l.multMat(it,l.transpose(Pt)),Gt=u.svd(Xt);Et=l.multMat(Gt.V,l.transpose(Gt.U));for(var vt=0;vt<N.size;vt++){var ct=[L[vt],I[vt]],xt=[Et[0][0],Et[1][0]],Dt=[Et[0][1],Et[1][1]];L[vt]=l.dotProduct(ct,xt),I[vt]=l.dotProduct(ct,Dt)}O&&K(h.relativePlacementConstraint)}}if(e.ENFORCE_CONSTRAINTS){if(h.fixedNodeConstraint&&h.fixedNodeConstraint.length>0){var Nt={x:0,y:0};h.fixedNodeConstraint.forEach(function(k,q){var g={x:L[N.get(k.nodeId)],y:I[N.get(k.nodeId)]},M=k.position,C=ft(M,g);Nt.x+=C.x,Nt.y+=C.y}),Nt.x/=h.fixedNodeConstraint.length,Nt.y/=h.fixedNodeConstraint.length,L.forEach(function(k,q){L[q]+=Nt.x}),I.forEach(function(k,q){I[q]+=Nt.y}),h.fixedNodeConstraint.forEach(function(k){L[N.get(k.nodeId)]=k.position.x,I[N.get(k.nodeId)]=k.position.y})}if(h.alignmentConstraint){if(h.alignmentConstraint.vertical)for(var Ot=h.alignmentConstraint.vertical,At=function(q){var g=new Set;Ot[q].forEach(function(D){g.add(D)});var M=new Set([].concat(d(g)).filter(function(D){return H.has(D)})),C=void 0;M.size>0?C=L[N.get(M.values().next().value)]:C=mt(g).x,g.forEach(function(D){H.has(D)||(L[N.get(D)]=C)})},It=0;It<Ot.length;It++)At(It);if(h.alignmentConstraint.horizontal)for(var Ht=h.alignmentConstraint.horizontal,kt=function(q){var g=new Set;Ht[q].forEach(function(D){g.add(D)});var M=new Set([].concat(d(g)).filter(function(D){return H.has(D)})),C=void 0;M.size>0?C=I[N.get(M.values().next().value)]:C=mt(g).y,g.forEach(function(D){H.has(D)||(I[N.get(D)]=C)})},bt=0;bt<Ht.length;bt++)kt(bt)}h.relativePlacementConstraint&&function(){var k=new Map,q=new Map,g=new Map,M=new Map,C=new Map,D=new Map,X=new Set,V=new Set;if(H.forEach(function(Bt){X.add(Bt),V.add(Bt)}),h.alignmentConstraint){if(h.alignmentConstraint.vertical)for(var U=h.alignmentConstraint.vertical,b=function(Tt){g.set("dummy"+Tt,[]),U[Tt].forEach(function(Ft){k.set(Ft,"dummy"+Tt),g.get("dummy"+Tt).push(Ft),H.has(Ft)&&X.add("dummy"+Tt)}),C.set("dummy"+Tt,L[N.get(U[Tt][0])])},Q=0;Q<U.length;Q++)b(Q);if(h.alignmentConstraint.horizontal)for(var F=h.alignmentConstraint.horizontal,z=function(Tt){M.set("dummy"+Tt,[]),F[Tt].forEach(function(Ft){q.set(Ft,"dummy"+Tt),M.get("dummy"+Tt).push(Ft),H.has(Ft)&&V.add("dummy"+Tt)}),D.set("dummy"+Tt,I[N.get(F[Tt][0])])},ut=0;ut<F.length;ut++)z(ut)}var rt=new Map,P=new Map,tt=function(Tt){W.get(Tt).forEach(function(Ft){var te=void 0,Zt=void 0;Ft.direction=="horizontal"?(te=k.get(Tt)?k.get(Tt):Tt,k.get(Ft.id)?Zt={id:k.get(Ft.id),gap:Ft.gap,direction:Ft.direction}:Zt=Ft,rt.has(te)?rt.get(te).push(Zt):rt.set(te,[Zt]),rt.has(Zt.id)||rt.set(Zt.id,[])):(te=q.get(Tt)?q.get(Tt):Tt,q.get(Ft.id)?Zt={id:q.get(Ft.id),gap:Ft.gap,direction:Ft.direction}:Zt=Ft,P.has(te)?P.get(te).push(Zt):P.set(te,[Zt]),P.has(Zt.id)||P.set(Zt.id,[]))})},at=!0,ot=!1,Ct=void 0;try{for(var dt=W.keys()[Symbol.iterator](),yt;!(at=(yt=dt.next()).done);at=!0){var Rt=yt.value;tt(Rt)}}catch(Bt){ot=!0,Ct=Bt}finally{try{!at&&dt.return&&dt.return()}finally{if(ot)throw Ct}}var Lt=v(rt),St=v(P),wt=n(Lt),Vt=n(St),Ut=f(rt),zt=f(P),$t=[],Qt=[];wt.forEach(function(Bt,Tt){$t[Tt]=[],Bt.forEach(function(Ft){Ut.get(Ft).length==0&&$t[Tt].push(Ft)})}),Vt.forEach(function(Bt,Tt){Qt[Tt]=[],Bt.forEach(function(Ft){zt.get(Ft).length==0&&Qt[Tt].push(Ft)})});var Jt=G(rt,"horizontal",X,C,$t),Kt=G(P,"vertical",V,D,Qt),_t=function(Tt){g.get(Tt)?g.get(Tt).forEach(function(Ft){L[N.get(Ft)]=Jt.get(Tt)}):L[N.get(Tt)]=Jt.get(Tt)},qt=!0,ee=!1,oe=void 0;try{for(var re=Jt.keys()[Symbol.iterator](),se;!(qt=(se=re.next()).done);qt=!0){var ie=se.value;_t(ie)}}catch(Bt){ee=!0,oe=Bt}finally{try{!qt&&re.return&&re.return()}finally{if(ee)throw oe}}var ce=function(Tt){M.get(Tt)?M.get(Tt).forEach(function(Ft){I[N.get(Ft)]=Kt.get(Tt)}):I[N.get(Tt)]=Kt.get(Tt)},ae=!0,he=!1,le=void 0;try{for(var ne=Kt.keys()[Symbol.iterator](),fe;!(ae=(fe=ne.next()).done);ae=!0){var ie=fe.value;ce(ie)}}catch(Bt){he=!0,le=Bt}finally{try{!ae&&ne.return&&ne.return()}finally{if(he)throw le}}}()}for(var Yt=0;Yt<j.length;Yt++){var Wt=j[Yt];Wt.getChild()==null&&Wt.setCenter(L[N.get(Wt.id)],I[N.get(Wt.id)])}},t.exports=c},551:t=>{t.exports=x}},o={};function s(t){var m=o[t];if(m!==void 0)return m.exports;var r=o[t]={exports:{}};return y[t](r,r.exports,s),r.exports}var i=s(45);return i})()})},29894:function(jt,lt,pt){(function(y,o){jt.exports=o(pt(21553))})(this,function(x){return(()=>{"use strict";var y={658:t=>{t.exports=Object.assign!=null?Object.assign.bind(Object):function(m){for(var r=arguments.length,d=Array(r>1?r-1:0),e=1;e<r;e++)d[e-1]=arguments[e];return d.forEach(function(a){Object.keys(a).forEach(function(l){return m[l]=a[l]})}),m}},548:(t,m,r)=>{var d=function(){function l(u,c){var T=[],h=!0,A=!1,N=void 0;try{for(var L=u[Symbol.iterator](),I;!(h=(I=L.next()).done)&&(T.push(I.value),!(c&&T.length===c));h=!0);}catch(j){A=!0,N=j}finally{try{!h&&L.return&&L.return()}finally{if(A)throw N}}return T}return function(u,c){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return l(u,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=r(140).layoutBase.LinkedList,a={};a.getTopMostNodes=function(l){for(var u={},c=0;c<l.length;c++)u[l[c].id()]=!0;var T=l.filter(function(h,A){typeof h=="number"&&(h=A);for(var N=h.parent()[0];N!=null;){if(u[N.id()])return!1;N=N.parent()[0]}return!0});return T},a.connectComponents=function(l,u,c,T){var h=new e,A=new Set,N=[],L=void 0,I=void 0,j=void 0,R=!1,nt=1,gt=[],ft=[],mt=function(){var K=l.collection();ft.push(K);var n=c[0],v=l.collection();v.merge(n).merge(n.descendants().intersection(u)),N.push(n),v.forEach(function(p){h.push(p),A.add(p),K.merge(p)});for(var f=function(){n=h.shift();var S=l.collection();n.neighborhood().nodes().forEach(function(Y){u.intersection(n.edgesWith(Y)).length>0&&S.merge(Y)});for(var O=0;O<S.length;O++){var H=S[O];if(L=c.intersection(H.union(H.ancestors())),L!=null&&!A.has(L[0])){var W=L.union(L.descendants());W.forEach(function(Y){h.push(Y),A.add(Y),K.merge(Y),c.has(Y)&&N.push(Y)})}}};h.length!=0;)f();if(K.forEach(function(p){u.intersection(p.connectedEdges()).forEach(function(S){K.has(S.source())&&K.has(S.target())&&K.merge(S)})}),N.length==c.length&&(R=!0),!R||R&&nt>1){I=N[0],j=I.connectedEdges().length,N.forEach(function(p){p.connectedEdges().length<j&&(j=p.connectedEdges().length,I=p)}),gt.push(I.id());var E=l.collection();E.merge(N[0]),N.forEach(function(p){E.merge(p)}),N=[],c=c.difference(E),nt++}};do mt();while(!R);return T&&gt.length>0&&T.set("dummy"+(T.size+1),gt),ft},a.relocateComponent=function(l,u,c){if(!c.fixedNodeConstraint){var T=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY;if(c.quality=="draft"){var L=!0,I=!1,j=void 0;try{for(var R=u.nodeIndexes[Symbol.iterator](),nt;!(L=(nt=R.next()).done);L=!0){var gt=nt.value,ft=d(gt,2),mt=ft[0],G=ft[1],K=c.cy.getElementById(mt);if(K){var n=K.boundingBox(),v=u.xCoords[G]-n.w/2,f=u.xCoords[G]+n.w/2,E=u.yCoords[G]-n.h/2,p=u.yCoords[G]+n.h/2;v<T&&(T=v),f>h&&(h=f),E<A&&(A=E),p>N&&(N=p)}}}catch(Y){I=!0,j=Y}finally{try{!L&&R.return&&R.return()}finally{if(I)throw j}}var S=l.x-(h+T)/2,O=l.y-(N+A)/2;u.xCoords=u.xCoords.map(function(Y){return Y+S}),u.yCoords=u.yCoords.map(function(Y){return Y+O})}else{Object.keys(u).forEach(function(Y){var et=u[Y],st=et.getRect().x,B=et.getRect().x+et.getRect().width,ht=et.getRect().y,_=et.getRect().y+et.getRect().height;st<T&&(T=st),B>h&&(h=B),ht<A&&(A=ht),_>N&&(N=_)});var H=l.x-(h+T)/2,W=l.y-(N+A)/2;Object.keys(u).forEach(function(Y){var et=u[Y];et.setCenter(et.getCenterX()+H,et.getCenterY()+W)})}}},a.calcBoundingBox=function(l,u,c,T){for(var h=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER,N=Number.MAX_SAFE_INTEGER,L=Number.MIN_SAFE_INTEGER,I=void 0,j=void 0,R=void 0,nt=void 0,gt=l.descendants().not(":parent"),ft=gt.length,mt=0;mt<ft;mt++){var G=gt[mt];I=u[T.get(G.id())]-G.width()/2,j=u[T.get(G.id())]+G.width()/2,R=c[T.get(G.id())]-G.height()/2,nt=c[T.get(G.id())]+G.height()/2,h>I&&(h=I),A<j&&(A=j),N>R&&(N=R),L<nt&&(L=nt)}var K={};return K.topLeftX=h,K.topLeftY=N,K.width=A-h,K.height=L-N,K},a.calcParentsWithoutChildren=function(l,u){var c=l.collection();return u.nodes(":parent").forEach(function(T){var h=!1;T.children().forEach(function(A){A.css("display")!="none"&&(h=!0)}),h||c.merge(T)}),c},t.exports=a},816:(t,m,r)=>{var d=r(548),e=r(140).CoSELayout,a=r(140).CoSENode,l=r(140).layoutBase.PointD,u=r(140).layoutBase.DimensionD,c=r(140).layoutBase.LayoutConstants,T=r(140).layoutBase.FDLayoutConstants,h=r(140).CoSEConstants,A=function(L,I){var j=L.cy,R=L.eles,nt=R.nodes(),gt=R.edges(),ft=void 0,mt=void 0,G=void 0,K={};L.randomize&&(ft=I.nodeIndexes,mt=I.xCoords,G=I.yCoords);var n=function(Y){return typeof Y=="function"},v=function(Y,et){return n(Y)?Y(et):Y},f=d.calcParentsWithoutChildren(j,R),E=function W(Y,et,st,B){for(var ht=et.length,_=0;_<ht;_++){var w=et[_],$=null;w.intersection(f).length==0&&($=w.children());var Z=void 0,J=w.layoutDimensions({nodeDimensionsIncludeLabels:B.nodeDimensionsIncludeLabels});if(w.outerWidth()!=null&&w.outerHeight()!=null)if(B.randomize)if(!w.isParent())Z=Y.add(new a(st.graphManager,new l(mt[ft.get(w.id())]-J.w/2,G[ft.get(w.id())]-J.h/2),new u(parseFloat(J.w),parseFloat(J.h))));else{var Et=d.calcBoundingBox(w,mt,G,ft);w.intersection(f).length==0?Z=Y.add(new a(st.graphManager,new l(Et.topLeftX,Et.topLeftY),new u(Et.width,Et.height))):Z=Y.add(new a(st.graphManager,new l(Et.topLeftX,Et.topLeftY),new u(parseFloat(J.w),parseFloat(J.h))))}else Z=Y.add(new a(st.graphManager,new l(w.position("x")-J.w/2,w.position("y")-J.h/2),new u(parseFloat(J.w),parseFloat(J.h))));else Z=Y.add(new a(this.graphManager));if(Z.id=w.data("id"),Z.nodeRepulsion=v(B.nodeRepulsion,w),Z.paddingLeft=parseInt(w.css("padding")),Z.paddingTop=parseInt(w.css("padding")),Z.paddingRight=parseInt(w.css("padding")),Z.paddingBottom=parseInt(w.css("padding")),B.nodeDimensionsIncludeLabels&&(Z.labelWidth=w.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,Z.labelHeight=w.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,Z.labelPosVertical=w.css("text-valign"),Z.labelPosHorizontal=w.css("text-halign")),K[w.data("id")]=Z,isNaN(Z.rect.x)&&(Z.rect.x=0),isNaN(Z.rect.y)&&(Z.rect.y=0),$!=null&&$.length>0){var it=void 0;it=st.getGraphManager().add(st.newGraph(),Z),W(it,$,st,B)}}},p=function(Y,et,st){for(var B=0,ht=0,_=0;_<st.length;_++){var w=st[_],$=K[w.data("source")],Z=K[w.data("target")];if($&&Z&&$!==Z&&$.getEdgesBetween(Z).length==0){var J=et.add(Y.newEdge(),$,Z);J.id=w.id(),J.idealLength=v(L.idealEdgeLength,w),J.edgeElasticity=v(L.edgeElasticity,w),B+=J.idealLength,ht++}}L.idealEdgeLength!=null&&(ht>0?h.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=B/ht:n(L.idealEdgeLength)?h.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=50:h.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=L.idealEdgeLength,h.MIN_REPULSION_DIST=T.MIN_REPULSION_DIST=T.DEFAULT_EDGE_LENGTH/10,h.DEFAULT_RADIAL_SEPARATION=T.DEFAULT_EDGE_LENGTH)},S=function(Y,et){et.fixedNodeConstraint&&(Y.constraints.fixedNodeConstraint=et.fixedNodeConstraint),et.alignmentConstraint&&(Y.constraints.alignmentConstraint=et.alignmentConstraint),et.relativePlacementConstraint&&(Y.constraints.relativePlacementConstraint=et.relativePlacementConstraint)};L.nestingFactor!=null&&(h.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=T.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=L.nestingFactor),L.gravity!=null&&(h.DEFAULT_GRAVITY_STRENGTH=T.DEFAULT_GRAVITY_STRENGTH=L.gravity),L.numIter!=null&&(h.MAX_ITERATIONS=T.MAX_ITERATIONS=L.numIter),L.gravityRange!=null&&(h.DEFAULT_GRAVITY_RANGE_FACTOR=T.DEFAULT_GRAVITY_RANGE_FACTOR=L.gravityRange),L.gravityCompound!=null&&(h.DEFAULT_COMPOUND_GRAVITY_STRENGTH=T.DEFAULT_COMPOUND_GRAVITY_STRENGTH=L.gravityCompound),L.gravityRangeCompound!=null&&(h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=T.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=L.gravityRangeCompound),L.initialEnergyOnIncremental!=null&&(h.DEFAULT_COOLING_FACTOR_INCREMENTAL=T.DEFAULT_COOLING_FACTOR_INCREMENTAL=L.initialEnergyOnIncremental),L.tilingCompareBy!=null&&(h.TILING_COMPARE_BY=L.tilingCompareBy),L.quality=="proof"?c.QUALITY=2:c.QUALITY=0,h.NODE_DIMENSIONS_INCLUDE_LABELS=T.NODE_DIMENSIONS_INCLUDE_LABELS=c.NODE_DIMENSIONS_INCLUDE_LABELS=L.nodeDimensionsIncludeLabels,h.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=!L.randomize,h.ANIMATE=T.ANIMATE=c.ANIMATE=L.animate,h.TILE=L.tile,h.TILING_PADDING_VERTICAL=typeof L.tilingPaddingVertical=="function"?L.tilingPaddingVertical.call():L.tilingPaddingVertical,h.TILING_PADDING_HORIZONTAL=typeof L.tilingPaddingHorizontal=="function"?L.tilingPaddingHorizontal.call():L.tilingPaddingHorizontal,h.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=!0,h.PURE_INCREMENTAL=!L.randomize,c.DEFAULT_UNIFORM_LEAF_NODE_SIZES=L.uniformNodeDimensions,L.step=="transformed"&&(h.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,h.ENFORCE_CONSTRAINTS=!1,h.APPLY_LAYOUT=!1),L.step=="enforced"&&(h.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,h.ENFORCE_CONSTRAINTS=!0,h.APPLY_LAYOUT=!1),L.step=="cose"&&(h.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,h.ENFORCE_CONSTRAINTS=!1,h.APPLY_LAYOUT=!0),L.step=="all"&&(L.randomize?h.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:h.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,h.ENFORCE_CONSTRAINTS=!0,h.APPLY_LAYOUT=!0),L.fixedNodeConstraint||L.alignmentConstraint||L.relativePlacementConstraint?h.TREE_REDUCTION_ON_INCREMENTAL=!1:h.TREE_REDUCTION_ON_INCREMENTAL=!0;var O=new e,H=O.newGraphManager();return E(H.addRoot(),d.getTopMostNodes(nt),O,L),p(O,H,gt),S(O,L),O.runLayout(),K};t.exports={coseLayout:A}},212:(t,m,r)=>{var d=function(){function L(I,j){for(var R=0;R<j.length;R++){var nt=j[R];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(I,nt.key,nt)}}return function(I,j,R){return j&&L(I.prototype,j),R&&L(I,R),I}}();function e(L,I){if(!(L instanceof I))throw new TypeError("Cannot call a class as a function")}var a=r(658),l=r(548),u=r(657),c=u.spectralLayout,T=r(816),h=T.coseLayout,A=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(I){return 4500},idealEdgeLength:function(I){return 50},edgeElasticity:function(I){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),N=function(){function L(I){e(this,L),this.options=a({},A,I)}return d(L,[{key:"run",value:function(){var j=this,R=this.options,nt=R.cy,gt=R.eles,ft=[],mt=void 0,G=void 0,K=[],n=void 0,v=[];R.fixedNodeConstraint&&(!Array.isArray(R.fixedNodeConstraint)||R.fixedNodeConstraint.length==0)&&(R.fixedNodeConstraint=void 0),R.alignmentConstraint&&(R.alignmentConstraint.vertical&&(!Array.isArray(R.alignmentConstraint.vertical)||R.alignmentConstraint.vertical.length==0)&&(R.alignmentConstraint.vertical=void 0),R.alignmentConstraint.horizontal&&(!Array.isArray(R.alignmentConstraint.horizontal)||R.alignmentConstraint.horizontal.length==0)&&(R.alignmentConstraint.horizontal=void 0)),R.relativePlacementConstraint&&(!Array.isArray(R.relativePlacementConstraint)||R.relativePlacementConstraint.length==0)&&(R.relativePlacementConstraint=void 0);var f=R.fixedNodeConstraint||R.alignmentConstraint||R.relativePlacementConstraint;f&&(R.tile=!1,R.packComponents=!1);var E=void 0,p=!1;if(nt.layoutUtilities&&R.packComponents&&(E=nt.layoutUtilities("get"),E||(E=nt.layoutUtilities()),p=!0),gt.nodes().length>0)if(p){var H=l.getTopMostNodes(R.eles.nodes());if(n=l.connectComponents(nt,R.eles,H),n.forEach(function(vt){var ct=vt.boundingBox();v.push({x:ct.x1+ct.w/2,y:ct.y1+ct.h/2})}),R.randomize&&n.forEach(function(vt){R.eles=vt,ft.push(c(R))}),R.quality=="default"||R.quality=="proof"){var W=nt.collection();if(R.tile){var Y=new Map,et=[],st=[],B=0,ht={nodeIndexes:Y,xCoords:et,yCoords:st},_=[];if(n.forEach(function(vt,ct){vt.edges().length==0&&(vt.nodes().forEach(function(xt,Dt){W.merge(vt.nodes()[Dt]),xt.isParent()||(ht.nodeIndexes.set(vt.nodes()[Dt].id(),B++),ht.xCoords.push(vt.nodes()[0].position().x),ht.yCoords.push(vt.nodes()[0].position().y))}),_.push(ct))}),W.length>1){var w=W.boundingBox();v.push({x:w.x1+w.w/2,y:w.y1+w.h/2}),n.push(W),ft.push(ht);for(var $=_.length-1;$>=0;$--)n.splice(_[$],1),ft.splice(_[$],1),v.splice(_[$],1)}}n.forEach(function(vt,ct){R.eles=vt,K.push(h(R,ft[ct])),l.relocateComponent(v[ct],K[ct],R)})}else n.forEach(function(vt,ct){l.relocateComponent(v[ct],ft[ct],R)});var Z=new Set;if(n.length>1){var J=[],Et=gt.filter(function(vt){return vt.css("display")=="none"});n.forEach(function(vt,ct){var xt=void 0;if(R.quality=="draft"&&(xt=ft[ct].nodeIndexes),vt.nodes().not(Et).length>0){var Dt={};Dt.edges=[],Dt.nodes=[];var Nt=void 0;vt.nodes().not(Et).forEach(function(Ot){if(R.quality=="draft")if(!Ot.isParent())Nt=xt.get(Ot.id()),Dt.nodes.push({x:ft[ct].xCoords[Nt]-Ot.boundingbox().w/2,y:ft[ct].yCoords[Nt]-Ot.boundingbox().h/2,width:Ot.boundingbox().w,height:Ot.boundingbox().h});else{var At=l.calcBoundingBox(Ot,ft[ct].xCoords,ft[ct].yCoords,xt);Dt.nodes.push({x:At.topLeftX,y:At.topLeftY,width:At.width,height:At.height})}else K[ct][Ot.id()]&&Dt.nodes.push({x:K[ct][Ot.id()].getLeft(),y:K[ct][Ot.id()].getTop(),width:K[ct][Ot.id()].getWidth(),height:K[ct][Ot.id()].getHeight()})}),vt.edges().forEach(function(Ot){var At=Ot.source(),It=Ot.target();if(At.css("display")!="none"&&It.css("display")!="none")if(R.quality=="draft"){var Ht=xt.get(At.id()),kt=xt.get(It.id()),bt=[],Yt=[];if(At.isParent()){var Wt=l.calcBoundingBox(At,ft[ct].xCoords,ft[ct].yCoords,xt);bt.push(Wt.topLeftX+Wt.width/2),bt.push(Wt.topLeftY+Wt.height/2)}else bt.push(ft[ct].xCoords[Ht]),bt.push(ft[ct].yCoords[Ht]);if(It.isParent()){var k=l.calcBoundingBox(It,ft[ct].xCoords,ft[ct].yCoords,xt);Yt.push(k.topLeftX+k.width/2),Yt.push(k.topLeftY+k.height/2)}else Yt.push(ft[ct].xCoords[kt]),Yt.push(ft[ct].yCoords[kt]);Dt.edges.push({startX:bt[0],startY:bt[1],endX:Yt[0],endY:Yt[1]})}else K[ct][At.id()]&&K[ct][It.id()]&&Dt.edges.push({startX:K[ct][At.id()].getCenterX(),startY:K[ct][At.id()].getCenterY(),endX:K[ct][It.id()].getCenterX(),endY:K[ct][It.id()].getCenterY()})}),Dt.nodes.length>0&&(J.push(Dt),Z.add(ct))}});var it=E.packComponents(J,R.randomize).shifts;if(R.quality=="draft")ft.forEach(function(vt,ct){var xt=vt.xCoords.map(function(Nt){return Nt+it[ct].dx}),Dt=vt.yCoords.map(function(Nt){return Nt+it[ct].dy});vt.xCoords=xt,vt.yCoords=Dt});else{var Pt=0;Z.forEach(function(vt){Object.keys(K[vt]).forEach(function(ct){var xt=K[vt][ct];xt.setCenter(xt.getCenterX()+it[Pt].dx,xt.getCenterY()+it[Pt].dy)}),Pt++})}}}else{var S=R.eles.boundingBox();if(v.push({x:S.x1+S.w/2,y:S.y1+S.h/2}),R.randomize){var O=c(R);ft.push(O)}R.quality=="default"||R.quality=="proof"?(K.push(h(R,ft[0])),l.relocateComponent(v[0],K[0],R)):l.relocateComponent(v[0],ft[0],R)}var Mt=function(ct,xt){if(R.quality=="default"||R.quality=="proof"){typeof ct=="number"&&(ct=xt);var Dt=void 0,Nt=void 0,Ot=ct.data("id");return K.forEach(function(It){Ot in It&&(Dt={x:It[Ot].getRect().getCenterX(),y:It[Ot].getRect().getCenterY()},Nt=It[Ot])}),R.nodeDimensionsIncludeLabels&&(Nt.labelWidth&&(Nt.labelPosHorizontal=="left"?Dt.x+=Nt.labelWidth/2:Nt.labelPosHorizontal=="right"&&(Dt.x-=Nt.labelWidth/2)),Nt.labelHeight&&(Nt.labelPosVertical=="top"?Dt.y+=Nt.labelHeight/2:Nt.labelPosVertical=="bottom"&&(Dt.y-=Nt.labelHeight/2))),Dt==null&&(Dt={x:ct.position("x"),y:ct.position("y")}),{x:Dt.x,y:Dt.y}}else{var At=void 0;return ft.forEach(function(It){var Ht=It.nodeIndexes.get(ct.id());Ht!=null&&(At={x:It.xCoords[Ht],y:It.yCoords[Ht]})}),At==null&&(At={x:ct.position("x"),y:ct.position("y")}),{x:At.x,y:At.y}}};if(R.quality=="default"||R.quality=="proof"||R.randomize){var Xt=l.calcParentsWithoutChildren(nt,gt),Gt=gt.filter(function(vt){return vt.css("display")=="none"});R.eles=gt.not(Gt),gt.nodes().not(":parent").not(Gt).layoutPositions(j,R,Mt),Xt.length>0&&Xt.forEach(function(vt){vt.position(Mt(vt))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),L}();t.exports=N},657:(t,m,r)=>{var d=r(548),e=r(140).layoutBase.Matrix,a=r(140).layoutBase.SVD,l=function(c){var T=c.cy,h=c.eles,A=h.nodes(),N=h.nodes(":parent"),L=new Map,I=new Map,j=new Map,R=[],nt=[],gt=[],ft=[],mt=[],G=[],K=[],n=[],v=void 0,f=void 0,E=1e8,p=1e-9,S=c.piTol,O=c.samplingType,H=c.nodeSeparation,W=void 0,Y=function(){for(var g=0,M=0,C=!1;M<W;){g=Math.floor(Math.random()*f),C=!1;for(var D=0;D<M;D++)if(ft[D]==g){C=!0;break}if(!C)ft[M]=g,M++;else continue}},et=function(g,M,C){for(var D=[],X=0,V=0,U=0,b=void 0,Q=[],F=0,z=1,ut=0;ut<f;ut++)Q[ut]=E;for(D[V]=g,Q[g]=0;V>=X;){U=D[X++];for(var rt=R[U],P=0;P<rt.length;P++)b=I.get(rt[P]),Q[b]==E&&(Q[b]=Q[U]+1,D[++V]=b);G[U][M]=Q[U]*H}if(C){for(var tt=0;tt<f;tt++)G[tt][M]<mt[tt]&&(mt[tt]=G[tt][M]);for(var at=0;at<f;at++)mt[at]>F&&(F=mt[at],z=at)}return z},st=function(g){var M=void 0;if(g){M=Math.floor(Math.random()*f),v=M;for(var D=0;D<f;D++)mt[D]=E;for(var X=0;X<W;X++)ft[X]=M,M=et(M,X,g)}else{Y();for(var C=0;C<W;C++)et(ft[C],C,g,!1)}for(var V=0;V<f;V++)for(var U=0;U<W;U++)G[V][U]*=G[V][U];for(var b=0;b<W;b++)K[b]=[];for(var Q=0;Q<W;Q++)for(var F=0;F<W;F++)K[Q][F]=G[ft[F]][Q]},B=function(){for(var g=a.svd(K),M=g.S,C=g.U,D=g.V,X=M[0]*M[0]*M[0],V=[],U=0;U<W;U++){V[U]=[];for(var b=0;b<W;b++)V[U][b]=0,U==b&&(V[U][b]=M[U]/(M[U]*M[U]+X/(M[U]*M[U])))}n=e.multMat(e.multMat(D,V),e.transpose(C))},ht=function(){for(var g=void 0,M=void 0,C=[],D=[],X=[],V=[],U=0;U<f;U++)C[U]=Math.random(),D[U]=Math.random();C=e.normalize(C),D=e.normalize(D);for(var b=0,Q=p,F=p,z=void 0;;){b++;for(var ut=0;ut<f;ut++)X[ut]=C[ut];if(C=e.multGamma(e.multL(e.multGamma(X),G,n)),g=e.dotProduct(X,C),C=e.normalize(C),Q=e.dotProduct(X,C),z=Math.abs(Q/F),z<=1+S&&z>=1)break;F=Q}for(var rt=0;rt<f;rt++)X[rt]=C[rt];for(b=0,F=p;;){b++;for(var P=0;P<f;P++)V[P]=D[P];if(V=e.minusOp(V,e.multCons(X,e.dotProduct(X,V))),D=e.multGamma(e.multL(e.multGamma(V),G,n)),M=e.dotProduct(V,D),D=e.normalize(D),Q=e.dotProduct(V,D),z=Math.abs(Q/F),z<=1+S&&z>=1)break;F=Q}for(var tt=0;tt<f;tt++)V[tt]=D[tt];nt=e.multCons(X,Math.sqrt(Math.abs(g))),gt=e.multCons(V,Math.sqrt(Math.abs(M)))};d.connectComponents(T,h,d.getTopMostNodes(A),L),N.forEach(function(q){d.connectComponents(T,h,d.getTopMostNodes(q.descendants().intersection(h)),L)});for(var _=0,w=0;w<A.length;w++)A[w].isParent()||I.set(A[w].id(),_++);var $=!0,Z=!1,J=void 0;try{for(var Et=L.keys()[Symbol.iterator](),it;!($=(it=Et.next()).done);$=!0){var Pt=it.value;I.set(Pt,_++)}}catch(q){Z=!0,J=q}finally{try{!$&&Et.return&&Et.return()}finally{if(Z)throw J}}for(var Mt=0;Mt<I.size;Mt++)R[Mt]=[];N.forEach(function(q){for(var g=q.children().intersection(h);g.nodes(":childless").length==0;)g=g.nodes()[0].children().intersection(h);var M=0,C=g.nodes(":childless")[0].connectedEdges().length;g.nodes(":childless").forEach(function(D,X){D.connectedEdges().length<C&&(C=D.connectedEdges().length,M=X)}),j.set(q.id(),g.nodes(":childless")[M].id())}),A.forEach(function(q){var g=void 0;q.isParent()?g=I.get(j.get(q.id())):g=I.get(q.id()),q.neighborhood().nodes().forEach(function(M){h.intersection(q.edgesWith(M)).length>0&&(M.isParent()?R[g].push(j.get(M.id())):R[g].push(M.id()))})});var Xt=function(g){var M=I.get(g),C=void 0;L.get(g).forEach(function(D){T.getElementById(D).isParent()?C=j.get(D):C=D,R[M].push(C),R[I.get(C)].push(g)})},Gt=!0,vt=!1,ct=void 0;try{for(var xt=L.keys()[Symbol.iterator](),Dt;!(Gt=(Dt=xt.next()).done);Gt=!0){var Nt=Dt.value;Xt(Nt)}}catch(q){vt=!0,ct=q}finally{try{!Gt&&xt.return&&xt.return()}finally{if(vt)throw ct}}f=I.size;var Ot=void 0;if(f>2){W=f<c.sampleSize?f:c.sampleSize;for(var At=0;At<f;At++)G[At]=[];for(var It=0;It<W;It++)n[It]=[];return c.quality=="draft"||c.step=="all"?(st(O),B(),ht(),Ot={nodeIndexes:I,xCoords:nt,yCoords:gt}):(I.forEach(function(q,g){nt.push(T.getElementById(g).position("x")),gt.push(T.getElementById(g).position("y"))}),Ot={nodeIndexes:I,xCoords:nt,yCoords:gt}),Ot}else{var Ht=I.keys(),kt=T.getElementById(Ht.next().value),bt=kt.position(),Yt=kt.outerWidth();if(nt.push(bt.x),gt.push(bt.y),f==2){var Wt=T.getElementById(Ht.next().value),k=Wt.outerWidth();nt.push(bt.x+Yt/2+k/2+c.idealEdgeLength),gt.push(bt.y)}return Ot={nodeIndexes:I,xCoords:nt,yCoords:gt},Ot}};t.exports={spectralLayout:l}},579:(t,m,r)=>{var d=r(212),e=function(l){l&&l("layout","fcose",d)};typeof cytoscape<"u"&&e(cytoscape),t.exports=e},140:t=>{t.exports=x}},o={};function s(t){var m=o[t];if(m!==void 0)return m.exports;var r=o[t]={exports:{}};return y[t](r,r.exports,s),r.exports}var i=s(579);return i})()})},20378:function(jt){(function(pt,x){jt.exports=x()})(this,function(){return function(lt){var pt={};function x(y){if(pt[y])return pt[y].exports;var o=pt[y]={i:y,l:!1,exports:{}};return lt[y].call(o.exports,o,o.exports,x),o.l=!0,o.exports}return x.m=lt,x.c=pt,x.i=function(y){return y},x.d=function(y,o,s){x.o(y,o)||Object.defineProperty(y,o,{configurable:!1,enumerable:!0,get:s})},x.n=function(y){var o=y&&y.__esModule?function(){return y.default}:function(){return y};return x.d(o,"a",o),o},x.o=function(y,o){return Object.prototype.hasOwnProperty.call(y,o)},x.p="",x(x.s=28)}([function(lt,pt,x){"use strict";function y(){}y.QUALITY=1,y.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,y.DEFAULT_INCREMENTAL=!1,y.DEFAULT_ANIMATION_ON_LAYOUT=!0,y.DEFAULT_ANIMATION_DURING_LAYOUT=!1,y.DEFAULT_ANIMATION_PERIOD=50,y.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,y.DEFAULT_GRAPH_MARGIN=15,y.NODE_DIMENSIONS_INCLUDE_LABELS=!1,y.SIMPLE_NODE_SIZE=40,y.SIMPLE_NODE_HALF_SIZE=y.SIMPLE_NODE_SIZE/2,y.EMPTY_COMPOUND_NODE_SIZE=40,y.MIN_EDGE_LENGTH=1,y.WORLD_BOUNDARY=1e6,y.INITIAL_WORLD_BOUNDARY=y.WORLD_BOUNDARY/1e3,y.WORLD_CENTER_X=1200,y.WORLD_CENTER_Y=900,lt.exports=y},function(lt,pt,x){"use strict";var y=x(2),o=x(8),s=x(9);function i(m,r,d){y.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=m,this.target=r}i.prototype=Object.create(y.prototype);for(var t in y)i[t]=y[t];i.prototype.getSource=function(){return this.source},i.prototype.getTarget=function(){return this.target},i.prototype.isInterGraph=function(){return this.isInterGraph},i.prototype.getLength=function(){return this.length},i.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},i.prototype.getBendpoints=function(){return this.bendpoints},i.prototype.getLca=function(){return this.lca},i.prototype.getSourceInLca=function(){return this.sourceInLca},i.prototype.getTargetInLca=function(){return this.targetInLca},i.prototype.getOtherEnd=function(m){if(this.source===m)return this.target;if(this.target===m)return this.source;throw"Node is not incident with this edge"},i.prototype.getOtherEndInGraph=function(m,r){for(var d=this.getOtherEnd(m),e=r.getGraphManager().getRoot();;){if(d.getOwner()==r)return d;if(d.getOwner()==e)break;d=d.getOwner().getParent()}return null},i.prototype.updateLength=function(){var m=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),m),this.isOverlapingSourceAndTarget||(this.lengthX=m[0]-m[2],this.lengthY=m[1]-m[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},i.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},lt.exports=i},function(lt,pt,x){"use strict";function y(o){this.vGraphObject=o}lt.exports=y},function(lt,pt,x){"use strict";var y=x(2),o=x(10),s=x(13),i=x(0),t=x(16),m=x(5);function r(e,a,l,u){l==null&&u==null&&(u=a),y.call(this,u),e.graphManager!=null&&(e=e.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=u,this.edges=[],this.graphManager=e,l!=null&&a!=null?this.rect=new s(a.x,a.y,l.width,l.height):this.rect=new s}r.prototype=Object.create(y.prototype);for(var d in y)r[d]=y[d];r.prototype.getEdges=function(){return this.edges},r.prototype.getChild=function(){return this.child},r.prototype.getOwner=function(){return this.owner},r.prototype.getWidth=function(){return this.rect.width},r.prototype.setWidth=function(e){this.rect.width=e},r.prototype.getHeight=function(){return this.rect.height},r.prototype.setHeight=function(e){this.rect.height=e},r.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},r.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},r.prototype.getCenter=function(){return new m(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},r.prototype.getLocation=function(){return new m(this.rect.x,this.rect.y)},r.prototype.getRect=function(){return this.rect},r.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},r.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},r.prototype.setRect=function(e,a){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=a.width,this.rect.height=a.height},r.prototype.setCenter=function(e,a){this.rect.x=e-this.rect.width/2,this.rect.y=a-this.rect.height/2},r.prototype.setLocation=function(e,a){this.rect.x=e,this.rect.y=a},r.prototype.moveBy=function(e,a){this.rect.x+=e,this.rect.y+=a},r.prototype.getEdgeListToNode=function(e){var a=[],l,u=this;return u.edges.forEach(function(c){if(c.target==e){if(c.source!=u)throw"Incorrect edge source!";a.push(c)}}),a},r.prototype.getEdgesBetween=function(e){var a=[],l,u=this;return u.edges.forEach(function(c){if(!(c.source==u||c.target==u))throw"Incorrect edge source and/or target";(c.target==e||c.source==e)&&a.push(c)}),a},r.prototype.getNeighborsList=function(){var e=new Set,a=this;return a.edges.forEach(function(l){if(l.source==a)e.add(l.target);else{if(l.target!=a)throw"Incorrect incidency!";e.add(l.source)}}),e},r.prototype.withChildren=function(){var e=new Set,a,l;if(e.add(this),this.child!=null)for(var u=this.child.getNodes(),c=0;c<u.length;c++)a=u[c],l=a.withChildren(),l.forEach(function(T){e.add(T)});return e},r.prototype.getNoOfChildren=function(){var e=0,a;if(this.child==null)e=1;else for(var l=this.child.getNodes(),u=0;u<l.length;u++)a=l[u],e+=a.getNoOfChildren();return e==0&&(e=1),e},r.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},r.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},r.prototype.scatter=function(){var e,a,l=-i.INITIAL_WORLD_BOUNDARY,u=i.INITIAL_WORLD_BOUNDARY;e=i.WORLD_CENTER_X+t.nextDouble()*(u-l)+l;var c=-i.INITIAL_WORLD_BOUNDARY,T=i.INITIAL_WORLD_BOUNDARY;a=i.WORLD_CENTER_Y+t.nextDouble()*(T-c)+c,this.rect.x=e,this.rect.y=a},r.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),i.NODE_DIMENSIONS_INCLUDE_LABELS){var a=e.getRight()-e.getLeft(),l=e.getBottom()-e.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(a+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>a?(this.rect.x-=(this.labelWidth-a)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(a+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(l+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>l?(this.rect.y-=(this.labelHeight-l)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(l+this.labelHeight))}}},r.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},r.prototype.transform=function(e){var a=this.rect.x;a>i.WORLD_BOUNDARY?a=i.WORLD_BOUNDARY:a<-i.WORLD_BOUNDARY&&(a=-i.WORLD_BOUNDARY);var l=this.rect.y;l>i.WORLD_BOUNDARY?l=i.WORLD_BOUNDARY:l<-i.WORLD_BOUNDARY&&(l=-i.WORLD_BOUNDARY);var u=new m(a,l),c=e.inverseTransformPoint(u);this.setLocation(c.x,c.y)},r.prototype.getLeft=function(){return this.rect.x},r.prototype.getRight=function(){return this.rect.x+this.rect.width},r.prototype.getTop=function(){return this.rect.y},r.prototype.getBottom=function(){return this.rect.y+this.rect.height},r.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},lt.exports=r},function(lt,pt,x){"use strict";var y=x(0);function o(){}for(var s in y)o[s]=y[s];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,lt.exports=o},function(lt,pt,x){"use strict";function y(o,s){o==null&&s==null?(this.x=0,this.y=0):(this.x=o,this.y=s)}y.prototype.getX=function(){return this.x},y.prototype.getY=function(){return this.y},y.prototype.setX=function(o){this.x=o},y.prototype.setY=function(o){this.y=o},y.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},y.prototype.getCopy=function(){return new y(this.x,this.y)},y.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},lt.exports=y},function(lt,pt,x){"use strict";var y=x(2),o=x(10),s=x(0),i=x(7),t=x(3),m=x(1),r=x(13),d=x(12),e=x(11);function a(u,c,T){y.call(this,T),this.estimatedSize=o.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=u,c!=null&&c instanceof i?this.graphManager=c:c!=null&&c instanceof Layout&&(this.graphManager=c.graphManager)}a.prototype=Object.create(y.prototype);for(var l in y)a[l]=y[l];a.prototype.getNodes=function(){return this.nodes},a.prototype.getEdges=function(){return this.edges},a.prototype.getGraphManager=function(){return this.graphManager},a.prototype.getParent=function(){return this.parent},a.prototype.getLeft=function(){return this.left},a.prototype.getRight=function(){return this.right},a.prototype.getTop=function(){return this.top},a.prototype.getBottom=function(){return this.bottom},a.prototype.isConnected=function(){return this.isConnected},a.prototype.add=function(u,c,T){if(c==null&&T==null){var h=u;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(h)>-1)throw"Node already in graph!";return h.owner=this,this.getNodes().push(h),h}else{var A=u;if(!(this.getNodes().indexOf(c)>-1&&this.getNodes().indexOf(T)>-1))throw"Source or target not in graph!";if(!(c.owner==T.owner&&c.owner==this))throw"Both owners must be this graph!";return c.owner!=T.owner?null:(A.source=c,A.target=T,A.isInterGraph=!1,this.getEdges().push(A),c.edges.push(A),T!=c&&T.edges.push(A),A)}},a.prototype.remove=function(u){var c=u;if(u instanceof t){if(c==null)throw"Node is null!";if(!(c.owner!=null&&c.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var T=c.edges.slice(),h,A=T.length,N=0;N<A;N++)h=T[N],h.isInterGraph?this.graphManager.remove(h):h.source.owner.remove(h);var L=this.nodes.indexOf(c);if(L==-1)throw"Node not in owner node list!";this.nodes.splice(L,1)}else if(u instanceof m){var h=u;if(h==null)throw"Edge is null!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.owner!=null&&h.target.owner!=null&&h.source.owner==this&&h.target.owner==this))throw"Source and/or target owner is invalid!";var I=h.source.edges.indexOf(h),j=h.target.edges.indexOf(h);if(!(I>-1&&j>-1))throw"Source and/or target doesn't know this edge!";h.source.edges.splice(I,1),h.target!=h.source&&h.target.edges.splice(j,1);var L=h.source.owner.getEdges().indexOf(h);if(L==-1)throw"Not in owner's edge list!";h.source.owner.getEdges().splice(L,1)}},a.prototype.updateLeftTop=function(){for(var u=o.MAX_VALUE,c=o.MAX_VALUE,T,h,A,N=this.getNodes(),L=N.length,I=0;I<L;I++){var j=N[I];T=j.getTop(),h=j.getLeft(),u>T&&(u=T),c>h&&(c=h)}return u==o.MAX_VALUE?null:(N[0].getParent().paddingLeft!=null?A=N[0].getParent().paddingLeft:A=this.margin,this.left=c-A,this.top=u-A,new d(this.left,this.top))},a.prototype.updateBounds=function(u){for(var c=o.MAX_VALUE,T=-o.MAX_VALUE,h=o.MAX_VALUE,A=-o.MAX_VALUE,N,L,I,j,R,nt=this.nodes,gt=nt.length,ft=0;ft<gt;ft++){var mt=nt[ft];u&&mt.child!=null&&mt.updateBounds(),N=mt.getLeft(),L=mt.getRight(),I=mt.getTop(),j=mt.getBottom(),c>N&&(c=N),T<L&&(T=L),h>I&&(h=I),A<j&&(A=j)}var G=new r(c,h,T-c,A-h);c==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),nt[0].getParent().paddingLeft!=null?R=nt[0].getParent().paddingLeft:R=this.margin,this.left=G.x-R,this.right=G.x+G.width+R,this.top=G.y-R,this.bottom=G.y+G.height+R},a.calculateBounds=function(u){for(var c=o.MAX_VALUE,T=-o.MAX_VALUE,h=o.MAX_VALUE,A=-o.MAX_VALUE,N,L,I,j,R=u.length,nt=0;nt<R;nt++){var gt=u[nt];N=gt.getLeft(),L=gt.getRight(),I=gt.getTop(),j=gt.getBottom(),c>N&&(c=N),T<L&&(T=L),h>I&&(h=I),A<j&&(A=j)}var ft=new r(c,h,T-c,A-h);return ft},a.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},a.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},a.prototype.calcEstimatedSize=function(){for(var u=0,c=this.nodes,T=c.length,h=0;h<T;h++){var A=c[h];u+=A.calcEstimatedSize()}return u==0?this.estimatedSize=s.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=u/Math.sqrt(this.nodes.length),this.estimatedSize},a.prototype.updateConnected=function(){var u=this;if(this.nodes.length==0){this.isConnected=!0;return}var c=new e,T=new Set,h=this.nodes[0],A,N,L=h.withChildren();for(L.forEach(function(ft){c.push(ft),T.add(ft)});c.length!==0;){h=c.shift(),A=h.getEdges();for(var I=A.length,j=0;j<I;j++){var R=A[j];if(N=R.getOtherEndInGraph(h,this),N!=null&&!T.has(N)){var nt=N.withChildren();nt.forEach(function(ft){c.push(ft),T.add(ft)})}}}if(this.isConnected=!1,T.size>=this.nodes.length){var gt=0;T.forEach(function(ft){ft.owner==u&&gt++}),gt==this.nodes.length&&(this.isConnected=!0)}},lt.exports=a},function(lt,pt,x){"use strict";var y,o=x(1);function s(i){y=x(6),this.layout=i,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var i=this.layout.newGraph(),t=this.layout.newNode(null),m=this.add(i,t);return this.setRootGraph(m),this.rootGraph},s.prototype.add=function(i,t,m,r,d){if(m==null&&r==null&&d==null){if(i==null)throw"Graph is null!";if(t==null)throw"Parent node is null!";if(this.graphs.indexOf(i)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(i),i.parent!=null)throw"Already has a parent!";if(t.child!=null)throw"Already has a child!";return i.parent=t,t.child=i,i}else{d=m,r=t,m=i;var e=r.getOwner(),a=d.getOwner();if(!(e!=null&&e.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(a!=null&&a.getGraphManager()==this))throw"Target not in this graph mgr!";if(e==a)return m.isInterGraph=!1,e.add(m,r,d);if(m.isInterGraph=!0,m.source=r,m.target=d,this.edges.indexOf(m)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(m),!(m.source!=null&&m.target!=null))throw"Edge source and/or target is null!";if(!(m.source.edges.indexOf(m)==-1&&m.target.edges.indexOf(m)==-1))throw"Edge already in source and/or target incidency list!";return m.source.edges.push(m),m.target.edges.push(m),m}},s.prototype.remove=function(i){if(i instanceof y){var t=i;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(t==this.rootGraph||t.parent!=null&&t.parent.graphManager==this))throw"Invalid parent node!";var m=[];m=m.concat(t.getEdges());for(var r,d=m.length,e=0;e<d;e++)r=m[e],t.remove(r);var a=[];a=a.concat(t.getNodes());var l;d=a.length;for(var e=0;e<d;e++)l=a[e],t.remove(l);t==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(t);this.graphs.splice(u,1),t.parent=null}else if(i instanceof o){if(r=i,r==null)throw"Edge is null!";if(!r.isInterGraph)throw"Not an inter-graph edge!";if(!(r.source!=null&&r.target!=null))throw"Source and/or target is null!";if(!(r.source.edges.indexOf(r)!=-1&&r.target.edges.indexOf(r)!=-1))throw"Source and/or target doesn't know this edge!";var u=r.source.edges.indexOf(r);if(r.source.edges.splice(u,1),u=r.target.edges.indexOf(r),r.target.edges.splice(u,1),!(r.source.owner!=null&&r.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(r.source.owner.getGraphManager().edges.indexOf(r)==-1)throw"Not in owner graph manager's edge list!";var u=r.source.owner.getGraphManager().edges.indexOf(r);r.source.owner.getGraphManager().edges.splice(u,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(this.allNodes==null){for(var i=[],t=this.getGraphs(),m=t.length,r=0;r<m;r++)i=i.concat(t[r].getNodes());this.allNodes=i}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(this.allEdges==null){for(var i=[],t=this.getGraphs(),m=t.length,r=0;r<t.length;r++)i=i.concat(t[r].getEdges());i=i.concat(this.edges),this.allEdges=i}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(i){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=i},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(i){if(i.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=i,i.parent==null&&(i.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(i,t){if(!(i!=null&&t!=null))throw"assert failed";if(i==t)return!0;var m=i.getOwner(),r;do{if(r=m.getParent(),r==null)break;if(r==t)return!0;if(m=r.getOwner(),m==null)break}while(!0);m=t.getOwner();do{if(r=m.getParent(),r==null)break;if(r==i)return!0;if(m=r.getOwner(),m==null)break}while(!0);return!1},s.prototype.calcLowestCommonAncestors=function(){for(var i,t,m,r,d,e=this.getAllEdges(),a=e.length,l=0;l<a;l++){if(i=e[l],t=i.source,m=i.target,i.lca=null,i.sourceInLca=t,i.targetInLca=m,t==m){i.lca=t.getOwner();continue}for(r=t.getOwner();i.lca==null;){for(i.targetInLca=m,d=m.getOwner();i.lca==null;){if(d==r){i.lca=d;break}if(d==this.rootGraph)break;if(i.lca!=null)throw"assert failed";i.targetInLca=d.getParent(),d=i.targetInLca.getOwner()}if(r==this.rootGraph)break;i.lca==null&&(i.sourceInLca=r.getParent(),r=i.sourceInLca.getOwner())}if(i.lca==null)throw"assert failed"}},s.prototype.calcLowestCommonAncestor=function(i,t){if(i==t)return i.getOwner();var m=i.getOwner();do{if(m==null)break;var r=t.getOwner();do{if(r==null)break;if(r==m)return r;r=r.getParent().getOwner()}while(!0);m=m.getParent().getOwner()}while(!0);return m},s.prototype.calcInclusionTreeDepths=function(i,t){i==null&&t==null&&(i=this.rootGraph,t=1);for(var m,r=i.getNodes(),d=r.length,e=0;e<d;e++)m=r[e],m.inclusionTreeDepth=t,m.child!=null&&this.calcInclusionTreeDepths(m.child,t+1)},s.prototype.includesInvalidEdge=function(){for(var i,t=[],m=this.edges.length,r=0;r<m;r++)i=this.edges[r],this.isOneAncestorOfOther(i.source,i.target)&&t.push(i);for(var r=0;r<t.length;r++)this.remove(t[r]);return!1},lt.exports=s},function(lt,pt,x){"use strict";var y=x(12);function o(){}o.calcSeparationAmount=function(s,i,t,m){if(!s.intersects(i))throw"assert failed";var r=new Array(2);this.decideDirectionsForOverlappingNodes(s,i,r),t[0]=Math.min(s.getRight(),i.getRight())-Math.max(s.x,i.x),t[1]=Math.min(s.getBottom(),i.getBottom())-Math.max(s.y,i.y),s.getX()<=i.getX()&&s.getRight()>=i.getRight()?t[0]+=Math.min(i.getX()-s.getX(),s.getRight()-i.getRight()):i.getX()<=s.getX()&&i.getRight()>=s.getRight()&&(t[0]+=Math.min(s.getX()-i.getX(),i.getRight()-s.getRight())),s.getY()<=i.getY()&&s.getBottom()>=i.getBottom()?t[1]+=Math.min(i.getY()-s.getY(),s.getBottom()-i.getBottom()):i.getY()<=s.getY()&&i.getBottom()>=s.getBottom()&&(t[1]+=Math.min(s.getY()-i.getY(),i.getBottom()-s.getBottom()));var d=Math.abs((i.getCenterY()-s.getCenterY())/(i.getCenterX()-s.getCenterX()));i.getCenterY()===s.getCenterY()&&i.getCenterX()===s.getCenterX()&&(d=1);var e=d*t[0],a=t[1]/d;t[0]<a?a=t[0]:e=t[1],t[0]=-1*r[0]*(a/2+m),t[1]=-1*r[1]*(e/2+m)},o.decideDirectionsForOverlappingNodes=function(s,i,t){s.getCenterX()<i.getCenterX()?t[0]=-1:t[0]=1,s.getCenterY()<i.getCenterY()?t[1]=-1:t[1]=1},o.getIntersection2=function(s,i,t){var m=s.getCenterX(),r=s.getCenterY(),d=i.getCenterX(),e=i.getCenterY();if(s.intersects(i))return t[0]=m,t[1]=r,t[2]=d,t[3]=e,!0;var a=s.getX(),l=s.getY(),u=s.getRight(),c=s.getX(),T=s.getBottom(),h=s.getRight(),A=s.getWidthHalf(),N=s.getHeightHalf(),L=i.getX(),I=i.getY(),j=i.getRight(),R=i.getX(),nt=i.getBottom(),gt=i.getRight(),ft=i.getWidthHalf(),mt=i.getHeightHalf(),G=!1,K=!1;if(m===d){if(r>e)return t[0]=m,t[1]=l,t[2]=d,t[3]=nt,!1;if(r<e)return t[0]=m,t[1]=T,t[2]=d,t[3]=I,!1}else if(r===e){if(m>d)return t[0]=a,t[1]=r,t[2]=j,t[3]=e,!1;if(m<d)return t[0]=u,t[1]=r,t[2]=L,t[3]=e,!1}else{var n=s.height/s.width,v=i.height/i.width,f=(e-r)/(d-m),E=void 0,p=void 0,S=void 0,O=void 0,H=void 0,W=void 0;if(-n===f?m>d?(t[0]=c,t[1]=T,G=!0):(t[0]=u,t[1]=l,G=!0):n===f&&(m>d?(t[0]=a,t[1]=l,G=!0):(t[0]=h,t[1]=T,G=!0)),-v===f?d>m?(t[2]=R,t[3]=nt,K=!0):(t[2]=j,t[3]=I,K=!0):v===f&&(d>m?(t[2]=L,t[3]=I,K=!0):(t[2]=gt,t[3]=nt,K=!0)),G&&K)return!1;if(m>d?r>e?(E=this.getCardinalDirection(n,f,4),p=this.getCardinalDirection(v,f,2)):(E=this.getCardinalDirection(-n,f,3),p=this.getCardinalDirection(-v,f,1)):r>e?(E=this.getCardinalDirection(-n,f,1),p=this.getCardinalDirection(-v,f,3)):(E=this.getCardinalDirection(n,f,2),p=this.getCardinalDirection(v,f,4)),!G)switch(E){case 1:O=l,S=m+-N/f,t[0]=S,t[1]=O;break;case 2:S=h,O=r+A*f,t[0]=S,t[1]=O;break;case 3:O=T,S=m+N/f,t[0]=S,t[1]=O;break;case 4:S=c,O=r+-A*f,t[0]=S,t[1]=O;break}if(!K)switch(p){case 1:W=I,H=d+-mt/f,t[2]=H,t[3]=W;break;case 2:H=gt,W=e+ft*f,t[2]=H,t[3]=W;break;case 3:W=nt,H=d+mt/f,t[2]=H,t[3]=W;break;case 4:H=R,W=e+-ft*f,t[2]=H,t[3]=W;break}}return!1},o.getCardinalDirection=function(s,i,t){return s>i?t:1+t%4},o.getIntersection=function(s,i,t,m){if(m==null)return this.getIntersection2(s,i,t);var r=s.x,d=s.y,e=i.x,a=i.y,l=t.x,u=t.y,c=m.x,T=m.y,h=void 0,A=void 0,N=void 0,L=void 0,I=void 0,j=void 0,R=void 0,nt=void 0,gt=void 0;return N=a-d,I=r-e,R=e*d-r*a,L=T-u,j=l-c,nt=c*u-l*T,gt=N*j-L*I,gt===0?null:(h=(I*nt-j*R)/gt,A=(L*R-N*nt)/gt,new y(h,A))},o.angleOfVector=function(s,i,t,m){var r=void 0;return s!==t?(r=Math.atan((m-i)/(t-s)),t<s?r+=Math.PI:m<i&&(r+=this.TWO_PI)):m<i?r=this.ONE_AND_HALF_PI:r=this.HALF_PI,r},o.doIntersect=function(s,i,t,m){var r=s.x,d=s.y,e=i.x,a=i.y,l=t.x,u=t.y,c=m.x,T=m.y,h=(e-r)*(T-u)-(c-l)*(a-d);if(h===0)return!1;var A=((T-u)*(c-r)+(l-c)*(T-d))/h,N=((d-a)*(c-r)+(e-r)*(T-d))/h;return 0<A&&A<1&&0<N&&N<1},o.findCircleLineIntersections=function(s,i,t,m,r,d,e){var a=(t-s)*(t-s)+(m-i)*(m-i),l=2*((s-r)*(t-s)+(i-d)*(m-i)),u=(s-r)*(s-r)+(i-d)*(i-d)-e*e,c=l*l-4*a*u;if(c>=0){var T=(-l+Math.sqrt(l*l-4*a*u))/(2*a),h=(-l-Math.sqrt(l*l-4*a*u))/(2*a),A=null;return T>=0&&T<=1?[T]:h>=0&&h<=1?[h]:A}else return null},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,lt.exports=o},function(lt,pt,x){"use strict";function y(){}y.sign=function(o){return o>0?1:o<0?-1:0},y.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},y.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},lt.exports=y},function(lt,pt,x){"use strict";function y(){}y.MAX_VALUE=2147483647,y.MIN_VALUE=-2147483648,lt.exports=y},function(lt,pt,x){"use strict";var y=function(){function r(d,e){for(var a=0;a<e.length;a++){var l=e[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}return function(d,e,a){return e&&r(d.prototype,e),a&&r(d,a),d}}();function o(r,d){if(!(r instanceof d))throw new TypeError("Cannot call a class as a function")}var s=function(d){return{value:d,next:null,prev:null}},i=function(d,e,a,l){return d!==null?d.next=e:l.head=e,a!==null?a.prev=e:l.tail=e,e.prev=d,e.next=a,l.length++,e},t=function(d,e){var a=d.prev,l=d.next;return a!==null?a.next=l:e.head=l,l!==null?l.prev=a:e.tail=a,d.prev=d.next=null,e.length--,d},m=function(){function r(d){var e=this;o(this,r),this.length=0,this.head=null,this.tail=null,d?.forEach(function(a){return e.push(a)})}return y(r,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,a){return i(a.prev,s(e),a,this)}},{key:"insertAfter",value:function(e,a){return i(a,s(e),a.next,this)}},{key:"insertNodeBefore",value:function(e,a){return i(a.prev,e,a,this)}},{key:"insertNodeAfter",value:function(e,a){return i(a,e,a.next,this)}},{key:"push",value:function(e){return i(this.tail,s(e),null,this)}},{key:"unshift",value:function(e){return i(null,s(e),this.head,this)}},{key:"remove",value:function(e){return t(e,this)}},{key:"pop",value:function(){return t(this.tail,this).value}},{key:"popNode",value:function(){return t(this.tail,this)}},{key:"shift",value:function(){return t(this.head,this).value}},{key:"shiftNode",value:function(){return t(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var a=1,l=this.head;a<e;)l=l.next,a++;return l.value}}},{key:"set_object_at",value:function(e,a){if(e<=this.length()){for(var l=1,u=this.head;l<e;)u=u.next,l++;u.value=a}}}]),r}();lt.exports=m},function(lt,pt,x){"use strict";function y(o,s,i){this.x=null,this.y=null,o==null&&s==null&&i==null?(this.x=0,this.y=0):typeof o=="number"&&typeof s=="number"&&i==null?(this.x=o,this.y=s):o.constructor.name=="Point"&&s==null&&i==null&&(i=o,this.x=i.x,this.y=i.y)}y.prototype.getX=function(){return this.x},y.prototype.getY=function(){return this.y},y.prototype.getLocation=function(){return new y(this.x,this.y)},y.prototype.setLocation=function(o,s,i){o.constructor.name=="Point"&&s==null&&i==null?(i=o,this.setLocation(i.x,i.y)):typeof o=="number"&&typeof s=="number"&&i==null&&(parseInt(o)==o&&parseInt(s)==s?this.move(o,s):(this.x=Math.floor(o+.5),this.y=Math.floor(s+.5)))},y.prototype.move=function(o,s){this.x=o,this.y=s},y.prototype.translate=function(o,s){this.x+=o,this.y+=s},y.prototype.equals=function(o){if(o.constructor.name=="Point"){var s=o;return this.x==s.x&&this.y==s.y}return this==o},y.prototype.toString=function(){return new y().constructor.name+"[x="+this.x+",y="+this.y+"]"},lt.exports=y},function(lt,pt,x){"use strict";function y(o,s,i,t){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&s!=null&&i!=null&&t!=null&&(this.x=o,this.y=s,this.width=i,this.height=t)}y.prototype.getX=function(){return this.x},y.prototype.setX=function(o){this.x=o},y.prototype.getY=function(){return this.y},y.prototype.setY=function(o){this.y=o},y.prototype.getWidth=function(){return this.width},y.prototype.setWidth=function(o){this.width=o},y.prototype.getHeight=function(){return this.height},y.prototype.setHeight=function(o){this.height=o},y.prototype.getRight=function(){return this.x+this.width},y.prototype.getBottom=function(){return this.y+this.height},y.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},y.prototype.getCenterX=function(){return this.x+this.width/2},y.prototype.getMinX=function(){return this.getX()},y.prototype.getMaxX=function(){return this.getX()+this.width},y.prototype.getCenterY=function(){return this.y+this.height/2},y.prototype.getMinY=function(){return this.getY()},y.prototype.getMaxY=function(){return this.getY()+this.height},y.prototype.getWidthHalf=function(){return this.width/2},y.prototype.getHeightHalf=function(){return this.height/2},lt.exports=y},function(lt,pt,x){"use strict";var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function o(){}o.lastID=0,o.createID=function(s){return o.isPrimitive(s)?s:(s.uniqueID!=null||(s.uniqueID=o.getString(),o.lastID++),s.uniqueID)},o.getString=function(s){return s==null&&(s=o.lastID),"Object#"+s},o.isPrimitive=function(s){var i=typeof s>"u"?"undefined":y(s);return s==null||i!="object"&&i!="function"},lt.exports=o},function(lt,pt,x){"use strict";function y(l){if(Array.isArray(l)){for(var u=0,c=Array(l.length);u<l.length;u++)c[u]=l[u];return c}else return Array.from(l)}var o=x(0),s=x(7),i=x(3),t=x(1),m=x(6),r=x(5),d=x(17),e=x(29);function a(l){e.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,l!=null&&(this.isRemoteUse=l)}a.RANDOM_SEED=1,a.prototype=Object.create(e.prototype),a.prototype.getGraphManager=function(){return this.graphManager},a.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},a.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},a.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},a.prototype.newGraphManager=function(){var l=new s(this);return this.graphManager=l,l},a.prototype.newGraph=function(l){return new m(null,this.graphManager,l)},a.prototype.newNode=function(l){return new i(this.graphManager,l)},a.prototype.newEdge=function(l){return new t(null,null,l)},a.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},a.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var l;return this.checkLayoutSuccess()?l=!1:l=this.layout(),o.ANIMATE==="during"?!1:(l&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,l)},a.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},a.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var l,u=this.graphManager.getAllEdges(),c=0;c<u.length;c++)l=u[c];for(var T,h=this.graphManager.getRoot().getNodes(),c=0;c<h.length;c++)T=h[c];this.update(this.graphManager.getRoot())}},a.prototype.update=function(l){if(l==null)this.update2();else if(l instanceof i){var u=l;if(u.getChild()!=null)for(var c=u.getChild().getNodes(),T=0;T<c.length;T++)update(c[T]);if(u.vGraphObject!=null){var h=u.vGraphObject;h.update(u)}}else if(l instanceof t){var A=l;if(A.vGraphObject!=null){var N=A.vGraphObject;N.update(A)}}else if(l instanceof m){var L=l;if(L.vGraphObject!=null){var I=L.vGraphObject;I.update(L)}}},a.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},a.prototype.transform=function(l){if(l==null)this.transform(new r(0,0));else{var u=new d,c=this.graphManager.getRoot().updateLeftTop();if(c!=null){u.setWorldOrgX(l.x),u.setWorldOrgY(l.y),u.setDeviceOrgX(c.x),u.setDeviceOrgY(c.y);for(var T=this.getAllNodes(),h,A=0;A<T.length;A++)h=T[A],h.transform(u)}}},a.prototype.positionNodesRandomly=function(l){if(l==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var u,c,T=l.getNodes(),h=0;h<T.length;h++)u=T[h],c=u.getChild(),c==null||c.getNodes().length==0?u.scatter():(this.positionNodesRandomly(c),u.updateBounds())},a.prototype.getFlatForest=function(){for(var l=[],u=!0,c=this.graphManager.getRoot().getNodes(),T=!0,h=0;h<c.length;h++)c[h].getChild()!=null&&(T=!1);if(!T)return l;var A=new Set,N=[],L=new Map,I=[];for(I=I.concat(c);I.length>0&&u;){for(N.push(I[0]);N.length>0&&u;){var j=N[0];N.splice(0,1),A.add(j);for(var R=j.getEdges(),h=0;h<R.length;h++){var nt=R[h].getOtherEnd(j);if(L.get(j)!=nt)if(!A.has(nt))N.push(nt),L.set(nt,j);else{u=!1;break}}}if(!u)l=[];else{var gt=[].concat(y(A));l.push(gt);for(var h=0;h<gt.length;h++){var ft=gt[h],mt=I.indexOf(ft);mt>-1&&I.splice(mt,1)}A=new Set,L=new Map}}return l},a.prototype.createDummyNodesForBendpoints=function(l){for(var u=[],c=l.source,T=this.graphManager.calcLowestCommonAncestor(l.source,l.target),h=0;h<l.bendpoints.length;h++){var A=this.newNode(null);A.setRect(new Point(0,0),new Dimension(1,1)),T.add(A);var N=this.newEdge(null);this.graphManager.add(N,c,A),u.add(A),c=A}var N=this.newEdge(null);return this.graphManager.add(N,c,l.target),this.edgeToDummyNodes.set(l,u),l.isInterGraph()?this.graphManager.remove(l):T.remove(l),u},a.prototype.createBendpointsFromDummyNodes=function(){var l=[];l=l.concat(this.graphManager.getAllEdges()),l=[].concat(y(this.edgeToDummyNodes.keys())).concat(l);for(var u=0;u<l.length;u++){var c=l[u];if(c.bendpoints.length>0){for(var T=this.edgeToDummyNodes.get(c),h=0;h<T.length;h++){var A=T[h],N=new r(A.getCenterX(),A.getCenterY()),L=c.bendpoints.get(h);L.x=N.x,L.y=N.y,A.getOwner().remove(A)}this.graphManager.add(c,c.source,c.target)}}},a.transform=function(l,u,c,T){if(c!=null&&T!=null){var h=u;if(l<=50){var A=u/c;h-=(u-A)/50*(50-l)}else{var N=u*T;h+=(N-u)/50*(l-50)}return h}else{var L,I;return l<=50?(L=9*u/500,I=u/10):(L=9*u/50,I=-8*u),L*l+I}},a.findCenterOfTree=function(l){var u=[];u=u.concat(l);var c=[],T=new Map,h=!1,A=null;(u.length==1||u.length==2)&&(h=!0,A=u[0]);for(var N=0;N<u.length;N++){var L=u[N],I=L.getNeighborsList().size;T.set(L,L.getNeighborsList().size),I==1&&c.push(L)}var j=[];for(j=j.concat(c);!h;){var R=[];R=R.concat(j),j=[];for(var N=0;N<u.length;N++){var L=u[N],nt=u.indexOf(L);nt>=0&&u.splice(nt,1);var gt=L.getNeighborsList();gt.forEach(function(G){if(c.indexOf(G)<0){var K=T.get(G),n=K-1;n==1&&j.push(G),T.set(G,n)}})}c=c.concat(j),(u.length==1||u.length==2)&&(h=!0,A=u[0])}return A},a.prototype.setGraphManager=function(l){this.graphManager=l},lt.exports=a},function(lt,pt,x){"use strict";function y(){}y.seed=1,y.x=0,y.nextDouble=function(){return y.x=Math.sin(y.seed++)*1e4,y.x-Math.floor(y.x)},lt.exports=y},function(lt,pt,x){"use strict";var y=x(5);function o(s,i){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(s){this.lworldOrgX=s},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(s){this.lworldOrgY=s},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(s){this.lworldExtX=s},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(s){this.lworldExtY=s},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(s){this.ldeviceOrgX=s},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(s){this.ldeviceOrgY=s},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(s){this.ldeviceExtX=s},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(s){this.ldeviceExtY=s},o.prototype.transformX=function(s){var i=0,t=this.lworldExtX;return t!=0&&(i=this.ldeviceOrgX+(s-this.lworldOrgX)*this.ldeviceExtX/t),i},o.prototype.transformY=function(s){var i=0,t=this.lworldExtY;return t!=0&&(i=this.ldeviceOrgY+(s-this.lworldOrgY)*this.ldeviceExtY/t),i},o.prototype.inverseTransformX=function(s){var i=0,t=this.ldeviceExtX;return t!=0&&(i=this.lworldOrgX+(s-this.ldeviceOrgX)*this.lworldExtX/t),i},o.prototype.inverseTransformY=function(s){var i=0,t=this.ldeviceExtY;return t!=0&&(i=this.lworldOrgY+(s-this.ldeviceOrgY)*this.lworldExtY/t),i},o.prototype.inverseTransformPoint=function(s){var i=new y(this.inverseTransformX(s.x),this.inverseTransformY(s.y));return i},lt.exports=o},function(lt,pt,x){"use strict";function y(e){if(Array.isArray(e)){for(var a=0,l=Array(e.length);a<e.length;a++)l[a]=e[a];return l}else return Array.from(e)}var o=x(15),s=x(4),i=x(0),t=x(8),m=x(9);function r(){o.call(this),this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=s.MAX_ITERATIONS}r.prototype=Object.create(o.prototype);for(var d in o)r[d]=o[d];r.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},r.prototype.calcIdealEdgeLengths=function(){for(var e,a,l,u,c,T,h,A=this.getGraphManager().getAllEdges(),N=0;N<A.length;N++)e=A[N],a=e.idealLength,e.isInterGraph&&(u=e.getSource(),c=e.getTarget(),T=e.getSourceInLca().getEstimatedSize(),h=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=T+h-2*i.SIMPLE_NODE_SIZE),l=e.getLca().getInclusionTreeDepth(),e.idealLength+=a*s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(u.getInclusionTreeDepth()+c.getInclusionTreeDepth()-2*l))},r.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>s.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*s.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-s.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>s.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(s.COOLING_ADAPTATION_FACTOR,1-(e-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*(1-s.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},r.prototype.calcSpringForces=function(){for(var e=this.getAllEdges(),a,l=0;l<e.length;l++)a=e[l],this.calcSpringForce(a,a.idealLength)},r.prototype.calcRepulsionForces=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l,u,c,T,h=this.getAllNodes(),A;if(this.useFRGridVariant)for(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&e&&this.updateGrid(),A=new Set,l=0;l<h.length;l++)c=h[l],this.calculateRepulsionForceOfANode(c,A,e,a),A.add(c);else for(l=0;l<h.length;l++)for(c=h[l],u=l+1;u<h.length;u++)T=h[u],c.getOwner()==T.getOwner()&&this.calcRepulsionForce(c,T)},r.prototype.calcGravitationalForces=function(){for(var e,a=this.getAllNodesToApplyGravitation(),l=0;l<a.length;l++)e=a[l],this.calcGravitationalForce(e)},r.prototype.moveNodes=function(){for(var e=this.getAllNodes(),a,l=0;l<e.length;l++)a=e[l],a.move()},r.prototype.calcSpringForce=function(e,a){var l=e.getSource(),u=e.getTarget(),c,T,h,A;if(this.uniformLeafNodeSizes&&l.getChild()==null&&u.getChild()==null)e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;c=e.getLength(),c!=0&&(T=e.edgeElasticity*(c-a),h=T*(e.lengthX/c),A=T*(e.lengthY/c),l.springForceX+=h,l.springForceY+=A,u.springForceX-=h,u.springForceY-=A)},r.prototype.calcRepulsionForce=function(e,a){var l=e.getRect(),u=a.getRect(),c=new Array(2),T=new Array(4),h,A,N,L,I,j,R;if(l.intersects(u)){t.calcSeparationAmount(l,u,c,s.DEFAULT_EDGE_LENGTH/2),j=2*c[0],R=2*c[1];var nt=e.noOfChildren*a.noOfChildren/(e.noOfChildren+a.noOfChildren);e.repulsionForceX-=nt*j,e.repulsionForceY-=nt*R,a.repulsionForceX+=nt*j,a.repulsionForceY+=nt*R}else this.uniformLeafNodeSizes&&e.getChild()==null&&a.getChild()==null?(h=u.getCenterX()-l.getCenterX(),A=u.getCenterY()-l.getCenterY()):(t.getIntersection(l,u,T),h=T[2]-T[0],A=T[3]-T[1]),Math.abs(h)<s.MIN_REPULSION_DIST&&(h=m.sign(h)*s.MIN_REPULSION_DIST),Math.abs(A)<s.MIN_REPULSION_DIST&&(A=m.sign(A)*s.MIN_REPULSION_DIST),N=h*h+A*A,L=Math.sqrt(N),I=(e.nodeRepulsion/2+a.nodeRepulsion/2)*e.noOfChildren*a.noOfChildren/N,j=I*h/L,R=I*A/L,e.repulsionForceX-=j,e.repulsionForceY-=R,a.repulsionForceX+=j,a.repulsionForceY+=R},r.prototype.calcGravitationalForce=function(e){var a,l,u,c,T,h,A,N;a=e.getOwner(),l=(a.getRight()+a.getLeft())/2,u=(a.getTop()+a.getBottom())/2,c=e.getCenterX()-l,T=e.getCenterY()-u,h=Math.abs(c)+e.getWidth()/2,A=Math.abs(T)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(N=a.getEstimatedSize()*this.gravityRangeFactor,(h>N||A>N)&&(e.gravitationForceX=-this.gravityConstant*c,e.gravitationForceY=-this.gravityConstant*T)):(N=a.getEstimatedSize()*this.compoundGravityRangeFactor,(h>N||A>N)&&(e.gravitationForceX=-this.gravityConstant*c*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*T*this.compoundGravityConstant))},r.prototype.isConverged=function(){var e,a=!1;return this.totalIterations>this.maxIterations/3&&(a=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||a},r.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},r.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,a=this.graphManager.getAllNodes(),l=0;l<a.length;l++)e=a[l],e.noOfChildren=e.getNoOfChildren()},r.prototype.calcGrid=function(e){var a=0,l=0;a=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),l=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var u=new Array(a),c=0;c<a;c++)u[c]=new Array(l);for(var c=0;c<a;c++)for(var T=0;T<l;T++)u[c][T]=new Array;return u},r.prototype.addNodeToGrid=function(e,a,l){var u=0,c=0,T=0,h=0;u=parseInt(Math.floor((e.getRect().x-a)/this.repulsionRange)),c=parseInt(Math.floor((e.getRect().width+e.getRect().x-a)/this.repulsionRange)),T=parseInt(Math.floor((e.getRect().y-l)/this.repulsionRange)),h=parseInt(Math.floor((e.getRect().height+e.getRect().y-l)/this.repulsionRange));for(var A=u;A<=c;A++)for(var N=T;N<=h;N++)this.grid[A][N].push(e),e.setGridCoordinates(u,c,T,h)},r.prototype.updateGrid=function(){var e,a,l=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<l.length;e++)a=l[e],this.addNodeToGrid(a,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},r.prototype.calculateRepulsionForceOfANode=function(e,a,l,u){if(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&l||u){var c=new Set;e.surrounding=new Array;for(var T,h=this.grid,A=e.startX-1;A<e.finishX+2;A++)for(var N=e.startY-1;N<e.finishY+2;N++)if(!(A<0||N<0||A>=h.length||N>=h[0].length)){for(var L=0;L<h[A][N].length;L++)if(T=h[A][N][L],!(e.getOwner()!=T.getOwner()||e==T)&&!a.has(T)&&!c.has(T)){var I=Math.abs(e.getCenterX()-T.getCenterX())-(e.getWidth()/2+T.getWidth()/2),j=Math.abs(e.getCenterY()-T.getCenterY())-(e.getHeight()/2+T.getHeight()/2);I<=this.repulsionRange&&j<=this.repulsionRange&&c.add(T)}}e.surrounding=[].concat(y(c))}for(A=0;A<e.surrounding.length;A++)this.calcRepulsionForce(e,e.surrounding[A])},r.prototype.calcRepulsionRange=function(){return 0},lt.exports=r},function(lt,pt,x){"use strict";var y=x(1),o=x(4);function s(t,m,r){y.call(this,t,m,r),this.idealLength=o.DEFAULT_EDGE_LENGTH,this.edgeElasticity=o.DEFAULT_SPRING_STRENGTH}s.prototype=Object.create(y.prototype);for(var i in y)s[i]=y[i];lt.exports=s},function(lt,pt,x){"use strict";var y=x(3),o=x(4);function s(t,m,r,d){y.call(this,t,m,r,d),this.nodeRepulsion=o.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}s.prototype=Object.create(y.prototype);for(var i in y)s[i]=y[i];s.prototype.setGridCoordinates=function(t,m,r,d){this.startX=t,this.finishX=m,this.startY=r,this.finishY=d},lt.exports=s},function(lt,pt,x){"use strict";function y(o,s){this.width=0,this.height=0,o!==null&&s!==null&&(this.height=s,this.width=o)}y.prototype.getWidth=function(){return this.width},y.prototype.setWidth=function(o){this.width=o},y.prototype.getHeight=function(){return this.height},y.prototype.setHeight=function(o){this.height=o},lt.exports=y},function(lt,pt,x){"use strict";var y=x(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(s,i){var t=y.createID(s);this.contains(t)||(this.map[t]=i,this.keys.push(s))},o.prototype.contains=function(s){var i=y.createID(s);return this.map[s]!=null},o.prototype.get=function(s){var i=y.createID(s);return this.map[i]},o.prototype.keySet=function(){return this.keys},lt.exports=o},function(lt,pt,x){"use strict";var y=x(14);function o(){this.set={}}o.prototype.add=function(s){var i=y.createID(s);this.contains(i)||(this.set[i]=s)},o.prototype.remove=function(s){delete this.set[y.createID(s)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(s){return this.set[y.createID(s)]==s},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(s){for(var i=Object.keys(this.set),t=i.length,m=0;m<t;m++)s.push(this.set[i[m]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(s){for(var i=s.length,t=0;t<i;t++){var m=s[t];this.add(m)}},lt.exports=o},function(lt,pt,x){"use strict";function y(){}y.multMat=function(o,s){for(var i=[],t=0;t<o.length;t++){i[t]=[];for(var m=0;m<s[0].length;m++){i[t][m]=0;for(var r=0;r<o[0].length;r++)i[t][m]+=o[t][r]*s[r][m]}}return i},y.transpose=function(o){for(var s=[],i=0;i<o[0].length;i++){s[i]=[];for(var t=0;t<o.length;t++)s[i][t]=o[t][i]}return s},y.multCons=function(o,s){for(var i=[],t=0;t<o.length;t++)i[t]=o[t]*s;return i},y.minusOp=function(o,s){for(var i=[],t=0;t<o.length;t++)i[t]=o[t]-s[t];return i},y.dotProduct=function(o,s){for(var i=0,t=0;t<o.length;t++)i+=o[t]*s[t];return i},y.mag=function(o){return Math.sqrt(this.dotProduct(o,o))},y.normalize=function(o){for(var s=[],i=this.mag(o),t=0;t<o.length;t++)s[t]=o[t]/i;return s},y.multGamma=function(o){for(var s=[],i=0,t=0;t<o.length;t++)i+=o[t];i*=-1/o.length;for(var m=0;m<o.length;m++)s[m]=i+o[m];return s},y.multL=function(o,s,i){for(var t=[],m=[],r=[],d=0;d<s[0].length;d++){for(var e=0,a=0;a<s.length;a++)e+=-.5*s[a][d]*o[a];m[d]=e}for(var l=0;l<i.length;l++){for(var u=0,c=0;c<i.length;c++)u+=i[l][c]*m[c];r[l]=u}for(var T=0;T<s.length;T++){for(var h=0,A=0;A<s[0].length;A++)h+=s[T][A]*r[A];t[T]=h}return t},lt.exports=y},function(lt,pt,x){"use strict";var y=function(){function t(m,r){for(var d=0;d<r.length;d++){var e=r[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(m,e.key,e)}}return function(m,r,d){return r&&t(m.prototype,r),d&&t(m,d),m}}();function o(t,m){if(!(t instanceof m))throw new TypeError("Cannot call a class as a function")}var s=x(11),i=function(){function t(m,r){o(this,t),(r!==null||r!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;m instanceof s?d=m.size():d=m.length,this._quicksort(m,0,d-1)}return y(t,[{key:"_quicksort",value:function(r,d,e){if(d<e){var a=this._partition(r,d,e);this._quicksort(r,d,a),this._quicksort(r,a+1,e)}}},{key:"_partition",value:function(r,d,e){for(var a=this._get(r,d),l=d,u=e;;){for(;this.compareFunction(a,this._get(r,u));)u--;for(;this.compareFunction(this._get(r,l),a);)l++;if(l<u)this._swap(r,l,u),l++,u--;else return u}}},{key:"_get",value:function(r,d){return r instanceof s?r.get_object_at(d):r[d]}},{key:"_set",value:function(r,d,e){r instanceof s?r.set_object_at(d,e):r[d]=e}},{key:"_swap",value:function(r,d,e){var a=this._get(r,d);this._set(r,d,this._get(r,e)),this._set(r,e,a)}},{key:"_defaultCompareFunction",value:function(r,d){return d>r}}]),t}();lt.exports=i},function(lt,pt,x){"use strict";function y(){}y.svd=function(o){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=o.length,this.n=o[0].length;var s=Math.min(this.m,this.n);this.s=function(dt){for(var yt=[];dt-- >0;)yt.push(0);return yt}(Math.min(this.m+1,this.n)),this.U=function(dt){var yt=function Rt(Lt){if(Lt.length==0)return 0;for(var St=[],wt=0;wt<Lt[0];wt++)St.push(Rt(Lt.slice(1)));return St};return yt(dt)}([this.m,s]),this.V=function(dt){var yt=function Rt(Lt){if(Lt.length==0)return 0;for(var St=[],wt=0;wt<Lt[0];wt++)St.push(Rt(Lt.slice(1)));return St};return yt(dt)}([this.n,this.n]);for(var i=function(dt){for(var yt=[];dt-- >0;)yt.push(0);return yt}(this.n),t=function(dt){for(var yt=[];dt-- >0;)yt.push(0);return yt}(this.m),m=!0,r=!0,d=Math.min(this.m-1,this.n),e=Math.max(0,Math.min(this.n-2,this.m)),a=0;a<Math.max(d,e);a++){if(a<d){this.s[a]=0;for(var l=a;l<this.m;l++)this.s[a]=y.hypot(this.s[a],o[l][a]);if(this.s[a]!==0){o[a][a]<0&&(this.s[a]=-this.s[a]);for(var u=a;u<this.m;u++)o[u][a]/=this.s[a];o[a][a]+=1}this.s[a]=-this.s[a]}for(var c=a+1;c<this.n;c++){if(function(dt,yt){return dt&&yt}(a<d,this.s[a]!==0)){for(var T=0,h=a;h<this.m;h++)T+=o[h][a]*o[h][c];T=-T/o[a][a];for(var A=a;A<this.m;A++)o[A][c]+=T*o[A][a]}i[c]=o[a][c]}if(function(dt,yt){return dt&&yt}(m,a<d))for(var N=a;N<this.m;N++)this.U[N][a]=o[N][a];if(a<e){i[a]=0;for(var L=a+1;L<this.n;L++)i[a]=y.hypot(i[a],i[L]);if(i[a]!==0){i[a+1]<0&&(i[a]=-i[a]);for(var I=a+1;I<this.n;I++)i[I]/=i[a];i[a+1]+=1}if(i[a]=-i[a],function(dt,yt){return dt&&yt}(a+1<this.m,i[a]!==0)){for(var j=a+1;j<this.m;j++)t[j]=0;for(var R=a+1;R<this.n;R++)for(var nt=a+1;nt<this.m;nt++)t[nt]+=i[R]*o[nt][R];for(var gt=a+1;gt<this.n;gt++)for(var ft=-i[gt]/i[a+1],mt=a+1;mt<this.m;mt++)o[mt][gt]+=ft*t[mt]}if(r)for(var G=a+1;G<this.n;G++)this.V[G][a]=i[G]}}var K=Math.min(this.n,this.m+1);if(d<this.n&&(this.s[d]=o[d][d]),this.m<K&&(this.s[K-1]=0),e+1<K&&(i[e]=o[e][K-1]),i[K-1]=0,m){for(var n=d;n<s;n++){for(var v=0;v<this.m;v++)this.U[v][n]=0;this.U[n][n]=1}for(var f=d-1;f>=0;f--)if(this.s[f]!==0){for(var E=f+1;E<s;E++){for(var p=0,S=f;S<this.m;S++)p+=this.U[S][f]*this.U[S][E];p=-p/this.U[f][f];for(var O=f;O<this.m;O++)this.U[O][E]+=p*this.U[O][f]}for(var H=f;H<this.m;H++)this.U[H][f]=-this.U[H][f];this.U[f][f]=1+this.U[f][f];for(var W=0;W<f-1;W++)this.U[W][f]=0}else{for(var Y=0;Y<this.m;Y++)this.U[Y][f]=0;this.U[f][f]=1}}if(r)for(var et=this.n-1;et>=0;et--){if(function(dt,yt){return dt&&yt}(et<e,i[et]!==0))for(var st=et+1;st<s;st++){for(var B=0,ht=et+1;ht<this.n;ht++)B+=this.V[ht][et]*this.V[ht][st];B=-B/this.V[et+1][et];for(var _=et+1;_<this.n;_++)this.V[_][st]+=B*this.V[_][et]}for(var w=0;w<this.n;w++)this.V[w][et]=0;this.V[et][et]=1}for(var $=K-1,Z=0,J=Math.pow(2,-52),Et=Math.pow(2,-966);K>0;){var it=void 0,Pt=void 0;for(it=K-2;it>=-1&&it!==-1;it--)if(Math.abs(i[it])<=Et+J*(Math.abs(this.s[it])+Math.abs(this.s[it+1]))){i[it]=0;break}if(it===K-2)Pt=4;else{var Mt=void 0;for(Mt=K-1;Mt>=it&&Mt!==it;Mt--){var Xt=(Mt!==K?Math.abs(i[Mt]):0)+(Mt!==it+1?Math.abs(i[Mt-1]):0);if(Math.abs(this.s[Mt])<=Et+J*Xt){this.s[Mt]=0;break}}Mt===it?Pt=3:Mt===K-1?Pt=1:(Pt=2,it=Mt)}switch(it++,Pt){case 1:{var Gt=i[K-2];i[K-2]=0;for(var vt=K-2;vt>=it;vt--){var ct=y.hypot(this.s[vt],Gt),xt=this.s[vt]/ct,Dt=Gt/ct;if(this.s[vt]=ct,vt!==it&&(Gt=-Dt*i[vt-1],i[vt-1]=xt*i[vt-1]),r)for(var Nt=0;Nt<this.n;Nt++)ct=xt*this.V[Nt][vt]+Dt*this.V[Nt][K-1],this.V[Nt][K-1]=-Dt*this.V[Nt][vt]+xt*this.V[Nt][K-1],this.V[Nt][vt]=ct}}break;case 2:{var Ot=i[it-1];i[it-1]=0;for(var At=it;At<K;At++){var It=y.hypot(this.s[At],Ot),Ht=this.s[At]/It,kt=Ot/It;if(this.s[At]=It,Ot=-kt*i[At],i[At]=Ht*i[At],m)for(var bt=0;bt<this.m;bt++)It=Ht*this.U[bt][At]+kt*this.U[bt][it-1],this.U[bt][it-1]=-kt*this.U[bt][At]+Ht*this.U[bt][it-1],this.U[bt][At]=It}}break;case 3:{var Yt=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[K-1]),Math.abs(this.s[K-2])),Math.abs(i[K-2])),Math.abs(this.s[it])),Math.abs(i[it])),Wt=this.s[K-1]/Yt,k=this.s[K-2]/Yt,q=i[K-2]/Yt,g=this.s[it]/Yt,M=i[it]/Yt,C=((k+Wt)*(k-Wt)+q*q)/2,D=Wt*q*(Wt*q),X=0;(function(dt,yt){return dt||yt})(C!==0,D!==0)&&(X=Math.sqrt(C*C+D),C<0&&(X=-X),X=D/(C+X));for(var V=(g+Wt)*(g-Wt)+X,U=g*M,b=it;b<K-1;b++){var Q=y.hypot(V,U),F=V/Q,z=U/Q;if(b!==it&&(i[b-1]=Q),V=F*this.s[b]+z*i[b],i[b]=F*i[b]-z*this.s[b],U=z*this.s[b+1],this.s[b+1]=F*this.s[b+1],r)for(var ut=0;ut<this.n;ut++)Q=F*this.V[ut][b]+z*this.V[ut][b+1],this.V[ut][b+1]=-z*this.V[ut][b]+F*this.V[ut][b+1],this.V[ut][b]=Q;if(Q=y.hypot(V,U),F=V/Q,z=U/Q,this.s[b]=Q,V=F*i[b]+z*this.s[b+1],this.s[b+1]=-z*i[b]+F*this.s[b+1],U=z*i[b+1],i[b+1]=F*i[b+1],m&&b<this.m-1)for(var rt=0;rt<this.m;rt++)Q=F*this.U[rt][b]+z*this.U[rt][b+1],this.U[rt][b+1]=-z*this.U[rt][b]+F*this.U[rt][b+1],this.U[rt][b]=Q}i[K-2]=V,Z=Z+1}break;case 4:{if(this.s[it]<=0&&(this.s[it]=this.s[it]<0?-this.s[it]:0,r))for(var P=0;P<=$;P++)this.V[P][it]=-this.V[P][it];for(;it<$&&!(this.s[it]>=this.s[it+1]);){var tt=this.s[it];if(this.s[it]=this.s[it+1],this.s[it+1]=tt,r&&it<this.n-1)for(var at=0;at<this.n;at++)tt=this.V[at][it+1],this.V[at][it+1]=this.V[at][it],this.V[at][it]=tt;if(m&&it<this.m-1)for(var ot=0;ot<this.m;ot++)tt=this.U[ot][it+1],this.U[ot][it+1]=this.U[ot][it],this.U[ot][it]=tt;it++}Z=0,K--}break}}var Ct={U:this.U,V:this.V,S:this.s};return Ct},y.hypot=function(o,s){var i=void 0;return Math.abs(o)>Math.abs(s)?(i=s/o,i=Math.abs(o)*Math.sqrt(1+i*i)):s!=0?(i=o/s,i=Math.abs(s)*Math.sqrt(1+i*i)):i=0,i},lt.exports=y},function(lt,pt,x){"use strict";var y=function(){function i(t,m){for(var r=0;r<m.length;r++){var d=m[r];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,m,r){return m&&i(t.prototype,m),r&&i(t,r),t}}();function o(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function i(t,m){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,i),this.sequence1=t,this.sequence2=m,this.match_score=r,this.mismatch_penalty=d,this.gap_penalty=e,this.iMax=t.length+1,this.jMax=m.length+1,this.grid=new Array(this.iMax);for(var a=0;a<this.iMax;a++){this.grid[a]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.grid[a][l]=0}this.tracebackGrid=new Array(this.iMax);for(var u=0;u<this.iMax;u++){this.tracebackGrid[u]=new Array(this.jMax);for(var c=0;c<this.jMax;c++)this.tracebackGrid[u][c]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return y(i,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var m=1;m<this.jMax;m++)this.grid[0][m]=this.grid[0][m-1]+this.gap_penalty,this.tracebackGrid[0][m]=[!1,!1,!0];for(var r=1;r<this.iMax;r++)this.grid[r][0]=this.grid[r-1][0]+this.gap_penalty,this.tracebackGrid[r][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var e=1;e<this.jMax;e++){var a=void 0;this.sequence1[d-1]===this.sequence2[e-1]?a=this.grid[d-1][e-1]+this.match_score:a=this.grid[d-1][e-1]+this.mismatch_penalty;var l=this.grid[d-1][e]+this.gap_penalty,u=this.grid[d][e-1]+this.gap_penalty,c=[a,l,u],T=this.arrayAllMaxIndexes(c);this.grid[d][e]=c[T[0]],this.tracebackGrid[d][e]=[T.includes(0),T.includes(1),T.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var m=[];for(m.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});m[0];){var r=m[0],d=this.tracebackGrid[r.pos[0]][r.pos[1]];d[0]&&m.push({pos:[r.pos[0]-1,r.pos[1]-1],seq1:this.sequence1[r.pos[0]-1]+r.seq1,seq2:this.sequence2[r.pos[1]-1]+r.seq2}),d[1]&&m.push({pos:[r.pos[0]-1,r.pos[1]],seq1:this.sequence1[r.pos[0]-1]+r.seq1,seq2:"-"+r.seq2}),d[2]&&m.push({pos:[r.pos[0],r.pos[1]-1],seq1:"-"+r.seq1,seq2:this.sequence2[r.pos[1]-1]+r.seq2}),r.pos[0]===0&&r.pos[1]===0&&this.alignments.push({sequence1:r.seq1,sequence2:r.seq2}),m.shift()}return this.alignments}},{key:"getAllIndexes",value:function(m,r){for(var d=[],e=-1;(e=m.indexOf(r,e+1))!==-1;)d.push(e);return d}},{key:"arrayAllMaxIndexes",value:function(m){return this.getAllIndexes(m,Math.max.apply(null,m))}}]),i}();lt.exports=s},function(lt,pt,x){"use strict";var y=function(){};y.FDLayout=x(18),y.FDLayoutConstants=x(4),y.FDLayoutEdge=x(19),y.FDLayoutNode=x(20),y.DimensionD=x(21),y.HashMap=x(22),y.HashSet=x(23),y.IGeometry=x(8),y.IMath=x(9),y.Integer=x(10),y.Point=x(12),y.PointD=x(5),y.RandomSeed=x(16),y.RectangleD=x(13),y.Transform=x(17),y.UniqueIDGeneretor=x(14),y.Quicksort=x(25),y.LinkedList=x(11),y.LGraphObject=x(2),y.LGraph=x(6),y.LEdge=x(1),y.LGraphManager=x(7),y.LNode=x(3),y.Layout=x(15),y.LayoutConstants=x(0),y.NeedlemanWunsch=x(27),y.Matrix=x(24),y.SVD=x(26),lt.exports=y},function(lt,pt,x){"use strict";function y(){this.listeners=[]}var o=y.prototype;o.addListener=function(s,i){this.listeners.push({event:s,callback:i})},o.removeListener=function(s,i){for(var t=this.listeners.length;t>=0;t--){var m=this.listeners[t];m.event===s&&m.callback===i&&this.listeners.splice(t,1)}},o.emit=function(s,i){for(var t=0;t<this.listeners.length;t++){var m=this.listeners[t];s===m.event&&m.callback(i)}},lt.exports=y}])})},54850:function(jt,lt,pt){"use strict";pt.d(lt,{diagram:function(){return q}});var x=pt(9640),y=pt(91999),o=pt(36881),s=pt(11495),i=pt(402),t=pt(27246),m=pt(7853),r=pt(57504),d=pt(29894),e=pt(59448),a={L:"left",R:"right",T:"top",B:"bottom"},l={L:(0,t.eW)(g=>`${g},${g/2} 0,${g} 0,0`,"L"),R:(0,t.eW)(g=>`0,${g/2} ${g},0 ${g},${g}`,"R"),T:(0,t.eW)(g=>`0,0 ${g},0 ${g/2},${g}`,"T"),B:(0,t.eW)(g=>`${g/2},0 ${g},${g} 0,${g}`,"B")},u={L:(0,t.eW)((g,M)=>g-M+2,"L"),R:(0,t.eW)((g,M)=>g-2,"R"),T:(0,t.eW)((g,M)=>g-M+2,"T"),B:(0,t.eW)((g,M)=>g-2,"B")},c=(0,t.eW)(function(g){return h(g)?g==="L"?"R":"L":g==="T"?"B":"T"},"getOppositeArchitectureDirection"),T=(0,t.eW)(function(g){const M=g;return M==="L"||M==="R"||M==="T"||M==="B"},"isArchitectureDirection"),h=(0,t.eW)(function(g){const M=g;return M==="L"||M==="R"},"isArchitectureDirectionX"),A=(0,t.eW)(function(g){const M=g;return M==="T"||M==="B"},"isArchitectureDirectionY"),N=(0,t.eW)(function(g,M){const C=h(g)&&A(M),D=A(g)&&h(M);return C||D},"isArchitectureDirectionXY"),L=(0,t.eW)(function(g){const M=g[0],C=g[1],D=h(M)&&A(C),X=A(M)&&h(C);return D||X},"isArchitecturePairXY"),I=(0,t.eW)(function(g){return g!=="LL"&&g!=="RR"&&g!=="TT"&&g!=="BB"},"isValidArchitectureDirectionPair"),j=(0,t.eW)(function(g,M){const C=`${g}${M}`;return I(C)?C:void 0},"getArchitectureDirectionPair"),R=(0,t.eW)(function([g,M],C){const D=C[0],X=C[1];return h(D)?A(X)?[g+(D==="L"?-1:1),M+(X==="T"?1:-1)]:[g+(D==="L"?-1:1),M]:h(X)?[g+(X==="L"?1:-1),M+(D==="T"?1:-1)]:[g,M+(D==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),nt=(0,t.eW)(function(g){return g==="LT"||g==="TL"?[1,1]:g==="BL"||g==="LB"?[1,-1]:g==="BR"||g==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),gt=(0,t.eW)(function(g,M){return N(g,M)?"bend":h(g)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),ft=(0,t.eW)(function(g){return g.type==="service"},"isArchitectureService"),mt=(0,t.eW)(function(g){return g.type==="junction"},"isArchitectureJunction"),G=(0,t.eW)(g=>g.data(),"edgeData"),K=(0,t.eW)(g=>g.data(),"nodeData"),n=t.vZ.architecture,v=new o.A(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:n,dataStructures:void 0,elements:{}})),f=(0,t.eW)(()=>{v.reset(),(0,t.ZH)()},"clear"),E=(0,t.eW)(function({id:g,icon:M,in:C,title:D,iconText:X}){if(v.records.registeredIds[g]!==void 0)throw new Error(`The service id [${g}] is already in use by another ${v.records.registeredIds[g]}`);if(C!==void 0){if(g===C)throw new Error(`The service [${g}] cannot be placed within itself`);if(v.records.registeredIds[C]===void 0)throw new Error(`The service [${g}]'s parent does not exist. Please make sure the parent is created before this service`);if(v.records.registeredIds[C]==="node")throw new Error(`The service [${g}]'s parent is not a group`)}v.records.registeredIds[g]="node",v.records.nodes[g]={id:g,type:"service",icon:M,iconText:X,title:D,edges:[],in:C}},"addService"),p=(0,t.eW)(()=>Object.values(v.records.nodes).filter(ft),"getServices"),S=(0,t.eW)(function({id:g,in:M}){v.records.registeredIds[g]="node",v.records.nodes[g]={id:g,type:"junction",edges:[],in:M}},"addJunction"),O=(0,t.eW)(()=>Object.values(v.records.nodes).filter(mt),"getJunctions"),H=(0,t.eW)(()=>Object.values(v.records.nodes),"getNodes"),W=(0,t.eW)(g=>v.records.nodes[g],"getNode"),Y=(0,t.eW)(function({id:g,icon:M,in:C,title:D}){if(v.records.registeredIds[g]!==void 0)throw new Error(`The group id [${g}] is already in use by another ${v.records.registeredIds[g]}`);if(C!==void 0){if(g===C)throw new Error(`The group [${g}] cannot be placed within itself`);if(v.records.registeredIds[C]===void 0)throw new Error(`The group [${g}]'s parent does not exist. Please make sure the parent is created before this group`);if(v.records.registeredIds[C]==="node")throw new Error(`The group [${g}]'s parent is not a group`)}v.records.registeredIds[g]="group",v.records.groups[g]={id:g,icon:M,title:D,in:C}},"addGroup"),et=(0,t.eW)(()=>Object.values(v.records.groups),"getGroups"),st=(0,t.eW)(function({lhsId:g,rhsId:M,lhsDir:C,rhsDir:D,lhsInto:X,rhsInto:V,lhsGroup:U,rhsGroup:b,title:Q}){if(!T(C))throw new Error(`Invalid direction given for left hand side of edge ${g}--${M}. Expected (L,R,T,B) got ${C}`);if(!T(D))throw new Error(`Invalid direction given for right hand side of edge ${g}--${M}. Expected (L,R,T,B) got ${D}`);if(v.records.nodes[g]===void 0&&v.records.groups[g]===void 0)throw new Error(`The left-hand id [${g}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(v.records.nodes[M]===void 0&&v.records.groups[g]===void 0)throw new Error(`The right-hand id [${M}] does not yet exist. Please create the service/group before declaring an edge to it.`);const F=v.records.nodes[g].in,z=v.records.nodes[M].in;if(U&&F&&z&&F==z)throw new Error(`The left-hand id [${g}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(b&&F&&z&&F==z)throw new Error(`The right-hand id [${M}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const ut={lhsId:g,lhsDir:C,lhsInto:X,lhsGroup:U,rhsId:M,rhsDir:D,rhsInto:V,rhsGroup:b,title:Q};v.records.edges.push(ut),v.records.nodes[g]&&v.records.nodes[M]&&(v.records.nodes[g].edges.push(v.records.edges[v.records.edges.length-1]),v.records.nodes[M].edges.push(v.records.edges[v.records.edges.length-1]))},"addEdge"),B=(0,t.eW)(()=>v.records.edges,"getEdges"),ht=(0,t.eW)(()=>{if(v.records.dataStructures===void 0){const g={},M=Object.entries(v.records.nodes).reduce((b,[Q,F])=>(b[Q]=F.edges.reduce((z,ut)=>{const rt=W(ut.lhsId)?.in,P=W(ut.rhsId)?.in;if(rt&&P&&rt!==P){const tt=gt(ut.lhsDir,ut.rhsDir);tt!=="bend"&&(g[rt]??(g[rt]={}),g[rt][P]=tt,g[P]??(g[P]={}),g[P][rt]=tt)}if(ut.lhsId===Q){const tt=j(ut.lhsDir,ut.rhsDir);tt&&(z[tt]=ut.rhsId)}else{const tt=j(ut.rhsDir,ut.lhsDir);tt&&(z[tt]=ut.lhsId)}return z},{}),b),{}),C=Object.keys(M)[0],D={[C]:1},X=Object.keys(M).reduce((b,Q)=>Q===C?b:{...b,[Q]:1},{}),V=(0,t.eW)(b=>{const Q={[b]:[0,0]},F=[b];for(;F.length>0;){const z=F.shift();if(z){D[z]=1,delete X[z];const ut=M[z],[rt,P]=Q[z];Object.entries(ut).forEach(([tt,at])=>{D[at]||(Q[at]=R([rt,P],tt),F.push(at))})}}return Q},"BFS"),U=[V(C)];for(;Object.keys(X).length>0;)U.push(V(Object.keys(X)[0]));v.records.dataStructures={adjList:M,spatialMaps:U,groupAlignments:g}}return v.records.dataStructures},"getDataStructures"),_=(0,t.eW)((g,M)=>{v.records.elements[g]=M},"setElementForId"),w=(0,t.eW)(g=>v.records.elements[g],"getElementById"),$=(0,t.eW)(()=>(0,s.Rb)({...n,...(0,t.iE)().architecture}),"getConfig"),Z={clear:f,setDiagramTitle:t.g2,getDiagramTitle:t.Kr,setAccTitle:t.GN,getAccTitle:t.eu,setAccDescription:t.U$,getAccDescription:t.Mx,getConfig:$,addService:E,getServices:p,addJunction:S,getJunctions:O,getNodes:H,getNode:W,addGroup:Y,getGroups:et,addEdge:st,getEdges:B,setElementForId:_,getElementById:w,getDataStructures:ht};function J(g){return $()[g]}(0,t.eW)(J,"getConfigField");var Et=(0,t.eW)((g,M)=>{(0,y.A)(g,M),g.groups.map(M.addGroup),g.services.map(C=>M.addService({...C,type:"service"})),g.junctions.map(C=>M.addJunction({...C,type:"junction"})),g.edges.map(M.addEdge)},"populateDb"),it={parse:(0,t.eW)(async g=>{const M=await(0,m.Qc)("architecture",g);t.cM.debug(M),Et(M,Z)},"parse")},Pt=(0,t.eW)(g=>`
  .edge {
    stroke-width: ${g.archEdgeWidth};
    stroke: ${g.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${g.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${g.archGroupBorderColor};
    stroke-width: ${g.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),Mt=Pt,Xt=(0,t.eW)(g=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${g}</g>`,"wrapIcon"),Gt={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Xt('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Xt('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Xt('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Xt('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Xt('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:x.cN,blank:{body:Xt("")}}},vt=(0,t.eW)(async function(g,M){const C=J("padding"),D=J("iconSize"),X=D/2,V=D/6,U=V/2;await Promise.all(M.edges().map(async b=>{const{source:Q,sourceDir:F,sourceArrow:z,sourceGroup:ut,target:rt,targetDir:P,targetArrow:tt,targetGroup:at,label:ot}=G(b);let{x:Ct,y:dt}=b[0].sourceEndpoint();const{x:yt,y:Rt}=b[0].midpoint();let{x:Lt,y:St}=b[0].targetEndpoint();const wt=C+4;if(ut&&(h(F)?Ct+=F==="L"?-wt:wt:dt+=F==="T"?-wt:wt+18),at&&(h(P)?Lt+=P==="L"?-wt:wt:St+=P==="T"?-wt:wt+18),!ut&&Z.getNode(Q)?.type==="junction"&&(h(F)?Ct+=F==="L"?X:-X:dt+=F==="T"?X:-X),!at&&Z.getNode(rt)?.type==="junction"&&(h(P)?Lt+=P==="L"?X:-X:St+=P==="T"?X:-X),b[0]._private.rscratch){const Vt=g.insert("g");if(Vt.insert("path").attr("d",`M ${Ct},${dt} L ${yt},${Rt} L${Lt},${St} `).attr("class","edge"),z){const Ut=h(F)?u[F](Ct,V):Ct-U,zt=A(F)?u[F](dt,V):dt-U;Vt.insert("polygon").attr("points",l[F](V)).attr("transform",`translate(${Ut},${zt})`).attr("class","arrow")}if(tt){const Ut=h(P)?u[P](Lt,V):Lt-U,zt=A(P)?u[P](St,V):St-U;Vt.insert("polygon").attr("points",l[P](V)).attr("transform",`translate(${Ut},${zt})`).attr("class","arrow")}if(ot){const Ut=N(F,P)?"XY":h(F)?"X":"Y";let zt=0;Ut==="X"?zt=Math.abs(Ct-Lt):Ut==="Y"?zt=Math.abs(dt-St)/1.5:zt=Math.abs(Ct-Lt)/2;const $t=Vt.append("g");if(await(0,x.rw)($t,ot,{useHtmlLabels:!1,width:zt,classes:"architecture-service-label"},(0,t.nV)()),$t.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),Ut==="X")$t.attr("transform","translate("+yt+", "+Rt+")");else if(Ut==="Y")$t.attr("transform","translate("+yt+", "+Rt+") rotate(-90)");else if(Ut==="XY"){const Qt=j(F,P);if(Qt&&L(Qt)){const Jt=$t.node().getBoundingClientRect(),[Kt,_t]=nt(Qt);$t.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*Kt*_t*45})`);const qt=$t.node().getBoundingClientRect();$t.attr("transform",`
                translate(${yt}, ${Rt-Jt.height/2})
                translate(${Kt*qt.width/2}, ${_t*qt.height/2})
                rotate(${-1*Kt*_t*45}, 0, ${Jt.height/2})
              `)}}}}}))},"drawEdges"),ct=(0,t.eW)(async function(g,M){const D=J("padding")*.75,X=J("fontSize"),U=J("iconSize")/2;await Promise.all(M.nodes().map(async b=>{const Q=K(b);if(Q.type==="group"){const{h:F,w:z,x1:ut,y1:rt}=b.boundingBox();g.append("rect").attr("x",ut+U).attr("y",rt+U).attr("width",z).attr("height",F).attr("class","node-bkg");const P=g.append("g");let tt=ut,at=rt;if(Q.icon){const ot=P.append("g");ot.html(`<g>${await(0,x.s4)(Q.icon,{height:D,width:D,fallbackPrefix:Gt.prefix})}</g>`),ot.attr("transform","translate("+(tt+U+1)+", "+(at+U+1)+")"),tt+=D,at+=X/2-1-2}if(Q.label){const ot=P.append("g");await(0,x.rw)(ot,Q.label,{useHtmlLabels:!1,width:z,classes:"architecture-service-label"},(0,t.nV)()),ot.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),ot.attr("transform","translate("+(tt+U+4)+", "+(at+U+2)+")")}}}))},"drawGroups"),xt=(0,t.eW)(async function(g,M,C){for(const D of C){const X=M.append("g"),V=J("iconSize");if(D.title){const F=X.append("g");await(0,x.rw)(F,D.title,{useHtmlLabels:!1,width:V*1.5,classes:"architecture-service-label"},(0,t.nV)()),F.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),F.attr("transform","translate("+V/2+", "+V+")")}const U=X.append("g");if(D.icon)U.html(`<g>${await(0,x.s4)(D.icon,{height:V,width:V,fallbackPrefix:Gt.prefix})}</g>`);else if(D.iconText){U.html(`<g>${await(0,x.s4)("blank",{height:V,width:V,fallbackPrefix:Gt.prefix})}</g>`);const ut=U.append("g").append("foreignObject").attr("width",V).attr("height",V).append("div").attr("class","node-icon-text").attr("style",`height: ${V}px;`).append("div").html(D.iconText),rt=parseInt(window.getComputedStyle(ut.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;ut.attr("style",`-webkit-line-clamp: ${Math.floor((V-2)/rt)};`)}else U.append("path").attr("class","node-bkg").attr("id","node-"+D.id).attr("d",`M0 ${V} v${-V} q0,-5 5,-5 h${V} q5,0 5,5 v${V} H0 Z`);X.attr("class","architecture-service");const{width:b,height:Q}=X._groups[0][0].getBBox();D.width=b,D.height=Q,g.setElementForId(D.id,X)}return 0},"drawServices"),Dt=(0,t.eW)(function(g,M,C){C.forEach(D=>{const X=M.append("g"),V=J("iconSize");X.append("g").append("rect").attr("id","node-"+D.id).attr("fill-opacity","0").attr("width",V).attr("height",V),X.attr("class","architecture-junction");const{width:b,height:Q}=X._groups[0][0].getBBox();X.width=b,X.height=Q,g.setElementForId(D.id,X)})},"drawJunctions");(0,x.ef)([{name:Gt.prefix,icons:Gt}]),r.Z.use(d);function Nt(g,M){g.forEach(C=>{M.add({group:"nodes",data:{type:"service",id:C.id,icon:C.icon,label:C.title,parent:C.in,width:J("iconSize"),height:J("iconSize")},classes:"node-service"})})}(0,t.eW)(Nt,"addServices");function Ot(g,M){g.forEach(C=>{M.add({group:"nodes",data:{type:"junction",id:C.id,parent:C.in,width:J("iconSize"),height:J("iconSize")},classes:"node-junction"})})}(0,t.eW)(Ot,"addJunctions");function At(g,M){M.nodes().map(C=>{const D=K(C);if(D.type==="group")return;D.x=C.position().x,D.y=C.position().y,g.getElementById(D.id).attr("transform","translate("+(D.x||0)+","+(D.y||0)+")")})}(0,t.eW)(At,"positionNodes");function It(g,M){g.forEach(C=>{M.add({group:"nodes",data:{type:"group",id:C.id,icon:C.icon,label:C.title,parent:C.in},classes:"node-group"})})}(0,t.eW)(It,"addGroups");function Ht(g,M){g.forEach(C=>{const{lhsId:D,rhsId:X,lhsInto:V,lhsGroup:U,rhsInto:b,lhsDir:Q,rhsDir:F,rhsGroup:z,title:ut}=C,rt=N(C.lhsDir,C.rhsDir)?"segments":"straight",P={id:`${D}-${X}`,label:ut,source:D,sourceDir:Q,sourceArrow:V,sourceGroup:U,sourceEndpoint:Q==="L"?"0 50%":Q==="R"?"100% 50%":Q==="T"?"50% 0":"50% 100%",target:X,targetDir:F,targetArrow:b,targetGroup:z,targetEndpoint:F==="L"?"0 50%":F==="R"?"100% 50%":F==="T"?"50% 0":"50% 100%"};M.add({group:"edges",data:P,classes:rt})})}(0,t.eW)(Ht,"addEdges");function kt(g,M,C){const D=(0,t.eW)((b,Q)=>Object.entries(b).reduce((F,[z,ut])=>{let rt=0;const P=Object.entries(ut);if(P.length===1)return F[z]=P[0][1],F;for(let tt=0;tt<P.length-1;tt++)for(let at=tt+1;at<P.length;at++){const[ot,Ct]=P[tt],[dt,yt]=P[at];if(C[ot]?.[dt]===Q)F[z]??(F[z]=[]),F[z]=[...F[z],...Ct,...yt];else if(ot==="default"||dt==="default")F[z]??(F[z]=[]),F[z]=[...F[z],...Ct,...yt];else{const Lt=`${z}-${rt++}`;F[Lt]=Ct;const St=`${z}-${rt++}`;F[St]=yt}}return F},{}),"flattenAlignments"),X=M.map(b=>{const Q={},F={};return Object.entries(b).forEach(([z,[ut,rt]])=>{var tt,at;const P=g.getNode(z)?.in??"default";Q[rt]??(Q[rt]={}),(tt=Q[rt])[P]??(tt[P]=[]),Q[rt][P].push(z),F[ut]??(F[ut]={}),(at=F[ut])[P]??(at[P]=[]),F[ut][P].push(z)}),{horiz:Object.values(D(Q,"horizontal")).filter(z=>z.length>1),vert:Object.values(D(F,"vertical")).filter(z=>z.length>1)}}),[V,U]=X.reduce(([b,Q],{horiz:F,vert:z})=>[[...b,...F],[...Q,...z]],[[],[]]);return{horizontal:V,vertical:U}}(0,t.eW)(kt,"getAlignments");function bt(g){const M=[],C=(0,t.eW)(X=>`${X[0]},${X[1]}`,"posToStr"),D=(0,t.eW)(X=>X.split(",").map(V=>parseInt(V)),"strToPos");return g.forEach(X=>{const V=Object.fromEntries(Object.entries(X).map(([F,z])=>[C(z),F])),U=[C([0,0])],b={},Q={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;U.length>0;){const F=U.shift();if(F){b[F]=1;const z=V[F];if(z){const ut=D(F);Object.entries(Q).forEach(([rt,P])=>{const tt=C([ut[0]+P[0],ut[1]+P[1]]),at=V[tt];at&&!b[tt]&&(U.push(tt),M.push({[a[rt]]:at,[a[c(rt)]]:z,gap:1.5*J("iconSize")}))})}}}}),M}(0,t.eW)(bt,"getRelativeConstraints");function Yt(g,M,C,D,X,{spatialMaps:V,groupAlignments:U}){return new Promise(b=>{const Q=(0,e.Ys)("body").append("div").attr("id","cy").attr("style","display:none"),F=(0,r.Z)({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${J("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${J("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});Q.remove(),It(C,F),Nt(g,F),Ot(M,F),Ht(D,F);const z=kt(X,V,U),ut=bt(V),rt=F.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(P){const[tt,at]=P.connectedNodes(),{parent:ot}=K(tt),{parent:Ct}=K(at);return ot===Ct?1.5*J("iconSize"):.5*J("iconSize")},edgeElasticity(P){const[tt,at]=P.connectedNodes(),{parent:ot}=K(tt),{parent:Ct}=K(at);return ot===Ct?.45:.001},alignmentConstraint:z,relativePlacementConstraint:ut});rt.one("layoutstop",()=>{function P(tt,at,ot,Ct){let dt,yt;const{x:Rt,y:Lt}=tt,{x:St,y:wt}=at;yt=(Ct-Lt+(Rt-ot)*(Lt-wt)/(Rt-St))/Math.sqrt(1+Math.pow((Lt-wt)/(Rt-St),2)),dt=Math.sqrt(Math.pow(Ct-Lt,2)+Math.pow(ot-Rt,2)-Math.pow(yt,2));const Vt=Math.sqrt(Math.pow(St-Rt,2)+Math.pow(wt-Lt,2));dt=dt/Vt;let Ut=(St-Rt)*(Ct-Lt)-(wt-Lt)*(ot-Rt);switch(!0){case Ut>=0:Ut=1;break;case Ut<0:Ut=-1;break}let zt=(St-Rt)*(ot-Rt)+(wt-Lt)*(Ct-Lt);switch(!0){case zt>=0:zt=1;break;case zt<0:zt=-1;break}return yt=Math.abs(yt)*Ut,dt=dt*zt,{distances:yt,weights:dt}}(0,t.eW)(P,"getSegmentWeights"),F.startBatch();for(const tt of Object.values(F.edges()))if(tt.data?.()){const{x:at,y:ot}=tt.source().position(),{x:Ct,y:dt}=tt.target().position();if(at!==Ct&&ot!==dt){const yt=tt.sourceEndpoint(),Rt=tt.targetEndpoint(),{sourceDir:Lt}=G(tt),[St,wt]=A(Lt)?[yt.x,Rt.y]:[Rt.x,yt.y],{weights:Vt,distances:Ut}=P(yt,Rt,St,wt);tt.style("segment-distances",Ut),tt.style("segment-weights",Vt)}}F.endBatch(),rt.run()}),rt.run(),F.ready(P=>{t.cM.info("Ready",P),b(F)})})}(0,t.eW)(Yt,"layoutArchitecture");var Wt=(0,t.eW)(async(g,M,C,D)=>{const X=D.db,V=X.getServices(),U=X.getJunctions(),b=X.getGroups(),Q=X.getEdges(),F=X.getDataStructures(),z=(0,i.P)(M),ut=z.append("g");ut.attr("class","architecture-edges");const rt=z.append("g");rt.attr("class","architecture-services");const P=z.append("g");P.attr("class","architecture-groups"),await xt(X,rt,V),Dt(X,rt,U);const tt=await Yt(V,U,b,Q,X,F);await vt(ut,tt),await ct(P,tt),At(X,tt),(0,t.j7)(void 0,z,J("padding"),J("useMaxWidth"))},"draw"),k={draw:Wt},q={parser:it,db:Z,renderer:k,styles:Mt}},91999:function(jt,lt,pt){"use strict";pt.d(lt,{A:function(){return y}});var x=pt(27246);function y(o,s){o.accDescr&&s.setAccDescription?.(o.accDescr),o.accTitle&&s.setAccTitle?.(o.accTitle),o.title&&s.setDiagramTitle?.(o.title)}(0,x.eW)(y,"populateCommonDb")},36881:function(jt,lt,pt){"use strict";var o;pt.d(lt,{A:function(){return y}});var x=pt(27246),y=(o=class{constructor(i){this.init=i,this.records=this.init()}reset(){this.records=this.init()}},(0,x.eW)(o,"ImperativeState"),o)}}]);})();
